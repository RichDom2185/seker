function _mergeNamespaces(i,s){for(var o=0;o<s.length;o++){const a=s[o];if(typeof a!="string"&&!Array.isArray(a)){for(const nt in a)if(nt!=="default"&&!(nt in i)){const tt=Object.getOwnPropertyDescriptor(a,nt);tt&&Object.defineProperty(i,nt,tt.get?tt:{enumerable:!0,get:()=>a[nt]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))a(nt);new MutationObserver(nt=>{for(const tt of nt)if(tt.type==="childList")for(const ot of tt.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&a(ot)}).observe(document,{childList:!0,subtree:!0});function o(nt){const tt={};return nt.integrity&&(tt.integrity=nt.integrity),nt.referrerPolicy&&(tt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?tt.credentials="include":nt.crossOrigin==="anonymous"?tt.credentials="omit":tt.credentials="same-origin",tt}function a(nt){if(nt.ep)return;nt.ep=!0;const tt=o(nt);fetch(nt.href,tt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var o=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var nt=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(o,a,nt.get?nt:{enumerable:!0,get:function(){return i[a]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,nt={},tt=null,ot=null;if(s!=null)for(a in s.ref!==void 0&&(ot=s.ref),s.key!==void 0&&(tt=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(nt[a]=s[a]);var at=arguments.length-2;if(at===1)nt.children=o;else if(1<at){for(var rt=Array(at),it=0;it<at;it++)rt[it]=arguments[it+2];nt.children=rt}if(i&&i.defaultProps)for(a in at=i.defaultProps,at)nt[a]===void 0&&(nt[a]=at[a]);return{$$typeof:l$2,type:i,key:tt,ref:ot,props:nt,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$2,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$2(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$2(""+i.key):s.toString(36)}function R$1(i,s,o,a,nt){var tt=typeof i;(tt==="undefined"||tt==="boolean")&&(i=null);var ot=!1;if(i===null)ot=!0;else switch(tt){case"string":case"number":ot=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:ot=!0}}if(ot)return ot=i,nt=nt(ot),i=a===""?"."+Q$1(ot,0):a,I$1(nt)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(nt,s,o,"",function(it){return it})):nt!=null&&(O$1(nt)&&(nt=N$1(nt,o+(!nt.key||ot&&ot.key===nt.key?"":(""+nt.key).replace(P$1,"$&/")+"/")+i)),s.push(nt)),1;if(ot=0,a=a===""?".":a+":",I$1(i))for(var at=0;at<i.length;at++){tt=i[at];var rt=a+Q$1(tt,at);ot+=R$1(tt,s,o,rt,nt)}else if(rt=A$2(i),typeof rt=="function")for(i=rt.call(i),at=0;!(tt=i.next()).done;)tt=tt.value,rt=a+Q$1(tt,at++),ot+=R$1(tt,s,o,rt,nt);else if(tt==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$1(i,s,o){if(i==null)return i;var a=[],nt=0;return R$1(i,a,"","",function(tt){return s.call(o,tt,nt++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),nt=i.key,tt=i.ref,ot=i._owner;if(s!=null){if(s.ref!==void 0&&(tt=s.ref,ot=K$1.current),s.key!==void 0&&(nt=""+s.key),i.type&&i.type.defaultProps)var at=i.type.defaultProps;for(rt in s)J.call(s,rt)&&!L$1.hasOwnProperty(rt)&&(a[rt]=s[rt]===void 0&&at!==void 0?at[rt]:s[rt])}var rt=arguments.length-2;if(rt===1)a.children=o;else if(1<rt){at=Array(rt);for(var it=0;it<rt;it++)at[it]=arguments[it+2];a.children=at}return{$$typeof:l$2,type:i.type,key:nt,ref:tt,props:a,_owner:ot}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x$1,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$1.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$1.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$1.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$3=getDefaultExportFromCjs(reactExports),React$4=_mergeNamespaces({__proto__:null,default:React$3},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,s,o){var a,nt={},tt=null,ot=null;o!==void 0&&(tt=""+o),s.key!==void 0&&(tt=""+s.key),s.ref!==void 0&&(ot=s.ref);for(a in s)m$2.call(s,a)&&!p$2.hasOwnProperty(a)&&(nt[a]=s[a]);if(i&&i.defaultProps)for(a in s=i.defaultProps,s)nt[a]===void 0&&(nt[a]=s[a]);return{$$typeof:k$1,type:i,key:tt,ref:ot,props:nt,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function sheetForTag(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function createStyleElement(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function i(o){var a=this;this._insertTag=function(nt){var tt;a.tags.length===0?a.insertionPoint?tt=a.insertionPoint.nextSibling:a.prepend?tt=a.container.firstChild:tt=a.before:tt=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(nt,tt),a.tags.push(nt)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var nt=this.tags[this.tags.length-1];if(this.isSpeedy){var tt=sheetForTag(nt);try{tt.insertRule(a,tt.cssRules.length)}catch{}}else nt.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){return a.parentNode&&a.parentNode.removeChild(a)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$1(i,s){return charat(i,0)^45?(((s<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,s){return(i=s.exec(i))?i[0]:i}function replace(i,s,o){return i.replace(s,o)}function indexof(i,s){return i.indexOf(s)}function charat(i,s){return i.charCodeAt(s)|0}function substr(i,s,o){return i.slice(s,o)}function strlen(i){return i.length}function sizeof(i){return i.length}function append$1(i,s){return s.push(i),i}function combine(i,s){return i.map(s).join("")}var line=1,column=1,length$1=0,position$1=0,character=0,characters="";function node(i,s,o,a,nt,tt,ot){return{value:i,root:s,parent:o,type:a,props:nt,children:tt,line,column,length:ot,return:""}}function copy(i,s){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},s)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$1?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(i,s){return substr(characters,i,s)}function token$1(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length$1=strlen(characters=i),position$1=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position$1-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token$1(i)>2||token$1(character)>3?"":" "}function escaping(i,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position$1;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position$1}function commenter(i,s){for(;next()&&i+character!==57;)if(i+character===84&&peek()===47)break;return"/*"+slice(s,position$1-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token$1(peek());)next();return slice(i,position$1)}function compile(i){return dealloc(parse$2("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$2(i,s,o,a,nt,tt,ot,at,rt){for(var it=0,j=0,_=ot,$=0,et=0,st=0,lt=1,ct=1,ht=1,ut=0,mt="",gt=nt,vt=tt,dt=a,St=mt;ct;)switch(st=ut,ut=next()){case 40:if(st!=108&&charat(St,_-1)==58){indexof(St+=replace(delimit(ut),"&","&\f"),"&\f")!=-1&&(ht=-1);break}case 34:case 39:case 91:St+=delimit(ut);break;case 9:case 10:case 13:case 32:St+=whitespace(st);break;case 92:St+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append$1(comment(commenter(next(),caret()),s,o),rt);break;default:St+="/"}break;case 123*lt:at[it++]=strlen(St)*ht;case 125*lt:case 59:case 0:switch(ut){case 0:case 125:ct=0;case 59+j:ht==-1&&(St=replace(St,/\f/g,"")),et>0&&strlen(St)-_&&append$1(et>32?declaration(St+";",a,o,_-1):declaration(replace(St," ","")+";",a,o,_-2),rt);break;case 59:St+=";";default:if(append$1(dt=ruleset(St,s,o,it,j,nt,at,mt,gt=[],vt=[],_),tt),ut===123)if(j===0)parse$2(St,s,dt,dt,gt,tt,_,at,vt);else switch($===99&&charat(St,3)===110?100:$){case 100:case 108:case 109:case 115:parse$2(i,dt,dt,a&&append$1(ruleset(i,dt,dt,0,0,nt,at,mt,nt,gt=[],_),vt),nt,vt,_,at,a?gt:vt);break;default:parse$2(St,dt,dt,dt,[""],vt,0,at,vt)}}it=j=et=0,lt=ht=1,mt=St="",_=ot;break;case 58:_=1+strlen(St),et=st;default:if(lt<1){if(ut==123)--lt;else if(ut==125&&lt++==0&&prev()==125)continue}switch(St+=from(ut),ut*lt){case 38:ht=j>0?1:(St+="\f",-1);break;case 44:at[it++]=(strlen(St)-1)*ht,ht=1;break;case 64:peek()===45&&(St+=delimit(next())),$=peek(),j=_=strlen(mt=St+=identifier(caret())),ut++;break;case 45:st===45&&strlen(St)==2&&(lt=0)}}return tt}function ruleset(i,s,o,a,nt,tt,ot,at,rt,it,j){for(var _=nt-1,$=nt===0?tt:[""],et=sizeof($),st=0,lt=0,ct=0;st<a;++st)for(var ht=0,ut=substr(i,_+1,_=abs(lt=ot[st])),mt=i;ht<et;++ht)(mt=trim(lt>0?$[ht]+" "+ut:replace(ut,/&\f/g,$[ht])))&&(rt[ct++]=mt);return node(i,s,o,nt===0?RULESET:at,rt,it,j)}function comment(i,s,o){return node(i,s,o,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,s,o,a){return node(i,s,o,DECLARATION,substr(i,0,a),substr(i,a+1,-1),a)}function serialize(i,s){for(var o="",a=sizeof(i),nt=0;nt<a;nt++)o+=s(i[nt],nt,i,s)||"";return o}function stringify$4(i,s,o,a){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,a)+"}";case RULESET:i.value=i.props.join(",")}return strlen(o=serialize(i.children,a))?i.return=i.value+"{"+o+"}":""}function middleware(i){var s=sizeof(i);return function(o,a,nt,tt){for(var ot="",at=0;at<s;at++)ot+=i[at](o,a,nt,tt)||"";return ot}}function rulesheet(i){return function(s){s.root||(s=s.return)&&i(s)}}var weakMemoize=function(s){var o=new WeakMap;return function(a){if(o.has(a))return o.get(a);var nt=s(a);return o.set(a,nt),nt}};function memoize$3(i){var s=Object.create(null);return function(o){return s[o]===void 0&&(s[o]=i(o)),s[o]}}var identifierWithPointTracking=function(s,o,a){for(var nt=0,tt=0;nt=tt,tt=peek(),nt===38&&tt===12&&(o[a]=1),!token$1(tt);)next();return slice(s,position$1)},toRules=function(s,o){var a=-1,nt=44;do switch(token$1(nt)){case 0:nt===38&&peek()===12&&(o[a]=1),s[a]+=identifierWithPointTracking(position$1-1,o,a);break;case 2:s[a]+=delimit(nt);break;case 4:if(nt===44){s[++a]=peek()===58?"&\f":"",o[a]=s[a].length;break}default:s[a]+=from(nt)}while(nt=next());return s},getRules=function(s,o){return dealloc(toRules(alloc(s),o))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var o=s.value,a=s.parent,nt=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&o.charCodeAt(0)!==58&&!fixedElements.get(a))&&!nt){fixedElements.set(s,!0);for(var tt=[],ot=getRules(o,tt),at=a.props,rt=0,it=0;rt<ot.length;rt++)for(var j=0;j<at.length;j++,it++)s.props[it]=tt[rt]?ot[rt].replace(/&\f/g,at[j]):at[j]+" "+ot[rt]}}},removeLabel=function(s){if(s.type==="decl"){var o=s.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(i,s){switch(hash$1(i,s)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-s>6)switch(charat(i,s+1)){case 109:if(charat(i,s+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(charat(i,s+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,s+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(s,o,a,nt){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],nt);case RULESET:if(s.length)return combine(s.props,function(tt){switch(match(tt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(tt,/:(read-\w+)/,":"+MOZ+"$1")]})],nt);case"::placeholder":return serialize([copy(s,{props:[replace(tt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(tt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(tt,/:(plac\w+)/,MS+"input-$1")]})],nt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var o=s.key;if(o==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(lt){var ct=lt.getAttribute("data-emotion");ct.indexOf(" ")!==-1&&(document.head.appendChild(lt),lt.setAttribute("data-s",""))})}var nt=s.stylisPlugins||defaultStylisPlugins,tt={},ot,at=[];ot=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(lt){for(var ct=lt.getAttribute("data-emotion").split(" "),ht=1;ht<ct.length;ht++)tt[ct[ht]]=!0;at.push(lt)});var rt,it=[compat,removeLabel];{var j,_=[stringify$4,rulesheet(function(lt){j.insert(lt)})],$=middleware(it.concat(nt,_)),et=function(ct){return serialize(compile(ct),$)};rt=function(ct,ht,ut,mt){j=ut,et(ct?ct+"{"+ht.styles+"}":ht.styles),mt&&(st.inserted[ht.name]=!0)}}var st={key:o,sheet:new StyleSheet({key:o,container:ot,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:tt,registered:{},insert:rt};return st.sheet.hydrate(at),st};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends$1.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m$1=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t$1=b?Symbol.for("react.lazy"):60116,v$1=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z$1(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case c:switch(i=i.type,i){case l:case m$1:case e:case g:case f:case p$1:return i;default:switch(i=i&&i.$$typeof,i){case k:case n:case t$1:case r$1:case h:return i;default:return s}}case d:return s}}}function A$1(i){return z$1(i)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(i){return A$1(i)||z$1(i)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(i){return z$1(i)===k};reactIs_production_min.isContextProvider=function(i){return z$1(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z$1(i)===n};reactIs_production_min.isFragment=function(i){return z$1(i)===e};reactIs_production_min.isLazy=function(i){return z$1(i)===t$1};reactIs_production_min.isMemo=function(i){return z$1(i)===r$1};reactIs_production_min.isPortal=function(i){return z$1(i)===d};reactIs_production_min.isProfiler=function(i){return z$1(i)===g};reactIs_production_min.isStrictMode=function(i){return z$1(i)===f};reactIs_production_min.isSuspense=function(i){return z$1(i)===p$1};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m$1||i===g||i===f||i===p$1||i===q||typeof i=="object"&&i!==null&&(i.$$typeof===t$1||i.$$typeof===r$1||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$2=!0;function getRegisteredStyles(i,s,o){var a="";return o.split(" ").forEach(function(nt){i[nt]!==void 0?s.push(i[nt]+";"):a+=nt+" "}),a}var registerStyles=function(s,o,a){var nt=s.key+"-"+o.name;(a===!1||isBrowser$2===!1)&&s.registered[nt]===void 0&&(s.registered[nt]=o.styles)},insertStyles=function(s,o,a){registerStyles(s,o,a);var nt=s.key+"-"+o.name;if(s.inserted[o.name]===void 0){var tt=o;do s.insert(o===tt?"."+nt:"",tt,s.sheet,!0),tt=tt.next;while(tt!==void 0)}};function murmur2(i){for(var s=0,o,a=0,nt=i.length;nt>=4;++a,nt-=4)o=i.charCodeAt(a)&255|(i.charCodeAt(++a)&255)<<8|(i.charCodeAt(++a)&255)<<16|(i.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,s=(o&65535)*1540483477+((o>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(nt){case 3:s^=(i.charCodeAt(a+2)&255)<<16;case 2:s^=(i.charCodeAt(a+1)&255)<<8;case 1:s^=i.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$3(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,o){switch(s){case"animation":case"animationName":if(typeof o=="string")return o.replace(animationRegex,function(a,nt,tt){return cursor={name:nt,styles:tt,next:cursor},nt})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof o=="number"&&o!==0?o+"px":o},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,s,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return cursor={name:o.name,styles:o.styles,next:cursor},o.name;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)cursor={name:a.name,styles:a.styles,next:cursor},a=a.next;var nt=o.styles+";";return nt}return createStringFromObject(i,s,o)}case"function":{if(i!==void 0){var tt=cursor,ot=o(i);return cursor=tt,handleInterpolation(i,s,ot)}break}}if(s==null)return o;var at=s[o];return at!==void 0?at:o}function createStringFromObject(i,s,o){var a="";if(Array.isArray(o))for(var nt=0;nt<o.length;nt++)a+=handleInterpolation(i,s,o[nt])+";";else for(var tt in o){var ot=o[tt];if(typeof ot!="object")s!=null&&s[ot]!==void 0?a+=tt+"{"+s[ot]+"}":isProcessableValue(ot)&&(a+=processStyleName(tt)+":"+processStyleValue(tt,ot)+";");else if(Array.isArray(ot)&&typeof ot[0]=="string"&&(s==null||s[ot[0]]===void 0))for(var at=0;at<ot.length;at++)isProcessableValue(ot[at])&&(a+=processStyleName(tt)+":"+processStyleValue(tt,ot[at])+";");else{var rt=handleInterpolation(i,s,ot);switch(tt){case"animation":case"animationName":{a+=processStyleName(tt)+":"+rt+";";break}default:a+=tt+"{"+rt+"}"}}}return a}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(s,o,a){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var nt=!0,tt="";cursor=void 0;var ot=s[0];ot==null||ot.raw===void 0?(nt=!1,tt+=handleInterpolation(a,o,ot)):tt+=ot[0];for(var at=1;at<s.length;at++)tt+=handleInterpolation(a,o,s[at]),nt&&(tt+=ot[at]);labelPattern.lastIndex=0;for(var rt="",it;(it=labelPattern.exec(tt))!==null;)rt+="-"+it[1];var j=murmur2(tt)+rt;return{name:j,styles:tt,next:cursor}},syncFallback=function(s){return s()},useInsertionEffect=React$4.useInsertionEffect?React$4.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(s){return reactExports.forwardRef(function(o,a){var nt=reactExports.useContext(EmotionCacheContext);return s(o,nt,a)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(s,o){if(typeof o=="function"){var a=o(s);return a}return _extends$1({},s,o)},createCacheWithTheme=weakMemoize(function(i){return weakMemoize(function(s){return getTheme$1(i,s)})}),ThemeProvider$1=function(s){var o=reactExports.useContext(ThemeContext);return s.theme!==o&&(o=createCacheWithTheme(o)(s.theme)),reactExports.createElement(ThemeContext.Provider,{value:o},s.children)},Global=withEmotionCache(function(i,s){var o=i.styles,a=serializeStyles([o],void 0,reactExports.useContext(ThemeContext)),nt=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var tt=s.key+"-global",ot=new s.sheet.constructor({key:tt,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),at=!1,rt=document.querySelector('style[data-emotion="'+tt+" "+a.name+'"]');return s.sheet.tags.length&&(ot.before=s.sheet.tags[0]),rt!==null&&(at=!0,rt.setAttribute("data-emotion",tt),ot.hydrate([rt])),nt.current=[ot,at],function(){ot.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var tt=nt.current,ot=tt[0],at=tt[1];if(at){tt[1]=!1;return}if(a.next!==void 0&&insertStyles(s,a.next,!0),ot.tags.length){var rt=ot.tags[ot.tags.length-1].nextElementSibling;ot.before=rt,ot.flush()}s.insert("",a,ot,!1)},[s,a.name]),null});function css$2(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return serializeStyles(s)}var keyframes$1=function(){var s=css$2.apply(void 0,arguments),o="animation-"+s.name;return{name:o,styles:"@keyframes "+o+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},css$1=String.raw,vhPolyfill=css$1`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:i=""})=>jsxRuntimeExports.jsx(Global,{styles:css$1`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${i} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${i} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${i} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${i} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${i} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${i} :where(b, strong) {
        font-weight: bold;
      }

      ${i} small {
        font-size: 80%;
      }

      ${i} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${i} sub {
        bottom: -0.25em;
      }

      ${i} sup {
        top: -0.5em;
      }

      ${i} img {
        border-style: none;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${i} :where(button, input) {
        overflow: visible;
      }

      ${i} :where(button, select) {
        text-transform: none;
      }

      ${i} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${i} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${i} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${i} progress {
        vertical-align: baseline;
      }

      ${i} textarea {
        overflow: auto;
      }

      ${i} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${i} input[type="number"]::-webkit-inner-spin-button,
      ${i} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${i} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${i} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${i} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${i} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${i} details {
        display: block;
      }

      ${i} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${i} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${i} button {
        background: transparent;
        padding: 0;
      }

      ${i} fieldset {
        margin: 0;
        padding: 0;
      }

      ${i} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${i} textarea {
        resize: vertical;
      }

      ${i} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${i} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${i} table {
        border-collapse: collapse;
      }

      ${i} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${i} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${i} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${i} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function getErrorMessage(i,s){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${s}`}function createContext$2(i={}){const{name:s,strict:o=!0,hookName:a="useContext",providerName:nt="Provider",errorMessage:tt,defaultValue:ot}=i,at=reactExports.createContext(ot);at.displayName=s;function rt(){var it;const j=reactExports.useContext(at);if(!j&&o){const _=new Error(tt??getErrorMessage(a,nt));throw _.name="ContextError",(it=Error.captureStackTrace)==null||it.call(Error,_,rt),_}return j}return[at.Provider,rt,at]}var[PortalManagerContextProvider,usePortalManager]=createContext$2({strict:!1,name:"PortalManagerContext"});function PortalManager(i){const{children:s,zIndex:o}=i;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:o},children:s})}PortalManager.displayName="PortalManager";var useSafeLayoutEffect$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Mt,Dt){var Bt=Mt.length;Mt.push(Dt);e:for(;0<Bt;){var qt=Bt-1>>>1,Wt=Mt[qt];if(0<nt(Wt,Dt))Mt[qt]=Dt,Mt[Bt]=Wt,Bt=qt;else break e}}function o(Mt){return Mt.length===0?null:Mt[0]}function a(Mt){if(Mt.length===0)return null;var Dt=Mt[0],Bt=Mt.pop();if(Bt!==Dt){Mt[0]=Bt;e:for(var qt=0,Wt=Mt.length,Vt=Wt>>>1;qt<Vt;){var Ht=2*(qt+1)-1,Jt=Mt[Ht],Qt=Ht+1,cr=Mt[Qt];if(0>nt(Jt,Bt))Qt<Wt&&0>nt(cr,Jt)?(Mt[qt]=cr,Mt[Qt]=Bt,qt=Qt):(Mt[qt]=Jt,Mt[Ht]=Bt,qt=Ht);else if(Qt<Wt&&0>nt(cr,Bt))Mt[qt]=cr,Mt[Qt]=Bt,qt=Qt;else break e}}return Dt}function nt(Mt,Dt){var Bt=Mt.sortIndex-Dt.sortIndex;return Bt!==0?Bt:Mt.id-Dt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var tt=performance;i.unstable_now=function(){return tt.now()}}else{var ot=Date,at=ot.now();i.unstable_now=function(){return ot.now()-at}}var rt=[],it=[],j=1,_=null,$=3,et=!1,st=!1,lt=!1,ct=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(Mt){for(var Dt=o(it);Dt!==null;){if(Dt.callback===null)a(it);else if(Dt.startTime<=Mt)a(it),Dt.sortIndex=Dt.expirationTime,s(rt,Dt);else break;Dt=o(it)}}function gt(Mt){if(lt=!1,mt(Mt),!st)if(o(rt)!==null)st=!0,It(vt);else{var Dt=o(it);Dt!==null&&Ot(gt,Dt.startTime-Mt)}}function vt(Mt,Dt){st=!1,lt&&(lt=!1,ht(yt),yt=-1),et=!0;var Bt=$;try{for(mt(Dt),_=o(rt);_!==null&&(!(_.expirationTime>Dt)||Mt&&!Et());){var qt=_.callback;if(typeof qt=="function"){_.callback=null,$=_.priorityLevel;var Wt=qt(_.expirationTime<=Dt);Dt=i.unstable_now(),typeof Wt=="function"?_.callback=Wt:_===o(rt)&&a(rt),mt(Dt)}else a(rt);_=o(rt)}if(_!==null)var Vt=!0;else{var Ht=o(it);Ht!==null&&Ot(gt,Ht.startTime-Dt),Vt=!1}return Vt}finally{_=null,$=Bt,et=!1}}var dt=!1,St=null,yt=-1,pt=5,wt=-1;function Et(){return!(i.unstable_now()-wt<pt)}function Ct(){if(St!==null){var Mt=i.unstable_now();wt=Mt;var Dt=!0;try{Dt=St(!0,Mt)}finally{Dt?kt():(dt=!1,St=null)}}else dt=!1}var kt;if(typeof ut=="function")kt=function(){ut(Ct)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,At=Tt.port2;Tt.port1.onmessage=Ct,kt=function(){At.postMessage(null)}}else kt=function(){ct(Ct,0)};function It(Mt){St=Mt,dt||(dt=!0,kt())}function Ot(Mt,Dt){yt=ct(function(){Mt(i.unstable_now())},Dt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Mt){Mt.callback=null},i.unstable_continueExecution=function(){st||et||(st=!0,It(vt))},i.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<Mt?Math.floor(1e3/Mt):5},i.unstable_getCurrentPriorityLevel=function(){return $},i.unstable_getFirstCallbackNode=function(){return o(rt)},i.unstable_next=function(Mt){switch($){case 1:case 2:case 3:var Dt=3;break;default:Dt=$}var Bt=$;$=Dt;try{return Mt()}finally{$=Bt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Mt,Dt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Bt=$;$=Mt;try{return Dt()}finally{$=Bt}},i.unstable_scheduleCallback=function(Mt,Dt,Bt){var qt=i.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?qt+Bt:qt):Bt=qt,Mt){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=Bt+Wt,Mt={id:j++,callback:Dt,priorityLevel:Mt,startTime:Bt,expirationTime:Wt,sortIndex:-1},Bt>qt?(Mt.sortIndex=Bt,s(it,Mt),o(rt)===null&&Mt===o(it)&&(lt?(ht(yt),yt=-1):lt=!0,Ot(gt,Bt-qt))):(Mt.sortIndex=Wt,s(rt,Mt),st||et||(st=!0,It(vt))),Mt},i.unstable_shouldYield=Et,i.unstable_wrapCallback=function(Mt){var Dt=$;return function(){var Bt=$;$=Dt;try{return Mt.apply(this,arguments)}finally{$=Bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(i,s,o,a,nt,tt,ot){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=nt,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=tt,this.removeEmptyString=ot}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var nt=z.hasOwnProperty(s)?z[s]:null;(nt!==null?nt.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,nt,a)&&(o=null),a||nt===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):nt.mustUseProperty?i[nt.propertyName]=o===null?nt.type===3?!1:"":o:(s=nt.attributeName,a=nt.attributeNamespace,o===null?i.removeAttribute(s):(nt=nt.type,o=nt===3||nt===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(it){var a=it}Reflect.construct(i,[],s)}else{try{s.call()}catch(it){a=it}i.call(s.prototype)}else{try{throw Error()}catch(it){a=it}i()}}catch(it){if(it&&a&&typeof it.stack=="string"){for(var nt=it.stack.split(`
`),tt=a.stack.split(`
`),ot=nt.length-1,at=tt.length-1;1<=ot&&0<=at&&nt[ot]!==tt[at];)at--;for(;1<=ot&&0<=at;ot--,at--)if(nt[ot]!==tt[at]){if(ot!==1||at!==1)do if(ot--,at--,0>at||nt[ot]!==tt[at]){var rt=`
`+nt[ot].replace(" at new "," at ");return i.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",i.displayName)),rt}while(1<=ot&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var nt=o.get,tt=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return nt.call(this)},set:function(ot){a=""+ot,tt.call(this,ot)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(ot){a=""+ot},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var nt=0;nt<o.length;nt++)s["$"+o[nt]]=!0;for(o=0;o<i.length;o++)nt=s.hasOwnProperty("$"+i[o].value),i[o].selected!==nt&&(i[o].selected=nt),nt&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,nt=0;nt<i.length;nt++){if(i[nt].value===o){i[nt].selected=!0,a&&(i[nt].defaultSelected=!0);return}s!==null||i[nt].disabled||(s=i[nt])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p(92));if(eb(o)){if(1<o.length)throw Error(p(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,nt){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,nt)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,nt=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,nt):i[o]=nt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,nt,tt,ot,at,rt){var it=Array.prototype.slice.call(arguments,3);try{s.apply(o,it)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,nt,tt,ot,at,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,nt,tt,ot,at,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=it)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p(188));return s!==i?null:i}for(var o=i,a=s;;){var nt=o.return;if(nt===null)break;var tt=nt.alternate;if(tt===null){if(a=nt.return,a!==null){o=a;continue}break}if(nt.child===tt.child){for(tt=nt.child;tt;){if(tt===o)return Xb(nt),i;if(tt===a)return Xb(nt),s;tt=tt.sibling}throw Error(p(188))}if(o.return!==a.return)o=nt,a=tt;else{for(var ot=!1,at=nt.child;at;){if(at===o){ot=!0,o=nt,a=tt;break}if(at===a){ot=!0,a=nt,o=tt;break}at=at.sibling}if(!ot){for(at=tt.child;at;){if(at===o){ot=!0,o=tt,a=nt;break}if(at===a){ot=!0,a=tt,o=nt;break}at=at.sibling}if(!ot)throw Error(p(189))}}if(o.alternate!==a)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,nt=i.suspendedLanes,tt=i.pingedLanes,ot=o&268435455;if(ot!==0){var at=ot&~nt;at!==0?a=tc(at):(tt&=ot,tt!==0&&(a=tc(tt)))}else ot=o&~nt,ot!==0?a=tc(ot):tt!==0&&(a=tc(tt));if(a===0)return 0;if(s!==0&&s!==a&&!(s&nt)&&(nt=a&-a,tt=s&-s,nt>=tt||nt===16&&(tt&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),nt=1<<o,a|=i[o],s&=~nt;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,nt=i.expirationTimes,tt=i.pendingLanes;0<tt;){var ot=31-oc(tt),at=1<<ot,rt=nt[ot];rt===-1?(!(at&o)||at&a)&&(nt[ot]=vc(at,s)):rt<=s&&(i.expiredLanes|=at),tt&=~at}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var nt=31-oc(o),tt=1<<nt;s[nt]=0,a[nt]=-1,i[nt]=-1,o&=~tt}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),nt=1<<a;nt&s|i[a]&s&&(i[a]|=s),o&=~nt}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,nt,tt){return i===null||i.nativeEvent!==tt?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:tt,targetContainers:[nt]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,nt!==null&&s.indexOf(nt)===-1&&s.push(nt),i)}function Uc(i,s,o,a,nt){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,nt),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,nt),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,nt),!0;case"pointerover":var tt=nt.pointerId;return Oc.set(tt,Tc(Oc.get(tt)||null,i,s,o,a,nt)),!0;case"gotpointercapture":return tt=nt.pointerId,Pc.set(tt,Tc(Pc.get(tt)||null,i,s,o,a,nt)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(nt){return ad(nt,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var nt=C,tt=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=nt,cd.transition=tt}}function gd(i,s,o,a){var nt=C,tt=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=nt,cd.transition=tt}}function fd(i,s,o,a){if(dd){var nt=Yc(i,s,o,a);if(nt===null)hd(i,s,a,id$2,o),Sc(i,a);else if(Uc(nt,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;nt!==null;){var tt=Cb(nt);if(tt!==null&&Ec(tt),tt=Yc(i,s,o,a),tt===null&&hd(i,s,a,id$2,o),tt===nt)break;nt=tt}nt!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id$2=null;function Yc(i,s,o,a){if(id$2=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id$2=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,nt="value"in kd?kd.value:kd.textContent,tt=nt.length;for(i=0;i<o&&s[i]===nt[i];i++);var ot=o-i;for(a=1;a<=ot&&s[o-a]===nt[tt-a];a++);return md=nt.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,nt,tt,ot){this._reactName=o,this._targetInst=nt,this.type=a,this.nativeEvent=tt,this.target=ot,this.currentTarget=null;for(var at in i)i.hasOwnProperty(at)&&(o=i[at],this[at]=o?o(tt):tt[at]);return this.isDefaultPrevented=(tt.defaultPrevented!=null?tt.defaultPrevented:tt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,o,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var nt=o[a];if(!ja.call(s,nt)||!He(i[nt],s[nt]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var nt=o.textContent.length,tt=Math.min(a.start,nt);a=a.end===void 0?tt:Math.min(a.end,nt),!i.extend&&tt>a&&(nt=a,a=tt,tt=nt),nt=Ke(o,tt);var ot=Ke(o,a);nt&&ot&&(i.rangeCount!==1||i.anchorNode!==nt.node||i.anchorOffset!==nt.offset||i.focusNode!==ot.node||i.focusOffset!==ot.offset)&&(s=s.createRange(),s.setStart(nt.node,nt.offset),i.removeAllRanges(),tt>a?(i.addRange(s),i.extend(ot.node,ot.offset)):(s.setEnd(ot.node,ot.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],nt=a.event;a=a.listeners;e:{var tt=void 0;if(s)for(var ot=a.length-1;0<=ot;ot--){var at=a[ot],rt=at.instance,it=at.currentTarget;if(at=at.listener,rt!==tt&&nt.isPropagationStopped())break e;nf(nt,at,it),tt=rt}else for(ot=0;ot<a.length;ot++){if(at=a[ot],rt=at.instance,it=at.currentTarget,at=at.listener,rt!==tt&&nt.isPropagationStopped())break e;nf(nt,at,it),tt=rt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}o=nt.bind(null,s,o,i),nt=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(nt=!0),a?nt!==void 0?i.addEventListener(s,o,{capture:!0,passive:nt}):i.addEventListener(s,o,!0):nt!==void 0?i.addEventListener(s,o,{passive:nt}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,nt){var tt=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var ot=a.tag;if(ot===3||ot===4){var at=a.stateNode.containerInfo;if(at===nt||at.nodeType===8&&at.parentNode===nt)break;if(ot===4)for(ot=a.return;ot!==null;){var rt=ot.tag;if((rt===3||rt===4)&&(rt=ot.stateNode.containerInfo,rt===nt||rt.nodeType===8&&rt.parentNode===nt))return;ot=ot.return}for(;at!==null;){if(ot=Wc(at),ot===null)return;if(rt=ot.tag,rt===5||rt===6){a=tt=ot;continue e}at=at.parentNode}}a=a.return}Jb(function(){var it=tt,j=xb(o),_=[];e:{var $=df.get(i);if($!==void 0){var et=td,st=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":et=Rd;break;case"focusin":st="focus",et=Fd;break;case"focusout":st="blur",et=Fd;break;case"beforeblur":case"afterblur":et=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Vd;break;case $e:case af:case bf:et=Hd;break;case cf:et=Xd;break;case"scroll":et=vd;break;case"wheel":et=Zd;break;case"copy":case"cut":case"paste":et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Td}var lt=(s&4)!==0,ct=!lt&&i==="scroll",ht=lt?$!==null?$+"Capture":null:$;lt=[];for(var ut=it,mt;ut!==null;){mt=ut;var gt=mt.stateNode;if(mt.tag===5&&gt!==null&&(mt=gt,ht!==null&&(gt=Kb(ut,ht),gt!=null&&lt.push(tf(ut,gt,mt)))),ct)break;ut=ut.return}0<lt.length&&($=new et($,st,null,o,j),_.push({event:$,listeners:lt}))}}if(!(s&7)){e:{if($=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",$&&o!==wb&&(st=o.relatedTarget||o.fromElement)&&(Wc(st)||st[uf]))break e;if((et||$)&&($=j.window===j?j:($=j.ownerDocument)?$.defaultView||$.parentWindow:window,et?(st=o.relatedTarget||o.toElement,et=it,st=st?Wc(st):null,st!==null&&(ct=Vb(st),st!==ct||st.tag!==5&&st.tag!==6)&&(st=null)):(et=null,st=it),et!==st)){if(lt=Bd,gt="onMouseLeave",ht="onMouseEnter",ut="mouse",(i==="pointerout"||i==="pointerover")&&(lt=Td,gt="onPointerLeave",ht="onPointerEnter",ut="pointer"),ct=et==null?$:ue(et),mt=st==null?$:ue(st),$=new lt(gt,ut+"leave",et,o,j),$.target=ct,$.relatedTarget=mt,gt=null,Wc(j)===it&&(lt=new lt(ht,ut+"enter",st,o,j),lt.target=mt,lt.relatedTarget=ct,gt=lt),ct=gt,et&&st)t:{for(lt=et,ht=st,ut=0,mt=lt;mt;mt=vf(mt))ut++;for(mt=0,gt=ht;gt;gt=vf(gt))mt++;for(;0<ut-mt;)lt=vf(lt),ut--;for(;0<mt-ut;)ht=vf(ht),mt--;for(;ut--;){if(lt===ht||ht!==null&&lt===ht.alternate)break t;lt=vf(lt),ht=vf(ht)}lt=null}else lt=null;et!==null&&wf(_,$,et,lt,!1),st!==null&&ct!==null&&wf(_,ct,st,lt,!0)}}e:{if($=it?ue(it):window,et=$.nodeName&&$.nodeName.toLowerCase(),et==="select"||et==="input"&&$.type==="file")var vt=ve;else if(me($))if(we)vt=Fe;else{vt=De;var dt=Ce}else(et=$.nodeName)&&et.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(vt=Ee);if(vt&&(vt=vt(i,it))){ne(_,vt,o,j);break e}dt&&dt(i,$,it),i==="focusout"&&(dt=$._wrapperState)&&dt.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(dt=it?ue(it):window,i){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_,o,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_,o,j)}var St;if(ae)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else ie?ge(i,o)&&(yt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(yt="onCompositionStart");yt&&(de&&o.locale!=="ko"&&(ie||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&ie&&(St=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(it,yt),0<dt.length&&(yt=new Ld(yt,i,null,o,j),_.push({event:yt,listeners:dt}),St?yt.data=St:(St=he(o),St!==null&&(yt.data=St)))),(St=ce?je(i,o):ke(i,o))&&(it=oe(it,"onBeforeInput"),0<it.length&&(j=new Ld("onBeforeInput","beforeinput",null,o,j),_.push({event:j,listeners:it}),j.data=St))}se(_,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe(i,s){for(var o=s+"Capture",a=[];i!==null;){var nt=i,tt=nt.stateNode;nt.tag===5&&tt!==null&&(nt=tt,tt=Kb(i,o),tt!=null&&a.unshift(tf(i,tt,nt)),tt=Kb(i,s),tt!=null&&a.push(tf(i,tt,nt))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,nt){for(var tt=s._reactName,ot=[];o!==null&&o!==a;){var at=o,rt=at.alternate,it=at.stateNode;if(rt!==null&&rt===a)break;at.tag===5&&it!==null&&(at=it,nt?(rt=Kb(o,tt),rt!=null&&ot.unshift(tf(o,rt,at))):nt||(rt=Kb(o,tt),rt!=null&&ot.push(tf(o,rt,at)))),o=o.return}ot.length!==0&&i.push({event:s,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var nt=o.nextSibling;if(i.removeChild(o),nt&&nt.nodeType===8)if(o=nt.data,o==="/$"){if(a===0){i.removeChild(nt),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=nt}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var nt={},tt;for(tt in o)nt[tt]=s[tt];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var nt in a)if(!(nt in s))throw Error(p(108,Ra(i)||"Unknown",nt));return A({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),nt}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var nt=32-oc(a)-1;a&=~(1<<nt),o+=1;var tt=32-oc(s)+nt;if(30<tt){var ot=nt-nt%5;tt=(a&(1<<ot)-1).toString(32),a>>=ot,nt-=ot,rg=1<<32-oc(s)+nt|o<<nt|a,sg=tt+i}else rg=1<<tt|o<<nt|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var s=Mg.current;E(Mg),i._currentValue=s}function Sg(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function Tg(i,s){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Ug=!0),i.firstContext=null)}function Vg(i){var s=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:s,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return s}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,s,o,a){var nt=s.interleaved;return nt===null?(o.next=o,Xg(s)):(o.next=nt.next,nt.next=o),s.interleaved=o,Zg(i,a)}function Zg(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function dh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var nt=a.pending;return nt===null?s.next=s:(s.next=nt.next,nt.next=s),a.pending=s,Zg(i,o)}return nt=a.interleaved,nt===null?(s.next=s,Xg(a)):(s.next=nt.next,nt.next=s),a.interleaved=s,Zg(i,o)}function eh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function fh(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var nt=null,tt=null;if(o=o.firstBaseUpdate,o!==null){do{var ot={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};tt===null?nt=tt=ot:tt=tt.next=ot,o=o.next}while(o!==null);tt===null?nt=tt=s:tt=tt.next=s}else nt=tt=s;o={baseState:a.baseState,firstBaseUpdate:nt,lastBaseUpdate:tt,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function gh(i,s,o,a){var nt=i.updateQueue;$g=!1;var tt=nt.firstBaseUpdate,ot=nt.lastBaseUpdate,at=nt.shared.pending;if(at!==null){nt.shared.pending=null;var rt=at,it=rt.next;rt.next=null,ot===null?tt=it:ot.next=it,ot=rt;var j=i.alternate;j!==null&&(j=j.updateQueue,at=j.lastBaseUpdate,at!==ot&&(at===null?j.firstBaseUpdate=it:at.next=it,j.lastBaseUpdate=rt))}if(tt!==null){var _=nt.baseState;ot=0,j=it=rt=null,at=tt;do{var $=at.lane,et=at.eventTime;if((a&$)===$){j!==null&&(j=j.next={eventTime:et,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var st=i,lt=at;switch($=s,et=o,lt.tag){case 1:if(st=lt.payload,typeof st=="function"){_=st.call(et,_,$);break e}_=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=lt.payload,$=typeof st=="function"?st.call(et,_,$):st,$==null)break e;_=A({},_,$);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(i.flags|=64,$=nt.effects,$===null?nt.effects=[at]:$.push(at))}else et={eventTime:et,lane:$,tag:at.tag,payload:at.payload,callback:at.callback,next:null},j===null?(it=j=et,rt=_):j=j.next=et,ot|=$;if(at=at.next,at===null){if(at=nt.shared.pending,at===null)break;$=at,at=$.next,$.next=null,nt.lastBaseUpdate=$,nt.shared.pending=null}}while(!0);if(j===null&&(rt=_),nt.baseState=rt,nt.firstBaseUpdate=it,nt.lastBaseUpdate=j,s=nt.shared.interleaved,s!==null){nt=s;do ot|=nt.lane,nt=nt.next;while(nt!==s)}else tt===null&&(nt.shared.lanes=0);hh|=ot,i.lanes=ot,i.memoizedState=_}}function ih(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],nt=a.callback;if(nt!==null){if(a.callback=null,a=o,typeof nt!="function")throw Error(p(191,nt));nt.call(a)}}}var jh=new aa.Component().refs;function kh(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=L(),nt=lh(i),tt=ch(a,nt);tt.payload=s,o!=null&&(tt.callback=o),s=dh(i,tt,nt),s!==null&&(mh(s,i,nt,a),eh(s,i,nt))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=L(),nt=lh(i),tt=ch(a,nt);tt.tag=1,tt.payload=s,o!=null&&(tt.callback=o),s=dh(i,tt,nt),s!==null&&(mh(s,i,nt,a),eh(s,i,nt))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=L(),a=lh(i),nt=ch(o,a);nt.tag=2,s!=null&&(nt.callback=s),s=dh(i,nt,a),s!==null&&(mh(s,i,a,o),eh(s,i,a))}};function oh(i,s,o,a,nt,tt,ot){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,tt,ot):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(nt,tt):!0}function ph(i,s,o){var a=!1,nt=Vf,tt=s.contextType;return typeof tt=="object"&&tt!==null?tt=Vg(tt):(nt=Zf(s)?Xf:H.current,a=s.contextTypes,tt=(a=a!=null)?Yf(i,nt):Vf),s=new s(o,tt),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=nt,i.__reactInternalMemoizedMaskedChildContext=tt),s}function qh(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&nh.enqueueReplaceState(s,s.state,null)}function rh(i,s,o,a){var nt=i.stateNode;nt.props=o,nt.state=i.memoizedState,nt.refs=jh,ah(i);var tt=s.contextType;typeof tt=="object"&&tt!==null?nt.context=Vg(tt):(tt=Zf(s)?Xf:H.current,nt.context=Yf(i,tt)),nt.state=i.memoizedState,tt=s.getDerivedStateFromProps,typeof tt=="function"&&(kh(i,s,tt,o),nt.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(s=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),s!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(i,o,nt,a),nt.state=i.memoizedState),typeof nt.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var a=o.stateNode}if(!a)throw Error(p(147,i));var nt=a,tt=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===tt?s.ref:(s=function(ot){var at=nt.refs;at===jh&&(at=nt.refs={}),ot===null?delete at[tt]:at[tt]=ot},s._stringRef=tt,s)}if(typeof i!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,i))}return i}function th(i,s){throw i=Object.prototype.toString.call(s),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function uh(i){var s=i._init;return s(i._payload)}function vh$1(i){function s(ht,ut){if(i){var mt=ht.deletions;mt===null?(ht.deletions=[ut],ht.flags|=16):mt.push(ut)}}function o(ht,ut){if(!i)return null;for(;ut!==null;)s(ht,ut),ut=ut.sibling;return null}function a(ht,ut){for(ht=new Map;ut!==null;)ut.key!==null?ht.set(ut.key,ut):ht.set(ut.index,ut),ut=ut.sibling;return ht}function nt(ht,ut){return ht=wh(ht,ut),ht.index=0,ht.sibling=null,ht}function tt(ht,ut,mt){return ht.index=mt,i?(mt=ht.alternate,mt!==null?(mt=mt.index,mt<ut?(ht.flags|=2,ut):mt):(ht.flags|=2,ut)):(ht.flags|=1048576,ut)}function ot(ht){return i&&ht.alternate===null&&(ht.flags|=2),ht}function at(ht,ut,mt,gt){return ut===null||ut.tag!==6?(ut=xh(mt,ht.mode,gt),ut.return=ht,ut):(ut=nt(ut,mt),ut.return=ht,ut)}function rt(ht,ut,mt,gt){var vt=mt.type;return vt===ya?j(ht,ut,mt.props.children,gt,mt.key):ut!==null&&(ut.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===ut.type)?(gt=nt(ut,mt.props),gt.ref=sh(ht,ut,mt),gt.return=ht,gt):(gt=yh(mt.type,mt.key,mt.props,null,ht.mode,gt),gt.ref=sh(ht,ut,mt),gt.return=ht,gt)}function it(ht,ut,mt,gt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==mt.containerInfo||ut.stateNode.implementation!==mt.implementation?(ut=zh(mt,ht.mode,gt),ut.return=ht,ut):(ut=nt(ut,mt.children||[]),ut.return=ht,ut)}function j(ht,ut,mt,gt,vt){return ut===null||ut.tag!==7?(ut=Ah(mt,ht.mode,gt,vt),ut.return=ht,ut):(ut=nt(ut,mt),ut.return=ht,ut)}function _(ht,ut,mt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=xh(""+ut,ht.mode,mt),ut.return=ht,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return mt=yh(ut.type,ut.key,ut.props,null,ht.mode,mt),mt.ref=sh(ht,null,ut),mt.return=ht,mt;case wa:return ut=zh(ut,ht.mode,mt),ut.return=ht,ut;case Ha:var gt=ut._init;return _(ht,gt(ut._payload),mt)}if(eb(ut)||Ka(ut))return ut=Ah(ut,ht.mode,mt,null),ut.return=ht,ut;th(ht,ut)}return null}function $(ht,ut,mt,gt){var vt=ut!==null?ut.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return vt!==null?null:at(ht,ut,""+mt,gt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return mt.key===vt?rt(ht,ut,mt,gt):null;case wa:return mt.key===vt?it(ht,ut,mt,gt):null;case Ha:return vt=mt._init,$(ht,ut,vt(mt._payload),gt)}if(eb(mt)||Ka(mt))return vt!==null?null:j(ht,ut,mt,gt,null);th(ht,mt)}return null}function et(ht,ut,mt,gt,vt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return ht=ht.get(mt)||null,at(ut,ht,""+gt,vt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return ht=ht.get(gt.key===null?mt:gt.key)||null,rt(ut,ht,gt,vt);case wa:return ht=ht.get(gt.key===null?mt:gt.key)||null,it(ut,ht,gt,vt);case Ha:var dt=gt._init;return et(ht,ut,mt,dt(gt._payload),vt)}if(eb(gt)||Ka(gt))return ht=ht.get(mt)||null,j(ut,ht,gt,vt,null);th(ut,gt)}return null}function st(ht,ut,mt,gt){for(var vt=null,dt=null,St=ut,yt=ut=0,pt=null;St!==null&&yt<mt.length;yt++){St.index>yt?(pt=St,St=null):pt=St.sibling;var wt=$(ht,St,mt[yt],gt);if(wt===null){St===null&&(St=pt);break}i&&St&&wt.alternate===null&&s(ht,St),ut=tt(wt,ut,yt),dt===null?vt=wt:dt.sibling=wt,dt=wt,St=pt}if(yt===mt.length)return o(ht,St),I&&tg(ht,yt),vt;if(St===null){for(;yt<mt.length;yt++)St=_(ht,mt[yt],gt),St!==null&&(ut=tt(St,ut,yt),dt===null?vt=St:dt.sibling=St,dt=St);return I&&tg(ht,yt),vt}for(St=a(ht,St);yt<mt.length;yt++)pt=et(St,ht,yt,mt[yt],gt),pt!==null&&(i&&pt.alternate!==null&&St.delete(pt.key===null?yt:pt.key),ut=tt(pt,ut,yt),dt===null?vt=pt:dt.sibling=pt,dt=pt);return i&&St.forEach(function(Et){return s(ht,Et)}),I&&tg(ht,yt),vt}function lt(ht,ut,mt,gt){var vt=Ka(mt);if(typeof vt!="function")throw Error(p(150));if(mt=vt.call(mt),mt==null)throw Error(p(151));for(var dt=vt=null,St=ut,yt=ut=0,pt=null,wt=mt.next();St!==null&&!wt.done;yt++,wt=mt.next()){St.index>yt?(pt=St,St=null):pt=St.sibling;var Et=$(ht,St,wt.value,gt);if(Et===null){St===null&&(St=pt);break}i&&St&&Et.alternate===null&&s(ht,St),ut=tt(Et,ut,yt),dt===null?vt=Et:dt.sibling=Et,dt=Et,St=pt}if(wt.done)return o(ht,St),I&&tg(ht,yt),vt;if(St===null){for(;!wt.done;yt++,wt=mt.next())wt=_(ht,wt.value,gt),wt!==null&&(ut=tt(wt,ut,yt),dt===null?vt=wt:dt.sibling=wt,dt=wt);return I&&tg(ht,yt),vt}for(St=a(ht,St);!wt.done;yt++,wt=mt.next())wt=et(St,ht,yt,wt.value,gt),wt!==null&&(i&&wt.alternate!==null&&St.delete(wt.key===null?yt:wt.key),ut=tt(wt,ut,yt),dt===null?vt=wt:dt.sibling=wt,dt=wt);return i&&St.forEach(function(Ct){return s(ht,Ct)}),I&&tg(ht,yt),vt}function ct(ht,ut,mt,gt){if(typeof mt=="object"&&mt!==null&&mt.type===ya&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:e:{for(var vt=mt.key,dt=ut;dt!==null;){if(dt.key===vt){if(vt=mt.type,vt===ya){if(dt.tag===7){o(ht,dt.sibling),ut=nt(dt,mt.props.children),ut.return=ht,ht=ut;break e}}else if(dt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===dt.type){o(ht,dt.sibling),ut=nt(dt,mt.props),ut.ref=sh(ht,dt,mt),ut.return=ht,ht=ut;break e}o(ht,dt);break}else s(ht,dt);dt=dt.sibling}mt.type===ya?(ut=Ah(mt.props.children,ht.mode,gt,mt.key),ut.return=ht,ht=ut):(gt=yh(mt.type,mt.key,mt.props,null,ht.mode,gt),gt.ref=sh(ht,ut,mt),gt.return=ht,ht=gt)}return ot(ht);case wa:e:{for(dt=mt.key;ut!==null;){if(ut.key===dt)if(ut.tag===4&&ut.stateNode.containerInfo===mt.containerInfo&&ut.stateNode.implementation===mt.implementation){o(ht,ut.sibling),ut=nt(ut,mt.children||[]),ut.return=ht,ht=ut;break e}else{o(ht,ut);break}else s(ht,ut);ut=ut.sibling}ut=zh(mt,ht.mode,gt),ut.return=ht,ht=ut}return ot(ht);case Ha:return dt=mt._init,ct(ht,ut,dt(mt._payload),gt)}if(eb(mt))return st(ht,ut,mt,gt);if(Ka(mt))return lt(ht,ut,mt,gt);th(ht,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,ut!==null&&ut.tag===6?(o(ht,ut.sibling),ut=nt(ut,mt),ut.return=ht,ht=ut):(o(ht,ut),ut=xh(mt,ht.mode,gt),ut.return=ht,ht=ut),ot(ht)):o(ht,ut)}return ct}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p(174));return i}function Ih(i,s){switch(G(Gh,s),G(Fh,i),G(Eh,Dh),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(Eh),G(Eh,s)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var s=Hh(Eh.current),o=lb(s,i.type);s!==o&&(G(Fh,i),G(Eh,o))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Xh(i,s,o,a,nt,tt){if(Rh=tt,N=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=o(a,nt),Th){tt=0;do{if(Th=!1,Uh=0,25<=tt)throw Error(p(301));tt+=1,P=O=null,s.updateQueue=null,Ph.current=$h,i=o(a,nt)}while(Th)}if(Ph.current=ai,s=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,s)throw Error(p(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var s=P===null?N.memoizedState:P.next;if(s!==null)P=s,O=i;else{if(i===null)throw Error(p(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,s){return typeof s=="function"?s(i):s}function fi(i){var s=di(),o=s.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var a=O,nt=a.baseQueue,tt=o.pending;if(tt!==null){if(nt!==null){var ot=nt.next;nt.next=tt.next,tt.next=ot}a.baseQueue=nt=tt,o.pending=null}if(nt!==null){tt=nt.next,a=a.baseState;var at=ot=null,rt=null,it=tt;do{var j=it.lane;if((Rh&j)===j)rt!==null&&(rt=rt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),a=it.hasEagerState?it.eagerState:i(a,it.action);else{var _={lane:j,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};rt===null?(at=rt=_,ot=a):rt=rt.next=_,N.lanes|=j,hh|=j}it=it.next}while(it!==null&&it!==tt);rt===null?ot=a:rt.next=at,He(a,s.memoizedState)||(Ug=!0),s.memoizedState=a,s.baseState=ot,s.baseQueue=rt,o.lastRenderedState=a}if(i=o.interleaved,i!==null){nt=i;do tt=nt.lane,N.lanes|=tt,hh|=tt,nt=nt.next;while(nt!==i)}else nt===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function gi(i){var s=di(),o=s.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var a=o.dispatch,nt=o.pending,tt=s.memoizedState;if(nt!==null){o.pending=null;var ot=nt=nt.next;do tt=i(tt,ot.action),ot=ot.next;while(ot!==nt);He(tt,s.memoizedState)||(Ug=!0),s.memoizedState=tt,s.baseQueue===null&&(s.baseState=tt),o.lastRenderedState=tt}return[tt,a]}function hi(){}function ii(i,s){var o=N,a=di(),nt=s(),tt=!He(a.memoizedState,nt);if(tt&&(a.memoizedState=nt,Ug=!0),a=a.queue,ji(ki.bind(null,o,a,i),[i]),a.getSnapshot!==s||tt||P!==null&&P.memoizedState.tag&1){if(o.flags|=2048,li(9,mi.bind(null,o,a,nt,s),void 0,null),R===null)throw Error(p(349));Rh&30||ni(o,s,nt)}return nt}function ni(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function mi(i,s,o,a){s.value=o,s.getSnapshot=a,oi(s)&&pi(i)}function ki(i,s,o){return o(function(){oi(s)&&pi(i)})}function oi(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function pi(i){var s=Zg(i,1);s!==null&&mh(s,i,1,-1)}function qi(i){var s=ci();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},s.queue=i,i=i.dispatch=ri.bind(null,N,i),[s.memoizedState,i]}function li(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,s,o,a){var nt=ci();N.flags|=i,nt.memoizedState=li(1|s,o,void 0,a===void 0?null:a)}function ui(i,s,o,a){var nt=di();a=a===void 0?null:a;var tt=void 0;if(O!==null){var ot=O.memoizedState;if(tt=ot.destroy,a!==null&&Wh(a,ot.deps)){nt.memoizedState=li(s,o,tt,a);return}}N.flags|=i,nt.memoizedState=li(1|s,o,tt,a)}function vi(i,s){return ti(8390656,8,i,s)}function ji(i,s){return ui(2048,8,i,s)}function wi(i,s){return ui(4,2,i,s)}function xi(i,s){return ui(4,4,i,s)}function yi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function zi(i,s,o){return o=o!=null?o.concat([i]):null,ui(4,4,yi.bind(null,s,i),o)}function Ai(){}function Bi(i,s){var o=di();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Wh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function Ci(i,s){var o=di();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Wh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function Di(i,s,o){return Rh&21?(He(o,s)||(o=yc(),N.lanes|=o,hh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=o)}function Ei(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Qh.transition;Qh.transition={};try{i(!1),s()}finally{C=o,Qh.transition=a}}function Fi(){return di().memoizedState}function Gi(i,s,o){var a=lh(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(s,o);else if(o=Yg(i,s,o,a),o!==null){var nt=L();mh(o,i,a,nt),Ji(o,s,a)}}function ri(i,s,o){var a=lh(i),nt={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(s,nt);else{var tt=i.alternate;if(i.lanes===0&&(tt===null||tt.lanes===0)&&(tt=s.lastRenderedReducer,tt!==null))try{var ot=s.lastRenderedState,at=tt(ot,o);if(nt.hasEagerState=!0,nt.eagerState=at,He(at,ot)){var rt=s.interleaved;rt===null?(nt.next=nt,Xg(s)):(nt.next=rt.next,rt.next=nt),s.interleaved=nt;return}}catch{}finally{}o=Yg(i,s,nt,a),o!==null&&(nt=L(),mh(o,i,a,nt),Ji(o,s,a))}}function Hi(i){var s=i.alternate;return i===N||s!==null&&s===N}function Ii(i,s){Th=Sh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Ji(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,s){return ci().memoizedState=[i,s===void 0?null:s],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ti(4194308,4,yi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ti(4194308,4,i,s)},useInsertionEffect:function(i,s){return ti(4,2,i,s)},useMemo:function(i,s){var o=ci();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=ci();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=Gi.bind(null,N,i),[a.memoizedState,i]},useRef:function(i){var s=ci();return i={current:i},s.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),s=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=N,nt=ci();if(I){if(o===void 0)throw Error(p(407));o=o()}else{if(o=s(),R===null)throw Error(p(349));Rh&30||ni(a,s,o)}nt.memoizedState=o;var tt={value:o,getSnapshot:s};return nt.queue=tt,vi(ki.bind(null,a,tt,i),[i]),a.flags|=2048,li(9,mi.bind(null,a,tt,o,s),void 0,null),o},useId:function(){var i=ci(),s=R.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Uh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Vh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var s=di();return Di(s,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],s=di().memoizedState;return[i,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var s=di();return O===null?s.memoizedState=i:Di(s,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],s=di().memoizedState;return[i,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var nt=o}catch(tt){nt=`
Error generating stack: `+tt.message+`
`+tt.stack}return{value:i,source:s,stack:nt,digest:null}}function Li(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Mi(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,s,o){o=ch(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Pi||(Pi=!0,Qi=a),Mi(i,s)},o}function Ri(i,s,o){o=ch(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var nt=s.value;o.payload=function(){return a(nt)},o.callback=function(){Mi(i,s)}}var tt=i.stateNode;return tt!==null&&typeof tt.componentDidCatch=="function"&&(o.callback=function(){Mi(i,s),typeof a!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=s.stack;this.componentDidCatch(s.value,{componentStack:ot!==null?ot:""})}),o}function Ti(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Ni;var nt=new Set;a.set(s,nt)}else nt=a.get(s),nt===void 0&&(nt=new Set,a.set(s,nt));nt.has(o)||(nt.add(o),i=Ui.bind(null,i,s,o),s.then(i,i))}function Vi(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Wi(i,s,o,a,nt){return i.mode&1?(i.flags|=65536,i.lanes=nt,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=ch(-1,1),s.tag=2,dh(o,s,1))),o.lanes|=1),i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,s,o,a){s.child=i===null?Ch(s,null,o,a):Bh(s,i.child,o,a)}function Zi(i,s,o,a,nt){o=o.render;var tt=s.ref;return Tg(s,nt),a=Xh(i,s,o,a,tt,nt),o=bi(),i!==null&&!Ug?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~nt,$i(i,s,nt)):(I&&o&&vg(s),s.flags|=1,Yi(i,s,a,nt),s.child)}function aj(i,s,o,a,nt){if(i===null){var tt=o.type;return typeof tt=="function"&&!bj(tt)&&tt.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=tt,cj(i,s,tt,a,nt)):(i=yh(o.type,null,a,s,s.mode,nt),i.ref=s.ref,i.return=s,s.child=i)}if(tt=i.child,!(i.lanes&nt)){var ot=tt.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(ot,a)&&i.ref===s.ref)return $i(i,s,nt)}return s.flags|=1,i=wh(tt,a),i.ref=s.ref,i.return=s,s.child=i}function cj(i,s,o,a,nt){if(i!==null){var tt=i.memoizedProps;if(Ie(tt,a)&&i.ref===s.ref)if(Ug=!1,s.pendingProps=a=tt,(i.lanes&nt)!==0)i.flags&131072&&(Ug=!0);else return s.lanes=i.lanes,$i(i,s,nt)}return dj(i,s,o,a,nt)}function ej(i,s,o){var a=s.pendingProps,nt=a.children,tt=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=o;else{if(!(o&1073741824))return i=tt!==null?tt.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(fj,gj),gj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=tt!==null?tt.baseLanes:o,G(fj,gj),gj|=a}else tt!==null?(a=tt.baseLanes|o,s.memoizedState=null):a=o,G(fj,gj),gj|=a;return Yi(i,s,nt,o),s.child}function hj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function dj(i,s,o,a,nt){var tt=Zf(o)?Xf:H.current;return tt=Yf(s,tt),Tg(s,nt),o=Xh(i,s,o,a,tt,nt),a=bi(),i!==null&&!Ug?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~nt,$i(i,s,nt)):(I&&a&&vg(s),s.flags|=1,Yi(i,s,o,nt),s.child)}function ij(i,s,o,a,nt){if(Zf(o)){var tt=!0;cg(s)}else tt=!1;if(Tg(s,nt),s.stateNode===null)jj(i,s),ph(s,o,a),rh(s,o,a,nt),a=!0;else if(i===null){var ot=s.stateNode,at=s.memoizedProps;ot.props=at;var rt=ot.context,it=o.contextType;typeof it=="object"&&it!==null?it=Vg(it):(it=Zf(o)?Xf:H.current,it=Yf(s,it));var j=o.getDerivedStateFromProps,_=typeof j=="function"||typeof ot.getSnapshotBeforeUpdate=="function";_||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==a||rt!==it)&&qh(s,ot,a,it),$g=!1;var $=s.memoizedState;ot.state=$,gh(s,a,ot,nt),rt=s.memoizedState,at!==a||$!==rt||Wf.current||$g?(typeof j=="function"&&(kh(s,o,j,a),rt=s.memoizedState),(at=$g||oh(s,o,at,a,$,rt,it))?(_||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(s.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=rt),ot.props=a,ot.state=rt,ot.context=it,a=at):(typeof ot.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{ot=s.stateNode,bh(i,s),at=s.memoizedProps,it=s.type===s.elementType?at:Lg(s.type,at),ot.props=it,_=s.pendingProps,$=ot.context,rt=o.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(o)?Xf:H.current,rt=Yf(s,rt));var et=o.getDerivedStateFromProps;(j=typeof et=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==_||$!==rt)&&qh(s,ot,a,rt),$g=!1,$=s.memoizedState,ot.state=$,gh(s,a,ot,nt);var st=s.memoizedState;at!==_||$!==st||Wf.current||$g?(typeof et=="function"&&(kh(s,o,et,a),st=s.memoizedState),(it=$g||oh(s,o,it,a,$,st,rt)||!1)?(j||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(a,st,rt),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(a,st,rt)),typeof ot.componentDidUpdate=="function"&&(s.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof ot.componentDidUpdate!="function"||at===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=st),ot.props=a,ot.state=st,ot.context=rt,a=it):(typeof ot.componentDidUpdate!="function"||at===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),a=!1)}return kj(i,s,o,a,tt,nt)}function kj(i,s,o,a,nt,tt){hj(i,s);var ot=(s.flags&128)!==0;if(!a&&!ot)return nt&&dg(s,o,!1),$i(i,s,tt);a=s.stateNode,Xi.current=s;var at=ot&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&ot?(s.child=Bh(s,i.child,null,tt),s.child=Bh(s,null,at,tt)):Yi(i,s,at,tt),s.memoizedState=a.state,nt&&dg(s,o,!0),s.child}function lj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),Ih(i,s.containerInfo)}function mj(i,s,o,a,nt){return Ig(),Jg(nt),s.flags|=256,Yi(i,s,o,a),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,s,o){var a=s.pendingProps,nt=M.current,tt=!1,ot=(s.flags&128)!==0,at;if((at=ot)||(at=i!==null&&i.memoizedState===null?!1:(nt&2)!==0),at?(tt=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(nt|=1),G(M,nt&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(ot=a.children,i=a.fallback,tt?(a=s.mode,tt=s.child,ot={mode:"hidden",children:ot},!(a&1)&&tt!==null?(tt.childLanes=0,tt.pendingProps=ot):tt=qj(ot,a,0,null),i=Ah(i,a,o,null),tt.return=s,i.return=s,tt.sibling=i,s.child=tt,s.child.memoizedState=oj(o),s.memoizedState=nj,i):rj(s,ot));if(nt=i.memoizedState,nt!==null&&(at=nt.dehydrated,at!==null))return sj(i,s,ot,a,at,nt,o);if(tt){tt=a.fallback,ot=s.mode,nt=i.child,at=nt.sibling;var rt={mode:"hidden",children:a.children};return!(ot&1)&&s.child!==nt?(a=s.child,a.childLanes=0,a.pendingProps=rt,s.deletions=null):(a=wh(nt,rt),a.subtreeFlags=nt.subtreeFlags&14680064),at!==null?tt=wh(at,tt):(tt=Ah(tt,ot,o,null),tt.flags|=2),tt.return=s,a.return=s,a.sibling=tt,s.child=a,a=tt,tt=s.child,ot=i.child.memoizedState,ot=ot===null?oj(o):{baseLanes:ot.baseLanes|o,cachePool:null,transitions:ot.transitions},tt.memoizedState=ot,tt.childLanes=i.childLanes&~o,s.memoizedState=nj,a}return tt=i.child,i=tt.sibling,a=wh(tt,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function rj(i,s){return s=qj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function tj(i,s,o,a){return a!==null&&Jg(a),Bh(s,i.child,null,o),i=rj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function sj(i,s,o,a,nt,tt,ot){if(o)return s.flags&256?(s.flags&=-257,a=Li(Error(p(422))),tj(i,s,ot,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(tt=a.fallback,nt=s.mode,a=qj({mode:"visible",children:a.children},nt,0,null),tt=Ah(tt,nt,ot,null),tt.flags|=2,a.return=s,tt.return=s,a.sibling=tt,s.child=a,s.mode&1&&Bh(s,i.child,null,ot),s.child.memoizedState=oj(ot),s.memoizedState=nj,tt);if(!(s.mode&1))return tj(i,s,ot,null);if(nt.data==="$!"){if(a=nt.nextSibling&&nt.nextSibling.dataset,a)var at=a.dgst;return a=at,tt=Error(p(419)),a=Li(tt,a,void 0),tj(i,s,ot,a)}if(at=(ot&i.childLanes)!==0,Ug||at){if(a=R,a!==null){switch(ot&-ot){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(a.suspendedLanes|ot)?0:nt,nt!==0&&nt!==tt.retryLane&&(tt.retryLane=nt,Zg(i,nt),mh(a,i,nt,-1))}return uj(),a=Li(Error(p(421))),tj(i,s,ot,a)}return nt.data==="$?"?(s.flags|=128,s.child=i.child,s=vj.bind(null,i),nt._reactRetry=s,null):(i=tt.treeContext,yg=Lf(nt.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=rj(s,a.children),s.flags|=4096,s)}function wj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),Sg(i.return,s,o)}function xj(i,s,o,a,nt){var tt=i.memoizedState;tt===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:nt}:(tt.isBackwards=s,tt.rendering=null,tt.renderingStartTime=0,tt.last=a,tt.tail=o,tt.tailMode=nt)}function yj(i,s,o){var a=s.pendingProps,nt=a.revealOrder,tt=a.tail;if(Yi(i,s,a.children,o),a=M.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,o,s);else if(i.tag===19)wj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(M,a),!(s.mode&1))s.memoizedState=null;else switch(nt){case"forwards":for(o=s.child,nt=null;o!==null;)i=o.alternate,i!==null&&Mh(i)===null&&(nt=o),o=o.sibling;o=nt,o===null?(nt=s.child,s.child=null):(nt=o.sibling,o.sibling=null),xj(s,!1,nt,o,tt);break;case"backwards":for(o=null,nt=s.child,s.child=null;nt!==null;){if(i=nt.alternate,i!==null&&Mh(i)===null){s.child=nt;break}i=nt.sibling,nt.sibling=o,o=nt,nt=i}xj(s,!0,o,null,tt);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function $i(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),hh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p(153));if(s.child!==null){for(i=s.child,o=wh(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=wh(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function zj(i,s,o){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,nt=s.memoizedProps.value;G(Mg,a._currentValue),a._currentValue=nt;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(M,M.current&1),s.flags|=128,null):o&s.child.childLanes?pj(i,s,o):(G(M,M.current&1),i=$i(i,s,o),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return yj(i,s,o);s.flags|=128}if(nt=s.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G(M,M.current),a)break;return null;case 22:case 23:return s.lanes=0,ej(i,s,o)}return $i(i,s,o)}var Aj,Bj,Cj,Dj;Aj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Bj=function(){};Cj=function(i,s,o,a){var nt=i.memoizedProps;if(nt!==a){i=s.stateNode,Hh(Eh.current);var tt=null;switch(o){case"input":nt=Ya(i,nt),a=Ya(i,a),tt=[];break;case"select":nt=A({},nt,{value:void 0}),a=A({},a,{value:void 0}),tt=[];break;case"textarea":nt=gb(i,nt),a=gb(i,a),tt=[];break;default:typeof nt.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var ot;o=null;for(it in nt)if(!a.hasOwnProperty(it)&&nt.hasOwnProperty(it)&&nt[it]!=null)if(it==="style"){var at=nt[it];for(ot in at)at.hasOwnProperty(ot)&&(o||(o={}),o[ot]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?tt||(tt=[]):(tt=tt||[]).push(it,null));for(it in a){var rt=a[it];if(at=nt!=null?nt[it]:void 0,a.hasOwnProperty(it)&&rt!==at&&(rt!=null||at!=null))if(it==="style")if(at){for(ot in at)!at.hasOwnProperty(ot)||rt&&rt.hasOwnProperty(ot)||(o||(o={}),o[ot]="");for(ot in rt)rt.hasOwnProperty(ot)&&at[ot]!==rt[ot]&&(o||(o={}),o[ot]=rt[ot])}else o||(tt||(tt=[]),tt.push(it,o)),o=rt;else it==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,at=at?at.__html:void 0,rt!=null&&at!==rt&&(tt=tt||[]).push(it,rt)):it==="children"?typeof rt!="string"&&typeof rt!="number"||(tt=tt||[]).push(it,""+rt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(rt!=null&&it==="onScroll"&&D("scroll",i),tt||at===rt||(tt=[])):(tt=tt||[]).push(it,rt))}o&&(tt=tt||[]).push("style",o);var it=tt;(s.updateQueue=it)&&(s.flags|=4)}};Dj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Ej(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var nt=i.child;nt!==null;)o|=nt.lanes|nt.childLanes,a|=nt.subtreeFlags&14680064,a|=nt.flags&14680064,nt.return=i,nt=nt.sibling;else for(nt=i.child;nt!==null;)o|=nt.lanes|nt.childLanes,a|=nt.subtreeFlags,a|=nt.flags,nt.return=i,nt=nt.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Fj(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,Jh(),E(Wf),E(H),Oh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,s),S(s),null;case 5:Lh(s);var nt=Hh(Gh.current);if(o=s.type,i!==null&&s.stateNode!=null)Cj(i,s,o,a,nt),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(i=Hh(Eh.current),Gg(s)){a=s.stateNode,o=s.type;var tt=s.memoizedProps;switch(a[Of]=s,a[Pf]=tt,i=(s.mode&1)!==0,o){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D(lf[nt],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,tt),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!tt.multiple},D("invalid",a);break;case"textarea":hb(a,tt),D("invalid",a)}ub(o,tt),nt=null;for(var ot in tt)if(tt.hasOwnProperty(ot)){var at=tt[ot];ot==="children"?typeof at=="string"?a.textContent!==at&&(tt.suppressHydrationWarning!==!0&&Af(a.textContent,at,i),nt=["children",at]):typeof at=="number"&&a.textContent!==""+at&&(tt.suppressHydrationWarning!==!0&&Af(a.textContent,at,i),nt=["children",""+at]):ea.hasOwnProperty(ot)&&at!=null&&ot==="onScroll"&&D("scroll",a)}switch(o){case"input":Va(a),db(a,tt,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof tt.onClick=="function"&&(a.onclick=Bf)}a=nt,s.updateQueue=a,a!==null&&(s.flags|=4)}else{ot=nt.nodeType===9?nt:nt.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=ot.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=ot.createElement(o,{is:a.is}):(i=ot.createElement(o),o==="select"&&(ot=i,a.multiple?ot.multiple=!0:a.size&&(ot.size=a.size))):i=ot.createElementNS(i,o),i[Of]=s,i[Pf]=a,Aj(i,s,!1,!1),s.stateNode=i;e:{switch(ot=vb(o,a),o){case"dialog":D("cancel",i),D("close",i),nt=a;break;case"iframe":case"object":case"embed":D("load",i),nt=a;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D(lf[nt],i);nt=a;break;case"source":D("error",i),nt=a;break;case"img":case"image":case"link":D("error",i),D("load",i),nt=a;break;case"details":D("toggle",i),nt=a;break;case"input":Za(i,a),nt=Ya(i,a),D("invalid",i);break;case"option":nt=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},nt=A({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),nt=gb(i,a),D("invalid",i);break;default:nt=a}ub(o,nt),at=nt;for(tt in at)if(at.hasOwnProperty(tt)){var rt=at[tt];tt==="style"?sb(i,rt):tt==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb(i,rt)):tt==="children"?typeof rt=="string"?(o!=="textarea"||rt!=="")&&ob(i,rt):typeof rt=="number"&&ob(i,""+rt):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?rt!=null&&tt==="onScroll"&&D("scroll",i):rt!=null&&ta(i,tt,rt,ot))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,tt=a.value,tt!=null?fb(i,!!a.multiple,tt,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Dj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p(166));if(o=Hh(Gh.current),Hh(Eh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,(tt=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}tt&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(M),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,tt=!1;else if(tt=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!tt)throw Error(p(318));if(tt=s.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p(317));tt[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),tt=!1}else zg!==null&&(Gj(zg),zg=null),tt=!0;if(!tt)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return Jh(),Bj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return Rg(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(M),tt=s.memoizedState,tt===null)return S(s),null;if(a=(s.flags&128)!==0,ot=tt.rendering,ot===null)if(a)Ej(tt,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(ot=Mh(i),ot!==null){for(s.flags|=128,Ej(tt,!1),a=ot.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)tt=o,i=a,tt.flags&=14680066,ot=tt.alternate,ot===null?(tt.childLanes=0,tt.lanes=i,tt.child=null,tt.subtreeFlags=0,tt.memoizedProps=null,tt.memoizedState=null,tt.updateQueue=null,tt.dependencies=null,tt.stateNode=null):(tt.childLanes=ot.childLanes,tt.lanes=ot.lanes,tt.child=ot.child,tt.subtreeFlags=0,tt.deletions=null,tt.memoizedProps=ot.memoizedProps,tt.memoizedState=ot.memoizedState,tt.updateQueue=ot.updateQueue,tt.type=ot.type,i=ot.dependencies,tt.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(M,M.current&1|2),s.child}i=i.sibling}tt.tail!==null&&B()>Hj&&(s.flags|=128,a=!0,Ej(tt,!1),s.lanes=4194304)}else{if(!a)if(i=Mh(ot),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Ej(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!ot.alternate&&!I)return S(s),null}else 2*B()-tt.renderingStartTime>Hj&&o!==1073741824&&(s.flags|=128,a=!0,Ej(tt,!1),s.lanes=4194304);tt.isBackwards?(ot.sibling=s.child,s.child=ot):(o=tt.last,o!==null?o.sibling=ot:s.child=ot,tt.last=ot)}return tt.tail!==null?(s=tt.tail,tt.rendering=s,tt.tail=s.sibling,tt.renderingStartTime=B(),s.sibling=null,o=M.current,G(M,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Ij(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?gj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Jj(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(E(M),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Nj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Oj=!1;function Pj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var nt=a.anchorOffset,tt=a.focusNode;a=a.focusOffset;try{o.nodeType,tt.nodeType}catch{o=null;break e}var ot=0,at=-1,rt=-1,it=0,j=0,_=i,$=null;t:for(;;){for(var et;_!==o||nt!==0&&_.nodeType!==3||(at=ot+nt),_!==tt||a!==0&&_.nodeType!==3||(rt=ot+a),_.nodeType===3&&(ot+=_.nodeValue.length),(et=_.firstChild)!==null;)$=_,_=et;for(;;){if(_===i)break t;if($===o&&++it===nt&&(at=ot),$===tt&&++j===a&&(rt=ot),(et=_.nextSibling)!==null)break;_=$,$=_.parentNode}_=et}o=at===-1||rt===-1?null:{start:at,end:rt}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var st=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var lt=st.memoizedProps,ct=st.memoizedState,ht=s.stateNode,ut=ht.getSnapshotBeforeUpdate(s.elementType===s.type?lt:Lg(s.type,lt),ct);ht.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var mt=s.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(gt){W(s,s.return,gt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return st=Oj,Oj=!1,st}function Qj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var nt=a=a.next;do{if((nt.tag&i)===i){var tt=nt.destroy;nt.destroy=void 0,tt!==void 0&&Nj(s,o,tt)}nt=nt.next}while(nt!==a)}}function Rj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Sj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Tj(i){var s=i.alternate;s!==null&&(i.alternate=null,Tj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}function Xj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Xj(i,s,o),i=i.sibling;i!==null;)Xj(i,s,o),i=i.sibling}var X=null,Yj=!1;function Zj(i,s,o){for(o=o.child;o!==null;)ak(i,s,o),o=o.sibling}function ak(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Mj(o,s);case 6:var a=X,nt=Yj;X=null,Zj(i,s,o),X=a,Yj=nt,X!==null&&(Yj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Yj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:a=X,nt=Yj,X=o.stateNode.containerInfo,Yj=!0,Zj(i,s,o),X=a,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){nt=a=a.next;do{var tt=nt,ot=tt.destroy;tt=tt.tag,ot!==void 0&&(tt&2||tt&4)&&Nj(o,s,ot),nt=nt.next}while(nt!==a)}Zj(i,s,o);break;case 1:if(!U&&(Mj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(at){W(o,s,at)}Zj(i,s,o);break;case 21:Zj(i,s,o);break;case 22:o.mode&1?(U=(a=U)||o.memoizedState!==null,Zj(i,s,o),U=a):Zj(i,s,o);break;default:Zj(i,s,o)}}function bk(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Lj),s.forEach(function(a){var nt=ck.bind(null,i,a);o.has(a)||(o.add(a),a.then(nt,nt))})}}function dk(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var nt=o[a];try{var tt=i,ot=s,at=ot;e:for(;at!==null;){switch(at.tag){case 5:X=at.stateNode,Yj=!1;break e;case 3:X=at.stateNode.containerInfo,Yj=!0;break e;case 4:X=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X===null)throw Error(p(160));ak(tt,ot,nt),X=null,Yj=!1;var rt=nt.alternate;rt!==null&&(rt.return=null),nt.return=null}catch(it){W(nt,s,it)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,i),s=s.sibling}function ek(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(s,i),fk(i),a&4){try{Qj(3,i,i.return),Rj(3,i)}catch(lt){W(i,i.return,lt)}try{Qj(5,i,i.return)}catch(lt){W(i,i.return,lt)}}break;case 1:dk(s,i),fk(i),a&512&&o!==null&&Mj(o,o.return);break;case 5:if(dk(s,i),fk(i),a&512&&o!==null&&Mj(o,o.return),i.flags&32){var nt=i.stateNode;try{ob(nt,"")}catch(lt){W(i,i.return,lt)}}if(a&4&&(nt=i.stateNode,nt!=null)){var tt=i.memoizedProps,ot=o!==null?o.memoizedProps:tt,at=i.type,rt=i.updateQueue;if(i.updateQueue=null,rt!==null)try{at==="input"&&tt.type==="radio"&&tt.name!=null&&ab(nt,tt),vb(at,ot);var it=vb(at,tt);for(ot=0;ot<rt.length;ot+=2){var j=rt[ot],_=rt[ot+1];j==="style"?sb(nt,_):j==="dangerouslySetInnerHTML"?nb(nt,_):j==="children"?ob(nt,_):ta(nt,j,_,it)}switch(at){case"input":bb(nt,tt);break;case"textarea":ib(nt,tt);break;case"select":var $=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!tt.multiple;var et=tt.value;et!=null?fb(nt,!!tt.multiple,et,!1):$!==!!tt.multiple&&(tt.defaultValue!=null?fb(nt,!!tt.multiple,tt.defaultValue,!0):fb(nt,!!tt.multiple,tt.multiple?[]:"",!1))}nt[Pf]=tt}catch(lt){W(i,i.return,lt)}}break;case 6:if(dk(s,i),fk(i),a&4){if(i.stateNode===null)throw Error(p(162));nt=i.stateNode,tt=i.memoizedProps;try{nt.nodeValue=tt}catch(lt){W(i,i.return,lt)}}break;case 3:if(dk(s,i),fk(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(lt){W(i,i.return,lt)}break;case 4:dk(s,i),fk(i);break;case 13:dk(s,i),fk(i),nt=i.child,nt.flags&8192&&(tt=nt.memoizedState!==null,nt.stateNode.isHidden=tt,!tt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B())),a&4&&bk(i);break;case 22:if(j=o!==null&&o.memoizedState!==null,i.mode&1?(U=(it=U)||j,dk(s,i),U=it):dk(s,i),fk(i),a&8192){if(it=i.memoizedState!==null,(i.stateNode.isHidden=it)&&!j&&i.mode&1)for(V=i,j=i.child;j!==null;){for(_=V=j;V!==null;){switch($=V,et=$.child,$.tag){case 0:case 11:case 14:case 15:Qj(4,$,$.return);break;case 1:Mj($,$.return);var st=$.stateNode;if(typeof st.componentWillUnmount=="function"){a=$,o=$.return;try{s=a,st.props=s.memoizedProps,st.state=s.memoizedState,st.componentWillUnmount()}catch(lt){W(a,o,lt)}}break;case 5:Mj($,$.return);break;case 22:if($.memoizedState!==null){hk(_);continue}}et!==null?(et.return=$,V=et):hk(_)}j=j.sibling}e:for(j=null,_=i;;){if(_.tag===5){if(j===null){j=_;try{nt=_.stateNode,it?(tt=nt.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none"):(at=_.stateNode,rt=_.memoizedProps.style,ot=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,at.style.display=rb("display",ot))}catch(lt){W(i,i.return,lt)}}}else if(_.tag===6){if(j===null)try{_.stateNode.nodeValue=it?"":_.memoizedProps}catch(lt){W(i,i.return,lt)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===i)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;j===_&&(j=null),_=_.return}j===_&&(j=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:dk(s,i),fk(i),a&4&&bk(i);break;case 21:break;default:dk(s,i),fk(i)}}function fk(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Uj(o)){var a=o;break e}o=o.return}throw Error(p(160))}switch(a.tag){case 5:var nt=a.stateNode;a.flags&32&&(ob(nt,""),a.flags&=-33);var tt=Vj(i);Xj(i,tt,nt);break;case 3:case 4:var ot=a.stateNode.containerInfo,at=Vj(i);Wj(i,at,ot);break;default:throw Error(p(161))}}catch(rt){W(i,i.return,rt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ik(i,s,o){V=i,jk(i)}function jk(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var nt=V,tt=nt.child;if(nt.tag===22&&a){var ot=nt.memoizedState!==null||Kj;if(!ot){var at=nt.alternate,rt=at!==null&&at.memoizedState!==null||U;at=Kj;var it=U;if(Kj=ot,(U=rt)&&!it)for(V=nt;V!==null;)ot=V,rt=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(nt):rt!==null?(rt.return=ot,V=rt):kk(nt);for(;tt!==null;)V=tt,jk(tt),tt=tt.sibling;V=nt,Kj=at,U=it}lk(i)}else nt.subtreeFlags&8772&&tt!==null?(tt.return=nt,V=tt):lk(i)}}function lk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Rj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(o===null)a.componentDidMount();else{var nt=s.elementType===s.type?o.memoizedProps:Lg(s.type,o.memoizedProps);a.componentDidUpdate(nt,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var tt=s.updateQueue;tt!==null&&ih(s,tt,a);break;case 3:var ot=s.updateQueue;if(ot!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}ih(s,ot,o)}break;case 5:var at=s.stateNode;if(o===null&&s.flags&4){o=at;var rt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&o.focus();break;case"img":rt.src&&(o.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var it=s.alternate;if(it!==null){var j=it.memoizedState;if(j!==null){var _=j.dehydrated;_!==null&&bd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Sj(s)}catch($){W(s,s.return,$)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function hk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function kk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Rj(4,s)}catch(rt){W(s,o,rt)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var nt=s.return;try{a.componentDidMount()}catch(rt){W(s,nt,rt)}}var tt=s.return;try{Sj(s)}catch(rt){W(s,tt,rt)}break;case 5:var ot=s.return;try{Sj(s)}catch(rt){W(s,ot,rt)}}}catch(rt){W(s,s.return,rt)}if(s===i){V=null;break}var at=s.sibling;if(at!==null){at.return=s.return,V=at;break}V=s.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,s,o,a){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(i,o,a),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=o),T===4&&Dk(i,Z)),Ek(i,a),o===1&&K===0&&!(s.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===R?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Gk(o,Hk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Hk(i,s){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var o=i.callbackNode;if(Ik()&&i.callbackNode!==o)return null;var a=uc(i,i===R?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Jk(i,a);else{s=a;var nt=K;K|=2;var tt=Kk();(R!==i||Z!==s)&&(vk=null,Hj=B()+500,Lk(i,s));do try{Mk();break}catch(at){Nk(i,at)}while(!0);Qg(),nk.current=tt,K=nt,Y!==null?s=0:(R=null,Z=0,s=T)}if(s!==0){if(s===2&&(nt=xc(i),nt!==0&&(a=nt,s=Ok(i,nt))),s===1)throw o=qk,Lk(i,0),Dk(i,a),Ek(i,B()),o;if(s===6)Dk(i,a);else{if(nt=i.current.alternate,!(a&30)&&!Pk(nt)&&(s=Jk(i,a),s===2&&(tt=xc(i),tt!==0&&(a=tt,s=Ok(i,tt))),s===1))throw o=qk,Lk(i,0),Dk(i,a),Ek(i,B()),o;switch(i.finishedWork=nt,i.finishedLanes=a,s){case 0:case 1:throw Error(p(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,a),(a&130023424)===a&&(s=gk+500-B(),10<s)){if(uc(i,0)!==0)break;if(nt=i.suspendedLanes,(nt&a)!==a){L(),i.pingedLanes|=i.suspendedLanes&nt;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),s);break}Qk(i,uk,vk);break;case 4:if(Dk(i,a),(a&4194240)===a)break;for(s=i.eventTimes,nt=-1;0<a;){var ot=31-oc(a);tt=1<<ot,ot=s[ot],ot>nt&&(nt=ot),a&=~tt}if(a=nt,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mk(a/1960))-a,10<a){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),a);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p(329))}}}return Ek(i,B()),i.callbackNode===o?Hk.bind(null,i):null}function Ok(i,s){var o=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,s).flags|=256),i=Jk(i,s),i!==2&&(s=uk,uk=o,s!==null&&Gj(s)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var nt=o[a],tt=nt.getSnapshot;nt=nt.value;try{if(!He(tt(),nt))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(i,s){for(s&=~sk,s&=~rk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Fk(i){if(K&6)throw Error(p(327));Ik();var s=uc(i,0);if(!(s&1))return Ek(i,B()),null;var o=Jk(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Ok(i,a))}if(o===1)throw o=qk,Lk(i,0),Dk(i,s),Ek(i,B()),o;if(o===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var s=K;K|=1;var o=pk.transition,a=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=a,pk.transition=o,K=s,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(a);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(a.type._context);break;case 22:case 23:Ij()}o=o.return}if(R=i,Y=i=wh(i.current,null),Z=gj=s,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(o=Wg[s],a=o.interleaved,a!==null){o.interleaved=null;var nt=a.next,tt=o.pending;if(tt!==null){var ot=tt.next;tt.next=nt,a.next=ot}o.pending=a}Wg=null}return i}function Nk(i,s){do{var o=Y;try{if(Qg(),Ph.current=ai,Sh){for(var a=N.memoizedState;a!==null;){var nt=a.queue;nt!==null&&(nt.pending=null),a=a.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,o===null||o.return===null){T=1,qk=s,Y=null;break}e:{var tt=i,ot=o.return,at=o,rt=s;if(s=Z,at.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var it=rt,j=at,_=j.tag;if(!(j.mode&1)&&(_===0||_===11||_===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var et=Vi(ot);if(et!==null){et.flags&=-257,Wi(et,ot,at,tt,s),et.mode&1&&Ti(tt,it,s),s=et,rt=it;var st=s.updateQueue;if(st===null){var lt=new Set;lt.add(rt),s.updateQueue=lt}else st.add(rt);break e}else{if(!(s&1)){Ti(tt,it,s),uj();break e}rt=Error(p(426))}}else if(I&&at.mode&1){var ct=Vi(ot);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),Wi(ct,ot,at,tt,s),Jg(Ki(rt,at));break e}}tt=rt=Ki(rt,at),T!==4&&(T=2),tk===null?tk=[tt]:tk.push(tt),tt=ot;do{switch(tt.tag){case 3:tt.flags|=65536,s&=-s,tt.lanes|=s;var ht=Oi(tt,rt,s);fh(tt,ht);break e;case 1:at=rt;var ut=tt.type,mt=tt.stateNode;if(!(tt.flags&128)&&(typeof ut.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Si===null||!Si.has(mt)))){tt.flags|=65536,s&=-s,tt.lanes|=s;var gt=Ri(tt,at,s);fh(tt,gt);break e}}tt=tt.return}while(tt!==null)}Tk(o)}catch(vt){s=vt,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,s){var o=K;K|=2;var a=Kk();(R!==i||Z!==s)&&(vk=null,Lk(i,s));do try{Uk();break}catch(nt){Nk(i,nt)}while(!0);if(Qg(),K=o,nk.current=a,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var s=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,s===null?Tk(i):Y=s,ok.current=null}function Tk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Jj(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Fj(o,s,gj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Qk(i,s,o){var a=C,nt=pk.transition;try{pk.transition=null,C=1,Xk(i,s,o,a)}finally{pk.transition=nt,C=a}return null}function Xk(i,s,o,a){do Ik();while(xk!==null);if(K&6)throw Error(p(327));o=i.finishedWork;var nt=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var tt=o.lanes|o.childLanes;if(Bc(i,tt),i===R&&(Y=R=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),tt=(o.flags&15990)!==0,o.subtreeFlags&15990||tt){tt=pk.transition,pk.transition=null;var ot=C;C=1;var at=K;K|=4,ok.current=null,Pj(i,o),ek(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,ik(o),dc(),K=at,C=ot,pk.transition=tt}else i.current=o;if(wk&&(wk=!1,xk=i,yk=nt),tt=i.pendingLanes,tt===0&&(Si=null),mc(o.stateNode),Ek(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)nt=s[o],a(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),tt=i.pendingLanes,tt&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),s=pk.transition,o=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var a=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p(331));var nt=K;for(K|=4,V=i.current;V!==null;){var tt=V,ot=tt.child;if(V.flags&16){var at=tt.deletions;if(at!==null){for(var rt=0;rt<at.length;rt++){var it=at[rt];for(V=it;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Qj(8,j,tt)}var _=j.child;if(_!==null)_.return=j,V=_;else for(;V!==null;){j=V;var $=j.sibling,et=j.return;if(Tj(j),j===it){V=null;break}if($!==null){$.return=et,V=$;break}V=et}}}var st=tt.alternate;if(st!==null){var lt=st.child;if(lt!==null){st.child=null;do{var ct=lt.sibling;lt.sibling=null,lt=ct}while(lt!==null)}}V=tt}}if(tt.subtreeFlags&2064&&ot!==null)ot.return=tt,V=ot;else e:for(;V!==null;){if(tt=V,tt.flags&2048)switch(tt.tag){case 0:case 11:case 15:Qj(9,tt,tt.return)}var ht=tt.sibling;if(ht!==null){ht.return=tt.return,V=ht;break e}V=tt.return}}var ut=i.current;for(V=ut;V!==null;){ot=V;var mt=ot.child;if(ot.subtreeFlags&2064&&mt!==null)mt.return=ot,V=mt;else e:for(ot=ut;V!==null;){if(at=V,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(vt){W(at,at.return,vt)}if(at===ot){V=null;break e}var gt=at.sibling;if(gt!==null){gt.return=at.return,V=gt;break e}V=at.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,pk.transition=s}}return!1}function Yk(i,s,o){s=Ki(o,s),s=Oi(i,s,1),i=dh(i,s,1),s=L(),i!==null&&(Ac(i,1,s),Ek(i,s))}function W(i,s,o){if(i.tag===3)Yk(i,i,o);else for(;s!==null;){if(s.tag===3){Yk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))){i=Ki(o,i),i=Ri(s,i,1),s=dh(s,i,1),i=L(),s!==null&&(Ac(s,1,i),Ek(s,i));break}}s=s.return}}function Ui(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=L(),i.pingedLanes|=i.suspendedLanes&o,R===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=o),Ek(i,s)}function Zk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=L();i=Zg(i,s),i!==null&&(Ac(i,s,o),Ek(i,o))}function vj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Zk(i,o)}function ck(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,nt=i.memoizedState;nt!==null&&(o=nt.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(s),Zk(i,o)}var Wk;Wk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return Ug=!1,zj(i,s,o);Ug=!!(i.flags&131072)}else Ug=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;jj(i,s),i=s.pendingProps;var nt=Yf(s,H.current);Tg(s,o),nt=Xh(null,s,a,i,nt,o);var tt=bi();return s.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(tt=!0,cg(s)):tt=!1,s.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(s),nt.updater=nh,s.stateNode=nt,nt._reactInternals=s,rh(s,a,i,o),s=kj(null,s,a,!0,tt,o)):(s.tag=0,I&&tt&&vg(s),Yi(null,s,nt,o),s=s.child),s;case 16:a=s.elementType;e:{switch(jj(i,s),i=s.pendingProps,nt=a._init,a=nt(a._payload),s.type=a,nt=s.tag=$k(a),i=Lg(a,i),nt){case 0:s=dj(null,s,a,i,o);break e;case 1:s=ij(null,s,a,i,o);break e;case 11:s=Zi(null,s,a,i,o);break e;case 14:s=aj(null,s,a,Lg(a.type,i),o);break e}throw Error(p(306,a,""))}return s;case 0:return a=s.type,nt=s.pendingProps,nt=s.elementType===a?nt:Lg(a,nt),dj(i,s,a,nt,o);case 1:return a=s.type,nt=s.pendingProps,nt=s.elementType===a?nt:Lg(a,nt),ij(i,s,a,nt,o);case 3:e:{if(lj(s),i===null)throw Error(p(387));a=s.pendingProps,tt=s.memoizedState,nt=tt.element,bh(i,s),gh(s,a,null,o);var ot=s.memoizedState;if(a=ot.element,tt.isDehydrated)if(tt={element:a,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},s.updateQueue.baseState=tt,s.memoizedState=tt,s.flags&256){nt=Ki(Error(p(423)),s),s=mj(i,s,a,o,nt);break e}else if(a!==nt){nt=Ki(Error(p(424)),s),s=mj(i,s,a,o,nt);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Ch(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===nt){s=$i(i,s,o);break e}Yi(i,s,a,o)}s=s.child}return s;case 5:return Kh(s),i===null&&Eg(s),a=s.type,nt=s.pendingProps,tt=i!==null?i.memoizedProps:null,ot=nt.children,Ef(a,nt)?ot=null:tt!==null&&Ef(a,tt)&&(s.flags|=32),hj(i,s),Yi(i,s,ot,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return pj(i,s,o);case 4:return Ih(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Bh(s,null,a,o):Yi(i,s,a,o),s.child;case 11:return a=s.type,nt=s.pendingProps,nt=s.elementType===a?nt:Lg(a,nt),Zi(i,s,a,nt,o);case 7:return Yi(i,s,s.pendingProps,o),s.child;case 8:return Yi(i,s,s.pendingProps.children,o),s.child;case 12:return Yi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,nt=s.pendingProps,tt=s.memoizedProps,ot=nt.value,G(Mg,a._currentValue),a._currentValue=ot,tt!==null)if(He(tt.value,ot)){if(tt.children===nt.children&&!Wf.current){s=$i(i,s,o);break e}}else for(tt=s.child,tt!==null&&(tt.return=s);tt!==null;){var at=tt.dependencies;if(at!==null){ot=tt.child;for(var rt=at.firstContext;rt!==null;){if(rt.context===a){if(tt.tag===1){rt=ch(-1,o&-o),rt.tag=2;var it=tt.updateQueue;if(it!==null){it=it.shared;var j=it.pending;j===null?rt.next=rt:(rt.next=j.next,j.next=rt),it.pending=rt}}tt.lanes|=o,rt=tt.alternate,rt!==null&&(rt.lanes|=o),Sg(tt.return,o,s),at.lanes|=o;break}rt=rt.next}}else if(tt.tag===10)ot=tt.type===s.type?null:tt.child;else if(tt.tag===18){if(ot=tt.return,ot===null)throw Error(p(341));ot.lanes|=o,at=ot.alternate,at!==null&&(at.lanes|=o),Sg(ot,o,s),ot=tt.sibling}else ot=tt.child;if(ot!==null)ot.return=tt;else for(ot=tt;ot!==null;){if(ot===s){ot=null;break}if(tt=ot.sibling,tt!==null){tt.return=ot.return,ot=tt;break}ot=ot.return}tt=ot}Yi(i,s,nt.children,o),s=s.child}return s;case 9:return nt=s.type,a=s.pendingProps.children,Tg(s,o),nt=Vg(nt),a=a(nt),s.flags|=1,Yi(i,s,a,o),s.child;case 14:return a=s.type,nt=Lg(a,s.pendingProps),nt=Lg(a.type,nt),aj(i,s,a,nt,o);case 15:return cj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,nt=s.pendingProps,nt=s.elementType===a?nt:Lg(a,nt),jj(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,Tg(s,o),ph(s,a,nt),rh(s,a,nt,o),kj(null,s,a,!0,i,o);case 19:return yj(i,s,o);case 22:return ej(i,s,o)}throw Error(p(156,s.tag))};function Gk(i,s){return ac(i,s)}function al(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new al(i,s,o,a)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function yh(i,s,o,a,nt,tt){var ot=2;if(a=i,typeof i=="function")bj(i)&&(ot=1);else if(typeof i=="string")ot=5;else e:switch(i){case ya:return Ah(o.children,nt,tt,s);case za:ot=8,nt|=8;break;case Aa:return i=Bg(12,o,s,nt|2),i.elementType=Aa,i.lanes=tt,i;case Ea:return i=Bg(13,o,s,nt),i.elementType=Ea,i.lanes=tt,i;case Fa:return i=Bg(19,o,s,nt),i.elementType=Fa,i.lanes=tt,i;case Ia:return qj(o,nt,tt,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,a=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return s=Bg(ot,o,s,nt),s.elementType=i,s.type=a,s.lanes=tt,s}function Ah(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function qj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function xh(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function zh(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function bl(i,s,o,a,nt){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(i,s,o,a,nt,tt,ot,at,rt){return i=new bl(i,s,o,at,rt),s===1?(s=1,tt===!0&&(s|=8)):s=0,tt=Bg(3,null,null,s),i.current=tt,tt.stateNode=i,tt.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(tt),i}function dl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function fl(i,s,o,a,nt,tt,ot,at,rt){return i=cl(o,a,!0,i,nt,tt,ot,at,rt),i.context=el(null),o=i.current,a=L(),nt=lh(o),tt=ch(a,nt),tt.callback=s??null,dh(o,tt,nt),i.current.lanes=nt,Ac(i,nt,a),Ek(i,a),i}function gl(i,s,o,a){var nt=s.current,tt=L(),ot=lh(nt);return o=el(o),s.context===null?s.context=o:s.pendingContext=o,s=ch(tt,ot),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=dh(nt,s,ot),i!==null&&(mh(i,nt,ot,tt),eh(i,nt,ot)),ot}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function jl(i,s){il(i,s),(i=i.alternate)&&il(i,s)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p(409));gl(i,s,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Sk(function(){gl(null,i,null,null)}),s[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,s,o,a,nt){if(nt){if(typeof a=="function"){var tt=a;a=function(){var it=hl(ot);tt.call(it)}}var ot=fl(s,a,i,0,null,!1,!1,"",ql);return i._reactRootContainer=ot,i[uf]=ot.current,sf(i.nodeType===8?i.parentNode:i),Sk(),ot}for(;nt=i.lastChild;)i.removeChild(nt);if(typeof a=="function"){var at=a;a=function(){var it=hl(rt);at.call(it)}}var rt=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=rt,i[uf]=rt.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(s,rt,o,a)}),rt}function sl(i,s,o,a,nt){var tt=o._reactRootContainer;if(tt){var ot=tt;if(typeof nt=="function"){var at=nt;nt=function(){var rt=hl(ot);at.call(rt)}}gl(s,ot,i,nt)}else ot=rl(o,s,i,nt,a);return hl(ot)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Ek(s,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var a=Zg(i,1);if(a!==null){var nt=L();mh(a,i,1,nt)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var s=Zg(i,134217728);if(s!==null){var o=L();mh(s,i,134217728,o)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var s=lh(i),o=Zg(i,s);if(o!==null){var a=L();mh(o,i,s,a)}jl(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var nt=Db(a);if(!nt)throw Error(p(90));Wa(a),bb(a,nt)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(p(200));return dl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!ol(i))throw Error(p(299));var o=!1,a="",nt=ll;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(nt=s.onRecoverableError)),s=cl(i,1,!1,null,null,o,!1,a,nt),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ml(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!pl(s))throw Error(p(200));return sl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!ol(i))throw Error(p(405));var a=o!=null&&o.hydratedSources||null,nt=!1,tt="",ot=ll;if(o!=null&&(o.unstable_strictMode===!0&&(nt=!0),o.identifierPrefix!==void 0&&(tt=o.identifierPrefix),o.onRecoverableError!==void 0&&(ot=o.onRecoverableError)),s=fl(s,null,i,1,o??null,nt,!1,tt,ot),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],nt=o._getVersion,nt=nt(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,nt]:s.mutableSourceEagerHydrationData.push(o,nt);return new nl(s)};reactDom_production_min.render=function(i,s,o){if(!pl(s))throw Error(p(200));return sl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!pl(o))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return sl(i,s,o,!1,a)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,[PortalContextProvider,usePortalContext]=createContext$2({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=i=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:i.zIndex,top:0,left:0,right:0},children:i.children}),DefaultPortal=i=>{const{appendToParentPortal:s,children:o}=i,[a,nt]=reactExports.useState(null),tt=reactExports.useRef(null),[,ot]=reactExports.useState({});reactExports.useEffect(()=>ot({}),[]);const at=usePortalContext(),rt=usePortalManager();useSafeLayoutEffect$1(()=>{if(!a)return;const j=a.ownerDocument,_=s?at??j.body:j.body;if(!_)return;tt.current=j.createElement("div"),tt.current.className=PORTAL_CLASSNAME,_.appendChild(tt.current),ot({});const $=tt.current;return()=>{_.contains($)&&_.removeChild($)}},[a]);const it=rt!=null&&rt.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:rt==null?void 0:rt.zIndex,children:o}):o;return tt.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:tt.current,children:it}),tt.current):jsxRuntimeExports.jsx("span",{ref:j=>{j&&nt(j)}})},ContainerPortal=i=>{const{children:s,containerRef:o,appendToParentPortal:a}=i,nt=o.current,tt=nt??(typeof window<"u"?document.body:void 0),ot=reactExports.useMemo(()=>{const rt=nt==null?void 0:nt.ownerDocument.createElement("div");return rt&&(rt.className=PORTAL_CLASSNAME),rt},[nt]),[,at]=reactExports.useState({});return useSafeLayoutEffect$1(()=>at({}),[]),useSafeLayoutEffect$1(()=>{if(!(!ot||!tt))return tt.appendChild(ot),()=>{tt.removeChild(ot)}},[ot,tt]),tt&&ot?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:a?ot:null,children:s}),ot):null};function Portal(i){const s={appendToParentPortal:!0,...i},{containerRef:o,...a}=s;return o?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:o,...a}):jsxRuntimeExports.jsx(DefaultPortal,{...a})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";function useTheme(){const i=reactExports.useContext(ThemeContext);if(!i)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return i}var ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const i=reactExports.useContext(ColorModeContext);if(i===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return i}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(i={}){const{preventTransition:s=!0}=i,o={setDataset:a=>{const nt=s?o.preventTransition():void 0;document.documentElement.dataset.theme=a,document.documentElement.style.colorScheme=a,nt==null||nt()},setClassName(a){document.body.classList.add(a?classNames.dark:classNames.light),document.body.classList.remove(a?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(a){var nt;return((nt=o.query().matches)!=null?nt:a==="dark")?"dark":"light"},addListener(a){const nt=o.query(),tt=ot=>{a(ot.matches?"dark":"light")};return typeof nt.addListener=="function"?nt.addListener(tt):nt.addEventListener("change",tt),()=>{typeof nt.removeListener=="function"?nt.removeListener(tt):nt.removeEventListener("change",tt)}},preventTransition(){const a=document.createElement("style");return a.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(a),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(a)})})}}};return o}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(i){return{ssr:!1,type:"localStorage",get(s){if(!(globalThis!=null&&globalThis.document))return s;let o;try{o=localStorage.getItem(i)||s}catch{}return o||s},set(s){try{localStorage.setItem(i,s)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$1=()=>{};function getTheme(i,s){return i.type==="cookie"&&i.ssr?i.get(s):s}function ColorModeProvider(i){const{value:s,children:o,options:{useSystemColorMode:a,initialColorMode:nt,disableTransitionOnChange:tt}={},colorModeManager:ot=localStorageManager}=i,at=nt==="dark"?"dark":"light",[rt,it]=reactExports.useState(()=>getTheme(ot,at)),[j,_]=reactExports.useState(()=>getTheme(ot)),{getSystemTheme:$,setClassName:et,setDataset:st,addListener:lt}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:tt}),[tt]),ct=nt==="system"&&!rt?j:rt,ht=reactExports.useCallback(gt=>{const vt=gt==="system"?$():gt;it(vt),et(vt==="dark"),st(vt),ot.set(vt)},[ot,$,et,st]);useSafeLayoutEffect$1(()=>{nt==="system"&&_($())},[]),reactExports.useEffect(()=>{const gt=ot.get();if(gt){ht(gt);return}if(nt==="system"){ht("system");return}ht(at)},[ot,at,nt,ht]);const ut=reactExports.useCallback(()=>{ht(ct==="dark"?"light":"dark")},[ct,ht]);reactExports.useEffect(()=>{if(a)return lt(ht)},[a,lt,ht]);const mt=reactExports.useMemo(()=>({colorMode:s??ct,toggleColorMode:s?noop$1:ut,setColorMode:s?noop$1:ht,forced:s!==void 0}),[ct,ut,ht,s]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:mt,children:o})}ColorModeProvider.displayName="ColorModeProvider";function useChakra(){const i=useColorMode(),s=useTheme();return{...i,theme:s}}function getBreakpointValue(i,s,o){var a,nt;if(s==null)return s;const tt=ot=>{var at,rt;return(rt=(at=i.__breakpoints)==null?void 0:at.asArray)==null?void 0:rt[ot]};return(nt=(a=tt(s))!=null?a:tt(o))!=null?nt:o}function getTokenValue(i,s,o){var a,nt;if(s==null)return s;const tt=ot=>{var at,rt;return(rt=(at=i.__cssMap)==null?void 0:at[ot])==null?void 0:rt.value};return(nt=(a=tt(s))!=null?a:tt(o))!=null?nt:o}function getToken(i,s,o){const a=Array.isArray(s)?s:[s],nt=Array.isArray(o)?o:[o];return tt=>{const ot=nt.filter(Boolean),at=a.map((rt,it)=>{var j,_;if(i==="breakpoints")return getBreakpointValue(tt,rt,(j=ot[it])!=null?j:rt);const $=`${i}.${rt}`;return getTokenValue(tt,$,(_=ot[it])!=null?_:rt)});return Array.isArray(s)?at:at[0]}}var cx=(...i)=>i.filter(Boolean).join(" ");function isObject$2(i){const s=typeof i;return i!=null&&(s==="object"||s==="function")&&!Array.isArray(i)}function runIfFn$2(i,...s){return isFunction$4(i)?i(...s):i}var isFunction$4=i=>typeof i=="function",dataAttr=i=>i?"":void 0,ariaAttr=i=>i?!0:void 0;function callAllHandlers$1(...i){return function(o){i.some(a=>(a==null||a(o),o==null?void 0:o.defaultPrevented))}}function callAll(...i){return function(o){i.forEach(a=>{a==null||a(o)})}}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(i,s){var o=200,a="__lodash_hash_undefined__",nt=800,tt=16,ot=9007199254740991,at="[object Arguments]",rt="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",et="[object Function]",st="[object GeneratorFunction]",lt="[object Map]",ct="[object Number]",ht="[object Null]",ut="[object Object]",mt="[object Proxy]",gt="[object RegExp]",vt="[object Set]",dt="[object String]",St="[object Undefined]",yt="[object WeakMap]",pt="[object ArrayBuffer]",wt="[object DataView]",Et="[object Float32Array]",Ct="[object Float64Array]",kt="[object Int8Array]",Tt="[object Int16Array]",At="[object Int32Array]",It="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Mt="[object Uint16Array]",Dt="[object Uint32Array]",Bt=/[\\^$.*+?()[\]{}|]/g,qt=/^\[object .+?Constructor\]$/,Wt=/^(?:0|[1-9]\d*)$/,Vt={};Vt[Et]=Vt[Ct]=Vt[kt]=Vt[Tt]=Vt[At]=Vt[It]=Vt[Ot]=Vt[Mt]=Vt[Dt]=!0,Vt[at]=Vt[rt]=Vt[pt]=Vt[j]=Vt[wt]=Vt[_]=Vt[$]=Vt[et]=Vt[lt]=Vt[ct]=Vt[ut]=Vt[gt]=Vt[vt]=Vt[dt]=Vt[yt]=!1;var Ht=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Jt=typeof self=="object"&&self&&self.Object===Object&&self,Qt=Ht||Jt||Function("return this")(),cr=s&&!s.nodeType&&s,hr=cr&&!0&&i&&!i.nodeType&&i,dr=hr&&hr.exports===cr,gr=dr&&Ht.process,tr=function(){try{var Ut=hr&&hr.require&&hr.require("util").types;return Ut||gr&&gr.binding&&gr.binding("util")}catch{}}(),rr=tr&&tr.isTypedArray;function Yt(Ut,sr,xr){switch(xr.length){case 0:return Ut.call(sr);case 1:return Ut.call(sr,xr[0]);case 2:return Ut.call(sr,xr[0],xr[1]);case 3:return Ut.call(sr,xr[0],xr[1],xr[2])}return Ut.apply(sr,xr)}function br(Ut,sr){for(var xr=-1,Dr=Array(Ut);++xr<Ut;)Dr[xr]=sr(xr);return Dr}function _r(Ut){return function(sr){return Ut(sr)}}function fr(Ut,sr){return Ut==null?void 0:Ut[sr]}function Wr(Ut,sr){return function(xr){return Ut(sr(xr))}}var nn=Array.prototype,an=Function.prototype,In=Object.prototype,Bn=Qt["__core-js_shared__"],Pn=an.toString,cn=In.hasOwnProperty,Gn=function(){var Ut=/[^.]+$/.exec(Bn&&Bn.keys&&Bn.keys.IE_PROTO||"");return Ut?"Symbol(src)_1."+Ut:""}(),Mn=In.toString,Er=Pn.call(Object),Br=RegExp("^"+Pn.call(cn).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$r=dr?Qt.Buffer:void 0,on=Qt.Symbol,Xt=Qt.Uint8Array,er=$r?$r.allocUnsafe:void 0,lr=Wr(Object.getPrototypeOf,Object),Lr=Object.create,Nr=In.propertyIsEnumerable,Cr=nn.splice,Tr=on?on.toStringTag:void 0,Hr=function(){try{var Ut=zn(Object,"defineProperty");return Ut({},"",{}),Ut}catch{}}(),sn=$r?$r.isBuffer:void 0,Or=Math.max,qr=Date.now,Gr=zn(Qt,"Map"),Ur=zn(Object,"create"),vn=function(){function Ut(){}return function(sr){if(!ln(sr))return{};if(Lr)return Lr(sr);Ut.prototype=sr;var xr=new Ut;return Ut.prototype=void 0,xr}}();function Ar(Ut){var sr=-1,xr=Ut==null?0:Ut.length;for(this.clear();++sr<xr;){var Dr=Ut[sr];this.set(Dr[0],Dr[1])}}function dn(){this.__data__=Ur?Ur(null):{},this.size=0}function ks(Ut){var sr=this.has(Ut)&&delete this.__data__[Ut];return this.size-=sr?1:0,sr}function ds(Ut){var sr=this.__data__;if(Ur){var xr=sr[Ut];return xr===a?void 0:xr}return cn.call(sr,Ut)?sr[Ut]:void 0}function qn(Ut){var sr=this.__data__;return Ur?sr[Ut]!==void 0:cn.call(sr,Ut)}function So(Ut,sr){var xr=this.__data__;return this.size+=this.has(Ut)?0:1,xr[Ut]=Ur&&sr===void 0?a:sr,this}Ar.prototype.clear=dn,Ar.prototype.delete=ks,Ar.prototype.get=ds,Ar.prototype.has=qn,Ar.prototype.set=So;function Qn(Ut){var sr=-1,xr=Ut==null?0:Ut.length;for(this.clear();++sr<xr;){var Dr=Ut[sr];this.set(Dr[0],Dr[1])}}function ps(){this.__data__=[],this.size=0}function Js(Ut){var sr=this.__data__,xr=ms(sr,Ut);if(xr<0)return!1;var Dr=sr.length-1;return xr==Dr?sr.pop():Cr.call(sr,xr,1),--this.size,!0}function Ps(Ut){var sr=this.__data__,xr=ms(sr,Ut);return xr<0?void 0:sr[xr][1]}function eo(Ut){return ms(this.__data__,Ut)>-1}function Us(Ut,sr){var xr=this.__data__,Dr=ms(xr,Ut);return Dr<0?(++this.size,xr.push([Ut,sr])):xr[Dr][1]=sr,this}Qn.prototype.clear=ps,Qn.prototype.delete=Js,Qn.prototype.get=Ps,Qn.prototype.has=eo,Qn.prototype.set=Us;function Xn(Ut){var sr=-1,xr=Ut==null?0:Ut.length;for(this.clear();++sr<xr;){var Dr=Ut[sr];this.set(Dr[0],Dr[1])}}function Ws(){this.size=0,this.__data__={hash:new Ar,map:new(Gr||Qn),string:new Ar}}function Zr(Ut){var sr=_n(this,Ut).delete(Ut);return this.size-=sr?1:0,sr}function us(Ut){return _n(this,Ut).get(Ut)}function Hs(Ut){return _n(this,Ut).has(Ut)}function uo(Ut,sr){var xr=_n(this,Ut),Dr=xr.size;return xr.set(Ut,sr),this.size+=xr.size==Dr?0:1,this}Xn.prototype.clear=Ws,Xn.prototype.delete=Zr,Xn.prototype.get=us,Xn.prototype.has=Hs,Xn.prototype.set=uo;function Wn(Ut){var sr=this.__data__=new Qn(Ut);this.size=sr.size}function co(){this.__data__=new Qn,this.size=0}function to(Ut){var sr=this.__data__,xr=sr.delete(Ut);return this.size=sr.size,xr}function ho(Ut){return this.__data__.get(Ut)}function fo(Ut){return this.__data__.has(Ut)}function ro(Ut,sr){var xr=this.__data__;if(xr instanceof Qn){var Dr=xr.__data__;if(!Gr||Dr.length<o-1)return Dr.push([Ut,sr]),this.size=++xr.size,this;xr=this.__data__=new Xn(Dr)}return xr.set(Ut,sr),this.size=xr.size,this}Wn.prototype.clear=co,Wn.prototype.delete=to,Wn.prototype.get=ho,Wn.prototype.has=fo,Wn.prototype.set=ro;function xs(Ut,sr){var xr=ir(Ut),Dr=!xr&&jt(Ut),Jr=!xr&&!Dr&&Vr(Ut),mn=!xr&&!Dr&&!Jr&&gs(Ut),en=xr||Dr||Jr||mn,Qr=en?br(Ut.length,String):[],xn=Qr.length;for(var jn in Ut)(sr||cn.call(Ut,jn))&&!(en&&(jn=="length"||Jr&&(jn=="offset"||jn=="parent")||mn&&(jn=="buffer"||jn=="byteLength"||jn=="byteOffset")||hs(jn,xn)))&&Qr.push(jn);return Qr}function cs(Ut,sr,xr){(xr!==void 0&&!Ft(Ut[sr],xr)||xr===void 0&&!(sr in Ut))&&Cs(Ut,sr,xr)}function no(Ut,sr,xr){var Dr=Ut[sr];(!(cn.call(Ut,sr)&&Ft(Dr,xr))||xr===void 0&&!(sr in Ut))&&Cs(Ut,sr,xr)}function ms(Ut,sr){for(var xr=Ut.length;xr--;)if(Ft(Ut[xr][0],sr))return xr;return-1}function Cs(Ut,sr,xr){sr=="__proto__"&&Hr?Hr(Ut,sr,{configurable:!0,enumerable:!0,value:xr,writable:!0}):Ut[sr]=xr}var Ds=rn();function pn(Ut){return Ut==null?Ut===void 0?St:ht:Tr&&Tr in Object(Ut)?ts(Ut):Eo(Ut)}function Kr(Ut){return Fn(Ut)&&pn(Ut)==at}function _i(Ut){if(!ln(Ut)||bs(Ut))return!1;var sr=zr(Ut)?Br:qt;return sr.test(Rt(Ut))}function es(Ut){return Fn(Ut)&&yn(Ut.length)&&!!Vt[pn(Ut)]}function _o(Ut){if(!ln(Ut))return wo(Ut);var sr=rs(Ut),xr=[];for(var Dr in Ut)Dr=="constructor"&&(sr||!cn.call(Ut,Dr))||xr.push(Dr);return xr}function po(Ut,sr,xr,Dr,Jr){Ut!==sr&&Ds(sr,function(mn,en){if(Jr||(Jr=new Wn),ln(mn))mo(Ut,sr,en,xr,po,Dr,Jr);else{var Qr=Dr?Dr(go(Ut,en),mn,en+"",Ut,sr,Jr):void 0;Qr===void 0&&(Qr=mn),cs(Ut,en,Qr)}},io)}function mo(Ut,sr,xr,Dr,Jr,mn,en){var Qr=go(Ut,xr),xn=go(sr,xr),jn=en.get(xn);if(jn){cs(Ut,xr,jn);return}var Ln=mn?mn(Qr,xn,xr+"",Ut,sr,en):void 0,Dn=Ln===void 0;if(Dn){var ns=ir(xn),Ss=!ns&&Vr(xn),_s=!ns&&!Ss&&gs(xn);Ln=xn,ns||Ss||_s?ir(Qr)?Ln=Qr:wr(Qr)?Ln=Sr(Qr):Ss?(Dn=!1,Ln=Nt(xn,!0)):_s?(Dn=!1,Ln=or(xn,!0)):Ln=[]:As(xn)||jt(xn)?(Ln=Qr,jt(Qr)?Ln=Fs(Qr):(!ln(Qr)||zr(Qr))&&(Ln=os(xn))):Dn=!1}Dn&&(en.set(xn,Ln),Jr(Ln,xn,Dr,mn,en),en.delete(xn)),cs(Ut,xr,Ln)}function _t(Ut,sr){return Po($s(Ut,sr,nr),Ut+"")}var Lt=Hr?function(Ut,sr){return Hr(Ut,"toString",{configurable:!0,enumerable:!1,value:kn(sr),writable:!0})}:nr;function Nt(Ut,sr){if(sr)return Ut.slice();var xr=Ut.length,Dr=er?er(xr):new Ut.constructor(xr);return Ut.copy(Dr),Dr}function Kt(Ut){var sr=new Ut.constructor(Ut.byteLength);return new Xt(sr).set(new Xt(Ut)),sr}function or(Ut,sr){var xr=sr?Kt(Ut.buffer):Ut.buffer;return new Ut.constructor(xr,Ut.byteOffset,Ut.length)}function Sr(Ut,sr){var xr=-1,Dr=Ut.length;for(sr||(sr=Array(Dr));++xr<Dr;)sr[xr]=Ut[xr];return sr}function Rr(Ut,sr,xr,Dr){var Jr=!xr;xr||(xr={});for(var mn=-1,en=sr.length;++mn<en;){var Qr=sr[mn],xn=Dr?Dr(xr[Qr],Ut[Qr],Qr,xr,Ut):void 0;xn===void 0&&(xn=Ut[Qr]),Jr?Cs(xr,Qr,xn):no(xr,Qr,xn)}return xr}function jr(Ut){return _t(function(sr,xr){var Dr=-1,Jr=xr.length,mn=Jr>1?xr[Jr-1]:void 0,en=Jr>2?xr[2]:void 0;for(mn=Ut.length>3&&typeof mn=="function"?(Jr--,mn):void 0,en&&Os(xr[0],xr[1],en)&&(mn=Jr<3?void 0:mn,Jr=1),sr=Object(sr);++Dr<Jr;){var Qr=xr[Dr];Qr&&Ut(sr,Qr,Dr,mn)}return sr})}function rn(Ut){return function(sr,xr,Dr){for(var Jr=-1,mn=Object(sr),en=Dr(sr),Qr=en.length;Qr--;){var xn=en[Ut?Qr:++Jr];if(xr(mn[xn],xn,mn)===!1)break}return sr}}function _n(Ut,sr){var xr=Ut.__data__;return gn(sr)?xr[typeof sr=="string"?"string":"hash"]:xr.map}function zn(Ut,sr){var xr=fr(Ut,sr);return _i(xr)?xr:void 0}function ts(Ut){var sr=cn.call(Ut,Tr),xr=Ut[Tr];try{Ut[Tr]=void 0;var Dr=!0}catch{}var Jr=Mn.call(Ut);return Dr&&(sr?Ut[Tr]=xr:delete Ut[Tr]),Jr}function os(Ut){return typeof Ut.constructor=="function"&&!rs(Ut)?vn(lr(Ut)):{}}function hs(Ut,sr){var xr=typeof Ut;return sr=sr??ot,!!sr&&(xr=="number"||xr!="symbol"&&Wt.test(Ut))&&Ut>-1&&Ut%1==0&&Ut<sr}function Os(Ut,sr,xr){if(!ln(xr))return!1;var Dr=typeof sr;return(Dr=="number"?vr(xr)&&hs(sr,xr.length):Dr=="string"&&sr in xr)?Ft(xr[sr],Ut):!1}function gn(Ut){var sr=typeof Ut;return sr=="string"||sr=="number"||sr=="symbol"||sr=="boolean"?Ut!=="__proto__":Ut===null}function bs(Ut){return!!Gn&&Gn in Ut}function rs(Ut){var sr=Ut&&Ut.constructor,xr=typeof sr=="function"&&sr.prototype||In;return Ut===xr}function wo(Ut){var sr=[];if(Ut!=null)for(var xr in Object(Ut))sr.push(xr);return sr}function Eo(Ut){return Mn.call(Ut)}function $s(Ut,sr,xr){return sr=Or(sr===void 0?Ut.length-1:sr,0),function(){for(var Dr=arguments,Jr=-1,mn=Or(Dr.length-sr,0),en=Array(mn);++Jr<mn;)en[Jr]=Dr[sr+Jr];Jr=-1;for(var Qr=Array(sr+1);++Jr<sr;)Qr[Jr]=Dr[Jr];return Qr[sr]=xr(en),Yt(Ut,this,Qr)}}function go(Ut,sr){if(!(sr==="constructor"&&typeof Ut[sr]=="function")&&sr!="__proto__")return Ut[sr]}var Po=xt(Lt);function xt(Ut){var sr=0,xr=0;return function(){var Dr=qr(),Jr=tt-(Dr-xr);if(xr=Dr,Jr>0){if(++sr>=nt)return arguments[0]}else sr=0;return Ut.apply(void 0,arguments)}}function Rt(Ut){if(Ut!=null){try{return Pn.call(Ut)}catch{}try{return Ut+""}catch{}}return""}function Ft(Ut,sr){return Ut===sr||Ut!==Ut&&sr!==sr}var jt=Kr(function(){return arguments}())?Kr:function(Ut){return Fn(Ut)&&cn.call(Ut,"callee")&&!Nr.call(Ut,"callee")},ir=Array.isArray;function vr(Ut){return Ut!=null&&yn(Ut.length)&&!zr(Ut)}function wr(Ut){return Fn(Ut)&&vr(Ut)}var Vr=sn||pr;function zr(Ut){if(!ln(Ut))return!1;var sr=pn(Ut);return sr==et||sr==st||sr==it||sr==mt}function yn(Ut){return typeof Ut=="number"&&Ut>-1&&Ut%1==0&&Ut<=ot}function ln(Ut){var sr=typeof Ut;return Ut!=null&&(sr=="object"||sr=="function")}function Fn(Ut){return Ut!=null&&typeof Ut=="object"}function As(Ut){if(!Fn(Ut)||pn(Ut)!=ut)return!1;var sr=lr(Ut);if(sr===null)return!0;var xr=cn.call(sr,"constructor")&&sr.constructor;return typeof xr=="function"&&xr instanceof xr&&Pn.call(xr)==Er}var gs=rr?_r(rr):es;function Fs(Ut){return Rr(Ut,io(Ut))}function io(Ut){return vr(Ut)?xs(Ut,!0):_o(Ut)}var $n=jr(function(Ut,sr,xr,Dr){po(Ut,sr,xr,Dr)});function kn(Ut){return function(){return Ut}}function nr(Ut){return Ut}function pr(){return!1}i.exports=$n})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs(lodash_mergewithExports);var isImportant=i=>/!(important)?$/.test(i),withoutImportant=i=>typeof i=="string"?i.replace(/!(important)?$/,"").trim():i,tokenToCSSVar=(i,s)=>o=>{const a=String(s),nt=isImportant(a),tt=withoutImportant(a),ot=i?`${i}.${tt}`:tt;let at=isObject$2(o.__cssMap)&&ot in o.__cssMap?o.__cssMap[ot].varRef:s;return at=withoutImportant(at),nt?`${at} !important`:at};function createTransform(i){const{scale:s,transform:o,compose:a}=i;return(tt,ot)=>{var at;const rt=tokenToCSSVar(s,tt)(ot);let it=(at=o==null?void 0:o(rt,ot))!=null?at:rt;return a&&(it=a(it,ot)),it}}var pipe$2=(...i)=>s=>i.reduce((o,a)=>a(o),s);function toConfig(i,s){return o=>{const a={property:o,scale:i};return a.transform=createTransform({scale:i,transform:s}),a}}var getRtl=({rtl:i,ltr:s})=>o=>o.direction==="rtl"?i:s;function logical(i){const{property:s,scale:o,transform:a}=i;return{scale:o,property:getRtl(s),transform:o?createTransform({scale:o,compose:a}):a}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(i){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":i,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=i=>i.trim();function parseGradient(i,s){if(i==null||globalSet.has(i))return i;if(!(isCSSFunction(i)||globalSet.has(i)))return`url('${i}')`;const nt=/(^[a-z-A-Z]+)\((.*)\)/g.exec(i),tt=nt==null?void 0:nt[1],ot=nt==null?void 0:nt[2];if(!tt||!ot)return i;const at=tt.includes("-gradient")?tt:`${tt}-gradient`,[rt,...it]=ot.split(",").map(trimSpace).filter(Boolean);if((it==null?void 0:it.length)===0)return i;const j=rt in directionMap?directionMap[rt]:rt;it.unshift(j);const _=it.map($=>{if(valueSet.has($))return $;const et=$.indexOf(" "),[st,lt]=et!==-1?[$.substr(0,et),$.substr(et+1)]:[$],ct=isCSSFunction(lt)?lt:lt&&lt.split(" "),ht=`colors.${st}`,ut=ht in s.__cssMap?s.__cssMap[ht].varRef:st;return ct?[ut,...Array.isArray(ct)?ct:[ct]].join(" "):ut});return`${at}(${_.join(", ")})`}var isCSSFunction=i=>typeof i=="string"&&i.includes("(")&&i.includes(")"),gradientTransform=(i,s)=>parseGradient(i,s??{});function isCssVar(i){return/^var\(--.+\)$/.test(i)}var analyzeCSSValue=i=>{const s=parseFloat(i.toString()),o=i.toString().replace(String(s),"");return{unitless:!o,value:s,unit:o}},wrap=i=>s=>`${i}(${s})`,transformFunctions={filter(i){return i!=="auto"?i:filterTemplate},backdropFilter(i){return i!=="auto"?i:backdropFilterTemplate},ring(i){return getRingTemplate(transformFunctions.px(i))},bgClip(i){return i==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:i}},transform(i){return i==="auto"?getTransformTemplate():i==="auto-gpu"?getTransformGpuTemplate():i},vh(i){return i==="$100vh"?"var(--chakra-vh)":i},px(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue(i);return s||typeof i=="number"?`${i}px`:i},fraction(i){return typeof i!="number"||i>1?i:`${i*100}%`},float(i,s){const o={left:"right",right:"left"};return s.direction==="rtl"?o[i]:i},degree(i){if(isCssVar(i)||i==null)return i;const s=typeof i=="string"&&!i.endsWith("deg");return typeof i=="number"||s?`${i}deg`:i},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:i=>wrap("hue-rotate")(transformFunctions.degree(i)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(i){return i==null||isCSSFunction(i)||globalSet.has(i)?i:`url(${i})`},outline(i){const s=String(i)==="0"||String(i)==="none";return i!==null&&s?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:i}},flexDirection(i){var s;const{space:o,divide:a}=(s=flexDirectionTemplate[i])!=null?s:{},nt={flexDirection:i};return o&&(nt[o]=1),a&&(nt[a]=1),nt}},t={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(i){return{property:i,transform:transformFunctions.degree}},prop(i,s,o){return{property:i,scale:s,...s&&{transform:createTransform({scale:s,transform:o})}}},propT(i,s){return{property:i,transform:s}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t.colors("background"),backgroundColor:t.colors("backgroundColor"),backgroundImage:t.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t.prop("backgroundSize"),bgPosition:t.prop("backgroundPosition"),bg:t.colors("background"),bgColor:t.colors("backgroundColor"),bgPos:t.prop("backgroundPosition"),bgRepeat:t.prop("backgroundRepeat"),bgAttachment:t.prop("backgroundAttachment"),bgGradient:t.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t.borders("border"),borderWidth:t.borderWidths("borderWidth"),borderStyle:t.borderStyles("borderStyle"),borderColor:t.colors("borderColor"),borderRadius:t.radii("borderRadius"),borderTop:t.borders("borderTop"),borderBlockStart:t.borders("borderBlockStart"),borderTopLeftRadius:t.radii("borderTopLeftRadius"),borderStartStartRadius:t.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t.radii("borderTopRightRadius"),borderStartEndRadius:t.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t.borders("borderRight"),borderInlineEnd:t.borders("borderInlineEnd"),borderBottom:t.borders("borderBottom"),borderBlockEnd:t.borders("borderBlockEnd"),borderBottomLeftRadius:t.radii("borderBottomLeftRadius"),borderBottomRightRadius:t.radii("borderBottomRightRadius"),borderLeft:t.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t.borders(["borderLeft","borderRight"]),borderInline:t.borders("borderInline"),borderY:t.borders(["borderTop","borderBottom"]),borderBlock:t.borders("borderBlock"),borderTopWidth:t.borderWidths("borderTopWidth"),borderBlockStartWidth:t.borderWidths("borderBlockStartWidth"),borderTopColor:t.colors("borderTopColor"),borderBlockStartColor:t.colors("borderBlockStartColor"),borderTopStyle:t.borderStyles("borderTopStyle"),borderBlockStartStyle:t.borderStyles("borderBlockStartStyle"),borderBottomWidth:t.borderWidths("borderBottomWidth"),borderBlockEndWidth:t.borderWidths("borderBlockEndWidth"),borderBottomColor:t.colors("borderBottomColor"),borderBlockEndColor:t.colors("borderBlockEndColor"),borderBottomStyle:t.borderStyles("borderBottomStyle"),borderBlockEndStyle:t.borderStyles("borderBlockEndStyle"),borderLeftWidth:t.borderWidths("borderLeftWidth"),borderInlineStartWidth:t.borderWidths("borderInlineStartWidth"),borderLeftColor:t.colors("borderLeftColor"),borderInlineStartColor:t.colors("borderInlineStartColor"),borderLeftStyle:t.borderStyles("borderLeftStyle"),borderInlineStartStyle:t.borderStyles("borderInlineStartStyle"),borderRightWidth:t.borderWidths("borderRightWidth"),borderInlineEndWidth:t.borderWidths("borderInlineEndWidth"),borderRightColor:t.colors("borderRightColor"),borderInlineEndColor:t.colors("borderInlineEndColor"),borderRightStyle:t.borderStyles("borderRightStyle"),borderInlineEndStyle:t.borderStyles("borderInlineEndStyle"),borderTopRadius:t.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$1={color:t.colors("color"),textColor:t.colors("color"),fill:t.colors("fill"),stroke:t.colors("stroke")},effect={boxShadow:t.shadows("boxShadow"),mixBlendMode:!0,blendMode:t.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});var filter$2={filter:{transform:transformFunctions.filter},blur:t.blur("--chakra-blur"),brightness:t.propT("--chakra-brightness",transformFunctions.brightness),contrast:t.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t.propT("--chakra-invert",transformFunctions.invert),saturate:t.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t.blur("--chakra-backdrop-blur"),backdropBrightness:t.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t.space("gap"),rowGap:t.space("rowGap"),columnGap:t.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t.space("gridGap"),gridColumnGap:t.space("gridColumnGap"),gridRowGap:t.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t.colors("outlineColor")},layout$1={width:t.sizesT("width"),inlineSize:t.sizesT("inlineSize"),height:t.sizes("height"),blockSize:t.sizes("blockSize"),boxSize:t.sizes(["width","height"]),minWidth:t.sizes("minWidth"),minInlineSize:t.sizes("minInlineSize"),minHeight:t.sizes("minHeight"),minBlockSize:t.sizes("minBlockSize"),maxWidth:t.sizes("maxWidth"),maxInlineSize:t.sizes("maxInlineSize"),maxHeight:t.sizes("maxHeight"),maxBlockSize:t.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(i,s)=>{var o,a,nt;return{[`@media screen and (min-width: ${(nt=(a=(o=s.__breakpoints)==null?void 0:o.get(i))==null?void 0:a.minW)!=null?nt:i})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(i,s)=>{var o,a,nt;return{[`@media screen and (max-width: ${(nt=(a=(o=s.__breakpoints)==null?void 0:o.get(i))==null?void 0:a._minW)!=null?nt:i})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});var list$2={listStyleType:!0,listStylePosition:!0,listStylePos:t.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t.prop("listStyleImage")};function get$3(i,s,o,a){const nt=typeof s=="string"?s.split("."):[s];for(a=0;a<nt.length&&i;a+=1)i=i[nt[a]];return i===void 0?o:i}var memoize$2=i=>{const s=new WeakMap;return(a,nt,tt,ot)=>{if(typeof a>"u")return i(a,nt,tt);s.has(a)||s.set(a,new Map);const at=s.get(a);if(at.has(nt))return at.get(nt);const rt=i(a,nt,tt,ot);return at.set(nt,rt),rt}},memoizedGet$1=memoize$2(get$3),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(i,s,o)=>{const a={},nt=memoizedGet$1(i,s,{});for(const tt in nt)tt in o&&o[tt]!=null||(a[tt]=nt[tt]);return a},others={srOnly:{transform(i){return i===!0?srOnly:i==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,`layerStyles.${i}`,o)},textStyle:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,`textStyles.${i}`,o)},apply:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,i,o)}},position={position:!0,pos:t.prop("position"),zIndex:t.prop("zIndex","zIndices"),inset:t.spaceT("inset"),insetX:t.spaceT(["left","right"]),insetInline:t.spaceT("insetInline"),insetY:t.spaceT(["top","bottom"]),insetBlock:t.spaceT("insetBlock"),top:t.spaceT("top"),insetBlockStart:t.spaceT("insetBlockStart"),bottom:t.spaceT("bottom"),insetBlockEnd:t.spaceT("insetBlockEnd"),left:t.spaceT("left"),insetInlineStart:t.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t.spaceT("right"),insetInlineEnd:t.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position,{insetStart:position.insetInlineStart,insetEnd:position.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t.colors("--chakra-ring-color"),ringOffset:t.prop("--chakra-ring-offset-width"),ringOffsetColor:t.colors("--chakra-ring-offset-color"),ringInset:t.prop("--chakra-ring-inset")},space={margin:t.spaceT("margin"),marginTop:t.spaceT("marginTop"),marginBlockStart:t.spaceT("marginBlockStart"),marginRight:t.spaceT("marginRight"),marginInlineEnd:t.spaceT("marginInlineEnd"),marginBottom:t.spaceT("marginBottom"),marginBlockEnd:t.spaceT("marginBlockEnd"),marginLeft:t.spaceT("marginLeft"),marginInlineStart:t.spaceT("marginInlineStart"),marginX:t.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t.spaceT("marginInline"),marginY:t.spaceT(["marginTop","marginBottom"]),marginBlock:t.spaceT("marginBlock"),padding:t.space("padding"),paddingTop:t.space("paddingTop"),paddingBlockStart:t.space("paddingBlockStart"),paddingRight:t.space("paddingRight"),paddingBottom:t.space("paddingBottom"),paddingBlockEnd:t.space("paddingBlockEnd"),paddingLeft:t.space("paddingLeft"),paddingInlineStart:t.space("paddingInlineStart"),paddingInlineEnd:t.space("paddingInlineEnd"),paddingX:t.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t.space("paddingInline"),paddingY:t.space(["paddingTop","paddingBottom"]),paddingBlock:t.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t.shadows("textShadow")},transform={clipPath:!0,transform:t.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t.spaceT("--chakra-translate-x"),translateY:t.spaceT("--chakra-translate-y"),skewX:t.degreeT("--chakra-skew-x"),skewY:t.degreeT("--chakra-skew-y"),scaleX:t.prop("--chakra-scale-x"),scaleY:t.prop("--chakra-scale-y"),scale:t.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t.prop("transitionDuration","transition.duration"),transitionProperty:t.prop("transitionProperty","transition.property"),transitionTimingFunction:t.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t.prop("fontFamily","fonts"),fontSize:t.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t.prop("fontWeight","fontWeights"),lineHeight:t.prop("lineHeight","lineHeights"),letterSpacing:t.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(i){if(i===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t.spaceT("scrollMargin"),scrollMarginTop:t.spaceT("scrollMarginTop"),scrollMarginBottom:t.spaceT("scrollMarginBottom"),scrollMarginLeft:t.spaceT("scrollMarginLeft"),scrollMarginRight:t.spaceT("scrollMarginRight"),scrollMarginX:t.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t.spaceT("scrollPadding"),scrollPaddingTop:t.spaceT("scrollPaddingTop"),scrollPaddingBottom:t.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t.spaceT("scrollPaddingLeft"),scrollPaddingRight:t.spaceT("scrollPaddingRight"),scrollPaddingX:t.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpression=(i,...s)=>s.map(resolveReference).join(` ${i} `).replace(/calc/g,""),add$1=(...i)=>`calc(${toExpression("+",...i)})`,subtract$1=(...i)=>`calc(${toExpression("-",...i)})`,multiply$1=(...i)=>`calc(${toExpression("*",...i)})`,divide$1=(...i)=>`calc(${toExpression("/",...i)})`,negate$1=i=>{const s=resolveReference(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$1(s,-1)},calc$1=Object.assign(i=>({add:(...s)=>calc$1(add$1(i,...s)),subtract:(...s)=>calc$1(subtract$1(i,...s)),multiply:(...s)=>calc$1(multiply$1(i,...s)),divide:(...s)=>calc$1(divide$1(i,...s)),negate:()=>calc$1(negate$1(i)),toString:()=>i.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(i,s="-"){return i.replace(/\s+/g,s)}function escape$1(i){const s=replaceWhiteSpace$1(i.toString());return escapeSymbol(escapeDot(s))}function escapeDot(i){return i.includes("\\.")?i:!Number.isInteger(parseFloat(i.toString()))?i.replace(".","\\."):i}function escapeSymbol(i){return i.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(i,s=""){return[s,i].filter(Boolean).join("-")}function toVarReference(i,s){return`var(${i}${s?`, ${s}`:""})`}function toVarDefinition(i,s=""){return escape$1(`--${addPrefix$1(i,s)}`)}function cssVar$1(i,s,o){const a=toVarDefinition(i,o);return{variable:a,reference:toVarReference(a,s)}}function defineCssVars(i,s){const o={};for(const a of s){if(Array.isArray(a)){const[nt,tt]=a;o[nt]=cssVar$1(`${i}-${nt}`,tt);continue}o[a]=cssVar$1(`${i}-${a}`)}return o}function getLastItem(i){const s=i==null?0:i.length;return s?i[s-1]:void 0}function analyzeCSSValue2(i){const s=parseFloat(i.toString()),o=i.toString().replace(String(s),"");return{unitless:!o,value:s,unit:o}}function px$1(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue2(i);return s||typeof i=="number"?`${i}px`:i}var sortByBreakpointValue=(i,s)=>parseInt(i[1],10)>parseInt(s[1],10)?1:-1,sortBps=i=>Object.fromEntries(Object.entries(i).sort(sortByBreakpointValue));function normalize(i){const s=sortBps(i);return Object.assign(Object.values(s),s)}function keys(i){const s=Object.keys(sortBps(i));return new Set(s)}function subtract2(i){var s;if(!i)return i;i=(s=px$1(i))!=null?s:i;const o=-.02;return typeof i=="number"?`${i+o}`:i.replace(/(\d+\.?\d*)/u,a=>`${parseFloat(a)+o}`)}function toMediaQueryString(i,s){const o=["@media screen"];return i&&o.push("and",`(min-width: ${px$1(i)})`),s&&o.push("and",`(max-width: ${px$1(s)})`),o.join(" ")}function analyzeBreakpoints(i){var s;if(!i)return null;i.base=(s=i.base)!=null?s:"0px";const o=normalize(i),a=Object.entries(i).sort(sortByBreakpointValue).map(([ot,at],rt,it)=>{var j;let[,_]=(j=it[rt+1])!=null?j:[];return _=parseFloat(_)>0?subtract2(_):void 0,{_minW:subtract2(at),breakpoint:ot,minW:at,maxW:_,maxWQuery:toMediaQueryString(null,_),minWQuery:toMediaQueryString(at),minMaxQuery:toMediaQueryString(at,_)}}),nt=keys(i),tt=Array.from(nt.values());return{keys:nt,normalized:o,isResponsive(ot){const at=Object.keys(ot);return at.length>0&&at.every(rt=>nt.has(rt))},asObject:sortBps(i),asArray:normalize(i),details:a,get(ot){return a.find(at=>at.breakpoint===ot)},media:[null,...o.map(ot=>toMediaQueryString(ot)).slice(1)],toArrayValue(ot){if(!isObject$2(ot))throw new Error("toArrayValue: value must be an object");const at=tt.map(rt=>{var it;return(it=ot[rt])!=null?it:null});for(;getLastItem(at)===null;)at.pop();return at},toObjectValue(ot){if(!Array.isArray(ot))throw new Error("toObjectValue: value must be an array");return ot.reduce((at,rt,it)=>{const j=tt[it];return j!=null&&rt!=null&&(at[j]=rt),at},{})}}}var state={hover:(i,s)=>`${i}:hover ${s}, ${i}[data-hover] ${s}`,focus:(i,s)=>`${i}:focus ${s}, ${i}[data-focus] ${s}`,focusVisible:(i,s)=>`${i}:focus-visible ${s}`,focusWithin:(i,s)=>`${i}:focus-within ${s}`,active:(i,s)=>`${i}:active ${s}, ${i}[data-active] ${s}`,disabled:(i,s)=>`${i}:disabled ${s}, ${i}[data-disabled] ${s}`,invalid:(i,s)=>`${i}:invalid ${s}, ${i}[data-invalid] ${s}`,checked:(i,s)=>`${i}:checked ${s}, ${i}[data-checked] ${s}`,indeterminate:(i,s)=>`${i}:indeterminate ${s}, ${i}[aria-checked=mixed] ${s}, ${i}[data-indeterminate] ${s}`,readOnly:(i,s)=>`${i}:read-only ${s}, ${i}[readonly] ${s}, ${i}[data-read-only] ${s}`,expanded:(i,s)=>`${i}:read-only ${s}, ${i}[aria-expanded=true] ${s}, ${i}[data-expanded] ${s}`,placeholderShown:(i,s)=>`${i}:placeholder-shown ${s}`},toGroup=i=>merge(s=>i(s,"&"),"[role=group]","[data-group]",".group"),toPeer=i=>merge(s=>i(s,"~ &"),"[data-peer]",".peer"),merge=(i,...s)=>s.map(i).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(i,s){return cssVar$1(String(i).replace(/\./g,"-"),void 0,s)}function createThemeVars(i,s){let o={};const a={};for(const[nt,tt]of Object.entries(i)){const{isSemantic:ot,value:at}=tt,{variable:rt,reference:it}=tokenToCssVar(nt,s==null?void 0:s.cssVarPrefix);if(!ot){if(nt.startsWith("space")){const $=nt.split("."),[et,...st]=$,lt=`${et}.-${st.join(".")}`,ct=calc$1.negate(at),ht=calc$1.negate(it);a[lt]={value:ct,var:rt,varRef:ht}}o[rt]=at,a[nt]={value:at,var:rt,varRef:it};continue}const j=$=>{const st=[String(nt).split(".")[0],$].join(".");if(!i[st])return $;const{reference:ct}=tokenToCssVar(st,s==null?void 0:s.cssVarPrefix);return ct},_=isObject$2(at)?at:{default:at};o=mergeWith(o,Object.entries(_).reduce(($,[et,st])=>{var lt,ct;if(!st)return $;const ht=j(`${st}`);if(et==="default")return $[rt]=ht,$;const ut=(ct=(lt=pseudoSelectors)==null?void 0:lt[et])!=null?ct:et;return $[ut]={[rt]:ht},$},{})),a[nt]={value:it,var:rt,varRef:it}}return{cssVars:o,cssMap:a}}function omit$2(i,s=[]){const o=Object.assign({},i);for(const a of s)a in o&&delete o[a];return o}function pick$1(i,s){const o={};for(const a of s)a in i&&(o[a]=i[a]);return o}function isObject5(i){return typeof i=="object"&&i!=null&&!Array.isArray(i)}function walkObject(i,s,o={}){const{stop:a,getKey:nt}=o;function tt(ot,at=[]){var rt;if(isObject5(ot)||Array.isArray(ot)){const it={};for(const[j,_]of Object.entries(ot)){const $=(rt=nt==null?void 0:nt(j))!=null?rt:j,et=[...at,$];if(a!=null&&a(ot,et))return s(ot,at);it[$]=tt(_,et)}return it}return s(ot,at)}return tt(i)}var tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(i){return pick$1(i,tokens)}function extractSemanticTokens(i){return i.semanticTokens}function omitVars(i){const{__cssMap:s,__cssVars:o,__breakpoints:a,...nt}=i;return nt}var isSemanticCondition=i=>pseudoPropNames.includes(i)||i==="default";function flattenTokens({tokens:i,semanticTokens:s}){const o={};return walkObject(i,(a,nt)=>{a!=null&&(o[nt.join(".")]={isSemantic:!1,value:a})}),walkObject(s,(a,nt)=>{a!=null&&(o[nt.join(".")]={isSemantic:!0,value:a})},{stop:a=>Object.keys(a).every(isSemanticCondition)}),o}function toCSSVar(i){var s;const o=omitVars(i),a=extractTokens(o),nt=extractSemanticTokens(o),tt=flattenTokens({tokens:a,semanticTokens:nt}),ot=(s=o.config)==null?void 0:s.cssVarPrefix,{cssMap:at,cssVars:rt}=createThemeVars(tt,{cssVarPrefix:ot});return Object.assign(o,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...rt},__cssMap:at,__breakpoints:analyzeBreakpoints(o.breakpoints)}),o}var systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$2,ring,interactivity,grid,others,position,effect,space,scroll,typography$1,textDecoration,transform,list$2,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=i=>i in styleProps,expandResponsive=i=>s=>{if(!s.__breakpoints)return i;const{isResponsive:o,toArrayValue:a,media:nt}=s.__breakpoints,tt={};for(const ot in i){let at=runIfFn$2(i[ot],s);if(at==null)continue;if(at=isObject$2(at)&&o(at)?a(at):at,!Array.isArray(at)){tt[ot]=at;continue}const rt=at.slice(0,nt.length).length;for(let it=0;it<rt;it+=1){const j=nt==null?void 0:nt[it];if(!j){tt[ot]=at[it];continue}tt[j]=tt[j]||{},at[it]!=null&&(tt[j][ot]=at[it])}}return tt};function splitByComma(i){const s=[];let o="",a=!1;for(let nt=0;nt<i.length;nt++){const tt=i[nt];tt==="("?(a=!0,o+=tt):tt===")"?(a=!1,o+=tt):tt===","&&!a?(s.push(o),o=""):o+=tt}return o=o.trim(),o&&s.push(o),s}function isCssVar2(i){return/^var\(--.+\)$/.test(i)}var isCSSVariableTokenValue=(i,s)=>i.startsWith("--")&&typeof s=="string"&&!isCssVar2(s),resolveTokenValue=(i,s)=>{var o,a;if(s==null)return s;const nt=rt=>{var it,j;return(j=(it=i.__cssMap)==null?void 0:it[rt])==null?void 0:j.varRef},tt=rt=>{var it;return(it=nt(rt))!=null?it:rt},[ot,at]=splitByComma(s);return s=(a=(o=nt(ot))!=null?o:tt(at))!=null?a:tt(s),s};function getCss(i){const{configs:s={},pseudos:o={},theme:a}=i,nt=(tt,ot=!1)=>{var at,rt,it;const j=runIfFn$2(tt,a),_=expandResponsive(j)(a);let $={};for(let et in _){const st=_[et];let lt=runIfFn$2(st,a);et in o&&(et=o[et]),isCSSVariableTokenValue(et,lt)&&(lt=resolveTokenValue(a,lt));let ct=s[et];if(ct===!0&&(ct={property:et}),isObject$2(lt)){$[et]=(at=$[et])!=null?at:{},$[et]=mergeWith({},$[et],nt(lt,!0));continue}let ht=(it=(rt=ct==null?void 0:ct.transform)==null?void 0:rt.call(ct,lt,a,j))!=null?it:lt;ht=ct!=null&&ct.processResult?nt(ht,!0):ht;const ut=runIfFn$2(ct==null?void 0:ct.property,a);if(!ot&&(ct!=null&&ct.static)){const mt=runIfFn$2(ct.static,a);$=mergeWith({},$,mt)}if(ut&&Array.isArray(ut)){for(const mt of ut)$[mt]=ht;continue}if(ut){ut==="&"&&isObject$2(ht)?$=mergeWith({},$,ht):$[ut]=ht;continue}if(isObject$2(ht)){$=mergeWith({},$,ht);continue}$[et]=ht}return $};return nt}var css=i=>s=>getCss({theme:s,pseudos:pseudoSelectors,configs:systemProps})(i);function defineStyle(i){return i}function defineStyleConfig(i){return i}function createMultiStyleConfigHelpers(i){return{definePartsStyle(s){return s},defineMultiStyleConfig(s){return{parts:i,...s}}}}function normalize2(i,s){if(Array.isArray(i))return i;if(isObject$2(i))return s(i);if(i!=null)return[i]}function getNextIndex(i,s){for(let o=s+1;o<i.length;o++)if(i[o]!=null)return o;return-1}function createResolver(i){const s=i.__breakpoints;return function(a,nt,tt,ot){var at,rt;if(!s)return;const it={},j=normalize2(tt,s.toArrayValue);if(!j)return it;const _=j.length,$=_===1,et=!!a.parts;for(let st=0;st<_;st++){const lt=s.details[st],ct=s.details[getNextIndex(j,st)],ht=toMediaQueryString(lt.minW,ct==null?void 0:ct._minW),ut=runIfFn$2((at=a[nt])==null?void 0:at[j[st]],ot);if(ut){if(et){(rt=a.parts)==null||rt.forEach(mt=>{mergeWith(it,{[mt]:$?ut[mt]:{[ht]:ut[mt]}})});continue}if(!et){$?mergeWith(it,ut):it[ht]=ut;continue}it[ht]=ut}}return it}}function resolveStyleConfig(i){return s=>{var o;const{variant:a,size:nt,theme:tt}=s,ot=createResolver(tt);return mergeWith({},runIfFn$2((o=i.baseStyle)!=null?o:{},s),ot(i,"sizes",nt,s),ot(i,"variants",a,s))}}function omitThemingProps(i){return omit$2(i,["styleConfig","size","variant","colorScheme"])}var requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(i){return isObject$2(i)?requiredChakraThemeKeys.every(s=>Object.prototype.hasOwnProperty.call(i,s)):!1}var transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders$1,breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints$1,colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},sizes_default=sizes$m,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default},{defineMultiStyleConfig:defineMultiStyleConfig$p,definePartsStyle:definePartsStyle$p}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size$4=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$F=definePartsStyle$p(({colorScheme:i})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${i}.500`,_dark:{[$accentColor.variable]:`colors.${i}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size$4.reference,height:$size$4.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size$4.reference} - 8px)`,top:`calc(${$size$4.reference} + 4px)`,insetStart:`calc(${$size$4.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$F,sizes:{xs:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function anatomy(i,s={}){let o=!1;function a(){if(!o){o=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function nt(...j){a();for(const _ of j)s[_]=rt(_);return anatomy(i,s)}function tt(...j){for(const _ of j)_ in s||(s[_]=rt(_));return anatomy(i,s)}function ot(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.selector]))}function at(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.className]))}function rt(j){const et=`chakra-${(["container","root"].includes(j??"")?[i]:[i,j]).filter(Boolean).join("__")}`;return{className:et,selector:`.${et}`,toString:()=>j}}return{parts:nt,toPart:rt,extend:tt,selectors:ot,classnames:at,get keys(){return Object.keys(s)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function guard(i,s,o){return Math.min(Math.max(i,o),s)}class ColorError extends Error{constructor(s){super(`Failed to parse color: "${s}"`)}}var ColorError$1=ColorError;function parseToRgba(i){if(typeof i!="string")throw new ColorError$1(i);if(i.trim().toLowerCase()==="transparent")return[0,0,0,0];let s=i.trim();s=namedColorRegex.test(i)?nameToHex(i):i;const o=reducedHexRegex.exec(s);if(o){const ot=Array.from(o).slice(1);return[...ot.slice(0,3).map(at=>parseInt(r(at,2),16)),parseInt(r(ot[3]||"f",2),16)/255]}const a=hexRegex.exec(s);if(a){const ot=Array.from(a).slice(1);return[...ot.slice(0,3).map(at=>parseInt(at,16)),parseInt(ot[3]||"ff",16)/255]}const nt=rgbaRegex.exec(s);if(nt){const ot=Array.from(nt).slice(1);return[...ot.slice(0,3).map(at=>parseInt(at,10)),parseFloat(ot[3]||"1")]}const tt=hslaRegex.exec(s);if(tt){const[ot,at,rt,it]=Array.from(tt).slice(1).map(parseFloat);if(guard(0,100,at)!==at)throw new ColorError$1(i);if(guard(0,100,rt)!==rt)throw new ColorError$1(i);return[...hslToRgb(ot,at,rt),Number.isNaN(it)?1:it]}throw new ColorError$1(i)}function hash(i){let s=5381,o=i.length;for(;o;)s=s*33^i.charCodeAt(--o);return(s>>>0)%2341}const colorToInt=i=>parseInt(i.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((i,s)=>{const o=colorToInt(s.substring(0,3)),a=colorToInt(s.substring(3)).toString(16);let nt="";for(let tt=0;tt<6-a.length;tt++)nt+="0";return i[o]=`${nt}${a}`,i},{});function nameToHex(i){const s=i.toLowerCase().trim(),o=compressedColorMap[hash(s)];if(!o)throw new ColorError$1(i);return`#${o}`}const r=(i,s)=>Array.from(Array(s)).map(()=>i).join(""),reducedHexRegex=new RegExp(`^#${r("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=i=>Math.round(i*255),hslToRgb=(i,s,o)=>{let a=o/100;if(s===0)return[a,a,a].map(roundColor);const nt=(i%360+360)%360/60,tt=(1-Math.abs(2*a-1))*(s/100),ot=tt*(1-Math.abs(nt%2-1));let at=0,rt=0,it=0;nt>=0&&nt<1?(at=tt,rt=ot):nt>=1&&nt<2?(at=ot,rt=tt):nt>=2&&nt<3?(rt=tt,it=ot):nt>=3&&nt<4?(rt=ot,it=tt):nt>=4&&nt<5?(at=ot,it=tt):nt>=5&&nt<6&&(at=tt,it=ot);const j=a-tt/2,_=at+j,$=rt+j,et=it+j;return[_,$,et].map(roundColor)};function rgba$1(i,s,o,a){return`rgba(${guard(0,255,i).toFixed()}, ${guard(0,255,s).toFixed()}, ${guard(0,255,o).toFixed()}, ${parseFloat(guard(0,1,a).toFixed(3))})`}function transparentize$1(i,s){const[o,a,nt,tt]=parseToRgba(i);return rgba$1(o,a,nt,tt-s)}function toHex(i){const[s,o,a,nt]=parseToRgba(i);let tt=ot=>{const at=guard(0,255,ot).toString(16);return at.length===1?`0${at}`:at};return`#${tt(s)}${tt(o)}${tt(a)}${nt<1?tt(Math.round(nt*255)):""}`}function dlv_es_default(i,s,o,a,nt){for(s=s.split?s.split("."):s,a=0;a<s.length;a++)i=i?i[s[a]]:nt;return i===nt?o:i}var isEmptyObject=i=>Object.keys(i).length===0,getColor=(i,s,o)=>{const a=dlv_es_default(i,`colors.${s}`,s);try{return toHex(a),a}catch{return o??"#000000"}},getBrightness=i=>{const[s,o,a]=parseToRgba(i);return(s*299+o*587+a*114)/1e3},tone=i=>s=>{const o=getColor(s,i);return getBrightness(o)<128?"dark":"light"},isDark=i=>s=>tone(i)(s)==="dark",transparentize=(i,s)=>o=>{const a=getColor(o,i);return transparentize$1(a,1-s)};function generateStripe(i="1rem",s="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${s} 25%,
    transparent 25%,
    transparent 50%,
    ${s} 50%,
    ${s} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${i} ${i}`}}var randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(i){const s=randomHex();return!i||isEmptyObject(i)?s:i.string&&i.colors?randomColorFromList(i.string,i.colors):i.string&&!i.colors?randomColorFromString(i.string):i.colors&&!i.string?randomFromList(i.colors):s}function randomColorFromString(i){let s=0;if(i.length===0)return s.toString();for(let a=0;a<i.length;a+=1)s=i.charCodeAt(a)+((s<<5)-s),s=s&s;let o="#";for(let a=0;a<3;a+=1){const nt=s>>a*8&255;o+=`00${nt.toString(16)}`.substr(-2)}return o}function randomColorFromList(i,s){let o=0;if(i.length===0)return s[0];for(let a=0;a<i.length;a+=1)o=i.charCodeAt(a)+((o<<5)-o),o=o&o;return o=(o%s.length+s.length)%s.length,s[o]}function randomFromList(i){return i[Math.floor(Math.random()*i.length)]}function mode(i,s){return o=>o.colorMode==="dark"?s:i}function orient(i){const{orientation:s,vertical:o,horizontal:a}=i;return s?s==="vertical"?o:a:{}}function toRef(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpr=(i,...s)=>s.map(toRef).join(` ${i} `).replace(/calc/g,""),add=(...i)=>`calc(${toExpr("+",...i)})`,subtract=(...i)=>`calc(${toExpr("-",...i)})`,multiply=(...i)=>`calc(${toExpr("*",...i)})`,divide=(...i)=>`calc(${toExpr("/",...i)})`,negate=i=>{const s=toRef(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply(s,-1)},calc=Object.assign(i=>({add:(...s)=>calc(add(i,...s)),subtract:(...s)=>calc(subtract(i,...s)),multiply:(...s)=>calc(multiply(i,...s)),divide:(...s)=>calc(divide(i,...s)),negate:()=>calc(negate(i)),toString:()=>i.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(i){return!Number.isInteger(parseFloat(i.toString()))}function replaceWhiteSpace(i,s="-"){return i.replace(/\s+/g,s)}function escape(i){const s=replaceWhiteSpace(i.toString());return s.includes("\\.")?i:isDecimal(i)?s.replace(".","\\."):i}function addPrefix(i,s=""){return[s,escape(i)].filter(Boolean).join("-")}function toVarRef(i,s){return`var(${escape(i)}${s?`, ${s}`:""})`}function toVar(i,s=""){return`--${addPrefix(i,s)}`}function cssVar(i,s){const o=toVar(i,s==null?void 0:s.prefix);return{variable:o,reference:toVarRef(o,getFallback(s==null?void 0:s.fallback))}}function getFallback(i){return typeof i=="string"?i:i==null?void 0:i.reference}var{defineMultiStyleConfig:defineMultiStyleConfig$o,definePartsStyle:definePartsStyle$o}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height$1=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height$1),$translateX=cssVar("switch-thumb-x"),$bg$f=cssVar("switch-bg"),baseStyleTrack$2=i=>{const{colorScheme:s}=i;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height$1.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$f.variable]:"colors.gray.300",_dark:{[$bg$f.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$f.variable]:`colors.${s}.500`,_dark:{[$bg$f.variable]:`colors.${s}.200`}},bg:$bg$f.reference}},baseStyleThumb$1={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height$1.reference],height:[$height$1.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$E=definePartsStyle$o(i=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack$2(i),thumb:baseStyleThumb$1})),sizes$l={sm:definePartsStyle$o({container:{[$width.variable]:"1.375rem",[$height$1.variable]:"sizes.3"}}),md:definePartsStyle$o({container:{[$width.variable]:"1.875rem",[$height$1.variable]:"sizes.4"}}),lg:definePartsStyle$o({container:{[$width.variable]:"2.875rem",[$height$1.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig$o({baseStyle:baseStyle$E,sizes:sizes$l,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$n,definePartsStyle:definePartsStyle$n}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$D=definePartsStyle$n({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i)},td:{background:mode(`${s}.100`,`${s}.700`)(i)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$e={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$k={sm:definePartsStyle$n({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$n({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$n({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$D,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$5=cssVar$1("tabs-color"),$bg$e=cssVar$1("tabs-bg"),$border$3=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot$1=i=>{const{orientation:s}=i;return{display:s==="vertical"?"flex":"block"}},baseStyleTab=i=>{const{isFitted:s}=i;return{flex:s?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=i=>{const{align:s="start",orientation:o}=i;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[s],flexDirection:o==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$C=definePartsStyle$m(i=>({root:baseStyleRoot$1(i),tab:baseStyleTab(i),tablist:baseStyleTablist(i),tabpanel:baseStyleTabpanel})),sizes$j={sm:definePartsStyle$m({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$m({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$m({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$m(i=>{const{colorScheme:s,orientation:o}=i,a=o==="vertical",nt=a?"borderStart":"borderBottom",tt=a?"marginStart":"marginBottom";return{tablist:{[nt]:"2px solid",borderColor:"inherit"},tab:{[nt]:"2px solid",borderColor:"transparent",[tt]:"-2px",_selected:{[$fg$5.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:`colors.${s}.300`},borderColor:"currentColor"},_active:{[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantEnclosed=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border$3.variable]:"transparent",_selected:{[$fg$5.variable]:`colors.${s}.600`,[$border$3.variable]:"colors.white",_dark:{[$fg$5.variable]:`colors.${s}.300`,[$border$3.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border$3.reference},color:$fg$5.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$e.variable]:"colors.gray.50",_dark:{[$bg$e.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$e.variable]:"colors.white",[$fg$5.variable]:`colors.${s}.600`,_dark:{[$bg$e.variable]:"colors.gray.800",[$fg$5.variable]:`colors.${s}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$5.reference,bg:$bg$e.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$m(i=>{const{colorScheme:s,theme:o}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(o,`${s}.700`),bg:getColor(o,`${s}.100`)}}}}),variantSolidRounded=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$5.variable]:"colors.gray.600",_dark:{[$fg$5.variable]:"inherit"},_selected:{[$fg$5.variable]:"colors.white",[$bg$e.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:"colors.gray.800",[$bg$e.variable]:`colors.${s}.300`}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantUnstyled$2=definePartsStyle$m({}),variants$d={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled$2},tabsTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$C,sizes:sizes$j,variants:variants$d,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$B={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$3=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.500`,.6)(o);return{[vars.bg.variable]:`colors.${s}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:a,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle$1=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.200`,.16)(o);return{[vars.bg.variable]:`colors.${s}.100`,[vars.color.variable]:`colors.${s}.800`,_dark:{[vars.bg.variable]:a,[vars.color.variable]:`colors.${s}.200`}}},variantOutline$2=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.200`,.8)(o);return{[vars.color.variable]:`colors.${s}.500`,_dark:{[vars.color.variable]:a},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$c={solid:variantSolid$3,subtle:variantSubtle$1,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$B,variants:variants$c,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$l,definePartsStyle:definePartsStyle$l}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$d=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow$3=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize$1=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer$4={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$d.variable]:vars.bg.reference,[$shadow$3.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize$1.reference,px:$paddingX.reference,_focusVisible:{[$shadow$3.variable]:"shadows.outline"}},baseStyleLabel$4={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton$3={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$A=definePartsStyle$l({container:baseStyleContainer$4,label:baseStyleLabel$4,closeButton:baseStyleCloseButton$3}),sizes$i={sm:definePartsStyle$l({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize$1.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle$l({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize$1.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle$l({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize$1.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$b={subtle:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.subtle(i)}}),solid:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.solid(i)}}),outline:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.outline(i)}})},tagTheme=defineMultiStyleConfig$l({variants:variants$b,baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height=cssVar$1("input-height"),$fontSize=cssVar$1("input-font-size"),$padding$1=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$z=definePartsStyle$k({addon:{height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize.variable]:"fontSizes.lg",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.12"},md:{[$fontSize.variable]:"fontSizes.md",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.10"},sm:{[$fontSize.variable]:"fontSizes.sm",[$padding$1.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.8"},xs:{[$fontSize.variable]:"fontSizes.xs",[$padding$1.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.6"}},sizes$h={lg:definePartsStyle$k({field:size.lg,group:size.lg}),md:definePartsStyle$k({field:size.md,group:size.md}),sm:definePartsStyle$k({field:size.sm,group:size.sm}),xs:definePartsStyle$k({field:size.xs,group:size.xs})};function getDefaults(i){const{focusBorderColor:s,errorBorderColor:o}=i;return{focusBorderColor:s||mode("blue.500","blue.300")(i),errorBorderColor:o||mode("red.500","red.300")(i)}}var variantOutline$1=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a),boxShadow:`0 0 0 1px ${getColor(s,a)}`},_focusVisible:{zIndex:1,borderColor:getColor(s,o),boxShadow:`0 0 0 1px ${getColor(s,o)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(i),bg:mode("gray.100","whiteAlpha.300")(i)}}}),variantFilled=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i),_hover:{bg:mode("gray.200","whiteAlpha.100")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a)},_focusVisible:{bg:"transparent",borderColor:getColor(s,o)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i)}}}),variantFlushed=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a),boxShadow:`0px 1px 0px 0px ${getColor(s,a)}`},_focusVisible:{borderColor:getColor(s,o),boxShadow:`0px 1px 0px 0px ${getColor(s,o)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$k({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline$1,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$k({baseStyle:baseStyle$z,sizes:sizes$h,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),_a$4,baseStyle$y={...(_a$4=inputTheme.baseStyle)==null?void 0:_a$4.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},_a2$2,_b$2,variants$9={outline:i=>{var s,o;return(o=(s=inputTheme.variants)==null?void 0:s.outline(i).field)!=null?o:{}},flushed:i=>{var s,o;return(o=(s=inputTheme.variants)==null?void 0:s.flushed(i).field)!=null?o:{}},filled:i=>{var s,o;return(o=(s=inputTheme.variants)==null?void 0:s.filled(i).field)!=null?o:{}},unstyled:(_b$2=(_a2$2=inputTheme.variants)==null?void 0:_a2$2.unstyled.field)!=null?_b$2:{}},_a3,_b2,_c$1,_d$1,_e$1,_f$1,_g$1,_h$1,sizes$g={xs:(_b2=(_a3=inputTheme.sizes)==null?void 0:_a3.xs.field)!=null?_b2:{},sm:(_d$1=(_c$1=inputTheme.sizes)==null?void 0:_c$1.sm.field)!=null?_d$1:{},md:(_f$1=(_e$1=inputTheme.sizes)==null?void 0:_e$1.md.field)!=null?_f$1:{},lg:(_h$1=(_g$1=inputTheme.sizes)==null?void 0:_g$1.lg.field)!=null?_h$1:{}},textareaTheme={baseStyle:baseStyle$y,sizes:sizes$g,variants:variants$9,defaultProps:{size:"md",variant:"outline"}},$bg$c=cssVar("tooltip-bg"),$fg$4=cssVar("tooltip-fg"),$arrowBg$1=cssVar("popper-arrow-bg"),baseStyle$x={bg:$bg$c.reference,color:$fg$4.reference,[$bg$c.variable]:"colors.gray.700",[$fg$4.variable]:"colors.whiteAlpha.900",_dark:{[$bg$c.variable]:"colors.gray.300",[$fg$4.variable]:"colors.gray.900"},[$arrowBg$1.variable]:$bg$c.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle:baseStyle$x},{defineMultiStyleConfig:defineMultiStyleConfig$j,definePartsStyle:definePartsStyle$j}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=i=>{const{colorScheme:s,theme:o,isIndeterminate:a,hasStripe:nt}=i,tt=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(i),ot=mode(`${s}.500`,`${s}.200`)(i),at=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(o,ot)} 50%,
    transparent 100%
  )`;return{...!a&&nt&&tt,...a?{bgImage:at}:{bgColor:ot}}},baseStyleLabel$3={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$1=i=>({bg:mode("gray.100","whiteAlpha.300")(i)}),baseStyleFilledTrack$1=i=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(i)}),baseStyle$w=definePartsStyle$j(i=>({label:baseStyleLabel$3,filledTrack:baseStyleFilledTrack$1(i),track:baseStyleTrack$1(i)})),sizes$f={xs:definePartsStyle$j({track:{h:"1"}}),sm:definePartsStyle$j({track:{h:"2"}}),md:definePartsStyle$j({track:{h:"3"}}),lg:definePartsStyle$j({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$j({sizes:sizes$f,baseStyle:baseStyle$w,defaultProps:{size:"md",colorScheme:"blue"}}),isFunction$3=i=>typeof i=="function";function runIfFn$1(i,...s){return isFunction$3(i)?i(...s):i}var{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=i=>{const{colorScheme:s}=i;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i),_hover:{bg:mode(`${s}.600`,`${s}.300`)(i),borderColor:mode(`${s}.600`,`${s}.300`)(i)},_disabled:{borderColor:mode("gray.200","transparent")(i),bg:mode("gray.200","whiteAlpha.300")(i),color:mode("gray.500","whiteAlpha.500")(i)}},_indeterminate:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(i),borderColor:mode("gray.100","transparent")(i)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(i)}}},baseStyleContainer$3={_disabled:{cursor:"not-allowed"}},baseStyleLabel$2={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$6={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$v=definePartsStyle$i(i=>({icon:baseStyleIcon$6,container:baseStyleContainer$3,control:runIfFn$1(baseStyleControl$1,i),label:baseStyleLabel$2})),sizes$e={sm:definePartsStyle$i({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$i({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$i({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$v,sizes:sizes$e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$h,definePartsStyle:definePartsStyle$h}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=i=>{var s;const o=(s=runIfFn$1(checkboxTheme.baseStyle,i))==null?void 0:s.control;return{...o,borderRadius:"full",_checked:{...o==null?void 0:o._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$u=definePartsStyle$h(i=>{var s,o,a,nt;return{label:(o=(s=checkboxTheme).baseStyle)==null?void 0:o.call(s,i).label,container:(nt=(a=checkboxTheme).baseStyle)==null?void 0:nt.call(a,i).container,control:baseStyleControl(i)}}),sizes$d={md:definePartsStyle$h({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$h({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$h({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$u,sizes:sizes$d,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$g,definePartsStyle:definePartsStyle$g}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$b=cssVar$1("select-bg"),_a$3,baseStyleField$1={...(_a$3=inputTheme.baseStyle)==null?void 0:_a$3.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$b.reference,[$bg$b.variable]:"colors.white",_dark:{[$bg$b.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$b.reference}},baseStyleIcon$5={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$t=definePartsStyle$g({field:baseStyleField$1,icon:baseStyleIcon$5}),iconSpacing={paddingInlineEnd:"8"},_a2$1,_b$1,_c,_d,_e,_f,_g,_h,sizes$c={lg:{...(_a2$1=inputTheme.sizes)==null?void 0:_a2$1.lg,field:{...(_b$1=inputTheme.sizes)==null?void 0:_b$1.lg.field,...iconSpacing}},md:{...(_c=inputTheme.sizes)==null?void 0:_c.md,field:{...(_d=inputTheme.sizes)==null?void 0:_d.md.field,...iconSpacing}},sm:{...(_e=inputTheme.sizes)==null?void 0:_e.sm,field:{...(_f=inputTheme.sizes)==null?void 0:_f.sm.field,...iconSpacing}},xs:{...(_g=inputTheme.sizes)==null?void 0:_g.xs,field:{...(_h=inputTheme.sizes)==null?void 0:_h.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$t,sizes:sizes$c,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$s={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$s},$bg$a=cssVar$1("skip-link-bg"),baseStyle$r={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$a.variable]:"colors.white",_dark:{[$bg$a.variable]:"colors.gray.700"},bg:$bg$a.reference}},skipLinkTheme={baseStyle:baseStyle$r},{defineMultiStyleConfig:defineMultiStyleConfig$f,definePartsStyle:definePartsStyle$f}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$9=cssVar$1("slider-bg"),baseStyleContainer$2=i=>{const{orientation:s}=i;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:s,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack=i=>({...orient({orientation:i.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$9.variable]:"colors.gray.300",_dark:{[$bg$9.variable]:"colors.whiteAlpha.300"}},bg:$bg$9.reference}),baseStyleThumb=i=>{const{orientation:s}=i;return{...orient({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=i=>{const{colorScheme:s}=i;return{width:"inherit",height:"inherit",[$bg$9.variable]:`colors.${s}.500`,_dark:{[$bg$9.variable]:`colors.${s}.200`},bg:$bg$9.reference}},baseStyle$q=definePartsStyle$f(i=>({container:baseStyleContainer$2(i),track:baseStyleTrack(i),thumb:baseStyleThumb(i),filledTrack:baseStyleFilledTrack(i)})),sizeLg=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$b={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$f({baseStyle:baseStyle$q,sizes:sizes$b,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("spinner-size"),baseStyle$p={width:[$size$2.reference],height:[$size$2.reference]},sizes$a={xs:{[$size$2.variable]:"sizes.3"},sm:{[$size$2.variable]:"sizes.4"},md:{[$size$2.variable]:"sizes.6"},lg:{[$size$2.variable]:"sizes.8"},xl:{[$size$2.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$p,sizes:sizes$a,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon$4={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$o=definePartsStyle$e({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon$4}),sizes$9={md:definePartsStyle$e({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$o,sizes:sizes$9,defaultProps:{size:"md"}}),$bg$8=cssVar$1("kbd-bg"),baseStyle$n={[$bg$8.variable]:"colors.gray.100",_dark:{[$bg$8.variable]:"colors.whiteAlpha.100"},bg:$bg$8.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$n},baseStyle$m={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$m},{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$l=definePartsStyle$d({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$7=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$7.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$7.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:$bg$7.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$7.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal"},baseStyle$k=definePartsStyle$c({button:baseStyleButton$1,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$k}),{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$6=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1=i=>{const{isCentered:s,scrollBehavior:o}=i;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:s?"center":"flex-start",overflow:o==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog$1=i=>{const{isCentered:s,scrollBehavior:o}=i;return{borderRadius:"md",color:"inherit",my:s?"auto":"16",mx:s?"auto":void 0,zIndex:"modal",maxH:o==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$6.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$6.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$6.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2=i=>{const{scrollBehavior:s}=i;return{px:"6",py:"2",flex:"1",overflow:s==="inside"?"auto":void 0}},baseStyleFooter$2={px:"6",py:"4"},baseStyle$j=definePartsStyle$b(i=>({overlay:baseStyleOverlay$1,dialogContainer:runIfFn$1(baseStyleDialogContainer$1,i),dialog:runIfFn$1(baseStyleDialog$1,i),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$2,body:runIfFn$1(baseStyleBody$2,i),footer:baseStyleFooter$2}));function getSize$3(i){return definePartsStyle$b(i==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:i}})}var sizes$8={xs:getSize$3("xs"),sm:getSize$3("sm"),md:getSize$3("md"),lg:getSize$3("lg"),xl:getSize$3("xl"),"2xl":getSize$3("2xl"),"3xl":getSize$3("3xl"),"4xl":getSize$3("4xl"),"5xl":getSize$3("5xl"),"6xl":getSize$3("6xl"),full:getSize$3("full")},modalTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$8,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$5=cssVar("number-input-bg"),$fg$3=cssVar("number-input-color"),$border$2=cssVar("number-input-border-color"),baseStyleRoot={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField=i=>{var s,o;return(o=(s=runIfFn$1(inputTheme.baseStyle,i))==null?void 0:s.field)!=null?o:{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$2.reference,color:$fg$3.reference,bg:$bg$5.reference,[$fg$3.variable]:"colors.chakra-body-text",[$border$2.variable]:"colors.chakra-border-color",_dark:{[$fg$3.variable]:"colors.whiteAlpha.800",[$border$2.variable]:"colors.whiteAlpha.300"},_active:{[$bg$5.variable]:"colors.gray.200",_dark:{[$bg$5.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$i=definePartsStyle$a(i=>{var s;return{root:baseStyleRoot,field:(s=runIfFn$1(baseStyleField,i))!=null?s:{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}});function getSize$2(i){var s,o,a;const nt=(s=inputTheme.sizes)==null?void 0:s[i],tt={lg:"md",md:"md",sm:"sm",xs:"sm"},ot=(a=(o=nt.field)==null?void 0:o.fontSize)!=null?a:"md",at=typography_default.fontSizes[ot];return definePartsStyle$a({field:{...nt.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(at).multiply(.75).toString(),_first:{borderTopEndRadius:tt[i]},_last:{borderBottomEndRadius:tt[i],mt:"-1px",borderTopWidth:1}}})}var sizes$7={xs:getSize$2("xs"),sm:getSize$2("sm"),md:getSize$2("md"),lg:getSize$2("lg")},numberInputTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$i,sizes:sizes$7,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),_a$2,baseStyle$h={...(_a$2=inputTheme.baseStyle)==null?void 0:_a$2.field,textAlign:"center"},sizes$6={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_a2,_b,variants$8={outline:i=>{var s,o,a;return(a=(o=runIfFn$1((s=inputTheme.variants)==null?void 0:s.outline,i))==null?void 0:o.field)!=null?a:{}},flushed:i=>{var s,o,a;return(a=(o=runIfFn$1((s=inputTheme.variants)==null?void 0:s.flushed,i))==null?void 0:o.field)!=null?a:{}},filled:i=>{var s,o,a;return(a=(o=runIfFn$1((s=inputTheme.variants)==null?void 0:s.filled,i))==null?void 0:o.field)!=null?a:{}},unstyled:(_b=(_a2=inputTheme.variants)==null?void 0:_a2.unstyled.field)!=null?_b:{}},pinInputTheme={baseStyle:baseStyle$h,sizes:sizes$6,variants:variants$8,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader$1={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody$1={px:3,py:2},baseStyleFooter$1={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$g=definePartsStyle$9({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader$1,body:baseStyleBody$1,footer:baseStyleFooter$1,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$9({baseStyle:baseStyle$g}),{definePartsStyle:definePartsStyle$8,defineMultiStyleConfig:defineMultiStyleConfig$8}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$4=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$1(i){return definePartsStyle$8(i==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:i}})}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=i=>{const{isFullHeight:s}=i;return{...s&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$4.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$4.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$4.reference,boxShadow:$bs.reference}},baseStyleHeader={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter={px:"6",py:"4"},baseStyle$f=definePartsStyle$8(i=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:runIfFn$1(baseStyleDialog,i),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter})),sizes$5={xs:getSize$1("xs"),sm:getSize$1("md"),md:getSize$1("lg"),lg:getSize$1("2xl"),xl:getSize$1("4xl"),full:getSize$1("full")},drawerTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$5,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$7,defineMultiStyleConfig:defineMultiStyleConfig$7}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$e=definePartsStyle$7({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e}),{definePartsStyle:definePartsStyle$6,defineMultiStyleConfig:defineMultiStyleConfig$6}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$2=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$2.variable]:"colors.red.500",_dark:{[$fg$2.variable]:"colors.red.300"},color:$fg$2.reference},baseStyleHelperText={mt:"2",[$fg$2.variable]:"colors.gray.600",_dark:{[$fg$2.variable]:"colors.whiteAlpha.600"},color:$fg$2.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$d=definePartsStyle$6({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$d}),{definePartsStyle:definePartsStyle$5,defineMultiStyleConfig:defineMultiStyleConfig$5}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$1=cssVar$1("form-error-color"),baseStyleText={[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$1={marginEnd:"0.5em",[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference},baseStyle$c=definePartsStyle$5({text:baseStyleText,icon:baseStyleIcon$1}),formErrorTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$c}),baseStyle$b={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$b},baseStyle$a={fontFamily:"heading",fontWeight:"bold"},sizes$4={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$a,sizes:sizes$4,defaultProps:{size:"xl"}},{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$9=definePartsStyle$4({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$4({baseStyle:baseStyle$9}),baseStyle$8={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=i=>{const{colorScheme:s,theme:o}=i;if(s==="gray")return{color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.100","whiteAlpha.200")(i)},_active:{bg:mode("gray.200","whiteAlpha.300")(i)}};const a=transparentize(`${s}.200`,.12)(o),nt=transparentize(`${s}.200`,.24)(o);return{color:mode(`${s}.600`,`${s}.200`)(i),bg:"transparent",_hover:{bg:mode(`${s}.50`,a)(i)},_active:{bg:mode(`${s}.100`,nt)(i)}}},variantOutline=i=>{const{colorScheme:s}=i,o=mode("gray.200","whiteAlpha.300")(i);return{border:"1px solid",borderColor:s==="gray"?o:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn$1(variantGhost,i)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$2=i=>{var s;const{colorScheme:o}=i;if(o==="gray"){const rt=mode("gray.100","whiteAlpha.200")(i);return{bg:rt,color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.200","whiteAlpha.300")(i),_disabled:{bg:rt}},_active:{bg:mode("gray.300","whiteAlpha.400")(i)}}}const{bg:a=`${o}.500`,color:nt="white",hoverBg:tt=`${o}.600`,activeBg:ot=`${o}.700`}=(s=accessibleColorMap[o])!=null?s:{},at=mode(a,`${o}.200`)(i);return{bg:at,color:mode(nt,"gray.800")(i),_hover:{bg:mode(tt,`${o}.300`)(i),_disabled:{bg:at}},_active:{bg:mode(ot,`${o}.400`)(i)}}},variantLink=i=>{const{colorScheme:s}=i;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${s}.500`,`${s}.200`)(i),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${s}.700`,`${s}.500`)(i)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$7={ghost:variantGhost,outline:variantOutline,solid:variantSolid$2,link:variantLink,unstyled:variantUnstyled},sizes$3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle$8,variants:variants$7,sizes:sizes$3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$3,defineMultiStyleConfig:defineMultiStyleConfig$3}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$3=cssVar$1("card-bg"),$padding=cssVar$1("card-padding"),$shadow=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$1=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$7=definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-body-bg",backgroundColor:$bg$3.reference,boxShadow:$shadow.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$1.reference,borderColor:$borderColor.reference},body:{padding:$padding.reference,flex:"1 1 0%"},header:{padding:$padding.reference},footer:{padding:$padding.reference}}),sizes$2={sm:definePartsStyle$3({container:{[$radius.variable]:"radii.base",[$padding.variable]:"space.3"}}),md:definePartsStyle$3({container:{[$radius.variable]:"radii.md",[$padding.variable]:"space.5"}}),lg:definePartsStyle$3({container:{[$radius.variable]:"radii.xl",[$padding.variable]:"space.7"}})},variants$6={elevated:definePartsStyle$3({container:{[$shadow.variable]:"shadows.base",_dark:{[$bg$3.variable]:"colors.gray.700"}}}),outline:definePartsStyle$3({container:{[$border$1.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding.variable]:0},header:{[$padding.variable]:0},footer:{[$padding.variable]:0}}},cardTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$7,variants:variants$6,sizes:sizes$2,defaultProps:{variant:"elevated",size:"md"}}),$size$1=cssVar("close-button-size"),$bg$2=cssVar("close-button-bg"),baseStyle$6={w:[$size$1.reference],h:[$size$1.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$2.variable]:"colors.blackAlpha.100",_dark:{[$bg$2.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$2.variable]:"colors.blackAlpha.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$2.reference},sizes$1={lg:{[$size$1.variable]:"sizes.10",fontSize:"md"},md:{[$size$1.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$1.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$6,sizes:sizes$1,defaultProps:{size:"md"}},{variants:variants$5,defaultProps}=badgeTheme,baseStyle$5={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$5,variants:variants$5,defaultProps},baseStyle$4={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$4},baseStyle$3={opacity:.6,borderColor:"inherit"},variantSolid$1={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$4={solid:variantSolid$1,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$3,variants:variants$4,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$2,defineMultiStyleConfig:defineMultiStyleConfig$2}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$1={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon={fontSize:"1.25em"},baseStyle$2=definePartsStyle$2({container:baseStyleContainer$1,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon}),accordionTheme=defineMultiStyleConfig$2({baseStyle:baseStyle$2}),{definePartsStyle:definePartsStyle$1,defineMultiStyleConfig:defineMultiStyleConfig$1}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg=cssVar$1("alert-fg"),$bg$1=cssVar$1("alert-bg"),baseStyle$1=definePartsStyle$1({container:{bg:$bg$1.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(i){const{theme:s,colorScheme:o}=i,a=transparentize(`${o}.200`,.16)(s);return{light:`colors.${o}.100`,dark:a}}var variantSubtle=definePartsStyle$1(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:o.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:o.dark}}}}),variantLeftAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:o.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:o.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg.reference}}}),variantTopAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:o.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:o.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg.reference}}}),variantSolid=definePartsStyle$1(i=>{const{colorScheme:s}=i;return{container:{[$fg.variable]:"colors.white",[$bg$1.variable]:`colors.${s}.600`,_dark:{[$fg.variable]:"colors.gray.900",[$bg$1.variable]:`colors.${s}.200`},color:$fg.reference}}}),variants$3={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},alertTheme=defineMultiStyleConfig$1({baseStyle:baseStyle$1,variants:variants$3,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle,defineMultiStyleConfig}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border=cssVar$1("avatar-border-color"),$bg=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border.reference,[$border.variable]:"white",_dark:{[$border.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg.reference,fontSize:$fs.reference,width:$size.reference,height:$size.reference,lineHeight:"1",[$bg.variable]:"colors.gray.200",_dark:{[$bg.variable]:"colors.whiteAlpha.400"}},baseStyleContainer=i=>{const{name:s,theme:o}=i,a=s?randomColor({string:s}):"colors.gray.400",nt=isDark(a)(o);let tt="white";return nt||(tt="gray.800"),{bg:$bg.reference,fontSize:$fs.reference,color:tt,borderColor:$border.reference,verticalAlign:"top",width:$size.reference,height:$size.reference,"&:not([data-loaded])":{[$bg.variable]:a},[$border.variable]:"colors.white",_dark:{[$border.variable]:"colors.gray.800"}}},baseStyleLabel={fontSize:$fs.reference,lineHeight:"1"},baseStyle=definePartsStyle(i=>({badge:runIfFn$1(baseStyleBadge,i),excessLabel:runIfFn$1(baseStyleExcessLabel,i),container:runIfFn$1(baseStyleContainer,i),label:baseStyleLabel}));function getSize(i){const s=i!=="100%"?sizes_default[i]:void 0;return definePartsStyle({container:{[$size.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`},excessLabel:{[$size.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`}})}var sizes={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},avatarTheme=defineMultiStyleConfig({baseStyle,sizes,defaultProps:{size:"md"}}),components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},direction="ltr",config={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$2={semanticTokens,direction,...foundations,components,styles,config};function isFunction$2(i){return typeof i=="function"}function pipe$1(...i){return s=>i.reduce((o,a)=>a(o),s)}var createExtendTheme=i=>function(...o){let a=[...o],nt=o[o.length-1];return isChakraTheme(nt)&&a.length>1?a=a.slice(0,a.length-1):nt=i,pipe$1(...a.map(tt=>ot=>isFunction$2(tt)?tt(ot):mergeThemeOverride(ot,tt)))(nt)},extendTheme=createExtendTheme(theme$2);function mergeThemeOverride(...i){return mergeWith({},...i,mergeThemeCustomizer)}function mergeThemeCustomizer(i,s,o,a){if((isFunction$2(i)||isFunction$2(s))&&Object.prototype.hasOwnProperty.call(a,o))return(...nt)=>{const tt=isFunction$2(i)?i(...nt):i,ot=isFunction$2(s)?s(...nt):s;return mergeWith({},tt,ot,mergeThemeCustomizer)}}function canUseDOM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var isBrowser$1=canUseDOM();function omit$1(i,s){const o={};return Object.keys(i).forEach(a=>{s.includes(a)||(o[a]=i[a])}),o}function get$2(i,s,o,a){const nt=typeof s=="string"?s.split("."):[s];for(a=0;a<nt.length&&i;a+=1)i=i[nt[a]];return i===void 0?o:i}var memoize$1=i=>{const s=new WeakMap;return(a,nt,tt,ot)=>{if(typeof a>"u")return i(a,nt,tt);s.has(a)||s.set(a,new Map);const at=s.get(a);if(at.has(nt))return at.get(nt);const rt=i(a,nt,tt,ot);return at.set(nt,rt),rt}},memoizedGet=memoize$1(get$2);function objectFilter(i,s){const o={};return Object.keys(i).forEach(a=>{const nt=i[a];s(nt,a,i)&&(o[a]=nt)}),o}var filterUndefined=i=>objectFilter(i,s=>s!=null);function isFunction$1(i){return typeof i=="function"}function runIfFn(i,...s){return isFunction$1(i)?i(...s):i}function callAllHandlers(...i){return function(o){i.some(a=>(a==null||a(o),o==null?void 0:o.defaultPrevented))}}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal$1(i,s){if(i===s)return!0;if(i&&s&&typeof i=="object"&&typeof s=="object"){if(i.constructor!==s.constructor)return!1;var o,a,nt;if(Array.isArray(i)){if(o=i.length,o!=s.length)return!1;for(a=o;a--!==0;)if(!equal$1(i[a],s[a]))return!1;return!0}var tt;if(hasMap&&i instanceof Map&&s instanceof Map){if(i.size!==s.size)return!1;for(tt=i.entries();!(a=tt.next()).done;)if(!s.has(a.value[0]))return!1;for(tt=i.entries();!(a=tt.next()).done;)if(!equal$1(a.value[1],s.get(a.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&s instanceof Set){if(i.size!==s.size)return!1;for(tt=i.entries();!(a=tt.next()).done;)if(!s.has(a.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(s)){if(o=i.length,o!=s.length)return!1;for(a=o;a--!==0;)if(i[a]!==s[a])return!1;return!0}if(i.constructor===RegExp)return i.source===s.source&&i.flags===s.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof s.valueOf=="function")return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof s.toString=="function")return i.toString()===s.toString();if(nt=Object.keys(i),o=nt.length,o!==Object.keys(s).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(s,nt[a]))return!1;if(hasElementType&&i instanceof Element)return!1;for(a=o;a--!==0;)if(!((nt[a]==="_owner"||nt[a]==="__v"||nt[a]==="__o")&&i.$$typeof)&&!equal$1(i[nt[a]],s[nt[a]]))return!1;return!0}return i!==i&&s!==s}var reactFastCompare=function(s,o){try{return equal$1(s,o)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const isEqual$2=getDefaultExportFromCjs(reactFastCompare);function useStyleConfigImpl(i,s={}){var o;const{styleConfig:a,...nt}=s,{theme:tt,colorMode:ot}=useChakra(),at=i?memoizedGet(tt,`components.${i}`):void 0,rt=a||at,it=mergeWith({theme:tt,colorMode:ot},(o=rt==null?void 0:rt.defaultProps)!=null?o:{},filterUndefined(omit$1(nt,["children"]))),j=reactExports.useRef({});if(rt){const $=resolveStyleConfig(rt)(it);isEqual$2(j.current,$)||(j.current=$)}return j.current}function useStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}function useMultiStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(i){return validHTMLProps.has(i)||!allPropNames.has(i)}function assignAfter(i,...s){if(i==null)throw new TypeError("Cannot convert undefined or null to object");const o={...i};for(const a of s)if(a!=null)for(const nt in a)Object.prototype.hasOwnProperty.call(a,nt)&&(nt in o&&delete o[nt],o[nt]=a[nt]);return o}function compact(i){const s=Object.assign({},i);for(let o in s)s[o]===void 0&&delete s[o];return s}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$3(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,o,a){var nt;if(o){var tt=o.shouldForwardProp;nt=s.__emotion_forwardProp&&tt?function(ot){return s.__emotion_forwardProp(ot)&&tt(ot)}:tt}return typeof nt!="function"&&a&&(nt=s.__emotion_forwardProp),nt},Insertion=function(s){var o=s.cache,a=s.serialized,nt=s.isStringTag;return registerStyles(o,a,nt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(o,a,nt)}),null},createStyled=function i(s,o){var a=s.__emotion_real===s,nt=a&&s.__emotion_base||s,tt,ot;o!==void 0&&(tt=o.label,ot=o.target);var at=composeShouldForwardProps(s,o,a),rt=at||getDefaultShouldForwardProp(nt),it=!rt("as");return function(){var j=arguments,_=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(tt!==void 0&&_.push("label:"+tt+";"),j[0]==null||j[0].raw===void 0)_.push.apply(_,j);else{_.push(j[0][0]);for(var $=j.length,et=1;et<$;et++)_.push(j[et],j[0][et])}var st=withEmotionCache(function(lt,ct,ht){var ut=it&&lt.as||nt,mt="",gt=[],vt=lt;if(lt.theme==null){vt={};for(var dt in lt)vt[dt]=lt[dt];vt.theme=reactExports.useContext(ThemeContext)}typeof lt.className=="string"?mt=getRegisteredStyles(ct.registered,gt,lt.className):lt.className!=null&&(mt=lt.className+" ");var St=serializeStyles(_.concat(gt),ct.registered,vt);mt+=ct.key+"-"+St.name,ot!==void 0&&(mt+=" "+ot);var yt=it&&at===void 0?getDefaultShouldForwardProp(ut):rt,pt={};for(var wt in lt)it&&wt==="as"||yt(wt)&&(pt[wt]=lt[wt]);return pt.className=mt,pt.ref=ht,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:ct,serialized:St,isStringTag:typeof ut=="string"}),reactExports.createElement(ut,pt))});return st.displayName=tt!==void 0?tt:"Styled("+(typeof nt=="string"?nt:nt.displayName||nt.name||"Component")+")",st.defaultProps=s.defaultProps,st.__emotion_real=st,st.__emotion_base=nt,st.__emotion_styles=_,st.__emotion_forwardProp=at,Object.defineProperty(st,"toString",{value:function(){return"."+ot}}),st.withComponent=function(lt,ct){return i(lt,_extends$1({},o,ct,{shouldForwardProp:composeShouldForwardProps(st,ct,!0)})).apply(void 0,_)},st}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});var _a$1,emotion_styled=(_a$1=newStyled.default)!=null?_a$1:newStyled,toCSSObject=({baseStyle:i})=>s=>{const{theme:o,css:a,__css:nt,sx:tt,...ot}=s,at=objectFilter(ot,(_,$)=>isStyleProp($)),rt=runIfFn(i,s),it=assignAfter({},nt,rt,filterUndefined(at),tt),j=css(it)(s.theme);return a?[j,a]:j};function styled(i,s){const{baseStyle:o,...a}=s??{};a.shouldForwardProp||(a.shouldForwardProp=shouldForwardProp);const nt=toCSSObject({baseStyle:o}),tt=emotion_styled(i,a)(nt);return React$3.forwardRef(function(rt,it){const{colorMode:j,forced:_}=useColorMode();return React$3.createElement(tt,{ref:it,"data-theme":_?j:void 0,...rt})})}function factory(){const i=new Map;return new Proxy(styled,{apply(s,o,a){return styled(...a)},get(s,o){return i.has(o)||i.set(o,styled(o)),i.get(o)}})}var chakra=factory();function forwardRef(i){return reactExports.forwardRef(i)}function createContext$1(i={}){const{strict:s=!0,errorMessage:o="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:a}=i,nt=reactExports.createContext(void 0);nt.displayName=a;function tt(){var ot;const at=reactExports.useContext(nt);if(!at&&s){const rt=new Error(o);throw rt.name="ContextError",(ot=Error.captureStackTrace)==null||ot.call(Error,rt,tt),rt}return at}return[nt.Provider,tt,nt]}function ThemeProvider(i){const{cssVarsRoot:s,theme:o,children:a}=i,nt=reactExports.useMemo(()=>toCSSVar(o),[o]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:nt,children:[jsxRuntimeExports.jsx(CSSVars,{root:s}),a]})}function CSSVars({root:i=":host, :root"}){const s=[i,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:o=>({[s]:o.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(i){return createContext$1({name:`${i}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${i} />" `})}function GlobalStyle(){const{colorMode:i}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:s=>{const o=memoizedGet(s,"styles.global"),a=runIfFn(o,{theme:s,colorMode:i});return a?css(a)(s):void 0}})}var EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(i){const{children:s,environment:o,disabled:a}=i,nt=reactExports.useRef(null),tt=reactExports.useMemo(()=>o||{getDocument:()=>{var at,rt;return(rt=(at=nt.current)==null?void 0:at.ownerDocument)!=null?rt:document},getWindow:()=>{var at,rt;return(rt=(at=nt.current)==null?void 0:at.ownerDocument.defaultView)!=null?rt:window}},[o]),ot=!a||!o;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:tt,children:[s,ot&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:nt})]})}EnvironmentProvider.displayName="EnvironmentProvider";var ChakraProvider$1=i=>{const{children:s,colorModeManager:o,portalZIndex:a,resetScope:nt,resetCSS:tt=!0,theme:ot={},environment:at,cssVarsRoot:rt,disableEnvironment:it,disableGlobalStyle:j}=i,_=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:at,disabled:it,children:s});return jsxRuntimeExports.jsx(ThemeProvider,{theme:ot,cssVarsRoot:rt,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:o,options:ot.config,children:[tt?jsxRuntimeExports.jsx(CSSReset,{scope:nt}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!j&&jsxRuntimeExports.jsx(GlobalStyle,{}),a?jsxRuntimeExports.jsx(PortalManager,{zIndex:a,children:_}):_]})})},findById=(i,s)=>i.find(o=>o.id===s);function findToast(i,s){const o=getToastPosition(i,s),a=o?i[o].findIndex(nt=>nt.id===s):-1;return{position:o,index:a}}function getToastPosition(i,s){for(const[o,a]of Object.entries(i))if(findById(a,s))return o}function getToastStyle(i){const s=i.includes("right"),o=i.includes("left");let a="center";return s&&(a="flex-end"),o&&(a="flex-start"),{display:"flex",flexDirection:"column",alignItems:a}}function getToastListStyle(i){const o=i==="top"||i==="bottom"?"0 auto":void 0,a=i.includes("top")?"env(safe-area-inset-top, 0px)":void 0,nt=i.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,tt=i.includes("left")?void 0:"env(safe-area-inset-right, 0px)",ot=i.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:o,top:a,bottom:nt,right:tt,left:ot}}function useCallbackRef$2(i,s=[]){const o=reactExports.useRef(i);return reactExports.useEffect(()=>{o.current=i}),reactExports.useCallback((...a)=>{var nt;return(nt=o.current)==null?void 0:nt.call(o,...a)},s)}function useTimeout(i,s){const o=useCallbackRef$2(i);reactExports.useEffect(()=>{if(s==null)return;let a=null;return a=window.setTimeout(()=>{o()},s),()=>{a&&window.clearTimeout(a)}},[s,o])}function useUpdateEffect(i,s){const o=reactExports.useRef(!1),a=reactExports.useRef(!1);reactExports.useEffect(()=>{if(o.current&&a.current)return i();a.current=!0},s),reactExports.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[])}const MotionConfigContext=reactExports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add(s){if(!this.scheduled.has(s))return this.scheduled.add(s),this.order.push(s),!0}remove(s){const o=this.order.indexOf(s);o!==-1&&(this.order.splice(o,1),this.scheduled.delete(s))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(i){let s=new Queue,o=new Queue,a=0,nt=!1,tt=!1;const ot=new WeakSet,at={schedule:(rt,it=!1,j=!1)=>{const _=j&&nt,$=_?s:o;return it&&ot.add(rt),$.add(rt)&&_&&nt&&(a=s.order.length),rt},cancel:rt=>{o.remove(rt),ot.delete(rt)},process:rt=>{if(nt){tt=!0;return}if(nt=!0,[s,o]=[o,s],o.clear(),a=s.order.length,a)for(let it=0;it<a;it++){const j=s.order[it];ot.has(j)&&(at.schedule(j),i()),j(rt)}nt=!1,tt&&(tt=!1,at.process(rt))}};return at}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(i,s){let o=!1,a=!0;const nt={delta:0,timestamp:0,isProcessing:!1},tt=stepsOrder.reduce((_,$)=>(_[$]=createRenderStep(()=>o=!0),_),{}),ot=_=>{tt[_].process(nt)},at=()=>{const _=performance.now();o=!1,nt.delta=a?1e3/60:Math.max(Math.min(_-nt.timestamp,maxElapsed),1),nt.timestamp=_,nt.isProcessing=!0,stepsOrder.forEach(ot),nt.isProcessing=!1,o&&s&&(a=!1,i(at))},rt=()=>{o=!0,a=!0,nt.isProcessing||i(at)};return{schedule:stepsOrder.reduce((_,$)=>{const et=tt[$];return _[$]=(st,lt=!1,ct=!1)=>(o||rt(),et.schedule(st,lt,ct)),_},{}),cancel:_=>stepsOrder.forEach($=>tt[$].cancel(_)),state:nt,steps:tt}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function useVisualElement(i,s,o,a){const{visualElement:nt}=reactExports.useContext(MotionContext),tt=reactExports.useContext(LazyContext),ot=reactExports.useContext(PresenceContext),at=reactExports.useContext(MotionConfigContext).reducedMotion,rt=reactExports.useRef();a=a||tt.renderer,!rt.current&&a&&(rt.current=a(i,{visualState:s,parent:nt,props:o,presenceContext:ot,blockInitialAnimation:ot?ot.initial===!1:!1,reducedMotionConfig:at}));const it=rt.current;reactExports.useInsertionEffect(()=>{it&&it.update(o,ot)});const j=reactExports.useRef(!!(o[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{it&&(microtask.postRender(it.render),j.current&&it.animationState&&it.animationState.animateChanges())}),reactExports.useEffect(()=>{it&&(it.updateFeatures(),!j.current&&it.animationState&&it.animationState.animateChanges(),j.current&&(j.current=!1,window.HandoffComplete=!0))}),it}function isRefObject(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function useMotionRef(i,s,o){return reactExports.useCallback(a=>{a&&i.mount&&i.mount(a),s&&(a?s.mount(a):s.unmount()),o&&(typeof o=="function"?o(a):isRefObject(o)&&(o.current=a))},[s])}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}function isAnimationControls(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps.some(s=>isVariantLabel(i[s]))}function isVariantNode(i){return!!(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,s){if(isControllingVariants(i)){const{initial:o,animate:a}=i;return{initial:o===!1||isVariantLabel(o)?o:void 0,animate:isVariantLabel(a)?a:void 0}}return i.inherit!==!1?s:{}}function useCreateMotionContext(i){const{initial:s,animate:o}=getCurrentTreeVariants(i,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:o}),[variantLabelsAsDependency(s),variantLabelsAsDependency(o)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const i in featureProps)featureDefinitions[i]={isEnabled:s=>featureProps[i].some(o=>!!s[o])};function loadFeatures(i){for(const s in i)featureDefinitions[s]={...featureDefinitions[s],...i[s]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:i,createVisualElement:s,useRender:o,useVisualState:a,Component:nt}){i&&loadFeatures(i);function tt(at,rt){let it;const j={...reactExports.useContext(MotionConfigContext),...at,layoutId:useLayoutId(at)},{isStatic:_}=j,$=useCreateMotionContext(at),et=a(at,_);if(!_&&isBrowser){$.visualElement=useVisualElement(nt,et,j,s);const st=reactExports.useContext(SwitchLayoutGroupContext),lt=reactExports.useContext(LazyContext).strict;$.visualElement&&(it=$.visualElement.loadFeatures(j,lt,i,st))}return reactExports.createElement(MotionContext.Provider,{value:$},it&&$.visualElement?reactExports.createElement(it,{visualElement:$.visualElement,...j}):null,o(nt,at,useMotionRef(et,$.visualElement,rt),et,_,$.visualElement))}const ot=reactExports.forwardRef(tt);return ot[motionComponentSymbol]=nt,ot}function useLayoutId({layoutId:i}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&i!==void 0?s+"-"+i:i}function createMotionProxy(i){function s(a,nt={}){return createMotionComponent(i(a,nt))}if(typeof Proxy>"u")return s;const o=new Map;return new Proxy(s,{get:(a,nt)=>(o.has(nt)||o.set(nt,s(nt)),o.get(nt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/u.test(i))}const scaleCorrectors={};function addScaleCorrector(i){Object.assign(scaleCorrectors,i)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(i,{layout:s,layoutId:o}){return transformProps.has(i)||i.startsWith("origin")||(s||o!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}const isMotionValue=i=>!!(i&&i.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(i,{enableHardwareAcceleration:s=!0,allowTransformNone:o=!0},a,nt){let tt="";for(let ot=0;ot<numTransforms;ot++){const at=transformPropOrder[ot];if(i[at]!==void 0){const rt=translateAlias[at]||at;tt+=`${rt}(${i[at]}) `}}return s&&!i.z&&(tt+="translateZ(0)"),tt=tt.trim(),nt?tt=nt(i,a?"":tt):o&&a&&(tt="none"),tt}const checkStringStartsWith=i=>s=>typeof s=="string"&&s.startsWith(i),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=i=>startsAsVariableToken(i)?singleCssVariableRegex.test(i.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(i,s)=>s&&typeof i=="number"?s.transform(i):i,clamp=(i,s,o)=>o>s?s:o<i?i:o,number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale={...number,default:1},sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString$1(i){return typeof i=="string"}const createUnitType=i=>({test:s=>isString$1(s)&&s.endsWith(i)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(i,s,o,a){const{style:nt,vars:tt,transform:ot,transformOrigin:at}=i;let rt=!1,it=!1,j=!0;for(const _ in s){const $=s[_];if(isCSSVariableName(_)){tt[_]=$;continue}const et=numberValueTypes[_],st=getValueAsType($,et);if(transformProps.has(_)){if(rt=!0,ot[_]=st,!j)continue;$!==(et.default||0)&&(j=!1)}else _.startsWith("origin")?(it=!0,at[_]=st):nt[_]=st}if(s.transform||(rt||a?nt.transform=buildTransform(i.transform,o,j,a):nt.transform&&(nt.transform="none")),it){const{originX:_="50%",originY:$="50%",originZ:et=0}=at;nt.transformOrigin=`${_} ${$} ${et}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(i,s,o){for(const a in s)!isMotionValue(s[a])&&!isForcedMotionValue(a,o)&&(i[a]=s[a])}function useInitialMotionValues({transformTemplate:i},s,o){return reactExports.useMemo(()=>{const a=createHtmlRenderState();return buildHTMLStyles(a,s,{enableHardwareAcceleration:!o},i),Object.assign({},a.vars,a.style)},[s])}function useStyle(i,s,o){const a=i.style||{},nt={};return copyRawValuesOnly(nt,a,i),Object.assign(nt,useInitialMotionValues(i,s,o)),nt}function useHTMLProps(i,s,o){const a={},nt=useStyle(i,s,o);return i.drag&&i.dragListener!==!1&&(a.draggable=!1,nt.userSelect=nt.WebkitUserSelect=nt.WebkitTouchCallout="none",nt.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(a.tabIndex=0),a.style=nt,a}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){i&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):i(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(i,s,o){const a={};for(const nt in i)nt==="values"&&typeof i.values=="object"||(shouldForward(nt)||o===!0&&isValidMotionProp(nt)||!s&&!isValidMotionProp(nt)||i.draggable&&nt.startsWith("onDrag"))&&(a[nt]=i[nt]);return a}function calcOrigin$1(i,s,o){return typeof i=="string"?i:px.transform(s+o*i)}function calcSVGTransformOrigin(i,s,o){const a=calcOrigin$1(s,i.x,i.width),nt=calcOrigin$1(o,i.y,i.height);return`${a} ${nt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,s,o=1,a=0,nt=!0){i.pathLength=1;const tt=nt?dashKeys:camelKeys;i[tt.offset]=px.transform(-a);const ot=px.transform(s),at=px.transform(o);i[tt.array]=`${ot} ${at}`}function buildSVGAttrs(i,{attrX:s,attrY:o,attrScale:a,originX:nt,originY:tt,pathLength:ot,pathSpacing:at=1,pathOffset:rt=0,...it},j,_,$){if(buildHTMLStyles(i,it,j,$),_){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:et,style:st,dimensions:lt}=i;et.transform&&(lt&&(st.transform=et.transform),delete et.transform),lt&&(nt!==void 0||tt!==void 0||st.transform)&&(st.transformOrigin=calcSVGTransformOrigin(lt,nt!==void 0?nt:.5,tt!==void 0?tt:.5)),s!==void 0&&(et.x=s),o!==void 0&&(et.y=o),a!==void 0&&(et.scale=a),ot!==void 0&&buildSVGPath(et,ot,at,rt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg";function useSVGProps(i,s,o,a){const nt=reactExports.useMemo(()=>{const tt=createSvgRenderState();return buildSVGAttrs(tt,s,{enableHardwareAcceleration:!1},isSVGTag(a),i.transformTemplate),{...tt.attrs,style:{...tt.style}}},[s]);if(i.style){const tt={};copyRawValuesOnly(tt,i.style,i),nt.style={...tt,...nt.style}}return nt}function createUseRender(i=!1){return(o,a,nt,{latestValues:tt},ot)=>{const rt=(isSVGComponent(o)?useSVGProps:useHTMLProps)(a,tt,ot,o),it=filterProps(a,typeof o=="string",i),j=o!==reactExports.Fragment?{...it,...rt,ref:nt}:{},{children:_}=a,$=reactExports.useMemo(()=>isMotionValue(_)?_.get():_,[_]);return reactExports.createElement(o,{...j,children:$})}}function renderHTML(i,{style:s,vars:o},a,nt){Object.assign(i.style,s,nt&&nt.getProjectionStyles(a));for(const tt in o)i.style.setProperty(tt,o[tt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,s,o,a){renderHTML(i,s,void 0,a);for(const nt in s.attrs)i.setAttribute(camelCaseAttributes.has(nt)?nt:camelToDash(nt),s.attrs[nt])}function scrapeMotionValuesFromProps$1(i,s){const{style:o}=i,a={};for(const nt in o)(isMotionValue(o[nt])||s.style&&isMotionValue(s.style[nt])||isForcedMotionValue(nt,i))&&(a[nt]=o[nt]);return a}function scrapeMotionValuesFromProps(i,s){const o=scrapeMotionValuesFromProps$1(i,s);for(const a in i)if(isMotionValue(i[a])||isMotionValue(s[a])){const nt=transformPropOrder.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[nt]=i[a]}return o}function resolveVariantFromProps(i,s,o,a={},nt={}){return typeof s=="function"&&(s=s(o!==void 0?o:i.custom,a,nt)),typeof s=="string"&&(s=i.variants&&i.variants[s]),typeof s=="function"&&(s=s(o!==void 0?o:i.custom,a,nt)),s}function useConstant(i){const s=reactExports.useRef(null);return s.current===null&&(s.current=i()),s.current}const isKeyframesTarget=i=>Array.isArray(i),isCustomValue=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),resolveFinalValueInKeyframes=i=>isKeyframesTarget(i)?i[i.length-1]||0:i;function resolveMotionValue(i){const s=isMotionValue(i)?i.get():i;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o},a,nt,tt){const ot={latestValues:makeLatestValues(a,nt,tt,i),renderState:s()};return o&&(ot.mount=at=>o(a,at,ot)),ot}const makeUseVisualState=i=>(s,o)=>{const a=reactExports.useContext(MotionContext),nt=reactExports.useContext(PresenceContext),tt=()=>makeState(i,s,a,nt);return o?tt():useConstant(tt)};function makeLatestValues(i,s,o,a){const nt={},tt=a(i,{});for(const $ in tt)nt[$]=resolveMotionValue(tt[$]);let{initial:ot,animate:at}=i;const rt=isControllingVariants(i),it=isVariantNode(i);s&&it&&!rt&&i.inherit!==!1&&(ot===void 0&&(ot=s.initial),at===void 0&&(at=s.animate));let j=o?o.initial===!1:!1;j=j||ot===!1;const _=j?at:ot;return _&&typeof _!="boolean"&&!isAnimationControls(_)&&(Array.isArray(_)?_:[_]).forEach(et=>{const st=resolveVariantFromProps(i,et);if(!st)return;const{transitionEnd:lt,transition:ct,...ht}=st;for(const ut in ht){let mt=ht[ut];if(Array.isArray(mt)){const gt=j?mt.length-1:0;mt=mt[gt]}mt!==null&&(nt[ut]=mt)}for(const ut in lt)nt[ut]=lt[ut]}),nt}const noop=i=>i,{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(i,s,{renderState:o,latestValues:a})=>{frame.read(()=>{try{o.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(o,a,{enableHardwareAcceleration:!1},isSVGTag(s.tagName),i.transformTemplate),renderSVG(s,o)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(i,{forwardMotionProps:s=!1},o,a){return{...isSVGComponent(i)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:o,useRender:createUseRender(s),createVisualElement:a,Component:i}}function addDomEvent(i,s,o,a={passive:!0}){return i.addEventListener(s,o,a),()=>i.removeEventListener(s,o)}const isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function extractEventInfo(i,s="page"){return{point:{x:i[s+"X"],y:i[s+"Y"]}}}const addPointerInfo=i=>s=>isPrimaryPointer(s)&&i(s,extractEventInfo(s));function addPointerEvent(i,s,o,a){return addDomEvent(i,s,addPointerInfo(o),a)}const combineFunctions=(i,s)=>o=>s(i(o)),pipe=(...i)=>i.reduce(combineFunctions);function createLock(i){let s=null;return()=>{const o=()=>{s=null};return s===null?(s=i,o):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(i){let s=!1;if(i==="y")s=globalVerticalLock();else if(i==="x")s=globalHorizontalLock();else{const o=globalHorizontalLock(),a=globalVerticalLock();o&&a?s=()=>{o(),a()}:(o&&o(),a&&a())}return s}function isDragActive(){const i=getGlobalLock(!0);return i?(i(),!1):!0}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}function addHoverEvent(i,s){const o="pointer"+(s?"enter":"leave"),a="onHover"+(s?"Start":"End"),nt=(tt,ot)=>{if(tt.pointerType==="touch"||isDragActive())return;const at=i.getProps();i.animationState&&at.whileHover&&i.animationState.setActive("whileHover",s),at[a]&&at[a](tt,ot)};return addPointerEvent(i.current,o,nt,{passive:!i.getProps()[a]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(i,s)=>s?i===s?!0:isNodeOrChild(i,s.parentElement):!1;function fireSyntheticPointerEvent(i,s){if(!s)return;const o=new PointerEvent("pointer"+i);s(o,extractEventInfo(o))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=(s,o)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),tt=addPointerEvent(window,"pointerup",(at,rt)=>{if(!this.checkPressEnd())return;const{onTap:it,onTapCancel:j,globalTapTarget:_}=this.node.getProps();!_&&!isNodeOrChild(this.node.current,at.target)?j&&j(at,rt):it&&it(at,rt)},{passive:!(a.onTap||a.onPointerUp)}),ot=addPointerEvent(window,"pointercancel",(at,rt)=>this.cancelPress(at,rt),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=pipe(tt,ot),this.startPress(s,o)},this.startAccessiblePress=()=>{const s=tt=>{if(tt.key!=="Enter"||this.isPressing)return;const ot=at=>{at.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(rt,it)=>{const{onTap:j}=this.node.getProps();j&&j(rt,it)})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",ot),fireSyntheticPointerEvent("down",(at,rt)=>{this.startPress(at,rt)})},o=addDomEvent(this.node.current,"keydown",s),a=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(tt,ot)=>this.cancelPress(tt,ot))},nt=addDomEvent(this.node.current,"blur",a);this.removeAccessibleListeners=pipe(o,nt)}}startPress(s,o){this.isPressing=!0;const{onTapStart:a,whileTap:nt}=this.node.getProps();nt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&a(s,o)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(s,o){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&a(s,o)}mount(){const s=this.node.getProps(),o=addPointerEvent(s.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(s.onTapStart||s.onPointerStart)}),a=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(o,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const s=observerCallbacks.get(i.target);s&&s(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...s}){const o=i||document;observers.has(o)||observers.set(o,{});const a=observers.get(o),nt=JSON.stringify(s);return a[nt]||(a[nt]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...s})),a[nt]}function observeIntersection(i,s,o){const a=initIntersectionObserver(s);return observerCallbacks.set(i,o),a.observe(i),()=>{observerCallbacks.delete(i),a.unobserve(i)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:o,margin:a,amount:nt="some",once:tt}=s,ot={root:o?o.current:void 0,rootMargin:a,threshold:typeof nt=="number"?nt:thresholdNames[nt]},at=rt=>{const{isIntersecting:it}=rt;if(this.isInView===it||(this.isInView=it,tt&&!it&&this.hasEnteredView))return;it&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",it);const{onViewportEnter:j,onViewportLeave:_}=this.node.getProps(),$=it?j:_;$&&$(rt)};return observeIntersection(this.node.current,ot,at)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:o}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,o))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:i={}},{viewport:s={}}={}){return o=>i[o]!==s[o]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(i,s){if(!Array.isArray(s))return!1;const o=s.length;if(o!==i.length)return!1;for(let a=0;a<o;a++)if(s[a]!==i[a])return!1;return!0}function getCurrent(i){const s={};return i.values.forEach((o,a)=>s[a]=o.get()),s}function getVelocity$1(i){const s={};return i.values.forEach((o,a)=>s[a]=o.getVelocity()),s}function resolveVariant(i,s,o){const a=i.getProps();return resolveVariantFromProps(a,s,o!==void 0?o:a.custom,getCurrent(i),getVelocity$1(i))}const secondsToMilliseconds=i=>i*1e3,millisecondsToSeconds=i=>i/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(i,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(i)?i.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:i,delay:s,delayChildren:o,staggerChildren:a,staggerDirection:nt,repeat:tt,repeatType:ot,repeatDelay:at,from:rt,elapsed:it,...j}){return!!Object.keys(j).length}function getValueTransition(i,s){return i[s]||i.default||i}const isNotNull=i=>i!==null;function getFinalKeyframe(i,{repeat:s,repeatType:o="loop"},a){const nt=i.filter(isNotNull),tt=s&&o!=="loop"&&s%2===1?0:nt.length-1;return!tt||a===void 0?nt[tt]:a}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:i=>{now=i,queueMicrotask(clearTime)}},isZeroValueString=i=>/^0[^.\s]+$/u.test(i);function isNone(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||isZeroValueString(i):!0}let invariant=noop;const isNumericalString=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(i){const s=splitCSSVariableRegex.exec(i);if(!s)return[,];const[,o,a,nt]=s;return[`--${o??a}`,nt]}function getVariableValue(i,s,o=1){const[a,nt]=parseCSSVariable(i);if(!a)return;const tt=window.getComputedStyle(s).getPropertyValue(a);if(tt){const ot=tt.trim();return isNumericalString(ot)?parseFloat(ot):ot}return isCSSVariableToken(nt)?getVariableValue(nt,s,o+1):nt}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=i=>i===number||i===px,getPosFromMatrix=(i,s)=>parseFloat(i.split(", ")[s]),getTranslateFromMatrix=(i,s)=>(o,{transform:a})=>{if(a==="none"||!a)return 0;const nt=a.match(/^matrix3d\((.+)\)$/u);if(nt)return getPosFromMatrix(nt[1],s);{const tt=a.match(/^matrix\((.+)\)$/u);return tt?getPosFromMatrix(tt[1],i):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const s=[];return nonTranslationalTransformKeys.forEach(o=>{const a=i.getValue(o);a!==void 0&&(s.push([o,a.get()]),a.set(o.startsWith("scale")?1:0))}),s.length&&i.render(),s}const positionalValues={width:({x:i},{paddingLeft:s="0",paddingRight:o="0"})=>i.max-i.min-parseFloat(s)-parseFloat(o),height:({y:i},{paddingTop:s="0",paddingBottom:o="0"})=>i.max-i.min-parseFloat(s)-parseFloat(o),top:(i,{top:s})=>parseFloat(s),left:(i,{left:s})=>parseFloat(s),bottom:({y:i},{top:s})=>parseFloat(s)+(i.max-i.min),right:({x:i},{left:s})=>parseFloat(s)+(i.max-i.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=i=>s=>s.test(i),auto={test:i=>i==="auto",parse:i=>i},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){anyNeedsMeasurement&&(toResolve.forEach(i=>{i.needsMeasurement&&i.unsetTransforms()}),toResolve.forEach(i=>{i.needsMeasurement&&i.measureInitialState()}),toResolve.forEach(i=>{i.needsMeasurement&&i.renderEndStyles()}),toResolve.forEach(i=>{i.needsMeasurement&&i.measureEndState()})),anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(i=>i.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,o,a,nt,tt,ot=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=o,this.name=a,this.motionValue=nt,this.element=tt,this.isAsync=ot}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:o,element:a,motionValue:nt}=this;for(let tt=0;tt<s.length;tt++)if(s[tt]===null)if(tt===0){const ot=nt==null?void 0:nt.get(),at=s[s.length-1];if(ot!==void 0)s[0]=ot;else if(a&&o){const rt=a.readValue(o,at);rt!=null&&(s[0]=rt)}s[0]===void 0&&(s[0]=at),nt&&ot===void 0&&nt.set(s[0])}else s[tt]=s[tt-1]}unsetTransforms(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(i,s)=>o=>!!(isString$1(o)&&singleColorRegex.test(o)&&o.startsWith(i)||s&&Object.prototype.hasOwnProperty.call(o,s)),splitColor=(i,s,o)=>a=>{if(!isString$1(a))return a;const[nt,tt,ot,at]=a.match(floatRegex);return{[i]:parseFloat(nt),[s]:parseFloat(tt),[o]:parseFloat(ot),alpha:at!==void 0?parseFloat(at):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:s,blue:o,alpha:a=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(o)+", "+sanitize(alpha.transform(a))+")"};function parseHex(i){let s="",o="",a="",nt="";return i.length>5?(s=i.substring(1,3),o=i.substring(3,5),a=i.substring(5,7),nt=i.substring(7,9)):(s=i.substring(1,2),o=i.substring(2,3),a=i.substring(3,4),nt=i.substring(4,5),s+=s,o+=o,a+=a,nt+=nt),{red:parseInt(s,16),green:parseInt(o,16),blue:parseInt(a,16),alpha:nt?parseInt(nt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:s,lightness:o,alpha:a=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(o))+", "+sanitize(alpha.transform(a))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>isString$1(i)?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i)};function test(i){var s,o;return isNaN(i)&&isString$1(i)&&(((s=i.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((o=i.match(colorRegex))===null||o===void 0?void 0:o.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(i){const s=i.toString(),o=[],a={color:[],number:[],var:[]},nt=[];let tt=0;const at=s.replace(complexRegex,rt=>(color.test(rt)?(a.color.push(tt),nt.push(COLOR_TOKEN),o.push(color.parse(rt))):rt.startsWith(VAR_FUNCTION_TOKEN)?(a.var.push(tt),nt.push(VAR_TOKEN),o.push(rt)):(a.number.push(tt),nt.push(NUMBER_TOKEN),o.push(parseFloat(rt))),++tt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:o,split:at,indexes:a,types:nt}}function parseComplexValue(i){return analyseComplexValue(i).values}function createTransformer(i){const{split:s,types:o}=analyseComplexValue(i),a=s.length;return nt=>{let tt="";for(let ot=0;ot<a;ot++)if(tt+=s[ot],nt[ot]!==void 0){const at=o[ot];at===NUMBER_TOKEN?tt+=sanitize(nt[ot]):at===COLOR_TOKEN?tt+=color.transform(nt[ot]):tt+=nt[ot]}return tt}}const convertNumbersToZero=i=>typeof i=="number"?0:i;function getAnimatableNone$1(i){const s=parseComplexValue(i);return createTransformer(i)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[s,o]=i.slice(0,-1).split("(");if(s==="drop-shadow")return i;const[a]=o.match(floatRegex)||[];if(!a)return i;const nt=o.replace(a,"");let tt=maxDefaults.has(s)?1:0;return a!==o&&(tt*=100),s+"("+tt+nt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex,getAnimatableNone:i=>{const s=i.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):i}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,s){let o=getDefaultValueType(i);return o!==filter$1&&(o=complex),o.getAnimatableNone?o.getAnimatableNone(s):void 0}function makeNoneKeyframesAnimatable(i,s,o){let a=0,nt;for(;a<i.length&&!nt;)typeof i[a]=="string"&&i[a]!=="none"&&i[a]!=="0"&&(nt=i[a]),a++;if(nt&&o)for(const tt of s)i[tt]=getAnimatableNone(o,nt)}class DOMKeyframesResolver extends KeyframeResolver{constructor(s,o,a,nt){super(s,o,a,nt,nt==null?void 0:nt.owner,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:o,name:a}=this;if(!o.current)return;super.readKeyframes();for(let rt=0;rt<s.length;rt++){const it=s[rt];if(typeof it=="string"&&isCSSVariableToken(it)){const j=getVariableValue(it,o.current);j!==void 0&&(s[rt]=j)}}if(!positionalKeys.has(a)||s.length!==2)return this.resolveNoneKeyframes();const[nt,tt]=s,ot=findDimensionValueType(nt),at=findDimensionValueType(tt);if(ot!==at)if(isNumOrPxType(ot)&&isNumOrPxType(at))for(let rt=0;rt<s.length;rt++){const it=s[rt];typeof it=="string"&&(s[rt]=parseFloat(it))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:o}=this,a=[];for(let nt=0;nt<s.length;nt++)isNone(s[nt])&&a.push(nt);a.length&&makeNoneKeyframesAnimatable(s,a,o)}unsetTransforms(){const{element:s,name:o,unresolvedKeyframes:a}=this;if(!s.current)return;this.removedTransforms=removeNonTranslationalTransform(s);const nt=a[a.length-1];s.getValue(o,nt).jump(nt,!1)}measureInitialState(){const{element:s,unresolvedKeyframes:o,name:a}=this;s.current&&(a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[a](s.measureViewportBox(),window.getComputedStyle(s.current)),o[0]=this.measuredOrigin)}renderEndStyles(){this.element.render()}measureEndState(){var s;const{element:o,name:a,unresolvedKeyframes:nt}=this;if(!o.current)return;const tt=o.getValue(a);tt&&tt.jump(this.measuredOrigin,!1);const ot=nt.length-1,at=nt[ot];nt[ot]=positionalValues[a](o.measureViewportBox(),window.getComputedStyle(o.current)),at!==null&&(this.finalKeyframe=at),a==="height"&&this.suspendedScrollY!==void 0&&window.scrollTo(0,this.suspendedScrollY),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([rt,it])=>{o.getValue(rt).set(it)}),this.resolveNoneKeyframes()}}function memo(i){let s;return()=>(s===void 0&&(s=i()),s)}const isAnimatable=(i,s)=>s==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(complex.test(i)||i==="0")&&!i.startsWith("url("));function hasKeyframesChanged(i){const s=i[0];if(i.length===1)return!0;for(let o=0;o<i.length;o++)if(i[o]!==s)return!0}function canAnimate(i,s,o,a){const nt=i[0];if(nt===null)return!1;const tt=i[i.length-1],ot=isAnimatable(nt,s),at=isAnimatable(tt,s);return!ot||!at?!1:hasKeyframesChanged(i)||o==="spring"&&a}class BaseAnimation{constructor({autoplay:s=!0,delay:o=0,type:a="keyframes",repeat:nt=0,repeatDelay:tt=0,repeatType:ot="loop",...at}){this.isStopped=!1,this.options={autoplay:s,delay:o,type:a,repeat:nt,repeatDelay:tt,repeatType:ot,...at},this.updateFinishedPromise()}get resolved(){return this._resolved||flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,o){const{name:a,type:nt,velocity:tt,delay:ot,onComplete:at,onUpdate:rt}=this.options;if(!canAnimate(s,a,nt,tt))if(ot)this.options.duration=0;else{rt==null||rt(getFinalKeyframe(s,this.options,o)),at==null||at(),this.resolveFinishedPromise(),this.updateFinishedPromise();return}this._resolved={keyframes:s,finalKeyframe:o,...this.initPlayback(s,o)},this.onPostResolved()}onPostResolved(){}then(s,o){return this.currentFinishedPromise.then(s,o)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=()=>{s(),this.updateFinishedPromise()}})}}function velocityPerSecond(i,s){return s?i*(1e3/s):0}const velocitySampleDuration=5;function calcGeneratorVelocity(i,s,o){const a=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(o-i(a),s-a)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:i=800,bounce:s=.25,velocity:o=0,mass:a=1}){let nt,tt,ot=1-s;ot=clamp(minDamping,maxDamping,ot),i=clamp(minDuration,maxDuration$1,millisecondsToSeconds(i)),ot<1?(nt=it=>{const j=it*ot,_=j*i,$=j-o,et=calcAngularFreq(it,ot),st=Math.exp(-_);return safeMin-$/et*st},tt=it=>{const _=it*ot*i,$=_*o+o,et=Math.pow(ot,2)*Math.pow(it,2)*i,st=Math.exp(-_),lt=calcAngularFreq(Math.pow(it,2),ot);return(-nt(it)+safeMin>0?-1:1)*(($-et)*st)/lt}):(nt=it=>{const j=Math.exp(-it*i),_=(it-o)*i+1;return-safeMin+j*_},tt=it=>{const j=Math.exp(-it*i),_=(o-it)*(i*i);return j*_});const at=5/i,rt=approximateRoot(nt,tt,at);if(i=secondsToMilliseconds(i),isNaN(rt))return{stiffness:100,damping:10,duration:i};{const it=Math.pow(rt,2)*a;return{stiffness:it,damping:ot*2*Math.sqrt(a*it),duration:i}}}const rootIterations=12;function approximateRoot(i,s,o){let a=o;for(let nt=1;nt<rootIterations;nt++)a=a-i(a)/s(a);return a}function calcAngularFreq(i,s){return i*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,s){return s.some(o=>i[o]!==void 0)}function getSpringOptions(i){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys)){const o=findSpring(i);s={...s,...o,mass:1},s.isResolvedFromDuration=!0}return s}function spring({keyframes:i,restDelta:s,restSpeed:o,...a}){const nt=i[0],tt=i[i.length-1],ot={done:!1,value:nt},{stiffness:at,damping:rt,mass:it,duration:j,velocity:_,isResolvedFromDuration:$}=getSpringOptions({...a,velocity:-millisecondsToSeconds(a.velocity||0)}),et=_||0,st=rt/(2*Math.sqrt(at*it)),lt=tt-nt,ct=millisecondsToSeconds(Math.sqrt(at/it)),ht=Math.abs(lt)<5;o||(o=ht?.01:2),s||(s=ht?.005:.5);let ut;if(st<1){const mt=calcAngularFreq(ct,st);ut=gt=>{const vt=Math.exp(-st*ct*gt);return tt-vt*((et+st*ct*lt)/mt*Math.sin(mt*gt)+lt*Math.cos(mt*gt))}}else if(st===1)ut=mt=>tt-Math.exp(-ct*mt)*(lt+(et+ct*lt)*mt);else{const mt=ct*Math.sqrt(st*st-1);ut=gt=>{const vt=Math.exp(-st*ct*gt),dt=Math.min(mt*gt,300);return tt-vt*((et+st*ct*lt)*Math.sinh(dt)+mt*lt*Math.cosh(dt))/mt}}return{calculatedDuration:$&&j||null,next:mt=>{const gt=ut(mt);if($)ot.done=mt>=j;else{let vt=et;mt!==0&&(st<1?vt=calcGeneratorVelocity(ut,mt,gt):vt=0);const dt=Math.abs(vt)<=o,St=Math.abs(tt-gt)<=s;ot.done=dt&&St}return ot.value=ot.done?tt:gt,ot}}}function inertia({keyframes:i,velocity:s=0,power:o=.8,timeConstant:a=325,bounceDamping:nt=10,bounceStiffness:tt=500,modifyTarget:ot,min:at,max:rt,restDelta:it=.5,restSpeed:j}){const _=i[0],$={done:!1,value:_},et=yt=>at!==void 0&&yt<at||rt!==void 0&&yt>rt,st=yt=>at===void 0?rt:rt===void 0||Math.abs(at-yt)<Math.abs(rt-yt)?at:rt;let lt=o*s;const ct=_+lt,ht=ot===void 0?ct:ot(ct);ht!==ct&&(lt=ht-_);const ut=yt=>-lt*Math.exp(-yt/a),mt=yt=>ht+ut(yt),gt=yt=>{const pt=ut(yt),wt=mt(yt);$.done=Math.abs(pt)<=it,$.value=$.done?ht:wt};let vt,dt;const St=yt=>{et($.value)&&(vt=yt,dt=spring({keyframes:[$.value,st($.value)],velocity:calcGeneratorVelocity(mt,yt,$.value),damping:nt,stiffness:tt,restDelta:it,restSpeed:j}))};return St(0),{calculatedDuration:null,next:yt=>{let pt=!1;return!dt&&vt===void 0&&(pt=!0,gt(yt),St(yt)),vt!==void 0&&yt>=vt?dt.next(yt-vt):(!pt&&gt(yt),$)}}}const calcBezier=(i,s,o)=>(((1-3*o+3*s)*i+(3*o-6*s))*i+3*s)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,s,o,a,nt){let tt,ot,at=0;do ot=s+(o-s)/2,tt=calcBezier(ot,a,nt)-i,tt>0?o=ot:s=ot;while(Math.abs(tt)>subdivisionPrecision&&++at<subdivisionMaxIterations);return ot}function cubicBezier(i,s,o,a){if(i===s&&o===a)return noop;const nt=tt=>binarySubdivide(tt,0,1,i,o);return tt=>tt===0||tt===1?tt:calcBezier(nt(tt),s,a)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number",mirrorEasing=i=>s=>s<=.5?i(2*s)/2:(2-i(2*(1-s)))/2,reverseEasing=i=>s=>1-i(1-s),circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=i=>{if(Array.isArray(i)){invariant(i.length===4);const[s,o,a,nt]=i;return cubicBezier(s,o,a,nt)}else if(typeof i=="string")return easingLookup[i];return i},progress=(i,s,o)=>{const a=s-i;return a===0?1:(o-i)/a},mixNumber$1=(i,s,o)=>i+(s-i)*o;function hueToRgb(i,s,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?i+(s-i)*6*o:o<1/2?s:o<2/3?i+(s-i)*(2/3-o)*6:i}function hslaToRgba({hue:i,saturation:s,lightness:o,alpha:a}){i/=360,s/=100,o/=100;let nt=0,tt=0,ot=0;if(!s)nt=tt=ot=o;else{const at=o<.5?o*(1+s):o+s-o*s,rt=2*o-at;nt=hueToRgb(rt,at,i+1/3),tt=hueToRgb(rt,at,i),ot=hueToRgb(rt,at,i-1/3)}return{red:Math.round(nt*255),green:Math.round(tt*255),blue:Math.round(ot*255),alpha:a}}const mixLinearColor=(i,s,o)=>{const a=i*i,nt=o*(s*s-a)+a;return nt<0?0:Math.sqrt(nt)},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(s=>s.test(i));function asRGBA(i){const s=getColorType(i);let o=s.parse(i);return s===hsla&&(o=hslaToRgba(o)),o}const mixColor=(i,s)=>{const o=asRGBA(i),a=asRGBA(s),nt={...o};return tt=>(nt.red=mixLinearColor(o.red,a.red,tt),nt.green=mixLinearColor(o.green,a.green,tt),nt.blue=mixLinearColor(o.blue,a.blue,tt),nt.alpha=mixNumber$1(o.alpha,a.alpha,tt),rgba.transform(nt))};function mixImmediate(i,s){return o=>o>0?s:i}function mixNumber(i,s){return o=>mixNumber$1(i,s,o)}function getMixer(i){return typeof i=="number"?mixNumber:typeof i=="string"?isCSSVariableToken(i)?mixImmediate:color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?color.test(i)?mixColor:mixObject:mixImmediate}function mixArray(i,s){const o=[...i],a=o.length,nt=i.map((tt,ot)=>getMixer(tt)(tt,s[ot]));return tt=>{for(let ot=0;ot<a;ot++)o[ot]=nt[ot](tt);return o}}function mixObject(i,s){const o={...i,...s},a={};for(const nt in o)i[nt]!==void 0&&s[nt]!==void 0&&(a[nt]=getMixer(i[nt])(i[nt],s[nt]));return nt=>{for(const tt in a)o[tt]=a[tt](nt);return o}}function matchOrder(i,s){var o;const a=[],nt={color:0,var:0,number:0};for(let tt=0;tt<s.values.length;tt++){const ot=s.types[tt],at=i.indexes[ot][nt[ot]],rt=(o=i.values[at])!==null&&o!==void 0?o:0;a[tt]=rt,nt[ot]++}return a}const mixComplex=(i,s)=>{const o=complex.createTransformer(s),a=analyseComplexValue(i),nt=analyseComplexValue(s);return a.indexes.var.length===nt.indexes.var.length&&a.indexes.color.length===nt.indexes.color.length&&a.indexes.number.length>=nt.indexes.number.length?pipe(mixArray(matchOrder(a,nt),nt.values),o):mixImmediate(i,s)};function mix(i,s,o){return typeof i=="number"&&typeof s=="number"&&typeof o=="number"?mixNumber$1(i,s,o):getMixer(i)(i,s)}function createMixers(i,s,o){const a=[],nt=o||mix,tt=i.length-1;for(let ot=0;ot<tt;ot++){let at=nt(i[ot],i[ot+1]);if(s){const rt=Array.isArray(s)?s[ot]||noop:s;at=pipe(rt,at)}a.push(at)}return a}function interpolate(i,s,{clamp:o=!0,ease:a,mixer:nt}={}){const tt=i.length;if(invariant(tt===s.length),tt===1)return()=>s[0];if(tt===2&&i[0]===i[1])return()=>s[1];i[0]>i[tt-1]&&(i=[...i].reverse(),s=[...s].reverse());const ot=createMixers(s,a,nt),at=ot.length,rt=it=>{let j=0;if(at>1)for(;j<i.length-2&&!(it<i[j+1]);j++);const _=progress(i[j],i[j+1],it);return ot[j](_)};return o?it=>rt(clamp(i[0],i[tt-1],it)):rt}function fillOffset(i,s){const o=i[i.length-1];for(let a=1;a<=s;a++){const nt=progress(0,s,a);i.push(mixNumber$1(o,1,nt))}}function defaultOffset(i){const s=[0];return fillOffset(s,i.length-1),s}function convertOffsetToTimes(i,s){return i.map(o=>o*s)}function defaultEasing(i,s){return i.map(()=>s||easeInOut).splice(0,i.length-1)}function keyframes({duration:i=300,keyframes:s,times:o,ease:a="easeInOut"}){const nt=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),tt={done:!1,value:s[0]},ot=convertOffsetToTimes(o&&o.length===s.length?o:defaultOffset(s),i),at=interpolate(ot,s,{ease:Array.isArray(nt)?nt:defaultEasing(s,nt)});return{calculatedDuration:i,next:rt=>(tt.value=at(rt),tt.done=rt>=i,tt)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(i){let s=0;const o=50;let a=i.next(s);for(;!a.done&&s<maxGeneratorDuration;)s+=o,a=i.next(s);return s>=maxGeneratorDuration?1/0:s}const frameloopDriver=i=>{const s=({timestamp:o})=>i(o);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=i=>i/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:s=KeyframeResolver,...o}){super(o),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle";const{name:a,motionValue:nt,keyframes:tt}=this.options,ot=(at,rt)=>this.onKeyframesResolved(at,rt);a&&nt&&nt.owner?this.resolver=nt.owner.resolveKeyframes(tt,ot,a,nt):this.resolver=new s(tt,ot,a,nt),this.resolver.scheduleResolve()}initPlayback(s){const{type:o="keyframes",repeat:a=0,repeatDelay:nt=0,repeatType:tt,velocity:ot=0}=this.options,at=generators[o]||keyframes;let rt,it;at!==keyframes&&typeof s[0]!="number"&&(rt=pipe(percentToProgress,mix(s[0],s[1])),s=[0,100]);const j=at({...this.options,keyframes:s});tt==="mirror"&&(it=at({...this.options,keyframes:[...s].reverse(),velocity:-ot})),j.calculatedDuration===null&&(j.calculatedDuration=calcGeneratorDuration(j));const{calculatedDuration:_}=j,$=_+nt,et=$*(a+1)-nt;return{generator:j,mirroredGenerator:it,mapPercentToKeyframes:rt,calculatedDuration:_,resolvedDuration:$,totalDuration:et}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,o=!1){const{resolved:a}=this;if(!a){const{keyframes:yt}=this.options;return{done:!0,value:yt[yt.length-1]}}const{finalKeyframe:nt,generator:tt,mirroredGenerator:ot,mapPercentToKeyframes:at,keyframes:rt,calculatedDuration:it,totalDuration:j,resolvedDuration:_}=a;if(this.startTime===null)return tt.next(0);const{delay:$,repeat:et,repeatType:st,repeatDelay:lt,onUpdate:ct}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-j/this.speed,this.startTime)),o?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const ht=this.currentTime-$*(this.speed>=0?1:-1),ut=this.speed>=0?ht<0:ht>j;this.currentTime=Math.max(ht,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=j);let mt=this.currentTime,gt=tt;if(et){const yt=Math.min(this.currentTime,j)/_;let pt=Math.floor(yt),wt=yt%1;!wt&&yt>=1&&(wt=1),wt===1&&pt--,pt=Math.min(pt,et+1),!!(pt%2)&&(st==="reverse"?(wt=1-wt,lt&&(wt-=lt/_)):st==="mirror"&&(gt=ot)),mt=clamp(0,1,wt)*_}const vt=ut?{done:!1,value:rt[0]}:gt.next(mt);at&&(vt.value=at(vt.value));let{done:dt}=vt;!ut&&it!==null&&(dt=this.speed>=0?this.currentTime>=j:this.currentTime<=0);const St=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return St&&nt!==void 0&&(vt.value=getFinalKeyframe(rt,this.options,nt)),ct&&ct(vt.value),St&&this.finish(),vt}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const o=this.playbackSpeed!==s;this.playbackSpeed=s,o&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:o}=this.options;this.driver||(this.driver=s(nt=>this.tick(nt))),o&&o();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=a),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}stop(){if(this.isStopped=!0,this.state==="idle")return;this.state="idle";const{onStop:s}=this.options;s&&s(),this.teardown()}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const isBezierDefinition=i=>Array.isArray(i)&&typeof i[0]=="number";function isWaapiSupportedEasing(i){return!!(!i||typeof i=="string"&&supportedWaapiEasing[i]||isBezierDefinition(i)||Array.isArray(i)&&i.every(isWaapiSupportedEasing))}const cubicBezierAsString=([i,s,o,a])=>`cubic-bezier(${i}, ${s}, ${o}, ${a})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(i){if(i)return isBezierDefinition(i)?cubicBezierAsString(i):Array.isArray(i)?i.map(mapEasingToNativeEasing):supportedWaapiEasing[i]}function animateStyle(i,s,o,{delay:a=0,duration:nt=300,repeat:tt=0,repeatType:ot="loop",ease:at,times:rt}={}){const it={[s]:o};rt&&(it.offset=rt);const j=mapEasingToNativeEasing(at);return Array.isArray(j)&&(it.easing=j),i.animate(it,{delay:a,duration:nt,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:tt+1,direction:ot==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(i){return i.type==="spring"||i.name==="backgroundColor"||!isWaapiSupportedEasing(i.ease)}function pregenerateKeyframes(i,s){const o=new MainThreadAnimation({...s,keyframes:i,repeat:0,delay:0});let a={done:!1,value:i[0]};const nt=[];let tt=0;for(;!a.done&&tt<maxDuration;)a=o.sample(tt),nt.push(a.value),tt+=sampleDelta;return{times:void 0,keyframes:nt,duration:tt-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:o,motionValue:a,keyframes:nt}=this.options;this.resolver=new DOMKeyframesResolver(nt,(tt,ot)=>this.onKeyframesResolved(tt,ot),o,a),this.resolver.scheduleResolve()}initPlayback(s,o){let a=this.options.duration||300;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:at,onUpdate:rt,motionValue:it,...j}=this.options,_=pregenerateKeyframes(s,j);s=_.keyframes,a=_.duration,this.options.times=_.times,this.options.ease=_.ease}const{motionValue:nt,name:tt}=this.options,ot=animateStyle(nt.owner.current,tt,s,{...this.options,duration:a});return ot.startTime=time.now(),this.pendingTimeline?(ot.timeline=this.pendingTimeline,this.pendingTimeline=void 0):ot.onfinish=()=>{const{onComplete:at}=this.options;nt.set(getFinalKeyframe(s,this.options,o)),at&&at(),this.cancel(),this.resolveFinishedPromise(),this.updateFinishedPromise()},{animation:ot,duration:a,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:o}=s;return millisecondsToSeconds(o)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:o}=s;return millisecondsToSeconds(o.currentTime||0)}set time(s){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:o}=s;return o.playbackRate}set speed(s){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:o}=s;return o.playState}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:o}=this;if(!o)return noop;const{animation:a}=o;a.timeline=s,a.onfinish=null}return noop}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.pause()}stop(){this.isStopped=!0;const{resolved:s}=this;if(!s)return;const{animation:o,keyframes:a}=s;if(!(o.playState==="idle"||o.playState==="finished")){if(this.time){const{motionValue:nt,onUpdate:tt,onComplete:ot,...at}=this.options,rt=new MainThreadAnimation({...at,keyframes:a});nt.setWithVelocity(rt.sample(this.time-sampleDelta).value,rt.sample(this.time).value,sampleDelta)}this.cancel()}}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:o,name:a,repeatDelay:nt,repeatType:tt,damping:ot,type:at}=s;return supportsWaapi()&&a&&acceleratedValues.has(a)&&o&&o.owner&&o.owner.current instanceof HTMLElement&&!o.owner.getProps().onUpdate&&!nt&&tt!=="mirror"&&ot!==0&&at!=="inertia"}}const animateMotionValue=(i,s,o,a={},nt,tt)=>ot=>{const at=getValueTransition(a,i)||{},rt=at.delay||a.delay||0;let{elapsed:it=0}=a;it=it-secondsToMilliseconds(rt);let j={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:s.getVelocity(),...at,delay:-it,onUpdate:$=>{s.set($),at.onUpdate&&at.onUpdate($)},onComplete:()=>{ot(),at.onComplete&&at.onComplete()},name:i,motionValue:s,element:tt?void 0:nt};isTransitionDefined(at)||(j={...j,...getDefaultTransition(i,j)}),j.duration&&(j.duration=secondsToMilliseconds(j.duration)),j.repeatDelay&&(j.repeatDelay=secondsToMilliseconds(j.repeatDelay)),j.from!==void 0&&(j.keyframes[0]=j.from);let _=!1;if(j.type===!1&&(j.duration=0,j.delay===0&&(_=!0)),_&&!tt&&s.get()!==void 0){const $=getFinalKeyframe(j.keyframes,at);if($!==void 0){frame.update(()=>{j.onUpdate($),j.onComplete()});return}}return!tt&&AcceleratedAnimation.supports(j)?new AcceleratedAnimation(j):new MainThreadAnimation(j)};function isWillChangeMotionValue(i){return!!(isMotionValue(i)&&i.add)}function addUniqueItem(i,s){i.indexOf(s)===-1&&i.push(s)}function removeItem(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,o,a){const nt=this.subscriptions.length;if(nt)if(nt===1)this.subscriptions[0](s,o,a);else for(let tt=0;tt<nt;tt++){const ot=this.subscriptions[tt];ot&&ot(s,o,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(s,o={}){this.version="11.0.14",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,nt=!0)=>{const tt=time.now();this.updatedAt!==tt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),nt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.canTrackVelocity=isFloat(this.current),this.owner=o.owner}setCurrent(s){this.current=s,this.updatedAt=time.now()}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,o){this.events[s]||(this.events[s]=new SubscriptionManager);const a=this.events[s].add(o);return s==="change"?()=>{a(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,o){this.passiveEffect=s,this.stopPassiveEffect=o}set(s,o=!0){!o||!this.passiveEffect?this.updateAndNotify(s,o):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,o,a){this.set(o),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,o=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(s){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=s(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,s){return new MotionValue(i,s)}function setMotionValue(i,s,o){i.hasValue(s)?i.getValue(s).set(o):i.addValue(s,motionValue(o))}function setTarget(i,s){const o=resolveVariant(i,s);let{transitionEnd:a={},transition:nt={},...tt}=o||{};tt={...tt,...a};for(const ot in tt){const at=resolveFinalValueInKeyframes(tt[ot]);setMotionValue(i,ot,at)}}function shouldBlockAnimation({protectedKeys:i,needsAnimating:s},o){const a=i.hasOwnProperty(o)&&s[o]!==!0;return s[o]=!1,a}function animateTarget(i,s,{delay:o=0,transitionOverride:a,type:nt}={}){var tt;let{transition:ot=i.getDefaultTransition(),transitionEnd:at,...rt}=s;const it=i.getValue("willChange");a&&(ot=a);const j=[],_=nt&&i.animationState&&i.animationState.getState()[nt];for(const $ in rt){const et=i.getValue($,(tt=i.latestValues[$])!==null&&tt!==void 0?tt:null),st=rt[$];if(st===void 0||_&&shouldBlockAnimation(_,$))continue;const lt={delay:o,elapsed:0,...getValueTransition(ot||{},$)};let ct=!1;if(window.HandoffAppearAnimations){const ut=i.getProps()[optimizedAppearDataAttribute];if(ut){const mt=window.HandoffAppearAnimations(ut,$);mt!==null&&(lt.elapsed=mt,ct=!0)}}et.start(animateMotionValue($,et,st,i.shouldReduceMotion&&transformProps.has($)?{type:!1}:lt,i,ct));const ht=et.animation;ht&&(isWillChangeMotionValue(it)&&(it.add($),ht.then(()=>it.remove($))),j.push(ht))}return at&&Promise.all(j).then(()=>{frame.update(()=>{at&&setTarget(i,at)})}),j}function animateVariant(i,s,o={}){var a;const nt=resolveVariant(i,s,o.type==="exit"?(a=i.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:tt=i.getDefaultTransition()||{}}=nt||{};o.transitionOverride&&(tt=o.transitionOverride);const ot=nt?()=>Promise.all(animateTarget(i,nt,o)):()=>Promise.resolve(),at=i.variantChildren&&i.variantChildren.size?(it=0)=>{const{delayChildren:j=0,staggerChildren:_,staggerDirection:$}=tt;return animateChildren(i,s,j+it,_,$,o)}:()=>Promise.resolve(),{when:rt}=tt;if(rt){const[it,j]=rt==="beforeChildren"?[ot,at]:[at,ot];return it().then(()=>j())}else return Promise.all([ot(),at(o.delay)])}function animateChildren(i,s,o=0,a=0,nt=1,tt){const ot=[],at=(i.variantChildren.size-1)*a,rt=nt===1?(it=0)=>it*a:(it=0)=>at-it*a;return Array.from(i.variantChildren).sort(sortByTreeOrder).forEach((it,j)=>{it.notify("AnimationStart",s),ot.push(animateVariant(it,s,{...tt,delay:o+rt(j)}).then(()=>it.notify("AnimationComplete",s)))}),Promise.all(ot)}function sortByTreeOrder(i,s){return i.sortNodePosition(s)}function animateVisualElement(i,s,o={}){i.notify("AnimationStart",s);let a;if(Array.isArray(s)){const nt=s.map(tt=>animateVariant(i,tt,o));a=Promise.all(nt)}else if(typeof s=="string")a=animateVariant(i,s,o);else{const nt=typeof s=="function"?resolveVariant(i,s,o.custom):s;a=Promise.all(animateTarget(i,nt,o))}return a.then(()=>{frame.postRender(()=>{i.notify("AnimationComplete",s)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return s=>Promise.all(s.map(({animation:o,options:a})=>animateVisualElement(i,o,a)))}function createAnimationState(i){let s=animateList(i);const o=createState();let a=!0;const nt=rt=>(it,j)=>{var _;const $=resolveVariant(i,j,rt==="exit"?(_=i.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if($){const{transition:et,transitionEnd:st,...lt}=$;it={...it,...lt,...st}}return it};function tt(rt){s=rt(i)}function ot(rt){const it=i.getProps(),j=i.getVariantContext(!0)||{},_=[],$=new Set;let et={},st=1/0;for(let ct=0;ct<numAnimationTypes;ct++){const ht=reversePriorityOrder[ct],ut=o[ht],mt=it[ht]!==void 0?it[ht]:j[ht],gt=isVariantLabel(mt),vt=ht===rt?ut.isActive:null;vt===!1&&(st=ct);let dt=mt===j[ht]&&mt!==it[ht]&&gt;if(dt&&a&&i.manuallyAnimateOnMount&&(dt=!1),ut.protectedKeys={...et},!ut.isActive&&vt===null||!mt&&!ut.prevProp||isAnimationControls(mt)||typeof mt=="boolean")continue;let yt=checkVariantsDidChange(ut.prevProp,mt)||ht===rt&&ut.isActive&&!dt&&gt||ct>st&&gt,pt=!1;const wt=Array.isArray(mt)?mt:[mt];let Et=wt.reduce(nt(ht),{});vt===!1&&(Et={});const{prevResolvedValues:Ct={}}=ut,kt={...Ct,...Et},Tt=At=>{yt=!0,$.has(At)&&(pt=!0,$.delete(At)),ut.needsAnimating[At]=!0};for(const At in kt){const It=Et[At],Ot=Ct[At];if(et.hasOwnProperty(At))continue;let Mt=!1;isKeyframesTarget(It)&&isKeyframesTarget(Ot)?Mt=!shallowCompare(It,Ot):Mt=It!==Ot,Mt?It!=null?Tt(At):$.add(At):It!==void 0&&$.has(At)?Tt(At):ut.protectedKeys[At]=!0}ut.prevProp=mt,ut.prevResolvedValues=Et,ut.isActive&&(et={...et,...Et}),a&&i.blockInitialAnimation&&(yt=!1),yt&&(!dt||pt)&&_.push(...wt.map(At=>({animation:At,options:{type:ht}})))}if($.size){const ct={};$.forEach(ht=>{const ut=i.getBaseTarget(ht);ct[ht]=ut===void 0?null:ut}),_.push({animation:ct})}let lt=!!_.length;return a&&(it.initial===!1||it.initial===it.animate)&&!i.manuallyAnimateOnMount&&(lt=!1),a=!1,lt?s(_):Promise.resolve()}function at(rt,it){var j;if(o[rt].isActive===it)return Promise.resolve();(j=i.variantChildren)===null||j===void 0||j.forEach($=>{var et;return(et=$.animationState)===null||et===void 0?void 0:et.setActive(rt,it)}),o[rt].isActive=it;const _=ot(rt);for(const $ in o)o[$].protectedKeys={};return _}return{animateChanges:ot,setActive:at,setAnimateFunction:tt,getState:()=>o}}function checkVariantsDidChange(i,s){return typeof s=="string"?s!==i:Array.isArray(s)?!shallowCompare(s,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();this.unmount(),isAnimationControls(s)&&(this.unmount=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:o}=this.node.prevProps||{};s!==o&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:o}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const nt=this.node.animationState.setActive("exit",!s);o&&!s&&nt.then(()=>o(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(i,s)=>Math.abs(i-s);function distance2D(i,s){const o=distance(i.x,s.x),a=distance(i.y,s.y);return Math.sqrt(o**2+a**2)}class PanSession{constructor(s,o,{transformPagePoint:a,contextWindow:nt,dragSnapToOrigin:tt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=getPanInfo(this.lastMoveEventInfo,this.history),$=this.startEvent!==null,et=distance2D(_.offset,{x:0,y:0})>=3;if(!$&&!et)return;const{point:st}=_,{timestamp:lt}=frameData;this.history.push({...st,timestamp:lt});const{onStart:ct,onMove:ht}=this.handlers;$||(ct&&ct(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),ht&&ht(this.lastMoveEvent,_)},this.handlePointerMove=(_,$)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=transformPoint($,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(_,$)=>{this.end();const{onEnd:et,onSessionEnd:st,resumeAnimation:lt}=this.handlers;if(this.dragSnapToOrigin&&lt&&lt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ct=getPanInfo(_.type==="pointercancel"?this.lastMoveEventInfo:transformPoint($,this.transformPagePoint),this.history);this.startEvent&&et&&et(_,ct),st&&st(_,ct)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=tt,this.handlers=o,this.transformPagePoint=a,this.contextWindow=nt||window;const ot=extractEventInfo(s),at=transformPoint(ot,this.transformPagePoint),{point:rt}=at,{timestamp:it}=frameData;this.history=[{...rt,timestamp:it}];const{onSessionStart:j}=o;j&&j(s,getPanInfo(at,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(i,s){return s?{point:s(i.point)}:i}function subtractPoint(i,s){return{x:i.x-s.x,y:i.y-s.y}}function getPanInfo({point:i},s){return{point:i,delta:subtractPoint(i,lastDevicePoint(s)),offset:subtractPoint(i,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,s){if(i.length<2)return{x:0,y:0};let o=i.length-1,a=null;const nt=lastDevicePoint(i);for(;o>=0&&(a=i[o],!(nt.timestamp-a.timestamp>secondsToMilliseconds(s)));)o--;if(!a)return{x:0,y:0};const tt=millisecondsToSeconds(nt.timestamp-a.timestamp);if(tt===0)return{x:0,y:0};const ot={x:(nt.x-a.x)/tt,y:(nt.y-a.y)/tt};return ot.x===1/0&&(ot.x=0),ot.y===1/0&&(ot.y=0),ot}function calcLength(i){return i.max-i.min}function isNear(i,s=0,o=.01){return Math.abs(i-s)<=o}function calcAxisDelta(i,s,o,a=.5){i.origin=a,i.originPoint=mixNumber$1(s.min,s.max,i.origin),i.scale=calcLength(o)/calcLength(s),(isNear(i.scale,1,1e-4)||isNaN(i.scale))&&(i.scale=1),i.translate=mixNumber$1(o.min,o.max,i.origin)-i.originPoint,(isNear(i.translate)||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,s,o,a){calcAxisDelta(i.x,s.x,o.x,a?a.originX:void 0),calcAxisDelta(i.y,s.y,o.y,a?a.originY:void 0)}function calcRelativeAxis(i,s,o){i.min=o.min+s.min,i.max=i.min+calcLength(s)}function calcRelativeBox(i,s,o){calcRelativeAxis(i.x,s.x,o.x),calcRelativeAxis(i.y,s.y,o.y)}function calcRelativeAxisPosition(i,s,o){i.min=s.min-o.min,i.max=i.min+calcLength(s)}function calcRelativePosition(i,s,o){calcRelativeAxisPosition(i.x,s.x,o.x),calcRelativeAxisPosition(i.y,s.y,o.y)}function applyConstraints(i,{min:s,max:o},a){return s!==void 0&&i<s?i=a?mixNumber$1(s,i,a.min):Math.max(i,s):o!==void 0&&i>o&&(i=a?mixNumber$1(o,i,a.max):Math.min(i,o)),i}function calcRelativeAxisConstraints(i,s,o){return{min:s!==void 0?i.min+s:void 0,max:o!==void 0?i.max+o-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:s,left:o,bottom:a,right:nt}){return{x:calcRelativeAxisConstraints(i.x,o,nt),y:calcRelativeAxisConstraints(i.y,s,a)}}function calcViewportAxisConstraints(i,s){let o=s.min-i.min,a=s.max-i.max;return s.max-s.min<i.max-i.min&&([o,a]=[a,o]),{min:o,max:a}}function calcViewportConstraints(i,s){return{x:calcViewportAxisConstraints(i.x,s.x),y:calcViewportAxisConstraints(i.y,s.y)}}function calcOrigin(i,s){let o=.5;const a=calcLength(i),nt=calcLength(s);return nt>a?o=progress(s.min,s.max-a,i.min):a>nt&&(o=progress(i.min,i.max-nt,s.min)),clamp(0,1,o)}function rebaseAxisConstraints(i,s){const o={};return s.min!==void 0&&(o.min=s.min-i.min),s.max!==void 0&&(o.max=s.max-i.min),o}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,s,o){return{min:resolvePointElastic(i,s),max:resolvePointElastic(i,o)}}function resolvePointElastic(i,s){return typeof i=="number"?i:i[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(i){return[i("x"),i("y")]}function convertBoundingBoxToBox({top:i,left:s,right:o,bottom:a}){return{x:{min:s,max:o},y:{min:i,max:a}}}function convertBoxToBoundingBox({x:i,y:s}){return{top:s.min,right:i.max,bottom:s.max,left:i.min}}function transformBoxPoints(i,s){if(!s)return i;const o=s({x:i.left,y:i.top}),a=s({x:i.right,y:i.bottom});return{top:o.y,left:o.x,bottom:a.y,right:a.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:s,scaleY:o}){return!isIdentityScale(i)||!isIdentityScale(s)||!isIdentityScale(o)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,s,o){const a=i-o,nt=s*a;return o+nt}function applyPointDelta(i,s,o,a,nt){return nt!==void 0&&(i=scalePoint(i,nt,a)),scalePoint(i,o,a)+s}function applyAxisDelta(i,s=0,o=1,a,nt){i.min=applyPointDelta(i.min,s,o,a,nt),i.max=applyPointDelta(i.max,s,o,a,nt)}function applyBoxDelta(i,{x:s,y:o}){applyAxisDelta(i.x,s.translate,s.scale,s.originPoint),applyAxisDelta(i.y,o.translate,o.scale,o.originPoint)}function applyTreeDeltas(i,s,o,a=!1){const nt=o.length;if(!nt)return;s.x=s.y=1;let tt,ot;for(let at=0;at<nt;at++){tt=o[at],ot=tt.projectionDelta;const rt=tt.instance;rt&&rt.style&&rt.style.display==="contents"||(a&&tt.options.layoutScroll&&tt.scroll&&tt!==tt.root&&transformBox(i,{x:-tt.scroll.offset.x,y:-tt.scroll.offset.y}),ot&&(s.x*=ot.x.scale,s.y*=ot.y.scale,applyBoxDelta(i,ot)),a&&hasTransform(tt.latestValues)&&transformBox(i,tt.latestValues))}s.x=snapToDefault(s.x),s.y=snapToDefault(s.y)}function snapToDefault(i){return Number.isInteger(i)||i>1.0000000000001||i<.999999999999?i:1}function translateAxis(i,s){i.min=i.min+s,i.max=i.max+s}function transformAxis(i,s,[o,a,nt]){const tt=s[nt]!==void 0?s[nt]:.5,ot=mixNumber$1(i.min,i.max,tt);applyAxisDelta(i,s[o],s[a],ot,s.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(i,s){transformAxis(i.x,s,xKeys$1),transformAxis(i.y,s,yKeys$1)}function measureViewportBox(i,s){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),s))}function measurePageBox(i,s,o){const a=measureViewportBox(i,o),{scroll:nt}=s;return nt&&(translateAxis(a.x,nt.offset.x),translateAxis(a.y,nt.offset.y)),a}const getContextWindow=({current:i})=>i?i.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:o=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const nt=j=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(extractEventInfo(j,"page").point)},tt=(j,_)=>{const{drag:$,dragPropagation:et,onDragStart:st}=this.getProps();if($&&!et&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock($),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ct=>{let ht=this.getAxisMotionValue(ct).get()||0;if(percent.test(ht)){const{projection:ut}=this.visualElement;if(ut&&ut.layout){const mt=ut.layout.layoutBox[ct];mt&&(ht=calcLength(mt)*(parseFloat(ht)/100))}}this.originPoint[ct]=ht}),st&&st(j,_);const{animationState:lt}=this.visualElement;lt&&lt.setActive("whileDrag",!0)},ot=(j,_)=>{const{dragPropagation:$,dragDirectionLock:et,onDirectionLock:st,onDrag:lt}=this.getProps();if(!$&&!this.openGlobalLock)return;const{offset:ct}=_;if(et&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ct),this.currentDirection!==null&&st&&st(this.currentDirection);return}this.updateAxis("x",_.point,ct),this.updateAxis("y",_.point,ct),this.visualElement.render(),lt&&lt(j,_)},at=(j,_)=>this.stop(j,_),rt=()=>eachAxis(j=>{var _;return this.getAnimationState(j)==="paused"&&((_=this.getAxisMotionValue(j).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:it}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:nt,onStart:tt,onMove:ot,onSessionEnd:at,resumeAnimation:rt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:it,contextWindow:getContextWindow(this.visualElement)})}stop(s,o){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:nt}=o;this.startAnimation(nt);const{onDragEnd:tt}=this.getProps();tt&&tt(s,o)}cancel(){this.isDragging=!1;const{projection:s,animationState:o}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(s,o,a){const{drag:nt}=this.getProps();if(!a||!shouldDrag(s,nt,this.currentDirection))return;const tt=this.getAxisMotionValue(s);let ot=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(ot=applyConstraints(ot,this.constraints[s],this.elastic[s])),tt.set(ot)}resolveConstraints(){var s;const{dragConstraints:o,dragElastic:a}=this.getProps(),nt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,tt=this.constraints;o&&isRefObject(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&nt?this.constraints=calcRelativeConstraints(nt.layoutBox,o):this.constraints=!1,this.elastic=resolveDragElastic(a),tt!==this.constraints&&nt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(ot=>{this.getAxisMotionValue(ot)&&(this.constraints[ot]=rebaseAxisConstraints(nt.layoutBox[ot],this.constraints[ot]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:o}=this.getProps();if(!s||!isRefObject(s))return!1;const a=s.current,{projection:nt}=this.visualElement;if(!nt||!nt.layout)return!1;const tt=measurePageBox(a,nt.root,this.visualElement.getTransformPagePoint());let ot=calcViewportConstraints(nt.layout.layoutBox,tt);if(o){const at=o(convertBoxToBoundingBox(ot));this.hasMutatedConstraints=!!at,at&&(ot=convertBoundingBoxToBox(at))}return ot}startAnimation(s){const{drag:o,dragMomentum:a,dragElastic:nt,dragTransition:tt,dragSnapToOrigin:ot,onDragTransitionEnd:at}=this.getProps(),rt=this.constraints||{},it=eachAxis(j=>{if(!shouldDrag(j,o,this.currentDirection))return;let _=rt&&rt[j]||{};ot&&(_={min:0,max:0});const $=nt?200:1e6,et=nt?40:1e7,st={type:"inertia",velocity:a?s[j]:0,bounceStiffness:$,bounceDamping:et,timeConstant:750,restDelta:1,restSpeed:10,...tt,..._};return this.startAxisValueAnimation(j,st)});return Promise.all(it).then(at)}startAxisValueAnimation(s,o){const a=this.getAxisMotionValue(s);return a.start(animateMotionValue(s,a,0,o,this.visualElement))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var o;return(o=this.getAxisMotionValue(s).animation)===null||o===void 0?void 0:o.pause()})}getAnimationState(s){var o;return(o=this.getAxisMotionValue(s).animation)===null||o===void 0?void 0:o.state}getAxisMotionValue(s){const o="_drag"+s.toUpperCase(),a=this.visualElement.getProps(),nt=a[o];return nt||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(o=>{const{drag:a}=this.getProps();if(!shouldDrag(o,a,this.currentDirection))return;const{projection:nt}=this.visualElement,tt=this.getAxisMotionValue(o);if(nt&&nt.layout){const{min:ot,max:at}=nt.layout.layoutBox[o];tt.set(s[o]-mixNumber$1(ot,at,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:o}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(o)||!a||!this.constraints)return;this.stopAnimation();const nt={x:0,y:0};eachAxis(ot=>{const at=this.getAxisMotionValue(ot);if(at){const rt=at.get();nt[ot]=calcOrigin({min:rt,max:rt},this.constraints[ot])}});const{transformTemplate:tt}=this.visualElement.getProps();this.visualElement.current.style.transform=tt?tt({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(ot=>{if(!shouldDrag(ot,s,null))return;const at=this.getAxisMotionValue(ot),{min:rt,max:it}=this.constraints[ot];at.set(mixNumber$1(rt,it,nt[ot]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,o=addPointerEvent(s,"pointerdown",rt=>{const{drag:it,dragListener:j=!0}=this.getProps();it&&j&&this.start(rt)}),a=()=>{const{dragConstraints:rt}=this.getProps();isRefObject(rt)&&(this.constraints=this.resolveRefConstraints())},{projection:nt}=this.visualElement,tt=nt.addEventListener("measure",a);nt&&!nt.layout&&(nt.root&&nt.root.updateScroll(),nt.updateLayout()),a();const ot=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),at=nt.addEventListener("didUpdate",({delta:rt,hasLayoutChanged:it})=>{this.isDragging&&it&&(eachAxis(j=>{const _=this.getAxisMotionValue(j);_&&(this.originPoint[j]+=rt[j].translate,_.set(_.get()+rt[j].translate))}),this.visualElement.render())});return()=>{ot(),o(),tt(),at&&at()}}getProps(){const s=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:a=!1,dragPropagation:nt=!1,dragConstraints:tt=!1,dragElastic:ot=defaultElastic,dragMomentum:at=!0}=s;return{...s,drag:o,dragDirectionLock:a,dragPropagation:nt,dragConstraints:tt,dragElastic:ot,dragMomentum:at}}}function shouldDrag(i,s,o){return(s===!0||s===i)&&(o===null||o===i)}function getCurrentDirection(i,s=10){let o=null;return Math.abs(i.y)>s?o="y":Math.abs(i.x)>s&&(o="x"),o}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=i=>(s,o)=>{i&&i(s,o)};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:o,onPan:a,onPanEnd:nt}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(o),onMove:a,onEnd:(tt,ot)=>{delete this.session,nt&&nt(tt,ot)}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const i=reactExports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:a}=i,nt=reactExports.useId();return reactExports.useEffect(()=>a(nt),[]),!s&&o?[!1,()=>o&&o(nt)]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(i){return i===null?!0:i.isPresent}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(i,s){return s.max===s.min?0:i/(s.max-s.min)*100}const correctBorderRadius={correct:(i,s)=>{if(!s.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const o=pixelsToPercent(i,s.target.x),a=pixelsToPercent(i,s.target.y);return`${o}% ${a}%`}},correctBoxShadow={correct:(i,{treeScale:s,projectionDelta:o})=>{const a=i,nt=complex.parse(i);if(nt.length>5)return a;const tt=complex.createTransformer(i),ot=typeof nt[0]!="number"?1:0,at=o.x.scale*s.x,rt=o.y.scale*s.y;nt[0+ot]/=at,nt[1+ot]/=rt;const it=mixNumber$1(at,rt,.5);return typeof nt[2+ot]=="number"&&(nt[2+ot]/=it),typeof nt[3+ot]=="number"&&(nt[3+ot]/=it),tt(nt)}};class MeasureLayoutWithContext extends React$3.Component{componentDidMount(){const{visualElement:s,layoutGroup:o,switchLayoutGroup:a,layoutId:nt}=this.props,{projection:tt}=s;addScaleCorrector(defaultScaleCorrectors),tt&&(o.group&&o.group.add(tt),a&&a.register&&nt&&a.register(tt),tt.root.didUpdate(),tt.addEventListener("animationComplete",()=>{this.safeToRemove()}),tt.setOptions({...tt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:o,visualElement:a,drag:nt,isPresent:tt}=this.props,ot=a.projection;return ot&&(ot.isPresent=tt,nt||s.layoutDependency!==o||o===void 0?ot.willUpdate():this.safeToRemove(),s.isPresent!==tt&&(tt?ot.promote():ot.relegate()||frame.postRender(()=>{const at=ot.getStack();(!at||!at.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:o,switchLayoutGroup:a}=this.props,{projection:nt}=s;nt&&(nt.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(nt),a&&a.deregister&&a.deregister(nt))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(i){const[s,o]=usePresence(),a=reactExports.useContext(LayoutGroupContext);return React$3.createElement(MeasureLayoutWithContext,{...i,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:o})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,s,o,a,nt,tt){nt?(i.opacity=mixNumber$1(0,o.opacity!==void 0?o.opacity:1,easeCrossfadeIn(a)),i.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(a))):tt&&(i.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,o.opacity!==void 0?o.opacity:1,a));for(let ot=0;ot<numBorders;ot++){const at=`border${borders[ot]}Radius`;let rt=getRadius(s,at),it=getRadius(o,at);if(rt===void 0&&it===void 0)continue;rt||(rt=0),it||(it=0),rt===0||it===0||isPx(rt)===isPx(it)?(i[at]=Math.max(mixNumber$1(asNumber(rt),asNumber(it),a),0),(percent.test(it)||percent.test(rt))&&(i[at]+="%")):i[at]=it}(s.rotate||o.rotate)&&(i.rotate=mixNumber$1(s.rotate||0,o.rotate||0,a))}function getRadius(i,s){return i[s]!==void 0?i[s]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(i,s,o){return a=>a<i?0:a>s?1:o(progress(i,s,a))}function copyAxisInto(i,s){i.min=s.min,i.max=s.max}function copyBoxInto(i,s){copyAxisInto(i.x,s.x),copyAxisInto(i.y,s.y)}function removePointDelta(i,s,o,a,nt){return i-=s,i=scalePoint(i,1/o,a),nt!==void 0&&(i=scalePoint(i,1/nt,a)),i}function removeAxisDelta(i,s=0,o=1,a=.5,nt,tt=i,ot=i){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(ot.min,ot.max,s/100)-ot.min),typeof s!="number")return;let at=mixNumber$1(tt.min,tt.max,a);i===tt&&(at-=s),i.min=removePointDelta(i.min,s,o,at,nt),i.max=removePointDelta(i.max,s,o,at,nt)}function removeAxisTransforms(i,s,[o,a,nt],tt,ot){removeAxisDelta(i,s[o],s[a],s[nt],s.scale,tt,ot)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,s,o,a){removeAxisTransforms(i.x,s,xKeys,o?o.x:void 0,a?a.x:void 0),removeAxisTransforms(i.y,s,yKeys,o?o.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function boxEquals(i,s){return i.x.min===s.x.min&&i.x.max===s.x.max&&i.y.min===s.y.min&&i.y.max===s.y.max}function boxEqualsRounded(i,s){return Math.round(i.x.min)===Math.round(s.x.min)&&Math.round(i.x.max)===Math.round(s.x.max)&&Math.round(i.y.min)===Math.round(s.y.min)&&Math.round(i.y.max)===Math.round(s.y.max)}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(s){const o=this.members.findIndex(nt=>s===nt);if(o===0)return!1;let a;for(let nt=o;nt>=0;nt--){const tt=this.members[nt];if(tt.isPresent!==!1){a=tt;break}}return a?(this.promote(a),!0):!1}promote(s,o){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,o&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:nt}=s.options;nt===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:o,resumingFrom:a}=s;o.onExitComplete&&o.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,s,o){let a="";const nt=i.x.translate/s.x,tt=i.y.translate/s.y;if((nt||tt)&&(a=`translate3d(${nt}px, ${tt}px, 0) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),o){const{rotate:rt,rotateX:it,rotateY:j}=o;rt&&(a+=`rotate(${rt}deg) `),it&&(a+=`rotateX(${it}deg) `),j&&(a+=`rotateY(${j}deg) `)}const ot=i.x.scale*s.x,at=i.y.scale*s.y;return(ot!==1||at!==1)&&(a+=`scale(${ot}, ${at})`),a||"none"}const compareByDepth=(i,s)=>i.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(i,s){const o=time.now(),a=({timestamp:nt})=>{const tt=nt-o;tt>=s&&(cancelFrame(a),i(tt-s))};return frame.read(a,!0),()=>cancelFrame(a)}function record(i){window.MotionDebug&&window.MotionDebug.record(i)}function isSVGElement(i){return i instanceof SVGElement&&i.tagName!=="svg"}function animateSingleValue(i,s,o){const a=isMotionValue(i)?i:motionValue(i);return a.start(animateMotionValue("",a,s,o)),a.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:i,defaultParent:s,measureScroll:o,checkIsScrollRoot:a,resetTransform:nt}){return class{constructor(ot={},at=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=ot,this.root=at?at.root||at:this,this.path=at?[...at.path,at]:[],this.parent=at,this.depth=at?at.depth+1:0;for(let rt=0;rt<this.path.length;rt++)this.path[rt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(ot,at){return this.eventHandlers.has(ot)||this.eventHandlers.set(ot,new SubscriptionManager),this.eventHandlers.get(ot).add(at)}notifyListeners(ot,...at){const rt=this.eventHandlers.get(ot);rt&&rt.notify(...at)}hasListeners(ot){return this.eventHandlers.has(ot)}mount(ot,at=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(ot),this.instance=ot;const{layoutId:rt,layout:it,visualElement:j}=this.options;if(j&&!j.current&&j.mount(ot),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),at&&(it||rt)&&(this.isLayoutDirty=!0),i){let _;const $=()=>this.root.updateBlockedByResize=!1;i(ot,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=delay($,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}rt&&this.root.registerSharedNode(rt,this),this.options.animate!==!1&&j&&(rt||it)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:$,hasRelativeTargetChanged:et,layout:st})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const lt=this.options.transition||j.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ct,onLayoutAnimationComplete:ht}=j.getProps(),ut=!this.targetLayout||!boxEqualsRounded(this.targetLayout,st)||et,mt=!$&&et;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||mt||$&&(ut||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,mt);const gt={...getValueTransition(lt,"layout"),onPlay:ct,onComplete:ht};(j.shouldReduceMotion||this.options.layoutRoot)&&(gt.delay=0,gt.type=!1),this.startAnimation(gt)}else $||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=st})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const ot=this.getStack();ot&&ot.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:ot}=this.options;return ot&&ot.getProps().transformTemplate}willUpdate(ot=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let j=0;j<this.path.length;j++){const _=this.path[j];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:at,layout:rt}=this.options;if(at===void 0&&!rt)return;const it=this.getTransformTemplate();this.prevTransformTemplateValue=it?it(this.latestValues,""):void 0,this.updateSnapshot(),ot&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const at=time.now();frameData.delta=clamp(0,1e3/60,at-frameData.timestamp),frameData.timestamp=at,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let rt=0;rt<this.path.length;rt++)this.path[rt].updateScroll();const ot=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:at}=this.options;at&&at.notify("LayoutMeasure",this.layout.layoutBox,ot?ot.layoutBox:void 0)}updateScroll(ot="measure"){let at=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===ot&&(at=!1),at&&(this.scroll={animationId:this.root.animationId,phase:ot,isRoot:a(this.instance),offset:o(this.instance)})}resetTransform(){if(!nt)return;const ot=this.isLayoutDirty||this.shouldResetTransform,at=this.projectionDelta&&!isDeltaZero(this.projectionDelta),rt=this.getTransformTemplate(),it=rt?rt(this.latestValues,""):void 0,j=it!==this.prevTransformTemplateValue;ot&&(at||hasTransform(this.latestValues)||j)&&(nt(this.instance,it),this.shouldResetTransform=!1,this.scheduleRender())}measure(ot=!0){const at=this.measurePageBox();let rt=this.removeElementScroll(at);return ot&&(rt=this.removeTransform(rt)),roundBox(rt),{animationId:this.root.animationId,measuredBox:at,layoutBox:rt,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:ot}=this.options;if(!ot)return createBox();const at=ot.measureViewportBox(),{scroll:rt}=this.root;return rt&&(translateAxis(at.x,rt.offset.x),translateAxis(at.y,rt.offset.y)),at}removeElementScroll(ot){const at=createBox();copyBoxInto(at,ot);for(let rt=0;rt<this.path.length;rt++){const it=this.path[rt],{scroll:j,options:_}=it;if(it!==this.root&&j&&_.layoutScroll){if(j.isRoot){copyBoxInto(at,ot);const{scroll:$}=this.root;$&&(translateAxis(at.x,-$.offset.x),translateAxis(at.y,-$.offset.y))}translateAxis(at.x,j.offset.x),translateAxis(at.y,j.offset.y)}}return at}applyTransform(ot,at=!1){const rt=createBox();copyBoxInto(rt,ot);for(let it=0;it<this.path.length;it++){const j=this.path[it];!at&&j.options.layoutScroll&&j.scroll&&j!==j.root&&transformBox(rt,{x:-j.scroll.offset.x,y:-j.scroll.offset.y}),hasTransform(j.latestValues)&&transformBox(rt,j.latestValues)}return hasTransform(this.latestValues)&&transformBox(rt,this.latestValues),rt}removeTransform(ot){const at=createBox();copyBoxInto(at,ot);for(let rt=0;rt<this.path.length;rt++){const it=this.path[rt];if(!it.instance||!hasTransform(it.latestValues))continue;hasScale(it.latestValues)&&it.updateSnapshot();const j=createBox(),_=it.measurePageBox();copyBoxInto(j,_),removeBoxTransforms(at,it.latestValues,it.snapshot?it.snapshot.layoutBox:void 0,j)}return hasTransform(this.latestValues)&&removeBoxTransforms(at,this.latestValues),at}setTargetDelta(ot){this.targetDelta=ot,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(ot){this.options={...this.options,...ot,crossfade:ot.crossfade!==void 0?ot.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(ot=!1){var at;const rt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=rt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=rt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=rt.isSharedProjectionDirty);const it=!!this.resumingFrom||this!==rt;if(!(ot||it&&this.isSharedProjectionDirty||this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:_,layoutId:$}=this.options;if(!(!this.layout||!(_||$))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const et=this.getClosestProjectingParent();et&&et.layout&&this.animationProgress!==1?(this.relativeParent=et,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,et.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const et=this.getClosestProjectingParent();et&&!!et.resumingFrom==!!this.resumingFrom&&!et.options.layoutScroll&&et.target&&this.animationProgress!==1?(this.relativeParent=et,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,et.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var ot;const at=this.getLead(),rt=!!this.resumingFrom||this!==at;let it=!0;if((this.isProjectionDirty||!((ot=this.parent)===null||ot===void 0)&&ot.isProjectionDirty)&&(it=!1),rt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(it=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(it=!1),it)return;const{layout:j,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(j||_))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const $=this.treeScale.x,et=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,rt),at.layout&&!at.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(at.target=at.layout.layoutBox,at.targetWithTransforms=createBox());const{target:st}=at;if(!st){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const lt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,st,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==lt||this.treeScale.x!==$||this.treeScale.y!==et)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",st)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(ot=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),ot){const at=this.getStack();at&&at.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(ot,at=!1){const rt=this.snapshot,it=rt?rt.latestValues:{},j={...this.latestValues},_=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!at;const $=createBox(),et=rt?rt.source:void 0,st=this.layout?this.layout.source:void 0,lt=et!==st,ct=this.getStack(),ht=!ct||ct.members.length<=1,ut=!!(lt&&!ht&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let mt;this.mixTargetDelta=gt=>{const vt=gt/1e3;mixAxisDelta(_.x,ot.x,vt),mixAxisDelta(_.y,ot.y,vt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition($,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,$,vt),mt&&boxEquals(this.relativeTarget,mt)&&(this.isProjectionDirty=!1),mt||(mt=createBox()),copyBoxInto(mt,this.relativeTarget)),lt&&(this.animationValues=j,mixValues(j,it,this.latestValues,vt,ut,ht)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=vt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(ot){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...ot,onUpdate:at=>{this.mixTargetDelta(at),ot.onUpdate&&ot.onUpdate(at)},onComplete:()=>{ot.onComplete&&ot.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const ot=this.getStack();ot&&ot.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const ot=this.getLead();let{targetWithTransforms:at,target:rt,layout:it,latestValues:j}=ot;if(!(!at||!rt||!it)){if(this!==ot&&this.layout&&it&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,it.layoutBox)){rt=this.target||createBox();const _=calcLength(this.layout.layoutBox.x);rt.x.min=ot.target.x.min,rt.x.max=rt.x.min+_;const $=calcLength(this.layout.layoutBox.y);rt.y.min=ot.target.y.min,rt.y.max=rt.y.min+$}copyBoxInto(at,rt),transformBox(at,j),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,at,j)}}registerSharedNode(ot,at){this.sharedNodes.has(ot)||this.sharedNodes.set(ot,new NodeStack),this.sharedNodes.get(ot).add(at);const it=at.options.initialPromotionConfig;at.promote({transition:it?it.transition:void 0,preserveFollowOpacity:it&&it.shouldPreserveFollowOpacity?it.shouldPreserveFollowOpacity(at):void 0})}isLead(){const ot=this.getStack();return ot?ot.lead===this:!0}getLead(){var ot;const{layoutId:at}=this.options;return at?((ot=this.getStack())===null||ot===void 0?void 0:ot.lead)||this:this}getPrevLead(){var ot;const{layoutId:at}=this.options;return at?(ot=this.getStack())===null||ot===void 0?void 0:ot.prevLead:void 0}getStack(){const{layoutId:ot}=this.options;if(ot)return this.root.sharedNodes.get(ot)}promote({needsReset:ot,transition:at,preserveFollowOpacity:rt}={}){const it=this.getStack();it&&it.promote(this,rt),ot&&(this.projectionDelta=void 0,this.needsReset=!0),at&&this.setOptions({transition:at})}relegate(){const ot=this.getStack();return ot?ot.relegate(this):!1}resetRotation(){const{visualElement:ot}=this.options;if(!ot)return;let at=!1;const{latestValues:rt}=ot;if((rt.rotate||rt.rotateX||rt.rotateY||rt.rotateZ)&&(at=!0),!at)return;const it={};for(let j=0;j<transformAxes.length;j++){const _="rotate"+transformAxes[j];rt[_]&&(it[_]=rt[_],ot.setStaticValue(_,0))}ot.render();for(const j in it)ot.setStaticValue(j,it[j]);ot.scheduleRender()}getProjectionStyles(ot){var at,rt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const it={visibility:""},j=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,it.opacity="",it.pointerEvents=resolveMotionValue(ot==null?void 0:ot.pointerEvents)||"",it.transform=j?j(this.latestValues,""):"none",it;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const lt={};return this.options.layoutId&&(lt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,lt.pointerEvents=resolveMotionValue(ot==null?void 0:ot.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(lt.transform=j?j({},""):"none",this.hasProjected=!1),lt}const $=_.animationValues||_.latestValues;this.applyTransformsToTarget(),it.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$),j&&(it.transform=j($,it.transform));const{x:et,y:st}=this.projectionDelta;it.transformOrigin=`${et.origin*100}% ${st.origin*100}% 0`,_.animationValues?it.opacity=_===this?(rt=(at=$.opacity)!==null&&at!==void 0?at:this.latestValues.opacity)!==null&&rt!==void 0?rt:1:this.preserveOpacity?this.latestValues.opacity:$.opacityExit:it.opacity=_===this?$.opacity!==void 0?$.opacity:"":$.opacityExit!==void 0?$.opacityExit:0;for(const lt in scaleCorrectors){if($[lt]===void 0)continue;const{correct:ct,applyTo:ht}=scaleCorrectors[lt],ut=it.transform==="none"?$[lt]:ct($[lt],_);if(ht){const mt=ht.length;for(let gt=0;gt<mt;gt++)it[ht[gt]]=ut}else it[lt]=ut}return this.options.layoutId&&(it.pointerEvents=_===this?resolveMotionValue(ot==null?void 0:ot.pointerEvents)||"":"none"),it}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(ot=>{var at;return(at=ot.currentAnimation)===null||at===void 0?void 0:at.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){var s;const o=((s=i.resumeFrom)===null||s===void 0?void 0:s.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&o&&i.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:nt}=i.layout,{animationType:tt}=i.options,ot=o.source!==i.layout.source;tt==="size"?eachAxis(_=>{const $=ot?o.measuredBox[_]:o.layoutBox[_],et=calcLength($);$.min=a[_].min,$.max=$.min+et}):shouldAnimatePositionOnly(tt,o.layoutBox,a)&&eachAxis(_=>{const $=ot?o.measuredBox[_]:o.layoutBox[_],et=calcLength(a[_]);$.max=$.min+et,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[_].max=i.relativeTarget[_].min+et)});const at=createDelta();calcBoxDelta(at,a,o.layoutBox);const rt=createDelta();ot?calcBoxDelta(rt,i.applyTransform(nt,!0),o.measuredBox):calcBoxDelta(rt,a,o.layoutBox);const it=!isDeltaZero(at);let j=!1;if(!i.resumeFrom){const _=i.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:$,layout:et}=_;if($&&et){const st=createBox();calcRelativePosition(st,o.layoutBox,$.layoutBox);const lt=createBox();calcRelativePosition(lt,a,et.layoutBox),boxEqualsRounded(st,lt)||(j=!0),_.options.layoutRoot&&(i.relativeTarget=lt,i.relativeTargetOrigin=st,i.relativeParent=_)}}}i.notifyListeners("didUpdate",{layout:a,snapshot:o,delta:rt,layoutDelta:at,hasLayoutChanged:it,hasRelativeTargetChanged:j})}else if(i.isLead()){const{onExitComplete:a}=i.options;a&&a()}i.options.transition=void 0}function propagateDirtyNodes(i){projectionFrameData.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function cleanDirtyNodes(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function clearIsLayoutDirty(i){i.isLayoutDirty=!1}function resetTransformStyle(i){const{visualElement:s}=i.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetRotation(i){i.resetRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,s,o){i.translate=mixNumber$1(s.translate,0,o),i.scale=mixNumber$1(s.scale,1,o),i.origin=s.origin,i.originPoint=s.originPoint}function mixAxis(i,s,o,a){i.min=mixNumber$1(s.min,o.min,a),i.max=mixNumber$1(s.max,o.max,a)}function mixBox(i,s,o,a){mixAxis(i.x,s.x,o.x,a),mixAxis(i.y,s.y,o.y,a)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(i){i.min=roundPoint(i.min),i.max=roundPoint(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,s,o){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(o),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(i,s)=>addDomEvent(i,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode({});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,s)=>{i.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=i.matches;i.addListener(s),s()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(i,s,o){const{willChange:a}=s;for(const nt in s){const tt=s[nt],ot=o[nt];if(isMotionValue(tt))i.addValue(nt,tt),isWillChangeMotionValue(a)&&a.add(nt);else if(isMotionValue(ot))i.addValue(nt,motionValue(tt,{owner:i})),isWillChangeMotionValue(a)&&a.remove(nt);else if(ot!==tt)if(i.hasValue(nt)){const at=i.getValue(nt);!at.hasAnimated&&at.set(tt)}else{const at=i.getStaticValue(nt);i.addValue(nt,motionValue(at!==void 0?at:tt,{owner:i}))}}for(const nt in o)s[nt]===void 0&&i.removeValue(nt);return s}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i)),featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:s,props:o,presenceContext:a,reducedMotionConfig:nt,blockInitialAnimation:tt,visualState:ot},at={}){this.resolveKeyframes=($,et,st,lt)=>new this.KeyframeResolver($,et,st,lt,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:rt,renderState:it}=ot;this.latestValues=rt,this.baseTarget={...rt},this.initialValues=o.initial?{...rt}:{},this.renderState=it,this.parent=s,this.props=o,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=nt,this.options=at,this.blockInitialAnimation=!!tt,this.isControllingVariants=isControllingVariants(o),this.isVariantNode=isVariantNode(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:j,..._}=this.scrapeMotionValuesFromProps(o,{});for(const $ in _){const et=_[$];rt[$]!==void 0&&isMotionValue(et)&&(et.set(rt[$],!1),isWillChangeMotionValue(j)&&j.add($))}}scrapeMotionValuesFromProps(s,o){return{}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features)this.features[s].unmount();this.current=null}bindToMotionValue(s,o){const a=transformProps.has(s),nt=o.on("change",ot=>{this.latestValues[s]=ot,this.props.onUpdate&&frame.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),tt=o.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(s,()=>{nt(),tt()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}loadFeatures({children:s,...o},a,nt,tt){let ot,at;for(let rt=0;rt<numFeatures;rt++){const it=featureNames[rt],{isEnabled:j,Feature:_,ProjectionNode:$,MeasureLayout:et}=featureDefinitions[it];$&&(ot=$),j(o)&&(!this.features[it]&&_&&(this.features[it]=new _(this)),et&&(at=et))}if((this.type==="html"||this.type==="svg")&&!this.projection&&ot){this.projection=new ot(this.latestValues,this.parent&&this.parent.projection);const{layoutId:rt,layout:it,drag:j,dragConstraints:_,layoutScroll:$,layoutRoot:et}=o;this.projection.setOptions({layoutId:rt,layout:it,alwaysMeasureLayout:!!j||_&&isRefObject(_),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof it=="string"?it:"both",initialPromotionConfig:tt,layoutScroll:$,layoutRoot:et})}return at}updateFeatures(){for(const s in this.features){const o=this.features[s];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,o){this.latestValues[s]=o}update(s,o){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let a=0;a<propEventHandlers.length;a++){const nt=propEventHandlers[a];this.propEventSubscriptions[nt]&&(this.propEventSubscriptions[nt](),delete this.propEventSubscriptions[nt]);const tt=s["on"+nt];tt&&(this.propEventSubscriptions[nt]=this.on(nt,tt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(s=!1){if(s)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const o={};for(let a=0;a<numVariantProps;a++){const nt=variantProps[a],tt=this.props[nt];(isVariantLabel(tt)||tt===!1)&&(o[nt]=tt)}return o}addVariantChild(s){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(s),()=>o.variantChildren.delete(s)}addValue(s,o){o!==this.values.get(s)&&(this.removeValue(s),this.bindToMotionValue(s,o)),this.values.set(s,o),this.latestValues[s]=o.get()}removeValue(s){this.values.delete(s);const o=this.valueSubscriptions.get(s);o&&(o(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,o){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&o!==void 0&&(a=motionValue(o===null?void 0:o,{owner:this}),this.addValue(s,a)),a}readValue(s,o){var a;let nt=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(a=this.getBaseTargetFromProps(this.props,s))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,s,this.options);return nt!=null&&(typeof nt=="string"&&(isNumericalString(nt)||isZeroValueString(nt))?nt=parseFloat(nt):!findValueType(nt)&&complex.test(o)&&(nt=getAnimatableNone(s,o)),this.setBaseTarget(s,isMotionValue(nt)?nt.get():nt)),isMotionValue(nt)?nt.get():nt}setBaseTarget(s,o){this.baseTarget[s]=o}getBaseTarget(s){var o,a;const{initial:nt}=this.props,tt=typeof nt=="string"||typeof nt=="object"?(a=resolveVariantFromProps(this.props,nt,(o=this.presenceContext)===null||o===void 0?void 0:o.custom))===null||a===void 0?void 0:a[s]:void 0;if(nt&&tt!==void 0)return tt;const ot=this.getBaseTargetFromProps(this.props,s);return ot!==void 0&&!isMotionValue(ot)?ot:this.initialValues[s]!==void 0&&tt===void 0?void 0:this.baseTarget[s]}on(s,o){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(o)}notify(s,...o){this.events[s]&&this.events[s].notify(...o)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,o){return s.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(s,o){return s.style?s.style[o]:void 0}removeValueFromRenderState(s,{vars:o,style:a}){delete o[s],delete a[s]}}function getComputedStyle(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(s,o){if(transformProps.has(o)){const a=getDefaultValueType(o);return a&&a.default||0}else{const a=getComputedStyle(s),nt=(isCSSVariableName(o)?a.getPropertyValue(o):a[o])||0;return typeof nt=="string"?nt.trim():nt}}measureInstanceViewportBox(s,{transformPagePoint:o}){return measureViewportBox(s,o)}build(s,o,a,nt){buildHTMLStyles(s,o,a,nt.transformTemplate)}scrapeMotionValuesFromProps(s,o){return scrapeMotionValuesFromProps$1(s,o)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}renderInstance(s,o,a,nt){renderHTML(s,o,a,nt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(s,o){return s[o]}readValueFromInstance(s,o){if(transformProps.has(o)){const a=getDefaultValueType(o);return a&&a.default||0}return o=camelCaseAttributes.has(o)?o:camelToDash(o),s.getAttribute(o)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(s,o){return scrapeMotionValuesFromProps(s,o)}build(s,o,a,nt){buildSVGAttrs(s,o,a,this.isSVGTag,nt.transformTemplate)}renderInstance(s,o,a,nt){renderSVG(s,o,a,nt)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(i,s)=>isSVGComponent(i)?new SVGVisualElement(s,{enableHardwareAcceleration:!1}):new HTMLVisualElement(s,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((i,s)=>createDomMotionConfig(i,s,preloadedFeatures,createDomVisualElement));function useIsMounted(){const i=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),i}function useForceUpdate(){const i=useIsMounted(),[s,o]=reactExports.useState(0),a=reactExports.useCallback(()=>{i.current&&o(s+1)},[s]);return[reactExports.useCallback(()=>frame.postRender(a),[a]),s]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const o=this.props.childRef.current;if(o&&s.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=o.offsetHeight||0,a.width=o.offsetWidth||0,a.top=o.offsetTop,a.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:s}){const o=reactExports.useId(),a=reactExports.useRef(null),nt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:tt}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:ot,height:at,top:rt,left:it}=nt.current;if(s||!a.current||!ot||!at)return;a.current.dataset.motionPopId=o;const j=document.createElement("style");return tt&&(j.nonce=tt),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${ot}px !important;
            height: ${at}px !important;
            top: ${rt}px !important;
            left: ${it}px !important;
          }
        `),()=>{document.head.removeChild(j)}},[s]),reactExports.createElement(PopChildMeasure,{isPresent:s,childRef:a,sizeRef:nt},reactExports.cloneElement(i,{ref:a}))}const PresenceChild=({children:i,initial:s,isPresent:o,onExitComplete:a,custom:nt,presenceAffectsLayout:tt,mode:ot})=>{const at=useConstant(newChildrenMap),rt=reactExports.useId(),it=reactExports.useMemo(()=>({id:rt,initial:s,isPresent:o,custom:nt,onExitComplete:j=>{at.set(j,!0);for(const _ of at.values())if(!_)return;a&&a()},register:j=>(at.set(j,!1),()=>at.delete(j))}),tt?void 0:[o]);return reactExports.useMemo(()=>{at.forEach((j,_)=>at.set(_,!1))},[o]),reactExports.useEffect(()=>{!o&&!at.size&&a&&a()},[o]),ot==="popLayout"&&(i=reactExports.createElement(PopChild,{isPresent:o},i)),reactExports.createElement(PresenceContext.Provider,{value:it},i)};function newChildrenMap(){return new Map}function useUnmountEffect(i){return reactExports.useEffect(()=>()=>i(),[])}const getChildKey=i=>i.key||"";function updateChildLookup(i,s){i.forEach(o=>{const a=getChildKey(o);s.set(a,o)})}function onlyElements(i){const s=[];return reactExports.Children.forEach(i,o=>{reactExports.isValidElement(o)&&s.push(o)}),s}const AnimatePresence=({children:i,custom:s,initial:o=!0,onExitComplete:a,exitBeforeEnter:nt,presenceAffectsLayout:tt=!0,mode:ot="sync"})=>{const at=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],rt=useIsMounted(),it=onlyElements(i);let j=it;const _=reactExports.useRef(new Map).current,$=reactExports.useRef(j),et=reactExports.useRef(new Map).current,st=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{st.current=!1,updateChildLookup(it,et),$.current=j}),useUnmountEffect(()=>{st.current=!0,et.clear(),_.clear()}),st.current)return reactExports.createElement(reactExports.Fragment,null,j.map(ut=>reactExports.createElement(PresenceChild,{key:getChildKey(ut),isPresent:!0,initial:o?void 0:!1,presenceAffectsLayout:tt,mode:ot},ut)));j=[...j];const lt=$.current.map(getChildKey),ct=it.map(getChildKey),ht=lt.length;for(let ut=0;ut<ht;ut++){const mt=lt[ut];ct.indexOf(mt)===-1&&!_.has(mt)&&_.set(mt,void 0)}return ot==="wait"&&_.size&&(j=[]),_.forEach((ut,mt)=>{if(ct.indexOf(mt)!==-1)return;const gt=et.get(mt);if(!gt)return;const vt=lt.indexOf(mt);let dt=ut;if(!dt){const St=()=>{_.delete(mt);const yt=Array.from(et.keys()).filter(pt=>!ct.includes(pt));if(yt.forEach(pt=>et.delete(pt)),$.current=it.filter(pt=>{const wt=getChildKey(pt);return wt===mt||yt.includes(wt)}),!_.size){if(rt.current===!1)return;at(),a&&a()}};dt=reactExports.createElement(PresenceChild,{key:getChildKey(gt),isPresent:!1,onExitComplete:St,custom:s,presenceAffectsLayout:tt,mode:ot},gt),_.set(mt,dt)}j.splice(vt,0,dt)}),j=j.map(ut=>{const mt=ut.key;return _.has(mt)?ut:reactExports.createElement(PresenceChild,{key:getChildKey(ut),isPresent:!0,presenceAffectsLayout:tt,mode:ot},ut)}),reactExports.createElement(reactExports.Fragment,null,_.size?j:j.map(ut=>reactExports.cloneElement(ut)))};var toastMotionVariants={initial:i=>{const{position:s}=i,o=["top","bottom"].includes(s)?"y":"x";let a=["top-right","bottom-right"].includes(s)?1:-1;return s==="bottom"&&(a=1),{opacity:0,[o]:a*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(i=>{const{id:s,message:o,onCloseComplete:a,onRequestRemove:nt,requestClose:tt=!1,position:ot="bottom",duration:at=5e3,containerStyle:rt,motionVariants:it=toastMotionVariants,toastSpacing:j="0.5rem"}=i,[_,$]=reactExports.useState(at),et=useIsPresent();useUpdateEffect(()=>{et||a==null||a()},[et]),useUpdateEffect(()=>{$(at)},[at]);const st=()=>$(null),lt=()=>$(at),ct=()=>{et&&nt()};reactExports.useEffect(()=>{et&&tt&&nt()},[et,tt,nt]),useTimeout(ct,_);const ht=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:j,...rt}),[rt,j]),ut=reactExports.useMemo(()=>getToastStyle(ot),[ot]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:it,initial:"initial",animate:"animate",exit:"exit",onHoverStart:st,onHoverEnd:lt,custom:{position:ot},style:ut,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:ht,children:runIfFn$2(o,{id:s,onClose:ct})})})});ToastComponent.displayName="ToastComponent";var fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((i,s)=>{const{as:o,viewBox:a,color:nt="currentColor",focusable:tt=!1,children:ot,className:at,__css:rt,...it}=i,j=cx("chakra-icon",at),_=useStyleConfig("Icon",i),$={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:nt,...rt,..._},et={ref:s,focusable:tt,className:j,__css:$},st=a??fallbackIcon.viewBox;if(o&&typeof o!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:o,...et,...it});const lt=ot??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:st,...et,...it,children:lt})});Icon.displayName="Icon";function createIcon(i){const{viewBox:s="0 0 24 24",d:o,displayName:a,defaultProps:nt={}}=i,tt=reactExports.Children.toArray(i.path),ot=forwardRef((at,rt)=>jsxRuntimeExports.jsx(Icon,{ref:rt,viewBox:s,...nt,...at,children:tt.length?tt:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:o})}));return ot.displayName=a,ot}function CheckIcon$1(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((i,s)=>{const o=useStyleConfig("Spinner",i),{label:a="Loading...",thickness:nt="2px",speed:tt="0.45s",emptyColor:ot="transparent",className:at,...rt}=omitThemingProps(i),it=cx("chakra-spinner",at),j={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:nt,borderBottomColor:ot,borderLeftColor:ot,animation:`${spin} ${tt} linear infinite`,...o};return jsxRuntimeExports.jsx(chakra.div,{ref:s,__css:j,className:it,...rt,children:a&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:a})})});Spinner.displayName="Spinner";var[AlertProvider,useAlertContext]=createContext$2({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$2({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon$1,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(i){return STATUSES[i].colorScheme}function getStatusIcon(i){return STATUSES[i].icon}var AlertDescription=forwardRef(function(s,o){const a=useAlertStyles(),{status:nt}=useAlertContext(),tt={display:"inline",...a.description};return jsxRuntimeExports.jsx(chakra.div,{ref:o,"data-status":nt,...s,className:cx("chakra-alert__desc",s.className),__css:tt})});AlertDescription.displayName="AlertDescription";function AlertIcon(i){const{status:s}=useAlertContext(),o=getStatusIcon(s),a=useAlertStyles(),nt=s==="loading"?a.spinner:a.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":s,...i,className:cx("chakra-alert__icon",i.className),__css:nt,children:i.children||jsxRuntimeExports.jsx(o,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function(s,o){const a=useAlertStyles(),{status:nt}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:o,"data-status":nt,...s,className:cx("chakra-alert__title",s.className),__css:a.title})});AlertTitle.displayName="AlertTitle";var Alert=forwardRef(function(s,o){var a;const{status:nt="info",addRole:tt=!0,...ot}=omitThemingProps(s),at=(a=s.colorScheme)!=null?a:getStatusColorScheme(nt),rt=useMultiStyleConfig("Alert",{...s,colorScheme:at}),it={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...rt.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:nt},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:rt,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":nt,role:tt?"alert":void 0,ref:o,...ot,className:cx("chakra-alert",s.className),__css:it})})})});Alert.displayName="Alert";function CloseIcon(i){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function(s,o){const a=useStyleConfig("CloseButton",s),{children:nt,isDisabled:tt,__css:ot,...at}=omitThemingProps(s),rt={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:o,disabled:tt,__css:{...rt,...a,...ot},...at,children:nt||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";var initialState={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState);function createStore(i){let s=i;const o=new Set,a=nt=>{s=nt(s),o.forEach(tt=>tt())};return{getState:()=>s,subscribe:nt=>(o.add(nt),()=>{a(()=>i),o.delete(nt)}),removeToast:(nt,tt)=>{a(ot=>({...ot,[tt]:ot[tt].filter(at=>at.id!=nt)}))},notify:(nt,tt)=>{const ot=createToast(nt,tt),{position:at,id:rt}=ot;return a(it=>{var j,_;const et=at.includes("top")?[ot,...(j=it[at])!=null?j:[]]:[...(_=it[at])!=null?_:[],ot];return{...it,[at]:et}}),rt},update:(nt,tt)=>{nt&&a(ot=>{const at={...ot},{position:rt,index:it}=findToast(at,nt);return rt&&it!==-1&&(at[rt][it]={...at[rt][it],...tt,message:createRenderToast(tt)}),at})},closeAll:({positions:nt}={})=>{a(tt=>(nt??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((rt,it)=>(rt[it]=tt[it].map(j=>({...j,requestClose:!0})),rt),{...tt}))},close:nt=>{a(tt=>{const ot=getToastPosition(tt,nt);return ot?{...tt,[ot]:tt[ot].map(at=>at.id==nt?{...at,requestClose:!0}:at)}:tt})},isActive:nt=>!!findToast(toastStore.getState(),nt).position}}var counter=0;function createToast(i,s={}){var o,a;counter+=1;const nt=(o=s.id)!=null?o:counter,tt=(a=s.position)!=null?a:"bottom";return{id:nt,message:i,position:tt,duration:s.duration,onCloseComplete:s.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(nt),tt),status:s.status,requestClose:!1,containerStyle:s.containerStyle}}var Toast=i=>{const{status:s,variant:o="solid",id:a,title:nt,isClosable:tt,onClose:ot,description:at,colorScheme:rt,icon:it}=i,j=a?{root:`toast-${a}`,title:`toast-${a}-title`,description:`toast-${a}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:s,variant:o,id:j==null?void 0:j.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:rt,children:[jsxRuntimeExports.jsx(AlertIcon,{children:it}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[nt&&jsxRuntimeExports.jsx(AlertTitle,{id:j==null?void 0:j.title,children:nt}),at&&jsxRuntimeExports.jsx(AlertDescription,{id:j==null?void 0:j.description,display:"block",children:at})]}),tt&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:ot,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(i={}){const{render:s,toastComponent:o=Toast}=i;return nt=>typeof s=="function"?s({...nt,...i}):jsxRuntimeExports.jsx(o,{...nt,...i})}var[ToastOptionProvider,useToastOptionContext]=createContext$2({name:"ToastOptionsContext",strict:!1}),ToastProvider=i=>{const s=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:o,component:a=ToastComponent,portalProps:nt}=i,ot=Object.keys(s).map(at=>{const rt=s[at];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${at}`,id:`chakra-toast-manager-${at}`,style:getToastListStyle(at),children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:rt.map(it=>jsxRuntimeExports.jsx(a,{motionVariants:o,...it},it.id))})},at)});return jsxRuntimeExports.jsx(Portal,{...nt,children:ot})},createChakraProvider=i=>function({children:o,theme:a=i,toastOptions:nt,...tt}){return jsxRuntimeExports.jsxs(ChakraProvider$1,{theme:a,...tt,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:nt==null?void 0:nt.defaultOptions,children:o}),jsxRuntimeExports.jsx(ToastProvider,{...nt})]})},ChakraProvider=createChakraProvider(theme$2);function assignRef$1(i,s){if(i!=null){if(typeof i=="function"){i(s);return}try{i.current=s}catch{throw new Error(`Cannot assign value '${s}' to ref '${i}'`)}}}function mergeRefs(...i){return s=>{i.forEach(o=>{assignRef$1(o,s)})}}function useMergeRefs$1(...i){return reactExports.useMemo(()=>mergeRefs(...i),i)}var TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.enter}),exit:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.exit})},variants$2={enter:({transition:i,transitionEnd:s,delay:o}={})=>{var a;return{opacity:1,transition:(a=i==null?void 0:i.enter)!=null?a:withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:s==null?void 0:s.enter}},exit:({transition:i,transitionEnd:s,delay:o}={})=>{var a;return{opacity:0,transition:(a=i==null?void 0:i.exit)!=null?a:withDelay.exit(TRANSITION_DEFAULTS.exit,o),transitionEnd:s==null?void 0:s.exit}}},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:nt,className:tt,transition:ot,transitionEnd:at,delay:rt,...it}=s,j=nt||a?"enter":"exit",_=a?nt&&a:!0,$={transition:ot,transitionEnd:at,delay:rt};return jsxRuntimeExports.jsx(AnimatePresence,{custom:$,children:_&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-fade",tt),custom:$,...fadeConfig,animate:j,...it})})});Fade.displayName="Fade";var variants$1={exit:({reverse:i,initialScale:s,transition:o,transitionEnd:a,delay:nt})=>{var tt;return{opacity:0,...i?{scale:s,transitionEnd:a==null?void 0:a.exit}:{transitionEnd:{scale:s,...a==null?void 0:a.exit}},transition:(tt=o==null?void 0:o.exit)!=null?tt:withDelay.exit(TRANSITION_DEFAULTS.exit,nt)}},enter:({transitionEnd:i,transition:s,delay:o})=>{var a;return{opacity:1,scale:1,transition:(a=s==null?void 0:s.enter)!=null?a:withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:i==null?void 0:i.enter}}},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$1},ScaleFade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:nt,reverse:tt=!0,initialScale:ot=.95,className:at,transition:rt,transitionEnd:it,delay:j,..._}=s,$=a?nt&&a:!0,et=nt||a?"enter":"exit",st={initialScale:ot,reverse:tt,transition:rt,transitionEnd:it,delay:j};return jsxRuntimeExports.jsx(AnimatePresence,{custom:st,children:$&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-offset-slide",at),...scaleFadeConfig,animate:et,custom:st,..._})})});ScaleFade.displayName="ScaleFade";var variants={initial:({offsetX:i,offsetY:s,transition:o,transitionEnd:a,delay:nt})=>{var tt;return{opacity:0,x:i,y:s,transition:(tt=o==null?void 0:o.exit)!=null?tt:withDelay.exit(TRANSITION_DEFAULTS.exit,nt),transitionEnd:a==null?void 0:a.exit}},enter:({transition:i,transitionEnd:s,delay:o})=>{var a;return{opacity:1,x:0,y:0,transition:(a=i==null?void 0:i.enter)!=null?a:withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:s==null?void 0:s.enter}},exit:({offsetY:i,offsetX:s,transition:o,transitionEnd:a,reverse:nt,delay:tt})=>{var ot;const at={x:s,y:i};return{opacity:0,transition:(ot=o==null?void 0:o.exit)!=null?ot:withDelay.exit(TRANSITION_DEFAULTS.exit,tt),...nt?{...at,transitionEnd:a==null?void 0:a.exit}:{transitionEnd:{...at,...a==null?void 0:a.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants},SlideFade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:nt,reverse:tt=!0,className:ot,offsetX:at=0,offsetY:rt=8,transition:it,transitionEnd:j,delay:_,...$}=s,et=a?nt&&a:!0,st=nt||a?"enter":"exit",lt={offsetX:at,offsetY:rt,reverse:tt,transition:it,transitionEnd:j,delay:_};return jsxRuntimeExports.jsx(AnimatePresence,{custom:lt,children:et&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-offset-slide",ot),custom:lt,...slideFadeConfig,animate:st,...$})})});SlideFade.displayName="SlideFade";function getValidChildren(i){return reactExports.Children.toArray(i).filter(s=>reactExports.isValidElement(s))}var[ButtonGroupProvider,useButtonGroup]=createContext$2({strict:!1,name:"ButtonGroupContext"}),attachedStyles={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},gapStyles={horizontal:i=>({"& > *:not(style) ~ *:not(style)":{marginStart:i}}),vertical:i=>({"& > *:not(style) ~ *:not(style)":{marginTop:i}})},ButtonGroup=forwardRef(function(s,o){const{size:a,colorScheme:nt,variant:tt,className:ot,spacing:at="0.5rem",isAttached:rt,isDisabled:it,orientation:j="horizontal",..._}=s,$=cx("chakra-button__group",ot),et=reactExports.useMemo(()=>({size:a,colorScheme:nt,variant:tt,isDisabled:it}),[a,nt,tt,it]);let st={display:"inline-flex",...rt?attachedStyles[j]:gapStyles[j](at)};const lt=j==="vertical";return jsxRuntimeExports.jsx(ButtonGroupProvider,{value:et,children:jsxRuntimeExports.jsx(chakra.div,{ref:o,role:"group",__css:st,className:$,"data-attached":rt?"":void 0,"data-orientation":j,flexDir:lt?"column":void 0,..._})})});ButtonGroup.displayName="ButtonGroup";function useButtonType(i){const[s,o]=reactExports.useState(!i);return{ref:reactExports.useCallback(tt=>{tt&&o(tt.tagName==="BUTTON")},[]),type:s?"button":void 0}}function ButtonIcon(i){const{children:s,className:o,...a}=i,nt=reactExports.isValidElement(s)?reactExports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):s,tt=cx("chakra-button__icon",o);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...a,className:tt,children:nt})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(i){const{label:s,placement:o,spacing:a="0.5rem",children:nt=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:tt,__css:ot,...at}=i,rt=cx("chakra-button__spinner",tt),it=o==="start"?"marginEnd":"marginStart",j=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:s?"relative":"absolute",[it]:s?a:0,fontSize:"1em",lineHeight:"normal",...ot}),[ot,s,it,a]);return jsxRuntimeExports.jsx(chakra.div,{className:rt,...at,__css:j,children:nt})}ButtonSpinner.displayName="ButtonSpinner";var Button=forwardRef((i,s)=>{const o=useButtonGroup(),a=useStyleConfig("Button",{...o,...i}),{isDisabled:nt=o==null?void 0:o.isDisabled,isLoading:tt,isActive:ot,children:at,leftIcon:rt,rightIcon:it,loadingText:j,iconSpacing:_="0.5rem",type:$,spinner:et,spinnerPlacement:st="start",className:lt,as:ct,...ht}=omitThemingProps(i),ut=reactExports.useMemo(()=>{const dt={...a==null?void 0:a._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...a,...!!o&&{_focus:dt}}},[a,o]),{ref:mt,type:gt}=useButtonType(ct),vt={rightIcon:it,leftIcon:rt,iconSpacing:_,children:at};return jsxRuntimeExports.jsxs(chakra.button,{ref:useMergeRefs$1(s,mt),as:ct,type:$??gt,"data-active":dataAttr(ot),"data-loading":dataAttr(tt),__css:ut,className:cx("chakra-button",lt),...ht,disabled:nt||tt,children:[tt&&st==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:j,placement:"start",spacing:_,children:et}),tt?j||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...vt})}):jsxRuntimeExports.jsx(ButtonContent,{...vt}),tt&&st==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:j,placement:"end",spacing:_,children:et})]})});Button.displayName="Button";function ButtonContent(i){const{leftIcon:s,rightIcon:o,children:a,iconSpacing:nt}=i;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:nt,children:s}),a,o&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:nt,children:o})]})}var[CardStylesProvider,useCardStyles]=createStylesContext("Card"),CardBody=forwardRef(function(s,o){const{className:a,...nt}=s,tt=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card__body",a),__css:tt.body,...nt})}),CardHeader=forwardRef(function(s,o){const{className:a,...nt}=s,tt=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card__header",a),__css:tt.header,...nt})}),Card=forwardRef(function(s,o){const{className:a,children:nt,direction:tt="column",justify:ot,align:at,...rt}=omitThemingProps(s),it=useMultiStyleConfig("Card",s);return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card",a),__css:{display:"flex",flexDirection:tt,justifyContent:ot,alignItems:at,position:"relative",minWidth:0,wordWrap:"break-word",...it.container},...rt,children:jsxRuntimeExports.jsx(CardStylesProvider,{value:it,children:nt})})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$2({name:"CheckboxGroupContext",strict:!1});function useInitialAnimationState(i){const[s,o]=reactExports.useState(i),[a,nt]=reactExports.useState(!1);return i!==s&&(nt(!0),o(i)),a}function CheckIcon(i){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...i,children:jsxRuntimeExports.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(i){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...i,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(i){const{isIndeterminate:s,isChecked:o,...a}=i,nt=s?IndeterminateIcon:CheckIcon;return o||s?jsxRuntimeExports.jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx(nt,{...a})}):null}var[FormControlStylesProvider,useFormControlStyles]=createContext$2({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$2({strict:!1,name:"FormControlContext"});function useFormControlProvider(i){const{id:s,isRequired:o,isInvalid:a,isDisabled:nt,isReadOnly:tt,...ot}=i,at=reactExports.useId(),rt=s||`field-${at}`,it=`${rt}-label`,j=`${rt}-feedback`,_=`${rt}-helptext`,[$,et]=reactExports.useState(!1),[st,lt]=reactExports.useState(!1),[ct,ht]=reactExports.useState(!1),ut=reactExports.useCallback((St={},yt=null)=>({id:_,...St,ref:mergeRefs(yt,pt=>{pt&&lt(!0)})}),[_]),mt=reactExports.useCallback((St={},yt=null)=>({...St,ref:yt,"data-focus":dataAttr(ct),"data-disabled":dataAttr(nt),"data-invalid":dataAttr(a),"data-readonly":dataAttr(tt),id:St.id!==void 0?St.id:it,htmlFor:St.htmlFor!==void 0?St.htmlFor:rt}),[rt,nt,ct,a,tt,it]),gt=reactExports.useCallback((St={},yt=null)=>({id:j,...St,ref:mergeRefs(yt,pt=>{pt&&et(!0)}),"aria-live":"polite"}),[j]),vt=reactExports.useCallback((St={},yt=null)=>({...St,...ot,ref:yt,role:"group","data-focus":dataAttr(ct),"data-disabled":dataAttr(nt),"data-invalid":dataAttr(a),"data-readonly":dataAttr(tt)}),[ot,nt,ct,a,tt]),dt=reactExports.useCallback((St={},yt=null)=>({...St,ref:yt,role:"presentation","aria-hidden":!0,children:St.children||"*"}),[]);return{isRequired:!!o,isInvalid:!!a,isReadOnly:!!tt,isDisabled:!!nt,isFocused:!!ct,onFocus:()=>ht(!0),onBlur:()=>ht(!1),hasFeedbackText:$,setHasFeedbackText:et,hasHelpText:st,setHasHelpText:lt,id:rt,labelId:it,feedbackId:j,helpTextId:_,htmlProps:ot,getHelpTextProps:ut,getErrorMessageProps:gt,getRootProps:vt,getLabelProps:mt,getRequiredIndicatorProps:dt}}var FormControl=forwardRef(function(s,o){const a=useMultiStyleConfig("Form",s),nt=omitThemingProps(s),{getRootProps:tt,htmlProps:ot,...at}=useFormControlProvider(nt),rt=cx("chakra-form-control",s.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:at,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:a,children:jsxRuntimeExports.jsx(chakra.div,{...tt({},o),className:rt,__css:a.container})})})});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function(s,o){const a=useFormControlContext(),nt=useFormControlStyles(),tt=cx("chakra-form__helper-text",s.className);return jsxRuntimeExports.jsx(chakra.div,{...a==null?void 0:a.getHelpTextProps(s,o),__css:nt.helperText,className:tt})});FormHelperText.displayName="FormHelperText";function useFormControl(i){const{isDisabled:s,isInvalid:o,isReadOnly:a,isRequired:nt,...tt}=useFormControlProps(i);return{...tt,disabled:s,readOnly:a,required:nt,"aria-invalid":ariaAttr(o),"aria-required":ariaAttr(nt),"aria-readonly":ariaAttr(a)}}function useFormControlProps(i){var s,o,a;const nt=useFormControlContext(),{id:tt,disabled:ot,readOnly:at,required:rt,isRequired:it,isInvalid:j,isReadOnly:_,isDisabled:$,onFocus:et,onBlur:st,...lt}=i,ct=i["aria-describedby"]?[i["aria-describedby"]]:[];return nt!=null&&nt.hasFeedbackText&&(nt!=null&&nt.isInvalid)&&ct.push(nt.feedbackId),nt!=null&&nt.hasHelpText&&ct.push(nt.helpTextId),{...lt,"aria-describedby":ct.join(" ")||void 0,id:tt??(nt==null?void 0:nt.id),isDisabled:(s=ot??$)!=null?s:nt==null?void 0:nt.isDisabled,isReadOnly:(o=at??_)!=null?o:nt==null?void 0:nt.isReadOnly,isRequired:(a=rt??it)!=null?a:nt==null?void 0:nt.isRequired,isInvalid:j??(nt==null?void 0:nt.isInvalid),onFocus:callAllHandlers$1(nt==null?void 0:nt.onFocus,et),onBlur:callAllHandlers$1(nt==null?void 0:nt.onBlur,st)}}var visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(i,s){handlers.forEach(o=>o(i,s))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(i){return!(i.metaKey||!isMac&&i.altKey||i.ctrlKey||i.key==="Control"||i.key==="Shift"||i.key==="Meta")}function onKeyboardEvent(i){hasEventBeforeFocus=!0,isValidKey(i)&&(modality="keyboard",trigger("keyboard",i))}function onPointerEvent(i){if(modality="pointer",i.type==="mousedown"||i.type==="pointerdown"){hasEventBeforeFocus=!0;const s=i.composedPath?i.composedPath()[0]:i.target;let o=!1;try{o=s.matches(":focus-visible")}catch{}if(o)return;trigger("pointer",i)}}function isVirtualClick(i){return i.mozInputSource===0&&i.isTrusted?!0:i.detail===0&&!i.pointerType}function onClickEvent(i){isVirtualClick(i)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus(i){i.target===window||i.target===document||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",i)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:i}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...o){hasEventBeforeFocus=!0,i.apply(this,o)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(i){setupGlobalFocusEvents(),i(isFocusVisible());const s=()=>i(isFocusVisible());return handlers.add(s),()=>{handlers.delete(s)}}function omit(i,s=[]){const o=Object.assign({},i);for(const a of s)a in o&&delete o[a];return o}function useCheckbox(i={}){const s=useFormControlProps(i),{isDisabled:o,isReadOnly:a,isRequired:nt,isInvalid:tt,id:ot,onBlur:at,onFocus:rt,"aria-describedby":it}=s,{defaultChecked:j,isChecked:_,isFocusable:$,onChange:et,isIndeterminate:st,name:lt,value:ct,tabIndex:ht=void 0,"aria-label":ut,"aria-labelledby":mt,"aria-invalid":gt,...vt}=i,dt=omit(vt,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),St=useCallbackRef$2(et),yt=useCallbackRef$2(at),pt=useCallbackRef$2(rt),[wt,Et]=reactExports.useState(!1),[Ct,kt]=reactExports.useState(!1),[Tt,At]=reactExports.useState(!1),[It,Ot]=reactExports.useState(!1);reactExports.useEffect(()=>trackFocusVisible(Et),[]);const Mt=reactExports.useRef(null),[Dt,Bt]=reactExports.useState(!0),[qt,Wt]=reactExports.useState(!!j),Vt=_!==void 0,Ht=Vt?_:qt,Jt=reactExports.useCallback(_r=>{if(a||o){_r.preventDefault();return}Vt||Wt(Ht?_r.target.checked:st?!0:_r.target.checked),St==null||St(_r)},[a,o,Ht,Vt,st,St]);useSafeLayoutEffect$1(()=>{Mt.current&&(Mt.current.indeterminate=!!st)},[st]),useUpdateEffect(()=>{o&&kt(!1)},[o,kt]),useSafeLayoutEffect$1(()=>{const _r=Mt.current;if(!(_r!=null&&_r.form))return;const fr=()=>{Wt(!!j)};return _r.form.addEventListener("reset",fr),()=>{var Wr;return(Wr=_r.form)==null?void 0:Wr.removeEventListener("reset",fr)}},[]);const Qt=o&&!$,cr=reactExports.useCallback(_r=>{_r.key===" "&&Ot(!0)},[Ot]),hr=reactExports.useCallback(_r=>{_r.key===" "&&Ot(!1)},[Ot]);useSafeLayoutEffect$1(()=>{if(!Mt.current)return;Mt.current.checked!==Ht&&Wt(Mt.current.checked)},[Mt.current]);const dr=reactExports.useCallback((_r={},fr=null)=>{const Wr=nn=>{Ct&&nn.preventDefault(),Ot(!0)};return{..._r,ref:fr,"data-active":dataAttr(It),"data-hover":dataAttr(Tt),"data-checked":dataAttr(Ht),"data-focus":dataAttr(Ct),"data-focus-visible":dataAttr(Ct&&wt),"data-indeterminate":dataAttr(st),"data-disabled":dataAttr(o),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(a),"aria-hidden":!0,onMouseDown:callAllHandlers$1(_r.onMouseDown,Wr),onMouseUp:callAllHandlers$1(_r.onMouseUp,()=>Ot(!1)),onMouseEnter:callAllHandlers$1(_r.onMouseEnter,()=>At(!0)),onMouseLeave:callAllHandlers$1(_r.onMouseLeave,()=>At(!1))}},[It,Ht,o,Ct,wt,Tt,st,tt,a]),gr=reactExports.useCallback((_r={},fr=null)=>({..._r,ref:fr,"data-active":dataAttr(It),"data-hover":dataAttr(Tt),"data-checked":dataAttr(Ht),"data-focus":dataAttr(Ct),"data-focus-visible":dataAttr(Ct&&wt),"data-indeterminate":dataAttr(st),"data-disabled":dataAttr(o),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(a)}),[It,Ht,o,Ct,wt,Tt,st,tt,a]),tr=reactExports.useCallback((_r={},fr=null)=>({...dt,..._r,ref:mergeRefs(fr,Wr=>{Wr&&Bt(Wr.tagName==="LABEL")}),onClick:callAllHandlers$1(_r.onClick,()=>{var Wr;Dt||((Wr=Mt.current)==null||Wr.click(),requestAnimationFrame(()=>{var nn;(nn=Mt.current)==null||nn.focus({preventScroll:!0})}))}),"data-disabled":dataAttr(o),"data-checked":dataAttr(Ht),"data-invalid":dataAttr(tt)}),[dt,o,Ht,tt,Dt]),rr=reactExports.useCallback((_r={},fr=null)=>({..._r,ref:mergeRefs(Mt,fr),type:"checkbox",name:lt,value:ct,id:ot,tabIndex:ht,onChange:callAllHandlers$1(_r.onChange,Jt),onBlur:callAllHandlers$1(_r.onBlur,yt,()=>kt(!1)),onFocus:callAllHandlers$1(_r.onFocus,pt,()=>kt(!0)),onKeyDown:callAllHandlers$1(_r.onKeyDown,cr),onKeyUp:callAllHandlers$1(_r.onKeyUp,hr),required:nt,checked:Ht,disabled:Qt,readOnly:a,"aria-label":ut,"aria-labelledby":mt,"aria-invalid":gt?!!gt:tt,"aria-describedby":it,"aria-disabled":o,style:visuallyHiddenStyle}),[lt,ct,ot,Jt,yt,pt,cr,hr,nt,Ht,Qt,a,ut,mt,gt,tt,it,o,ht]),Yt=reactExports.useCallback((_r={},fr=null)=>({..._r,ref:fr,onMouseDown:callAllHandlers$1(_r.onMouseDown,stopEvent),"data-disabled":dataAttr(o),"data-checked":dataAttr(Ht),"data-invalid":dataAttr(tt)}),[Ht,o,tt]);return{state:{isInvalid:tt,isFocused:Ct,isChecked:Ht,isActive:It,isHovered:Tt,isIndeterminate:st,isDisabled:o,isReadOnly:a,isRequired:nt},getRootProps:tr,getCheckboxProps:dr,getIndicatorProps:gr,getInputProps:rr,getLabelProps:Yt,htmlProps:dt}}function stopEvent(i){i.preventDefault(),i.stopPropagation()}var controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(s,o){const a=useCheckboxGroupContext(),nt={...a,...s},tt=useMultiStyleConfig("Checkbox",nt),ot=omitThemingProps(s),{spacing:at="0.5rem",className:rt,children:it,iconColor:j,iconSize:_,icon:$=jsxRuntimeExports.jsx(CheckboxIcon,{}),isChecked:et,isDisabled:st=a==null?void 0:a.isDisabled,onChange:lt,inputProps:ct,...ht}=ot;let ut=et;a!=null&&a.value&&ot.value&&(ut=a.value.includes(ot.value));let mt=lt;a!=null&&a.onChange&&ot.value&&(mt=callAll(a.onChange,lt));const{state:gt,getInputProps:vt,getCheckboxProps:dt,getLabelProps:St,getRootProps:yt}=useCheckbox({...ht,isDisabled:st,isChecked:ut,onChange:mt}),pt=useInitialAnimationState(gt.isChecked),wt=reactExports.useMemo(()=>({animation:pt?gt.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`:void 0,fontSize:_,color:j,...tt.icon}),[j,_,pt,gt.isIndeterminate,tt.icon]),Et=reactExports.cloneElement($,{__css:wt,isIndeterminate:gt.isIndeterminate,isChecked:gt.isChecked});return jsxRuntimeExports.jsxs(chakra.label,{__css:{...rootStyles,...tt.container},className:cx("chakra-checkbox",rt),...yt(),children:[jsxRuntimeExports.jsx("input",{className:"chakra-checkbox__input",...vt(ct,o)}),jsxRuntimeExports.jsx(chakra.span,{__css:{...controlStyles,...tt.control},className:"chakra-checkbox__control",...dt(),children:Et}),it&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-checkbox__label",...St(),__css:{marginStart:at,...tt.label},children:it})]})});Checkbox.displayName="Checkbox";function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var o={},a=Object.keys(i),nt,tt;for(tt=0;tt<a.length;tt++)nt=a[tt],!(s.indexOf(nt)>=0)&&(o[nt]=i[nt]);return o}function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends.apply(this,arguments)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(a,nt,tt,ot,at,rt){if(rt!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports,FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(i,s){return typeof i=="function"?i(s):i&&(i.current=s),i}function useCallbackRef$1(i,s){var o=reactExports.useState(function(){return{value:i,callback:s,facade:{get current(){return o.value},set current(a){var nt=o.value;nt!==a&&(o.value=a,o.callback(a,nt))}}}})[0];return o.callback=s,o.facade}function useMergeRefs(i,s){return useCallbackRef$1(s||null,function(o){return i.forEach(function(a){return assignRef(a,o)})})}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},__assign$2=function(){return __assign$2=Object.assign||function(s){for(var o,a=1,nt=arguments.length;a<nt;a++){o=arguments[a];for(var tt in o)Object.prototype.hasOwnProperty.call(o,tt)&&(s[tt]=o[tt])}return s},__assign$2.apply(this,arguments)};function __rest(i,s){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,a=Object.getOwnPropertySymbols(i);nt<a.length;nt++)s.indexOf(a[nt])<0&&Object.prototype.propertyIsEnumerable.call(i,a[nt])&&(o[a[nt]]=i[a[nt]]);return o}function __spreadArray(i,s,o){if(o||arguments.length===2)for(var a=0,nt=s.length,tt;a<nt;a++)(tt||!(a in s))&&(tt||(tt=Array.prototype.slice.call(s,0,a)),tt[a]=s[a]);return i.concat(tt||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;function ItoI(i){return i}function innerCreateMedium(i,s){s===void 0&&(s=ItoI);var o=[],a=!1,nt={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:i},useMedium:function(tt){var ot=s(tt,a);return o.push(ot),function(){o=o.filter(function(at){return at!==ot})}},assignSyncMedium:function(tt){for(a=!0;o.length;){var ot=o;o=[],ot.forEach(tt)}o={push:function(at){return tt(at)},filter:function(){return o}}},assignMedium:function(tt){a=!0;var ot=[];if(o.length){var at=o;o=[],at.forEach(tt),ot=o}var rt=function(){var j=ot;ot=[],j.forEach(tt)},it=function(){return Promise.resolve().then(rt)};it(),o={push:function(j){ot.push(j),it()},filter:function(j){return ot=ot.filter(j),o}}}};return nt}function createMedium(i,s){return s===void 0&&(s=ItoI),innerCreateMedium(i,s)}function createSidecarMedium(i){i===void 0&&(i={});var s=innerCreateMedium(null);return s.options=__assign$2({async:!0,ssr:!1},i),s}var SideCar$1=function(i){var s=i.sideCar,o=__rest(i,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return reactExports.createElement(a,__assign$2({},o))};SideCar$1.isSideCarExport=!0;function exportSidecar(i,s){return i.useMedium(s),SideCar$1}var mediumFocus=createMedium({},function(i){var s=i.target,o=i.currentTarget;return{target:s,currentTarget:o}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0}),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(s,o){var a,nt=reactExports.useState(),tt=nt[0],ot=nt[1],at=reactExports.useRef(),rt=reactExports.useRef(!1),it=reactExports.useRef(null),j=s.children,_=s.disabled,$=s.noFocusGuards,et=s.persistentFocus,st=s.crossFrame,lt=s.autoFocus;s.allowTextSelection;var ct=s.group,ht=s.className,ut=s.whiteList,mt=s.hasPositiveIndices,gt=s.shards,vt=gt===void 0?emptyArray:gt,dt=s.as,St=dt===void 0?"div":dt,yt=s.lockProps,pt=yt===void 0?{}:yt,wt=s.sideCar,Et=s.returnFocus,Ct=s.focusOptions,kt=s.onActivation,Tt=s.onDeactivation,At=reactExports.useState({}),It=At[0],Ot=reactExports.useCallback(function(){it.current=it.current||document&&document.activeElement,at.current&&kt&&kt(at.current),rt.current=!0},[kt]),Mt=reactExports.useCallback(function(){rt.current=!1,Tt&&Tt(at.current)},[Tt]);reactExports.useEffect(function(){_||(it.current=null)},[]);var Dt=reactExports.useCallback(function(cr){var hr=it.current;if(hr&&hr.focus){var dr=typeof Et=="function"?Et(hr):Et;if(dr){var gr=typeof dr=="object"?dr:void 0;it.current=null,cr?Promise.resolve().then(function(){return hr.focus(gr)}):hr.focus(gr)}}},[Et]),Bt=reactExports.useCallback(function(cr){rt.current&&mediumFocus.useMedium(cr)},[]),qt=mediumBlur.useMedium,Wt=reactExports.useCallback(function(cr){at.current!==cr&&(at.current=cr,ot(cr))},[]),Vt=_extends((a={},a[FOCUS_DISABLED]=_&&"disabled",a[FOCUS_GROUP]=ct,a),pt),Ht=$!==!0,Jt=Ht&&$!=="tail",Qt=useMergeRefs([o,Wt]);return reactExports.createElement(reactExports.Fragment,null,Ht&&[reactExports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:_?-1:0,style:hiddenGuard}),mt?reactExports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:_?-1:1,style:hiddenGuard}):null],!_&&reactExports.createElement(wt,{id:It,sideCar:mediumSidecar,observed:tt,disabled:_,persistentFocus:et,crossFrame:st,autoFocus:lt,whiteList:ut,shards:vt,onActivation:Ot,onDeactivation:Mt,returnFocus:Dt,focusOptions:Ct}),reactExports.createElement(St,_extends({ref:Qt},Vt,{className:ht,onBlur:qt,onFocus:Bt}),j),Jt&&reactExports.createElement("div",{"data-focus-guard":!0,tabIndex:_?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};FocusLock$1.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const FocusLockUI=FocusLock$1;function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,nt){return a.__proto__=nt,a},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(i)}function toPrimitive(i,s){if(_typeof(i)!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var a=o.call(i,s||"default");if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function toPropertyKey(i){var s=toPrimitive(i,"string");return _typeof(s)=="symbol"?s:String(s)}function _defineProperty(i,s,o){return s=toPropertyKey(s),s in i?Object.defineProperty(i,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[s]=o,i}function withSideEffect(i,s){function o(a){return a.displayName||a.name||"Component"}return function(nt){var tt=[],ot;function at(){ot=i(tt.map(function(it){return it.props})),s(ot)}var rt=function(it){_inheritsLoose(j,it);function j(){return it.apply(this,arguments)||this}j.peek=function(){return ot};var _=j.prototype;return _.componentDidMount=function(){tt.push(this),at()},_.componentDidUpdate=function(){at()},_.componentWillUnmount=function(){var et=tt.indexOf(this);tt.splice(et,1),at()},_.render=function(){return React$3.createElement(nt,this.props)},j}(reactExports.PureComponent);return _defineProperty(rt,"displayName","SideEffect("+o(nt)+")"),rt}}var toArray=function(i){for(var s=Array(i.length),o=0;o<i.length;++o)s[o]=i[o];return s},asArray=function(i){return Array.isArray(i)?i:[i]},getFirst=function(i){return Array.isArray(i)?i[0]:i},isElementHidden=function(i){if(i.nodeType!==Node.ELEMENT_NODE)return!1;var s=window.getComputedStyle(i,null);return!s||!s.getPropertyValue?!1:s.getPropertyValue("display")==="none"||s.getPropertyValue("visibility")==="hidden"},getParentNode=function(i){return i.parentNode&&i.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.parentNode.host:i.parentNode},isTopNode=function(i){return i===document||i&&i.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(i,s){return!i||isTopNode(i)||!isElementHidden(i)&&s(getParentNode(i))},isVisibleCached=function(i,s){var o=i.get(s);if(o!==void 0)return o;var a=isVisibleUncached(s,isVisibleCached.bind(void 0,i));return i.set(s,a),a},isAutoFocusAllowedUncached=function(i,s){return i&&!isTopNode(i)?isAutoFocusAllowed(i)?s(getParentNode(i)):!1:!0},isAutoFocusAllowedCached=function(i,s){var o=i.get(s);if(o!==void 0)return o;var a=isAutoFocusAllowedUncached(s,isAutoFocusAllowedCached.bind(void 0,i));return i.set(s,a),a},getDataset=function(i){return i.dataset},isHTMLButtonElement=function(i){return i.tagName==="BUTTON"},isHTMLInputElement=function(i){return i.tagName==="INPUT"},isRadioElement=function(i){return isHTMLInputElement(i)&&i.type==="radio"},notHiddenInput=function(i){return!((isHTMLInputElement(i)||isHTMLButtonElement(i))&&(i.type==="hidden"||i.disabled))},isAutoFocusAllowed=function(i){var s=i.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(s)},isGuard=function(i){var s;return!!(i&&(!((s=getDataset(i))===null||s===void 0)&&s.focusGuard))},isNotAGuard=function(i){return!isGuard(i)},isDefined=function(i){return!!i},tabSort=function(i,s){var o=i.tabIndex-s.tabIndex,a=i.index-s.index;if(o){if(!i.tabIndex)return 1;if(!s.tabIndex)return-1}return o||a},orderByTabIndex=function(i,s,o){return toArray(i).map(function(a,nt){return{node:a,index:nt,tabIndex:o&&a.tabIndex===-1?(a.dataset||{}).focusGuard?0:-1:a.tabIndex}}).filter(function(a){return!s||a.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(i,s){return toArray((i.shadowRoot||i).children).reduce(function(o,a){return o.concat(a.matches(s?queryGuardTabbables:queryTabbables)?[a]:[],getFocusablesWithShadowDom(a))},[])},getFocusablesWithIFrame=function(i,s){var o;return i instanceof HTMLIFrameElement&&(!((o=i.contentDocument)===null||o===void 0)&&o.body)?getFocusables([i.contentDocument.body],s):[i]},getFocusables=function(i,s){return i.reduce(function(o,a){var nt,tt=getFocusablesWithShadowDom(a,s),ot=(nt=[]).concat.apply(nt,tt.map(function(at){return getFocusablesWithIFrame(at,s)}));return o.concat(ot,a.parentNode?toArray(a.parentNode.querySelectorAll(queryTabbables)).filter(function(at){return at===a}):[])},[])},getParentAutofocusables=function(i){var s=i.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(s).map(function(o){return getFocusables([o])}).reduce(function(o,a){return o.concat(a)},[])},filterFocusable=function(i,s){return toArray(i).filter(function(o){return isVisibleCached(s,o)}).filter(function(o){return notHiddenInput(o)})},filterAutoFocusable=function(i,s){return s===void 0&&(s=new Map),toArray(i).filter(function(o){return isAutoFocusAllowedCached(s,o)})},getTabbableNodes=function(i,s,o){return orderByTabIndex(filterFocusable(getFocusables(i,o),s),!0,o)},getFocusableNodes=function(i,s){return orderByTabIndex(filterFocusable(getFocusables(i),s),!1)},parentAutofocusables=function(i,s){return filterFocusable(getParentAutofocusables(i),s)},contains=function(i,s){return i.shadowRoot?contains(i.shadowRoot,s):Object.getPrototypeOf(i).contains!==void 0&&Object.getPrototypeOf(i).contains.call(i,s)?!0:toArray(i.children).some(function(o){var a;if(o instanceof HTMLIFrameElement){var nt=(a=o.contentDocument)===null||a===void 0?void 0:a.body;return nt?contains(nt,s):!1}return contains(o,s)})},filterNested=function(i){for(var s=new Set,o=i.length,a=0;a<o;a+=1)for(var nt=a+1;nt<o;nt+=1){var tt=i[a].compareDocumentPosition(i[nt]);(tt&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&s.add(nt),(tt&Node.DOCUMENT_POSITION_CONTAINS)>0&&s.add(a)}return i.filter(function(ot,at){return!s.has(at)})},getTopParent=function(i){return i.parentNode?getTopParent(i.parentNode):i},getAllAffectedNodes=function(i){var s=asArray(i);return s.filter(Boolean).reduce(function(o,a){var nt=a.getAttribute(FOCUS_GROUP);return o.push.apply(o,nt?filterNested(toArray(getTopParent(a).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(nt,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[a]),o},[])},safeProbe=function(i){try{return i()}catch{return}},getActiveElement=function(i){if(i===void 0&&(i=document),!(!i||!i.activeElement)){var s=i.activeElement;return s.shadowRoot?getActiveElement(s.shadowRoot):s instanceof HTMLIFrameElement&&safeProbe(function(){return s.contentWindow.document})?getActiveElement(s.contentWindow.document):s}},focusInFrame=function(i,s){return i===s},focusInsideIframe=function(i,s){return!!toArray(i.querySelectorAll("iframe")).some(function(o){return focusInFrame(o,s)})},focusInside=function(i,s){return s===void 0&&(s=getActiveElement(getFirst(i).ownerDocument)),!s||s.dataset&&s.dataset.focusGuard?!1:getAllAffectedNodes(i).some(function(o){return contains(o,s)||focusInsideIframe(o,s)})},focusIsHidden=function(i){i===void 0&&(i=document);var s=getActiveElement(i);return s?toArray(i.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(o){return contains(o,s)}):!1},findSelectedRadio=function(i,s){return s.filter(isRadioElement).filter(function(o){return o.name===i.name}).filter(function(o){return o.checked})[0]||i},correctNode=function(i,s){return isRadioElement(i)&&i.name?findSelectedRadio(i,s):i},correctNodes=function(i){var s=new Set;return i.forEach(function(o){return s.add(correctNode(o,i))}),i.filter(function(o){return s.has(o)})},pickFirstFocus=function(i){return i[0]&&i.length>1?correctNode(i[0],i):i[0]},pickFocusable=function(i,s){return i.length>1?i.indexOf(correctNode(i[s],i)):s},NEW_FOCUS="NEW_FOCUS",newFocus=function(i,s,o,a){var nt=i.length,tt=i[0],ot=i[nt-1],at=isGuard(o);if(!(o&&i.indexOf(o)>=0)){var rt=o!==void 0?s.indexOf(o):-1,it=a?s.indexOf(a):rt,j=a?i.indexOf(a):-1,_=rt-it,$=s.indexOf(tt),et=s.indexOf(ot),st=correctNodes(s),lt=o!==void 0?st.indexOf(o):-1,ct=lt-(a?st.indexOf(a):rt),ht=pickFocusable(i,0),ut=pickFocusable(i,nt-1);if(rt===-1||j===-1)return NEW_FOCUS;if(!_&&j>=0)return j;if(rt<=$&&at&&Math.abs(_)>1)return ut;if(rt>=et&&at&&Math.abs(_)>1)return ht;if(_&&Math.abs(ct)>1)return j;if(rt<=$)return ut;if(rt>et)return ht;if(_)return Math.abs(_)>1?j:(nt+j+_)%nt}},findAutoFocused=function(i){return function(s){var o,a=(o=getDataset(s))===null||o===void 0?void 0:o.autofocus;return s.autofocus||a!==void 0&&a!=="false"||i.indexOf(s)>=0}},pickAutofocus=function(i,s,o){var a=i.map(function(tt){var ot=tt.node;return ot}),nt=filterAutoFocusable(a.filter(findAutoFocused(o)));return nt&&nt.length?pickFirstFocus(nt):pickFirstFocus(filterAutoFocusable(s))},getParents=function(i,s){return s===void 0&&(s=[]),s.push(i),i.parentNode&&getParents(i.parentNode.host||i.parentNode,s),s},getCommonParent=function(i,s){for(var o=getParents(i),a=getParents(s),nt=0;nt<o.length;nt+=1){var tt=o[nt];if(a.indexOf(tt)>=0)return tt}return!1},getTopCommonParent=function(i,s,o){var a=asArray(i),nt=asArray(s),tt=a[0],ot=!1;return nt.filter(Boolean).forEach(function(at){ot=getCommonParent(ot||at,at)||ot,o.filter(Boolean).forEach(function(rt){var it=getCommonParent(tt,rt);it&&(!ot||contains(it,ot)?ot=it:ot=getCommonParent(it,ot))})}),ot},allParentAutofocusables=function(i,s){return i.reduce(function(o,a){return o.concat(parentAutofocusables(a,s))},[])},reorderNodes=function(i,s){var o=new Map;return s.forEach(function(a){return o.set(a.node,a)}),i.map(function(a){return o.get(a)}).filter(isDefined)},focusSolver=function(i,s){var o=getActiveElement(asArray(i).length>0?document:getFirst(i).ownerDocument),a=getAllAffectedNodes(i).filter(isNotAGuard),nt=getTopCommonParent(o||i,i,a),tt=new Map,ot=getFocusableNodes(a,tt),at=getTabbableNodes(a,tt).filter(function(et){var st=et.node;return isNotAGuard(st)});if(!(!at[0]&&(at=ot,!at[0]))){var rt=getFocusableNodes([nt],tt).map(function(et){var st=et.node;return st}),it=reorderNodes(rt,at),j=it.map(function(et){var st=et.node;return st}),_=newFocus(j,rt,o,s);if(_===NEW_FOCUS){var $=pickAutofocus(ot,j,allParentAutofocusables(a,tt));if($)return{node:$};console.warn("focus-lock: cannot find any node to move focus into");return}return _===void 0?_:it[_]}},expandFocusableNodes=function(i){var s=getAllAffectedNodes(i).filter(isNotAGuard),o=getTopCommonParent(i,i,s),a=new Map,nt=getTabbableNodes([o],a,!0),tt=getTabbableNodes(s,a).filter(function(ot){var at=ot.node;return isNotAGuard(at)}).map(function(ot){var at=ot.node;return at});return nt.map(function(ot){var at=ot.node,rt=ot.index;return{node:at,index:rt,lockItem:tt.indexOf(at)>=0,guard:isGuard(at)}})},focusOn=function(i,s){"focus"in i&&i.focus(s),"contentWindow"in i&&i.contentWindow&&i.contentWindow.focus()},guardCount=0,lockDisabled=!1,moveFocusInside=function(i,s,o){o===void 0&&(o={});var a=focusSolver(i,s);if(!lockDisabled&&a){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(a.node,o.focusOptions),guardCount--}};function deferAction(i){setTimeout(i,1)}var focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,lastPortaledElement=null,focusWasOutsideWindow=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(s){return(lastActiveTrap.whiteList||defaultWhitelist)(s)},recordPortal=function(s,o){lastPortaledElement={observerNode:s,portaledElement:o}},focusIsPortaledPair=function(s){return lastPortaledElement&&lastPortaledElement.portaledElement===s};function autoGuard(i,s,o,a){var nt=null,tt=i;do{var ot=a[tt];if(ot.guard)ot.node.dataset.focusAutoGuard&&(nt=ot);else if(ot.lockItem){if(tt!==i)return;nt=null}else break}while((tt+=o)!==s);nt&&(nt.node.tabIndex=0)}var extractRef$1=function(s){return s&&"current"in s?s.current:s},focusWasOutside=function(s){return s?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function i(s,o,a){return o&&(o.host===s&&(!o.activeElement||a.contains(o.activeElement))||o.parentNode&&i(s,o.parentNode,a))},withinHost=function(s,o){return o.some(function(a){return checkInHost(s,a,a)})},activateTrap=function(){var s=!1;if(lastActiveTrap){var o=lastActiveTrap,a=o.observed,nt=o.persistentFocus,tt=o.autoFocus,ot=o.shards,at=o.crossFrame,rt=o.focusOptions,it=a||lastPortaledElement&&lastPortaledElement.portaledElement,j=document&&document.activeElement;if(it){var _=[it].concat(ot.map(extractRef$1).filter(Boolean));if((!j||focusWhitelisted(j))&&(nt||focusWasOutside(at)||!isFreeFocus()||!lastActiveFocus&&tt)&&(it&&!(focusInside(_)||j&&withinHost(j,_)||focusIsPortaledPair(j))&&(document&&!lastActiveFocus&&j&&!tt?(j.blur&&j.blur(),document.body.focus()):(s=moveFocusInside(_,lastActiveFocus,{focusOptions:rt}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement),document){var $=document&&document.activeElement,et=expandFocusableNodes(_),st=et.map(function(lt){var ct=lt.node;return ct}).indexOf($);st>-1&&(et.filter(function(lt){var ct=lt.guard,ht=lt.node;return ct&&ht.dataset.focusAutoGuard}).forEach(function(lt){var ct=lt.node;return ct.removeAttribute("tabIndex")}),autoGuard(st,et.length,1,et),autoGuard(st,-1,-1,et))}}}return s},onTrap=function(s){activateTrap()&&s&&(s.stopPropagation(),s.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(s){var o=s.target,a=s.currentTarget;a.contains(o)||recordPortal(a,o)},FocusWatcher=function(){return null},onWindowBlur=function(){focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(i){return i.filter(function(s){var o=s.disabled;return!o})}function handleStateChangeOnClient(i){var s=i.slice(-1)[0];s&&!lastActiveTrap&&attachHandler();var o=lastActiveTrap,a=o&&s&&s.id===o.id;lastActiveTrap=s,o&&!a&&(o.onDeactivation(),i.filter(function(nt){var tt=nt.id;return tt===o.id}).length||o.returnFocus(!s)),s?(lastActiveFocus=null,(!a||o.observed!==s.observed)&&s.onActivation(),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(i){return i({moveFocusInside,focusInside})});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(s,o){return reactExports.createElement(FocusLockUI,_extends({sideCar:FocusTrap$1,ref:o},s))}),_ref=FocusLockUI.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};function isElement(i){return i!=null&&typeof i=="object"&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE}function isHTMLElement(i){var s;if(!isElement(i))return!1;const o=(s=i.ownerDocument.defaultView)!=null?s:window;return i instanceof o.HTMLElement}var hasTabIndex=i=>i.hasAttribute("tabindex");function isDisabled(i){return!!i.getAttribute("disabled")||!!i.getAttribute("aria-disabled")}function isHidden(i){return i.parentElement&&isHidden(i.parentElement)?!0:i.hidden}function isContentEditable(i){const s=i.getAttribute("contenteditable");return s!=="false"&&s!=null}function isFocusable(i){if(!isHTMLElement(i)||isHidden(i)||isDisabled(i))return!1;const{localName:s}=i;if(["input","select","textarea","button"].indexOf(s)>=0)return!0;const a={a:()=>i.hasAttribute("href"),audio:()=>i.hasAttribute("controls"),video:()=>i.hasAttribute("controls")};return s in a?a[s]():isContentEditable(i)?!0:hasTabIndex(i)}var focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=i=>i.offsetWidth>0&&i.offsetHeight>0;function getAllFocusable(i){const s=Array.from(i.querySelectorAll(focusableElSelector));return s.unshift(i),s.filter(o=>isFocusable(o)&&isVisible(o))}var _a,FocusTrap=(_a=FocusLockCombination.default)!=null?_a:FocusLockCombination,FocusLock=i=>{const{initialFocusRef:s,finalFocusRef:o,contentRef:a,restoreFocus:nt,children:tt,isDisabled:ot,autoFocus:at,persistentFocus:rt,lockFocusAcrossFrames:it}=i,j=reactExports.useCallback(()=>{s!=null&&s.current?s.current.focus():a!=null&&a.current&&getAllFocusable(a.current).length===0&&requestAnimationFrame(()=>{var st;(st=a.current)==null||st.focus()})},[s,a]),_=reactExports.useCallback(()=>{var et;(et=o==null?void 0:o.current)==null||et.focus()},[o]),$=nt&&!o;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:it,persistentFocus:rt,autoFocus:at,disabled:ot,onActivation:j,onDeactivation:_,returnFocus:$,children:tt})};FocusLock.displayName="FocusLock";var useSafeLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect;function useCallbackRef(i,s=[]){const o=reactExports.useRef(i);return useSafeLayoutEffect(()=>{o.current=i}),reactExports.useCallback((...a)=>{var nt;return(nt=o.current)==null?void 0:nt.call(o,...a)},s)}function useId(i,s){const o=reactExports.useId();return reactExports.useMemo(()=>i||[s,o].filter(Boolean).join("-"),[i,s,o])}function useControllableProp(i,s){const o=i!==void 0;return[o,o&&typeof i<"u"?i:s]}function useDisclosure(i={}){const{onClose:s,onOpen:o,isOpen:a,id:nt}=i,tt=useCallbackRef(o),ot=useCallbackRef(s),[at,rt]=reactExports.useState(i.defaultIsOpen||!1),[it,j]=useControllableProp(a,at),_=useId(nt,"disclosure"),$=reactExports.useCallback(()=>{it||rt(!1),ot==null||ot()},[it,ot]),et=reactExports.useCallback(()=>{it||rt(!0),tt==null||tt()},[it,tt]),st=reactExports.useCallback(()=>{(j?$:et)()},[j,et,$]);return{isOpen:!!j,onOpen:et,onClose:$,onToggle:st,isControlled:it,getButtonProps:(lt={})=>({...lt,"aria-expanded":j,"aria-controls":_,onClick:callAllHandlers(lt.onClick,st)}),getDisclosureProps:(lt={})=>({...lt,hidden:!j,id:_})}}var[ListStylesProvider,useListStyles]=createContext$2({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(s,o){const a=useMultiStyleConfig("List",s),{children:nt,styleType:tt="none",stylePosition:ot,spacing:at,...rt}=omitThemingProps(s),it=getValidChildren(nt),_=at?{["& > *:not(style) ~ *:not(style)"]:{mt:at}}:{};return jsxRuntimeExports.jsx(ListStylesProvider,{value:a,children:jsxRuntimeExports.jsx(chakra.ul,{ref:o,listStyleType:tt,listStylePosition:ot,role:"list",__css:{...a.container,..._},...rt,children:it})})});List.displayName="List";var OrderedList=forwardRef((i,s)=>{const{as:o,...a}=i;return jsxRuntimeExports.jsx(List,{ref:s,as:"ol",styleType:"decimal",marginStart:"1em",...a})});OrderedList.displayName="OrderedList";var UnorderedList=forwardRef(function(s,o){const{as:a,...nt}=s;return jsxRuntimeExports.jsx(List,{ref:o,as:"ul",styleType:"initial",marginStart:"1em",...nt})});UnorderedList.displayName="UnorderedList";var ListItem=forwardRef(function(s,o){const a=useListStyles();return jsxRuntimeExports.jsx(chakra.li,{ref:o,...s,__css:a.item})});ListItem.displayName="ListItem";var ListIcon=forwardRef(function(s,o){const a=useListStyles();return jsxRuntimeExports.jsx(Icon,{ref:o,role:"presentation",...s,__css:a.icon})});ListIcon.displayName="ListIcon";var Grid=forwardRef(function(s,o){const{templateAreas:a,gap:nt,rowGap:tt,columnGap:ot,column:at,row:rt,autoFlow:it,autoRows:j,templateRows:_,autoColumns:$,templateColumns:et,...st}=s,lt={display:"grid",gridTemplateAreas:a,gridGap:nt,gridRowGap:tt,gridColumnGap:ot,gridAutoColumns:$,gridColumn:at,gridRow:rt,gridAutoFlow:it,gridAutoRows:j,gridTemplateRows:_,gridTemplateColumns:et};return jsxRuntimeExports.jsx(chakra.div,{ref:o,__css:lt,...st})});Grid.displayName="Grid";function mapResponsive(i,s){return Array.isArray(i)?i.map(o=>o===null?null:s(o)):isObject$2(i)?Object.keys(i).reduce((o,a)=>(o[a]=s(i[a]),o),{}):i!=null?s(i):null}var SimpleGrid=forwardRef(function(s,o){const{columns:a,spacingX:nt,spacingY:tt,spacing:ot,minChildWidth:at,...rt}=s,it=useTheme(),j=at?widthToColumns(at,it):countToColumns(a);return jsxRuntimeExports.jsx(Grid,{ref:o,gap:ot,columnGap:nt,rowGap:tt,templateColumns:j,...rt})});SimpleGrid.displayName="SimpleGrid";function toPx(i){return typeof i=="number"?`${i}px`:i}function widthToColumns(i,s){return mapResponsive(i,o=>{const a=getToken("sizes",o,toPx(o))(s);return o===null?null:`repeat(auto-fit, minmax(${a}, 1fr))`})}function countToColumns(i){return mapResponsive(i,s=>s===null?null:`repeat(${s}, minmax(0, 1fr))`)}var Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";var Text=forwardRef(function(s,o){const a=useStyleConfig("Text",s),{className:nt,align:tt,decoration:ot,casing:at,...rt}=omitThemingProps(s),it=compact({textAlign:s.align,textDecoration:s.decoration,textTransform:s.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:o,className:cx("chakra-text",s.className),...it,...rt,__css:a})});Text.displayName="Text";var StackDivider=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__divider",...i,__css:{...i.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});StackDivider.displayName="StackDivider";var StackItem=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...i,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...i.__css}});StackItem.displayName="StackItem";function getDividerStyles(i){const{spacing:s,direction:o}=i,a={column:{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(o,nt=>a[nt])}}var Stack=forwardRef((i,s)=>{const{isInline:o,direction:a,align:nt,justify:tt,spacing:ot="0.5rem",wrap:at,children:rt,divider:it,className:j,shouldWrapChildren:_,...$}=i,et=o?"row":a??"column",st=reactExports.useMemo(()=>getDividerStyles({spacing:ot,direction:et}),[ot,et]),lt=!!it,ct=!_&&!lt,ht=reactExports.useMemo(()=>{const mt=getValidChildren(rt);return ct?mt:mt.map((gt,vt)=>{const dt=typeof gt.key<"u"?gt.key:vt,St=vt+1===mt.length,pt=_?jsxRuntimeExports.jsx(StackItem,{children:gt},dt):gt;if(!lt)return pt;const wt=reactExports.cloneElement(it,{__css:st}),Et=St?null:wt;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[pt,Et]},dt)})},[it,st,lt,ct,_,rt]),ut=cx("chakra-stack",j);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:nt,justifyContent:tt,flexDirection:et,flexWrap:at,gap:lt?void 0:ot,className:ut,...$,children:ht})});Stack.displayName="Stack";var HStack=forwardRef((i,s)=>jsxRuntimeExports.jsx(Stack,{align:"center",...i,direction:"row",ref:s}));HStack.displayName="HStack";function spanFn(i){return mapResponsive(i,s=>s==="auto"?"auto":`span ${s}/span ${s}`)}var GridItem=forwardRef(function(s,o){const{area:a,colSpan:nt,colStart:tt,colEnd:ot,rowEnd:at,rowSpan:rt,rowStart:it,...j}=s,_=compact({gridArea:a,gridColumn:spanFn(nt),gridRow:spanFn(rt),gridColumnStart:tt,gridColumnEnd:ot,gridRowStart:it,gridRowEnd:at});return jsxRuntimeExports.jsx(chakra.div,{ref:o,__css:_,...j})});GridItem.displayName="GridItem";var Heading=forwardRef(function(s,o){const a=useStyleConfig("Heading",s),{className:nt,...tt}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.h2,{ref:o,className:cx("chakra-heading",s.className),...tt,__css:a})});Heading.displayName="Heading";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function(s,o){const{size:a,centerContent:nt=!0,...tt}=s,ot=nt?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return jsxRuntimeExports.jsx(Box,{ref:o,boxSize:a,__css:{...ot,flexShrink:0,flexGrow:0},...tt})});Square.displayName="Square";var Circle=forwardRef(function(s,o){const{size:a,...nt}=s;return jsxRuntimeExports.jsx(Square,{size:a,ref:o,borderRadius:"9999px",...nt})});Circle.displayName="Circle";var Code=forwardRef(function(s,o){const a=useStyleConfig("Code",s),{className:nt,...tt}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.code,{ref:o,className:cx("chakra-code",s.className),...tt,__css:{display:"inline-block",...a}})});Code.displayName="Code";var transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=i=>transitions[i||"none"],ModalTransition=reactExports.forwardRef((i,s)=>{const{preset:o,motionProps:a=getMotionProps(o),...nt}=i;return jsxRuntimeExports.jsx(MotionSection,{ref:s,...a,...nt})});ModalTransition.displayName="ModalTransition";var __defProp=Object.defineProperty,__defNormalProp=(i,s,o)=>s in i?__defProp(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,__publicField=(i,s,o)=>(__defNormalProp(i,typeof s!="symbol"?s+"":s,o),o),ModalManager=class{constructor(){__publicField(this,"modals"),this.modals=new Map}add(i){return this.modals.set(i,this.modals.size+1),this.modals.size}remove(i){this.modals.delete(i)}isTopModal(i){return i?this.modals.get(i)===this.modals.size:!1}},modalManager=new ModalManager;function useModalManager(i,s){const[o,a]=reactExports.useState(0);return reactExports.useEffect(()=>{const nt=i.current;if(nt){if(s){const tt=modalManager.add(nt);a(tt)}return()=>{modalManager.remove(nt),a(0)}}},[s,i]),o}var getDefaultParent=function(i){if(typeof document>"u")return null;var s=Array.isArray(i)?i[0]:i;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(i){return i&&(i.host||unwrapHost(i.parentNode))},correctTargets=function(i,s){return s.map(function(o){if(i.contains(o))return o;var a=unwrapHost(o);return a&&i.contains(a)?a:(console.error("aria-hidden",o,"in not contained inside",i,". Doing nothing"),null)}).filter(function(o){return!!o})},applyAttributeToOthers=function(i,s,o,a){var nt=correctTargets(s,Array.isArray(i)?i:[i]);markerMap[o]||(markerMap[o]=new WeakMap);var tt=markerMap[o],ot=[],at=new Set,rt=new Set(nt),it=function(_){!_||at.has(_)||(at.add(_),it(_.parentNode))};nt.forEach(it);var j=function(_){!_||rt.has(_)||Array.prototype.forEach.call(_.children,function($){if(at.has($))j($);else{var et=$.getAttribute(a),st=et!==null&&et!=="false",lt=(counterMap.get($)||0)+1,ct=(tt.get($)||0)+1;counterMap.set($,lt),tt.set($,ct),ot.push($),lt===1&&st&&uncontrolledNodes.set($,!0),ct===1&&$.setAttribute(o,"true"),st||$.setAttribute(a,"true")}})};return j(s),at.clear(),lockCount++,function(){ot.forEach(function(_){var $=counterMap.get(_)-1,et=tt.get(_)-1;counterMap.set(_,$),tt.set(_,et),$||(uncontrolledNodes.has(_)||_.removeAttribute(a),uncontrolledNodes.delete(_)),et||_.removeAttribute(o)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(i,s,o){o===void 0&&(o="data-aria-hidden");var a=Array.from(Array.isArray(i)?i:[i]),nt=s||getDefaultParent(i);return nt?(a.push.apply(a,Array.from(nt.querySelectorAll("[aria-live]"))),applyAttributeToOthers(a,nt,o,"aria-hidden")):function(){return null}};function useModal(i){const{isOpen:s,onClose:o,id:a,closeOnOverlayClick:nt=!0,closeOnEsc:tt=!0,useInert:ot=!0,onOverlayClick:at,onEsc:rt}=i,it=reactExports.useRef(null),j=reactExports.useRef(null),[_,$,et]=useIds(a,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(it,s&&ot);const st=useModalManager(it,s),lt=reactExports.useRef(null),ct=reactExports.useCallback(pt=>{lt.current=pt.target},[]),ht=reactExports.useCallback(pt=>{pt.key==="Escape"&&(pt.stopPropagation(),tt&&(o==null||o()),rt==null||rt())},[tt,o,rt]),[ut,mt]=reactExports.useState(!1),[gt,vt]=reactExports.useState(!1),dt=reactExports.useCallback((pt={},wt=null)=>({role:"dialog",...pt,ref:mergeRefs(wt,it),id:_,tabIndex:-1,"aria-modal":!0,"aria-labelledby":ut?$:void 0,"aria-describedby":gt?et:void 0,onClick:callAllHandlers$1(pt.onClick,Et=>Et.stopPropagation())}),[et,gt,_,$,ut]),St=reactExports.useCallback(pt=>{pt.stopPropagation(),lt.current===pt.target&&modalManager.isTopModal(it.current)&&(nt&&(o==null||o()),at==null||at())},[o,nt,at]),yt=reactExports.useCallback((pt={},wt=null)=>({...pt,ref:mergeRefs(wt,j),onClick:callAllHandlers$1(pt.onClick,St),onKeyDown:callAllHandlers$1(pt.onKeyDown,ht),onMouseDown:callAllHandlers$1(pt.onMouseDown,ct)}),[ht,ct,St]);return{isOpen:s,onClose:o,headerId:$,bodyId:et,setBodyMounted:vt,setHeaderMounted:mt,dialogRef:it,overlayRef:j,getDialogProps:dt,getDialogContainerProps:yt,index:st}}function useAriaHidden(i,s){const o=i.current;reactExports.useEffect(()=>{if(!(!i.current||!s))return hideOthers(i.current)},[s,i,o])}function useIds(i,...s){const o=reactExports.useId(),a=i||o;return reactExports.useMemo(()=>s.map(nt=>`${nt}-${a}`),[a,s])}var[ModalStylesProvider,useModalStyles]=createContext$2({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$2({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=i=>{const s={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...i},{portalProps:o,children:a,autoFocus:nt,trapFocus:tt,initialFocusRef:ot,finalFocusRef:at,returnFocusOnClose:rt,blockScrollOnMount:it,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:et,onCloseComplete:st}=s,lt=useMultiStyleConfig("Modal",s),ht={...useModal(s),autoFocus:nt,trapFocus:tt,initialFocusRef:ot,finalFocusRef:at,returnFocusOnClose:rt,blockScrollOnMount:it,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:et};return jsxRuntimeExports.jsx(ModalContextProvider,{value:ht,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:lt,children:jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:st,children:ht.isOpen&&jsxRuntimeExports.jsx(Portal,{...o,children:a})})})})};Modal.displayName="Modal";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll$1=reactExports.forwardRef(function(i,s){var o=reactExports.useRef(null),a=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),nt=a[0],tt=a[1],ot=i.forwardProps,at=i.children,rt=i.className,it=i.removeScrollBar,j=i.enabled,_=i.shards,$=i.sideCar,et=i.noIsolation,st=i.inert,lt=i.allowPinchZoom,ct=i.as,ht=ct===void 0?"div":ct,ut=i.gapMode,mt=__rest(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),gt=$,vt=useMergeRefs([o,s]),dt=__assign$2(__assign$2({},mt),nt);return reactExports.createElement(reactExports.Fragment,null,j&&reactExports.createElement(gt,{sideCar:effectCar,removeScrollBar:it,shards:_,noIsolation:et,inert:st,setCallbacks:tt,allowPinchZoom:!!lt,lockRef:o,gapMode:ut}),ot?reactExports.cloneElement(reactExports.Children.only(at),__assign$2(__assign$2({},dt),{ref:vt})):reactExports.createElement(ht,__assign$2({},dt,{className:rt,ref:vt}),at))});RemoveScroll$1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll$1.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var s=getNonce();return s&&i.setAttribute("nonce",s),i}function injectStyles(i,s){i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}function insertStyleTag(i){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(i)}var stylesheetSingleton=function(){var i=0,s=null;return{add:function(o){i==0&&(s=makeStyleTag())&&(injectStyles(s,o),insertStyleTag(s)),i++},remove:function(){i--,!i&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var i=stylesheetSingleton();return function(s,o){reactExports.useEffect(function(){return i.add(s),function(){i.remove()}},[s&&o])}},styleSingleton=function(){var i=styleHookSingleton(),s=function(o){var a=o.styles,nt=o.dynamic;return i(a,nt),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(i){return parseInt(i||"",10)||0},getOffset=function(i){var s=window.getComputedStyle(document.body),o=s[i==="padding"?"paddingLeft":"marginLeft"],a=s[i==="padding"?"paddingTop":"marginTop"],nt=s[i==="padding"?"paddingRight":"marginRight"];return[parse$1(o),parse$1(a),parse$1(nt)]},getGapWidth=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zeroGap;var s=getOffset(i),o=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-o+s[2]-s[0])}},Style=styleSingleton(),getStyles=function(i,s,o,a){var nt=i.left,tt=i.top,ot=i.right,at=i.gap;return o===void 0&&(o="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(at,"px ").concat(a,`;
  }
  body {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),o==="margin"&&`
    padding-left: `.concat(nt,`px;
    padding-top: `).concat(tt,`px;
    padding-right: `).concat(ot,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(at,"px ").concat(a,`;
    `),o==="padding"&&"padding-right: ".concat(at,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(at,"px ").concat(a,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(at,"px ").concat(a,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(at,`px;
  }
`)},RemoveScrollBar=function(i){var s=i.noRelative,o=i.noImportant,a=i.gapMode,nt=a===void 0?"margin":a,tt=reactExports.useMemo(function(){return getGapWidth(nt)},[nt]);return reactExports.createElement(Style,{styles:getStyles(tt,!s,nt,o?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(i){return i.tagName==="TEXTAREA"},elementCanBeScrolled=function(i,s){var o=window.getComputedStyle(i);return o[s]!=="hidden"&&!(o.overflowY===o.overflowX&&!alwaysContainsScroll(i)&&o[s]==="visible")},elementCouldBeVScrolled=function(i){return elementCanBeScrolled(i,"overflowY")},elementCouldBeHScrolled=function(i){return elementCanBeScrolled(i,"overflowX")},locationCouldBeScrolled=function(i,s){var o=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var nt=elementCouldBeScrolled(i,a);if(nt){var tt=getScrollVariables(i,a),ot=tt[1],at=tt[2];if(ot>at)return!0}a=a.parentNode}while(a&&a!==o.body);return!1},getVScrollVariables=function(i){var s=i.scrollTop,o=i.scrollHeight,a=i.clientHeight;return[s,o,a]},getHScrollVariables=function(i){var s=i.scrollLeft,o=i.scrollWidth,a=i.clientWidth;return[s,o,a]},elementCouldBeScrolled=function(i,s){return i==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(i,s){return i==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(i,s){return i==="h"&&s==="rtl"?-1:1},handleScroll=function(i,s,o,a,nt){var tt=getDirectionFactor(i,window.getComputedStyle(s).direction),ot=tt*a,at=o.target,rt=s.contains(at),it=!1,j=ot>0,_=0,$=0;do{var et=getScrollVariables(i,at),st=et[0],lt=et[1],ct=et[2],ht=lt-ct-tt*st;(st||ht)&&elementCouldBeScrolled(i,at)&&(_+=ht,$+=st),at instanceof ShadowRoot?at=at.host:at=at.parentNode}while(!rt&&at!==document.body||rt&&(s.contains(at)||s===at));return(j&&(nt&&Math.abs(_)<1||!nt&&ot>_)||!j&&(nt&&Math.abs($)<1||!nt&&-ot>$))&&(it=!0),it},getTouchXY=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(i){return[i.deltaX,i.deltaY]},extractRef=function(i){return i&&"current"in i?i.current:i},deltaCompare=function(i,s){return i[0]===s[0]&&i[1]===s[1]},generateStyle=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(i){var s=reactExports.useRef([]),o=reactExports.useRef([0,0]),a=reactExports.useRef(),nt=reactExports.useState(idCounter++)[0],tt=reactExports.useState(styleSingleton)[0],ot=reactExports.useRef(i);reactExports.useEffect(function(){ot.current=i},[i]),reactExports.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(nt));var lt=__spreadArray([i.lockRef.current],(i.shards||[]).map(extractRef),!0).filter(Boolean);return lt.forEach(function(ct){return ct.classList.add("allow-interactivity-".concat(nt))}),function(){document.body.classList.remove("block-interactivity-".concat(nt)),lt.forEach(function(ct){return ct.classList.remove("allow-interactivity-".concat(nt))})}}},[i.inert,i.lockRef.current,i.shards]);var at=reactExports.useCallback(function(lt,ct){if("touches"in lt&&lt.touches.length===2)return!ot.current.allowPinchZoom;var ht=getTouchXY(lt),ut=o.current,mt="deltaX"in lt?lt.deltaX:ut[0]-ht[0],gt="deltaY"in lt?lt.deltaY:ut[1]-ht[1],vt,dt=lt.target,St=Math.abs(mt)>Math.abs(gt)?"h":"v";if("touches"in lt&&St==="h"&&dt.type==="range")return!1;var yt=locationCouldBeScrolled(St,dt);if(!yt)return!0;if(yt?vt=St:(vt=St==="v"?"h":"v",yt=locationCouldBeScrolled(St,dt)),!yt)return!1;if(!a.current&&"changedTouches"in lt&&(mt||gt)&&(a.current=vt),!vt)return!0;var pt=a.current||vt;return handleScroll(pt,ct,lt,pt==="h"?mt:gt,!0)},[]),rt=reactExports.useCallback(function(lt){var ct=lt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==tt)){var ht="deltaY"in ct?getDeltaXY(ct):getTouchXY(ct),ut=s.current.filter(function(vt){return vt.name===ct.type&&(vt.target===ct.target||ct.target===vt.shadowParent)&&deltaCompare(vt.delta,ht)})[0];if(ut&&ut.should){ct.cancelable&&ct.preventDefault();return}if(!ut){var mt=(ot.current.shards||[]).map(extractRef).filter(Boolean).filter(function(vt){return vt.contains(ct.target)}),gt=mt.length>0?at(ct,mt[0]):!ot.current.noIsolation;gt&&ct.cancelable&&ct.preventDefault()}}},[]),it=reactExports.useCallback(function(lt,ct,ht,ut){var mt={name:lt,delta:ct,target:ht,should:ut,shadowParent:getOutermostShadowParent(ht)};s.current.push(mt),setTimeout(function(){s.current=s.current.filter(function(gt){return gt!==mt})},1)},[]),j=reactExports.useCallback(function(lt){o.current=getTouchXY(lt),a.current=void 0},[]),_=reactExports.useCallback(function(lt){it(lt.type,getDeltaXY(lt),lt.target,at(lt,i.lockRef.current))},[]),$=reactExports.useCallback(function(lt){it(lt.type,getTouchXY(lt),lt.target,at(lt,i.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(tt),i.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:$}),document.addEventListener("wheel",rt,nonPassive),document.addEventListener("touchmove",rt,nonPassive),document.addEventListener("touchstart",j,nonPassive),function(){lockStack=lockStack.filter(function(lt){return lt!==tt}),document.removeEventListener("wheel",rt,nonPassive),document.removeEventListener("touchmove",rt,nonPassive),document.removeEventListener("touchstart",j,nonPassive)}},[]);var et=i.removeScrollBar,st=i.inert;return reactExports.createElement(reactExports.Fragment,null,st?reactExports.createElement(tt,{styles:generateStyle(nt)}):null,et?reactExports.createElement(RemoveScrollBar,{gapMode:i.gapMode}):null)}function getOutermostShadowParent(i){for(var s=null;i!==null;)i instanceof ShadowRoot&&(s=i.host,i=i.host),i=i.parentNode;return s}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(i,s){return reactExports.createElement(RemoveScroll$1,__assign$2({},i,{ref:s,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll$1.classNames;const RemoveScroll=ReactRemoveScroll;function ModalFocusScope(i){const{autoFocus:s,trapFocus:o,dialogRef:a,initialFocusRef:nt,blockScrollOnMount:tt,allowPinchZoom:ot,finalFocusRef:at,returnFocusOnClose:rt,preserveScrollBarGap:it,lockFocusAcrossFrames:j,isOpen:_}=useModalContext(),[$,et]=usePresence();reactExports.useEffect(()=>{!$&&et&&setTimeout(et)},[$,et]);const st=useModalManager(a,_);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:s,isDisabled:!o,initialFocusRef:nt,finalFocusRef:at,restoreFocus:rt,contentRef:a,lockFocusAcrossFrames:j,children:jsxRuntimeExports.jsx(RemoveScroll,{removeScrollBar:!it,allowPinchZoom:ot,enabled:st===1&&tt,forwardProps:!0,children:i.children})})}var ModalContent=forwardRef((i,s)=>{const{className:o,children:a,containerProps:nt,motionProps:tt,...ot}=i,{getDialogProps:at,getDialogContainerProps:rt}=useModalContext(),it=at(ot,s),j=rt(nt),_=cx("chakra-modal__content",o),$=useModalStyles(),et={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...$.dialog},st={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...$.dialogContainer},{motionPreset:lt}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...j,className:"chakra-modal__content-container",tabIndex:-1,__css:st,children:jsxRuntimeExports.jsx(ModalTransition,{preset:lt,motionProps:tt,className:_,...it,__css:et,children:a})})})});ModalContent.displayName="ModalContent";var ModalFooter=forwardRef((i,s)=>{const{className:o,...a}=i,nt=cx("chakra-modal__footer",o),ot={display:"flex",alignItems:"center",justifyContent:"flex-end",...useModalStyles().footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:s,...a,__css:ot,className:nt})});ModalFooter.displayName="ModalFooter";var ModalHeader=forwardRef((i,s)=>{const{className:o,...a}=i,{headerId:nt,setHeaderMounted:tt}=useModalContext();reactExports.useEffect(()=>(tt(!0),()=>tt(!1)),[tt]);const ot=cx("chakra-modal__header",o),rt={flex:0,...useModalStyles().header};return jsxRuntimeExports.jsx(chakra.header,{ref:s,className:ot,id:nt,...a,__css:rt})});ModalHeader.displayName="ModalHeader";var MotionDiv=chakra(motion.div),ModalOverlay=forwardRef((i,s)=>{const{className:o,transition:a,motionProps:nt,...tt}=i,ot=cx("chakra-modal__overlay",o),rt={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:it}=useModalContext(),_=nt||(it==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv,{..._,__css:rt,ref:s,className:ot,...tt})});ModalOverlay.displayName="ModalOverlay";var ModalBody=forwardRef((i,s)=>{const{className:o,...a}=i,{bodyId:nt,setBodyMounted:tt}=useModalContext();reactExports.useEffect(()=>(tt(!0),()=>tt(!1)),[tt]);const ot=cx("chakra-modal__body",o),at=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:ot,id:nt,...a,__css:at.body})});ModalBody.displayName="ModalBody";var ModalCloseButton=forwardRef((i,s)=>{const{onClick:o,className:a,...nt}=i,{onClose:tt}=useModalContext(),ot=cx("chakra-modal__close-btn",a),at=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:s,__css:at.closeButton,className:ot,onClick:callAllHandlers$1(o,rt=>{rt.stopPropagation(),tt()}),...nt})});ModalCloseButton.displayName="ModalCloseButton";var SelectField=forwardRef(function(s,o){const{children:a,placeholder:nt,className:tt,...ot}=s;return jsxRuntimeExports.jsxs(chakra.select,{...ot,ref:o,className:cx("chakra-select",tt),children:[nt&&jsxRuntimeExports.jsx("option",{value:"",children:nt}),a]})});SelectField.displayName="SelectField";function split$1(i,s){const o={},a={};for(const[nt,tt]of Object.entries(i))s.includes(nt)?o[nt]=tt:a[nt]=tt;return[o,a]}var Select=forwardRef((i,s)=>{var o;const a=useMultiStyleConfig("Select",i),{rootProps:nt,placeholder:tt,icon:ot,color:at,height:rt,h:it,minH:j,minHeight:_,iconColor:$,iconSize:et,...st}=omitThemingProps(i),[lt,ct]=split$1(st,layoutPropNames),ht=useFormControl(ct),ut={width:"100%",height:"fit-content",position:"relative",color:at},mt={paddingEnd:"2rem",...a.field,_focus:{zIndex:"unset",...(o=a.field)==null?void 0:o._focus}};return jsxRuntimeExports.jsxs(chakra.div,{className:"chakra-select__wrapper",__css:ut,...lt,...nt,children:[jsxRuntimeExports.jsx(SelectField,{ref:s,height:it??rt,minH:j??_,placeholder:tt,...ht,__css:mt,children:i.children}),jsxRuntimeExports.jsx(SelectIcon,{"data-disabled":dataAttr(ht.disabled),...($||at)&&{color:$||at},__css:a.icon,...et&&{fontSize:et},children:ot})]})});Select.displayName="Select";var DefaultIcon=i=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=i=>{const{children:s=jsxRuntimeExports.jsx(DefaultIcon,{}),...o}=i,a=reactExports.cloneElement(s,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsxRuntimeExports.jsx(IconWrapper,{...o,className:"chakra-select__icon-wrapper",children:reactExports.isValidElement(s)?a:null})};SelectIcon.displayName="SelectIcon";var client={},m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;var lzString={exports:{}};lzString.exports;(function(i){var s=function(){var o=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",tt={};function ot(rt,it){if(!tt[rt]){tt[rt]={};for(var j=0;j<rt.length;j++)tt[rt][rt.charAt(j)]=j}return tt[rt][it]}var at={compressToBase64:function(rt){if(rt==null)return"";var it=at._compress(rt,6,function(j){return a.charAt(j)});switch(it.length%4){default:case 0:return it;case 1:return it+"===";case 2:return it+"==";case 3:return it+"="}},decompressFromBase64:function(rt){return rt==null?"":rt==""?null:at._decompress(rt.length,32,function(it){return ot(a,rt.charAt(it))})},compressToUTF16:function(rt){return rt==null?"":at._compress(rt,15,function(it){return o(it+32)})+" "},decompressFromUTF16:function(rt){return rt==null?"":rt==""?null:at._decompress(rt.length,16384,function(it){return rt.charCodeAt(it)-32})},compressToUint8Array:function(rt){for(var it=at.compress(rt),j=new Uint8Array(it.length*2),_=0,$=it.length;_<$;_++){var et=it.charCodeAt(_);j[_*2]=et>>>8,j[_*2+1]=et%256}return j},decompressFromUint8Array:function(rt){if(rt==null)return at.decompress(rt);for(var it=new Array(rt.length/2),j=0,_=it.length;j<_;j++)it[j]=rt[j*2]*256+rt[j*2+1];var $=[];return it.forEach(function(et){$.push(o(et))}),at.decompress($.join(""))},compressToEncodedURIComponent:function(rt){return rt==null?"":at._compress(rt,6,function(it){return nt.charAt(it)})},decompressFromEncodedURIComponent:function(rt){return rt==null?"":rt==""?null:(rt=rt.replace(/ /g,"+"),at._decompress(rt.length,32,function(it){return ot(nt,rt.charAt(it))}))},compress:function(rt){return at._compress(rt,16,function(it){return o(it)})},_compress:function(rt,it,j){if(rt==null)return"";var _,$,et={},st={},lt="",ct="",ht="",ut=2,mt=3,gt=2,vt=[],dt=0,St=0,yt;for(yt=0;yt<rt.length;yt+=1)if(lt=rt.charAt(yt),Object.prototype.hasOwnProperty.call(et,lt)||(et[lt]=mt++,st[lt]=!0),ct=ht+lt,Object.prototype.hasOwnProperty.call(et,ct))ht=ct;else{if(Object.prototype.hasOwnProperty.call(st,ht)){if(ht.charCodeAt(0)<256){for(_=0;_<gt;_++)dt=dt<<1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++;for($=ht.charCodeAt(0),_=0;_<8;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1}else{for($=1,_=0;_<gt;_++)dt=dt<<1|$,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=0;for($=ht.charCodeAt(0),_=0;_<16;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1}ut--,ut==0&&(ut=Math.pow(2,gt),gt++),delete st[ht]}else for($=et[ht],_=0;_<gt;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1;ut--,ut==0&&(ut=Math.pow(2,gt),gt++),et[ct]=mt++,ht=String(lt)}if(ht!==""){if(Object.prototype.hasOwnProperty.call(st,ht)){if(ht.charCodeAt(0)<256){for(_=0;_<gt;_++)dt=dt<<1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++;for($=ht.charCodeAt(0),_=0;_<8;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1}else{for($=1,_=0;_<gt;_++)dt=dt<<1|$,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=0;for($=ht.charCodeAt(0),_=0;_<16;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1}ut--,ut==0&&(ut=Math.pow(2,gt),gt++),delete st[ht]}else for($=et[ht],_=0;_<gt;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1;ut--,ut==0&&(ut=Math.pow(2,gt),gt++)}for($=2,_=0;_<gt;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1;for(;;)if(dt=dt<<1,St==it-1){vt.push(j(dt));break}else St++;return vt.join("")},decompress:function(rt){return rt==null?"":rt==""?null:at._decompress(rt.length,32768,function(it){return rt.charCodeAt(it)})},_decompress:function(rt,it,j){var _=[],$=4,et=4,st=3,lt="",ct=[],ht,ut,mt,gt,vt,dt,St,yt={val:j(0),position:it,index:1};for(ht=0;ht<3;ht+=1)_[ht]=ht;for(mt=0,vt=Math.pow(2,2),dt=1;dt!=vt;)gt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),mt|=(gt>0?1:0)*dt,dt<<=1;switch(mt){case 0:for(mt=0,vt=Math.pow(2,8),dt=1;dt!=vt;)gt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),mt|=(gt>0?1:0)*dt,dt<<=1;St=o(mt);break;case 1:for(mt=0,vt=Math.pow(2,16),dt=1;dt!=vt;)gt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),mt|=(gt>0?1:0)*dt,dt<<=1;St=o(mt);break;case 2:return""}for(_[3]=St,ut=St,ct.push(St);;){if(yt.index>rt)return"";for(mt=0,vt=Math.pow(2,st),dt=1;dt!=vt;)gt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),mt|=(gt>0?1:0)*dt,dt<<=1;switch(St=mt){case 0:for(mt=0,vt=Math.pow(2,8),dt=1;dt!=vt;)gt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),mt|=(gt>0?1:0)*dt,dt<<=1;_[et++]=o(mt),St=et-1,$--;break;case 1:for(mt=0,vt=Math.pow(2,16),dt=1;dt!=vt;)gt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),mt|=(gt>0?1:0)*dt,dt<<=1;_[et++]=o(mt),St=et-1,$--;break;case 2:return ct.join("")}if($==0&&($=Math.pow(2,st),st++),_[St])lt=_[St];else if(St===et)lt=ut+ut.charAt(0);else return null;ct.push(lt),_[et++]=ut+lt.charAt(0),$--,ut=lt,$==0&&($=Math.pow(2,st),st++)}}};return at}();i!=null?i.exports=s:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return s})})(lzString);var lzStringExports=lzString.exports;const token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(i,s){try{return[decodeURIComponent(i.join(""))]}catch{}if(i.length===1)return i;s=s||1;const o=i.slice(0,s),a=i.slice(s);return Array.prototype.concat.call([],decodeComponents(o),decodeComponents(a))}function decode$1(i){try{return decodeURIComponent(i)}catch{let s=i.match(singleMatcher)||[];for(let o=1;o<s.length;o++)i=decodeComponents(s,o).join(""),s=i.match(singleMatcher)||[];return i}}function customDecodeURIComponent(i){const s={"%FE%FF":"","%FF%FE":""};let o=multiMatcher.exec(i);for(;o;){try{s[o[0]]=decodeURIComponent(o[0])}catch{const nt=decode$1(o[0]);nt!==o[0]&&(s[o[0]]=nt)}o=multiMatcher.exec(i)}s["%C2"]="";const a=Object.keys(s);for(const nt of a)i=i.replace(new RegExp(nt,"g"),s[nt]);return i}function decodeUriComponent(i){if(typeof i!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof i+"`");try{return decodeURIComponent(i)}catch{return customDecodeURIComponent(i)}}function splitOnFirst(i,s){if(!(typeof i=="string"&&typeof s=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(i===""||s==="")return[];const o=i.indexOf(s);return o===-1?[]:[i.slice(0,o),i.slice(o+s.length)]}function includeKeys(i,s){const o={};if(Array.isArray(s))for(const a of s){const nt=Object.getOwnPropertyDescriptor(i,a);nt!=null&&nt.enumerable&&Object.defineProperty(o,a,nt)}else for(const a of Reflect.ownKeys(i)){const nt=Object.getOwnPropertyDescriptor(i,a);if(nt.enumerable){const tt=i[a];s(a,tt,i)&&Object.defineProperty(o,a,nt)}}return o}const isNullOrUndefined=i=>i==null,strictUriEncode=i=>encodeURIComponent(i).replaceAll(/[!'()*]/g,s=>`%${s.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat(i){switch(i.arrayFormat){case"index":return s=>(o,a)=>{const nt=o.length;return a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),"[",nt,"]"].join("")]:[...o,[encode(s,i),"[",encode(nt,i),"]=",encode(a,i)].join("")]};case"bracket":return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),"[]"].join("")]:[...o,[encode(s,i),"[]=",encode(a,i)].join("")];case"colon-list-separator":return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),":list="].join("")]:[...o,[encode(s,i),":list=",encode(a,i)].join("")];case"comma":case"separator":case"bracket-separator":{const s=i.arrayFormat==="bracket-separator"?"[]=":"=";return o=>(a,nt)=>nt===void 0||i.skipNull&&nt===null||i.skipEmptyString&&nt===""?a:(nt=nt===null?"":nt,a.length===0?[[encode(o,i),s,encode(nt,i)].join("")]:[[a,encode(nt,i)].join(i.arrayFormatSeparator)])}default:return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,encode(s,i)]:[...o,[encode(s,i),"=",encode(a,i)].join("")]}}function parserForArrayFormat(i){let s;switch(i.arrayFormat){case"index":return(o,a,nt)=>{if(s=/\[(\d*)]$/.exec(o),o=o.replace(/\[\d*]$/,""),!s){nt[o]=a;return}nt[o]===void 0&&(nt[o]={}),nt[o][s[1]]=a};case"bracket":return(o,a,nt)=>{if(s=/(\[])$/.exec(o),o=o.replace(/\[]$/,""),!s){nt[o]=a;return}if(nt[o]===void 0){nt[o]=[a];return}nt[o]=[...nt[o],a]};case"colon-list-separator":return(o,a,nt)=>{if(s=/(:list)$/.exec(o),o=o.replace(/:list$/,""),!s){nt[o]=a;return}if(nt[o]===void 0){nt[o]=[a];return}nt[o]=[...nt[o],a]};case"comma":case"separator":return(o,a,nt)=>{const tt=typeof a=="string"&&a.includes(i.arrayFormatSeparator),ot=typeof a=="string"&&!tt&&decode(a,i).includes(i.arrayFormatSeparator);a=ot?decode(a,i):a;const at=tt||ot?a.split(i.arrayFormatSeparator).map(rt=>decode(rt,i)):a===null?a:decode(a,i);nt[o]=at};case"bracket-separator":return(o,a,nt)=>{const tt=/(\[])$/.test(o);if(o=o.replace(/\[]$/,""),!tt){nt[o]=a&&decode(a,i);return}const ot=a===null?[]:a.split(i.arrayFormatSeparator).map(at=>decode(at,i));if(nt[o]===void 0){nt[o]=ot;return}nt[o]=[...nt[o],...ot]};default:return(o,a,nt)=>{if(nt[o]===void 0){nt[o]=a;return}nt[o]=[...[nt[o]].flat(),a]}}}function validateArrayFormatSeparator(i){if(typeof i!="string"||i.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(i,s){return s.encode?s.strict?strictUriEncode(i):encodeURIComponent(i):i}function decode(i,s){return s.decode?decodeUriComponent(i):i}function keysSorter(i){return Array.isArray(i)?i.sort():typeof i=="object"?keysSorter(Object.keys(i)).sort((s,o)=>Number(s)-Number(o)).map(s=>i[s]):i}function removeHash(i){const s=i.indexOf("#");return s!==-1&&(i=i.slice(0,s)),i}function getHash(i){let s="";const o=i.indexOf("#");return o!==-1&&(s=i.slice(o)),s}function parseValue(i,s){return s.parseNumbers&&!Number.isNaN(Number(i))&&typeof i=="string"&&i.trim()!==""?i=Number(i):s.parseBooleans&&i!==null&&(i.toLowerCase()==="true"||i.toLowerCase()==="false")&&(i=i.toLowerCase()==="true"),i}function extract(i){i=removeHash(i);const s=i.indexOf("?");return s===-1?"":i.slice(s+1)}function parse(i,s){s={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...s},validateArrayFormatSeparator(s.arrayFormatSeparator);const o=parserForArrayFormat(s),a=Object.create(null);if(typeof i!="string"||(i=i.trim().replace(/^[?#&]/,""),!i))return a;for(const nt of i.split("&")){if(nt==="")continue;const tt=s.decode?nt.replaceAll("+"," "):nt;let[ot,at]=splitOnFirst(tt,"=");ot===void 0&&(ot=tt),at=at===void 0?null:["comma","separator","bracket-separator"].includes(s.arrayFormat)?at:decode(at,s),o(decode(ot,s),at,a)}for(const[nt,tt]of Object.entries(a))if(typeof tt=="object"&&tt!==null)for(const[ot,at]of Object.entries(tt))tt[ot]=parseValue(at,s);else a[nt]=parseValue(tt,s);return s.sort===!1?a:(s.sort===!0?Object.keys(a).sort():Object.keys(a).sort(s.sort)).reduce((nt,tt)=>{const ot=a[tt];return nt[tt]=ot&&typeof ot=="object"&&!Array.isArray(ot)?keysSorter(ot):ot,nt},Object.create(null))}function stringify$3(i,s){if(!i)return"";s={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...s},validateArrayFormatSeparator(s.arrayFormatSeparator);const o=ot=>s.skipNull&&isNullOrUndefined(i[ot])||s.skipEmptyString&&i[ot]==="",a=encoderForArrayFormat(s),nt={};for(const[ot,at]of Object.entries(i))o(ot)||(nt[ot]=at);const tt=Object.keys(nt);return s.sort!==!1&&tt.sort(s.sort),tt.map(ot=>{const at=i[ot];return at===void 0?"":at===null?encode(ot,s):Array.isArray(at)?at.length===0&&s.arrayFormat==="bracket-separator"?encode(ot,s)+"[]":at.reduce(a(ot),[]).join("&"):encode(ot,s)+"="+encode(at,s)}).filter(ot=>ot.length>0).join("&")}function parseUrl(i,s){var nt;s={decode:!0,...s};let[o,a]=splitOnFirst(i,"#");return o===void 0&&(o=i),{url:((nt=o==null?void 0:o.split("?"))==null?void 0:nt[0])??"",query:parse(extract(i),s),...s&&s.parseFragmentIdentifier&&a?{fragmentIdentifier:decode(a,s)}:{}}}function stringifyUrl(i,s){s={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,...s};const o=removeHash(i.url).split("?")[0]||"",a=extract(i.url),nt={...parse(a,{sort:!1}),...i.query};let tt=stringify$3(nt,s);tt&&(tt=`?${tt}`);let ot=getHash(i.url);if(typeof i.fragmentIdentifier=="string"){const at=new URL(o);at.hash=i.fragmentIdentifier,ot=s[encodeFragmentIdentifier]?at.hash:`#${i.fragmentIdentifier}`}return`${o}${tt}${ot}`}function pick(i,s,o){o={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...o};const{url:a,query:nt,fragmentIdentifier:tt}=parseUrl(i,o);return stringifyUrl({url:a,query:includeKeys(nt,s),fragmentIdentifier:tt},o)}function exclude(i,s,o){const a=Array.isArray(s)?nt=>!s.includes(nt):(nt,tt)=>!s(nt,tt);return pick(i,a,o)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse,parseUrl,pick,stringify:stringify$3,stringifyUrl},Symbol.toStringTag,{value:"Module"}));var lib$1={},ace$4={},ace$3={exports:{}};(function(i,s){(function(){var o="ace",a=function(){return this}();!a&&typeof window<"u"&&(a=window);var nt=function(j,_,$){if(typeof j!="string"){nt.original?nt.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&($=_),nt.modules[j]||(nt.payloads[j]=$,nt.modules[j]=null)};nt.modules={},nt.payloads={};var tt=function(j,_,$){if(typeof _=="string"){var et=rt(j,_);if(et!=null)return $&&$(),et}else if(Object.prototype.toString.call(_)==="[object Array]"){for(var st=[],lt=0,ct=_.length;lt<ct;++lt){var ht=rt(j,_[lt]);if(ht==null&&ot.original)return;st.push(ht)}return $&&$.apply(null,st)||!0}},ot=function(j,_){var $=tt("",j,_);return $==null&&ot.original?ot.original.apply(this,arguments):$},at=function(j,_){if(_.indexOf("!")!==-1){var $=_.split("!");return at(j,$[0])+"!"+at(j,$[1])}if(_.charAt(0)=="."){var et=j.split("/").slice(0,-1).join("/");for(_=et+"/"+_;_.indexOf(".")!==-1&&st!=_;){var st=_;_=_.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return _},rt=function(j,_){_=at(j,_);var $=nt.modules[_];if(!$){if($=nt.payloads[_],typeof $=="function"){var et={},st={id:_,uri:"",exports:et,packaged:!0},lt=function(ht,ut){return tt(_,ht,ut)},ct=$(lt,et,st);et=ct||st.exports,nt.modules[_]=et,delete nt.payloads[_]}$=nt.modules[_]=et||$}return $};function it(j){var _=a;j&&(a[j]||(a[j]={}),_=a[j]),(!_.define||!_.define.packaged)&&(nt.original=_.define,_.define=nt,_.define.packaged=!0),(!_.require||!_.require.packaged)&&(ot.original=_.require,_.require=ot,_.require.packaged=!0)}it(o)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(o,a,nt){function tt(ot,at,rt){Object.defineProperty(ot,at,{value:rt,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||tt(String.prototype,"startsWith",function(ot,at){return at=at||0,this.lastIndexOf(ot,at)===at}),String.prototype.endsWith||tt(String.prototype,"endsWith",function(ot,at){var rt=this;(at===void 0||at>rt.length)&&(at=rt.length),at-=ot.length;var it=rt.indexOf(ot,at);return it!==-1&&it===at}),String.prototype.repeat||tt(String.prototype,"repeat",function(ot){for(var at="",rt=this;ot>0;)ot&1&&(at+=rt),(ot>>=1)&&(rt+=rt);return at}),String.prototype.includes||tt(String.prototype,"includes",function(ot,at){return this.indexOf(ot,at)!=-1}),Object.assign||(Object.assign=function(ot){if(ot==null)throw new TypeError("Cannot convert undefined or null to object");for(var at=Object(ot),rt=1;rt<arguments.length;rt++){var it=arguments[rt];it!=null&&Object.keys(it).forEach(function(j){at[j]=it[j]})}return at}),Object.values||(Object.values=function(ot){return Object.keys(ot).map(function(at){return ot[at]})}),Array.prototype.find||tt(Array.prototype,"find",function(ot){for(var at=this.length,rt=arguments[1],it=0;it<at;it++){var j=this[it];if(ot.call(rt,j,it,this))return j}}),Array.prototype.findIndex||tt(Array.prototype,"findIndex",function(ot){for(var at=this.length,rt=arguments[1],it=0;it<at;it++){var j=this[it];if(ot.call(rt,j,it,this))return it}}),Array.prototype.includes||tt(Array.prototype,"includes",function(ot,at){return this.indexOf(ot,at)!=-1}),Array.prototype.fill||tt(Array.prototype,"fill",function(ot){for(var at=this,rt=at.length>>>0,it=arguments[1],j=it>>0,_=j<0?Math.max(rt+j,0):Math.min(j,rt),$=arguments[2],et=$===void 0?rt:$>>0,st=et<0?Math.max(rt+et,0):Math.min(et,rt);_<st;)at[_]=ot,_++;return at}),Array.of||tt(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(o,a,nt){o("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(o,a,nt){a.deepCopy=function tt(ot){if(typeof ot!="object"||!ot)return ot;var at;if(Array.isArray(ot)){at=[];for(var rt=0;rt<ot.length;rt++)at[rt]=tt(ot[rt]);return at}if(Object.prototype.toString.call(ot)!=="[object Object]")return ot;at={};for(var rt in ot)at[rt]=tt(ot[rt]);return at}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(o,a,nt){a.last=function(at){return at[at.length-1]},a.stringReverse=function(at){return at.split("").reverse().join("")},a.stringRepeat=function(at,rt){for(var it="";rt>0;)rt&1&&(it+=at),(rt>>=1)&&(at+=at);return it};var tt=/^\s\s*/,ot=/\s\s*$/;a.stringTrimLeft=function(at){return at.replace(tt,"")},a.stringTrimRight=function(at){return at.replace(ot,"")},a.copyObject=function(at){var rt={};for(var it in at)rt[it]=at[it];return rt},a.copyArray=function(at){for(var rt=[],it=0,j=at.length;it<j;it++)at[it]&&typeof at[it]=="object"?rt[it]=this.copyObject(at[it]):rt[it]=at[it];return rt},a.deepCopy=o("./deep_copy").deepCopy,a.arrayToMap=function(at){for(var rt={},it=0;it<at.length;it++)rt[at[it]]=1;return rt},a.createMap=function(at){var rt=Object.create(null);for(var it in at)rt[it]=at[it];return rt},a.arrayRemove=function(at,rt){for(var it=0;it<=at.length;it++)rt===at[it]&&at.splice(it,1)},a.escapeRegExp=function(at){return at.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},a.escapeHTML=function(at){return(""+at).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},a.getMatchOffsets=function(at,rt){var it=[];return at.replace(rt,function(j){it.push({offset:arguments[arguments.length-2],length:j.length})}),it},a.deferredCall=function(at){var rt=null,it=function(){rt=null,at()},j=function(_){return j.cancel(),rt=setTimeout(it,_||0),j};return j.schedule=j,j.call=function(){return this.cancel(),at(),j},j.cancel=function(){return clearTimeout(rt),rt=null,j},j.isPending=function(){return rt},j},a.delayedCall=function(at,rt){var it=null,j=function(){it=null,at()},_=function($){it==null&&(it=setTimeout(j,$||rt))};return _.delay=function($){it&&clearTimeout(it),it=setTimeout(j,$||rt)},_.schedule=_,_.call=function(){this.cancel(),at()},_.cancel=function(){it&&clearTimeout(it),it=null},_.isPending=function(){return it},_},a.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},a.skipEmptyMatch=function(at,rt,it){return it&&at.codePointAt(rt)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(o,a,nt){a.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},a.getOS=function(){return a.isMac?a.OS.MAC:a.isLinux?a.OS.LINUX:a.OS.WINDOWS};var tt=typeof navigator=="object"?navigator:{},ot=(/mac|win|linux/i.exec(tt.platform)||["other"])[0].toLowerCase(),at=tt.userAgent||"",rt=tt.appName||"";a.isWin=ot=="win",a.isMac=ot=="mac",a.isLinux=ot=="linux",a.isIE=rt=="Microsoft Internet Explorer"||rt.indexOf("MSAppHost")>=0?parseFloat((at.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((at.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),a.isOldIE=a.isIE&&a.isIE<9,a.isGecko=a.isMozilla=at.match(/ Gecko\/\d+/),a.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",a.isWebKit=parseFloat(at.split("WebKit/")[1])||void 0,a.isChrome=parseFloat(at.split(" Chrome/")[1])||void 0,a.isSafari=parseFloat(at.split(" Safari/")[1])&&!a.isChrome||void 0,a.isEdge=parseFloat(at.split(" Edge/")[1])||void 0,a.isAIR=at.indexOf("AdobeAIR")>=0,a.isAndroid=at.indexOf("Android")>=0,a.isChromeOS=at.indexOf(" CrOS ")>=0,a.isIOS=/iPad|iPhone|iPod/.test(at)&&!window.MSStream,a.isIOS&&(a.isMac=!0),a.isMobile=a.isIOS||a.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(o,a,nt){var tt=o("./useragent"),ot="http://www.w3.org/1999/xhtml";a.buildDom=function $(et,st,lt){if(typeof et=="string"&&et){var ct=document.createTextNode(et);return st&&st.appendChild(ct),ct}if(!Array.isArray(et))return et&&et.appendChild&&st&&st.appendChild(et),et;if(typeof et[0]!="string"||!et[0]){for(var ht=[],ut=0;ut<et.length;ut++){var mt=$(et[ut],st,lt);mt&&ht.push(mt)}return ht}var gt=document.createElement(et[0]),vt=et[1],dt=1;vt&&typeof vt=="object"&&!Array.isArray(vt)&&(dt=2);for(var ut=dt;ut<et.length;ut++)$(et[ut],gt,lt);return dt==2&&Object.keys(vt).forEach(function(St){var yt=vt[St];St==="class"?gt.className=Array.isArray(yt)?yt.join(" "):yt:typeof yt=="function"||St=="value"||St[0]=="$"?gt[St]=yt:St==="ref"?lt&&(lt[yt]=gt):St==="style"?typeof yt=="string"&&(gt.style.cssText=yt):yt!=null&&gt.setAttribute(St,yt)}),st&&st.appendChild(gt),gt},a.getDocumentHead=function($){return $||($=document),$.head||$.getElementsByTagName("head")[0]||$.documentElement},a.createElement=function($,et){return document.createElementNS?document.createElementNS(et||ot,$):document.createElement($)},a.removeChildren=function($){$.innerHTML=""},a.createTextNode=function($,et){var st=et?et.ownerDocument:document;return st.createTextNode($)},a.createFragment=function($){var et=$?$.ownerDocument:document;return et.createDocumentFragment()},a.hasCssClass=function($,et){var st=($.className+"").split(/\s+/g);return st.indexOf(et)!==-1},a.addCssClass=function($,et){a.hasCssClass($,et)||($.className+=" "+et)},a.removeCssClass=function($,et){for(var st=$.className.split(/\s+/g);;){var lt=st.indexOf(et);if(lt==-1)break;st.splice(lt,1)}$.className=st.join(" ")},a.toggleCssClass=function($,et){for(var st=$.className.split(/\s+/g),lt=!0;;){var ct=st.indexOf(et);if(ct==-1)break;lt=!1,st.splice(ct,1)}return lt&&st.push(et),$.className=st.join(" "),lt},a.setCssClass=function($,et,st){st?a.addCssClass($,et):a.removeCssClass($,et)},a.hasCssString=function($,et){var st=0,lt;if(et=et||document,lt=et.querySelectorAll("style")){for(;st<lt.length;)if(lt[st++].id===$)return!0}},a.removeElementById=function($,et){et=et||document,et.getElementById($)&&et.getElementById($).remove()};var at,rt=[];a.useStrictCSP=function($){at=$,$==!1?it():rt||(rt=[])};function it(){var $=rt;rt=null,$&&$.forEach(function(et){j(et[0],et[1])})}function j($,et,st){if(!(typeof document>"u")){if(rt){if(st)it();else if(st===!1)return rt.push([$,et])}if(!at){var lt=st;!st||!st.getRootNode?lt=document:(lt=st.getRootNode(),(!lt||lt==st)&&(lt=document));var ct=lt.ownerDocument||lt;if(et&&a.hasCssString(et,lt))return null;et&&($+=`
/*# sourceURL=ace/css/`+et+" */");var ht=a.createElement("style");ht.appendChild(ct.createTextNode($)),et&&(ht.id=et),lt==ct&&(lt=a.getDocumentHead(ct)),lt.insertBefore(ht,lt.firstChild)}}}if(a.importCssString=j,a.importCssStylsheet=function($,et){a.buildDom(["link",{rel:"stylesheet",href:$}],a.getDocumentHead(et))},a.scrollbarWidth=function($){var et=a.createElement("ace_inner");et.style.width="100%",et.style.minWidth="0px",et.style.height="200px",et.style.display="block";var st=a.createElement("ace_outer"),lt=st.style;lt.position="absolute",lt.left="-10000px",lt.overflow="hidden",lt.width="200px",lt.minWidth="0px",lt.height="150px",lt.display="block",st.appendChild(et);var ct=$&&$.documentElement||document&&document.documentElement;if(!ct)return 0;ct.appendChild(st);var ht=et.offsetWidth;lt.overflow="scroll";var ut=et.offsetWidth;return ht===ut&&(ut=st.clientWidth),ct.removeChild(st),ht-ut},a.computedStyle=function($,et){return window.getComputedStyle($,"")||{}},a.setStyle=function($,et,st){$[et]!==st&&($[et]=st)},a.HAS_CSS_ANIMATION=!1,a.HAS_CSS_TRANSFORMS=!1,a.HI_DPI=tt.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,tt.isChromeOS&&(a.HI_DPI=!1),typeof document<"u"){var _=document.createElement("div");a.HI_DPI&&_.style.transform!==void 0&&(a.HAS_CSS_TRANSFORMS=!0),!tt.isEdge&&typeof _.style.animationName<"u"&&(a.HAS_CSS_ANIMATION=!0),_=null}a.HAS_CSS_TRANSFORMS?a.translate=function($,et,st){$.style.transform="translate("+Math.round(et)+"px, "+Math.round(st)+"px)"}:a.translate=function($,et,st){$.style.top=Math.round(st)+"px",$.style.left=Math.round(et)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(o,a,nt){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var tt=o("./dom");a.get=function(ot,at){var rt=new XMLHttpRequest;rt.open("GET",ot,!0),rt.onreadystatechange=function(){rt.readyState===4&&at(rt.responseText)},rt.send(null)},a.loadScript=function(ot,at){var rt=tt.getDocumentHead(),it=document.createElement("script");it.src=ot,rt.appendChild(it),it.onload=it.onreadystatechange=function(j,_){(_||!it.readyState||it.readyState=="loaded"||it.readyState=="complete")&&(it=it.onload=it.onreadystatechange=null,_||at())}},a.qualifyURL=function(ot){var at=document.createElement("a");return at.href=ot,at.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(o,a,nt){a.inherits=function(tt,ot){tt.super_=ot,tt.prototype=Object.create(ot.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}})},a.mixin=function(tt,ot){for(var at in ot)tt[at]=ot[at];return tt},a.implement=function(tt,ot){a.mixin(tt,ot)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(o,a,nt){var tt={},ot=function(){this.propagationStopped=!0},at=function(){this.defaultPrevented=!0};tt._emit=tt._dispatchEvent=function(rt,it){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var j=this._eventRegistry[rt]||[],_=this._defaultHandlers[rt];if(!(!j.length&&!_)){(typeof it!="object"||!it)&&(it={}),it.type||(it.type=rt),it.stopPropagation||(it.stopPropagation=ot),it.preventDefault||(it.preventDefault=at),j=j.slice();for(var $=0;$<j.length&&(j[$](it,this),!it.propagationStopped);$++);if(_&&!it.defaultPrevented)return _(it,this)}},tt._signal=function(rt,it){var j=(this._eventRegistry||{})[rt];if(j){j=j.slice();for(var _=0;_<j.length;_++)j[_](it,this)}},tt.once=function(rt,it){var j=this;if(this.on(rt,function _(){j.off(rt,_),it.apply(null,arguments)}),!it)return new Promise(function(_){it=_})},tt.setDefaultHandler=function(rt,it){var j=this._defaultHandlers;if(j||(j=this._defaultHandlers={_disabled_:{}}),j[rt]){var _=j[rt],$=j._disabled_[rt];$||(j._disabled_[rt]=$=[]),$.push(_);var et=$.indexOf(it);et!=-1&&$.splice(et,1)}j[rt]=it},tt.removeDefaultHandler=function(rt,it){var j=this._defaultHandlers;if(j){var _=j._disabled_[rt];if(j[rt]==it)_&&this.setDefaultHandler(rt,_.pop());else if(_){var $=_.indexOf(it);$!=-1&&_.splice($,1)}}},tt.on=tt.addEventListener=function(rt,it,j){this._eventRegistry=this._eventRegistry||{};var _=this._eventRegistry[rt];return _||(_=this._eventRegistry[rt]=[]),_.indexOf(it)==-1&&_[j?"unshift":"push"](it),it},tt.off=tt.removeListener=tt.removeEventListener=function(rt,it){this._eventRegistry=this._eventRegistry||{};var j=this._eventRegistry[rt];if(j){var _=j.indexOf(it);_!==-1&&j.splice(_,1)}},tt.removeAllListeners=function(rt){rt||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[rt]=void 0),this._defaultHandlers&&(this._defaultHandlers[rt]=void 0)},a.EventEmitter=tt}),ace.define("ace/lib/report_error",["require","exports","module"],function(o,a,nt){a.reportError=function(ot,at){var rt=new Error(ot);rt.data=at,typeof console=="object"&&console.error&&console.error(rt),setTimeout(function(){throw rt})}}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error"],function(o,a,nt){"no use strict";var tt=o("./oop"),ot=o("./event_emitter").EventEmitter,at=o("./report_error").reportError,rt={setOptions:function($){Object.keys($).forEach(function(et){this.setOption(et,$[et])},this)},getOptions:function($){var et={};if($)Array.isArray($)||(et=$,$=Object.keys(et));else{var st=this.$options;$=Object.keys(st).filter(function(lt){return!st[lt].hidden})}return $.forEach(function(lt){et[lt]=this.getOption(lt)},this),et},setOption:function($,et){if(this["$"+$]!==et){var st=this.$options[$];if(!st)return it('misspelled option "'+$+'"');if(st.forwardTo)return this[st.forwardTo]&&this[st.forwardTo].setOption($,et);st.handlesSet||(this["$"+$]=et),st&&st.set&&st.set.call(this,et)}},getOption:function($){var et=this.$options[$];return et?et.forwardTo?this[et.forwardTo]&&this[et.forwardTo].getOption($):et&&et.get?et.get.call(this):this["$"+$]:it('misspelled option "'+$+'"')}};function it($){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var j,_=function(){function $(){this.$defaultOptions={}}return $.prototype.defineOptions=function(et,st,lt){return et.$options||(this.$defaultOptions[st]=et.$options={}),Object.keys(lt).forEach(function(ct){var ht=lt[ct];typeof ht=="string"&&(ht={forwardTo:ht}),ht.name||(ht.name=ct),et.$options[ht.name]=ht,"initialValue"in ht&&(et["$"+ht.name]=ht.initialValue)}),tt.implement(et,rt),this},$.prototype.resetOptions=function(et){Object.keys(et.$options).forEach(function(st){var lt=et.$options[st];"value"in lt&&et.setOption(st,lt.value)})},$.prototype.setDefaultValue=function(et,st,lt){if(!et){for(et in this.$defaultOptions)if(this.$defaultOptions[et][st])break;if(!this.$defaultOptions[et][st])return!1}var ct=this.$defaultOptions[et]||(this.$defaultOptions[et]={});ct[st]&&(ct.forwardTo?this.setDefaultValue(ct.forwardTo,st,lt):ct[st].value=lt)},$.prototype.setDefaultValues=function(et,st){Object.keys(st).forEach(function(lt){this.setDefaultValue(et,lt,st[lt])},this)},$.prototype.setMessages=function(et){j=et},$.prototype.nls=function(et,st){j&&!j[et]&&it("No message found for '"+et+"' in the provided messages, falling back to default English message.");var lt=j&&j[et]||et;return st&&(lt=lt.replace(/\$(\$|[\d]+)/g,function(ct,ht){return ht=="$"?"$":st[ht]})),lt},$}();_.prototype.warn=it,_.prototype.reportError=at,tt.implement(_.prototype,ot),a.AppConfig=_}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(o,a,nt){nt.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(o,a,nt){a.isDark=!1,a.cssClass="ace-tm",a.cssText=o("./textmate-css"),a.$id="ace/theme/textmate";var tt=o("../lib/dom");tt.importCssString(a.cssText,a.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(o,a,nt){"no use strict";var tt=o("./lib/lang"),ot=o("./lib/net"),at=o("./lib/dom"),rt=o("./lib/app_config").AppConfig;nt.exports=a=new rt;var it={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};a.get=function(et){if(!it.hasOwnProperty(et))throw new Error("Unknown config key: "+et);return it[et]},a.set=function(et,st){if(it.hasOwnProperty(et))it[et]=st;else if(this.setDefaultValue("",et,st)==!1)throw new Error("Unknown config key: "+et);et=="useStrictCSP"&&at.useStrictCSP(st)},a.all=function(){return tt.copyObject(it)},a.$modes={},a.moduleUrl=function(et,st){if(it.$moduleUrls[et])return it.$moduleUrls[et];var lt=et.split("/");st=st||lt[lt.length-2]||"";var ct=st=="snippets"?"/":"-",ht=lt[lt.length-1];if(st=="worker"&&ct=="-"){var ut=new RegExp("^"+st+"[\\-_]|[\\-_]"+st+"$","g");ht=ht.replace(ut,"")}(!ht||ht==st)&&lt.length>1&&(ht=lt[lt.length-2]);var mt=it[st+"Path"];return mt==null?mt=it.basePath:ct=="/"&&(st=ct=""),mt&&mt.slice(-1)!="/"&&(mt+="/"),mt+st+ct+ht+this.get("suffix")},a.setModuleUrl=function(et,st){return it.$moduleUrls[et]=st};var j=function(et,st){if(et==="ace/theme/textmate"||et==="./theme/textmate")return st(null,o("./theme/textmate"));if(_)return _(et,st);console.error("loader is not configured")},_;a.setLoader=function(et){_=et},a.dynamicModules=Object.create(null),a.$loading={},a.$loaded={},a.loadModule=function(et,st){var lt;if(Array.isArray(et))var ct=et[0],ht=et[1];else if(typeof et=="string")var ht=et;var ut=function(mt){if(mt&&!a.$loading[ht])return st&&st(mt);if(a.$loading[ht]||(a.$loading[ht]=[]),a.$loading[ht].push(st),!(a.$loading[ht].length>1)){var gt=function(){j(ht,function(vt,dt){dt&&(a.$loaded[ht]=dt),a._emit("load.module",{name:ht,module:dt});var St=a.$loading[ht];a.$loading[ht]=null,St.forEach(function(yt){yt&&yt(dt)})})};if(!a.get("packaged"))return gt();ot.loadScript(a.moduleUrl(ht,ct),gt),$()}};if(a.dynamicModules[ht])a.dynamicModules[ht]().then(function(mt){mt.default?ut(mt.default):ut(mt)});else{try{lt=this.$require(ht)}catch{}ut(lt||a.$loaded[ht])}},a.$require=function(et){if(typeof nt.require=="function"){var st="require";return nt[st](et)}},a.setModuleLoader=function(et,st){a.dynamicModules[et]=st};var $=function(){!it.basePath&&!it.workerPath&&!it.modePath&&!it.themePath&&!Object.keys(it.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),$=function(){})};a.version="1.32.6"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(o,a,nt){o("./lib/fixoldbrowsers");var tt=o("./config");tt.setLoader(function(it,j){o([it],function(_){j(null,_)})});var ot=function(){return this||typeof window<"u"&&window}();nt.exports=function(it){tt.init=at,tt.$require=o,it.require=o},at(!0);function at(it){if(!(!ot||!ot.document)){tt.set("packaged",it||o.packaged||nt.packaged||ot.define&&(void 0).packaged);var j={},_="",$=document.currentScript||document._currentScript,et=$&&$.ownerDocument||document;$&&$.src&&(_=$.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var st=et.getElementsByTagName("script"),lt=0;lt<st.length;lt++){var ct=st[lt],ht=ct.src||ct.getAttribute("src");if(ht){for(var ut=ct.attributes,mt=0,gt=ut.length;mt<gt;mt++){var vt=ut[mt];vt.name.indexOf("data-ace-")===0&&(j[rt(vt.name.replace(/^data-ace-/,""))]=vt.value)}var dt=ht.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);dt&&(_=dt[1])}}_&&(j.base=j.base||_,j.packaged=!0),j.basePath=j.base,j.workerPath=j.workerPath||j.base,j.modePath=j.modePath||j.base,j.themePath=j.themePath||j.base,delete j.base;for(var St in j)typeof j[St]<"u"&&tt.set(St,j[St])}}function rt(it){return it.replace(/-(.)/g,function(j,_){return _.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(o,a,nt){var tt=function(){function ot(at,rt,it,j){this.start={row:at,column:rt},this.end={row:it,column:j}}return ot.prototype.isEqual=function(at){return this.start.row===at.start.row&&this.end.row===at.end.row&&this.start.column===at.start.column&&this.end.column===at.end.column},ot.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},ot.prototype.contains=function(at,rt){return this.compare(at,rt)==0},ot.prototype.compareRange=function(at){var rt,it=at.end,j=at.start;return rt=this.compare(it.row,it.column),rt==1?(rt=this.compare(j.row,j.column),rt==1?2:rt==0?1:0):rt==-1?-2:(rt=this.compare(j.row,j.column),rt==-1?-1:rt==1?42:0)},ot.prototype.comparePoint=function(at){return this.compare(at.row,at.column)},ot.prototype.containsRange=function(at){return this.comparePoint(at.start)==0&&this.comparePoint(at.end)==0},ot.prototype.intersects=function(at){var rt=this.compareRange(at);return rt==-1||rt==0||rt==1},ot.prototype.isEnd=function(at,rt){return this.end.row==at&&this.end.column==rt},ot.prototype.isStart=function(at,rt){return this.start.row==at&&this.start.column==rt},ot.prototype.setStart=function(at,rt){typeof at=="object"?(this.start.column=at.column,this.start.row=at.row):(this.start.row=at,this.start.column=rt)},ot.prototype.setEnd=function(at,rt){typeof at=="object"?(this.end.column=at.column,this.end.row=at.row):(this.end.row=at,this.end.column=rt)},ot.prototype.inside=function(at,rt){return this.compare(at,rt)==0?!(this.isEnd(at,rt)||this.isStart(at,rt)):!1},ot.prototype.insideStart=function(at,rt){return this.compare(at,rt)==0?!this.isEnd(at,rt):!1},ot.prototype.insideEnd=function(at,rt){return this.compare(at,rt)==0?!this.isStart(at,rt):!1},ot.prototype.compare=function(at,rt){return!this.isMultiLine()&&at===this.start.row?rt<this.start.column?-1:rt>this.end.column?1:0:at<this.start.row?-1:at>this.end.row?1:this.start.row===at?rt>=this.start.column?0:-1:this.end.row===at?rt<=this.end.column?0:1:0},ot.prototype.compareStart=function(at,rt){return this.start.row==at&&this.start.column==rt?-1:this.compare(at,rt)},ot.prototype.compareEnd=function(at,rt){return this.end.row==at&&this.end.column==rt?1:this.compare(at,rt)},ot.prototype.compareInside=function(at,rt){return this.end.row==at&&this.end.column==rt?1:this.start.row==at&&this.start.column==rt?-1:this.compare(at,rt)},ot.prototype.clipRows=function(at,rt){if(this.end.row>rt)var it={row:rt+1,column:0};else if(this.end.row<at)var it={row:at,column:0};if(this.start.row>rt)var j={row:rt+1,column:0};else if(this.start.row<at)var j={row:at,column:0};return ot.fromPoints(j||this.start,it||this.end)},ot.prototype.extend=function(at,rt){var it=this.compare(at,rt);if(it==0)return this;if(it==-1)var j={row:at,column:rt};else var _={row:at,column:rt};return ot.fromPoints(j||this.start,_||this.end)},ot.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},ot.prototype.isMultiLine=function(){return this.start.row!==this.end.row},ot.prototype.clone=function(){return ot.fromPoints(this.start,this.end)},ot.prototype.collapseRows=function(){return this.end.column==0?new ot(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new ot(this.start.row,0,this.end.row,0)},ot.prototype.toScreenRange=function(at){var rt=at.documentToScreenPosition(this.start),it=at.documentToScreenPosition(this.end);return new ot(rt.row,rt.column,it.row,it.column)},ot.prototype.moveBy=function(at,rt){this.start.row+=at,this.start.column+=rt,this.end.row+=at,this.end.column+=rt},ot}();tt.fromPoints=function(ot,at){return new tt(ot.row,ot.column,at.row,at.column)},tt.comparePoints=function(ot,at){return ot.row-at.row||ot.column-at.column},a.Range=tt}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(o,a,nt){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var tt=o("./oop"),ot=function(){var at={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};at.PRINTABLE_KEYS[173]="-";var rt,it;for(it in at.FUNCTION_KEYS)rt=at.FUNCTION_KEYS[it].toLowerCase(),at[rt]=parseInt(it,10);for(it in at.PRINTABLE_KEYS)rt=at.PRINTABLE_KEYS[it].toLowerCase(),at[rt]=parseInt(it,10);return tt.mixin(at,at.MODIFIER_KEYS),tt.mixin(at,at.PRINTABLE_KEYS),tt.mixin(at,at.FUNCTION_KEYS),at.enter=at.return,at.escape=at.esc,at.del=at.delete,function(){for(var j=["cmd","ctrl","alt","shift"],_=Math.pow(2,j.length);_--;)at.KEY_MODS[_]=j.filter(function($){return _&at.KEY_MODS[$]}).join("-")+"-"}(),at.KEY_MODS[0]="",at.KEY_MODS[-1]="input-",at}();tt.mixin(a,ot),a.default=a,a.keyCodeToString=function(at){var rt=ot[at];return typeof rt!="string"&&(rt=String.fromCharCode(at)),rt.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(o,a,nt){var tt=o("./keys"),ot=o("./useragent"),at=null,rt=0,it;function j(){it=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return it={passive:!1},!0}})}catch{}}function _(){return it==null&&j(),it}function $(mt,gt,vt){this.elem=mt,this.type=gt,this.callback=vt}$.prototype.destroy=function(){st(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var et=a.addListener=function(mt,gt,vt,dt){mt.addEventListener(gt,vt,_()),dt&&dt.$toDestroy.push(new $(mt,gt,vt))},st=a.removeListener=function(mt,gt,vt){mt.removeEventListener(gt,vt,_())};a.stopEvent=function(mt){return a.stopPropagation(mt),a.preventDefault(mt),!1},a.stopPropagation=function(mt){mt.stopPropagation&&mt.stopPropagation()},a.preventDefault=function(mt){mt.preventDefault&&mt.preventDefault()},a.getButton=function(mt){return mt.type=="dblclick"?0:mt.type=="contextmenu"||ot.isMac&&mt.ctrlKey&&!mt.altKey&&!mt.shiftKey?2:mt.button},a.capture=function(mt,gt,vt){var dt=mt&&mt.ownerDocument||document;function St(yt){gt&&gt(yt),vt&&vt(yt),st(dt,"mousemove",gt),st(dt,"mouseup",St),st(dt,"dragstart",St)}return et(dt,"mousemove",gt),et(dt,"mouseup",St),et(dt,"dragstart",St),St},a.addMouseWheelListener=function(mt,gt,vt){et(mt,"wheel",function(dt){var St=.15,yt=dt.deltaX||0,pt=dt.deltaY||0;switch(dt.deltaMode){case dt.DOM_DELTA_PIXEL:dt.wheelX=yt*St,dt.wheelY=pt*St;break;case dt.DOM_DELTA_LINE:var wt=15;dt.wheelX=yt*wt,dt.wheelY=pt*wt;break;case dt.DOM_DELTA_PAGE:var Et=150;dt.wheelX=yt*Et,dt.wheelY=pt*Et;break}gt(dt)},vt)},a.addMultiMouseDownListener=function(mt,gt,vt,dt,St){var yt=0,pt,wt,Et,Ct={2:"dblclick",3:"tripleclick",4:"quadclick"};function kt(Tt){if(a.getButton(Tt)!==0?yt=0:Tt.detail>1?(yt++,yt>4&&(yt=1)):yt=1,ot.isIE){var At=Math.abs(Tt.clientX-pt)>5||Math.abs(Tt.clientY-wt)>5;(!Et||At)&&(yt=1),Et&&clearTimeout(Et),Et=setTimeout(function(){Et=null},gt[yt-1]||600),yt==1&&(pt=Tt.clientX,wt=Tt.clientY)}if(Tt._clicks=yt,vt[dt]("mousedown",Tt),yt>4)yt=0;else if(yt>1)return vt[dt](Ct[yt],Tt)}Array.isArray(mt)||(mt=[mt]),mt.forEach(function(Tt){et(Tt,"mousedown",kt,St)})};function lt(mt){return 0|(mt.ctrlKey?1:0)|(mt.altKey?2:0)|(mt.shiftKey?4:0)|(mt.metaKey?8:0)}a.getModifierString=function(mt){return tt.KEY_MODS[lt(mt)]};function ct(mt,gt,vt){var dt=lt(gt);if(!ot.isMac&&at){if(gt.getModifierState&&(gt.getModifierState("OS")||gt.getModifierState("Win"))&&(dt|=8),at.altGr)if((3&dt)!=3)at.altGr=0;else return;if(vt===18||vt===17){var St=gt.location;if(vt===17&&St===1)at[vt]==1&&(rt=gt.timeStamp);else if(vt===18&&dt===3&&St===2){var yt=gt.timeStamp-rt;yt<50&&(at.altGr=!0)}}}if(vt in tt.MODIFIER_KEYS&&(vt=-1),!(!dt&&vt===13&&gt.location===3&&(mt(gt,dt,-vt),gt.defaultPrevented))){if(ot.isChromeOS&&dt&8){if(mt(gt,dt,vt),gt.defaultPrevented)return;dt&=-9}return!dt&&!(vt in tt.FUNCTION_KEYS)&&!(vt in tt.PRINTABLE_KEYS)?!1:mt(gt,dt,vt)}}a.addCommandKeyListener=function(mt,gt,vt){var dt=null;et(mt,"keydown",function(St){at[St.keyCode]=(at[St.keyCode]||0)+1;var yt=ct(gt,St,St.keyCode);return dt=St.defaultPrevented,yt},vt),et(mt,"keypress",function(St){dt&&(St.ctrlKey||St.altKey||St.shiftKey||St.metaKey)&&(a.stopEvent(St),dt=null)},vt),et(mt,"keyup",function(St){at[St.keyCode]=null},vt),at||(ht(),et(window,"focus",ht))};function ht(){at=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!ot.isOldIE){var ut=1;a.nextTick=function(mt,gt){gt=gt||window;var vt="zero-timeout-message-"+ut++,dt=function(St){St.data==vt&&(a.stopPropagation(St),st(gt,"message",dt),mt())};et(gt,"message",dt),gt.postMessage(vt,"*")}}a.$idleBlocked=!1,a.onIdle=function(mt,gt){return setTimeout(function vt(){a.$idleBlocked?setTimeout(vt,100):mt()},gt)},a.$idleBlockId=null,a.blockIdle=function(mt){a.$idleBlockId&&clearTimeout(a.$idleBlockId),a.$idleBlocked=!0,a.$idleBlockId=setTimeout(function(){a.$idleBlocked=!1},mt||100)},a.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),a.nextFrame?a.nextFrame=a.nextFrame.bind(window):a.nextFrame=function(mt){setTimeout(mt,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(o,a,nt){var tt;nt.exports={lineMode:!1,pasteCancelled:function(){return tt&&tt>Date.now()-50?!0:tt=!1},cancel:function(){tt=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(o,a,nt){var tt=o("../lib/event"),ot=o("../config").nls,at=o("../lib/useragent"),rt=o("../lib/dom"),it=o("../lib/lang"),j=o("../clipboard"),_=at.isChrome<18,$=at.isIE,et=at.isChrome>63,st=400,lt=o("../lib/keys"),ct=lt.KEY_MODS,ht=at.isIOS,ut=ht?/\s/:/\n/,mt=at.isMobile,gt;gt=function(vt,dt){var St=rt.createElement("textarea");St.className="ace_text-input",St.setAttribute("wrap","off"),St.setAttribute("autocorrect","off"),St.setAttribute("autocapitalize","off"),St.setAttribute("spellcheck","false"),St.style.opacity="0",vt.insertBefore(St,vt.firstChild);var yt=!1,pt=!1,wt=!1,Et=!1,Ct="";mt||(St.style.fontSize="1px");var kt=!1,Tt=!1,At="",It=0,Ot=0,Mt=0,Dt=Number.MAX_SAFE_INTEGER,Bt=Number.MIN_SAFE_INTEGER,qt=0;try{var Wt=document.activeElement===St}catch{}this.setNumberOfExtraLines=function(Er){if(Dt=Number.MAX_SAFE_INTEGER,Bt=Number.MIN_SAFE_INTEGER,Er<0){qt=0;return}qt=Er},this.setAriaOptions=function(Er){if(Er.activeDescendant?(St.setAttribute("aria-haspopup","true"),St.setAttribute("aria-autocomplete",Er.inline?"both":"list"),St.setAttribute("aria-activedescendant",Er.activeDescendant)):(St.setAttribute("aria-haspopup","false"),St.setAttribute("aria-autocomplete","both"),St.removeAttribute("aria-activedescendant")),Er.role&&St.setAttribute("role",Er.role),Er.setLabel&&(St.setAttribute("aria-roledescription",ot("editor")),dt.session)){var Br=dt.session.selection.cursor.row;St.setAttribute("aria-label",ot("Cursor at row $0",[Br+1]))}},this.setAriaOptions({role:"textbox"}),tt.addListener(St,"blur",function(Er){Tt||(dt.onBlur(Er),Wt=!1)},dt),tt.addListener(St,"focus",function(Er){if(!Tt){if(Wt=!0,at.isEdge)try{if(!document.hasFocus())return}catch{}dt.onFocus(Er),at.isEdge?setTimeout(Ht):Ht()}},dt),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:dt.renderer.enableKeyboardAccessibility}),Ct||et||this.$focusScroll=="browser")return St.focus({preventScroll:!0});var Er=St.style.top;St.style.position="fixed",St.style.top="0px";try{var Br=St.getBoundingClientRect().top!=0}catch{return}var $r=[];if(Br)for(var on=St.parentElement;on&&on.nodeType==1;)$r.push(on),on.setAttribute("ace_nocontext","true"),!on.parentElement&&on.getRootNode?on=on.getRootNode().host:on=on.parentElement;St.focus({preventScroll:!0}),Br&&$r.forEach(function(Xt){Xt.removeAttribute("ace_nocontext")}),setTimeout(function(){St.style.position="",St.style.top=="0px"&&(St.style.top=Er)},0)},this.blur=function(){St.blur()},this.isFocused=function(){return Wt},dt.on("beforeEndOperation",function(){var Er=dt.curOp,Br=Er&&Er.command&&Er.command.name;if(Br!="insertstring"){var $r=Br&&(Er.docChanged||Er.selectionChanged);wt&&$r&&(At=St.value="",nn()),Ht()}});var Vt=function(Er,Br){for(var $r=Br,on=1;on<=Er-Dt&&on<2*qt+1;on++)$r+=dt.session.getLine(Er-on).length+1;return $r},Ht=ht?function(Er){if(!(!Wt||yt&&!Er||Et)){Er||(Er="");var Br=`
 ab`+Er+`cde fg
`;Br!=St.value&&(St.value=At=Br);var $r=4,on=4+(Er.length||(dt.selection.isEmpty()?0:1));(It!=$r||Ot!=on)&&St.setSelectionRange($r,on),It=$r,Ot=on}}:function(){if(!(wt||Et)&&!(!Wt&&!hr)){wt=!0;var Er=0,Br=0,$r="";if(dt.session){var on=dt.selection,Xt=on.getRange(),er=on.cursor.row;er===Bt+1?(Dt=Bt+1,Bt=Dt+2*qt):er===Dt-1?(Bt=Dt-1,Dt=Bt-2*qt):(er<Dt-1||er>Bt+1)&&(Dt=er>qt?er-qt:0,Bt=er>qt?er+qt:2*qt);for(var lr=[],Lr=Dt;Lr<=Bt;Lr++)lr.push(dt.session.getLine(Lr));if($r=lr.join(`
`),Er=Vt(Xt.start.row,Xt.start.column),Br=Vt(Xt.end.row,Xt.end.column),Xt.start.row<Dt){var Nr=dt.session.getLine(Dt-1);Er=Xt.start.row<Dt-1?0:Er,Br+=Nr.length+1,$r=Nr+`
`+$r}else if(Xt.end.row>Bt){var Cr=dt.session.getLine(Bt+1);Br=Xt.end.row>Bt+1?Cr.length:Xt.end.column,Br+=$r.length+1,$r=$r+`
`+Cr}else mt&&er>0&&($r=`
`+$r,Br+=1,Er+=1);$r.length>st&&(Er<st&&Br<st?$r=$r.slice(0,st):($r=`
`,Er==Br?Er=Br=0:(Er=0,Br=1)));var Tr=$r+`

`;Tr!=At&&(St.value=At=Tr,It=Ot=Tr.length)}if(hr&&(It=St.selectionStart,Ot=St.selectionEnd),Ot!=Br||It!=Er||St.selectionEnd!=Ot)try{St.setSelectionRange(Er,Br),It=Er,Ot=Br}catch{}wt=!1}};this.resetSelection=Ht,Wt&&dt.onFocus();var Jt=function(Er){return Er.selectionStart===0&&Er.selectionEnd>=At.length&&Er.value===At&&At&&Er.selectionEnd!==Ot},Qt=function(Er){wt||(yt?yt=!1:Jt(St)?(dt.selectAll(),Ht()):mt&&St.selectionStart!=It&&Ht())},cr=null;this.setInputHandler=function(Er){cr=Er},this.getInputHandler=function(){return cr};var hr=!1,dr=function(Er,Br){if(hr&&(hr=!1),pt)return Ht(),Er&&dt.onPaste(Er),pt=!1,"";for(var $r=St.selectionStart,on=St.selectionEnd,Xt=It,er=At.length-Ot,lr=Er,Lr=Er.length-$r,Nr=Er.length-on,Cr=0;Xt>0&&At[Cr]==Er[Cr];)Cr++,Xt--;for(lr=lr.slice(Cr),Cr=1;er>0&&At.length-Cr>It-1&&At[At.length-Cr]==Er[Er.length-Cr];)Cr++,er--;Lr-=Cr-1,Nr-=Cr-1;var Tr=lr.length-Cr+1;if(Tr<0&&(Xt=-Tr,Tr=0),lr=lr.slice(0,Tr),!Br&&!lr&&!Lr&&!Xt&&!er&&!Nr)return"";Et=!0;var Hr=!1;return at.isAndroid&&lr==". "&&(lr="  ",Hr=!0),lr&&!Xt&&!er&&!Lr&&!Nr||kt?dt.onTextInput(lr):dt.onTextInput(lr,{extendLeft:Xt,extendRight:er,restoreStart:Lr,restoreEnd:Nr}),Et=!1,At=Er,It=$r,Ot=on,Mt=Nr,Hr?`
`:lr},gr=function(Er){if(wt)return Wr();if(Er&&Er.inputType){if(Er.inputType=="historyUndo")return dt.execCommand("undo");if(Er.inputType=="historyRedo")return dt.execCommand("redo")}var Br=St.value,$r=dr(Br,!0);(Br.length>st+100||ut.test($r)||mt&&It<1&&It==Ot)&&Ht()},tr=function(Er,Br,$r){var on=Er.clipboardData||window.clipboardData;if(!(!on||_)){var Xt=$||$r?"Text":"text/plain";try{return Br?on.setData(Xt,Br)!==!1:on.getData(Xt)}catch(er){if(!$r)return tr(er,Br,!0)}}},rr=function(Er,Br){var $r=dt.getCopyText();if(!$r)return tt.preventDefault(Er);tr(Er,$r)?(ht&&(Ht($r),yt=$r,setTimeout(function(){yt=!1},10)),Br?dt.onCut():dt.onCopy(),tt.preventDefault(Er)):(yt=!0,St.value=$r,St.select(),setTimeout(function(){yt=!1,Ht(),Br?dt.onCut():dt.onCopy()}))},Yt=function(Er){rr(Er,!0)},br=function(Er){rr(Er,!1)},_r=function(Er){var Br=tr(Er);j.pasteCancelled()||(typeof Br=="string"?(Br&&dt.onPaste(Br,Er),at.isIE&&setTimeout(Ht),tt.preventDefault(Er)):(St.value="",pt=!0))};tt.addCommandKeyListener(St,function(Er,Br,$r){if(!wt)return dt.onCommandKey(Er,Br,$r)},dt),tt.addListener(St,"select",Qt,dt),tt.addListener(St,"input",gr,dt),tt.addListener(St,"cut",Yt,dt),tt.addListener(St,"copy",br,dt),tt.addListener(St,"paste",_r,dt),(!("oncut"in St)||!("oncopy"in St)||!("onpaste"in St))&&tt.addListener(vt,"keydown",function(Er){if(!(at.isMac&&!Er.metaKey||!Er.ctrlKey))switch(Er.keyCode){case 67:br(Er);break;case 86:_r(Er);break;case 88:Yt(Er);break}},dt);var fr=function(Er){if(!(wt||!dt.onCompositionStart||dt.$readOnly)&&(wt={},!kt)){Er.data&&(wt.useTextareaForIME=!1),setTimeout(Wr,0),dt._signal("compositionStart"),dt.on("mousedown",an);var Br=dt.getSelectionRange();Br.end.row=Br.start.row,Br.end.column=Br.start.column,wt.markerRange=Br,wt.selectionStart=It,dt.onCompositionStart(wt),wt.useTextareaForIME?(At=St.value="",It=0,Ot=0):(St.msGetInputContext&&(wt.context=St.msGetInputContext()),St.getInputContext&&(wt.context=St.getInputContext()))}},Wr=function(){if(!(!wt||!dt.onCompositionUpdate||dt.$readOnly)){if(kt)return an();if(wt.useTextareaForIME)dt.onCompositionUpdate(St.value);else{var Er=St.value;dr(Er),wt.markerRange&&(wt.context&&(wt.markerRange.start.column=wt.selectionStart=wt.context.compositionStartOffset),wt.markerRange.end.column=wt.markerRange.start.column+Ot-wt.selectionStart+Mt)}}},nn=function(Er){!dt.onCompositionEnd||dt.$readOnly||(wt=!1,dt.onCompositionEnd(),dt.off("mousedown",an),Er&&gr())};function an(){Tt=!0,St.blur(),St.focus(),Tt=!1}var In=it.delayedCall(Wr,50).schedule.bind(null,null);function Bn(Er){Er.keyCode==27&&St.value.length<St.selectionStart&&(wt||(At=St.value),It=Ot=-1,Ht()),In()}tt.addListener(St,"compositionstart",fr,dt),tt.addListener(St,"compositionupdate",Wr,dt),tt.addListener(St,"keyup",Bn,dt),tt.addListener(St,"keydown",In,dt),tt.addListener(St,"compositionend",nn,dt),this.getElement=function(){return St},this.setCommandMode=function(Er){kt=Er,St.readOnly=!1},this.setReadOnly=function(Er){kt||(St.readOnly=Er)},this.setCopyWithEmptySelection=function(Er){},this.onContextMenu=function(Er){hr=!0,Ht(),dt._emit("nativecontextmenu",{target:dt,domEvent:Er}),this.moveToMouse(Er,!0)},this.moveToMouse=function(Er,Br){Ct||(Ct=St.style.cssText),St.style.cssText=(Br?"z-index:100000;":"")+(at.isIE?"opacity:0.1;":"")+"text-indent: -"+(It+Ot)*dt.renderer.characterWidth*.5+"px;";var $r=dt.container.getBoundingClientRect(),on=rt.computedStyle(dt.container),Xt=$r.top+(parseInt(on.borderTopWidth)||0),er=$r.left+(parseInt($r.borderLeftWidth)||0),lr=$r.bottom-Xt-St.clientHeight-2,Lr=function(Nr){rt.translate(St,Nr.clientX-er-2,Math.min(Nr.clientY-Xt-2,lr))};Lr(Er),Er.type=="mousedown"&&(dt.renderer.$isMousePressed=!0,clearTimeout(Pn),at.isWin&&tt.capture(dt.container,Lr,cn))},this.onContextMenuClose=cn;var Pn;function cn(){clearTimeout(Pn),Pn=setTimeout(function(){Ct&&(St.style.cssText=Ct,Ct=""),dt.renderer.$isMousePressed=!1,dt.renderer.$keepTextAreaAtCursor&&dt.renderer.$moveTextAreaToCursor()},0)}var Gn=function(Er){dt.textInput.onContextMenu(Er),cn()};tt.addListener(St,"mouseup",Gn,dt),tt.addListener(St,"mousedown",function(Er){Er.preventDefault(),cn()},dt),tt.addListener(dt.renderer.scroller,"contextmenu",Gn,dt),tt.addListener(St,"contextmenu",Gn,dt),ht&&Mn(vt,dt,St);function Mn(Er,Br,$r){var on=null,Xt=!1;$r.addEventListener("keydown",function(lr){on&&clearTimeout(on),Xt=!0},!0),$r.addEventListener("keyup",function(lr){on=setTimeout(function(){Xt=!1},100)},!0);var er=function(lr){if(document.activeElement===$r&&!(Xt||wt||Br.$mouseHandler.isMousePressed)&&!yt){var Lr=$r.selectionStart,Nr=$r.selectionEnd,Cr=null,Tr=0;if(Lr==0?Cr=lt.up:Lr==1?Cr=lt.home:Nr>Ot&&At[Nr]==`
`?Cr=lt.end:Lr<It&&At[Lr-1]==" "?(Cr=lt.left,Tr=ct.option):Lr<It||Lr==It&&Ot!=It&&Lr==Nr?Cr=lt.left:Nr>Ot&&At.slice(0,Nr).split(`
`).length>2?Cr=lt.down:Nr>Ot&&At[Nr-1]==" "?(Cr=lt.right,Tr=ct.option):(Nr>Ot||Nr==Ot&&Ot!=It&&Lr==Nr)&&(Cr=lt.right),Lr!==Nr&&(Tr|=ct.shift),Cr){var Hr=Br.onCommandKey({},Tr,Cr);if(!Hr&&Br.commands){Cr=lt.keyCodeToString(Cr);var sn=Br.commands.findKeyCommand(Tr,Cr);sn&&Br.execCommand(sn)}It=Lr,Ot=Nr,Ht("")}}};document.addEventListener("selectionchange",er),Br.on("destroy",function(){document.removeEventListener("selectionchange",er)})}this.destroy=function(){St.parentElement&&St.parentElement.removeChild(St)}},a.TextInput=gt,a.$setUserAgentForTests=function(vt,dt){mt=vt,ht=dt}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(o,a,nt){var tt=o("../lib/useragent"),ot=0,at=550,rt=function(){function _($){$.$clickSelection=null;var et=$.editor;et.setDefaultHandler("mousedown",this.onMouseDown.bind($)),et.setDefaultHandler("dblclick",this.onDoubleClick.bind($)),et.setDefaultHandler("tripleclick",this.onTripleClick.bind($)),et.setDefaultHandler("quadclick",this.onQuadClick.bind($)),et.setDefaultHandler("mousewheel",this.onMouseWheel.bind($));var st=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];st.forEach(function(lt){$[lt]=this[lt]},this),$.selectByLines=this.extendSelectionBy.bind($,"getLineRange"),$.selectByWords=this.extendSelectionBy.bind($,"getWordRange")}return _.prototype.onMouseDown=function($){var et=$.inSelection(),st=$.getDocumentPosition();this.mousedownEvent=$;var lt=this.editor,ct=$.getButton();if(ct!==0){var ht=lt.getSelectionRange(),ut=ht.isEmpty();(ut||ct==1)&&lt.selection.moveToPosition(st),ct==2&&(lt.textInput.onContextMenu($.domEvent),tt.isMozilla||$.preventDefault());return}if(this.mousedownEvent.time=Date.now(),et&&!lt.isFocused()&&(lt.focus(),this.$focusTimeout&&!this.$clickSelection&&!lt.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse($);return}return this.captureMouse($),this.startSelect(st,$.domEvent._clicks>1),$.preventDefault()},_.prototype.startSelect=function($,et){$=$||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var st=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?st.selection.selectToPosition($):et||st.selection.moveToPosition($),et||this.select(),st.setStyle("ace_selecting"),this.setState("select"))},_.prototype.select=function(){var $,et=this.editor,st=et.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var lt=this.$clickSelection.comparePoint(st);if(lt==-1)$=this.$clickSelection.end;else if(lt==1)$=this.$clickSelection.start;else{var ct=j(this.$clickSelection,st);st=ct.cursor,$=ct.anchor}et.selection.setSelectionAnchor($.row,$.column)}et.selection.selectToPosition(st),et.renderer.scrollCursorIntoView()},_.prototype.extendSelectionBy=function($){var et,st=this.editor,lt=st.renderer.screenToTextCoordinates(this.x,this.y),ct=st.selection[$](lt.row,lt.column);if(this.$clickSelection){var ht=this.$clickSelection.comparePoint(ct.start),ut=this.$clickSelection.comparePoint(ct.end);if(ht==-1&&ut<=0)et=this.$clickSelection.end,(ct.end.row!=lt.row||ct.end.column!=lt.column)&&(lt=ct.start);else if(ut==1&&ht>=0)et=this.$clickSelection.start,(ct.start.row!=lt.row||ct.start.column!=lt.column)&&(lt=ct.end);else if(ht==-1&&ut==1)lt=ct.end,et=ct.start;else{var mt=j(this.$clickSelection,lt);lt=mt.cursor,et=mt.anchor}st.selection.setSelectionAnchor(et.row,et.column)}st.selection.selectToPosition(lt),st.renderer.scrollCursorIntoView()},_.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},_.prototype.focusWait=function(){var $=it(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),et=Date.now();($>ot||et-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},_.prototype.onDoubleClick=function($){var et=$.getDocumentPosition(),st=this.editor,lt=st.session,ct=lt.getBracketRange(et);ct?(ct.isEmpty()&&(ct.start.column--,ct.end.column++),this.setState("select")):(ct=st.selection.getWordRange(et.row,et.column),this.setState("selectByWords")),this.$clickSelection=ct,this.select()},_.prototype.onTripleClick=function($){var et=$.getDocumentPosition(),st=this.editor;this.setState("selectByLines");var lt=st.getSelectionRange();lt.isMultiLine()&&lt.contains(et.row,et.column)?(this.$clickSelection=st.selection.getLineRange(lt.start.row),this.$clickSelection.end=st.selection.getLineRange(lt.end.row).end):this.$clickSelection=st.selection.getLineRange(et.row),this.select()},_.prototype.onQuadClick=function($){var et=this.editor;et.selectAll(),this.$clickSelection=et.getSelectionRange(),this.setState("selectAll")},_.prototype.onMouseWheel=function($){if(!$.getAccelKey()){$.getShiftKey()&&$.wheelY&&!$.wheelX&&($.wheelX=$.wheelY,$.wheelY=0);var et=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var st=this.$lastScroll,lt=$.domEvent.timeStamp,ct=lt-st.t,ht=ct?$.wheelX/ct:st.vx,ut=ct?$.wheelY/ct:st.vy;ct<at&&(ht=(ht+st.vx)/2,ut=(ut+st.vy)/2);var mt=Math.abs(ht/ut),gt=!1;if(mt>=1&&et.renderer.isScrollableBy($.wheelX*$.speed,0)&&(gt=!0),mt<=1&&et.renderer.isScrollableBy(0,$.wheelY*$.speed)&&(gt=!0),gt)st.allowed=lt;else if(lt-st.allowed<at){var vt=Math.abs(ht)<=1.5*Math.abs(st.vx)&&Math.abs(ut)<=1.5*Math.abs(st.vy);vt?(gt=!0,st.allowed=lt):st.allowed=0}if(st.t=lt,st.vx=ht,st.vy=ut,gt)return et.renderer.scrollBy($.wheelX*$.speed,$.wheelY*$.speed),$.stop()}},_}();rt.prototype.selectEnd=rt.prototype.selectByLinesEnd,rt.prototype.selectAllEnd=rt.prototype.selectByLinesEnd,rt.prototype.selectByWordsEnd=rt.prototype.selectByLinesEnd,a.DefaultHandlers=rt;function it(_,$,et,st){return Math.sqrt(Math.pow(et-_,2)+Math.pow(st-$,2))}function j(_,$){if(_.start.row==_.end.row)var et=2*$.column-_.start.column-_.end.column;else if(_.start.row==_.end.row-1&&!_.start.column&&!_.end.column)var et=$.column-4;else var et=2*$.row-_.start.row-_.end.row;return et<0?{cursor:_.start,anchor:_.end}:{cursor:_.end,anchor:_.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(o,a,nt){a.preventParentScroll=function(ot){ot.stopPropagation();var at=ot.currentTarget,rt=at.scrollHeight>at.clientHeight;rt||ot.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(o,a,nt){var tt=this&&this.__extends||function(){var lt=function(ct,ht){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ut,mt){ut.__proto__=mt}||function(ut,mt){for(var gt in mt)Object.prototype.hasOwnProperty.call(mt,gt)&&(ut[gt]=mt[gt])},lt(ct,ht)};return function(ct,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Class extends value "+String(ht)+" is not a constructor or null");lt(ct,ht);function ut(){this.constructor=ct}ct.prototype=ht===null?Object.create(ht):(ut.prototype=ht.prototype,new ut)}}(),ot=this&&this.__values||function(lt){var ct=typeof Symbol=="function"&&Symbol.iterator,ht=ct&&lt[ct],ut=0;if(ht)return ht.call(lt);if(lt&&typeof lt.length=="number")return{next:function(){return lt&&ut>=lt.length&&(lt=void 0),{value:lt&&lt[ut++],done:!lt}}};throw new TypeError(ct?"Object is not iterable.":"Symbol.iterator is not defined.")},at=o("./lib/dom");o("./lib/event");var rt=o("./range").Range,it=o("./lib/scroll").preventParentScroll,j="ace_tooltip",_=function(){function lt(ct){this.isOpen=!1,this.$element=null,this.$parentNode=ct}return lt.prototype.$init=function(){return this.$element=at.createElement("div"),this.$element.className=j,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},lt.prototype.getElement=function(){return this.$element||this.$init()},lt.prototype.setText=function(ct){this.getElement().textContent=ct},lt.prototype.setHtml=function(ct){this.getElement().innerHTML=ct},lt.prototype.setPosition=function(ct,ht){this.getElement().style.left=ct+"px",this.getElement().style.top=ht+"px"},lt.prototype.setClassName=function(ct){at.addCssClass(this.getElement(),ct)},lt.prototype.setTheme=function(ct){this.$element.className=j+" "+(ct.isDark?"ace_dark ":"")+(ct.cssClass||"")},lt.prototype.show=function(ct,ht,ut){ct!=null&&this.setText(ct),ht!=null&&ut!=null&&this.setPosition(ht,ut),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},lt.prototype.hide=function(ct){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=j,this.isOpen=!1)},lt.prototype.getHeight=function(){return this.getElement().offsetHeight},lt.prototype.getWidth=function(){return this.getElement().offsetWidth},lt.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},lt}(),$=function(){function lt(){this.popups=[]}return lt.prototype.addPopup=function(ct){this.popups.push(ct),this.updatePopups()},lt.prototype.removePopup=function(ct){var ht=this.popups.indexOf(ct);ht!==-1&&(this.popups.splice(ht,1),this.updatePopups())},lt.prototype.updatePopups=function(){var ct,ht,ut,mt;this.popups.sort(function(Ct,kt){return kt.priority-Ct.priority});var gt=[];try{for(var vt=ot(this.popups),dt=vt.next();!dt.done;dt=vt.next()){var St=dt.value,yt=!0;try{for(var pt=(ut=void 0,ot(gt)),wt=pt.next();!wt.done;wt=pt.next()){var Et=wt.value;if(this.doPopupsOverlap(Et,St)){yt=!1;break}}}catch(Ct){ut={error:Ct}}finally{try{wt&&!wt.done&&(mt=pt.return)&&mt.call(pt)}finally{if(ut)throw ut.error}}yt?gt.push(St):St.hide()}}catch(Ct){ct={error:Ct}}finally{try{dt&&!dt.done&&(ht=vt.return)&&ht.call(vt)}finally{if(ct)throw ct.error}}},lt.prototype.doPopupsOverlap=function(ct,ht){var ut=ct.getElement().getBoundingClientRect(),mt=ht.getElement().getBoundingClientRect();return ut.left<mt.right&&ut.right>mt.left&&ut.top<mt.bottom&&ut.bottom>mt.top},lt}(),et=new $;a.popupManager=et,a.Tooltip=_;var st=function(lt){tt(ct,lt);function ct(ht){ht===void 0&&(ht=document.body);var ut=lt.call(this,ht)||this;ut.timeout=void 0,ut.lastT=0,ut.idleTime=350,ut.lastEvent=void 0,ut.onMouseOut=ut.onMouseOut.bind(ut),ut.onMouseMove=ut.onMouseMove.bind(ut),ut.waitForHover=ut.waitForHover.bind(ut),ut.hide=ut.hide.bind(ut);var mt=ut.getElement();return mt.style.whiteSpace="pre-wrap",mt.style.pointerEvents="auto",mt.addEventListener("mouseout",ut.onMouseOut),mt.tabIndex=-1,mt.addEventListener("blur",(function(){mt.contains(document.activeElement)||this.hide()}).bind(ut)),mt.addEventListener("wheel",it),ut}return ct.prototype.addToEditor=function(ht){ht.on("mousemove",this.onMouseMove),ht.on("mousedown",this.hide),ht.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},ct.prototype.removeFromEditor=function(ht){ht.off("mousemove",this.onMouseMove),ht.off("mousedown",this.hide),ht.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},ct.prototype.onMouseMove=function(ht,ut){this.lastEvent=ht,this.lastT=Date.now();var mt=ut.$mouseHandler.isMousePressed;if(this.isOpen){var gt=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(gt.row,gt.column)||mt||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||mt||(this.lastEvent=ht,this.timeout=setTimeout(this.waitForHover,this.idleTime))},ct.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var ht=Date.now()-this.lastT;if(this.idleTime-ht>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-ht);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},ct.prototype.isOutsideOfText=function(ht){var ut=ht.editor,mt=ht.getDocumentPosition(),gt=ut.session.getLine(mt.row);if(mt.column==gt.length){var vt=ut.renderer.pixelToScreenCoordinates(ht.clientX,ht.clientY),dt=ut.session.documentToScreenPosition(mt.row,mt.column);if(dt.column!=vt.column||dt.row!=vt.row)return!0}return!1},ct.prototype.setDataProvider=function(ht){this.$gatherData=ht},ct.prototype.showForRange=function(ht,ut,mt,gt){var vt=10;if(!(gt&&gt!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var dt=ht.renderer;this.isOpen||(et.addPopup(this),this.$registerCloseEvents(),this.setTheme(dt.theme)),this.isOpen=!0,this.addMarker(ut,ht.session),this.range=rt.fromPoints(ut.start,ut.end);var St=dt.textToScreenCoordinates(ut.start.row,ut.start.column),yt=dt.scroller.getBoundingClientRect();St.pageX<yt.left&&(St.pageX=yt.left);var pt=this.getElement();pt.innerHTML="",pt.appendChild(mt),pt.style.maxHeight="",pt.style.display="block";var wt=pt.clientHeight,Et=pt.clientWidth,Ct=window.innerHeight-St.pageY-dt.lineHeight,kt=!0;St.pageY-wt<0&&St.pageY<Ct&&(kt=!1),pt.style.maxHeight=(kt?St.pageY:Ct)-vt+"px",pt.style.top=kt?"":St.pageY+dt.lineHeight+"px",pt.style.bottom=kt?window.innerHeight-St.pageY+"px":"",pt.style.left=Math.min(St.pageX,window.innerWidth-Et-vt)+"px"}},ct.prototype.addMarker=function(ht,ut){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=ut,this.marker=ut&&ut.addMarker(ht,"ace_highlight-marker","text")},ct.prototype.hide=function(ht){!ht&&document.activeElement==this.getElement()||ht&&ht.target&&(ht.type!="keydown"||ht.ctrlKey||ht.metaKey)&&this.$element.contains(ht.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,et.removePopup(this)))},ct.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},ct.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},ct.prototype.onMouseOut=function(ht){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!ht.relatedTarget||this.getElement().contains(ht.relatedTarget)||ht&&ht.currentTarget.contains(ht.relatedTarget)||ht.relatedTarget.classList.contains("ace_content")||this.hide())},ct}(_);a.HoverTooltip=st}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(o,a,nt){var tt=this&&this.__extends||function(){var et=function(st,lt){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ht){ct.__proto__=ht}||function(ct,ht){for(var ut in ht)Object.prototype.hasOwnProperty.call(ht,ut)&&(ct[ut]=ht[ut])},et(st,lt)};return function(st,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");et(st,lt);function ct(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(ct.prototype=lt.prototype,new ct)}}(),ot=this&&this.__values||function(et){var st=typeof Symbol=="function"&&Symbol.iterator,lt=st&&et[st],ct=0;if(lt)return lt.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&ct>=et.length&&(et=void 0),{value:et&&et[ct++],done:!et}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")},at=o("../lib/dom"),rt=o("../lib/event"),it=o("../tooltip").Tooltip,j=o("../config").nls;function _(et){var st=et.editor,lt=st.renderer.$gutterLayer,ct=new $(st);et.editor.setDefaultHandler("guttermousedown",function(dt){if(!(!st.isFocused()||dt.getButton()!=0)){var St=lt.getRegion(dt);if(St!="foldWidgets"){var yt=dt.getDocumentPosition().row,pt=st.session.selection;if(dt.getShiftKey())pt.selectTo(yt,0);else{if(dt.domEvent.detail==2)return st.selectAll(),dt.preventDefault();et.$clickSelection=st.selection.getLineRange(yt)}return et.setState("selectByLines"),et.captureMouse(dt),dt.preventDefault()}}});var ht,ut;function mt(){var dt=ut.getDocumentPosition().row,St=st.session.getLength();if(dt==St){var yt=st.renderer.pixelToScreenCoordinates(0,ut.y).row,pt=ut.$pos;if(yt>st.session.documentToScreenRow(pt.row,pt.column))return gt()}if(ct.showTooltip(dt),!!ct.isOpen)if(st.on("mousewheel",gt),et.$tooltipFollowsMouse)vt(ut);else{var wt=ut.getGutterRow(),Et=lt.$lines.get(wt);if(Et){var Ct=Et.element.querySelector(".ace_gutter_annotation"),kt=Ct.getBoundingClientRect(),Tt=ct.getElement().style;Tt.left=kt.right+"px",Tt.top=kt.bottom+"px"}else vt(ut)}}function gt(){ht&&(ht=clearTimeout(ht)),ct.isOpen&&(ct.hideTooltip(),st.off("mousewheel",gt))}function vt(dt){ct.setPosition(dt.x,dt.y)}et.editor.setDefaultHandler("guttermousemove",function(dt){var St=dt.domEvent.target||dt.domEvent.srcElement;if(at.hasCssClass(St,"ace_fold-widget"))return gt();ct.isOpen&&et.$tooltipFollowsMouse&&vt(dt),ut=dt,!ht&&(ht=setTimeout(function(){ht=null,ut&&!et.isMousePressed?mt():gt()},50))}),rt.addListener(st.renderer.$gutter,"mouseout",function(dt){ut=null,!(!ct.isOpen||ht)&&(ht=setTimeout(function(){ht=null,gt()},50))},st),st.on("changeSession",gt),st.on("input",gt)}a.GutterHandler=_;var $=function(et){tt(st,et);function st(lt){var ct=et.call(this,lt.container)||this;return ct.editor=lt,ct}return st.prototype.setPosition=function(lt,ct){var ht=window.innerWidth||document.documentElement.clientWidth,ut=window.innerHeight||document.documentElement.clientHeight,mt=this.getWidth(),gt=this.getHeight();lt+=15,ct+=15,lt+mt>ht&&(lt-=lt+mt-ht),ct+gt>ut&&(ct-=20+gt),it.prototype.setPosition.call(this,lt,ct)},Object.defineProperty(st,"annotationLabels",{get:function(){return{error:{singular:j("error"),plural:j("errors")},warning:{singular:j("warning"),plural:j("warnings")},info:{singular:j("information message"),plural:j("information messages")}}},enumerable:!1,configurable:!0}),st.prototype.showTooltip=function(lt){var ct=this.editor.renderer.$gutterLayer,ht=ct.$annotations[lt],ut;ht?ut={text:Array.from(ht.text),type:Array.from(ht.type)}:ut={text:[],type:[]};var mt=ct.session.getFoldLine(lt);if(mt&&ct.$showFoldedAnnotations){for(var gt={error:[],warning:[],info:[]},vt,dt=lt+1;dt<=mt.end.row;dt++)if(ct.$annotations[dt])for(var St=0;St<ct.$annotations[dt].text.length;St++){var yt=ct.$annotations[dt].type[St];if(gt[yt].push(ct.$annotations[dt].text[St]),yt==="error"){vt="error_fold";continue}if(yt==="warning"){vt="warning_fold";continue}}if(vt==="error_fold"||vt==="warning_fold"){var pt="".concat(st.annotationsToSummaryString(gt)," in folded code.");ut.text.push(pt),ut.type.push(vt)}}if(ut.text.length===0)return this.hide();for(var wt={error:[],warning:[],info:[]},Et=ct.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",dt=0;dt<ut.text.length;dt++){var Ct="<span class='ace_".concat(ut.type[dt]," ").concat(Et,"' aria-label='").concat(st.annotationLabels[ut.type[dt].replace("_fold","")].singular,"' role=img> </span> ").concat(ut.text[dt]);wt[ut.type[dt].replace("_fold","")].push(Ct)}var kt=[].concat(wt.error,wt.warning,wt.info).join("<br>");this.setHtml(kt),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},st.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},st.annotationsToSummaryString=function(lt){var ct,ht,ut=[],mt=["error","warning","info"];try{for(var gt=ot(mt),vt=gt.next();!vt.done;vt=gt.next()){var dt=vt.value;if(lt[dt].length){var St=lt[dt].length===1?st.annotationLabels[dt].singular:st.annotationLabels[dt].plural;ut.push("".concat(lt[dt].length," ").concat(St))}}}catch(yt){ct={error:yt}}finally{try{vt&&!vt.done&&(ht=gt.return)&&ht.call(gt)}finally{if(ct)throw ct.error}}return ut.join(", ")},st}(it);a.GutterTooltip=$}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(o,a,nt){var tt=o("../lib/event"),ot=o("../lib/useragent"),at=function(){function rt(it,j){this.speed,this.wheelX,this.wheelY,this.domEvent=it,this.editor=j,this.x=this.clientX=it.clientX,this.y=this.clientY=it.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return rt.prototype.stopPropagation=function(){tt.stopPropagation(this.domEvent),this.propagationStopped=!0},rt.prototype.preventDefault=function(){tt.preventDefault(this.domEvent),this.defaultPrevented=!0},rt.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},rt.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},rt.prototype.getGutterRow=function(){var it=this.getDocumentPosition().row,j=this.editor.session.documentToScreenRow(it,0),_=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return j-_},rt.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var it=this.editor,j=it.getSelectionRange();if(j.isEmpty())this.$inSelection=!1;else{var _=this.getDocumentPosition();this.$inSelection=j.contains(_.row,_.column)}return this.$inSelection},rt.prototype.getButton=function(){return tt.getButton(this.domEvent)},rt.prototype.getShiftKey=function(){return this.domEvent.shiftKey},rt.prototype.getAccelKey=function(){return ot.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},rt}();a.MouseEvent=at}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(o,a,nt){var tt=o("../lib/dom"),ot=o("../lib/event"),at=o("../lib/useragent"),rt=200,it=200,j=5;function _(et){var st=et.editor,lt=tt.createElement("div");lt.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",lt.textContent="";var ct=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ct.forEach(function(Vt){et[Vt]=this[Vt]},this),st.on("mousedown",this.onMouseDown.bind(et));var ht=st.container,ut,mt,gt,vt,dt,St,yt=0,pt,wt,Et,Ct,kt;this.onDragStart=function(Vt){if(this.cancelDrag||!ht.draggable){var Ht=this;return setTimeout(function(){Ht.startSelect(),Ht.captureMouse(Vt)},0),Vt.preventDefault()}dt=st.getSelectionRange();var Jt=Vt.dataTransfer;Jt.effectAllowed=st.getReadOnly()?"copy":"copyMove",st.container.appendChild(lt),Jt.setDragImage&&Jt.setDragImage(lt,0,0),setTimeout(function(){st.container.removeChild(lt)}),Jt.clearData(),Jt.setData("Text",st.session.getTextRange()),wt=!0,this.setState("drag")},this.onDragEnd=function(Vt){if(ht.draggable=!1,wt=!1,this.setState(null),!st.getReadOnly()){var Ht=Vt.dataTransfer.dropEffect;!pt&&Ht=="move"&&st.session.remove(st.getSelectionRange()),st.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Vt){if(!(st.getReadOnly()||!qt(Vt.dataTransfer)))return mt=Vt.clientX,gt=Vt.clientY,ut||Ot(),yt++,Vt.dataTransfer.dropEffect=pt=Wt(Vt),ot.preventDefault(Vt)},this.onDragOver=function(Vt){if(!(st.getReadOnly()||!qt(Vt.dataTransfer)))return mt=Vt.clientX,gt=Vt.clientY,ut||(Ot(),yt++),Dt!==null&&(Dt=null),Vt.dataTransfer.dropEffect=pt=Wt(Vt),ot.preventDefault(Vt)},this.onDragLeave=function(Vt){if(yt--,yt<=0&&ut)return Mt(),pt=null,ot.preventDefault(Vt)},this.onDrop=function(Vt){if(St){var Ht=Vt.dataTransfer;if(wt)switch(pt){case"move":dt.contains(St.row,St.column)?dt={start:St,end:St}:dt=st.moveText(dt,St);break;case"copy":dt=st.moveText(dt,St,!0);break}else{var Jt=Ht.getData("Text");dt={start:St,end:st.session.insert(St,Jt)},st.focus(),pt=null}return Mt(),ot.preventDefault(Vt)}},ot.addListener(ht,"dragstart",this.onDragStart.bind(et),st),ot.addListener(ht,"dragend",this.onDragEnd.bind(et),st),ot.addListener(ht,"dragenter",this.onDragEnter.bind(et),st),ot.addListener(ht,"dragover",this.onDragOver.bind(et),st),ot.addListener(ht,"dragleave",this.onDragLeave.bind(et),st),ot.addListener(ht,"drop",this.onDrop.bind(et),st);function Tt(Vt,Ht){var Jt=Date.now(),Qt=!Ht||Vt.row!=Ht.row,cr=!Ht||Vt.column!=Ht.column;if(!Ct||Qt||cr)st.moveCursorToPosition(Vt),Ct=Jt,kt={x:mt,y:gt};else{var hr=$(kt.x,kt.y,mt,gt);hr>j?Ct=null:Jt-Ct>=it&&(st.renderer.scrollCursorIntoView(),Ct=null)}}function At(Vt,Ht){var Jt=Date.now(),Qt=st.renderer.layerConfig.lineHeight,cr=st.renderer.layerConfig.characterWidth,hr=st.renderer.scroller.getBoundingClientRect(),dr={x:{left:mt-hr.left,right:hr.right-mt},y:{top:gt-hr.top,bottom:hr.bottom-gt}},gr=Math.min(dr.x.left,dr.x.right),tr=Math.min(dr.y.top,dr.y.bottom),rr={row:Vt.row,column:Vt.column};gr/cr<=2&&(rr.column+=dr.x.left<dr.x.right?-3:2),tr/Qt<=1&&(rr.row+=dr.y.top<dr.y.bottom?-1:1);var Yt=Vt.row!=rr.row,br=Vt.column!=rr.column,_r=!Ht||Vt.row!=Ht.row;Yt||br&&!_r?Et?Jt-Et>=rt&&st.renderer.scrollCursorIntoView(rr):Et=Jt:Et=null}function It(){var Vt=St;St=st.renderer.screenToTextCoordinates(mt,gt),Tt(St,Vt),At(St,Vt)}function Ot(){dt=st.selection.toOrientedRange(),ut=st.session.addMarker(dt,"ace_selection",st.getSelectionStyle()),st.clearSelection(),st.isFocused()&&st.renderer.$cursorLayer.setBlinking(!1),clearInterval(vt),It(),vt=setInterval(It,20),yt=0,ot.addListener(document,"mousemove",Bt)}function Mt(){clearInterval(vt),st.session.removeMarker(ut),ut=null,st.selection.fromOrientedRange(dt),st.isFocused()&&!wt&&st.$resetCursorStyle(),dt=null,St=null,yt=0,Et=null,Ct=null,ot.removeListener(document,"mousemove",Bt)}var Dt=null;function Bt(){Dt==null&&(Dt=setTimeout(function(){Dt!=null&&ut&&Mt()},20))}function qt(Vt){var Ht=Vt.types;return!Ht||Array.prototype.some.call(Ht,function(Jt){return Jt=="text/plain"||Jt=="Text"})}function Wt(Vt){var Ht=["copy","copymove","all","uninitialized"],Jt=["move","copymove","linkmove","all","uninitialized"],Qt=at.isMac?Vt.altKey:Vt.ctrlKey,cr="uninitialized";try{cr=Vt.dataTransfer.effectAllowed.toLowerCase()}catch{}var hr="none";return Qt&&Ht.indexOf(cr)>=0?hr="copy":Jt.indexOf(cr)>=0?hr="move":Ht.indexOf(cr)>=0&&(hr="copy"),hr}}(function(){this.dragWait=function(){var et=Date.now()-this.mousedownEvent.time;et>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var et=this.editor.container;et.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(et){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var et=this.editor,st=et.container;st.draggable=!0,et.renderer.$cursorLayer.setBlinking(!1),et.setStyle("ace_dragging");var lt=at.isWin?"default":"move";et.renderer.setCursorStyle(lt),this.setState("dragReady")},this.onMouseDrag=function(et){var st=this.editor.container;if(at.isIE&&this.state=="dragReady"){var lt=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);lt>3&&st.dragDrop()}if(this.state==="dragWait"){var lt=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);lt>0&&(st.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(et){if(this.$dragEnabled){this.mousedownEvent=et;var st=this.editor,lt=et.inSelection(),ct=et.getButton(),ht=et.domEvent.detail||1;if(ht===1&&ct===0&&lt){if(et.editor.inMultiSelectMode&&(et.getAccelKey()||et.getShiftKey()))return;this.mousedownEvent.time=Date.now();var ut=et.domEvent.target||et.domEvent.srcElement;if("unselectable"in ut&&(ut.unselectable="on"),st.getDragDelay()){if(at.isWebKit){this.cancelDrag=!0;var mt=st.container;mt.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(et,this.onMouseDrag.bind(this)),et.defaultPrevented=!0}}}}).call(_.prototype);function $(et,st,lt,ct){return Math.sqrt(Math.pow(lt-et,2)+Math.pow(ct-st,2))}a.DragdropHandler=_}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(o,a,nt){var tt=o("./mouse_event").MouseEvent,ot=o("../lib/event"),at=o("../lib/dom");a.addTouchListeners=function(rt,it){var j="scroll",_,$,et,st,lt,ct,ht=0,ut,mt=0,gt=0,vt=0,dt,St;function yt(){var Tt=window.navigator&&window.navigator.clipboard,At=!1,It=function(){var Mt=it.getCopyText(),Dt=it.session.getUndoManager().hasUndo();St.replaceChild(at.buildDom(At?["span",!Mt&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Mt&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Mt&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],Tt&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Dt&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),St.firstChild)},Ot=function(Mt){var Dt=Mt.target.getAttribute("action");if(Dt=="more"||!At)return At=!At,It();Dt=="paste"?Tt.readText().then(function(Bt){it.execCommand(Dt,Bt)}):Dt&&((Dt=="cut"||Dt=="copy")&&(Tt?Tt.writeText(it.getCopyText()):document.execCommand("copy")),it.execCommand(Dt)),St.firstChild.style.display="none",At=!1,Dt!="openCommandPalette"&&it.focus()};St=at.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Mt){j="menu",Mt.stopPropagation(),Mt.preventDefault(),it.textInput.focus()},ontouchend:function(Mt){Mt.stopPropagation(),Mt.preventDefault(),Ot(Mt)},onclick:Ot},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],it.container)}function pt(){St||yt();var Tt=it.selection.cursor,At=it.renderer.textToScreenCoordinates(Tt.row,Tt.column),It=it.renderer.textToScreenCoordinates(0,0).pageX,Ot=it.renderer.scrollLeft,Mt=it.container.getBoundingClientRect();St.style.top=At.pageY-Mt.top-3+"px",At.pageX-Mt.left<Mt.width-70?(St.style.left="",St.style.right="10px"):(St.style.right="",St.style.left=It+Ot-Mt.left+"px"),St.style.display="",St.firstChild.style.display="none",it.on("input",wt)}function wt(Tt){St&&(St.style.display="none"),it.off("input",wt)}function Et(){lt=null,clearTimeout(lt);var Tt=it.selection.getRange(),At=Tt.contains(ut.row,ut.column);(Tt.isEmpty()||!At)&&(it.selection.moveToPosition(ut),it.selection.selectWord()),j="wait",pt()}function Ct(){lt=null,clearTimeout(lt),it.selection.moveToPosition(ut);var Tt=mt>=2?it.selection.getLineRange(ut.row):it.session.getBracketRange(ut);Tt&&!Tt.isEmpty()?it.selection.setRange(Tt):it.selection.selectWord(),j="wait"}ot.addListener(rt,"contextmenu",function(Tt){if(dt){var At=it.textInput.getElement();At.focus()}},it),ot.addListener(rt,"touchstart",function(Tt){var At=Tt.touches;if(lt||At.length>1){clearTimeout(lt),lt=null,et=-1,j="zoom";return}dt=it.$mouseHandler.isMousePressed=!0;var It=it.renderer.layerConfig.lineHeight,Ot=it.renderer.layerConfig.lineHeight,Mt=Tt.timeStamp;st=Mt;var Dt=At[0],Bt=Dt.clientX,qt=Dt.clientY;Math.abs(_-Bt)+Math.abs($-qt)>It&&(et=-1),_=Tt.clientX=Bt,$=Tt.clientY=qt,gt=vt=0;var Wt=new tt(Tt,it);if(ut=Wt.getDocumentPosition(),Mt-et<500&&At.length==1&&!ht)mt++,Tt.preventDefault(),Tt.button=0,Ct();else{mt=0;var Vt=it.selection.cursor,Ht=it.selection.isEmpty()?Vt:it.selection.anchor,Jt=it.renderer.$cursorLayer.getPixelPosition(Vt,!0),Qt=it.renderer.$cursorLayer.getPixelPosition(Ht,!0),cr=it.renderer.scroller.getBoundingClientRect(),hr=it.renderer.layerConfig.offset,dr=it.renderer.scrollLeft,gr=function(Yt,br){return Yt=Yt/Ot,br=br/It-.75,Yt*Yt+br*br};if(Tt.clientX<cr.left){j="zoom";return}var tr=gr(Tt.clientX-cr.left-Jt.left+dr,Tt.clientY-cr.top-Jt.top+hr),rr=gr(Tt.clientX-cr.left-Qt.left+dr,Tt.clientY-cr.top-Qt.top+hr);tr<3.5&&rr<3.5&&(j=tr>rr?"cursor":"anchor"),rr<3.5?j="anchor":tr<3.5?j="cursor":j="scroll",lt=setTimeout(Et,450)}et=Mt},it),ot.addListener(rt,"touchend",function(Tt){dt=it.$mouseHandler.isMousePressed=!1,ct&&clearInterval(ct),j=="zoom"?(j="",ht=0):lt?(it.selection.moveToPosition(ut),ht=0,pt()):j=="scroll"?(kt(),wt()):pt(),clearTimeout(lt),lt=null},it),ot.addListener(rt,"touchmove",function(Tt){lt&&(clearTimeout(lt),lt=null);var At=Tt.touches;if(!(At.length>1||j=="zoom")){var It=At[0],Ot=_-It.clientX,Mt=$-It.clientY;if(j=="wait")if(Ot*Ot+Mt*Mt>4)j="cursor";else return Tt.preventDefault();_=It.clientX,$=It.clientY,Tt.clientX=It.clientX,Tt.clientY=It.clientY;var Dt=Tt.timeStamp,Bt=Dt-st;if(st=Dt,j=="scroll"){var qt=new tt(Tt,it);qt.speed=1,qt.wheelX=Ot,qt.wheelY=Mt,10*Math.abs(Ot)<Math.abs(Mt)&&(Ot=0),10*Math.abs(Mt)<Math.abs(Ot)&&(Mt=0),Bt!=0&&(gt=Ot/Bt,vt=Mt/Bt),it._emit("mousewheel",qt),qt.propagationStopped||(gt=vt=0)}else{var Wt=new tt(Tt,it),Vt=Wt.getDocumentPosition();j=="cursor"?it.selection.moveCursorToPosition(Vt):j=="anchor"&&it.selection.setSelectionAnchor(Vt.row,Vt.column),it.renderer.scrollCursorIntoView(Vt),Tt.preventDefault()}}},it);function kt(){ht+=60,ct=setInterval(function(){ht--<=0&&(clearInterval(ct),ct=null),Math.abs(gt)<.01&&(gt=0),Math.abs(vt)<.01&&(vt=0),ht<20&&(gt=.9*gt),ht<20&&(vt=.9*vt);var Tt=it.session.getScrollTop();it.renderer.scrollBy(10*gt,10*vt),Tt==it.session.getScrollTop()&&(ht=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(o,a,nt){var tt=o("../lib/event"),ot=o("../lib/useragent"),at=o("./default_handlers").DefaultHandlers,rt=o("./default_gutter_handler").GutterHandler,it=o("./mouse_event").MouseEvent,j=o("./dragdrop_handler").DragdropHandler,_=o("./touch_handler").addTouchListeners,$=o("../config"),et=function(){function st(lt){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var ct=this;this.editor=lt,new at(this),new rt(this),new j(this);var ht=function(gt){var vt=!document.hasFocus||!document.hasFocus()||!lt.isFocused()&&document.activeElement==(lt.textInput&&lt.textInput.getElement());vt&&window.focus(),lt.focus(),setTimeout(function(){lt.isFocused()||lt.focus()})},ut=lt.renderer.getMouseEventTarget();tt.addListener(ut,"click",this.onMouseEvent.bind(this,"click"),lt),tt.addListener(ut,"mousemove",this.onMouseMove.bind(this,"mousemove"),lt),tt.addMultiMouseDownListener([ut,lt.renderer.scrollBarV&&lt.renderer.scrollBarV.inner,lt.renderer.scrollBarH&&lt.renderer.scrollBarH.inner,lt.textInput&&lt.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",lt),tt.addMouseWheelListener(lt.container,this.onMouseWheel.bind(this,"mousewheel"),lt),_(lt.container,lt);var mt=lt.renderer.$gutter;tt.addListener(mt,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),lt),tt.addListener(mt,"click",this.onMouseEvent.bind(this,"gutterclick"),lt),tt.addListener(mt,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),lt),tt.addListener(mt,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),lt),tt.addListener(ut,"mousedown",ht,lt),tt.addListener(mt,"mousedown",ht,lt),ot.isIE&&lt.renderer.scrollBarV&&(tt.addListener(lt.renderer.scrollBarV.element,"mousedown",ht,lt),tt.addListener(lt.renderer.scrollBarH.element,"mousedown",ht,lt)),lt.on("mousemove",function(gt){if(!(ct.state||ct.$dragDelay||!ct.$dragEnabled)){var vt=lt.renderer.screenToTextCoordinates(gt.x,gt.y),dt=lt.session.selection.getRange(),St=lt.renderer;!dt.isEmpty()&&dt.insideStart(vt.row,vt.column)?St.setCursorStyle("default"):St.setCursorStyle("")}},lt)}return st.prototype.onMouseEvent=function(lt,ct){this.editor.session&&this.editor._emit(lt,new it(ct,this.editor))},st.prototype.onMouseMove=function(lt,ct){var ht=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!ht||!ht.length||this.editor._emit(lt,new it(ct,this.editor))},st.prototype.onMouseWheel=function(lt,ct){var ht=new it(ct,this.editor);ht.speed=this.$scrollSpeed*2,ht.wheelX=ct.wheelX,ht.wheelY=ct.wheelY,this.editor._emit(lt,ht)},st.prototype.setState=function(lt){this.state=lt},st.prototype.captureMouse=function(lt,ct){this.x=lt.x,this.y=lt.y,this.isMousePressed=!0;var ht=this.editor,ut=this.editor.renderer;ut.$isMousePressed=!0;var mt=this,gt=function(pt){if(pt){if(ot.isWebKit&&!pt.which&&mt.releaseMouse)return mt.releaseMouse();mt.x=pt.clientX,mt.y=pt.clientY,ct&&ct(pt),mt.mouseEvent=new it(pt,mt.editor),mt.$mouseMoved=!0}},vt=function(pt){ht.off("beforeEndOperation",St),clearInterval(yt),ht.session&&dt(),mt[mt.state+"End"]&&mt[mt.state+"End"](pt),mt.state="",mt.isMousePressed=ut.$isMousePressed=!1,ut.$keepTextAreaAtCursor&&ut.$moveTextAreaToCursor(),mt.$onCaptureMouseMove=mt.releaseMouse=null,pt&&mt.onMouseEvent("mouseup",pt),ht.endOperation()},dt=function(){mt[mt.state]&&mt[mt.state](),mt.$mouseMoved=!1};if(ot.isOldIE&&lt.domEvent.type=="dblclick")return setTimeout(function(){vt(lt)});var St=function(pt){mt.releaseMouse&&ht.curOp.command.name&&ht.curOp.selectionChanged&&(mt[mt.state+"End"]&&mt[mt.state+"End"](),mt.state="",mt.releaseMouse())};ht.on("beforeEndOperation",St),ht.startOperation({command:{name:"mouse"}}),mt.$onCaptureMouseMove=gt,mt.releaseMouse=tt.capture(this.editor.container,gt,vt);var yt=setInterval(dt,20)},st.prototype.cancelContextMenu=function(){var lt=(function(ct){ct&&ct.domEvent&&ct.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",lt),ct&&ct.domEvent&&tt.stopEvent(ct.domEvent))}).bind(this);setTimeout(lt,10),this.editor.on("nativecontextmenu",lt)},st.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},st}();et.prototype.releaseMouse=null,$.defineOptions(et.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:ot.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),a.MouseHandler=et}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(o,a,nt){var tt=o("../lib/dom"),ot=function(){function at(rt){rt.on("click",function(it){var j=it.getDocumentPosition(),_=rt.session,$=_.getFoldAt(j.row,j.column,1);$&&(it.getAccelKey()?_.removeFold($):_.expandFold($),it.stop());var et=it.domEvent&&it.domEvent.target;et&&tt.hasCssClass(et,"ace_inline_button")&&tt.hasCssClass(et,"ace_toggle_wrap")&&(_.setOption("wrap",!_.getUseWrapMode()),rt.renderer.scrollCursorIntoView())}),rt.on("gutterclick",function(it){var j=rt.renderer.$gutterLayer.getRegion(it);if(j=="foldWidgets"){var _=it.getDocumentPosition().row,$=rt.session;$.foldWidgets&&$.foldWidgets[_]&&rt.session.onFoldWidgetClick(_,it),rt.isFocused()||rt.focus(),it.stop()}}),rt.on("gutterdblclick",function(it){var j=rt.renderer.$gutterLayer.getRegion(it);if(j=="foldWidgets"){var _=it.getDocumentPosition().row,$=rt.session,et=$.getParentFoldRangeData(_,!0),st=et.range||et.firstRange;if(st){_=st.start.row;var lt=$.getFoldAt(_,$.getLine(_).length,1);lt?$.removeFold(lt):($.addFold("...",st),rt.renderer.scrollCursorIntoView({row:st.start.row,column:0}))}it.stop()}})}return at}();a.FoldHandler=ot}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(o,a,nt){var tt=o("../lib/keys"),ot=o("../lib/event"),at=function(){function rt(it){this.$editor=it,this.$data={editor:it},this.$handlers=[],this.setDefaultHandler(it.commands)}return rt.prototype.setDefaultHandler=function(it){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=it,this.addKeyboardHandler(it,0)},rt.prototype.setKeyboardHandler=function(it){var j=this.$handlers;if(j[j.length-1]!=it){for(;j[j.length-1]&&j[j.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(j[j.length-1]);this.addKeyboardHandler(it,1)}},rt.prototype.addKeyboardHandler=function(it,j){if(it){typeof it=="function"&&!it.handleKeyboard&&(it.handleKeyboard=it);var _=this.$handlers.indexOf(it);_!=-1&&this.$handlers.splice(_,1),j==null?this.$handlers.push(it):this.$handlers.splice(j,0,it),_==-1&&it.attach&&it.attach(this.$editor)}},rt.prototype.removeKeyboardHandler=function(it){var j=this.$handlers.indexOf(it);return j==-1?!1:(this.$handlers.splice(j,1),it.detach&&it.detach(this.$editor),!0)},rt.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},rt.prototype.getStatusText=function(){var it=this.$data,j=it.editor;return this.$handlers.map(function(_){return _.getStatusText&&_.getStatusText(j,it)||""}).filter(Boolean).join(" ")},rt.prototype.$callKeyboardHandlers=function(it,j,_,$){for(var et,st=!1,lt=this.$editor.commands,ct=this.$handlers.length;ct--&&(et=this.$handlers[ct].handleKeyboard(this.$data,it,j,_,$),!(!(!et||!et.command)&&(et.command=="null"?st=!0:st=lt.exec(et.command,this.$editor,et.args,$),st&&$&&it!=-1&&et.passEvent!=!0&&et.command.passEvent!=!0&&ot.stopEvent($),st))););return!st&&it==-1&&(et={command:"insertstring"},st=lt.exec("insertstring",this.$editor,j)),st&&this.$editor._signal&&this.$editor._signal("keyboardActivity",et),st},rt.prototype.onCommandKey=function(it,j,_){var $=tt.keyCodeToString(_);return this.$callKeyboardHandlers(j,$,_,it)},rt.prototype.onTextInput=function(it){return this.$callKeyboardHandlers(-1,it)},rt}();a.KeyBinding=at}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(o,a,nt){var tt=0,ot=0,at=!1,rt=!1,it=!1,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],$=0,et=1,st=0,lt=1,ct=2,ht=3,ut=4,mt=5,gt=6,vt=7,dt=8,St=9,yt=10,pt=11,wt=12,Et=13,Ct=14,kt=15,Tt=16,At=17,It=18,Ot=[It,It,It,It,It,It,It,It,It,gt,mt,gt,dt,mt,It,It,It,It,It,It,It,It,It,It,It,It,It,It,mt,mt,mt,gt,dt,ut,ut,pt,pt,pt,ut,ut,ut,ut,ut,yt,St,yt,St,St,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,St,ut,ut,ut,ut,ut,ut,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,ut,ut,ut,ut,ut,ut,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,ut,ut,ut,ut,It,It,It,It,It,It,mt,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,St,ut,pt,pt,pt,pt,ut,ut,ut,ut,st,ut,ut,It,ut,ut,pt,pt,ct,ct,ut,st,ut,ut,ut,ct,st,ut,ut,ut,ut,ut],Mt=[dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,It,It,It,st,lt,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,dt,mt,Et,Ct,kt,Tt,At,St,pt,pt,pt,pt,pt,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,St,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,dt];function Dt(Vt,Ht,Jt,Qt){var cr=tt?_:j,hr=null,dr=null,gr=null,tr=0,rr=null,Yt=null,br=-1,_r=null,fr=null,Wr=[];if(!Qt)for(_r=0,Qt=[];_r<Jt;_r++)Qt[_r]=Wt(Vt[_r]);for(ot=tt,at=!1,rt=!1,it=!1,fr=0;fr<Jt;fr++){if(hr=tr,Wr[fr]=dr=qt(Vt,Qt,Wr,fr),tr=cr[hr][dr],rr=tr&240,tr&=15,Ht[fr]=gr=cr[tr][5],rr>0)if(rr==16){for(_r=br;_r<fr;_r++)Ht[_r]=1;br=-1}else br=-1;if(Yt=cr[tr][6],Yt)br==-1&&(br=fr);else if(br>-1){for(_r=br;_r<fr;_r++)Ht[_r]=gr;br=-1}Qt[fr]==mt&&(Ht[fr]=0),ot|=gr}if(it){for(_r=0;_r<Jt;_r++)if(Qt[_r]==gt){Ht[_r]=tt;for(var nn=_r-1;nn>=0&&Qt[nn]==dt;nn--)Ht[nn]=tt}}}function Bt(Vt,Ht,Jt){if(!(ot<Vt)){if(Vt==1&&tt==et&&!rt){Jt.reverse();return}for(var Qt=Jt.length,cr=0,hr,dr,gr,tr;cr<Qt;){if(Ht[cr]>=Vt){for(hr=cr+1;hr<Qt&&Ht[hr]>=Vt;)hr++;for(dr=cr,gr=hr-1;dr<gr;dr++,gr--)tr=Jt[dr],Jt[dr]=Jt[gr],Jt[gr]=tr;cr=hr}cr++}}}function qt(Vt,Ht,Jt,Qt){var cr=Ht[Qt],hr,dr,gr,tr;switch(cr){case st:case lt:at=!1;case ut:case ht:return cr;case ct:return at?ht:ct;case vt:return at=!0,lt;case dt:return ut;case St:return Qt<1||Qt+1>=Ht.length||(hr=Jt[Qt-1])!=ct&&hr!=ht||(dr=Ht[Qt+1])!=ct&&dr!=ht?ut:(at&&(dr=ht),dr==hr?dr:ut);case yt:return hr=Qt>0?Jt[Qt-1]:mt,hr==ct&&Qt+1<Ht.length&&Ht[Qt+1]==ct?ct:ut;case pt:if(Qt>0&&Jt[Qt-1]==ct)return ct;if(at)return ut;for(tr=Qt+1,gr=Ht.length;tr<gr&&Ht[tr]==pt;)tr++;return tr<gr&&Ht[tr]==ct?ct:ut;case wt:for(gr=Ht.length,tr=Qt+1;tr<gr&&Ht[tr]==wt;)tr++;if(tr<gr){var rr=Vt[Qt],Yt=rr>=1425&&rr<=2303||rr==64286;if(hr=Ht[tr],Yt&&(hr==lt||hr==vt))return lt}return Qt<1||(hr=Ht[Qt-1])==mt?ut:Jt[Qt-1];case mt:return at=!1,rt=!0,tt;case gt:return it=!0,ut;case Et:case Ct:case Tt:case At:case kt:at=!1;case It:return ut}}function Wt(Vt){var Ht=Vt.charCodeAt(0),Jt=Ht>>8;return Jt==0?Ht>191?st:Ot[Ht]:Jt==5?/[\u0591-\u05f4]/.test(Vt)?lt:st:Jt==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Vt)?wt:/[\u0660-\u0669\u066b-\u066c]/.test(Vt)?ht:Ht==1642?pt:/[\u06f0-\u06f9]/.test(Vt)?ct:vt:Jt==32&&Ht<=8287?Mt[Ht&255]:Jt==254&&Ht>=65136?vt:ut}a.L=st,a.R=lt,a.EN=ct,a.ON_R=3,a.AN=4,a.R_H=5,a.B=6,a.RLE=7,a.DOT="",a.doBidiReorder=function(Vt,Ht,Jt){if(Vt.length<2)return{};var Qt=Vt.split(""),cr=new Array(Qt.length),hr=new Array(Qt.length),dr=[];tt=Jt?et:$,Dt(Qt,dr,Qt.length,Ht);for(var gr=0;gr<cr.length;cr[gr]=gr,gr++);Bt(2,dr,cr),Bt(1,dr,cr);for(var gr=0;gr<cr.length-1;gr++)Ht[gr]===ht?dr[gr]=a.AN:dr[gr]===lt&&(Ht[gr]>vt&&Ht[gr]<Et||Ht[gr]===ut||Ht[gr]===It)?dr[gr]=a.ON_R:gr>0&&Qt[gr-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(Qt[gr])&&(dr[gr-1]=dr[gr]=a.R_H,gr++);Qt[Qt.length-1]===a.DOT&&(dr[Qt.length-1]=a.B),Qt[0]===""&&(dr[0]=a.RLE);for(var gr=0;gr<cr.length;gr++)hr[gr]=dr[cr[gr]];return{logicalFromVisual:cr,bidiLevels:hr}},a.hasBidiCharacters=function(Vt,Ht){for(var Jt=!1,Qt=0;Qt<Vt.length;Qt++)Ht[Qt]=Wt(Vt.charAt(Qt)),!Jt&&(Ht[Qt]==lt||Ht[Qt]==vt||Ht[Qt]==ht)&&(Jt=!0);return Jt},a.getVisualFromLogicalIdx=function(Vt,Ht){for(var Jt=0;Jt<Ht.logicalFromVisual.length;Jt++)if(Ht.logicalFromVisual[Jt]==Vt)return Jt;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(o,a,nt){var tt=o("./lib/bidiutil"),ot=o("./lib/lang"),at=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,rt=function(){function it(j){this.session=j,this.bidiMap={},this.currentRow=null,this.bidiUtil=tt,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=at.test(j.getValue())}return it.prototype.isBidiRow=function(j,_,$){return this.seenBidi?(j!==this.currentRow&&(this.currentRow=j,this.updateRowLine(_,$),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},it.prototype.onChange=function(j){this.seenBidi?this.currentRow=null:j.action=="insert"&&at.test(j.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},it.prototype.getDocumentRow=function(){var j=0,_=this.session.$screenRowCache;if(_.length){var $=this.session.$getRowCacheIndex(_,this.currentRow);$>=0&&(j=this.session.$docRowCache[$])}return j},it.prototype.getSplitIndex=function(){var j=0,_=this.session.$screenRowCache;if(_.length)for(var $,et=this.session.$getRowCacheIndex(_,this.currentRow);this.currentRow-j>0&&($=this.session.$getRowCacheIndex(_,this.currentRow-j-1),$===et);)et=$,j++;else j=this.currentRow;return j},it.prototype.updateRowLine=function(j,_){j===void 0&&(j=this.getDocumentRow());var $=j===this.session.getLength()-1,et=$?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(j),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var st=this.session.$wrapData[j];st&&(_===void 0&&(_=this.getSplitIndex()),_>0&&st.length?(this.wrapIndent=st.indent,this.wrapOffset=this.wrapIndent*this.charWidths[tt.L],this.line=_<st.length?this.line.substring(st[_-1],st[_]):this.line.substring(st[st.length-1])):this.line=this.line.substring(0,st[_]),_==st.length&&(this.line+=this.showInvisibles?et:tt.DOT))}else this.line+=this.showInvisibles?et:tt.DOT;var lt=this.session,ct=0,ht;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(ut,mt){return ut==="	"||lt.isFullWidth(ut.charCodeAt(0))?(ht=ut==="	"?lt.getScreenTabSize(mt+ct):2,ct+=ht-1,ot.stringRepeat(tt.DOT,ht)):ut}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==tt.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},it.prototype.updateBidiMap=function(){var j=[];tt.hasBidiCharacters(this.line,j)||this.isRtlDir?this.bidiMap=tt.doBidiReorder(this.line,j,this.isRtlDir):this.bidiMap={}},it.prototype.markAsDirty=function(){this.currentRow=null},it.prototype.updateCharacterWidths=function(j){if(this.characterWidth!==j.$characterSize.width){this.fontMetrics=j;var _=this.characterWidth=j.$characterSize.width,$=j.$measureCharWidth("");this.charWidths[tt.L]=this.charWidths[tt.EN]=this.charWidths[tt.ON_R]=_,this.charWidths[tt.R]=this.charWidths[tt.AN]=$,this.charWidths[tt.R_H]=$*.45,this.charWidths[tt.B]=this.charWidths[tt.RLE]=0,this.currentRow=null}},it.prototype.setShowInvisibles=function(j){this.showInvisibles=j,this.currentRow=null},it.prototype.setEolChar=function(j){this.EOL=j},it.prototype.setContentWidth=function(j){this.contentWidth=j},it.prototype.isRtlLine=function(j){return this.$isRtl?!0:j!=null?this.session.getLine(j).charAt(0)==this.RLE:this.isRtlDir},it.prototype.setRtlDirection=function(j,_){for(var $=j.getCursorPosition(),et=j.selection.getSelectionAnchor().row;et<=$.row;et++)!_&&j.session.getLine(et).charAt(0)===j.session.$bidiHandler.RLE?j.session.doc.removeInLine(et,0,1):_&&j.session.getLine(et).charAt(0)!==j.session.$bidiHandler.RLE&&j.session.doc.insert({column:0,row:et},j.session.$bidiHandler.RLE)},it.prototype.getPosLeft=function(j){j-=this.wrapIndent;var _=this.line.charAt(0)===this.RLE?1:0,$=j>_?this.session.getOverwrite()?j:j-1:_,et=tt.getVisualFromLogicalIdx($,this.bidiMap),st=this.bidiMap.bidiLevels,lt=0;!this.session.getOverwrite()&&j<=_&&st[et]%2!==0&&et++;for(var ct=0;ct<et;ct++)lt+=this.charWidths[st[ct]];return!this.session.getOverwrite()&&j>_&&st[et]%2===0&&(lt+=this.charWidths[st[et]]),this.wrapIndent&&(lt+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(lt+=this.rtlLineOffset),lt},it.prototype.getSelections=function(j,_){var $=this.bidiMap,et=$.bidiLevels,st,lt=[],ct=0,ht=Math.min(j,_)-this.wrapIndent,ut=Math.max(j,_)-this.wrapIndent,mt=!1,gt=!1,vt=0;this.wrapIndent&&(ct+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var dt,St=0;St<et.length;St++)dt=$.logicalFromVisual[St],st=et[St],mt=dt>=ht&&dt<ut,mt&&!gt?vt=ct:!mt&&gt&&lt.push({left:vt,width:ct-vt}),ct+=this.charWidths[st],gt=mt;if(mt&&St===et.length&&lt.push({left:vt,width:ct-vt}),this.isRtlDir)for(var yt=0;yt<lt.length;yt++)lt[yt].left+=this.rtlLineOffset;return lt},it.prototype.offsetToCol=function($){this.isRtlDir&&($-=this.rtlLineOffset);var _=0,$=Math.max($,0),et=0,st=0,lt=this.bidiMap.bidiLevels,ct=this.charWidths[lt[st]];for(this.wrapIndent&&($-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);$>et+ct/2;){if(et+=ct,st===lt.length-1){ct=0;break}ct=this.charWidths[lt[++st]]}return st>0&&lt[st-1]%2!==0&&lt[st]%2===0?($<et&&st--,_=this.bidiMap.logicalFromVisual[st]):st>0&&lt[st-1]%2===0&&lt[st]%2!==0?_=1+($>et?this.bidiMap.logicalFromVisual[st]:this.bidiMap.logicalFromVisual[st-1]):this.isRtlDir&&st===lt.length-1&&ct===0&&lt[st-1]%2===0||!this.isRtlDir&&st===0&&lt[st]%2!==0?_=1+this.bidiMap.logicalFromVisual[st]:(st>0&&lt[st-1]%2!==0&&ct!==0&&st--,_=this.bidiMap.logicalFromVisual[st]),_===0&&this.isRtlDir&&_++,_+this.wrapIndent},it}();a.BidiHandler=rt}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(o,a,nt){var tt=o("./lib/oop"),ot=o("./lib/lang"),at=o("./lib/event_emitter").EventEmitter,rt=o("./range").Range,it=function(){function j(_){this.session=_,this.doc=_.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var $=this;this.cursor.on("change",function(et){$.$cursorChanged=!0,$.$silent||$._emit("changeCursor"),!$.$isEmpty&&!$.$silent&&$._emit("changeSelection"),!$.$keepDesiredColumnOnChange&&et.old.column!=et.value.column&&($.$desiredColumn=null)}),this.anchor.on("change",function(){$.$anchorChanged=!0,!$.$isEmpty&&!$.$silent&&$._emit("changeSelection")})}return j.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},j.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},j.prototype.getCursor=function(){return this.lead.getPosition()},j.prototype.setAnchor=function(_,$){this.$isEmpty=!1,this.anchor.setPosition(_,$)},j.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},j.prototype.getSelectionLead=function(){return this.lead.getPosition()},j.prototype.isBackwards=function(){var _=this.anchor,$=this.lead;return _.row>$.row||_.row==$.row&&_.column>$.column},j.prototype.getRange=function(){var _=this.anchor,$=this.lead;return this.$isEmpty?rt.fromPoints($,$):this.isBackwards()?rt.fromPoints($,_):rt.fromPoints(_,$)},j.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},j.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},j.prototype.setRange=function(_,$){var et=$?_.end:_.start,st=$?_.start:_.end;this.$setSelection(et.row,et.column,st.row,st.column)},j.prototype.$setSelection=function(_,$,et,st){if(!this.$silent){var lt=this.$isEmpty,ct=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(_,$),this.cursor.setPosition(et,st),this.$isEmpty=!rt.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||lt!=this.$isEmpty||ct)&&this._emit("changeSelection")}},j.prototype.$moveSelection=function(_){var $=this.lead;this.$isEmpty&&this.setSelectionAnchor($.row,$.column),_.call(this)},j.prototype.selectTo=function(_,$){this.$moveSelection(function(){this.moveCursorTo(_,$)})},j.prototype.selectToPosition=function(_){this.$moveSelection(function(){this.moveCursorToPosition(_)})},j.prototype.moveTo=function(_,$){this.clearSelection(),this.moveCursorTo(_,$)},j.prototype.moveToPosition=function(_){this.clearSelection(),this.moveCursorToPosition(_)},j.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},j.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},j.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},j.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},j.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},j.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},j.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},j.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},j.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},j.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},j.prototype.getWordRange=function(_,$){if(typeof $>"u"){var et=_||this.lead;_=et.row,$=et.column}return this.session.getWordRange(_,$)},j.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},j.prototype.selectAWord=function(){var _=this.getCursor(),$=this.session.getAWordRange(_.row,_.column);this.setSelectionRange($)},j.prototype.getLineRange=function(_,$){var et=typeof _=="number"?_:this.lead.row,st,lt=this.session.getFoldLine(et);return lt?(et=lt.start.row,st=lt.end.row):st=et,$===!0?new rt(et,0,st,this.session.getLine(st).length):new rt(et,0,st+1,0)},j.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},j.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},j.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},j.prototype.wouldMoveIntoSoftTab=function(_,$,et){var st=_.column,lt=_.column+$;return et<0&&(st=_.column-$,lt=_.column),this.session.isTabStop(_)&&this.doc.getLine(_.row).slice(st,lt).split(" ").length-1==$},j.prototype.moveCursorLeft=function(){var _=this.lead.getPosition(),$;if($=this.session.getFoldAt(_.row,_.column,-1))this.moveCursorTo($.start.row,$.start.column);else if(_.column===0)_.row>0&&this.moveCursorTo(_.row-1,this.doc.getLine(_.row-1).length);else{var et=this.session.getTabSize();this.wouldMoveIntoSoftTab(_,et,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-et):this.moveCursorBy(0,-1)}},j.prototype.moveCursorRight=function(){var _=this.lead.getPosition(),$;if($=this.session.getFoldAt(_.row,_.column,1))this.moveCursorTo($.end.row,$.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var et=this.session.getTabSize(),_=this.lead;this.wouldMoveIntoSoftTab(_,et,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,et):this.moveCursorBy(0,1)}},j.prototype.moveCursorLineStart=function(){var _=this.lead.row,$=this.lead.column,et=this.session.documentToScreenRow(_,$),st=this.session.screenToDocumentPosition(et,0),lt=this.session.getDisplayLine(_,null,st.row,st.column),ct=lt.match(/^\s*/);ct[0].length!=$&&!this.session.$useEmacsStyleLineStart&&(st.column+=ct[0].length),this.moveCursorToPosition(st)},j.prototype.moveCursorLineEnd=function(){var _=this.lead,$=this.session.getDocumentLastRowColumnPosition(_.row,_.column);if(this.lead.column==$.column){var et=this.session.getLine($.row);if($.column==et.length){var st=et.search(/\s+$/);st>0&&($.column=st)}}this.moveCursorTo($.row,$.column)},j.prototype.moveCursorFileEnd=function(){var _=this.doc.getLength()-1,$=this.doc.getLine(_).length;this.moveCursorTo(_,$)},j.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},j.prototype.moveCursorLongWordRight=function(){var _=this.lead.row,$=this.lead.column,et=this.doc.getLine(_),st=et.substring($);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var lt=this.session.getFoldAt(_,$,1);if(lt){this.moveCursorTo(lt.end.row,lt.end.column);return}if(this.session.nonTokenRe.exec(st)&&($+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,st=et.substring($)),$>=et.length){this.moveCursorTo(_,et.length),this.moveCursorRight(),_<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(st)&&($+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(_,$)},j.prototype.moveCursorLongWordLeft=function(){var _=this.lead.row,$=this.lead.column,et;if(et=this.session.getFoldAt(_,$,-1)){this.moveCursorTo(et.start.row,et.start.column);return}var st=this.session.getFoldStringAt(_,$,-1);st==null&&(st=this.doc.getLine(_).substring(0,$));var lt=ot.stringReverse(st);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(lt)&&($-=this.session.nonTokenRe.lastIndex,lt=lt.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),$<=0){this.moveCursorTo(_,0),this.moveCursorLeft(),_>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(lt)&&($-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(_,$)},j.prototype.$shortWordEndIndex=function(_){var $=0,et,st=/\s/,lt=this.session.tokenRe;if(lt.lastIndex=0,this.session.tokenRe.exec(_))$=this.session.tokenRe.lastIndex;else{for(;(et=_[$])&&st.test(et);)$++;if($<1){for(lt.lastIndex=0;(et=_[$])&&!lt.test(et);)if(lt.lastIndex=0,$++,st.test(et))if($>2){$--;break}else{for(;(et=_[$])&&st.test(et);)$++;if($>2)break}}}return lt.lastIndex=0,$},j.prototype.moveCursorShortWordRight=function(){var _=this.lead.row,$=this.lead.column,et=this.doc.getLine(_),st=et.substring($),lt=this.session.getFoldAt(_,$,1);if(lt)return this.moveCursorTo(lt.end.row,lt.end.column);if($==et.length){var ct=this.doc.getLength();do _++,st=this.doc.getLine(_);while(_<ct&&/^\s*$/.test(st));/^\s+/.test(st)||(st=""),$=0}var ht=this.$shortWordEndIndex(st);this.moveCursorTo(_,$+ht)},j.prototype.moveCursorShortWordLeft=function(){var _=this.lead.row,$=this.lead.column,et;if(et=this.session.getFoldAt(_,$,-1))return this.moveCursorTo(et.start.row,et.start.column);var st=this.session.getLine(_).substring(0,$);if($===0){do _--,st=this.doc.getLine(_);while(_>0&&/^\s*$/.test(st));$=st.length,/\s+$/.test(st)||(st="")}var lt=ot.stringReverse(st),ct=this.$shortWordEndIndex(lt);return this.moveCursorTo(_,$-ct)},j.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},j.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},j.prototype.moveCursorBy=function(_,$){var et=this.session.documentToScreenPosition(this.lead.row,this.lead.column),st;if($===0&&(_!==0&&(this.session.$bidiHandler.isBidiRow(et.row,this.lead.row)?(st=this.session.$bidiHandler.getPosLeft(et.column),et.column=Math.round(st/this.session.$bidiHandler.charWidths[0])):st=et.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?et.column=this.$desiredColumn:this.$desiredColumn=et.column),_!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var lt=this.session.lineWidgets[this.lead.row];_<0?_-=lt.rowsAbove||0:_>0&&(_+=lt.rowCount-(lt.rowsAbove||0))}var ct=this.session.screenToDocumentPosition(et.row+_,et.column,st);_!==0&&$===0&&ct.row===this.lead.row&&(ct.column,this.lead.column),this.moveCursorTo(ct.row,ct.column+$,$===0)},j.prototype.moveCursorToPosition=function(_){this.moveCursorTo(_.row,_.column)},j.prototype.moveCursorTo=function(_,$,et){var st=this.session.getFoldAt(_,$,1);st&&(_=st.start.row,$=st.start.column),this.$keepDesiredColumnOnChange=!0;var lt=this.session.getLine(_);/[\uDC00-\uDFFF]/.test(lt.charAt($))&&lt.charAt($-1)&&(this.lead.row==_&&this.lead.column==$+1?$=$-1:$=$+1),this.lead.setPosition(_,$),this.$keepDesiredColumnOnChange=!1,et||(this.$desiredColumn=null)},j.prototype.moveCursorToScreen=function(_,$,et){var st=this.session.screenToDocumentPosition(_,$);this.moveCursorTo(st.row,st.column,et)},j.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},j.prototype.fromOrientedRange=function(_){this.setSelectionRange(_,_.cursor==_.start),this.$desiredColumn=_.desiredColumn||this.$desiredColumn},j.prototype.toOrientedRange=function(_){var $=this.getRange();return _?(_.start.column=$.start.column,_.start.row=$.start.row,_.end.column=$.end.column,_.end.row=$.end.row):_=$,_.cursor=this.isBackwards()?_.start:_.end,_.desiredColumn=this.$desiredColumn,_},j.prototype.getRangeOfMovements=function(_){var $=this.getCursor();try{_(this);var et=this.getCursor();return rt.fromPoints($,et)}catch{return rt.fromPoints($,$)}finally{this.moveCursorToPosition($)}},j.prototype.toJSON=function(){if(this.rangeCount)var _=this.ranges.map(function($){var et=$.clone();return et.isBackwards=$.cursor==$.start,et});else{var _=this.getRange();_.isBackwards=this.isBackwards()}return _},j.prototype.fromJSON=function(_){if(_.start==null)if(this.rangeList&&_.length>1){this.toSingleRange(_[0]);for(var $=_.length;$--;){var et=rt.fromPoints(_[$].start,_[$].end);_[$].isBackwards&&(et.cursor=et.start),this.addRange(et,!0)}return}else _=_[0];this.rangeList&&this.toSingleRange(_),this.setSelectionRange(_,_.isBackwards)},j.prototype.isEqual=function(_){if((_.length||this.rangeCount)&&_.length!=this.rangeCount)return!1;if(!_.length||!this.ranges)return this.getRange().isEqual(_);for(var $=this.ranges.length;$--;)if(!this.ranges[$].isEqual(_[$]))return!1;return!0},j}();it.prototype.setSelectionAnchor=it.prototype.setAnchor,it.prototype.getSelectionAnchor=it.prototype.getAnchor,it.prototype.setSelectionRange=it.prototype.setRange,tt.implement(it.prototype,at),a.Selection=it}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(o,a,nt){var tt=o("./lib/report_error").reportError,ot=2e3,at=function(){function rt(it){this.splitRegex,this.states=it,this.regExps={},this.matchMappings={};for(var j in this.states){for(var _=this.states[j],$=[],et=0,st=this.matchMappings[j]={defaultToken:"text"},lt="g",ct=[],ht=0;ht<_.length;ht++){var ut=_[ht];if(ut.defaultToken&&(st.defaultToken=ut.defaultToken),ut.caseInsensitive&&lt.indexOf("i")===-1&&(lt+="i"),ut.unicode&&lt.indexOf("u")===-1&&(lt+="u"),ut.regex!=null){ut.regex instanceof RegExp&&(ut.regex=ut.regex.toString().slice(1,-1));var mt=ut.regex,gt=new RegExp("(?:("+mt+")|(.))").exec("a").length-2;Array.isArray(ut.token)?ut.token.length==1||gt==1?ut.token=ut.token[0]:gt-1!=ut.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:ut,groupCount:gt-1}),ut.token=ut.token[0]):(ut.tokenArray=ut.token,ut.token=null,ut.onMatch=this.$arrayTokens):typeof ut.token=="function"&&!ut.onMatch&&(gt>1?ut.onMatch=this.$applyToken:ut.onMatch=ut.token),gt>1&&(/\\\d/.test(ut.regex)?mt=ut.regex.replace(/\\([0-9]+)/g,function(vt,dt){return"\\"+(parseInt(dt,10)+et+1)}):(gt=1,mt=this.removeCapturingGroups(ut.regex)),!ut.splitRegex&&typeof ut.token!="string"&&ct.push(ut)),st[et]=ht,et+=gt,$.push(mt),ut.onMatch||(ut.onMatch=null)}}$.length||(st[0]=0,$.push("$")),ct.forEach(function(vt){vt.splitRegex=this.createSplitterRegexp(vt.regex,lt)},this),this.regExps[j]=new RegExp("("+$.join(")|(")+")|($)",lt)}}return rt.prototype.$setMaxTokenCount=function(it){ot=it|0},rt.prototype.$applyToken=function(it){var j=this.splitRegex.exec(it).slice(1),_=this.token.apply(this,j);if(typeof _=="string")return[{type:_,value:it}];for(var $=[],et=0,st=_.length;et<st;et++)j[et]&&($[$.length]={type:_[et],value:j[et]});return $},rt.prototype.$arrayTokens=function(it){if(!it)return[];var j=this.splitRegex.exec(it);if(!j)return"text";for(var _=[],$=this.tokenArray,et=0,st=$.length;et<st;et++)j[et+1]&&(_[_.length]={type:$[et],value:j[et+1]});return _},rt.prototype.removeCapturingGroups=function(it){var j=it.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(_,$){return $?"(?:":_});return j},rt.prototype.createSplitterRegexp=function(it,j){if(it.indexOf("(?=")!=-1){var _=0,$=!1,et={};it.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(st,lt,ct,ht,ut,mt){return $?$=ut!="]":ut?$=!0:ht?(_==et.stack&&(et.end=mt+1,et.stack=-1),_--):ct&&(_++,ct.length!=1&&(et.stack=_,et.start=mt)),st}),et.end!=null&&/^\)*$/.test(it.substr(et.end))&&(it=it.substring(0,et.start)+it.substr(et.end))}return it.charAt(0)!="^"&&(it="^"+it),it.charAt(it.length-1)!="$"&&(it+="$"),new RegExp(it,(j||"").replace("g",""))},rt.prototype.getLineTokens=function(it,j){if(j&&typeof j!="string"){var _=j.slice(0);j=_[0],j==="#tmp"&&(_.shift(),j=_.shift())}else var _=[];var $=j||"start",et=this.states[$];et||($="start",et=this.states[$]);var st=this.matchMappings[$],lt=this.regExps[$];lt.lastIndex=0;for(var ct,ht=[],ut=0,mt=0,gt={type:null,value:""};ct=lt.exec(it);){var vt=st.defaultToken,dt=null,St=ct[0],yt=lt.lastIndex;if(yt-St.length>ut){var pt=it.substring(ut,yt-St.length);gt.type==vt?gt.value+=pt:(gt.type&&ht.push(gt),gt={type:vt,value:pt})}for(var wt=0;wt<ct.length-2;wt++)if(ct[wt+1]!==void 0){dt=et[st[wt]],dt.onMatch?vt=dt.onMatch(St,$,_,it):vt=dt.token,dt.next&&(typeof dt.next=="string"?$=dt.next:$=dt.next($,_),et=this.states[$],et||(this.reportError("state doesn't exist",$),$="start",et=this.states[$]),st=this.matchMappings[$],ut=yt,lt=this.regExps[$],lt.lastIndex=yt),dt.consumeLineEnd&&(ut=yt);break}if(St){if(typeof vt=="string")(!dt||dt.merge!==!1)&&gt.type===vt?gt.value+=St:(gt.type&&ht.push(gt),gt={type:vt,value:St});else if(vt){gt.type&&ht.push(gt),gt={type:null,value:""};for(var wt=0;wt<vt.length;wt++)ht.push(vt[wt])}}if(ut==it.length)break;if(ut=yt,mt++>ot){for(mt>2*it.length&&this.reportError("infinite loop with in ace tokenizer",{startState:j,line:it});ut<it.length;)gt.type&&ht.push(gt),gt={value:it.substring(ut,ut+=500),type:"overflow"};$="start",_=[];break}}return gt.type&&ht.push(gt),_.length>1&&_[0]!==$&&_.unshift("#tmp",$),{tokens:ht,state:_.length?_:$}},rt}();at.prototype.reportError=tt,a.Tokenizer=at}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(o,a,nt){var tt=o("../lib/deep_copy").deepCopy,ot;ot=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(it,j){if(!j){for(var _ in it)this.$rules[_]=it[_];return}for(var _ in it){for(var $=it[_],et=0;et<$.length;et++){var st=$[et];(st.next||st.onMatch)&&(typeof st.next=="string"&&st.next.indexOf(j)!==0&&(st.next=j+st.next),st.nextState&&st.nextState.indexOf(j)!==0&&(st.nextState=j+st.nextState))}this.$rules[j+_]=$}},this.getRules=function(){return this.$rules},this.embedRules=function(it,j,_,$,et){var st=typeof it=="function"?new it().getRules():it;if($)for(var lt=0;lt<$.length;lt++)$[lt]=j+$[lt];else{$=[];for(var ct in st)$.push(j+ct)}if(this.addRules(st,j),_)for(var ht=Array.prototype[et?"push":"unshift"],lt=0;lt<$.length;lt++)ht.apply(this.$rules[$[lt]],tt(_));this.$embeds||(this.$embeds=[]),this.$embeds.push(j)},this.getEmbeds=function(){return this.$embeds};var at=function(it,j){return(it!="start"||j.length)&&j.unshift(this.nextState,it),this.nextState},rt=function(it,j){return j.shift(),j.shift()||"start"};this.normalizeRules=function(){var it=0,j=this.$rules;function _($){var et=j[$];et.processed=!0;for(var st=0;st<et.length;st++){var lt=et[st],ct=null;Array.isArray(lt)&&(ct=lt,lt={}),!lt.regex&&lt.start&&(lt.regex=lt.start,lt.next||(lt.next=[]),lt.next.push({defaultToken:lt.token},{token:lt.token+".end",regex:lt.end||lt.start,next:"pop"}),lt.token=lt.token+".start",lt.push=!0);var ht=lt.next||lt.push;if(ht&&Array.isArray(ht)){var ut=lt.stateName;ut||(ut=lt.token,typeof ut!="string"&&(ut=ut[0]||""),j[ut]&&(ut+=it++)),j[ut]=ht,lt.next=ut,_(ut)}else ht=="pop"&&(lt.next=rt);if(lt.push&&(lt.nextState=lt.next||lt.push,lt.next=at,delete lt.push),lt.rules)for(var mt in lt.rules)j[mt]?j[mt].push&&j[mt].push.apply(j[mt],lt.rules[mt]):j[mt]=lt.rules[mt];var gt=typeof lt=="string"?lt:lt.include;if(gt&&(gt==="$self"&&(gt="start"),Array.isArray(gt)?ct=gt.map(function(dt){return j[dt]}):ct=j[gt]),ct){var vt=[st,1].concat(ct);lt.noEscape&&(vt=vt.filter(function(dt){return!dt.next})),et.splice.apply(et,vt),st--}lt.keywordMap&&(lt.token=this.createKeywordMapper(lt.keywordMap,lt.defaultToken||"text",lt.caseInsensitive),delete lt.defaultToken)}}Object.keys(j).forEach(_,this)},this.createKeywordMapper=function(it,j,_,$){var et=Object.create(null);return this.$keywordList=[],Object.keys(it).forEach(function(st){for(var lt=it[st],ct=lt.split($||"|"),ht=ct.length;ht--;){var ut=ct[ht];this.$keywordList.push(ut),_&&(ut=ut.toLowerCase()),et[ut]=st}},this),it=null,_?function(st){return et[st.toLowerCase()]||j}:function(st){return et[st]||j}},this.getKeywords=function(){return this.$keywords}}).call(ot.prototype),a.TextHighlightRules=ot}),ace.define("ace/mode/behaviour",["require","exports","module"],function(o,a,nt){var tt;tt=function(){this.$behaviours={}},(function(){this.add=function(ot,at,rt){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[ot]:this.$behaviours[ot]={}}this.$behaviours[ot][at]=rt},this.addBehaviours=function(ot){for(var at in ot)for(var rt in ot[at])this.add(at,rt,ot[at][rt])},this.remove=function(ot){this.$behaviours&&this.$behaviours[ot]&&delete this.$behaviours[ot]},this.inherit=function(ot,at){if(typeof ot=="function")var rt=new ot().getBehaviours(at);else var rt=ot.getBehaviours(at);this.addBehaviours(rt)},this.getBehaviours=function(ot){if(ot){for(var at={},rt=0;rt<ot.length;rt++)this.$behaviours[ot[rt]]&&(at[ot[rt]]=this.$behaviours[ot[rt]]);return at}else return this.$behaviours}}).call(tt.prototype),a.Behaviour=tt}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(o,a,nt){var tt=o("./range").Range,ot=function(){function at(rt,it,j){this.$session=rt,this.$row=it,this.$rowTokens=rt.getTokens(it);var _=rt.getTokenAt(it,j);this.$tokenIndex=_?_.index:-1}return at.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},at.prototype.stepForward=function(){this.$tokenIndex+=1;for(var rt;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,rt||(rt=this.$session.getLength()),this.$row>=rt)return this.$row=rt-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},at.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},at.prototype.getCurrentTokenRow=function(){return this.$row},at.prototype.getCurrentTokenColumn=function(){var rt=this.$rowTokens,it=this.$tokenIndex,j=rt[it].start;if(j!==void 0)return j;for(j=0;it>0;)it-=1,j+=rt[it].value.length;return j},at.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},at.prototype.getCurrentTokenRange=function(){var rt=this.$rowTokens[this.$tokenIndex],it=this.getCurrentTokenColumn();return new tt(this.$row,it,this.$row,it+rt.value.length)},at}();a.TokenIterator=ot}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(o,a,nt){var tt=o("../../lib/oop"),ot=o("../behaviour").Behaviour,at=o("../../token_iterator").TokenIterator,rt=o("../../lib/lang"),it=["text","paren.rparen","rparen","paren","punctuation.operator"],j=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],_,$={},et={'"':'"',"'":"'"},st=function(ht){var ut=-1;if(ht.multiSelect&&(ut=ht.selection.index,$.rangeCount!=ht.multiSelect.rangeCount&&($={rangeCount:ht.multiSelect.rangeCount})),$[ut])return _=$[ut];_=$[ut]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},lt=function(ht,ut,mt,gt){var vt=ht.end.row-ht.start.row;return{text:mt+ut+gt,selection:[0,ht.start.column+1,vt,ht.end.column+(vt?0:1)]}},ct;ct=function(ht){ht=ht||{},this.add("braces","insertion",function(ut,mt,gt,vt,dt){var St=gt.getCursorPosition(),yt=vt.doc.getLine(St.row);if(dt=="{"){st(gt);var pt=gt.getSelectionRange(),wt=vt.doc.getTextRange(pt);if(wt!==""&&wt!=="{"&&gt.getWrapBehavioursEnabled())return lt(pt,wt,"{","}");if(ct.isSaneInsertion(gt,vt))return/[\]\}\)]/.test(yt[St.column])||gt.inMultiSelectMode||ht.braces?(ct.recordAutoInsert(gt,vt,"}"),{text:"{}",selection:[1,1]}):(ct.recordMaybeInsert(gt,vt,"{"),{text:"{",selection:[1,1]})}else if(dt=="}"){st(gt);var Et=yt.substring(St.column,St.column+1);if(Et=="}"){var Ct=vt.$findOpeningBracket("}",{column:St.column+1,row:St.row});if(Ct!==null&&ct.isAutoInsertedClosing(St,yt,dt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(dt==`
`||dt==`\r
`){st(gt);var kt="";ct.isMaybeInsertedClosing(St,yt)&&(kt=rt.stringRepeat("}",_.maybeInsertedBrackets),ct.clearMaybeInsertedClosing());var Et=yt.substring(St.column,St.column+1);if(Et==="}"){var Tt=vt.findMatchingBracket({row:St.row,column:St.column+1},"}");if(!Tt)return null;var At=this.$getIndent(vt.getLine(Tt.row))}else if(kt)var At=this.$getIndent(yt);else{ct.clearMaybeInsertedClosing();return}var It=At+vt.getTabString();return{text:`
`+It+`
`+At+kt,selection:[1,It.length,1,It.length]}}else ct.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(ut,mt,gt,vt,dt){var St=vt.doc.getTextRange(dt);if(!dt.isMultiLine()&&St=="{"){st(gt);var yt=vt.doc.getLine(dt.start.row),pt=yt.substring(dt.end.column,dt.end.column+1);if(pt=="}")return dt.end.column++,dt;_.maybeInsertedBrackets--}}),this.add("parens","insertion",function(ut,mt,gt,vt,dt){if(dt=="("){st(gt);var St=gt.getSelectionRange(),yt=vt.doc.getTextRange(St);if(yt!==""&&gt.getWrapBehavioursEnabled())return lt(St,yt,"(",")");if(ct.isSaneInsertion(gt,vt))return ct.recordAutoInsert(gt,vt,")"),{text:"()",selection:[1,1]}}else if(dt==")"){st(gt);var pt=gt.getCursorPosition(),wt=vt.doc.getLine(pt.row),Et=wt.substring(pt.column,pt.column+1);if(Et==")"){var Ct=vt.$findOpeningBracket(")",{column:pt.column+1,row:pt.row});if(Ct!==null&&ct.isAutoInsertedClosing(pt,wt,dt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(ut,mt,gt,vt,dt){var St=vt.doc.getTextRange(dt);if(!dt.isMultiLine()&&St=="("){st(gt);var yt=vt.doc.getLine(dt.start.row),pt=yt.substring(dt.start.column+1,dt.start.column+2);if(pt==")")return dt.end.column++,dt}}),this.add("brackets","insertion",function(ut,mt,gt,vt,dt){if(dt=="["){st(gt);var St=gt.getSelectionRange(),yt=vt.doc.getTextRange(St);if(yt!==""&&gt.getWrapBehavioursEnabled())return lt(St,yt,"[","]");if(ct.isSaneInsertion(gt,vt))return ct.recordAutoInsert(gt,vt,"]"),{text:"[]",selection:[1,1]}}else if(dt=="]"){st(gt);var pt=gt.getCursorPosition(),wt=vt.doc.getLine(pt.row),Et=wt.substring(pt.column,pt.column+1);if(Et=="]"){var Ct=vt.$findOpeningBracket("]",{column:pt.column+1,row:pt.row});if(Ct!==null&&ct.isAutoInsertedClosing(pt,wt,dt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(ut,mt,gt,vt,dt){var St=vt.doc.getTextRange(dt);if(!dt.isMultiLine()&&St=="["){st(gt);var yt=vt.doc.getLine(dt.start.row),pt=yt.substring(dt.start.column+1,dt.start.column+2);if(pt=="]")return dt.end.column++,dt}}),this.add("string_dquotes","insertion",function(ut,mt,gt,vt,dt){var St=vt.$mode.$quotes||et;if(dt.length==1&&St[dt]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(dt)!=-1)return;st(gt);var yt=dt,pt=gt.getSelectionRange(),wt=vt.doc.getTextRange(pt);if(wt!==""&&(wt.length!=1||!St[wt])&&gt.getWrapBehavioursEnabled())return lt(pt,wt,yt,yt);if(!wt){var Et=gt.getCursorPosition(),Ct=vt.doc.getLine(Et.row),kt=Ct.substring(Et.column-1,Et.column),Tt=Ct.substring(Et.column,Et.column+1),At=vt.getTokenAt(Et.row,Et.column),It=vt.getTokenAt(Et.row,Et.column+1);if(kt=="\\"&&At&&/escape/.test(At.type))return null;var Ot=At&&/string|escape/.test(At.type),Mt=!It||/string|escape/.test(It.type),Dt;if(Tt==yt)Dt=Ot!==Mt,Dt&&/string\.end/.test(It.type)&&(Dt=!1);else{if(Ot&&!Mt||Ot&&Mt)return null;var Bt=vt.$mode.tokenRe;Bt.lastIndex=0;var qt=Bt.test(kt);Bt.lastIndex=0;var Wt=Bt.test(Tt),Vt=vt.$mode.$pairQuotesAfter,Ht=Vt&&Vt[yt]&&Vt[yt].test(kt);if(!Ht&&qt||Wt||Tt&&!/[\s;,.})\]\\]/.test(Tt))return null;var Jt=Ct[Et.column-2];if(kt==yt&&(Jt==yt||Bt.test(Jt)))return null;Dt=!0}return{text:Dt?yt+yt:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(ut,mt,gt,vt,dt){var St=vt.$mode.$quotes||et,yt=vt.doc.getTextRange(dt);if(!dt.isMultiLine()&&St.hasOwnProperty(yt)){st(gt);var pt=vt.doc.getLine(dt.start.row),wt=pt.substring(dt.start.column+1,dt.start.column+2);if(wt==yt)return dt.end.column++,dt}}),ht.closeDocComment!==!1&&this.add("doc comment end","insertion",function(ut,mt,gt,vt,dt){if(ut==="doc-start"&&(dt===`
`||dt===`\r
`)&&gt.selection.isEmpty()){var St=gt.getCursorPosition(),yt=vt.doc.getLine(St.row),pt=vt.doc.getLine(St.row+1),wt=this.$getIndent(yt);if(/\s*\*/.test(pt))return/^\s*\*/.test(yt)?{text:dt+wt+"* ",selection:[1,3+wt.length,1,3+wt.length]}:{text:dt+wt+" * ",selection:[1,3+wt.length,1,3+wt.length]};if(/\/\*\*/.test(yt.substring(0,St.column)))return{text:dt+wt+" * "+dt+" "+wt+"*/",selection:[1,4+wt.length,1,4+wt.length]}}})},ct.isSaneInsertion=function(ht,ut){var mt=ht.getCursorPosition(),gt=new at(ut,mt.row,mt.column);if(!this.$matchTokenType(gt.getCurrentToken()||"text",it)){if(/[)}\]]/.test(ht.session.getLine(mt.row)[mt.column]))return!0;var vt=new at(ut,mt.row,mt.column+1);if(!this.$matchTokenType(vt.getCurrentToken()||"text",it))return!1}return gt.stepForward(),gt.getCurrentTokenRow()!==mt.row||this.$matchTokenType(gt.getCurrentToken()||"text",j)},ct.$matchTokenType=function(ht,ut){return ut.indexOf(ht.type||ht)>-1},ct.recordAutoInsert=function(ht,ut,mt){var gt=ht.getCursorPosition(),vt=ut.doc.getLine(gt.row);this.isAutoInsertedClosing(gt,vt,_.autoInsertedLineEnd[0])||(_.autoInsertedBrackets=0),_.autoInsertedRow=gt.row,_.autoInsertedLineEnd=mt+vt.substr(gt.column),_.autoInsertedBrackets++},ct.recordMaybeInsert=function(ht,ut,mt){var gt=ht.getCursorPosition(),vt=ut.doc.getLine(gt.row);this.isMaybeInsertedClosing(gt,vt)||(_.maybeInsertedBrackets=0),_.maybeInsertedRow=gt.row,_.maybeInsertedLineStart=vt.substr(0,gt.column)+mt,_.maybeInsertedLineEnd=vt.substr(gt.column),_.maybeInsertedBrackets++},ct.isAutoInsertedClosing=function(ht,ut,mt){return _.autoInsertedBrackets>0&&ht.row===_.autoInsertedRow&&mt===_.autoInsertedLineEnd[0]&&ut.substr(ht.column)===_.autoInsertedLineEnd},ct.isMaybeInsertedClosing=function(ht,ut){return _.maybeInsertedBrackets>0&&ht.row===_.maybeInsertedRow&&ut.substr(ht.column)===_.maybeInsertedLineEnd&&ut.substr(0,ht.column)==_.maybeInsertedLineStart},ct.popAutoInsertedClosing=function(){_.autoInsertedLineEnd=_.autoInsertedLineEnd.substr(1),_.autoInsertedBrackets--},ct.clearMaybeInsertedClosing=function(){_&&(_.maybeInsertedBrackets=0,_.maybeInsertedRow=-1)},tt.inherits(ct,ot),a.CstyleBehaviour=ct}),ace.define("ace/unicode",["require","exports","module"],function(o,a,nt){for(var tt=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],ot=0,at=[],rt=0;rt<tt.length;rt+=2)at.push(ot+=tt[rt]),tt[rt+1]&&at.push(45,ot+=tt[rt+1]);a.wordChars=String.fromCharCode.apply(null,at)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(o,a,nt){var tt=o("../config"),ot=o("../tokenizer").Tokenizer,at=o("./text_highlight_rules").TextHighlightRules,rt=o("./behaviour/cstyle").CstyleBehaviour,it=o("../unicode"),j=o("../lib/lang"),_=o("../token_iterator").TokenIterator,$=o("../range").Range,et;et=function(){this.HighlightRules=at},(function(){this.$defaultBehaviour=new rt,this.tokenRe=new RegExp("^["+it.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+it.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new ot(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(st,lt,ct,ht){var ut=lt.doc,mt=!0,gt=!0,vt=1/0,dt=lt.getTabSize(),St=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var wt=this.lineCommentStart.map(j.escapeRegExp).join("|"),yt=this.lineCommentStart[0];else var wt=j.escapeRegExp(this.lineCommentStart),yt=this.lineCommentStart;wt=new RegExp("^(\\s*)(?:"+wt+") ?"),St=lt.getUseSoftTabs();var kt=function(Wt,Vt){var Ht=Wt.match(wt);if(Ht){var Jt=Ht[1].length,Qt=Ht[0].length;!It(Wt,Jt,Qt)&&Ht[0][Qt-1]==" "&&Qt--,ut.removeInLine(Vt,Jt,Qt)}},At=yt+" ",Ct=function(Wt,Vt){(!mt||/\S/.test(Wt))&&(It(Wt,vt,vt)?ut.insertInLine({row:Vt,column:vt},At):ut.insertInLine({row:Vt,column:vt},yt))},Tt=function(Wt,Vt){return wt.test(Wt)},It=function(Wt,Vt,Ht){for(var Jt=0;Vt--&&Wt.charAt(Vt)==" ";)Jt++;if(Jt%dt!=0)return!1;for(var Jt=0;Wt.charAt(Ht++)==" ";)Jt++;return dt>2?Jt%dt!=dt-1:Jt%dt==0}}else{if(!this.blockComment)return!1;var yt=this.blockComment.start,pt=this.blockComment.end,wt=new RegExp("^(\\s*)(?:"+j.escapeRegExp(yt)+")"),Et=new RegExp("(?:"+j.escapeRegExp(pt)+")\\s*$"),Ct=function(Dt,Bt){Tt(Dt,Bt)||(!mt||/\S/.test(Dt))&&(ut.insertInLine({row:Bt,column:Dt.length},pt),ut.insertInLine({row:Bt,column:vt},yt))},kt=function(Dt,Bt){var qt;(qt=Dt.match(Et))&&ut.removeInLine(Bt,Dt.length-qt[0].length,Dt.length),(qt=Dt.match(wt))&&ut.removeInLine(Bt,qt[1].length,qt[0].length)},Tt=function(Dt,Bt){if(wt.test(Dt))return!0;for(var qt=lt.getTokens(Bt),Wt=0;Wt<qt.length;Wt++)if(qt[Wt].type==="comment")return!0}}function Ot(Dt){for(var Bt=ct;Bt<=ht;Bt++)Dt(ut.getLine(Bt),Bt)}var Mt=1/0;Ot(function(Dt,Bt){var qt=Dt.search(/\S/);qt!==-1?(qt<vt&&(vt=qt),gt&&!Tt(Dt,Bt)&&(gt=!1)):Mt>Dt.length&&(Mt=Dt.length)}),vt==1/0&&(vt=Mt,mt=!1,gt=!1),St&&vt%dt!=0&&(vt=Math.floor(vt/dt)*dt),Ot(gt?kt:Ct)},this.toggleBlockComment=function(st,lt,ct,ht){var ut=this.blockComment;if(ut){!ut.start&&ut[0]&&(ut=ut[0]);var mt=new _(lt,ht.row,ht.column),gt=mt.getCurrentToken();lt.selection;var vt=lt.selection.toOrientedRange(),dt,St;if(gt&&/comment/.test(gt.type)){for(var yt,pt;gt&&/comment/.test(gt.type);){var wt=gt.value.indexOf(ut.start);if(wt!=-1){var Et=mt.getCurrentTokenRow(),Ct=mt.getCurrentTokenColumn()+wt;yt=new $(Et,Ct,Et,Ct+ut.start.length);break}gt=mt.stepBackward()}for(var mt=new _(lt,ht.row,ht.column),gt=mt.getCurrentToken();gt&&/comment/.test(gt.type);){var wt=gt.value.indexOf(ut.end);if(wt!=-1){var Et=mt.getCurrentTokenRow(),Ct=mt.getCurrentTokenColumn()+wt;pt=new $(Et,Ct,Et,Ct+ut.end.length);break}gt=mt.stepForward()}pt&&lt.remove(pt),yt&&(lt.remove(yt),dt=yt.start.row,St=-ut.start.length)}else St=ut.start.length,dt=ct.start.row,lt.insert(ct.end,ut.end),lt.insert(ct.start,ut.start);vt.start.row==dt&&(vt.start.column+=St),vt.end.row==dt&&(vt.end.column+=St),lt.selection.fromOrientedRange(vt)}},this.getNextLineIndent=function(st,lt,ct){return this.$getIndent(lt)},this.checkOutdent=function(st,lt,ct){return!1},this.autoOutdent=function(st,lt,ct){},this.$getIndent=function(st){return st.match(/^\s*/)[0]},this.createWorker=function(st){return null},this.createModeDelegates=function(st){this.$embeds=[],this.$modes={};for(var lt in st)if(st[lt]){var ct=st[lt],ht=ct.prototype.$id,ut=tt.$modes[ht];ut||(tt.$modes[ht]=ut=new ct),tt.$modes[lt]||(tt.$modes[lt]=ut),this.$embeds.push(lt),this.$modes[lt]=ut}for(var mt=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],gt=function(dt){(function(St){var yt=mt[dt],pt=St[yt];St[mt[dt]]=function(){return this.$delegator(yt,arguments,pt)}})(vt)},vt=this,lt=0;lt<mt.length;lt++)gt(lt)},this.$delegator=function(st,lt,ct){var ht=lt[0]||"start";if(typeof ht!="string"){if(Array.isArray(ht[2])){var ut=ht[2][ht[2].length-1],mt=this.$modes[ut];if(mt)return mt[st].apply(mt,[ht[1]].concat([].slice.call(lt,1)))}ht=ht[0]||"start"}for(var gt=0;gt<this.$embeds.length;gt++)if(this.$modes[this.$embeds[gt]]){var vt=ht.split(this.$embeds[gt]);if(!vt[0]&&vt[1]){lt[0]=vt[1];var mt=this.$modes[this.$embeds[gt]];return mt[st].apply(mt,lt)}}var dt=ct.apply(this,lt);return ct?dt:void 0},this.transformAction=function(st,lt,ct,ht,ut){if(this.$behaviour){var mt=this.$behaviour.getBehaviours();for(var gt in mt)if(mt[gt][lt]){var vt=mt[gt][lt].apply(this,arguments);if(vt)return vt}}},this.getKeywords=function(st){if(!this.completionKeywords){var lt=this.$tokenizer.rules,ct=[];for(var ht in lt)for(var ut=lt[ht],mt=0,gt=ut.length;mt<gt;mt++)if(typeof ut[mt].token=="string")/keyword|support|storage/.test(ut[mt].token)&&ct.push(ut[mt].regex);else if(typeof ut[mt].token=="object"){for(var vt=0,dt=ut[mt].token.length;vt<dt;vt++)if(/keyword|support|storage/.test(ut[mt].token[vt])){var ht=ut[mt].regex.match(/\(.+?\)/g)[vt];ct.push(ht.substr(1,ht.length-2))}}this.completionKeywords=ct}return st?ct.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(st,lt,ct,ht){var ut=this.$keywordList||this.$createKeywordList();return ut.map(function(mt){return{name:mt,value:mt,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(et.prototype),a.Mode=et}),ace.define("ace/apply_delta",["require","exports","module"],function(o,a,nt){a.applyDelta=function(tt,ot,at){var rt=ot.start.row,it=ot.start.column,j=tt[rt]||"";switch(ot.action){case"insert":var _=ot.lines;if(_.length===1)tt[rt]=j.substring(0,it)+ot.lines[0]+j.substring(it);else{var $=[rt,1].concat(ot.lines);tt.splice.apply(tt,$),tt[rt]=j.substring(0,it)+tt[rt],tt[rt+ot.lines.length-1]+=j.substring(it)}break;case"remove":var et=ot.end.column,st=ot.end.row;rt===st?tt[rt]=j.substring(0,it)+j.substring(et):tt.splice(rt,st-rt+1,j.substring(0,it)+tt[st].substring(et));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(o,a,nt){var tt=o("./lib/oop"),ot=o("./lib/event_emitter").EventEmitter,at=function(){function j(_,$,et){this.$onChange=this.onChange.bind(this),this.attach(_),typeof $!="number"?this.setPosition($.row,$.column):this.setPosition($,et)}return j.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},j.prototype.getDocument=function(){return this.document},j.prototype.onChange=function(_){if(!(_.start.row==_.end.row&&_.start.row!=this.row)&&!(_.start.row>this.row)){var $=it(_,{row:this.row,column:this.column},this.$insertRight);this.setPosition($.row,$.column,!0)}},j.prototype.setPosition=function(_,$,et){var st;if(et?st={row:_,column:$}:st=this.$clipPositionToDocument(_,$),!(this.row==st.row&&this.column==st.column)){var lt={row:this.row,column:this.column};this.row=st.row,this.column=st.column,this._signal("change",{old:lt,value:st})}},j.prototype.detach=function(){this.document.off("change",this.$onChange)},j.prototype.attach=function(_){this.document=_||this.document,this.document.on("change",this.$onChange)},j.prototype.$clipPositionToDocument=function(_,$){var et={};return _>=this.document.getLength()?(et.row=Math.max(0,this.document.getLength()-1),et.column=this.document.getLine(et.row).length):_<0?(et.row=0,et.column=0):(et.row=_,et.column=Math.min(this.document.getLine(et.row).length,Math.max(0,$))),$<0&&(et.column=0),et},j}();at.prototype.$insertRight=!1,tt.implement(at.prototype,ot);function rt(j,_,$){var et=$?j.column<=_.column:j.column<_.column;return j.row<_.row||j.row==_.row&&et}function it(j,_,$){var et=j.action=="insert",st=(et?1:-1)*(j.end.row-j.start.row),lt=(et?1:-1)*(j.end.column-j.start.column),ct=j.start,ht=et?ct:j.end;return rt(_,ct,$)?{row:_.row,column:_.column}:rt(ht,_,!$)?{row:_.row+st,column:_.column+(_.row==ht.row?lt:0)}:{row:ct.row,column:ct.column}}a.Anchor=at}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(o,a,nt){var tt=o("./lib/oop"),ot=o("./apply_delta").applyDelta,at=o("./lib/event_emitter").EventEmitter,rt=o("./range").Range,it=o("./anchor").Anchor,j=function(){function _($){this.$lines=[""],$.length===0?this.$lines=[""]:Array.isArray($)?this.insertMergedLines({row:0,column:0},$):this.insert({row:0,column:0},$)}return _.prototype.setValue=function($){var et=this.getLength()-1;this.remove(new rt(0,0,et,this.getLine(et).length)),this.insert({row:0,column:0},$||"")},_.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},_.prototype.createAnchor=function($,et){return new it(this,$,et)},_.prototype.$detectNewLine=function($){var et=$.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=et?et[1]:`
`,this._signal("changeNewLineMode")},_.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},_.prototype.setNewLineMode=function($){this.$newLineMode!==$&&(this.$newLineMode=$,this._signal("changeNewLineMode"))},_.prototype.getNewLineMode=function(){return this.$newLineMode},_.prototype.isNewLine=function($){return $==`\r
`||$=="\r"||$==`
`},_.prototype.getLine=function($){return this.$lines[$]||""},_.prototype.getLines=function($,et){return this.$lines.slice($,et+1)},_.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},_.prototype.getLength=function(){return this.$lines.length},_.prototype.getTextRange=function($){return this.getLinesForRange($).join(this.getNewLineCharacter())},_.prototype.getLinesForRange=function($){var et;if($.start.row===$.end.row)et=[this.getLine($.start.row).substring($.start.column,$.end.column)];else{et=this.getLines($.start.row,$.end.row),et[0]=(et[0]||"").substring($.start.column);var st=et.length-1;$.end.row-$.start.row==st&&(et[st]=et[st].substring(0,$.end.column))}return et},_.prototype.insertLines=function($,et){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines($,et)},_.prototype.removeLines=function($,et){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines($,et)},_.prototype.insertNewLine=function($){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines($,["",""])},_.prototype.insert=function($,et){return this.getLength()<=1&&this.$detectNewLine(et),this.insertMergedLines($,this.$split(et))},_.prototype.insertInLine=function($,et){var st=this.clippedPos($.row,$.column),lt=this.pos($.row,$.column+et.length);return this.applyDelta({start:st,end:lt,action:"insert",lines:[et]},!0),this.clonePos(lt)},_.prototype.clippedPos=function($,et){var st=this.getLength();$===void 0?$=st:$<0?$=0:$>=st&&($=st-1,et=void 0);var lt=this.getLine($);return et==null&&(et=lt.length),et=Math.min(Math.max(et,0),lt.length),{row:$,column:et}},_.prototype.clonePos=function($){return{row:$.row,column:$.column}},_.prototype.pos=function($,et){return{row:$,column:et}},_.prototype.$clipPosition=function($){var et=this.getLength();return $.row>=et?($.row=Math.max(0,et-1),$.column=this.getLine(et-1).length):($.row=Math.max(0,$.row),$.column=Math.min(Math.max($.column,0),this.getLine($.row).length)),$},_.prototype.insertFullLines=function($,et){$=Math.min(Math.max($,0),this.getLength());var st=0;$<this.getLength()?(et=et.concat([""]),st=0):(et=[""].concat(et),$--,st=this.$lines[$].length),this.insertMergedLines({row:$,column:st},et)},_.prototype.insertMergedLines=function($,et){var st=this.clippedPos($.row,$.column),lt={row:st.row+et.length-1,column:(et.length==1?st.column:0)+et[et.length-1].length};return this.applyDelta({start:st,end:lt,action:"insert",lines:et}),this.clonePos(lt)},_.prototype.remove=function($){var et=this.clippedPos($.start.row,$.start.column),st=this.clippedPos($.end.row,$.end.column);return this.applyDelta({start:et,end:st,action:"remove",lines:this.getLinesForRange({start:et,end:st})}),this.clonePos(et)},_.prototype.removeInLine=function($,et,st){var lt=this.clippedPos($,et),ct=this.clippedPos($,st);return this.applyDelta({start:lt,end:ct,action:"remove",lines:this.getLinesForRange({start:lt,end:ct})},!0),this.clonePos(lt)},_.prototype.removeFullLines=function($,et){$=Math.min(Math.max(0,$),this.getLength()-1),et=Math.min(Math.max(0,et),this.getLength()-1);var st=et==this.getLength()-1&&$>0,lt=et<this.getLength()-1,ct=st?$-1:$,ht=st?this.getLine(ct).length:0,ut=lt?et+1:et,mt=lt?0:this.getLine(ut).length,gt=new rt(ct,ht,ut,mt),vt=this.$lines.slice($,et+1);return this.applyDelta({start:gt.start,end:gt.end,action:"remove",lines:this.getLinesForRange(gt)}),vt},_.prototype.removeNewLine=function($){$<this.getLength()-1&&$>=0&&this.applyDelta({start:this.pos($,this.getLine($).length),end:this.pos($+1,0),action:"remove",lines:["",""]})},_.prototype.replace=function($,et){if($ instanceof rt||($=rt.fromPoints($.start,$.end)),et.length===0&&$.isEmpty())return $.start;if(et==this.getTextRange($))return $.end;this.remove($);var st;return et?st=this.insert($.start,et):st=$.start,st},_.prototype.applyDeltas=function($){for(var et=0;et<$.length;et++)this.applyDelta($[et])},_.prototype.revertDeltas=function($){for(var et=$.length-1;et>=0;et--)this.revertDelta($[et])},_.prototype.applyDelta=function($,et){var st=$.action=="insert";(st?$.lines.length<=1&&!$.lines[0]:!rt.comparePoints($.start,$.end))||(st&&$.lines.length>2e4?this.$splitAndapplyLargeDelta($,2e4):(ot(this.$lines,$,et),this._signal("change",$)))},_.prototype.$safeApplyDelta=function($){var et=this.$lines.length;($.action=="remove"&&$.start.row<et&&$.end.row<et||$.action=="insert"&&$.start.row<=et)&&this.applyDelta($)},_.prototype.$splitAndapplyLargeDelta=function($,et){for(var st=$.lines,lt=st.length-et+1,ct=$.start.row,ht=$.start.column,ut=0,mt=0;ut<lt;ut=mt){mt+=et-1;var gt=st.slice(ut,mt);gt.push(""),this.applyDelta({start:this.pos(ct+ut,ht),end:this.pos(ct+mt,ht=0),action:$.action,lines:gt},!0)}$.lines=st.slice(ut),$.start.row=ct+ut,$.start.column=ht,this.applyDelta($,!0)},_.prototype.revertDelta=function($){this.$safeApplyDelta({start:this.clonePos($.start),end:this.clonePos($.end),action:$.action=="insert"?"remove":"insert",lines:$.lines.slice()})},_.prototype.indexToPosition=function($,et){for(var st=this.$lines||this.getAllLines(),lt=this.getNewLineCharacter().length,ct=et||0,ht=st.length;ct<ht;ct++)if($-=st[ct].length+lt,$<0)return{row:ct,column:$+st[ct].length+lt};return{row:ht-1,column:$+st[ht-1].length+lt}},_.prototype.positionToIndex=function($,et){for(var st=this.$lines||this.getAllLines(),lt=this.getNewLineCharacter().length,ct=0,ht=Math.min($.row,st.length),ut=et||0;ut<ht;++ut)ct+=st[ut].length+lt;return ct+$.column},_.prototype.$split=function($){return $.split(/\r\n|\r|\n/)},_}();j.prototype.$autoNewLine="",j.prototype.$newLineMode="auto",tt.implement(j.prototype,at),a.Document=j}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(o,a,nt){var tt=o("./lib/oop"),ot=o("./lib/event_emitter").EventEmitter,at=function(){function rt(it,j){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=it;var _=this;this.$worker=function(){if(_.running){for(var $=new Date,et=_.currentLine,st=-1,lt=_.doc,ct=et;_.lines[et];)et++;var ht=lt.getLength(),ut=0;for(_.running=!1;et<ht;){_.$tokenizeRow(et),st=et;do et++;while(_.lines[et]);if(ut++,ut%5===0&&new Date-$>20){_.running=setTimeout(_.$worker,20);break}}_.currentLine=et,st==-1&&(st=et),ct<=st&&_.fireUpdateEvent(ct,st)}}}return rt.prototype.setTokenizer=function(it){this.tokenizer=it,this.lines=[],this.states=[],this.start(0)},rt.prototype.setDocument=function(it){this.doc=it,this.lines=[],this.states=[],this.stop()},rt.prototype.fireUpdateEvent=function(it,j){var _={first:it,last:j};this._signal("update",{data:_})},rt.prototype.start=function(it){this.currentLine=Math.min(it||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},rt.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},rt.prototype.$updateOnChange=function(it){var j=it.start.row,_=it.end.row-j;if(_===0)this.lines[j]=null;else if(it.action=="remove")this.lines.splice(j,_+1,null),this.states.splice(j,_+1,null);else{var $=Array(_+1);$.unshift(j,1),this.lines.splice.apply(this.lines,$),this.states.splice.apply(this.states,$)}this.currentLine=Math.min(j,this.currentLine,this.doc.getLength()),this.stop()},rt.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},rt.prototype.getTokens=function(it){return this.lines[it]||this.$tokenizeRow(it)},rt.prototype.getState=function(it){return this.currentLine==it&&this.$tokenizeRow(it),this.states[it]||"start"},rt.prototype.$tokenizeRow=function(it){var j=this.doc.getLine(it),_=this.states[it-1],$=this.tokenizer.getLineTokens(j,_,it);return this.states[it]+""!=$.state+""?(this.states[it]=$.state,this.lines[it+1]=null,this.currentLine>it+1&&(this.currentLine=it+1)):this.currentLine==it&&(this.currentLine=it+1),this.lines[it]=$.tokens},rt.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},rt}();tt.implement(at.prototype,ot),a.BackgroundTokenizer=at}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(o,a,nt){var tt=o("./lib/lang"),ot=o("./range").Range,at=function(){function rt(it,j,_){_===void 0&&(_="text"),this.setRegexp(it),this.clazz=j,this.type=_}return rt.prototype.setRegexp=function(it){this.regExp+""!=it+""&&(this.regExp=it,this.cache=[])},rt.prototype.update=function(it,j,_,$){if(this.regExp)for(var et=$.firstRow,st=$.lastRow,lt={},ct=et;ct<=st;ct++){var ht=this.cache[ct];ht==null&&(ht=tt.getMatchOffsets(_.getLine(ct),this.regExp),ht.length>this.MAX_RANGES&&(ht=ht.slice(0,this.MAX_RANGES)),ht=ht.map(function(vt){return new ot(ct,vt.offset,ct,vt.offset+vt.length)}),this.cache[ct]=ht.length?ht:"");for(var ut=ht.length;ut--;){var mt=ht[ut].toScreenRange(_),gt=mt.toString();lt[gt]||(lt[gt]=!0,j.drawSingleLineMarker(it,mt,this.clazz,$))}}},rt}();at.prototype.MAX_RANGES=500,a.SearchHighlight=at}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(o,a,nt){var tt=function(){function vt(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return vt.prototype.addSession=function(dt){this.$session=dt},vt.prototype.add=function(dt,St,yt){if(!this.$fromUndo&&dt!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),St===!1||!this.lastDeltas){this.lastDeltas=[];var pt=this.$undoStack.length;pt>this.$undoDepth-1&&this.$undoStack.splice(0,pt-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),dt.id=this.$rev=++this.$maxRev}(dt.action=="remove"||dt.action=="insert")&&(this.$lastDelta=dt),this.lastDeltas.push(dt)}},vt.prototype.addSelection=function(dt,St){this.selections.push({value:dt,rev:St||this.$rev})},vt.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},vt.prototype.markIgnored=function(dt,St){St==null&&(St=this.$rev+1);for(var yt=this.$undoStack,pt=yt.length;pt--;){var wt=yt[pt][0];if(wt.id<=dt)break;wt.id<St&&(wt.ignore=!0)}this.lastDeltas=null},vt.prototype.getSelection=function(dt,St){for(var yt=this.selections,pt=yt.length;pt--;){var wt=yt[pt];if(wt.rev<dt)return St&&(wt=yt[pt+1]),wt}},vt.prototype.getRevision=function(){return this.$rev},vt.prototype.getDeltas=function(dt,St){St==null&&(St=this.$rev+1);for(var yt=this.$undoStack,pt=null,wt=0,Et=yt.length;Et--;){var Ct=yt[Et][0];if(Ct.id<St&&!pt&&(pt=Et+1),Ct.id<=dt){wt=Et+1;break}}return yt.slice(wt,pt)},vt.prototype.getChangedRanges=function(dt,St){St==null&&(St=this.$rev+1)},vt.prototype.getChangedLines=function(dt,St){St==null&&(St=this.$rev+1)},vt.prototype.undo=function(dt,St){this.lastDeltas=null;var yt=this.$undoStack;if(ot(yt,yt.length)){dt||(dt=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var pt=yt.pop(),wt=null;return pt&&(wt=dt.undoChanges(pt,St),this.$redoStack.push(pt),this.$syncRev()),this.$fromUndo=!1,wt}},vt.prototype.redo=function(dt,St){if(this.lastDeltas=null,dt||(dt=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var yt=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);gt(this.$redoStack,yt),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(Et){Et[0].id=++this.$maxRev},this)}var pt=this.$redoStack.pop(),wt=null;return pt&&(wt=dt.redoChanges(pt,St),this.$undoStack.push(pt),this.$syncRev()),this.$fromUndo=!1,wt},vt.prototype.$syncRev=function(){var dt=this.$undoStack,St=dt[dt.length-1],yt=St&&St[0].id||0;this.$redoStackBaseRev=yt,this.$rev=yt},vt.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},vt.prototype.canUndo=function(){return this.$undoStack.length>0},vt.prototype.canRedo=function(){return this.$redoStack.length>0},vt.prototype.bookmark=function(dt){dt==null&&(dt=this.$rev),this.mark=dt},vt.prototype.isAtBookmark=function(){return this.$rev===this.mark},vt.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},vt.prototype.fromJSON=function(dt){this.reset(),this.$undoStack=dt.$undoStack,this.$redoStack=dt.$redoStack},vt.prototype.$prettyPrint=function(dt){return dt?_(dt):_(this.$undoStack)+`
---
`+_(this.$redoStack)},vt}();tt.prototype.hasUndo=tt.prototype.canUndo,tt.prototype.hasRedo=tt.prototype.canRedo,tt.prototype.isClean=tt.prototype.isAtBookmark,tt.prototype.markClean=tt.prototype.bookmark;function ot(vt,dt){for(var St=dt;St--;){var yt=vt[St];if(yt&&!yt[0].ignore){for(;St<dt-1;){var pt=st(vt[St],vt[St+1]);vt[St]=pt[0],vt[St+1]=pt[1],St++}return!0}}}var at=o("./range").Range,rt=at.comparePoints;at.comparePoints;function it(vt){return{row:vt.row,column:vt.column}}function j(vt){return{start:it(vt.start),end:it(vt.end),action:vt.action,lines:vt.lines.slice()}}function _(vt){if(vt=vt||this,Array.isArray(vt))return vt.map(_).join(`
`);var dt="";return vt.action?(dt=vt.action=="insert"?"+":"-",dt+="["+vt.lines+"]"):vt.value&&(Array.isArray(vt.value)?dt=vt.value.map($).join(`
`):dt=$(vt.value)),vt.start&&(dt+=$(vt)),(vt.id||vt.rev)&&(dt+="	("+(vt.id||vt.rev)+")"),dt}function $(vt){return vt.start.row+":"+vt.start.column+"=>"+vt.end.row+":"+vt.end.column}function et(vt,dt){var St=vt.action=="insert",yt=dt.action=="insert";if(St&&yt)if(rt(dt.start,vt.end)>=0)ct(dt,vt,-1);else if(rt(dt.start,vt.start)<=0)ct(vt,dt,1);else return null;else if(St&&!yt)if(rt(dt.start,vt.end)>=0)ct(dt,vt,-1);else if(rt(dt.end,vt.start)<=0)ct(vt,dt,-1);else return null;else if(!St&&yt)if(rt(dt.start,vt.start)>=0)ct(dt,vt,1);else if(rt(dt.start,vt.start)<=0)ct(vt,dt,1);else return null;else if(!St&&!yt)if(rt(dt.start,vt.start)>=0)ct(dt,vt,1);else if(rt(dt.end,vt.start)<=0)ct(vt,dt,-1);else return null;return[dt,vt]}function st(vt,dt){for(var St=vt.length;St--;)for(var yt=0;yt<dt.length;yt++)if(!et(vt[St],dt[yt])){for(;St<vt.length;){for(;yt--;)et(dt[yt],vt[St]);yt=dt.length,St++}return[vt,dt]}return vt.selectionBefore=dt.selectionBefore=vt.selectionAfter=dt.selectionAfter=null,[dt,vt]}function lt(vt,dt){var St=vt.action=="insert",yt=dt.action=="insert";if(St&&yt)rt(vt.start,dt.start)<0?ct(dt,vt,1):ct(vt,dt,1);else if(St&&!yt)rt(vt.start,dt.end)>=0?ct(vt,dt,-1):(rt(vt.start,dt.start)<=0||ct(vt,at.fromPoints(dt.start,vt.start),-1),ct(dt,vt,1));else if(!St&&yt)rt(dt.start,vt.end)>=0?ct(dt,vt,-1):(rt(dt.start,vt.start)<=0||ct(dt,at.fromPoints(vt.start,dt.start),-1),ct(vt,dt,1));else if(!St&&!yt)if(rt(dt.start,vt.end)>=0)ct(dt,vt,-1);else if(rt(dt.end,vt.start)<=0)ct(vt,dt,-1);else{var pt,wt;return rt(vt.start,dt.start)<0&&(pt=vt,vt=ut(vt,dt.start)),rt(vt.end,dt.end)>0&&(wt=ut(vt,dt.end)),ht(dt.end,vt.start,vt.end,-1),wt&&!pt&&(vt.lines=wt.lines,vt.start=wt.start,vt.end=wt.end,wt=vt),[dt,pt,wt].filter(Boolean)}return[dt,vt]}function ct(vt,dt,St){ht(vt.start,dt.start,dt.end,St),ht(vt.end,dt.start,dt.end,St)}function ht(vt,dt,St,yt){vt.row==(yt==1?dt:St).row&&(vt.column+=yt*(St.column-dt.column)),vt.row+=yt*(St.row-dt.row)}function ut(vt,dt){var St=vt.lines,yt=vt.end;vt.end=it(dt);var pt=vt.end.row-vt.start.row,wt=St.splice(pt,St.length),Et=pt?dt.column:dt.column-vt.start.column;St.push(wt[0].substring(0,Et)),wt[0]=wt[0].substr(Et);var Ct={start:it(dt),end:yt,lines:wt,action:vt.action};return Ct}function mt(vt,dt){dt=j(dt);for(var St=vt.length;St--;){for(var yt=vt[St],pt=0;pt<yt.length;pt++){var wt=yt[pt],Et=lt(wt,dt);dt=Et[0],Et.length!=2&&(Et[2]?(yt.splice(pt+1,1,Et[1],Et[2]),pt++):Et[1]||(yt.splice(pt,1),pt--))}yt.length||vt.splice(St,1)}return vt}function gt(vt,dt){for(var St=0;St<dt.length;St++)for(var yt=dt[St],pt=0;pt<yt.length;pt++)mt(vt,yt[pt])}a.UndoManager=tt}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(o,a,nt){var tt=o("../range").Range,ot=function(){function at(rt,it){this.foldData=rt,Array.isArray(it)?this.folds=it:it=this.folds=[it];var j=it[it.length-1];this.range=new tt(it[0].start.row,it[0].start.column,j.end.row,j.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(_){_.setFoldLine(this)},this)}return at.prototype.shiftRow=function(rt){this.start.row+=rt,this.end.row+=rt,this.folds.forEach(function(it){it.start.row+=rt,it.end.row+=rt})},at.prototype.addFold=function(rt){if(rt.sameRow){if(rt.start.row<this.startRow||rt.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(rt),this.folds.sort(function(it,j){return-it.range.compareEnd(j.start.row,j.start.column)}),this.range.compareEnd(rt.start.row,rt.start.column)>0?(this.end.row=rt.end.row,this.end.column=rt.end.column):this.range.compareStart(rt.end.row,rt.end.column)<0&&(this.start.row=rt.start.row,this.start.column=rt.start.column)}else if(rt.start.row==this.end.row)this.folds.push(rt),this.end.row=rt.end.row,this.end.column=rt.end.column;else if(rt.end.row==this.start.row)this.folds.unshift(rt),this.start.row=rt.start.row,this.start.column=rt.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");rt.foldLine=this},at.prototype.containsRow=function(rt){return rt>=this.start.row&&rt<=this.end.row},at.prototype.walk=function(rt,it,j){var _=0,$=this.folds,et,st,lt,ct=!0;it==null&&(it=this.end.row,j=this.end.column);for(var ht=0;ht<$.length;ht++){if(et=$[ht],st=et.range.compareStart(it,j),st==-1){rt(null,it,j,_,ct);return}if(lt=rt(null,et.start.row,et.start.column,_,ct),lt=!lt&&rt(et.placeholder,et.start.row,et.start.column,_),lt||st===0)return;ct=!et.sameRow,_=et.end.column}rt(null,it,j,_,ct)},at.prototype.getNextFoldTo=function(rt,it){for(var j,_,$=0;$<this.folds.length;$++){if(j=this.folds[$],_=j.range.compareEnd(rt,it),_==-1)return{fold:j,kind:"after"};if(_===0)return{fold:j,kind:"inside"}}return null},at.prototype.addRemoveChars=function(rt,it,j){var _=this.getNextFoldTo(rt,it),$,et;if(_){if($=_.fold,_.kind=="inside"&&$.start.column!=it&&$.start.row!=rt)window.console&&window.console.log(rt,it,$);else if($.start.row==rt){et=this.folds;var st=et.indexOf($);for(st===0&&(this.start.column+=j),st;st<et.length;st++){if($=et[st],$.start.column+=j,!$.sameRow)return;$.end.column+=j}this.end.column+=j}}},at.prototype.split=function(rt,it){var j=this.getNextFoldTo(rt,it);if(!j||j.kind=="inside")return null;var _=j.fold,$=this.folds,et=this.foldData,st=$.indexOf(_),lt=$[st-1];this.end.row=lt.end.row,this.end.column=lt.end.column,$=$.splice(st,$.length-st);var ct=new at(et,$);return et.splice(et.indexOf(this)+1,0,ct),ct},at.prototype.merge=function(rt){for(var it=rt.folds,j=0;j<it.length;j++)this.addFold(it[j]);var _=this.foldData;_.splice(_.indexOf(rt),1)},at.prototype.toString=function(){var rt=[this.range.toString()+": ["];return this.folds.forEach(function(it){rt.push("  "+it.toString())}),rt.push("]"),rt.join(`
`)},at.prototype.idxToPosition=function(rt){for(var it=0,j=0;j<this.folds.length;j++){var _=this.folds[j];if(rt-=_.start.column-it,rt<0)return{row:_.start.row,column:_.start.column+rt};if(rt-=_.placeholder.length,rt<0)return _.start;it=_.end.column}return{row:this.end.row,column:this.end.column+rt}},at}();a.FoldLine=ot}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(o,a,nt){var tt=o("./range").Range,ot=tt.comparePoints,at=function(){function rt(){this.ranges=[],this.$bias=1}return rt.prototype.pointIndex=function(it,j,_){for(var $=this.ranges,et=_||0;et<$.length;et++){var st=$[et],lt=ot(it,st.end);if(!(lt>0)){var ct=ot(it,st.start);return lt===0?j&&ct!==0?-et-2:et:ct>0||ct===0&&!j?et:-et-1}}return-et-1},rt.prototype.add=function(it){var j=!it.isEmpty(),_=this.pointIndex(it.start,j);_<0&&(_=-_-1);var $=this.pointIndex(it.end,j,_);return $<0?$=-$-1:$++,this.ranges.splice(_,$-_,it)},rt.prototype.addList=function(it){for(var j=[],_=it.length;_--;)j.push.apply(j,this.add(it[_]));return j},rt.prototype.substractPoint=function(it){var j=this.pointIndex(it);if(j>=0)return this.ranges.splice(j,1)},rt.prototype.merge=function(){var it=[],j=this.ranges;j=j.sort(function(lt,ct){return ot(lt.start,ct.start)});for(var _=j[0],$,et=1;et<j.length;et++){$=_,_=j[et];var st=ot($.end,_.start);st<0||st==0&&!$.isEmpty()&&!_.isEmpty()||(ot($.end,_.end)<0&&($.end.row=_.end.row,$.end.column=_.end.column),j.splice(et,1),it.push(_),_=$,et--)}return this.ranges=j,it},rt.prototype.contains=function(it,j){return this.pointIndex({row:it,column:j})>=0},rt.prototype.containsPoint=function(it){return this.pointIndex(it)>=0},rt.prototype.rangeAtPoint=function(it){var j=this.pointIndex(it);if(j>=0)return this.ranges[j]},rt.prototype.clipRows=function(it,j){var _=this.ranges;if(_[0].start.row>j||_[_.length-1].start.row<it)return[];var $=this.pointIndex({row:it,column:0});$<0&&($=-$-1);var et=this.pointIndex({row:j,column:0},$);et<0&&(et=-et-1);for(var st=[],lt=$;lt<et;lt++)st.push(_[lt]);return st},rt.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},rt.prototype.attach=function(it){this.session&&this.detach(),this.session=it,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},rt.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},rt.prototype.$onChange=function(it){for(var j=it.start,_=it.end,$=j.row,et=_.row,st=this.ranges,lt=0,ct=st.length;lt<ct;lt++){var ht=st[lt];if(ht.end.row>=$)break}if(it.action=="insert")for(var ut=et-$,mt=-j.column+_.column;lt<ct;lt++){var ht=st[lt];if(ht.start.row>$)break;if(ht.start.row==$&&ht.start.column>=j.column&&(ht.start.column==j.column&&this.$bias<=0||(ht.start.column+=mt,ht.start.row+=ut)),ht.end.row==$&&ht.end.column>=j.column){if(ht.end.column==j.column&&this.$bias<0)continue;ht.end.column==j.column&&mt>0&&lt<ct-1&&ht.end.column>ht.start.column&&ht.end.column==st[lt+1].start.column&&(ht.end.column-=mt),ht.end.column+=mt,ht.end.row+=ut}}else for(var ut=$-et,mt=j.column-_.column;lt<ct;lt++){var ht=st[lt];if(ht.start.row>et)break;ht.end.row<et&&($<ht.end.row||$==ht.end.row&&j.column<ht.end.column)?(ht.end.row=$,ht.end.column=j.column):ht.end.row==et?ht.end.column<=_.column?(ut||ht.end.column>j.column)&&(ht.end.column=j.column,ht.end.row=j.row):(ht.end.column+=mt,ht.end.row+=ut):ht.end.row>et&&(ht.end.row+=ut),ht.start.row<et&&($<ht.start.row||$==ht.start.row&&j.column<ht.start.column)?(ht.start.row=$,ht.start.column=j.column):ht.start.row==et?ht.start.column<=_.column?(ut||ht.start.column>j.column)&&(ht.start.column=j.column,ht.start.row=j.row):(ht.start.column+=mt,ht.start.row+=ut):ht.start.row>et&&(ht.start.row+=ut)}if(ut!=0&&lt<ct)for(;lt<ct;lt++){var ht=st[lt];ht.start.row+=ut,ht.end.row+=ut}},rt}();at.prototype.comparePoints=ot,a.RangeList=at}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(o,a,nt){var tt=this&&this.__extends||function(){var $=function(et,st){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ct){lt.__proto__=ct}||function(lt,ct){for(var ht in ct)Object.prototype.hasOwnProperty.call(ct,ht)&&(lt[ht]=ct[ht])},$(et,st)};return function(et,st){if(typeof st!="function"&&st!==null)throw new TypeError("Class extends value "+String(st)+" is not a constructor or null");$(et,st);function lt(){this.constructor=et}et.prototype=st===null?Object.create(st):(lt.prototype=st.prototype,new lt)}}(),ot=o("../range_list").RangeList,at=function($){tt(et,$);function et(st,lt){var ct=$.call(this)||this;return ct.foldLine=null,ct.placeholder=lt,ct.range=st,ct.start=st.start,ct.end=st.end,ct.sameRow=st.start.row==st.end.row,ct.subFolds=ct.ranges=[],ct}return et.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},et.prototype.setFoldLine=function(st){this.foldLine=st,this.subFolds.forEach(function(lt){lt.setFoldLine(st)})},et.prototype.clone=function(){var st=this.range.clone(),lt=new et(st,this.placeholder);return this.subFolds.forEach(function(ct){lt.subFolds.push(ct.clone())}),lt.collapseChildren=this.collapseChildren,lt},et.prototype.addSubFold=function(st){if(!this.range.isEqual(st)){it(st,this.start);for(var mt=st.start.row,gt=st.start.column,lt=0,ct=-1;lt<this.subFolds.length&&(ct=this.subFolds[lt].range.compare(mt,gt),ct==1);lt++);var ht=this.subFolds[lt],ut=0;if(ct==0){if(ht.range.containsRange(st))return ht.addSubFold(st);ut=1}for(var mt=st.range.end.row,gt=st.range.end.column,vt=lt,ct=-1;vt<this.subFolds.length&&(ct=this.subFolds[vt].range.compare(mt,gt),ct==1);vt++);ct==0&&vt++;for(var dt=this.subFolds.splice(lt,vt-lt,st),St=ct==0?dt.length-1:dt.length,yt=ut;yt<St;yt++)st.addSubFold(dt[yt]);return st.setFoldLine(this.foldLine),st}},et.prototype.restoreRange=function(st){return _(st,this.start)},et}(ot);function rt($,et){$.row-=et.row,$.row==0&&($.column-=et.column)}function it($,et){rt($.start,et),rt($.end,et)}function j($,et){$.row==0&&($.column+=et.column),$.row+=et.row}function _($,et){j($.start,et),j($.end,et)}a.Fold=at}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(o,a,nt){var tt=o("../range").Range,ot=o("./fold_line").FoldLine,at=o("./fold").Fold,rt=o("../token_iterator").TokenIterator,it=o("../mouse/mouse_event").MouseEvent;function j(){this.getFoldAt=function(_,$,et){var st=this.getFoldLine(_);if(!st)return null;for(var lt=st.folds,ct=0;ct<lt.length;ct++){var ht=lt[ct].range;if(ht.contains(_,$)){if(et==1&&ht.isEnd(_,$)&&!ht.isEmpty())continue;if(et==-1&&ht.isStart(_,$)&&!ht.isEmpty())continue;return lt[ct]}}},this.getFoldsInRange=function(_){var $=_.start,et=_.end,st=this.$foldData,lt=[];$.column+=1,et.column-=1;for(var ct=0;ct<st.length;ct++){var ht=st[ct].range.compareRange(_);if(ht!=2){if(ht==-2)break;for(var ut=st[ct].folds,mt=0;mt<ut.length;mt++){var gt=ut[mt];if(ht=gt.range.compareRange(_),ht==-2)break;if(ht==2)continue;if(ht==42)break;lt.push(gt)}}}return $.column-=1,et.column+=1,lt},this.getFoldsInRangeList=function(_){if(Array.isArray(_)){var $=[];_.forEach(function(et){$=$.concat(this.getFoldsInRange(et))},this)}else var $=this.getFoldsInRange(_);return $},this.getAllFolds=function(){for(var _=[],$=this.$foldData,et=0;et<$.length;et++)for(var st=0;st<$[et].folds.length;st++)_.push($[et].folds[st]);return _},this.getFoldStringAt=function(_,$,et,st){if(st=st||this.getFoldLine(_),!st)return null;for(var lt={end:{column:0}},ct,ht,ut=0;ut<st.folds.length;ut++){ht=st.folds[ut];var mt=ht.range.compareEnd(_,$);if(mt==-1){ct=this.getLine(ht.start.row).substring(lt.end.column,ht.start.column);break}else if(mt===0)return null;lt=ht}return ct||(ct=this.getLine(ht.start.row).substring(lt.end.column)),et==-1?ct.substring(0,$-lt.end.column):et==1?ct.substring($-lt.end.column):ct},this.getFoldLine=function(_,$){var et=this.$foldData,st=0;for($&&(st=et.indexOf($)),st==-1&&(st=0),st;st<et.length;st++){var lt=et[st];if(lt.start.row<=_&&lt.end.row>=_)return lt;if(lt.end.row>_)return null}return null},this.getNextFoldLine=function(_,$){var et=this.$foldData,st=0;for($&&(st=et.indexOf($)),st==-1&&(st=0),st;st<et.length;st++){var lt=et[st];if(lt.end.row>=_)return lt}return null},this.getFoldedRowCount=function(_,$){for(var et=this.$foldData,st=$-_+1,lt=0;lt<et.length;lt++){var ct=et[lt],ht=ct.end.row,ut=ct.start.row;if(ht>=$){ut<$&&(ut>=_?st-=$-ut:st=0);break}else ht>=_&&(ut>=_?st-=ht-ut:st-=ht-_+1)}return st},this.$addFoldLine=function(_){return this.$foldData.push(_),this.$foldData.sort(function($,et){return $.start.row-et.start.row}),_},this.addFold=function(_,$){var et=this.$foldData,st=!1,lt;_ instanceof at?lt=_:(lt=new at($,_),lt.collapseChildren=$.collapseChildren),this.$clipRangeToDocument(lt.range);var ct=lt.start.row,ht=lt.start.column,ut=lt.end.row,mt=lt.end.column,gt=this.getFoldAt(ct,ht,1),vt=this.getFoldAt(ut,mt,-1);if(gt&&vt==gt)return gt.addSubFold(lt);gt&&!gt.range.isStart(ct,ht)&&this.removeFold(gt),vt&&!vt.range.isEnd(ut,mt)&&this.removeFold(vt);var dt=this.getFoldsInRange(lt.range);dt.length>0&&(this.removeFolds(dt),lt.collapseChildren||dt.forEach(function(wt){lt.addSubFold(wt)}));for(var St=0;St<et.length;St++){var yt=et[St];if(ut==yt.start.row){yt.addFold(lt),st=!0;break}else if(ct==yt.end.row){if(yt.addFold(lt),st=!0,!lt.sameRow){var pt=et[St+1];if(pt&&pt.start.row==ut){yt.merge(pt);break}}break}else if(ut<=yt.start.row)break}return st||(yt=this.$addFoldLine(new ot(this.$foldData,lt))),this.$useWrapMode?this.$updateWrapData(yt.start.row,yt.start.row):this.$updateRowLengthCache(yt.start.row,yt.start.row),this.$modified=!0,this._signal("changeFold",{data:lt,action:"add"}),lt},this.addFolds=function(_){_.forEach(function($){this.addFold($)},this)},this.removeFold=function(_){var $=_.foldLine,et=$.start.row,st=$.end.row,lt=this.$foldData,ct=$.folds;if(ct.length==1)lt.splice(lt.indexOf($),1);else if($.range.isEnd(_.end.row,_.end.column))ct.pop(),$.end.row=ct[ct.length-1].end.row,$.end.column=ct[ct.length-1].end.column;else if($.range.isStart(_.start.row,_.start.column))ct.shift(),$.start.row=ct[0].start.row,$.start.column=ct[0].start.column;else if(_.sameRow)ct.splice(ct.indexOf(_),1);else{var ht=$.split(_.start.row,_.start.column);ct=ht.folds,ct.shift(),ht.start.row=ct[0].start.row,ht.start.column=ct[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(et,st):this.$updateRowLengthCache(et,st)),this.$modified=!0,this._signal("changeFold",{data:_,action:"remove"})},this.removeFolds=function(_){for(var $=[],et=0;et<_.length;et++)$.push(_[et]);$.forEach(function(st){this.removeFold(st)},this),this.$modified=!0},this.expandFold=function(_){this.removeFold(_),_.subFolds.forEach(function($){_.restoreRange($),this.addFold($)},this),_.collapseChildren>0&&this.foldAll(_.start.row+1,_.end.row,_.collapseChildren-1),_.subFolds=[]},this.expandFolds=function(_){_.forEach(function($){this.expandFold($)},this)},this.unfold=function(_,$){var et,st;if(_==null)et=new tt(0,0,this.getLength(),0),$==null&&($=!0);else if(typeof _=="number")et=new tt(_,0,_,this.getLine(_).length);else if("row"in _)et=tt.fromPoints(_,_);else{if(Array.isArray(_))return st=[],_.forEach(function(ct){st=st.concat(this.unfold(ct))},this),st;et=_}st=this.getFoldsInRangeList(et);for(var lt=st;st.length==1&&tt.comparePoints(st[0].start,et.start)<0&&tt.comparePoints(st[0].end,et.end)>0;)this.expandFolds(st),st=this.getFoldsInRangeList(et);if($!=!1?this.removeFolds(st):this.expandFolds(st),lt.length)return lt},this.isRowFolded=function(_,$){return!!this.getFoldLine(_,$)},this.getRowFoldEnd=function(_,$){var et=this.getFoldLine(_,$);return et?et.end.row:_},this.getRowFoldStart=function(_,$){var et=this.getFoldLine(_,$);return et?et.start.row:_},this.getFoldDisplayLine=function(_,$,et,st,lt){st==null&&(st=_.start.row),lt==null&&(lt=0),$==null&&($=_.end.row),et==null&&(et=this.getLine($).length);var ct=this.doc,ht="";return _.walk(function(ut,mt,gt,vt){if(!(mt<st)){if(mt==st){if(gt<lt)return;vt=Math.max(lt,vt)}ut!=null?ht+=ut:ht+=ct.getLine(mt).substring(vt,gt)}},$,et),ht},this.getDisplayLine=function(_,$,et,st){var lt=this.getFoldLine(_);if(lt)return this.getFoldDisplayLine(lt,_,$,et,st);var ct;return ct=this.doc.getLine(_),ct.substring(st||0,$||ct.length)},this.$cloneFoldData=function(){var _=[];return _=this.$foldData.map(function($){var et=$.folds.map(function(st){return st.clone()});return new ot(_,et)}),_},this.toggleFold=function(_){var $=this.selection,et=$.getRange(),st,lt;if(et.isEmpty()){var ct=et.start;if(st=this.getFoldAt(ct.row,ct.column),st){this.expandFold(st);return}else(lt=this.findMatchingBracket(ct))?et.comparePoint(lt)==1?et.end=lt:(et.start=lt,et.start.column++,et.end.column--):(lt=this.findMatchingBracket({row:ct.row,column:ct.column+1}))?(et.comparePoint(lt)==1?et.end=lt:et.start=lt,et.start.column++):et=this.getCommentFoldRange(ct.row,ct.column)||et}else{var ht=this.getFoldsInRange(et);if(_&&ht.length){this.expandFolds(ht);return}else ht.length==1&&(st=ht[0])}if(st||(st=this.getFoldAt(et.start.row,et.start.column)),st&&st.range.toString()==et.toString()){this.expandFold(st);return}var ut="...";if(!et.isMultiLine()){if(ut=this.getTextRange(et),ut.length<4)return;ut=ut.trim().substring(0,2)+".."}this.addFold(ut,et)},this.getCommentFoldRange=function(_,$,et){var st=new rt(this,_,$),lt=st.getCurrentToken(),ct=lt&&lt.type;if(lt&&/^comment|string/.test(ct)){ct=ct.match(/comment|string/)[0],ct=="comment"&&(ct+="|doc-start|\\.doc");var ht=new RegExp(ct),ut=new tt;if(et!=1){do lt=st.stepBackward();while(lt&&ht.test(lt.type)&&!/^comment.end/.test(lt.type));lt=st.stepForward()}if(ut.start.row=st.getCurrentTokenRow(),ut.start.column=st.getCurrentTokenColumn()+(/^comment.start/.test(lt.type)?lt.value.length:2),st=new rt(this,_,$),et!=-1){var mt=-1;do if(lt=st.stepForward(),mt==-1){var gt=this.getState(st.$row);ht.test(gt)||(mt=st.$row)}else if(st.$row>mt)break;while(lt&&ht.test(lt.type)&&!/^comment.start/.test(lt.type));lt=st.stepBackward()}else lt=st.getCurrentToken();return ut.end.row=st.getCurrentTokenRow(),ut.end.column=st.getCurrentTokenColumn(),/^comment.end/.test(lt.type)||(ut.end.column+=lt.value.length-2),ut}},this.foldAll=function(_,$,et,st){et==null&&(et=1e5);var lt=this.foldWidgets;if(lt){$=$||this.getLength(),_=_||0;for(var ct=_;ct<$;ct++)if(lt[ct]==null&&(lt[ct]=this.getFoldWidget(ct)),lt[ct]=="start"&&!(st&&!st(ct))){var ht=this.getFoldWidgetRange(ct);ht&&ht.isMultiLine()&&ht.end.row<=$&&ht.start.row>=_&&(ct=ht.end.row,ht.collapseChildren=et,this.addFold("...",ht))}}},this.foldToLevel=function(_){for(this.foldAll();_-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var _=this;this.foldAll(null,null,null,function($){for(var et=_.getTokens($),st=0;st<et.length;st++){var lt=et[st];if(!(lt.type=="text"&&/^\s+$/.test(lt.value)))return!!/comment/.test(lt.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(_){if(!this.$foldStyles[_])throw new Error("invalid fold style: "+_+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=_){this.$foldStyle=_,_=="manual"&&this.unfold();var $=this.$foldMode;this.$setFolding(null),this.$setFolding($)}},this.$setFolding=function(_){if(this.$foldMode!=_){if(this.$foldMode=_,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!_||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=_.getFoldWidget.bind(_,this,this.$foldStyle),this.getFoldWidgetRange=_.getFoldWidgetRange.bind(_,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(_,$){var et=this.foldWidgets;if(!et||$&&et[_])return{};for(var st=_-1,lt;st>=0;){var ct=et[st];if(ct==null&&(ct=et[st]=this.getFoldWidget(st)),ct=="start"){var ht=this.getFoldWidgetRange(st);if(lt||(lt=ht),ht&&ht.end.row>=_)break}st--}return{range:st!==-1&&ht,firstRange:lt}},this.onFoldWidgetClick=function(_,$){$ instanceof it&&($=$.domEvent);var et={children:$.shiftKey,all:$.ctrlKey||$.metaKey,siblings:$.altKey},st=this.$toggleFoldWidget(_,et);if(!st){var lt=$.target||$.srcElement;lt&&/ace_fold-widget/.test(lt.className)&&(lt.className+=" ace_invalid")}},this.$toggleFoldWidget=function(_,$){if(this.getFoldWidget){var et=this.getFoldWidget(_),st=this.getLine(_),lt=et==="end"?-1:1,ct=this.getFoldAt(_,lt===-1?0:st.length,lt);if(ct)return $.children||$.all?this.removeFold(ct):this.expandFold(ct),ct;var ht=this.getFoldWidgetRange(_,!0);if(ht&&!ht.isMultiLine()&&(ct=this.getFoldAt(ht.start.row,ht.start.column,1),ct&&ht.isEqual(ct.range)))return this.removeFold(ct),ct;if($.siblings){var ut=this.getParentFoldRangeData(_);if(ut.range)var mt=ut.range.start.row+1,gt=ut.range.end.row;this.foldAll(mt,gt,$.all?1e4:0)}else $.children?(gt=ht?ht.end.row:this.getLength(),this.foldAll(_+1,gt,$.all?1e4:0)):ht&&($.all&&(ht.collapseChildren=1e4),this.addFold("...",ht));return ht}},this.toggleFoldWidget=function(_){var $=this.selection.getCursor().row;$=this.getRowFoldStart($);var et=this.$toggleFoldWidget($,{});if(!et){var st=this.getParentFoldRangeData($,!0);if(et=st.range||st.firstRange,et){$=et.start.row;var lt=this.getFoldAt($,this.getLine($).length,1);lt?this.removeFold(lt):this.addFold("...",et)}}},this.updateFoldWidgets=function(_){var $=_.start.row,et=_.end.row-$;if(et===0)this.foldWidgets[$]=null;else if(_.action=="remove")this.foldWidgets.splice($,et+1,null);else{var st=Array(et+1);st.unshift($,1),this.foldWidgets.splice.apply(this.foldWidgets,st)}},this.tokenizerUpdateFoldWidgets=function(_){var $=_.data;$.first!=$.last&&this.foldWidgets.length>$.first&&this.foldWidgets.splice($.first,this.foldWidgets.length)}}a.Folding=j}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(o,a,nt){var tt=o("../token_iterator").TokenIterator,ot=o("../range").Range;function at(){this.findMatchingBracket=function(rt,it){if(rt.column==0)return null;var j=it||this.getLine(rt.row).charAt(rt.column-1);if(j=="")return null;var _=j.match(/([\(\[\{])|([\)\]\}])/);return _?_[1]?this.$findClosingBracket(_[1],rt):this.$findOpeningBracket(_[2],rt):null},this.getBracketRange=function(rt){var it=this.getLine(rt.row),j=!0,_,$=it.charAt(rt.column-1),et=$&&$.match(/([\(\[\{])|([\)\]\}])/);if(et||($=it.charAt(rt.column),rt={row:rt.row,column:rt.column+1},et=$&&$.match(/([\(\[\{])|([\)\]\}])/),j=!1),!et)return null;if(et[1]){var st=this.$findClosingBracket(et[1],rt);if(!st)return null;_=ot.fromPoints(rt,st),j||(_.end.column++,_.start.column--),_.cursor=_.end}else{var st=this.$findOpeningBracket(et[2],rt);if(!st)return null;_=ot.fromPoints(st,rt),j||(_.start.column++,_.end.column--),_.cursor=_.start}return _},this.getMatchingBracketRanges=function(rt,it){var j=this.getLine(rt.row),_=/([\(\[\{])|([\)\]\}])/,$=!it&&j.charAt(rt.column-1),et=$&&$.match(_);if(et||($=(it===void 0||it)&&j.charAt(rt.column),rt={row:rt.row,column:rt.column+1},et=$&&$.match(_)),!et)return null;var st=new ot(rt.row,rt.column-1,rt.row,rt.column),lt=et[1]?this.$findClosingBracket(et[1],rt):this.$findOpeningBracket(et[2],rt);if(!lt)return[st];var ct=new ot(lt.row,lt.column,lt.row,lt.column+1);return[st,ct]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(rt,it,j){var _=this.$brackets[rt],$=1,et=new tt(this,it.row,it.column),st=et.getCurrentToken();if(st||(st=et.stepForward()),!!st){j||(j=new RegExp("(\\.?"+st.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var lt=it.column-et.getCurrentTokenColumn()-2,ct=st.value;;){for(;lt>=0;){var ht=ct.charAt(lt);if(ht==_){if($-=1,$==0)return{row:et.getCurrentTokenRow(),column:lt+et.getCurrentTokenColumn()}}else ht==rt&&($+=1);lt-=1}do st=et.stepBackward();while(st&&!j.test(st.type));if(st==null)break;ct=st.value,lt=ct.length-1}return null}},this.$findClosingBracket=function(rt,it,j){var _=this.$brackets[rt],$=1,et=new tt(this,it.row,it.column),st=et.getCurrentToken();if(st||(st=et.stepForward()),!!st){j||(j=new RegExp("(\\.?"+st.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var lt=it.column-et.getCurrentTokenColumn();;){for(var ct=st.value,ht=ct.length;lt<ht;){var ut=ct.charAt(lt);if(ut==_){if($-=1,$==0)return{row:et.getCurrentTokenRow(),column:lt+et.getCurrentTokenColumn()}}else ut==rt&&($+=1);lt+=1}do st=et.stepForward();while(st&&!j.test(st.type));if(st==null)break;lt=0}return null}},this.getMatchingTags=function(rt){var it=new tt(this,rt.row,rt.column),j=this.$findTagName(it);if(j){var _=it.stepBackward();return _.value==="<"?this.$findClosingTag(it,j):this.$findOpeningTag(it,j)}},this.$findTagName=function(rt){var it=rt.getCurrentToken(),j=!1,_=!1;if(it&&it.type.indexOf("tag-name")===-1)do _?it=rt.stepBackward():it=rt.stepForward(),it&&(it.value==="/>"?_=!0:it.type.indexOf("tag-name")!==-1&&(j=!0));while(it&&!j);return it},this.$findClosingTag=function(rt,it){var j,_=it.value,$=it.value,et=0,st=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);it=rt.stepForward();var lt=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+it.value.length),ct=!1;do if(j=it,it=rt.stepForward(),it){if(it.value===">"&&!ct){var ht=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);ct=!0}if(it.type.indexOf("tag-name")!==-1){if(_=it.value,$===_){if(j.value==="<")et++;else if(j.value==="</"&&(et--,et<0)){rt.stepBackward();var ut=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+2);it=rt.stepForward();var mt=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+it.value.length);if(it=rt.stepForward(),it&&it.value===">")var gt=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);else return}}}else if($===_&&it.value==="/>"&&(et--,et<0))var ut=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+2),mt=ut,gt=mt,ht=new ot(lt.end.row,lt.end.column,lt.end.row,lt.end.column+1)}while(it&&et>=0);if(st&&ht&&ut&&gt&&lt&&mt)return{openTag:new ot(st.start.row,st.start.column,ht.end.row,ht.end.column),closeTag:new ot(ut.start.row,ut.start.column,gt.end.row,gt.end.column),openTagName:lt,closeTagName:mt}},this.$findOpeningTag=function(rt,it){var j=rt.getCurrentToken(),_=it.value,$=0,et=rt.getCurrentTokenRow(),st=rt.getCurrentTokenColumn(),lt=st+2,ct=new ot(et,st,et,lt);rt.stepForward();var ht=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+it.value.length);if(it=rt.stepForward(),!(!it||it.value!==">")){var ut=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);rt.stepBackward(),rt.stepBackward();do if(it=j,et=rt.getCurrentTokenRow(),st=rt.getCurrentTokenColumn(),lt=st+it.value.length,j=rt.stepBackward(),it){if(it.type.indexOf("tag-name")!==-1){if(_===it.value)if(j.value==="<"){if($++,$>0){var mt=new ot(et,st,et,lt),gt=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);do it=rt.stepForward();while(it&&it.value!==">");var vt=new ot(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1)}}else j.value==="</"&&$--}else if(it.value==="/>"){for(var dt=0,St=j;St;){if(St.type.indexOf("tag-name")!==-1&&St.value===_){$--;break}else if(St.value==="<")break;St=rt.stepBackward(),dt++}for(var yt=0;yt<dt;yt++)rt.stepForward()}}while(j&&$<=0);if(gt&&vt&&ct&&ut&&mt&&ht)return{openTag:new ot(gt.start.row,gt.start.column,vt.end.row,vt.end.column),closeTag:new ot(ct.start.row,ct.start.column,ut.end.row,ut.end.column),openTagName:mt,closeTagName:ht}}}}a.BracketMatch=at}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(o,a,nt){var tt=o("./lib/oop"),ot=o("./lib/lang"),at=o("./bidihandler").BidiHandler,rt=o("./config"),it=o("./lib/event_emitter").EventEmitter,j=o("./selection").Selection,_=o("./mode/text").Mode,$=o("./range").Range,et=o("./document").Document,st=o("./background_tokenizer").BackgroundTokenizer,lt=o("./search_highlight").SearchHighlight,ct=o("./undomanager").UndoManager,ht=function(){function Et(Ct,kt){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++Et.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new st(new _().getTokenizer(),this);var Tt=this;this.bgTokenizer.on("update",function(At){Tt._signal("tokenizerUpdate",At)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof Ct!="object"||!Ct.getLine)&&(Ct=new et(Ct)),this.setDocument(Ct),this.selection=new j(this),this.$bidiHandler=new at(this),rt.resetOptions(this),this.setMode(kt),rt._signal("session",this),this.destroyed=!1}return Et.prototype.setDocument=function(Ct){this.doc&&this.doc.off("change",this.$onChange),this.doc=Ct,Ct.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},Et.prototype.getDocument=function(){return this.doc},Et.prototype.$resetRowCache=function(Ct){if(!Ct){this.$docRowCache=[],this.$screenRowCache=[];return}var kt=this.$docRowCache.length,Tt=this.$getRowCacheIndex(this.$docRowCache,Ct)+1;kt>Tt&&(this.$docRowCache.splice(Tt,kt),this.$screenRowCache.splice(Tt,kt))},Et.prototype.$getRowCacheIndex=function(Ct,kt){for(var Tt=0,At=Ct.length-1;Tt<=At;){var It=Tt+At>>1,Ot=Ct[It];if(kt>Ot)Tt=It+1;else if(kt<Ot)At=It-1;else return It}return Tt-1},Et.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},Et.prototype.onChangeFold=function(Ct){var kt=Ct.data;this.$resetRowCache(kt.start.row)},Et.prototype.onChange=function(Ct){this.$modified=!0,this.$bidiHandler.onChange(Ct),this.$resetRowCache(Ct.start.row);var kt=this.$updateInternalDataOnChange(Ct);!this.$fromUndo&&this.$undoManager&&(kt&&kt.length&&(this.$undoManager.add({action:"removeFolds",folds:kt},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(Ct,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(Ct),this._signal("change",Ct)},Et.prototype.setValue=function(Ct){this.doc.setValue(Ct),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},Et.fromJSON=function(Ct){typeof Ct=="string"&&(Ct=JSON.parse(Ct));var kt=new ct;kt.$undoStack=Ct.history.undo,kt.$redoStack=Ct.history.redo,kt.mark=Ct.history.mark,kt.$rev=Ct.history.rev;var Tt=new Et(Ct.value);return Ct.folds.forEach(function(At){Tt.addFold("...",$.fromPoints(At.start,At.end))}),Tt.setAnnotations(Ct.annotations),Tt.setBreakpoints(Ct.breakpoints),Tt.setMode(Ct.mode),Tt.setScrollLeft(Ct.scrollLeft),Tt.setScrollTop(Ct.scrollTop),Tt.setUndoManager(kt),Tt.selection.fromJSON(Ct.selection),Tt},Et.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(Ct){return Ct.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},Et.prototype.toString=function(){return this.doc.getValue()},Et.prototype.getSelection=function(){return this.selection},Et.prototype.getState=function(Ct){return this.bgTokenizer.getState(Ct)},Et.prototype.getTokens=function(Ct){return this.bgTokenizer.getTokens(Ct)},Et.prototype.getTokenAt=function(Ct,kt){var Tt=this.bgTokenizer.getTokens(Ct),At,It=0;if(kt==null){var Ot=Tt.length-1;It=this.getLine(Ct).length}else for(var Ot=0;Ot<Tt.length&&(It+=Tt[Ot].value.length,!(It>=kt));Ot++);return At=Tt[Ot],At?(At.index=Ot,At.start=It-At.value.length,At):null},Et.prototype.setUndoManager=function(Ct){if(this.$undoManager=Ct,this.$informUndoManager&&this.$informUndoManager.cancel(),Ct){var kt=this;Ct.addSession(this),this.$syncInformUndoManager=function(){kt.$informUndoManager.cancel(),kt.mergeUndoDeltas=!1},this.$informUndoManager=ot.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},Et.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},Et.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},Et.prototype.getTabString=function(){return this.getUseSoftTabs()?ot.stringRepeat(" ",this.getTabSize()):"	"},Et.prototype.setUseSoftTabs=function(Ct){this.setOption("useSoftTabs",Ct)},Et.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},Et.prototype.setTabSize=function(Ct){this.setOption("tabSize",Ct)},Et.prototype.getTabSize=function(){return this.$tabSize},Et.prototype.isTabStop=function(Ct){return this.$useSoftTabs&&Ct.column%this.$tabSize===0},Et.prototype.setNavigateWithinSoftTabs=function(Ct){this.setOption("navigateWithinSoftTabs",Ct)},Et.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},Et.prototype.setOverwrite=function(Ct){this.setOption("overwrite",Ct)},Et.prototype.getOverwrite=function(){return this.$overwrite},Et.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},Et.prototype.addGutterDecoration=function(Ct,kt){this.$decorations[Ct]||(this.$decorations[Ct]=""),this.$decorations[Ct]+=" "+kt,this._signal("changeBreakpoint",{})},Et.prototype.removeGutterDecoration=function(Ct,kt){this.$decorations[Ct]=(this.$decorations[Ct]||"").replace(" "+kt,""),this._signal("changeBreakpoint",{})},Et.prototype.getBreakpoints=function(){return this.$breakpoints},Et.prototype.setBreakpoints=function(Ct){this.$breakpoints=[];for(var kt=0;kt<Ct.length;kt++)this.$breakpoints[Ct[kt]]="ace_breakpoint";this._signal("changeBreakpoint",{})},Et.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},Et.prototype.setBreakpoint=function(Ct,kt){kt===void 0&&(kt="ace_breakpoint"),kt?this.$breakpoints[Ct]=kt:delete this.$breakpoints[Ct],this._signal("changeBreakpoint",{})},Et.prototype.clearBreakpoint=function(Ct){delete this.$breakpoints[Ct],this._signal("changeBreakpoint",{})},Et.prototype.addMarker=function(Ct,kt,Tt,At){var It=this.$markerId++,Ot={range:Ct,type:Tt||"line",renderer:typeof Tt=="function"?Tt:null,clazz:kt,inFront:!!At,id:It};return At?(this.$frontMarkers[It]=Ot,this._signal("changeFrontMarker")):(this.$backMarkers[It]=Ot,this._signal("changeBackMarker")),It},Et.prototype.addDynamicMarker=function(Ct,kt){if(Ct.update){var Tt=this.$markerId++;return Ct.id=Tt,Ct.inFront=!!kt,kt?(this.$frontMarkers[Tt]=Ct,this._signal("changeFrontMarker")):(this.$backMarkers[Tt]=Ct,this._signal("changeBackMarker")),Ct}},Et.prototype.removeMarker=function(Ct){var kt=this.$frontMarkers[Ct]||this.$backMarkers[Ct];if(kt){var Tt=kt.inFront?this.$frontMarkers:this.$backMarkers;delete Tt[Ct],this._signal(kt.inFront?"changeFrontMarker":"changeBackMarker")}},Et.prototype.getMarkers=function(Ct){return Ct?this.$frontMarkers:this.$backMarkers},Et.prototype.highlight=function(Ct){if(!this.$searchHighlight){var kt=new lt(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(kt)}this.$searchHighlight.setRegexp(Ct)},Et.prototype.highlightLines=function(Ct,kt,Tt,At){typeof kt!="number"&&(Tt=kt,kt=Ct),Tt||(Tt="ace_step");var It=new $(Ct,0,kt,1/0);return It.id=this.addMarker(It,Tt,"fullLine",At),It},Et.prototype.setAnnotations=function(Ct){this.$annotations=Ct,this._signal("changeAnnotation",{})},Et.prototype.getAnnotations=function(){return this.$annotations||[]},Et.prototype.clearAnnotations=function(){this.setAnnotations([])},Et.prototype.$detectNewLine=function(Ct){var kt=Ct.match(/^.*?(\r?\n)/m);kt?this.$autoNewLine=kt[1]:this.$autoNewLine=`
`},Et.prototype.getWordRange=function(Ct,kt){var Tt=this.getLine(Ct),At=!1;if(kt>0&&(At=!!Tt.charAt(kt-1).match(this.tokenRe)),At||(At=!!Tt.charAt(kt).match(this.tokenRe)),At)var It=this.tokenRe;else if(/^\s+$/.test(Tt.slice(kt-1,kt+1)))var It=/\s/;else var It=this.nonTokenRe;var Ot=kt;if(Ot>0){do Ot--;while(Ot>=0&&Tt.charAt(Ot).match(It));Ot++}for(var Mt=kt;Mt<Tt.length&&Tt.charAt(Mt).match(It);)Mt++;return new $(Ct,Ot,Ct,Mt)},Et.prototype.getAWordRange=function(Ct,kt){for(var Tt=this.getWordRange(Ct,kt),At=this.getLine(Tt.end.row);At.charAt(Tt.end.column).match(/[ \t]/);)Tt.end.column+=1;return Tt},Et.prototype.setNewLineMode=function(Ct){this.doc.setNewLineMode(Ct)},Et.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},Et.prototype.setUseWorker=function(Ct){this.setOption("useWorker",Ct)},Et.prototype.getUseWorker=function(){return this.$useWorker},Et.prototype.onReloadTokenizer=function(Ct){var kt=Ct.data;this.bgTokenizer.start(kt.first),this._signal("tokenizerUpdate",Ct)},Et.prototype.setMode=function(Ct,kt){if(Ct&&typeof Ct=="object"){if(Ct.getTokenizer)return this.$onChangeMode(Ct);var Tt=Ct,At=Tt.path}else At=Ct||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new _),this.$modes[At]&&!Tt){this.$onChangeMode(this.$modes[At]),kt&&kt();return}this.$modeId=At,rt.loadModule(["mode",At],(function(It){if(this.$modeId!==At)return kt&&kt();this.$modes[At]&&!Tt?this.$onChangeMode(this.$modes[At]):It&&It.Mode&&(It=new It.Mode(Tt),Tt||(this.$modes[At]=It,It.$id=At),this.$onChangeMode(It)),kt&&kt()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},Et.prototype.$onChangeMode=function(Ct,kt){if(kt||(this.$modeId=Ct.$id),this.$mode!==Ct){var Tt=this.$mode;this.$mode=Ct,this.$stopWorker(),this.$useWorker&&this.$startWorker();var At=Ct.getTokenizer();if(At.on!==void 0){var It=this.onReloadTokenizer.bind(this);At.on("update",It)}this.bgTokenizer.setTokenizer(At),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=Ct.tokenRe,this.nonTokenRe=Ct.nonTokenRe,kt||(Ct.attachToSession&&Ct.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(Ct.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:Tt,mode:Ct}))}},Et.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},Et.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(Ct){rt.warn("Could not load worker",Ct),this.$worker=null}},Et.prototype.getMode=function(){return this.$mode},Et.prototype.setScrollTop=function(Ct){this.$scrollTop===Ct||isNaN(Ct)||(this.$scrollTop=Ct,this._signal("changeScrollTop",Ct))},Et.prototype.getScrollTop=function(){return this.$scrollTop},Et.prototype.setScrollLeft=function(Ct){this.$scrollLeft===Ct||isNaN(Ct)||(this.$scrollLeft=Ct,this._signal("changeScrollLeft",Ct))},Et.prototype.getScrollLeft=function(){return this.$scrollLeft},Et.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},Et.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var Ct=0;return this.lineWidgets.forEach(function(kt){kt&&kt.screenWidth>Ct&&(Ct=kt.screenWidth)}),this.lineWidgetWidth=Ct},Et.prototype.$computeWidth=function(Ct){if(this.$modified||Ct){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var kt=this.doc.getAllLines(),Tt=this.$rowLengthCache,At=0,It=0,Ot=this.$foldData[It],Mt=Ot?Ot.start.row:1/0,Dt=kt.length,Bt=0;Bt<Dt;Bt++){if(Bt>Mt){if(Bt=Ot.end.row+1,Bt>=Dt)break;Ot=this.$foldData[It++],Mt=Ot?Ot.start.row:1/0}Tt[Bt]==null&&(Tt[Bt]=this.$getStringScreenWidth(kt[Bt])[0]),Tt[Bt]>At&&(At=Tt[Bt])}this.screenWidth=At}},Et.prototype.getLine=function(Ct){return this.doc.getLine(Ct)},Et.prototype.getLines=function(Ct,kt){return this.doc.getLines(Ct,kt)},Et.prototype.getLength=function(){return this.doc.getLength()},Et.prototype.getTextRange=function(Ct){return this.doc.getTextRange(Ct||this.selection.getRange())},Et.prototype.insert=function(Ct,kt){return this.doc.insert(Ct,kt)},Et.prototype.remove=function(Ct){return this.doc.remove(Ct)},Et.prototype.removeFullLines=function(Ct,kt){return this.doc.removeFullLines(Ct,kt)},Et.prototype.undoChanges=function(Ct,kt){if(Ct.length){this.$fromUndo=!0;for(var Tt=Ct.length-1;Tt!=-1;Tt--){var At=Ct[Tt];At.action=="insert"||At.action=="remove"?this.doc.revertDelta(At):At.folds&&this.addFolds(At.folds)}!kt&&this.$undoSelect&&(Ct.selectionBefore?this.selection.fromJSON(Ct.selectionBefore):this.selection.setRange(this.$getUndoSelection(Ct,!0))),this.$fromUndo=!1}},Et.prototype.redoChanges=function(Ct,kt){if(Ct.length){this.$fromUndo=!0;for(var Tt=0;Tt<Ct.length;Tt++){var At=Ct[Tt];(At.action=="insert"||At.action=="remove")&&this.doc.$safeApplyDelta(At)}!kt&&this.$undoSelect&&(Ct.selectionAfter?this.selection.fromJSON(Ct.selectionAfter):this.selection.setRange(this.$getUndoSelection(Ct,!1))),this.$fromUndo=!1}},Et.prototype.setUndoSelect=function(Ct){this.$undoSelect=Ct},Et.prototype.$getUndoSelection=function(Ct,kt){function Tt(Dt){return kt?Dt.action!=="insert":Dt.action==="insert"}for(var At,It,Ot=0;Ot<Ct.length;Ot++){var Mt=Ct[Ot];if(Mt.start){if(!At){Tt(Mt)?At=$.fromPoints(Mt.start,Mt.end):At=$.fromPoints(Mt.start,Mt.start);continue}Tt(Mt)?(It=Mt.start,At.compare(It.row,It.column)==-1&&At.setStart(It),It=Mt.end,At.compare(It.row,It.column)==1&&At.setEnd(It)):(It=Mt.start,At.compare(It.row,It.column)==-1&&(At=$.fromPoints(Mt.start,Mt.start)))}}return At},Et.prototype.replace=function(Ct,kt){return this.doc.replace(Ct,kt)},Et.prototype.moveText=function(Ct,kt,Tt){var At=this.getTextRange(Ct),It=this.getFoldsInRange(Ct),Ot=$.fromPoints(kt,kt);if(!Tt){this.remove(Ct);var Mt=Ct.start.row-Ct.end.row,Dt=Mt?-Ct.end.column:Ct.start.column-Ct.end.column;Dt&&(Ot.start.row==Ct.end.row&&Ot.start.column>Ct.end.column&&(Ot.start.column+=Dt),Ot.end.row==Ct.end.row&&Ot.end.column>Ct.end.column&&(Ot.end.column+=Dt)),Mt&&Ot.start.row>=Ct.end.row&&(Ot.start.row+=Mt,Ot.end.row+=Mt)}if(Ot.end=this.insert(Ot.start,At),It.length){var Bt=Ct.start,qt=Ot.start,Mt=qt.row-Bt.row,Dt=qt.column-Bt.column;this.addFolds(It.map(function(Ht){return Ht=Ht.clone(),Ht.start.row==Bt.row&&(Ht.start.column+=Dt),Ht.end.row==Bt.row&&(Ht.end.column+=Dt),Ht.start.row+=Mt,Ht.end.row+=Mt,Ht}))}return Ot},Et.prototype.indentRows=function(Ct,kt,Tt){Tt=Tt.replace(/\t/g,this.getTabString());for(var At=Ct;At<=kt;At++)this.doc.insertInLine({row:At,column:0},Tt)},Et.prototype.outdentRows=function(Ct){for(var kt=Ct.collapseRows(),Tt=new $(0,0,0,0),At=this.getTabSize(),It=kt.start.row;It<=kt.end.row;++It){var Ot=this.getLine(It);Tt.start.row=It,Tt.end.row=It;for(var Mt=0;Mt<At&&Ot.charAt(Mt)==" ";++Mt);Mt<At&&Ot.charAt(Mt)=="	"?(Tt.start.column=Mt,Tt.end.column=Mt+1):(Tt.start.column=0,Tt.end.column=Mt),this.remove(Tt)}},Et.prototype.$moveLines=function(Ct,kt,Tt){if(Ct=this.getRowFoldStart(Ct),kt=this.getRowFoldEnd(kt),Tt<0){var At=this.getRowFoldStart(Ct+Tt);if(At<0)return 0;var It=At-Ct}else if(Tt>0){var At=this.getRowFoldEnd(kt+Tt);if(At>this.doc.getLength()-1)return 0;var It=At-kt}else{Ct=this.$clipRowToDocument(Ct),kt=this.$clipRowToDocument(kt);var It=kt-Ct+1}var Ot=new $(Ct,0,kt,Number.MAX_VALUE),Mt=this.getFoldsInRange(Ot).map(function(Bt){return Bt=Bt.clone(),Bt.start.row+=It,Bt.end.row+=It,Bt}),Dt=Tt==0?this.doc.getLines(Ct,kt):this.doc.removeFullLines(Ct,kt);return this.doc.insertFullLines(Ct+It,Dt),Mt.length&&this.addFolds(Mt),It},Et.prototype.moveLinesUp=function(Ct,kt){return this.$moveLines(Ct,kt,-1)},Et.prototype.moveLinesDown=function(Ct,kt){return this.$moveLines(Ct,kt,1)},Et.prototype.duplicateLines=function(Ct,kt){return this.$moveLines(Ct,kt,0)},Et.prototype.$clipRowToDocument=function(Ct){return Math.max(0,Math.min(Ct,this.doc.getLength()-1))},Et.prototype.$clipColumnToRow=function(Ct,kt){return kt<0?0:Math.min(this.doc.getLine(Ct).length,kt)},Et.prototype.$clipPositionToDocument=function(Ct,kt){if(kt=Math.max(0,kt),Ct<0)Ct=0,kt=0;else{var Tt=this.doc.getLength();Ct>=Tt?(Ct=Tt-1,kt=this.doc.getLine(Tt-1).length):kt=Math.min(this.doc.getLine(Ct).length,kt)}return{row:Ct,column:kt}},Et.prototype.$clipRangeToDocument=function(Ct){Ct.start.row<0?(Ct.start.row=0,Ct.start.column=0):Ct.start.column=this.$clipColumnToRow(Ct.start.row,Ct.start.column);var kt=this.doc.getLength()-1;return Ct.end.row>kt?(Ct.end.row=kt,Ct.end.column=this.doc.getLine(kt).length):Ct.end.column=this.$clipColumnToRow(Ct.end.row,Ct.end.column),Ct},Et.prototype.setUseWrapMode=function(Ct){if(Ct!=this.$useWrapMode){if(this.$useWrapMode=Ct,this.$modified=!0,this.$resetRowCache(0),Ct){var kt=this.getLength();this.$wrapData=Array(kt),this.$updateWrapData(0,kt-1)}this._signal("changeWrapMode")}},Et.prototype.getUseWrapMode=function(){return this.$useWrapMode},Et.prototype.setWrapLimitRange=function(Ct,kt){(this.$wrapLimitRange.min!==Ct||this.$wrapLimitRange.max!==kt)&&(this.$wrapLimitRange={min:Ct,max:kt},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},Et.prototype.adjustWrapLimit=function(Ct,kt){var Tt=this.$wrapLimitRange;Tt.max<0&&(Tt={min:kt,max:kt});var At=this.$constrainWrapLimit(Ct,Tt.min,Tt.max);return At!=this.$wrapLimit&&At>1?(this.$wrapLimit=At,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},Et.prototype.$constrainWrapLimit=function(Ct,kt,Tt){return kt&&(Ct=Math.max(kt,Ct)),Tt&&(Ct=Math.min(Tt,Ct)),Ct},Et.prototype.getWrapLimit=function(){return this.$wrapLimit},Et.prototype.setWrapLimit=function(Ct){this.setWrapLimitRange(Ct,Ct)},Et.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},Et.prototype.$updateInternalDataOnChange=function(Ct){var kt=this.$useWrapMode,Tt=Ct.action,At=Ct.start,It=Ct.end,Ot=At.row,Mt=It.row,Dt=Mt-Ot,Bt=null;if(this.$updating=!0,Dt!=0)if(Tt==="remove"){this[kt?"$wrapData":"$rowLengthCache"].splice(Ot,Dt);var qt=this.$foldData;Bt=this.getFoldsInRange(Ct),this.removeFolds(Bt);var Wt=this.getFoldLine(It.row),Vt=0;if(Wt){Wt.addRemoveChars(It.row,It.column,At.column-It.column),Wt.shiftRow(-Dt);var Ht=this.getFoldLine(Ot);Ht&&Ht!==Wt&&(Ht.merge(Wt),Wt=Ht),Vt=qt.indexOf(Wt)+1}for(Vt;Vt<qt.length;Vt++){var Wt=qt[Vt];Wt.start.row>=It.row&&Wt.shiftRow(-Dt)}Mt=Ot}else{var Jt=Array(Dt);Jt.unshift(Ot,0);var Qt=kt?this.$wrapData:this.$rowLengthCache;Qt.splice.apply(Qt,Jt);var qt=this.$foldData,Wt=this.getFoldLine(Ot),Vt=0;if(Wt){var cr=Wt.range.compareInside(At.row,At.column);cr==0?(Wt=Wt.split(At.row,At.column),Wt&&(Wt.shiftRow(Dt),Wt.addRemoveChars(Mt,0,It.column-At.column))):cr==-1&&(Wt.addRemoveChars(Ot,0,It.column-At.column),Wt.shiftRow(Dt)),Vt=qt.indexOf(Wt)+1}for(Vt;Vt<qt.length;Vt++){var Wt=qt[Vt];Wt.start.row>=Ot&&Wt.shiftRow(Dt)}}else{Dt=Math.abs(Ct.start.column-Ct.end.column),Tt==="remove"&&(Bt=this.getFoldsInRange(Ct),this.removeFolds(Bt),Dt=-Dt);var Wt=this.getFoldLine(Ot);Wt&&Wt.addRemoveChars(Ot,At.column,Dt)}return kt&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,kt?this.$updateWrapData(Ot,Mt):this.$updateRowLengthCache(Ot,Mt),Bt},Et.prototype.$updateRowLengthCache=function(Ct,kt){this.$rowLengthCache[Ct]=null,this.$rowLengthCache[kt]=null},Et.prototype.$updateWrapData=function(Ct,kt){var Tt=this.doc.getAllLines(),At=this.getTabSize(),It=this.$wrapData,Ot=this.$wrapLimit,Mt,Dt,Bt=Ct;for(kt=Math.min(kt,Tt.length-1);Bt<=kt;)Dt=this.getFoldLine(Bt,Dt),Dt?(Mt=[],Dt.walk((function(qt,Wt,Vt,Ht){var Jt;if(qt!=null){Jt=this.$getDisplayTokens(qt,Mt.length),Jt[0]=gt;for(var Qt=1;Qt<Jt.length;Qt++)Jt[Qt]=vt}else Jt=this.$getDisplayTokens(Tt[Wt].substring(Ht,Vt),Mt.length);Mt=Mt.concat(Jt)}).bind(this),Dt.end.row,Tt[Dt.end.row].length+1),It[Dt.start.row]=this.$computeWrapSplits(Mt,Ot,At),Bt=Dt.end.row+1):(Mt=this.$getDisplayTokens(Tt[Bt]),It[Bt]=this.$computeWrapSplits(Mt,Ot,At),Bt++)},Et.prototype.$computeWrapSplits=function(Ct,kt,Tt){if(Ct.length==0)return[];var At=[],It=Ct.length,Ot=0,Mt=0,Dt=this.$wrapAsCode,Bt=this.$indentedSoftWrap,qt=kt<=Math.max(2*Tt,8)||Bt===!1?0:Math.floor(kt/2);function Wt(){var cr=0;if(qt===0)return cr;if(Bt)for(var hr=0;hr<Ct.length;hr++){var dr=Ct[hr];if(dr==St)cr+=1;else if(dr==yt)cr+=Tt;else{if(dr==pt)continue;break}}return Dt&&Bt!==!1&&(cr+=Tt),Math.min(cr,qt)}function Vt(cr){for(var hr=cr-Ot,dr=Ot;dr<cr;dr++){var gr=Ct[dr];(gr===12||gr===2)&&(hr-=1)}At.length||(Ht=Wt(),At.indent=Ht),Mt+=hr,At.push(Mt),Ot=cr}for(var Ht=0;It-Ot>kt-Ht;){var Jt=Ot+kt-Ht;if(Ct[Jt-1]>=St&&Ct[Jt]>=St){Vt(Jt);continue}if(Ct[Jt]==gt||Ct[Jt]==vt){for(Jt;Jt!=Ot-1&&Ct[Jt]!=gt;Jt--);if(Jt>Ot){Vt(Jt);continue}for(Jt=Ot+kt,Jt;Jt<Ct.length&&Ct[Jt]==vt;Jt++);if(Jt==Ct.length)break;Vt(Jt);continue}for(var Qt=Math.max(Jt-(kt-(kt>>2)),Ot-1);Jt>Qt&&Ct[Jt]<gt;)Jt--;if(Dt){for(;Jt>Qt&&Ct[Jt]<gt;)Jt--;for(;Jt>Qt&&Ct[Jt]==dt;)Jt--}else for(;Jt>Qt&&Ct[Jt]<St;)Jt--;if(Jt>Qt){Vt(++Jt);continue}Jt=Ot+kt,Ct[Jt]==mt&&Jt--,Vt(Jt-Ht)}return At},Et.prototype.$getDisplayTokens=function(Ct,kt){var Tt=[],At;kt=kt||0;for(var It=0;It<Ct.length;It++){var Ot=Ct.charCodeAt(It);if(Ot==9){At=this.getScreenTabSize(Tt.length+kt),Tt.push(yt);for(var Mt=1;Mt<At;Mt++)Tt.push(pt)}else Ot==32?Tt.push(St):Ot>39&&Ot<48||Ot>57&&Ot<64?Tt.push(dt):Ot>=4352&&wt(Ot)?Tt.push(ut,mt):Tt.push(ut)}return Tt},Et.prototype.$getStringScreenWidth=function(Ct,kt,Tt){if(kt==0)return[0,0];kt==null&&(kt=1/0),Tt=Tt||0;var At,It;for(It=0;It<Ct.length&&(At=Ct.charCodeAt(It),At==9?Tt+=this.getScreenTabSize(Tt):At>=4352&&wt(At)?Tt+=2:Tt+=1,!(Tt>kt));It++);return[Tt,It]},Et.prototype.getRowLength=function(Ct){var kt=1;return this.lineWidgets&&(kt+=this.lineWidgets[Ct]&&this.lineWidgets[Ct].rowCount||0),!this.$useWrapMode||!this.$wrapData[Ct]?kt:this.$wrapData[Ct].length+kt},Et.prototype.getRowLineCount=function(Ct){return!this.$useWrapMode||!this.$wrapData[Ct]?1:this.$wrapData[Ct].length+1},Et.prototype.getRowWrapIndent=function(Ct){if(this.$useWrapMode){var kt=this.screenToDocumentPosition(Ct,Number.MAX_VALUE),Tt=this.$wrapData[kt.row];return Tt.length&&Tt[0]<kt.column?Tt.indent:0}else return 0},Et.prototype.getScreenLastRowColumn=function(Ct){var kt=this.screenToDocumentPosition(Ct,Number.MAX_VALUE);return this.documentToScreenColumn(kt.row,kt.column)},Et.prototype.getDocumentLastRowColumn=function(Ct,kt){var Tt=this.documentToScreenRow(Ct,kt);return this.getScreenLastRowColumn(Tt)},Et.prototype.getDocumentLastRowColumnPosition=function(Ct,kt){var Tt=this.documentToScreenRow(Ct,kt);return this.screenToDocumentPosition(Tt,Number.MAX_VALUE/10)},Et.prototype.getRowSplitData=function(Ct){if(this.$useWrapMode)return this.$wrapData[Ct]},Et.prototype.getScreenTabSize=function(Ct){return this.$tabSize-(Ct%this.$tabSize|0)},Et.prototype.screenToDocumentRow=function(Ct,kt){return this.screenToDocumentPosition(Ct,kt).row},Et.prototype.screenToDocumentColumn=function(Ct,kt){return this.screenToDocumentPosition(Ct,kt).column},Et.prototype.screenToDocumentPosition=function(Ct,kt,Tt){if(Ct<0)return{row:0,column:0};var At,It=0,Ot=0,Mt,Dt=0,Bt=0,qt=this.$screenRowCache,Wt=this.$getRowCacheIndex(qt,Ct),Vt=qt.length;if(Vt&&Wt>=0)var Dt=qt[Wt],It=this.$docRowCache[Wt],Ht=Ct>qt[Vt-1];else var Ht=!Vt;for(var Jt=this.getLength()-1,Qt=this.getNextFoldLine(It),cr=Qt?Qt.start.row:1/0;Dt<=Ct&&(Bt=this.getRowLength(It),!(Dt+Bt>Ct||It>=Jt));)Dt+=Bt,It++,It>cr&&(It=Qt.end.row+1,Qt=this.getNextFoldLine(It,Qt),cr=Qt?Qt.start.row:1/0),Ht&&(this.$docRowCache.push(It),this.$screenRowCache.push(Dt));if(Qt&&Qt.start.row<=It)At=this.getFoldDisplayLine(Qt),It=Qt.start.row;else{if(Dt+Bt<=Ct||It>Jt)return{row:Jt,column:this.getLine(Jt).length};At=this.getLine(It),Qt=null}var hr=0,dr=Math.floor(Ct-Dt);if(this.$useWrapMode){var gr=this.$wrapData[It];gr&&(Mt=gr[dr],dr>0&&gr.length&&(hr=gr.indent,Ot=gr[dr-1]||gr[gr.length-1],At=At.substring(Ot)))}return Tt!==void 0&&this.$bidiHandler.isBidiRow(Dt+dr,It,dr)&&(kt=this.$bidiHandler.offsetToCol(Tt)),Ot+=this.$getStringScreenWidth(At,kt-hr)[1],this.$useWrapMode&&Ot>=Mt&&(Ot=Mt-1),Qt?Qt.idxToPosition(Ot):{row:It,column:Ot}},Et.prototype.documentToScreenPosition=function(Ct,kt){if(typeof kt>"u")var Tt=this.$clipPositionToDocument(Ct.row,Ct.column);else Tt=this.$clipPositionToDocument(Ct,kt);Ct=Tt.row,kt=Tt.column;var At=0,It=null,Ot=null;Ot=this.getFoldAt(Ct,kt,1),Ot&&(Ct=Ot.start.row,kt=Ot.start.column);var Mt,Dt=0,Bt=this.$docRowCache,qt=this.$getRowCacheIndex(Bt,Ct),Wt=Bt.length;if(Wt&&qt>=0)var Dt=Bt[qt],At=this.$screenRowCache[qt],Vt=Ct>Bt[Wt-1];else var Vt=!Wt;for(var Ht=this.getNextFoldLine(Dt),Jt=Ht?Ht.start.row:1/0;Dt<Ct;){if(Dt>=Jt){if(Mt=Ht.end.row+1,Mt>Ct)break;Ht=this.getNextFoldLine(Mt,Ht),Jt=Ht?Ht.start.row:1/0}else Mt=Dt+1;At+=this.getRowLength(Dt),Dt=Mt,Vt&&(this.$docRowCache.push(Dt),this.$screenRowCache.push(At))}var Qt="";Ht&&Dt>=Jt?(Qt=this.getFoldDisplayLine(Ht,Ct,kt),It=Ht.start.row):(Qt=this.getLine(Ct).substring(0,kt),It=Ct);var cr=0;if(this.$useWrapMode){var hr=this.$wrapData[It];if(hr){for(var dr=0;Qt.length>=hr[dr];)At++,dr++;Qt=Qt.substring(hr[dr-1]||0,Qt.length),cr=dr>0?hr.indent:0}}return this.lineWidgets&&this.lineWidgets[Dt]&&this.lineWidgets[Dt].rowsAbove&&(At+=this.lineWidgets[Dt].rowsAbove),{row:At,column:cr+this.$getStringScreenWidth(Qt)[0]}},Et.prototype.documentToScreenColumn=function(Ct,kt){return this.documentToScreenPosition(Ct,kt).column},Et.prototype.documentToScreenRow=function(Ct,kt){return this.documentToScreenPosition(Ct,kt).row},Et.prototype.getScreenLength=function(){var Ct=0,kt=null;if(this.$useWrapMode)for(var It=this.$wrapData.length,Ot=0,At=0,kt=this.$foldData[At++],Mt=kt?kt.start.row:1/0;Ot<It;){var Dt=this.$wrapData[Ot];Ct+=Dt?Dt.length+1:1,Ot++,Ot>Mt&&(Ot=kt.end.row+1,kt=this.$foldData[At++],Mt=kt?kt.start.row:1/0)}else{Ct=this.getLength();for(var Tt=this.$foldData,At=0;At<Tt.length;At++)kt=Tt[At],Ct-=kt.end.row-kt.start.row}return this.lineWidgets&&(Ct+=this.$getWidgetScreenLength()),Ct},Et.prototype.$setFontMetrics=function(Ct){this.$enableVarChar&&(this.$getStringScreenWidth=function(kt,Tt,At){if(Tt===0)return[0,0];Tt||(Tt=1/0),At=At||0;var It,Ot;for(Ot=0;Ot<kt.length&&(It=kt.charAt(Ot),It==="	"?At+=this.getScreenTabSize(At):At+=Ct.getCharacterWidth(It),!(At>Tt));Ot++);return[At,Ot]})},Et.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},Et}();ht.$uid=0,ht.prototype.$modes=rt.$modes,ht.prototype.getValue=ht.prototype.toString,ht.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},ht.prototype.$overwrite=!1,ht.prototype.$mode=null,ht.prototype.$modeId=null,ht.prototype.$scrollTop=0,ht.prototype.$scrollLeft=0,ht.prototype.$wrapLimit=80,ht.prototype.$useWrapMode=!1,ht.prototype.$wrapLimitRange={min:null,max:null},ht.prototype.lineWidgets=null,ht.prototype.isFullWidth=wt,tt.implement(ht.prototype,it);var ut=1,mt=2,gt=3,vt=4,dt=9,St=10,yt=11,pt=12;function wt(Et){return Et<4352?!1:Et>=4352&&Et<=4447||Et>=4515&&Et<=4519||Et>=4602&&Et<=4607||Et>=9001&&Et<=9002||Et>=11904&&Et<=11929||Et>=11931&&Et<=12019||Et>=12032&&Et<=12245||Et>=12272&&Et<=12283||Et>=12288&&Et<=12350||Et>=12353&&Et<=12438||Et>=12441&&Et<=12543||Et>=12549&&Et<=12589||Et>=12593&&Et<=12686||Et>=12688&&Et<=12730||Et>=12736&&Et<=12771||Et>=12784&&Et<=12830||Et>=12832&&Et<=12871||Et>=12880&&Et<=13054||Et>=13056&&Et<=19903||Et>=19968&&Et<=42124||Et>=42128&&Et<=42182||Et>=43360&&Et<=43388||Et>=44032&&Et<=55203||Et>=55216&&Et<=55238||Et>=55243&&Et<=55291||Et>=63744&&Et<=64255||Et>=65040&&Et<=65049||Et>=65072&&Et<=65106||Et>=65108&&Et<=65126||Et>=65128&&Et<=65131||Et>=65281&&Et<=65376||Et>=65504&&Et<=65510}o("./edit_session/folding").Folding.call(ht.prototype),o("./edit_session/bracket_match").BracketMatch.call(ht.prototype),rt.defineOptions(ht.prototype,"session",{wrap:{set:function(Et){if(!Et||Et=="off"?Et=!1:Et=="free"?Et=!0:Et=="printMargin"?Et=-1:typeof Et=="string"&&(Et=parseInt(Et,10)||!1),this.$wrap!=Et)if(this.$wrap=Et,!Et)this.setUseWrapMode(!1);else{var Ct=typeof Et=="number"?Et:null;this.setWrapLimitRange(Ct,Ct),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(Et){Et=Et=="auto"?this.$mode.type!="text":Et!="text",Et!=this.$wrapAsCode&&(this.$wrapAsCode=Et,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(Et){this.$useWorker=Et,this.$stopWorker(),Et&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(Et){Et=parseInt(Et),Et>0&&this.$tabSize!==Et&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=Et,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(Et){this.setFoldStyle(Et)},handlesSet:!0},overwrite:{set:function(Et){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(Et){this.doc.setNewLineMode(Et)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(Et){this.setMode(Et)},get:function(){return this.$modeId},handlesSet:!0}}),a.EditSession=ht}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(o,a,nt){var tt=o("./lib/lang"),ot=o("./lib/oop"),at=o("./range").Range,rt=function(){function j(){this.$options={}}return j.prototype.set=function(_){return ot.mixin(this.$options,_),this},j.prototype.getOptions=function(){return tt.copyObject(this.$options)},j.prototype.setOptions=function(_){this.$options=_},j.prototype.find=function(_){var $=this.$options,et=this.$matchIterator(_,$);if(!et)return!1;var st=null;return et.forEach(function(lt,ct,ht,ut){return st=new at(lt,ct,ht,ut),ct==ut&&$.start&&$.start.start&&$.skipCurrent!=!1&&st.isEqual($.start)?(st=null,!1):!0}),st},j.prototype.findAll=function(_){var $=this.$options;if(!$.needle)return[];this.$assembleRegExp($);var et=$.range,st=et?_.getLines(et.start.row,et.end.row):_.doc.getAllLines(),lt=[],ct=$.re;if($.$isMultiLine){var ht=ct.length,ut=st.length-ht,mt;e:for(var gt=ct.offset||0;gt<=ut;gt++){for(var vt=0;vt<ht;vt++)if(st[gt+vt].search(ct[vt])==-1)continue e;var dt=st[gt],St=st[gt+ht-1],yt=dt.length-dt.match(ct[0])[0].length,pt=St.match(ct[ht-1])[0].length;mt&&mt.end.row===gt&&mt.end.column>yt||(lt.push(mt=new at(gt,yt,gt+ht-1,pt)),ht>2&&(gt=gt+ht-2))}}else for(var wt=0;wt<st.length;wt++)for(var Et=tt.getMatchOffsets(st[wt],ct),vt=0;vt<Et.length;vt++){var Ct=Et[vt];lt.push(new at(wt,Ct.offset,wt,Ct.offset+Ct.length))}if(et){for(var kt=et.start.column,Tt=et.end.column,wt=0,vt=lt.length-1;wt<vt&&lt[wt].start.column<kt&&lt[wt].start.row==0;)wt++;for(var At=et.end.row-et.start.row;wt<vt&&lt[vt].end.column>Tt&&lt[vt].end.row==At;)vt--;for(lt=lt.slice(wt,vt+1),wt=0,vt=lt.length;wt<vt;wt++)lt[wt].start.row+=et.start.row,lt[wt].end.row+=et.start.row}return lt},j.prototype.replace=function(_,$){var et=this.$options,st=this.$assembleRegExp(et);if(et.$isMultiLine)return $;if(st){var lt=st.exec(_);if(!lt||lt[0].length!=_.length)return null;if($=_.replace(st,$),et.preserveCase){$=$.split("");for(var ct=Math.min(_.length,_.length);ct--;){var ht=_[ct];ht&&ht.toLowerCase()!=ht?$[ct]=$[ct].toUpperCase():$[ct]=$[ct].toLowerCase()}$=$.join("")}return $}},j.prototype.$assembleRegExp=function(_,$){if(_.needle instanceof RegExp)return _.re=_.needle;var et=_.needle;if(!_.needle)return _.re=!1;_.regExp||(et=tt.escapeRegExp(et));var st=_.caseSensitive?"gm":"gmi";try{new RegExp(et,"u"),_.$supportsUnicodeFlag=!0,st+="u"}catch{_.$supportsUnicodeFlag=!1}if(_.wholeWord&&(et=it(et,_)),_.$isMultiLine=!$&&/[\n\r]/.test(et),_.$isMultiLine)return _.re=this.$assembleMultilineRegExp(et,st);try{var lt=new RegExp(et,st)}catch{lt=!1}return _.re=lt},j.prototype.$assembleMultilineRegExp=function(_,$){for(var et=_.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),st=[],lt=0;lt<et.length;lt++)try{st.push(new RegExp(et[lt],$))}catch{return!1}return st},j.prototype.$matchIterator=function(_,$){var et=this.$assembleRegExp($);if(!et)return!1;var st=$.backwards==!0,lt=$.skipCurrent!=!1,ct=et.unicode,ht=$.range,ut=$.start;ut||(ut=ht?ht[st?"end":"start"]:_.selection.getRange()),ut.start&&(ut=ut[lt!=st?"end":"start"]);var mt=ht?ht.start.row:0,gt=ht?ht.end.row:_.getLength()-1;if(st)var vt=function(yt){var pt=ut.row;if(!St(pt,ut.column,yt)){for(pt--;pt>=mt;pt--)if(St(pt,Number.MAX_VALUE,yt))return;if($.wrap!=!1){for(pt=gt,mt=ut.row;pt>=mt;pt--)if(St(pt,Number.MAX_VALUE,yt))return}}};else var vt=function(pt){var wt=ut.row;if(!St(wt,ut.column,pt)){for(wt=wt+1;wt<=gt;wt++)if(St(wt,0,pt))return;if($.wrap!=!1){for(wt=mt,gt=ut.row;wt<=gt;wt++)if(St(wt,0,pt))return}}};if($.$isMultiLine)var dt=et.length,St=function(yt,pt,wt){var Et=st?yt-dt+1:yt;if(!(Et<0||Et+dt>_.getLength())){var Ct=_.getLine(Et),kt=Ct.search(et[0]);if(!(!st&&kt<pt||kt===-1)){for(var Tt=1;Tt<dt;Tt++)if(Ct=_.getLine(Et+Tt),Ct.search(et[Tt])==-1)return;var At=Ct.match(et[dt-1])[0].length;if(!(st&&At>pt)&&wt(Et,kt,Et+dt-1,At))return!0}}};else if(st)var St=function(pt,wt,Et){var Ct=_.getLine(pt),kt=[],Tt,At=0;for(et.lastIndex=0;Tt=et.exec(Ct);){var It=Tt[0].length;if(At=Tt.index,!It){if(At>=Ct.length)break;et.lastIndex=At+=tt.skipEmptyMatch(Ct,At,ct)}if(Tt.index+It>wt)break;kt.push(Tt.index,It)}for(var Ot=kt.length-1;Ot>=0;Ot-=2){var Mt=kt[Ot-1],It=kt[Ot];if(Et(pt,Mt,pt,Mt+It))return!0}};else var St=function(pt,wt,Et){var Ct=_.getLine(pt),kt,Tt;for(et.lastIndex=wt;Tt=et.exec(Ct);){var At=Tt[0].length;if(kt=Tt.index,Et(pt,kt,pt,kt+At))return!0;if(!At&&(et.lastIndex=kt+=tt.skipEmptyMatch(Ct,kt,ct),kt>=Ct.length))return!1}};return{forEach:vt}},j}();function it(j,_){var $=tt.supportsLookbehind();function et(ht,ut){ut===void 0&&(ut=!0);var mt=$&&_.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return mt.test(ht)||_.regExp?$&&_.$supportsUnicodeFlag?ut?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var st=Array.from(j),lt=st[0],ct=st[st.length-1];return et(lt)+j+et(ct,!1)}a.Search=rt}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(o,a,nt){var tt=this&&this.__extends||function(){var $=function(et,st){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ct){lt.__proto__=ct}||function(lt,ct){for(var ht in ct)Object.prototype.hasOwnProperty.call(ct,ht)&&(lt[ht]=ct[ht])},$(et,st)};return function(et,st){if(typeof st!="function"&&st!==null)throw new TypeError("Class extends value "+String(st)+" is not a constructor or null");$(et,st);function lt(){this.constructor=et}et.prototype=st===null?Object.create(st):(lt.prototype=st.prototype,new lt)}}(),ot=o("../lib/keys"),at=o("../lib/useragent"),rt=ot.KEY_MODS,it=function(){function $(et,st){this.$init(et,st,!1)}return $.prototype.$init=function(et,st,lt){this.platform=st||(at.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(et),this.$singleCommand=lt},$.prototype.addCommand=function(et){this.commands[et.name]&&this.removeCommand(et),this.commands[et.name]=et,et.bindKey&&this._buildKeyHash(et)},$.prototype.removeCommand=function(et,st){var lt=et&&(typeof et=="string"?et:et.name);et=this.commands[lt],st||delete this.commands[lt];var ct=this.commandKeyBinding;for(var ht in ct){var ut=ct[ht];if(ut==et)delete ct[ht];else if(Array.isArray(ut)){var mt=ut.indexOf(et);mt!=-1&&(ut.splice(mt,1),ut.length==1&&(ct[ht]=ut[0]))}}},$.prototype.bindKey=function(et,st,lt){if(typeof et=="object"&&et&&(lt==null&&(lt=et.position),et=et[this.platform]),!!et){if(typeof st=="function")return this.addCommand({exec:st,bindKey:et,name:st.name||et});et.split("|").forEach(function(ct){var ht="";if(ct.indexOf(" ")!=-1){var ut=ct.split(/\s+/);ct=ut.pop(),ut.forEach(function(vt){var dt=this.parseKeys(vt),St=rt[dt.hashId]+dt.key;ht+=(ht?" ":"")+St,this._addCommandToBinding(ht,"chainKeys")},this),ht+=" "}var mt=this.parseKeys(ct),gt=rt[mt.hashId]+mt.key;this._addCommandToBinding(ht+gt,st,lt)},this)}},$.prototype._addCommandToBinding=function(et,st,lt){var ct=this.commandKeyBinding,ht;if(!st)delete ct[et];else if(!ct[et]||this.$singleCommand)ct[et]=st;else{Array.isArray(ct[et])?(ht=ct[et].indexOf(st))!=-1&&ct[et].splice(ht,1):ct[et]=[ct[et]],typeof lt!="number"&&(lt=j(st));var ut=ct[et];for(ht=0;ht<ut.length;ht++){var mt=ut[ht],gt=j(mt);if(gt>lt)break}ut.splice(ht,0,st)}},$.prototype.addCommands=function(et){et&&Object.keys(et).forEach(function(st){var lt=et[st];if(lt){if(typeof lt=="string")return this.bindKey(lt,st);typeof lt=="function"&&(lt={exec:lt}),typeof lt=="object"&&(lt.name||(lt.name=st),this.addCommand(lt))}},this)},$.prototype.removeCommands=function(et){Object.keys(et).forEach(function(st){this.removeCommand(et[st])},this)},$.prototype.bindKeys=function(et){Object.keys(et).forEach(function(st){this.bindKey(st,et[st])},this)},$.prototype._buildKeyHash=function(et){this.bindKey(et.bindKey,et)},$.prototype.parseKeys=function(et){var st=et.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(gt){return gt}),lt=st.pop(),ct=ot[lt];if(ot.FUNCTION_KEYS[ct])lt=ot.FUNCTION_KEYS[ct].toLowerCase();else if(st.length){if(st.length==1&&st[0]=="shift")return{key:lt.toUpperCase(),hashId:-1}}else return{key:lt,hashId:-1};for(var ht=0,ut=st.length;ut--;){var mt=ot.KEY_MODS[st[ut]];if(mt==null)return typeof console<"u"&&console.error("invalid modifier "+st[ut]+" in "+et),!1;ht|=mt}return{key:lt,hashId:ht}},$.prototype.findKeyCommand=function(et,st){var lt=rt[et]+st;return this.commandKeyBinding[lt]},$.prototype.handleKeyboard=function(et,st,lt,ct){if(!(ct<0)){var ht=rt[st]+lt,ut=this.commandKeyBinding[ht];return et.$keyChain&&(et.$keyChain+=" "+ht,ut=this.commandKeyBinding[et.$keyChain]||ut),ut&&(ut=="chainKeys"||ut[ut.length-1]=="chainKeys")?(et.$keyChain=et.$keyChain||ht,{command:"null"}):(et.$keyChain&&((!st||st==4)&&lt.length==1?et.$keyChain=et.$keyChain.slice(0,-ht.length-1):(st==-1||ct>0)&&(et.$keyChain="")),{command:ut})}},$.prototype.getStatusText=function(et,st){return st.$keyChain||""},$}();function j($){return typeof $=="object"&&$.bindKey&&$.bindKey.position||($.isDefault?-100:0)}var _=function($){tt(et,$);function et(st,lt){var ct=$.call(this,st,lt)||this;return ct.$singleCommand=!0,ct}return et}(it);_.call=function($,et,st){it.prototype.$init.call($,et,st,!0)},it.call=function($,et,st){it.prototype.$init.call($,et,st,!1)},a.HashHandler=_,a.MultiHashHandler=it}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(o,a,nt){var tt=this&&this.__extends||function(){var j=function(_,$){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,st){et.__proto__=st}||function(et,st){for(var lt in st)Object.prototype.hasOwnProperty.call(st,lt)&&(et[lt]=st[lt])},j(_,$)};return function(_,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");j(_,$);function et(){this.constructor=_}_.prototype=$===null?Object.create($):(et.prototype=$.prototype,new et)}}(),ot=o("../lib/oop"),at=o("../keyboard/hash_handler").MultiHashHandler,rt=o("../lib/event_emitter").EventEmitter,it=function(j){tt(_,j);function _($,et){var st=j.call(this,et,$)||this;return st.byName=st.commands,st.setDefaultHandler("exec",function(lt){return lt.args?lt.command.exec(lt.editor,lt.args,lt.event,!1):lt.command.exec(lt.editor,{},lt.event,!0)}),st}return _.prototype.exec=function($,et,st){if(Array.isArray($)){for(var lt=$.length;lt--;)if(this.exec($[lt],et,st))return!0;return!1}if(typeof $=="string"&&($=this.commands[$]),!$||et&&et.$readOnly&&!$.readOnly||this.$checkCommandState!=!1&&$.isAvailable&&!$.isAvailable(et))return!1;var ct={editor:et,command:$,args:st};return ct.returnValue=this._emit("exec",ct),this._signal("afterExec",ct),ct.returnValue!==!1},_.prototype.toggleRecording=function($){if(!this.$inReplay)return $&&$._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(et){this.macro.push([et.command,et.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},_.prototype.replay=function($){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording($);try{this.$inReplay=!0,this.macro.forEach(function(et){typeof et=="string"?this.exec(et,$):this.exec(et[0],$,et[1])},this)}finally{this.$inReplay=!1}}},_.prototype.trimMacro=function($){return $.map(function(et){return typeof et[0]!="string"&&(et[0]=et[0].name),et[1]||(et=et[0]),et})},_}(at);ot.implement(it.prototype,rt),a.CommandManager=it}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(o,a,nt){var tt=o("../lib/lang"),ot=o("../config"),at=o("../range").Range;function rt(j,_){return{win:j,mac:_}}a.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:rt("Ctrl-,","Command-,"),exec:function(j){ot.loadModule("ace/ext/settings_menu",function(_){_.init(j),j.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:rt("Alt-E","F4"),exec:function(j){ot.loadModule("ace/ext/error_marker",function(_){_.showErrorMarker(j,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:rt("Alt-Shift-E","Shift-F4"),exec:function(j){ot.loadModule("ace/ext/error_marker",function(_){_.showErrorMarker(j,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:rt("Ctrl-A","Command-A"),exec:function(j){j.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:rt(null,"Ctrl-L"),exec:function(j){j.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:rt("Ctrl-L","Command-L"),exec:function(j,_){typeof _=="number"&&!isNaN(_)&&j.gotoLine(_),j.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:rt("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(j){j.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:rt("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(j){j.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:rt("F2","F2"),exec:function(j){j.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:rt("Alt-F2","Alt-F2"),exec:function(j){j.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:rt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:rt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:rt("Alt-0","Command-Option-0"),exec:function(j){j.session.foldAll(),j.session.unfold(j.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:rt("Alt-Shift-0","Command-Option-Shift-0"),exec:function(j){j.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:rt("Ctrl-K","Command-G"),exec:function(j){j.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:rt("Ctrl-Shift-K","Command-Shift-G"),exec:function(j){j.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:rt("Alt-K","Ctrl-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:rt("Alt-Shift-K","Ctrl-Shift-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:rt("Ctrl-F","Command-F"),exec:function(j){ot.loadModule("ace/ext/searchbox",function(_){_.Search(j)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(j){j.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:rt("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(j){j.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:rt("Ctrl-Home","Command-Home|Command-Up"),exec:function(j){j.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:rt("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(j){j.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:rt("Up","Up|Ctrl-P"),exec:function(j,_){j.navigateUp(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:rt("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(j){j.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:rt("Ctrl-End","Command-End|Command-Down"),exec:function(j){j.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:rt("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(j){j.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:rt("Down","Down|Ctrl-N"),exec:function(j,_){j.navigateDown(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:rt("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(j){j.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:rt("Ctrl-Left","Option-Left"),exec:function(j){j.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:rt("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:rt("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(j){j.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:rt("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(j){j.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:rt("Left","Left|Ctrl-B"),exec:function(j,_){j.navigateLeft(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:rt("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(j){j.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:rt("Ctrl-Right","Option-Right"),exec:function(j){j.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:rt("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:rt("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(j){j.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:rt("Shift-Right","Shift-Right"),exec:function(j){j.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:rt("Right","Right|Ctrl-F"),exec:function(j,_){j.navigateRight(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(j){j.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:rt(null,"Option-PageDown"),exec:function(j){j.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:rt("PageDown","PageDown|Ctrl-V"),exec:function(j){j.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(j){j.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:rt(null,"Option-PageUp"),exec:function(j){j.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(j){j.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:rt("Ctrl-Up",null),exec:function(j){j.renderer.scrollBy(0,-2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:rt("Ctrl-Down",null),exec:function(j){j.renderer.scrollBy(0,2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:rt("Ctrl-Alt-E","Command-Option-E"),exec:function(j){j.commands.toggleRecording(j)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:rt("Ctrl-Shift-E","Command-Shift-E"),exec:function(j){j.commands.replay(j)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:rt("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(j){j.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:rt("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(j){j.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:rt("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(j){j.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:rt(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(j){},readOnly:!0},{name:"cut",description:"Cut",exec:function(j){var _=j.$copyWithEmptySelection&&j.selection.isEmpty(),$=_?j.selection.getLineRange():j.selection.getRange();j._emit("cut",$),$.isEmpty()||j.session.remove($),j.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(j,_){j.$handlePaste(_)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:rt("Ctrl-D","Command-D"),exec:function(j){j.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:rt("Ctrl-Shift-D","Command-Shift-D"),exec:function(j){j.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:rt("Ctrl-Alt-S","Command-Alt-S"),exec:function(j){j.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:rt("Ctrl-/","Command-/"),exec:function(j){j.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:rt("Ctrl-Shift-/","Command-Shift-/"),exec:function(j){j.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:rt("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(j){j.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:rt("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(j){j.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:rt("Ctrl-H","Command-Option-F"),exec:function(j){ot.loadModule("ace/ext/searchbox",function(_){_.Search(j,!0)})}},{name:"undo",description:"Undo",bindKey:rt("Ctrl-Z","Command-Z"),exec:function(j){j.undo()}},{name:"redo",description:"Redo",bindKey:rt("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(j){j.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:rt("Alt-Shift-Up","Command-Option-Up"),exec:function(j){j.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:rt("Alt-Up","Option-Up"),exec:function(j){j.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:rt("Alt-Shift-Down","Command-Option-Down"),exec:function(j){j.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:rt("Alt-Down","Option-Down"),exec:function(j){j.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:rt("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(j){j.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:rt("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(j){j.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:rt("Shift-Delete",null),exec:function(j){if(j.selection.isEmpty())j.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:rt("Alt-Backspace","Command-Backspace"),exec:function(j){j.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:rt("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(j){j.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:rt("Ctrl-Shift-Backspace",null),exec:function(j){var _=j.selection.getRange();_.start.column=0,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:rt("Ctrl-Shift-Delete",null),exec:function(j){var _=j.selection.getRange();_.end.column=Number.MAX_VALUE,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:rt("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(j){j.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:rt("Ctrl-Delete","Alt-Delete"),exec:function(j){j.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:rt("Shift-Tab","Shift-Tab"),exec:function(j){j.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:rt("Tab","Tab"),exec:function(j){j.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:rt("Ctrl-[","Ctrl-["),exec:function(j){j.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:rt("Ctrl-]","Ctrl-]"),exec:function(j){j.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(j,_){j.insert(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(j,_){j.insert(tt.stringRepeat(_.text||"",_.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:rt(null,"Ctrl-O"),exec:function(j){j.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:rt("Alt-Shift-X","Ctrl-T"),exec:function(j){j.transposeLetters()},multiSelectAction:function(j){j.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:rt("Ctrl-U","Ctrl-U"),exec:function(j){j.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:rt("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(j){j.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:rt(null,null),exec:function(j){j.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:rt("Ctrl-Shift-L","Command-Shift-L"),exec:function(j){var _=j.selection.getRange();_.start.column=_.end.column=0,_.end.row++,j.selection.setRange(_,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:rt("Ctrl+F3","F3"),exec:function(j){j.openLink()}},{name:"joinlines",description:"Join lines",bindKey:rt(null,null),exec:function(j){for(var _=j.selection.isBackwards(),$=_?j.selection.getSelectionLead():j.selection.getSelectionAnchor(),et=_?j.selection.getSelectionAnchor():j.selection.getSelectionLead(),st=j.session.doc.getLine($.row).length,lt=j.session.doc.getTextRange(j.selection.getRange()),ct=lt.replace(/\n\s*/," ").length,ht=j.session.doc.getLine($.row),ut=$.row+1;ut<=et.row+1;ut++){var mt=tt.stringTrimLeft(tt.stringTrimRight(j.session.doc.getLine(ut)));mt.length!==0&&(mt=" "+mt),ht+=mt}et.row+1<j.session.doc.getLength()-1&&(ht+=j.session.doc.getNewLineCharacter()),j.clearSelection(),j.session.doc.replace(new at($.row,0,et.row+2,0),ht),ct>0?(j.selection.moveCursorTo($.row,$.column),j.selection.selectTo($.row,$.column+ct)):(st=j.session.doc.getLine($.row).length>st?st+1:st,j.selection.moveCursorTo($.row,st))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:rt(null,null),exec:function(j){var _=j.session.doc.getLength()-1,$=j.session.doc.getLine(_).length,et=j.selection.rangeList.ranges,st=[];et.length<1&&(et=[j.selection.getRange()]);for(var lt=0;lt<et.length;lt++)lt==et.length-1&&(et[lt].end.row===_&&et[lt].end.column===$||st.push(new at(et[lt].end.row,et[lt].end.column,_,$))),lt===0?et[lt].start.row===0&&et[lt].start.column===0||st.push(new at(0,0,et[lt].start.row,et[lt].start.column)):st.push(new at(et[lt-1].end.row,et[lt-1].end.column,et[lt].start.row,et[lt].start.column));j.exitMultiSelectMode(),j.clearSelection();for(var lt=0;lt<st.length;lt++)j.selection.addRange(st[lt],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(j){j.selection.clearSelection(),j.navigateLineEnd(),j.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(j){j.selection.clearSelection();var _=j.getCursorPosition();j.selection.moveTo(_.row-1,Number.MAX_VALUE),j.insert(`
`),_.row===0&&j.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(j){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),j.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:rt("F1","F1"),exec:function(j){j.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:rt(null,null),exec:function(j){j.prompt({$type:"modes"})},readOnly:!0}];for(var it=1;it<9;it++)a.commands.push({name:"foldToLevel"+it,description:"Fold To Level "+it,level:it,exec:function(j){j.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(o,a,nt){var tt=o("./lib/dom"),ot=function(){function at(rt){this.session=rt,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return at.prototype.getRowLength=function(rt){var it;return this.lineWidgets?it=this.lineWidgets[rt]&&this.lineWidgets[rt].rowCount||0:it=0,!this.$useWrapMode||!this.$wrapData[rt]?1+it:this.$wrapData[rt].length+1+it},at.prototype.$getWidgetScreenLength=function(){var rt=0;return this.lineWidgets.forEach(function(it){it&&it.rowCount&&!it.hidden&&(rt+=it.rowCount)}),rt},at.prototype.$onChangeEditor=function(rt){this.attach(rt.editor)},at.prototype.attach=function(rt){rt&&rt.widgetManager&&rt.widgetManager!=this&&rt.widgetManager.detach(),this.editor!=rt&&(this.detach(),this.editor=rt,rt&&(rt.widgetManager=this,rt.renderer.on("beforeRender",this.measureWidgets),rt.renderer.on("afterRender",this.renderWidgets)))},at.prototype.detach=function(rt){var it=this.editor;if(it){this.editor=null,it.widgetManager=null,it.renderer.off("beforeRender",this.measureWidgets),it.renderer.off("afterRender",this.renderWidgets);var j=this.session.lineWidgets;j&&j.forEach(function(_){_&&_.el&&_.el.parentNode&&(_._inDocument=!1,_.el.parentNode.removeChild(_.el))})}},at.prototype.updateOnFold=function(rt,it){var j=it.lineWidgets;if(!(!j||!rt.action)){for(var _=rt.data,$=_.start.row,et=_.end.row,st=rt.action=="add",lt=$+1;lt<et;lt++)j[lt]&&(j[lt].hidden=st);j[et]&&(st?j[$]?j[et].hidden=st:j[$]=j[et]:(j[$]==j[et]&&(j[$]=void 0),j[et].hidden=st))}},at.prototype.updateOnChange=function(rt){var it=this.session.lineWidgets;if(it){var j=rt.start.row,_=rt.end.row-j;if(_!==0)if(rt.action=="remove"){var $=it.splice(j+1,_);!it[j]&&$[$.length-1]&&(it[j]=$.pop()),$.forEach(function(st){st&&this.removeLineWidget(st)},this),this.$updateRows()}else{var et=new Array(_);it[j]&&it[j].column!=null&&rt.start.column>it[j].column&&j++,et.unshift(j,0),it.splice.apply(it,et),this.$updateRows()}}},at.prototype.$updateRows=function(){var rt=this.session.lineWidgets;if(rt){var it=!0;rt.forEach(function(j,_){if(j)for(it=!1,j.row=_;j.$oldWidget;)j.$oldWidget.row=_,j=j.$oldWidget}),it&&(this.session.lineWidgets=null)}},at.prototype.$registerLineWidget=function(rt){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var it=this.session.lineWidgets[rt.row];return it&&(rt.$oldWidget=it,it.el&&it.el.parentNode&&(it.el.parentNode.removeChild(it.el),it._inDocument=!1)),this.session.lineWidgets[rt.row]=rt,rt},at.prototype.addLineWidget=function(rt){if(this.$registerLineWidget(rt),rt.session=this.session,!this.editor)return rt;var it=this.editor.renderer;rt.html&&!rt.el&&(rt.el=tt.createElement("div"),rt.el.innerHTML=rt.html),rt.text&&!rt.el&&(rt.el=tt.createElement("div"),rt.el.textContent=rt.text),rt.el&&(tt.addCssClass(rt.el,"ace_lineWidgetContainer"),rt.className&&tt.addCssClass(rt.el,rt.className),rt.el.style.position="absolute",rt.el.style.zIndex="5",it.container.appendChild(rt.el),rt._inDocument=!0,rt.coverGutter||(rt.el.style.zIndex="3"),rt.pixelHeight==null&&(rt.pixelHeight=rt.el.offsetHeight)),rt.rowCount==null&&(rt.rowCount=rt.pixelHeight/it.layerConfig.lineHeight);var j=this.session.getFoldAt(rt.row,0);if(rt.$fold=j,j){var _=this.session.lineWidgets;rt.row==j.end.row&&!_[j.start.row]?_[j.start.row]=rt:rt.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:rt.row}}}),this.$updateRows(),this.renderWidgets(null,it),this.onWidgetChanged(rt),rt},at.prototype.removeLineWidget=function(rt){if(rt._inDocument=!1,rt.session=null,rt.el&&rt.el.parentNode&&rt.el.parentNode.removeChild(rt.el),rt.editor&&rt.editor.destroy)try{rt.editor.destroy()}catch{}if(this.session.lineWidgets){var it=this.session.lineWidgets[rt.row];if(it==rt)this.session.lineWidgets[rt.row]=rt.$oldWidget,rt.$oldWidget&&this.onWidgetChanged(rt.$oldWidget);else for(;it;){if(it.$oldWidget==rt){it.$oldWidget=rt.$oldWidget;break}it=it.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:rt.row}}}),this.$updateRows()},at.prototype.getWidgetsAtRow=function(rt){for(var it=this.session.lineWidgets,j=it&&it[rt],_=[];j;)_.push(j),j=j.$oldWidget;return _},at.prototype.onWidgetChanged=function(rt){this.session._changedWidgets.push(rt),this.editor&&this.editor.renderer.updateFull()},at.prototype.measureWidgets=function(rt,it){var j=this.session._changedWidgets,_=it.layerConfig;if(!(!j||!j.length)){for(var $=1/0,et=0;et<j.length;et++){var st=j[et];if(!(!st||!st.el)&&st.session==this.session){if(!st._inDocument){if(this.session.lineWidgets[st.row]!=st)continue;st._inDocument=!0,it.container.appendChild(st.el)}st.h=st.el.offsetHeight,st.fixedWidth||(st.w=st.el.offsetWidth,st.screenWidth=Math.ceil(st.w/_.characterWidth));var lt=st.h/_.lineHeight;st.coverLine&&(lt-=this.session.getRowLineCount(st.row),lt<0&&(lt=0)),st.rowCount!=lt&&(st.rowCount=lt,st.row<$&&($=st.row))}}$!=1/0&&(this.session._emit("changeFold",{data:{start:{row:$}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},at.prototype.renderWidgets=function(rt,it){var j=it.layerConfig,_=this.session.lineWidgets;if(_){for(var $=Math.min(this.firstRow,j.firstRow),et=Math.max(this.lastRow,j.lastRow,_.length);$>0&&!_[$];)$--;this.firstRow=j.firstRow,this.lastRow=j.lastRow,it.$cursorLayer.config=j;for(var st=$;st<=et;st++){var lt=_[st];if(!(!lt||!lt.el)){if(lt.hidden){lt.el.style.top=-100-(lt.pixelHeight||0)+"px";continue}lt._inDocument||(lt._inDocument=!0,it.container.appendChild(lt.el));var ct=it.$cursorLayer.getPixelPosition({row:st,column:0},!0).top;lt.coverLine||(ct+=j.lineHeight*this.session.getRowLineCount(lt.row)),lt.el.style.top=ct-j.offset+"px";var ht=lt.coverGutter?0:it.gutterWidth;lt.fixedWidth||(ht-=it.scrollLeft),lt.el.style.left=ht+"px",lt.fullWidth&&lt.screenWidth&&(lt.el.style.minWidth=j.width+2*j.padding+"px"),lt.fixedWidth?lt.el.style.right=it.scrollBar.getWidth()+"px":lt.el.style.right=""}}}},at}();a.LineWidgets=ot}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(o,a,nt){var tt=o("../lib/keys"),ot=o("../mouse/default_gutter_handler").GutterTooltip,at=function(){function it(j){this.editor=j,this.gutterLayer=j.renderer.$gutterLayer,this.element=j.renderer.$gutter,this.lines=j.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new ot(this.editor)}return it.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},it.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},it.prototype.$onGutterKeyDown=function(j){if(this.annotationTooltip.isOpen){j.preventDefault(),j.keyCode===tt.escape&&this.annotationTooltip.hideTooltip();return}if(j.target===this.element){if(j.keyCode!=tt.enter)return;j.preventDefault();var _=this.editor.getCursorPosition().row;this.editor.isRowVisible(_)||this.editor.scrollToLine(_,!0,!0),setTimeout((function(){var $=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),et=this.$findNearestFoldWidget($),st=this.$findNearestAnnotation($);if(!(et===null&&st===null)){if(et===null&&st!==null){this.activeRowIndex=st,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(et!==null&&st===null){this.activeRowIndex=et,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(st-$)<Math.abs(et-$)){this.activeRowIndex=st,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=et,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(j),setTimeout((function(){this.editor._signal("gutterkeydown",new rt(j,this))}).bind(this),10)},it.prototype.$handleGutterKeyboardInteraction=function(j){if(j.keyCode===tt.tab){j.preventDefault();return}if(j.keyCode===tt.escape){j.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(j.keyCode===tt.up){switch(j.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(j.keyCode===tt.down){switch(j.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(j.keyCode===tt.left){j.preventDefault(),this.$switchLane("annotation");return}if(j.keyCode===tt.right){j.preventDefault(),this.$switchLane("fold");return}if(j.keyCode===tt.enter||j.keyCode===tt.space){switch(j.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var _=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),j),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==_&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(_),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var $=this.lines.cells[this.activeRowIndex].element.childNodes[2],et=$.getBoundingClientRect(),st=this.annotationTooltip.getElement().style;st.left=et.right+"px",st.top=et.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},it.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},it.prototype.$isFoldWidgetVisible=function(j){var _=this.editor.isRowFullyVisible(this.$rowIndexToRow(j)),$=this.$getFoldWidget(j).style.display!=="none";return _&&$},it.prototype.$isAnnotationVisible=function(j){var _=this.editor.isRowFullyVisible(this.$rowIndexToRow(j)),$=this.$getAnnotation(j).style.display!=="none";return _&&$},it.prototype.$getFoldWidget=function(j){var _=this.lines.get(j),$=_.element;return $.childNodes[1]},it.prototype.$getAnnotation=function(j){var _=this.lines.get(j),$=_.element;return $.childNodes[2]},it.prototype.$findNearestFoldWidget=function(j){if(this.$isFoldWidgetVisible(j))return j;for(var _=0;j-_>0||j+_<this.lines.getLength()-1;){if(_++,j-_>=0&&this.$isFoldWidgetVisible(j-_))return j-_;if(j+_<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(j+_))return j+_}return null},it.prototype.$findNearestAnnotation=function(j){if(this.$isAnnotationVisible(j))return j;for(var _=0;j-_>0||j+_<this.lines.getLength()-1;){if(_++,j-_>=0&&this.$isAnnotationVisible(j-_))return j-_;if(j+_<=this.lines.getLength()-1&&this.$isAnnotationVisible(j+_))return j+_}return null},it.prototype.$focusFoldWidget=function(j){if(j!=null){var _=this.$getFoldWidget(j);_.classList.add(this.editor.renderer.keyboardFocusClassName),_.focus()}},it.prototype.$focusAnnotation=function(j){if(j!=null){var _=this.$getAnnotation(j);_.classList.add(this.editor.renderer.keyboardFocusClassName),_.focus()}},it.prototype.$blurFoldWidget=function(j){var _=this.$getFoldWidget(j);_.classList.remove(this.editor.renderer.keyboardFocusClassName),_.blur()},it.prototype.$blurAnnotation=function(j){var _=this.$getAnnotation(j);_.classList.remove(this.editor.renderer.keyboardFocusClassName),_.blur()},it.prototype.$moveFoldWidgetUp=function(){for(var j=this.activeRowIndex;j>0;)if(j--,this.$isFoldWidgetVisible(j)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=j,this.$focusFoldWidget(this.activeRowIndex);return}},it.prototype.$moveFoldWidgetDown=function(){for(var j=this.activeRowIndex;j<this.lines.getLength()-1;)if(j++,this.$isFoldWidgetVisible(j)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=j,this.$focusFoldWidget(this.activeRowIndex);return}},it.prototype.$moveAnnotationUp=function(){for(var j=this.activeRowIndex;j>0;)if(j--,this.$isAnnotationVisible(j)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=j,this.$focusAnnotation(this.activeRowIndex);return}},it.prototype.$moveAnnotationDown=function(){for(var j=this.activeRowIndex;j<this.lines.getLength()-1;)if(j++,this.$isAnnotationVisible(j)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=j,this.$focusAnnotation(this.activeRowIndex);return}},it.prototype.$switchLane=function(j){switch(j){case"annotation":if(this.activeLane==="annotation")break;var _=this.$findNearestAnnotation(this.activeRowIndex);if(_==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=_,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var $=this.$findNearestFoldWidget(this.activeRowIndex);if($==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=$,this.$focusFoldWidget(this.activeRowIndex);break}},it.prototype.$rowIndexToRow=function(j){var _=this.lines.get(j);return _?_.row:null},it.prototype.$rowToRowIndex=function(j){for(var _=0;_<this.lines.getLength();_++){var $=this.lines.get(_);if($.row==j)return _}return null},it}();a.GutterKeyboardHandler=at;var rt=function(){function it(j,_){this.gutterKeyboardHandler=_,this.domEvent=j}return it.prototype.getKey=function(){return tt.keyCodeToString(this.domEvent.keyCode)},it.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},it.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},it.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},it}();a.GutterKeyboardEvent=rt}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(o,a,nt){var tt=this&&this.__values||function(kt){var Tt=typeof Symbol=="function"&&Symbol.iterator,At=Tt&&kt[Tt],It=0;if(At)return At.call(kt);if(kt&&typeof kt.length=="number")return{next:function(){return kt&&It>=kt.length&&(kt=void 0),{value:kt&&kt[It++],done:!kt}}};throw new TypeError(Tt?"Object is not iterable.":"Symbol.iterator is not defined.")},ot=o("./lib/oop"),at=o("./lib/dom"),rt=o("./lib/lang"),it=o("./lib/useragent"),j=o("./keyboard/textinput").TextInput,_=o("./mouse/mouse_handler").MouseHandler,$=o("./mouse/fold_handler").FoldHandler,et=o("./keyboard/keybinding").KeyBinding,st=o("./edit_session").EditSession,lt=o("./search").Search,ct=o("./range").Range,ht=o("./lib/event_emitter").EventEmitter,ut=o("./commands/command_manager").CommandManager,mt=o("./commands/default_commands").commands,gt=o("./config"),vt=o("./token_iterator").TokenIterator,dt=o("./line_widgets").LineWidgets,St=o("./keyboard/gutter_handler").GutterKeyboardHandler,yt=o("./config").nls,pt=o("./clipboard"),wt=o("./lib/keys"),Et=function(){function kt(Tt,At,It){this.session,this.$toDestroy=[];var Ot=Tt.getContainerElement();this.container=Ot,this.renderer=Tt,this.id="editor"+ ++kt.$uid,this.commands=new ut(it.isMac?"mac":"win",mt),typeof document=="object"&&(this.textInput=new j(Tt.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new _(this),new $(this)),this.keyBinding=new et(this),this.$search=new lt().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=rt.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(Mt,Dt){Dt._$emitInputEvent.schedule(31)}),this.setSession(At||It&&It.session||new st("")),gt.resetOptions(this),It&&this.setOptions(It),gt._signal("editor",this)}return kt.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=rt.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},kt.prototype.startOperation=function(Tt){if(this.curOp){if(!Tt||this.curOp.command)return;this.prevOp=this.curOp}Tt||(this.previousCommand=null,Tt={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:Tt.command||{},args:Tt.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},kt.prototype.endOperation=function(Tt){if(this.curOp&&this.session){if(Tt&&Tt.returnValue===!1||!this.session)return this.curOp=null;if(Tt==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var At=this.curOp.command,It=At&&At.scrollIntoView;if(It){switch(It){case"center-animate":It="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var Ot=this.selection.getRange(),Mt=this.renderer.layerConfig;(Ot.start.row>=Mt.lastRow||Ot.end.row<=Mt.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}It=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var Dt=this.selection.toJSON();this.curOp.selectionAfter=Dt,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(Dt),this.prevOp=this.curOp,this.curOp=null}},kt.prototype.$historyTracker=function(Tt){if(this.$mergeUndoDeltas){var At=this.prevOp,It=this.$mergeableCommands,Ot=At.command&&Tt.command.name==At.command.name;if(Tt.command.name=="insertstring"){var Mt=Tt.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),Ot=Ot&&this.mergeNextCommand&&(!/\s/.test(Mt)||/\s/.test(At.args)),this.mergeNextCommand=!0}else Ot=Ot&&It.indexOf(Tt.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(Ot=!1),Ot?this.session.mergeUndoDeltas=!0:It.indexOf(Tt.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},kt.prototype.setKeyboardHandler=function(Tt,At){if(Tt&&typeof Tt=="string"&&Tt!="ace"){this.$keybindingId=Tt;var It=this;gt.loadModule(["keybinding",Tt],function(Ot){It.$keybindingId==Tt&&It.keyBinding.setKeyboardHandler(Ot&&Ot.handler),At&&At()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(Tt),At&&At()},kt.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},kt.prototype.setSession=function(Tt){if(this.session!=Tt){this.curOp&&this.endOperation(),this.curOp={};var At=this.session;if(At){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var It=this.session.getSelection();It.off("changeCursor",this.$onCursorChange),It.off("changeSelection",this.$onSelectionChange)}this.session=Tt,Tt?(this.$onDocumentChange=this.onDocumentChange.bind(this),Tt.on("change",this.$onDocumentChange),this.renderer.setSession(Tt),this.$onChangeMode=this.onChangeMode.bind(this),Tt.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),Tt.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),Tt.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),Tt.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),Tt.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),Tt.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=Tt.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(Tt)),this._signal("changeSession",{session:Tt,oldSession:At}),this.curOp=null,At&&At._signal("changeEditor",{oldEditor:this}),Tt&&Tt._signal("changeEditor",{editor:this}),Tt&&!Tt.destroyed&&Tt.bgTokenizer.scheduleStart()}},kt.prototype.getSession=function(){return this.session},kt.prototype.setValue=function(Tt,At){return this.session.doc.setValue(Tt),At?At==1?this.navigateFileEnd():At==-1&&this.navigateFileStart():this.selectAll(),Tt},kt.prototype.getValue=function(){return this.session.getValue()},kt.prototype.getSelection=function(){return this.selection},kt.prototype.resize=function(Tt){this.renderer.onResize(Tt)},kt.prototype.setTheme=function(Tt,At){this.renderer.setTheme(Tt,At)},kt.prototype.getTheme=function(){return this.renderer.getTheme()},kt.prototype.setStyle=function(Tt){this.renderer.setStyle(Tt)},kt.prototype.unsetStyle=function(Tt){this.renderer.unsetStyle(Tt)},kt.prototype.getFontSize=function(){return this.getOption("fontSize")||at.computedStyle(this.container).fontSize},kt.prototype.setFontSize=function(Tt){this.setOption("fontSize",Tt)},kt.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var Tt=this;this.$highlightPending=!0,setTimeout(function(){Tt.$highlightPending=!1;var At=Tt.session;if(!(!At||At.destroyed)){At.$bracketHighlight&&(At.$bracketHighlight.markerIds.forEach(function(Ht){At.removeMarker(Ht)}),At.$bracketHighlight=null);var It=Tt.getCursorPosition(),Ot=Tt.getKeyboardHandler(),Mt=Ot&&Ot.$getDirectionForHighlight&&Ot.$getDirectionForHighlight(Tt),Dt=At.getMatchingBracketRanges(It,Mt);if(!Dt){var Bt=new vt(At,It.row,It.column),qt=Bt.getCurrentToken();if(qt&&/\b(?:tag-open|tag-name)/.test(qt.type)){var Wt=At.getMatchingTags(It);Wt&&(Dt=[Wt.openTagName,Wt.closeTagName])}}if(!Dt&&At.$mode.getMatching&&(Dt=At.$mode.getMatching(Tt.session)),!Dt){Tt.getHighlightIndentGuides()&&Tt.renderer.$textLayer.$highlightIndentGuide();return}var Vt="ace_bracket";Array.isArray(Dt)?Dt.length==1&&(Vt="ace_error_bracket"):Dt=[Dt],Dt.length==2&&(ct.comparePoints(Dt[0].end,Dt[1].start)==0?Dt=[ct.fromPoints(Dt[0].start,Dt[1].end)]:ct.comparePoints(Dt[0].start,Dt[1].end)==0&&(Dt=[ct.fromPoints(Dt[1].start,Dt[0].end)])),At.$bracketHighlight={ranges:Dt,markerIds:Dt.map(function(Ht){return At.addMarker(Ht,Vt,"text")})},Tt.getHighlightIndentGuides()&&Tt.renderer.$textLayer.$highlightIndentGuide()}},50)}},kt.prototype.focus=function(){this.textInput.focus()},kt.prototype.isFocused=function(){return this.textInput.isFocused()},kt.prototype.blur=function(){this.textInput.blur()},kt.prototype.onFocus=function(Tt){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",Tt))},kt.prototype.onBlur=function(Tt){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",Tt))},kt.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},kt.prototype.onDocumentChange=function(Tt){var At=this.session.$useWrapMode,It=Tt.start.row==Tt.end.row?Tt.end.row:1/0;this.renderer.updateLines(Tt.start.row,It,At),this._signal("change",Tt),this.$cursorChange()},kt.prototype.onTokenizerUpdate=function(Tt){var At=Tt.data;this.renderer.updateLines(At.first,At.last)},kt.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},kt.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},kt.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},kt.prototype.$updateHighlightActiveLine=function(){var Tt=this.getSession(),At;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(At=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(At=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(At=!1)),Tt.$highlightLineMarker&&!At)Tt.removeMarker(Tt.$highlightLineMarker.id),Tt.$highlightLineMarker=null;else if(!Tt.$highlightLineMarker&&At){var It=new ct(At.row,At.column,At.row,1/0);It.id=Tt.addMarker(It,"ace_active-line","screenLine"),Tt.$highlightLineMarker=It}else At&&(Tt.$highlightLineMarker.start.row=At.row,Tt.$highlightLineMarker.end.row=At.row,Tt.$highlightLineMarker.start.column=At.column,Tt._signal("changeBackMarker"))},kt.prototype.onSelectionChange=function(Tt){var At=this.session;if(At.$selectionMarker&&At.removeMarker(At.$selectionMarker),At.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var It=this.selection.getRange(),Ot=this.getSelectionStyle();At.$selectionMarker=At.addMarker(It,"ace_selection",Ot)}var Mt=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(Mt),this._signal("changeSelection")},kt.prototype.$getSelectionHighLightRegexp=function(){var Tt=this.session,At=this.getSelectionRange();if(!(At.isEmpty()||At.isMultiLine())){var It=At.start.column,Ot=At.end.column,Mt=Tt.getLine(At.start.row),Dt=Mt.substring(It,Ot);if(!(Dt.length>5e3||!/[\w\d]/.test(Dt))){var Bt=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:Dt}),qt=Mt.substring(It-1,Ot+1);if(Bt.test(qt))return Bt}}},kt.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},kt.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},kt.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},kt.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},kt.prototype.onChangeMode=function(Tt){this.renderer.updateText(),this._emit("changeMode",Tt)},kt.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},kt.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},kt.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},kt.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},kt.prototype.getCopyText=function(){var Tt=this.getSelectedText(),At=this.session.doc.getNewLineCharacter(),It=!1;if(!Tt&&this.$copyWithEmptySelection){It=!0;for(var Ot=this.selection.getAllRanges(),Mt=0;Mt<Ot.length;Mt++){var Dt=Ot[Mt];Mt&&Ot[Mt-1].start.row==Dt.start.row||(Tt+=this.session.getLine(Dt.start.row)+At)}}var Bt={text:Tt};return this._signal("copy",Bt),pt.lineMode=It?Bt.text:!1,Bt.text},kt.prototype.onCopy=function(){this.commands.exec("copy",this)},kt.prototype.onCut=function(){this.commands.exec("cut",this)},kt.prototype.onPaste=function(Tt,At){var It={text:Tt,event:At};this.commands.exec("paste",this,It)},kt.prototype.$handlePaste=function(Tt){typeof Tt=="string"&&(Tt={text:Tt}),this._signal("paste",Tt);var At=Tt.text,It=At===pt.lineMode,Ot=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)It?Ot.insert({row:this.selection.lead.row,column:0},At):this.insert(At);else if(It)this.selection.rangeList.ranges.forEach(function(Vt){Ot.insert({row:Vt.start.row,column:0},At)});else{var Mt=At.split(/\r\n|\r|\n/),Dt=this.selection.rangeList.ranges,Bt=Mt.length==2&&(!Mt[0]||!Mt[1]);if(Mt.length!=Dt.length||Bt)return this.commands.exec("insertstring",this,At);for(var qt=Dt.length;qt--;){var Wt=Dt[qt];Wt.isEmpty()||Ot.remove(Wt),Ot.insert(Wt.start,Mt[qt])}}},kt.prototype.execCommand=function(Tt,At){return this.commands.exec(Tt,this,At)},kt.prototype.insert=function(Tt,At){var It=this.session,Ot=It.getMode(),Mt=this.getCursorPosition();if(this.getBehavioursEnabled()&&!At){var Dt=Ot.transformAction(It.getState(Mt.row),"insertion",this,It,Tt);Dt&&(Tt!==Dt.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),Tt=Dt.text)}if(Tt=="	"&&(Tt=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&Tt.indexOf(`
`)==-1){var Bt=ct.fromPoints(Mt,Mt);Bt.end.column+=Tt.length,this.session.remove(Bt)}}else{var Bt=this.getSelectionRange();Mt=this.session.remove(Bt),this.clearSelection()}if(Tt==`
`||Tt==`\r
`){var Ht=It.getLine(Mt.row);if(Mt.column>Ht.search(/\S|$/)){var qt=Ht.substr(Mt.column).search(/\S|$/);It.doc.removeInLine(Mt.row,Mt.column,Mt.column+qt)}}this.clearSelection();var Wt=Mt.column,Vt=It.getState(Mt.row),Ht=It.getLine(Mt.row),Jt=Ot.checkOutdent(Vt,Ht,Tt);if(It.insert(Mt,Tt),Dt&&Dt.selection&&(Dt.selection.length==2?this.selection.setSelectionRange(new ct(Mt.row,Wt+Dt.selection[0],Mt.row,Wt+Dt.selection[1])):this.selection.setSelectionRange(new ct(Mt.row+Dt.selection[0],Dt.selection[1],Mt.row+Dt.selection[2],Dt.selection[3]))),this.$enableAutoIndent){if(It.getDocument().isNewLine(Tt)){var Qt=Ot.getNextLineIndent(Vt,Ht.slice(0,Mt.column),It.getTabString());It.insert({row:Mt.row+1,column:0},Qt)}Jt&&Ot.autoOutdent(Vt,It,Mt.row)}},kt.prototype.autoIndent=function(){for(var Tt=this.session,At=Tt.getMode(),It=this.selection.isEmpty()?[new ct(0,0,Tt.doc.getLength()-1,0)]:this.selection.getAllRanges(),Ot="",Mt="",Dt="",Bt=Tt.getTabString(),qt=0;qt<It.length;qt++)for(var Wt=It[qt].start.row,Vt=It[qt].end.row,Ht=Wt;Ht<=Vt;Ht++){Ht>0&&(Ot=Tt.getState(Ht-1),Mt=Tt.getLine(Ht-1),Dt=At.getNextLineIndent(Ot,Mt,Bt));var Jt=Tt.getLine(Ht),Qt=At.$getIndent(Jt);if(Dt!==Qt){if(Qt.length>0){var cr=new ct(Ht,0,Ht,Qt.length);Tt.remove(cr)}Dt.length>0&&Tt.insert({row:Ht,column:0},Dt)}At.autoOutdent(Ot,Tt,Ht)}},kt.prototype.onTextInput=function(Tt,At){if(!At)return this.keyBinding.onTextInput(Tt);this.startOperation({command:{name:"insertstring"}});var It=this.applyComposition.bind(this,Tt,At);this.selection.rangeCount?this.forEachSelection(It):It(),this.endOperation()},kt.prototype.applyComposition=function(Tt,At){if(At.extendLeft||At.extendRight){var It=this.selection.getRange();It.start.column-=At.extendLeft,It.end.column+=At.extendRight,It.start.column<0&&(It.start.row--,It.start.column+=this.session.getLine(It.start.row).length+1),this.selection.setRange(It),!Tt&&!It.isEmpty()&&this.remove()}if((Tt||!this.selection.isEmpty())&&this.insert(Tt,!0),At.restoreStart||At.restoreEnd){var It=this.selection.getRange();It.start.column-=At.restoreStart,It.end.column-=At.restoreEnd,this.selection.setRange(It)}},kt.prototype.onCommandKey=function(Tt,At,It){return this.keyBinding.onCommandKey(Tt,At,It)},kt.prototype.setOverwrite=function(Tt){this.session.setOverwrite(Tt)},kt.prototype.getOverwrite=function(){return this.session.getOverwrite()},kt.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},kt.prototype.setScrollSpeed=function(Tt){this.setOption("scrollSpeed",Tt)},kt.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},kt.prototype.setDragDelay=function(Tt){this.setOption("dragDelay",Tt)},kt.prototype.getDragDelay=function(){return this.getOption("dragDelay")},kt.prototype.setSelectionStyle=function(Tt){this.setOption("selectionStyle",Tt)},kt.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},kt.prototype.setHighlightActiveLine=function(Tt){this.setOption("highlightActiveLine",Tt)},kt.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},kt.prototype.setHighlightGutterLine=function(Tt){this.setOption("highlightGutterLine",Tt)},kt.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},kt.prototype.setHighlightSelectedWord=function(Tt){this.setOption("highlightSelectedWord",Tt)},kt.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},kt.prototype.setAnimatedScroll=function(Tt){this.renderer.setAnimatedScroll(Tt)},kt.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},kt.prototype.setShowInvisibles=function(Tt){this.renderer.setShowInvisibles(Tt)},kt.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},kt.prototype.setDisplayIndentGuides=function(Tt){this.renderer.setDisplayIndentGuides(Tt)},kt.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},kt.prototype.setHighlightIndentGuides=function(Tt){this.renderer.setHighlightIndentGuides(Tt)},kt.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},kt.prototype.setShowPrintMargin=function(Tt){this.renderer.setShowPrintMargin(Tt)},kt.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},kt.prototype.setPrintMarginColumn=function(Tt){this.renderer.setPrintMarginColumn(Tt)},kt.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},kt.prototype.setReadOnly=function(Tt){this.setOption("readOnly",Tt)},kt.prototype.getReadOnly=function(){return this.getOption("readOnly")},kt.prototype.setBehavioursEnabled=function(Tt){this.setOption("behavioursEnabled",Tt)},kt.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},kt.prototype.setWrapBehavioursEnabled=function(Tt){this.setOption("wrapBehavioursEnabled",Tt)},kt.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},kt.prototype.setShowFoldWidgets=function(Tt){this.setOption("showFoldWidgets",Tt)},kt.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},kt.prototype.setFadeFoldWidgets=function(Tt){this.setOption("fadeFoldWidgets",Tt)},kt.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},kt.prototype.remove=function(Tt){this.selection.isEmpty()&&(Tt=="left"?this.selection.selectLeft():this.selection.selectRight());var At=this.getSelectionRange();if(this.getBehavioursEnabled()){var It=this.session,Ot=It.getState(At.start.row),Mt=It.getMode().transformAction(Ot,"deletion",this,It,At);if(At.end.column===0){var Dt=It.getTextRange(At);if(Dt[Dt.length-1]==`
`){var Bt=It.getLine(At.end.row);/^\s+$/.test(Bt)&&(At.end.column=Bt.length)}}Mt&&(At=Mt)}this.session.remove(At),this.clearSelection()},kt.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},kt.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},kt.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},kt.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var Tt=this.getSelectionRange();Tt.start.column==Tt.end.column&&Tt.start.row==Tt.end.row&&(Tt.end.column=0,Tt.end.row++),this.session.remove(Tt),this.clearSelection()},kt.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var Tt=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(Tt)},kt.prototype.setGhostText=function(Tt,At){this.session.widgetManager||(this.session.widgetManager=new dt(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(Tt,At)},kt.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},kt.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var Tt=this.getCursorPosition(),At=Tt.column;if(At!==0){var It=this.session.getLine(Tt.row),Ot,Mt;At<It.length?(Ot=It.charAt(At)+It.charAt(At-1),Mt=new ct(Tt.row,At-1,Tt.row,At+1)):(Ot=It.charAt(At-1)+It.charAt(At-2),Mt=new ct(Tt.row,At-2,Tt.row,At)),this.session.replace(Mt,Ot),this.session.selection.moveToPosition(Mt.end)}}},kt.prototype.toLowerCase=function(){var Tt=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var At=this.getSelectionRange(),It=this.session.getTextRange(At);this.session.replace(At,It.toLowerCase()),this.selection.setSelectionRange(Tt)},kt.prototype.toUpperCase=function(){var Tt=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var At=this.getSelectionRange(),It=this.session.getTextRange(At);this.session.replace(At,It.toUpperCase()),this.selection.setSelectionRange(Tt)},kt.prototype.indent=function(){var Tt=this.session,At=this.getSelectionRange();if(At.start.row<At.end.row){var It=this.$getSelectedRows();Tt.indentRows(It.first,It.last,"	");return}else if(At.start.column<At.end.column){var Ot=Tt.getTextRange(At);if(!/^\s+$/.test(Ot)){var It=this.$getSelectedRows();Tt.indentRows(It.first,It.last,"	");return}}var Mt=Tt.getLine(At.start.row),Dt=At.start,Bt=Tt.getTabSize(),qt=Tt.documentToScreenColumn(Dt.row,Dt.column);if(this.session.getUseSoftTabs())var Wt=Bt-qt%Bt,Vt=rt.stringRepeat(" ",Wt);else{for(var Wt=qt%Bt;Mt[At.start.column-1]==" "&&Wt;)At.start.column--,Wt--;this.selection.setSelectionRange(At),Vt="	"}return this.insert(Vt)},kt.prototype.blockIndent=function(){var Tt=this.$getSelectedRows();this.session.indentRows(Tt.first,Tt.last,"	")},kt.prototype.blockOutdent=function(){var Tt=this.session.getSelection();this.session.outdentRows(Tt.getRange())},kt.prototype.sortLines=function(){for(var Tt=this.$getSelectedRows(),At=this.session,It=[],Ot=Tt.first;Ot<=Tt.last;Ot++)It.push(At.getLine(Ot));It.sort(function(Bt,qt){return Bt.toLowerCase()<qt.toLowerCase()?-1:Bt.toLowerCase()>qt.toLowerCase()?1:0});for(var Mt=new ct(0,0,0,0),Ot=Tt.first;Ot<=Tt.last;Ot++){var Dt=At.getLine(Ot);Mt.start.row=Ot,Mt.end.row=Ot,Mt.end.column=Dt.length,At.replace(Mt,It[Ot-Tt.first])}},kt.prototype.toggleCommentLines=function(){var Tt=this.session.getState(this.getCursorPosition().row),At=this.$getSelectedRows();this.session.getMode().toggleCommentLines(Tt,this.session,At.first,At.last)},kt.prototype.toggleBlockComment=function(){var Tt=this.getCursorPosition(),At=this.session.getState(Tt.row),It=this.getSelectionRange();this.session.getMode().toggleBlockComment(At,this.session,It,Tt)},kt.prototype.getNumberAt=function(Tt,At){var It=/[\-]?[0-9]+(?:\.[0-9]+)?/g;It.lastIndex=0;for(var Ot=this.session.getLine(Tt);It.lastIndex<At;){var Mt=It.exec(Ot);if(Mt.index<=At&&Mt.index+Mt[0].length>=At){var Dt={value:Mt[0],start:Mt.index,end:Mt.index+Mt[0].length};return Dt}}return null},kt.prototype.modifyNumber=function(Tt){var At=this.selection.getCursor().row,It=this.selection.getCursor().column,Ot=new ct(At,It-1,At,It),Mt=this.session.getTextRange(Ot);if(!isNaN(parseFloat(Mt))&&isFinite(Mt)){var Dt=this.getNumberAt(At,It);if(Dt){var Bt=Dt.value.indexOf(".")>=0?Dt.start+Dt.value.indexOf(".")+1:Dt.end,qt=Dt.start+Dt.value.length-Bt,Wt=parseFloat(Dt.value);Wt*=Math.pow(10,qt),Bt!==Dt.end&&It<Bt?Tt*=Math.pow(10,Dt.end-It-1):Tt*=Math.pow(10,Dt.end-It),Wt+=Tt,Wt/=Math.pow(10,qt);var Vt=Wt.toFixed(qt),Ht=new ct(At,Dt.start,At,Dt.end);this.session.replace(Ht,Vt),this.moveCursorTo(At,Math.max(Dt.start+1,It+Vt.length-Dt.value.length))}}else this.toggleWord()},kt.prototype.toggleWord=function(){var Tt=this.selection.getCursor().row,At=this.selection.getCursor().column;this.selection.selectWord();var It=this.getSelectedText(),Ot=this.selection.getWordRange().start.column,Mt=It.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),Dt=At-Ot-1;Dt<0&&(Dt=0);var Bt=0,qt=0,Wt=this;It.match(/[A-Za-z0-9_]+/)&&Mt.forEach(function(tr,rr){qt=Bt+tr.length,Dt>=Bt&&Dt<=qt&&(It=tr,Wt.selection.clearSelection(),Wt.moveCursorTo(Tt,Bt+Ot),Wt.selection.selectTo(Tt,qt+Ot)),Bt=qt});for(var Vt=this.$toggleWordPairs,Ht,Jt=0;Jt<Vt.length;Jt++)for(var Qt=Vt[Jt],cr=0;cr<=1;cr++){var hr=+!cr,dr=It.match(new RegExp("^\\s?_?("+rt.escapeRegExp(Qt[cr])+")\\s?$","i"));if(dr){var gr=It.match(new RegExp("([_]|^|\\s)("+rt.escapeRegExp(dr[1])+")($|\\s)","g"));gr&&(Ht=It.replace(new RegExp(rt.escapeRegExp(Qt[cr]),"i"),function(tr){var rr=Qt[hr];return tr.toUpperCase()==tr?rr=rr.toUpperCase():tr.charAt(0).toUpperCase()==tr.charAt(0)&&(rr=rr.substr(0,0)+Qt[hr].charAt(0).toUpperCase()+rr.substr(1)),rr}),this.insert(Ht),Ht="")}}},kt.prototype.findLinkAt=function(Tt,At){var It,Ot,Mt=this.session.getLine(Tt),Dt=Mt.split(/((?:https?|ftp):\/\/[\S]+)/),Bt=At;Bt<0&&(Bt=0);var qt=0,Wt=0,Vt;try{for(var Ht=tt(Dt),Jt=Ht.next();!Jt.done;Jt=Ht.next()){var Qt=Jt.value;if(Wt=qt+Qt.length,Bt>=qt&&Bt<=Wt&&Qt.match(/((?:https?|ftp):\/\/[\S]+)/)){Vt=Qt.replace(/[\s:.,'";}\]]+$/,"");break}qt=Wt}}catch(cr){It={error:cr}}finally{try{Jt&&!Jt.done&&(Ot=Ht.return)&&Ot.call(Ht)}finally{if(It)throw It.error}}return Vt},kt.prototype.openLink=function(){var Tt=this.selection.getCursor(),At=this.findLinkAt(Tt.row,Tt.column);return At&&window.open(At,"_blank"),At!=null},kt.prototype.removeLines=function(){var Tt=this.$getSelectedRows();this.session.removeFullLines(Tt.first,Tt.last),this.clearSelection()},kt.prototype.duplicateSelection=function(){var Tt=this.selection,At=this.session,It=Tt.getRange(),Ot=Tt.isBackwards();if(It.isEmpty()){var Mt=It.start.row;At.duplicateLines(Mt,Mt)}else{var Dt=Ot?It.start:It.end,Bt=At.insert(Dt,At.getTextRange(It));It.start=Dt,It.end=Bt,Tt.setSelectionRange(It,Ot)}},kt.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},kt.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},kt.prototype.moveText=function(Tt,At,It){return this.session.moveText(Tt,At,It)},kt.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},kt.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},kt.prototype.$moveLines=function(Tt,At){var It,Ot,Mt=this.selection;if(!Mt.inMultiSelectMode||this.inVirtualSelectionMode){var Dt=Mt.toOrientedRange();It=this.$getSelectedRows(Dt),Ot=this.session.$moveLines(It.first,It.last,At?0:Tt),At&&Tt==-1&&(Ot=0),Dt.moveBy(Ot,0),Mt.fromOrientedRange(Dt)}else{var Bt=Mt.rangeList.ranges;Mt.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var qt=0,Wt=0,Vt=Bt.length,Ht=0;Ht<Vt;Ht++){var Jt=Ht;Bt[Ht].moveBy(qt,0),It=this.$getSelectedRows(Bt[Ht]);for(var Qt=It.first,cr=It.last;++Ht<Vt;){Wt&&Bt[Ht].moveBy(Wt,0);var hr=this.$getSelectedRows(Bt[Ht]);if(At&&hr.first!=cr)break;if(!At&&hr.first>cr+1)break;cr=hr.last}for(Ht--,qt=this.session.$moveLines(Qt,cr,At?0:Tt),At&&Tt==-1&&(Jt=Ht+1);Jt<=Ht;)Bt[Jt].moveBy(qt,0),Jt++;At||(qt=0),Wt+=qt}Mt.fromOrientedRange(Mt.ranges[0]),Mt.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},kt.prototype.$getSelectedRows=function(Tt){return Tt=(Tt||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(Tt.start.row),last:this.session.getRowFoldEnd(Tt.end.row)}},kt.prototype.onCompositionStart=function(Tt){this.renderer.showComposition(Tt)},kt.prototype.onCompositionUpdate=function(Tt){this.renderer.setCompositionText(Tt)},kt.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},kt.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},kt.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},kt.prototype.isRowVisible=function(Tt){return Tt>=this.getFirstVisibleRow()&&Tt<=this.getLastVisibleRow()},kt.prototype.isRowFullyVisible=function(Tt){return Tt>=this.renderer.getFirstFullyVisibleRow()&&Tt<=this.renderer.getLastFullyVisibleRow()},kt.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},kt.prototype.$moveByPage=function(Tt,At){var It=this.renderer,Ot=this.renderer.layerConfig,Mt=Tt*Math.floor(Ot.height/Ot.lineHeight);At===!0?this.selection.$moveSelection(function(){this.moveCursorBy(Mt,0)}):At===!1&&(this.selection.moveCursorBy(Mt,0),this.selection.clearSelection());var Dt=It.scrollTop;It.scrollBy(0,Mt*Ot.lineHeight),At!=null&&It.scrollCursorIntoView(null,.5),It.animateScrolling(Dt)},kt.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},kt.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},kt.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},kt.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},kt.prototype.scrollPageDown=function(){this.$moveByPage(1)},kt.prototype.scrollPageUp=function(){this.$moveByPage(-1)},kt.prototype.scrollToRow=function(Tt){this.renderer.scrollToRow(Tt)},kt.prototype.scrollToLine=function(Tt,At,It,Ot){this.renderer.scrollToLine(Tt,At,It,Ot)},kt.prototype.centerSelection=function(){var Tt=this.getSelectionRange(),At={row:Math.floor(Tt.start.row+(Tt.end.row-Tt.start.row)/2),column:Math.floor(Tt.start.column+(Tt.end.column-Tt.start.column)/2)};this.renderer.alignCursor(At,.5)},kt.prototype.getCursorPosition=function(){return this.selection.getCursor()},kt.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},kt.prototype.getSelectionRange=function(){return this.selection.getRange()},kt.prototype.selectAll=function(){this.selection.selectAll()},kt.prototype.clearSelection=function(){this.selection.clearSelection()},kt.prototype.moveCursorTo=function(Tt,At){this.selection.moveCursorTo(Tt,At)},kt.prototype.moveCursorToPosition=function(Tt){this.selection.moveCursorToPosition(Tt)},kt.prototype.jumpToMatching=function(Tt,At){var It=this.getCursorPosition(),Ot=new vt(this.session,It.row,It.column),Mt=Ot.getCurrentToken(),Dt=0;Mt&&Mt.type.indexOf("tag-name")!==-1&&(Mt=Ot.stepBackward());var Bt=Mt||Ot.stepForward();if(Bt){var qt,Wt=!1,Vt={},Ht=It.column-Bt.start,Jt,Qt={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(Bt.value.match(/[{}()\[\]]/g)){for(;Ht<Bt.value.length&&!Wt;Ht++)if(Qt[Bt.value[Ht]])switch(Jt=Qt[Bt.value[Ht]]+"."+Bt.type.replace("rparen","lparen"),isNaN(Vt[Jt])&&(Vt[Jt]=0),Bt.value[Ht]){case"(":case"[":case"{":Vt[Jt]++;break;case")":case"]":case"}":Vt[Jt]--,Vt[Jt]===-1&&(qt="bracket",Wt=!0);break}}else Bt.type.indexOf("tag-name")!==-1&&(isNaN(Vt[Bt.value])&&(Vt[Bt.value]=0),Mt.value==="<"&&Dt>1?Vt[Bt.value]++:Mt.value==="</"&&Vt[Bt.value]--,Vt[Bt.value]===-1&&(qt="tag",Wt=!0));Wt||(Mt=Bt,Dt++,Bt=Ot.stepForward(),Ht=0)}while(Bt&&!Wt);if(qt){var cr,hr;if(qt==="bracket")cr=this.session.getBracketRange(It),cr||(cr=new ct(Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()+Ht-1,Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()+Ht-1),hr=cr.start,(At||hr.row===It.row&&Math.abs(hr.column-It.column)<2)&&(cr=this.session.getBracketRange(hr)));else if(qt==="tag"){if(!Bt||Bt.type.indexOf("tag-name")===-1)return;if(cr=new ct(Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()-2,Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()-2),cr.compare(It.row,It.column)===0){var dr=this.session.getMatchingTags(It);dr&&(dr.openTag.contains(It.row,It.column)?(cr=dr.closeTag,hr=cr.start):(cr=dr.openTag,dr.closeTag.start.row===It.row&&dr.closeTag.start.column===It.column?hr=cr.end:hr=cr.start))}hr=hr||cr.start}hr=cr&&cr.cursor||hr,hr&&(Tt?cr&&At?this.selection.setRange(cr):cr&&cr.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(hr.row,hr.column):this.selection.moveTo(hr.row,hr.column))}}},kt.prototype.gotoLine=function(Tt,At,It){this.selection.clearSelection(),this.session.unfold({row:Tt-1,column:At||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(Tt-1,At||0),this.isRowFullyVisible(Tt-1)||this.scrollToLine(Tt-1,!0,It)},kt.prototype.navigateTo=function(Tt,At){this.selection.moveTo(Tt,At)},kt.prototype.navigateUp=function(Tt){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var At=this.selection.anchor.getPosition();return this.moveCursorToPosition(At)}this.selection.clearSelection(),this.selection.moveCursorBy(-Tt||-1,0)},kt.prototype.navigateDown=function(Tt){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var At=this.selection.anchor.getPosition();return this.moveCursorToPosition(At)}this.selection.clearSelection(),this.selection.moveCursorBy(Tt||1,0)},kt.prototype.navigateLeft=function(Tt){if(this.selection.isEmpty())for(Tt=Tt||1;Tt--;)this.selection.moveCursorLeft();else{var At=this.getSelectionRange().start;this.moveCursorToPosition(At)}this.clearSelection()},kt.prototype.navigateRight=function(Tt){if(this.selection.isEmpty())for(Tt=Tt||1;Tt--;)this.selection.moveCursorRight();else{var At=this.getSelectionRange().end;this.moveCursorToPosition(At)}this.clearSelection()},kt.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},kt.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},kt.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},kt.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},kt.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},kt.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},kt.prototype.replace=function(Tt,At){At&&this.$search.set(At);var It=this.$search.find(this.session),Ot=0;return It&&(this.$tryReplace(It,Tt)&&(Ot=1),this.selection.setSelectionRange(It),this.renderer.scrollSelectionIntoView(It.start,It.end)),Ot},kt.prototype.replaceAll=function(Tt,At){At&&this.$search.set(At);var It=this.$search.findAll(this.session),Ot=0;if(!It.length)return Ot;var Mt=this.getSelectionRange();this.selection.moveTo(0,0);for(var Dt=It.length-1;Dt>=0;--Dt)this.$tryReplace(It[Dt],Tt)&&Ot++;return this.selection.setSelectionRange(Mt),Ot},kt.prototype.$tryReplace=function(Tt,At){var It=this.session.getTextRange(Tt);return At=this.$search.replace(It,At),At!==null?(Tt.end=this.session.replace(Tt,At),Tt):null},kt.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},kt.prototype.find=function(Tt,At,It){At||(At={}),typeof Tt=="string"||Tt instanceof RegExp?At.needle=Tt:typeof Tt=="object"&&ot.mixin(At,Tt);var Ot=this.selection.getRange();At.needle==null&&(Tt=this.session.getTextRange(Ot)||this.$search.$options.needle,Tt||(Ot=this.session.getWordRange(Ot.start.row,Ot.start.column),Tt=this.session.getTextRange(Ot)),this.$search.set({needle:Tt})),this.$search.set(At),At.start||this.$search.set({start:Ot});var Mt=this.$search.find(this.session);if(At.preventScroll)return Mt;if(Mt)return this.revealRange(Mt,It),Mt;At.backwards?Ot.start=Ot.end:Ot.end=Ot.start,this.selection.setRange(Ot)},kt.prototype.findNext=function(Tt,At){this.find({skipCurrent:!0,backwards:!1},Tt,At)},kt.prototype.findPrevious=function(Tt,At){this.find(Tt,{skipCurrent:!0,backwards:!0},At)},kt.prototype.revealRange=function(Tt,At){this.session.unfold(Tt),this.selection.setSelectionRange(Tt);var It=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(Tt.start,Tt.end,.5),At!==!1&&this.renderer.animateScrolling(It)},kt.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},kt.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},kt.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(Tt){Tt.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},kt.prototype.setAutoScrollEditorIntoView=function(Tt){if(Tt){var At,It=this,Ot=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var Mt=this.$scrollAnchor;Mt.style.cssText="position:absolute",this.container.insertBefore(Mt,this.container.firstChild);var Dt=this.on("changeSelection",function(){Ot=!0}),Bt=this.renderer.on("beforeRender",function(){Ot&&(At=It.renderer.container.getBoundingClientRect())}),qt=this.renderer.on("afterRender",function(){if(Ot&&At&&(It.isFocused()||It.searchBox&&It.searchBox.isFocused())){var Wt=It.renderer,Vt=Wt.$cursorLayer.$pixelPos,Ht=Wt.layerConfig,Jt=Vt.top-Ht.offset;Vt.top>=0&&Jt+At.top<0?Ot=!0:Vt.top<Ht.height&&Vt.top+At.top+Ht.lineHeight>window.innerHeight?Ot=!1:Ot=null,Ot!=null&&(Mt.style.top=Jt+"px",Mt.style.left=Vt.left+"px",Mt.style.height=Ht.lineHeight+"px",Mt.scrollIntoView(Ot)),Ot=At=null}});this.setAutoScrollEditorIntoView=function(Wt){Wt||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",Dt),this.renderer.off("afterRender",qt),this.renderer.off("beforeRender",Bt))}}},kt.prototype.$resetCursorStyle=function(){var Tt=this.$cursorStyle||"ace",At=this.renderer.$cursorLayer;At&&(At.setSmoothBlinking(/smooth/.test(Tt)),At.isBlinking=!this.$readOnly&&Tt!="wide",at.setCssClass(At.element,"ace_slim-cursors",/slim/.test(Tt)))},kt.prototype.prompt=function(Tt,At,It){var Ot=this;gt.loadModule("ace/ext/prompt",function(Mt){Mt.prompt(Ot,Tt,At,It)})},kt}();Et.$uid=0,Et.prototype.curOp=null,Et.prototype.prevOp={},Et.prototype.$mergeableCommands=["backspace","del","insertstring"],Et.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],ot.implement(Et.prototype,ht),gt.defineOptions(Et.prototype,"editor",{selectionStyle:{set:function(kt){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:kt})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(kt){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(kt){this.textInput.setReadOnly(kt),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(kt){this.textInput.setCopyWithEmptySelection(kt)},initialValue:!1},cursorStyle:{set:function(kt){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(kt){this.setAutoScrollEditorIntoView(kt)}},keyboardHandler:{set:function(kt){this.setKeyboardHandler(kt)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(kt){this.session.setValue(kt)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(kt){this.setSession(kt)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(kt){this.renderer.$gutterLayer.setShowLineNumbers(kt),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),kt&&this.$relativeLineNumbers?Ct.attach(this):Ct.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(kt){this.$showLineNumbers&&kt?Ct.attach(this):Ct.detach(this)}},placeholder:{set:function(kt){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var Tt=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(Tt&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),at.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!Tt&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),at.addCssClass(this.container,"ace_hasPlaceholder");var At=at.createElement("div");At.className="ace_placeholder",At.textContent=this.$placeholder||"",this.renderer.placeholderNode=At,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!Tt&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(kt){var Tt={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(Ot){Ot.blur(),Ot.renderer.scroller.focus()},readOnly:!0},At=function(Ot){if(Ot.target==this.renderer.scroller&&Ot.keyCode===wt.enter){Ot.preventDefault();var Mt=this.getCursorPosition().row;this.isRowVisible(Mt)||this.scrollToLine(Mt,!0,!0),this.focus()}},It;kt?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(it.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",yt("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",yt("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",At.bind(this)),this.commands.addCommand(Tt),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",yt("editor")),this.renderer.$gutter.setAttribute("aria-label",yt("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),It||(It=new St(this)),It.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",At.bind(this)),this.commands.removeCommand(Tt),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),It&&It.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var Ct={getText:function(kt,Tt){return(Math.abs(kt.selection.lead.row-Tt)||Tt+1+(Tt<9?"":""))+""},getWidth:function(kt,Tt,At){return Math.max(Tt.toString().length,(At.lastRow+1).toString().length,2)*At.characterWidth},update:function(kt,Tt){Tt.renderer.$loop.schedule(Tt.renderer.CHANGE_GUTTER)},attach:function(kt){kt.renderer.$gutterLayer.$renderer=this,kt.on("changeSelection",this.update),this.update(null,kt)},detach:function(kt){kt.renderer.$gutterLayer.$renderer==this&&(kt.renderer.$gutterLayer.$renderer=null),kt.off("changeSelection",this.update),this.update(null,kt)}};a.Editor=Et}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(o,a,nt){var tt=o("../lib/dom"),ot=function(){function at(rt,it){this.element=rt,this.canvasHeight=it||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return at.prototype.moveContainer=function(rt){tt.translate(this.element,0,-(rt.firstRowScreen*rt.lineHeight%this.canvasHeight)-rt.offset*this.$offsetCoefficient)},at.prototype.pageChanged=function(rt,it){return Math.floor(rt.firstRowScreen*rt.lineHeight/this.canvasHeight)!==Math.floor(it.firstRowScreen*it.lineHeight/this.canvasHeight)},at.prototype.computeLineTop=function(rt,it,j){var _=it.firstRowScreen*it.lineHeight,$=Math.floor(_/this.canvasHeight),et=j.documentToScreenRow(rt,0)*it.lineHeight;return et-$*this.canvasHeight},at.prototype.computeLineHeight=function(rt,it,j){return it.lineHeight*j.getRowLineCount(rt)},at.prototype.getLength=function(){return this.cells.length},at.prototype.get=function(rt){return this.cells[rt]},at.prototype.shift=function(){this.$cacheCell(this.cells.shift())},at.prototype.pop=function(){this.$cacheCell(this.cells.pop())},at.prototype.push=function(rt){if(Array.isArray(rt)){this.cells.push.apply(this.cells,rt);for(var it=tt.createFragment(this.element),j=0;j<rt.length;j++)it.appendChild(rt[j].element);this.element.appendChild(it)}else this.cells.push(rt),this.element.appendChild(rt.element)},at.prototype.unshift=function(rt){if(Array.isArray(rt)){this.cells.unshift.apply(this.cells,rt);for(var it=tt.createFragment(this.element),j=0;j<rt.length;j++)it.appendChild(rt[j].element);this.element.firstChild?this.element.insertBefore(it,this.element.firstChild):this.element.appendChild(it)}else this.cells.unshift(rt),this.element.insertAdjacentElement("afterbegin",rt.element)},at.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},at.prototype.$cacheCell=function(rt){rt&&(rt.element.remove(),this.cellCache.push(rt))},at.prototype.createCell=function(rt,it,j,_){var $=this.cellCache.pop();if(!$){var et=tt.createElement("div");_&&_(et),this.element.appendChild(et),$={element:et,text:"",row:rt}}return $.row=rt,$},at}();a.Lines=ot}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(o,a,nt){var tt=o("../lib/dom"),ot=o("../lib/oop"),at=o("../lib/lang"),rt=o("../lib/event_emitter").EventEmitter,it=o("./lines").Lines,j=o("../config").nls,_=function(){function et(st){this.element=tt.createElement("div"),this.element.className="ace_layer ace_gutter-layer",st.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new it(this.element),this.$lines.$offsetCoefficient=1}return et.prototype.setSession=function(st){this.session&&this.session.off("change",this.$updateAnnotations),this.session=st,st&&st.on("change",this.$updateAnnotations)},et.prototype.addGutterDecoration=function(st,lt){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(st,lt)},et.prototype.removeGutterDecoration=function(st,lt){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(st,lt)},et.prototype.setAnnotations=function(st){this.$annotations=[];for(var lt=0;lt<st.length;lt++){var ct=st[lt],ht=ct.row,ut=this.$annotations[ht];ut||(ut=this.$annotations[ht]={text:[],type:[]});var mt=ct.text,gt=ct.type;mt=mt?at.escapeHTML(mt):ct.html||"",ut.text.indexOf(mt)===-1&&(ut.text.push(mt),ut.type.push(gt));var vt=ct.className;vt?ut.className=vt:gt=="error"?ut.className=" ace_error":gt=="warning"&&ut.className!=" ace_error"?ut.className=" ace_warning":gt=="info"&&!ut.className&&(ut.className=" ace_info")}},et.prototype.$updateAnnotations=function(st){if(this.$annotations.length){var lt=st.start.row,ct=st.end.row-lt;if(ct!==0)if(st.action=="remove")this.$annotations.splice(lt,ct+1,null);else{var ht=new Array(ct+1);ht.unshift(lt,1),this.$annotations.splice.apply(this.$annotations,ht)}}},et.prototype.update=function(st){this.config=st;var lt=this.session,ct=st.firstRow,ht=Math.min(st.lastRow+st.gutterOffset,lt.getLength()-1);this.oldLastRow=ht,this.config=st,this.$lines.moveContainer(st),this.$updateCursorRow();for(var ut=lt.getNextFoldLine(ct),mt=ut?ut.start.row:1/0,gt=null,vt=-1,dt=ct;;){if(dt>mt&&(dt=ut.end.row+1,ut=lt.getNextFoldLine(dt,ut),mt=ut?ut.start.row:1/0),dt>ht){for(;this.$lines.getLength()>vt+1;)this.$lines.pop();break}gt=this.$lines.get(++vt),gt?gt.row=dt:(gt=this.$lines.createCell(dt,st,this.session,$),this.$lines.push(gt)),this.$renderCell(gt,st,ut,dt),dt++}this._signal("afterRender"),this.$updateGutterWidth(st)},et.prototype.$updateGutterWidth=function(st){var lt=this.session,ct=lt.gutterRenderer||this.$renderer,ht=lt.$firstLineNumber,ut=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||lt.$useWrapMode)&&(ut=lt.getLength()+ht-1);var mt=ct?ct.getWidth(lt,ut,st):ut.toString().length*st.characterWidth,gt=this.$padding||this.$computePadding();mt+=gt.left+gt.right,mt!==this.gutterWidth&&!isNaN(mt)&&(this.gutterWidth=mt,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",mt))},et.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var st=this.session.selection.getCursor();this.$cursorRow!==st.row&&(this.$cursorRow=st.row)}},et.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var st=this.session.selection.cursor.row;if(this.$cursorRow=st,!(this.$cursorCell&&this.$cursorCell.row==st)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var lt=this.$lines.cells;this.$cursorCell=null;for(var ct=0;ct<lt.length;ct++){var ht=lt[ct];if(ht.row>=this.$cursorRow){if(ht.row>this.$cursorRow){var ut=this.session.getFoldLine(this.$cursorRow);if(ct>0&&ut&&ut.start.row==lt[ct-1].row)ht=lt[ct-1];else break}ht.element.className="ace_gutter-active-line "+ht.element.className,this.$cursorCell=ht;break}}}}},et.prototype.scrollLines=function(st){var lt=this.config;if(this.config=st,this.$updateCursorRow(),this.$lines.pageChanged(lt,st))return this.update(st);this.$lines.moveContainer(st);var ct=Math.min(st.lastRow+st.gutterOffset,this.session.getLength()-1),ht=this.oldLastRow;if(this.oldLastRow=ct,!lt||ht<st.firstRow)return this.update(st);if(ct<lt.firstRow)return this.update(st);if(lt.firstRow<st.firstRow)for(var ut=this.session.getFoldedRowCount(lt.firstRow,st.firstRow-1);ut>0;ut--)this.$lines.shift();if(ht>ct)for(var ut=this.session.getFoldedRowCount(ct+1,ht);ut>0;ut--)this.$lines.pop();st.firstRow<lt.firstRow&&this.$lines.unshift(this.$renderLines(st,st.firstRow,lt.firstRow-1)),ct>ht&&this.$lines.push(this.$renderLines(st,ht+1,ct)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(st)},et.prototype.$renderLines=function(st,lt,ct){for(var ht=[],ut=lt,mt=this.session.getNextFoldLine(ut),gt=mt?mt.start.row:1/0;ut>gt&&(ut=mt.end.row+1,mt=this.session.getNextFoldLine(ut,mt),gt=mt?mt.start.row:1/0),!(ut>ct);){var vt=this.$lines.createCell(ut,st,this.session,$);this.$renderCell(vt,st,mt,ut),ht.push(vt),ut++}return ht},et.prototype.$renderCell=function(st,lt,ct,ht){var ut=st.element,mt=this.session,gt=ut.childNodes[0],vt=ut.childNodes[1],dt=ut.childNodes[2],St=dt.firstChild,yt=mt.$firstLineNumber,pt=mt.$breakpoints,wt=mt.$decorations,Et=mt.gutterRenderer||this.$renderer,Ct=this.$showFoldWidgets&&mt.foldWidgets,kt=ct?ct.start.row:Number.MAX_VALUE,Tt=lt.lineHeight+"px",At=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",It=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",Ot=(Et?Et.getText(mt,ht):ht+yt).toString();if(this.$highlightGutterLine&&(ht==this.$cursorRow||ct&&ht<this.$cursorRow&&ht>=kt&&this.$cursorRow<=ct.end.row)&&(At+="ace_gutter-active-line ",this.$cursorCell!=st&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=st)),pt[ht]&&(At+=pt[ht]),wt[ht]&&(At+=wt[ht]),this.$annotations[ht]&&ht!==kt&&(At+=this.$annotations[ht].className),Ct){var Mt=Ct[ht];Mt==null&&(Mt=Ct[ht]=mt.getFoldWidget(ht))}if(Mt){var Dt="ace_fold-widget ace_"+Mt,Bt=Mt=="start"&&ht==kt&&ht<ct.end.row;if(Bt){Dt+=" ace_closed";for(var qt="",Wt=!1,Vt=ht+1;Vt<=ct.end.row;Vt++)if(this.$annotations[Vt]){if(this.$annotations[Vt].className===" ace_error"){Wt=!0,qt=" ace_error_fold";break}if(this.$annotations[Vt].className===" ace_warning"){Wt=!0,qt=" ace_warning_fold";continue}}At+=qt}else Dt+=" ace_open";vt.className!=Dt&&(vt.className=Dt),tt.setStyle(vt.style,"height",Tt),tt.setStyle(vt.style,"display","inline-block"),vt.setAttribute("role","button"),vt.setAttribute("tabindex","-1");var Ht=mt.getFoldWidgetRange(ht);Ht?vt.setAttribute("aria-label",j("Toggle code folding, rows $0 through $1",[Ht.start.row+1,Ht.end.row+1])):ct?vt.setAttribute("aria-label",j("Toggle code folding, rows $0 through $1",[ct.start.row+1,ct.end.row+1])):vt.setAttribute("aria-label",j("Toggle code folding, row $0",[ht+1])),Bt?(vt.setAttribute("aria-expanded","false"),vt.setAttribute("title",j("Unfold code"))):(vt.setAttribute("aria-expanded","true"),vt.setAttribute("title",j("Fold code")))}else vt&&(tt.setStyle(vt.style,"display","none"),vt.setAttribute("tabindex","0"),vt.removeAttribute("role"),vt.removeAttribute("aria-label"));return Wt&&this.$showFoldedAnnotations?(dt.className="ace_gutter_annotation",St.className=It,St.className+=qt,tt.setStyle(St.style,"height",Tt),tt.setStyle(dt.style,"display","block"),tt.setStyle(dt.style,"height",Tt),dt.setAttribute("aria-label",j("Read annotations row $0",[Ot])),dt.setAttribute("tabindex","-1"),dt.setAttribute("role","button")):this.$annotations[ht]?(dt.className="ace_gutter_annotation",St.className=It,this.$useSvgGutterIcons?St.className+=this.$annotations[ht].className:ut.classList.add(this.$annotations[ht].className.replace(" ","")),tt.setStyle(St.style,"height",Tt),tt.setStyle(dt.style,"display","block"),tt.setStyle(dt.style,"height",Tt),dt.setAttribute("aria-label",j("Read annotations row $0",[Ot])),dt.setAttribute("tabindex","-1"),dt.setAttribute("role","button")):(tt.setStyle(dt.style,"display","none"),dt.removeAttribute("aria-label"),dt.removeAttribute("role"),dt.setAttribute("tabindex","0")),Ot!==gt.data&&(gt.data=Ot),ut.className!=At&&(ut.className=At),tt.setStyle(st.element.style,"height",this.$lines.computeLineHeight(ht,lt,mt)+"px"),tt.setStyle(st.element.style,"top",this.$lines.computeLineTop(ht,lt,mt)+"px"),st.text=Ot,dt.style.display==="none"&&vt.style.display==="none"?st.element.setAttribute("aria-hidden",!0):st.element.setAttribute("aria-hidden",!1),st},et.prototype.setHighlightGutterLine=function(st){this.$highlightGutterLine=st},et.prototype.setShowLineNumbers=function(st){this.$renderer=!st&&{getWidth:function(){return 0},getText:function(){return""}}},et.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},et.prototype.setShowFoldWidgets=function(st){st?tt.addCssClass(this.element,"ace_folding-enabled"):tt.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=st,this.$padding=null},et.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},et.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var st=tt.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(st.borderLeftWidth)||0)+(parseInt(st.paddingLeft)||0)+1,this.$padding.right=(parseInt(st.borderRightWidth)||0)+(parseInt(st.paddingRight)||0),this.$padding},et.prototype.getRegion=function(st){var lt=this.$padding||this.$computePadding(),ct=this.element.getBoundingClientRect();if(st.x<lt.left+ct.left)return"markers";if(this.$showFoldWidgets&&st.x>ct.right-lt.right)return"foldWidgets"},et}();_.prototype.$fixedWidth=!1,_.prototype.$highlightGutterLine=!0,_.prototype.$renderer="",_.prototype.$showLineNumbers=!0,_.prototype.$showFoldWidgets=!0,ot.implement(_.prototype,rt);function $(et){var st=document.createTextNode("");et.appendChild(st);var lt=tt.createElement("span");et.appendChild(lt);var ct=tt.createElement("span");et.appendChild(ct);var ht=tt.createElement("span");return ct.appendChild(ht),et}a.Gutter=_}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(o,a,nt){var tt=o("../range").Range,ot=o("../lib/dom"),at=function(){function it(j){this.element=ot.createElement("div"),this.element.className="ace_layer ace_marker-layer",j.appendChild(this.element)}return it.prototype.setPadding=function(j){this.$padding=j},it.prototype.setSession=function(j){this.session=j},it.prototype.setMarkers=function(j){this.markers=j},it.prototype.elt=function(j,_){var $=this.i!=-1&&this.element.childNodes[this.i];$?this.i++:($=document.createElement("div"),this.element.appendChild($),this.i=-1),$.style.cssText=_,$.className=j},it.prototype.update=function(j){if(j){this.config=j,this.i=0;var _;for(var $ in this.markers){var et=this.markers[$];if(!et.range){et.update(_,this,this.session,j);continue}var st=et.range.clipRows(j.firstRow,j.lastRow);if(!st.isEmpty())if(st=st.toScreenRange(this.session),et.renderer){var lt=this.$getTop(st.start.row,j),ct=this.$padding+st.start.column*j.characterWidth;et.renderer(_,st,ct,lt,j)}else et.type=="fullLine"?this.drawFullLineMarker(_,st,et.clazz,j):et.type=="screenLine"?this.drawScreenLineMarker(_,st,et.clazz,j):st.isMultiLine()?et.type=="text"?this.drawTextMarker(_,st,et.clazz,j):this.drawMultiLineMarker(_,st,et.clazz,j):this.drawSingleLineMarker(_,st,et.clazz+" ace_start ace_br15",j)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},it.prototype.$getTop=function(j,_){return(j-_.firstRowScreen)*_.lineHeight},it.prototype.drawTextMarker=function(j,_,$,et,st){for(var lt=this.session,ct=_.start.row,ht=_.end.row,ut=ct,mt=0,gt=0,vt=lt.getScreenLastRowColumn(ut),dt=new tt(ut,_.start.column,ut,gt);ut<=ht;ut++)dt.start.row=dt.end.row=ut,dt.start.column=ut==ct?_.start.column:lt.getRowWrapIndent(ut),dt.end.column=vt,mt=gt,gt=vt,vt=ut+1<ht?lt.getScreenLastRowColumn(ut+1):ut==ht?0:_.end.column,this.drawSingleLineMarker(j,dt,$+(ut==ct?" ace_start":"")+" ace_br"+rt(ut==ct||ut==ct+1&&_.start.column,mt<gt,gt>vt,ut==ht),et,ut==ht?0:1,st)},it.prototype.drawMultiLineMarker=function(j,_,$,et,st){var lt=this.$padding,ct=et.lineHeight,ht=this.$getTop(_.start.row,et),ut=lt+_.start.column*et.characterWidth;if(st=st||"",this.session.$bidiHandler.isBidiRow(_.start.row)){var mt=_.clone();mt.end.row=mt.start.row,mt.end.column=this.session.getLine(mt.start.row).length,this.drawBidiSingleLineMarker(j,mt,$+" ace_br1 ace_start",et,null,st)}else this.elt($+" ace_br1 ace_start","height:"+ct+"px;right:0;top:"+ht+"px;left:"+ut+"px;"+(st||""));if(this.session.$bidiHandler.isBidiRow(_.end.row)){var mt=_.clone();mt.start.row=mt.end.row,mt.start.column=0,this.drawBidiSingleLineMarker(j,mt,$+" ace_br12",et,null,st)}else{ht=this.$getTop(_.end.row,et);var gt=_.end.column*et.characterWidth;this.elt($+" ace_br12","height:"+ct+"px;width:"+gt+"px;top:"+ht+"px;left:"+lt+"px;"+(st||""))}if(ct=(_.end.row-_.start.row-1)*et.lineHeight,!(ct<=0)){ht=this.$getTop(_.start.row+1,et);var vt=(_.start.column?1:0)|(_.end.column?0:8);this.elt($+(vt?" ace_br"+vt:""),"height:"+ct+"px;right:0;top:"+ht+"px;left:"+lt+"px;"+(st||""))}},it.prototype.drawSingleLineMarker=function(j,_,$,et,st,lt){if(this.session.$bidiHandler.isBidiRow(_.start.row))return this.drawBidiSingleLineMarker(j,_,$,et,st,lt);var ct=et.lineHeight,ht=(_.end.column+(st||0)-_.start.column)*et.characterWidth,ut=this.$getTop(_.start.row,et),mt=this.$padding+_.start.column*et.characterWidth;this.elt($,"height:"+ct+"px;width:"+ht+"px;top:"+ut+"px;left:"+mt+"px;"+(lt||""))},it.prototype.drawBidiSingleLineMarker=function(j,_,$,et,st,lt){var ct=et.lineHeight,ht=this.$getTop(_.start.row,et),ut=this.$padding,mt=this.session.$bidiHandler.getSelections(_.start.column,_.end.column);mt.forEach(function(gt){this.elt($,"height:"+ct+"px;width:"+(gt.width+(st||0))+"px;top:"+ht+"px;left:"+(ut+gt.left)+"px;"+(lt||""))},this)},it.prototype.drawFullLineMarker=function(j,_,$,et,st){var lt=this.$getTop(_.start.row,et),ct=et.lineHeight;_.start.row!=_.end.row&&(ct+=this.$getTop(_.end.row,et)-lt),this.elt($,"height:"+ct+"px;top:"+lt+"px;left:0;right:0;"+(st||""))},it.prototype.drawScreenLineMarker=function(j,_,$,et,st){var lt=this.$getTop(_.start.row,et),ct=et.lineHeight;this.elt($,"height:"+ct+"px;top:"+lt+"px;left:0;right:0;"+(st||""))},it}();at.prototype.$padding=0;function rt(it,j,_,$){return(it?1:0)|(j?2:0)|(_?4:0)|($?8:0)}a.Marker=at}),ace.define("ace/layer/text_util",["require","exports","module"],function(o,a,nt){var tt=new Set(["text","rparen","lparen"]);a.isTextToken=function(ot){return tt.has(ot)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(o,a,nt){var tt=o("../lib/oop"),ot=o("../lib/dom"),at=o("../lib/lang"),rt=o("./lines").Lines,it=o("../lib/event_emitter").EventEmitter,j=o("../config").nls,_=o("./text_util").isTextToken,$=function(){function et(st){this.dom=ot,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",st.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new rt(this.element)}return et.prototype.$updateEolChar=function(){var st=this.session.doc,lt=st.getNewLineCharacter()==`
`&&st.getNewLineMode()!="windows",ct=lt?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=ct)return this.EOL_CHAR=ct,!0},et.prototype.setPadding=function(st){this.$padding=st,this.element.style.margin="0 "+st+"px"},et.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},et.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},et.prototype.$setFontMetrics=function(st){this.$fontMetrics=st,this.$fontMetrics.on("changeCharacterSize",(function(lt){this._signal("changeCharacterSize",lt)}).bind(this)),this.$pollSizeChanges()},et.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},et.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},et.prototype.setSession=function(st){this.session=st,st&&this.$computeTabString()},et.prototype.setShowInvisibles=function(st){return this.showInvisibles==st?!1:(this.showInvisibles=st,typeof st=="string"?(this.showSpaces=/tab/i.test(st),this.showTabs=/space/i.test(st),this.showEOL=/eol/i.test(st)):this.showSpaces=this.showTabs=this.showEOL=st,this.$computeTabString(),!0)},et.prototype.setDisplayIndentGuides=function(st){return this.displayIndentGuides==st?!1:(this.displayIndentGuides=st,this.$computeTabString(),!0)},et.prototype.setHighlightIndentGuides=function(st){return this.$highlightIndentGuides===st?!1:(this.$highlightIndentGuides=st,st)},et.prototype.$computeTabString=function(){var st=this.session.getTabSize();this.tabSize=st;for(var lt=this.$tabStrings=[0],ct=1;ct<st+1;ct++)if(this.showTabs){var ht=this.dom.createElement("span");ht.className="ace_invisible ace_invisible_tab",ht.textContent=at.stringRepeat(this.TAB_CHAR,ct),lt.push(ht)}else lt.push(this.dom.createTextNode(at.stringRepeat(" ",ct),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var ut="ace_indent-guide",mt=this.showSpaces?" ace_invisible ace_invisible_space":"",gt=this.showSpaces?at.stringRepeat(this.SPACE_CHAR,this.tabSize):at.stringRepeat(" ",this.tabSize),vt=this.showTabs?" ace_invisible ace_invisible_tab":"",dt=this.showTabs?at.stringRepeat(this.TAB_CHAR,this.tabSize):gt,ht=this.dom.createElement("span");ht.className=ut+mt,ht.textContent=gt,this.$tabStrings[" "]=ht;var ht=this.dom.createElement("span");ht.className=ut+vt,ht.textContent=dt,this.$tabStrings["	"]=ht}},et.prototype.updateLines=function(st,lt,ct){if(this.config.lastRow!=st.lastRow||this.config.firstRow!=st.firstRow)return this.update(st);this.config=st;for(var ht=Math.max(lt,st.firstRow),ut=Math.min(ct,st.lastRow),mt=this.element.childNodes,gt=0,dt=st.firstRow;dt<ht;dt++){var St=this.session.getFoldLine(dt);if(St)if(St.containsRow(ht)){ht=St.start.row;break}else dt=St.end.row;gt++}for(var vt=!1,dt=ht,St=this.session.getNextFoldLine(dt),yt=St?St.start.row:1/0;dt>yt&&(dt=St.end.row+1,St=this.session.getNextFoldLine(dt,St),yt=St?St.start.row:1/0),!(dt>ut);){var pt=mt[gt++];if(pt){this.dom.removeChildren(pt),this.$renderLine(pt,dt,dt==yt?St:!1),vt&&(pt.style.top=this.$lines.computeLineTop(dt,st,this.session)+"px");var wt=st.lineHeight*this.session.getRowLength(dt)+"px";pt.style.height!=wt&&(vt=!0,pt.style.height=wt)}dt++}if(vt)for(;gt<this.$lines.cells.length;){var Et=this.$lines.cells[gt++];Et.element.style.top=this.$lines.computeLineTop(Et.row,st,this.session)+"px"}},et.prototype.scrollLines=function(st){var lt=this.config;if(this.config=st,this.$lines.pageChanged(lt,st))return this.update(st);this.$lines.moveContainer(st);var ct=st.lastRow,ht=lt?lt.lastRow:-1;if(!lt||ht<st.firstRow)return this.update(st);if(ct<lt.firstRow)return this.update(st);if(!lt||lt.lastRow<st.firstRow)return this.update(st);if(st.lastRow<lt.firstRow)return this.update(st);if(lt.firstRow<st.firstRow)for(var ut=this.session.getFoldedRowCount(lt.firstRow,st.firstRow-1);ut>0;ut--)this.$lines.shift();if(lt.lastRow>st.lastRow)for(var ut=this.session.getFoldedRowCount(st.lastRow+1,lt.lastRow);ut>0;ut--)this.$lines.pop();st.firstRow<lt.firstRow&&this.$lines.unshift(this.$renderLinesFragment(st,st.firstRow,lt.firstRow-1)),st.lastRow>lt.lastRow&&this.$lines.push(this.$renderLinesFragment(st,lt.lastRow+1,st.lastRow)),this.$highlightIndentGuide()},et.prototype.$renderLinesFragment=function(st,lt,ct){for(var ht=[],ut=lt,mt=this.session.getNextFoldLine(ut),gt=mt?mt.start.row:1/0;ut>gt&&(ut=mt.end.row+1,mt=this.session.getNextFoldLine(ut,mt),gt=mt?mt.start.row:1/0),!(ut>ct);){var vt=this.$lines.createCell(ut,st,this.session),dt=vt.element;this.dom.removeChildren(dt),ot.setStyle(dt.style,"height",this.$lines.computeLineHeight(ut,st,this.session)+"px"),ot.setStyle(dt.style,"top",this.$lines.computeLineTop(ut,st,this.session)+"px"),this.$renderLine(dt,ut,ut==gt?mt:!1),this.$useLineGroups()?dt.className="ace_line_group":dt.className="ace_line",ht.push(vt),ut++}return ht},et.prototype.update=function(st){this.$lines.moveContainer(st),this.config=st;for(var lt=st.firstRow,ct=st.lastRow,ht=this.$lines;ht.getLength();)ht.pop();ht.push(this.$renderLinesFragment(st,lt,ct))},et.prototype.$renderToken=function(st,lt,ct,ht){for(var ut=this,mt=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,gt=this.dom.createFragment(this.element),vt,dt=0;vt=mt.exec(ht);){var St=vt[1],yt=vt[2],pt=vt[3],wt=vt[4],Et=vt[5];if(!(!ut.showSpaces&&yt)){var Ct=dt!=vt.index?ht.slice(dt,vt.index):"";if(dt=vt.index+vt[0].length,Ct&&gt.appendChild(this.dom.createTextNode(Ct,this.element)),St){var kt=ut.session.getScreenTabSize(lt+vt.index);gt.appendChild(ut.$tabStrings[kt].cloneNode(!0)),lt+=kt-1}else if(yt)if(ut.showSpaces){var Tt=this.dom.createElement("span");Tt.className="ace_invisible ace_invisible_space",Tt.textContent=at.stringRepeat(ut.SPACE_CHAR,yt.length),gt.appendChild(Tt)}else gt.appendChild(this.dom.createTextNode(yt,this.element));else if(pt){var Tt=this.dom.createElement("span");Tt.className="ace_invisible ace_invisible_space ace_invalid",Tt.textContent=at.stringRepeat(ut.SPACE_CHAR,pt.length),gt.appendChild(Tt)}else if(wt){lt+=1;var Tt=this.dom.createElement("span");Tt.style.width=ut.config.characterWidth*2+"px",Tt.className=ut.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",Tt.textContent=ut.showSpaces?ut.SPACE_CHAR:wt,gt.appendChild(Tt)}else if(Et){lt+=1;var Tt=this.dom.createElement("span");Tt.style.width=ut.config.characterWidth*2+"px",Tt.className="ace_cjk",Tt.textContent=Et,gt.appendChild(Tt)}}}if(gt.appendChild(this.dom.createTextNode(dt?ht.slice(dt):ht,this.element)),_(ct.type))st.appendChild(gt);else{var At="ace_"+ct.type.replace(/\./g," ace_"),Tt=this.dom.createElement("span");ct.type=="fold"&&(Tt.style.width=ct.value.length*this.config.characterWidth+"px",Tt.setAttribute("title",j("Unfold code"))),Tt.className=At,Tt.appendChild(gt),st.appendChild(Tt)}return lt+ht.length},et.prototype.renderIndentGuide=function(st,lt,ct){var ht=lt.search(this.$indentGuideRe);if(ht<=0||ht>=ct)return lt;if(lt[0]==" "){ht-=ht%this.tabSize;for(var ut=ht/this.tabSize,mt=0;mt<ut;mt++)st.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),lt.substr(ht)}else if(lt[0]=="	"){for(var mt=0;mt<ht;mt++)st.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),lt.substr(ht)}return this.$highlightIndentGuide(),lt},et.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var st=this.session.doc.$lines;if(st){var lt=this.session.selection.getCursor(),ct=/^\s*/.exec(this.session.doc.getLine(lt.row))[0].length,ht=Math.floor(ct/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:ht,start:lt.row};var ut=this.session.$bracketHighlight;if(ut){for(var mt=this.session.$bracketHighlight.ranges,gt=0;gt<mt.length;gt++)if(lt.row!==mt[gt].start.row){this.$highlightIndentGuideMarker.end=mt[gt].start.row,lt.row>mt[gt].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&st[lt.row]!==""&&lt.column===st[lt.row].length){this.$highlightIndentGuideMarker.dir=1;for(var gt=lt.row+1;gt<st.length;gt++){var vt=st[gt],dt=/^\s*/.exec(vt)[0].length;if(vt!==""&&(this.$highlightIndentGuideMarker.end=gt,dt<=ct))break}}this.$renderHighlightIndentGuide()}}},et.prototype.$clearActiveIndentGuide=function(){for(var st=this.$lines.cells,lt=0;lt<st.length;lt++){var ct=st[lt],ht=ct.element.childNodes;if(ht.length>0){for(var ut=0;ut<ht.length;ut++)if(ht[ut].classList&&ht[ut].classList.contains("ace_indent-guide-active")){ht[ut].classList.remove("ace_indent-guide-active");break}}}},et.prototype.$setIndentGuideActive=function(st,lt){var ct=this.session.doc.getLine(st.row);if(ct!==""){var ht=st.element.childNodes;if(ht){var ut=ht[lt-1];ut&&ut.classList&&ut.classList.contains("ace_indent-guide")&&ut.classList.add("ace_indent-guide-active")}}},et.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var st=this.$lines.cells;this.$clearActiveIndentGuide();var lt=this.$highlightIndentGuideMarker.indentLevel;if(lt!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var ct=0;ct<st.length;ct++){var ht=st[ct];if(this.$highlightIndentGuideMarker.end&&ht.row>=this.$highlightIndentGuideMarker.start+1){if(ht.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(ht,lt)}}else for(var ct=st.length-1;ct>=0;ct--){var ht=st[ct];if(this.$highlightIndentGuideMarker.end&&ht.row<this.$highlightIndentGuideMarker.start){if(ht.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(ht,lt)}}}},et.prototype.$createLineElement=function(st){var lt=this.dom.createElement("div");return lt.className="ace_line",lt.style.height=this.config.lineHeight+"px",lt},et.prototype.$renderWrappedLine=function(st,lt,ct){var ht=0,ut=0,mt=ct[0],gt=0,vt=this.$createLineElement();st.appendChild(vt);for(var dt=0;dt<lt.length;dt++){var St=lt[dt],yt=St.value;if(dt==0&&this.displayIndentGuides){if(ht=yt.length,yt=this.renderIndentGuide(vt,yt,mt),!yt)continue;ht-=yt.length}if(ht+yt.length<mt)gt=this.$renderToken(vt,gt,St,yt),ht+=yt.length;else{for(;ht+yt.length>=mt;)gt=this.$renderToken(vt,gt,St,yt.substring(0,mt-ht)),yt=yt.substring(mt-ht),ht=mt,vt=this.$createLineElement(),st.appendChild(vt),vt.appendChild(this.dom.createTextNode(at.stringRepeat("",ct.indent),this.element)),ut++,gt=0,mt=ct[ut]||Number.MAX_VALUE;yt.length!=0&&(ht+=yt.length,gt=this.$renderToken(vt,gt,St,yt))}}ct[ct.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(vt,gt,null,"",!0)},et.prototype.$renderSimpleLine=function(st,lt){for(var ct=0,ht=0;ht<lt.length;ht++){var ut=lt[ht],mt=ut.value;if(!(ht==0&&this.displayIndentGuides&&(mt=this.renderIndentGuide(st,mt),!mt))){if(ct+mt.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(st,ct,ut,mt);ct=this.$renderToken(st,ct,ut,mt)}}},et.prototype.$renderOverflowMessage=function(st,lt,ct,ht,ut){ct&&this.$renderToken(st,lt,ct,ht.slice(0,this.MAX_LINE_LENGTH-lt));var mt=this.dom.createElement("span");mt.className="ace_inline_button ace_keyword ace_toggle_wrap",mt.textContent=ut?"<hide>":"<click to see more...>",st.appendChild(mt)},et.prototype.$renderLine=function(st,lt,ct){if(!ct&&ct!=!1&&(ct=this.session.getFoldLine(lt)),ct)var ht=this.$getFoldLineTokens(lt,ct);else var ht=this.session.getTokens(lt);var ut=st;if(ht.length){var mt=this.session.getRowSplitData(lt);if(mt&&mt.length){this.$renderWrappedLine(st,ht,mt);var ut=st.lastChild}else{var ut=st;this.$useLineGroups()&&(ut=this.$createLineElement(),st.appendChild(ut)),this.$renderSimpleLine(ut,ht)}}else this.$useLineGroups()&&(ut=this.$createLineElement(),st.appendChild(ut));if(this.showEOL&&ut){ct&&(lt=ct.end.row);var gt=this.dom.createElement("span");gt.className="ace_invisible ace_invisible_eol",gt.textContent=lt==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,ut.appendChild(gt)}},et.prototype.$getFoldLineTokens=function(st,lt){var ct=this.session,ht=[];function ut(gt,vt,dt){for(var St=0,yt=0;yt+gt[St].value.length<vt;)if(yt+=gt[St].value.length,St++,St==gt.length)return;if(yt!=vt){var pt=gt[St].value.substring(vt-yt);pt.length>dt-vt&&(pt=pt.substring(0,dt-vt)),ht.push({type:gt[St].type,value:pt}),yt=vt+pt.length,St+=1}for(;yt<dt&&St<gt.length;){var pt=gt[St].value;pt.length+yt>dt?ht.push({type:gt[St].type,value:pt.substring(0,dt-yt)}):ht.push(gt[St]),yt+=pt.length,St+=1}}var mt=ct.getTokens(st);return lt.walk(function(gt,vt,dt,St,yt){gt!=null?ht.push({type:"fold",value:gt}):(yt&&(mt=ct.getTokens(vt)),mt.length&&ut(mt,St,dt))},lt.end.row,this.session.getLine(lt.end.row).length),ht},et.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},et}();$.prototype.EOF_CHAR="",$.prototype.EOL_CHAR_LF="",$.prototype.EOL_CHAR_CRLF="",$.prototype.EOL_CHAR=$.prototype.EOL_CHAR_LF,$.prototype.TAB_CHAR="",$.prototype.SPACE_CHAR="",$.prototype.$padding=0,$.prototype.MAX_LINE_LENGTH=1e4,$.prototype.showInvisibles=!1,$.prototype.showSpaces=!1,$.prototype.showTabs=!1,$.prototype.showEOL=!1,$.prototype.displayIndentGuides=!0,$.prototype.$highlightIndentGuides=!0,$.prototype.$tabStrings=[],$.prototype.destroy={},$.prototype.onChangeTabSize=$.prototype.$computeTabString,tt.implement($.prototype,it),a.Text=$}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(o,a,nt){var tt=o("../lib/dom"),ot=function(){function at(rt){this.element=tt.createElement("div"),this.element.className="ace_layer ace_cursor-layer",rt.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),tt.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return at.prototype.$updateOpacity=function(rt){for(var it=this.cursors,j=it.length;j--;)tt.setStyle(it[j].style,"opacity",rt?"":"0")},at.prototype.$startCssAnimation=function(){for(var rt=this.cursors,it=rt.length;it--;)rt[it].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&tt.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},at.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,tt.removeCssClass(this.element,"ace_animate-blinking")},at.prototype.setPadding=function(rt){this.$padding=rt},at.prototype.setSession=function(rt){this.session=rt},at.prototype.setBlinking=function(rt){rt!=this.isBlinking&&(this.isBlinking=rt,this.restartTimer())},at.prototype.setBlinkInterval=function(rt){rt!=this.blinkInterval&&(this.blinkInterval=rt,this.restartTimer())},at.prototype.setSmoothBlinking=function(rt){rt!=this.smoothBlinking&&(this.smoothBlinking=rt,tt.setCssClass(this.element,"ace_smooth-blinking",rt),this.$updateCursors(!0),this.restartTimer())},at.prototype.addCursor=function(){var rt=tt.createElement("div");return rt.className="ace_cursor",this.element.appendChild(rt),this.cursors.push(rt),rt},at.prototype.removeCursor=function(){if(this.cursors.length>1){var rt=this.cursors.pop();return rt.parentNode.removeChild(rt),rt}},at.prototype.hideCursor=function(){this.isVisible=!1,tt.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},at.prototype.showCursor=function(){this.isVisible=!0,tt.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},at.prototype.restartTimer=function(){var rt=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,tt.removeCssClass(this.element,"ace_smooth-blinking")),rt(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&tt.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),tt.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var it=(function(){this.timeoutId=setTimeout(function(){rt(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){rt(!0),it()},this.blinkInterval),it()}},at.prototype.getPixelPosition=function(rt,it){if(!this.config||!this.session)return{left:0,top:0};rt||(rt=this.session.selection.getCursor());var j=this.session.documentToScreenPosition(rt),_=this.$padding+(this.session.$bidiHandler.isBidiRow(j.row,rt.row)?this.session.$bidiHandler.getPosLeft(j.column):j.column*this.config.characterWidth),$=(j.row-(it?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:_,top:$}},at.prototype.isCursorInView=function(rt,it){return rt.top>=0&&rt.top<it.maxHeight},at.prototype.update=function(rt){this.config=rt;var it=this.session.$selectionMarkers,j=0,_=0;(it===void 0||it.length===0)&&(it=[{cursor:null}]);for(var j=0,$=it.length;j<$;j++){var et=this.getPixelPosition(it[j].cursor,!0);if(!((et.top>rt.height+rt.offset||et.top<0)&&j>1)){var st=this.cursors[_++]||this.addCursor(),lt=st.style;this.drawCursor?this.drawCursor(st,et,rt,it[j],this.session):this.isCursorInView(et,rt)?(tt.setStyle(lt,"display","block"),tt.translate(st,et.left,et.top),tt.setStyle(lt,"width",Math.round(rt.characterWidth)+"px"),tt.setStyle(lt,"height",rt.lineHeight+"px")):tt.setStyle(lt,"display","none")}}for(;this.cursors.length>_;)this.removeCursor();var ct=this.session.getOverwrite();this.$setOverwrite(ct),this.$pixelPos=et,this.restartTimer()},at.prototype.$setOverwrite=function(rt){rt!=this.overwrite&&(this.overwrite=rt,rt?tt.addCssClass(this.element,"ace_overwrite-cursors"):tt.removeCssClass(this.element,"ace_overwrite-cursors"))},at.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},at}();ot.prototype.$padding=0,ot.prototype.drawCursor=null,a.Cursor=ot}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(o,a,nt){var tt=this&&this.__extends||function(){var st=function(lt,ct){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,ut){ht.__proto__=ut}||function(ht,ut){for(var mt in ut)Object.prototype.hasOwnProperty.call(ut,mt)&&(ht[mt]=ut[mt])},st(lt,ct)};return function(lt,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Class extends value "+String(ct)+" is not a constructor or null");st(lt,ct);function ht(){this.constructor=lt}lt.prototype=ct===null?Object.create(ct):(ht.prototype=ct.prototype,new ht)}}(),ot=o("./lib/oop"),at=o("./lib/dom"),rt=o("./lib/event"),it=o("./lib/event_emitter").EventEmitter,j=32768,_=function(){function st(lt,ct){this.element=at.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+ct,this.inner=at.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),lt.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,rt.addListener(this.element,"scroll",this.onScroll.bind(this)),rt.addListener(this.element,"mousedown",rt.preventDefault)}return st.prototype.setVisible=function(lt){this.element.style.display=lt?"":"none",this.isVisible=lt,this.coeff=1},st}();ot.implement(_.prototype,it);var $=function(st){tt(lt,st);function lt(ct,ht){var ut=st.call(this,ct,"-v")||this;return ut.scrollTop=0,ut.scrollHeight=0,ht.$scrollbarWidth=ut.width=at.scrollbarWidth(ct.ownerDocument),ut.inner.style.width=ut.element.style.width=(ut.width||15)+5+"px",ut.$minWidth=0,ut}return lt.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var ct=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-ct)/(this.coeff-ct)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},lt.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},lt.prototype.setHeight=function(ct){this.element.style.height=ct+"px"},lt.prototype.setScrollHeight=function(ct){this.scrollHeight=ct,ct>j?(this.coeff=j/ct,ct=j):this.coeff!=1&&(this.coeff=1),this.inner.style.height=ct+"px"},lt.prototype.setScrollTop=function(ct){this.scrollTop!=ct&&(this.skipEvent=!0,this.scrollTop=ct,this.element.scrollTop=ct*this.coeff)},lt}(_);$.prototype.setInnerHeight=$.prototype.setScrollHeight;var et=function(st){tt(lt,st);function lt(ct,ht){var ut=st.call(this,ct,"-h")||this;return ut.scrollLeft=0,ut.height=ht.$scrollbarWidth,ut.inner.style.height=ut.element.style.height=(ut.height||15)+5+"px",ut}return lt.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},lt.prototype.getHeight=function(){return this.isVisible?this.height:0},lt.prototype.setWidth=function(ct){this.element.style.width=ct+"px"},lt.prototype.setInnerWidth=function(ct){this.inner.style.width=ct+"px"},lt.prototype.setScrollWidth=function(ct){this.inner.style.width=ct+"px"},lt.prototype.setScrollLeft=function(ct){this.scrollLeft!=ct&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=ct)},lt}(_);a.ScrollBar=$,a.ScrollBarV=$,a.ScrollBarH=et,a.VScrollBar=$,a.HScrollBar=et}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(o,a,nt){var tt=this&&this.__extends||function(){var et=function(st,lt){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ht){ct.__proto__=ht}||function(ct,ht){for(var ut in ht)Object.prototype.hasOwnProperty.call(ht,ut)&&(ct[ut]=ht[ut])},et(st,lt)};return function(st,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");et(st,lt);function ct(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(ct.prototype=lt.prototype,new ct)}}(),ot=o("./lib/oop"),at=o("./lib/dom"),rt=o("./lib/event"),it=o("./lib/event_emitter").EventEmitter;at.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var j=function(){function et(st,lt){this.element=at.createElement("div"),this.element.className="ace_sb"+lt,this.inner=at.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,st.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,rt.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return et.prototype.setVisible=function(st){this.element.style.display=st?"":"none",this.isVisible=st,this.coeff=1},et}();ot.implement(j.prototype,it);var _=function(et){tt(st,et);function st(lt,ct){var ht=et.call(this,lt,"-v")||this;return ht.scrollTop=0,ht.scrollHeight=0,ht.parent=lt,ht.width=ht.VScrollWidth,ht.renderer=ct,ht.inner.style.width=ht.element.style.width=(ht.width||15)+"px",ht.$minWidth=0,ht}return st.prototype.onMouseDown=function(lt,ct){if(lt==="mousedown"&&!(rt.getButton(ct)!==0||ct.detail===2)){if(ct.target===this.inner){var ht=this,ut=ct.clientY,mt=function(wt){ut=wt.clientY},gt=function(){clearInterval(yt)},vt=ct.clientY,dt=this.thumbTop,St=function(){if(ut!==void 0){var wt=ht.scrollTopFromThumbTop(dt+ut-vt);wt!==ht.scrollTop&&ht._emit("scroll",{data:wt})}};rt.capture(this.inner,mt,gt);var yt=setInterval(St,20);return rt.preventDefault(ct)}var pt=ct.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(pt)}),rt.preventDefault(ct)}},st.prototype.getHeight=function(){return this.height},st.prototype.scrollTopFromThumbTop=function(lt){var ct=lt*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return ct=ct>>0,ct<0?ct=0:ct>this.pageHeight-this.viewHeight&&(ct=this.pageHeight-this.viewHeight),ct},st.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},st.prototype.setHeight=function(lt){this.height=Math.max(0,lt),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},st.prototype.setScrollHeight=function(lt,ct){this.pageHeight===lt&&!ct||(this.pageHeight=lt,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},st.prototype.setScrollTop=function(lt){this.scrollTop=lt,lt<0&&(lt=0),this.thumbTop=lt*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},st}(j);_.prototype.setInnerHeight=_.prototype.setScrollHeight;var $=function(et){tt(st,et);function st(lt,ct){var ht=et.call(this,lt,"-h")||this;return ht.scrollLeft=0,ht.scrollWidth=0,ht.height=ht.HScrollHeight,ht.inner.style.height=ht.element.style.height=(ht.height||12)+"px",ht.renderer=ct,ht}return st.prototype.onMouseDown=function(lt,ct){if(lt==="mousedown"&&!(rt.getButton(ct)!==0||ct.detail===2)){if(ct.target===this.inner){var ht=this,ut=ct.clientX,mt=function(wt){ut=wt.clientX},gt=function(){clearInterval(yt)},vt=ct.clientX,dt=this.thumbLeft,St=function(){if(ut!==void 0){var wt=ht.scrollLeftFromThumbLeft(dt+ut-vt);wt!==ht.scrollLeft&&ht._emit("scroll",{data:wt})}};rt.capture(this.inner,mt,gt);var yt=setInterval(St,20);return rt.preventDefault(ct)}var pt=ct.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(pt)}),rt.preventDefault(ct)}},st.prototype.getHeight=function(){return this.isVisible?this.height:0},st.prototype.scrollLeftFromThumbLeft=function(lt){var ct=lt*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return ct=ct>>0,ct<0?ct=0:ct>this.pageWidth-this.viewWidth&&(ct=this.pageWidth-this.viewWidth),ct},st.prototype.setWidth=function(lt){this.width=Math.max(0,lt),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},st.prototype.setScrollWidth=function(lt,ct){this.pageWidth===lt&&!ct||(this.pageWidth=lt,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},st.prototype.setScrollLeft=function(lt){this.scrollLeft=lt,lt<0&&(lt=0),this.thumbLeft=lt*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},st}(j);$.prototype.setInnerWidth=$.prototype.setScrollWidth,a.ScrollBar=_,a.ScrollBarV=_,a.ScrollBarH=$,a.VScrollBar=_,a.HScrollBar=$}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(o,a,nt){var tt=o("./lib/event"),ot=function(){function at(rt,it){this.onRender=rt,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=it||window;var j=this;this._flush=function(_){j.pending=!1;var $=j.changes;if($&&(tt.blockIdle(100),j.changes=0,j.onRender($)),j.changes){if(j.$recursionLimit--<0)return;j.schedule()}else j.$recursionLimit=2}}return at.prototype.schedule=function(rt){this.changes=this.changes|rt,this.changes&&!this.pending&&(tt.nextFrame(this._flush),this.pending=!0)},at.prototype.clear=function(rt){var it=this.changes;return this.changes=0,it},at}();a.RenderLoop=ot}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(o,a,nt){var tt=o("../lib/oop"),ot=o("../lib/dom"),at=o("../lib/lang"),rt=o("../lib/event"),it=o("../lib/useragent"),j=o("../lib/event_emitter").EventEmitter,_=512,$=typeof ResizeObserver=="function",et=200,st=function(){function lt(ct){this.el=ot.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=ot.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=ot.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),ct.appendChild(this.el),this.$measureNode.textContent=at.stringRepeat("X",_),this.$characterSize={width:0,height:0},$?this.$addObserver():this.checkForSizeChanges()}return lt.prototype.$setMeasureNodeStyles=function(ct,ht){ct.width=ct.height="auto",ct.left=ct.top="0px",ct.visibility="hidden",ct.position="absolute",ct.whiteSpace="pre",it.isIE<8?ct["font-family"]="inherit":ct.font="inherit",ct.overflow=ht?"hidden":"visible"},lt.prototype.checkForSizeChanges=function(ct){if(ct===void 0&&(ct=this.$measureSizes()),ct&&(this.$characterSize.width!==ct.width||this.$characterSize.height!==ct.height)){this.$measureNode.style.fontWeight="bold";var ht=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=ct,this.charSizes=Object.create(null),this.allowBoldFonts=ht&&ht.width===ct.width&&ht.height===ct.height,this._emit("changeCharacterSize",{data:ct})}},lt.prototype.$addObserver=function(){var ct=this;this.$observer=new window.ResizeObserver(function(ht){ct.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},lt.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var ct=this;return this.$pollSizeChangesTimer=rt.onIdle(function ht(){ct.checkForSizeChanges(),rt.onIdle(ht,500)},500)},lt.prototype.setPolling=function(ct){ct?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},lt.prototype.$measureSizes=function(ct){var ht={height:(ct||this.$measureNode).clientHeight,width:(ct||this.$measureNode).clientWidth/_};return ht.width===0||ht.height===0?null:ht},lt.prototype.$measureCharWidth=function(ct){this.$main.textContent=at.stringRepeat(ct,_);var ht=this.$main.getBoundingClientRect();return ht.width/_},lt.prototype.getCharacterWidth=function(ct){var ht=this.charSizes[ct];return ht===void 0&&(ht=this.charSizes[ct]=this.$measureCharWidth(ct)/this.$characterSize.width),ht},lt.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},lt.prototype.$getZoom=function(ct){return!ct||!ct.parentElement?1:(window.getComputedStyle(ct).zoom||1)*this.$getZoom(ct.parentElement)},lt.prototype.$initTransformMeasureNodes=function(){var ct=function(ht,ut){return["div",{style:"position: absolute;top:"+ht+"px;left:"+ut+"px;"}]};this.els=ot.buildDom([ct(0,0),ct(et,0),ct(0,et),ct(et,et)],this.el)},lt.prototype.transformCoordinates=function(ct,ht){if(ct){var ut=this.$getZoom(this.el);ct=dt(1/ut,ct)}function mt(Bt,qt,Wt){var Vt=Bt[1]*qt[0]-Bt[0]*qt[1];return[(-qt[1]*Wt[0]+qt[0]*Wt[1])/Vt,(+Bt[1]*Wt[0]-Bt[0]*Wt[1])/Vt]}function gt(Bt,qt){return[Bt[0]-qt[0],Bt[1]-qt[1]]}function vt(Bt,qt){return[Bt[0]+qt[0],Bt[1]+qt[1]]}function dt(Bt,qt){return[Bt*qt[0],Bt*qt[1]]}this.els||this.$initTransformMeasureNodes();function St(Bt){var qt=Bt.getBoundingClientRect();return[qt.left,qt.top]}var yt=St(this.els[0]),pt=St(this.els[1]),wt=St(this.els[2]),Et=St(this.els[3]),Ct=mt(gt(Et,pt),gt(Et,wt),gt(vt(pt,wt),vt(Et,yt))),kt=dt(1+Ct[0],gt(pt,yt)),Tt=dt(1+Ct[1],gt(wt,yt));if(ht){var At=ht,It=Ct[0]*At[0]/et+Ct[1]*At[1]/et+1,Ot=vt(dt(At[0],kt),dt(At[1],Tt));return vt(dt(1/It/et,Ot),yt)}var Mt=gt(ct,yt),Dt=mt(gt(kt,dt(Ct[0],Mt)),gt(Tt,dt(Ct[1],Mt)),Mt);return dt(et,Dt)},lt}();st.prototype.$characterSize={width:0,height:0},tt.implement(st.prototype,j),a.FontMetrics=st}),ace.define("ace/css/editor-css",["require","exports","module"],function(o,a,nt){nt.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(o,a,nt){var tt=o("../lib/dom"),ot=o("../lib/oop"),at=o("../lib/event_emitter").EventEmitter,rt=function(){function it(j,_){this.canvas=tt.createElement("canvas"),this.renderer=_,this.pixelRatio=1,this.maxHeight=_.layerConfig.maxHeight,this.lineHeight=_.layerConfig.lineHeight,this.canvasHeight=j.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=j.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},j.element.appendChild(this.canvas)}return it.prototype.$updateDecorators=function(j){var _=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(j){this.maxHeight=j.maxHeight,this.lineHeight=j.lineHeight,this.canvasHeight=j.height;var $=(j.lastRow+1)*this.lineHeight;$<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var et=this.canvas.getContext("2d");function st(Et,Ct){return Et.priority<Ct.priority?-1:Et.priority>Ct.priority?1:0}var lt=this.renderer.session.$annotations;if(et.clearRect(0,0,this.canvas.width,this.canvas.height),lt){var ct={info:1,warning:2,error:3};lt.forEach(function(Et){Et.priority=ct[Et.type]||null}),lt=lt.sort(st);for(var ht=this.renderer.session.$foldData,ut=0;ut<lt.length;ut++){var mt=lt[ut].row,gt=this.compensateFoldRows(mt,ht),vt=Math.round((mt-gt)*this.lineHeight*this.heightRatio),dt=Math.round((mt-gt)*this.lineHeight*this.heightRatio),St=Math.round(((mt-gt)*this.lineHeight+this.lineHeight)*this.heightRatio),yt=St-dt;if(yt<this.minDecorationHeight){var pt=(dt+St)/2|0;pt<this.halfMinDecorationHeight?pt=this.halfMinDecorationHeight:pt+this.halfMinDecorationHeight>this.canvasHeight&&(pt=this.canvasHeight-this.halfMinDecorationHeight),dt=Math.round(pt-this.halfMinDecorationHeight),St=Math.round(pt+this.halfMinDecorationHeight)}et.fillStyle=_[lt[ut].type]||null,et.fillRect(0,vt,this.canvasWidth,St-dt)}}var wt=this.renderer.session.selection.getCursor();if(wt){var gt=this.compensateFoldRows(wt.row,ht),vt=Math.round((wt.row-gt)*this.lineHeight*this.heightRatio);et.fillStyle="rgba(0, 0, 0, 0.5)",et.fillRect(0,vt,this.canvasWidth,2)}},it.prototype.compensateFoldRows=function(j,_){var $=0;if(_&&_.length>0)for(var et=0;et<_.length;et++)j>_[et].start.row&&j<_[et].end.row?$+=j-_[et].start.row:j>=_[et].end.row&&($+=_[et].end.row-_[et].start.row);return $},it}();ot.implement(rt.prototype,at),a.Decorator=rt}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(o,a,nt){var tt=o("./lib/oop"),ot=o("./lib/dom"),at=o("./lib/lang"),rt=o("./config"),it=o("./layer/gutter").Gutter,j=o("./layer/marker").Marker,_=o("./layer/text").Text,$=o("./layer/cursor").Cursor,et=o("./scrollbar").HScrollBar,st=o("./scrollbar").VScrollBar,lt=o("./scrollbar_custom").HScrollBar,ct=o("./scrollbar_custom").VScrollBar,ht=o("./renderloop").RenderLoop,ut=o("./layer/font_metrics").FontMetrics,mt=o("./lib/event_emitter").EventEmitter,gt=o("./css/editor-css"),vt=o("./layer/decorators").Decorator,dt=o("./lib/useragent");ot.importCssString(gt,"ace_editor.css",!1);var St=function(){function yt(pt,wt){var Et=this;this.container=pt||ot.createElement("div"),ot.addCssClass(this.container,"ace_editor"),ot.HI_DPI&&ot.addCssClass(this.container,"ace_hidpi"),this.setTheme(wt),rt.get("useStrictCSP")==null&&rt.set("useStrictCSP",!1),this.$gutter=ot.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=ot.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=ot.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new it(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new j(this.content);var Ct=this.$textLayer=new _(this.content);this.canvas=Ct.element,this.$markerFront=new j(this.content),this.$cursorLayer=new $(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new st(this.container,this),this.scrollBarH=new et(this.container,this),this.scrollBarV.on("scroll",function(kt){Et.$scrollAnimation||Et.session.setScrollTop(kt.data-Et.scrollMargin.top)}),this.scrollBarH.on("scroll",function(kt){Et.$scrollAnimation||Et.session.setScrollLeft(kt.data-Et.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new ut(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(kt){Et.updateCharacterSize(),Et.onResize(!0,Et.gutterWidth,Et.$size.width,Et.$size.height),Et._signal("changeCharacterSize",kt)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!dt.isIOS,this.$loop=new ht(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),rt.resetOptions(this),rt._signal("renderer",this)}return yt.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),ot.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},yt.prototype.setSession=function(pt){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=pt,pt&&this.scrollMargin.top&&pt.getScrollTop()<=0&&pt.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(pt),this.$markerBack.setSession(pt),this.$markerFront.setSession(pt),this.$gutterLayer.setSession(pt),this.$textLayer.setSession(pt),pt&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},yt.prototype.updateLines=function(pt,wt,Et){if(wt===void 0&&(wt=1/0),this.$changedLines?(this.$changedLines.firstRow>pt&&(this.$changedLines.firstRow=pt),this.$changedLines.lastRow<wt&&(this.$changedLines.lastRow=wt)):this.$changedLines={firstRow:pt,lastRow:wt},this.$changedLines.lastRow<this.layerConfig.firstRow)if(Et)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},yt.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},yt.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},yt.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},yt.prototype.updateFull=function(pt){pt?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},yt.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},yt.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},yt.prototype.onResize=function(pt,wt,Et,Ct){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=pt?1:0;var kt=this.container;Ct||(Ct=kt.clientHeight||kt.scrollHeight),Et||(Et=kt.clientWidth||kt.scrollWidth);var Tt=this.$updateCachedSize(pt,wt,Et,Ct);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!Et&&!Ct)return this.resizing=0;pt&&(this.$gutterLayer.$padding=null),pt?this.$renderChanges(Tt|this.$changes,!0):this.$loop.schedule(Tt|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},yt.prototype.$updateCachedSize=function(pt,wt,Et,Ct){Ct-=this.$extraHeight||0;var kt=0,Tt=this.$size,At={width:Tt.width,height:Tt.height,scrollerHeight:Tt.scrollerHeight,scrollerWidth:Tt.scrollerWidth};if(Ct&&(pt||Tt.height!=Ct)&&(Tt.height=Ct,kt|=this.CHANGE_SIZE,Tt.scrollerHeight=Tt.height,this.$horizScroll&&(Tt.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(Tt.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",kt=kt|this.CHANGE_SCROLL),Et&&(pt||Tt.width!=Et)){kt|=this.CHANGE_SIZE,Tt.width=Et,wt==null&&(wt=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=wt,ot.setStyle(this.scrollBarH.element.style,"left",wt+"px"),ot.setStyle(this.scroller.style,"left",wt+this.margin.left+"px"),Tt.scrollerWidth=Math.max(0,Et-wt-this.scrollBarV.getWidth()-this.margin.h),ot.setStyle(this.$gutter.style,"left",this.margin.left+"px");var It=this.scrollBarV.getWidth()+"px";ot.setStyle(this.scrollBarH.element.style,"right",It),ot.setStyle(this.scroller.style,"right",It),ot.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(Tt.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||pt)&&(kt|=this.CHANGE_FULL)}return Tt.$dirty=!Et||!Ct,kt&&this._signal("resize",At),kt},yt.prototype.onGutterResize=function(pt){var wt=this.$showGutter?pt:0;wt!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,wt,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},yt.prototype.adjustWrapLimit=function(){var pt=this.$size.scrollerWidth-this.$padding*2,wt=Math.floor(pt/this.characterWidth);return this.session.adjustWrapLimit(wt,this.$showPrintMargin&&this.$printMarginColumn)},yt.prototype.setAnimatedScroll=function(pt){this.setOption("animatedScroll",pt)},yt.prototype.getAnimatedScroll=function(){return this.$animatedScroll},yt.prototype.setShowInvisibles=function(pt){this.setOption("showInvisibles",pt),this.session.$bidiHandler.setShowInvisibles(pt)},yt.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},yt.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},yt.prototype.setDisplayIndentGuides=function(pt){this.setOption("displayIndentGuides",pt)},yt.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},yt.prototype.setHighlightIndentGuides=function(pt){this.setOption("highlightIndentGuides",pt)},yt.prototype.setShowPrintMargin=function(pt){this.setOption("showPrintMargin",pt)},yt.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},yt.prototype.setPrintMarginColumn=function(pt){this.setOption("printMarginColumn",pt)},yt.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},yt.prototype.getShowGutter=function(){return this.getOption("showGutter")},yt.prototype.setShowGutter=function(pt){return this.setOption("showGutter",pt)},yt.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},yt.prototype.setFadeFoldWidgets=function(pt){this.setOption("fadeFoldWidgets",pt)},yt.prototype.setHighlightGutterLine=function(pt){this.setOption("highlightGutterLine",pt)},yt.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},yt.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var pt=ot.createElement("div");pt.className="ace_layer ace_print-margin-layer",this.$printMarginEl=ot.createElement("div"),this.$printMarginEl.className="ace_print-margin",pt.appendChild(this.$printMarginEl),this.content.insertBefore(pt,this.content.firstChild)}var wt=this.$printMarginEl.style;wt.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",wt.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},yt.prototype.getContainerElement=function(){return this.container},yt.prototype.getMouseEventTarget=function(){return this.scroller},yt.prototype.getTextAreaContainer=function(){return this.container},yt.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var pt=this.textarea.style,wt=this.$composition;if(!this.$keepTextAreaAtCursor&&!wt){ot.translate(this.textarea,-100,0);return}var Et=this.$cursorLayer.$pixelPos;if(Et){wt&&wt.markerRange&&(Et=this.$cursorLayer.getPixelPosition(wt.markerRange.start,!0));var Ct=this.layerConfig,kt=Et.top,Tt=Et.left;kt-=Ct.offset;var At=wt&&wt.useTextareaForIME||dt.isMobile?this.lineHeight:1;if(kt<0||kt>Ct.height-At){ot.translate(this.textarea,0,0);return}var It=1,Ot=this.$size.height-At;if(!wt)kt+=this.lineHeight;else if(wt.useTextareaForIME){var Mt=this.textarea.value;It=this.characterWidth*this.session.$getStringScreenWidth(Mt)[0]}else kt+=this.lineHeight+2;Tt-=this.scrollLeft,Tt>this.$size.scrollerWidth-It&&(Tt=this.$size.scrollerWidth-It),Tt+=this.gutterWidth+this.margin.left,ot.setStyle(pt,"height",At+"px"),ot.setStyle(pt,"width",It+"px"),ot.translate(this.textarea,Math.min(Tt,this.$size.scrollerWidth-It),Math.min(kt,Ot))}}},yt.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},yt.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},yt.prototype.getLastFullyVisibleRow=function(){var pt=this.layerConfig,wt=pt.lastRow,Et=this.session.documentToScreenRow(wt,0)*pt.lineHeight;return Et-this.session.getScrollTop()>pt.height-pt.lineHeight?wt-1:wt},yt.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},yt.prototype.setPadding=function(pt){this.$padding=pt,this.$textLayer.setPadding(pt),this.$cursorLayer.setPadding(pt),this.$markerFront.setPadding(pt),this.$markerBack.setPadding(pt),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},yt.prototype.setScrollMargin=function(pt,wt,Et,Ct){var kt=this.scrollMargin;kt.top=pt|0,kt.bottom=wt|0,kt.right=Ct|0,kt.left=Et|0,kt.v=kt.top+kt.bottom,kt.h=kt.left+kt.right,kt.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-kt.top),this.updateFull()},yt.prototype.setMargin=function(pt,wt,Et,Ct){var kt=this.margin;kt.top=pt|0,kt.bottom=wt|0,kt.right=Ct|0,kt.left=Et|0,kt.v=kt.top+kt.bottom,kt.h=kt.left+kt.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},yt.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},yt.prototype.setHScrollBarAlwaysVisible=function(pt){this.setOption("hScrollBarAlwaysVisible",pt)},yt.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},yt.prototype.setVScrollBarAlwaysVisible=function(pt){this.setOption("vScrollBarAlwaysVisible",pt)},yt.prototype.$updateScrollBarV=function(){var pt=this.layerConfig.maxHeight,wt=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(pt-=(wt-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>pt-wt&&(pt=this.scrollTop+wt,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(pt+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},yt.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},yt.prototype.freeze=function(){this.$frozen=!0},yt.prototype.unfreeze=function(){this.$frozen=!1},yt.prototype.$renderChanges=function(pt,wt){if(this.$changes&&(pt|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!pt&&!wt){this.$changes|=pt;return}if(this.$size.$dirty)return this.$changes|=pt,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",pt),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var Et=this.layerConfig;if(pt&this.CHANGE_FULL||pt&this.CHANGE_SIZE||pt&this.CHANGE_TEXT||pt&this.CHANGE_LINES||pt&this.CHANGE_SCROLL||pt&this.CHANGE_H_SCROLL){if(pt|=this.$computeLayerConfig()|this.$loop.clear(),Et.firstRow!=this.layerConfig.firstRow&&Et.firstRowScreen==this.layerConfig.firstRowScreen){var Ct=this.scrollTop+(Et.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;Ct>0&&(this.scrollTop=Ct,pt=pt|this.CHANGE_SCROLL,pt|=this.$computeLayerConfig()|this.$loop.clear())}Et=this.layerConfig,this.$updateScrollBarV(),pt&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),ot.translate(this.content,-this.scrollLeft,-Et.offset);var kt=Et.width+2*this.$padding+"px",Tt=Et.minHeight+"px";ot.setStyle(this.content.style,"width",kt),ot.setStyle(this.content.style,"height",Tt)}if(pt&this.CHANGE_H_SCROLL&&(ot.translate(this.content,-this.scrollLeft,-Et.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),pt&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(Et),this.$showGutter&&this.$gutterLayer.update(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et),this.$markerBack.update(Et),this.$markerFront.update(Et),this.$cursorLayer.update(Et),this.$moveTextAreaToCursor(),this._signal("afterRender",pt);return}if(pt&this.CHANGE_SCROLL){this.$changedLines=null,pt&this.CHANGE_TEXT||pt&this.CHANGE_LINES?this.$textLayer.update(Et):this.$textLayer.scrollLines(Et),this.$showGutter&&(pt&this.CHANGE_GUTTER||pt&this.CHANGE_LINES?this.$gutterLayer.update(Et):this.$gutterLayer.scrollLines(Et)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et),this.$markerBack.update(Et),this.$markerFront.update(Et),this.$cursorLayer.update(Et),this.$moveTextAreaToCursor(),this._signal("afterRender",pt);return}pt&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(Et),this.$showGutter&&this.$gutterLayer.update(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et)):pt&this.CHANGE_LINES?((this.$updateLines()||pt&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et)):pt&this.CHANGE_TEXT||pt&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et)):pt&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et)),pt&this.CHANGE_CURSOR&&(this.$cursorLayer.update(Et),this.$moveTextAreaToCursor()),pt&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(Et),pt&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(Et),this._signal("afterRender",pt)},yt.prototype.$autosize=function(){var pt=this.session.getScreenLength()*this.lineHeight,wt=this.$maxLines*this.lineHeight,Et=Math.min(wt,Math.max((this.$minLines||1)*this.lineHeight,pt))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(Et+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&Et>this.$maxPixelHeight&&(Et=this.$maxPixelHeight);var Ct=Et<=2*this.lineHeight,kt=!Ct&&pt>wt;if(Et!=this.desiredHeight||this.$size.height!=this.desiredHeight||kt!=this.$vScroll){kt!=this.$vScroll&&(this.$vScroll=kt,this.scrollBarV.setVisible(kt));var Tt=this.container.clientWidth;this.container.style.height=Et+"px",this.$updateCachedSize(!0,this.$gutterWidth,Tt,Et),this.desiredHeight=Et,this._signal("autosize")}},yt.prototype.$computeLayerConfig=function(){var pt=this.session,wt=this.$size,Et=wt.height<=2*this.lineHeight,Ct=this.session.getScreenLength(),kt=Ct*this.lineHeight,Tt=this.$getLongestLine(),At=!Et&&(this.$hScrollBarAlwaysVisible||wt.scrollerWidth-Tt-2*this.$padding<0),It=this.$horizScroll!==At;It&&(this.$horizScroll=At,this.scrollBarH.setVisible(At));var Ot=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Mt=wt.scrollerHeight+this.lineHeight,Dt=!this.$maxLines&&this.$scrollPastEnd?(wt.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;kt+=Dt;var Bt=this.scrollMargin;this.session.setScrollTop(Math.max(-Bt.top,Math.min(this.scrollTop,kt-wt.scrollerHeight+Bt.bottom))),this.session.setScrollLeft(Math.max(-Bt.left,Math.min(this.scrollLeft,Tt+2*this.$padding-wt.scrollerWidth+Bt.right)));var qt=!Et&&(this.$vScrollBarAlwaysVisible||wt.scrollerHeight-kt+Dt<0||this.scrollTop>Bt.top),Wt=Ot!==qt;Wt&&(this.$vScroll=qt,this.scrollBarV.setVisible(qt));var Vt=this.scrollTop%this.lineHeight,Ht=Math.ceil(Mt/this.lineHeight)-1,Jt=Math.max(0,Math.round((this.scrollTop-Vt)/this.lineHeight)),Qt=Jt+Ht,cr,hr,dr=this.lineHeight;Jt=pt.screenToDocumentRow(Jt,0);var gr=pt.getFoldLine(Jt);gr&&(Jt=gr.start.row),cr=pt.documentToScreenRow(Jt,0),hr=pt.getRowLength(Jt)*dr,Qt=Math.min(pt.screenToDocumentRow(Qt,0),pt.getLength()-1),Mt=wt.scrollerHeight+pt.getRowLength(Qt)*dr+hr,Vt=this.scrollTop-cr*dr;var tr=0;return(this.layerConfig.width!=Tt||It)&&(tr=this.CHANGE_H_SCROLL),(It||Wt)&&(tr|=this.$updateCachedSize(!0,this.gutterWidth,wt.width,wt.height),this._signal("scrollbarVisibilityChanged"),Wt&&(Tt=this.$getLongestLine())),this.layerConfig={width:Tt,padding:this.$padding,firstRow:Jt,firstRowScreen:cr,lastRow:Qt,lineHeight:dr,characterWidth:this.characterWidth,minHeight:Mt,maxHeight:kt,offset:Vt,gutterOffset:dr?Math.max(0,Math.ceil((Vt+wt.height-wt.scrollerHeight)/dr)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(Tt-this.$padding),tr},yt.prototype.$updateLines=function(){if(this.$changedLines){var pt=this.$changedLines.firstRow,wt=this.$changedLines.lastRow;this.$changedLines=null;var Et=this.layerConfig;if(!(pt>Et.lastRow+1)&&!(wt<Et.firstRow)){if(wt===1/0){this.$showGutter&&this.$gutterLayer.update(Et),this.$textLayer.update(Et);return}return this.$textLayer.updateLines(Et,pt,wt),!0}}},yt.prototype.$getLongestLine=function(){var pt=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(pt+=1),this.$textLayer&&pt>this.$textLayer.MAX_LINE_LENGTH&&(pt=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(pt*this.characterWidth))},yt.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},yt.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},yt.prototype.addGutterDecoration=function(pt,wt){this.$gutterLayer.addGutterDecoration(pt,wt)},yt.prototype.removeGutterDecoration=function(pt,wt){this.$gutterLayer.removeGutterDecoration(pt,wt)},yt.prototype.updateBreakpoints=function(pt){this._rows=pt,this.$loop.schedule(this.CHANGE_GUTTER)},yt.prototype.setAnnotations=function(pt){this.$gutterLayer.setAnnotations(pt),this.$loop.schedule(this.CHANGE_GUTTER)},yt.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},yt.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},yt.prototype.showCursor=function(){this.$cursorLayer.showCursor()},yt.prototype.scrollSelectionIntoView=function(pt,wt,Et){this.scrollCursorIntoView(pt,Et),this.scrollCursorIntoView(wt,Et)},yt.prototype.scrollCursorIntoView=function(pt,wt,Et){if(this.$size.scrollerHeight!==0){var Ct=this.$cursorLayer.getPixelPosition(pt),kt=Ct.left,Tt=Ct.top,At=Et&&Et.top||0,It=Et&&Et.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var Ot=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;Ot+At>Tt?(wt&&Ot+At>Tt+this.lineHeight&&(Tt-=wt*this.$size.scrollerHeight),Tt===0&&(Tt=-this.scrollMargin.top),this.session.setScrollTop(Tt)):Ot+this.$size.scrollerHeight-It<Tt+this.lineHeight&&(wt&&Ot+this.$size.scrollerHeight-It<Tt-this.lineHeight&&(Tt+=wt*this.$size.scrollerHeight),this.session.setScrollTop(Tt+this.lineHeight+It-this.$size.scrollerHeight));var Mt=this.scrollLeft,Dt=2*this.layerConfig.characterWidth;kt-Dt<Mt?(kt-=Dt,kt<this.$padding+Dt&&(kt=-this.scrollMargin.left),this.session.setScrollLeft(kt)):(kt+=Dt,Mt+this.$size.scrollerWidth<kt+this.characterWidth?this.session.setScrollLeft(Math.round(kt+this.characterWidth-this.$size.scrollerWidth)):Mt<=this.$padding&&kt-Mt<this.characterWidth&&this.session.setScrollLeft(0))}},yt.prototype.getScrollTop=function(){return this.session.getScrollTop()},yt.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},yt.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},yt.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},yt.prototype.scrollToRow=function(pt){this.session.setScrollTop(pt*this.lineHeight)},yt.prototype.alignCursor=function(pt,wt){typeof pt=="number"&&(pt={row:pt,column:0});var Et=this.$cursorLayer.getPixelPosition(pt),Ct=this.$size.scrollerHeight-this.lineHeight,kt=Et.top-Ct*(wt||0);return this.session.setScrollTop(kt),kt},yt.prototype.$calcSteps=function(pt,wt){var Et=0,Ct=this.STEPS,kt=[],Tt=function(At,It,Ot){return Ot*(Math.pow(At-1,3)+1)+It};for(Et=0;Et<Ct;++Et)kt.push(Tt(Et/this.STEPS,pt,wt-pt));return kt},yt.prototype.scrollToLine=function(pt,wt,Et,Ct){var kt=this.$cursorLayer.getPixelPosition({row:pt,column:0}),Tt=kt.top;wt&&(Tt-=this.$size.scrollerHeight/2);var At=this.scrollTop;this.session.setScrollTop(Tt),Et!==!1&&this.animateScrolling(At,Ct)},yt.prototype.animateScrolling=function(pt,wt){var Et=this.scrollTop;if(!this.$animatedScroll)return;var Ct=this;if(pt==Et)return;if(this.$scrollAnimation){var kt=this.$scrollAnimation.steps;if(kt.length&&(pt=kt[0],pt==Et))return}var Tt=Ct.$calcSteps(pt,Et);this.$scrollAnimation={from:pt,to:Et,steps:Tt},clearInterval(this.$timer),Ct.session.setScrollTop(Tt.shift()),Ct.session.$scrollTop=Et;function At(){Ct.$timer=clearInterval(Ct.$timer),Ct.$scrollAnimation=null,Ct.$stopAnimation=!1,wt&&wt()}this.$timer=setInterval(function(){if(Ct.$stopAnimation){At();return}if(!Ct.session)return clearInterval(Ct.$timer);Tt.length?(Ct.session.setScrollTop(Tt.shift()),Ct.session.$scrollTop=Et):Et!=null?(Ct.session.$scrollTop=-1,Ct.session.setScrollTop(Et),Et=null):At()},10)},yt.prototype.scrollToY=function(pt){this.scrollTop!==pt&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=pt)},yt.prototype.scrollToX=function(pt){this.scrollLeft!==pt&&(this.scrollLeft=pt),this.$loop.schedule(this.CHANGE_H_SCROLL)},yt.prototype.scrollTo=function(pt,wt){this.session.setScrollTop(wt),this.session.setScrollLeft(pt)},yt.prototype.scrollBy=function(pt,wt){wt&&this.session.setScrollTop(this.session.getScrollTop()+wt),pt&&this.session.setScrollLeft(this.session.getScrollLeft()+pt)},yt.prototype.isScrollableBy=function(pt,wt){if(wt<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||wt>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||pt<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||pt>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},yt.prototype.pixelToScreenCoordinates=function(pt,wt){var Et;if(this.$hasCssTransforms){Et={top:0,left:0};var Ct=this.$fontMetrics.transformCoordinates([pt,wt]);pt=Ct[1]-this.gutterWidth-this.margin.left,wt=Ct[0]}else Et=this.scroller.getBoundingClientRect();var kt=pt+this.scrollLeft-Et.left-this.$padding,Tt=kt/this.characterWidth,At=Math.floor((wt+this.scrollTop-Et.top)/this.lineHeight),It=this.$blockCursor?Math.floor(Tt):Math.round(Tt);return{row:At,column:It,side:Tt-It>0?1:-1,offsetX:kt}},yt.prototype.screenToTextCoordinates=function(pt,wt){var Et;if(this.$hasCssTransforms){Et={top:0,left:0};var Ct=this.$fontMetrics.transformCoordinates([pt,wt]);pt=Ct[1]-this.gutterWidth-this.margin.left,wt=Ct[0]}else Et=this.scroller.getBoundingClientRect();var kt=pt+this.scrollLeft-Et.left-this.$padding,Tt=kt/this.characterWidth,At=this.$blockCursor?Math.floor(Tt):Math.round(Tt),It=Math.floor((wt+this.scrollTop-Et.top)/this.lineHeight);return this.session.screenToDocumentPosition(It,Math.max(At,0),kt)},yt.prototype.textToScreenCoordinates=function(pt,wt){var Et=this.scroller.getBoundingClientRect(),Ct=this.session.documentToScreenPosition(pt,wt),kt=this.$padding+(this.session.$bidiHandler.isBidiRow(Ct.row,pt)?this.session.$bidiHandler.getPosLeft(Ct.column):Math.round(Ct.column*this.characterWidth)),Tt=Ct.row*this.lineHeight;return{pageX:Et.left+kt-this.scrollLeft,pageY:Et.top+Tt-this.scrollTop}},yt.prototype.visualizeFocus=function(){ot.addCssClass(this.container,"ace_focus")},yt.prototype.visualizeBlur=function(){ot.removeCssClass(this.container,"ace_focus")},yt.prototype.showComposition=function(pt){this.$composition=pt,pt.cssText||(pt.cssText=this.textarea.style.cssText),pt.useTextareaForIME==null&&(pt.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(ot.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):pt.markerId=this.session.addMarker(pt.markerRange,"ace_composition_marker","text")},yt.prototype.setCompositionText=function(pt){var wt=this.session.selection.cursor;this.addToken(pt,"composition_placeholder",wt.row,wt.column),this.$moveTextAreaToCursor()},yt.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),ot.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var pt=this.session.selection.cursor;this.removeExtraToken(pt.row,pt.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},yt.prototype.setGhostText=function(pt,wt){var Et=this.session.selection.cursor,Ct=wt||{row:Et.row,column:Et.column};this.removeGhostText();var kt=pt.split(`
`);if(this.addToken(kt[0],"ghost_text",Ct.row,Ct.column),this.$ghostText={text:pt,position:{row:Ct.row,column:Ct.column}},kt.length>1){this.$ghostTextWidget={text:kt.slice(1).join(`
`),row:Ct.row,column:Ct.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var Tt=this.$cursorLayer.getPixelPosition(Ct,!0),At=this.container,It=At.getBoundingClientRect().height,Ot=kt.length*this.lineHeight,Mt=Ot<It-Tt.top;if(Mt)return;Ot<It?this.scrollBy(0,(kt.length-1)*this.lineHeight):this.scrollBy(0,Tt.top)}},yt.prototype.removeGhostText=function(){if(this.$ghostText){var pt=this.$ghostText.position;this.removeExtraToken(pt.row,pt.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},yt.prototype.addToken=function(pt,wt,Et,Ct){var kt=this.session;kt.bgTokenizer.lines[Et]=null;var Tt={type:wt,value:pt},At=kt.getTokens(Et);if(Ct==null||!At.length)At.push(Tt);else for(var It=0,Ot=0;Ot<At.length;Ot++){var Mt=At[Ot];if(It+=Mt.value.length,Ct<=It){var Dt=Mt.value.length-(It-Ct),Bt=Mt.value.slice(0,Dt),qt=Mt.value.slice(Dt);At.splice(Ot,1,{type:Mt.type,value:Bt},Tt,{type:Mt.type,value:qt});break}}this.updateLines(Et,Et)},yt.prototype.removeExtraToken=function(pt,wt){this.session.bgTokenizer.lines[pt]=null,this.updateLines(pt,pt)},yt.prototype.setTheme=function(pt,wt){var Et=this;if(this.$themeId=pt,Et._dispatchEvent("themeChange",{theme:pt}),!pt||typeof pt=="string"){var Ct=pt||this.$options.theme.initialValue;rt.loadModule(["theme",Ct],kt)}else kt(pt);function kt(Tt){if(Et.$themeId!=pt)return wt&&wt();if(!Tt||!Tt.cssClass)throw new Error("couldn't load module "+pt+" or it didn't call define");Tt.$id&&(Et.$themeId=Tt.$id),ot.importCssString(Tt.cssText,Tt.cssClass,Et.container),Et.theme&&ot.removeCssClass(Et.container,Et.theme.cssClass);var At="padding"in Tt?Tt.padding:"padding"in(Et.theme||{})?4:Et.$padding;Et.$padding&&At!=Et.$padding&&Et.setPadding(At),Et.$theme=Tt.cssClass,Et.theme=Tt,ot.addCssClass(Et.container,Tt.cssClass),ot.setCssClass(Et.container,"ace_dark",Tt.isDark),Et.$size&&(Et.$size.width=0,Et.$updateSizeAsync()),Et._dispatchEvent("themeLoaded",{theme:Tt}),wt&&wt()}},yt.prototype.getTheme=function(){return this.$themeId},yt.prototype.setStyle=function(pt,wt){ot.setCssClass(this.container,pt,wt!==!1)},yt.prototype.unsetStyle=function(pt){ot.removeCssClass(this.container,pt)},yt.prototype.setCursorStyle=function(pt){ot.setStyle(this.scroller.style,"cursor",pt)},yt.prototype.setMouseCursor=function(pt){ot.setStyle(this.scroller.style,"cursor",pt)},yt.prototype.attachToShadowRoot=function(){ot.importCssString(gt,"ace_editor.css",this.container)},yt.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},yt.prototype.$updateCustomScrollbar=function(pt){var wt=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,pt===!0?(this.scrollBarV=new ct(this.container,this),this.scrollBarH=new lt(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(Et){wt.$scrollAnimation||wt.session.setScrollTop(Et.data-wt.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(Et){wt.$scrollAnimation||wt.session.setScrollLeft(Et.data-wt.scrollMargin.left)}),this.$scrollDecorator=new vt(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new st(this.container,this),this.scrollBarH=new et(this.container,this),this.scrollBarV.addEventListener("scroll",function(Et){wt.$scrollAnimation||wt.session.setScrollTop(Et.data-wt.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(Et){wt.$scrollAnimation||wt.session.setScrollLeft(Et.data-wt.scrollMargin.left)}))},yt.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var pt=this;this.$resizeTimer=at.delayedCall(function(){pt.destroyed||pt.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(wt){var Et=wt[0].contentRect.width,Ct=wt[0].contentRect.height;Math.abs(pt.$size.width-Et)>1||Math.abs(pt.$size.height-Ct)>1?pt.$resizeTimer.delay():pt.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},yt}();St.prototype.CHANGE_CURSOR=1,St.prototype.CHANGE_MARKER=2,St.prototype.CHANGE_GUTTER=4,St.prototype.CHANGE_SCROLL=8,St.prototype.CHANGE_LINES=16,St.prototype.CHANGE_TEXT=32,St.prototype.CHANGE_SIZE=64,St.prototype.CHANGE_MARKER_BACK=128,St.prototype.CHANGE_MARKER_FRONT=256,St.prototype.CHANGE_FULL=512,St.prototype.CHANGE_H_SCROLL=1024,St.prototype.$changes=0,St.prototype.$padding=null,St.prototype.$frozen=!1,St.prototype.STEPS=8,tt.implement(St.prototype,mt),rt.defineOptions(St.prototype,"renderer",{useResizeObserver:{set:function(yt){!yt&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):yt&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(yt){this.$textLayer.setShowInvisibles(yt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(yt){typeof yt=="number"&&(this.$printMarginColumn=yt),this.$showPrintMargin=!!yt,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(yt){this.$gutter.style.display=yt?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(yt){this.$gutterLayer.$useSvgGutterIcons=yt},initialValue:!1},showFoldedAnnotations:{set:function(yt){this.$gutterLayer.$showFoldedAnnotations=yt},initialValue:!1},fadeFoldWidgets:{set:function(yt){ot.setCssClass(this.$gutter,"ace_fade-fold-widgets",yt)},initialValue:!1},showFoldWidgets:{set:function(yt){this.$gutterLayer.setShowFoldWidgets(yt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(yt){this.$textLayer.setDisplayIndentGuides(yt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(yt){this.$textLayer.setHighlightIndentGuides(yt)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(yt){this.$gutterLayer.setHighlightGutterLine(yt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(yt){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(yt){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(yt){typeof yt=="number"&&(yt=yt+"px"),this.container.style.fontSize=yt,this.updateFontSize()},initialValue:12},fontFamily:{set:function(yt){this.container.style.fontFamily=yt,this.updateFontSize()}},maxLines:{set:function(yt){this.updateFull()}},minLines:{set:function(yt){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(yt){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(yt){yt=+yt||0,this.$scrollPastEnd!=yt&&(this.$scrollPastEnd=yt,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(yt){this.$gutterLayer.$fixedWidth=!!yt,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(yt){this.$updateCustomScrollbar(yt)},initialValue:!1},theme:{set:function(yt){this.setTheme(yt)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!dt.isMobile&&!dt.isIE}}),a.VirtualRenderer=St}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(o,a,nt){var tt=o("../lib/oop"),ot=o("../lib/net"),at=o("../lib/event_emitter").EventEmitter,rt=o("../config");function it(et){var st="importScripts('"+ot.qualifyURL(et)+"');";try{return new Blob([st],{type:"application/javascript"})}catch{var lt=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,ct=new lt;return ct.append(st),ct.getBlob("application/javascript")}}function j(et){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(rt.get("loadWorkerFromBlob")){var st=it(et),lt=window.URL||window.webkitURL,ct=lt.createObjectURL(st);return new Worker(ct)}return new Worker(et)}var _=function(et){et.postMessage||(et=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=et,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){tt.implement(this,at),this.$createWorkerFromOldConfig=function(et,st,lt,ct,ht){if(o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl),rt.get("packaged")||!o.toUrl)ct=ct||rt.moduleUrl(st,"worker");else{var ut=this.$normalizePath;ct=ct||ut(o.toUrl("ace/worker/worker.js",null,"_"));var mt={};et.forEach(function(gt){mt[gt]=ut(o.toUrl(gt,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=j(ct),ht&&this.send("importScripts",ht),this.$worker.postMessage({init:!0,tlns:mt,module:st,classname:lt}),this.$worker},this.onMessage=function(et){var st=et.data;switch(st.type){case"event":this._signal(st.name,{data:st.data});break;case"call":var lt=this.callbacks[st.id];lt&&(lt(st.data),delete this.callbacks[st.id]);break;case"error":this.reportError(st.data);break;case"log":window.console&&console.log&&console.log.apply(console,st.data);break}},this.reportError=function(et){window.console&&console.error&&console.error(et)},this.$normalizePath=function(et){return ot.qualifyURL(et)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(et){et.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(et,st){this.$worker.postMessage({command:et,args:st})},this.call=function(et,st,lt){if(lt){var ct=this.callbackId++;this.callbacks[ct]=lt,st.push(ct)}this.send(et,st)},this.emit=function(et,st){try{st.data&&st.data.err&&(st.data.err={message:st.data.err.message,stack:st.data.err.stack,code:st.data.err.code}),this.$worker&&this.$worker.postMessage({event:et,data:{data:st.data}})}catch(lt){console.error(lt.stack)}},this.attachToDocument=function(et){this.$doc&&this.terminate(),this.$doc=et,this.call("setValue",[et.getValue()]),et.on("change",this.changeListener,!0)},this.changeListener=function(et){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),et.action=="insert"?this.deltaQueue.push(et.start,et.lines):this.deltaQueue.push(et.start,et.end)},this.$sendDeltaQueue=function(){var et=this.deltaQueue;et&&(this.deltaQueue=null,et.length>50&&et.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:et}))}}).call(_.prototype);var $=function(et,st,lt){var ct=null,ht=!1,ut=Object.create(at),mt=[],gt=new _({messageBuffer:mt,terminate:function(){},postMessage:function(dt){mt.push(dt),ct&&(ht?setTimeout(vt):vt())}});gt.setEmitSync=function(dt){ht=dt};var vt=function(){var dt=mt.shift();dt.command?ct[dt.command].apply(ct,dt.args):dt.event&&ut._signal(dt.event,dt.data)};return ut.postMessage=function(dt){gt.onMessage({data:dt})},ut.callback=function(dt,St){this.postMessage({type:"call",id:St,data:dt})},ut.emit=function(dt,St){this.postMessage({type:"event",name:dt,data:St})},rt.loadModule(["worker",st],function(dt){for(ct=new dt[lt](ut);mt.length;)vt()}),gt};a.UIWorkerClient=$,a.WorkerClient=_,a.createWorker=j}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(o,a,nt){var tt=o("./range").Range,ot=o("./lib/event_emitter").EventEmitter,at=o("./lib/oop"),rt=function(){function it(j,_,$,et,st,lt){var ct=this;this.length=_,this.session=j,this.doc=j.getDocument(),this.mainClass=st,this.othersClass=lt,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=et,this.$onCursorChange=function(){setTimeout(function(){ct.onCursorChange()})},this.$pos=$;var ht=j.getUndoManager().$undoStack||j.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=ht.length,this.setup(),j.selection.on("changeCursor",this.$onCursorChange)}return it.prototype.setup=function(){var j=this,_=this.doc,$=this.session;this.selectionBefore=$.selection.toJSON(),$.selection.inMultiSelectMode&&$.selection.toSingleRange(),this.pos=_.createAnchor(this.$pos.row,this.$pos.column);var et=this.pos;et.$insertRight=!0,et.detach(),et.markerId=$.addMarker(new tt(et.row,et.column,et.row,et.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(st){var lt=_.createAnchor(st.row,st.column);lt.$insertRight=!0,lt.detach(),j.others.push(lt)}),$.setUndoSelect(!1)},it.prototype.showOtherMarkers=function(){if(!this.othersActive){var j=this.session,_=this;this.othersActive=!0,this.others.forEach(function($){$.markerId=j.addMarker(new tt($.row,$.column,$.row,$.column+_.length),_.othersClass,null,!1)})}},it.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var j=0;j<this.others.length;j++)this.session.removeMarker(this.others[j].markerId)}},it.prototype.onUpdate=function(j){if(this.$updating)return this.updateAnchors(j);var _=j;if(_.start.row===_.end.row&&_.start.row===this.pos.row){this.$updating=!0;var $=j.action==="insert"?_.end.column-_.start.column:_.start.column-_.end.column,et=_.start.column>=this.pos.column&&_.start.column<=this.pos.column+this.length+1,st=_.start.column-this.pos.column;if(this.updateAnchors(j),et&&(this.length+=$),et&&!this.session.$fromUndo){if(j.action==="insert")for(var lt=this.others.length-1;lt>=0;lt--){var ct=this.others[lt],ht={row:ct.row,column:ct.column+st};this.doc.insertMergedLines(ht,j.lines)}else if(j.action==="remove")for(var lt=this.others.length-1;lt>=0;lt--){var ct=this.others[lt],ht={row:ct.row,column:ct.column+st};this.doc.remove(new tt(ht.row,ht.column,ht.row,ht.column-$))}}this.$updating=!1,this.updateMarkers()}},it.prototype.updateAnchors=function(j){this.pos.onChange(j);for(var _=this.others.length;_--;)this.others[_].onChange(j);this.updateMarkers()},it.prototype.updateMarkers=function(){if(!this.$updating){var j=this,_=this.session,$=function(st,lt){_.removeMarker(st.markerId),st.markerId=_.addMarker(new tt(st.row,st.column,st.row,st.column+j.length),lt,null,!1)};$(this.pos,this.mainClass);for(var et=this.others.length;et--;)$(this.others[et],this.othersClass)}},it.prototype.onCursorChange=function(j){if(!(this.$updating||!this.session)){var _=this.session.selection.getCursor();_.row===this.pos.row&&_.column>=this.pos.column&&_.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",j)):(this.hideOtherMarkers(),this._emit("cursorLeave",j))}},it.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},it.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var j=this.session.getUndoManager(),_=(j.$undoStack||j.$undostack).length-this.$undoStackDepth,$=0;$<_;$++)j.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},it}();at.implement(rt.prototype,ot),a.PlaceHolder=rt}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(o,a,nt){var tt=o("../lib/event"),ot=o("../lib/useragent");function at(it,j){return it.row==j.row&&it.column==j.column}function rt(it){var j=it.domEvent,_=j.altKey,$=j.shiftKey,et=j.ctrlKey,st=it.getAccelKey(),lt=it.getButton();if(et&&ot.isMac&&(lt=j.button),it.editor.inMultiSelectMode&&lt==2){it.editor.textInput.onContextMenu(it.domEvent);return}if(!et&&!_&&!st){lt===0&&it.editor.inMultiSelectMode&&it.editor.exitMultiSelectMode();return}if(lt===0){var ct=it.editor,ht=ct.selection,ut=ct.inMultiSelectMode,mt=it.getDocumentPosition(),gt=ht.getCursor(),vt=it.inSelection()||ht.isEmpty()&&at(mt,gt),dt=it.x,St=it.y,yt=function(qt){dt=qt.clientX,St=qt.clientY},pt=ct.session,wt=ct.renderer.pixelToScreenCoordinates(dt,St),Et=wt,Ct;if(ct.$mouseHandler.$enableJumpToDef)et&&_||st&&_?Ct=$?"block":"add":_&&ct.$blockSelectEnabled&&(Ct="block");else if(st&&!_){if(Ct="add",!ut&&$)return}else _&&ct.$blockSelectEnabled&&(Ct="block");if(Ct&&ot.isMac&&j.ctrlKey&&ct.$mouseHandler.cancelContextMenu(),Ct=="add"){if(!ut&&vt)return;if(!ut){var kt=ht.toOrientedRange();ct.addSelectionMarker(kt)}var Tt=ht.rangeList.rangeAtPoint(mt);ct.inVirtualSelectionMode=!0,$&&(Tt=null,kt=ht.ranges[0]||kt,ct.removeSelectionMarker(kt)),ct.once("mouseup",function(){var qt=ht.toOrientedRange();Tt&&qt.isEmpty()&&at(Tt.cursor,qt.cursor)?ht.substractPoint(qt.cursor):($?ht.substractPoint(kt.cursor):kt&&(ct.removeSelectionMarker(kt),ht.addRange(kt)),ht.addRange(qt)),ct.inVirtualSelectionMode=!1})}else if(Ct=="block"){it.stop(),ct.inVirtualSelectionMode=!0;var At,It=[],Ot=function(){var qt=ct.renderer.pixelToScreenCoordinates(dt,St),Wt=pt.screenToDocumentPosition(qt.row,qt.column,qt.offsetX);at(Et,qt)&&at(Wt,ht.lead)||(Et=qt,ct.selection.moveToPosition(Wt),ct.renderer.scrollCursorIntoView(),ct.removeSelectionMarkers(It),It=ht.rectangularRangeBlock(Et,wt),ct.$mouseHandler.$clickSelection&&It.length==1&&It[0].isEmpty()&&(It[0]=ct.$mouseHandler.$clickSelection.clone()),It.forEach(ct.addSelectionMarker,ct),ct.updateSelectionMarkers())};ut&&!st?ht.toSingleRange():!ut&&st&&(At=ht.toOrientedRange(),ct.addSelectionMarker(At)),$?wt=pt.documentToScreenPosition(ht.lead):ht.moveToPosition(mt),Et={row:-1,column:-1};var Mt=function(qt){Ot(),clearInterval(Bt),ct.removeSelectionMarkers(It),It.length||(It=[ht.toOrientedRange()]),At&&(ct.removeSelectionMarker(At),ht.toSingleRange(At));for(var Wt=0;Wt<It.length;Wt++)ht.addRange(It[Wt]);ct.inVirtualSelectionMode=!1,ct.$mouseHandler.$clickSelection=null},Dt=Ot;tt.capture(ct.container,yt,Mt);var Bt=setInterval(function(){Dt()},20);return it.preventDefault()}}}a.onMouseDown=rt}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(o,a,nt){a.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(ot){ot.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(ot){ot.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(ot){ot.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(ot){ot.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(ot){ot.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(ot){ot.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(ot){ot.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(ot){ot.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(ot){ot.multiSelect.rangeCount>1?ot.multiSelect.joinSelections():ot.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(ot){ot.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(ot){ot.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(ot){ot.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],a.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(ot){ot.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(ot){return ot&&ot.inMultiSelectMode}}];var tt=o("../keyboard/hash_handler").HashHandler;a.keyboardHandler=new tt(a.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(o,a,nt){var tt=o("./range_list").RangeList,ot=o("./range").Range,at=o("./selection").Selection,rt=o("./mouse/multi_select_handler").onMouseDown,it=o("./lib/event"),j=o("./lib/lang"),_=o("./commands/multi_select_commands");a.commands=_.defaultCommands.concat(_.multiSelectCommands);var $=o("./search").Search,et=new $;function st(gt,vt,dt){return et.$options.wrap=!0,et.$options.needle=vt,et.$options.backwards=dt==-1,et.find(gt)}var lt=o("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(lt.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(gt,vt){if(gt){if(!this.inMultiSelectMode&&this.rangeCount===0){var dt=this.toOrientedRange();if(this.rangeList.add(dt),this.rangeList.add(gt),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),vt||this.fromOrientedRange(gt);this.rangeList.removeAll(),this.rangeList.add(dt),this.$onAddRange(dt)}gt.cursor||(gt.cursor=gt.end);var St=this.rangeList.add(gt);return this.$onAddRange(gt),St.length&&this.$onRemoveRange(St),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),vt||this.fromOrientedRange(gt)}},this.toSingleRange=function(gt){gt=gt||this.ranges[0];var vt=this.rangeList.removeAll();vt.length&&this.$onRemoveRange(vt),gt&&this.fromOrientedRange(gt)},this.substractPoint=function(gt){var vt=this.rangeList.substractPoint(gt);if(vt)return this.$onRemoveRange(vt),vt[0]},this.mergeOverlappingRanges=function(){var gt=this.rangeList.merge();gt.length&&this.$onRemoveRange(gt)},this.$onAddRange=function(gt){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(gt),this._signal("addRange",{range:gt})},this.$onRemoveRange=function(gt){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var vt=this.rangeList.ranges.pop();gt.push(vt),this.rangeCount=0}for(var dt=gt.length;dt--;){var St=this.ranges.indexOf(gt[dt]);this.ranges.splice(St,1)}this._signal("removeRange",{ranges:gt}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),vt=vt||this.ranges[0],vt&&!vt.isEqual(this.getRange())&&this.fromOrientedRange(vt)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new tt,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var gt=this.ranges.length?this.ranges:[this.getRange()],vt=[],dt=0;dt<gt.length;dt++){var St=gt[dt],yt=St.start.row,pt=St.end.row;if(yt===pt)vt.push(St.clone());else{for(vt.push(new ot(yt,St.start.column,yt,this.session.getLine(yt).length));++yt<pt;)vt.push(this.getLineRange(yt,!0));vt.push(new ot(pt,0,pt,St.end.column))}dt==0&&!this.isBackwards()&&(vt=vt.reverse())}this.toSingleRange();for(var dt=vt.length;dt--;)this.addRange(vt[dt])},this.joinSelections=function(){var gt=this.rangeList.ranges,vt=gt[gt.length-1],dt=ot.fromPoints(gt[0].start,vt.end);this.toSingleRange(),this.setSelectionRange(dt,vt.cursor==vt.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var gt=this.rangeList.ranges,vt=gt[gt.length-1],dt=ot.fromPoints(gt[0].start,vt.end);this.toSingleRange(),this.setSelectionRange(dt,vt.cursor==vt.start)}else{var St=this.session.documentToScreenPosition(this.cursor),yt=this.session.documentToScreenPosition(this.anchor),pt=this.rectangularRangeBlock(St,yt);pt.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(gt,vt,dt){var St=[],yt=gt.column<vt.column;if(yt)var pt=gt.column,wt=vt.column,Et=gt.offsetX,Ct=vt.offsetX;else var pt=vt.column,wt=gt.column,Et=vt.offsetX,Ct=gt.offsetX;var kt=gt.row<vt.row;if(kt)var Tt=gt.row,At=vt.row;else var Tt=vt.row,At=gt.row;pt<0&&(pt=0),Tt<0&&(Tt=0),Tt==At&&(dt=!0);for(var It,Ot=Tt;Ot<=At;Ot++){var Mt=ot.fromPoints(this.session.screenToDocumentPosition(Ot,pt,Et),this.session.screenToDocumentPosition(Ot,wt,Ct));if(Mt.isEmpty()){if(It&&ht(Mt.end,It))break;It=Mt.end}Mt.cursor=yt?Mt.start:Mt.end,St.push(Mt)}if(kt&&St.reverse(),!dt){for(var Dt=St.length-1;St[Dt].isEmpty()&&Dt>0;)Dt--;if(Dt>0)for(var Bt=0;St[Bt].isEmpty();)Bt++;for(var qt=Dt;qt>=Bt;qt--)St[qt].isEmpty()&&St.splice(qt,1)}return St}}).call(at.prototype);var ct=o("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(gt){gt.cursor||(gt.cursor=gt.end);var vt=this.getSelectionStyle();return gt.marker=this.session.addMarker(gt,"ace_selection",vt),this.session.$selectionMarkers.push(gt),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,gt},this.removeSelectionMarker=function(gt){if(gt.marker){this.session.removeMarker(gt.marker);var vt=this.session.$selectionMarkers.indexOf(gt);vt!=-1&&this.session.$selectionMarkers.splice(vt,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(gt){for(var vt=this.session.$selectionMarkers,dt=gt.length;dt--;){var St=gt[dt];if(St.marker){this.session.removeMarker(St.marker);var yt=vt.indexOf(St);yt!=-1&&vt.splice(yt,1)}}this.session.selectionMarkerCount=vt.length},this.$onAddRange=function(gt){this.addSelectionMarker(gt.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(gt){this.removeSelectionMarkers(gt.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(gt){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(_.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(gt){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(_.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(gt){var vt=gt.command,dt=gt.editor;if(dt.multiSelect){if(vt.multiSelectAction)vt.multiSelectAction=="forEach"?St=dt.forEachSelection(vt,gt.args):vt.multiSelectAction=="forEachLine"?St=dt.forEachSelection(vt,gt.args,!0):vt.multiSelectAction=="single"?(dt.exitMultiSelectMode(),St=vt.exec(dt,gt.args||{})):St=vt.multiSelectAction(dt,gt.args||{});else{var St=vt.exec(dt,gt.args||{});dt.multiSelect.addRange(dt.multiSelect.toOrientedRange()),dt.multiSelect.mergeOverlappingRanges()}return St}},this.forEachSelection=function(gt,vt,dt){if(!this.inVirtualSelectionMode){var St=dt&&dt.keepOrder,yt=dt==!0||dt&&dt.$byLines,pt=this.session,wt=this.selection,Et=wt.rangeList,Ct=(St?wt:Et).ranges,kt;if(!Ct.length)return gt.exec?gt.exec(this,vt||{}):gt(this,vt||{});var Tt=wt._eventRegistry;wt._eventRegistry={};var At=new at(pt);this.inVirtualSelectionMode=!0;for(var It=Ct.length;It--;){if(yt)for(;It>0&&Ct[It].start.row==Ct[It-1].end.row;)It--;At.fromOrientedRange(Ct[It]),At.index=It,this.selection=pt.selection=At;var Ot=gt.exec?gt.exec(this,vt||{}):gt(this,vt||{});!kt&&Ot!==void 0&&(kt=Ot),At.toOrientedRange(Ct[It])}At.detach(),this.selection=pt.selection=wt,this.inVirtualSelectionMode=!1,wt._eventRegistry=Tt,wt.mergeOverlappingRanges(),wt.ranges[0]&&wt.fromOrientedRange(wt.ranges[0]);var Mt=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Mt&&Mt.from==Mt.to&&this.renderer.animateScrolling(Mt.from),kt}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var gt="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var vt=this.multiSelect.rangeList.ranges,dt=[],St=0;St<vt.length;St++)dt.push(this.session.getTextRange(vt[St]));var yt=this.session.getDocument().getNewLineCharacter();gt=dt.join(yt),gt.length==(dt.length-1)*yt.length&&(gt="")}else this.selection.isEmpty()||(gt=this.session.getTextRange(this.getSelectionRange()));return gt},this.$checkMultiselectChange=function(gt,vt){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var dt=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&vt==this.multiSelect.anchor)return;var St=vt==this.multiSelect.anchor?dt.cursor==dt.start?dt.end:dt.start:dt.cursor;St.row!=vt.row||this.session.$clipPositionToDocument(St.row,St.column).column!=vt.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(gt,vt,dt){if(vt=vt||{},vt.needle=gt||vt.needle,vt.needle==null){var St=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();vt.needle=this.session.getTextRange(St)}this.$search.set(vt);var yt=this.$search.findAll(this.session);if(!yt.length)return 0;var pt=this.multiSelect;dt||pt.toSingleRange(yt[0]);for(var wt=yt.length;wt--;)pt.addRange(yt[wt],!0);return St&&pt.rangeList.rangeAtPoint(St.start)&&pt.addRange(St,!0),yt.length},this.selectMoreLines=function(gt,vt){var dt=this.selection.toOrientedRange(),St=dt.cursor==dt.end,yt=this.session.documentToScreenPosition(dt.cursor);this.selection.$desiredColumn&&(yt.column=this.selection.$desiredColumn);var pt=this.session.screenToDocumentPosition(yt.row+gt,yt.column);if(dt.isEmpty())var Et=pt;else var wt=this.session.documentToScreenPosition(St?dt.end:dt.start),Et=this.session.screenToDocumentPosition(wt.row+gt,wt.column);if(St){var Ct=ot.fromPoints(pt,Et);Ct.cursor=Ct.start}else{var Ct=ot.fromPoints(Et,pt);Ct.cursor=Ct.end}if(Ct.desiredColumn=yt.column,!this.selection.inMultiSelectMode)this.selection.addRange(dt);else if(vt)var kt=dt.cursor;this.selection.addRange(Ct),kt&&this.selection.substractPoint(kt)},this.transposeSelections=function(gt){for(var vt=this.session,dt=vt.multiSelect,St=dt.ranges,yt=St.length;yt--;){var pt=St[yt];if(pt.isEmpty()){var wt=vt.getWordRange(pt.start.row,pt.start.column);pt.start.row=wt.start.row,pt.start.column=wt.start.column,pt.end.row=wt.end.row,pt.end.column=wt.end.column}}dt.mergeOverlappingRanges();for(var Et=[],yt=St.length;yt--;){var pt=St[yt];Et.unshift(vt.getTextRange(pt))}gt<0?Et.unshift(Et.pop()):Et.push(Et.shift());for(var yt=St.length;yt--;){var pt=St[yt],Ct=pt.clone();vt.replace(pt,Et[yt]),pt.start.row=Ct.start.row,pt.start.column=Ct.start.column}dt.fromOrientedRange(dt.ranges[0])},this.selectMore=function(gt,vt,dt){var St=this.session,yt=St.multiSelect,pt=yt.toOrientedRange();if(!(pt.isEmpty()&&(pt=St.getWordRange(pt.start.row,pt.start.column),pt.cursor=gt==-1?pt.start:pt.end,this.multiSelect.addRange(pt),dt))){var wt=St.getTextRange(pt),Et=st(St,wt,gt);Et&&(Et.cursor=gt==-1?Et.start:Et.end,this.session.unfold(Et),this.multiSelect.addRange(Et),this.renderer.scrollCursorIntoView(null,.5)),vt&&this.multiSelect.substractPoint(pt.cursor)}},this.alignCursors=function(){var gt=this.session,vt=gt.multiSelect,dt=vt.ranges,St=-1,yt=dt.filter(function(Dt){if(Dt.cursor.row==St)return!0;St=Dt.cursor.row});if(!dt.length||yt.length==dt.length-1){var pt=this.selection.getRange(),wt=pt.start.row,Et=pt.end.row,Ct=wt==Et;if(Ct){var kt=this.session.getLength(),Tt;do Tt=this.session.getLine(Et);while(/[=:]/.test(Tt)&&++Et<kt);do Tt=this.session.getLine(wt);while(/[=:]/.test(Tt)&&--wt>0);wt<0&&(wt=0),Et>=kt&&(Et=kt-1)}var At=this.session.removeFullLines(wt,Et);At=this.$reAlignText(At,Ct),this.session.insert({row:wt,column:0},At.join(`
`)+`
`),Ct||(pt.start.column=0,pt.end.column=At[At.length-1].length),this.selection.setRange(pt)}else{yt.forEach(function(Dt){vt.substractPoint(Dt.cursor)});var It=0,Ot=1/0,Mt=dt.map(function(Dt){var Bt=Dt.cursor,qt=gt.getLine(Bt.row),Wt=qt.substr(Bt.column).search(/\S/g);return Wt==-1&&(Wt=0),Bt.column>It&&(It=Bt.column),Wt<Ot&&(Ot=Wt),Wt});dt.forEach(function(Dt,Bt){var qt=Dt.cursor,Wt=It-qt.column,Vt=Mt[Bt]-Ot;Wt>Vt?gt.insert(qt,j.stringRepeat(" ",Wt-Vt)):gt.remove(new ot(qt.row,qt.column,qt.row,qt.column-Wt+Vt)),Dt.start.column=Dt.end.column=It,Dt.start.row=Dt.end.row=qt.row,Dt.cursor=Dt.end}),vt.fromOrientedRange(dt[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(gt,vt){var dt=!0,St=!0,yt,pt,wt;return gt.map(function(At){var It=At.match(/(\s*)(.*?)(\s*)([=:].*)/);return It?yt==null?(yt=It[1].length,pt=It[2].length,wt=It[3].length,It):(yt+pt+wt!=It[1].length+It[2].length+It[3].length&&(St=!1),yt!=It[1].length&&(dt=!1),yt>It[1].length&&(yt=It[1].length),pt<It[2].length&&(pt=It[2].length),wt>It[3].length&&(wt=It[3].length),It):[At]}).map(vt?Ct:dt?St?kt:Ct:Tt);function Et(At){return j.stringRepeat(" ",At)}function Ct(At){return At[2]?Et(yt)+At[2]+Et(pt-At[2].length+wt)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}function kt(At){return At[2]?Et(yt+pt-At[2].length)+At[2]+Et(wt)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}function Tt(At){return At[2]?Et(yt)+At[2]+Et(wt)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}}}).call(ct.prototype);function ht(gt,vt){return gt.row==vt.row&&gt.column==vt.column}a.onSessionChange=function(gt){var vt=gt.session;vt&&!vt.multiSelect&&(vt.$selectionMarkers=[],vt.selection.$initRangeList(),vt.multiSelect=vt.selection),this.multiSelect=vt&&vt.multiSelect;var dt=gt.oldSession;dt&&(dt.multiSelect.off("addRange",this.$onAddRange),dt.multiSelect.off("removeRange",this.$onRemoveRange),dt.multiSelect.off("multiSelect",this.$onMultiSelect),dt.multiSelect.off("singleSelect",this.$onSingleSelect),dt.multiSelect.lead.off("change",this.$checkMultiselectChange),dt.multiSelect.anchor.off("change",this.$checkMultiselectChange)),vt&&(vt.multiSelect.on("addRange",this.$onAddRange),vt.multiSelect.on("removeRange",this.$onRemoveRange),vt.multiSelect.on("multiSelect",this.$onMultiSelect),vt.multiSelect.on("singleSelect",this.$onSingleSelect),vt.multiSelect.lead.on("change",this.$checkMultiselectChange),vt.multiSelect.anchor.on("change",this.$checkMultiselectChange)),vt&&this.inMultiSelectMode!=vt.selection.inMultiSelectMode&&(vt.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function ut(gt){gt.$multiselectOnSessionChange||(gt.$onAddRange=gt.$onAddRange.bind(gt),gt.$onRemoveRange=gt.$onRemoveRange.bind(gt),gt.$onMultiSelect=gt.$onMultiSelect.bind(gt),gt.$onSingleSelect=gt.$onSingleSelect.bind(gt),gt.$multiselectOnSessionChange=a.onSessionChange.bind(gt),gt.$checkMultiselectChange=gt.$checkMultiselectChange.bind(gt),gt.$multiselectOnSessionChange(gt),gt.on("changeSession",gt.$multiselectOnSessionChange),gt.on("mousedown",rt),gt.commands.addCommands(_.defaultCommands),mt(gt))}function mt(gt){if(!gt.textInput)return;var vt=gt.textInput.getElement(),dt=!1;it.addListener(vt,"keydown",function(yt){var pt=yt.keyCode==18&&!(yt.ctrlKey||yt.shiftKey||yt.metaKey);gt.$blockSelectEnabled&&pt?dt||(gt.renderer.setMouseCursor("crosshair"),dt=!0):dt&&St()},gt),it.addListener(vt,"keyup",St,gt),it.addListener(vt,"blur",St,gt);function St(yt){dt&&(gt.renderer.setMouseCursor(""),dt=!1)}}a.MultiSelect=ut,o("./config").defineOptions(ct.prototype,"editor",{enableMultiselect:{set:function(gt){ut(this),gt?this.on("mousedown",rt):this.off("mousedown",rt)},value:!0},enableBlockSelect:{set:function(gt){this.$blockSelectEnabled=gt},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(o,a,nt){var tt=o("../../range").Range,ot=a.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(at,rt,it){var j=at.getLine(it);return this.foldingStartMarker.test(j)?"start":rt=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(j)?"end":""},this.getFoldWidgetRange=function(at,rt,it){return null},this.indentationBlock=function(at,rt,it){var j=/\S/,_=at.getLine(rt),$=_.search(j);if($!=-1){for(var et=it||_.length,st=at.getLength(),lt=rt,ct=rt;++rt<st;){var ht=at.getLine(rt).search(j);if(ht!=-1){if(ht<=$){var ut=at.getTokenAt(rt,0);if(!ut||ut.type!=="string")break}ct=rt}}if(ct>lt){var mt=at.getLine(ct).length;return new tt(lt,et,ct,mt)}}},this.openingBracketBlock=function(at,rt,it,j,_){var $={row:it,column:j+1},et=at.$findClosingBracket(rt,$,_);if(et){var st=at.foldWidgets[et.row];return st==null&&(st=at.getFoldWidget(et.row)),st=="start"&&et.row>$.row&&(et.row--,et.column=at.getLine(et.row).length),tt.fromPoints($,et)}},this.closingBracketBlock=function(at,rt,it,j,_){var $={row:it,column:j},et=at.$findOpeningBracket(rt,$);if(et)return et.column++,$.column--,tt.fromPoints(et,$)}}).call(ot.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(o,a,nt){var tt=o("../line_widgets").LineWidgets,ot=o("../lib/dom"),at=o("../range").Range,rt=o("../config").nls;function it(_,$,et){for(var st=0,lt=_.length-1;st<=lt;){var ct=st+lt>>1,ht=et($,_[ct]);if(ht>0)st=ct+1;else if(ht<0)lt=ct-1;else return ct}return-(st+1)}function j(_,$,et){var st=_.getAnnotations().sort(at.comparePoints);if(st.length){var lt=it(st,{row:$,column:-1},at.comparePoints);lt<0&&(lt=-lt-1),lt>=st.length?lt=et>0?0:st.length-1:lt===0&&et<0&&(lt=st.length-1);var ct=st[lt];if(!(!ct||!et)){if(ct.row===$){do ct=st[lt+=et];while(ct&&ct.row===$);if(!ct)return st.slice()}var ht=[];$=ct.row;do ht[et<0?"unshift":"push"](ct),ct=st[lt+=et];while(ct&&ct.row==$);return ht.length&&ht}}}a.showErrorMarker=function(_,$){var et=_.session;et.widgetManager||(et.widgetManager=new tt(et),et.widgetManager.attach(_));var st=_.getCursorPosition(),lt=st.row,ct=et.widgetManager.getWidgetsAtRow(lt).filter(function(pt){return pt.type=="errorMarker"})[0];ct?ct.destroy():lt-=$;var ht=j(et,lt,$),ut;if(ht){var mt=ht[0];st.column=(mt.pos&&typeof mt.column!="number"?mt.pos.sc:mt.column)||0,st.row=mt.row,ut=_.renderer.$gutterLayer.$annotations[st.row]}else{if(ct)return;ut={text:[rt("Looks good!")],className:"ace_ok"}}_.session.unfold(st.row),_.selection.moveToPosition(st);var gt={row:st.row,fixedWidth:!0,coverGutter:!0,el:ot.createElement("div"),type:"errorMarker"},vt=gt.el.appendChild(ot.createElement("div")),dt=gt.el.appendChild(ot.createElement("div"));dt.className="error_widget_arrow "+ut.className;var St=_.renderer.$cursorLayer.getPixelPosition(st).left;dt.style.left=St+_.renderer.gutterWidth-5+"px",gt.el.className="error_widget_wrapper",vt.className="error_widget "+ut.className,vt.innerHTML=ut.text.join("<br>"),vt.appendChild(ot.createElement("div"));var yt=function(pt,wt,Et){if(wt===0&&(Et==="esc"||Et==="return"))return gt.destroy(),{command:"null"}};gt.destroy=function(){_.$mouseHandler.isMousePressed||(_.keyBinding.removeKeyboardHandler(yt),et.widgetManager.removeLineWidget(gt),_.off("changeSelection",gt.destroy),_.off("changeSession",gt.destroy),_.off("mouseup",gt.destroy),_.off("change",gt.destroy))},_.keyBinding.addKeyboardHandler(yt),_.on("changeSelection",gt.destroy),_.on("changeSession",gt.destroy),_.on("mouseup",gt.destroy),_.on("change",gt.destroy),_.session.widgetManager.addLineWidget(gt),gt.el.onmousedown=_.focus.bind(_),_.renderer.scrollCursorIntoView(null,.5,{bottom:gt.el.offsetHeight})},ot.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(o,a,nt){o("./loader_build")(a);var tt=o("./lib/dom"),ot=o("./range").Range,at=o("./editor").Editor,rt=o("./edit_session").EditSession,it=o("./undomanager").UndoManager,j=o("./virtual_renderer").VirtualRenderer;o("./worker/worker_client"),o("./keyboard/hash_handler"),o("./placeholder"),o("./multi_select"),o("./mode/folding/fold_mode"),o("./theme/textmate"),o("./ext/error_marker"),a.config=o("./config"),a.edit=function(_,$){if(typeof _=="string"){var et=_;if(_=document.getElementById(et),!_)throw new Error("ace.edit can't find div #"+et)}if(_&&_.env&&_.env.editor instanceof at)return _.env.editor;var st="";if(_&&/input|textarea/i.test(_.tagName)){var lt=_;st=lt.value,_=tt.createElement("pre"),lt.parentNode.replaceChild(_,lt)}else _&&(st=_.textContent,_.innerHTML="");var ct=a.createEditSession(st),ht=new at(new j(_),ct,$),ut={document:ct,editor:ht,onResize:ht.resize.bind(ht,null)};return lt&&(ut.textarea=lt),ht.on("destroy",function(){ut.editor.container.env=null}),ht.container.env=ht.env=ut,ht},a.createEditSession=function(_,$){var et=new rt(_,$);return et.setUndoManager(new it),et},a.Range=ot,a.Editor=at,a.EditSession=rt,a.UndoManager=it,a.VirtualRenderer=j,a.version=a.config.version}),function(){ace.require(["ace/ace"],function(o){o&&(o.config.init(!0),o.define=ace.define);var a=function(){return this}();!a&&typeof window<"u"&&(a=window),!a&&typeof self<"u"&&(a=self),a.ace||(a.ace=o);for(var nt in o)o.hasOwnProperty(nt)&&(a.ace[nt]=o[nt]);a.ace.default=a.ace,i&&(i.exports=a.ace)})}()})(ace$3);var aceExports=ace$3.exports,lodash_isequal={exports:{}};lodash_isequal.exports;(function(i,s){var o=200,a="__lodash_hash_undefined__",nt=1,tt=2,ot=9007199254740991,at="[object Arguments]",rt="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",et="[object Function]",st="[object GeneratorFunction]",lt="[object Map]",ct="[object Number]",ht="[object Null]",ut="[object Object]",mt="[object Promise]",gt="[object Proxy]",vt="[object RegExp]",dt="[object Set]",St="[object String]",yt="[object Symbol]",pt="[object Undefined]",wt="[object WeakMap]",Et="[object ArrayBuffer]",Ct="[object DataView]",kt="[object Float32Array]",Tt="[object Float64Array]",At="[object Int8Array]",It="[object Int16Array]",Ot="[object Int32Array]",Mt="[object Uint8Array]",Dt="[object Uint8ClampedArray]",Bt="[object Uint16Array]",qt="[object Uint32Array]",Wt=/[\\^$.*+?()[\]{}|]/g,Vt=/^\[object .+?Constructor\]$/,Ht=/^(?:0|[1-9]\d*)$/,Jt={};Jt[kt]=Jt[Tt]=Jt[At]=Jt[It]=Jt[Ot]=Jt[Mt]=Jt[Dt]=Jt[Bt]=Jt[qt]=!0,Jt[at]=Jt[rt]=Jt[Et]=Jt[j]=Jt[Ct]=Jt[_]=Jt[$]=Jt[et]=Jt[lt]=Jt[ct]=Jt[ut]=Jt[vt]=Jt[dt]=Jt[St]=Jt[wt]=!1;var Qt=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,cr=typeof self=="object"&&self&&self.Object===Object&&self,hr=Qt||cr||Function("return this")(),dr=s&&!s.nodeType&&s,gr=dr&&!0&&i&&!i.nodeType&&i,tr=gr&&gr.exports===dr,rr=tr&&Qt.process,Yt=function(){try{return rr&&rr.binding&&rr.binding("util")}catch{}}(),br=Yt&&Yt.isTypedArray;function _r(nr,pr){for(var Ut=-1,sr=nr==null?0:nr.length,xr=0,Dr=[];++Ut<sr;){var Jr=nr[Ut];pr(Jr,Ut,nr)&&(Dr[xr++]=Jr)}return Dr}function fr(nr,pr){for(var Ut=-1,sr=pr.length,xr=nr.length;++Ut<sr;)nr[xr+Ut]=pr[Ut];return nr}function Wr(nr,pr){for(var Ut=-1,sr=nr==null?0:nr.length;++Ut<sr;)if(pr(nr[Ut],Ut,nr))return!0;return!1}function nn(nr,pr){for(var Ut=-1,sr=Array(nr);++Ut<nr;)sr[Ut]=pr(Ut);return sr}function an(nr){return function(pr){return nr(pr)}}function In(nr,pr){return nr.has(pr)}function Bn(nr,pr){return nr==null?void 0:nr[pr]}function Pn(nr){var pr=-1,Ut=Array(nr.size);return nr.forEach(function(sr,xr){Ut[++pr]=[xr,sr]}),Ut}function cn(nr,pr){return function(Ut){return nr(pr(Ut))}}function Gn(nr){var pr=-1,Ut=Array(nr.size);return nr.forEach(function(sr){Ut[++pr]=sr}),Ut}var Mn=Array.prototype,Er=Function.prototype,Br=Object.prototype,$r=hr["__core-js_shared__"],on=Er.toString,Xt=Br.hasOwnProperty,er=function(){var nr=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||"");return nr?"Symbol(src)_1."+nr:""}(),lr=Br.toString,Lr=RegExp("^"+on.call(Xt).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nr=tr?hr.Buffer:void 0,Cr=hr.Symbol,Tr=hr.Uint8Array,Hr=Br.propertyIsEnumerable,sn=Mn.splice,Or=Cr?Cr.toStringTag:void 0,qr=Object.getOwnPropertySymbols,Gr=Nr?Nr.isBuffer:void 0,Ur=cn(Object.keys,Object),vn=rs(hr,"DataView"),Ar=rs(hr,"Map"),dn=rs(hr,"Promise"),ks=rs(hr,"Set"),ds=rs(hr,"WeakMap"),qn=rs(Object,"create"),So=jt(vn),Qn=jt(Ar),ps=jt(dn),Js=jt(ks),Ps=jt(ds),eo=Cr?Cr.prototype:void 0,Us=eo?eo.valueOf:void 0;function Xn(nr){var pr=-1,Ut=nr==null?0:nr.length;for(this.clear();++pr<Ut;){var sr=nr[pr];this.set(sr[0],sr[1])}}function Ws(){this.__data__=qn?qn(null):{},this.size=0}function Zr(nr){var pr=this.has(nr)&&delete this.__data__[nr];return this.size-=pr?1:0,pr}function us(nr){var pr=this.__data__;if(qn){var Ut=pr[nr];return Ut===a?void 0:Ut}return Xt.call(pr,nr)?pr[nr]:void 0}function Hs(nr){var pr=this.__data__;return qn?pr[nr]!==void 0:Xt.call(pr,nr)}function uo(nr,pr){var Ut=this.__data__;return this.size+=this.has(nr)?0:1,Ut[nr]=qn&&pr===void 0?a:pr,this}Xn.prototype.clear=Ws,Xn.prototype.delete=Zr,Xn.prototype.get=us,Xn.prototype.has=Hs,Xn.prototype.set=uo;function Wn(nr){var pr=-1,Ut=nr==null?0:nr.length;for(this.clear();++pr<Ut;){var sr=nr[pr];this.set(sr[0],sr[1])}}function co(){this.__data__=[],this.size=0}function to(nr){var pr=this.__data__,Ut=Kt(pr,nr);if(Ut<0)return!1;var sr=pr.length-1;return Ut==sr?pr.pop():sn.call(pr,Ut,1),--this.size,!0}function ho(nr){var pr=this.__data__,Ut=Kt(pr,nr);return Ut<0?void 0:pr[Ut][1]}function fo(nr){return Kt(this.__data__,nr)>-1}function ro(nr,pr){var Ut=this.__data__,sr=Kt(Ut,nr);return sr<0?(++this.size,Ut.push([nr,pr])):Ut[sr][1]=pr,this}Wn.prototype.clear=co,Wn.prototype.delete=to,Wn.prototype.get=ho,Wn.prototype.has=fo,Wn.prototype.set=ro;function xs(nr){var pr=-1,Ut=nr==null?0:nr.length;for(this.clear();++pr<Ut;){var sr=nr[pr];this.set(sr[0],sr[1])}}function cs(){this.size=0,this.__data__={hash:new Xn,map:new(Ar||Wn),string:new Xn}}function no(nr){var pr=bs(this,nr).delete(nr);return this.size-=pr?1:0,pr}function ms(nr){return bs(this,nr).get(nr)}function Cs(nr){return bs(this,nr).has(nr)}function Ds(nr,pr){var Ut=bs(this,nr),sr=Ut.size;return Ut.set(nr,pr),this.size+=Ut.size==sr?0:1,this}xs.prototype.clear=cs,xs.prototype.delete=no,xs.prototype.get=ms,xs.prototype.has=Cs,xs.prototype.set=Ds;function pn(nr){var pr=-1,Ut=nr==null?0:nr.length;for(this.__data__=new xs;++pr<Ut;)this.add(nr[pr])}function Kr(nr){return this.__data__.set(nr,a),this}function _i(nr){return this.__data__.has(nr)}pn.prototype.add=pn.prototype.push=Kr,pn.prototype.has=_i;function es(nr){var pr=this.__data__=new Wn(nr);this.size=pr.size}function _o(){this.__data__=new Wn,this.size=0}function po(nr){var pr=this.__data__,Ut=pr.delete(nr);return this.size=pr.size,Ut}function mo(nr){return this.__data__.get(nr)}function _t(nr){return this.__data__.has(nr)}function Lt(nr,pr){var Ut=this.__data__;if(Ut instanceof Wn){var sr=Ut.__data__;if(!Ar||sr.length<o-1)return sr.push([nr,pr]),this.size=++Ut.size,this;Ut=this.__data__=new xs(sr)}return Ut.set(nr,pr),this.size=Ut.size,this}es.prototype.clear=_o,es.prototype.delete=po,es.prototype.get=mo,es.prototype.has=_t,es.prototype.set=Lt;function Nt(nr,pr){var Ut=wr(nr),sr=!Ut&&vr(nr),xr=!Ut&&!sr&&zr(nr),Dr=!Ut&&!sr&&!xr&&Fs(nr),Jr=Ut||sr||xr||Dr,mn=Jr?nn(nr.length,String):[],en=mn.length;for(var Qr in nr)(pr||Xt.call(nr,Qr))&&!(Jr&&(Qr=="length"||xr&&(Qr=="offset"||Qr=="parent")||Dr&&(Qr=="buffer"||Qr=="byteLength"||Qr=="byteOffset")||go(Qr,en)))&&mn.push(Qr);return mn}function Kt(nr,pr){for(var Ut=nr.length;Ut--;)if(ir(nr[Ut][0],pr))return Ut;return-1}function or(nr,pr,Ut){var sr=pr(nr);return wr(nr)?sr:fr(sr,Ut(nr))}function Sr(nr){return nr==null?nr===void 0?pt:ht:Or&&Or in Object(nr)?wo(nr):Ft(nr)}function Rr(nr){return gs(nr)&&Sr(nr)==at}function jr(nr,pr,Ut,sr,xr){return nr===pr?!0:nr==null||pr==null||!gs(nr)&&!gs(pr)?nr!==nr&&pr!==pr:rn(nr,pr,Ut,sr,jr,xr)}function rn(nr,pr,Ut,sr,xr,Dr){var Jr=wr(nr),mn=wr(pr),en=Jr?rt:$s(nr),Qr=mn?rt:$s(pr);en=en==at?ut:en,Qr=Qr==at?ut:Qr;var xn=en==ut,jn=Qr==ut,Ln=en==Qr;if(Ln&&zr(nr)){if(!zr(pr))return!1;Jr=!0,xn=!1}if(Ln&&!xn)return Dr||(Dr=new es),Jr||Fs(nr)?os(nr,pr,Ut,sr,xr,Dr):hs(nr,pr,en,Ut,sr,xr,Dr);if(!(Ut&nt)){var Dn=xn&&Xt.call(nr,"__wrapped__"),ns=jn&&Xt.call(pr,"__wrapped__");if(Dn||ns){var Ss=Dn?nr.value():nr,_s=ns?pr.value():pr;return Dr||(Dr=new es),xr(Ss,_s,Ut,sr,Dr)}}return Ln?(Dr||(Dr=new es),Os(nr,pr,Ut,sr,xr,Dr)):!1}function _n(nr){if(!As(nr)||xt(nr))return!1;var pr=ln(nr)?Lr:Vt;return pr.test(jt(nr))}function zn(nr){return gs(nr)&&Fn(nr.length)&&!!Jt[Sr(nr)]}function ts(nr){if(!Rt(nr))return Ur(nr);var pr=[];for(var Ut in Object(nr))Xt.call(nr,Ut)&&Ut!="constructor"&&pr.push(Ut);return pr}function os(nr,pr,Ut,sr,xr,Dr){var Jr=Ut&nt,mn=nr.length,en=pr.length;if(mn!=en&&!(Jr&&en>mn))return!1;var Qr=Dr.get(nr);if(Qr&&Dr.get(pr))return Qr==pr;var xn=-1,jn=!0,Ln=Ut&tt?new pn:void 0;for(Dr.set(nr,pr),Dr.set(pr,nr);++xn<mn;){var Dn=nr[xn],ns=pr[xn];if(sr)var Ss=Jr?sr(ns,Dn,xn,pr,nr,Dr):sr(Dn,ns,xn,nr,pr,Dr);if(Ss!==void 0){if(Ss)continue;jn=!1;break}if(Ln){if(!Wr(pr,function(_s,yo){if(!In(Ln,yo)&&(Dn===_s||xr(Dn,_s,Ut,sr,Dr)))return Ln.push(yo)})){jn=!1;break}}else if(!(Dn===ns||xr(Dn,ns,Ut,sr,Dr))){jn=!1;break}}return Dr.delete(nr),Dr.delete(pr),jn}function hs(nr,pr,Ut,sr,xr,Dr,Jr){switch(Ut){case Ct:if(nr.byteLength!=pr.byteLength||nr.byteOffset!=pr.byteOffset)return!1;nr=nr.buffer,pr=pr.buffer;case Et:return!(nr.byteLength!=pr.byteLength||!Dr(new Tr(nr),new Tr(pr)));case j:case _:case ct:return ir(+nr,+pr);case $:return nr.name==pr.name&&nr.message==pr.message;case vt:case St:return nr==pr+"";case lt:var mn=Pn;case dt:var en=sr&nt;if(mn||(mn=Gn),nr.size!=pr.size&&!en)return!1;var Qr=Jr.get(nr);if(Qr)return Qr==pr;sr|=tt,Jr.set(nr,pr);var xn=os(mn(nr),mn(pr),sr,xr,Dr,Jr);return Jr.delete(nr),xn;case yt:if(Us)return Us.call(nr)==Us.call(pr)}return!1}function Os(nr,pr,Ut,sr,xr,Dr){var Jr=Ut&nt,mn=gn(nr),en=mn.length,Qr=gn(pr),xn=Qr.length;if(en!=xn&&!Jr)return!1;for(var jn=en;jn--;){var Ln=mn[jn];if(!(Jr?Ln in pr:Xt.call(pr,Ln)))return!1}var Dn=Dr.get(nr);if(Dn&&Dr.get(pr))return Dn==pr;var ns=!0;Dr.set(nr,pr),Dr.set(pr,nr);for(var Ss=Jr;++jn<en;){Ln=mn[jn];var _s=nr[Ln],yo=pr[Ln];if(sr)var $l=Jr?sr(yo,_s,Ln,pr,nr,Dr):sr(_s,yo,Ln,nr,pr,Dr);if(!($l===void 0?_s===yo||xr(_s,yo,Ut,sr,Dr):$l)){ns=!1;break}Ss||(Ss=Ln=="constructor")}if(ns&&!Ss){var Wo=nr.constructor,as=pr.constructor;Wo!=as&&"constructor"in nr&&"constructor"in pr&&!(typeof Wo=="function"&&Wo instanceof Wo&&typeof as=="function"&&as instanceof as)&&(ns=!1)}return Dr.delete(nr),Dr.delete(pr),ns}function gn(nr){return or(nr,io,Eo)}function bs(nr,pr){var Ut=nr.__data__;return Po(pr)?Ut[typeof pr=="string"?"string":"hash"]:Ut.map}function rs(nr,pr){var Ut=Bn(nr,pr);return _n(Ut)?Ut:void 0}function wo(nr){var pr=Xt.call(nr,Or),Ut=nr[Or];try{nr[Or]=void 0;var sr=!0}catch{}var xr=lr.call(nr);return sr&&(pr?nr[Or]=Ut:delete nr[Or]),xr}var Eo=qr?function(nr){return nr==null?[]:(nr=Object(nr),_r(qr(nr),function(pr){return Hr.call(nr,pr)}))}:$n,$s=Sr;(vn&&$s(new vn(new ArrayBuffer(1)))!=Ct||Ar&&$s(new Ar)!=lt||dn&&$s(dn.resolve())!=mt||ks&&$s(new ks)!=dt||ds&&$s(new ds)!=wt)&&($s=function(nr){var pr=Sr(nr),Ut=pr==ut?nr.constructor:void 0,sr=Ut?jt(Ut):"";if(sr)switch(sr){case So:return Ct;case Qn:return lt;case ps:return mt;case Js:return dt;case Ps:return wt}return pr});function go(nr,pr){return pr=pr??ot,!!pr&&(typeof nr=="number"||Ht.test(nr))&&nr>-1&&nr%1==0&&nr<pr}function Po(nr){var pr=typeof nr;return pr=="string"||pr=="number"||pr=="symbol"||pr=="boolean"?nr!=="__proto__":nr===null}function xt(nr){return!!er&&er in nr}function Rt(nr){var pr=nr&&nr.constructor,Ut=typeof pr=="function"&&pr.prototype||Br;return nr===Ut}function Ft(nr){return lr.call(nr)}function jt(nr){if(nr!=null){try{return on.call(nr)}catch{}try{return nr+""}catch{}}return""}function ir(nr,pr){return nr===pr||nr!==nr&&pr!==pr}var vr=Rr(function(){return arguments}())?Rr:function(nr){return gs(nr)&&Xt.call(nr,"callee")&&!Hr.call(nr,"callee")},wr=Array.isArray;function Vr(nr){return nr!=null&&Fn(nr.length)&&!ln(nr)}var zr=Gr||kn;function yn(nr,pr){return jr(nr,pr)}function ln(nr){if(!As(nr))return!1;var pr=Sr(nr);return pr==et||pr==st||pr==it||pr==gt}function Fn(nr){return typeof nr=="number"&&nr>-1&&nr%1==0&&nr<=ot}function As(nr){var pr=typeof nr;return nr!=null&&(pr=="object"||pr=="function")}function gs(nr){return nr!=null&&typeof nr=="object"}var Fs=br?an(br):zn;function io(nr){return Vr(nr)?Nt(nr):ts(nr)}function $n(){return[]}function kn(){return!1}i.exports=yn})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,editorOptions$1={};Object.defineProperty(editorOptions$1,"__esModule",{value:!0});editorOptions$1.getAceInstance=editorOptions$1.debounce=editorOptions$1.editorEvents=editorOptions$1.editorOptions=void 0;var editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];editorOptions$1.editorOptions=editorOptions;var editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];editorOptions$1.editorEvents=editorEvents;var getAceInstance=function(){var i;return typeof window>"u"?(commonjsGlobal.window={},i=aceExports,delete commonjsGlobal.window):window.ace?(i=window.ace,i.acequire=window.ace.require||window.ace.acequire):i=aceExports,i};editorOptions$1.getAceInstance=getAceInstance;var debounce=function(i,s){var o=null;return function(){var a=this,nt=arguments;clearTimeout(o),o=setTimeout(function(){i.apply(a,nt)},s)}};editorOptions$1.debounce=debounce;var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,nt){a.__proto__=nt}||function(a,nt){for(var tt in nt)Object.prototype.hasOwnProperty.call(nt,tt)&&(a[tt]=nt[tt])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(i){for(var s,o=1,a=arguments.length;o<a;o++){s=arguments[o];for(var nt in s)Object.prototype.hasOwnProperty.call(s,nt)&&(i[nt]=s[nt])}return i},__assign$1.apply(this,arguments)};Object.defineProperty(ace$4,"__esModule",{value:!0});var ace_builds_1$1=aceExports,PropTypes$2=propTypesExports,React$2=reactExports,isEqual$1=lodash_isequalExports,editorOptions_1$1=editorOptions$1,ace$2=(0,editorOptions_1$1.getAceInstance)(),ReactAce=function(i){__extends$2(s,i);function s(o){var a=i.call(this,o)||this;return editorOptions_1$1.editorEvents.forEach(function(nt){a[nt]=a[nt].bind(a)}),a.debounce=editorOptions_1$1.debounce,a}return s.prototype.isInShadow=function(o){for(var a=o&&o.parentNode;a;){if(a.toString()==="[object ShadowRoot]")return!0;a=a.parentNode}return!1},s.prototype.componentDidMount=function(){var o=this,a=this.props,nt=a.className,tt=a.onBeforeLoad,ot=a.onValidate,at=a.mode,rt=a.focus,it=a.theme,j=a.fontSize,_=a.value,$=a.defaultValue,et=a.showGutter,st=a.wrapEnabled,lt=a.showPrintMargin,ct=a.scrollMargin,ht=ct===void 0?[0,0,0,0]:ct,ut=a.keyboardHandler,mt=a.onLoad,gt=a.commands,vt=a.annotations,dt=a.markers,St=a.placeholder;this.editor=ace$2.edit(this.refEditor),tt&&tt(ace$2);for(var yt=Object.keys(this.props.editorProps),pt=0;pt<yt.length;pt++)this.editor[yt[pt]]=this.props.editorProps[yt[pt]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(ht[0],ht[1],ht[2],ht[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof at=="string"?"ace/mode/".concat(at):at),it&&it!==""&&this.editor.setTheme("ace/theme/".concat(it)),this.editor.setFontSize(typeof j=="number"?"".concat(j,"px"):j),this.editor.getSession().setValue($||_||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(et),this.editor.getSession().setUseWrapMode(st),this.editor.setShowPrintMargin(lt),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),St&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),ot&&this.editor.getSession().on("changeAnnotation",function(){var Et=o.editor.getSession().getAnnotations();o.props.onValidate(Et)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(vt||[]),dt&&dt.length>0&&this.handleMarkers(dt);var wt=this.editor.$options;editorOptions_1$1.editorOptions.forEach(function(Et){wt.hasOwnProperty(Et)?o.editor.setOption(Et,o.props[Et]):o.props[Et]&&console.warn("ReactAce: editor option ".concat(Et," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(gt)&&gt.forEach(function(Et){typeof Et.exec=="string"?o.editor.commands.bindKey(Et.bindKey,Et.exec):o.editor.commands.addCommand(Et)}),ut&&this.editor.setKeyboardHandler("ace/keyboard/"+ut),nt&&(this.refEditor.className+=" "+nt),mt&&mt(this.editor),this.editor.resize(),rt&&this.editor.focus()},s.prototype.componentDidUpdate=function(o){for(var a=o,nt=this.props,tt=0;tt<editorOptions_1$1.editorOptions.length;tt++){var ot=editorOptions_1$1.editorOptions[tt];nt[ot]!==a[ot]&&this.editor.setOption(ot,nt[ot])}if(nt.className!==a.className){var at=this.refEditor.className,rt=at.trim().split(" "),it=a.className.trim().split(" ");it.forEach(function($){var et=rt.indexOf($);rt.splice(et,1)}),this.refEditor.className=" "+nt.className+" "+rt.join(" ")}var j=this.editor&&nt.value!=null&&this.editor.getValue()!==nt.value;if(j){this.silent=!0;var _=this.editor.session.selection.toJSON();this.editor.setValue(nt.value,nt.cursorStart),this.editor.session.selection.fromJSON(_),this.silent=!1}nt.placeholder!==a.placeholder&&this.updatePlaceholder(),nt.mode!==a.mode&&this.editor.getSession().setMode(typeof nt.mode=="string"?"ace/mode/".concat(nt.mode):nt.mode),nt.theme!==a.theme&&this.editor.setTheme("ace/theme/"+nt.theme),nt.keyboardHandler!==a.keyboardHandler&&(nt.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+nt.keyboardHandler):this.editor.setKeyboardHandler(null)),nt.fontSize!==a.fontSize&&this.editor.setFontSize(typeof nt.fontSize=="number"?"".concat(nt.fontSize,"px"):nt.fontSize),nt.wrapEnabled!==a.wrapEnabled&&this.editor.getSession().setUseWrapMode(nt.wrapEnabled),nt.showPrintMargin!==a.showPrintMargin&&this.editor.setShowPrintMargin(nt.showPrintMargin),nt.showGutter!==a.showGutter&&this.editor.renderer.setShowGutter(nt.showGutter),isEqual$1(nt.setOptions,a.setOptions)||this.handleOptions(nt),(j||!isEqual$1(nt.annotations,a.annotations))&&this.editor.getSession().setAnnotations(nt.annotations||[]),!isEqual$1(nt.markers,a.markers)&&Array.isArray(nt.markers)&&this.handleMarkers(nt.markers),isEqual$1(nt.scrollMargin,a.scrollMargin)||this.handleScrollMargins(nt.scrollMargin),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!o.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(o){o===void 0&&(o=[0,0,0,0]),this.editor.renderer.setScrollMargin(o[0],o[1],o[2],o[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(o){if(this.props.onChange&&!this.silent){var a=this.editor.getValue();this.props.onChange(a,o)}},s.prototype.onSelectionChange=function(o){if(this.props.onSelectionChange){var a=this.editor.getSelection();this.props.onSelectionChange(a,o)}},s.prototype.onCursorChange=function(o){if(this.props.onCursorChange){var a=this.editor.getSelection();this.props.onCursorChange(a,o)}},s.prototype.onInput=function(o){this.props.onInput&&this.props.onInput(o),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(o){this.props.onFocus&&this.props.onFocus(o,this.editor)},s.prototype.onBlur=function(o){this.props.onBlur&&this.props.onBlur(o,this.editor)},s.prototype.onCopy=function(o){var a=o.text;this.props.onCopy&&this.props.onCopy(a)},s.prototype.onPaste=function(o){var a=o.text;this.props.onPaste&&this.props.onPaste(a)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(o){for(var a=Object.keys(o.setOptions),nt=0;nt<a.length;nt++)this.editor.setOption(a[nt],o.setOptions[a[nt]])},s.prototype.handleMarkers=function(o){var a=this,nt=this.editor.getSession().getMarkers(!0);for(var tt in nt)nt.hasOwnProperty(tt)&&this.editor.getSession().removeMarker(nt[tt].id);nt=this.editor.getSession().getMarkers(!1);for(var tt in nt)nt.hasOwnProperty(tt)&&nt[tt].clazz!=="ace_active-line"&&nt[tt].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(nt[tt].id);o.forEach(function(ot){var at=ot.startRow,rt=ot.startCol,it=ot.endRow,j=ot.endCol,_=ot.className,$=ot.type,et=ot.inFront,st=et===void 0?!1:et,lt=new ace_builds_1$1.Range(at,rt,it,j);a.editor.getSession().addMarker(lt,_,$,st)})},s.prototype.updatePlaceholder=function(){var o=this.editor,a=this.props.placeholder,nt=!o.session.getValue().length,tt=o.renderer.placeholderNode;!nt&&tt?(o.renderer.scroller.removeChild(o.renderer.placeholderNode),o.renderer.placeholderNode=null):nt&&!tt?(tt=o.renderer.placeholderNode=document.createElement("div"),tt.textContent=a||"",tt.className="ace_comment ace_placeholder",tt.style.padding="0 9px",tt.style.position="absolute",tt.style.zIndex="3",o.renderer.scroller.appendChild(tt)):nt&&tt&&(tt.textContent=a)},s.prototype.updateRef=function(o){this.refEditor=o},s.prototype.render=function(){var o=this.props,a=o.name,nt=o.width,tt=o.height,ot=o.style,at=__assign$1({width:nt,height:tt},ot);return React$2.createElement("div",{ref:this.updateRef,id:a,style:at})},s.propTypes={mode:PropTypes$2.oneOfType([PropTypes$2.string,PropTypes$2.object]),focus:PropTypes$2.bool,theme:PropTypes$2.string,name:PropTypes$2.string,className:PropTypes$2.string,height:PropTypes$2.string,width:PropTypes$2.string,fontSize:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),showGutter:PropTypes$2.bool,onChange:PropTypes$2.func,onCopy:PropTypes$2.func,onPaste:PropTypes$2.func,onFocus:PropTypes$2.func,onInput:PropTypes$2.func,onBlur:PropTypes$2.func,onScroll:PropTypes$2.func,value:PropTypes$2.string,defaultValue:PropTypes$2.string,onLoad:PropTypes$2.func,onSelectionChange:PropTypes$2.func,onCursorChange:PropTypes$2.func,onBeforeLoad:PropTypes$2.func,onValidate:PropTypes$2.func,minLines:PropTypes$2.number,maxLines:PropTypes$2.number,readOnly:PropTypes$2.bool,highlightActiveLine:PropTypes$2.bool,tabSize:PropTypes$2.number,showPrintMargin:PropTypes$2.bool,cursorStart:PropTypes$2.number,debounceChangePeriod:PropTypes$2.number,editorProps:PropTypes$2.object,setOptions:PropTypes$2.object,style:PropTypes$2.object,scrollMargin:PropTypes$2.array,annotations:PropTypes$2.array,markers:PropTypes$2.array,keyboardHandler:PropTypes$2.string,wrapEnabled:PropTypes$2.bool,enableSnippets:PropTypes$2.bool,enableBasicAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),enableLiveAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),navigateToFileEnd:PropTypes$2.bool,commands:PropTypes$2.array,placeholder:PropTypes$2.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s}(React$2.Component);ace$4.default=ReactAce;var diff={},split={},extSplit={exports:{}};(function(i,s){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(o,a,nt){var tt=o("./lib/oop");o("./lib/lang");var ot=o("./lib/event_emitter").EventEmitter,at=o("./editor").Editor,rt=o("./virtual_renderer").VirtualRenderer,it=o("./edit_session").EditSession,j;j=function(_,$,et){this.BELOW=1,this.BESIDE=0,this.$container=_,this.$theme=$,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(et||1),this.$cEditor=this.$editors[0],this.on("focus",(function(st){this.$cEditor=st}).bind(this))},(function(){tt.implement(this,ot),this.$createEditor=function(){var _=document.createElement("div");_.className=this.$editorCSS,_.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(_);var $=new at(new rt(_,this.$theme));return $.on("focus",(function(){this._emit("focus",$)}).bind(this)),this.$editors.push($),$.setFontSize(this.$fontSize),$},this.setSplits=function(_){var $;if(_<1)throw"The number of splits have to be > 0!";if(_!=this.$splits){if(_>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<_;)$=this.$editors[this.$splits],this.$container.appendChild($.container),$.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<_;)this.$createEditor(),this.$splits++}else for(;this.$splits>_;)$=this.$editors[this.$splits-1],this.$container.removeChild($.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(_){return this.$editors[_]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(_){this.$editors.forEach(function($){$.setTheme(_)})},this.setKeyboardHandler=function(_){this.$editors.forEach(function($){$.setKeyboardHandler(_)})},this.forEach=function(_,$){this.$editors.forEach(_,$)},this.$fontSize="",this.setFontSize=function(_){this.$fontSize=_,this.forEach(function($){$.setFontSize(_)})},this.$cloneSession=function(_){var $=new it(_.getDocument(),_.getMode()),et=_.getUndoManager();return $.setUndoManager(et),$.setTabSize(_.getTabSize()),$.setUseSoftTabs(_.getUseSoftTabs()),$.setOverwrite(_.getOverwrite()),$.setBreakpoints(_.getBreakpoints()),$.setUseWrapMode(_.getUseWrapMode()),$.setUseWorker(_.getUseWorker()),$.setWrapLimitRange(_.$wrapLimitRange.min,_.$wrapLimitRange.max),$.$foldData=_.$cloneFoldData(),$},this.setSession=function(_,$){var et;$==null?et=this.$cEditor:et=this.$editors[$];var st=this.$editors.some(function(lt){return lt.session===_});return st&&(_=this.$cloneSession(_)),et.setSession(_),_},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(_){this.$orientation!=_&&(this.$orientation=_,this.resize())},this.resize=function(){var _=this.$container.clientWidth,$=this.$container.clientHeight,et;if(this.$orientation==this.BESIDE)for(var st=_/this.$splits,lt=0;lt<this.$splits;lt++)et=this.$editors[lt],et.container.style.width=st+"px",et.container.style.top="0px",et.container.style.left=lt*st+"px",et.container.style.height=$+"px",et.resize();else for(var ct=$/this.$splits,lt=0;lt<this.$splits;lt++)et=this.$editors[lt],et.container.style.width=_+"px",et.container.style.top=lt*ct+"px",et.container.style.left="0px",et.container.style.height=ct+"px",et.resize()}}).call(j.prototype),a.Split=j}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(o,a,nt){nt.exports=o("../split")}),function(){ace.require(["ace/ext/split"],function(o){i&&(i.exports=o)})}()})(extSplit);var extSplitExports=extSplit.exports,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(i,s){return i==null?void 0:i[s]}function isHostObject(i){var s=!1;if(i!=null&&typeof i.toString!="function")try{s=!!(i+"")}catch{}return s}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(i){return this.has(i)&&delete this.__data__[i]}function hashGet(i){var s=this.__data__;if(nativeCreate){var o=s[i];return o===HASH_UNDEFINED?void 0:o}return hasOwnProperty.call(s,i)?s[i]:void 0}function hashHas(i){var s=this.__data__;return nativeCreate?s[i]!==void 0:hasOwnProperty.call(s,i)}function hashSet(i,s){var o=this.__data__;return o[i]=nativeCreate&&s===void 0?HASH_UNDEFINED:s,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(i){var s=this.__data__,o=assocIndexOf(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():splice.call(s,o,1),!0}function listCacheGet(i){var s=this.__data__,o=assocIndexOf(s,i);return o<0?void 0:s[o][1]}function listCacheHas(i){return assocIndexOf(this.__data__,i)>-1}function listCacheSet(i,s){var o=this.__data__,a=assocIndexOf(o,i);return a<0?o.push([i,s]):o[a][1]=s,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(i){return getMapData(this,i).delete(i)}function mapCacheGet(i){return getMapData(this,i).get(i)}function mapCacheHas(i){return getMapData(this,i).has(i)}function mapCacheSet(i,s){return getMapData(this,i).set(i,s),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(i,s){for(var o=i.length;o--;)if(eq(i[o][0],s))return o;return-1}function baseGet(i,s){s=isKey(s,i)?[s]:castPath(s);for(var o=0,a=s.length;i!=null&&o<a;)i=i[toKey(s[o++])];return o&&o==a?i:void 0}function baseIsNative(i){if(!isObject$1(i)||isMasked(i))return!1;var s=isFunction(i)||isHostObject(i)?reIsNative:reIsHostCtor;return s.test(toSource(i))}function baseToString(i){if(typeof i=="string")return i;if(isSymbol(i))return symbolToString?symbolToString.call(i):"";var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function castPath(i){return isArray$1(i)?i:stringToPath(i)}function getMapData(i,s){var o=i.__data__;return isKeyable(s)?o[typeof s=="string"?"string":"hash"]:o.map}function getNative(i,s){var o=getValue(i,s);return baseIsNative(o)?o:void 0}function isKey(i,s){if(isArray$1(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||isSymbol(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||s!=null&&i in Object(s)}function isKeyable(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function isMasked(i){return!!maskSrcKey&&maskSrcKey in i}var stringToPath=memoize(function(i){i=toString(i);var s=[];return reLeadingDot.test(i)&&s.push(""),i.replace(rePropName,function(o,a,nt,tt){s.push(nt?tt.replace(reEscapeChar,"$1"):a||o)}),s});function toKey(i){if(typeof i=="string"||isSymbol(i))return i;var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function toSource(i){if(i!=null){try{return funcToString.call(i)}catch{}try{return i+""}catch{}}return""}function memoize(i,s){if(typeof i!="function"||s&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var o=function(){var a=arguments,nt=s?s.apply(this,a):a[0],tt=o.cache;if(tt.has(nt))return tt.get(nt);var ot=i.apply(this,a);return o.cache=tt.set(nt,ot),ot};return o.cache=new(memoize.Cache||MapCache),o}memoize.Cache=MapCache;function eq(i,s){return i===s||i!==i&&s!==s}var isArray$1=Array.isArray;function isFunction(i){var s=isObject$1(i)?objectToString.call(i):"";return s==funcTag||s==genTag}function isObject$1(i){var s=typeof i;return!!i&&(s=="object"||s=="function")}function isObjectLike(i){return!!i&&typeof i=="object"}function isSymbol(i){return typeof i=="symbol"||isObjectLike(i)&&objectToString.call(i)==symbolTag}function toString(i){return i==null?"":baseToString(i)}function get$1(i,s,o){var a=i==null?void 0:baseGet(i,s);return a===void 0?o:a}var lodash_get=get$1,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,nt){a.__proto__=nt}||function(a,nt){for(var tt in nt)Object.prototype.hasOwnProperty.call(nt,tt)&&(a[tt]=nt[tt])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(i){for(var s,o=1,a=arguments.length;o<a;o++){s=arguments[o];for(var nt in s)Object.prototype.hasOwnProperty.call(s,nt)&&(i[nt]=s[nt])}return i},__assign.apply(this,arguments)};Object.defineProperty(split,"__esModule",{value:!0});var editorOptions_1=editorOptions$1,ace$1=(0,editorOptions_1.getAceInstance)(),ace_builds_1=aceExports,ext_split_1=extSplitExports,PropTypes$1=propTypesExports,React$1=reactExports,isEqual=lodash_isequalExports,get=lodash_get,SplitComponent=function(i){__extends$1(s,i);function s(o){var a=i.call(this,o)||this;return editorOptions_1.editorEvents.forEach(function(nt){a[nt]=a[nt].bind(a)}),a.debounce=editorOptions_1.debounce,a}return s.prototype.isInShadow=function(o){for(var a=o&&o.parentNode;a;){if(a.toString()==="[object ShadowRoot]")return!0;a=a.parentNode}return!1},s.prototype.componentDidMount=function(){var o=this,a=this.props,nt=a.className,tt=a.onBeforeLoad,ot=a.mode,at=a.focus,rt=a.theme,it=a.fontSize,j=a.value,_=a.defaultValue,$=a.cursorStart,et=a.showGutter,st=a.wrapEnabled,lt=a.showPrintMargin,ct=a.scrollMargin,ht=ct===void 0?[0,0,0,0]:ct,ut=a.keyboardHandler,mt=a.onLoad,gt=a.commands,vt=a.annotations,dt=a.markers,St=a.splits;this.editor=ace$1.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(rt)),tt&&tt(ace$1);var yt=Object.keys(this.props.editorProps),pt=new ext_split_1.Split(this.editor.container,"ace/theme/".concat(rt),St);this.editor.env.split=pt,this.splitEditor=pt.getEditor(0),this.split=pt,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var wt=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),pt.forEach(function(Ct,kt){for(var Tt=0;Tt<yt.length;Tt++)Ct[yt[Tt]]=o.props.editorProps[yt[Tt]];var At=get(_,kt),It=get(j,kt,"");Ct.session.setUndoManager(new ace$1.UndoManager),Ct.setTheme("ace/theme/".concat(rt)),Ct.renderer.setScrollMargin(ht[0],ht[1],ht[2],ht[3]),Ct.getSession().setMode("ace/mode/".concat(ot)),Ct.setFontSize(it),Ct.renderer.setShowGutter(et),Ct.getSession().setUseWrapMode(st),Ct.setShowPrintMargin(lt),Ct.on("focus",o.onFocus),Ct.on("blur",o.onBlur),Ct.on("input",o.onInput),Ct.on("copy",o.onCopy),Ct.on("paste",o.onPaste),Ct.on("change",o.onChange),Ct.getSession().selection.on("changeSelection",o.onSelectionChange),Ct.getSession().selection.on("changeCursor",o.onCursorChange),Ct.session.on("changeScrollTop",o.onScroll),Ct.setValue(At===void 0?It:At,$);var Ot=get(vt,kt,[]),Mt=get(dt,kt,[]);Ct.getSession().setAnnotations(Ot),Mt&&Mt.length>0&&o.handleMarkers(Mt,Ct);for(var Tt=0;Tt<editorOptions_1.editorOptions.length;Tt++){var Dt=editorOptions_1.editorOptions[Tt];wt.hasOwnProperty(Dt)?Ct.setOption(Dt,o.props[Dt]):o.props[Dt]&&console.warn("ReaceAce: editor option ".concat(Dt," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}o.handleOptions(o.props,Ct),Array.isArray(gt)&&gt.forEach(function(Bt){typeof Bt.exec=="string"?Ct.commands.bindKey(Bt.bindKey,Bt.exec):Ct.commands.addCommand(Bt)}),ut&&Ct.setKeyboardHandler("ace/keyboard/"+ut)}),nt&&(this.refEditor.className+=" "+nt),at&&this.splitEditor.focus();var Et=this.editor.env.split;Et.setOrientation(this.props.orientation==="below"?Et.BELOW:Et.BESIDE),Et.resize(!0),mt&&mt(Et)},s.prototype.componentDidUpdate=function(o){var a=this,nt=o,tt=this.props,ot=this.editor.env.split;if(tt.splits!==nt.splits&&ot.setSplits(tt.splits),tt.orientation!==nt.orientation&&ot.setOrientation(tt.orientation==="below"?ot.BELOW:ot.BESIDE),ot.forEach(function(j,_){tt.mode!==nt.mode&&j.getSession().setMode("ace/mode/"+tt.mode),tt.keyboardHandler!==nt.keyboardHandler&&(tt.keyboardHandler?j.setKeyboardHandler("ace/keyboard/"+tt.keyboardHandler):j.setKeyboardHandler(null)),tt.fontSize!==nt.fontSize&&j.setFontSize(tt.fontSize),tt.wrapEnabled!==nt.wrapEnabled&&j.getSession().setUseWrapMode(tt.wrapEnabled),tt.showPrintMargin!==nt.showPrintMargin&&j.setShowPrintMargin(tt.showPrintMargin),tt.showGutter!==nt.showGutter&&j.renderer.setShowGutter(tt.showGutter);for(var $=0;$<editorOptions_1.editorOptions.length;$++){var et=editorOptions_1.editorOptions[$];tt[et]!==nt[et]&&j.setOption(et,tt[et])}isEqual(tt.setOptions,nt.setOptions)||a.handleOptions(tt,j);var st=get(tt.value,_,"");if(j.getValue()!==st){a.silent=!0;var lt=j.session.selection.toJSON();j.setValue(st,tt.cursorStart),j.session.selection.fromJSON(lt),a.silent=!1}var ct=get(tt.annotations,_,[]),ht=get(nt.annotations,_,[]);isEqual(ct,ht)||j.getSession().setAnnotations(ct);var ut=get(tt.markers,_,[]),mt=get(nt.markers,_,[]);!isEqual(ut,mt)&&Array.isArray(ut)&&a.handleMarkers(ut,j)}),tt.className!==nt.className){var at=this.refEditor.className,rt=at.trim().split(" "),it=nt.className.trim().split(" ");it.forEach(function(j){var _=rt.indexOf(j);rt.splice(_,1)}),this.refEditor.className=" "+tt.className+" "+rt.join(" ")}tt.theme!==nt.theme&&ot.setTheme("ace/theme/"+tt.theme),tt.focus&&!nt.focus&&this.splitEditor.focus(),(tt.height!==this.props.height||tt.width!==this.props.width)&&this.editor.resize()},s.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},s.prototype.onChange=function(o){if(this.props.onChange&&!this.silent){var a=[];this.editor.env.split.forEach(function(nt){a.push(nt.getValue())}),this.props.onChange(a,o)}},s.prototype.onSelectionChange=function(o){if(this.props.onSelectionChange){var a=[];this.editor.env.split.forEach(function(nt){a.push(nt.getSelection())}),this.props.onSelectionChange(a,o)}},s.prototype.onCursorChange=function(o){if(this.props.onCursorChange){var a=[];this.editor.env.split.forEach(function(nt){a.push(nt.getSelection())}),this.props.onCursorChange(a,o)}},s.prototype.onFocus=function(o){this.props.onFocus&&this.props.onFocus(o)},s.prototype.onInput=function(o){this.props.onInput&&this.props.onInput(o)},s.prototype.onBlur=function(o){this.props.onBlur&&this.props.onBlur(o)},s.prototype.onCopy=function(o){this.props.onCopy&&this.props.onCopy(o)},s.prototype.onPaste=function(o){this.props.onPaste&&this.props.onPaste(o)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(o,a){for(var nt=Object.keys(o.setOptions),tt=0;tt<nt.length;tt++)a.setOption(nt[tt],o.setOptions[nt[tt]])},s.prototype.handleMarkers=function(o,a){var nt=a.getSession().getMarkers(!0);for(var tt in nt)nt.hasOwnProperty(tt)&&a.getSession().removeMarker(nt[tt].id);nt=a.getSession().getMarkers(!1);for(var tt in nt)nt.hasOwnProperty(tt)&&a.getSession().removeMarker(nt[tt].id);o.forEach(function(ot){var at=ot.startRow,rt=ot.startCol,it=ot.endRow,j=ot.endCol,_=ot.className,$=ot.type,et=ot.inFront,st=et===void 0?!1:et,lt=new ace_builds_1.Range(at,rt,it,j);a.getSession().addMarker(lt,_,$,st)})},s.prototype.updateRef=function(o){this.refEditor=o},s.prototype.render=function(){var o=this.props,a=o.name,nt=o.width,tt=o.height,ot=o.style,at=__assign({width:nt,height:tt},ot);return React$1.createElement("div",{ref:this.updateRef,id:a,style:at})},s.propTypes={className:PropTypes$1.string,debounceChangePeriod:PropTypes$1.number,defaultValue:PropTypes$1.arrayOf(PropTypes$1.string),focus:PropTypes$1.bool,fontSize:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),height:PropTypes$1.string,mode:PropTypes$1.string,name:PropTypes$1.string,onBlur:PropTypes$1.func,onChange:PropTypes$1.func,onCopy:PropTypes$1.func,onFocus:PropTypes$1.func,onInput:PropTypes$1.func,onLoad:PropTypes$1.func,onPaste:PropTypes$1.func,onScroll:PropTypes$1.func,orientation:PropTypes$1.string,showGutter:PropTypes$1.bool,splits:PropTypes$1.number,theme:PropTypes$1.string,value:PropTypes$1.arrayOf(PropTypes$1.string),width:PropTypes$1.string,onSelectionChange:PropTypes$1.func,onCursorChange:PropTypes$1.func,onBeforeLoad:PropTypes$1.func,minLines:PropTypes$1.number,maxLines:PropTypes$1.number,readOnly:PropTypes$1.bool,highlightActiveLine:PropTypes$1.bool,tabSize:PropTypes$1.number,showPrintMargin:PropTypes$1.bool,cursorStart:PropTypes$1.number,editorProps:PropTypes$1.object,setOptions:PropTypes$1.object,style:PropTypes$1.object,scrollMargin:PropTypes$1.array,annotations:PropTypes$1.array,markers:PropTypes$1.array,keyboardHandler:PropTypes$1.string,wrapEnabled:PropTypes$1.bool,enableBasicAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),enableLiveAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),commands:PropTypes$1.array},s.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},s}(React$1.Component);split.default=SplitComponent;var diffMatchPatch={exports:{}};(function(i){var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},o=-1,a=1,nt=0;s.Diff=function(tt,ot){return[tt,ot]},s.prototype.diff_main=function(tt,ot,at,rt){typeof rt>"u"&&(this.Diff_Timeout<=0?rt=Number.MAX_VALUE:rt=new Date().getTime()+this.Diff_Timeout*1e3);var it=rt;if(tt==null||ot==null)throw new Error("Null input. (diff_main)");if(tt==ot)return tt?[new s.Diff(nt,tt)]:[];typeof at>"u"&&(at=!0);var j=at,_=this.diff_commonPrefix(tt,ot),$=tt.substring(0,_);tt=tt.substring(_),ot=ot.substring(_),_=this.diff_commonSuffix(tt,ot);var et=tt.substring(tt.length-_);tt=tt.substring(0,tt.length-_),ot=ot.substring(0,ot.length-_);var st=this.diff_compute_(tt,ot,j,it);return $&&st.unshift(new s.Diff(nt,$)),et&&st.push(new s.Diff(nt,et)),this.diff_cleanupMerge(st),st},s.prototype.diff_compute_=function(tt,ot,at,rt){var it;if(!tt)return[new s.Diff(a,ot)];if(!ot)return[new s.Diff(o,tt)];var j=tt.length>ot.length?tt:ot,_=tt.length>ot.length?ot:tt,$=j.indexOf(_);if($!=-1)return it=[new s.Diff(a,j.substring(0,$)),new s.Diff(nt,_),new s.Diff(a,j.substring($+_.length))],tt.length>ot.length&&(it[0][0]=it[2][0]=o),it;if(_.length==1)return[new s.Diff(o,tt),new s.Diff(a,ot)];var et=this.diff_halfMatch_(tt,ot);if(et){var st=et[0],lt=et[1],ct=et[2],ht=et[3],ut=et[4],mt=this.diff_main(st,ct,at,rt),gt=this.diff_main(lt,ht,at,rt);return mt.concat([new s.Diff(nt,ut)],gt)}return at&&tt.length>100&&ot.length>100?this.diff_lineMode_(tt,ot,rt):this.diff_bisect_(tt,ot,rt)},s.prototype.diff_lineMode_=function(tt,ot,at){var rt=this.diff_linesToChars_(tt,ot);tt=rt.chars1,ot=rt.chars2;var it=rt.lineArray,j=this.diff_main(tt,ot,!1,at);this.diff_charsToLines_(j,it),this.diff_cleanupSemantic(j),j.push(new s.Diff(nt,""));for(var _=0,$=0,et=0,st="",lt="";_<j.length;){switch(j[_][0]){case a:et++,lt+=j[_][1];break;case o:$++,st+=j[_][1];break;case nt:if($>=1&&et>=1){j.splice(_-$-et,$+et),_=_-$-et;for(var ct=this.diff_main(st,lt,!1,at),ht=ct.length-1;ht>=0;ht--)j.splice(_,0,ct[ht]);_=_+ct.length}et=0,$=0,st="",lt="";break}_++}return j.pop(),j},s.prototype.diff_bisect_=function(tt,ot,at){for(var rt=tt.length,it=ot.length,j=Math.ceil((rt+it)/2),_=j,$=2*j,et=new Array($),st=new Array($),lt=0;lt<$;lt++)et[lt]=-1,st[lt]=-1;et[_+1]=0,st[_+1]=0;for(var ct=rt-it,ht=ct%2!=0,ut=0,mt=0,gt=0,vt=0,dt=0;dt<j&&!(new Date().getTime()>at);dt++){for(var St=-dt+ut;St<=dt-mt;St+=2){var yt=_+St,pt;St==-dt||St!=dt&&et[yt-1]<et[yt+1]?pt=et[yt+1]:pt=et[yt-1]+1;for(var wt=pt-St;pt<rt&&wt<it&&tt.charAt(pt)==ot.charAt(wt);)pt++,wt++;if(et[yt]=pt,pt>rt)mt+=2;else if(wt>it)ut+=2;else if(ht){var Et=_+ct-St;if(Et>=0&&Et<$&&st[Et]!=-1){var Ct=rt-st[Et];if(pt>=Ct)return this.diff_bisectSplit_(tt,ot,pt,wt,at)}}}for(var kt=-dt+gt;kt<=dt-vt;kt+=2){var Et=_+kt,Ct;kt==-dt||kt!=dt&&st[Et-1]<st[Et+1]?Ct=st[Et+1]:Ct=st[Et-1]+1;for(var Tt=Ct-kt;Ct<rt&&Tt<it&&tt.charAt(rt-Ct-1)==ot.charAt(it-Tt-1);)Ct++,Tt++;if(st[Et]=Ct,Ct>rt)vt+=2;else if(Tt>it)gt+=2;else if(!ht){var yt=_+ct-kt;if(yt>=0&&yt<$&&et[yt]!=-1){var pt=et[yt],wt=_+pt-yt;if(Ct=rt-Ct,pt>=Ct)return this.diff_bisectSplit_(tt,ot,pt,wt,at)}}}}return[new s.Diff(o,tt),new s.Diff(a,ot)]},s.prototype.diff_bisectSplit_=function(tt,ot,at,rt,it){var j=tt.substring(0,at),_=ot.substring(0,rt),$=tt.substring(at),et=ot.substring(rt),st=this.diff_main(j,_,!1,it),lt=this.diff_main($,et,!1,it);return st.concat(lt)},s.prototype.diff_linesToChars_=function(tt,ot){var at=[],rt={};at[0]="";function it(et){for(var st="",lt=0,ct=-1,ht=at.length;ct<et.length-1;){ct=et.indexOf(`
`,lt),ct==-1&&(ct=et.length-1);var ut=et.substring(lt,ct+1);(rt.hasOwnProperty?rt.hasOwnProperty(ut):rt[ut]!==void 0)?st+=String.fromCharCode(rt[ut]):(ht==j&&(ut=et.substring(lt),ct=et.length),st+=String.fromCharCode(ht),rt[ut]=ht,at[ht++]=ut),lt=ct+1}return st}var j=4e4,_=it(tt);j=65535;var $=it(ot);return{chars1:_,chars2:$,lineArray:at}},s.prototype.diff_charsToLines_=function(tt,ot){for(var at=0;at<tt.length;at++){for(var rt=tt[at][1],it=[],j=0;j<rt.length;j++)it[j]=ot[rt.charCodeAt(j)];tt[at][1]=it.join("")}},s.prototype.diff_commonPrefix=function(tt,ot){if(!tt||!ot||tt.charAt(0)!=ot.charAt(0))return 0;for(var at=0,rt=Math.min(tt.length,ot.length),it=rt,j=0;at<it;)tt.substring(j,it)==ot.substring(j,it)?(at=it,j=at):rt=it,it=Math.floor((rt-at)/2+at);return it},s.prototype.diff_commonSuffix=function(tt,ot){if(!tt||!ot||tt.charAt(tt.length-1)!=ot.charAt(ot.length-1))return 0;for(var at=0,rt=Math.min(tt.length,ot.length),it=rt,j=0;at<it;)tt.substring(tt.length-it,tt.length-j)==ot.substring(ot.length-it,ot.length-j)?(at=it,j=at):rt=it,it=Math.floor((rt-at)/2+at);return it},s.prototype.diff_commonOverlap_=function(tt,ot){var at=tt.length,rt=ot.length;if(at==0||rt==0)return 0;at>rt?tt=tt.substring(at-rt):at<rt&&(ot=ot.substring(0,at));var it=Math.min(at,rt);if(tt==ot)return it;for(var j=0,_=1;;){var $=tt.substring(it-_),et=ot.indexOf($);if(et==-1)return j;_+=et,(et==0||tt.substring(it-_)==ot.substring(0,_))&&(j=_,_++)}},s.prototype.diff_halfMatch_=function(tt,ot){if(this.Diff_Timeout<=0)return null;var at=tt.length>ot.length?tt:ot,rt=tt.length>ot.length?ot:tt;if(at.length<4||rt.length*2<at.length)return null;var it=this;function j(mt,gt,vt){for(var dt=mt.substring(vt,vt+Math.floor(mt.length/4)),St=-1,yt="",pt,wt,Et,Ct;(St=gt.indexOf(dt,St+1))!=-1;){var kt=it.diff_commonPrefix(mt.substring(vt),gt.substring(St)),Tt=it.diff_commonSuffix(mt.substring(0,vt),gt.substring(0,St));yt.length<Tt+kt&&(yt=gt.substring(St-Tt,St)+gt.substring(St,St+kt),pt=mt.substring(0,vt-Tt),wt=mt.substring(vt+kt),Et=gt.substring(0,St-Tt),Ct=gt.substring(St+kt))}return yt.length*2>=mt.length?[pt,wt,Et,Ct,yt]:null}var _=j(at,rt,Math.ceil(at.length/4)),$=j(at,rt,Math.ceil(at.length/2)),et;if(!_&&!$)return null;$?_?et=_[4].length>$[4].length?_:$:et=$:et=_;var st,lt,ct,ht;tt.length>ot.length?(st=et[0],lt=et[1],ct=et[2],ht=et[3]):(ct=et[0],ht=et[1],st=et[2],lt=et[3]);var ut=et[4];return[st,lt,ct,ht,ut]},s.prototype.diff_cleanupSemantic=function(tt){for(var ot=!1,at=[],rt=0,it=null,j=0,_=0,$=0,et=0,st=0;j<tt.length;)tt[j][0]==nt?(at[rt++]=j,_=et,$=st,et=0,st=0,it=tt[j][1]):(tt[j][0]==a?et+=tt[j][1].length:st+=tt[j][1].length,it&&it.length<=Math.max(_,$)&&it.length<=Math.max(et,st)&&(tt.splice(at[rt-1],0,new s.Diff(o,it)),tt[at[rt-1]+1][0]=a,rt--,rt--,j=rt>0?at[rt-1]:-1,_=0,$=0,et=0,st=0,it=null,ot=!0)),j++;for(ot&&this.diff_cleanupMerge(tt),this.diff_cleanupSemanticLossless(tt),j=1;j<tt.length;){if(tt[j-1][0]==o&&tt[j][0]==a){var lt=tt[j-1][1],ct=tt[j][1],ht=this.diff_commonOverlap_(lt,ct),ut=this.diff_commonOverlap_(ct,lt);ht>=ut?(ht>=lt.length/2||ht>=ct.length/2)&&(tt.splice(j,0,new s.Diff(nt,ct.substring(0,ht))),tt[j-1][1]=lt.substring(0,lt.length-ht),tt[j+1][1]=ct.substring(ht),j++):(ut>=lt.length/2||ut>=ct.length/2)&&(tt.splice(j,0,new s.Diff(nt,lt.substring(0,ut))),tt[j-1][0]=a,tt[j-1][1]=ct.substring(0,ct.length-ut),tt[j+1][0]=o,tt[j+1][1]=lt.substring(ut),j++),j++}j++}},s.prototype.diff_cleanupSemanticLossless=function(tt){function ot(ut,mt){if(!ut||!mt)return 6;var gt=ut.charAt(ut.length-1),vt=mt.charAt(0),dt=gt.match(s.nonAlphaNumericRegex_),St=vt.match(s.nonAlphaNumericRegex_),yt=dt&&gt.match(s.whitespaceRegex_),pt=St&&vt.match(s.whitespaceRegex_),wt=yt&&gt.match(s.linebreakRegex_),Et=pt&&vt.match(s.linebreakRegex_),Ct=wt&&ut.match(s.blanklineEndRegex_),kt=Et&&mt.match(s.blanklineStartRegex_);return Ct||kt?5:wt||Et?4:dt&&!yt&&pt?3:yt||pt?2:dt||St?1:0}for(var at=1;at<tt.length-1;){if(tt[at-1][0]==nt&&tt[at+1][0]==nt){var rt=tt[at-1][1],it=tt[at][1],j=tt[at+1][1],_=this.diff_commonSuffix(rt,it);if(_){var $=it.substring(it.length-_);rt=rt.substring(0,rt.length-_),it=$+it.substring(0,it.length-_),j=$+j}for(var et=rt,st=it,lt=j,ct=ot(rt,it)+ot(it,j);it.charAt(0)===j.charAt(0);){rt+=it.charAt(0),it=it.substring(1)+j.charAt(0),j=j.substring(1);var ht=ot(rt,it)+ot(it,j);ht>=ct&&(ct=ht,et=rt,st=it,lt=j)}tt[at-1][1]!=et&&(et?tt[at-1][1]=et:(tt.splice(at-1,1),at--),tt[at][1]=st,lt?tt[at+1][1]=lt:(tt.splice(at+1,1),at--))}at++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function(tt){for(var ot=!1,at=[],rt=0,it=null,j=0,_=!1,$=!1,et=!1,st=!1;j<tt.length;)tt[j][0]==nt?(tt[j][1].length<this.Diff_EditCost&&(et||st)?(at[rt++]=j,_=et,$=st,it=tt[j][1]):(rt=0,it=null),et=st=!1):(tt[j][0]==o?st=!0:et=!0,it&&(_&&$&&et&&st||it.length<this.Diff_EditCost/2&&_+$+et+st==3)&&(tt.splice(at[rt-1],0,new s.Diff(o,it)),tt[at[rt-1]+1][0]=a,rt--,it=null,_&&$?(et=st=!0,rt=0):(rt--,j=rt>0?at[rt-1]:-1,et=st=!1),ot=!0)),j++;ot&&this.diff_cleanupMerge(tt)},s.prototype.diff_cleanupMerge=function(tt){tt.push(new s.Diff(nt,""));for(var ot=0,at=0,rt=0,it="",j="",_;ot<tt.length;)switch(tt[ot][0]){case a:rt++,j+=tt[ot][1],ot++;break;case o:at++,it+=tt[ot][1],ot++;break;case nt:at+rt>1?(at!==0&&rt!==0&&(_=this.diff_commonPrefix(j,it),_!==0&&(ot-at-rt>0&&tt[ot-at-rt-1][0]==nt?tt[ot-at-rt-1][1]+=j.substring(0,_):(tt.splice(0,0,new s.Diff(nt,j.substring(0,_))),ot++),j=j.substring(_),it=it.substring(_)),_=this.diff_commonSuffix(j,it),_!==0&&(tt[ot][1]=j.substring(j.length-_)+tt[ot][1],j=j.substring(0,j.length-_),it=it.substring(0,it.length-_))),ot-=at+rt,tt.splice(ot,at+rt),it.length&&(tt.splice(ot,0,new s.Diff(o,it)),ot++),j.length&&(tt.splice(ot,0,new s.Diff(a,j)),ot++),ot++):ot!==0&&tt[ot-1][0]==nt?(tt[ot-1][1]+=tt[ot][1],tt.splice(ot,1)):ot++,rt=0,at=0,it="",j="";break}tt[tt.length-1][1]===""&&tt.pop();var $=!1;for(ot=1;ot<tt.length-1;)tt[ot-1][0]==nt&&tt[ot+1][0]==nt&&(tt[ot][1].substring(tt[ot][1].length-tt[ot-1][1].length)==tt[ot-1][1]?(tt[ot][1]=tt[ot-1][1]+tt[ot][1].substring(0,tt[ot][1].length-tt[ot-1][1].length),tt[ot+1][1]=tt[ot-1][1]+tt[ot+1][1],tt.splice(ot-1,1),$=!0):tt[ot][1].substring(0,tt[ot+1][1].length)==tt[ot+1][1]&&(tt[ot-1][1]+=tt[ot+1][1],tt[ot][1]=tt[ot][1].substring(tt[ot+1][1].length)+tt[ot+1][1],tt.splice(ot+1,1),$=!0)),ot++;$&&this.diff_cleanupMerge(tt)},s.prototype.diff_xIndex=function(tt,ot){var at=0,rt=0,it=0,j=0,_;for(_=0;_<tt.length&&(tt[_][0]!==a&&(at+=tt[_][1].length),tt[_][0]!==o&&(rt+=tt[_][1].length),!(at>ot));_++)it=at,j=rt;return tt.length!=_&&tt[_][0]===o?j:j+(ot-it)},s.prototype.diff_prettyHtml=function(tt){for(var ot=[],at=/&/g,rt=/</g,it=/>/g,j=/\n/g,_=0;_<tt.length;_++){var $=tt[_][0],et=tt[_][1],st=et.replace(at,"&amp;").replace(rt,"&lt;").replace(it,"&gt;").replace(j,"&para;<br>");switch($){case a:ot[_]='<ins style="background:#e6ffe6;">'+st+"</ins>";break;case o:ot[_]='<del style="background:#ffe6e6;">'+st+"</del>";break;case nt:ot[_]="<span>"+st+"</span>";break}}return ot.join("")},s.prototype.diff_text1=function(tt){for(var ot=[],at=0;at<tt.length;at++)tt[at][0]!==a&&(ot[at]=tt[at][1]);return ot.join("")},s.prototype.diff_text2=function(tt){for(var ot=[],at=0;at<tt.length;at++)tt[at][0]!==o&&(ot[at]=tt[at][1]);return ot.join("")},s.prototype.diff_levenshtein=function(tt){for(var ot=0,at=0,rt=0,it=0;it<tt.length;it++){var j=tt[it][0],_=tt[it][1];switch(j){case a:at+=_.length;break;case o:rt+=_.length;break;case nt:ot+=Math.max(at,rt),at=0,rt=0;break}}return ot+=Math.max(at,rt),ot},s.prototype.diff_toDelta=function(tt){for(var ot=[],at=0;at<tt.length;at++)switch(tt[at][0]){case a:ot[at]="+"+encodeURI(tt[at][1]);break;case o:ot[at]="-"+tt[at][1].length;break;case nt:ot[at]="="+tt[at][1].length;break}return ot.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function(tt,ot){for(var at=[],rt=0,it=0,j=ot.split(/\t/g),_=0;_<j.length;_++){var $=j[_].substring(1);switch(j[_].charAt(0)){case"+":try{at[rt++]=new s.Diff(a,decodeURI($))}catch{throw new Error("Illegal escape in diff_fromDelta: "+$)}break;case"-":case"=":var et=parseInt($,10);if(isNaN(et)||et<0)throw new Error("Invalid number in diff_fromDelta: "+$);var st=tt.substring(it,it+=et);j[_].charAt(0)=="="?at[rt++]=new s.Diff(nt,st):at[rt++]=new s.Diff(o,st);break;default:if(j[_])throw new Error("Invalid diff operation in diff_fromDelta: "+j[_])}}if(it!=tt.length)throw new Error("Delta length ("+it+") does not equal source text length ("+tt.length+").");return at},s.prototype.match_main=function(tt,ot,at){if(tt==null||ot==null||at==null)throw new Error("Null input. (match_main)");return at=Math.max(0,Math.min(at,tt.length)),tt==ot?0:tt.length?tt.substring(at,at+ot.length)==ot?at:this.match_bitap_(tt,ot,at):-1},s.prototype.match_bitap_=function(tt,ot,at){if(ot.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var rt=this.match_alphabet_(ot),it=this;function j(pt,wt){var Et=pt/ot.length,Ct=Math.abs(at-wt);return it.Match_Distance?Et+Ct/it.Match_Distance:Ct?1:Et}var _=this.Match_Threshold,$=tt.indexOf(ot,at);$!=-1&&(_=Math.min(j(0,$),_),$=tt.lastIndexOf(ot,at+ot.length),$!=-1&&(_=Math.min(j(0,$),_)));var et=1<<ot.length-1;$=-1;for(var st,lt,ct=ot.length+tt.length,ht,ut=0;ut<ot.length;ut++){for(st=0,lt=ct;st<lt;)j(ut,at+lt)<=_?st=lt:ct=lt,lt=Math.floor((ct-st)/2+st);ct=lt;var mt=Math.max(1,at-lt+1),gt=Math.min(at+lt,tt.length)+ot.length,vt=Array(gt+2);vt[gt+1]=(1<<ut)-1;for(var dt=gt;dt>=mt;dt--){var St=rt[tt.charAt(dt-1)];if(ut===0?vt[dt]=(vt[dt+1]<<1|1)&St:vt[dt]=(vt[dt+1]<<1|1)&St|((ht[dt+1]|ht[dt])<<1|1)|ht[dt+1],vt[dt]&et){var yt=j(ut,dt-1);if(yt<=_)if(_=yt,$=dt-1,$>at)mt=Math.max(1,2*at-$);else break}}if(j(ut+1,at)>_)break;ht=vt}return $},s.prototype.match_alphabet_=function(tt){for(var ot={},at=0;at<tt.length;at++)ot[tt.charAt(at)]=0;for(var at=0;at<tt.length;at++)ot[tt.charAt(at)]|=1<<tt.length-at-1;return ot},s.prototype.patch_addContext_=function(tt,ot){if(ot.length!=0){if(tt.start2===null)throw Error("patch not initialized");for(var at=ot.substring(tt.start2,tt.start2+tt.length1),rt=0;ot.indexOf(at)!=ot.lastIndexOf(at)&&at.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)rt+=this.Patch_Margin,at=ot.substring(tt.start2-rt,tt.start2+tt.length1+rt);rt+=this.Patch_Margin;var it=ot.substring(tt.start2-rt,tt.start2);it&&tt.diffs.unshift(new s.Diff(nt,it));var j=ot.substring(tt.start2+tt.length1,tt.start2+tt.length1+rt);j&&tt.diffs.push(new s.Diff(nt,j)),tt.start1-=it.length,tt.start2-=it.length,tt.length1+=it.length+j.length,tt.length2+=it.length+j.length}},s.prototype.patch_make=function(tt,ot,at){var rt,it;if(typeof tt=="string"&&typeof ot=="string"&&typeof at>"u")rt=tt,it=this.diff_main(rt,ot,!0),it.length>2&&(this.diff_cleanupSemantic(it),this.diff_cleanupEfficiency(it));else if(tt&&typeof tt=="object"&&typeof ot>"u"&&typeof at>"u")it=tt,rt=this.diff_text1(it);else if(typeof tt=="string"&&ot&&typeof ot=="object"&&typeof at>"u")rt=tt,it=ot;else if(typeof tt=="string"&&typeof ot=="string"&&at&&typeof at=="object")rt=tt,it=at;else throw new Error("Unknown call format to patch_make.");if(it.length===0)return[];for(var j=[],_=new s.patch_obj,$=0,et=0,st=0,lt=rt,ct=rt,ht=0;ht<it.length;ht++){var ut=it[ht][0],mt=it[ht][1];switch(!$&&ut!==nt&&(_.start1=et,_.start2=st),ut){case a:_.diffs[$++]=it[ht],_.length2+=mt.length,ct=ct.substring(0,st)+mt+ct.substring(st);break;case o:_.length1+=mt.length,_.diffs[$++]=it[ht],ct=ct.substring(0,st)+ct.substring(st+mt.length);break;case nt:mt.length<=2*this.Patch_Margin&&$&&it.length!=ht+1?(_.diffs[$++]=it[ht],_.length1+=mt.length,_.length2+=mt.length):mt.length>=2*this.Patch_Margin&&$&&(this.patch_addContext_(_,lt),j.push(_),_=new s.patch_obj,$=0,lt=ct,et=st);break}ut!==a&&(et+=mt.length),ut!==o&&(st+=mt.length)}return $&&(this.patch_addContext_(_,lt),j.push(_)),j},s.prototype.patch_deepCopy=function(tt){for(var ot=[],at=0;at<tt.length;at++){var rt=tt[at],it=new s.patch_obj;it.diffs=[];for(var j=0;j<rt.diffs.length;j++)it.diffs[j]=new s.Diff(rt.diffs[j][0],rt.diffs[j][1]);it.start1=rt.start1,it.start2=rt.start2,it.length1=rt.length1,it.length2=rt.length2,ot[at]=it}return ot},s.prototype.patch_apply=function(tt,ot){if(tt.length==0)return[ot,[]];tt=this.patch_deepCopy(tt);var at=this.patch_addPadding(tt);ot=at+ot+at,this.patch_splitMax(tt);for(var rt=0,it=[],j=0;j<tt.length;j++){var _=tt[j].start2+rt,$=this.diff_text1(tt[j].diffs),et,st=-1;if($.length>this.Match_MaxBits?(et=this.match_main(ot,$.substring(0,this.Match_MaxBits),_),et!=-1&&(st=this.match_main(ot,$.substring($.length-this.Match_MaxBits),_+$.length-this.Match_MaxBits),(st==-1||et>=st)&&(et=-1))):et=this.match_main(ot,$,_),et==-1)it[j]=!1,rt-=tt[j].length2-tt[j].length1;else{it[j]=!0,rt=et-_;var lt;if(st==-1?lt=ot.substring(et,et+$.length):lt=ot.substring(et,st+this.Match_MaxBits),$==lt)ot=ot.substring(0,et)+this.diff_text2(tt[j].diffs)+ot.substring(et+$.length);else{var ct=this.diff_main($,lt,!1);if($.length>this.Match_MaxBits&&this.diff_levenshtein(ct)/$.length>this.Patch_DeleteThreshold)it[j]=!1;else{this.diff_cleanupSemanticLossless(ct);for(var ht=0,ut,mt=0;mt<tt[j].diffs.length;mt++){var gt=tt[j].diffs[mt];gt[0]!==nt&&(ut=this.diff_xIndex(ct,ht)),gt[0]===a?ot=ot.substring(0,et+ut)+gt[1]+ot.substring(et+ut):gt[0]===o&&(ot=ot.substring(0,et+ut)+ot.substring(et+this.diff_xIndex(ct,ht+gt[1].length))),gt[0]!==o&&(ht+=gt[1].length)}}}}}return ot=ot.substring(at.length,ot.length-at.length),[ot,it]},s.prototype.patch_addPadding=function(tt){for(var ot=this.Patch_Margin,at="",rt=1;rt<=ot;rt++)at+=String.fromCharCode(rt);for(var rt=0;rt<tt.length;rt++)tt[rt].start1+=ot,tt[rt].start2+=ot;var it=tt[0],j=it.diffs;if(j.length==0||j[0][0]!=nt)j.unshift(new s.Diff(nt,at)),it.start1-=ot,it.start2-=ot,it.length1+=ot,it.length2+=ot;else if(ot>j[0][1].length){var _=ot-j[0][1].length;j[0][1]=at.substring(j[0][1].length)+j[0][1],it.start1-=_,it.start2-=_,it.length1+=_,it.length2+=_}if(it=tt[tt.length-1],j=it.diffs,j.length==0||j[j.length-1][0]!=nt)j.push(new s.Diff(nt,at)),it.length1+=ot,it.length2+=ot;else if(ot>j[j.length-1][1].length){var _=ot-j[j.length-1][1].length;j[j.length-1][1]+=at.substring(0,_),it.length1+=_,it.length2+=_}return at},s.prototype.patch_splitMax=function(tt){for(var ot=this.Match_MaxBits,at=0;at<tt.length;at++)if(!(tt[at].length1<=ot)){var rt=tt[at];tt.splice(at--,1);for(var it=rt.start1,j=rt.start2,_="";rt.diffs.length!==0;){var $=new s.patch_obj,et=!0;for($.start1=it-_.length,$.start2=j-_.length,_!==""&&($.length1=$.length2=_.length,$.diffs.push(new s.Diff(nt,_)));rt.diffs.length!==0&&$.length1<ot-this.Patch_Margin;){var st=rt.diffs[0][0],lt=rt.diffs[0][1];st===a?($.length2+=lt.length,j+=lt.length,$.diffs.push(rt.diffs.shift()),et=!1):st===o&&$.diffs.length==1&&$.diffs[0][0]==nt&&lt.length>2*ot?($.length1+=lt.length,it+=lt.length,et=!1,$.diffs.push(new s.Diff(st,lt)),rt.diffs.shift()):(lt=lt.substring(0,ot-$.length1-this.Patch_Margin),$.length1+=lt.length,it+=lt.length,st===nt?($.length2+=lt.length,j+=lt.length):et=!1,$.diffs.push(new s.Diff(st,lt)),lt==rt.diffs[0][1]?rt.diffs.shift():rt.diffs[0][1]=rt.diffs[0][1].substring(lt.length))}_=this.diff_text2($.diffs),_=_.substring(_.length-this.Patch_Margin);var ct=this.diff_text1(rt.diffs).substring(0,this.Patch_Margin);ct!==""&&($.length1+=ct.length,$.length2+=ct.length,$.diffs.length!==0&&$.diffs[$.diffs.length-1][0]===nt?$.diffs[$.diffs.length-1][1]+=ct:$.diffs.push(new s.Diff(nt,ct))),et||tt.splice(++at,0,$)}}},s.prototype.patch_toText=function(tt){for(var ot=[],at=0;at<tt.length;at++)ot[at]=tt[at];return ot.join("")},s.prototype.patch_fromText=function(tt){var ot=[];if(!tt)return ot;for(var at=tt.split(`
`),rt=0,it=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;rt<at.length;){var j=at[rt].match(it);if(!j)throw new Error("Invalid patch string: "+at[rt]);var _=new s.patch_obj;for(ot.push(_),_.start1=parseInt(j[1],10),j[2]===""?(_.start1--,_.length1=1):j[2]=="0"?_.length1=0:(_.start1--,_.length1=parseInt(j[2],10)),_.start2=parseInt(j[3],10),j[4]===""?(_.start2--,_.length2=1):j[4]=="0"?_.length2=0:(_.start2--,_.length2=parseInt(j[4],10)),rt++;rt<at.length;){var $=at[rt].charAt(0);try{var et=decodeURI(at[rt].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+et)}if($=="-")_.diffs.push(new s.Diff(o,et));else if($=="+")_.diffs.push(new s.Diff(a,et));else if($==" ")_.diffs.push(new s.Diff(nt,et));else{if($=="@")break;if($!=="")throw new Error('Invalid patch mode "'+$+'" in: '+et)}rt++}}return ot},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var tt,ot;this.length1===0?tt=this.start1+",0":this.length1==1?tt=this.start1+1:tt=this.start1+1+","+this.length1,this.length2===0?ot=this.start2+",0":this.length2==1?ot=this.start2+1:ot=this.start2+1+","+this.length2;for(var at=["@@ -"+tt+" +"+ot+` @@
`],rt,it=0;it<this.diffs.length;it++){switch(this.diffs[it][0]){case a:rt="+";break;case o:rt="-";break;case nt:rt=" ";break}at[it+1]=rt+encodeURI(this.diffs[it][1])+`
`}return at.join("").replace(/%20/g," ")},i.exports=s,i.exports.diff_match_patch=s,i.exports.DIFF_DELETE=o,i.exports.DIFF_INSERT=a,i.exports.DIFF_EQUAL=nt})(diffMatchPatch);var diffMatchPatchExports=diffMatchPatch.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,nt){a.__proto__=nt}||function(a,nt){for(var tt in nt)Object.prototype.hasOwnProperty.call(nt,tt)&&(a[tt]=nt[tt])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}();Object.defineProperty(diff,"__esModule",{value:!0});var PropTypes=propTypesExports,React=reactExports,split_1$1=split,DiffMatchPatch=diffMatchPatchExports,DiffComponent=function(i){__extends(s,i);function s(o){var a=i.call(this,o)||this;return a.state={value:a.props.value},a.onChange=a.onChange.bind(a),a.diff=a.diff.bind(a),a}return s.prototype.componentDidUpdate=function(){var o=this.props.value;o!==this.state.value&&this.setState({value:o})},s.prototype.onChange=function(o){this.setState({value:o}),this.props.onChange&&this.props.onChange(o)},s.prototype.diff=function(){var o=new DiffMatchPatch,a=this.state.value[0],nt=this.state.value[1];if(a.length===0&&nt.length===0)return[];var tt=o.diff_main(a,nt);o.diff_cleanupSemantic(tt);var ot=this.generateDiffedLines(tt),at=this.setCodeMarkers(ot);return at},s.prototype.generateDiffedLines=function(o){var a={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},nt={left:[],right:[]},tt={left:1,right:1};return o.forEach(function(ot){var at=ot[0],rt=ot[1],it=rt.split(`
`).length-1;if(rt.length!==0){var j=rt[0],_=rt[rt.length-1],$=0;switch(at){case a.DIFF_EQUAL:tt.left+=it,tt.right+=it;break;case a.DIFF_DELETE:j===`
`&&(tt.left++,it--),$=it,$===0&&nt.right.push({startLine:tt.right,endLine:tt.right}),_===`
`&&($-=1),nt.left.push({startLine:tt.left,endLine:tt.left+$}),tt.left+=it;break;case a.DIFF_INSERT:j===`
`&&(tt.right++,it--),$=it,$===0&&nt.left.push({startLine:tt.left,endLine:tt.left}),_===`
`&&($-=1),nt.right.push({startLine:tt.right,endLine:tt.right+$}),tt.right+=it;break;default:throw new Error("Diff type was not defined.")}}}),nt},s.prototype.setCodeMarkers=function(o){o===void 0&&(o={left:[],right:[]});for(var a=[],nt={left:[],right:[]},tt=0;tt<o.left.length;tt++){var ot={startRow:o.left[tt].startLine-1,endRow:o.left[tt].endLine,type:"text",className:"codeMarker"};nt.left.push(ot)}for(var tt=0;tt<o.right.length;tt++){var ot={startRow:o.right[tt].startLine-1,endRow:o.right[tt].endLine,type:"text",className:"codeMarker"};nt.right.push(ot)}return a[0]=nt.left,a[1]=nt.right,a},s.prototype.render=function(){var o=this.diff();return React.createElement(split_1$1.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:o})},s.propTypes={cursorStart:PropTypes.number,editorProps:PropTypes.object,enableBasicAutocompletion:PropTypes.bool,enableLiveAutocompletion:PropTypes.bool,focus:PropTypes.bool,fontSize:PropTypes.number,height:PropTypes.string,highlightActiveLine:PropTypes.bool,maxLines:PropTypes.number,minLines:PropTypes.number,mode:PropTypes.string,name:PropTypes.string,className:PropTypes.string,onLoad:PropTypes.func,onPaste:PropTypes.func,onScroll:PropTypes.func,onChange:PropTypes.func,orientation:PropTypes.string,readOnly:PropTypes.bool,scrollMargin:PropTypes.array,setOptions:PropTypes.object,showGutter:PropTypes.bool,showPrintMargin:PropTypes.bool,splits:PropTypes.number,style:PropTypes.object,tabSize:PropTypes.number,theme:PropTypes.string,value:PropTypes.array,width:PropTypes.string,wrapEnabled:PropTypes.bool},s.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},s}(React.Component);diff.default=DiffComponent;Object.defineProperty(lib$1,"__esModule",{value:!0});lib$1.diff=lib$1.split=void 0;var ace_1=ace$4,diff_1=diff;lib$1.diff=diff_1.default;var split_1=split;lib$1.split=split_1.default;var _default=lib$1.default=ace_1.default;const BAUD_RATE_SPIKE_PRIME=115200,KEYBOARD_INTERRUPT="",END_OF_TRANSMISSION="",PROGRAM_PLACEHOLDER_SOURCE_THREE="// Write your Source 3 program here!",PROGRAM_PLACEHOLDER_PYTHON="# Write your Python program here!",RAW_MODE_ENTER="",RAW_MODE_COMPILE="",RAW_MODE_EXIT="";var Languages=(i=>(i.SOURCE_THREE="Source 3",i.PYTHON="Python",i))(Languages||{});const supportedLanguages=["Python","Source 3"],languageToModeMap=Object.freeze({Python:"python","Source 3":"javascript"}),UserGuide=()=>{const{isOpen:i,onOpen:s,onClose:o}=useDisclosure();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"link",onClick:s,fontWeight:"normal",children:"View User Guide"}),jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:o,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:"User Guide"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{paddingBottom:0,children:jsxRuntimeExports.jsxs(OrderedList,{children:[jsxRuntimeExports.jsxs(ListItem,{children:["Connect your SPIKE Prime to your computer via USB.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," You can also connect via Bluetooth but reliability will not be guaranteed."]})]}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the appropriate language mode: ",Languages.SOURCE_THREE," ","or ",Languages.PYTHON]}),jsxRuntimeExports.jsx(ListItem,{children:'After finishing your code, click the "Run on Device" button.'}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the correct port from the pop-up that is shown.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," SEKER only supports Chromium-based browsers version 89 and onwards. If you do not see a pop-up, this means your browser is not supported."]})]}),jsxRuntimeExports.jsx(ListItem,{children:"The SPIKE Prime should start running your code."})]})}),jsxRuntimeExports.jsx(ModalFooter,{paddingTop:0})]})]})]})};var ArrowForwardIcon=createIcon({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"});const SampleProgramListItem=({label:i,onClick:s})=>jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"link",fontWeight:"normal",width:"full",iconSpacing:"auto",rightIcon:jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Text,{children:"Load"}),jsxRuntimeExports.jsx(ArrowForwardIcon,{})]}),onClick:s,children:i})}),sampleProgramBlinkLoop=`from time import sleep

import hub

stat = True
for _ in range(4):
    hub.display.invert(stat)
    sleep(1)
    stat = not stat
`,sampleProgramImagePixel=`from spike import PrimeHub

hub = PrimeHub()
hub.light_matrix.off()
hub.light_matrix.set_pixel(2, 2, 80)
hub.light_matrix.set_pixel(3, 3, 80)
hub.light_matrix.set_pixel(2, 3, 80)
hub.light_matrix.set_pixel(3, 2, 80)
hub.light_matrix.set_pixel(4, 4, 80)
hub.light_matrix.set_pixel(0, 0, 80)
`,samplePythonPrograms=[sampleProgramBlinkLoop,sampleProgramImagePixel],sampleProgramApiTour=`// SEKER API Tour

// Shows the below text on the 5x5 display, one character at a time
spike_showText("Hello from SPIKE Prime!");
`,sampleProgramMotor=`// Requires a motor to be plugged into Port A on the hub
const motor = spike_motorA();
const rotationsToDegrees = rot => rot * 360;

let isReverse = false;
const rotations = 2;

for (let i = 0; i < 4; i = i + 1) {
  spike_runForDegrees(motor,
                      rotationsToDegrees(isReverse ? -rotations : rotations));
  isReverse = !isReverse;
}
`,sampleProgramMusic=`// Adapted from
// https://projecthub.arduino.cc/slagestee/d947337b-0ff0-4a2d-93c6-8b117ea61d79
const a4f = 415;
const b4f = 466;
const c5 = 523;
const c5s = 554;
const e5f = 622;
const f5 = 698;

// Slightly tweaked, this sounds better
const notes = [
  a4f, a4f, b4f, a4f, f5, f5, e5f,
  a4f, a4f, b4f, a4f, e5f, e5f, c5s, c5, b4f,
  b4f, b4f, c5s, b4f, c5s, e5f, c5, b4f, a4f, a4f,
  a4f, e5f, c5s
];

const durations = [
  1, 1, 1, 1, 3, 3, 6,
  1, 1, 1, 1, 3, 3, 3, 1, 2,
  1, 1, 1, 1, 3, 3, 3, 1, 2, 2,
  2, 4, 8
];

const lyrics = [
  "N", " ", "G", " ", "G", "Y", "U",
  "N", " ", "G", " ", "L", "Y", "D", " ", " ",
  "N", " ", "G", " ", "R", "A", " ", " ", " ", "A",
  "D", " ", "Y"
];

for (let i = 0; i < 29; i = i + 1) {
  spike_showText(lyrics[i]);
  spike_playSound(notes[i], durations[i] * 100);
  spike_sleep(durations[i] * 0.12);
}
`,sampleProgramSensor=`// Requires a force sensor to be plugged into any of the ports on the hub
const sensor = spike_forceSensor();
for (let i = 0; i < 10; i = i + 1) {
  display(spike_getIsTouched(sensor));
  spike_sleep(1);
}
`,sampleProgramZigzag=`for (let i = 0; i < 10; i = i + 1) {
  spike_showImage("00099:00990:09900:99000:09900");
  spike_sleep(0.2);
  spike_showImage("00990:09900:99000:09900:00990");
  spike_sleep(0.2);
  spike_showImage("09900:99000:09900:00990:00099");
  spike_sleep(0.2);
  spike_showImage("99000:09900:00990:00099:00990");
  spike_sleep(0.2);
  spike_showImage("09900:00990:00099:00990:09900");
  spike_sleep(0.2);
  spike_showImage("00990:00099:00990:09900:99000");
  spike_sleep(0.2);
}
`,sampleSourceThreePrograms=[sampleProgramApiTour,sampleProgramMotor,sampleProgramMusic,sampleProgramSensor,sampleProgramZigzag],getSampleProgramsFrom=i=>{switch(i){case Languages.PYTHON:return samplePythonPrograms;case Languages.SOURCE_THREE:return sampleSourceThreePrograms}},SampleProgramSidebar=({languageMode:i,setProgramState:s})=>{const o=getSampleProgramsFrom(i);return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Sample ",i," Programs"]}),jsxRuntimeExports.jsx(Text,{children:"Click on a program below to load them into the editor."})]})}),jsxRuntimeExports.jsx(CardBody,{paddingTop:0,children:jsxRuntimeExports.jsx(Stack,{divider:jsxRuntimeExports.jsx(StackDivider,{}),children:o.length==0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"No sample programs found."}):o.map((a,nt)=>jsxRuntimeExports.jsx(SampleProgramListItem,{label:`Sample Program ${nt+1}`,onClick:()=>s(a)},nt))})})]})};var sicp={},createContext={},constants={},types={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Variant=i.Chapter=i.ErrorSeverity=i.ErrorType=void 0,function(s){s.SYNTAX="Syntax",s.TYPE="Type",s.RUNTIME="Runtime"}(i.ErrorType||(i.ErrorType={})),function(s){s.WARNING="Warning",s.ERROR="Error"}(i.ErrorSeverity||(i.ErrorSeverity={})),function(s){s[s.SOURCE_1=1]="SOURCE_1",s[s.SOURCE_2=2]="SOURCE_2",s[s.SOURCE_3=3]="SOURCE_3",s[s.SOURCE_4=4]="SOURCE_4",s[s.FULL_JS=-1]="FULL_JS",s[s.HTML=-2]="HTML",s[s.LIBRARY_PARSER=100]="LIBRARY_PARSER"}(i.Chapter||(i.Chapter={})),function(s){s.DEFAULT="default",s.NATIVE="native",s.WASM="wasm",s.LAZY="lazy",s.NON_DET="non-det",s.CONCURRENT="concurrent",s.GPU="gpu"}(i.Variant||(i.Variant={}))})(types);Object.defineProperty(constants,"__esModule",{value:!0});constants.ACORN_PARSE_OPTIONS=constants.sourceLanguages=constants.JSSLANG_PROPERTIES=constants.UNKNOWN_LOCATION=constants.MAX_LIST_DISPLAY_LENGTH=constants.MODULE_CONTEXTS_ID=constants.MODULE_PARAMS_ID=constants.NATIVE_STORAGE_ID=constants.GLOBAL=constants.TRY_AGAIN=constants.CUT=void 0;const types_1$m=types;constants.CUT="cut";constants.TRY_AGAIN="retry";constants.GLOBAL=typeof window>"u"?commonjsGlobal:window;constants.NATIVE_STORAGE_ID="nativeStorage";constants.MODULE_PARAMS_ID="moduleParams";constants.MODULE_CONTEXTS_ID="moduleContexts";constants.MAX_LIST_DISPLAY_LENGTH=100;constants.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}};constants.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10};constants.sourceLanguages=[{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.WASM},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.CONCURRENT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.NON_DET},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.GPU}];constants.ACORN_PARSE_OPTIONS={ecmaVersion:2015};var lib={},acorn={exports:{}};(function(i,s){(function(o,a){a(s)})(commonjsGlobal,function(o){var a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],nt=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],tt="-----------------------------------------------------------------------------------------------------------------------------------------------------",ot="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",at={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},rt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",it={5:rt,"5module":rt+" export import",6:rt+" const class extends export import super"},j=/^in(stanceof)?$/,_=new RegExp("["+ot+"]"),$=new RegExp("["+ot+tt+"]");function et(xt,Rt){for(var Ft=65536,jt=0;jt<Rt.length;jt+=2){if(Ft+=Rt[jt],Ft>xt)return!1;if(Ft+=Rt[jt+1],Ft>=xt)return!0}return!1}function st(xt,Rt){return xt<65?xt===36:xt<91?!0:xt<97?xt===95:xt<123?!0:xt<=65535?xt>=170&&_.test(String.fromCharCode(xt)):Rt===!1?!1:et(xt,nt)}function lt(xt,Rt){return xt<48?xt===36:xt<58?!0:xt<65?!1:xt<91?!0:xt<97?xt===95:xt<123?!0:xt<=65535?xt>=170&&$.test(String.fromCharCode(xt)):Rt===!1?!1:et(xt,nt)||et(xt,a)}var ct=function(Rt,Ft){Ft===void 0&&(Ft={}),this.label=Rt,this.keyword=Ft.keyword,this.beforeExpr=!!Ft.beforeExpr,this.startsExpr=!!Ft.startsExpr,this.isLoop=!!Ft.isLoop,this.isAssign=!!Ft.isAssign,this.prefix=!!Ft.prefix,this.postfix=!!Ft.postfix,this.binop=Ft.binop||null,this.updateContext=null};function ht(xt,Rt){return new ct(xt,{beforeExpr:!0,binop:Rt})}var ut={beforeExpr:!0},mt={startsExpr:!0},gt={};function vt(xt,Rt){return Rt===void 0&&(Rt={}),Rt.keyword=xt,gt[xt]=new ct(xt,Rt)}var dt={num:new ct("num",mt),regexp:new ct("regexp",mt),string:new ct("string",mt),name:new ct("name",mt),privateId:new ct("privateId",mt),eof:new ct("eof"),bracketL:new ct("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ct("]"),braceL:new ct("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ct("}"),parenL:new ct("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ct(")"),comma:new ct(",",ut),semi:new ct(";",ut),colon:new ct(":",ut),dot:new ct("."),question:new ct("?",ut),questionDot:new ct("?."),arrow:new ct("=>",ut),template:new ct("template"),invalidTemplate:new ct("invalidTemplate"),ellipsis:new ct("...",ut),backQuote:new ct("`",mt),dollarBraceL:new ct("${",{beforeExpr:!0,startsExpr:!0}),eq:new ct("=",{beforeExpr:!0,isAssign:!0}),assign:new ct("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ct("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ct("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ht("||",1),logicalAND:ht("&&",2),bitwiseOR:ht("|",3),bitwiseXOR:ht("^",4),bitwiseAND:ht("&",5),equality:ht("==/!=/===/!==",6),relational:ht("</>/<=/>=",7),bitShift:ht("<</>>/>>>",8),plusMin:new ct("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ht("%",10),star:ht("*",10),slash:ht("/",10),starstar:new ct("**",{beforeExpr:!0}),coalesce:ht("??",1),_break:vt("break"),_case:vt("case",ut),_catch:vt("catch"),_continue:vt("continue"),_debugger:vt("debugger"),_default:vt("default",ut),_do:vt("do",{isLoop:!0,beforeExpr:!0}),_else:vt("else",ut),_finally:vt("finally"),_for:vt("for",{isLoop:!0}),_function:vt("function",mt),_if:vt("if"),_return:vt("return",ut),_switch:vt("switch"),_throw:vt("throw",ut),_try:vt("try"),_var:vt("var"),_const:vt("const"),_while:vt("while",{isLoop:!0}),_with:vt("with"),_new:vt("new",{beforeExpr:!0,startsExpr:!0}),_this:vt("this",mt),_super:vt("super",mt),_class:vt("class",mt),_extends:vt("extends",ut),_export:vt("export"),_import:vt("import",mt),_null:vt("null",mt),_true:vt("true",mt),_false:vt("false",mt),_in:vt("in",{beforeExpr:!0,binop:7}),_instanceof:vt("instanceof",{beforeExpr:!0,binop:7}),_typeof:vt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:vt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:vt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},St=/\r\n?|\n|\u2028|\u2029/,yt=new RegExp(St.source,"g");function pt(xt){return xt===10||xt===13||xt===8232||xt===8233}function wt(xt,Rt,Ft){Ft===void 0&&(Ft=xt.length);for(var jt=Rt;jt<Ft;jt++){var ir=xt.charCodeAt(jt);if(pt(ir))return jt<Ft-1&&ir===13&&xt.charCodeAt(jt+1)===10?jt+2:jt+1}return-1}var Et=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,kt=Object.prototype,Tt=kt.hasOwnProperty,At=kt.toString,It=Object.hasOwn||function(xt,Rt){return Tt.call(xt,Rt)},Ot=Array.isArray||function(xt){return At.call(xt)==="[object Array]"},Mt=Object.create(null);function Dt(xt){return Mt[xt]||(Mt[xt]=new RegExp("^(?:"+xt.replace(/ /g,"|")+")$"))}function Bt(xt){return xt<=65535?String.fromCharCode(xt):(xt-=65536,String.fromCharCode((xt>>10)+55296,(xt&1023)+56320))}var qt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Wt=function(Rt,Ft){this.line=Rt,this.column=Ft};Wt.prototype.offset=function(Rt){return new Wt(this.line,this.column+Rt)};var Vt=function(Rt,Ft,jt){this.start=Ft,this.end=jt,Rt.sourceFile!==null&&(this.source=Rt.sourceFile)};function Ht(xt,Rt){for(var Ft=1,jt=0;;){var ir=wt(xt,jt,Rt);if(ir<0)return new Wt(Ft,Rt-jt);++Ft,jt=ir}}var Jt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Qt=!1;function cr(xt){var Rt={};for(var Ft in Jt)Rt[Ft]=xt&&It(xt,Ft)?xt[Ft]:Jt[Ft];if(Rt.ecmaVersion==="latest"?Rt.ecmaVersion=1e8:Rt.ecmaVersion==null?(!Qt&&typeof console=="object"&&console.warn&&(Qt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),Rt.ecmaVersion=11):Rt.ecmaVersion>=2015&&(Rt.ecmaVersion-=2009),Rt.allowReserved==null&&(Rt.allowReserved=Rt.ecmaVersion<5),(!xt||xt.allowHashBang==null)&&(Rt.allowHashBang=Rt.ecmaVersion>=14),Ot(Rt.onToken)){var jt=Rt.onToken;Rt.onToken=function(ir){return jt.push(ir)}}return Ot(Rt.onComment)&&(Rt.onComment=hr(Rt,Rt.onComment)),Rt}function hr(xt,Rt){return function(Ft,jt,ir,vr,wr,Vr){var zr={type:Ft?"Block":"Line",value:jt,start:ir,end:vr};xt.locations&&(zr.loc=new Vt(this,wr,Vr)),xt.ranges&&(zr.range=[ir,vr]),Rt.push(zr)}}var dr=1,gr=2,tr=4,rr=8,Yt=16,br=32,_r=64,fr=128,Wr=256,nn=dr|gr|Wr;function an(xt,Rt){return gr|(xt?tr:0)|(Rt?rr:0)}var In=0,Bn=1,Pn=2,cn=3,Gn=4,Mn=5,Er=function(Rt,Ft,jt){this.options=Rt=cr(Rt),this.sourceFile=Rt.sourceFile,this.keywords=Dt(it[Rt.ecmaVersion>=6?6:Rt.sourceType==="module"?"5module":5]);var ir="";Rt.allowReserved!==!0&&(ir=at[Rt.ecmaVersion>=6?6:Rt.ecmaVersion===5?5:3],Rt.sourceType==="module"&&(ir+=" await")),this.reservedWords=Dt(ir);var vr=(ir?ir+" ":"")+at.strict;this.reservedWordsStrict=Dt(vr),this.reservedWordsStrictBind=Dt(vr+" "+at.strictBind),this.input=String(Ft),this.containsEsc=!1,jt?(this.pos=jt,this.lineStart=this.input.lastIndexOf(`
`,jt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(St).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=dt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Rt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Rt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(dr),this.regexpState=null,this.privateNameStack=[]},Br={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Er.prototype.parse=function(){var Rt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Rt)},Br.inFunction.get=function(){return(this.currentVarScope().flags&gr)>0},Br.inGenerator.get=function(){return(this.currentVarScope().flags&rr)>0&&!this.currentVarScope().inClassFieldInit},Br.inAsync.get=function(){return(this.currentVarScope().flags&tr)>0&&!this.currentVarScope().inClassFieldInit},Br.canAwait.get=function(){for(var xt=this.scopeStack.length-1;xt>=0;xt--){var Rt=this.scopeStack[xt];if(Rt.inClassFieldInit||Rt.flags&Wr)return!1;if(Rt.flags&gr)return(Rt.flags&tr)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Br.allowSuper.get=function(){var xt=this.currentThisScope(),Rt=xt.flags,Ft=xt.inClassFieldInit;return(Rt&_r)>0||Ft||this.options.allowSuperOutsideMethod},Br.allowDirectSuper.get=function(){return(this.currentThisScope().flags&fr)>0},Br.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Br.allowNewDotTarget.get=function(){var xt=this.currentThisScope(),Rt=xt.flags,Ft=xt.inClassFieldInit;return(Rt&(gr|Wr))>0||Ft},Br.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Wr)>0},Er.extend=function(){for(var Rt=[],Ft=arguments.length;Ft--;)Rt[Ft]=arguments[Ft];for(var jt=this,ir=0;ir<Rt.length;ir++)jt=Rt[ir](jt);return jt},Er.parse=function(Rt,Ft){return new this(Ft,Rt).parse()},Er.parseExpressionAt=function(Rt,Ft,jt){var ir=new this(jt,Rt,Ft);return ir.nextToken(),ir.parseExpression()},Er.tokenizer=function(Rt,Ft){return new this(Ft,Rt)},Object.defineProperties(Er.prototype,Br);var $r=Er.prototype,on=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;$r.strictDirective=function(xt){if(this.options.ecmaVersion<5)return!1;for(;;){Ct.lastIndex=xt,xt+=Ct.exec(this.input)[0].length;var Rt=on.exec(this.input.slice(xt));if(!Rt)return!1;if((Rt[1]||Rt[2])==="use strict"){Ct.lastIndex=xt+Rt[0].length;var Ft=Ct.exec(this.input),jt=Ft.index+Ft[0].length,ir=this.input.charAt(jt);return ir===";"||ir==="}"||St.test(Ft[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(ir)||ir==="!"&&this.input.charAt(jt+1)==="=")}xt+=Rt[0].length,Ct.lastIndex=xt,xt+=Ct.exec(this.input)[0].length,this.input[xt]===";"&&xt++}},$r.eat=function(xt){return this.type===xt?(this.next(),!0):!1},$r.isContextual=function(xt){return this.type===dt.name&&this.value===xt&&!this.containsEsc},$r.eatContextual=function(xt){return this.isContextual(xt)?(this.next(),!0):!1},$r.expectContextual=function(xt){this.eatContextual(xt)||this.unexpected()},$r.canInsertSemicolon=function(){return this.type===dt.eof||this.type===dt.braceR||St.test(this.input.slice(this.lastTokEnd,this.start))},$r.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},$r.semicolon=function(){!this.eat(dt.semi)&&!this.insertSemicolon()&&this.unexpected()},$r.afterTrailingComma=function(xt,Rt){if(this.type===xt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Rt||this.next(),!0},$r.expect=function(xt){this.eat(xt)||this.unexpected()},$r.unexpected=function(xt){this.raise(xt??this.start,"Unexpected token")};var Xt=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};$r.checkPatternErrors=function(xt,Rt){if(xt){xt.trailingComma>-1&&this.raiseRecoverable(xt.trailingComma,"Comma is not permitted after the rest element");var Ft=Rt?xt.parenthesizedAssign:xt.parenthesizedBind;Ft>-1&&this.raiseRecoverable(Ft,Rt?"Assigning to rvalue":"Parenthesized pattern")}},$r.checkExpressionErrors=function(xt,Rt){if(!xt)return!1;var Ft=xt.shorthandAssign,jt=xt.doubleProto;if(!Rt)return Ft>=0||jt>=0;Ft>=0&&this.raise(Ft,"Shorthand property assignments are valid only in destructuring patterns"),jt>=0&&this.raiseRecoverable(jt,"Redefinition of __proto__ property")},$r.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},$r.isSimpleAssignTarget=function(xt){return xt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(xt.expression):xt.type==="Identifier"||xt.type==="MemberExpression"};var er=Er.prototype;er.parseTopLevel=function(xt){var Rt=Object.create(null);for(xt.body||(xt.body=[]);this.type!==dt.eof;){var Ft=this.parseStatement(null,!0,Rt);xt.body.push(Ft)}if(this.inModule)for(var jt=0,ir=Object.keys(this.undefinedExports);jt<ir.length;jt+=1){var vr=ir[jt];this.raiseRecoverable(this.undefinedExports[vr].start,"Export '"+vr+"' is not defined")}return this.adaptDirectivePrologue(xt.body),this.next(),xt.sourceType=this.options.sourceType,this.finishNode(xt,"Program")};var lr={kind:"loop"},Lr={kind:"switch"};er.isLet=function(xt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ct.lastIndex=this.pos;var Rt=Ct.exec(this.input),Ft=this.pos+Rt[0].length,jt=this.input.charCodeAt(Ft);if(jt===91||jt===92)return!0;if(xt)return!1;if(jt===123||jt>55295&&jt<56320)return!0;if(st(jt,!0)){for(var ir=Ft+1;lt(jt=this.input.charCodeAt(ir),!0);)++ir;if(jt===92||jt>55295&&jt<56320)return!0;var vr=this.input.slice(Ft,ir);if(!j.test(vr))return!0}return!1},er.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ct.lastIndex=this.pos;var xt=Ct.exec(this.input),Rt=this.pos+xt[0].length,Ft;return!St.test(this.input.slice(this.pos,Rt))&&this.input.slice(Rt,Rt+8)==="function"&&(Rt+8===this.input.length||!(lt(Ft=this.input.charCodeAt(Rt+8))||Ft>55295&&Ft<56320))},er.parseStatement=function(xt,Rt,Ft){var jt=this.type,ir=this.startNode(),vr;switch(this.isLet(xt)&&(jt=dt._var,vr="let"),jt){case dt._break:case dt._continue:return this.parseBreakContinueStatement(ir,jt.keyword);case dt._debugger:return this.parseDebuggerStatement(ir);case dt._do:return this.parseDoStatement(ir);case dt._for:return this.parseForStatement(ir);case dt._function:return xt&&(this.strict||xt!=="if"&&xt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(ir,!1,!xt);case dt._class:return xt&&this.unexpected(),this.parseClass(ir,!0);case dt._if:return this.parseIfStatement(ir);case dt._return:return this.parseReturnStatement(ir);case dt._switch:return this.parseSwitchStatement(ir);case dt._throw:return this.parseThrowStatement(ir);case dt._try:return this.parseTryStatement(ir);case dt._const:case dt._var:return vr=vr||this.value,xt&&vr!=="var"&&this.unexpected(),this.parseVarStatement(ir,vr);case dt._while:return this.parseWhileStatement(ir);case dt._with:return this.parseWithStatement(ir);case dt.braceL:return this.parseBlock(!0,ir);case dt.semi:return this.parseEmptyStatement(ir);case dt._export:case dt._import:if(this.options.ecmaVersion>10&&jt===dt._import){Ct.lastIndex=this.pos;var wr=Ct.exec(this.input),Vr=this.pos+wr[0].length,zr=this.input.charCodeAt(Vr);if(zr===40||zr===46)return this.parseExpressionStatement(ir,this.parseExpression())}return this.options.allowImportExportEverywhere||(Rt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),jt===dt._import?this.parseImport(ir):this.parseExport(ir,Ft);default:if(this.isAsyncFunction())return xt&&this.unexpected(),this.next(),this.parseFunctionStatement(ir,!0,!xt);var yn=this.value,ln=this.parseExpression();return jt===dt.name&&ln.type==="Identifier"&&this.eat(dt.colon)?this.parseLabeledStatement(ir,yn,ln,xt):this.parseExpressionStatement(ir,ln)}},er.parseBreakContinueStatement=function(xt,Rt){var Ft=Rt==="break";this.next(),this.eat(dt.semi)||this.insertSemicolon()?xt.label=null:this.type!==dt.name?this.unexpected():(xt.label=this.parseIdent(),this.semicolon());for(var jt=0;jt<this.labels.length;++jt){var ir=this.labels[jt];if((xt.label==null||ir.name===xt.label.name)&&(ir.kind!=null&&(Ft||ir.kind==="loop")||xt.label&&Ft))break}return jt===this.labels.length&&this.raise(xt.start,"Unsyntactic "+Rt),this.finishNode(xt,Ft?"BreakStatement":"ContinueStatement")},er.parseDebuggerStatement=function(xt){return this.next(),this.semicolon(),this.finishNode(xt,"DebuggerStatement")},er.parseDoStatement=function(xt){return this.next(),this.labels.push(lr),xt.body=this.parseStatement("do"),this.labels.pop(),this.expect(dt._while),xt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(dt.semi):this.semicolon(),this.finishNode(xt,"DoWhileStatement")},er.parseForStatement=function(xt){this.next();var Rt=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(lr),this.enterScope(0),this.expect(dt.parenL),this.type===dt.semi)return Rt>-1&&this.unexpected(Rt),this.parseFor(xt,null);var Ft=this.isLet();if(this.type===dt._var||this.type===dt._const||Ft){var jt=this.startNode(),ir=Ft?"let":this.value;return this.next(),this.parseVar(jt,!0,ir),this.finishNode(jt,"VariableDeclaration"),(this.type===dt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&jt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===dt._in?Rt>-1&&this.unexpected(Rt):xt.await=Rt>-1),this.parseForIn(xt,jt)):(Rt>-1&&this.unexpected(Rt),this.parseFor(xt,jt))}var vr=this.isContextual("let"),wr=!1,Vr=new Xt,zr=this.parseExpression(Rt>-1?"await":!0,Vr);return this.type===dt._in||(wr=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===dt._in?Rt>-1&&this.unexpected(Rt):xt.await=Rt>-1),vr&&wr&&this.raise(zr.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(zr,!1,Vr),this.checkLValPattern(zr),this.parseForIn(xt,zr)):(this.checkExpressionErrors(Vr,!0),Rt>-1&&this.unexpected(Rt),this.parseFor(xt,zr))},er.parseFunctionStatement=function(xt,Rt,Ft){return this.next(),this.parseFunction(xt,Cr|(Ft?0:Tr),!1,Rt)},er.parseIfStatement=function(xt){return this.next(),xt.test=this.parseParenExpression(),xt.consequent=this.parseStatement("if"),xt.alternate=this.eat(dt._else)?this.parseStatement("if"):null,this.finishNode(xt,"IfStatement")},er.parseReturnStatement=function(xt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(dt.semi)||this.insertSemicolon()?xt.argument=null:(xt.argument=this.parseExpression(),this.semicolon()),this.finishNode(xt,"ReturnStatement")},er.parseSwitchStatement=function(xt){this.next(),xt.discriminant=this.parseParenExpression(),xt.cases=[],this.expect(dt.braceL),this.labels.push(Lr),this.enterScope(0);for(var Rt,Ft=!1;this.type!==dt.braceR;)if(this.type===dt._case||this.type===dt._default){var jt=this.type===dt._case;Rt&&this.finishNode(Rt,"SwitchCase"),xt.cases.push(Rt=this.startNode()),Rt.consequent=[],this.next(),jt?Rt.test=this.parseExpression():(Ft&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Ft=!0,Rt.test=null),this.expect(dt.colon)}else Rt||this.unexpected(),Rt.consequent.push(this.parseStatement(null));return this.exitScope(),Rt&&this.finishNode(Rt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(xt,"SwitchStatement")},er.parseThrowStatement=function(xt){return this.next(),St.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),xt.argument=this.parseExpression(),this.semicolon(),this.finishNode(xt,"ThrowStatement")};var Nr=[];er.parseCatchClauseParam=function(){var xt=this.parseBindingAtom(),Rt=xt.type==="Identifier";return this.enterScope(Rt?br:0),this.checkLValPattern(xt,Rt?Gn:Pn),this.expect(dt.parenR),xt},er.parseTryStatement=function(xt){if(this.next(),xt.block=this.parseBlock(),xt.handler=null,this.type===dt._catch){var Rt=this.startNode();this.next(),this.eat(dt.parenL)?Rt.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),Rt.param=null,this.enterScope(0)),Rt.body=this.parseBlock(!1),this.exitScope(),xt.handler=this.finishNode(Rt,"CatchClause")}return xt.finalizer=this.eat(dt._finally)?this.parseBlock():null,!xt.handler&&!xt.finalizer&&this.raise(xt.start,"Missing catch or finally clause"),this.finishNode(xt,"TryStatement")},er.parseVarStatement=function(xt,Rt,Ft){return this.next(),this.parseVar(xt,!1,Rt,Ft),this.semicolon(),this.finishNode(xt,"VariableDeclaration")},er.parseWhileStatement=function(xt){return this.next(),xt.test=this.parseParenExpression(),this.labels.push(lr),xt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(xt,"WhileStatement")},er.parseWithStatement=function(xt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),xt.object=this.parseParenExpression(),xt.body=this.parseStatement("with"),this.finishNode(xt,"WithStatement")},er.parseEmptyStatement=function(xt){return this.next(),this.finishNode(xt,"EmptyStatement")},er.parseLabeledStatement=function(xt,Rt,Ft,jt){for(var ir=0,vr=this.labels;ir<vr.length;ir+=1){var wr=vr[ir];wr.name===Rt&&this.raise(Ft.start,"Label '"+Rt+"' is already declared")}for(var Vr=this.type.isLoop?"loop":this.type===dt._switch?"switch":null,zr=this.labels.length-1;zr>=0;zr--){var yn=this.labels[zr];if(yn.statementStart===xt.start)yn.statementStart=this.start,yn.kind=Vr;else break}return this.labels.push({name:Rt,kind:Vr,statementStart:this.start}),xt.body=this.parseStatement(jt?jt.indexOf("label")===-1?jt+"label":jt:"label"),this.labels.pop(),xt.label=Ft,this.finishNode(xt,"LabeledStatement")},er.parseExpressionStatement=function(xt,Rt){return xt.expression=Rt,this.semicolon(),this.finishNode(xt,"ExpressionStatement")},er.parseBlock=function(xt,Rt,Ft){for(xt===void 0&&(xt=!0),Rt===void 0&&(Rt=this.startNode()),Rt.body=[],this.expect(dt.braceL),xt&&this.enterScope(0);this.type!==dt.braceR;){var jt=this.parseStatement(null);Rt.body.push(jt)}return Ft&&(this.strict=!1),this.next(),xt&&this.exitScope(),this.finishNode(Rt,"BlockStatement")},er.parseFor=function(xt,Rt){return xt.init=Rt,this.expect(dt.semi),xt.test=this.type===dt.semi?null:this.parseExpression(),this.expect(dt.semi),xt.update=this.type===dt.parenR?null:this.parseExpression(),this.expect(dt.parenR),xt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(xt,"ForStatement")},er.parseForIn=function(xt,Rt){var Ft=this.type===dt._in;return this.next(),Rt.type==="VariableDeclaration"&&Rt.declarations[0].init!=null&&(!Ft||this.options.ecmaVersion<8||this.strict||Rt.kind!=="var"||Rt.declarations[0].id.type!=="Identifier")&&this.raise(Rt.start,(Ft?"for-in":"for-of")+" loop variable declaration may not have an initializer"),xt.left=Rt,xt.right=Ft?this.parseExpression():this.parseMaybeAssign(),this.expect(dt.parenR),xt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(xt,Ft?"ForInStatement":"ForOfStatement")},er.parseVar=function(xt,Rt,Ft,jt){for(xt.declarations=[],xt.kind=Ft;;){var ir=this.startNode();if(this.parseVarId(ir,Ft),this.eat(dt.eq)?ir.init=this.parseMaybeAssign(Rt):!jt&&Ft==="const"&&!(this.type===dt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!jt&&ir.id.type!=="Identifier"&&!(Rt&&(this.type===dt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):ir.init=null,xt.declarations.push(this.finishNode(ir,"VariableDeclarator")),!this.eat(dt.comma))break}return xt},er.parseVarId=function(xt,Rt){xt.id=this.parseBindingAtom(),this.checkLValPattern(xt.id,Rt==="var"?Bn:Pn,!1)};var Cr=1,Tr=2,Hr=4;er.parseFunction=function(xt,Rt,Ft,jt,ir){this.initFunction(xt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!jt)&&(this.type===dt.star&&Rt&Tr&&this.unexpected(),xt.generator=this.eat(dt.star)),this.options.ecmaVersion>=8&&(xt.async=!!jt),Rt&Cr&&(xt.id=Rt&Hr&&this.type!==dt.name?null:this.parseIdent(),xt.id&&!(Rt&Tr)&&this.checkLValSimple(xt.id,this.strict||xt.generator||xt.async?this.treatFunctionsAsVar?Bn:Pn:cn));var vr=this.yieldPos,wr=this.awaitPos,Vr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(an(xt.async,xt.generator)),Rt&Cr||(xt.id=this.type===dt.name?this.parseIdent():null),this.parseFunctionParams(xt),this.parseFunctionBody(xt,Ft,!1,ir),this.yieldPos=vr,this.awaitPos=wr,this.awaitIdentPos=Vr,this.finishNode(xt,Rt&Cr?"FunctionDeclaration":"FunctionExpression")},er.parseFunctionParams=function(xt){this.expect(dt.parenL),xt.params=this.parseBindingList(dt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},er.parseClass=function(xt,Rt){this.next();var Ft=this.strict;this.strict=!0,this.parseClassId(xt,Rt),this.parseClassSuper(xt);var jt=this.enterClassBody(),ir=this.startNode(),vr=!1;for(ir.body=[],this.expect(dt.braceL);this.type!==dt.braceR;){var wr=this.parseClassElement(xt.superClass!==null);wr&&(ir.body.push(wr),wr.type==="MethodDefinition"&&wr.kind==="constructor"?(vr&&this.raiseRecoverable(wr.start,"Duplicate constructor in the same class"),vr=!0):wr.key&&wr.key.type==="PrivateIdentifier"&&sn(jt,wr)&&this.raiseRecoverable(wr.key.start,"Identifier '#"+wr.key.name+"' has already been declared"))}return this.strict=Ft,this.next(),xt.body=this.finishNode(ir,"ClassBody"),this.exitClassBody(),this.finishNode(xt,Rt?"ClassDeclaration":"ClassExpression")},er.parseClassElement=function(xt){if(this.eat(dt.semi))return null;var Rt=this.options.ecmaVersion,Ft=this.startNode(),jt="",ir=!1,vr=!1,wr="method",Vr=!1;if(this.eatContextual("static")){if(Rt>=13&&this.eat(dt.braceL))return this.parseClassStaticBlock(Ft),Ft;this.isClassElementNameStart()||this.type===dt.star?Vr=!0:jt="static"}if(Ft.static=Vr,!jt&&Rt>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===dt.star)&&!this.canInsertSemicolon()?vr=!0:jt="async"),!jt&&(Rt>=9||!vr)&&this.eat(dt.star)&&(ir=!0),!jt&&!vr&&!ir){var zr=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?wr=zr:jt=zr)}if(jt?(Ft.computed=!1,Ft.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Ft.key.name=jt,this.finishNode(Ft.key,"Identifier")):this.parseClassElementName(Ft),Rt<13||this.type===dt.parenL||wr!=="method"||ir||vr){var yn=!Ft.static&&Or(Ft,"constructor"),ln=yn&&xt;yn&&wr!=="method"&&this.raise(Ft.key.start,"Constructor can't have get/set modifier"),Ft.kind=yn?"constructor":wr,this.parseClassMethod(Ft,ir,vr,ln)}else this.parseClassField(Ft);return Ft},er.isClassElementNameStart=function(){return this.type===dt.name||this.type===dt.privateId||this.type===dt.num||this.type===dt.string||this.type===dt.bracketL||this.type.keyword},er.parseClassElementName=function(xt){this.type===dt.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),xt.computed=!1,xt.key=this.parsePrivateIdent()):this.parsePropertyName(xt)},er.parseClassMethod=function(xt,Rt,Ft,jt){var ir=xt.key;xt.kind==="constructor"?(Rt&&this.raise(ir.start,"Constructor can't be a generator"),Ft&&this.raise(ir.start,"Constructor can't be an async method")):xt.static&&Or(xt,"prototype")&&this.raise(ir.start,"Classes may not have a static property named prototype");var vr=xt.value=this.parseMethod(Rt,Ft,jt);return xt.kind==="get"&&vr.params.length!==0&&this.raiseRecoverable(vr.start,"getter should have no params"),xt.kind==="set"&&vr.params.length!==1&&this.raiseRecoverable(vr.start,"setter should have exactly one param"),xt.kind==="set"&&vr.params[0].type==="RestElement"&&this.raiseRecoverable(vr.params[0].start,"Setter cannot use rest params"),this.finishNode(xt,"MethodDefinition")},er.parseClassField=function(xt){if(Or(xt,"constructor")?this.raise(xt.key.start,"Classes can't have a field named 'constructor'"):xt.static&&Or(xt,"prototype")&&this.raise(xt.key.start,"Classes can't have a static field named 'prototype'"),this.eat(dt.eq)){var Rt=this.currentThisScope(),Ft=Rt.inClassFieldInit;Rt.inClassFieldInit=!0,xt.value=this.parseMaybeAssign(),Rt.inClassFieldInit=Ft}else xt.value=null;return this.semicolon(),this.finishNode(xt,"PropertyDefinition")},er.parseClassStaticBlock=function(xt){xt.body=[];var Rt=this.labels;for(this.labels=[],this.enterScope(Wr|_r);this.type!==dt.braceR;){var Ft=this.parseStatement(null);xt.body.push(Ft)}return this.next(),this.exitScope(),this.labels=Rt,this.finishNode(xt,"StaticBlock")},er.parseClassId=function(xt,Rt){this.type===dt.name?(xt.id=this.parseIdent(),Rt&&this.checkLValSimple(xt.id,Pn,!1)):(Rt===!0&&this.unexpected(),xt.id=null)},er.parseClassSuper=function(xt){xt.superClass=this.eat(dt._extends)?this.parseExprSubscripts(null,!1):null},er.enterClassBody=function(){var xt={declared:Object.create(null),used:[]};return this.privateNameStack.push(xt),xt.declared},er.exitClassBody=function(){var xt=this.privateNameStack.pop(),Rt=xt.declared,Ft=xt.used;if(this.options.checkPrivateFields)for(var jt=this.privateNameStack.length,ir=jt===0?null:this.privateNameStack[jt-1],vr=0;vr<Ft.length;++vr){var wr=Ft[vr];It(Rt,wr.name)||(ir?ir.used.push(wr):this.raiseRecoverable(wr.start,"Private field '#"+wr.name+"' must be declared in an enclosing class"))}};function sn(xt,Rt){var Ft=Rt.key.name,jt=xt[Ft],ir="true";return Rt.type==="MethodDefinition"&&(Rt.kind==="get"||Rt.kind==="set")&&(ir=(Rt.static?"s":"i")+Rt.kind),jt==="iget"&&ir==="iset"||jt==="iset"&&ir==="iget"||jt==="sget"&&ir==="sset"||jt==="sset"&&ir==="sget"?(xt[Ft]="true",!1):jt?!0:(xt[Ft]=ir,!1)}function Or(xt,Rt){var Ft=xt.computed,jt=xt.key;return!Ft&&(jt.type==="Identifier"&&jt.name===Rt||jt.type==="Literal"&&jt.value===Rt)}er.parseExportAllDeclaration=function(xt,Rt){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(xt.exported=this.parseModuleExportName(),this.checkExport(Rt,xt.exported,this.lastTokStart)):xt.exported=null),this.expectContextual("from"),this.type!==dt.string&&this.unexpected(),xt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(xt,"ExportAllDeclaration")},er.parseExport=function(xt,Rt){if(this.next(),this.eat(dt.star))return this.parseExportAllDeclaration(xt,Rt);if(this.eat(dt._default))return this.checkExport(Rt,"default",this.lastTokStart),xt.declaration=this.parseExportDefaultDeclaration(),this.finishNode(xt,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())xt.declaration=this.parseExportDeclaration(xt),xt.declaration.type==="VariableDeclaration"?this.checkVariableExport(Rt,xt.declaration.declarations):this.checkExport(Rt,xt.declaration.id,xt.declaration.id.start),xt.specifiers=[],xt.source=null;else{if(xt.declaration=null,xt.specifiers=this.parseExportSpecifiers(Rt),this.eatContextual("from"))this.type!==dt.string&&this.unexpected(),xt.source=this.parseExprAtom();else{for(var Ft=0,jt=xt.specifiers;Ft<jt.length;Ft+=1){var ir=jt[Ft];this.checkUnreserved(ir.local),this.checkLocalExport(ir.local),ir.local.type==="Literal"&&this.raise(ir.local.start,"A string literal cannot be used as an exported binding without `from`.")}xt.source=null}this.semicolon()}return this.finishNode(xt,"ExportNamedDeclaration")},er.parseExportDeclaration=function(xt){return this.parseStatement(null)},er.parseExportDefaultDeclaration=function(){var xt;if(this.type===dt._function||(xt=this.isAsyncFunction())){var Rt=this.startNode();return this.next(),xt&&this.next(),this.parseFunction(Rt,Cr|Hr,!1,xt)}else if(this.type===dt._class){var Ft=this.startNode();return this.parseClass(Ft,"nullableID")}else{var jt=this.parseMaybeAssign();return this.semicolon(),jt}},er.checkExport=function(xt,Rt,Ft){xt&&(typeof Rt!="string"&&(Rt=Rt.type==="Identifier"?Rt.name:Rt.value),It(xt,Rt)&&this.raiseRecoverable(Ft,"Duplicate export '"+Rt+"'"),xt[Rt]=!0)},er.checkPatternExport=function(xt,Rt){var Ft=Rt.type;if(Ft==="Identifier")this.checkExport(xt,Rt,Rt.start);else if(Ft==="ObjectPattern")for(var jt=0,ir=Rt.properties;jt<ir.length;jt+=1){var vr=ir[jt];this.checkPatternExport(xt,vr)}else if(Ft==="ArrayPattern")for(var wr=0,Vr=Rt.elements;wr<Vr.length;wr+=1){var zr=Vr[wr];zr&&this.checkPatternExport(xt,zr)}else Ft==="Property"?this.checkPatternExport(xt,Rt.value):Ft==="AssignmentPattern"?this.checkPatternExport(xt,Rt.left):Ft==="RestElement"&&this.checkPatternExport(xt,Rt.argument)},er.checkVariableExport=function(xt,Rt){if(xt)for(var Ft=0,jt=Rt;Ft<jt.length;Ft+=1){var ir=jt[Ft];this.checkPatternExport(xt,ir.id)}},er.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},er.parseExportSpecifier=function(xt){var Rt=this.startNode();return Rt.local=this.parseModuleExportName(),Rt.exported=this.eatContextual("as")?this.parseModuleExportName():Rt.local,this.checkExport(xt,Rt.exported,Rt.exported.start),this.finishNode(Rt,"ExportSpecifier")},er.parseExportSpecifiers=function(xt){var Rt=[],Ft=!0;for(this.expect(dt.braceL);!this.eat(dt.braceR);){if(Ft)Ft=!1;else if(this.expect(dt.comma),this.afterTrailingComma(dt.braceR))break;Rt.push(this.parseExportSpecifier(xt))}return Rt},er.parseImport=function(xt){return this.next(),this.type===dt.string?(xt.specifiers=Nr,xt.source=this.parseExprAtom()):(xt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),xt.source=this.type===dt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(xt,"ImportDeclaration")},er.parseImportSpecifier=function(){var xt=this.startNode();return xt.imported=this.parseModuleExportName(),this.eatContextual("as")?xt.local=this.parseIdent():(this.checkUnreserved(xt.imported),xt.local=xt.imported),this.checkLValSimple(xt.local,Pn),this.finishNode(xt,"ImportSpecifier")},er.parseImportDefaultSpecifier=function(){var xt=this.startNode();return xt.local=this.parseIdent(),this.checkLValSimple(xt.local,Pn),this.finishNode(xt,"ImportDefaultSpecifier")},er.parseImportNamespaceSpecifier=function(){var xt=this.startNode();return this.next(),this.expectContextual("as"),xt.local=this.parseIdent(),this.checkLValSimple(xt.local,Pn),this.finishNode(xt,"ImportNamespaceSpecifier")},er.parseImportSpecifiers=function(){var xt=[],Rt=!0;if(this.type===dt.name&&(xt.push(this.parseImportDefaultSpecifier()),!this.eat(dt.comma)))return xt;if(this.type===dt.star)return xt.push(this.parseImportNamespaceSpecifier()),xt;for(this.expect(dt.braceL);!this.eat(dt.braceR);){if(Rt)Rt=!1;else if(this.expect(dt.comma),this.afterTrailingComma(dt.braceR))break;xt.push(this.parseImportSpecifier())}return xt},er.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===dt.string){var xt=this.parseLiteral(this.value);return qt.test(xt.value)&&this.raise(xt.start,"An export name cannot include a lone surrogate."),xt}return this.parseIdent(!0)},er.adaptDirectivePrologue=function(xt){for(var Rt=0;Rt<xt.length&&this.isDirectiveCandidate(xt[Rt]);++Rt)xt[Rt].directive=xt[Rt].expression.raw.slice(1,-1)},er.isDirectiveCandidate=function(xt){return this.options.ecmaVersion>=5&&xt.type==="ExpressionStatement"&&xt.expression.type==="Literal"&&typeof xt.expression.value=="string"&&(this.input[xt.start]==='"'||this.input[xt.start]==="'")};var qr=Er.prototype;qr.toAssignable=function(xt,Rt,Ft){if(this.options.ecmaVersion>=6&&xt)switch(xt.type){case"Identifier":this.inAsync&&xt.name==="await"&&this.raise(xt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":xt.type="ObjectPattern",Ft&&this.checkPatternErrors(Ft,!0);for(var jt=0,ir=xt.properties;jt<ir.length;jt+=1){var vr=ir[jt];this.toAssignable(vr,Rt),vr.type==="RestElement"&&(vr.argument.type==="ArrayPattern"||vr.argument.type==="ObjectPattern")&&this.raise(vr.argument.start,"Unexpected token")}break;case"Property":xt.kind!=="init"&&this.raise(xt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(xt.value,Rt);break;case"ArrayExpression":xt.type="ArrayPattern",Ft&&this.checkPatternErrors(Ft,!0),this.toAssignableList(xt.elements,Rt);break;case"SpreadElement":xt.type="RestElement",this.toAssignable(xt.argument,Rt),xt.argument.type==="AssignmentPattern"&&this.raise(xt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":xt.operator!=="="&&this.raise(xt.left.end,"Only '=' operator can be used for specifying default value."),xt.type="AssignmentPattern",delete xt.operator,this.toAssignable(xt.left,Rt);break;case"ParenthesizedExpression":this.toAssignable(xt.expression,Rt,Ft);break;case"ChainExpression":this.raiseRecoverable(xt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Rt)break;default:this.raise(xt.start,"Assigning to rvalue")}else Ft&&this.checkPatternErrors(Ft,!0);return xt},qr.toAssignableList=function(xt,Rt){for(var Ft=xt.length,jt=0;jt<Ft;jt++){var ir=xt[jt];ir&&this.toAssignable(ir,Rt)}if(Ft){var vr=xt[Ft-1];this.options.ecmaVersion===6&&Rt&&vr&&vr.type==="RestElement"&&vr.argument.type!=="Identifier"&&this.unexpected(vr.argument.start)}return xt},qr.parseSpread=function(xt){var Rt=this.startNode();return this.next(),Rt.argument=this.parseMaybeAssign(!1,xt),this.finishNode(Rt,"SpreadElement")},qr.parseRestBinding=function(){var xt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==dt.name&&this.unexpected(),xt.argument=this.parseBindingAtom(),this.finishNode(xt,"RestElement")},qr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case dt.bracketL:var xt=this.startNode();return this.next(),xt.elements=this.parseBindingList(dt.bracketR,!0,!0),this.finishNode(xt,"ArrayPattern");case dt.braceL:return this.parseObj(!0)}return this.parseIdent()},qr.parseBindingList=function(xt,Rt,Ft,jt){for(var ir=[],vr=!0;!this.eat(xt);)if(vr?vr=!1:this.expect(dt.comma),Rt&&this.type===dt.comma)ir.push(null);else{if(Ft&&this.afterTrailingComma(xt))break;if(this.type===dt.ellipsis){var wr=this.parseRestBinding();this.parseBindingListItem(wr),ir.push(wr),this.type===dt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(xt);break}else ir.push(this.parseAssignableListItem(jt))}return ir},qr.parseAssignableListItem=function(xt){var Rt=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Rt),Rt},qr.parseBindingListItem=function(xt){return xt},qr.parseMaybeDefault=function(xt,Rt,Ft){if(Ft=Ft||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(dt.eq))return Ft;var jt=this.startNodeAt(xt,Rt);return jt.left=Ft,jt.right=this.parseMaybeAssign(),this.finishNode(jt,"AssignmentPattern")},qr.checkLValSimple=function(xt,Rt,Ft){Rt===void 0&&(Rt=In);var jt=Rt!==In;switch(xt.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(xt.name)&&this.raiseRecoverable(xt.start,(jt?"Binding ":"Assigning to ")+xt.name+" in strict mode"),jt&&(Rt===Pn&&xt.name==="let"&&this.raiseRecoverable(xt.start,"let is disallowed as a lexically bound name"),Ft&&(It(Ft,xt.name)&&this.raiseRecoverable(xt.start,"Argument name clash"),Ft[xt.name]=!0),Rt!==Mn&&this.declareName(xt.name,Rt,xt.start));break;case"ChainExpression":this.raiseRecoverable(xt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":jt&&this.raiseRecoverable(xt.start,"Binding member expression");break;case"ParenthesizedExpression":return jt&&this.raiseRecoverable(xt.start,"Binding parenthesized expression"),this.checkLValSimple(xt.expression,Rt,Ft);default:this.raise(xt.start,(jt?"Binding":"Assigning to")+" rvalue")}},qr.checkLValPattern=function(xt,Rt,Ft){switch(Rt===void 0&&(Rt=In),xt.type){case"ObjectPattern":for(var jt=0,ir=xt.properties;jt<ir.length;jt+=1){var vr=ir[jt];this.checkLValInnerPattern(vr,Rt,Ft)}break;case"ArrayPattern":for(var wr=0,Vr=xt.elements;wr<Vr.length;wr+=1){var zr=Vr[wr];zr&&this.checkLValInnerPattern(zr,Rt,Ft)}break;default:this.checkLValSimple(xt,Rt,Ft)}},qr.checkLValInnerPattern=function(xt,Rt,Ft){switch(Rt===void 0&&(Rt=In),xt.type){case"Property":this.checkLValInnerPattern(xt.value,Rt,Ft);break;case"AssignmentPattern":this.checkLValPattern(xt.left,Rt,Ft);break;case"RestElement":this.checkLValPattern(xt.argument,Rt,Ft);break;default:this.checkLValPattern(xt,Rt,Ft)}};var Gr=function(Rt,Ft,jt,ir,vr){this.token=Rt,this.isExpr=!!Ft,this.preserveSpace=!!jt,this.override=ir,this.generator=!!vr},Ur={b_stat:new Gr("{",!1),b_expr:new Gr("{",!0),b_tmpl:new Gr("${",!1),p_stat:new Gr("(",!1),p_expr:new Gr("(",!0),q_tmpl:new Gr("`",!0,!0,function(xt){return xt.tryReadTemplateToken()}),f_stat:new Gr("function",!1),f_expr:new Gr("function",!0),f_expr_gen:new Gr("function",!0,!1,null,!0),f_gen:new Gr("function",!1,!1,null,!0)},vn=Er.prototype;vn.initialContext=function(){return[Ur.b_stat]},vn.curContext=function(){return this.context[this.context.length-1]},vn.braceIsBlock=function(xt){var Rt=this.curContext();return Rt===Ur.f_expr||Rt===Ur.f_stat?!0:xt===dt.colon&&(Rt===Ur.b_stat||Rt===Ur.b_expr)?!Rt.isExpr:xt===dt._return||xt===dt.name&&this.exprAllowed?St.test(this.input.slice(this.lastTokEnd,this.start)):xt===dt._else||xt===dt.semi||xt===dt.eof||xt===dt.parenR||xt===dt.arrow?!0:xt===dt.braceL?Rt===Ur.b_stat:xt===dt._var||xt===dt._const||xt===dt.name?!1:!this.exprAllowed},vn.inGeneratorContext=function(){for(var xt=this.context.length-1;xt>=1;xt--){var Rt=this.context[xt];if(Rt.token==="function")return Rt.generator}return!1},vn.updateContext=function(xt){var Rt,Ft=this.type;Ft.keyword&&xt===dt.dot?this.exprAllowed=!1:(Rt=Ft.updateContext)?Rt.call(this,xt):this.exprAllowed=Ft.beforeExpr},vn.overrideContext=function(xt){this.curContext()!==xt&&(this.context[this.context.length-1]=xt)},dt.parenR.updateContext=dt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var xt=this.context.pop();xt===Ur.b_stat&&this.curContext().token==="function"&&(xt=this.context.pop()),this.exprAllowed=!xt.isExpr},dt.braceL.updateContext=function(xt){this.context.push(this.braceIsBlock(xt)?Ur.b_stat:Ur.b_expr),this.exprAllowed=!0},dt.dollarBraceL.updateContext=function(){this.context.push(Ur.b_tmpl),this.exprAllowed=!0},dt.parenL.updateContext=function(xt){var Rt=xt===dt._if||xt===dt._for||xt===dt._with||xt===dt._while;this.context.push(Rt?Ur.p_stat:Ur.p_expr),this.exprAllowed=!0},dt.incDec.updateContext=function(){},dt._function.updateContext=dt._class.updateContext=function(xt){xt.beforeExpr&&xt!==dt._else&&!(xt===dt.semi&&this.curContext()!==Ur.p_stat)&&!(xt===dt._return&&St.test(this.input.slice(this.lastTokEnd,this.start)))&&!((xt===dt.colon||xt===dt.braceL)&&this.curContext()===Ur.b_stat)?this.context.push(Ur.f_expr):this.context.push(Ur.f_stat),this.exprAllowed=!1},dt.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},dt.backQuote.updateContext=function(){this.curContext()===Ur.q_tmpl?this.context.pop():this.context.push(Ur.q_tmpl),this.exprAllowed=!1},dt.star.updateContext=function(xt){if(xt===dt._function){var Rt=this.context.length-1;this.context[Rt]===Ur.f_expr?this.context[Rt]=Ur.f_expr_gen:this.context[Rt]=Ur.f_gen}this.exprAllowed=!0},dt.name.updateContext=function(xt){var Rt=!1;this.options.ecmaVersion>=6&&xt!==dt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Rt=!0),this.exprAllowed=Rt};var Ar=Er.prototype;Ar.checkPropClash=function(xt,Rt,Ft){if(!(this.options.ecmaVersion>=9&&xt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(xt.computed||xt.method||xt.shorthand))){var jt=xt.key,ir;switch(jt.type){case"Identifier":ir=jt.name;break;case"Literal":ir=String(jt.value);break;default:return}var vr=xt.kind;if(this.options.ecmaVersion>=6){ir==="__proto__"&&vr==="init"&&(Rt.proto&&(Ft?Ft.doubleProto<0&&(Ft.doubleProto=jt.start):this.raiseRecoverable(jt.start,"Redefinition of __proto__ property")),Rt.proto=!0);return}ir="$"+ir;var wr=Rt[ir];if(wr){var Vr;vr==="init"?Vr=this.strict&&wr.init||wr.get||wr.set:Vr=wr.init||wr[vr],Vr&&this.raiseRecoverable(jt.start,"Redefinition of property")}else wr=Rt[ir]={init:!1,get:!1,set:!1};wr[vr]=!0}},Ar.parseExpression=function(xt,Rt){var Ft=this.start,jt=this.startLoc,ir=this.parseMaybeAssign(xt,Rt);if(this.type===dt.comma){var vr=this.startNodeAt(Ft,jt);for(vr.expressions=[ir];this.eat(dt.comma);)vr.expressions.push(this.parseMaybeAssign(xt,Rt));return this.finishNode(vr,"SequenceExpression")}return ir},Ar.parseMaybeAssign=function(xt,Rt,Ft){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(xt);this.exprAllowed=!1}var jt=!1,ir=-1,vr=-1,wr=-1;Rt?(ir=Rt.parenthesizedAssign,vr=Rt.trailingComma,wr=Rt.doubleProto,Rt.parenthesizedAssign=Rt.trailingComma=-1):(Rt=new Xt,jt=!0);var Vr=this.start,zr=this.startLoc;(this.type===dt.parenL||this.type===dt.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=xt==="await");var yn=this.parseMaybeConditional(xt,Rt);if(Ft&&(yn=Ft.call(this,yn,Vr,zr)),this.type.isAssign){var ln=this.startNodeAt(Vr,zr);return ln.operator=this.value,this.type===dt.eq&&(yn=this.toAssignable(yn,!1,Rt)),jt||(Rt.parenthesizedAssign=Rt.trailingComma=Rt.doubleProto=-1),Rt.shorthandAssign>=yn.start&&(Rt.shorthandAssign=-1),this.type===dt.eq?this.checkLValPattern(yn):this.checkLValSimple(yn),ln.left=yn,this.next(),ln.right=this.parseMaybeAssign(xt),wr>-1&&(Rt.doubleProto=wr),this.finishNode(ln,"AssignmentExpression")}else jt&&this.checkExpressionErrors(Rt,!0);return ir>-1&&(Rt.parenthesizedAssign=ir),vr>-1&&(Rt.trailingComma=vr),yn},Ar.parseMaybeConditional=function(xt,Rt){var Ft=this.start,jt=this.startLoc,ir=this.parseExprOps(xt,Rt);if(this.checkExpressionErrors(Rt))return ir;if(this.eat(dt.question)){var vr=this.startNodeAt(Ft,jt);return vr.test=ir,vr.consequent=this.parseMaybeAssign(),this.expect(dt.colon),vr.alternate=this.parseMaybeAssign(xt),this.finishNode(vr,"ConditionalExpression")}return ir},Ar.parseExprOps=function(xt,Rt){var Ft=this.start,jt=this.startLoc,ir=this.parseMaybeUnary(Rt,!1,!1,xt);return this.checkExpressionErrors(Rt)||ir.start===Ft&&ir.type==="ArrowFunctionExpression"?ir:this.parseExprOp(ir,Ft,jt,-1,xt)},Ar.parseExprOp=function(xt,Rt,Ft,jt,ir){var vr=this.type.binop;if(vr!=null&&(!ir||this.type!==dt._in)&&vr>jt){var wr=this.type===dt.logicalOR||this.type===dt.logicalAND,Vr=this.type===dt.coalesce;Vr&&(vr=dt.logicalAND.binop);var zr=this.value;this.next();var yn=this.start,ln=this.startLoc,Fn=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,ir),yn,ln,vr,ir),As=this.buildBinary(Rt,Ft,xt,Fn,zr,wr||Vr);return(wr&&this.type===dt.coalesce||Vr&&(this.type===dt.logicalOR||this.type===dt.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(As,Rt,Ft,jt,ir)}return xt},Ar.buildBinary=function(xt,Rt,Ft,jt,ir,vr){jt.type==="PrivateIdentifier"&&this.raise(jt.start,"Private identifier can only be left side of binary expression");var wr=this.startNodeAt(xt,Rt);return wr.left=Ft,wr.operator=ir,wr.right=jt,this.finishNode(wr,vr?"LogicalExpression":"BinaryExpression")},Ar.parseMaybeUnary=function(xt,Rt,Ft,jt){var ir=this.start,vr=this.startLoc,wr;if(this.isContextual("await")&&this.canAwait)wr=this.parseAwait(jt),Rt=!0;else if(this.type.prefix){var Vr=this.startNode(),zr=this.type===dt.incDec;Vr.operator=this.value,Vr.prefix=!0,this.next(),Vr.argument=this.parseMaybeUnary(null,!0,zr,jt),this.checkExpressionErrors(xt,!0),zr?this.checkLValSimple(Vr.argument):this.strict&&Vr.operator==="delete"&&Vr.argument.type==="Identifier"?this.raiseRecoverable(Vr.start,"Deleting local variable in strict mode"):Vr.operator==="delete"&&dn(Vr.argument)?this.raiseRecoverable(Vr.start,"Private fields can not be deleted"):Rt=!0,wr=this.finishNode(Vr,zr?"UpdateExpression":"UnaryExpression")}else if(!Rt&&this.type===dt.privateId)(jt||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),wr=this.parsePrivateIdent(),this.type!==dt._in&&this.unexpected();else{if(wr=this.parseExprSubscripts(xt,jt),this.checkExpressionErrors(xt))return wr;for(;this.type.postfix&&!this.canInsertSemicolon();){var yn=this.startNodeAt(ir,vr);yn.operator=this.value,yn.prefix=!1,yn.argument=wr,this.checkLValSimple(wr),this.next(),wr=this.finishNode(yn,"UpdateExpression")}}if(!Ft&&this.eat(dt.starstar))if(Rt)this.unexpected(this.lastTokStart);else return this.buildBinary(ir,vr,wr,this.parseMaybeUnary(null,!1,!1,jt),"**",!1);else return wr};function dn(xt){return xt.type==="MemberExpression"&&xt.property.type==="PrivateIdentifier"||xt.type==="ChainExpression"&&dn(xt.expression)}Ar.parseExprSubscripts=function(xt,Rt){var Ft=this.start,jt=this.startLoc,ir=this.parseExprAtom(xt,Rt);if(ir.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return ir;var vr=this.parseSubscripts(ir,Ft,jt,!1,Rt);return xt&&vr.type==="MemberExpression"&&(xt.parenthesizedAssign>=vr.start&&(xt.parenthesizedAssign=-1),xt.parenthesizedBind>=vr.start&&(xt.parenthesizedBind=-1),xt.trailingComma>=vr.start&&(xt.trailingComma=-1)),vr},Ar.parseSubscripts=function(xt,Rt,Ft,jt,ir){for(var vr=this.options.ecmaVersion>=8&&xt.type==="Identifier"&&xt.name==="async"&&this.lastTokEnd===xt.end&&!this.canInsertSemicolon()&&xt.end-xt.start===5&&this.potentialArrowAt===xt.start,wr=!1;;){var Vr=this.parseSubscript(xt,Rt,Ft,jt,vr,wr,ir);if(Vr.optional&&(wr=!0),Vr===xt||Vr.type==="ArrowFunctionExpression"){if(wr){var zr=this.startNodeAt(Rt,Ft);zr.expression=Vr,Vr=this.finishNode(zr,"ChainExpression")}return Vr}xt=Vr}},Ar.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(dt.arrow)},Ar.parseSubscriptAsyncArrow=function(xt,Rt,Ft,jt){return this.parseArrowExpression(this.startNodeAt(xt,Rt),Ft,!0,jt)},Ar.parseSubscript=function(xt,Rt,Ft,jt,ir,vr,wr){var Vr=this.options.ecmaVersion>=11,zr=Vr&&this.eat(dt.questionDot);jt&&zr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var yn=this.eat(dt.bracketL);if(yn||zr&&this.type!==dt.parenL&&this.type!==dt.backQuote||this.eat(dt.dot)){var ln=this.startNodeAt(Rt,Ft);ln.object=xt,yn?(ln.property=this.parseExpression(),this.expect(dt.bracketR)):this.type===dt.privateId&&xt.type!=="Super"?ln.property=this.parsePrivateIdent():ln.property=this.parseIdent(this.options.allowReserved!=="never"),ln.computed=!!yn,Vr&&(ln.optional=zr),xt=this.finishNode(ln,"MemberExpression")}else if(!jt&&this.eat(dt.parenL)){var Fn=new Xt,As=this.yieldPos,gs=this.awaitPos,Fs=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var io=this.parseExprList(dt.parenR,this.options.ecmaVersion>=8,!1,Fn);if(ir&&!zr&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Fn,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=As,this.awaitPos=gs,this.awaitIdentPos=Fs,this.parseSubscriptAsyncArrow(Rt,Ft,io,wr);this.checkExpressionErrors(Fn,!0),this.yieldPos=As||this.yieldPos,this.awaitPos=gs||this.awaitPos,this.awaitIdentPos=Fs||this.awaitIdentPos;var $n=this.startNodeAt(Rt,Ft);$n.callee=xt,$n.arguments=io,Vr&&($n.optional=zr),xt=this.finishNode($n,"CallExpression")}else if(this.type===dt.backQuote){(zr||vr)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var kn=this.startNodeAt(Rt,Ft);kn.tag=xt,kn.quasi=this.parseTemplate({isTagged:!0}),xt=this.finishNode(kn,"TaggedTemplateExpression")}return xt},Ar.parseExprAtom=function(xt,Rt,Ft){this.type===dt.slash&&this.readRegexp();var jt,ir=this.potentialArrowAt===this.start;switch(this.type){case dt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),jt=this.startNode(),this.next(),this.type===dt.parenL&&!this.allowDirectSuper&&this.raise(jt.start,"super() call outside constructor of a subclass"),this.type!==dt.dot&&this.type!==dt.bracketL&&this.type!==dt.parenL&&this.unexpected(),this.finishNode(jt,"Super");case dt._this:return jt=this.startNode(),this.next(),this.finishNode(jt,"ThisExpression");case dt.name:var vr=this.start,wr=this.startLoc,Vr=this.containsEsc,zr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Vr&&zr.name==="async"&&!this.canInsertSemicolon()&&this.eat(dt._function))return this.overrideContext(Ur.f_expr),this.parseFunction(this.startNodeAt(vr,wr),0,!1,!0,Rt);if(ir&&!this.canInsertSemicolon()){if(this.eat(dt.arrow))return this.parseArrowExpression(this.startNodeAt(vr,wr),[zr],!1,Rt);if(this.options.ecmaVersion>=8&&zr.name==="async"&&this.type===dt.name&&!Vr&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return zr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(dt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(vr,wr),[zr],!0,Rt)}return zr;case dt.regexp:var yn=this.value;return jt=this.parseLiteral(yn.value),jt.regex={pattern:yn.pattern,flags:yn.flags},jt;case dt.num:case dt.string:return this.parseLiteral(this.value);case dt._null:case dt._true:case dt._false:return jt=this.startNode(),jt.value=this.type===dt._null?null:this.type===dt._true,jt.raw=this.type.keyword,this.next(),this.finishNode(jt,"Literal");case dt.parenL:var ln=this.start,Fn=this.parseParenAndDistinguishExpression(ir,Rt);return xt&&(xt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Fn)&&(xt.parenthesizedAssign=ln),xt.parenthesizedBind<0&&(xt.parenthesizedBind=ln)),Fn;case dt.bracketL:return jt=this.startNode(),this.next(),jt.elements=this.parseExprList(dt.bracketR,!0,!0,xt),this.finishNode(jt,"ArrayExpression");case dt.braceL:return this.overrideContext(Ur.b_expr),this.parseObj(!1,xt);case dt._function:return jt=this.startNode(),this.next(),this.parseFunction(jt,0);case dt._class:return this.parseClass(this.startNode(),!1);case dt._new:return this.parseNew();case dt.backQuote:return this.parseTemplate();case dt._import:return this.options.ecmaVersion>=11?this.parseExprImport(Ft):this.unexpected();default:return this.parseExprAtomDefault()}},Ar.parseExprAtomDefault=function(){this.unexpected()},Ar.parseExprImport=function(xt){var Rt=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===dt.parenL&&!xt)return this.parseDynamicImport(Rt);if(this.type===dt.dot){var Ft=this.startNodeAt(Rt.start,Rt.loc&&Rt.loc.start);return Ft.name="import",Rt.meta=this.finishNode(Ft,"Identifier"),this.parseImportMeta(Rt)}else this.unexpected()},Ar.parseDynamicImport=function(xt){if(this.next(),xt.source=this.parseMaybeAssign(),!this.eat(dt.parenR)){var Rt=this.start;this.eat(dt.comma)&&this.eat(dt.parenR)?this.raiseRecoverable(Rt,"Trailing comma is not allowed in import()"):this.unexpected(Rt)}return this.finishNode(xt,"ImportExpression")},Ar.parseImportMeta=function(xt){this.next();var Rt=this.containsEsc;return xt.property=this.parseIdent(!0),xt.property.name!=="meta"&&this.raiseRecoverable(xt.property.start,"The only valid meta property for import is 'import.meta'"),Rt&&this.raiseRecoverable(xt.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(xt.start,"Cannot use 'import.meta' outside a module"),this.finishNode(xt,"MetaProperty")},Ar.parseLiteral=function(xt){var Rt=this.startNode();return Rt.value=xt,Rt.raw=this.input.slice(this.start,this.end),Rt.raw.charCodeAt(Rt.raw.length-1)===110&&(Rt.bigint=Rt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(Rt,"Literal")},Ar.parseParenExpression=function(){this.expect(dt.parenL);var xt=this.parseExpression();return this.expect(dt.parenR),xt},Ar.shouldParseArrow=function(xt){return!this.canInsertSemicolon()},Ar.parseParenAndDistinguishExpression=function(xt,Rt){var Ft=this.start,jt=this.startLoc,ir,vr=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var wr=this.start,Vr=this.startLoc,zr=[],yn=!0,ln=!1,Fn=new Xt,As=this.yieldPos,gs=this.awaitPos,Fs;for(this.yieldPos=0,this.awaitPos=0;this.type!==dt.parenR;)if(yn?yn=!1:this.expect(dt.comma),vr&&this.afterTrailingComma(dt.parenR,!0)){ln=!0;break}else if(this.type===dt.ellipsis){Fs=this.start,zr.push(this.parseParenItem(this.parseRestBinding())),this.type===dt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else zr.push(this.parseMaybeAssign(!1,Fn,this.parseParenItem));var io=this.lastTokEnd,$n=this.lastTokEndLoc;if(this.expect(dt.parenR),xt&&this.shouldParseArrow(zr)&&this.eat(dt.arrow))return this.checkPatternErrors(Fn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=As,this.awaitPos=gs,this.parseParenArrowList(Ft,jt,zr,Rt);(!zr.length||ln)&&this.unexpected(this.lastTokStart),Fs&&this.unexpected(Fs),this.checkExpressionErrors(Fn,!0),this.yieldPos=As||this.yieldPos,this.awaitPos=gs||this.awaitPos,zr.length>1?(ir=this.startNodeAt(wr,Vr),ir.expressions=zr,this.finishNodeAt(ir,"SequenceExpression",io,$n)):ir=zr[0]}else ir=this.parseParenExpression();if(this.options.preserveParens){var kn=this.startNodeAt(Ft,jt);return kn.expression=ir,this.finishNode(kn,"ParenthesizedExpression")}else return ir},Ar.parseParenItem=function(xt){return xt},Ar.parseParenArrowList=function(xt,Rt,Ft,jt){return this.parseArrowExpression(this.startNodeAt(xt,Rt),Ft,!1,jt)};var ks=[];Ar.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var xt=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===dt.dot){var Rt=this.startNodeAt(xt.start,xt.loc&&xt.loc.start);Rt.name="new",xt.meta=this.finishNode(Rt,"Identifier"),this.next();var Ft=this.containsEsc;return xt.property=this.parseIdent(!0),xt.property.name!=="target"&&this.raiseRecoverable(xt.property.start,"The only valid meta property for new is 'new.target'"),Ft&&this.raiseRecoverable(xt.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(xt.start,"'new.target' can only be used in functions and class static block"),this.finishNode(xt,"MetaProperty")}var jt=this.start,ir=this.startLoc;return xt.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),jt,ir,!0,!1),this.eat(dt.parenL)?xt.arguments=this.parseExprList(dt.parenR,this.options.ecmaVersion>=8,!1):xt.arguments=ks,this.finishNode(xt,"NewExpression")},Ar.parseTemplateElement=function(xt){var Rt=xt.isTagged,Ft=this.startNode();return this.type===dt.invalidTemplate?(Rt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Ft.value={raw:this.value,cooked:null}):Ft.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Ft.tail=this.type===dt.backQuote,this.finishNode(Ft,"TemplateElement")},Ar.parseTemplate=function(xt){xt===void 0&&(xt={});var Rt=xt.isTagged;Rt===void 0&&(Rt=!1);var Ft=this.startNode();this.next(),Ft.expressions=[];var jt=this.parseTemplateElement({isTagged:Rt});for(Ft.quasis=[jt];!jt.tail;)this.type===dt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(dt.dollarBraceL),Ft.expressions.push(this.parseExpression()),this.expect(dt.braceR),Ft.quasis.push(jt=this.parseTemplateElement({isTagged:Rt}));return this.next(),this.finishNode(Ft,"TemplateLiteral")},Ar.isAsyncProp=function(xt){return!xt.computed&&xt.key.type==="Identifier"&&xt.key.name==="async"&&(this.type===dt.name||this.type===dt.num||this.type===dt.string||this.type===dt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===dt.star)&&!St.test(this.input.slice(this.lastTokEnd,this.start))},Ar.parseObj=function(xt,Rt){var Ft=this.startNode(),jt=!0,ir={};for(Ft.properties=[],this.next();!this.eat(dt.braceR);){if(jt)jt=!1;else if(this.expect(dt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(dt.braceR))break;var vr=this.parseProperty(xt,Rt);xt||this.checkPropClash(vr,ir,Rt),Ft.properties.push(vr)}return this.finishNode(Ft,xt?"ObjectPattern":"ObjectExpression")},Ar.parseProperty=function(xt,Rt){var Ft=this.startNode(),jt,ir,vr,wr;if(this.options.ecmaVersion>=9&&this.eat(dt.ellipsis))return xt?(Ft.argument=this.parseIdent(!1),this.type===dt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(Ft,"RestElement")):(Ft.argument=this.parseMaybeAssign(!1,Rt),this.type===dt.comma&&Rt&&Rt.trailingComma<0&&(Rt.trailingComma=this.start),this.finishNode(Ft,"SpreadElement"));this.options.ecmaVersion>=6&&(Ft.method=!1,Ft.shorthand=!1,(xt||Rt)&&(vr=this.start,wr=this.startLoc),xt||(jt=this.eat(dt.star)));var Vr=this.containsEsc;return this.parsePropertyName(Ft),!xt&&!Vr&&this.options.ecmaVersion>=8&&!jt&&this.isAsyncProp(Ft)?(ir=!0,jt=this.options.ecmaVersion>=9&&this.eat(dt.star),this.parsePropertyName(Ft)):ir=!1,this.parsePropertyValue(Ft,xt,jt,ir,vr,wr,Rt,Vr),this.finishNode(Ft,"Property")},Ar.parseGetterSetter=function(xt){xt.kind=xt.key.name,this.parsePropertyName(xt),xt.value=this.parseMethod(!1);var Rt=xt.kind==="get"?0:1;if(xt.value.params.length!==Rt){var Ft=xt.value.start;xt.kind==="get"?this.raiseRecoverable(Ft,"getter should have no params"):this.raiseRecoverable(Ft,"setter should have exactly one param")}else xt.kind==="set"&&xt.value.params[0].type==="RestElement"&&this.raiseRecoverable(xt.value.params[0].start,"Setter cannot use rest params")},Ar.parsePropertyValue=function(xt,Rt,Ft,jt,ir,vr,wr,Vr){(Ft||jt)&&this.type===dt.colon&&this.unexpected(),this.eat(dt.colon)?(xt.value=Rt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,wr),xt.kind="init"):this.options.ecmaVersion>=6&&this.type===dt.parenL?(Rt&&this.unexpected(),xt.kind="init",xt.method=!0,xt.value=this.parseMethod(Ft,jt)):!Rt&&!Vr&&this.options.ecmaVersion>=5&&!xt.computed&&xt.key.type==="Identifier"&&(xt.key.name==="get"||xt.key.name==="set")&&this.type!==dt.comma&&this.type!==dt.braceR&&this.type!==dt.eq?((Ft||jt)&&this.unexpected(),this.parseGetterSetter(xt)):this.options.ecmaVersion>=6&&!xt.computed&&xt.key.type==="Identifier"?((Ft||jt)&&this.unexpected(),this.checkUnreserved(xt.key),xt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ir),xt.kind="init",Rt?xt.value=this.parseMaybeDefault(ir,vr,this.copyNode(xt.key)):this.type===dt.eq&&wr?(wr.shorthandAssign<0&&(wr.shorthandAssign=this.start),xt.value=this.parseMaybeDefault(ir,vr,this.copyNode(xt.key))):xt.value=this.copyNode(xt.key),xt.shorthand=!0):this.unexpected()},Ar.parsePropertyName=function(xt){if(this.options.ecmaVersion>=6){if(this.eat(dt.bracketL))return xt.computed=!0,xt.key=this.parseMaybeAssign(),this.expect(dt.bracketR),xt.key;xt.computed=!1}return xt.key=this.type===dt.num||this.type===dt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Ar.initFunction=function(xt){xt.id=null,this.options.ecmaVersion>=6&&(xt.generator=xt.expression=!1),this.options.ecmaVersion>=8&&(xt.async=!1)},Ar.parseMethod=function(xt,Rt,Ft){var jt=this.startNode(),ir=this.yieldPos,vr=this.awaitPos,wr=this.awaitIdentPos;return this.initFunction(jt),this.options.ecmaVersion>=6&&(jt.generator=xt),this.options.ecmaVersion>=8&&(jt.async=!!Rt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(an(Rt,jt.generator)|_r|(Ft?fr:0)),this.expect(dt.parenL),jt.params=this.parseBindingList(dt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(jt,!1,!0,!1),this.yieldPos=ir,this.awaitPos=vr,this.awaitIdentPos=wr,this.finishNode(jt,"FunctionExpression")},Ar.parseArrowExpression=function(xt,Rt,Ft,jt){var ir=this.yieldPos,vr=this.awaitPos,wr=this.awaitIdentPos;return this.enterScope(an(Ft,!1)|Yt),this.initFunction(xt),this.options.ecmaVersion>=8&&(xt.async=!!Ft),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,xt.params=this.toAssignableList(Rt,!0),this.parseFunctionBody(xt,!0,!1,jt),this.yieldPos=ir,this.awaitPos=vr,this.awaitIdentPos=wr,this.finishNode(xt,"ArrowFunctionExpression")},Ar.parseFunctionBody=function(xt,Rt,Ft,jt){var ir=Rt&&this.type!==dt.braceL,vr=this.strict,wr=!1;if(ir)xt.body=this.parseMaybeAssign(jt),xt.expression=!0,this.checkParams(xt,!1);else{var Vr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(xt.params);(!vr||Vr)&&(wr=this.strictDirective(this.end),wr&&Vr&&this.raiseRecoverable(xt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var zr=this.labels;this.labels=[],wr&&(this.strict=!0),this.checkParams(xt,!vr&&!wr&&!Rt&&!Ft&&this.isSimpleParamList(xt.params)),this.strict&&xt.id&&this.checkLValSimple(xt.id,Mn),xt.body=this.parseBlock(!1,void 0,wr&&!vr),xt.expression=!1,this.adaptDirectivePrologue(xt.body.body),this.labels=zr}this.exitScope()},Ar.isSimpleParamList=function(xt){for(var Rt=0,Ft=xt;Rt<Ft.length;Rt+=1){var jt=Ft[Rt];if(jt.type!=="Identifier")return!1}return!0},Ar.checkParams=function(xt,Rt){for(var Ft=Object.create(null),jt=0,ir=xt.params;jt<ir.length;jt+=1){var vr=ir[jt];this.checkLValInnerPattern(vr,Bn,Rt?null:Ft)}},Ar.parseExprList=function(xt,Rt,Ft,jt){for(var ir=[],vr=!0;!this.eat(xt);){if(vr)vr=!1;else if(this.expect(dt.comma),Rt&&this.afterTrailingComma(xt))break;var wr=void 0;Ft&&this.type===dt.comma?wr=null:this.type===dt.ellipsis?(wr=this.parseSpread(jt),jt&&this.type===dt.comma&&jt.trailingComma<0&&(jt.trailingComma=this.start)):wr=this.parseMaybeAssign(!1,jt),ir.push(wr)}return ir},Ar.checkUnreserved=function(xt){var Rt=xt.start,Ft=xt.end,jt=xt.name;if(this.inGenerator&&jt==="yield"&&this.raiseRecoverable(Rt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&jt==="await"&&this.raiseRecoverable(Rt,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&jt==="arguments"&&this.raiseRecoverable(Rt,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(jt==="arguments"||jt==="await")&&this.raise(Rt,"Cannot use "+jt+" in class static initialization block"),this.keywords.test(jt)&&this.raise(Rt,"Unexpected keyword '"+jt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Rt,Ft).indexOf("\\")!==-1)){var ir=this.strict?this.reservedWordsStrict:this.reservedWords;ir.test(jt)&&(!this.inAsync&&jt==="await"&&this.raiseRecoverable(Rt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Rt,"The keyword '"+jt+"' is reserved"))}},Ar.parseIdent=function(xt){var Rt=this.parseIdentNode();return this.next(!!xt),this.finishNode(Rt,"Identifier"),xt||(this.checkUnreserved(Rt),Rt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Rt.start)),Rt},Ar.parseIdentNode=function(){var xt=this.startNode();return this.type===dt.name?xt.name=this.value:this.type.keyword?(xt.name=this.type.keyword,(xt.name==="class"||xt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=dt.name):this.unexpected(),xt},Ar.parsePrivateIdent=function(){var xt=this.startNode();return this.type===dt.privateId?xt.name=this.value:this.unexpected(),this.next(),this.finishNode(xt,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(xt.start,"Private field '#"+xt.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(xt)),xt},Ar.parseYield=function(xt){this.yieldPos||(this.yieldPos=this.start);var Rt=this.startNode();return this.next(),this.type===dt.semi||this.canInsertSemicolon()||this.type!==dt.star&&!this.type.startsExpr?(Rt.delegate=!1,Rt.argument=null):(Rt.delegate=this.eat(dt.star),Rt.argument=this.parseMaybeAssign(xt)),this.finishNode(Rt,"YieldExpression")},Ar.parseAwait=function(xt){this.awaitPos||(this.awaitPos=this.start);var Rt=this.startNode();return this.next(),Rt.argument=this.parseMaybeUnary(null,!0,!1,xt),this.finishNode(Rt,"AwaitExpression")};var ds=Er.prototype;ds.raise=function(xt,Rt){var Ft=Ht(this.input,xt);Rt+=" ("+Ft.line+":"+Ft.column+")";var jt=new SyntaxError(Rt);throw jt.pos=xt,jt.loc=Ft,jt.raisedAt=this.pos,jt},ds.raiseRecoverable=ds.raise,ds.curPosition=function(){if(this.options.locations)return new Wt(this.curLine,this.pos-this.lineStart)};var qn=Er.prototype,So=function(Rt){this.flags=Rt,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};qn.enterScope=function(xt){this.scopeStack.push(new So(xt))},qn.exitScope=function(){this.scopeStack.pop()},qn.treatFunctionsAsVarInScope=function(xt){return xt.flags&gr||!this.inModule&&xt.flags&dr},qn.declareName=function(xt,Rt,Ft){var jt=!1;if(Rt===Pn){var ir=this.currentScope();jt=ir.lexical.indexOf(xt)>-1||ir.functions.indexOf(xt)>-1||ir.var.indexOf(xt)>-1,ir.lexical.push(xt),this.inModule&&ir.flags&dr&&delete this.undefinedExports[xt]}else if(Rt===Gn){var vr=this.currentScope();vr.lexical.push(xt)}else if(Rt===cn){var wr=this.currentScope();this.treatFunctionsAsVar?jt=wr.lexical.indexOf(xt)>-1:jt=wr.lexical.indexOf(xt)>-1||wr.var.indexOf(xt)>-1,wr.functions.push(xt)}else for(var Vr=this.scopeStack.length-1;Vr>=0;--Vr){var zr=this.scopeStack[Vr];if(zr.lexical.indexOf(xt)>-1&&!(zr.flags&br&&zr.lexical[0]===xt)||!this.treatFunctionsAsVarInScope(zr)&&zr.functions.indexOf(xt)>-1){jt=!0;break}if(zr.var.push(xt),this.inModule&&zr.flags&dr&&delete this.undefinedExports[xt],zr.flags&nn)break}jt&&this.raiseRecoverable(Ft,"Identifier '"+xt+"' has already been declared")},qn.checkLocalExport=function(xt){this.scopeStack[0].lexical.indexOf(xt.name)===-1&&this.scopeStack[0].var.indexOf(xt.name)===-1&&(this.undefinedExports[xt.name]=xt)},qn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},qn.currentVarScope=function(){for(var xt=this.scopeStack.length-1;;xt--){var Rt=this.scopeStack[xt];if(Rt.flags&nn)return Rt}},qn.currentThisScope=function(){for(var xt=this.scopeStack.length-1;;xt--){var Rt=this.scopeStack[xt];if(Rt.flags&nn&&!(Rt.flags&Yt))return Rt}};var Qn=function(Rt,Ft,jt){this.type="",this.start=Ft,this.end=0,Rt.options.locations&&(this.loc=new Vt(Rt,jt)),Rt.options.directSourceFile&&(this.sourceFile=Rt.options.directSourceFile),Rt.options.ranges&&(this.range=[Ft,0])},ps=Er.prototype;ps.startNode=function(){return new Qn(this,this.start,this.startLoc)},ps.startNodeAt=function(xt,Rt){return new Qn(this,xt,Rt)};function Js(xt,Rt,Ft,jt){return xt.type=Rt,xt.end=Ft,this.options.locations&&(xt.loc.end=jt),this.options.ranges&&(xt.range[1]=Ft),xt}ps.finishNode=function(xt,Rt){return Js.call(this,xt,Rt,this.lastTokEnd,this.lastTokEndLoc)},ps.finishNodeAt=function(xt,Rt,Ft,jt){return Js.call(this,xt,Rt,Ft,jt)},ps.copyNode=function(xt){var Rt=new Qn(this,xt.start,this.startLoc);for(var Ft in xt)Rt[Ft]=xt[Ft];return Rt};var Ps="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",eo=Ps+" Extended_Pictographic",Us=eo,Xn=Us+" EBase EComp EMod EPres ExtPict",Ws=Xn,Zr=Ws,us={9:Ps,10:eo,11:Us,12:Xn,13:Ws,14:Zr},Hs="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",uo={9:"",10:"",11:"",12:"",13:"",14:Hs},Wn="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",co="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",to=co+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ho=to+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",fo=ho+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ro=fo+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",xs=ro+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",cs={9:co,10:to,11:ho,12:fo,13:ro,14:xs},no={};function ms(xt){var Rt=no[xt]={binary:Dt(us[xt]+" "+Wn),binaryOfStrings:Dt(uo[xt]),nonBinary:{General_Category:Dt(Wn),Script:Dt(cs[xt])}};Rt.nonBinary.Script_Extensions=Rt.nonBinary.Script,Rt.nonBinary.gc=Rt.nonBinary.General_Category,Rt.nonBinary.sc=Rt.nonBinary.Script,Rt.nonBinary.scx=Rt.nonBinary.Script_Extensions}for(var Cs=0,Ds=[9,10,11,12,13,14];Cs<Ds.length;Cs+=1){var pn=Ds[Cs];ms(pn)}var Kr=Er.prototype,_i=function(Rt){this.parser=Rt,this.validFlags="gim"+(Rt.options.ecmaVersion>=6?"uy":"")+(Rt.options.ecmaVersion>=9?"s":"")+(Rt.options.ecmaVersion>=13?"d":"")+(Rt.options.ecmaVersion>=15?"v":""),this.unicodeProperties=no[Rt.options.ecmaVersion>=14?14:Rt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};_i.prototype.reset=function(Rt,Ft,jt){var ir=jt.indexOf("v")!==-1,vr=jt.indexOf("u")!==-1;this.start=Rt|0,this.source=Ft+"",this.flags=jt,ir&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=vr&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=vr&&this.parser.options.ecmaVersion>=9)},_i.prototype.raise=function(Rt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Rt)},_i.prototype.at=function(Rt,Ft){Ft===void 0&&(Ft=!1);var jt=this.source,ir=jt.length;if(Rt>=ir)return-1;var vr=jt.charCodeAt(Rt);if(!(Ft||this.switchU)||vr<=55295||vr>=57344||Rt+1>=ir)return vr;var wr=jt.charCodeAt(Rt+1);return wr>=56320&&wr<=57343?(vr<<10)+wr-56613888:vr},_i.prototype.nextIndex=function(Rt,Ft){Ft===void 0&&(Ft=!1);var jt=this.source,ir=jt.length;if(Rt>=ir)return ir;var vr=jt.charCodeAt(Rt),wr;return!(Ft||this.switchU)||vr<=55295||vr>=57344||Rt+1>=ir||(wr=jt.charCodeAt(Rt+1))<56320||wr>57343?Rt+1:Rt+2},_i.prototype.current=function(Rt){return Rt===void 0&&(Rt=!1),this.at(this.pos,Rt)},_i.prototype.lookahead=function(Rt){return Rt===void 0&&(Rt=!1),this.at(this.nextIndex(this.pos,Rt),Rt)},_i.prototype.advance=function(Rt){Rt===void 0&&(Rt=!1),this.pos=this.nextIndex(this.pos,Rt)},_i.prototype.eat=function(Rt,Ft){return Ft===void 0&&(Ft=!1),this.current(Ft)===Rt?(this.advance(Ft),!0):!1},_i.prototype.eatChars=function(Rt,Ft){Ft===void 0&&(Ft=!1);for(var jt=this.pos,ir=0,vr=Rt;ir<vr.length;ir+=1){var wr=vr[ir],Vr=this.at(jt,Ft);if(Vr===-1||Vr!==wr)return!1;jt=this.nextIndex(jt,Ft)}return this.pos=jt,!0},Kr.validateRegExpFlags=function(xt){for(var Rt=xt.validFlags,Ft=xt.flags,jt=!1,ir=!1,vr=0;vr<Ft.length;vr++){var wr=Ft.charAt(vr);Rt.indexOf(wr)===-1&&this.raise(xt.start,"Invalid regular expression flag"),Ft.indexOf(wr,vr+1)>-1&&this.raise(xt.start,"Duplicate regular expression flag"),wr==="u"&&(jt=!0),wr==="v"&&(ir=!0)}this.options.ecmaVersion>=15&&jt&&ir&&this.raise(xt.start,"Invalid regular expression flag")},Kr.validateRegExpPattern=function(xt){this.regexp_pattern(xt),!xt.switchN&&this.options.ecmaVersion>=9&&xt.groupNames.length>0&&(xt.switchN=!0,this.regexp_pattern(xt))},Kr.regexp_pattern=function(xt){xt.pos=0,xt.lastIntValue=0,xt.lastStringValue="",xt.lastAssertionIsQuantifiable=!1,xt.numCapturingParens=0,xt.maxBackReference=0,xt.groupNames.length=0,xt.backReferenceNames.length=0,this.regexp_disjunction(xt),xt.pos!==xt.source.length&&(xt.eat(41)&&xt.raise("Unmatched ')'"),(xt.eat(93)||xt.eat(125))&&xt.raise("Lone quantifier brackets")),xt.maxBackReference>xt.numCapturingParens&&xt.raise("Invalid escape");for(var Rt=0,Ft=xt.backReferenceNames;Rt<Ft.length;Rt+=1){var jt=Ft[Rt];xt.groupNames.indexOf(jt)===-1&&xt.raise("Invalid named capture referenced")}},Kr.regexp_disjunction=function(xt){for(this.regexp_alternative(xt);xt.eat(124);)this.regexp_alternative(xt);this.regexp_eatQuantifier(xt,!0)&&xt.raise("Nothing to repeat"),xt.eat(123)&&xt.raise("Lone quantifier brackets")},Kr.regexp_alternative=function(xt){for(;xt.pos<xt.source.length&&this.regexp_eatTerm(xt););},Kr.regexp_eatTerm=function(xt){return this.regexp_eatAssertion(xt)?(xt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(xt)&&xt.switchU&&xt.raise("Invalid quantifier"),!0):(xt.switchU?this.regexp_eatAtom(xt):this.regexp_eatExtendedAtom(xt))?(this.regexp_eatQuantifier(xt),!0):!1},Kr.regexp_eatAssertion=function(xt){var Rt=xt.pos;if(xt.lastAssertionIsQuantifiable=!1,xt.eat(94)||xt.eat(36))return!0;if(xt.eat(92)){if(xt.eat(66)||xt.eat(98))return!0;xt.pos=Rt}if(xt.eat(40)&&xt.eat(63)){var Ft=!1;if(this.options.ecmaVersion>=9&&(Ft=xt.eat(60)),xt.eat(61)||xt.eat(33))return this.regexp_disjunction(xt),xt.eat(41)||xt.raise("Unterminated group"),xt.lastAssertionIsQuantifiable=!Ft,!0}return xt.pos=Rt,!1},Kr.regexp_eatQuantifier=function(xt,Rt){return Rt===void 0&&(Rt=!1),this.regexp_eatQuantifierPrefix(xt,Rt)?(xt.eat(63),!0):!1},Kr.regexp_eatQuantifierPrefix=function(xt,Rt){return xt.eat(42)||xt.eat(43)||xt.eat(63)||this.regexp_eatBracedQuantifier(xt,Rt)},Kr.regexp_eatBracedQuantifier=function(xt,Rt){var Ft=xt.pos;if(xt.eat(123)){var jt=0,ir=-1;if(this.regexp_eatDecimalDigits(xt)&&(jt=xt.lastIntValue,xt.eat(44)&&this.regexp_eatDecimalDigits(xt)&&(ir=xt.lastIntValue),xt.eat(125)))return ir!==-1&&ir<jt&&!Rt&&xt.raise("numbers out of order in {} quantifier"),!0;xt.switchU&&!Rt&&xt.raise("Incomplete quantifier"),xt.pos=Ft}return!1},Kr.regexp_eatAtom=function(xt){return this.regexp_eatPatternCharacters(xt)||xt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(xt)||this.regexp_eatCharacterClass(xt)||this.regexp_eatUncapturingGroup(xt)||this.regexp_eatCapturingGroup(xt)},Kr.regexp_eatReverseSolidusAtomEscape=function(xt){var Rt=xt.pos;if(xt.eat(92)){if(this.regexp_eatAtomEscape(xt))return!0;xt.pos=Rt}return!1},Kr.regexp_eatUncapturingGroup=function(xt){var Rt=xt.pos;if(xt.eat(40)){if(xt.eat(63)&&xt.eat(58)){if(this.regexp_disjunction(xt),xt.eat(41))return!0;xt.raise("Unterminated group")}xt.pos=Rt}return!1},Kr.regexp_eatCapturingGroup=function(xt){if(xt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(xt):xt.current()===63&&xt.raise("Invalid group"),this.regexp_disjunction(xt),xt.eat(41))return xt.numCapturingParens+=1,!0;xt.raise("Unterminated group")}return!1},Kr.regexp_eatExtendedAtom=function(xt){return xt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(xt)||this.regexp_eatCharacterClass(xt)||this.regexp_eatUncapturingGroup(xt)||this.regexp_eatCapturingGroup(xt)||this.regexp_eatInvalidBracedQuantifier(xt)||this.regexp_eatExtendedPatternCharacter(xt)},Kr.regexp_eatInvalidBracedQuantifier=function(xt){return this.regexp_eatBracedQuantifier(xt,!0)&&xt.raise("Nothing to repeat"),!1},Kr.regexp_eatSyntaxCharacter=function(xt){var Rt=xt.current();return es(Rt)?(xt.lastIntValue=Rt,xt.advance(),!0):!1};function es(xt){return xt===36||xt>=40&&xt<=43||xt===46||xt===63||xt>=91&&xt<=94||xt>=123&&xt<=125}Kr.regexp_eatPatternCharacters=function(xt){for(var Rt=xt.pos,Ft=0;(Ft=xt.current())!==-1&&!es(Ft);)xt.advance();return xt.pos!==Rt},Kr.regexp_eatExtendedPatternCharacter=function(xt){var Rt=xt.current();return Rt!==-1&&Rt!==36&&!(Rt>=40&&Rt<=43)&&Rt!==46&&Rt!==63&&Rt!==91&&Rt!==94&&Rt!==124?(xt.advance(),!0):!1},Kr.regexp_groupSpecifier=function(xt){if(xt.eat(63)){if(this.regexp_eatGroupName(xt)){xt.groupNames.indexOf(xt.lastStringValue)!==-1&&xt.raise("Duplicate capture group name"),xt.groupNames.push(xt.lastStringValue);return}xt.raise("Invalid group")}},Kr.regexp_eatGroupName=function(xt){if(xt.lastStringValue="",xt.eat(60)){if(this.regexp_eatRegExpIdentifierName(xt)&&xt.eat(62))return!0;xt.raise("Invalid capture group name")}return!1},Kr.regexp_eatRegExpIdentifierName=function(xt){if(xt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(xt)){for(xt.lastStringValue+=Bt(xt.lastIntValue);this.regexp_eatRegExpIdentifierPart(xt);)xt.lastStringValue+=Bt(xt.lastIntValue);return!0}return!1},Kr.regexp_eatRegExpIdentifierStart=function(xt){var Rt=xt.pos,Ft=this.options.ecmaVersion>=11,jt=xt.current(Ft);return xt.advance(Ft),jt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(xt,Ft)&&(jt=xt.lastIntValue),_o(jt)?(xt.lastIntValue=jt,!0):(xt.pos=Rt,!1)};function _o(xt){return st(xt,!0)||xt===36||xt===95}Kr.regexp_eatRegExpIdentifierPart=function(xt){var Rt=xt.pos,Ft=this.options.ecmaVersion>=11,jt=xt.current(Ft);return xt.advance(Ft),jt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(xt,Ft)&&(jt=xt.lastIntValue),po(jt)?(xt.lastIntValue=jt,!0):(xt.pos=Rt,!1)};function po(xt){return lt(xt,!0)||xt===36||xt===95||xt===8204||xt===8205}Kr.regexp_eatAtomEscape=function(xt){return this.regexp_eatBackReference(xt)||this.regexp_eatCharacterClassEscape(xt)||this.regexp_eatCharacterEscape(xt)||xt.switchN&&this.regexp_eatKGroupName(xt)?!0:(xt.switchU&&(xt.current()===99&&xt.raise("Invalid unicode escape"),xt.raise("Invalid escape")),!1)},Kr.regexp_eatBackReference=function(xt){var Rt=xt.pos;if(this.regexp_eatDecimalEscape(xt)){var Ft=xt.lastIntValue;if(xt.switchU)return Ft>xt.maxBackReference&&(xt.maxBackReference=Ft),!0;if(Ft<=xt.numCapturingParens)return!0;xt.pos=Rt}return!1},Kr.regexp_eatKGroupName=function(xt){if(xt.eat(107)){if(this.regexp_eatGroupName(xt))return xt.backReferenceNames.push(xt.lastStringValue),!0;xt.raise("Invalid named reference")}return!1},Kr.regexp_eatCharacterEscape=function(xt){return this.regexp_eatControlEscape(xt)||this.regexp_eatCControlLetter(xt)||this.regexp_eatZero(xt)||this.regexp_eatHexEscapeSequence(xt)||this.regexp_eatRegExpUnicodeEscapeSequence(xt,!1)||!xt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(xt)||this.regexp_eatIdentityEscape(xt)},Kr.regexp_eatCControlLetter=function(xt){var Rt=xt.pos;if(xt.eat(99)){if(this.regexp_eatControlLetter(xt))return!0;xt.pos=Rt}return!1},Kr.regexp_eatZero=function(xt){return xt.current()===48&&!zn(xt.lookahead())?(xt.lastIntValue=0,xt.advance(),!0):!1},Kr.regexp_eatControlEscape=function(xt){var Rt=xt.current();return Rt===116?(xt.lastIntValue=9,xt.advance(),!0):Rt===110?(xt.lastIntValue=10,xt.advance(),!0):Rt===118?(xt.lastIntValue=11,xt.advance(),!0):Rt===102?(xt.lastIntValue=12,xt.advance(),!0):Rt===114?(xt.lastIntValue=13,xt.advance(),!0):!1},Kr.regexp_eatControlLetter=function(xt){var Rt=xt.current();return mo(Rt)?(xt.lastIntValue=Rt%32,xt.advance(),!0):!1};function mo(xt){return xt>=65&&xt<=90||xt>=97&&xt<=122}Kr.regexp_eatRegExpUnicodeEscapeSequence=function(xt,Rt){Rt===void 0&&(Rt=!1);var Ft=xt.pos,jt=Rt||xt.switchU;if(xt.eat(117)){if(this.regexp_eatFixedHexDigits(xt,4)){var ir=xt.lastIntValue;if(jt&&ir>=55296&&ir<=56319){var vr=xt.pos;if(xt.eat(92)&&xt.eat(117)&&this.regexp_eatFixedHexDigits(xt,4)){var wr=xt.lastIntValue;if(wr>=56320&&wr<=57343)return xt.lastIntValue=(ir-55296)*1024+(wr-56320)+65536,!0}xt.pos=vr,xt.lastIntValue=ir}return!0}if(jt&&xt.eat(123)&&this.regexp_eatHexDigits(xt)&&xt.eat(125)&&_t(xt.lastIntValue))return!0;jt&&xt.raise("Invalid unicode escape"),xt.pos=Ft}return!1};function _t(xt){return xt>=0&&xt<=1114111}Kr.regexp_eatIdentityEscape=function(xt){if(xt.switchU)return this.regexp_eatSyntaxCharacter(xt)?!0:xt.eat(47)?(xt.lastIntValue=47,!0):!1;var Rt=xt.current();return Rt!==99&&(!xt.switchN||Rt!==107)?(xt.lastIntValue=Rt,xt.advance(),!0):!1},Kr.regexp_eatDecimalEscape=function(xt){xt.lastIntValue=0;var Rt=xt.current();if(Rt>=49&&Rt<=57){do xt.lastIntValue=10*xt.lastIntValue+(Rt-48),xt.advance();while((Rt=xt.current())>=48&&Rt<=57);return!0}return!1};var Lt=0,Nt=1,Kt=2;Kr.regexp_eatCharacterClassEscape=function(xt){var Rt=xt.current();if(or(Rt))return xt.lastIntValue=-1,xt.advance(),Nt;var Ft=!1;if(xt.switchU&&this.options.ecmaVersion>=9&&((Ft=Rt===80)||Rt===112)){xt.lastIntValue=-1,xt.advance();var jt;if(xt.eat(123)&&(jt=this.regexp_eatUnicodePropertyValueExpression(xt))&&xt.eat(125))return Ft&&jt===Kt&&xt.raise("Invalid property name"),jt;xt.raise("Invalid property name")}return Lt};function or(xt){return xt===100||xt===68||xt===115||xt===83||xt===119||xt===87}Kr.regexp_eatUnicodePropertyValueExpression=function(xt){var Rt=xt.pos;if(this.regexp_eatUnicodePropertyName(xt)&&xt.eat(61)){var Ft=xt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(xt)){var jt=xt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(xt,Ft,jt),Nt}}if(xt.pos=Rt,this.regexp_eatLoneUnicodePropertyNameOrValue(xt)){var ir=xt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(xt,ir)}return Lt},Kr.regexp_validateUnicodePropertyNameAndValue=function(xt,Rt,Ft){It(xt.unicodeProperties.nonBinary,Rt)||xt.raise("Invalid property name"),xt.unicodeProperties.nonBinary[Rt].test(Ft)||xt.raise("Invalid property value")},Kr.regexp_validateUnicodePropertyNameOrValue=function(xt,Rt){if(xt.unicodeProperties.binary.test(Rt))return Nt;if(xt.switchV&&xt.unicodeProperties.binaryOfStrings.test(Rt))return Kt;xt.raise("Invalid property name")},Kr.regexp_eatUnicodePropertyName=function(xt){var Rt=0;for(xt.lastStringValue="";Sr(Rt=xt.current());)xt.lastStringValue+=Bt(Rt),xt.advance();return xt.lastStringValue!==""};function Sr(xt){return mo(xt)||xt===95}Kr.regexp_eatUnicodePropertyValue=function(xt){var Rt=0;for(xt.lastStringValue="";Rr(Rt=xt.current());)xt.lastStringValue+=Bt(Rt),xt.advance();return xt.lastStringValue!==""};function Rr(xt){return Sr(xt)||zn(xt)}Kr.regexp_eatLoneUnicodePropertyNameOrValue=function(xt){return this.regexp_eatUnicodePropertyValue(xt)},Kr.regexp_eatCharacterClass=function(xt){if(xt.eat(91)){var Rt=xt.eat(94),Ft=this.regexp_classContents(xt);return xt.eat(93)||xt.raise("Unterminated character class"),Rt&&Ft===Kt&&xt.raise("Negated character class may contain strings"),!0}return!1},Kr.regexp_classContents=function(xt){return xt.current()===93?Nt:xt.switchV?this.regexp_classSetExpression(xt):(this.regexp_nonEmptyClassRanges(xt),Nt)},Kr.regexp_nonEmptyClassRanges=function(xt){for(;this.regexp_eatClassAtom(xt);){var Rt=xt.lastIntValue;if(xt.eat(45)&&this.regexp_eatClassAtom(xt)){var Ft=xt.lastIntValue;xt.switchU&&(Rt===-1||Ft===-1)&&xt.raise("Invalid character class"),Rt!==-1&&Ft!==-1&&Rt>Ft&&xt.raise("Range out of order in character class")}}},Kr.regexp_eatClassAtom=function(xt){var Rt=xt.pos;if(xt.eat(92)){if(this.regexp_eatClassEscape(xt))return!0;if(xt.switchU){var Ft=xt.current();(Ft===99||hs(Ft))&&xt.raise("Invalid class escape"),xt.raise("Invalid escape")}xt.pos=Rt}var jt=xt.current();return jt!==93?(xt.lastIntValue=jt,xt.advance(),!0):!1},Kr.regexp_eatClassEscape=function(xt){var Rt=xt.pos;if(xt.eat(98))return xt.lastIntValue=8,!0;if(xt.switchU&&xt.eat(45))return xt.lastIntValue=45,!0;if(!xt.switchU&&xt.eat(99)){if(this.regexp_eatClassControlLetter(xt))return!0;xt.pos=Rt}return this.regexp_eatCharacterClassEscape(xt)||this.regexp_eatCharacterEscape(xt)},Kr.regexp_classSetExpression=function(xt){var Rt=Nt,Ft;if(!this.regexp_eatClassSetRange(xt))if(Ft=this.regexp_eatClassSetOperand(xt)){Ft===Kt&&(Rt=Kt);for(var jt=xt.pos;xt.eatChars([38,38]);){if(xt.current()!==38&&(Ft=this.regexp_eatClassSetOperand(xt))){Ft!==Kt&&(Rt=Nt);continue}xt.raise("Invalid character in character class")}if(jt!==xt.pos)return Rt;for(;xt.eatChars([45,45]);)this.regexp_eatClassSetOperand(xt)||xt.raise("Invalid character in character class");if(jt!==xt.pos)return Rt}else xt.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(xt)){if(Ft=this.regexp_eatClassSetOperand(xt),!Ft)return Rt;Ft===Kt&&(Rt=Kt)}},Kr.regexp_eatClassSetRange=function(xt){var Rt=xt.pos;if(this.regexp_eatClassSetCharacter(xt)){var Ft=xt.lastIntValue;if(xt.eat(45)&&this.regexp_eatClassSetCharacter(xt)){var jt=xt.lastIntValue;return Ft!==-1&&jt!==-1&&Ft>jt&&xt.raise("Range out of order in character class"),!0}xt.pos=Rt}return!1},Kr.regexp_eatClassSetOperand=function(xt){return this.regexp_eatClassSetCharacter(xt)?Nt:this.regexp_eatClassStringDisjunction(xt)||this.regexp_eatNestedClass(xt)},Kr.regexp_eatNestedClass=function(xt){var Rt=xt.pos;if(xt.eat(91)){var Ft=xt.eat(94),jt=this.regexp_classContents(xt);if(xt.eat(93))return Ft&&jt===Kt&&xt.raise("Negated character class may contain strings"),jt;xt.pos=Rt}if(xt.eat(92)){var ir=this.regexp_eatCharacterClassEscape(xt);if(ir)return ir;xt.pos=Rt}return null},Kr.regexp_eatClassStringDisjunction=function(xt){var Rt=xt.pos;if(xt.eatChars([92,113])){if(xt.eat(123)){var Ft=this.regexp_classStringDisjunctionContents(xt);if(xt.eat(125))return Ft}else xt.raise("Invalid escape");xt.pos=Rt}return null},Kr.regexp_classStringDisjunctionContents=function(xt){for(var Rt=this.regexp_classString(xt);xt.eat(124);)this.regexp_classString(xt)===Kt&&(Rt=Kt);return Rt},Kr.regexp_classString=function(xt){for(var Rt=0;this.regexp_eatClassSetCharacter(xt);)Rt++;return Rt===1?Nt:Kt},Kr.regexp_eatClassSetCharacter=function(xt){var Rt=xt.pos;if(xt.eat(92))return this.regexp_eatCharacterEscape(xt)||this.regexp_eatClassSetReservedPunctuator(xt)?!0:xt.eat(98)?(xt.lastIntValue=8,!0):(xt.pos=Rt,!1);var Ft=xt.current();return Ft<0||Ft===xt.lookahead()&&jr(Ft)||rn(Ft)?!1:(xt.advance(),xt.lastIntValue=Ft,!0)};function jr(xt){return xt===33||xt>=35&&xt<=38||xt>=42&&xt<=44||xt===46||xt>=58&&xt<=64||xt===94||xt===96||xt===126}function rn(xt){return xt===40||xt===41||xt===45||xt===47||xt>=91&&xt<=93||xt>=123&&xt<=125}Kr.regexp_eatClassSetReservedPunctuator=function(xt){var Rt=xt.current();return _n(Rt)?(xt.lastIntValue=Rt,xt.advance(),!0):!1};function _n(xt){return xt===33||xt===35||xt===37||xt===38||xt===44||xt===45||xt>=58&&xt<=62||xt===64||xt===96||xt===126}Kr.regexp_eatClassControlLetter=function(xt){var Rt=xt.current();return zn(Rt)||Rt===95?(xt.lastIntValue=Rt%32,xt.advance(),!0):!1},Kr.regexp_eatHexEscapeSequence=function(xt){var Rt=xt.pos;if(xt.eat(120)){if(this.regexp_eatFixedHexDigits(xt,2))return!0;xt.switchU&&xt.raise("Invalid escape"),xt.pos=Rt}return!1},Kr.regexp_eatDecimalDigits=function(xt){var Rt=xt.pos,Ft=0;for(xt.lastIntValue=0;zn(Ft=xt.current());)xt.lastIntValue=10*xt.lastIntValue+(Ft-48),xt.advance();return xt.pos!==Rt};function zn(xt){return xt>=48&&xt<=57}Kr.regexp_eatHexDigits=function(xt){var Rt=xt.pos,Ft=0;for(xt.lastIntValue=0;ts(Ft=xt.current());)xt.lastIntValue=16*xt.lastIntValue+os(Ft),xt.advance();return xt.pos!==Rt};function ts(xt){return xt>=48&&xt<=57||xt>=65&&xt<=70||xt>=97&&xt<=102}function os(xt){return xt>=65&&xt<=70?10+(xt-65):xt>=97&&xt<=102?10+(xt-97):xt-48}Kr.regexp_eatLegacyOctalEscapeSequence=function(xt){if(this.regexp_eatOctalDigit(xt)){var Rt=xt.lastIntValue;if(this.regexp_eatOctalDigit(xt)){var Ft=xt.lastIntValue;Rt<=3&&this.regexp_eatOctalDigit(xt)?xt.lastIntValue=Rt*64+Ft*8+xt.lastIntValue:xt.lastIntValue=Rt*8+Ft}else xt.lastIntValue=Rt;return!0}return!1},Kr.regexp_eatOctalDigit=function(xt){var Rt=xt.current();return hs(Rt)?(xt.lastIntValue=Rt-48,xt.advance(),!0):(xt.lastIntValue=0,!1)};function hs(xt){return xt>=48&&xt<=55}Kr.regexp_eatFixedHexDigits=function(xt,Rt){var Ft=xt.pos;xt.lastIntValue=0;for(var jt=0;jt<Rt;++jt){var ir=xt.current();if(!ts(ir))return xt.pos=Ft,!1;xt.lastIntValue=16*xt.lastIntValue+os(ir),xt.advance()}return!0};var Os=function(Rt){this.type=Rt.type,this.value=Rt.value,this.start=Rt.start,this.end=Rt.end,Rt.options.locations&&(this.loc=new Vt(Rt,Rt.startLoc,Rt.endLoc)),Rt.options.ranges&&(this.range=[Rt.start,Rt.end])},gn=Er.prototype;gn.next=function(xt){!xt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Os(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},gn.getToken=function(){return this.next(),new Os(this)},typeof Symbol<"u"&&(gn[Symbol.iterator]=function(){var xt=this;return{next:function(){var Rt=xt.getToken();return{done:Rt.type===dt.eof,value:Rt}}}}),gn.nextToken=function(){var xt=this.curContext();if((!xt||!xt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(dt.eof);if(xt.override)return xt.override(this);this.readToken(this.fullCharCodeAtPos())},gn.readToken=function(xt){return st(xt,this.options.ecmaVersion>=6)||xt===92?this.readWord():this.getTokenFromCode(xt)},gn.fullCharCodeAtPos=function(){var xt=this.input.charCodeAt(this.pos);if(xt<=55295||xt>=56320)return xt;var Rt=this.input.charCodeAt(this.pos+1);return Rt<=56319||Rt>=57344?xt:(xt<<10)+Rt-56613888},gn.skipBlockComment=function(){var xt=this.options.onComment&&this.curPosition(),Rt=this.pos,Ft=this.input.indexOf("*/",this.pos+=2);if(Ft===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Ft+2,this.options.locations)for(var jt=void 0,ir=Rt;(jt=wt(this.input,ir,this.pos))>-1;)++this.curLine,ir=this.lineStart=jt;this.options.onComment&&this.options.onComment(!0,this.input.slice(Rt+2,Ft),Rt,this.pos,xt,this.curPosition())},gn.skipLineComment=function(xt){for(var Rt=this.pos,Ft=this.options.onComment&&this.curPosition(),jt=this.input.charCodeAt(this.pos+=xt);this.pos<this.input.length&&!pt(jt);)jt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Rt+xt,this.pos),Rt,this.pos,Ft,this.curPosition())},gn.skipSpace=function(){e:for(;this.pos<this.input.length;){var xt=this.input.charCodeAt(this.pos);switch(xt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(xt>8&&xt<14||xt>=5760&&Et.test(String.fromCharCode(xt)))++this.pos;else break e}}},gn.finishToken=function(xt,Rt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Ft=this.type;this.type=xt,this.value=Rt,this.updateContext(Ft)},gn.readToken_dot=function(){var xt=this.input.charCodeAt(this.pos+1);if(xt>=48&&xt<=57)return this.readNumber(!0);var Rt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&xt===46&&Rt===46?(this.pos+=3,this.finishToken(dt.ellipsis)):(++this.pos,this.finishToken(dt.dot))},gn.readToken_slash=function(){var xt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):xt===61?this.finishOp(dt.assign,2):this.finishOp(dt.slash,1)},gn.readToken_mult_modulo_exp=function(xt){var Rt=this.input.charCodeAt(this.pos+1),Ft=1,jt=xt===42?dt.star:dt.modulo;return this.options.ecmaVersion>=7&&xt===42&&Rt===42&&(++Ft,jt=dt.starstar,Rt=this.input.charCodeAt(this.pos+2)),Rt===61?this.finishOp(dt.assign,Ft+1):this.finishOp(jt,Ft)},gn.readToken_pipe_amp=function(xt){var Rt=this.input.charCodeAt(this.pos+1);if(Rt===xt){if(this.options.ecmaVersion>=12){var Ft=this.input.charCodeAt(this.pos+2);if(Ft===61)return this.finishOp(dt.assign,3)}return this.finishOp(xt===124?dt.logicalOR:dt.logicalAND,2)}return Rt===61?this.finishOp(dt.assign,2):this.finishOp(xt===124?dt.bitwiseOR:dt.bitwiseAND,1)},gn.readToken_caret=function(){var xt=this.input.charCodeAt(this.pos+1);return xt===61?this.finishOp(dt.assign,2):this.finishOp(dt.bitwiseXOR,1)},gn.readToken_plus_min=function(xt){var Rt=this.input.charCodeAt(this.pos+1);return Rt===xt?Rt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||St.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(dt.incDec,2):Rt===61?this.finishOp(dt.assign,2):this.finishOp(dt.plusMin,1)},gn.readToken_lt_gt=function(xt){var Rt=this.input.charCodeAt(this.pos+1),Ft=1;return Rt===xt?(Ft=xt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Ft)===61?this.finishOp(dt.assign,Ft+1):this.finishOp(dt.bitShift,Ft)):Rt===33&&xt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Rt===61&&(Ft=2),this.finishOp(dt.relational,Ft))},gn.readToken_eq_excl=function(xt){var Rt=this.input.charCodeAt(this.pos+1);return Rt===61?this.finishOp(dt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):xt===61&&Rt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(dt.arrow)):this.finishOp(xt===61?dt.eq:dt.prefix,1)},gn.readToken_question=function(){var xt=this.options.ecmaVersion;if(xt>=11){var Rt=this.input.charCodeAt(this.pos+1);if(Rt===46){var Ft=this.input.charCodeAt(this.pos+2);if(Ft<48||Ft>57)return this.finishOp(dt.questionDot,2)}if(Rt===63){if(xt>=12){var jt=this.input.charCodeAt(this.pos+2);if(jt===61)return this.finishOp(dt.assign,3)}return this.finishOp(dt.coalesce,2)}}return this.finishOp(dt.question,1)},gn.readToken_numberSign=function(){var xt=this.options.ecmaVersion,Rt=35;if(xt>=13&&(++this.pos,Rt=this.fullCharCodeAtPos(),st(Rt,!0)||Rt===92))return this.finishToken(dt.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Bt(Rt)+"'")},gn.getTokenFromCode=function(xt){switch(xt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(dt.parenL);case 41:return++this.pos,this.finishToken(dt.parenR);case 59:return++this.pos,this.finishToken(dt.semi);case 44:return++this.pos,this.finishToken(dt.comma);case 91:return++this.pos,this.finishToken(dt.bracketL);case 93:return++this.pos,this.finishToken(dt.bracketR);case 123:return++this.pos,this.finishToken(dt.braceL);case 125:return++this.pos,this.finishToken(dt.braceR);case 58:return++this.pos,this.finishToken(dt.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(dt.backQuote);case 48:var Rt=this.input.charCodeAt(this.pos+1);if(Rt===120||Rt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Rt===111||Rt===79)return this.readRadixNumber(8);if(Rt===98||Rt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(xt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(xt);case 124:case 38:return this.readToken_pipe_amp(xt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(xt);case 60:case 62:return this.readToken_lt_gt(xt);case 61:case 33:return this.readToken_eq_excl(xt);case 63:return this.readToken_question();case 126:return this.finishOp(dt.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Bt(xt)+"'")},gn.finishOp=function(xt,Rt){var Ft=this.input.slice(this.pos,this.pos+Rt);return this.pos+=Rt,this.finishToken(xt,Ft)},gn.readRegexp=function(){for(var xt,Rt,Ft=this.pos;;){this.pos>=this.input.length&&this.raise(Ft,"Unterminated regular expression");var jt=this.input.charAt(this.pos);if(St.test(jt)&&this.raise(Ft,"Unterminated regular expression"),xt)xt=!1;else{if(jt==="[")Rt=!0;else if(jt==="]"&&Rt)Rt=!1;else if(jt==="/"&&!Rt)break;xt=jt==="\\"}++this.pos}var ir=this.input.slice(Ft,this.pos);++this.pos;var vr=this.pos,wr=this.readWord1();this.containsEsc&&this.unexpected(vr);var Vr=this.regexpState||(this.regexpState=new _i(this));Vr.reset(Ft,ir,wr),this.validateRegExpFlags(Vr),this.validateRegExpPattern(Vr);var zr=null;try{zr=new RegExp(ir,wr)}catch{}return this.finishToken(dt.regexp,{pattern:ir,flags:wr,value:zr})},gn.readInt=function(xt,Rt,Ft){for(var jt=this.options.ecmaVersion>=12&&Rt===void 0,ir=Ft&&this.input.charCodeAt(this.pos)===48,vr=this.pos,wr=0,Vr=0,zr=0,yn=Rt??1/0;zr<yn;++zr,++this.pos){var ln=this.input.charCodeAt(this.pos),Fn=void 0;if(jt&&ln===95){ir&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Vr===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),zr===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Vr=ln;continue}if(ln>=97?Fn=ln-97+10:ln>=65?Fn=ln-65+10:ln>=48&&ln<=57?Fn=ln-48:Fn=1/0,Fn>=xt)break;Vr=ln,wr=wr*xt+Fn}return jt&&Vr===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===vr||Rt!=null&&this.pos-vr!==Rt?null:wr};function bs(xt,Rt){return Rt?parseInt(xt,8):parseFloat(xt.replace(/_/g,""))}function rs(xt){return typeof BigInt!="function"?null:BigInt(xt.replace(/_/g,""))}gn.readRadixNumber=function(xt){var Rt=this.pos;this.pos+=2;var Ft=this.readInt(xt);return Ft==null&&this.raise(this.start+2,"Expected number in radix "+xt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Ft=rs(this.input.slice(Rt,this.pos)),++this.pos):st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(dt.num,Ft)},gn.readNumber=function(xt){var Rt=this.pos;!xt&&this.readInt(10,void 0,!0)===null&&this.raise(Rt,"Invalid number");var Ft=this.pos-Rt>=2&&this.input.charCodeAt(Rt)===48;Ft&&this.strict&&this.raise(Rt,"Invalid number");var jt=this.input.charCodeAt(this.pos);if(!Ft&&!xt&&this.options.ecmaVersion>=11&&jt===110){var ir=rs(this.input.slice(Rt,this.pos));return++this.pos,st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(dt.num,ir)}Ft&&/[89]/.test(this.input.slice(Rt,this.pos))&&(Ft=!1),jt===46&&!Ft&&(++this.pos,this.readInt(10),jt=this.input.charCodeAt(this.pos)),(jt===69||jt===101)&&!Ft&&(jt=this.input.charCodeAt(++this.pos),(jt===43||jt===45)&&++this.pos,this.readInt(10)===null&&this.raise(Rt,"Invalid number")),st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var vr=bs(this.input.slice(Rt,this.pos),Ft);return this.finishToken(dt.num,vr)},gn.readCodePoint=function(){var xt=this.input.charCodeAt(this.pos),Rt;if(xt===123){this.options.ecmaVersion<6&&this.unexpected();var Ft=++this.pos;Rt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Rt>1114111&&this.invalidStringToken(Ft,"Code point out of bounds")}else Rt=this.readHexChar(4);return Rt},gn.readString=function(xt){for(var Rt="",Ft=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var jt=this.input.charCodeAt(this.pos);if(jt===xt)break;jt===92?(Rt+=this.input.slice(Ft,this.pos),Rt+=this.readEscapedChar(!1),Ft=this.pos):jt===8232||jt===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(pt(jt)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Rt+=this.input.slice(Ft,this.pos++),this.finishToken(dt.string,Rt)};var wo={};gn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(xt){if(xt===wo)this.readInvalidTemplateToken();else throw xt}this.inTemplateElement=!1},gn.invalidStringToken=function(xt,Rt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw wo;this.raise(xt,Rt)},gn.readTmplToken=function(){for(var xt="",Rt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Ft=this.input.charCodeAt(this.pos);if(Ft===96||Ft===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===dt.template||this.type===dt.invalidTemplate)?Ft===36?(this.pos+=2,this.finishToken(dt.dollarBraceL)):(++this.pos,this.finishToken(dt.backQuote)):(xt+=this.input.slice(Rt,this.pos),this.finishToken(dt.template,xt));if(Ft===92)xt+=this.input.slice(Rt,this.pos),xt+=this.readEscapedChar(!0),Rt=this.pos;else if(pt(Ft)){switch(xt+=this.input.slice(Rt,this.pos),++this.pos,Ft){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:xt+=`
`;break;default:xt+=String.fromCharCode(Ft);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Rt=this.pos}else++this.pos}},gn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(dt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},gn.readEscapedChar=function(xt){var Rt=this.input.charCodeAt(++this.pos);switch(++this.pos,Rt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Bt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),xt){var Ft=this.pos-1;this.invalidStringToken(Ft,"Invalid escape sequence in template string")}default:if(Rt>=48&&Rt<=55){var jt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],ir=parseInt(jt,8);return ir>255&&(jt=jt.slice(0,-1),ir=parseInt(jt,8)),this.pos+=jt.length-1,Rt=this.input.charCodeAt(this.pos),(jt!=="0"||Rt===56||Rt===57)&&(this.strict||xt)&&this.invalidStringToken(this.pos-1-jt.length,xt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(ir)}return pt(Rt)?"":String.fromCharCode(Rt)}},gn.readHexChar=function(xt){var Rt=this.pos,Ft=this.readInt(16,xt);return Ft===null&&this.invalidStringToken(Rt,"Bad character escape sequence"),Ft},gn.readWord1=function(){this.containsEsc=!1;for(var xt="",Rt=!0,Ft=this.pos,jt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ir=this.fullCharCodeAtPos();if(lt(ir,jt))this.pos+=ir<=65535?1:2;else if(ir===92){this.containsEsc=!0,xt+=this.input.slice(Ft,this.pos);var vr=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var wr=this.readCodePoint();(Rt?st:lt)(wr,jt)||this.invalidStringToken(vr,"Invalid Unicode escape"),xt+=Bt(wr),Ft=this.pos}else break;Rt=!1}return xt+this.input.slice(Ft,this.pos)},gn.readWord=function(){var xt=this.readWord1(),Rt=dt.name;return this.keywords.test(xt)&&(Rt=gt[xt]),this.finishToken(Rt,xt)};var Eo="8.11.3";Er.acorn={Parser:Er,version:Eo,defaultOptions:Jt,Position:Wt,SourceLocation:Vt,getLineInfo:Ht,Node:Qn,TokenType:ct,tokTypes:dt,keywordTypes:gt,TokContext:Gr,tokContexts:Ur,isIdentifierChar:lt,isIdentifierStart:st,Token:Os,isNewLine:pt,lineBreak:St,lineBreakG:yt,nonASCIIwhitespace:Et};function $s(xt,Rt){return Er.parse(xt,Rt)}function go(xt,Rt,Ft){return Er.parseExpressionAt(xt,Rt,Ft)}function Po(xt,Rt){return Er.tokenizer(xt,Rt)}o.Node=Qn,o.Parser=Er,o.Position=Wt,o.SourceLocation=Vt,o.TokContext=Gr,o.Token=Os,o.TokenType=ct,o.defaultOptions=Jt,o.getLineInfo=Ht,o.isIdentifierChar=lt,o.isIdentifierStart=st,o.isNewLine=pt,o.keywordTypes=gt,o.lineBreak=St,o.lineBreakG=yt,o.nonASCIIwhitespace=Et,o.parse=$s,o.parseExpressionAt=go,o.tokContexts=Ur,o.tokTypes=dt,o.tokenizer=Po,o.version=Eo})})(acorn,acorn.exports);var acornExports=acorn.exports,astring={};Object.defineProperty(astring,"__esModule",{value:!0});astring.generate=generate;astring.baseGenerator=astring.GENERATOR=astring.EXPRESSIONS_PRECEDENCE=astring.NEEDS_PARENTHESES=void 0;function _classCallCheck(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}function _createClass(i,s,o){return s&&_defineProperties(i.prototype,s),o&&_defineProperties(i,o),i}var stringify$2=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var OPERATOR_PRECEDENCE={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17;astring.NEEDS_PARENTHESES=NEEDS_PARENTHESES;var EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};astring.EXPRESSIONS_PRECEDENCE=EXPRESSIONS_PRECEDENCE;function formatSequence(i,s){var o=i.generator;if(i.write("("),s!=null&&s.length>0){o[s[0].type](s[0],i);for(var a=s.length,nt=1;nt<a;nt++){var tt=s[nt];i.write(", "),o[tt.type](tt,i)}}i.write(")")}function expressionNeedsParenthesis(i,s,o,a){var nt=i.expressionsPrecedence[s.type];if(nt===NEEDS_PARENTHESES)return!0;var tt=i.expressionsPrecedence[o.type];return nt!==tt?!a&&nt===15&&tt===14&&o.operator==="**"||nt<tt:nt!==13&&nt!==14?!1:s.operator==="**"&&o.operator==="**"?!a:nt===13&&tt===13&&(s.operator==="??"||o.operator==="??")?!0:a?OPERATOR_PRECEDENCE[s.operator]<=OPERATOR_PRECEDENCE[o.operator]:OPERATOR_PRECEDENCE[s.operator]<OPERATOR_PRECEDENCE[o.operator]}function formatExpression(i,s,o,a){var nt=i.generator;expressionNeedsParenthesis(i,s,o,a)?(i.write("("),nt[s.type](s,i),i.write(")")):nt[s.type](s,i)}function reindent(i,s,o,a){var nt=s.split(`
`),tt=nt.length-1;if(i.write(nt[0].trim()),tt>0){i.write(a);for(var ot=1;ot<tt;ot++)i.write(o+nt[ot].trim()+a);i.write(o+nt[tt].trim())}}function formatComments(i,s,o,a){for(var nt=s.length,tt=0;tt<nt;tt++){var ot=s[tt];i.write(o),ot.type[0]==="L"?i.write("// "+ot.value.trim()+`
`,ot):(i.write("/*"),reindent(i,ot.value,o,a),i.write("*/"+a))}}function hasCallExpression(i){for(var s=i;s!=null;){var o=s,a=o.type;if(a[0]==="C"&&a[1]==="a")return!0;if(a[0]==="M"&&a[1]==="e"&&a[2]==="m")s=s.object;else return!1}}function formatVariableDeclaration(i,s){var o=i.generator,a=s.declarations;i.write(s.kind+" ");var nt=a.length;if(nt>0){o.VariableDeclarator(a[0],i);for(var tt=1;tt<nt;tt++)i.write(", "),o.VariableDeclarator(a[tt],i)}}var ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement,GENERATOR={Program:function(s,o){var a=o.indent.repeat(o.indentLevel),nt=o.lineEnd,tt=o.writeComments;tt&&s.comments!=null&&formatComments(o,s.comments,a,nt);for(var ot=s.body,at=ot.length,rt=0;rt<at;rt++){var it=ot[rt];tt&&it.comments!=null&&formatComments(o,it.comments,a,nt),o.write(a),this[it.type](it,o),o.write(nt)}tt&&s.trailingComments!=null&&formatComments(o,s.trailingComments,a,nt)},BlockStatement:BlockStatement=function(s,o){var a=o.indent.repeat(o.indentLevel++),nt=o.lineEnd,tt=o.writeComments,ot=a+o.indent;o.write("{");var at=s.body;if(at!=null&&at.length>0){o.write(nt),tt&&s.comments!=null&&formatComments(o,s.comments,ot,nt);for(var rt=at.length,it=0;it<rt;it++){var j=at[it];tt&&j.comments!=null&&formatComments(o,j.comments,ot,nt),o.write(ot),this[j.type](j,o),o.write(nt)}o.write(a)}else tt&&s.comments!=null&&(o.write(nt),formatComments(o,s.comments,ot,nt),o.write(a));tt&&s.trailingComments!=null&&formatComments(o,s.trailingComments,ot,nt),o.write("}"),o.indentLevel--},ClassBody:BlockStatement,StaticBlock:function(s,o){o.write("static "),this.BlockStatement(s,o)},EmptyStatement:function(s,o){o.write(";")},ExpressionStatement:function(s,o){var a=o.expressionsPrecedence[s.expression.type];a===NEEDS_PARENTHESES||a===3&&s.expression.left.type[0]==="O"?(o.write("("),this[s.expression.type](s.expression,o),o.write(")")):this[s.expression.type](s.expression,o),o.write(";")},IfStatement:function(s,o){o.write("if ("),this[s.test.type](s.test,o),o.write(") "),this[s.consequent.type](s.consequent,o),s.alternate!=null&&(o.write(" else "),this[s.alternate.type](s.alternate,o))},LabeledStatement:function(s,o){this[s.label.type](s.label,o),o.write(": "),this[s.body.type](s.body,o)},BreakStatement:function(s,o){o.write("break"),s.label!=null&&(o.write(" "),this[s.label.type](s.label,o)),o.write(";")},ContinueStatement:function(s,o){o.write("continue"),s.label!=null&&(o.write(" "),this[s.label.type](s.label,o)),o.write(";")},WithStatement:function(s,o){o.write("with ("),this[s.object.type](s.object,o),o.write(") "),this[s.body.type](s.body,o)},SwitchStatement:function(s,o){var a=o.indent.repeat(o.indentLevel++),nt=o.lineEnd,tt=o.writeComments;o.indentLevel++;var ot=a+o.indent,at=ot+o.indent;o.write("switch ("),this[s.discriminant.type](s.discriminant,o),o.write(") {"+nt);for(var rt=s.cases,it=rt.length,j=0;j<it;j++){var _=rt[j];tt&&_.comments!=null&&formatComments(o,_.comments,ot,nt),_.test?(o.write(ot+"case "),this[_.test.type](_.test,o),o.write(":"+nt)):o.write(ot+"default:"+nt);for(var $=_.consequent,et=$.length,st=0;st<et;st++){var lt=$[st];tt&&lt.comments!=null&&formatComments(o,lt.comments,at,nt),o.write(at),this[lt.type](lt,o),o.write(nt)}}o.indentLevel-=2,o.write(a+"}")},ReturnStatement:function(s,o){o.write("return"),s.argument&&(o.write(" "),this[s.argument.type](s.argument,o)),o.write(";")},ThrowStatement:function(s,o){o.write("throw "),this[s.argument.type](s.argument,o),o.write(";")},TryStatement:function(s,o){if(o.write("try "),this[s.block.type](s.block,o),s.handler){var a=s.handler;a.param==null?o.write(" catch "):(o.write(" catch ("),this[a.param.type](a.param,o),o.write(") ")),this[a.body.type](a.body,o)}s.finalizer&&(o.write(" finally "),this[s.finalizer.type](s.finalizer,o))},WhileStatement:function(s,o){o.write("while ("),this[s.test.type](s.test,o),o.write(") "),this[s.body.type](s.body,o)},DoWhileStatement:function(s,o){o.write("do "),this[s.body.type](s.body,o),o.write(" while ("),this[s.test.type](s.test,o),o.write(");")},ForStatement:function(s,o){if(o.write("for ("),s.init!=null){var a=s.init;a.type[0]==="V"?formatVariableDeclaration(o,a):this[a.type](a,o)}o.write("; "),s.test&&this[s.test.type](s.test,o),o.write("; "),s.update&&this[s.update.type](s.update,o),o.write(") "),this[s.body.type](s.body,o)},ForInStatement:ForInStatement=function(s,o){o.write("for ".concat(s.await?"await ":"","("));var a=s.left;a.type[0]==="V"?formatVariableDeclaration(o,a):this[a.type](a,o),o.write(s.type[3]==="I"?" in ":" of "),this[s.right.type](s.right,o),o.write(") "),this[s.body.type](s.body,o)},ForOfStatement:ForInStatement,DebuggerStatement:function(s,o){o.write("debugger;",s)},FunctionDeclaration:FunctionDeclaration=function(s,o){o.write((s.async?"async ":"")+(s.generator?"function* ":"function ")+(s.id?s.id.name:""),s),formatSequence(o,s.params),o.write(" "),this[s.body.type](s.body,o)},FunctionExpression:FunctionDeclaration,VariableDeclaration:function(s,o){formatVariableDeclaration(o,s),o.write(";")},VariableDeclarator:function(s,o){this[s.id.type](s.id,o),s.init!=null&&(o.write(" = "),this[s.init.type](s.init,o))},ClassDeclaration:function(s,o){if(o.write("class "+(s.id?"".concat(s.id.name," "):""),s),s.superClass){o.write("extends ");var a=s.superClass,nt=a.type,tt=o.expressionsPrecedence[nt];(nt[0]!=="C"||nt[1]!=="l"||nt[5]!=="E")&&(tt===NEEDS_PARENTHESES||tt<o.expressionsPrecedence.ClassExpression)?(o.write("("),this[s.superClass.type](a,o),o.write(")")):this[a.type](a,o),o.write(" ")}this.ClassBody(s.body,o)},ImportDeclaration:function(s,o){o.write("import ");var a=s.specifiers,nt=a.length,tt=0;if(nt>0){for(;tt<nt;){tt>0&&o.write(", ");var ot=a[tt],at=ot.type[6];if(at==="D")o.write(ot.local.name,ot),tt++;else if(at==="N")o.write("* as "+ot.local.name,ot),tt++;else break}if(tt<nt){for(o.write("{");;){var rt=a[tt],it=rt.imported.name;if(o.write(it,rt),it!==rt.local.name&&o.write(" as "+rt.local.name),++tt<nt)o.write(", ");else break}o.write("}")}o.write(" from ")}this.Literal(s.source,o),o.write(";")},ImportExpression:function(s,o){o.write("import("),this[s.source.type](s.source,o),o.write(")")},ExportDefaultDeclaration:function(s,o){o.write("export default "),this[s.declaration.type](s.declaration,o),o.expressionsPrecedence[s.declaration.type]!=null&&s.declaration.type[0]!=="F"&&o.write(";")},ExportNamedDeclaration:function(s,o){if(o.write("export "),s.declaration)this[s.declaration.type](s.declaration,o);else{o.write("{");var a=s.specifiers,nt=a.length;if(nt>0)for(var tt=0;;){var ot=a[tt],at=ot.local.name;if(o.write(at,ot),at!==ot.exported.name&&o.write(" as "+ot.exported.name),++tt<nt)o.write(", ");else break}o.write("}"),s.source&&(o.write(" from "),this.Literal(s.source,o)),o.write(";")}},ExportAllDeclaration:function(s,o){s.exported!=null?o.write("export * as "+s.exported.name+" from "):o.write("export * from "),this.Literal(s.source,o),o.write(";")},MethodDefinition:function(s,o){s.static&&o.write("static ");var a=s.kind[0];(a==="g"||a==="s")&&o.write(s.kind+" "),s.value.async&&o.write("async "),s.value.generator&&o.write("*"),s.computed?(o.write("["),this[s.key.type](s.key,o),o.write("]")):this[s.key.type](s.key,o),formatSequence(o,s.value.params),o.write(" "),this[s.value.body.type](s.value.body,o)},ClassExpression:function(s,o){this.ClassDeclaration(s,o)},ArrowFunctionExpression:function(s,o){o.write(s.async?"async ":"",s);var a=s.params;a!=null&&(a.length===1&&a[0].type[0]==="I"?o.write(a[0].name,a[0]):formatSequence(o,s.params)),o.write(" => "),s.body.type[0]==="O"?(o.write("("),this.ObjectExpression(s.body,o),o.write(")")):this[s.body.type](s.body,o)},ThisExpression:function(s,o){o.write("this",s)},Super:function(s,o){o.write("super",s)},RestElement:RestElement=function(s,o){o.write("..."),this[s.argument.type](s.argument,o)},SpreadElement:RestElement,YieldExpression:function(s,o){o.write(s.delegate?"yield*":"yield"),s.argument&&(o.write(" "),this[s.argument.type](s.argument,o))},AwaitExpression:function(s,o){o.write("await ",s),formatExpression(o,s.argument,s)},TemplateLiteral:function(s,o){var a=s.quasis,nt=s.expressions;o.write("`");for(var tt=nt.length,ot=0;ot<tt;ot++){var at=nt[ot],rt=a[ot];o.write(rt.value.raw,rt),o.write("${"),this[at.type](at,o),o.write("}")}var it=a[a.length-1];o.write(it.value.raw,it),o.write("`")},TemplateElement:function(s,o){o.write(s.value.raw,s)},TaggedTemplateExpression:function(s,o){formatExpression(o,s.tag,s),this[s.quasi.type](s.quasi,o)},ArrayExpression:ArrayExpression=function(s,o){if(o.write("["),s.elements.length>0)for(var a=s.elements,nt=a.length,tt=0;;){var ot=a[tt];if(ot!=null&&this[ot.type](ot,o),++tt<nt)o.write(", ");else{ot==null&&o.write(", ");break}}o.write("]")},ArrayPattern:ArrayExpression,ObjectExpression:function(s,o){var a=o.indent.repeat(o.indentLevel++),nt=o.lineEnd,tt=o.writeComments,ot=a+o.indent;if(o.write("{"),s.properties.length>0){o.write(nt),tt&&s.comments!=null&&formatComments(o,s.comments,ot,nt);for(var at=","+nt,rt=s.properties,it=rt.length,j=0;;){var _=rt[j];if(tt&&_.comments!=null&&formatComments(o,_.comments,ot,nt),o.write(ot),this[_.type](_,o),++j<it)o.write(at);else break}o.write(nt),tt&&s.trailingComments!=null&&formatComments(o,s.trailingComments,ot,nt),o.write(a+"}")}else tt?s.comments!=null?(o.write(nt),formatComments(o,s.comments,ot,nt),s.trailingComments!=null&&formatComments(o,s.trailingComments,ot,nt),o.write(a+"}")):s.trailingComments!=null?(o.write(nt),formatComments(o,s.trailingComments,ot,nt),o.write(a+"}")):o.write("}"):o.write("}");o.indentLevel--},Property:function(s,o){s.method||s.kind[0]!=="i"?this.MethodDefinition(s,o):(s.shorthand||(s.computed?(o.write("["),this[s.key.type](s.key,o),o.write("]")):this[s.key.type](s.key,o),o.write(": ")),this[s.value.type](s.value,o))},PropertyDefinition:function(s,o){if(s.static&&o.write("static "),s.computed&&o.write("["),this[s.key.type](s.key,o),s.computed&&o.write("]"),s.value==null){s.key.type[0]!=="F"&&o.write(";");return}o.write(" = "),this[s.value.type](s.value,o),o.write(";")},ObjectPattern:function(s,o){if(o.write("{"),s.properties.length>0)for(var a=s.properties,nt=a.length,tt=0;this[a[tt].type](a[tt],o),++tt<nt;)o.write(", ");o.write("}")},SequenceExpression:function(s,o){formatSequence(o,s.expressions)},UnaryExpression:function(s,o){if(s.prefix){var a=s.operator,nt=s.argument,tt=s.argument.type;o.write(a);var ot=expressionNeedsParenthesis(o,nt,s);!ot&&(a.length>1||tt[0]==="U"&&(tt[1]==="n"||tt[1]==="p")&&nt.prefix&&nt.operator[0]===a&&(a==="+"||a==="-"))&&o.write(" "),ot?(o.write(a.length>1?" (":"("),this[tt](nt,o),o.write(")")):this[tt](nt,o)}else this[s.argument.type](s.argument,o),o.write(s.operator)},UpdateExpression:function(s,o){s.prefix?(o.write(s.operator),this[s.argument.type](s.argument,o)):(this[s.argument.type](s.argument,o),o.write(s.operator))},AssignmentExpression:function(s,o){this[s.left.type](s.left,o),o.write(" "+s.operator+" "),this[s.right.type](s.right,o)},AssignmentPattern:function(s,o){this[s.left.type](s.left,o),o.write(" = "),this[s.right.type](s.right,o)},BinaryExpression:BinaryExpression=function(s,o){var a=s.operator==="in";a&&o.write("("),formatExpression(o,s.left,s,!1),o.write(" "+s.operator+" "),formatExpression(o,s.right,s,!0),a&&o.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression:function(s,o){var a=s.test,nt=o.expressionsPrecedence[a.type];nt===NEEDS_PARENTHESES||nt<=o.expressionsPrecedence.ConditionalExpression?(o.write("("),this[a.type](a,o),o.write(")")):this[a.type](a,o),o.write(" ? "),this[s.consequent.type](s.consequent,o),o.write(" : "),this[s.alternate.type](s.alternate,o)},NewExpression:function(s,o){o.write("new ");var a=o.expressionsPrecedence[s.callee.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.CallExpression||hasCallExpression(s.callee)?(o.write("("),this[s.callee.type](s.callee,o),o.write(")")):this[s.callee.type](s.callee,o),formatSequence(o,s.arguments)},CallExpression:function(s,o){var a=o.expressionsPrecedence[s.callee.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.CallExpression?(o.write("("),this[s.callee.type](s.callee,o),o.write(")")):this[s.callee.type](s.callee,o),s.optional&&o.write("?."),formatSequence(o,s.arguments)},ChainExpression:function(s,o){this[s.expression.type](s.expression,o)},MemberExpression:function(s,o){var a=o.expressionsPrecedence[s.object.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.MemberExpression?(o.write("("),this[s.object.type](s.object,o),o.write(")")):this[s.object.type](s.object,o),s.computed?(s.optional&&o.write("?."),o.write("["),this[s.property.type](s.property,o),o.write("]")):(s.optional?o.write("?."):o.write("."),this[s.property.type](s.property,o))},MetaProperty:function(s,o){o.write(s.meta.name+"."+s.property.name,s)},Identifier:function(s,o){o.write(s.name,s)},PrivateIdentifier:function(s,o){o.write("#".concat(s.name),s)},Literal:function(s,o){s.raw!=null?o.write(s.raw,s):s.regex!=null?this.RegExpLiteral(s,o):s.bigint!=null?o.write(s.bigint+"n",s):o.write(stringify$2(s.value),s)},RegExpLiteral:function(s,o){var a=s.regex;o.write("/".concat(a.pattern,"/").concat(a.flags),s)}};astring.GENERATOR=GENERATOR;var EMPTY_OBJECT={},baseGenerator=GENERATOR;astring.baseGenerator=baseGenerator;var State=function(){function i(s){_classCallCheck(this,i);var o=s??EMPTY_OBJECT;this.output="",o.output!=null?(this.output=o.output,this.write=this.writeToStream):this.output="",this.generator=o.generator!=null?o.generator:GENERATOR,this.expressionsPrecedence=o.expressionsPrecedence!=null?o.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=o.indent!=null?o.indent:"  ",this.lineEnd=o.lineEnd!=null?o.lineEnd:`
`,this.indentLevel=o.startingIndentLevel!=null?o.startingIndentLevel:0,this.writeComments=o.comments?o.comments:!1,o.sourceMap!=null&&(this.write=o.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=o.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:o.sourceMap.file||o.sourceMap._file})}return _createClass(i,[{key:"write",value:function(o){this.output+=o}},{key:"writeToStream",value:function(o){this.output.write(o)}},{key:"writeAndMap",value:function(o,a){this.output+=o,this.map(o,a)}},{key:"writeToStreamAndMap",value:function(o,a){this.output.write(o),this.map(o,a)}},{key:"map",value:function(o,a){if(a!=null){var nt=a.type;if(nt[0]==="L"&&nt[2]==="n"){this.column=0,this.line++;return}if(a.loc!=null){var tt=this.mapping;tt.original=a.loc.start,tt.name=a.name,this.sourceMap.addMapping(tt)}if(nt[0]==="T"&&nt[8]==="E"||nt[0]==="L"&&nt[1]==="i"&&typeof a.value=="string"){for(var ot=o.length,at=this.column,rt=this.line,it=0;it<ot;it++)o[it]===`
`?(at=0,rt++):at++;this.column=at,this.line=rt;return}}var j=o.length,_=this.lineEnd;j>0&&(this.lineEndSize>0&&(_.length===1?o[j-1]===_:o.endsWith(_))?(this.line+=this.lineEndSize,this.column=0):this.column+=j)}},{key:"toString",value:function(){return this.output}}]),i}();function generate(i,s){var o=new State(s);return o.generator[i.type](i,o),o.output}function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gpuBrowser={exports:{}};/**
 * gpu.js
 * http://gpu.rocks/
 *
 * GPU Accelerated JavaScript
 *
 * @version 2.16.0
 * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)
 *
 * @license MIT
 * The MIT License
 *
 * Copyright (c) 2022 gpu.js Team
 */(function(i,s){(function(o){i.exports=o()})(function(){return function(){function o(a,nt,tt){function ot(it,j){if(!nt[it]){if(!a[it]){var _=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&_)return _(it,!0);if(at)return at(it,!0);var $=new Error("Cannot find module '"+it+"'");throw $.code="MODULE_NOT_FOUND",$}var et=nt[it]={exports:{}};a[it][0].call(et.exports,function(st){var lt=a[it][1][st];return ot(lt||st)},et,et.exports,o,a,nt,tt)}return nt[it].exports}for(var at=typeof commonjsRequire=="function"&&commonjsRequire,rt=0;rt<tt.length;rt++)ot(tt[rt]);return ot}return o}()({1:[function(o,a,nt){(function(tt,ot){typeof nt=="object"&&typeof a<"u"?ot(nt):(tt=tt||self,ot(tt.acorn={}))})(this,function(tt){var ot={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},at="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",rt={5:at,"5module":at+" export import",6:at+" const class extends export import super"},it=/^in(stanceof)?$/,j="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",_="--------------------------------------------------------------------------------------------------------------------------------------------------",$=new RegExp("["+j+"]"),et=new RegExp("["+j+_+"]");j=_=null;var st=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],lt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function ct(_t,Lt){for(var Nt=65536,Kt=0;Kt<Lt.length;Kt+=2){if(Nt+=Lt[Kt],Nt>_t)return!1;if(Nt+=Lt[Kt+1],Nt>=_t)return!0}}function ht(_t,Lt){return _t<65?_t===36:_t<91?!0:_t<97?_t===95:_t<123?!0:_t<=65535?_t>=170&&$.test(String.fromCharCode(_t)):Lt===!1?!1:ct(_t,st)}function ut(_t,Lt){return _t<48?_t===36:_t<58?!0:_t<65?!1:_t<91?!0:_t<97?_t===95:_t<123?!0:_t<=65535?_t>=170&&et.test(String.fromCharCode(_t)):Lt===!1?!1:ct(_t,st)||ct(_t,lt)}var mt=function(Lt,Nt){Nt===void 0&&(Nt={}),this.label=Lt,this.keyword=Nt.keyword,this.beforeExpr=!!Nt.beforeExpr,this.startsExpr=!!Nt.startsExpr,this.isLoop=!!Nt.isLoop,this.isAssign=!!Nt.isAssign,this.prefix=!!Nt.prefix,this.postfix=!!Nt.postfix,this.binop=Nt.binop||null,this.updateContext=null};function gt(_t,Lt){return new mt(_t,{beforeExpr:!0,binop:Lt})}var vt={beforeExpr:!0},dt={startsExpr:!0},St={};function yt(_t,Lt){return Lt===void 0&&(Lt={}),Lt.keyword=_t,St[_t]=new mt(_t,Lt)}var pt={num:new mt("num",dt),regexp:new mt("regexp",dt),string:new mt("string",dt),name:new mt("name",dt),eof:new mt("eof"),bracketL:new mt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new mt("]"),braceL:new mt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new mt("}"),parenL:new mt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new mt(")"),comma:new mt(",",vt),semi:new mt(";",vt),colon:new mt(":",vt),dot:new mt("."),question:new mt("?",vt),arrow:new mt("=>",vt),template:new mt("template"),invalidTemplate:new mt("invalidTemplate"),ellipsis:new mt("...",vt),backQuote:new mt("`",dt),dollarBraceL:new mt("${",{beforeExpr:!0,startsExpr:!0}),eq:new mt("=",{beforeExpr:!0,isAssign:!0}),assign:new mt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new mt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new mt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:gt("||",1),logicalAND:gt("&&",2),bitwiseOR:gt("|",3),bitwiseXOR:gt("^",4),bitwiseAND:gt("&",5),equality:gt("==/!=/===/!==",6),relational:gt("</>/<=/>=",7),bitShift:gt("<</>>/>>>",8),plusMin:new mt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:gt("%",10),star:gt("*",10),slash:gt("/",10),starstar:new mt("**",{beforeExpr:!0}),_break:yt("break"),_case:yt("case",vt),_catch:yt("catch"),_continue:yt("continue"),_debugger:yt("debugger"),_default:yt("default",vt),_do:yt("do",{isLoop:!0,beforeExpr:!0}),_else:yt("else",vt),_finally:yt("finally"),_for:yt("for",{isLoop:!0}),_function:yt("function",dt),_if:yt("if"),_return:yt("return",vt),_switch:yt("switch"),_throw:yt("throw",vt),_try:yt("try"),_var:yt("var"),_const:yt("const"),_while:yt("while",{isLoop:!0}),_with:yt("with"),_new:yt("new",{beforeExpr:!0,startsExpr:!0}),_this:yt("this",dt),_super:yt("super",dt),_class:yt("class",dt),_extends:yt("extends",vt),_export:yt("export"),_import:yt("import",dt),_null:yt("null",dt),_true:yt("true",dt),_false:yt("false",dt),_in:yt("in",{beforeExpr:!0,binop:7}),_instanceof:yt("instanceof",{beforeExpr:!0,binop:7}),_typeof:yt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},wt=/\r\n?|\n|\u2028|\u2029/,Et=new RegExp(wt.source,"g");function Ct(_t,Lt){return _t===10||_t===13||!Lt&&(_t===8232||_t===8233)}var kt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,At=Object.prototype,It=At.hasOwnProperty,Ot=At.toString;function Mt(_t,Lt){return It.call(_t,Lt)}var Dt=Array.isArray||function(_t){return Ot.call(_t)==="[object Array]"};function Bt(_t){return new RegExp("^(?:"+_t.replace(/ /g,"|")+")$")}var qt=function(Lt,Nt){this.line=Lt,this.column=Nt};qt.prototype.offset=function(Lt){return new qt(this.line,this.column+Lt)};var Wt=function(Lt,Nt,Kt){this.start=Nt,this.end=Kt,Lt.sourceFile!==null&&(this.source=Lt.sourceFile)};function Vt(_t,Lt){for(var Nt=1,Kt=0;;){Et.lastIndex=Kt;var or=Et.exec(_t);if(or&&or.index<Lt)++Nt,Kt=or.index+or[0].length;else return new qt(Nt,Lt-Kt)}}var Ht={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function Jt(_t){var Lt={};for(var Nt in Ht)Lt[Nt]=_t&&Mt(_t,Nt)?_t[Nt]:Ht[Nt];if(Lt.ecmaVersion>=2015&&(Lt.ecmaVersion-=2009),Lt.allowReserved==null&&(Lt.allowReserved=Lt.ecmaVersion<5),Dt(Lt.onToken)){var Kt=Lt.onToken;Lt.onToken=function(or){return Kt.push(or)}}return Dt(Lt.onComment)&&(Lt.onComment=Qt(Lt,Lt.onComment)),Lt}function Qt(_t,Lt){return function(Nt,Kt,or,Sr,Rr,jr){var rn={type:Nt?"Block":"Line",value:Kt,start:or,end:Sr};_t.locations&&(rn.loc=new Wt(this,Rr,jr)),_t.ranges&&(rn.range=[or,Sr]),Lt.push(rn)}}var cr=1,hr=2,dr=cr|hr,gr=4,tr=8,rr=16,Yt=32,br=64,_r=128;function fr(_t,Lt){return hr|(_t?gr:0)|(Lt?tr:0)}var Wr=0,nn=1,an=2,In=3,Bn=4,Pn=5,cn=function(Lt,Nt,Kt){this.options=Lt=Jt(Lt),this.sourceFile=Lt.sourceFile,this.keywords=Bt(rt[Lt.ecmaVersion>=6?6:Lt.sourceType==="module"?"5module":5]);var or="";if(Lt.allowReserved!==!0){for(var Sr=Lt.ecmaVersion;!(or=ot[Sr]);Sr--);Lt.sourceType==="module"&&(or+=" await")}this.reservedWords=Bt(or);var Rr=(or?or+" ":"")+ot.strict;this.reservedWordsStrict=Bt(Rr),this.reservedWordsStrictBind=Bt(Rr+" "+ot.strictBind),this.input=String(Nt),this.containsEsc=!1,Kt?(this.pos=Kt,this.lineStart=this.input.lastIndexOf(`
`,Kt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(wt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=pt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Lt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&Lt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(cr),this.regexpState=null},Gn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};cn.prototype.parse=function(){var Lt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Lt)},Gn.inFunction.get=function(){return(this.currentVarScope().flags&hr)>0},Gn.inGenerator.get=function(){return(this.currentVarScope().flags&tr)>0},Gn.inAsync.get=function(){return(this.currentVarScope().flags&gr)>0},Gn.allowSuper.get=function(){return(this.currentThisScope().flags&br)>0},Gn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&_r)>0},Gn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},cn.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&hr)>0},cn.extend=function(){for(var Lt=[],Nt=arguments.length;Nt--;)Lt[Nt]=arguments[Nt];for(var Kt=this,or=0;or<Lt.length;or++)Kt=Lt[or](Kt);return Kt},cn.parse=function(Lt,Nt){return new this(Nt,Lt).parse()},cn.parseExpressionAt=function(Lt,Nt,Kt){var or=new this(Kt,Lt,Nt);return or.nextToken(),or.parseExpression()},cn.tokenizer=function(Lt,Nt){return new this(Nt,Lt)},Object.defineProperties(cn.prototype,Gn);var Mn=cn.prototype,Er=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;Mn.strictDirective=function(_t){for(;;){Tt.lastIndex=_t,_t+=Tt.exec(this.input)[0].length;var Lt=Er.exec(this.input.slice(_t));if(!Lt)return!1;if((Lt[1]||Lt[2])==="use strict")return!0;_t+=Lt[0].length,Tt.lastIndex=_t,_t+=Tt.exec(this.input)[0].length,this.input[_t]===";"&&_t++}},Mn.eat=function(_t){return this.type===_t?(this.next(),!0):!1},Mn.isContextual=function(_t){return this.type===pt.name&&this.value===_t&&!this.containsEsc},Mn.eatContextual=function(_t){return this.isContextual(_t)?(this.next(),!0):!1},Mn.expectContextual=function(_t){this.eatContextual(_t)||this.unexpected()},Mn.canInsertSemicolon=function(){return this.type===pt.eof||this.type===pt.braceR||wt.test(this.input.slice(this.lastTokEnd,this.start))},Mn.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Mn.semicolon=function(){!this.eat(pt.semi)&&!this.insertSemicolon()&&this.unexpected()},Mn.afterTrailingComma=function(_t,Lt){if(this.type===_t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Lt||this.next(),!0},Mn.expect=function(_t){this.eat(_t)||this.unexpected()},Mn.unexpected=function(_t){this.raise(_t??this.start,"Unexpected token")};function Br(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}Mn.checkPatternErrors=function(_t,Lt){if(_t){_t.trailingComma>-1&&this.raiseRecoverable(_t.trailingComma,"Comma is not permitted after the rest element");var Nt=Lt?_t.parenthesizedAssign:_t.parenthesizedBind;Nt>-1&&this.raiseRecoverable(Nt,"Parenthesized pattern")}},Mn.checkExpressionErrors=function(_t,Lt){if(!_t)return!1;var Nt=_t.shorthandAssign,Kt=_t.doubleProto;if(!Lt)return Nt>=0||Kt>=0;Nt>=0&&this.raise(Nt,"Shorthand property assignments are valid only in destructuring patterns"),Kt>=0&&this.raiseRecoverable(Kt,"Redefinition of __proto__ property")},Mn.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Mn.isSimpleAssignTarget=function(_t){return _t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(_t.expression):_t.type==="Identifier"||_t.type==="MemberExpression"};var $r=cn.prototype;$r.parseTopLevel=function(_t){var Lt={};for(_t.body||(_t.body=[]);this.type!==pt.eof;){var Nt=this.parseStatement(null,!0,Lt);_t.body.push(Nt)}if(this.inModule)for(var Kt=0,or=Object.keys(this.undefinedExports);Kt<or.length;Kt+=1){var Sr=or[Kt];this.raiseRecoverable(this.undefinedExports[Sr].start,"Export '"+Sr+"' is not defined")}return this.adaptDirectivePrologue(_t.body),this.next(),_t.sourceType=this.options.sourceType,this.finishNode(_t,"Program")};var on={kind:"loop"},Xt={kind:"switch"};$r.isLet=function(_t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Tt.lastIndex=this.pos;var Lt=Tt.exec(this.input),Nt=this.pos+Lt[0].length,Kt=this.input.charCodeAt(Nt);if(Kt===91)return!0;if(_t)return!1;if(Kt===123)return!0;if(ht(Kt,!0)){for(var or=Nt+1;ut(this.input.charCodeAt(or),!0);)++or;var Sr=this.input.slice(Nt,or);if(!it.test(Sr))return!0}return!1},$r.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Tt.lastIndex=this.pos;var _t=Tt.exec(this.input),Lt=this.pos+_t[0].length;return!wt.test(this.input.slice(this.pos,Lt))&&this.input.slice(Lt,Lt+8)==="function"&&(Lt+8===this.input.length||!ut(this.input.charAt(Lt+8)))},$r.parseStatement=function(_t,Lt,Nt){var Kt=this.type,or=this.startNode(),Sr;switch(this.isLet(_t)&&(Kt=pt._var,Sr="let"),Kt){case pt._break:case pt._continue:return this.parseBreakContinueStatement(or,Kt.keyword);case pt._debugger:return this.parseDebuggerStatement(or);case pt._do:return this.parseDoStatement(or);case pt._for:return this.parseForStatement(or);case pt._function:return _t&&(this.strict||_t!=="if"&&_t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(or,!1,!_t);case pt._class:return _t&&this.unexpected(),this.parseClass(or,!0);case pt._if:return this.parseIfStatement(or);case pt._return:return this.parseReturnStatement(or);case pt._switch:return this.parseSwitchStatement(or);case pt._throw:return this.parseThrowStatement(or);case pt._try:return this.parseTryStatement(or);case pt._const:case pt._var:return Sr=Sr||this.value,_t&&Sr!=="var"&&this.unexpected(),this.parseVarStatement(or,Sr);case pt._while:return this.parseWhileStatement(or);case pt._with:return this.parseWithStatement(or);case pt.braceL:return this.parseBlock(!0,or);case pt.semi:return this.parseEmptyStatement(or);case pt._export:case pt._import:if(this.options.ecmaVersion>10&&Kt===pt._import){Tt.lastIndex=this.pos;var Rr=Tt.exec(this.input),jr=this.pos+Rr[0].length,rn=this.input.charCodeAt(jr);if(rn===40)return this.parseExpressionStatement(or,this.parseExpression())}return this.options.allowImportExportEverywhere||(Lt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Kt===pt._import?this.parseImport(or):this.parseExport(or,Nt);default:if(this.isAsyncFunction())return _t&&this.unexpected(),this.next(),this.parseFunctionStatement(or,!0,!_t);var _n=this.value,zn=this.parseExpression();return Kt===pt.name&&zn.type==="Identifier"&&this.eat(pt.colon)?this.parseLabeledStatement(or,_n,zn,_t):this.parseExpressionStatement(or,zn)}},$r.parseBreakContinueStatement=function(_t,Lt){var Nt=Lt==="break";this.next(),this.eat(pt.semi)||this.insertSemicolon()?_t.label=null:this.type!==pt.name?this.unexpected():(_t.label=this.parseIdent(),this.semicolon());for(var Kt=0;Kt<this.labels.length;++Kt){var or=this.labels[Kt];if((_t.label==null||or.name===_t.label.name)&&(or.kind!=null&&(Nt||or.kind==="loop")||_t.label&&Nt))break}return Kt===this.labels.length&&this.raise(_t.start,"Unsyntactic "+Lt),this.finishNode(_t,Nt?"BreakStatement":"ContinueStatement")},$r.parseDebuggerStatement=function(_t){return this.next(),this.semicolon(),this.finishNode(_t,"DebuggerStatement")},$r.parseDoStatement=function(_t){return this.next(),this.labels.push(on),_t.body=this.parseStatement("do"),this.labels.pop(),this.expect(pt._while),_t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(pt.semi):this.semicolon(),this.finishNode(_t,"DoWhileStatement")},$r.parseForStatement=function(_t){this.next();var Lt=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(on),this.enterScope(0),this.expect(pt.parenL),this.type===pt.semi)return Lt>-1&&this.unexpected(Lt),this.parseFor(_t,null);var Nt=this.isLet();if(this.type===pt._var||this.type===pt._const||Nt){var Kt=this.startNode(),or=Nt?"let":this.value;return this.next(),this.parseVar(Kt,!0,or),this.finishNode(Kt,"VariableDeclaration"),(this.type===pt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Kt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===pt._in?Lt>-1&&this.unexpected(Lt):_t.await=Lt>-1),this.parseForIn(_t,Kt)):(Lt>-1&&this.unexpected(Lt),this.parseFor(_t,Kt))}var Sr=new Br,Rr=this.parseExpression(!0,Sr);return this.type===pt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===pt._in?Lt>-1&&this.unexpected(Lt):_t.await=Lt>-1),this.toAssignable(Rr,!1,Sr),this.checkLVal(Rr),this.parseForIn(_t,Rr)):(this.checkExpressionErrors(Sr,!0),Lt>-1&&this.unexpected(Lt),this.parseFor(_t,Rr))},$r.parseFunctionStatement=function(_t,Lt,Nt){return this.next(),this.parseFunction(_t,lr|(Nt?0:Lr),!1,Lt)},$r.parseIfStatement=function(_t){return this.next(),_t.test=this.parseParenExpression(),_t.consequent=this.parseStatement("if"),_t.alternate=this.eat(pt._else)?this.parseStatement("if"):null,this.finishNode(_t,"IfStatement")},$r.parseReturnStatement=function(_t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(pt.semi)||this.insertSemicolon()?_t.argument=null:(_t.argument=this.parseExpression(),this.semicolon()),this.finishNode(_t,"ReturnStatement")},$r.parseSwitchStatement=function(_t){this.next(),_t.discriminant=this.parseParenExpression(),_t.cases=[],this.expect(pt.braceL),this.labels.push(Xt),this.enterScope(0);for(var Lt,Nt=!1;this.type!==pt.braceR;)if(this.type===pt._case||this.type===pt._default){var Kt=this.type===pt._case;Lt&&this.finishNode(Lt,"SwitchCase"),_t.cases.push(Lt=this.startNode()),Lt.consequent=[],this.next(),Kt?Lt.test=this.parseExpression():(Nt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Nt=!0,Lt.test=null),this.expect(pt.colon)}else Lt||this.unexpected(),Lt.consequent.push(this.parseStatement(null));return this.exitScope(),Lt&&this.finishNode(Lt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(_t,"SwitchStatement")},$r.parseThrowStatement=function(_t){return this.next(),wt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),_t.argument=this.parseExpression(),this.semicolon(),this.finishNode(_t,"ThrowStatement")};var er=[];$r.parseTryStatement=function(_t){if(this.next(),_t.block=this.parseBlock(),_t.handler=null,this.type===pt._catch){var Lt=this.startNode();if(this.next(),this.eat(pt.parenL)){Lt.param=this.parseBindingAtom();var Nt=Lt.param.type==="Identifier";this.enterScope(Nt?Yt:0),this.checkLVal(Lt.param,Nt?Bn:an),this.expect(pt.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),Lt.param=null,this.enterScope(0);Lt.body=this.parseBlock(!1),this.exitScope(),_t.handler=this.finishNode(Lt,"CatchClause")}return _t.finalizer=this.eat(pt._finally)?this.parseBlock():null,!_t.handler&&!_t.finalizer&&this.raise(_t.start,"Missing catch or finally clause"),this.finishNode(_t,"TryStatement")},$r.parseVarStatement=function(_t,Lt){return this.next(),this.parseVar(_t,!1,Lt),this.semicolon(),this.finishNode(_t,"VariableDeclaration")},$r.parseWhileStatement=function(_t){return this.next(),_t.test=this.parseParenExpression(),this.labels.push(on),_t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(_t,"WhileStatement")},$r.parseWithStatement=function(_t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),_t.object=this.parseParenExpression(),_t.body=this.parseStatement("with"),this.finishNode(_t,"WithStatement")},$r.parseEmptyStatement=function(_t){return this.next(),this.finishNode(_t,"EmptyStatement")},$r.parseLabeledStatement=function(_t,Lt,Nt,Kt){for(var or=0,Sr=this.labels;or<Sr.length;or+=1){var Rr=Sr[or];Rr.name===Lt&&this.raise(Nt.start,"Label '"+Lt+"' is already declared")}for(var jr=this.type.isLoop?"loop":this.type===pt._switch?"switch":null,rn=this.labels.length-1;rn>=0;rn--){var _n=this.labels[rn];if(_n.statementStart===_t.start)_n.statementStart=this.start,_n.kind=jr;else break}return this.labels.push({name:Lt,kind:jr,statementStart:this.start}),_t.body=this.parseStatement(Kt?Kt.indexOf("label")===-1?Kt+"label":Kt:"label"),this.labels.pop(),_t.label=Nt,this.finishNode(_t,"LabeledStatement")},$r.parseExpressionStatement=function(_t,Lt){return _t.expression=Lt,this.semicolon(),this.finishNode(_t,"ExpressionStatement")},$r.parseBlock=function(_t,Lt){for(_t===void 0&&(_t=!0),Lt===void 0&&(Lt=this.startNode()),Lt.body=[],this.expect(pt.braceL),_t&&this.enterScope(0);!this.eat(pt.braceR);){var Nt=this.parseStatement(null);Lt.body.push(Nt)}return _t&&this.exitScope(),this.finishNode(Lt,"BlockStatement")},$r.parseFor=function(_t,Lt){return _t.init=Lt,this.expect(pt.semi),_t.test=this.type===pt.semi?null:this.parseExpression(),this.expect(pt.semi),_t.update=this.type===pt.parenR?null:this.parseExpression(),this.expect(pt.parenR),_t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_t,"ForStatement")},$r.parseForIn=function(_t,Lt){var Nt=this.type===pt._in;return this.next(),Lt.type==="VariableDeclaration"&&Lt.declarations[0].init!=null&&(!Nt||this.options.ecmaVersion<8||this.strict||Lt.kind!=="var"||Lt.declarations[0].id.type!=="Identifier")?this.raise(Lt.start,(Nt?"for-in":"for-of")+" loop variable declaration may not have an initializer"):Lt.type==="AssignmentPattern"&&this.raise(Lt.start,"Invalid left-hand side in for-loop"),_t.left=Lt,_t.right=Nt?this.parseExpression():this.parseMaybeAssign(),this.expect(pt.parenR),_t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_t,Nt?"ForInStatement":"ForOfStatement")},$r.parseVar=function(_t,Lt,Nt){for(_t.declarations=[],_t.kind=Nt;;){var Kt=this.startNode();if(this.parseVarId(Kt,Nt),this.eat(pt.eq)?Kt.init=this.parseMaybeAssign(Lt):Nt==="const"&&!(this.type===pt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Kt.id.type!=="Identifier"&&!(Lt&&(this.type===pt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Kt.init=null,_t.declarations.push(this.finishNode(Kt,"VariableDeclarator")),!this.eat(pt.comma))break}return _t},$r.parseVarId=function(_t,Lt){_t.id=this.parseBindingAtom(),this.checkLVal(_t.id,Lt==="var"?nn:an,!1)};var lr=1,Lr=2,Nr=4;$r.parseFunction=function(_t,Lt,Nt,Kt){this.initFunction(_t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Kt)&&(this.type===pt.star&&Lt&Lr&&this.unexpected(),_t.generator=this.eat(pt.star)),this.options.ecmaVersion>=8&&(_t.async=!!Kt),Lt&lr&&(_t.id=Lt&Nr&&this.type!==pt.name?null:this.parseIdent(),_t.id&&!(Lt&Lr)&&this.checkLVal(_t.id,this.strict||_t.generator||_t.async?this.treatFunctionsAsVar?nn:an:In));var or=this.yieldPos,Sr=this.awaitPos,Rr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(fr(_t.async,_t.generator)),Lt&lr||(_t.id=this.type===pt.name?this.parseIdent():null),this.parseFunctionParams(_t),this.parseFunctionBody(_t,Nt,!1),this.yieldPos=or,this.awaitPos=Sr,this.awaitIdentPos=Rr,this.finishNode(_t,Lt&lr?"FunctionDeclaration":"FunctionExpression")},$r.parseFunctionParams=function(_t){this.expect(pt.parenL),_t.params=this.parseBindingList(pt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},$r.parseClass=function(_t,Lt){this.next();var Nt=this.strict;this.strict=!0,this.parseClassId(_t,Lt),this.parseClassSuper(_t);var Kt=this.startNode(),or=!1;for(Kt.body=[],this.expect(pt.braceL);!this.eat(pt.braceR);){var Sr=this.parseClassElement(_t.superClass!==null);Sr&&(Kt.body.push(Sr),Sr.type==="MethodDefinition"&&Sr.kind==="constructor"&&(or&&this.raise(Sr.start,"Duplicate constructor in the same class"),or=!0))}return _t.body=this.finishNode(Kt,"ClassBody"),this.strict=Nt,this.finishNode(_t,Lt?"ClassDeclaration":"ClassExpression")},$r.parseClassElement=function(_t){var Lt=this;if(this.eat(pt.semi))return null;var Nt=this.startNode(),Kt=function(rn,_n){_n===void 0&&(_n=!1);var zn=Lt.start,ts=Lt.startLoc;return Lt.eatContextual(rn)?Lt.type!==pt.parenL&&(!_n||!Lt.canInsertSemicolon())?!0:(Nt.key&&Lt.unexpected(),Nt.computed=!1,Nt.key=Lt.startNodeAt(zn,ts),Nt.key.name=rn,Lt.finishNode(Nt.key,"Identifier"),!1):!1};Nt.kind="method",Nt.static=Kt("static");var or=this.eat(pt.star),Sr=!1;or||(this.options.ecmaVersion>=8&&Kt("async",!0)?(Sr=!0,or=this.options.ecmaVersion>=9&&this.eat(pt.star)):Kt("get")?Nt.kind="get":Kt("set")&&(Nt.kind="set")),Nt.key||this.parsePropertyName(Nt);var Rr=Nt.key,jr=!1;return!Nt.computed&&!Nt.static&&(Rr.type==="Identifier"&&Rr.name==="constructor"||Rr.type==="Literal"&&Rr.value==="constructor")?(Nt.kind!=="method"&&this.raise(Rr.start,"Constructor can't have get/set modifier"),or&&this.raise(Rr.start,"Constructor can't be a generator"),Sr&&this.raise(Rr.start,"Constructor can't be an async method"),Nt.kind="constructor",jr=_t):Nt.static&&Rr.type==="Identifier"&&Rr.name==="prototype"&&this.raise(Rr.start,"Classes may not have a static property named prototype"),this.parseClassMethod(Nt,or,Sr,jr),Nt.kind==="get"&&Nt.value.params.length!==0&&this.raiseRecoverable(Nt.value.start,"getter should have no params"),Nt.kind==="set"&&Nt.value.params.length!==1&&this.raiseRecoverable(Nt.value.start,"setter should have exactly one param"),Nt.kind==="set"&&Nt.value.params[0].type==="RestElement"&&this.raiseRecoverable(Nt.value.params[0].start,"Setter cannot use rest params"),Nt},$r.parseClassMethod=function(_t,Lt,Nt,Kt){return _t.value=this.parseMethod(Lt,Nt,Kt),this.finishNode(_t,"MethodDefinition")},$r.parseClassId=function(_t,Lt){this.type===pt.name?(_t.id=this.parseIdent(),Lt&&this.checkLVal(_t.id,an,!1)):(Lt===!0&&this.unexpected(),_t.id=null)},$r.parseClassSuper=function(_t){_t.superClass=this.eat(pt._extends)?this.parseExprSubscripts():null},$r.parseExport=function(_t,Lt){if(this.next(),this.eat(pt.star))return this.expectContextual("from"),this.type!==pt.string&&this.unexpected(),_t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(_t,"ExportAllDeclaration");if(this.eat(pt._default)){this.checkExport(Lt,"default",this.lastTokStart);var Nt;if(this.type===pt._function||(Nt=this.isAsyncFunction())){var Kt=this.startNode();this.next(),Nt&&this.next(),_t.declaration=this.parseFunction(Kt,lr|Nr,!1,Nt)}else if(this.type===pt._class){var or=this.startNode();_t.declaration=this.parseClass(or,"nullableID")}else _t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(_t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())_t.declaration=this.parseStatement(null),_t.declaration.type==="VariableDeclaration"?this.checkVariableExport(Lt,_t.declaration.declarations):this.checkExport(Lt,_t.declaration.id.name,_t.declaration.id.start),_t.specifiers=[],_t.source=null;else{if(_t.declaration=null,_t.specifiers=this.parseExportSpecifiers(Lt),this.eatContextual("from"))this.type!==pt.string&&this.unexpected(),_t.source=this.parseExprAtom();else{for(var Sr=0,Rr=_t.specifiers;Sr<Rr.length;Sr+=1){var jr=Rr[Sr];this.checkUnreserved(jr.local),this.checkLocalExport(jr.local)}_t.source=null}this.semicolon()}return this.finishNode(_t,"ExportNamedDeclaration")},$r.checkExport=function(_t,Lt,Nt){_t&&(Mt(_t,Lt)&&this.raiseRecoverable(Nt,"Duplicate export '"+Lt+"'"),_t[Lt]=!0)},$r.checkPatternExport=function(_t,Lt){var Nt=Lt.type;if(Nt==="Identifier")this.checkExport(_t,Lt.name,Lt.start);else if(Nt==="ObjectPattern")for(var Kt=0,or=Lt.properties;Kt<or.length;Kt+=1){var Sr=or[Kt];this.checkPatternExport(_t,Sr)}else if(Nt==="ArrayPattern")for(var Rr=0,jr=Lt.elements;Rr<jr.length;Rr+=1){var rn=jr[Rr];rn&&this.checkPatternExport(_t,rn)}else Nt==="Property"?this.checkPatternExport(_t,Lt.value):Nt==="AssignmentPattern"?this.checkPatternExport(_t,Lt.left):Nt==="RestElement"?this.checkPatternExport(_t,Lt.argument):Nt==="ParenthesizedExpression"&&this.checkPatternExport(_t,Lt.expression)},$r.checkVariableExport=function(_t,Lt){if(_t)for(var Nt=0,Kt=Lt;Nt<Kt.length;Nt+=1){var or=Kt[Nt];this.checkPatternExport(_t,or.id)}},$r.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},$r.parseExportSpecifiers=function(_t){var Lt=[],Nt=!0;for(this.expect(pt.braceL);!this.eat(pt.braceR);){if(Nt)Nt=!1;else if(this.expect(pt.comma),this.afterTrailingComma(pt.braceR))break;var Kt=this.startNode();Kt.local=this.parseIdent(!0),Kt.exported=this.eatContextual("as")?this.parseIdent(!0):Kt.local,this.checkExport(_t,Kt.exported.name,Kt.exported.start),Lt.push(this.finishNode(Kt,"ExportSpecifier"))}return Lt},$r.parseImport=function(_t){return this.next(),this.type===pt.string?(_t.specifiers=er,_t.source=this.parseExprAtom()):(_t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),_t.source=this.type===pt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(_t,"ImportDeclaration")},$r.parseImportSpecifiers=function(){var _t=[],Lt=!0;if(this.type===pt.name){var Nt=this.startNode();if(Nt.local=this.parseIdent(),this.checkLVal(Nt.local,an),_t.push(this.finishNode(Nt,"ImportDefaultSpecifier")),!this.eat(pt.comma))return _t}if(this.type===pt.star){var Kt=this.startNode();return this.next(),this.expectContextual("as"),Kt.local=this.parseIdent(),this.checkLVal(Kt.local,an),_t.push(this.finishNode(Kt,"ImportNamespaceSpecifier")),_t}for(this.expect(pt.braceL);!this.eat(pt.braceR);){if(Lt)Lt=!1;else if(this.expect(pt.comma),this.afterTrailingComma(pt.braceR))break;var or=this.startNode();or.imported=this.parseIdent(!0),this.eatContextual("as")?or.local=this.parseIdent():(this.checkUnreserved(or.imported),or.local=or.imported),this.checkLVal(or.local,an),_t.push(this.finishNode(or,"ImportSpecifier"))}return _t},$r.adaptDirectivePrologue=function(_t){for(var Lt=0;Lt<_t.length&&this.isDirectiveCandidate(_t[Lt]);++Lt)_t[Lt].directive=_t[Lt].expression.raw.slice(1,-1)},$r.isDirectiveCandidate=function(_t){return _t.type==="ExpressionStatement"&&_t.expression.type==="Literal"&&typeof _t.expression.value=="string"&&(this.input[_t.start]==='"'||this.input[_t.start]==="'")};var Cr=cn.prototype;Cr.toAssignable=function(_t,Lt,Nt){if(this.options.ecmaVersion>=6&&_t)switch(_t.type){case"Identifier":this.inAsync&&_t.name==="await"&&this.raise(_t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":_t.type="ObjectPattern",Nt&&this.checkPatternErrors(Nt,!0);for(var Kt=0,or=_t.properties;Kt<or.length;Kt+=1){var Sr=or[Kt];this.toAssignable(Sr,Lt),Sr.type==="RestElement"&&(Sr.argument.type==="ArrayPattern"||Sr.argument.type==="ObjectPattern")&&this.raise(Sr.argument.start,"Unexpected token")}break;case"Property":_t.kind!=="init"&&this.raise(_t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(_t.value,Lt);break;case"ArrayExpression":_t.type="ArrayPattern",Nt&&this.checkPatternErrors(Nt,!0),this.toAssignableList(_t.elements,Lt);break;case"SpreadElement":_t.type="RestElement",this.toAssignable(_t.argument,Lt),_t.argument.type==="AssignmentPattern"&&this.raise(_t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":_t.operator!=="="&&this.raise(_t.left.end,"Only '=' operator can be used for specifying default value."),_t.type="AssignmentPattern",delete _t.operator,this.toAssignable(_t.left,Lt);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(_t.expression,Lt,Nt);break;case"MemberExpression":if(!Lt)break;default:this.raise(_t.start,"Assigning to rvalue")}else Nt&&this.checkPatternErrors(Nt,!0);return _t},Cr.toAssignableList=function(_t,Lt){for(var Nt=_t.length,Kt=0;Kt<Nt;Kt++){var or=_t[Kt];or&&this.toAssignable(or,Lt)}if(Nt){var Sr=_t[Nt-1];this.options.ecmaVersion===6&&Lt&&Sr&&Sr.type==="RestElement"&&Sr.argument.type!=="Identifier"&&this.unexpected(Sr.argument.start)}return _t},Cr.parseSpread=function(_t){var Lt=this.startNode();return this.next(),Lt.argument=this.parseMaybeAssign(!1,_t),this.finishNode(Lt,"SpreadElement")},Cr.parseRestBinding=function(){var _t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==pt.name&&this.unexpected(),_t.argument=this.parseBindingAtom(),this.finishNode(_t,"RestElement")},Cr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case pt.bracketL:var _t=this.startNode();return this.next(),_t.elements=this.parseBindingList(pt.bracketR,!0,!0),this.finishNode(_t,"ArrayPattern");case pt.braceL:return this.parseObj(!0)}return this.parseIdent()},Cr.parseBindingList=function(_t,Lt,Nt){for(var Kt=[],or=!0;!this.eat(_t);)if(or?or=!1:this.expect(pt.comma),Lt&&this.type===pt.comma)Kt.push(null);else{if(Nt&&this.afterTrailingComma(_t))break;if(this.type===pt.ellipsis){var Sr=this.parseRestBinding();this.parseBindingListItem(Sr),Kt.push(Sr),this.type===pt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(_t);break}else{var Rr=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(Rr),Kt.push(Rr)}}return Kt},Cr.parseBindingListItem=function(_t){return _t},Cr.parseMaybeDefault=function(_t,Lt,Nt){if(Nt=Nt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(pt.eq))return Nt;var Kt=this.startNodeAt(_t,Lt);return Kt.left=Nt,Kt.right=this.parseMaybeAssign(),this.finishNode(Kt,"AssignmentPattern")},Cr.checkLVal=function(_t,Lt,Nt){switch(Lt===void 0&&(Lt=Wr),_t.type){case"Identifier":Lt===an&&_t.name==="let"&&this.raiseRecoverable(_t.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(_t.name)&&this.raiseRecoverable(_t.start,(Lt?"Binding ":"Assigning to ")+_t.name+" in strict mode"),Nt&&(Mt(Nt,_t.name)&&this.raiseRecoverable(_t.start,"Argument name clash"),Nt[_t.name]=!0),Lt!==Wr&&Lt!==Pn&&this.declareName(_t.name,Lt,_t.start);break;case"MemberExpression":Lt&&this.raiseRecoverable(_t.start,"Binding member expression");break;case"ObjectPattern":for(var Kt=0,or=_t.properties;Kt<or.length;Kt+=1){var Sr=or[Kt];this.checkLVal(Sr,Lt,Nt)}break;case"Property":this.checkLVal(_t.value,Lt,Nt);break;case"ArrayPattern":for(var Rr=0,jr=_t.elements;Rr<jr.length;Rr+=1){var rn=jr[Rr];rn&&this.checkLVal(rn,Lt,Nt)}break;case"AssignmentPattern":this.checkLVal(_t.left,Lt,Nt);break;case"RestElement":this.checkLVal(_t.argument,Lt,Nt);break;case"ParenthesizedExpression":this.checkLVal(_t.expression,Lt,Nt);break;default:this.raise(_t.start,(Lt?"Binding":"Assigning to")+" rvalue")}};var Tr=cn.prototype;Tr.checkPropClash=function(_t,Lt,Nt){if(!(this.options.ecmaVersion>=9&&_t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(_t.computed||_t.method||_t.shorthand))){var Kt=_t.key,or;switch(Kt.type){case"Identifier":or=Kt.name;break;case"Literal":or=String(Kt.value);break;default:return}var Sr=_t.kind;if(this.options.ecmaVersion>=6){or==="__proto__"&&Sr==="init"&&(Lt.proto&&(Nt?Nt.doubleProto<0&&(Nt.doubleProto=Kt.start):this.raiseRecoverable(Kt.start,"Redefinition of __proto__ property")),Lt.proto=!0);return}or="$"+or;var Rr=Lt[or];if(Rr){var jr;Sr==="init"?jr=this.strict&&Rr.init||Rr.get||Rr.set:jr=Rr.init||Rr[Sr],jr&&this.raiseRecoverable(Kt.start,"Redefinition of property")}else Rr=Lt[or]={init:!1,get:!1,set:!1};Rr[Sr]=!0}},Tr.parseExpression=function(_t,Lt){var Nt=this.start,Kt=this.startLoc,or=this.parseMaybeAssign(_t,Lt);if(this.type===pt.comma){var Sr=this.startNodeAt(Nt,Kt);for(Sr.expressions=[or];this.eat(pt.comma);)Sr.expressions.push(this.parseMaybeAssign(_t,Lt));return this.finishNode(Sr,"SequenceExpression")}return or},Tr.parseMaybeAssign=function(_t,Lt,Nt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(_t);this.exprAllowed=!1}var Kt=!1,or=-1,Sr=-1;Lt?(or=Lt.parenthesizedAssign,Sr=Lt.trailingComma,Lt.parenthesizedAssign=Lt.trailingComma=-1):(Lt=new Br,Kt=!0);var Rr=this.start,jr=this.startLoc;(this.type===pt.parenL||this.type===pt.name)&&(this.potentialArrowAt=this.start);var rn=this.parseMaybeConditional(_t,Lt);if(Nt&&(rn=Nt.call(this,rn,Rr,jr)),this.type.isAssign){var _n=this.startNodeAt(Rr,jr);return _n.operator=this.value,_n.left=this.type===pt.eq?this.toAssignable(rn,!1,Lt):rn,Kt||(Lt.parenthesizedAssign=Lt.trailingComma=Lt.doubleProto=-1),Lt.shorthandAssign>=_n.left.start&&(Lt.shorthandAssign=-1),this.checkLVal(rn),this.next(),_n.right=this.parseMaybeAssign(_t),this.finishNode(_n,"AssignmentExpression")}else Kt&&this.checkExpressionErrors(Lt,!0);return or>-1&&(Lt.parenthesizedAssign=or),Sr>-1&&(Lt.trailingComma=Sr),rn},Tr.parseMaybeConditional=function(_t,Lt){var Nt=this.start,Kt=this.startLoc,or=this.parseExprOps(_t,Lt);if(this.checkExpressionErrors(Lt))return or;if(this.eat(pt.question)){var Sr=this.startNodeAt(Nt,Kt);return Sr.test=or,Sr.consequent=this.parseMaybeAssign(),this.expect(pt.colon),Sr.alternate=this.parseMaybeAssign(_t),this.finishNode(Sr,"ConditionalExpression")}return or},Tr.parseExprOps=function(_t,Lt){var Nt=this.start,Kt=this.startLoc,or=this.parseMaybeUnary(Lt,!1);return this.checkExpressionErrors(Lt)||or.start===Nt&&or.type==="ArrowFunctionExpression"?or:this.parseExprOp(or,Nt,Kt,-1,_t)},Tr.parseExprOp=function(_t,Lt,Nt,Kt,or){var Sr=this.type.binop;if(Sr!=null&&(!or||this.type!==pt._in)&&Sr>Kt){var Rr=this.type===pt.logicalOR||this.type===pt.logicalAND,jr=this.value;this.next();var rn=this.start,_n=this.startLoc,zn=this.parseExprOp(this.parseMaybeUnary(null,!1),rn,_n,Sr,or),ts=this.buildBinary(Lt,Nt,_t,zn,jr,Rr);return this.parseExprOp(ts,Lt,Nt,Kt,or)}return _t},Tr.buildBinary=function(_t,Lt,Nt,Kt,or,Sr){var Rr=this.startNodeAt(_t,Lt);return Rr.left=Nt,Rr.operator=or,Rr.right=Kt,this.finishNode(Rr,Sr?"LogicalExpression":"BinaryExpression")},Tr.parseMaybeUnary=function(_t,Lt){var Nt=this.start,Kt=this.startLoc,or;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))or=this.parseAwait(),Lt=!0;else if(this.type.prefix){var Sr=this.startNode(),Rr=this.type===pt.incDec;Sr.operator=this.value,Sr.prefix=!0,this.next(),Sr.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(_t,!0),Rr?this.checkLVal(Sr.argument):this.strict&&Sr.operator==="delete"&&Sr.argument.type==="Identifier"?this.raiseRecoverable(Sr.start,"Deleting local variable in strict mode"):Lt=!0,or=this.finishNode(Sr,Rr?"UpdateExpression":"UnaryExpression")}else{if(or=this.parseExprSubscripts(_t),this.checkExpressionErrors(_t))return or;for(;this.type.postfix&&!this.canInsertSemicolon();){var jr=this.startNodeAt(Nt,Kt);jr.operator=this.value,jr.prefix=!1,jr.argument=or,this.checkLVal(or),this.next(),or=this.finishNode(jr,"UpdateExpression")}}return!Lt&&this.eat(pt.starstar)?this.buildBinary(Nt,Kt,or,this.parseMaybeUnary(null,!1),"**",!1):or},Tr.parseExprSubscripts=function(_t){var Lt=this.start,Nt=this.startLoc,Kt=this.parseExprAtom(_t);if(Kt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Kt;var or=this.parseSubscripts(Kt,Lt,Nt);return _t&&or.type==="MemberExpression"&&(_t.parenthesizedAssign>=or.start&&(_t.parenthesizedAssign=-1),_t.parenthesizedBind>=or.start&&(_t.parenthesizedBind=-1)),or},Tr.parseSubscripts=function(_t,Lt,Nt,Kt){for(var or=this.options.ecmaVersion>=8&&_t.type==="Identifier"&&_t.name==="async"&&this.lastTokEnd===_t.end&&!this.canInsertSemicolon()&&this.input.slice(_t.start,_t.end)==="async";;){var Sr=this.parseSubscript(_t,Lt,Nt,Kt,or);if(Sr===_t||Sr.type==="ArrowFunctionExpression")return Sr;_t=Sr}},Tr.parseSubscript=function(_t,Lt,Nt,Kt,or){var Sr=this.eat(pt.bracketL);if(Sr||this.eat(pt.dot)){var Rr=this.startNodeAt(Lt,Nt);Rr.object=_t,Rr.property=Sr?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),Rr.computed=!!Sr,Sr&&this.expect(pt.bracketR),_t=this.finishNode(Rr,"MemberExpression")}else if(!Kt&&this.eat(pt.parenL)){var jr=new Br,rn=this.yieldPos,_n=this.awaitPos,zn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ts=this.parseExprList(pt.parenR,this.options.ecmaVersion>=8,!1,jr);if(or&&!this.canInsertSemicolon()&&this.eat(pt.arrow))return this.checkPatternErrors(jr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=rn,this.awaitPos=_n,this.awaitIdentPos=zn,this.parseArrowExpression(this.startNodeAt(Lt,Nt),ts,!0);this.checkExpressionErrors(jr,!0),this.yieldPos=rn||this.yieldPos,this.awaitPos=_n||this.awaitPos,this.awaitIdentPos=zn||this.awaitIdentPos;var os=this.startNodeAt(Lt,Nt);os.callee=_t,os.arguments=ts,_t=this.finishNode(os,"CallExpression")}else if(this.type===pt.backQuote){var hs=this.startNodeAt(Lt,Nt);hs.tag=_t,hs.quasi=this.parseTemplate({isTagged:!0}),_t=this.finishNode(hs,"TaggedTemplateExpression")}return _t},Tr.parseExprAtom=function(_t){this.type===pt.slash&&this.readRegexp();var Lt,Nt=this.potentialArrowAt===this.start;switch(this.type){case pt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Lt=this.startNode(),this.next(),this.type===pt.parenL&&!this.allowDirectSuper&&this.raise(Lt.start,"super() call outside constructor of a subclass"),this.type!==pt.dot&&this.type!==pt.bracketL&&this.type!==pt.parenL&&this.unexpected(),this.finishNode(Lt,"Super");case pt._this:return Lt=this.startNode(),this.next(),this.finishNode(Lt,"ThisExpression");case pt.name:var Kt=this.start,or=this.startLoc,Sr=this.containsEsc,Rr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Sr&&Rr.name==="async"&&!this.canInsertSemicolon()&&this.eat(pt._function))return this.parseFunction(this.startNodeAt(Kt,or),0,!1,!0);if(Nt&&!this.canInsertSemicolon()){if(this.eat(pt.arrow))return this.parseArrowExpression(this.startNodeAt(Kt,or),[Rr],!1);if(this.options.ecmaVersion>=8&&Rr.name==="async"&&this.type===pt.name&&!Sr)return Rr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(pt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Kt,or),[Rr],!0)}return Rr;case pt.regexp:var jr=this.value;return Lt=this.parseLiteral(jr.value),Lt.regex={pattern:jr.pattern,flags:jr.flags},Lt;case pt.num:case pt.string:return this.parseLiteral(this.value);case pt._null:case pt._true:case pt._false:return Lt=this.startNode(),Lt.value=this.type===pt._null?null:this.type===pt._true,Lt.raw=this.type.keyword,this.next(),this.finishNode(Lt,"Literal");case pt.parenL:var rn=this.start,_n=this.parseParenAndDistinguishExpression(Nt);return _t&&(_t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(_n)&&(_t.parenthesizedAssign=rn),_t.parenthesizedBind<0&&(_t.parenthesizedBind=rn)),_n;case pt.bracketL:return Lt=this.startNode(),this.next(),Lt.elements=this.parseExprList(pt.bracketR,!0,!0,_t),this.finishNode(Lt,"ArrayExpression");case pt.braceL:return this.parseObj(!1,_t);case pt._function:return Lt=this.startNode(),this.next(),this.parseFunction(Lt,0);case pt._class:return this.parseClass(this.startNode(),!1);case pt._new:return this.parseNew();case pt.backQuote:return this.parseTemplate();case pt._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Tr.parseExprImport=function(){var _t=this.startNode();switch(this.next(),this.type){case pt.parenL:return this.parseDynamicImport(_t);default:this.unexpected()}},Tr.parseDynamicImport=function(_t){if(this.next(),_t.source=this.parseMaybeAssign(),!this.eat(pt.parenR)){var Lt=this.start;this.eat(pt.comma)&&this.eat(pt.parenR)?this.raiseRecoverable(Lt,"Trailing comma is not allowed in import()"):this.unexpected(Lt)}return this.finishNode(_t,"ImportExpression")},Tr.parseLiteral=function(_t){var Lt=this.startNode();return Lt.value=_t,Lt.raw=this.input.slice(this.start,this.end),Lt.raw.charCodeAt(Lt.raw.length-1)===110&&(Lt.bigint=Lt.raw.slice(0,-1)),this.next(),this.finishNode(Lt,"Literal")},Tr.parseParenExpression=function(){this.expect(pt.parenL);var _t=this.parseExpression();return this.expect(pt.parenR),_t},Tr.parseParenAndDistinguishExpression=function(_t){var Lt=this.start,Nt=this.startLoc,Kt,or=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Sr=this.start,Rr=this.startLoc,jr=[],rn=!0,_n=!1,zn=new Br,ts=this.yieldPos,os=this.awaitPos,hs;for(this.yieldPos=0,this.awaitPos=0;this.type!==pt.parenR;)if(rn?rn=!1:this.expect(pt.comma),or&&this.afterTrailingComma(pt.parenR,!0)){_n=!0;break}else if(this.type===pt.ellipsis){hs=this.start,jr.push(this.parseParenItem(this.parseRestBinding())),this.type===pt.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else jr.push(this.parseMaybeAssign(!1,zn,this.parseParenItem));var Os=this.start,gn=this.startLoc;if(this.expect(pt.parenR),_t&&!this.canInsertSemicolon()&&this.eat(pt.arrow))return this.checkPatternErrors(zn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=ts,this.awaitPos=os,this.parseParenArrowList(Lt,Nt,jr);(!jr.length||_n)&&this.unexpected(this.lastTokStart),hs&&this.unexpected(hs),this.checkExpressionErrors(zn,!0),this.yieldPos=ts||this.yieldPos,this.awaitPos=os||this.awaitPos,jr.length>1?(Kt=this.startNodeAt(Sr,Rr),Kt.expressions=jr,this.finishNodeAt(Kt,"SequenceExpression",Os,gn)):Kt=jr[0]}else Kt=this.parseParenExpression();if(this.options.preserveParens){var bs=this.startNodeAt(Lt,Nt);return bs.expression=Kt,this.finishNode(bs,"ParenthesizedExpression")}else return Kt},Tr.parseParenItem=function(_t){return _t},Tr.parseParenArrowList=function(_t,Lt,Nt){return this.parseArrowExpression(this.startNodeAt(_t,Lt),Nt)};var Hr=[];Tr.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var _t=this.startNode(),Lt=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(pt.dot)){_t.meta=Lt;var Nt=this.containsEsc;return _t.property=this.parseIdent(!0),(_t.property.name!=="target"||Nt)&&this.raiseRecoverable(_t.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(_t.start,"new.target can only be used in functions"),this.finishNode(_t,"MetaProperty")}var Kt=this.start,or=this.startLoc,Sr=this.type===pt._import;return _t.callee=this.parseSubscripts(this.parseExprAtom(),Kt,or,!0),Sr&&_t.callee.type==="ImportExpression"&&this.raise(Kt,"Cannot use new with import()"),this.eat(pt.parenL)?_t.arguments=this.parseExprList(pt.parenR,this.options.ecmaVersion>=8,!1):_t.arguments=Hr,this.finishNode(_t,"NewExpression")},Tr.parseTemplateElement=function(_t){var Lt=_t.isTagged,Nt=this.startNode();return this.type===pt.invalidTemplate?(Lt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Nt.value={raw:this.value,cooked:null}):Nt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Nt.tail=this.type===pt.backQuote,this.finishNode(Nt,"TemplateElement")},Tr.parseTemplate=function(_t){_t===void 0&&(_t={});var Lt=_t.isTagged;Lt===void 0&&(Lt=!1);var Nt=this.startNode();this.next(),Nt.expressions=[];var Kt=this.parseTemplateElement({isTagged:Lt});for(Nt.quasis=[Kt];!Kt.tail;)this.type===pt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(pt.dollarBraceL),Nt.expressions.push(this.parseExpression()),this.expect(pt.braceR),Nt.quasis.push(Kt=this.parseTemplateElement({isTagged:Lt}));return this.next(),this.finishNode(Nt,"TemplateLiteral")},Tr.isAsyncProp=function(_t){return!_t.computed&&_t.key.type==="Identifier"&&_t.key.name==="async"&&(this.type===pt.name||this.type===pt.num||this.type===pt.string||this.type===pt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===pt.star)&&!wt.test(this.input.slice(this.lastTokEnd,this.start))},Tr.parseObj=function(_t,Lt){var Nt=this.startNode(),Kt=!0,or={};for(Nt.properties=[],this.next();!this.eat(pt.braceR);){if(Kt)Kt=!1;else if(this.expect(pt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(pt.braceR))break;var Sr=this.parseProperty(_t,Lt);_t||this.checkPropClash(Sr,or,Lt),Nt.properties.push(Sr)}return this.finishNode(Nt,_t?"ObjectPattern":"ObjectExpression")},Tr.parseProperty=function(_t,Lt){var Nt=this.startNode(),Kt,or,Sr,Rr;if(this.options.ecmaVersion>=9&&this.eat(pt.ellipsis))return _t?(Nt.argument=this.parseIdent(!1),this.type===pt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Nt,"RestElement")):(this.type===pt.parenL&&Lt&&(Lt.parenthesizedAssign<0&&(Lt.parenthesizedAssign=this.start),Lt.parenthesizedBind<0&&(Lt.parenthesizedBind=this.start)),Nt.argument=this.parseMaybeAssign(!1,Lt),this.type===pt.comma&&Lt&&Lt.trailingComma<0&&(Lt.trailingComma=this.start),this.finishNode(Nt,"SpreadElement"));this.options.ecmaVersion>=6&&(Nt.method=!1,Nt.shorthand=!1,(_t||Lt)&&(Sr=this.start,Rr=this.startLoc),_t||(Kt=this.eat(pt.star)));var jr=this.containsEsc;return this.parsePropertyName(Nt),!_t&&!jr&&this.options.ecmaVersion>=8&&!Kt&&this.isAsyncProp(Nt)?(or=!0,Kt=this.options.ecmaVersion>=9&&this.eat(pt.star),this.parsePropertyName(Nt,Lt)):or=!1,this.parsePropertyValue(Nt,_t,Kt,or,Sr,Rr,Lt,jr),this.finishNode(Nt,"Property")},Tr.parsePropertyValue=function(_t,Lt,Nt,Kt,or,Sr,Rr,jr){if((Nt||Kt)&&this.type===pt.colon&&this.unexpected(),this.eat(pt.colon))_t.value=Lt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Rr),_t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===pt.parenL)Lt&&this.unexpected(),_t.kind="init",_t.method=!0,_t.value=this.parseMethod(Nt,Kt);else if(!Lt&&!jr&&this.options.ecmaVersion>=5&&!_t.computed&&_t.key.type==="Identifier"&&(_t.key.name==="get"||_t.key.name==="set")&&this.type!==pt.comma&&this.type!==pt.braceR){(Nt||Kt)&&this.unexpected(),_t.kind=_t.key.name,this.parsePropertyName(_t),_t.value=this.parseMethod(!1);var rn=_t.kind==="get"?0:1;if(_t.value.params.length!==rn){var _n=_t.value.start;_t.kind==="get"?this.raiseRecoverable(_n,"getter should have no params"):this.raiseRecoverable(_n,"setter should have exactly one param")}else _t.kind==="set"&&_t.value.params[0].type==="RestElement"&&this.raiseRecoverable(_t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!_t.computed&&_t.key.type==="Identifier"?((Nt||Kt)&&this.unexpected(),this.checkUnreserved(_t.key),_t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=or),_t.kind="init",Lt?_t.value=this.parseMaybeDefault(or,Sr,_t.key):this.type===pt.eq&&Rr?(Rr.shorthandAssign<0&&(Rr.shorthandAssign=this.start),_t.value=this.parseMaybeDefault(or,Sr,_t.key)):_t.value=_t.key,_t.shorthand=!0):this.unexpected()},Tr.parsePropertyName=function(_t){if(this.options.ecmaVersion>=6){if(this.eat(pt.bracketL))return _t.computed=!0,_t.key=this.parseMaybeAssign(),this.expect(pt.bracketR),_t.key;_t.computed=!1}return _t.key=this.type===pt.num||this.type===pt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Tr.initFunction=function(_t){_t.id=null,this.options.ecmaVersion>=6&&(_t.generator=_t.expression=!1),this.options.ecmaVersion>=8&&(_t.async=!1)},Tr.parseMethod=function(_t,Lt,Nt){var Kt=this.startNode(),or=this.yieldPos,Sr=this.awaitPos,Rr=this.awaitIdentPos;return this.initFunction(Kt),this.options.ecmaVersion>=6&&(Kt.generator=_t),this.options.ecmaVersion>=8&&(Kt.async=!!Lt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(fr(Lt,Kt.generator)|br|(Nt?_r:0)),this.expect(pt.parenL),Kt.params=this.parseBindingList(pt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Kt,!1,!0),this.yieldPos=or,this.awaitPos=Sr,this.awaitIdentPos=Rr,this.finishNode(Kt,"FunctionExpression")},Tr.parseArrowExpression=function(_t,Lt,Nt){var Kt=this.yieldPos,or=this.awaitPos,Sr=this.awaitIdentPos;return this.enterScope(fr(Nt,!1)|rr),this.initFunction(_t),this.options.ecmaVersion>=8&&(_t.async=!!Nt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,_t.params=this.toAssignableList(Lt,!0),this.parseFunctionBody(_t,!0,!1),this.yieldPos=Kt,this.awaitPos=or,this.awaitIdentPos=Sr,this.finishNode(_t,"ArrowFunctionExpression")},Tr.parseFunctionBody=function(_t,Lt,Nt){var Kt=Lt&&this.type!==pt.braceL,or=this.strict,Sr=!1;if(Kt)_t.body=this.parseMaybeAssign(),_t.expression=!0,this.checkParams(_t,!1);else{var Rr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(_t.params);(!or||Rr)&&(Sr=this.strictDirective(this.end),Sr&&Rr&&this.raiseRecoverable(_t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var jr=this.labels;this.labels=[],Sr&&(this.strict=!0),this.checkParams(_t,!or&&!Sr&&!Lt&&!Nt&&this.isSimpleParamList(_t.params)),_t.body=this.parseBlock(!1),_t.expression=!1,this.adaptDirectivePrologue(_t.body.body),this.labels=jr}this.exitScope(),this.strict&&_t.id&&this.checkLVal(_t.id,Pn),this.strict=or},Tr.isSimpleParamList=function(_t){for(var Lt=0,Nt=_t;Lt<Nt.length;Lt+=1){var Kt=Nt[Lt];if(Kt.type!=="Identifier")return!1}return!0},Tr.checkParams=function(_t,Lt){for(var Nt={},Kt=0,or=_t.params;Kt<or.length;Kt+=1){var Sr=or[Kt];this.checkLVal(Sr,nn,Lt?null:Nt)}},Tr.parseExprList=function(_t,Lt,Nt,Kt){for(var or=[],Sr=!0;!this.eat(_t);){if(Sr)Sr=!1;else if(this.expect(pt.comma),Lt&&this.afterTrailingComma(_t))break;var Rr=void 0;Nt&&this.type===pt.comma?Rr=null:this.type===pt.ellipsis?(Rr=this.parseSpread(Kt),Kt&&this.type===pt.comma&&Kt.trailingComma<0&&(Kt.trailingComma=this.start)):Rr=this.parseMaybeAssign(!1,Kt),or.push(Rr)}return or},Tr.checkUnreserved=function(_t){var Lt=_t.start,Nt=_t.end,Kt=_t.name;if(this.inGenerator&&Kt==="yield"&&this.raiseRecoverable(Lt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Kt==="await"&&this.raiseRecoverable(Lt,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Kt)&&this.raise(Lt,"Unexpected keyword '"+Kt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Lt,Nt).indexOf("\\")!==-1)){var or=this.strict?this.reservedWordsStrict:this.reservedWords;or.test(Kt)&&(!this.inAsync&&Kt==="await"&&this.raiseRecoverable(Lt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Lt,"The keyword '"+Kt+"' is reserved"))}},Tr.parseIdent=function(_t,Lt){var Nt=this.startNode();return this.type===pt.name?Nt.name=this.value:this.type.keyword?(Nt.name=this.type.keyword,(Nt.name==="class"||Nt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!_t),this.finishNode(Nt,"Identifier"),_t||(this.checkUnreserved(Nt),Nt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Nt.start)),Nt},Tr.parseYield=function(_t){this.yieldPos||(this.yieldPos=this.start);var Lt=this.startNode();return this.next(),this.type===pt.semi||this.canInsertSemicolon()||this.type!==pt.star&&!this.type.startsExpr?(Lt.delegate=!1,Lt.argument=null):(Lt.delegate=this.eat(pt.star),Lt.argument=this.parseMaybeAssign(_t)),this.finishNode(Lt,"YieldExpression")},Tr.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var _t=this.startNode();return this.next(),_t.argument=this.parseMaybeUnary(null,!1),this.finishNode(_t,"AwaitExpression")};var sn=cn.prototype;sn.raise=function(_t,Lt){var Nt=Vt(this.input,_t);Lt+=" ("+Nt.line+":"+Nt.column+")";var Kt=new SyntaxError(Lt);throw Kt.pos=_t,Kt.loc=Nt,Kt.raisedAt=this.pos,Kt},sn.raiseRecoverable=sn.raise,sn.curPosition=function(){if(this.options.locations)return new qt(this.curLine,this.pos-this.lineStart)};var Or=cn.prototype,qr=function(Lt){this.flags=Lt,this.var=[],this.lexical=[],this.functions=[]};Or.enterScope=function(_t){this.scopeStack.push(new qr(_t))},Or.exitScope=function(){this.scopeStack.pop()},Or.treatFunctionsAsVarInScope=function(_t){return _t.flags&hr||!this.inModule&&_t.flags&cr},Or.declareName=function(_t,Lt,Nt){var Kt=!1;if(Lt===an){var or=this.currentScope();Kt=or.lexical.indexOf(_t)>-1||or.functions.indexOf(_t)>-1||or.var.indexOf(_t)>-1,or.lexical.push(_t),this.inModule&&or.flags&cr&&delete this.undefinedExports[_t]}else if(Lt===Bn){var Sr=this.currentScope();Sr.lexical.push(_t)}else if(Lt===In){var Rr=this.currentScope();this.treatFunctionsAsVar?Kt=Rr.lexical.indexOf(_t)>-1:Kt=Rr.lexical.indexOf(_t)>-1||Rr.var.indexOf(_t)>-1,Rr.functions.push(_t)}else for(var jr=this.scopeStack.length-1;jr>=0;--jr){var rn=this.scopeStack[jr];if(rn.lexical.indexOf(_t)>-1&&!(rn.flags&Yt&&rn.lexical[0]===_t)||!this.treatFunctionsAsVarInScope(rn)&&rn.functions.indexOf(_t)>-1){Kt=!0;break}if(rn.var.push(_t),this.inModule&&rn.flags&cr&&delete this.undefinedExports[_t],rn.flags&dr)break}Kt&&this.raiseRecoverable(Nt,"Identifier '"+_t+"' has already been declared")},Or.checkLocalExport=function(_t){this.scopeStack[0].lexical.indexOf(_t.name)===-1&&this.scopeStack[0].var.indexOf(_t.name)===-1&&(this.undefinedExports[_t.name]=_t)},Or.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Or.currentVarScope=function(){for(var _t=this.scopeStack.length-1;;_t--){var Lt=this.scopeStack[_t];if(Lt.flags&dr)return Lt}},Or.currentThisScope=function(){for(var _t=this.scopeStack.length-1;;_t--){var Lt=this.scopeStack[_t];if(Lt.flags&dr&&!(Lt.flags&rr))return Lt}};var Gr=function(Lt,Nt,Kt){this.type="",this.start=Nt,this.end=0,Lt.options.locations&&(this.loc=new Wt(Lt,Kt)),Lt.options.directSourceFile&&(this.sourceFile=Lt.options.directSourceFile),Lt.options.ranges&&(this.range=[Nt,0])},Ur=cn.prototype;Ur.startNode=function(){return new Gr(this,this.start,this.startLoc)},Ur.startNodeAt=function(_t,Lt){return new Gr(this,_t,Lt)};function vn(_t,Lt,Nt,Kt){return _t.type=Lt,_t.end=Nt,this.options.locations&&(_t.loc.end=Kt),this.options.ranges&&(_t.range[1]=Nt),_t}Ur.finishNode=function(_t,Lt){return vn.call(this,_t,Lt,this.lastTokEnd,this.lastTokEndLoc)},Ur.finishNodeAt=function(_t,Lt,Nt,Kt){return vn.call(this,_t,Lt,Nt,Kt)};var Ar=function(Lt,Nt,Kt,or,Sr){this.token=Lt,this.isExpr=!!Nt,this.preserveSpace=!!Kt,this.override=or,this.generator=!!Sr},dn={b_stat:new Ar("{",!1),b_expr:new Ar("{",!0),b_tmpl:new Ar("${",!1),p_stat:new Ar("(",!1),p_expr:new Ar("(",!0),q_tmpl:new Ar("`",!0,!0,function(_t){return _t.tryReadTemplateToken()}),f_stat:new Ar("function",!1),f_expr:new Ar("function",!0),f_expr_gen:new Ar("function",!0,!1,null,!0),f_gen:new Ar("function",!1,!1,null,!0)},ks=cn.prototype;ks.initialContext=function(){return[dn.b_stat]},ks.braceIsBlock=function(_t){var Lt=this.curContext();return Lt===dn.f_expr||Lt===dn.f_stat?!0:_t===pt.colon&&(Lt===dn.b_stat||Lt===dn.b_expr)?!Lt.isExpr:_t===pt._return||_t===pt.name&&this.exprAllowed?wt.test(this.input.slice(this.lastTokEnd,this.start)):_t===pt._else||_t===pt.semi||_t===pt.eof||_t===pt.parenR||_t===pt.arrow?!0:_t===pt.braceL?Lt===dn.b_stat:_t===pt._var||_t===pt._const||_t===pt.name?!1:!this.exprAllowed},ks.inGeneratorContext=function(){for(var _t=this.context.length-1;_t>=1;_t--){var Lt=this.context[_t];if(Lt.token==="function")return Lt.generator}return!1},ks.updateContext=function(_t){var Lt,Nt=this.type;Nt.keyword&&_t===pt.dot?this.exprAllowed=!1:(Lt=Nt.updateContext)?Lt.call(this,_t):this.exprAllowed=Nt.beforeExpr},pt.parenR.updateContext=pt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var _t=this.context.pop();_t===dn.b_stat&&this.curContext().token==="function"&&(_t=this.context.pop()),this.exprAllowed=!_t.isExpr},pt.braceL.updateContext=function(_t){this.context.push(this.braceIsBlock(_t)?dn.b_stat:dn.b_expr),this.exprAllowed=!0},pt.dollarBraceL.updateContext=function(){this.context.push(dn.b_tmpl),this.exprAllowed=!0},pt.parenL.updateContext=function(_t){var Lt=_t===pt._if||_t===pt._for||_t===pt._with||_t===pt._while;this.context.push(Lt?dn.p_stat:dn.p_expr),this.exprAllowed=!0},pt.incDec.updateContext=function(){},pt._function.updateContext=pt._class.updateContext=function(_t){_t.beforeExpr&&_t!==pt.semi&&_t!==pt._else&&!(_t===pt._return&&wt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((_t===pt.colon||_t===pt.braceL)&&this.curContext()===dn.b_stat)?this.context.push(dn.f_expr):this.context.push(dn.f_stat),this.exprAllowed=!1},pt.backQuote.updateContext=function(){this.curContext()===dn.q_tmpl?this.context.pop():this.context.push(dn.q_tmpl),this.exprAllowed=!1},pt.star.updateContext=function(_t){if(_t===pt._function){var Lt=this.context.length-1;this.context[Lt]===dn.f_expr?this.context[Lt]=dn.f_expr_gen:this.context[Lt]=dn.f_gen}this.exprAllowed=!0},pt.name.updateContext=function(_t){var Lt=!1;this.options.ecmaVersion>=6&&_t!==pt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Lt=!0),this.exprAllowed=Lt};var ds="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",qn=ds+" Extended_Pictographic",So=qn,Qn={9:ds,10:qn,11:So},ps="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Js="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ps=Js+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",eo=Ps+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Us={9:Js,10:Ps,11:eo},Xn={};function Ws(_t){var Lt=Xn[_t]={binary:Bt(Qn[_t]+" "+ps),nonBinary:{General_Category:Bt(ps),Script:Bt(Us[_t])}};Lt.nonBinary.Script_Extensions=Lt.nonBinary.Script,Lt.nonBinary.gc=Lt.nonBinary.General_Category,Lt.nonBinary.sc=Lt.nonBinary.Script,Lt.nonBinary.scx=Lt.nonBinary.Script_Extensions}Ws(9),Ws(10),Ws(11);var Zr=cn.prototype,us=function(Lt){this.parser=Lt,this.validFlags="gim"+(Lt.options.ecmaVersion>=6?"uy":"")+(Lt.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Xn[Lt.options.ecmaVersion>=11?11:Lt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};us.prototype.reset=function(Lt,Nt,Kt){var or=Kt.indexOf("u")!==-1;this.start=Lt|0,this.source=Nt+"",this.flags=Kt,this.switchU=or&&this.parser.options.ecmaVersion>=6,this.switchN=or&&this.parser.options.ecmaVersion>=9},us.prototype.raise=function(Lt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Lt)},us.prototype.at=function(Lt){var Nt=this.source,Kt=Nt.length;if(Lt>=Kt)return-1;var or=Nt.charCodeAt(Lt);if(!this.switchU||or<=55295||or>=57344||Lt+1>=Kt)return or;var Sr=Nt.charCodeAt(Lt+1);return Sr>=56320&&Sr<=57343?(or<<10)+Sr-56613888:or},us.prototype.nextIndex=function(Lt){var Nt=this.source,Kt=Nt.length;if(Lt>=Kt)return Kt;var or=Nt.charCodeAt(Lt),Sr;return!this.switchU||or<=55295||or>=57344||Lt+1>=Kt||(Sr=Nt.charCodeAt(Lt+1))<56320||Sr>57343?Lt+1:Lt+2},us.prototype.current=function(){return this.at(this.pos)},us.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},us.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},us.prototype.eat=function(Lt){return this.current()===Lt?(this.advance(),!0):!1};function Hs(_t){return _t<=65535?String.fromCharCode(_t):(_t-=65536,String.fromCharCode((_t>>10)+55296,(_t&1023)+56320))}Zr.validateRegExpFlags=function(_t){for(var Lt=_t.validFlags,Nt=_t.flags,Kt=0;Kt<Nt.length;Kt++){var or=Nt.charAt(Kt);Lt.indexOf(or)===-1&&this.raise(_t.start,"Invalid regular expression flag"),Nt.indexOf(or,Kt+1)>-1&&this.raise(_t.start,"Duplicate regular expression flag")}},Zr.validateRegExpPattern=function(_t){this.regexp_pattern(_t),!_t.switchN&&this.options.ecmaVersion>=9&&_t.groupNames.length>0&&(_t.switchN=!0,this.regexp_pattern(_t))},Zr.regexp_pattern=function(_t){_t.pos=0,_t.lastIntValue=0,_t.lastStringValue="",_t.lastAssertionIsQuantifiable=!1,_t.numCapturingParens=0,_t.maxBackReference=0,_t.groupNames.length=0,_t.backReferenceNames.length=0,this.regexp_disjunction(_t),_t.pos!==_t.source.length&&(_t.eat(41)&&_t.raise("Unmatched ')'"),(_t.eat(93)||_t.eat(125))&&_t.raise("Lone quantifier brackets")),_t.maxBackReference>_t.numCapturingParens&&_t.raise("Invalid escape");for(var Lt=0,Nt=_t.backReferenceNames;Lt<Nt.length;Lt+=1){var Kt=Nt[Lt];_t.groupNames.indexOf(Kt)===-1&&_t.raise("Invalid named capture referenced")}},Zr.regexp_disjunction=function(_t){for(this.regexp_alternative(_t);_t.eat(124);)this.regexp_alternative(_t);this.regexp_eatQuantifier(_t,!0)&&_t.raise("Nothing to repeat"),_t.eat(123)&&_t.raise("Lone quantifier brackets")},Zr.regexp_alternative=function(_t){for(;_t.pos<_t.source.length&&this.regexp_eatTerm(_t););},Zr.regexp_eatTerm=function(_t){return this.regexp_eatAssertion(_t)?(_t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(_t)&&_t.switchU&&_t.raise("Invalid quantifier"),!0):(_t.switchU?this.regexp_eatAtom(_t):this.regexp_eatExtendedAtom(_t))?(this.regexp_eatQuantifier(_t),!0):!1},Zr.regexp_eatAssertion=function(_t){var Lt=_t.pos;if(_t.lastAssertionIsQuantifiable=!1,_t.eat(94)||_t.eat(36))return!0;if(_t.eat(92)){if(_t.eat(66)||_t.eat(98))return!0;_t.pos=Lt}if(_t.eat(40)&&_t.eat(63)){var Nt=!1;if(this.options.ecmaVersion>=9&&(Nt=_t.eat(60)),_t.eat(61)||_t.eat(33))return this.regexp_disjunction(_t),_t.eat(41)||_t.raise("Unterminated group"),_t.lastAssertionIsQuantifiable=!Nt,!0}return _t.pos=Lt,!1},Zr.regexp_eatQuantifier=function(_t,Lt){return Lt===void 0&&(Lt=!1),this.regexp_eatQuantifierPrefix(_t,Lt)?(_t.eat(63),!0):!1},Zr.regexp_eatQuantifierPrefix=function(_t,Lt){return _t.eat(42)||_t.eat(43)||_t.eat(63)||this.regexp_eatBracedQuantifier(_t,Lt)},Zr.regexp_eatBracedQuantifier=function(_t,Lt){var Nt=_t.pos;if(_t.eat(123)){var Kt=0,or=-1;if(this.regexp_eatDecimalDigits(_t)&&(Kt=_t.lastIntValue,_t.eat(44)&&this.regexp_eatDecimalDigits(_t)&&(or=_t.lastIntValue),_t.eat(125)))return or!==-1&&or<Kt&&!Lt&&_t.raise("numbers out of order in {} quantifier"),!0;_t.switchU&&!Lt&&_t.raise("Incomplete quantifier"),_t.pos=Nt}return!1},Zr.regexp_eatAtom=function(_t){return this.regexp_eatPatternCharacters(_t)||_t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_t)||this.regexp_eatCharacterClass(_t)||this.regexp_eatUncapturingGroup(_t)||this.regexp_eatCapturingGroup(_t)},Zr.regexp_eatReverseSolidusAtomEscape=function(_t){var Lt=_t.pos;if(_t.eat(92)){if(this.regexp_eatAtomEscape(_t))return!0;_t.pos=Lt}return!1},Zr.regexp_eatUncapturingGroup=function(_t){var Lt=_t.pos;if(_t.eat(40)){if(_t.eat(63)&&_t.eat(58)){if(this.regexp_disjunction(_t),_t.eat(41))return!0;_t.raise("Unterminated group")}_t.pos=Lt}return!1},Zr.regexp_eatCapturingGroup=function(_t){if(_t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(_t):_t.current()===63&&_t.raise("Invalid group"),this.regexp_disjunction(_t),_t.eat(41))return _t.numCapturingParens+=1,!0;_t.raise("Unterminated group")}return!1},Zr.regexp_eatExtendedAtom=function(_t){return _t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_t)||this.regexp_eatCharacterClass(_t)||this.regexp_eatUncapturingGroup(_t)||this.regexp_eatCapturingGroup(_t)||this.regexp_eatInvalidBracedQuantifier(_t)||this.regexp_eatExtendedPatternCharacter(_t)},Zr.regexp_eatInvalidBracedQuantifier=function(_t){return this.regexp_eatBracedQuantifier(_t,!0)&&_t.raise("Nothing to repeat"),!1},Zr.regexp_eatSyntaxCharacter=function(_t){var Lt=_t.current();return uo(Lt)?(_t.lastIntValue=Lt,_t.advance(),!0):!1};function uo(_t){return _t===36||_t>=40&&_t<=43||_t===46||_t===63||_t>=91&&_t<=94||_t>=123&&_t<=125}Zr.regexp_eatPatternCharacters=function(_t){for(var Lt=_t.pos,Nt=0;(Nt=_t.current())!==-1&&!uo(Nt);)_t.advance();return _t.pos!==Lt},Zr.regexp_eatExtendedPatternCharacter=function(_t){var Lt=_t.current();return Lt!==-1&&Lt!==36&&!(Lt>=40&&Lt<=43)&&Lt!==46&&Lt!==63&&Lt!==91&&Lt!==94&&Lt!==124?(_t.advance(),!0):!1},Zr.regexp_groupSpecifier=function(_t){if(_t.eat(63)){if(this.regexp_eatGroupName(_t)){_t.groupNames.indexOf(_t.lastStringValue)!==-1&&_t.raise("Duplicate capture group name"),_t.groupNames.push(_t.lastStringValue);return}_t.raise("Invalid group")}},Zr.regexp_eatGroupName=function(_t){if(_t.lastStringValue="",_t.eat(60)){if(this.regexp_eatRegExpIdentifierName(_t)&&_t.eat(62))return!0;_t.raise("Invalid capture group name")}return!1},Zr.regexp_eatRegExpIdentifierName=function(_t){if(_t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(_t)){for(_t.lastStringValue+=Hs(_t.lastIntValue);this.regexp_eatRegExpIdentifierPart(_t);)_t.lastStringValue+=Hs(_t.lastIntValue);return!0}return!1},Zr.regexp_eatRegExpIdentifierStart=function(_t){var Lt=_t.pos,Nt=_t.current();return _t.advance(),Nt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(_t)&&(Nt=_t.lastIntValue),Wn(Nt)?(_t.lastIntValue=Nt,!0):(_t.pos=Lt,!1)};function Wn(_t){return ht(_t,!0)||_t===36||_t===95}Zr.regexp_eatRegExpIdentifierPart=function(_t){var Lt=_t.pos,Nt=_t.current();return _t.advance(),Nt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(_t)&&(Nt=_t.lastIntValue),co(Nt)?(_t.lastIntValue=Nt,!0):(_t.pos=Lt,!1)};function co(_t){return ut(_t,!0)||_t===36||_t===95||_t===8204||_t===8205}Zr.regexp_eatAtomEscape=function(_t){return this.regexp_eatBackReference(_t)||this.regexp_eatCharacterClassEscape(_t)||this.regexp_eatCharacterEscape(_t)||_t.switchN&&this.regexp_eatKGroupName(_t)?!0:(_t.switchU&&(_t.current()===99&&_t.raise("Invalid unicode escape"),_t.raise("Invalid escape")),!1)},Zr.regexp_eatBackReference=function(_t){var Lt=_t.pos;if(this.regexp_eatDecimalEscape(_t)){var Nt=_t.lastIntValue;if(_t.switchU)return Nt>_t.maxBackReference&&(_t.maxBackReference=Nt),!0;if(Nt<=_t.numCapturingParens)return!0;_t.pos=Lt}return!1},Zr.regexp_eatKGroupName=function(_t){if(_t.eat(107)){if(this.regexp_eatGroupName(_t))return _t.backReferenceNames.push(_t.lastStringValue),!0;_t.raise("Invalid named reference")}return!1},Zr.regexp_eatCharacterEscape=function(_t){return this.regexp_eatControlEscape(_t)||this.regexp_eatCControlLetter(_t)||this.regexp_eatZero(_t)||this.regexp_eatHexEscapeSequence(_t)||this.regexp_eatRegExpUnicodeEscapeSequence(_t)||!_t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(_t)||this.regexp_eatIdentityEscape(_t)},Zr.regexp_eatCControlLetter=function(_t){var Lt=_t.pos;if(_t.eat(99)){if(this.regexp_eatControlLetter(_t))return!0;_t.pos=Lt}return!1},Zr.regexp_eatZero=function(_t){return _t.current()===48&&!cs(_t.lookahead())?(_t.lastIntValue=0,_t.advance(),!0):!1},Zr.regexp_eatControlEscape=function(_t){var Lt=_t.current();return Lt===116?(_t.lastIntValue=9,_t.advance(),!0):Lt===110?(_t.lastIntValue=10,_t.advance(),!0):Lt===118?(_t.lastIntValue=11,_t.advance(),!0):Lt===102?(_t.lastIntValue=12,_t.advance(),!0):Lt===114?(_t.lastIntValue=13,_t.advance(),!0):!1},Zr.regexp_eatControlLetter=function(_t){var Lt=_t.current();return to(Lt)?(_t.lastIntValue=Lt%32,_t.advance(),!0):!1};function to(_t){return _t>=65&&_t<=90||_t>=97&&_t<=122}Zr.regexp_eatRegExpUnicodeEscapeSequence=function(_t){var Lt=_t.pos;if(_t.eat(117)){if(this.regexp_eatFixedHexDigits(_t,4)){var Nt=_t.lastIntValue;if(_t.switchU&&Nt>=55296&&Nt<=56319){var Kt=_t.pos;if(_t.eat(92)&&_t.eat(117)&&this.regexp_eatFixedHexDigits(_t,4)){var or=_t.lastIntValue;if(or>=56320&&or<=57343)return _t.lastIntValue=(Nt-55296)*1024+(or-56320)+65536,!0}_t.pos=Kt,_t.lastIntValue=Nt}return!0}if(_t.switchU&&_t.eat(123)&&this.regexp_eatHexDigits(_t)&&_t.eat(125)&&ho(_t.lastIntValue))return!0;_t.switchU&&_t.raise("Invalid unicode escape"),_t.pos=Lt}return!1};function ho(_t){return _t>=0&&_t<=1114111}Zr.regexp_eatIdentityEscape=function(_t){if(_t.switchU)return this.regexp_eatSyntaxCharacter(_t)?!0:_t.eat(47)?(_t.lastIntValue=47,!0):!1;var Lt=_t.current();return Lt!==99&&(!_t.switchN||Lt!==107)?(_t.lastIntValue=Lt,_t.advance(),!0):!1},Zr.regexp_eatDecimalEscape=function(_t){_t.lastIntValue=0;var Lt=_t.current();if(Lt>=49&&Lt<=57){do _t.lastIntValue=10*_t.lastIntValue+(Lt-48),_t.advance();while((Lt=_t.current())>=48&&Lt<=57);return!0}return!1},Zr.regexp_eatCharacterClassEscape=function(_t){var Lt=_t.current();if(fo(Lt))return _t.lastIntValue=-1,_t.advance(),!0;if(_t.switchU&&this.options.ecmaVersion>=9&&(Lt===80||Lt===112)){if(_t.lastIntValue=-1,_t.advance(),_t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(_t)&&_t.eat(125))return!0;_t.raise("Invalid property name")}return!1};function fo(_t){return _t===100||_t===68||_t===115||_t===83||_t===119||_t===87}Zr.regexp_eatUnicodePropertyValueExpression=function(_t){var Lt=_t.pos;if(this.regexp_eatUnicodePropertyName(_t)&&_t.eat(61)){var Nt=_t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(_t)){var Kt=_t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(_t,Nt,Kt),!0}}if(_t.pos=Lt,this.regexp_eatLoneUnicodePropertyNameOrValue(_t)){var or=_t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(_t,or),!0}return!1},Zr.regexp_validateUnicodePropertyNameAndValue=function(_t,Lt,Nt){Mt(_t.unicodeProperties.nonBinary,Lt)||_t.raise("Invalid property name"),_t.unicodeProperties.nonBinary[Lt].test(Nt)||_t.raise("Invalid property value")},Zr.regexp_validateUnicodePropertyNameOrValue=function(_t,Lt){_t.unicodeProperties.binary.test(Lt)||_t.raise("Invalid property name")},Zr.regexp_eatUnicodePropertyName=function(_t){var Lt=0;for(_t.lastStringValue="";ro(Lt=_t.current());)_t.lastStringValue+=Hs(Lt),_t.advance();return _t.lastStringValue!==""};function ro(_t){return to(_t)||_t===95}Zr.regexp_eatUnicodePropertyValue=function(_t){var Lt=0;for(_t.lastStringValue="";xs(Lt=_t.current());)_t.lastStringValue+=Hs(Lt),_t.advance();return _t.lastStringValue!==""};function xs(_t){return ro(_t)||cs(_t)}Zr.regexp_eatLoneUnicodePropertyNameOrValue=function(_t){return this.regexp_eatUnicodePropertyValue(_t)},Zr.regexp_eatCharacterClass=function(_t){if(_t.eat(91)){if(_t.eat(94),this.regexp_classRanges(_t),_t.eat(93))return!0;_t.raise("Unterminated character class")}return!1},Zr.regexp_classRanges=function(_t){for(;this.regexp_eatClassAtom(_t);){var Lt=_t.lastIntValue;if(_t.eat(45)&&this.regexp_eatClassAtom(_t)){var Nt=_t.lastIntValue;_t.switchU&&(Lt===-1||Nt===-1)&&_t.raise("Invalid character class"),Lt!==-1&&Nt!==-1&&Lt>Nt&&_t.raise("Range out of order in character class")}}},Zr.regexp_eatClassAtom=function(_t){var Lt=_t.pos;if(_t.eat(92)){if(this.regexp_eatClassEscape(_t))return!0;if(_t.switchU){var Nt=_t.current();(Nt===99||Cs(Nt))&&_t.raise("Invalid class escape"),_t.raise("Invalid escape")}_t.pos=Lt}var Kt=_t.current();return Kt!==93?(_t.lastIntValue=Kt,_t.advance(),!0):!1},Zr.regexp_eatClassEscape=function(_t){var Lt=_t.pos;if(_t.eat(98))return _t.lastIntValue=8,!0;if(_t.switchU&&_t.eat(45))return _t.lastIntValue=45,!0;if(!_t.switchU&&_t.eat(99)){if(this.regexp_eatClassControlLetter(_t))return!0;_t.pos=Lt}return this.regexp_eatCharacterClassEscape(_t)||this.regexp_eatCharacterEscape(_t)},Zr.regexp_eatClassControlLetter=function(_t){var Lt=_t.current();return cs(Lt)||Lt===95?(_t.lastIntValue=Lt%32,_t.advance(),!0):!1},Zr.regexp_eatHexEscapeSequence=function(_t){var Lt=_t.pos;if(_t.eat(120)){if(this.regexp_eatFixedHexDigits(_t,2))return!0;_t.switchU&&_t.raise("Invalid escape"),_t.pos=Lt}return!1},Zr.regexp_eatDecimalDigits=function(_t){var Lt=_t.pos,Nt=0;for(_t.lastIntValue=0;cs(Nt=_t.current());)_t.lastIntValue=10*_t.lastIntValue+(Nt-48),_t.advance();return _t.pos!==Lt};function cs(_t){return _t>=48&&_t<=57}Zr.regexp_eatHexDigits=function(_t){var Lt=_t.pos,Nt=0;for(_t.lastIntValue=0;no(Nt=_t.current());)_t.lastIntValue=16*_t.lastIntValue+ms(Nt),_t.advance();return _t.pos!==Lt};function no(_t){return _t>=48&&_t<=57||_t>=65&&_t<=70||_t>=97&&_t<=102}function ms(_t){return _t>=65&&_t<=70?10+(_t-65):_t>=97&&_t<=102?10+(_t-97):_t-48}Zr.regexp_eatLegacyOctalEscapeSequence=function(_t){if(this.regexp_eatOctalDigit(_t)){var Lt=_t.lastIntValue;if(this.regexp_eatOctalDigit(_t)){var Nt=_t.lastIntValue;Lt<=3&&this.regexp_eatOctalDigit(_t)?_t.lastIntValue=Lt*64+Nt*8+_t.lastIntValue:_t.lastIntValue=Lt*8+Nt}else _t.lastIntValue=Lt;return!0}return!1},Zr.regexp_eatOctalDigit=function(_t){var Lt=_t.current();return Cs(Lt)?(_t.lastIntValue=Lt-48,_t.advance(),!0):(_t.lastIntValue=0,!1)};function Cs(_t){return _t>=48&&_t<=55}Zr.regexp_eatFixedHexDigits=function(_t,Lt){var Nt=_t.pos;_t.lastIntValue=0;for(var Kt=0;Kt<Lt;++Kt){var or=_t.current();if(!no(or))return _t.pos=Nt,!1;_t.lastIntValue=16*_t.lastIntValue+ms(or),_t.advance()}return!0};var Ds=function(Lt){this.type=Lt.type,this.value=Lt.value,this.start=Lt.start,this.end=Lt.end,Lt.options.locations&&(this.loc=new Wt(Lt,Lt.startLoc,Lt.endLoc)),Lt.options.ranges&&(this.range=[Lt.start,Lt.end])},pn=cn.prototype;pn.next=function(_t){!_t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ds(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},pn.getToken=function(){return this.next(),new Ds(this)},typeof Symbol<"u"&&(pn[Symbol.iterator]=function(){var _t=this;return{next:function(){var Lt=_t.getToken();return{done:Lt.type===pt.eof,value:Lt}}}}),pn.curContext=function(){return this.context[this.context.length-1]},pn.nextToken=function(){var _t=this.curContext();if((!_t||!_t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(pt.eof);if(_t.override)return _t.override(this);this.readToken(this.fullCharCodeAtPos())},pn.readToken=function(_t){return ht(_t,this.options.ecmaVersion>=6)||_t===92?this.readWord():this.getTokenFromCode(_t)},pn.fullCharCodeAtPos=function(){var _t=this.input.charCodeAt(this.pos);if(_t<=55295||_t>=57344)return _t;var Lt=this.input.charCodeAt(this.pos+1);return(_t<<10)+Lt-56613888},pn.skipBlockComment=function(){var _t=this.options.onComment&&this.curPosition(),Lt=this.pos,Nt=this.input.indexOf("*/",this.pos+=2);if(Nt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Nt+2,this.options.locations){Et.lastIndex=Lt;for(var Kt;(Kt=Et.exec(this.input))&&Kt.index<this.pos;)++this.curLine,this.lineStart=Kt.index+Kt[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(Lt+2,Nt),Lt,this.pos,_t,this.curPosition())},pn.skipLineComment=function(_t){for(var Lt=this.pos,Nt=this.options.onComment&&this.curPosition(),Kt=this.input.charCodeAt(this.pos+=_t);this.pos<this.input.length&&!Ct(Kt);)Kt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Lt+_t,this.pos),Lt,this.pos,Nt,this.curPosition())},pn.skipSpace=function(){e:for(;this.pos<this.input.length;){var _t=this.input.charCodeAt(this.pos);switch(_t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(_t>8&&_t<14||_t>=5760&&kt.test(String.fromCharCode(_t)))++this.pos;else break e}}},pn.finishToken=function(_t,Lt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Nt=this.type;this.type=_t,this.value=Lt,this.updateContext(Nt)},pn.readToken_dot=function(){var _t=this.input.charCodeAt(this.pos+1);if(_t>=48&&_t<=57)return this.readNumber(!0);var Lt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&_t===46&&Lt===46?(this.pos+=3,this.finishToken(pt.ellipsis)):(++this.pos,this.finishToken(pt.dot))},pn.readToken_slash=function(){var _t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):_t===61?this.finishOp(pt.assign,2):this.finishOp(pt.slash,1)},pn.readToken_mult_modulo_exp=function(_t){var Lt=this.input.charCodeAt(this.pos+1),Nt=1,Kt=_t===42?pt.star:pt.modulo;return this.options.ecmaVersion>=7&&_t===42&&Lt===42&&(++Nt,Kt=pt.starstar,Lt=this.input.charCodeAt(this.pos+2)),Lt===61?this.finishOp(pt.assign,Nt+1):this.finishOp(Kt,Nt)},pn.readToken_pipe_amp=function(_t){var Lt=this.input.charCodeAt(this.pos+1);return Lt===_t?this.finishOp(_t===124?pt.logicalOR:pt.logicalAND,2):Lt===61?this.finishOp(pt.assign,2):this.finishOp(_t===124?pt.bitwiseOR:pt.bitwiseAND,1)},pn.readToken_caret=function(){var _t=this.input.charCodeAt(this.pos+1);return _t===61?this.finishOp(pt.assign,2):this.finishOp(pt.bitwiseXOR,1)},pn.readToken_plus_min=function(_t){var Lt=this.input.charCodeAt(this.pos+1);return Lt===_t?Lt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||wt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(pt.incDec,2):Lt===61?this.finishOp(pt.assign,2):this.finishOp(pt.plusMin,1)},pn.readToken_lt_gt=function(_t){var Lt=this.input.charCodeAt(this.pos+1),Nt=1;return Lt===_t?(Nt=_t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Nt)===61?this.finishOp(pt.assign,Nt+1):this.finishOp(pt.bitShift,Nt)):Lt===33&&_t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Lt===61&&(Nt=2),this.finishOp(pt.relational,Nt))},pn.readToken_eq_excl=function(_t){var Lt=this.input.charCodeAt(this.pos+1);return Lt===61?this.finishOp(pt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):_t===61&&Lt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(pt.arrow)):this.finishOp(_t===61?pt.eq:pt.prefix,1)},pn.getTokenFromCode=function(_t){switch(_t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(pt.parenL);case 41:return++this.pos,this.finishToken(pt.parenR);case 59:return++this.pos,this.finishToken(pt.semi);case 44:return++this.pos,this.finishToken(pt.comma);case 91:return++this.pos,this.finishToken(pt.bracketL);case 93:return++this.pos,this.finishToken(pt.bracketR);case 123:return++this.pos,this.finishToken(pt.braceL);case 125:return++this.pos,this.finishToken(pt.braceR);case 58:return++this.pos,this.finishToken(pt.colon);case 63:return++this.pos,this.finishToken(pt.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(pt.backQuote);case 48:var Lt=this.input.charCodeAt(this.pos+1);if(Lt===120||Lt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Lt===111||Lt===79)return this.readRadixNumber(8);if(Lt===98||Lt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(_t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(_t);case 124:case 38:return this.readToken_pipe_amp(_t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(_t);case 60:case 62:return this.readToken_lt_gt(_t);case 61:case 33:return this.readToken_eq_excl(_t);case 126:return this.finishOp(pt.prefix,1)}this.raise(this.pos,"Unexpected character '"+Kr(_t)+"'")},pn.finishOp=function(_t,Lt){var Nt=this.input.slice(this.pos,this.pos+Lt);return this.pos+=Lt,this.finishToken(_t,Nt)},pn.readRegexp=function(){for(var _t,Lt,Nt=this.pos;;){this.pos>=this.input.length&&this.raise(Nt,"Unterminated regular expression");var Kt=this.input.charAt(this.pos);if(wt.test(Kt)&&this.raise(Nt,"Unterminated regular expression"),_t)_t=!1;else{if(Kt==="[")Lt=!0;else if(Kt==="]"&&Lt)Lt=!1;else if(Kt==="/"&&!Lt)break;_t=Kt==="\\"}++this.pos}var or=this.input.slice(Nt,this.pos);++this.pos;var Sr=this.pos,Rr=this.readWord1();this.containsEsc&&this.unexpected(Sr);var jr=this.regexpState||(this.regexpState=new us(this));jr.reset(Nt,or,Rr),this.validateRegExpFlags(jr),this.validateRegExpPattern(jr);var rn=null;try{rn=new RegExp(or,Rr)}catch{}return this.finishToken(pt.regexp,{pattern:or,flags:Rr,value:rn})},pn.readInt=function(_t,Lt){for(var Nt=this.pos,Kt=0,or=0,Sr=Lt??1/0;or<Sr;++or){var Rr=this.input.charCodeAt(this.pos),jr=void 0;if(Rr>=97?jr=Rr-97+10:Rr>=65?jr=Rr-65+10:Rr>=48&&Rr<=57?jr=Rr-48:jr=1/0,jr>=_t)break;++this.pos,Kt=Kt*_t+jr}return this.pos===Nt||Lt!=null&&this.pos-Nt!==Lt?null:Kt},pn.readRadixNumber=function(_t){var Lt=this.pos;this.pos+=2;var Nt=this.readInt(_t);return Nt==null&&this.raise(this.start+2,"Expected number in radix "+_t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Nt=typeof BigInt<"u"?BigInt(this.input.slice(Lt,this.pos)):null,++this.pos):ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(pt.num,Nt)},pn.readNumber=function(_t){var Lt=this.pos;!_t&&this.readInt(10)===null&&this.raise(Lt,"Invalid number");var Nt=this.pos-Lt>=2&&this.input.charCodeAt(Lt)===48;Nt&&this.strict&&this.raise(Lt,"Invalid number");var Kt=this.input.charCodeAt(this.pos);if(!Nt&&!_t&&this.options.ecmaVersion>=11&&Kt===110){var or=this.input.slice(Lt,this.pos),Sr=typeof BigInt<"u"?BigInt(or):null;return++this.pos,ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(pt.num,Sr)}Nt&&/[89]/.test(this.input.slice(Lt,this.pos))&&(Nt=!1),Kt===46&&!Nt&&(++this.pos,this.readInt(10),Kt=this.input.charCodeAt(this.pos)),(Kt===69||Kt===101)&&!Nt&&(Kt=this.input.charCodeAt(++this.pos),(Kt===43||Kt===45)&&++this.pos,this.readInt(10)===null&&this.raise(Lt,"Invalid number")),ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Rr=this.input.slice(Lt,this.pos),jr=Nt?parseInt(Rr,8):parseFloat(Rr);return this.finishToken(pt.num,jr)},pn.readCodePoint=function(){var _t=this.input.charCodeAt(this.pos),Lt;if(_t===123){this.options.ecmaVersion<6&&this.unexpected();var Nt=++this.pos;Lt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Lt>1114111&&this.invalidStringToken(Nt,"Code point out of bounds")}else Lt=this.readHexChar(4);return Lt};function Kr(_t){return _t<=65535?String.fromCharCode(_t):(_t-=65536,String.fromCharCode((_t>>10)+55296,(_t&1023)+56320))}pn.readString=function(_t){for(var Lt="",Nt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Kt=this.input.charCodeAt(this.pos);if(Kt===_t)break;Kt===92?(Lt+=this.input.slice(Nt,this.pos),Lt+=this.readEscapedChar(!1),Nt=this.pos):(Ct(Kt,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Lt+=this.input.slice(Nt,this.pos++),this.finishToken(pt.string,Lt)};var _i={};pn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(_t){if(_t===_i)this.readInvalidTemplateToken();else throw _t}this.inTemplateElement=!1},pn.invalidStringToken=function(_t,Lt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw _i;this.raise(_t,Lt)},pn.readTmplToken=function(){for(var _t="",Lt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Nt=this.input.charCodeAt(this.pos);if(Nt===96||Nt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===pt.template||this.type===pt.invalidTemplate)?Nt===36?(this.pos+=2,this.finishToken(pt.dollarBraceL)):(++this.pos,this.finishToken(pt.backQuote)):(_t+=this.input.slice(Lt,this.pos),this.finishToken(pt.template,_t));if(Nt===92)_t+=this.input.slice(Lt,this.pos),_t+=this.readEscapedChar(!0),Lt=this.pos;else if(Ct(Nt)){switch(_t+=this.input.slice(Lt,this.pos),++this.pos,Nt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:_t+=`
`;break;default:_t+=String.fromCharCode(Nt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Lt=this.pos}else++this.pos}},pn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(pt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},pn.readEscapedChar=function(_t){var Lt=this.input.charCodeAt(++this.pos);switch(++this.pos,Lt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Kr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(_t){var Nt=this.pos-1;return this.invalidStringToken(Nt,"Invalid escape sequence in template string"),null}default:if(Lt>=48&&Lt<=55){var Kt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],or=parseInt(Kt,8);return or>255&&(Kt=Kt.slice(0,-1),or=parseInt(Kt,8)),this.pos+=Kt.length-1,Lt=this.input.charCodeAt(this.pos),(Kt!=="0"||Lt===56||Lt===57)&&(this.strict||_t)&&this.invalidStringToken(this.pos-1-Kt.length,_t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(or)}return Ct(Lt)?"":String.fromCharCode(Lt)}},pn.readHexChar=function(_t){var Lt=this.pos,Nt=this.readInt(16,_t);return Nt===null&&this.invalidStringToken(Lt,"Bad character escape sequence"),Nt},pn.readWord1=function(){this.containsEsc=!1;for(var _t="",Lt=!0,Nt=this.pos,Kt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var or=this.fullCharCodeAtPos();if(ut(or,Kt))this.pos+=or<=65535?1:2;else if(or===92){this.containsEsc=!0,_t+=this.input.slice(Nt,this.pos);var Sr=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Rr=this.readCodePoint();(Lt?ht:ut)(Rr,Kt)||this.invalidStringToken(Sr,"Invalid Unicode escape"),_t+=Kr(Rr),Nt=this.pos}else break;Lt=!1}return _t+this.input.slice(Nt,this.pos)},pn.readWord=function(){var _t=this.readWord1(),Lt=pt.name;return this.keywords.test(_t)&&(Lt=St[_t]),this.finishToken(Lt,_t)};var es="7.1.0";cn.acorn={Parser:cn,version:es,defaultOptions:Ht,Position:qt,SourceLocation:Wt,getLineInfo:Vt,Node:Gr,TokenType:mt,tokTypes:pt,keywordTypes:St,TokContext:Ar,tokContexts:dn,isIdentifierChar:ut,isIdentifierStart:ht,Token:Ds,isNewLine:Ct,lineBreak:wt,lineBreakG:Et,nonASCIIwhitespace:kt};function _o(_t,Lt){return cn.parse(_t,Lt)}function po(_t,Lt,Nt){return cn.parseExpressionAt(_t,Lt,Nt)}function mo(_t,Lt){return cn.tokenizer(_t,Lt)}tt.Node=Gr,tt.Parser=cn,tt.Position=qt,tt.SourceLocation=Wt,tt.TokContext=Ar,tt.Token=Ds,tt.TokenType=mt,tt.defaultOptions=Ht,tt.getLineInfo=Vt,tt.isIdentifierChar=ut,tt.isIdentifierStart=ht,tt.isNewLine=Ct,tt.keywordTypes=St,tt.lineBreak=wt,tt.lineBreakG=Et,tt.nonASCIIwhitespace=kt,tt.parse=_o,tt.parseExpressionAt=po,tt.tokContexts=dn,tt.tokTypes=pt,tt.tokenizer=mo,tt.version=es,Object.defineProperty(tt,"__esModule",{value:!0})})},{}],2:[function(o,a,nt){},{}],3:[function(o,a,nt){function tt(j,_={}){const{contextName:$="gl",throwGetError:et,useTrackablePrimitives:st,readPixelsFile:lt,recording:ct=[],variables:ht={},onReadPixels:ut,onUnrecognizedArgumentLookup:mt}=_,gt=new Proxy(j,{get:wt}),vt=[],dt={};let St=0,yt="",pt;return gt;function wt(Vt,Ht){switch(Ht){case"addComment":return Mt;case"checkThrowError":return Dt;case"getReadPixelsVariableName":return pt;case"insertVariable":return kt;case"reset":return Ct;case"setIndent":return At;case"toString":return Et;case"getContextVariableName":return Wt}return typeof j[Ht]=="function"?function(){switch(Ht){case"getError":return et?ct.push(`${yt}if (${$}.getError() !== ${$}.NONE) throw new Error('error');`):ct.push(`${yt}${$}.getError();`),j.getError();case"getExtension":{const dr=`${$}Variables${vt.length}`;ct.push(`${yt}const ${dr} = ${$}.getExtension('${arguments[0]}');`);const gr=j.getExtension(arguments[0]);if(gr&&typeof gr=="object"){const tr=ot(gr,{getEntity:Tt,useTrackablePrimitives:st,recording:ct,contextName:dr,contextVariables:vt,variables:ht,indent:yt,onUnrecognizedArgumentLookup:mt});return vt.push(tr),tr}else vt.push(null);return gr}case"readPixels":const Qt=vt.indexOf(arguments[6]);let cr;if(Qt===-1){const dr=qt(arguments[6]);dr?(cr=dr,ct.push(`${yt}${dr}`)):(cr=`${$}Variable${vt.length}`,vt.push(arguments[6]),ct.push(`${yt}const ${cr} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else cr=`${$}Variable${Qt}`;pt=cr;const hr=[arguments[0],arguments[1],arguments[2],arguments[3],Tt(arguments[4]),Tt(arguments[5]),cr];return ct.push(`${yt}${$}.readPixels(${hr.join(", ")});`),lt&&Ot(arguments[2],arguments[3]),ut&&ut(cr,hr),j.readPixels.apply(j,arguments);case"drawBuffers":return ct.push(`${yt}${$}.drawBuffers([${at(arguments[0],{contextName:$,contextVariables:vt,getEntity:Tt,addVariable:It,variables:ht,onUnrecognizedArgumentLookup:mt})}]);`),j.drawBuffers(arguments[0])}let Jt=j[Ht].apply(j,arguments);switch(typeof Jt){case"undefined":ct.push(`${yt}${Bt(Ht,arguments)};`);return;case"number":case"boolean":if(st&&vt.indexOf(it(Jt))===-1){ct.push(`${yt}const ${$}Variable${vt.length} = ${Bt(Ht,arguments)};`),vt.push(Jt=it(Jt));break}default:Jt===null?ct.push(`${Bt(Ht,arguments)};`):ct.push(`${yt}const ${$}Variable${vt.length} = ${Bt(Ht,arguments)};`),vt.push(Jt)}return Jt}:(dt[j[Ht]]=Ht,j[Ht])}function Et(){return ct.join(`
`)}function Ct(){for(;ct.length>0;)ct.pop()}function kt(Vt,Ht){ht[Vt]=Ht}function Tt(Vt){const Ht=dt[Vt];return Ht?$+"."+Ht:Vt}function At(Vt){yt=" ".repeat(Vt)}function It(Vt,Ht){const Jt=`${$}Variable${vt.length}`;return ct.push(`${yt}const ${Jt} = ${Ht};`),vt.push(Vt),Jt}function Ot(Vt,Ht){const Jt=`${$}Variable${vt.length}`,Qt=`imageDatum${St}`;ct.push(`${yt}let ${Qt} = ["P3\\n# ${lt}.ppm\\n", ${Vt}, ' ', ${Ht}, "\\n255\\n"].join("");`),ct.push(`${yt}for (let i = 0; i < ${Qt}.length; i += 4) {`),ct.push(`${yt}  ${Qt} += ${Jt}[i] + ' ' + ${Jt}[i + 1] + ' ' + ${Jt}[i + 2] + ' ';`),ct.push(`${yt}}`),ct.push(`${yt}if (typeof require !== "undefined") {`),ct.push(`${yt}  require('fs').writeFileSync('./${lt}.ppm', ${Qt});`),ct.push(`${yt}}`),St++}function Mt(Vt){ct.push(`${yt}// ${Vt}`)}function Dt(){ct.push(`${yt}(() => {
${yt}const error = ${$}.getError();
${yt}if (error !== ${$}.NONE) {
${yt}  const names = Object.getOwnPropertyNames(gl);
${yt}  for (let i = 0; i < names.length; i++) {
${yt}    const name = names[i];
${yt}    if (${$}[name] === error) {
${yt}      throw new Error('${$} threw ' + name);
${yt}    }
${yt}  }
${yt}}
${yt}})();`)}function Bt(Vt,Ht){return`${$}.${Vt}(${at(Ht,{contextName:$,contextVariables:vt,getEntity:Tt,addVariable:It,variables:ht,onUnrecognizedArgumentLookup:mt})})`}function qt(Vt){if(ht){for(const Ht in ht)if(ht[Ht]===Vt)return Ht}return null}function Wt(Vt){const Ht=vt.indexOf(Vt);return Ht!==-1?`${$}Variable${Ht}`:null}}function ot(j,_){const $=new Proxy(j,{get:dt}),et={},{contextName:st,contextVariables:lt,getEntity:ct,useTrackablePrimitives:ht,recording:ut,variables:mt,indent:gt,onUnrecognizedArgumentLookup:vt}=_;return $;function dt(wt,Et){return typeof wt[Et]=="function"?function(){switch(Et){case"drawBuffersWEBGL":return ut.push(`${gt}${st}.drawBuffersWEBGL([${at(arguments[0],{contextName:st,contextVariables:lt,getEntity:St,addVariable:pt,variables:mt,onUnrecognizedArgumentLookup:vt})}]);`),j.drawBuffersWEBGL(arguments[0])}let Ct=j[Et].apply(j,arguments);switch(typeof Ct){case"undefined":ut.push(`${gt}${yt(Et,arguments)};`);return;case"number":case"boolean":ht&&lt.indexOf(it(Ct))===-1?(ut.push(`${gt}const ${st}Variable${lt.length} = ${yt(Et,arguments)};`),lt.push(Ct=it(Ct))):(ut.push(`${gt}const ${st}Variable${lt.length} = ${yt(Et,arguments)};`),lt.push(Ct));break;default:Ct===null?ut.push(`${yt(Et,arguments)};`):ut.push(`${gt}const ${st}Variable${lt.length} = ${yt(Et,arguments)};`),lt.push(Ct)}return Ct}:(et[j[Et]]=Et,j[Et])}function St(wt){return et.hasOwnProperty(wt)?`${st}.${et[wt]}`:ct(wt)}function yt(wt,Et){return`${st}.${wt}(${at(Et,{contextName:st,contextVariables:lt,getEntity:St,addVariable:pt,variables:mt,onUnrecognizedArgumentLookup:vt})})`}function pt(wt,Et){const Ct=`${st}Variable${lt.length}`;return lt.push(wt),ut.push(`${gt}const ${Ct} = ${Et};`),Ct}}function at(j,_){const{variables:$,onUnrecognizedArgumentLookup:et}=_;return Array.from(j).map(lt=>{const ct=st(lt);return ct||rt(lt,_)}).join(", ");function st(lt){if($){for(const ct in $)if($.hasOwnProperty(ct)&&$[ct]===lt)return ct}return et?et(lt):null}}function rt(j,_){const{contextName:$,contextVariables:et,getEntity:st,addVariable:lt,onUnrecognizedArgumentLookup:ct}=_;if(typeof j>"u")return"undefined";if(j===null)return"null";const ht=et.indexOf(j);if(ht>-1)return`${$}Variable${ht}`;switch(j.constructor.name){case"String":const ut=/\n/.test(j),mt=/'/.test(j),gt=/"/.test(j);return ut?"`"+j+"`":mt&&!gt?'"'+j+'"':"'"+j+"'";case"Number":return st(j);case"Boolean":return st(j);case"Array":return lt(j,`new ${j.constructor.name}([${Array.from(j).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return lt(j,`new ${j.constructor.name}(${JSON.stringify(Array.from(j))})`);default:if(ct){const vt=ct(j);if(vt)return vt}throw new Error(`unrecognized argument type ${j.constructor.name}`)}}function it(j){return new j.constructor(j)}typeof a<"u"&&(a.exports={glWiretap:tt,glExtensionWiretap:ot}),typeof window<"u"&&(tt.glExtensionWiretap=ot,window.glWiretap=tt)},{}],4:[function(o,a,nt){function tt(lt){const ct=new Array(lt.length);for(let ht=0;ht<lt.length;ht++){const ut=lt[ht];ut.toArray?ct[ht]=ut.toArray():ct[ht]=ut}return ct}function ot(){const lt=tt(arguments),ct=new Float32Array(this.output.x);for(let ht=0;ht<this.output.x;ht++)this.thread.x=ht,this.thread.y=0,this.thread.z=0,ct[ht]=this._fn.apply(this,lt);return ct}function at(){const lt=tt(arguments),ct=new Array(this.output.y);for(let ht=0;ht<this.output.y;ht++){const ut=new Float32Array(this.output.x);for(let mt=0;mt<this.output.x;mt++)this.thread.x=mt,this.thread.y=ht,this.thread.z=0,ut[mt]=this._fn.apply(this,lt);ct[ht]=ut}return ct}function rt(){const lt=tt(arguments);for(let ct=0;ct<this.output.y;ct++)for(let ht=0;ht<this.output.x;ht++)this.thread.x=ht,this.thread.y=ct,this.thread.z=0,this._fn.apply(this,lt)}function it(){const lt=tt(arguments),ct=new Array(this.output.z);for(let ht=0;ht<this.output.z;ht++){const ut=new Array(this.output.y);for(let mt=0;mt<this.output.y;mt++){const gt=new Float32Array(this.output.x);for(let vt=0;vt<this.output.x;vt++)this.thread.x=vt,this.thread.y=mt,this.thread.z=ht,gt[vt]=this._fn.apply(this,lt);ut[mt]=gt}ct[ht]=ut}return ct}function j(lt){lt.setOutput=ut=>{lt.output=$(ut),lt.graphical&&_(lt)},lt.toJSON=()=>{throw new Error("Not usable with gpuMock")},lt.setConstants=ut=>(lt.constants=ut,lt),lt.setGraphical=ut=>(lt.graphical=ut,lt),lt.setCanvas=ut=>(lt.canvas=ut,lt),lt.setContext=ut=>(lt.context=ut,lt),lt.destroy=()=>{},lt.validateSettings=()=>{},lt.graphical&&lt.output&&_(lt),lt.exec=function(){return new Promise((ut,mt)=>{try{ut(lt.apply(lt,arguments))}catch(gt){mt(gt)}})},lt.getPixels=ut=>{const{x:mt,y:gt}=lt.output;return ut?st(lt._imageData.data,mt,gt):lt._imageData.data.slice(0)},lt.color=function(ut,mt,gt,vt){typeof vt>"u"&&(vt=1),ut=Math.floor(ut*255),mt=Math.floor(mt*255),gt=Math.floor(gt*255),vt=Math.floor(vt*255);const dt=lt.output.x,St=lt.output.y,yt=lt.thread.x,pt=St-lt.thread.y-1,wt=yt+pt*dt;lt._colorData[wt*4+0]=ut,lt._colorData[wt*4+1]=mt,lt._colorData[wt*4+2]=gt,lt._colorData[wt*4+3]=vt};const ct=()=>lt,ht=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let ut=0;ut<ht.length;ut++)lt[ht[ut]]=ct;return lt}function _(lt){const{x:ct,y:ht}=lt.output;if(lt.context&&lt.context.createImageData){const ut=new Uint8ClampedArray(ct*ht*4);lt._imageData=lt.context.createImageData(ct,ht),lt._colorData=ut}else{const ut=new Uint8ClampedArray(ct*ht*4);lt._imageData={data:ut},lt._colorData=ut}}function $(lt){let ct=null;if(lt.length)if(lt.length===3){const[ht,ut,mt]=lt;ct={x:ht,y:ut,z:mt}}else if(lt.length===2){const[ht,ut]=lt;ct={x:ht,y:ut}}else{const[ht]=lt;ct={x:ht}}else ct=lt;return ct}function et(lt,ct={}){const ht=ct.output?$(ct.output):null;function ut(){return ut.output.z?it.apply(ut,arguments):ut.output.y?ut.graphical?rt.apply(ut,arguments):at.apply(ut,arguments):ot.apply(ut,arguments)}return ut._fn=lt,ut.constants=ct.constants||null,ut.context=ct.context||null,ut.canvas=ct.canvas||null,ut.graphical=ct.graphical||!1,ut._imageData=null,ut._colorData=null,ut.output=ht,ut.thread={x:0,y:0,z:0},j(ut)}function st(lt,ct,ht){const ut=ht/2|0,mt=ct*4,gt=new Uint8ClampedArray(ct*4),vt=lt.slice(0);for(let dt=0;dt<ut;++dt){const St=dt*mt,yt=(ht-dt-1)*mt;gt.set(vt.subarray(St,St+mt)),vt.copyWithin(St,yt,yt+mt),vt.set(gt,yt)}return vt}a.exports={gpuMock:et}},{}],5:[function(o,a,nt){const{utils:tt}=o("./utils");function ot(at,rt){const it=rt.toString();return new Function(`return function ${at} (${tt.getArgumentNamesFromString(it).join(", ")}) {
  ${tt.getFunctionBodyFromString(it)}
}`)()}a.exports={alias:ot}},{"./utils":114}],6:[function(o,a,nt){const{FunctionNode:tt}=o("../function-node");class ot extends tt{astFunction(rt,it){if(!this.isRootKernel){it.push("function"),it.push(" "),it.push(this.name),it.push("(");for(let j=0;j<this.argumentNames.length;++j){const _=this.argumentNames[j];j>0&&it.push(", "),it.push("user_"),it.push(_)}it.push(`) {
`)}for(let j=0;j<rt.body.body.length;++j)this.astGeneric(rt.body.body[j],it),it.push(`
`);return this.isRootKernel||it.push(`}
`),it}astReturnStatement(rt,it){const j=this.returnType||this.getType(rt.argument);return this.returnType||(this.returnType=j),this.isRootKernel?(it.push(this.leadingReturnStatement),this.astGeneric(rt.argument,it),it.push(`;
`),it.push(this.followingReturnStatement),it.push(`continue;
`)):this.isSubKernel?(it.push(`subKernelResult_${this.name} = `),this.astGeneric(rt.argument,it),it.push(";"),it.push(`return subKernelResult_${this.name};`)):(it.push("return "),this.astGeneric(rt.argument,it),it.push(";")),it}astLiteral(rt,it){if(isNaN(rt.value))throw this.astErrorOutput("Non-numeric literal not supported : "+rt.value,rt);return it.push(rt.value),it}astBinaryExpression(rt,it){return it.push("("),this.astGeneric(rt.left,it),it.push(rt.operator),this.astGeneric(rt.right,it),it.push(")"),it}astIdentifierExpression(rt,it){if(rt.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",rt);switch(rt.name){case"Infinity":it.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(rt.name)?it.push("constants_"+rt.name):it.push("user_"+rt.name)}return it}astForStatement(rt,it){if(rt.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",rt);const j=[],_=[],$=[],et=[];let st=null;if(rt.init){this.pushState("in-for-loop-init"),this.astGeneric(rt.init,j);for(let lt=0;lt<j.length;lt++)j[lt].includes&&j[lt].includes(",")&&(st=!1);this.popState("in-for-loop-init")}else st=!1;if(rt.test?this.astGeneric(rt.test,_):st=!1,rt.update?this.astGeneric(rt.update,$):st=!1,rt.body&&(this.pushState("loop-body"),this.astGeneric(rt.body,et),this.popState("loop-body")),st===null&&(st=this.isSafe(rt.init)&&this.isSafe(rt.test)),st)it.push(`for (${j.join("")};${_.join("")};${$.join("")}){
`),it.push(et.join("")),it.push(`}
`);else{const lt=this.getInternalVariableName("safeI");j.length>0&&it.push(j.join(""),`;
`),it.push(`for (let ${lt}=0;${lt}<LOOP_MAX;${lt}++){
`),_.length>0&&it.push(`if (!${_.join("")}) break;
`),it.push(et.join("")),it.push(`
${$.join("")};`),it.push(`}
`)}return it}astWhileStatement(rt,it){if(rt.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",rt);return it.push("for (let i = 0; i < LOOP_MAX; i++) {"),it.push("if ("),this.astGeneric(rt.test,it),it.push(`) {
`),this.astGeneric(rt.body,it),it.push(`} else {
`),it.push(`break;
`),it.push(`}
`),it.push(`}
`),it}astDoWhileStatement(rt,it){if(rt.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",rt);return it.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(rt.body,it),it.push("if (!"),this.astGeneric(rt.test,it),it.push(`) {
`),it.push(`break;
`),it.push(`}
`),it.push(`}
`),it}astAssignmentExpression(rt,it){const j=this.getDeclaration(rt.left);if(j&&!j.assignable)throw this.astErrorOutput(`Variable ${rt.left.name} is not assignable here`,rt);return this.astGeneric(rt.left,it),it.push(rt.operator),this.astGeneric(rt.right,it),it}astBlockStatement(rt,it){if(this.isState("loop-body")){this.pushState("block-body");for(let j=0;j<rt.body.length;j++)this.astGeneric(rt.body[j],it);this.popState("block-body")}else{it.push(`{
`);for(let j=0;j<rt.body.length;j++)this.astGeneric(rt.body[j],it);it.push(`}
`)}return it}astVariableDeclaration(rt,it){it.push(`${rt.kind} `);const{declarations:j}=rt;for(let _=0;_<j.length;_++){_>0&&it.push(",");const $=j[_],et=this.getDeclaration($.id);et.valueType||(et.valueType=this.getType($.init)),this.astGeneric($,it)}return this.isState("in-for-loop-init")||it.push(";"),it}astIfStatement(rt,it){return it.push("if ("),this.astGeneric(rt.test,it),it.push(")"),rt.consequent.type==="BlockStatement"?this.astGeneric(rt.consequent,it):(it.push(` {
`),this.astGeneric(rt.consequent,it),it.push(`
}
`)),rt.alternate&&(it.push("else "),rt.alternate.type==="BlockStatement"||rt.alternate.type==="IfStatement"?this.astGeneric(rt.alternate,it):(it.push(` {
`),this.astGeneric(rt.alternate,it),it.push(`
}
`))),it}astSwitchStatement(rt,it){const{discriminant:j,cases:_}=rt;it.push("switch ("),this.astGeneric(j,it),it.push(`) {
`);for(let $=0;$<_.length;$++){if(_[$].test===null){it.push(`default:
`),this.astGeneric(_[$].consequent,it),_[$].consequent&&_[$].consequent.length>0&&it.push(`break;
`);continue}it.push("case "),this.astGeneric(_[$].test,it),it.push(`:
`),_[$].consequent&&_[$].consequent.length>0&&(this.astGeneric(_[$].consequent,it),it.push(`break;
`))}it.push(`
}`)}astThisExpression(rt,it){return it.push("_this"),it}astMemberExpression(rt,it){const{signature:j,type:_,property:$,xProperty:et,yProperty:st,zProperty:lt,name:ct,origin:ht}=this.getMemberExpressionDetails(rt);switch(j){case"this.thread.value":return it.push(`_this.thread.${ct}`),it;case"this.output.value":switch(ct){case"x":it.push("outputX");break;case"y":it.push("outputY");break;case"z":it.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",rt)}return it;case"value":throw this.astErrorOutput("Unexpected expression",rt);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(ht==="Math")return it.push(Math[ct]),it;switch($){case"r":return it.push(`user_${ct}[0]`),it;case"g":return it.push(`user_${ct}[1]`),it;case"b":return it.push(`user_${ct}[2]`),it;case"a":return it.push(`user_${ct}[3]`),it}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(rt.object,it),it.push("["),this.astGeneric(rt.property,it),it.push("]"),it;case"fn()[][]":return this.astGeneric(rt.object.object,it),it.push("["),this.astGeneric(rt.object.property,it),it.push("]"),it.push("["),this.astGeneric(rt.property,it),it.push("]"),it;default:throw this.astErrorOutput("Unexpected expression",rt)}if(!rt.computed)switch(_){case"Number":case"Integer":case"Float":case"Boolean":return it.push(`${ht}_${ct}`),it}const ut=`${ht}_${ct}`;switch(_){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let mt,gt;if(ht==="constants"){const vt=this.constants[ct];gt=this.constantTypes[ct]==="Input",mt=gt?vt.size:null}else gt=this.isInput(ct),mt=gt?this.argumentSizes[this.argumentNames.indexOf(ct)]:null;it.push(`${ut}`),lt&&st?gt?(it.push("[("),this.astGeneric(lt,it),it.push(`*${this.dynamicArguments?"(outputY * outputX)":mt[1]*mt[0]})+(`),this.astGeneric(st,it),it.push(`*${this.dynamicArguments?"outputX":mt[0]})+`),this.astGeneric(et,it),it.push("]")):(it.push("["),this.astGeneric(lt,it),it.push("]"),it.push("["),this.astGeneric(st,it),it.push("]"),it.push("["),this.astGeneric(et,it),it.push("]")):st?gt?(it.push("[("),this.astGeneric(st,it),it.push(`*${this.dynamicArguments?"outputX":mt[0]})+`),this.astGeneric(et,it),it.push("]")):(it.push("["),this.astGeneric(st,it),it.push("]"),it.push("["),this.astGeneric(et,it),it.push("]")):typeof et<"u"&&(it.push("["),this.astGeneric(et,it),it.push("]"))}return it}astCallExpression(rt,it){if(rt.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",rt);let j=this.astMemberExpressionUnroll(rt.callee);this.calledFunctions.indexOf(j)<0&&this.calledFunctions.push(j),this.isAstMathFunction(rt),this.onFunctionCall&&this.onFunctionCall(this.name,j,rt.arguments),it.push(j),it.push("(");const _=this.lookupFunctionArgumentTypes(j)||[];for(let $=0;$<rt.arguments.length;++$){const et=rt.arguments[$];let st=this.getType(et);_[$]||this.triggerImplyArgumentType(j,$,st,this),$>0&&it.push(", "),this.astGeneric(et,it)}return it.push(")"),it}astArrayExpression(rt,it){const j=this.getType(rt),_=rt.elements.length,$=[];for(let et=0;et<_;++et){const st=[];this.astGeneric(rt.elements[et],st),$.push(st.join(""))}switch(j){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":it.push(`[${$.join(", ")}]`);break;default:it.push(`new Float32Array([${$.join(", ")}])`)}return it}astDebuggerStatement(rt,it){return it.push("debugger;"),it}}a.exports={CPUFunctionNode:ot}},{"../function-node":10}],7:[function(o,a,nt){const{utils:tt}=o("../../utils");function ot(rt,it){const j=[];for(const _ in it){if(!it.hasOwnProperty(_))continue;const $=it[_],et=rt[_];switch($){case"Number":case"Integer":case"Float":case"Boolean":j.push(`${_}:${et}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":j.push(`${_}:new ${et.constructor.name}(${JSON.stringify(Array.from(et))})`);break}}return`{ ${j.join()} }`}function at(rt,it){const j=[],_=[],$=[],et=!/^function/.test(rt.color.toString());if(j.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(rt.output))});`,`  const _constantTypes = ${JSON.stringify(rt.constantTypes)};`,`  const _constants = ${ot(rt.constants,rt.constantTypes)};`),_.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),rt.graphical){j.push(`  const _imageData = context.createImageData(${rt.output[0]}, ${rt.output[1]});`),j.push(`  const _colorData = new Uint8ClampedArray(${rt.output[0]} * ${rt.output[1]} * 4);`);const ct=tt.flattenFunctionToString((et?"function ":"")+rt.color.toString(),{thisLookup:ut=>{switch(ut){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(rt[ut])},findDependency:(ut,mt)=>null}),ht=tt.flattenFunctionToString((et?"function ":"")+rt.getPixels.toString(),{thisLookup:ut=>{switch(ut){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(rt[ut])},findDependency:()=>null});_.push("    _imageData,","    _colorData,",`    color: ${ct},`),$.push(`  kernel.getPixels = ${ht};`)}const st=[],lt=Object.keys(rt.constantTypes);for(let ct=0;ct<lt.length;ct++)st.push(rt.constantTypes[lt]);if(rt.argumentTypes.indexOf("HTMLImageArray")!==-1||st.indexOf("HTMLImageArray")!==-1){const ct=tt.flattenFunctionToString((et?"function ":"")+rt._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(ht,ut)=>ht==="this"?(et?"function ":"")+rt[ut].toString():null,thisLookup:ht=>{switch(ht){case"canvas":return;case"context":return"context"}}});$.push(ct),_.push("    _mediaTo2DArray,"),_.push("    _imageTo3DArray,")}else if(rt.argumentTypes.indexOf("HTMLImage")!==-1||st.indexOf("HTMLImage")!==-1){const ct=tt.flattenFunctionToString((et?"function ":"")+rt._mediaTo2DArray.toString(),{findDependency:(ht,ut)=>null,thisLookup:ht=>{switch(ht){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});$.push(ct),_.push("    _mediaTo2DArray,")}return`function(settings) {
${j.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${rt._kernelString}
  })
    .apply({ ${_.join(`
`)} });
  ${$.join(`
`)}
  return kernel;
}`}a.exports={cpuKernelString:at}},{"../../utils":114}],8:[function(o,a,nt){const{Kernel:tt}=o("../kernel"),{FunctionBuilder:ot}=o("../function-builder"),{CPUFunctionNode:at}=o("./function-node"),{utils:rt}=o("../../utils"),{cpuKernelString:it}=o("./kernel-string");class j extends tt{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch($){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels($){return $}static getSignature($,et){return"cpu"+(et.length>0?":"+et.join(","):"")}constructor($,et){super($,et),this.mergeSettings($.settings||et),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins($){return[]}validateSettings($){if(!this.output||this.output.length===0){if($.length!==1)throw new Error("Auto output only supported for kernels with only one input");const et=rt.getVariableType($[0],this.strictIntegers);if(et==="Array")this.output=rt.getDimensions(et);else if(et==="NumberTexture"||et==="ArrayTexture(4)")this.output=$[0].output;else throw new Error("Auto output not supported for input type: "+et)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const et=[];for(let st=0;st<this.subKernels.length;st++){const{name:lt}=this.subKernels[st];et.push(this.output.length>1?`resultX_${lt}[x] = subKernelResult_${lt};
`:`result_${lt}[x] = subKernelResult_${lt};
`)}this.followingReturnStatement=et.join("")}const $=ot.fromKernel(this,at);this.translatedSources=$.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=$.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:et,output:st}=this;if(!et)throw new Error("no canvas available for using graphical output");const lt=st[0],ct=st[1]||1;et.width=lt,et.height=ct,this._imageData=this.context.createImageData(lt,ct),this._colorData=new Uint8ClampedArray(lt*ct*4)}const $=this.getKernelString();this.kernelString=$,this.debug&&(console.log("Function output:"),console.log($));try{this.run=new Function([],$).bind(this)()}catch(et){console.error("An error occurred compiling the javascript: ",et)}this.buildSignature(arguments),this.built=!0}color($,et,st,lt){typeof lt>"u"&&(lt=1),$=Math.floor($*255),et=Math.floor(et*255),st=Math.floor(st*255),lt=Math.floor(lt*255);const ct=this.output[0],ht=this.output[1],ut=this.thread.x,mt=ht-this.thread.y-1,gt=ut+mt*ct;this._colorData[gt*4+0]=$,this._colorData[gt*4+1]=et,this._colorData[gt*4+2]=st,this._colorData[gt*4+3]=lt}getKernelString(){if(this._kernelString!==null)return this._kernelString;let $=null,{translatedSources:et}=this;return et.length>1?et=et.filter(st=>/^function/.test(st)?st:($=st,!1)):$=et.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(st=>"user_"+st).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody($):this._resultKernelBody($)}
    ${et.length>0?et.join(`
`):""}
  };`}toString(){return it(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const $=[];for(let et in this.constants)switch(this.constantTypes[et]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    const constants_${et} = this._mediaTo2DArray(this.constants.${et});
`);break;case"HTMLImageArray":$.push(`    const constants_${et} = this._imageTo3DArray(this.constants.${et});
`);break;case"Input":$.push(`    const constants_${et} = this.constants.${et}.value;
`);break;default:$.push(`    const constants_${et} = this.constants.${et};
`)}return $.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const $=[];for(let st=0;st<this.argumentTypes.length;st++)this.argumentTypes[st]==="Array"&&$.push(this.argumentNames[st]);if($.length===0)return"";const et=[];for(let st=0;st<$.length;st++){const lt=$[st],ct=this._mapSubKernels(ht=>`user_${lt} === result_${ht.name}`).join(" || ");et.push(`user_${lt} === result${ct?` || ${ct}`:""}`)}return`if (${et.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const $=[];for(let et=0;et<this.argumentTypes.length;et++){const st=`user_${this.argumentNames[et]}`;switch(this.argumentTypes[et]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    ${st} = this._mediaTo2DArray(${st});
`);break;case"HTMLImageArray":$.push(`    ${st} = this._imageTo3DArray(${st});
`);break;case"Input":$.push(`    ${st} = ${st}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":$.push(`
    if (${st}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${st});
      if (textureIndex !== -1) {
        ${st} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${st});
        ${st} = ${st}.toArray();
        _this.arrayCache.push(${st});
      }
    }`);break}}return $.join("")}_mediaTo2DArray($){const et=this.canvas,st=$.width>0?$.width:$.videoWidth,lt=$.height>0?$.height:$.videoHeight;et.width<st&&(et.width=st),et.height<lt&&(et.height=lt);const ct=this.context;let ht;$.constructor===ImageData?ht=$.data:(ct.drawImage($,0,0,st,lt),ht=ct.getImageData(0,0,st,lt).data);const ut=new Array(lt);let mt=0;for(let gt=lt-1;gt>=0;gt--){const vt=ut[gt]=new Array(st);for(let dt=0;dt<st;dt++){const St=new Float32Array(4);St[0]=ht[mt++]/255,St[1]=ht[mt++]/255,St[2]=ht[mt++]/255,St[3]=ht[mt++]/255,vt[dt]=St}}return ut}getPixels($){const[et,st]=this.output;return $?rt.flipPixels(this._imageData.data,et,st):this._imageData.data.slice(0)}_imageTo3DArray($){const et=new Array($.length);for(let st=0;st<$.length;st++)et[st]=this._mediaTo2DArray($[st]);return et}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody($){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop($):this._resultImmutableKernel1DLoop($))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop($):this._resultImmutableKernel2DLoop($))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop($):this._resultImmutableKernel3DLoop($))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody($){switch(this.output.length){case 2:return this._graphicalKernel2DLoop($)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${et}(outputX);
    ${this._mapSubKernels(st=>`const result_${st.name} = new ${et}(outputX);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_mutableKernel1DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${$}(outputX);
    ${this._mapSubKernels(et=>`const result_${et.name} = new ${$}(outputX);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}`}_resultMutableKernel1DLoop($){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_resultImmutableKernel2DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(st=>`const result_${st.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${et}(outputX);
      ${this._mapSubKernels(st=>`const resultX_${st.name} = result_${st.name}[y] = new ${et}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_mutableKernel2DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(et=>`const result_${et.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${$}(outputX);
      ${this._mapSubKernels(et=>`const resultX_${et.name} = result_${et.name}[y] = new ${$}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(st=>`const resultX_${st.name} = result_${st.name}[y] = new ${et}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_graphicalKernel2DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_resultImmutableKernel3DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(st=>`const result_${st.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(st=>`const resultY_${st.name} = result_${st.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${et}(outputX);
        ${this._mapSubKernels(st=>`const resultX_${st.name} = resultY_${st.name}[y] = new ${et}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_mutableKernel3DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(et=>`const result_${et.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(et=>`const resultY_${et.name} = result_${et.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${$}(outputX);
        ${this._mapSubKernels(et=>`const resultX_${et.name} = resultY_${et.name}[y] = new ${$}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map($=>`${$.property}: result_${$.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels($){return this.subKernels===null?[""]:this.subKernels.map($)}destroy($){$&&delete this.canvas}static destroyContext($){}toJSON(){const $=super.toJSON();return $.functionNodes=ot.fromKernel(this,at).toJSON(),$}setOutput($){super.setOutput($);const[et,st]=this.output;this.graphical&&(this._imageData=this.context.createImageData(et,st),this._colorData=new Uint8ClampedArray(et*st*4))}prependString($){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push($)}hasPrependString($){return this._prependedString.indexOf($)>-1}}a.exports={CPUKernel:j}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(o,a,nt){class tt{static fromKernel(at,rt,it){const{kernelArguments:j,kernelConstants:_,argumentNames:$,argumentSizes:et,argumentBitRatios:st,constants:lt,constantBitRatios:ct,debug:ht,loopMaxIterations:ut,nativeFunctions:mt,output:gt,optimizeFloatMemory:vt,precision:dt,plugins:St,source:yt,subKernels:pt,functions:wt,leadingReturnStatement:Et,followingReturnStatement:Ct,dynamicArguments:kt,dynamicOutput:Tt}=at,At=new Array(j.length),It={};for(let Yt=0;Yt<j.length;Yt++)At[Yt]=j[Yt].type;for(let Yt=0;Yt<_.length;Yt++){const br=_[Yt];It[br.name]=br.type}const Ot=(Yt,br)=>rr.needsArgumentType(Yt,br),Mt=(Yt,br,_r)=>{rr.assignArgumentType(Yt,br,_r)},Dt=(Yt,br,_r)=>rr.lookupReturnType(Yt,br,_r),Bt=Yt=>rr.lookupFunctionArgumentTypes(Yt),qt=(Yt,br)=>rr.lookupFunctionArgumentName(Yt,br),Wt=(Yt,br)=>rr.lookupFunctionArgumentBitRatio(Yt,br),Vt=(Yt,br,_r,fr)=>{rr.assignArgumentType(Yt,br,_r,fr)},Ht=(Yt,br,_r,fr)=>{rr.assignArgumentBitRatio(Yt,br,_r,fr)},Jt=(Yt,br,_r)=>{rr.trackFunctionCall(Yt,br,_r)},Qt=(Yt,br)=>{const _r=[];for(let Wr=0;Wr<Yt.params.length;Wr++)_r.push(Yt.params[Wr].name);const fr=new rt(br,Object.assign({},cr,{returnType:null,ast:Yt,name:Yt.id.name,argumentNames:_r,lookupReturnType:Dt,lookupFunctionArgumentTypes:Bt,lookupFunctionArgumentName:qt,lookupFunctionArgumentBitRatio:Wt,needsArgumentType:Ot,assignArgumentType:Mt,triggerImplyArgumentType:Vt,triggerImplyArgumentBitRatio:Ht,onFunctionCall:Jt}));fr.traceFunctionAST(Yt),rr.addFunctionNode(fr)},cr=Object.assign({isRootKernel:!1,onNestedFunction:Qt,lookupReturnType:Dt,lookupFunctionArgumentTypes:Bt,lookupFunctionArgumentName:qt,lookupFunctionArgumentBitRatio:Wt,needsArgumentType:Ot,assignArgumentType:Mt,triggerImplyArgumentType:Vt,triggerImplyArgumentBitRatio:Ht,onFunctionCall:Jt,optimizeFloatMemory:vt,precision:dt,constants:lt,constantTypes:It,constantBitRatios:ct,debug:ht,loopMaxIterations:ut,output:gt,plugins:St,dynamicArguments:kt,dynamicOutput:Tt},it||{}),hr=Object.assign({},cr,{isRootKernel:!0,name:"kernel",argumentNames:$,argumentTypes:At,argumentSizes:et,argumentBitRatios:st,leadingReturnStatement:Et,followingReturnStatement:Ct});if(typeof yt=="object"&&yt.functionNodes)return new tt().fromJSON(yt.functionNodes,rt);const dr=new rt(yt,hr);let gr=null;wt&&(gr=wt.map(Yt=>new rt(Yt.source,{returnType:Yt.returnType,argumentTypes:Yt.argumentTypes,output:gt,plugins:St,constants:lt,constantTypes:It,constantBitRatios:ct,optimizeFloatMemory:vt,precision:dt,lookupReturnType:Dt,lookupFunctionArgumentTypes:Bt,lookupFunctionArgumentName:qt,lookupFunctionArgumentBitRatio:Wt,needsArgumentType:Ot,assignArgumentType:Mt,triggerImplyArgumentType:Vt,triggerImplyArgumentBitRatio:Ht,onFunctionCall:Jt,onNestedFunction:Qt})));let tr=null;pt&&(tr=pt.map(Yt=>{const{name:br,source:_r}=Yt;return new rt(_r,Object.assign({},cr,{name:br,isSubKernel:!0,isRootKernel:!1}))}));const rr=new tt({kernel:at,rootNode:dr,functionNodes:gr,nativeFunctions:mt,subKernelNodes:tr});return rr}constructor(at){if(at=at||{},this.kernel=at.kernel,this.rootNode=at.rootNode,this.functionNodes=at.functionNodes||[],this.subKernelNodes=at.subKernelNodes||[],this.nativeFunctions=at.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let rt=0;rt<this.functionNodes.length;rt++)this.functionMap[this.functionNodes[rt].name]=this.functionNodes[rt];if(this.subKernelNodes)for(let rt=0;rt<this.subKernelNodes.length;rt++)this.functionMap[this.subKernelNodes[rt].name]=this.subKernelNodes[rt];if(this.nativeFunctions)for(let rt=0;rt<this.nativeFunctions.length;rt++){const it=this.nativeFunctions[rt];this.nativeFunctionNames.push(it.name)}}addFunctionNode(at){if(!at.name)throw new Error("functionNode.name needs set");this.functionMap[at.name]=at,at.isRootKernel&&(this.rootNode=at)}traceFunctionCalls(at,rt){if(at=at||"kernel",rt=rt||[],this.nativeFunctionNames.indexOf(at)>-1){const j=rt.indexOf(at);if(j===-1)rt.push(at);else{const _=rt.splice(j,1)[0];rt.push(_)}return rt}const it=this.functionMap[at];if(it){const j=rt.indexOf(at);if(j===-1){rt.push(at),it.toString();for(let _=0;_<it.calledFunctions.length;++_)this.traceFunctionCalls(it.calledFunctions[_],rt)}else{const _=rt.splice(j,1)[0];rt.push(_)}}return rt}getPrototypeString(at){return this.getPrototypes(at).join(`
`)}getPrototypes(at){return this.rootNode&&this.rootNode.toString(),at?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(at,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(at){const rt=[];for(let it=0;it<at.length;++it)this.functionMap[at[it]]&&rt.push(this.functionMap[at[it]].toString());return rt.join(`
`)}getPrototypesFromFunctionNames(at){const rt=[];for(let it=0;it<at.length;++it){const j=at[it],_=this.nativeFunctionNames.indexOf(j);if(_>-1){rt.push(this.nativeFunctions[_].source);continue}const $=this.functionMap[j];$&&rt.push($.toString())}return rt}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(at=>{const rt=this.nativeFunctions.indexOf(at);if(rt>-1)return{name:at,source:this.nativeFunctions[rt].source};if(this.functionMap[at])return this.functionMap[at].toJSON();throw new Error(`function ${at} not found`)})}fromJSON(at,rt){this.functionMap={};for(let it=0;it<at.length;it++){const j=at[it];this.functionMap[j.settings.name]=new rt(j.ast,j.settings)}return this}getString(at){return at?this.getStringFromFunctionNames(this.traceFunctionCalls(at).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(at,rt,it){if(rt.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${rt.type}`);if(this._isNativeFunction(at))return this._lookupNativeFunctionReturnType(at);if(this._isFunction(at)){const j=this._getFunction(at);if(j.returnType)return j.returnType;{for(let $=0;$<this.lookupChain.length;$++)if(this.lookupChain[$].ast===rt){if(j.argumentTypes.length===0&&rt.arguments.length>0){const et=rt.arguments;for(let st=0;st<et.length;st++)this.lookupChain.push({name:it.name,ast:et[$],requestingNode:it}),j.argumentTypes[st]=it.getType(et[st]),this.lookupChain.pop();return j.returnType=j.getType(j.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:it.name,ast:rt,requestingNode:it});const _=j.getType(j.getJsAST());return this.lookupChain.pop(),j.returnType=_}}return null}_getFunction(at){return this._isFunction(at),this.functionMap[at]}_isFunction(at){return!!this.functionMap[at]}_getNativeFunction(at){for(let rt=0;rt<this.nativeFunctions.length;rt++)if(this.nativeFunctions[rt].name===at)return this.nativeFunctions[rt];return null}_isNativeFunction(at){return!!this._getNativeFunction(at)}_lookupNativeFunctionReturnType(at){let rt=this._getNativeFunction(at);if(rt)return rt.returnType;throw new Error(`Native function ${at} not found`)}lookupFunctionArgumentTypes(at){return this._isNativeFunction(at)?this._getNativeFunction(at).argumentTypes:this._isFunction(at)?this._getFunction(at).argumentTypes:null}lookupFunctionArgumentName(at,rt){return this._getFunction(at).argumentNames[rt]}lookupFunctionArgumentBitRatio(at,rt){if(!this._isFunction(at))throw new Error("function not found");if(this.rootNode.name===at){const $=this.rootNode.argumentNames.indexOf(rt);if($!==-1)return this.rootNode.argumentBitRatios[$]}const it=this._getFunction(at),j=it.argumentNames.indexOf(rt);if(j===-1)throw new Error("argument not found");const _=it.argumentBitRatios[j];if(typeof _!="number")throw new Error("argument bit ratio not found");return _}needsArgumentType(at,rt){return this._isFunction(at)?!this._getFunction(at).argumentTypes[rt]:!1}assignArgumentType(at,rt,it,j){if(!this._isFunction(at))return;const _=this._getFunction(at);_.argumentTypes[rt]||(_.argumentTypes[rt]=it)}assignArgumentBitRatio(at,rt,it,j){const _=this._getFunction(at);if(this._isNativeFunction(it))return null;const $=this._getFunction(it),et=_.argumentNames.indexOf(rt);if(et===-1)throw new Error(`Argument ${rt} not found in arguments from function ${at}`);const st=_.argumentBitRatios[et];if(typeof st!="number")throw new Error(`Bit ratio for argument ${rt} not found in function ${at}`);$.argumentBitRatios||($.argumentBitRatios=new Array($.argumentNames.length));const lt=$.argumentBitRatios[et];if(typeof lt=="number"){if(lt!==st)throw new Error(`Incompatible bit ratio found at function ${at} at argument ${rt}`);return lt}return $.argumentBitRatios[et]=st,st}trackFunctionCall(at,rt,it){this.functionNodeDependencies[at]||(this.functionNodeDependencies[at]=new Set,this.functionCalls[at]=[]),this.functionNodeDependencies[at].add(rt),this.functionCalls[at].push(it)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(at){const rt=this.subKernelNodes[at];let it=!1;for(let j=0;j<this.rootNode.functionCalls.length;j++)this.rootNode.functionCalls[j].ast.callee.name===rt.name&&(it=!0);if(!it)throw new Error(`SubKernel ${rt.name} never called by kernel`);return rt.returnType||rt.getType(rt.getJsAST())}getReturnTypes(){const at={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},rt=this.traceFunctionCalls(this.rootNode.name);for(let it=0;it<rt.length;it++){const j=rt[it],_=this.functionMap[j];at[j]=_.getType(_.ast)}return at}}a.exports={FunctionBuilder:tt}},{}],10:[function(o,a,nt){const tt=o("acorn"),{utils:ot}=o("../utils"),{FunctionTracer:at}=o("./function-tracer");class rt{constructor(_,$){if(!_&&!$.ast)throw new Error("source parameter is missing");if($=$||{},this.source=_,this.ast=null,this.name=typeof _=="string"?$.isRootKernel?"kernel":$.name||ot.getFunctionNameFromString(_):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?ot.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,$)for(const et in $)$.hasOwnProperty(et)&&this.hasOwnProperty(et)&&(this[et]=$[et]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!ot.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(_){return this.constants?this.constants.hasOwnProperty(_):!1}isInput(_){return this.argumentTypes[this.argumentNames.indexOf(_)]==="Input"}pushState(_){this.states.push(_)}popState(_){if(this.state!==_)throw new Error(`Cannot popState ${_} when in ${this.state}`);this.states.pop()}isState(_){return this.state===_}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(_){if(_.type==="Identifier")return _.name;if(_.type==="ThisExpression")return"this";if(_.type==="MemberExpression"&&_.object&&_.property)return _.object.hasOwnProperty("name")&&_.object.name!=="Math"?this.astMemberExpressionUnroll(_.property):this.astMemberExpressionUnroll(_.object)+"."+this.astMemberExpressionUnroll(_.property);if(_.hasOwnProperty("expressions")){const $=_.expressions[0];if($.type==="Literal"&&$.value===0&&_.expressions.length===2)return this.astMemberExpressionUnroll(_.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",_)}getJsAST(_){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(_=_||tt,_===null)throw new Error("Missing JS to AST parser");const $=Object.freeze(_.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),et=$.body[0].declarations[0].init;if(this.traceFunctionAST(et),!$)throw new Error("Failed to parse JS code");return this.ast=et}traceFunctionAST(_){const{contexts:$,declarations:et,functions:st,identifiers:lt,functionCalls:ct}=new at(_);this.contexts=$,this.identifiers=lt,this.functionCalls=ct,this.functions=st;for(let ht=0;ht<et.length;ht++){const ut=et[ht],{ast:mt,inForLoopInit:gt,inForLoopTest:vt}=ut,{init:dt}=mt,St=this.getDependencies(dt);let yt=null;if(gt&&vt)yt="Integer";else if(dt){const pt=this.getType(dt);switch(pt){case"Integer":case"Float":case"Number":dt.type==="MemberExpression"?yt=pt:yt="Number";break;case"LiteralInteger":yt="Number";break;default:yt=pt}}ut.valueType=yt,ut.dependencies=St,ut.isSafe=this.isSafeDependencies(St)}for(let ht=0;ht<st.length;ht++)this.onNestedFunction(st[ht],this.source)}getDeclaration(_){for(let $=0;$<this.identifiers.length;$++){const et=this.identifiers[$];if(_===et.ast)return et.declaration}return null}getVariableType(_){if(_.type!=="Identifier")throw new Error(`ast of ${_.type} not "Identifier"`);let $=null;const et=this.argumentNames.indexOf(_.name);if(et===-1){const st=this.getDeclaration(_);if(st)return st.valueType}else{const st=this.argumentTypes[et];st&&($=st)}if(!$&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return $}getLookupType(_){if(!it.hasOwnProperty(_))throw new Error(`unknown typeLookupMap ${_}`);return it[_]}getConstantType(_){if(this.constantTypes[_]){const $=this.constantTypes[_];return $==="Float"?"Number":$}throw new Error(`Type for constant "${_}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const _={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:_}}getType(_){if(Array.isArray(_))return this.getType(_[_.length-1]);switch(_.type){case"BlockStatement":return this.getType(_.body);case"ArrayExpression":switch(this.getType(_.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${_.elements.length})`}return`Array(${_.elements.length})`;case"Literal":const et=this.astKey(_);return this.literalTypes[et]?this.literalTypes[et]:Number.isInteger(_.value)?"LiteralInteger":_.value===!0||_.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(_.left);case"CallExpression":if(this.isAstMathFunction(_))return"Number";if(!_.callee||!_.callee.name){if(_.callee.type==="SequenceExpression"&&_.callee.expressions[_.callee.expressions.length-1].property.name){const ut=_.callee.expressions[_.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}if(this.getVariableSignature(_.callee,!0)==="this.color")return null;if(_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.property&&_.callee.property.name&&_.arguments){const ut=_.callee.property.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}throw this.astErrorOutput("Unknown call expression",_)}if(_.callee&&_.callee.name){const ut=_.callee.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(_.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const st=this.getType(_.left);if(this.isState("skip-literal-correction"))return st;if(st==="LiteralInteger"){const ut=this.getType(_.right);return ut==="LiteralInteger"?_.left.value%1===0?"Integer":"Float":ut}return it[st]||st;case"UpdateExpression":return this.getType(_.argument);case"UnaryExpression":return _.operator==="~"?"Integer":this.getType(_.argument);case"VariableDeclaration":{const ut=_.declarations;let mt;for(let gt=0;gt<ut.length;gt++){const vt=ut[gt];mt=this.getType(vt)}if(!mt)throw this.astErrorOutput("Unable to find type for declaration",_);return mt}case"VariableDeclarator":const lt=this.getDeclaration(_.id);if(!lt)throw this.astErrorOutput("Unable to find declarator",_);if(!lt.valueType)throw this.astErrorOutput("Unable to find declarator valueType",_);return lt.valueType;case"Identifier":if(_.name==="Infinity")return"Number";if(this.isAstVariable(_)&&this.getVariableSignature(_)==="value")return this.getCheckVariableType(_);const ct=this.findIdentifierOrigin(_);return ct&&ct.init?this.getType(ct.init):null;case"ReturnStatement":return this.getType(_.argument);case"MemberExpression":if(this.isAstMathFunction(_)){switch(_.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(_)){switch(this.getVariableSignature(_)){case"value[]":return this.getLookupType(this.getCheckVariableType(_.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(_.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(_.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(_.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(_.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(_.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(_.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(_.object));case"value.value":if(this.isAstMathVariable(_))return"Number";switch(_.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(_.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",_)}throw this.astErrorOutput("Unhandled getType MemberExpression",_);case"ConditionalExpression":return this.getType(_.consequent);case"FunctionDeclaration":case"FunctionExpression":const ht=this.findLastReturn(_.body);return ht?this.getType(ht):null;case"IfStatement":return this.getType(_.consequent);case"SequenceExpression":return this.getType(_.expressions[_.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_)}}getCheckVariableType(_){const $=this.getVariableType(_);if(!$)throw this.astErrorOutput(`${_.type} is not defined`,_);return $}inferArgumentTypesIfNeeded(_,$){for(let et=0;et<$.length;et++){if(!this.needsArgumentType(_,et))continue;const st=this.getType($[et]);if(!st)throw this.astErrorOutput(`Unable to infer argument ${et}`,$[et]);this.assignArgumentType(_,et,st)}}isAstMathVariable(_){const $=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return _.type==="MemberExpression"&&_.object&&_.object.type==="Identifier"&&_.object.name==="Math"&&_.property&&_.property.type==="Identifier"&&$.indexOf(_.property.name)>-1}isAstMathFunction(_){const $=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return _.type==="CallExpression"&&_.callee&&_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.object.type==="Identifier"&&_.callee.object.name==="Math"&&_.callee.property&&_.callee.property.type==="Identifier"&&$.indexOf(_.callee.property.name)>-1}isAstVariable(_){return _.type==="Identifier"||_.type==="MemberExpression"}isSafe(_){return this.isSafeDependencies(this.getDependencies(_))}isSafeDependencies(_){return _&&_.every?_.every($=>$.isSafe):!0}getDependencies(_,$,et){if($||($=[]),!_)return null;if(Array.isArray(_)){for(let st=0;st<_.length;st++)this.getDependencies(_[st],$,et);return $}switch(_.type){case"AssignmentExpression":return this.getDependencies(_.left,$,et),this.getDependencies(_.right,$,et),$;case"ConditionalExpression":return this.getDependencies(_.test,$,et),this.getDependencies(_.alternate,$,et),this.getDependencies(_.consequent,$,et),$;case"Literal":$.push({origin:"literal",value:_.value,isSafe:et===!0?!1:_.value>-1/0&&_.value<1/0&&!isNaN(_.value)});break;case"VariableDeclarator":return this.getDependencies(_.init,$,et);case"Identifier":const st=this.getDeclaration(_);if(st)$.push({name:_.name,origin:"declaration",isSafe:et?!1:this.isSafeDependencies(st.dependencies)});else if(this.argumentNames.indexOf(_.name)>-1)$.push({name:_.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${_.name}"`);break;case"FunctionDeclaration":return this.getDependencies(_.body.body[_.body.body.length-1],$,et);case"ReturnStatement":return this.getDependencies(_.argument,$);case"BinaryExpression":case"LogicalExpression":return et=_.operator==="/"||_.operator==="*",this.getDependencies(_.left,$,et),this.getDependencies(_.right,$,et),$;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(_.argument,$,et);case"VariableDeclaration":return this.getDependencies(_.declarations,$,et);case"ArrayExpression":return $.push({origin:"declaration",isSafe:!0}),$;case"CallExpression":return $.push({origin:"function",isSafe:!0}),$;case"MemberExpression":const lt=this.getMemberExpressionDetails(_);switch(lt.signature){case"value[]":this.getDependencies(_.object,$,et);break;case"value[][]":this.getDependencies(_.object.object,$,et);break;case"value[][][]":this.getDependencies(_.object.object.object,$,et);break;case"this.output.value":this.dynamicOutput&&$.push({name:lt.name,origin:"output",isSafe:!1});break}if(lt)return lt.property&&this.getDependencies(lt.property,$,et),lt.xProperty&&this.getDependencies(lt.xProperty,$,et),lt.yProperty&&this.getDependencies(lt.yProperty,$,et),lt.zProperty&&this.getDependencies(lt.zProperty,$,et),$;case"SequenceExpression":return this.getDependencies(_.expressions,$,et);default:throw this.astErrorOutput(`Unhandled type ${_.type} in getDependencies`,_)}return $}getVariableSignature(_,$){if(!this.isAstVariable(_))throw new Error(`ast of type "${_.type}" is not a variable signature`);if(_.type==="Identifier")return"value";const et=[];for(;_;)_.computed?et.push("[]"):_.type==="ThisExpression"?et.unshift("this"):_.property&&_.property.name?_.property.name==="x"||_.property.name==="y"||_.property.name==="z"?et.unshift($?"."+_.property.name:".value"):_.property.name==="constants"||_.property.name==="thread"||_.property.name==="output"?et.unshift("."+_.property.name):et.unshift($?"."+_.property.name:".value"):_.name?et.unshift($?_.name:"value"):_.callee&&_.callee.name?et.unshift($?_.callee.name+"()":"fn()"):_.elements?et.unshift("[]"):et.unshift("unknown"),_=_.object;const st=et.join("");return $||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(st)>-1?st:null}build(){return this.toString().length>0}astGeneric(_,$){if(_===null)throw this.astErrorOutput("NULL ast",_);if(Array.isArray(_)){for(let et=0;et<_.length;et++)this.astGeneric(_[et],$);return $}switch(_.type){case"FunctionDeclaration":return this.astFunctionDeclaration(_,$);case"FunctionExpression":return this.astFunctionExpression(_,$);case"ReturnStatement":return this.astReturnStatement(_,$);case"Literal":return this.astLiteral(_,$);case"BinaryExpression":return this.astBinaryExpression(_,$);case"Identifier":return this.astIdentifierExpression(_,$);case"AssignmentExpression":return this.astAssignmentExpression(_,$);case"ExpressionStatement":return this.astExpressionStatement(_,$);case"EmptyStatement":return this.astEmptyStatement(_,$);case"BlockStatement":return this.astBlockStatement(_,$);case"IfStatement":return this.astIfStatement(_,$);case"SwitchStatement":return this.astSwitchStatement(_,$);case"BreakStatement":return this.astBreakStatement(_,$);case"ContinueStatement":return this.astContinueStatement(_,$);case"ForStatement":return this.astForStatement(_,$);case"WhileStatement":return this.astWhileStatement(_,$);case"DoWhileStatement":return this.astDoWhileStatement(_,$);case"VariableDeclaration":return this.astVariableDeclaration(_,$);case"VariableDeclarator":return this.astVariableDeclarator(_,$);case"ThisExpression":return this.astThisExpression(_,$);case"SequenceExpression":return this.astSequenceExpression(_,$);case"UnaryExpression":return this.astUnaryExpression(_,$);case"UpdateExpression":return this.astUpdateExpression(_,$);case"LogicalExpression":return this.astLogicalExpression(_,$);case"MemberExpression":return this.astMemberExpression(_,$);case"CallExpression":return this.astCallExpression(_,$);case"ArrayExpression":return this.astArrayExpression(_,$);case"DebuggerStatement":return this.astDebuggerStatement(_,$);case"ConditionalExpression":return this.astConditionalExpression(_,$)}throw this.astErrorOutput("Unknown ast type : "+_.type,_)}astErrorOutput(_,$){if(typeof this.source!="string")return new Error(_);const et=ot.getAstString(this.source,$),lt=this.source.substr($.start).split(/\n/),ct=lt.length>0?lt[lt.length-1]:0;return new Error(`${_} on line ${lt.length}, position ${ct.length}:
 ${et}`)}astDebuggerStatement(_,$){return $}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);return $.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$}astFunction(_,$){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}astFunctionExpression(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}isChildFunction(_){for(let $=0;$<this.functions.length;$++)if(this.functions[$]===_)return!0;return!1}astReturnStatement(_,$){return $}astLiteral(_,$){return this.literalTypes[this.astKey(_)]="Number",$}astBinaryExpression(_,$){return $}astIdentifierExpression(_,$){return $}astAssignmentExpression(_,$){return $}astExpressionStatement(_,$){return this.astGeneric(_.expression,$),$.push(";"),$}astEmptyStatement(_,$){return $}astBlockStatement(_,$){return $}astIfStatement(_,$){return $}astSwitchStatement(_,$){return $}astBreakStatement(_,$){return $.push("break;"),$}astContinueStatement(_,$){return $.push(`continue;
`),$}astForStatement(_,$){return $}astWhileStatement(_,$){return $}astDoWhileStatement(_,$){return $}astVariableDeclarator(_,$){return this.astGeneric(_.id,$),_.init!==null&&($.push("="),this.astGeneric(_.init,$)),$}astThisExpression(_,$){return $}astSequenceExpression(_,$){const{expressions:et}=_,st=[];for(let lt=0;lt<et.length;lt++){const ct=et[lt],ht=[];this.astGeneric(ct,ht),st.push(ht.join(""))}return st.length>1?$.push("(",st.join(","),")"):$.push(st[0]),$}astUnaryExpression(_,$){return this.checkAndUpconvertBitwiseUnary(_,$)||(_.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator))),$}checkAndUpconvertBitwiseUnary(_,$){}astUpdateExpression(_,$){return _.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator)),$}astLogicalExpression(_,$){return $.push("("),this.astGeneric(_.left,$),$.push(_.operator),this.astGeneric(_.right,$),$.push(")"),$}astMemberExpression(_,$){return $}astCallExpression(_,$){return $}astArrayExpression(_,$){return $}getMemberExpressionDetails(_){if(_.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${_.type} not a MemberExpression`,_);let $=null,et=null;const st=this.getVariableSignature(_);switch(st){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:st,type:"Integer",name:_.property.name};case"value[]":if(typeof _.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object),xProperty:_.property};case"value[][]":if(typeof _.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object),yProperty:_.object.property,xProperty:_.property};case"value[][][]":if(typeof _.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value[][][][]":if(typeof _.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if(this.isAstMathVariable(_))return $=_.property.name,{name:$,origin:"Math",type:"Number",signature:st};switch(_.property.name){case"r":case"g":case"b":case"a":return $=_.object.name,{name:$,property:_.property.name,origin:"user",signature:st,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",_)}case"this.constants.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:st};case"this.constants.value[]":if(typeof _.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:st,xProperty:_.property};case"this.constants.value[][]":{if(typeof _.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:st,yProperty:_.object.property,xProperty:_.property}}case"this.constants.value[][][]":{if(typeof _.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:st,zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:st,property:_.property};default:throw this.astErrorOutput("Unexpected expression",_)}}findIdentifierOrigin(_){const $=[this.ast];for(;$.length>0;){const et=$[0];if(et.type==="VariableDeclarator"&&et.id&&et.id.name&&et.id.name===_.name)return et;if($.shift(),et.argument)$.push(et.argument);else if(et.body)$.push(et.body);else if(et.declarations)$.push(et.declarations);else if(Array.isArray(et))for(let st=0;st<et.length;st++)$.push(et[st])}return null}findLastReturn(_){const $=[_||this.ast];for(;$.length>0;){const et=$.pop();if(et.type==="ReturnStatement")return et;if(et.type!=="FunctionDeclaration")if(et.argument)$.push(et.argument);else if(et.body)$.push(et.body);else if(et.declarations)$.push(et.declarations);else if(Array.isArray(et))for(let st=0;st<et.length;st++)$.push(et[st]);else et.consequent?$.push(et.consequent):et.cases&&$.push(et.cases)}return null}getInternalVariableName(_){return this._internalVariableNames.hasOwnProperty(_)||(this._internalVariableNames[_]=0),this._internalVariableNames[_]++,this._internalVariableNames[_]===1?_:_+this._internalVariableNames[_]}astKey(_,$=","){if(!_.start||!_.end)throw new Error("AST start and end needed");return`${_.start}${$}${_.end}`}}const it={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};a.exports={FunctionNode:rt}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(o,a,nt){const{utils:tt}=o("../utils");function ot(it){return it.length>0?it[it.length-1]:null}const at={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class rt{constructor(j){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(j)}isState(j){return this.states[this.states.length-1]===j}hasState(j){return this.states.indexOf(j)>-1}pushState(j){this.states.push(j)}popState(j){if(this.isState(j))this.states.pop();else throw new Error(`Cannot pop the non-active state "${j}"`)}get currentFunctionContext(){return ot(this.functionContexts)}get currentContext(){return ot(this.runningContexts)}newFunctionContext(){const j={"@contextType":"function"};this.contexts.push(j),this.functionContexts.push(j)}newContext(j){const _=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(_),this.runningContexts.push(_),j();const{currentFunctionContext:$}=this;for(const et in $)!$.hasOwnProperty(et)||_.hasOwnProperty(et)||(_[et]=$[et]);return this.runningContexts.pop(),_}useFunctionContext(j){const _=ot(this.functionContexts);this.runningContexts.push(_),j(),this.runningContexts.pop()}getIdentifiers(j){const _=this.trackedIdentifiers=[];return this.pushState(at.trackIdentifiers),j(),this.trackedIdentifiers=null,this.popState(at.trackIdentifiers),_}getDeclaration(j){const{currentContext:_,currentFunctionContext:$,runningContexts:et}=this,st=_[j]||$[j]||null;if(!st&&_===$&&et.length>0){const lt=et[et.length-2];if(lt[j])return lt[j]}return st}scan(j){if(j){if(Array.isArray(j)){for(let _=0;_<j.length;_++)this.scan(j[_]);return}switch(j.type){case"Program":this.useFunctionContext(()=>{this.scan(j.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(j.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan(j.left),this.scan(j.right);break;case"BinaryExpression":this.scan(j.left),this.scan(j.right);break;case"UpdateExpression":if(j.operator==="++"){const _=this.getDeclaration(j.argument.name);_&&(_.suggestedType="Integer")}this.scan(j.argument);break;case"UnaryExpression":this.scan(j.argument);break;case"VariableDeclaration":j.kind==="var"?this.useFunctionContext(()=>{j.declarations=tt.normalizeDeclarations(j),this.scan(j.declarations)}):(j.declarations=tt.normalizeDeclarations(j),this.scan(j.declarations));break;case"VariableDeclarator":{const{currentContext:_}=this,$=this.hasState(at.inForLoopInit),et={ast:j,context:_,name:j.id.name,origin:"declaration",inForLoopInit:$,inForLoopTest:null,assignable:_===this.currentFunctionContext||!$&&!_.hasOwnProperty(j.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};_[j.id.name]||(_[j.id.name]=et),this.declarations.push(et),this.scan(j.id),this.scan(j.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan(j.body):this.functions.push(j);break;case"IfStatement":this.scan(j.test),this.scan(j.consequent),j.alternate&&this.scan(j.alternate);break;case"ForStatement":{let _;const $=this.newContext(()=>{this.pushState(at.inForLoopInit),this.scan(j.init),this.popState(at.inForLoopInit),_=this.getIdentifiers(()=>{this.scan(j.test)}),this.scan(j.update),this.newContext(()=>{this.scan(j.body)})});if(_)for(const et in $)et!=="@contextType"&&_.indexOf(et)>-1&&($[et].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(j.body),this.scan(j.test)});break;case"Identifier":{this.isState(at.trackIdentifiers)&&this.trackedIdentifiers.push(j.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(j.name),ast:j});break}case"ReturnStatement":this.returnStatements.push(j),this.scan(j.argument);break;case"MemberExpression":this.pushState(at.memberExpression),this.scan(j.object),this.scan(j.property),this.popState(at.memberExpression);break;case"ExpressionStatement":this.scan(j.expression);break;case"SequenceExpression":this.scan(j.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:j}),this.scan(j.arguments);break;case"ArrayExpression":this.scan(j.elements);break;case"ConditionalExpression":this.scan(j.test),this.scan(j.alternate),this.scan(j.consequent);break;case"SwitchStatement":this.scan(j.discriminant),this.scan(j.cases);break;case"SwitchCase":this.scan(j.test),this.scan(j.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${j.type}"`)}}}}a.exports={FunctionTracer:rt}},{"../utils":114}],12:[function(o,a,nt){const{glWiretap:tt}=o("gl-wiretap"),{utils:ot}=o("../../utils");function at(et){return et.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function rt(et,st,lt,ct,ht){lt.built||lt.build.apply(lt,st),st=st?Array.from(st).map(hr=>{switch(typeof hr){case"boolean":return new Boolean(hr);case"number":return new Number(hr);default:return hr}}):null;const ut=[],mt=tt(lt.context,{useTrackablePrimitives:!0,onReadPixels:hr=>{if(Jt.subKernels){if(!gt)ut.push(`    const result = { result: ${it(hr,Jt)} };`),gt=!0;else{const dr=Jt.subKernels[vt++].property;ut.push(`    result${isNaN(dr)?"."+dr:`[${dr}]`} = ${it(hr,Jt)};`)}vt===Jt.subKernels.length&&ut.push("    return result;");return}hr?ut.push(`    return ${it(hr,Jt)};`):ut.push("    return null;")},onUnrecognizedArgumentLookup:hr=>{const dr=$(hr,Jt.kernelArguments,[],mt);if(dr)return dr;const gr=$(hr,Jt.kernelConstants,Ct?Object.keys(Ct).map(tr=>Ct[tr]):[],mt);return gr||null}});let gt=!1,vt=0;const{source:dt,canvas:St,output:yt,pipeline:pt,graphical:wt,loopMaxIterations:Et,constants:Ct,optimizeFloatMemory:kt,precision:Tt,fixIntegerDivisionAccuracy:At,functions:It,nativeFunctions:Ot,subKernels:Mt,immutable:Dt,argumentTypes:Bt,constantTypes:qt,kernelArguments:Wt,kernelConstants:Vt,tactic:Ht}=lt,Jt=new et(dt,{canvas:St,context:mt,checkContext:!1,output:yt,pipeline:pt,graphical:wt,loopMaxIterations:Et,constants:Ct,optimizeFloatMemory:kt,precision:Tt,fixIntegerDivisionAccuracy:At,functions:It,nativeFunctions:Ot,subKernels:Mt,immutable:Dt,argumentTypes:Bt,constantTypes:qt,tactic:Ht});let Qt=[];if(mt.setIndent(2),Jt.build.apply(Jt,st),Qt.push(mt.toString()),mt.reset(),Jt.kernelArguments.forEach((hr,dr)=>{switch(hr.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":mt.insertVariable(`uploadValue_${hr.name}`,hr.uploadValue);break;case"HTMLImageArray":for(let gr=0;gr<st[dr].length;gr++){const tr=st[dr];mt.insertVariable(`uploadValue_${hr.name}[${gr}]`,tr[gr])}break;case"Input":mt.insertVariable(`uploadValue_${hr.name}`,hr.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":mt.insertVariable(`uploadValue_${hr.name}`,st[dr].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${hr.type}`)}}),Qt.push("/** start of injected functions **/"),Qt.push(`function ${at(ot.flattenTo)}`),Qt.push(`function ${at(ot.flatten2dArrayTo)}`),Qt.push(`function ${at(ot.flatten3dArrayTo)}`),Qt.push(`function ${at(ot.flatten4dArrayTo)}`),Qt.push(`function ${at(ot.isArray)}`),Jt.renderOutput!==Jt.renderTexture&&Jt.formatValues&&Qt.push(`  const renderOutput = function ${at(Jt.formatValues)};`),Qt.push("/** end of injected functions **/"),Qt.push(`  const innerKernel = function (${Jt.kernelArguments.map(hr=>hr.varName).join(", ")}) {`),mt.setIndent(4),Jt.run.apply(Jt,st),Jt.renderKernels?Jt.renderKernels():Jt.renderOutput&&Jt.renderOutput(),Qt.push("    /** start setup uploads for kernel values **/"),Jt.kernelArguments.forEach(hr=>{Qt.push("    "+hr.getStringValueHandler().split(`
`).join(`
    `))}),Qt.push("    /** end setup uploads for kernel values **/"),Qt.push(mt.toString()),Jt.renderOutput===Jt.renderTexture){mt.reset();const hr=mt.getContextVariableName(Jt.framebuffer);if(Jt.renderKernels){const dr=Jt.renderKernels(),gr=mt.getContextVariableName(Jt.texture.texture);Qt.push(`    return {
      result: {
        texture: ${gr},
        type: '${dr.result.type}',
        toArray: ${_(dr.result,gr,hr)}
      },`);const{subKernels:tr,mappedTextures:rr}=Jt;for(let Yt=0;Yt<tr.length;Yt++){const br=rr[Yt],_r=tr[Yt],fr=dr[_r.property],Wr=mt.getContextVariableName(br.texture);Qt.push(`
      ${_r.property}: {
        texture: ${Wr},
        type: '${fr.type}',
        toArray: ${_(fr,Wr,hr)}
      },`)}Qt.push("    };")}else{const dr=Jt.renderOutput(),gr=mt.getContextVariableName(Jt.texture.texture);Qt.push(`    return {
        texture: ${gr},
        type: '${dr.type}',
        toArray: ${_(dr,gr,hr)}
      };`)}}Qt.push(`    ${ht?`
`+ht+"    ":""}`),Qt.push(ut.join(`
`)),Qt.push("  };"),Jt.graphical&&(Qt.push(j(Jt)),Qt.push("  innerKernel.getPixels = getPixels;")),Qt.push("  return innerKernel;");let cr=[];return Vt.forEach(hr=>{cr.push(`${hr.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${cr.join("")}
  ${ct||""}
${Qt.join(`
`)}
}`}function it(et,st){const lt=st.precision==="single"?et:`new Float32Array(${et}.buffer)`;return st.output[2]?`renderOutput(${lt}, ${st.output[0]}, ${st.output[1]}, ${st.output[2]})`:st.output[1]?`renderOutput(${lt}, ${st.output[0]}, ${st.output[1]})`:`renderOutput(${lt}, ${st.output[0]})`}function j(et){const st=et.getPixels.toString(),lt=!/^function/.test(st);return ot.flattenFunctionToString(`${lt?"function ":""}${st}`,{findDependency:(ct,ht)=>ct==="utils"?`const ${ht} = ${ot[ht].toString()};`:null,thisLookup:ct=>{if(ct==="context")return null;if(et.hasOwnProperty(ct))return JSON.stringify(et[ct]);throw new Error(`unhandled thisLookup ${ct}`)}})}function _(et,st,lt){const ct=et.toArray.toString(),ht=!/^function/.test(ct),ut=ot.flattenFunctionToString(`${ht?"function ":""}${ct}`,{findDependency:(mt,gt)=>{if(mt==="utils")return`const ${gt} = ${ot[gt].toString()};`;if(mt==="this")return gt==="framebuffer"?"":`${ht?"function ":""}${et[gt].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(mt,gt)=>{if(mt==="texture")return st;if(mt==="context")return gt?null:"gl";if(et.hasOwnProperty(mt))return JSON.stringify(et[mt]);throw new Error(`unhandled thisLookup ${mt}`)}});return`() => {
  function framebuffer() { return ${lt}; };
  ${ut}
  return toArray();
  }`}function $(et,st,lt,ct,ht){if(et===null||st===null)return null;switch(typeof et){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement)for(let ut=0;ut<st.length;ut++){const mt=st[ut];if(mt.type!=="HTMLImageArray"&&mt||mt.uploadValue!==et)continue;const gt=lt[ut].indexOf(et);if(gt===-1)continue;const vt=`uploadValue_${mt.name}[${gt}]`;return ct.insertVariable(vt,et),vt}for(let ut=0;ut<st.length;ut++){const mt=st[ut];if(et!==mt.uploadValue)continue;const gt=`uploadValue_${mt.name}`;return ct.insertVariable(gt,mt),gt}return null}a.exports={glKernelString:rt}},{"../../utils":114,"gl-wiretap":3}],13:[function(o,a,nt){const{Kernel:tt}=o("../kernel"),{utils:ot}=o("../../utils"),{GLTextureArray2Float:at}=o("./texture/array-2-float"),{GLTextureArray2Float2D:rt}=o("./texture/array-2-float-2d"),{GLTextureArray2Float3D:it}=o("./texture/array-2-float-3d"),{GLTextureArray3Float:j}=o("./texture/array-3-float"),{GLTextureArray3Float2D:_}=o("./texture/array-3-float-2d"),{GLTextureArray3Float3D:$}=o("./texture/array-3-float-3d"),{GLTextureArray4Float:et}=o("./texture/array-4-float"),{GLTextureArray4Float2D:st}=o("./texture/array-4-float-2d"),{GLTextureArray4Float3D:lt}=o("./texture/array-4-float-3d"),{GLTextureFloat:ct}=o("./texture/float"),{GLTextureFloat2D:ht}=o("./texture/float-2d"),{GLTextureFloat3D:ut}=o("./texture/float-3d"),{GLTextureMemoryOptimized:mt}=o("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:gt}=o("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:vt}=o("./texture/memory-optimized-3d"),{GLTextureUnsigned:dt}=o("./texture/unsigned"),{GLTextureUnsigned2D:St}=o("./texture/unsigned-2d"),{GLTextureUnsigned3D:yt}=o("./texture/unsigned-3d"),{GLTextureGraphical:pt}=o("./texture/graphical");class wt extends tt{static get mode(){return"gpu"}static getIsFloatRead(){const kt=`function kernelFunction() {
      return 1;
    }`,Tt=new this(kt,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});Tt.build(),Tt.run();const At=Tt.renderOutput();return Tt.destroy(!0),At[0]===1}static getIsIntegerDivisionAccurate(){function kt(Ot,Mt){return Ot[this.thread.x]/Mt[this.thread.x]}const Tt=new this(kt.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),At=[[6,6030401],[3,3991]];Tt.build.apply(Tt,At),Tt.run.apply(Tt,At);const It=Tt.renderOutput();return Tt.destroy(!0),It[0]===2&&It[1]===1511}static getIsSpeedTacticSupported(){function kt(Ot){return Ot[this.thread.x]}const Tt=new this(kt.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),At=[[0,1,2,3]];Tt.build.apply(Tt,At),Tt.run.apply(Tt,At);const It=Tt.renderOutput();return Tt.destroy(!0),Math.round(It[0])===0&&Math.round(It[1])===1&&Math.round(It[2])===2&&Math.round(It[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const kt=this.testContext,Tt=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:Tt,kernelMap:Tt,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER,kt.LOW_INT),lowFloatPrecision:kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER,kt.LOW_FLOAT),mediumIntPrecision:kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER,kt.MEDIUM_INT),mediumFloatPrecision:kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER,kt.MEDIUM_FLOAT),highIntPrecision:kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER,kt.HIGH_INT),highFloatPrecision:kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER,kt.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(kt,Tt){return kt.getVariablePrecisionString()+(Tt.length>0?":"+Tt.join(","):"")}setFixIntegerDivisionAccuracy(kt){return this.fixIntegerDivisionAccuracy=kt,this}setPrecision(kt){return this.precision=kt,this}setFloatTextures(kt){return ot.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=kt,this}static nativeFunctionArguments(kt){const Tt=[],At=[],It=[],Ot=/^[a-zA-Z_]/,Mt=/[a-zA-Z_0-9]/;let Dt=0,Bt=null,qt=null;for(;Dt<kt.length;){const Wt=kt[Dt],Vt=kt[Dt+1],Ht=It.length>0?It[It.length-1]:null;if(Ht==="FUNCTION_ARGUMENTS"&&Wt==="/"&&Vt==="*"){It.push("MULTI_LINE_COMMENT"),Dt+=2;continue}else if(Ht==="MULTI_LINE_COMMENT"&&Wt==="*"&&Vt==="/"){It.pop(),Dt+=2;continue}else if(Ht==="FUNCTION_ARGUMENTS"&&Wt==="/"&&Vt==="/"){It.push("COMMENT"),Dt+=2;continue}else if(Ht==="COMMENT"&&Wt===`
`){It.pop(),Dt++;continue}else if(Ht===null&&Wt==="("){It.push("FUNCTION_ARGUMENTS"),Dt++;continue}else if(Ht==="FUNCTION_ARGUMENTS"){if(Wt===")"){It.pop();break}if(Wt==="f"&&Vt==="l"&&kt[Dt+2]==="o"&&kt[Dt+3]==="a"&&kt[Dt+4]==="t"&&kt[Dt+5]===" "){It.push("DECLARE_VARIABLE"),qt="float",Bt="",Dt+=6;continue}else if(Wt==="i"&&Vt==="n"&&kt[Dt+2]==="t"&&kt[Dt+3]===" "){It.push("DECLARE_VARIABLE"),qt="int",Bt="",Dt+=4;continue}else if(Wt==="v"&&Vt==="e"&&kt[Dt+2]==="c"&&kt[Dt+3]==="2"&&kt[Dt+4]===" "){It.push("DECLARE_VARIABLE"),qt="vec2",Bt="",Dt+=5;continue}else if(Wt==="v"&&Vt==="e"&&kt[Dt+2]==="c"&&kt[Dt+3]==="3"&&kt[Dt+4]===" "){It.push("DECLARE_VARIABLE"),qt="vec3",Bt="",Dt+=5;continue}else if(Wt==="v"&&Vt==="e"&&kt[Dt+2]==="c"&&kt[Dt+3]==="4"&&kt[Dt+4]===" "){It.push("DECLARE_VARIABLE"),qt="vec4",Bt="",Dt+=5;continue}}else if(Ht==="DECLARE_VARIABLE"){if(Bt===""){if(Wt===" "){Dt++;continue}if(!Ot.test(Wt))throw new Error("variable name is not expected string")}Bt+=Wt,Mt.test(Vt)||(It.pop(),At.push(Bt),Tt.push(Et[qt]))}Dt++}if(It.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:At,argumentTypes:Tt}}static nativeFunctionReturnType(kt){return Et[kt.match(/int|float|vec[2-4]/)[0]]}static combineKernels(kt,Tt){kt.apply(null,arguments);const{texSize:At,context:It,threadDim:Ot}=Tt.texSize;let Mt;if(Tt.precision==="single"){const Dt=At[0],Bt=Math.ceil(At[1]/4);Mt=new Float32Array(Dt*Bt*4*4),It.readPixels(0,0,Dt,Bt*4,It.RGBA,It.FLOAT,Mt)}else{const Dt=new Uint8Array(At[0]*At[1]*4);It.readPixels(0,0,At[0],At[1],It.RGBA,It.UNSIGNED_BYTE,Dt),Mt=new Float32Array(Dt.buffer)}if(Mt=Mt.subarray(0,Ot[0]*Ot[1]*Ot[2]),Tt.output.length===1)return Mt;if(Tt.output.length===2)return ot.splitArray(Mt,Tt.output[0]);if(Tt.output.length===3)return ot.splitArray(Mt,Tt.output[0]*Tt.output[1]).map(function(Bt){return ot.splitArray(Bt,Tt.output[0])})}constructor(kt,Tt){super(kt,Tt),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:kt}=this.constructor;if(this.texSize[0]>kt.maxTextureSize||this.texSize[1]>kt.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${kt.maxTextureSize},${kt.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(kt){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=Tt=>Tt,this.TextureConstructor=pt,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=yt,null):this.output[1]>0?(this.TextureConstructor=St,null):(this.TextureConstructor=dt,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(kt)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=yt,this.formatValues=ot.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=St,this.formatValues=ot.erect2DPackedFloat,null):(this.TextureConstructor=dt,this.formatValues=ot.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(kt)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=vt,null):this.output[1]>0?(this.TextureConstructor=gt,null):(this.TextureConstructor=mt,null):this.output[2]>0?(this.TextureConstructor=ut,null):this.output[1]>0?(this.TextureConstructor=ht,null):(this.TextureConstructor=ct,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,null):this.output[1]>0?(this.TextureConstructor=rt,null):(this.TextureConstructor=at,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,null):this.output[1]>0?(this.TextureConstructor=_,null):(this.TextureConstructor=j,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,null):this.output[1]>0?(this.TextureConstructor=st,null):(this.TextureConstructor=et,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=vt,this.formatValues=ot.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=gt,this.formatValues=ot.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=mt,this.formatValues=ot.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,this.formatValues=ot.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=rt,this.formatValues=ot.erect2DArray2,null):(this.TextureConstructor=at,this.formatValues=ot.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=ot.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=ot.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=ot.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,this.formatValues=ot.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=st,this.formatValues=ot.erect2DArray4,null):(this.TextureConstructor=et,this.formatValues=ot.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=ut,this.formatValues=ot.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=ht,this.formatValues=ot.erect2DFloat,null):(this.TextureConstructor=ct,this.formatValues=ot.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,this.formatValues=ot.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=rt,this.formatValues=ot.erect2DArray2,null):(this.TextureConstructor=at,this.formatValues=ot.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=ot.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=ot.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=ot.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,this.formatValues=ot.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=st,this.formatValues=ot.erect2DArray4,null):(this.TextureConstructor=et,this.formatValues=ot.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return ot.linesToString(this.getMainResultKernelNumberTexture())+ot.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return ot.linesToString(this.getMainResultKernelArray2Texture())+ot.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return ot.linesToString(this.getMainResultKernelArray3Texture())+ot.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return ot.linesToString(this.getMainResultKernelArray4Texture())+ot.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:kt,context:Tt}=this,At=new Uint8Array(kt[0]*kt[1]*4);return Tt.readPixels(0,0,kt[0],kt[1],Tt.RGBA,Tt.UNSIGNED_BYTE,At),At}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:kt,context:Tt}=this,At=kt[0],It=kt[1],Ot=new Float32Array(At*It*4);return Tt.readPixels(0,0,At,It,Tt.RGBA,Tt.FLOAT,Ot),Ot}getPixels(kt){const{context:Tt,output:At}=this,[It,Ot]=At,Mt=new Uint8Array(It*Ot*4);return Tt.readPixels(0,0,It,Ot,Tt.RGBA,Tt.UNSIGNED_BYTE,Mt),new Uint8ClampedArray((kt?Mt:ot.flipPixels(Mt,It,Ot)).buffer)}renderKernelsToArrays(){const kt={result:this.renderOutput()};for(let Tt=0;Tt<this.subKernels.length;Tt++)kt[this.subKernels[Tt].property]=this.mappedTextures[Tt].toArray();return kt}renderKernelsToTextures(){const kt={result:this.renderOutput()};if(this.immutable)for(let Tt=0;Tt<this.subKernels.length;Tt++)kt[this.subKernels[Tt].property]=this.mappedTextures[Tt].clone();else for(let Tt=0;Tt<this.subKernels.length;Tt++)kt[this.subKernels[Tt].property]=this.mappedTextures[Tt];return kt}resetSwitchingKernels(){const kt=this.switchingKernels;return this.switchingKernels=null,kt}setOutput(kt){const Tt=this.toKernelOutput(kt);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const At=[Tt[0],Tt[1]||1,Tt[2]||1],It=ot.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},At),Ot=this.texSize;if(Ot){const Dt=this.getVariablePrecisionString(Ot,this.tactic),Bt=this.getVariablePrecisionString(It,this.tactic);if(Dt!==Bt){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:Bt,needed:kt});return}}this.output=Tt,this.threadDim=At,this.texSize=It;const{context:Mt}=this;if(Mt.bindFramebuffer(Mt.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],Mt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let Dt=0;Dt<this.mappedTextures.length;Dt++)this.mappedTextures[Dt].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=Tt;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(kt){this.switchingKernels?this.switchingKernels.push(kt):this.switchingKernels=[kt]}getVariablePrecisionString(kt=this.texSize,Tt=this.tactic,At=!1){if(!Tt){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const It=this.constructor.features[At?"lowIntPrecision":"lowFloatPrecision"],Ot=this.constructor.features[At?"mediumIntPrecision":"mediumFloatPrecision"],Mt=this.constructor.features[At?"highIntPrecision":"highFloatPrecision"],Dt=Math.log2(kt[0]*kt[1]);if(Dt<=It.rangeMax)return"lowp";if(Dt<=Ot.rangeMax)return"mediump";if(Dt<=Mt.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(Tt){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${Tt}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(kt,Tt){if(this.immutable){if(this.texture.texture===Tt.texture){const{prevArg:At}=kt;At&&(At.texture._refs===1&&(this.texture.delete(),this.texture=At.clone(),this._textureSwitched=!0),At.delete()),kt.prevArg=Tt.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:At}=this;for(let It=0;It<At.length;It++){const Ot=At[It];if(Ot.texture===Tt.texture){const{prevArg:Mt}=kt;Mt&&(Mt.texture._refs===1&&(Ot.delete(),At[It]=Mt.clone(),this._mappedTextureSwitched[It]=!0),Mt.delete()),kt.prevArg=Tt.clone();return}}}}}onActivate(kt){if(this._textureSwitched=!0,this.texture=kt.texture,this.mappedTextures){for(let Tt=0;Tt<this.mappedTextures.length;Tt++)this._mappedTextureSwitched[Tt]=!0;this.mappedTextures=kt.mappedTextures}}initCanvas(){}}const Et={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};a.exports={GLKernel:wt}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return tt.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray2Float2D:at}},{"../../../utils":114,"./float":25}],15:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return tt.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray2Float3D:at}},{"../../../utils":114,"./float":25}],16:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return tt.erectArray2(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray2Float:at}},{"../../../utils":114,"./float":25}],17:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return tt.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray3Float2D:at}},{"../../../utils":114,"./float":25}],18:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return tt.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray3Float3D:at}},{"../../../utils":114,"./float":25}],19:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return tt.erectArray3(this.renderValues(),this.output[0])}}a.exports={GLTextureArray3Float:at}},{"../../../utils":114,"./float":25}],20:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return tt.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray4Float2D:at}},{"../../../utils":114,"./float":25}],21:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return tt.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray4Float3D:at}},{"../../../utils":114,"./float":25}],22:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return tt.erectArray4(this.renderValues(),this.output[0])}}a.exports={GLTextureArray4Float:at}},{"../../../utils":114,"./float":25}],23:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(1)"}toArray(){return tt.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureFloat2D:at}},{"../../../utils":114,"./float":25}],24:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(1)"}toArray(){return tt.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureFloat3D:at}},{"../../../utils":114,"./float":25}],25:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTexture:ot}=o("./index");class at extends ot{get textureType(){return this.context.FLOAT}constructor(it){super(it),this.type="ArrayTexture(1)"}renderRawOutput(){const it=this.context,j=this.size;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,this.texture,0);const _=new Float32Array(j[0]*j[1]*4);return it.readPixels(0,0,j[0],j[1],it.RGBA,it.FLOAT,_),_}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return tt.erectFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureFloat:at}},{"../../../utils":114,"./index":27}],26:[function(o,a,nt){const{GLTextureUnsigned:tt}=o("./unsigned");class ot extends tt{constructor(rt){super(rt),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}a.exports={GLTextureGraphical:ot}},{"./unsigned":33}],27:[function(o,a,nt){const{Texture:tt}=o("../../../texture");class ot extends tt{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:it,size:j,texture:_,kernel:$}=this;$.debug&&console.warn("cloning internal texture"),it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),at(it,_),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,_,0);const et=it.createTexture();at(it,et),it.texImage2D(it.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,0,0,j[0],j[1]),et._refs=1,this.texture=et}newTexture(){this.texture._refs--;const it=this.context,j=this.size;this.kernel.debug&&console.warn("new internal texture");const $=it.createTexture();at(it,$),it.texImage2D(it.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),$._refs=1,this.texture=$}clear(){if(this.texture._refs){this.texture._refs--;const _=this.context,$=this.texture=_.createTexture();at(_,$);const et=this.size;$._refs=1,_.texImage2D(_.TEXTURE_2D,0,this.internalFormat,et[0],et[1],0,this.textureFormat,this.textureType,null)}const{context:it,texture:j}=this;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.bindTexture(it.TEXTURE_2D,j),at(it,j),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,j,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT|it.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function at(rt,it){rt.activeTexture(rt.TEXTURE15),rt.bindTexture(rt.TEXTURE_2D,it),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MIN_FILTER,rt.NEAREST),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MAG_FILTER,rt.NEAREST)}a.exports={GLTexture:ot}},{"../../../texture":113}],28:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return tt.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureMemoryOptimized2D:at}},{"../../../utils":114,"./float":25}],29:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return tt.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureMemoryOptimized3D:at}},{"../../../utils":114,"./float":25}],30:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return tt.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureMemoryOptimized:at}},{"../../../utils":114,"./float":25}],31:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureUnsigned:ot}=o("./unsigned");class at extends ot{constructor(it){super(it),this.type="NumberTexture"}toArray(){return tt.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureUnsigned2D:at}},{"../../../utils":114,"./unsigned":33}],32:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTextureUnsigned:ot}=o("./unsigned");class at extends ot{constructor(it){super(it),this.type="NumberTexture"}toArray(){return tt.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureUnsigned3D:at}},{"../../../utils":114,"./unsigned":33}],33:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{GLTexture:ot}=o("./index");class at extends ot{get textureType(){return this.context.UNSIGNED_BYTE}constructor(it){super(it),this.type="NumberTexture"}renderRawOutput(){const{context:it}=this;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,this.texture,0);const j=new Uint8Array(this.size[0]*this.size[1]*4);return it.readPixels(0,0,this.size[0],this.size[1],it.RGBA,it.UNSIGNED_BYTE,j),j}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return tt.erectPackedFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureUnsigned:at}},{"../../../utils":114,"./index":27}],34:[function(o,a,nt){const tt=o("gl"),{WebGLKernel:ot}=o("../web-gl/kernel"),{glKernelString:at}=o("../gl/kernel-string");let rt=null,it=null,j=null,_=null,$=null;class et extends ot{static get isSupported(){return rt!==null||(this.setupFeatureChecks(),rt=j!==null),rt}static setupFeatureChecks(){if(it=null,_=null,typeof tt=="function")try{if(j=tt(2,2,{preserveDrawingBuffer:!0}),!j||!j.getExtension)return;_={STACKGL_resize_drawingbuffer:j.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:j.getExtension("STACKGL_destroy_context"),OES_texture_float:j.getExtension("OES_texture_float"),OES_texture_float_linear:j.getExtension("OES_texture_float_linear"),OES_element_index_uint:j.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:j.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:j.getExtension("WEBGL_color_buffer_float")},$=this.getFeatures()}catch(lt){console.warn(lt)}}static isContextMatch(lt){try{return lt.getParameter(lt.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return!!_.OES_texture_float}static getIsDrawBuffers(){return!!_.WEBGL_draw_buffers}static getChannelCount(){return _.WEBGL_draw_buffers?j.getParameter(_.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return j.getParameter(j.MAX_TEXTURE_SIZE)}static get testCanvas(){return it}static get testContext(){return j}static get features(){return $}initCanvas(){return{}}initContext(){return tt(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(lt){const ct=lt.getExtension("STACKGL_destroy_context");ct&&ct.destroy&&ct.destroy()}toString(){return at(this.constructor,arguments,this,`const gl = context || require('gl')(1, 1);
`,`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`)}setOutput(lt){return super.setOutput(lt),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}a.exports={HeadlessGLKernel:et}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(o,a,nt){class tt{constructor(at,rt){const{name:it,kernel:j,context:_,checkContext:$,onRequestContextHandle:et,onUpdateValueMismatch:st,origin:lt,strictIntegers:ct,type:ht,tactic:ut}=rt;if(!it)throw new Error("name not set");if(!ht)throw new Error("type not set");if(!lt)throw new Error("origin not set");if(lt!=="user"&&lt!=="constants")throw new Error(`origin must be "user" or "constants" value is "${lt}"`);if(!et)throw new Error("onRequestContextHandle is not set");this.name=it,this.origin=lt,this.tactic=ut,this.varName=lt==="constants"?`constants.${it}`:it,this.kernel=j,this.strictIntegers=ct,this.type=at.type||ht,this.size=at.size||null,this.index=null,this.context=_,this.checkContext=$??!0,this.contextHandle=null,this.onRequestContextHandle=et,this.onUpdateValueMismatch=st,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(at){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}a.exports={KernelValue:tt}},{}],36:[function(o,a,nt){const{utils:tt}=o("../utils"),{Input:ot}=o("../input");class at{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(j){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(j){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(j,_){if(typeof j!="object"){if(typeof j!="string")throw new Error("source not a string");if(!tt.isFunctionString(j))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof j=="string"?tt.getArgumentNamesFromString(j):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=j,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(j){for(let _ in j)if(!(!j.hasOwnProperty(_)||!this.hasOwnProperty(_))){switch(_){case"output":if(!Array.isArray(j.output)){this.setOutput(j.output);continue}break;case"functions":this.functions=[];for(let $=0;$<j.functions.length;$++)this.addFunction(j.functions[$]);continue;case"graphical":j[_]&&!j.hasOwnProperty("precision")&&(this.precision="unsigned"),this[_]=j[_];continue;case"nativeFunctions":if(!j.nativeFunctions)continue;this.nativeFunctions=[];for(let $=0;$<j.nativeFunctions.length;$++){const et=j.nativeFunctions[$],{name:st,source:lt}=et;this.addNativeFunction(st,lt,et)}continue}this[_]=j[_]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(j))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(j){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(j,_={}){if(j.name&&j.source&&j.argumentTypes&&"returnType"in j)this.functions.push(j);else if("settings"in j&&"source"in j)this.functions.push(this.functionToIGPUFunction(j.source,j.settings));else if(typeof j=="string"||typeof j=="function")this.functions.push(this.functionToIGPUFunction(j,_));else throw new Error("function not properly defined");return this}addNativeFunction(j,_,$={}){const{argumentTypes:et,argumentNames:st}=$.argumentTypes?rt($.argumentTypes):this.constructor.nativeFunctionArguments(_)||{};return this.nativeFunctions.push({name:j,source:_,settings:$,argumentTypes:et,argumentNames:st,returnType:$.returnType||this.constructor.nativeFunctionReturnType(_)}),this}setupArguments(j){if(this.kernelArguments=[],this.argumentTypes)for(let _=0;_<this.argumentTypes.length;_++)this.kernelArguments.push({type:this.argumentTypes[_]});else if(!this.argumentTypes){this.argumentTypes=[];for(let _=0;_<j.length;_++){const $=tt.getVariableType(j[_],this.strictIntegers),et=$==="Integer"?"Number":$;this.argumentTypes.push(et),this.kernelArguments.push({type:et})}}this.argumentSizes=new Array(j.length),this.argumentBitRatios=new Int32Array(j.length);for(let _=0;_<j.length;_++){const $=j[_];this.argumentSizes[_]=$.constructor===ot?$.size:null,this.argumentBitRatios[_]=this.getBitRatio($)}if(this.argumentNames.length!==j.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let j=this.constantTypes===null;if(j&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let _ in this.constants){if(j){const $=tt.getVariableType(this.constants[_],this.strictIntegers);this.constantTypes[_]=$,this.kernelConstants.push({name:_,type:$})}else this.kernelConstants.push({name:_,type:this.constantTypes[_]});this.constantBitRatios[_]=this.getBitRatio(this.constants[_])}}setOptimizeFloatMemory(j){return this.optimizeFloatMemory=j,this}toKernelOutput(j){return j.hasOwnProperty("x")?j.hasOwnProperty("y")?j.hasOwnProperty("z")?[j.x,j.y,j.z]:[j.x,j.y]:[j.x]:j}setOutput(j){return this.output=this.toKernelOutput(j),this}setDebug(j){return this.debug=j,this}setGraphical(j){return this.graphical=j,this.precision="unsigned",this}setLoopMaxIterations(j){return this.loopMaxIterations=j,this}setConstants(j){return this.constants=j,this}setConstantTypes(j){return this.constantTypes=j,this}setFunctions(j){for(let _=0;_<j.length;_++)this.addFunction(j[_]);return this}setNativeFunctions(j){for(let _=0;_<j.length;_++){const $=j[_],{name:et,source:st}=$;this.addNativeFunction(et,st,$)}return this}setInjectedNative(j){return this.injectedNative=j,this}setPipeline(j){return this.pipeline=j,this}setPrecision(j){return this.precision=j,this}setDimensions(j){return tt.warnDeprecated("method","setDimensions","setOutput"),this.output=j,this}setOutputToTexture(j){return tt.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=j,this}setImmutable(j){return this.immutable=j,this}setCanvas(j){return this.canvas=j,this}setStrictIntegers(j){return this.strictIntegers=j,this}setDynamicOutput(j){return this.dynamicOutput=j,this}setHardcodeConstants(j){return tt.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(j),this.setDynamicArguments(j),this}setDynamicArguments(j){return this.dynamicArguments=j,this}setUseLegacyEncoder(j){return this.useLegacyEncoder=j,this}setWarnVarUsage(j){return tt.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return tt.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return tt.warnDeprecated("method","getWebGl"),this.context}setContext(j){return this.context=j,this}setArgumentTypes(j){if(Array.isArray(j))this.argumentTypes=j;else{this.argumentTypes=[];for(const _ in j){if(!j.hasOwnProperty(_))continue;const $=this.argumentNames.indexOf(_);if($===-1)throw new Error(`unable to find argument ${_}`);this.argumentTypes[$]=j[_]}}return this}setTactic(j){return this.tactic=j,this}requestFallback(j){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(j)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(j){if(this.subKernels===null&&(this.subKernels=[]),!j.source)throw new Error('subKernel missing "source" property');if(!j.property&&isNaN(j.property))throw new Error('subKernel missing "property" property');if(!j.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(j),this}destroy(j){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(j){if(this.precision==="single")return 4;if(Array.isArray(j[0]))return this.getBitRatio(j[0]);if(j.constructor===ot)return this.getBitRatio(j.value);switch(j.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(j){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!tt.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let j=0;j<this.output.length;j++)if(isNaN(this.output[j])||this.output[j]<1)throw new Error(`${this.constructor.name}.output[${j}] incorrectly defined as \`${this.output[j]}\`, needs to be numeric, and greater than 0`)}prependString(j){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(j){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(j=>j.name):null,returnType:this.returnType}}}buildSignature(j){const _=this.constructor;this.signature=_.getSignature(this,_.getArgumentTypes(this,j))}static getArgumentTypes(j,_){const $=new Array(_.length);for(let et=0;et<_.length;et++){const st=_[et],lt=j.argumentTypes[et];if(st.type)$[et]=st.type;else switch(lt){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":$[et]=tt.getVariableType(st);break;default:$[et]=lt}}return $}static getSignature(j,_){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(j,_={}){if(typeof j!="string"&&typeof j!="function")throw new Error("source not a string or function");const $=typeof j=="string"?j:j.toString();let et=[];return Array.isArray(_.argumentTypes)?et=_.argumentTypes:typeof _.argumentTypes=="object"?et=tt.getArgumentNamesFromString($).map(st=>_.argumentTypes[st])||[]:et=_.argumentTypes||[],{name:tt.getFunctionNameFromString($)||null,source:$,argumentTypes:et,returnType:_.returnType||null}}onActivate(j){}}function rt(it){const j=Object.keys(it),_=[];for(let $=0;$<j.length;$++){const et=j[$];_.push(it[et])}return{argumentTypes:_,argumentNames:j}}a.exports={Kernel:at}},{"../input":110,"../utils":114}],37:[function(o,a,nt){const tt=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;a.exports={fragmentShader:tt}},{}],38:[function(o,a,nt){const{utils:tt}=o("../../utils"),{FunctionNode:ot}=o("../function-node");class at extends ot{constructor(_,$){super(_,$),$&&$.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=$.fixIntegerDivisionAccuracy)}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);const et=this.getType(_.consequent),st=this.getType(_.alternate);return et===null&&st===null?($.push("if ("),this.astGeneric(_.test,$),$.push(") {"),this.astGeneric(_.consequent,$),$.push(";"),$.push("} else {"),this.astGeneric(_.alternate,$),$.push(";"),$.push("}"),$):($.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$)}astFunction(_,$){if(this.isRootKernel)$.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(_.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:et}=this;if(!et)$.push("void");else{const st=rt[et];if(!st)throw new Error(`unknown type ${et}`);$.push(st)}}if($.push(" "),$.push(this.name),$.push("("),!this.isRootKernel)for(let et=0;et<this.argumentNames.length;++et){const st=this.argumentNames[et];et>0&&$.push(", ");let lt=this.argumentTypes[this.argumentNames.indexOf(st)];if(!lt)throw this.astErrorOutput(`Unknown argument ${st} type`,_);lt==="LiteralInteger"&&(this.argumentTypes[et]=lt="Number");const ct=rt[lt];if(!ct)throw this.astErrorOutput("Unexpected expression",_);const ht=tt.sanitizeName(st);ct==="sampler2D"||ct==="sampler2DArray"?$.push(`${ct} user_${ht},ivec2 user_${ht}Size,ivec3 user_${ht}Dim`):$.push(`${ct} user_${ht}`)}$.push(`) {
`);for(let et=0;et<_.body.body.length;++et)this.astGeneric(_.body.body[et],$),$.push(`
`);return $.push(`}
`),$}astReturnStatement(_,$){if(!_.argument)throw this.astErrorOutput("Unexpected return statement",_);this.pushState("skip-literal-correction");const et=this.getType(_.argument);this.popState("skip-literal-correction");const st=[];switch(this.returnType||(et==="LiteralInteger"||et==="Integer"?this.returnType="Number":this.returnType=et),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(et){case"Integer":st.push("float("),this.astGeneric(_.argument,st),st.push(")");break;case"LiteralInteger":this.castLiteralToFloat(_.argument,st),this.getType(_)==="Integer"&&(st.unshift("float("),st.push(")"));break;default:this.astGeneric(_.argument,st)}break;case"Integer":switch(et){case"Float":case"Number":this.castValueToInteger(_.argument,st);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,st);break;default:this.astGeneric(_.argument,st)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(_.argument,st);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,_)}return this.isRootKernel?($.push(`kernelResult = ${st.join("")};`),$.push("return;")):this.isSubKernel?($.push(`subKernelResult_${this.name} = ${st.join("")};`),$.push(`return subKernelResult_${this.name};`)):$.push(`return ${st.join("")};`),$}astLiteral(_,$){if(isNaN(_.value))throw this.astErrorOutput("Non-numeric literal not supported : "+_.value,_);const et=this.astKey(_);return Number.isInteger(_.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[et]="Integer",$.push(`${_.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[et]="Number",$.push(`${_.value}.0`)):(this.literalTypes[et]="Number",$.push(`${_.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[et]="Integer",$.push(Math.round(_.value))):(this.literalTypes[et]="Number",$.push(`${_.value}`)),$}astBinaryExpression(_,$){if(this.checkAndUpconvertOperator(_,$))return $;if(this.fixIntegerDivisionAccuracy&&_.operator==="/"){switch($.push("divWithIntCheck("),this.pushState("building-float"),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(", "),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return this.popState("building-float"),$.push(")"),$}$.push("(");const et=this.getType(_.left)||"Number",st=this.getType(_.right)||"Number";if(!et||!st)throw this.astErrorOutput("Unhandled binary expression",_);const lt=et+" & "+st;switch(lt){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((_.operator===">"||_.operator==="<"&&_.right.type==="Literal")&&!Number.isInteger(_.right.value)){this.pushState("building-float"),this.castValueToFloat(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.pushState("casting-to-integer"),_.right.type==="Literal"){const ct=[];if(this.astGeneric(_.right,ct),this.getType(_.right)==="Integer")$.push(ct.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",_)}else $.push("int("),this.astGeneric(_.right,$),$.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToInteger(_.right,$),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToInteger(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.pushState("casting-to-float"),this.astGeneric(_.right,$),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${lt}`,_)}return $.push(")"),$}checkAndUpconvertOperator(_,$){const et=this.checkAndUpconvertBitwiseOperators(_,$);if(et)return et;const lt={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[_.operator];if(!lt)return null;switch($.push(lt),$.push("("),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseOperators(_,$){const st={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[_.operator];if(!st)return null;switch($.push(st),$.push("("),this.getType(_.left)){case"Number":case"Float":this.castValueToInteger(_.left,$);break;case"LiteralInteger":this.castLiteralToInteger(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Number":case"Float":this.castValueToInteger(_.right,$);break;case"LiteralInteger":this.castLiteralToInteger(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseUnary(_,$){const st={"~":"bitwiseNot"}[_.operator];if(!st)return null;switch($.push(st),$.push("("),this.getType(_.argument)){case"Number":case"Float":this.castValueToInteger(_.argument,$);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,$);break;default:this.astGeneric(_.argument,$)}return $.push(")"),$}castLiteralToInteger(_,$){return this.pushState("casting-to-integer"),this.astGeneric(_,$),this.popState("casting-to-integer"),$}castLiteralToFloat(_,$){return this.pushState("casting-to-float"),this.astGeneric(_,$),this.popState("casting-to-float"),$}castValueToInteger(_,$){return this.pushState("casting-to-integer"),$.push("int("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-integer"),$}castValueToFloat(_,$){return this.pushState("casting-to-float"),$.push("float("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-float"),$}astIdentifierExpression(_,$){if(_.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",_);const et=this.getType(_),st=tt.sanitizeName(_.name);return _.name==="Infinity"?$.push("3.402823466e+38"):et==="Boolean"?this.argumentNames.indexOf(st)>-1?$.push(`bool(user_${st})`):$.push(`user_${st}`):$.push(`user_${st}`),$}astForStatement(_,$){if(_.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",_);const et=[],st=[],lt=[],ct=[];let ht=null;if(_.init){const{declarations:ut}=_.init;ut.length>1&&(ht=!1),this.astGeneric(_.init,et);for(let mt=0;mt<ut.length;mt++)ut[mt].init&&ut[mt].init.type!=="Literal"&&(ht=!1)}else ht=!1;if(_.test?this.astGeneric(_.test,st):ht=!1,_.update?this.astGeneric(_.update,lt):ht=!1,_.body&&(this.pushState("loop-body"),this.astGeneric(_.body,ct),this.popState("loop-body")),ht===null&&(ht=this.isSafe(_.init)&&this.isSafe(_.test)),ht){const ut=et.join(""),mt=ut[ut.length-1]!==";";$.push(`for (${ut}${mt?";":""}${st.join("")};${lt.join("")}){
`),$.push(ct.join("")),$.push(`}
`)}else{const ut=this.getInternalVariableName("safeI");et.length>0&&$.push(et.join(""),`
`),$.push(`for (int ${ut}=0;${ut}<LOOP_MAX;${ut}++){
`),st.length>0&&$.push(`if (!${st.join("")}) break;
`),$.push(ct.join("")),$.push(`
${lt.join("")};`),$.push(`}
`)}return $}astWhileStatement(_,$){if(_.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",_);const et=this.getInternalVariableName("safeI");return $.push(`for (int ${et}=0;${et}<LOOP_MAX;${et}++){
`),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),this.astGeneric(_.body,$),$.push(`}
`),$}astDoWhileStatement(_,$){if(_.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",_);const et=this.getInternalVariableName("safeI");return $.push(`for (int ${et}=0;${et}<LOOP_MAX;${et}++){
`),this.astGeneric(_.body,$),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),$.push(`}
`),$}astAssignmentExpression(_,$){if(_.operator==="%=")this.astGeneric(_.left,$),$.push("="),$.push("mod("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else if(_.operator==="**=")this.astGeneric(_.left,$),$.push("="),$.push("pow("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else{const et=this.getType(_.left),st=this.getType(_.right);return this.astGeneric(_.left,$),$.push(_.operator),et!=="Integer"&&st==="Integer"?($.push("float("),this.astGeneric(_.right,$),$.push(")")):this.astGeneric(_.right,$),$}}astBlockStatement(_,$){if(this.isState("loop-body")){this.pushState("block-body");for(let et=0;et<_.body.length;et++)this.astGeneric(_.body[et],$);this.popState("block-body")}else{$.push(`{
`);for(let et=0;et<_.body.length;et++)this.astGeneric(_.body[et],$);$.push(`}
`)}return $}astVariableDeclaration(_,$){const et=_.declarations;if(!et||!et[0]||!et[0].init)throw this.astErrorOutput("Unexpected expression",_);const st=[];let lt=null;const ct=[];let ht=[];for(let ut=0;ut<et.length;ut++){const mt=et[ut],gt=mt.init,vt=this.getDeclaration(mt.id),dt=this.getType(mt.init);let St=dt;St==="LiteralInteger"&&(vt.suggestedType==="Integer"?St="Integer":St="Number");const yt=rt[St];if(!yt)throw this.astErrorOutput(`Markup type ${St} not handled`,_);const pt=[];if(dt==="Integer"&&St==="Integer"){if(vt.valueType="Number",ut===0||lt===null)pt.push("float ");else if(St!==lt)throw new Error("Unhandled declaration");lt=St,pt.push(`user_${tt.sanitizeName(mt.id.name)}=`),pt.push("float("),this.astGeneric(gt,pt),pt.push(")")}else vt.valueType=St,ut===0||lt===null?pt.push(`${yt} `):St!==lt&&(ct.push(ht.join(",")),ht=[],pt.push(`${yt} `)),lt=St,pt.push(`user_${tt.sanitizeName(mt.id.name)}=`),dt==="Number"&&St==="Integer"?gt.left&&gt.left.type==="Literal"?this.astGeneric(gt,pt):(pt.push("int("),this.astGeneric(gt,pt),pt.push(")")):dt==="LiteralInteger"&&St==="Integer"?this.castLiteralToInteger(gt,pt):this.astGeneric(gt,pt);ht.push(pt.join(""))}return ht.length>0&&ct.push(ht.join(",")),st.push(ct.join(";")),$.push(st.join("")),$.push(";"),$}astIfStatement(_,$){return $.push("if ("),this.astGeneric(_.test,$),$.push(")"),_.consequent.type==="BlockStatement"?this.astGeneric(_.consequent,$):($.push(` {
`),this.astGeneric(_.consequent,$),$.push(`
}
`)),_.alternate&&($.push("else "),_.alternate.type==="BlockStatement"||_.alternate.type==="IfStatement"?this.astGeneric(_.alternate,$):($.push(` {
`),this.astGeneric(_.alternate,$),$.push(`
}
`))),$}astSwitchStatement(_,$){if(_.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",_);const{discriminant:et,cases:st}=_,lt=this.getType(et),ct=`switchDiscriminant${this.astKey(_,"_")}`;switch(lt){case"Float":case"Number":$.push(`float ${ct} = `),this.astGeneric(et,$),$.push(`;
`);break;case"Integer":$.push(`int ${ct} = `),this.astGeneric(et,$),$.push(`;
`);break}if(st.length===1&&!st[0].test)return this.astGeneric(st[0].consequent,$),$;let ht=!1,ut=[],mt=!1,gt=!1;for(let vt=0;vt<st.length;vt++){if(st[vt].test){if(vt===0||!gt?(gt=!0,$.push(`if (${ct} == `)):ht?($.push(`${ct} == `),ht=!1):$.push(` else if (${ct} == `),lt==="Integer")switch(this.getType(st[vt].test)){case"Number":case"Float":this.castValueToInteger(st[vt].test,$);break;case"LiteralInteger":this.castLiteralToInteger(st[vt].test,$);break}else if(lt==="Float")switch(this.getType(st[vt].test)){case"LiteralInteger":this.castLiteralToFloat(st[vt].test,$);break;case"Integer":this.castValueToFloat(st[vt].test,$);break}else throw new Error("unhanlded");if(!st[vt].consequent||st[vt].consequent.length===0){ht=!0,$.push(" || ");continue}$.push(`) {
`)}else if(st.length>vt+1){mt=!0,this.astGeneric(st[vt].consequent,ut);continue}else $.push(` else {
`);this.astGeneric(st[vt].consequent,$),$.push(`
}`)}return mt&&($.push(" else {"),$.push(ut.join("")),$.push("}")),$}astThisExpression(_,$){return $.push("this"),$}astMemberExpression(_,$){const{property:et,name:st,signature:lt,origin:ct,type:ht,xProperty:ut,yProperty:mt,zProperty:gt}=this.getMemberExpressionDetails(_);switch(lt){case"value.thread.value":case"this.thread.value":if(st!=="x"&&st!=="y"&&st!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",_);return $.push(`threadId.${st}`),$;case"this.output.value":if(this.dynamicOutput)switch(st){case"x":this.isState("casting-to-float")?$.push("float(uOutputDim.x)"):$.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?$.push("float(uOutputDim.y)"):$.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?$.push("float(uOutputDim.z)"):$.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",_)}else switch(st){case"x":this.isState("casting-to-integer")?$.push(this.output[0]):$.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?$.push(this.output[1]):$.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?$.push(this.output[2]):$.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",_)}return $;case"value":throw this.astErrorOutput("Unexpected expression",_);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(ct==="Math")return $.push(Math[st]),$;const dt=tt.sanitizeName(st);switch(et){case"r":return $.push(`user_${dt}.r`),$;case"g":return $.push(`user_${dt}.g`),$;case"b":return $.push(`user_${dt}.b`),$;case"a":return $.push(`user_${dt}.a`),$}break;case"this.constants.value":if(typeof ut>"u")switch(ht){case"Array(2)":case"Array(3)":case"Array(4)":return $.push(`constants_${tt.sanitizeName(st)}`),$}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(et)),$.push("]"),$;case"fn()[][]":return this.astCallExpression(_.object.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.object.property)),$.push("]"),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.property)),$.push("]"),$;case"[][]":return this.astArrayExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(et)),$.push("]"),$;default:throw this.astErrorOutput("Unexpected expression",_)}if(_.computed===!1)switch(ht){case"Number":case"Integer":case"Float":case"Boolean":return $.push(`${ct}_${tt.sanitizeName(st)}`),$}const vt=`${ct}_${tt.sanitizeName(st)}`;switch(ht){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(ut)),$.push("]");break;case"HTMLImageArray":$.push(`getImage3D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"ArrayTexture(1)":$.push(`getFloatFromSampler2D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":$.push(`getMemoryOptimizedVec2(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"ArrayTexture(2)":$.push(`getVec2FromSampler2D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":$.push(`getMemoryOptimizedVec3(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"ArrayTexture(3)":$.push(`getVec3FromSampler2D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":$.push(`getMemoryOptimizedVec4(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`getVec4FromSampler2D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")$.push(`getMemoryOptimized32(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");else{const dt=ct==="user"?this.lookupFunctionArgumentBitRatio(this.name,st):this.constantBitRatios[st];switch(dt){case 1:$.push(`get8(${vt}, ${vt}Size, ${vt}Dim, `);break;case 2:$.push(`get16(${vt}, ${vt}Size, ${vt}Dim, `);break;case 4:case 0:$.push(`get32(${vt}, ${vt}Size, ${vt}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${dt}`)}this.memberExpressionXYZ(ut,mt,gt,$),$.push(")")}break;case"MemoryOptimizedNumberTexture":$.push(`getMemoryOptimized32(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,mt,gt,$),$.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`${vt}[${this.memberExpressionPropertyMarkup(mt)}]`),mt&&$.push(`[${this.memberExpressionPropertyMarkup(ut)}]`);break;default:throw new Error(`unhandled member expression "${ht}"`)}return $}astCallExpression(_,$){if(!_.callee)throw this.astErrorOutput("Unknown CallExpression",_);let et=null;const st=this.isAstMathFunction(_);if(st||_.callee.object&&_.callee.object.type==="ThisExpression"?et=_.callee.property.name:_.callee.type==="SequenceExpression"&&_.callee.expressions[0].type==="Literal"&&!isNaN(_.callee.expressions[0].raw)?et=_.callee.expressions[1].property.name:et=_.callee.name,!et)throw this.astErrorOutput("Unhandled function, couldn't find name",_);switch(et){case"pow":et="_pow";break;case"round":et="_round";break}if(this.calledFunctions.indexOf(et)<0&&this.calledFunctions.push(et),et==="random"&&this.plugins&&this.plugins.length>0)for(let lt=0;lt<this.plugins.length;lt++){const ct=this.plugins[lt];if(ct.functionMatch==="Math.random()"&&ct.functionReplace)return $.push(ct.functionReplace),$}if(this.onFunctionCall&&this.onFunctionCall(this.name,et,_.arguments),$.push(et),$.push("("),st)for(let lt=0;lt<_.arguments.length;++lt){const ct=_.arguments[lt],ht=this.getType(ct);switch(lt>0&&$.push(", "),ht){case"Integer":this.castValueToFloat(ct,$);break;default:this.astGeneric(ct,$);break}}else{const lt=this.lookupFunctionArgumentTypes(et)||[];for(let ct=0;ct<_.arguments.length;++ct){const ht=_.arguments[ct];let ut=lt[ct];ct>0&&$.push(", ");const mt=this.getType(ht);switch(ut||(this.triggerImplyArgumentType(et,ct,mt,this),ut=mt),mt){case"Boolean":this.astGeneric(ht,$);continue;case"Number":case"Float":if(ut==="Integer"){$.push("int("),this.astGeneric(ht,$),$.push(")");continue}else if(ut==="Number"||ut==="Float"){this.astGeneric(ht,$);continue}else if(ut==="LiteralInteger"){this.castLiteralToFloat(ht,$);continue}break;case"Integer":if(ut==="Number"||ut==="Float"){$.push("float("),this.astGeneric(ht,$),$.push(")");continue}else if(ut==="Integer"){this.astGeneric(ht,$);continue}break;case"LiteralInteger":if(ut==="Integer"){this.castLiteralToInteger(ht,$);continue}else if(ut==="Number"||ut==="Float"){this.castLiteralToFloat(ht,$);continue}else if(ut==="LiteralInteger"){this.astGeneric(ht,$);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(ut===mt){if(ht.type==="Identifier")$.push(`user_${tt.sanitizeName(ht.name)}`);else if(ht.type==="ArrayExpression"||ht.type==="MemberExpression"||ht.type==="CallExpression")this.astGeneric(ht,$);else throw this.astErrorOutput(`Unhandled argument type ${ht.type}`,_);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(ut===mt){if(ht.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${ht.type}`,_);this.triggerImplyArgumentBitRatio(this.name,ht.name,et,ct);const gt=tt.sanitizeName(ht.name);$.push(`user_${gt},user_${gt}Size,user_${gt}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${mt} and ${ut} for argument named "${ht.name}"`,_)}}return $.push(")"),$}astArrayExpression(_,$){const et=this.getType(_),st=_.elements.length;switch(et){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`mat${st}(`);break;default:$.push(`vec${st}(`)}for(let lt=0;lt<st;++lt){lt>0&&$.push(", ");const ct=_.elements[lt];this.astGeneric(ct,$)}return $.push(")"),$}memberExpressionXYZ(_,$,et,st){return et?st.push(this.memberExpressionPropertyMarkup(et),", "):st.push("0, "),$?st.push(this.memberExpressionPropertyMarkup($),", "):st.push("0, "),st.push(this.memberExpressionPropertyMarkup(_)),st}memberExpressionPropertyMarkup(_){if(!_)throw new Error("Property not set");const $=this.getType(_),et=[];switch($){case"Number":case"Float":this.castValueToInteger(_,et);break;case"LiteralInteger":this.castLiteralToInteger(_,et);break;default:this.astGeneric(_,et)}return et.join("")}}const rt={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},it={"===":"==","!==":"!="};a.exports={WebGLFunctionNode:at}},{"../../utils":114,"../function-node":10}],39:[function(o,a,nt){const{WebGLKernelValueBoolean:tt}=o("./kernel-value/boolean"),{WebGLKernelValueFloat:ot}=o("./kernel-value/float"),{WebGLKernelValueInteger:at}=o("./kernel-value/integer"),{WebGLKernelValueHTMLImage:rt}=o("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:it}=o("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:j}=o("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:_}=o("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:$}=o("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:et}=o("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:st}=o("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:lt}=o("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:ct}=o("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ht}=o("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:ut}=o("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:mt}=o("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:gt}=o("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:vt}=o("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:dt}=o("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:St}=o("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:yt}=o("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:pt}=o("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:wt}=o("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:Et}=o("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:Ct}=o("./kernel-value/array2"),{WebGLKernelValueArray3:kt}=o("./kernel-value/array3"),{WebGLKernelValueArray4:Tt}=o("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:At}=o("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:It}=o("./kernel-value/dynamic-unsigned-array"),Ot={unsigned:{dynamic:{Boolean:tt,Integer:at,Float:ot,Array:It,"Array(2)":Ct,"Array(3)":kt,"Array(4)":Tt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:lt,NumberTexture:mt,"ArrayTexture(1)":mt,"ArrayTexture(2)":mt,"ArrayTexture(3)":mt,"ArrayTexture(4)":mt,MemoryOptimizedNumberTexture:ht,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:tt,Float:ot,Integer:at,Array:At,"Array(2)":Ct,"Array(3)":kt,"Array(4)":Tt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:st,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ct,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:!1,HTMLVideo:j}},single:{dynamic:{Boolean:tt,Integer:at,Float:ot,Array:vt,"Array(2)":Ct,"Array(3)":kt,"Array(4)":Tt,"Array1D(2)":St,"Array1D(3)":St,"Array1D(4)":St,"Array2D(2)":pt,"Array2D(3)":pt,"Array2D(4)":pt,"Array3D(2)":Et,"Array3D(3)":Et,"Array3D(4)":Et,Input:et,NumberTexture:mt,"ArrayTexture(1)":mt,"ArrayTexture(2)":mt,"ArrayTexture(3)":mt,"ArrayTexture(4)":mt,MemoryOptimizedNumberTexture:ht,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:tt,Float:ot,Integer:at,Array:gt,"Array(2)":Ct,"Array(3)":kt,"Array(4)":Tt,"Array1D(2)":dt,"Array1D(3)":dt,"Array1D(4)":dt,"Array2D(2)":yt,"Array2D(3)":yt,"Array2D(4)":yt,"Array3D(2)":wt,"Array3D(3)":wt,"Array3D(4)":wt,Input:$,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ct,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:!1,HTMLVideo:j}}};function Mt(Dt,Bt,qt,Wt){if(!Dt)throw new Error("type missing");if(!Bt)throw new Error("dynamic missing");if(!qt)throw new Error("precision missing");Wt.type&&(Dt=Wt.type);const Vt=Ot[qt][Bt];if(Vt[Dt]===!1)return null;if(Vt[Dt]===void 0)throw new Error(`Could not find a KernelValue for ${Dt}`);return Vt[Dt]}a.exports={lookupKernelValueType:Mt,kernelValueMaps:Ot}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(o,a,nt){const{WebGLKernelValue:tt}=o("./index"),{Input:ot}=o("../../../input");class at extends tt{checkSize(it,j){if(!this.kernel.validate)return;const{maxTextureSize:_}=this.kernel.constructor.features;if(it>_||j>_)throw it>j?new Error(`Argument texture width of ${it} larger than maximum size of ${_} for your GPU`):it<j?new Error(`Argument texture height of ${j} larger than maximum size of ${_} for your GPU`):new Error(`Argument texture height and width of ${j} larger than maximum size of ${_} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:it}=this;it.activeTexture(this.contextHandle),it.bindTexture(it.TEXTURE_2D,this.texture),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_S,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_T,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MIN_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MAG_FILTER,it.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(it){if(Array.isArray(it[0]))return this.getBitRatio(it[0]);if(it.constructor===ot)return this.getBitRatio(it.value);switch(it.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}a.exports={WebGLKernelArray:at}},{"../../../input":110,"./index":59}],41:[function(o,a,nt){const{WebGLKernelValue:tt}=o("./index");class ot extends tt{constructor(rt,it){super(rt,it),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${rt[0]},${rt[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueArray2:ot}},{"./index":59}],42:[function(o,a,nt){const{WebGLKernelValue:tt}=o("./index");class ot extends tt{constructor(rt,it){super(rt,it),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${rt[0]},${rt[1]},${rt[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueArray3:ot}},{"./index":59}],43:[function(o,a,nt){const{WebGLKernelValue:tt}=o("./index");class ot extends tt{constructor(rt,it){super(rt,it),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${rt[0]},${rt[1]},${rt[2]},${rt[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueArray4:ot}},{"./index":59}],44:[function(o,a,nt){o("../../../utils");const{WebGLKernelValue:tt}=o("./index");class ot extends tt{constructor(rt,it){super(rt,it),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const bool ${this.id} = ${rt};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueBoolean:ot}},{"../../../utils":114,"./index":59}],45:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueHTMLImage:ot}=o("./html-image");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){const{width:j,height:_}=it;this.checkSize(j,_),this.dimensions=[j,_,1],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicHTMLImage:at}},{"../../../utils":114,"./html-image":57}],46:[function(o,a,nt){const{WebGLKernelValueDynamicHTMLImage:tt}=o("./dynamic-html-image");class ot extends tt{}a.exports={WebGLKernelValueDynamicHTMLVideo:ot}},{"./dynamic-html-image":45}],47:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:ot}=o("./memory-optimized-number-texture");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=it.dimensions,this.checkSize(it.size[0],it.size[1]),this.textureSize=it.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:at}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueNumberTexture:ot}=o("./number-texture");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=it.dimensions,this.checkSize(it.size[0],it.size[1]),this.textureSize=it.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicNumberTexture:at}},{"../../../utils":114,"./number-texture":62}],49:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleArray:ot}=o("./single-array");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=tt.getDimensions(it,!0),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray:at}},{"../../../utils":114,"./single-array":63}],50:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleArray1DI:ot}=o("./single-array1d-i");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray1DI:at}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleArray2DI:ot}=o("./single-array2d-i");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray2DI:at}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleArray3DI:ot}=o("./single-array3d-i");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray3DI:at}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleInput:ot}=o("./single-input");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleInput:at}},{"../../../utils":114,"./single-input":67}],54:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueUnsignedArray:ot}=o("./unsigned-array");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=tt.getDimensions(it,!0),this.textureSize=tt.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const j=this.getTransferArrayType(it);this.preUploadValue=new j(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicUnsignedArray:at}},{"../../../utils":114,"./unsigned-array":68}],55:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueUnsignedInput:ot}=o("./unsigned-input");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=tt.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const et=this.getTransferArrayType(it.value);this.preUploadValue=new et(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicUnsignedInput:at}},{"../../../utils":114,"./unsigned-input":69}],56:[function(o,a,nt){o("../../../utils");const{WebGLKernelValue:tt}=o("./index");class ot extends tt{constructor(rt,it){super(rt,it),this.uploadValue=rt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(rt){return this.origin==="constants"?Number.isInteger(rt)?`const float ${this.id} = ${rt}.0;
`:`const float ${this.id} = ${rt};
`:`uniform float ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueFloat:ot}},{"../../../utils":114,"./index":59}],57:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j);const{width:_,height:$}=it;this.checkSize(_,$),this.dimensions=[_,$,1],this.textureSize=[_,$],this.uploadValue=it}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=it),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueHTMLImage:at}},{"../../../utils":114,"./array":40}],58:[function(o,a,nt){const{WebGLKernelValueHTMLImage:tt}=o("./html-image");class ot extends tt{}a.exports={WebGLKernelValueHTMLVideo:ot}},{"./html-image":57}],59:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{KernelValue:ot}=o("../../kernel-value");class at extends ot{constructor(it,j){super(it,j),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=it.constructor,this.onRequestTexture=j.onRequestTexture,this.onRequestIndex=j.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${tt.sanitizeName(this.name)}`}setup(){}getTransferArrayType(it){if(Array.isArray(it[0]))return this.getTransferArrayType(it[0]);switch(it.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return it.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),it.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}a.exports={WebGLKernelValue:at}},{"../../../utils":114,"../../kernel-value":35}],60:[function(o,a,nt){o("../../../utils");const{WebGLKernelValue:tt}=o("./index");class ot extends tt{constructor(rt,it){super(rt,it),this.uploadValue=rt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(rt){return this.origin==="constants"?`const int ${this.id} = ${parseInt(rt)};
`:`uniform int ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueInteger:ot}},{"../../../utils":114,"./index":59}],61:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array"),at="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class rt extends ot{constructor(j,_){super(j,_);const[$,et]=j.size;this.checkSize($,et),this.dimensions=j.dimensions,this.textureSize=j.size,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(at);if(_.mappedTextures){const{mappedTextures:et}=_;for(let st=0;st<et.length;st++)if(et[st].texture===j.texture)throw new Error(at)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueMemoryOptimizedNumberTexture:rt,sameError:at}},{"../../../utils":114,"./array":40}],62:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array"),{sameError:at}=o("./memory-optimized-number-texture");class rt extends ot{constructor(j,_){super(j,_);const[$,et]=j.size;this.checkSize($,et);const{size:st,dimensions:lt}=j;this.bitRatio=this.getBitRatio(j),this.dimensions=lt,this.textureSize=st,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(at);if(_.mappedTextures){const{mappedTextures:et}=_;for(let st=0;st<et.length;st++)if(et[st].texture===j.texture)throw new Error(at)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueNumberTexture:rt}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4,this.dimensions=tt.getDimensions(it,!0),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray:at}},{"../../../utils":114,"./array":40}],64:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=tt.getDimensions(it,!0);this.textureSize=tt.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flatten2dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray1DI:at}},{"../../../utils":114,"./array":40}],65:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=tt.getDimensions(it,!0);this.textureSize=tt.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flatten3dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray2DI:at}},{"../../../utils":114,"./array":40}],66:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=tt.getDimensions(it,!0);this.textureSize=tt.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],j[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flatten4dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray3DI:at}},{"../../../utils":114,"./array":40}],67:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4;let[_,$,et]=it.size;this.dimensions=new Int32Array([_||1,$||1,et||1]),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flattenTo(it.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleInput:at}},{"../../../utils":114,"./array":40}],68:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=this.getBitRatio(it),this.dimensions=tt.getDimensions(it,!0),this.textureSize=tt.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(it),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return tt.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flattenTo(it,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueUnsignedArray:at}},{"../../../utils":114,"./array":40}],69:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=this.getBitRatio(it);const[_,$,et]=it.size;this.dimensions=new Int32Array([_||1,$||1,et||1]),this.textureSize=tt.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(it.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return tt.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:j}=this;tt.flattenTo(it.value,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueUnsignedInput:at}},{"../../../utils":114,"./array":40}],70:[function(o,a,nt){const{GLKernel:tt}=o("../gl/kernel"),{FunctionBuilder:ot}=o("../function-builder"),{WebGLFunctionNode:at}=o("./function-node"),{utils:rt}=o("../../utils"),it=o("../../plugins/math-random-uniformly-distributed"),{fragmentShader:j}=o("./fragment-shader"),{vertexShader:_}=o("./vertex-shader"),{glKernelString:$}=o("../gl/kernel-string"),{lookupKernelValueType:et}=o("./kernel-value-maps");let st=null,lt=null,ct=null,ht=null,ut=null;const mt=[it],gt=[],vt={};class dt extends tt{static get isSupported(){return st!==null||(this.setupFeatureChecks(),st=this.isContextMatch(ct)),st}static setupFeatureChecks(){typeof document<"u"?lt=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(lt=new OffscreenCanvas(0,0)),lt&&(ct=lt.getContext("webgl")||lt.getContext("experimental-webgl"),!(!ct||!ct.getExtension)&&(ht={OES_texture_float:ct.getExtension("OES_texture_float"),OES_texture_float_linear:ct.getExtension("OES_texture_float_linear"),OES_element_index_uint:ct.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:ct.getExtension("WEBGL_draw_buffers")},ut=this.getFeatures()))}static isContextMatch(yt){return typeof WebGLRenderingContext<"u"?yt instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return!!ht.OES_texture_float}static getIsDrawBuffers(){return!!ht.WEBGL_draw_buffers}static getChannelCount(){return ht.WEBGL_draw_buffers?ct.getParameter(ht.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return ct.getParameter(ct.MAX_TEXTURE_SIZE)}static lookupKernelValueType(yt,pt,wt,Et){return et(yt,pt,wt,Et)}static get testCanvas(){return lt}static get testContext(){return ct}static get features(){return ut}static get fragmentShader(){return j}static get vertexShader(){return _}constructor(yt,pt){super(yt,pt),this.program=null,this.pipeline=pt.pipeline,this.endianness=rt.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(yt.settings||pt),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const yt=document.createElement("canvas");return yt.width=2,yt.height=2,yt}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const yt={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",yt)||this.canvas.getContext("experimental-webgl",yt)}initPlugins(yt){const pt=[],{source:wt}=this;if(typeof wt=="string")for(let Et=0;Et<mt.length;Et++){const Ct=mt[Et];wt.match(Ct.functionMatch)&&pt.push(Ct)}else if(typeof wt=="object"&&yt.pluginNames)for(let Et=0;Et<mt.length;Et++){const Ct=mt[Et];yt.pluginNames.some(Tt=>Tt===Ct.name)&&pt.push(Ct)}return pt}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(yt){if(!this.validate){this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:pt}=this.constructor;if(this.optimizeFloatMemory===!0&&!pt.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!pt.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&pt.isTextureFloat&&(this.precision=pt.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!pt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&pt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(yt.length!==1)throw new Error("Auto output only supported for kernels with only one input");const wt=rt.getVariableType(yt[0],this.strictIntegers);switch(wt){case"Array":this.output=rt.getDimensions(wt);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=yt[0].output;break;default:throw new Error("Auto output not supported for input type: "+wt)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=rt.clone(this.output);return}else this.precision===null&&pt.isTextureFloat&&(this.precision="single");this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:yt,canvas:pt}=this;if(this.maxTexSize===null){let wt=gt.indexOf(pt);wt===-1&&(wt=gt.length,gt.push(pt),vt[wt]=[yt[0],yt[1]]),this.maxTexSize=vt[wt]}this.maxTexSize[0]<yt[0]&&(this.maxTexSize[0]=yt[0]),this.maxTexSize[1]<yt[1]&&(this.maxTexSize[1]=yt[1])}setupArguments(yt){this.kernelArguments=[],this.argumentTextureCount=0;const pt=this.argumentTypes===null;if(pt&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],yt.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(yt.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:wt}=this;let Et=0;const Ct=()=>this.createTexture(),kt=()=>this.constantTextureCount+Et++,Tt=It=>{this.switchKernels({type:"argumentMismatch",needed:It})},At=()=>wt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let It=0;It<yt.length;It++){const Ot=yt[It],Mt=this.argumentNames[It];let Dt;pt?(Dt=rt.getVariableType(Ot,this.strictIntegers),this.argumentTypes.push(Dt)):Dt=this.argumentTypes[It];const Bt=this.constructor.lookupKernelValueType(Dt,this.dynamicArguments?"dynamic":"static",this.precision,yt[It]);if(Bt===null)return this.requestFallback(yt);const qt=new Bt(Ot,{name:Mt,type:Dt,tactic:this.tactic,origin:"user",context:wt,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:Ct,onRequestIndex:kt,onUpdateValueMismatch:Tt,onRequestContextHandle:At});this.kernelArguments.push(qt),qt.setup(),this.argumentSizes.push(qt.textureSize),this.argumentBitRatios[It]=qt.bitRatio}}createTexture(){const yt=this.context.createTexture();return this.textureCache.push(yt),yt}setupConstants(yt){const{context:pt}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let wt=this.constantTypes===null;wt&&(this.constantTypes={}),this.constantBitRatios={};let Et=0;for(const Ct in this.constants){const kt=this.constants[Ct];let Tt;wt?(Tt=rt.getVariableType(kt,this.strictIntegers),this.constantTypes[Ct]=Tt):Tt=this.constantTypes[Ct];const At=this.constructor.lookupKernelValueType(Tt,"static",this.precision,kt);if(At===null)return this.requestFallback(yt);const It=new At(kt,{name:Ct,type:Tt,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>Et++,onRequestContextHandle:()=>pt.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[Ct]=It.bitRatio,this.kernelConstants.push(It),It.setup(),It.forceUploadEachRun&&this.forceUploadKernelConstants.push(It)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const yt=this.pickRenderStrategy(arguments);if(yt)return yt;const{texSize:pt,context:wt,canvas:Et}=this;wt.enable(wt.SCISSOR_TEST),this.pipeline&&this.precision==="single"?(wt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),Et.width=this.maxTexSize[0],Et.height=this.maxTexSize[1]):(wt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),Et.width=this.maxTexSize[0],Et.height=this.maxTexSize[1]);const Ct=this.threadDim=Array.from(this.output);for(;Ct.length<3;)Ct.push(1);const kt=this.getVertexShader(arguments),Tt=wt.createShader(wt.VERTEX_SHADER);wt.shaderSource(Tt,kt),wt.compileShader(Tt),this.vertShader=Tt;const At=this.getFragmentShader(arguments),It=wt.createShader(wt.FRAGMENT_SHADER);if(wt.shaderSource(It,At),wt.compileShader(It),this.fragShader=It,this.debug&&(console.log("GLSL Shader Output:"),console.log(At)),!wt.getShaderParameter(Tt,wt.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+wt.getShaderInfoLog(Tt));if(!wt.getShaderParameter(It,wt.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+wt.getShaderInfoLog(It));const Ot=this.program=wt.createProgram();wt.attachShader(Ot,Tt),wt.attachShader(Ot,It),wt.linkProgram(Ot),this.framebuffer=wt.createFramebuffer(),this.framebuffer.width=pt[0],this.framebuffer.height=pt[1],this.rawValueFramebuffers={};const Mt=new Float32Array([-1,-1,1,-1,-1,1,1,1]),Dt=new Float32Array([0,0,1,0,0,1,1,1]),Bt=Mt.byteLength;let qt=this.buffer;qt?wt.bindBuffer(wt.ARRAY_BUFFER,qt):(qt=this.buffer=wt.createBuffer(),wt.bindBuffer(wt.ARRAY_BUFFER,qt),wt.bufferData(wt.ARRAY_BUFFER,Mt.byteLength+Dt.byteLength,wt.STATIC_DRAW)),wt.bufferSubData(wt.ARRAY_BUFFER,0,Mt),wt.bufferSubData(wt.ARRAY_BUFFER,Bt,Dt);const Wt=wt.getAttribLocation(this.program,"aPos");wt.enableVertexAttribArray(Wt),wt.vertexAttribPointer(Wt,2,wt.FLOAT,!1,0,0);const Vt=wt.getAttribLocation(this.program,"aTexCoord");wt.enableVertexAttribArray(Vt),wt.vertexAttribPointer(Vt,2,wt.FLOAT,!1,0,Bt),wt.bindFramebuffer(wt.FRAMEBUFFER,this.framebuffer);let Ht=0;wt.useProgram(this.program);for(let Jt in this.constants)this.kernelConstants[Ht++].updateValue(this.constants[Jt]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const yt=ot.fromKernel(this,at,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=yt.getPrototypeString("kernel"),this.setupReturnTypes(yt)}setupReturnTypes(yt){if(!this.graphical&&!this.returnType&&(this.returnType=yt.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let pt=0;pt<this.subKernels.length;pt++){const wt=this.subKernels[pt];wt.returnType||(wt.returnType=yt.getSubKernelResultType(pt))}}run(){const{kernelArguments:yt,texSize:pt,forceUploadKernelConstants:wt,context:Et}=this;Et.useProgram(this.program),Et.scissor(0,0,pt[0],pt[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",pt)),this.setUniform2f("ratio",pt[0]/this.maxTexSize[0],pt[1]/this.maxTexSize[1]);for(let Ct=0;Ct<wt.length;Ct++){const kt=wt[Ct];if(kt.updateValue(this.constants[kt.name]),this.switchingKernels)return}for(let Ct=0;Ct<yt.length;Ct++)if(yt[Ct].updateValue(arguments[Ct]),this.switchingKernels)return;if(this.plugins)for(let Ct=0;Ct<this.plugins.length;Ct++){const kt=this.plugins[Ct];kt.onBeforeRun&&kt.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return Et.bindRenderbuffer(Et.RENDERBUFFER,null),Et.bindFramebuffer(Et.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),Et.drawArrays(Et.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;Et.bindRenderbuffer(Et.RENDERBUFFER,null),Et.bindFramebuffer(Et.FRAMEBUFFER,null),Et.drawArrays(Et.TRIANGLE_STRIP,0,4);return}Et.bindFramebuffer(Et.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),Et.drawArrays(Et.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:yt}=this;switch(this.getInternalFormat()){case yt.RGBA:return yt.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const yt=this.context;yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const yt=this.context,pt=this.texSize;if(this.texture){yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,this.texture.texture,0);return}const wt=this.createTexture();yt.activeTexture(yt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),yt.bindTexture(yt.TEXTURE_2D,wt),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_S,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_T,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MIN_FILTER,yt.NEAREST),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MAG_FILTER,yt.NEAREST);const Et=this.getInternalFormat();this.precision==="single"?yt.texImage2D(yt.TEXTURE_2D,0,Et,pt[0],pt[1],0,yt.RGBA,yt.FLOAT,null):yt.texImage2D(yt.TEXTURE_2D,0,Et,pt[0],pt[1],0,Et,yt.UNSIGNED_BYTE,null),yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,wt,0),this.texture=new this.TextureConstructor({texture:wt,size:pt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const yt=this.context;for(let pt=0;pt<this.mappedTextures.length;pt++){const wt=this.mappedTextures[pt];(wt.beforeMutate()||this._mappedTextureSwitched[pt])&&(yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+pt+1,yt.TEXTURE_2D,wt.texture,0),this._mappedTextureSwitched[pt]=!1)}}_setupSubOutputTextures(){const yt=this.context;if(this.mappedTextures){for(let wt=0;wt<this.subKernels.length;wt++)yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+wt+1,yt.TEXTURE_2D,this.mappedTextures[wt].texture,0);return}const pt=this.texSize;this.drawBuffersMap=[yt.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let wt=0;wt<this.subKernels.length;wt++){const Et=this.createTexture();this.drawBuffersMap.push(yt.COLOR_ATTACHMENT0+wt+1),yt.activeTexture(yt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+wt),yt.bindTexture(yt.TEXTURE_2D,Et),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_S,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_T,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MIN_FILTER,yt.NEAREST),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MAG_FILTER,yt.NEAREST),this.precision==="single"?yt.texImage2D(yt.TEXTURE_2D,0,yt.RGBA,pt[0],pt[1],0,yt.RGBA,yt.FLOAT,null):yt.texImage2D(yt.TEXTURE_2D,0,yt.RGBA,pt[0],pt[1],0,yt.RGBA,yt.UNSIGNED_BYTE,null),yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+wt+1,yt.TEXTURE_2D,Et,0),this.mappedTextures.push(new this.TextureConstructor({texture:Et,size:pt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(yt,pt){if(this.uniform1fCache.hasOwnProperty(yt)){const Et=this.uniform1fCache[yt];if(pt===Et)return}this.uniform1fCache[yt]=pt;const wt=this.getUniformLocation(yt);this.context.uniform1f(wt,pt)}setUniform1i(yt,pt){if(this.uniform1iCache.hasOwnProperty(yt)){const Et=this.uniform1iCache[yt];if(pt===Et)return}this.uniform1iCache[yt]=pt;const wt=this.getUniformLocation(yt);this.context.uniform1i(wt,pt)}setUniform2f(yt,pt,wt){if(this.uniform2fCache.hasOwnProperty(yt)){const Ct=this.uniform2fCache[yt];if(pt===Ct[0]&&wt===Ct[1])return}this.uniform2fCache[yt]=[pt,wt];const Et=this.getUniformLocation(yt);this.context.uniform2f(Et,pt,wt)}setUniform2fv(yt,pt){if(this.uniform2fvCache.hasOwnProperty(yt)){const Et=this.uniform2fvCache[yt];if(pt[0]===Et[0]&&pt[1]===Et[1])return}this.uniform2fvCache[yt]=pt;const wt=this.getUniformLocation(yt);this.context.uniform2fv(wt,pt)}setUniform2iv(yt,pt){if(this.uniform2ivCache.hasOwnProperty(yt)){const Et=this.uniform2ivCache[yt];if(pt[0]===Et[0]&&pt[1]===Et[1])return}this.uniform2ivCache[yt]=pt;const wt=this.getUniformLocation(yt);this.context.uniform2iv(wt,pt)}setUniform3fv(yt,pt){if(this.uniform3fvCache.hasOwnProperty(yt)){const Et=this.uniform3fvCache[yt];if(pt[0]===Et[0]&&pt[1]===Et[1]&&pt[2]===Et[2])return}this.uniform3fvCache[yt]=pt;const wt=this.getUniformLocation(yt);this.context.uniform3fv(wt,pt)}setUniform3iv(yt,pt){if(this.uniform3ivCache.hasOwnProperty(yt)){const Et=this.uniform3ivCache[yt];if(pt[0]===Et[0]&&pt[1]===Et[1]&&pt[2]===Et[2])return}this.uniform3ivCache[yt]=pt;const wt=this.getUniformLocation(yt);this.context.uniform3iv(wt,pt)}setUniform4fv(yt,pt){if(this.uniform4fvCache.hasOwnProperty(yt)){const Et=this.uniform4fvCache[yt];if(pt[0]===Et[0]&&pt[1]===Et[1]&&pt[2]===Et[2]&&pt[3]===Et[3])return}this.uniform4fvCache[yt]=pt;const wt=this.getUniformLocation(yt);this.context.uniform4fv(wt,pt)}setUniform4iv(yt,pt){if(this.uniform4ivCache.hasOwnProperty(yt)){const Et=this.uniform4ivCache[yt];if(pt[0]===Et[0]&&pt[1]===Et[1]&&pt[2]===Et[2]&&pt[3]===Et[3])return}this.uniform4ivCache[yt]=pt;const wt=this.getUniformLocation(yt);this.context.uniform4iv(wt,pt)}getUniformLocation(yt){return this.programUniformLocationCache.hasOwnProperty(yt)?this.programUniformLocationCache[yt]:this.programUniformLocationCache[yt]=this.context.getUniformLocation(this.program,yt)}_getFragShaderArtifactMap(yt){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(yt),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(yt){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(yt=>yt.source&&this.source.match(yt.functionMatch)?yt.source:"").join(`
`):`
`}_getConstantsString(){const yt=[],{threadDim:pt,texSize:wt}=this;return this.dynamicOutput?yt.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):yt.push(`ivec3 uOutputDim = ivec3(${pt[0]}, ${pt[1]}, ${pt[2]})`,`ivec2 uTexSize = ivec2(${wt[0]}, ${wt[1]})`),rt.linesToString(yt)}_getTextureCoordinate(){const yt=this.subKernels;return yt===null||yt.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(yt){const pt=[],{argumentNames:wt}=this;for(let Et=0;Et<wt.length;Et++)pt.push(this.kernelArguments[Et].getSource(yt[Et]));return pt.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const yt=[],{constants:pt}=this;if(pt){let wt=0;for(const Et in pt)this.constants.hasOwnProperty(Et)&&yt.push(this.kernelConstants[wt++].getSource(this.constants[Et]))}return yt.join("")}getRawValueFramebuffer(yt,pt){if(this.rawValueFramebuffers[yt]||(this.rawValueFramebuffers[yt]={}),!this.rawValueFramebuffers[yt][pt]){const wt=this.context.createFramebuffer();wt.width=yt,wt.height=pt,this.rawValueFramebuffers[yt][pt]=wt}return this.rawValueFramebuffers[yt][pt]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const yt=[this.getKernelResultDeclaration()],{subKernels:pt}=this;if(pt!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let wt=0;wt<pt.length;wt++){const Et=pt[wt];yt.push(Et.returnType==="Integer"?`int subKernelResult_${Et.name} = 0`:`float subKernelResult_${Et.name} = 0.0`)}break;case"Array(2)":for(let wt=0;wt<pt.length;wt++)yt.push(`vec2 subKernelResult_${pt[wt].name}`);break;case"Array(3)":for(let wt=0;wt<pt.length;wt++)yt.push(`vec3 subKernelResult_${pt[wt].name}`);break;case"Array(4)":for(let wt=0;wt<pt.length;wt++)yt.push(`vec4 subKernelResult_${pt[wt].name}`);break}return rt.linesToString(yt)+this.translatedSource}getMainResultGraphical(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const yt=[];if(!this.subKernels)return"";for(let pt=0;pt<this.subKernels.length;pt++)this.subKernels[pt].returnType==="Integer"?yt.push(`  gl_FragData[${pt+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[pt].name}))`):yt.push(`  gl_FragData[${pt+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[pt].name})`);return rt.linesToString(yt)}getMainResultMemoryOptimizedFloats(){const yt=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const pt=["r","g","b","a"];for(let wt=0;wt<pt.length;wt++){const Et=pt[wt];this.getMainResultKernelMemoryOptimizedFloats(yt,Et),this.getMainResultSubKernelMemoryOptimizedFloats(yt,Et),wt+1<pt.length&&yt.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return rt.linesToString(yt)}getMainResultKernelMemoryOptimizedFloats(yt,pt){yt.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${pt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(yt,pt){if(!this.subKernels)return yt;for(let wt=0;wt<this.subKernels.length;wt++)this.subKernels[wt].returnType==="Integer"?yt.push(`  gl_FragData[${wt+1}].${pt} = float(subKernelResult_${this.subKernels[wt].name})`):yt.push(`  gl_FragData[${wt+1}].${pt} = subKernelResult_${this.subKernels[wt].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const yt=[];if(!this.subKernels)return yt;for(let pt=0;pt<this.subKernels.length;++pt){const wt=this.subKernels[pt];wt.returnType==="Integer"?yt.push(`  gl_FragData[${pt+1}][0] = float(subKernelResult_${wt.name})`):yt.push(`  gl_FragData[${pt+1}][0] = subKernelResult_${wt.name}`)}return yt}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const yt=[];if(!this.subKernels)return yt;for(let pt=0;pt<this.subKernels.length;++pt)yt.push(`  gl_FragData[${pt+1}][0] = subKernelResult_${this.subKernels[pt].name}[0]`,`  gl_FragData[${pt+1}][1] = subKernelResult_${this.subKernels[pt].name}[1]`);return yt}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const yt=[];if(!this.subKernels)return yt;for(let pt=0;pt<this.subKernels.length;++pt)yt.push(`  gl_FragData[${pt+1}][0] = subKernelResult_${this.subKernels[pt].name}[0]`,`  gl_FragData[${pt+1}][1] = subKernelResult_${this.subKernels[pt].name}[1]`,`  gl_FragData[${pt+1}][2] = subKernelResult_${this.subKernels[pt].name}[2]`);return yt}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const yt=[];if(!this.subKernels)return yt;switch(this.returnType){case"Number":case"Float":case"Integer":for(let pt=0;pt<this.subKernels.length;++pt)this.subKernels[pt].returnType==="Integer"?yt.push(`  gl_FragData[${pt+1}] = float(subKernelResult_${this.subKernels[pt].name})`):yt.push(`  gl_FragData[${pt+1}] = subKernelResult_${this.subKernels[pt].name}`);break;case"Array(2)":for(let pt=0;pt<this.subKernels.length;++pt)yt.push(`  gl_FragData[${pt+1}][0] = subKernelResult_${this.subKernels[pt].name}[0]`,`  gl_FragData[${pt+1}][1] = subKernelResult_${this.subKernels[pt].name}[1]`);break;case"Array(3)":for(let pt=0;pt<this.subKernels.length;++pt)yt.push(`  gl_FragData[${pt+1}][0] = subKernelResult_${this.subKernels[pt].name}[0]`,`  gl_FragData[${pt+1}][1] = subKernelResult_${this.subKernels[pt].name}[1]`,`  gl_FragData[${pt+1}][2] = subKernelResult_${this.subKernels[pt].name}[2]`);break;case"Array(4)":for(let pt=0;pt<this.subKernels.length;++pt)yt.push(`  gl_FragData[${pt+1}][0] = subKernelResult_${this.subKernels[pt].name}[0]`,`  gl_FragData[${pt+1}][1] = subKernelResult_${this.subKernels[pt].name}[1]`,`  gl_FragData[${pt+1}][2] = subKernelResult_${this.subKernels[pt].name}[2]`,`  gl_FragData[${pt+1}][3] = subKernelResult_${this.subKernels[pt].name}[3]`);break}return yt}replaceArtifacts(yt,pt){return yt.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(wt,Et)=>{if(pt.hasOwnProperty(Et))return pt[Et];throw`unhandled artifact ${Et}`})}getFragmentShader(yt){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(yt))}getVertexShader(yt){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(yt))}toString(){const yt=rt.linesToString(["const gl = context"]);return $(this.constructor,arguments,this,yt)}destroy(yt){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const wt in this.rawValueFramebuffers){for(const Et in this.rawValueFramebuffers[wt])this.context.deleteFramebuffer(this.rawValueFramebuffers[wt][Et]),delete this.rawValueFramebuffers[wt][Et];delete this.rawValueFramebuffers[wt]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const wt=this.textureCache.indexOf(this.texture.texture);wt>-1&&this.textureCache.splice(wt,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let wt=0;wt<this.mappedTextures.length;wt++){const Et=this.mappedTextures[wt];Et.delete();const Ct=this.textureCache.indexOf(Et.texture);Ct>-1&&this.textureCache.splice(Ct,1)}this.mappedTextures=null}if(this.kernelArguments)for(let wt=0;wt<this.kernelArguments.length;wt++)this.kernelArguments[wt].destroy();if(this.kernelConstants)for(let wt=0;wt<this.kernelConstants.length;wt++)this.kernelConstants[wt].destroy();for(;this.textureCache.length>0;){const wt=this.textureCache.pop();this.context.deleteTexture(wt)}if(yt){const wt=gt.indexOf(this.canvas);wt>=0&&(gt[wt]=null,vt[wt]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const pt=this.gpu.kernels.indexOf(this);pt!==-1&&this.gpu.kernels.splice(pt,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(yt){const pt=yt.getExtension("WEBGL_lose_context");pt&&pt.loseContext()}toJSON(){const yt=super.toJSON();return yt.functionNodes=ot.fromKernel(this,at).toJSON(),yt.settings.threadDim=this.threadDim,yt}}a.exports={WebGLKernel:dt}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(o,a,nt){const tt=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;a.exports={vertexShader:tt}},{}],72:[function(o,a,nt){const tt=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;a.exports={fragmentShader:tt}},{}],73:[function(o,a,nt){const{utils:tt}=o("../../utils"),{WebGLFunctionNode:ot}=o("../web-gl/function-node");class at extends ot{astIdentifierExpression(it,j){if(it.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",it);const _=this.getType(it),$=tt.sanitizeName(it.name);return it.name==="Infinity"?j.push("intBitsToFloat(2139095039)"):_==="Boolean"?this.argumentNames.indexOf($)>-1?j.push(`bool(user_${$})`):j.push(`user_${$}`):j.push(`user_${$}`),j}}a.exports={WebGL2FunctionNode:at}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(o,a,nt){const{WebGL2KernelValueBoolean:tt}=o("./kernel-value/boolean"),{WebGL2KernelValueFloat:ot}=o("./kernel-value/float"),{WebGL2KernelValueInteger:at}=o("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:rt}=o("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:it}=o("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:j}=o("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:_}=o("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:$}=o("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:et}=o("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:st}=o("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:lt}=o("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:ct}=o("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:ht}=o("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:ut}=o("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:mt}=o("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:gt}=o("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:vt}=o("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:dt}=o("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:St}=o("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:yt}=o("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:pt}=o("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:wt}=o("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:Et}=o("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:Ct}=o("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:kt}=o("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:Tt}=o("./kernel-value/array2"),{WebGL2KernelValueArray3:At}=o("./kernel-value/array3"),{WebGL2KernelValueArray4:It}=o("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:Ot}=o("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:Mt}=o("./kernel-value/dynamic-unsigned-array"),Dt={unsigned:{dynamic:{Boolean:tt,Integer:at,Float:ot,Array:Mt,"Array(2)":Tt,"Array(3)":At,"Array(4)":It,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ht,NumberTexture:vt,"ArrayTexture(1)":vt,"ArrayTexture(2)":vt,"ArrayTexture(3)":vt,"ArrayTexture(4)":vt,MemoryOptimizedNumberTexture:mt,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:_,HTMLVideo:et},static:{Boolean:tt,Float:ot,Integer:at,Array:Ot,"Array(2)":Tt,"Array(3)":At,"Array(4)":It,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ct,NumberTexture:gt,"ArrayTexture(1)":gt,"ArrayTexture(2)":gt,"ArrayTexture(3)":gt,"ArrayTexture(4)":gt,MemoryOptimizedNumberTexture:mt,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:j,HTMLVideo:$}},single:{dynamic:{Boolean:tt,Integer:at,Float:ot,Array:St,"Array(2)":Tt,"Array(3)":At,"Array(4)":It,"Array1D(2)":pt,"Array1D(3)":pt,"Array1D(4)":pt,"Array2D(2)":Et,"Array2D(3)":Et,"Array2D(4)":Et,"Array3D(2)":kt,"Array3D(3)":kt,"Array3D(4)":kt,Input:lt,NumberTexture:vt,"ArrayTexture(1)":vt,"ArrayTexture(2)":vt,"ArrayTexture(3)":vt,"ArrayTexture(4)":vt,MemoryOptimizedNumberTexture:mt,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:_,HTMLVideo:et},static:{Boolean:tt,Float:ot,Integer:at,Array:dt,"Array(2)":Tt,"Array(3)":At,"Array(4)":It,"Array1D(2)":yt,"Array1D(3)":yt,"Array1D(4)":yt,"Array2D(2)":wt,"Array2D(3)":wt,"Array2D(4)":wt,"Array3D(2)":Ct,"Array3D(3)":Ct,"Array3D(4)":Ct,Input:st,NumberTexture:gt,"ArrayTexture(1)":gt,"ArrayTexture(2)":gt,"ArrayTexture(3)":gt,"ArrayTexture(4)":gt,MemoryOptimizedNumberTexture:ut,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:j,HTMLVideo:$}}};function Bt(qt,Wt,Vt,Ht){if(!qt)throw new Error("type missing");if(!Wt)throw new Error("dynamic missing");if(!Vt)throw new Error("precision missing");Ht.type&&(qt=Ht.type);const Jt=Dt[Vt][Wt];if(Jt[qt]===!1)return null;if(Jt[qt]===void 0)throw new Error(`Could not find a KernelValue for ${qt}`);return Jt[qt]}a.exports={kernelValueMaps:Dt,lookupKernelValueType:Bt}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(o,a,nt){const{WebGLKernelValueArray2:tt}=o("../../web-gl/kernel-value/array2");class ot extends tt{}a.exports={WebGL2KernelValueArray2:ot}},{"../../web-gl/kernel-value/array2":41}],76:[function(o,a,nt){const{WebGLKernelValueArray3:tt}=o("../../web-gl/kernel-value/array3");class ot extends tt{}a.exports={WebGL2KernelValueArray3:ot}},{"../../web-gl/kernel-value/array3":42}],77:[function(o,a,nt){const{WebGLKernelValueArray4:tt}=o("../../web-gl/kernel-value/array4");class ot extends tt{}a.exports={WebGL2KernelValueArray4:ot}},{"../../web-gl/kernel-value/array4":43}],78:[function(o,a,nt){const{WebGLKernelValueBoolean:tt}=o("../../web-gl/kernel-value/boolean");class ot extends tt{}a.exports={WebGL2KernelValueBoolean:ot}},{"../../web-gl/kernel-value/boolean":44}],79:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGL2KernelValueHTMLImageArray:ot}=o("./html-image-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2DArray ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){const{width:j,height:_}=it[0];this.checkSize(j,_),this.dimensions=[j,_,it.length],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicHTMLImageArray:at}},{"../../../utils":114,"./html-image-array":92}],80:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueDynamicHTMLImage:ot}=o("../../web-gl/kernel-value/dynamic-html-image");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicHTMLImage:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(o,a,nt){o("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:tt}=o("./dynamic-html-image");class ot extends tt{}a.exports={WebGL2KernelValueDynamicHTMLVideo:ot}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ot}=o("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class at extends ot{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueDynamicNumberTexture:ot}=o("../../web-gl/kernel-value/dynamic-number-texture");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicNumberTexture:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGL2KernelValueSingleArray:ot}=o("../../web-gl2/kernel-value/single-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=tt.getDimensions(it,!0),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGL2KernelValueSingleArray1DI:ot}=o("../../web-gl2/kernel-value/single-array1d-i");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray1DI:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGL2KernelValueSingleArray2DI:ot}=o("../../web-gl2/kernel-value/single-array2d-i");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray2DI:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGL2KernelValueSingleArray3DI:ot}=o("../../web-gl2/kernel-value/single-array3d-i");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray3DI:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGL2KernelValueSingleInput:ot}=o("../../web-gl2/kernel-value/single-input");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleInput:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:ot}=o("../../web-gl/kernel-value/dynamic-unsigned-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicUnsignedArray:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:ot}=o("../../web-gl/kernel-value/dynamic-unsigned-input");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicUnsignedInput:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(o,a,nt){o("../../../utils");const{WebGLKernelValueFloat:tt}=o("../../web-gl/kernel-value/float");class ot extends tt{}a.exports={WebGL2KernelValueFloat:ot}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelArray:ot}=o("../../web-gl/kernel-value/array");class at extends ot{constructor(it,j){super(it,j),this.checkSize(it[0].width,it[0].height),this.dimensions=[it[0].width,it[0].height,it.length],this.textureSize=[it[0].width,it[0].height]}defineTexture(){const{context:it}=this;it.activeTexture(this.contextHandle),it.bindTexture(it.TEXTURE_2D_ARRAY,this.texture),it.texParameteri(it.TEXTURE_2D_ARRAY,it.TEXTURE_MAG_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D_ARRAY,it.TEXTURE_MIN_FILTER,it.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2DArray ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D_ARRAY,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage3D(j.TEXTURE_2D_ARRAY,0,j.RGBA,it[0].width,it[0].height,it.length,0,j.RGBA,j.UNSIGNED_BYTE,null);for(let _=0;_<it.length;_++)j.texSubImage3D(j.TEXTURE_2D_ARRAY,0,0,0,_,it[_].width,it[_].height,1,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=it[_]);this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueHTMLImageArray:at}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueHTMLImage:ot}=o("../../web-gl/kernel-value/html-image");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueHTMLImage:at}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(o,a,nt){o("../../../utils");const{WebGL2KernelValueHTMLImage:tt}=o("./html-image");class ot extends tt{}a.exports={WebGL2KernelValueHTMLVideo:ot}},{"../../../utils":114,"./html-image":93}],95:[function(o,a,nt){const{WebGLKernelValueInteger:tt}=o("../../web-gl/kernel-value/integer");class ot extends tt{getSource(rt){const it=this.getVariablePrecisionString();return this.origin==="constants"?`const ${it} int ${this.id} = ${parseInt(rt)};
`:`uniform ${it} int ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}a.exports={WebGL2KernelValueInteger:ot}},{"../../web-gl/kernel-value/integer":60}],96:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:ot}=o("../../web-gl/kernel-value/memory-optimized-number-texture");class at extends ot{getSource(){const{id:it,sizeId:j,textureSize:_,dimensionsId:$,dimensions:et}=this,st=this.getVariablePrecisionString();return tt.linesToString([`uniform sampler2D ${it}`,`${st} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${st} ivec3 ${$} = ivec3(${et[0]}, ${et[1]}, ${et[2]})`])}}a.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:at}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueNumberTexture:ot}=o("../../web-gl/kernel-value/number-texture");class at extends ot{getSource(){const{id:it,sizeId:j,textureSize:_,dimensionsId:$,dimensions:et}=this,st=this.getVariablePrecisionString();return tt.linesToString([`uniform ${st} sampler2D ${it}`,`${st} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${st} ivec3 ${$} = ivec3(${et[0]}, ${et[1]}, ${et[2]})`])}}a.exports={WebGL2KernelValueNumberTexture:at}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleArray:ot}=o("../../web-gl/kernel-value/single-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleArray1DI:ot}=o("../../web-gl/kernel-value/single-array1d-i");class at extends ot{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray1DI:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleArray2DI:ot}=o("../../web-gl/kernel-value/single-array2d-i");class at extends ot{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray2DI:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleArray3DI:ot}=o("../../web-gl/kernel-value/single-array3d-i");class at extends ot{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;tt.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray3DI:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueSingleInput:ot}=o("../../web-gl/kernel-value/single-input");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){const{context:j}=this;tt.flattenTo(it.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleInput:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueUnsignedArray:ot}=o("../../web-gl/kernel-value/unsigned-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueUnsignedArray:at}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(o,a,nt){const{utils:tt}=o("../../../utils"),{WebGLKernelValueUnsignedInput:ot}=o("../../web-gl/kernel-value/unsigned-input");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return tt.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueUnsignedInput:at}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(o,a,nt){const{WebGLKernel:tt}=o("../web-gl/kernel"),{WebGL2FunctionNode:ot}=o("./function-node"),{FunctionBuilder:at}=o("../function-builder"),{utils:rt}=o("../../utils"),{fragmentShader:it}=o("./fragment-shader"),{vertexShader:j}=o("./vertex-shader"),{lookupKernelValueType:_}=o("./kernel-value-maps");let $=null,et=null,st=null,lt=null;class ct extends tt{static get isSupported(){return $!==null||(this.setupFeatureChecks(),$=this.isContextMatch(st)),$}static setupFeatureChecks(){typeof document<"u"?et=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(et=new OffscreenCanvas(0,0)),et&&(st=et.getContext("webgl2"),!(!st||!st.getExtension)&&(st.getExtension("EXT_color_buffer_float"),st.getExtension("OES_texture_float_linear"),lt=this.getFeatures()))}static isContextMatch(ut){return typeof WebGL2RenderingContext<"u"?ut instanceof WebGL2RenderingContext:!1}static getFeatures(){const ut=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.LOW_INT),lowFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.LOW_FLOAT),mediumIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_INT),mediumFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_FLOAT),highIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_INT),highFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return st.getParameter(st.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return st.getParameter(st.MAX_TEXTURE_SIZE)}static lookupKernelValueType(ut,mt,gt,vt){return _(ut,mt,gt,vt)}static get testCanvas(){return et}static get testContext(){return st}static get features(){return lt}static get fragmentShader(){return it}static get vertexShader(){return j}initContext(){const ut={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",ut)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(ut){if(!this.validate){this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:mt}=this.constructor;if(this.precision==="single"&&!mt.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=mt.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!mt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&mt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(ut.length!==1)throw new Error("Auto output only supported for kernels with only one input");const gt=rt.getVariableType(ut[0],this.strictIntegers);switch(gt){case"Array":this.output=rt.getDimensions(gt);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=ut[0].output;break;default:throw new Error("Auto output not supported for input type: "+gt)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=rt.clone(this.output);return}else!this.graphical&&this.precision===null&&mt.isTextureFloat&&(this.precision="single");this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const ut=at.fromKernel(this,ot,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=ut.getPrototypeString("kernel"),this.setupReturnTypes(ut)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:ut}=this;switch(this.getInternalFormat()){case ut.R32F:return ut.RED;case ut.RG32F:return ut.RG;case ut.RGBA32F:return ut.RGBA;case ut.RGBA:return ut.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:ut}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?ut.RGBA32F:ut.R32F;case"Array(2)":return ut.RG32F;case"Array(3)":case"Array(4)":return ut.RGBA32F;default:throw new Error("Unhandled return type")}return ut.RGBA32F}return ut.RGBA}_setupOutputTexture(){const ut=this.context;if(this.texture){ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,this.texture.texture,0);return}ut.bindFramebuffer(ut.FRAMEBUFFER,this.framebuffer);const mt=ut.createTexture(),gt=this.texSize;ut.activeTexture(ut.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),ut.bindTexture(ut.TEXTURE_2D,mt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.REPEAT),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.REPEAT),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST);const vt=this.getInternalFormat();this.precision==="single"?ut.texStorage2D(ut.TEXTURE_2D,1,vt,gt[0],gt[1]):ut.texImage2D(ut.TEXTURE_2D,0,vt,gt[0],gt[1],0,vt,ut.UNSIGNED_BYTE,null),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,mt,0),this.texture=new this.TextureConstructor({texture:mt,size:gt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const ut=this.context;if(this.mappedTextures){for(let gt=0;gt<this.subKernels.length;gt++)ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+gt+1,ut.TEXTURE_2D,this.mappedTextures[gt].texture,0);return}const mt=this.texSize;this.drawBuffersMap=[ut.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let gt=0;gt<this.subKernels.length;gt++){const vt=this.createTexture();this.drawBuffersMap.push(ut.COLOR_ATTACHMENT0+gt+1),ut.activeTexture(ut.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+gt),ut.bindTexture(ut.TEXTURE_2D,vt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST);const dt=this.getInternalFormat();this.precision==="single"?ut.texStorage2D(ut.TEXTURE_2D,1,dt,mt[0],mt[1]):ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,mt[0],mt[1],0,ut.RGBA,ut.UNSIGNED_BYTE,null),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+gt+1,ut.TEXTURE_2D,vt,0),this.mappedTextures.push(new this.TextureConstructor({texture:vt,size:mt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const ut=this.subKernels,mt=this.getVariablePrecisionString(this.texSize,this.tactic);return ut===null||ut.length<1?`in ${mt} vec2 vTexCoord;
`:`out ${mt} vec2 vTexCoord;
`}_getMainArgumentsString(ut){const mt=[],gt=this.argumentNames;for(let vt=0;vt<gt.length;vt++)mt.push(this.kernelArguments[vt].getSource(ut[vt]));return mt.join("")}getKernelString(){const ut=[this.getKernelResultDeclaration()],mt=this.subKernels;if(mt!==null)switch(ut.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let gt=0;gt<mt.length;gt++){const vt=mt[gt];ut.push(vt.returnType==="Integer"?`int subKernelResult_${vt.name} = 0`:`float subKernelResult_${vt.name} = 0.0`,`layout(location = ${gt+1}) out vec4 data${gt+1}`)}break;case"Array(2)":for(let gt=0;gt<mt.length;gt++)ut.push(`vec2 subKernelResult_${mt[gt].name}`,`layout(location = ${gt+1}) out vec4 data${gt+1}`);break;case"Array(3)":for(let gt=0;gt<mt.length;gt++)ut.push(`vec3 subKernelResult_${mt[gt].name}`,`layout(location = ${gt+1}) out vec4 data${gt+1}`);break;case"Array(4)":for(let gt=0;gt<mt.length;gt++)ut.push(`vec4 subKernelResult_${mt[gt].name}`,`layout(location = ${gt+1}) out vec4 data${gt+1}`);break}else ut.push("out vec4 data0");return rt.linesToString(ut)+this.translatedSource}getMainResultGraphical(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const ut=[];if(!this.subKernels)return"";for(let mt=0;mt<this.subKernels.length;mt++)this.subKernels[mt].returnType==="Integer"?ut.push(`  data${mt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[mt].name}))`):ut.push(`  data${mt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[mt].name})`);return rt.linesToString(ut)}getMainResultKernelMemoryOptimizedFloats(ut,mt){ut.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${mt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(ut,mt){if(!this.subKernels)return ut;for(let gt=0;gt<this.subKernels.length;gt++){const vt=this.subKernels[gt];vt.returnType==="Integer"?ut.push(`  data${gt+1}.${mt} = float(subKernelResult_${vt.name})`):ut.push(`  data${gt+1}.${mt} = subKernelResult_${vt.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const ut=[];if(!this.subKernels)return ut;for(let mt=0;mt<this.subKernels.length;++mt){const gt=this.subKernels[mt];gt.returnType==="Integer"?ut.push(`  data${mt+1}[0] = float(subKernelResult_${gt.name})`):ut.push(`  data${mt+1}[0] = subKernelResult_${gt.name}`)}return ut}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const ut=[];if(!this.subKernels)return ut;for(let mt=0;mt<this.subKernels.length;++mt){const gt=this.subKernels[mt];ut.push(`  data${mt+1}[0] = subKernelResult_${gt.name}[0]`,`  data${mt+1}[1] = subKernelResult_${gt.name}[1]`)}return ut}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const ut=[];if(!this.subKernels)return ut;for(let mt=0;mt<this.subKernels.length;++mt){const gt=this.subKernels[mt];ut.push(`  data${mt+1}[0] = subKernelResult_${gt.name}[0]`,`  data${mt+1}[1] = subKernelResult_${gt.name}[1]`,`  data${mt+1}[2] = subKernelResult_${gt.name}[2]`)}return ut}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const ut=[];if(!this.subKernels)return ut;for(let mt=0;mt<this.subKernels.length;++mt)ut.push(`  data${mt+1} = subKernelResult_${this.subKernels[mt].name}`);return ut}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const ut=super.toJSON();return ut.functionNodes=at.fromKernel(this,ot).toJSON(),ut.settings.threadDim=this.threadDim,ut}}a.exports={WebGL2Kernel:ct}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(o,a,nt){const tt=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;a.exports={vertexShader:tt}},{}],107:[function(o,a,nt){const tt=o("./index"),ot=tt.GPU;for(const rt in tt)tt.hasOwnProperty(rt)&&rt!=="GPU"&&(ot[rt]=tt[rt]);typeof window<"u"&&at(window),typeof self<"u"&&at(self);function at(rt){rt.GPU||Object.defineProperty(rt,"GPU",{get(){return ot}})}a.exports=tt},{"./index":109}],108:[function(o,a,nt){const{gpuMock:tt}=o("gpu-mock.js"),{utils:ot}=o("./utils");o("./backend/kernel");const{CPUKernel:at}=o("./backend/cpu/kernel"),{HeadlessGLKernel:rt}=o("./backend/headless-gl/kernel"),{WebGL2Kernel:it}=o("./backend/web-gl2/kernel"),{WebGLKernel:j}=o("./backend/web-gl/kernel"),{kernelRunShortcut:_}=o("./kernel-run-shortcut"),$=[rt,it,j],et=["gpu","cpu"],st={headlessgl:rt,webgl2:it,webgl:j};let lt=!0;class ct{static disableValidation(){lt=!1}static enableValidation(){lt=!0}static get isGPUSupported(){return $.some(mt=>mt.isSupported)}static get isKernelMapSupported(){return $.some(mt=>mt.isSupported&&mt.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return j.isSupported}static get isWebGL2Supported(){return it.isSupported}static get isHeadlessGLSupported(){return rt.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return it.isSupported}static get isSinglePrecisionSupported(){return $.some(mt=>mt.isSupported&&mt.features.isFloatRead&&mt.features.isTextureFloat)}constructor(mt){if(mt=mt||{},this.canvas=mt.canvas||null,this.context=mt.context||null,this.mode=mt.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),mt.functions)for(let gt=0;gt<mt.functions.length;gt++)this.addFunction(mt.functions[gt]);if(mt.nativeFunctions)for(const gt in mt.nativeFunctions){if(!mt.nativeFunctions.hasOwnProperty(gt))continue;const vt=mt.nativeFunctions[gt],{name:dt,source:St}=vt;this.addNativeFunction(dt,St,vt)}}}chooseKernel(){if(this.Kernel)return;let mt=null;if(this.context){for(let gt=0;gt<$.length;gt++){const vt=$[gt];if(vt.isContextMatch(this.context)){if(!vt.isSupported)throw new Error(`Kernel type ${vt.name} not supported`);mt=vt;break}}if(mt===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in st)(!lt||st[this.mode].isSupported)&&(mt=st[this.mode]);else if(this.mode==="gpu"){for(let gt=0;gt<$.length;gt++)if($[gt].isSupported){mt=$[gt];break}}else this.mode==="cpu"&&(mt=at);if(!mt)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let gt=0;gt<$.length;gt++)if($[gt].isSupported){mt=$[gt];break}mt||(mt=at)}this.mode||(this.mode=mt.mode),this.Kernel=mt}createKernel(mt,gt){if(typeof mt>"u")throw new Error("Missing source parameter");if(typeof mt!="object"&&!ot.isFunction(mt)&&typeof mt!="string")throw new Error("source parameter not a function");const vt=this.kernels;if(this.mode==="dev"){const kt=tt(mt,ht(gt));return vt.push(kt),kt}mt=typeof mt=="function"?mt.toString():mt;const dt={},St=ht(gt)||{};gt&&typeof gt.argumentTypes=="object"&&(St.argumentTypes=Object.keys(gt.argumentTypes).map(kt=>gt.argumentTypes[kt]));function yt(kt){console.warn("Falling back to CPU");const Tt=new at(mt,{argumentTypes:Ct.argumentTypes,constantTypes:Ct.constantTypes,graphical:Ct.graphical,loopMaxIterations:Ct.loopMaxIterations,constants:Ct.constants,dynamicOutput:Ct.dynamicOutput,dynamicArgument:Ct.dynamicArguments,output:Ct.output,precision:Ct.precision,pipeline:Ct.pipeline,immutable:Ct.immutable,optimizeFloatMemory:Ct.optimizeFloatMemory,fixIntegerDivisionAccuracy:Ct.fixIntegerDivisionAccuracy,functions:Ct.functions,nativeFunctions:Ct.nativeFunctions,injectedNative:Ct.injectedNative,subKernels:Ct.subKernels,strictIntegers:Ct.strictIntegers,debug:Ct.debug});Tt.build.apply(Tt,kt);const At=Tt.run.apply(Tt,kt);return Ct.replaceKernel(Tt),At}function pt(kt,Tt,At){At.debug&&console.warn("Switching kernels");let It=null;if(At.signature&&!dt[At.signature]&&(dt[At.signature]=At),At.dynamicOutput)for(let Wt=kt.length-1;Wt>=0;Wt--){const Vt=kt[Wt];Vt.type==="outputPrecisionMismatch"&&(It=Vt.needed)}const Ot=At.constructor,Mt=Ot.getArgumentTypes(At,Tt),Dt=Ot.getSignature(At,Mt),Bt=dt[Dt];if(Bt)return Bt.onActivate(At),Bt;const qt=dt[Dt]=new Ot(mt,{argumentTypes:Mt,constantTypes:At.constantTypes,graphical:At.graphical,loopMaxIterations:At.loopMaxIterations,constants:At.constants,dynamicOutput:At.dynamicOutput,dynamicArgument:At.dynamicArguments,context:At.context,canvas:At.canvas,output:It||At.output,precision:At.precision,pipeline:At.pipeline,immutable:At.immutable,optimizeFloatMemory:At.optimizeFloatMemory,fixIntegerDivisionAccuracy:At.fixIntegerDivisionAccuracy,functions:At.functions,nativeFunctions:At.nativeFunctions,injectedNative:At.injectedNative,subKernels:At.subKernels,strictIntegers:At.strictIntegers,debug:At.debug,gpu:At.gpu,validate:lt,returnType:At.returnType,tactic:At.tactic,onRequestFallback:yt,onRequestSwitchKernel:pt,texture:At.texture,mappedTextures:At.mappedTextures,drawBuffersMap:At.drawBuffersMap});return qt.build.apply(qt,Tt),Ct.replaceKernel(qt),vt.push(qt),qt}const wt=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:lt,onRequestFallback:yt,onRequestSwitchKernel:pt},St),Et=new this.Kernel(mt,wt),Ct=_(Et);return this.canvas||(this.canvas=Et.canvas),this.context||(this.context=Et.context),vt.push(Et),Ct}createKernelMap(){let mt,gt;const vt=typeof arguments[arguments.length-2];if(vt==="function"||vt==="string"?(mt=arguments[arguments.length-2],gt=arguments[arguments.length-1]):mt=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&et.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const dt=ht(gt);if(gt&&typeof gt.argumentTypes=="object"&&(dt.argumentTypes=Object.keys(gt.argumentTypes).map(St=>gt.argumentTypes[St])),Array.isArray(arguments[0])){dt.subKernels=[];const St=arguments[0];for(let yt=0;yt<St.length;yt++){const pt=St[yt].toString(),wt=ot.getFunctionNameFromString(pt);dt.subKernels.push({name:wt,source:pt,property:yt})}}else{dt.subKernels=[];const St=arguments[0];for(let yt in St){if(!St.hasOwnProperty(yt))continue;const pt=St[yt].toString(),wt=ot.getFunctionNameFromString(pt);dt.subKernels.push({name:wt||yt,source:pt,property:yt})}}return this.createKernel(mt,dt)}combineKernels(){const mt=arguments[0],gt=arguments[arguments.length-1];if(mt.kernel.constructor.mode==="cpu")return gt;const vt=arguments[0].canvas,dt=arguments[0].context,St=arguments.length-1;for(let yt=0;yt<St;yt++)arguments[yt].setCanvas(vt).setContext(dt).setPipeline(!0);return function(){const yt=gt.apply(this,arguments);return yt.toArray?yt.toArray():yt}}setFunctions(mt){return this.functions=mt,this}setNativeFunctions(mt){return this.nativeFunctions=mt,this}addFunction(mt,gt){return this.functions.push({source:mt,settings:gt}),this}addNativeFunction(mt,gt,vt){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:mt,source:gt},vt)),this}injectNative(mt){return this.injectedNative=mt,this}destroy(){return new Promise((mt,gt)=>{this.kernels||mt(),setTimeout(()=>{try{for(let dt=0;dt<this.kernels.length;dt++)this.kernels[dt].destroy(!0);let vt=this.kernels[0];vt&&(vt.kernel&&(vt=vt.kernel),vt.constructor.destroyContext&&vt.constructor.destroyContext(this.context))}catch(vt){gt(vt)}mt()},0)})}}function ht(ut){if(!ut)return{};const mt=Object.assign({},ut);return ut.hasOwnProperty("floatOutput")&&(ot.warnDeprecated("setting","floatOutput","precision"),mt.precision=ut.floatOutput?"single":"unsigned"),ut.hasOwnProperty("outputToTexture")&&(ot.warnDeprecated("setting","outputToTexture","pipeline"),mt.pipeline=!!ut.outputToTexture),ut.hasOwnProperty("outputImmutable")&&(ot.warnDeprecated("setting","outputImmutable","immutable"),mt.immutable=!!ut.outputImmutable),ut.hasOwnProperty("floatTextures")&&(ot.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),mt.optimizeFloatMemory=!!ut.floatTextures),mt}a.exports={GPU:ct,kernelOrder:$,kernelTypes:et}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(o,a,nt){const{GPU:tt}=o("./gpu"),{alias:ot}=o("./alias"),{utils:at}=o("./utils"),{Input:rt,input:it}=o("./input"),{Texture:j}=o("./texture"),{FunctionBuilder:_}=o("./backend/function-builder"),{FunctionNode:$}=o("./backend/function-node"),{CPUFunctionNode:et}=o("./backend/cpu/function-node"),{CPUKernel:st}=o("./backend/cpu/kernel"),{HeadlessGLKernel:lt}=o("./backend/headless-gl/kernel"),{WebGLFunctionNode:ct}=o("./backend/web-gl/function-node"),{WebGLKernel:ht}=o("./backend/web-gl/kernel"),{kernelValueMaps:ut}=o("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:mt}=o("./backend/web-gl2/function-node"),{WebGL2Kernel:gt}=o("./backend/web-gl2/kernel"),{kernelValueMaps:vt}=o("./backend/web-gl2/kernel-value-maps"),{GLKernel:dt}=o("./backend/gl/kernel"),{Kernel:St}=o("./backend/kernel"),{FunctionTracer:yt}=o("./backend/function-tracer"),pt=o("./plugins/math-random-uniformly-distributed");a.exports={alias:ot,CPUFunctionNode:et,CPUKernel:st,GPU:tt,FunctionBuilder:_,FunctionNode:$,HeadlessGLKernel:lt,Input:rt,input:it,Texture:j,utils:at,WebGL2FunctionNode:mt,WebGL2Kernel:gt,webGL2KernelValueMaps:vt,WebGLFunctionNode:ct,WebGLKernel:ht,webGLKernelValueMaps:ut,GLKernel:dt,Kernel:St,FunctionTracer:yt,plugins:{mathRandom:pt}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(o,a,nt){class tt{constructor(rt,it){this.value=rt,Array.isArray(it)?this.size=it:(this.size=new Int32Array(3),it.z?this.size=new Int32Array([it.x,it.y,it.z]):it.y?this.size=new Int32Array([it.x,it.y]):this.size=new Int32Array([it.x]));const[j,_,$]=this.size;if($){if(this.value.length!==j*_*$)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} * ${$} = ${_*j*$}`)}else if(_){if(this.value.length!==j*_)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} = ${_*j}`)}else if(this.value.length!==j)throw new Error(`Input size ${this.value.length} does not match ${j}`)}toArray(){const{utils:rt}=o("./utils"),[it,j,_]=this.size;return _?rt.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),it,j,_):j?rt.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),it,j):this.value}}function ot(at,rt){return new tt(at,rt)}a.exports={Input:tt,input:ot}},{"./utils":114}],111:[function(o,a,nt){const{utils:tt}=o("./utils");function ot(rt){let it=function(){return rt.build.apply(rt,arguments),it=function(){let _=rt.run.apply(rt,arguments);if(rt.switchingKernels){const $=rt.resetSwitchingKernels(),et=rt.onRequestSwitchKernel($,arguments,rt);j.kernel=rt=et,_=et.run.apply(et,arguments)}return rt.renderKernels?rt.renderKernels():rt.renderOutput?rt.renderOutput():_},it.apply(rt,arguments)};const j=function(){return it.apply(rt,arguments)};return j.exec=function(){return new Promise((_,$)=>{try{_(it.apply(this,arguments))}catch(et){$(et)}})},j.replaceKernel=function(_){rt=_,at(rt,j)},at(rt,j),j}function at(rt,it){if(it.kernel){it.kernel=rt;return}const j=tt.allPropertiesOf(rt);for(let _=0;_<j.length;_++){const $=j[_];$[0]==="_"&&$[1]==="_"||(typeof rt[$]=="function"?$.substring(0,3)==="add"||$.substring(0,3)==="set"?it[$]=function(){return it.kernel[$].apply(it.kernel,arguments),it}:it[$]=function(){return it.kernel[$].apply(it.kernel,arguments)}:(it.__defineGetter__($,()=>it.kernel[$]),it.__defineSetter__($,et=>{it.kernel[$]=et})))}it.kernel=rt}a.exports={kernelRunShortcut:ot}},{"./utils":114}],112:[function(o,a,nt){const _={name:"math-random-uniformly-distributed",onBeforeRun:$=>{$.setUniform1f("randomSeed1",Math.random()),$.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};a.exports=_},{}],113:[function(o,a,nt){class tt{constructor(at){const{texture:rt,size:it,dimensions:j,output:_,context:$,type:et="NumberTexture",kernel:st,internalFormat:lt,textureFormat:ct}=at;if(!_)throw new Error('settings property "output" required.');if(!$)throw new Error('settings property "context" required.');if(!rt)throw new Error('settings property "texture" required.');if(!st)throw new Error('settings property "kernel" required.');this.texture=rt,rt._refs?rt._refs++:rt._refs=1,this.size=it,this.dimensions=j,this.output=_,this.context=$,this.kernel=st,this.type=et,this._deleted=!1,this.internalFormat=lt,this.textureFormat=ct}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}a.exports={Texture:tt}},{}],114:[function(o,a,nt){const tt=o("acorn"),{Input:ot}=o("./input"),{Texture:at}=o("./texture"),rt=/function ([^(]*)/,it=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,j=/([^\s,]+)/g,_={systemEndianness(){return lt},getSystemEndianness(){const ct=new ArrayBuffer(4),ht=new Uint32Array(ct),ut=new Uint8Array(ct);if(ht[0]=3735928559,ut[0]===239)return"LE";if(ut[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(ct){return typeof ct=="function"},isFunctionString(ct){return typeof ct=="string"?ct.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(ct){const ht=rt.exec(ct);return!ht||ht.length===0?null:ht[1].trim()},getFunctionBodyFromString(ct){return ct.substring(ct.indexOf("{")+1,ct.lastIndexOf("}"))},getArgumentNamesFromString(ct){const ht=ct.replace(it,"");let ut=ht.slice(ht.indexOf("(")+1,ht.indexOf(")")).match(j);return ut===null&&(ut=[]),ut},clone(ct){if(ct===null||typeof ct!="object"||ct.hasOwnProperty("isActiveClone"))return ct;const ht=ct.constructor();for(let ut in ct)Object.prototype.hasOwnProperty.call(ct,ut)&&(ct.isActiveClone=null,ht[ut]=_.clone(ct[ut]),delete ct.isActiveClone);return ht},isArray(ct){return!isNaN(ct.length)},getVariableType(ct,ht){if(_.isArray(ct))return ct.length>0&&ct[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(ct.constructor){case Boolean:return"Boolean";case Number:return ht&&Number.isInteger(ct)?"Integer":"Float";case at:return ct.type;case ot:return"Input"}if("nodeName"in ct)switch(ct.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(ct.hasOwnProperty("type"))return ct.type;if(typeof OffscreenCanvas<"u"&&ct instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&ct instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&ct instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(ct,ht){let[ut,mt,gt]=ht,vt=(ut||1)*(mt||1)*(gt||1);return ct.optimizeFloatMemory&&ct.precision==="single"&&(ut=vt=Math.ceil(vt/4)),mt>1&&ut*mt===vt?new Int32Array([ut,mt]):_.closestSquareDimensions(vt)},closestSquareDimensions(ct){const ht=Math.sqrt(ct);let ut=Math.ceil(ht),mt=Math.floor(ht);for(;ut*mt<ct;)ut--,mt=Math.ceil(ct/ut);return new Int32Array([mt,Math.ceil(ct/mt)])},getMemoryOptimizedFloatTextureSize(ct,ht){const mt=_.roundTo((ct[0]||1)*(ct[1]||1)*(ct[2]||1)*(ct[3]||1),4)/ht;return _.closestSquareDimensions(mt)},getMemoryOptimizedPackedTextureSize(ct,ht){const[ut,mt,gt]=ct,dt=_.roundTo((ut||1)*(mt||1)*(gt||1),4)/(4/ht);return _.closestSquareDimensions(dt)},roundTo(ct,ht){return Math.floor((ct+ht-1)/ht)*ht},getDimensions(ct,ht){let ut;if(_.isArray(ct)){const mt=[];let gt=ct;for(;_.isArray(gt);)mt.push(gt.length),gt=gt[0];ut=mt.reverse()}else if(ct instanceof at)ut=ct.output;else if(ct instanceof ot)ut=ct.size;else throw new Error(`Unknown dimensions of ${ct}`);if(ht)for(ut=Array.from(ut);ut.length<3;)ut.push(1);return new Int32Array(ut)},flatten2dArrayTo(ct,ht){let ut=0;for(let mt=0;mt<ct.length;mt++)ht.set(ct[mt],ut),ut+=ct[mt].length},flatten3dArrayTo(ct,ht){let ut=0;for(let mt=0;mt<ct.length;mt++)for(let gt=0;gt<ct[mt].length;gt++)ht.set(ct[mt][gt],ut),ut+=ct[mt][gt].length},flatten4dArrayTo(ct,ht){let ut=0;for(let mt=0;mt<ct.length;mt++)for(let gt=0;gt<ct[mt].length;gt++)for(let vt=0;vt<ct[mt][gt].length;vt++)ht.set(ct[mt][gt][vt],ut),ut+=ct[mt][gt][vt].length},flattenTo(ct,ht){_.isArray(ct[0])?_.isArray(ct[0][0])?_.isArray(ct[0][0][0])?_.flatten4dArrayTo(ct,ht):_.flatten3dArrayTo(ct,ht):_.flatten2dArrayTo(ct,ht):ht.set(ct)},splitArray(ct,ht){const ut=[];for(let mt=0;mt<ct.length;mt+=ht)ut.push(new ct.constructor(ct.buffer,mt*4+ct.byteOffset,ht));return ut},getAstString(ct,ht){const ut=Array.isArray(ct)?ct:ct.split(/\r?\n/g),mt=ht.loc.start,gt=ht.loc.end,vt=[];if(mt.line===gt.line)vt.push(ut[mt.line-1].substring(mt.column,gt.column));else{vt.push(ut[mt.line-1].slice(mt.column));for(let dt=mt.line;dt<gt.line;dt++)vt.push(ut[dt]);vt.push(ut[gt.line-1].slice(0,gt.column))}return vt.join(`
`)},allPropertiesOf(ct){const ht=[];do ht.push.apply(ht,Object.getOwnPropertyNames(ct));while(ct=Object.getPrototypeOf(ct));return ht},linesToString(ct){return ct.length>0?ct.join(`;
`)+`;
`:`
`},warnDeprecated(ct,ht,ut){console.warn(ut?`You are using a deprecated ${ct} "${ht}". It has been replaced with "${ut}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${ct} "${ht}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(ct,ht,ut)=>{const mt=ut/2|0,gt=ht*4,vt=new Uint8ClampedArray(ht*4),dt=ct.slice(0);for(let St=0;St<mt;++St){const yt=St*gt,pt=(ut-St-1)*gt;vt.set(dt.subarray(yt,yt+gt)),dt.copyWithin(yt,pt,pt+gt),dt.set(vt,pt)}return dt},erectPackedFloat:(ct,ht)=>ct.subarray(0,ht),erect2DPackedFloat:(ct,ht,ut)=>{const mt=new Array(ut);for(let gt=0;gt<ut;gt++){const vt=gt*ht,dt=vt+ht;mt[gt]=ct.subarray(vt,dt)}return mt},erect3DPackedFloat:(ct,ht,ut,mt)=>{const gt=new Array(mt);for(let vt=0;vt<mt;vt++){const dt=new Array(ut);for(let St=0;St<ut;St++){const yt=vt*ut*ht+St*ht,pt=yt+ht;dt[St]=ct.subarray(yt,pt)}gt[vt]=dt}return gt},erectMemoryOptimizedFloat:(ct,ht)=>ct.subarray(0,ht),erectMemoryOptimized2DFloat:(ct,ht,ut)=>{const mt=new Array(ut);for(let gt=0;gt<ut;gt++){const vt=gt*ht;mt[gt]=ct.subarray(vt,vt+ht)}return mt},erectMemoryOptimized3DFloat:(ct,ht,ut,mt)=>{const gt=new Array(mt);for(let vt=0;vt<mt;vt++){const dt=new Array(ut);for(let St=0;St<ut;St++){const yt=vt*ut*ht+St*ht;dt[St]=ct.subarray(yt,yt+ht)}gt[vt]=dt}return gt},erectFloat:(ct,ht)=>{const ut=new Float32Array(ht);let mt=0;for(let gt=0;gt<ht;gt++)ut[gt]=ct[mt],mt+=4;return ut},erect2DFloat:(ct,ht,ut)=>{const mt=new Array(ut);let gt=0;for(let vt=0;vt<ut;vt++){const dt=new Float32Array(ht);for(let St=0;St<ht;St++)dt[St]=ct[gt],gt+=4;mt[vt]=dt}return mt},erect3DFloat:(ct,ht,ut,mt)=>{const gt=new Array(mt);let vt=0;for(let dt=0;dt<mt;dt++){const St=new Array(ut);for(let yt=0;yt<ut;yt++){const pt=new Float32Array(ht);for(let wt=0;wt<ht;wt++)pt[wt]=ct[vt],vt+=4;St[yt]=pt}gt[dt]=St}return gt},erectArray2:(ct,ht)=>{const ut=new Array(ht),mt=ht*4;let gt=0;for(let vt=0;vt<mt;vt+=4)ut[gt++]=ct.subarray(vt,vt+2);return ut},erect2DArray2:(ct,ht,ut)=>{const mt=new Array(ut),gt=ht*4;for(let vt=0;vt<ut;vt++){const dt=new Array(ht),St=vt*gt;let yt=0;for(let pt=0;pt<gt;pt+=4)dt[yt++]=ct.subarray(pt+St,pt+St+2);mt[vt]=dt}return mt},erect3DArray2:(ct,ht,ut,mt)=>{const gt=ht*4,vt=new Array(mt);for(let dt=0;dt<mt;dt++){const St=new Array(ut);for(let yt=0;yt<ut;yt++){const pt=new Array(ht),wt=dt*gt*ut+yt*gt;let Et=0;for(let Ct=0;Ct<gt;Ct+=4)pt[Et++]=ct.subarray(Ct+wt,Ct+wt+2);St[yt]=pt}vt[dt]=St}return vt},erectArray3:(ct,ht)=>{const ut=new Array(ht),mt=ht*4;let gt=0;for(let vt=0;vt<mt;vt+=4)ut[gt++]=ct.subarray(vt,vt+3);return ut},erect2DArray3:(ct,ht,ut)=>{const mt=ht*4,gt=new Array(ut);for(let vt=0;vt<ut;vt++){const dt=new Array(ht),St=vt*mt;let yt=0;for(let pt=0;pt<mt;pt+=4)dt[yt++]=ct.subarray(pt+St,pt+St+3);gt[vt]=dt}return gt},erect3DArray3:(ct,ht,ut,mt)=>{const gt=ht*4,vt=new Array(mt);for(let dt=0;dt<mt;dt++){const St=new Array(ut);for(let yt=0;yt<ut;yt++){const pt=new Array(ht),wt=dt*gt*ut+yt*gt;let Et=0;for(let Ct=0;Ct<gt;Ct+=4)pt[Et++]=ct.subarray(Ct+wt,Ct+wt+3);St[yt]=pt}vt[dt]=St}return vt},erectArray4:(ct,ht)=>{const ut=new Array(ct),mt=ht*4;let gt=0;for(let vt=0;vt<mt;vt+=4)ut[gt++]=ct.subarray(vt,vt+4);return ut},erect2DArray4:(ct,ht,ut)=>{const mt=ht*4,gt=new Array(ut);for(let vt=0;vt<ut;vt++){const dt=new Array(ht),St=vt*mt;let yt=0;for(let pt=0;pt<mt;pt+=4)dt[yt++]=ct.subarray(pt+St,pt+St+4);gt[vt]=dt}return gt},erect3DArray4:(ct,ht,ut,mt)=>{const gt=ht*4,vt=new Array(mt);for(let dt=0;dt<mt;dt++){const St=new Array(ut);for(let yt=0;yt<ut;yt++){const pt=new Array(ht),wt=dt*gt*ut+yt*gt;let Et=0;for(let Ct=0;Ct<gt;Ct+=4)pt[Et++]=ct.subarray(Ct+wt,Ct+wt+4);St[yt]=pt}vt[dt]=St}return vt},flattenFunctionToString:(ct,ht)=>{const{findDependency:ut,thisLookup:mt,doNotDefine:gt}=ht;let vt=ht.flattened;vt||(vt=ht.flattened={});const dt=tt.parse(ct),St=[];let yt=0;function pt(Et){if(Array.isArray(Et)){const Ct=[];for(let kt=0;kt<Et.length;kt++)Ct.push(pt(Et[kt]));return Ct.join("")}switch(Et.type){case"Program":return pt(Et.body)+(Et.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${Et.id.name}(${Et.params.map(pt).join(", ")}) ${pt(Et.body)}`;case"BlockStatement":{const kt=[];yt+=2;for(let Tt=0;Tt<Et.body.length;Tt++){const At=pt(Et.body[Tt]);At&&kt.push(" ".repeat(yt)+At,`;
`)}return yt-=2,`{
${kt.join("")}}`}case"VariableDeclaration":const Ct=_.normalizeDeclarations(Et).map(pt).filter(kt=>kt!==null);return Ct.length<1?"":`${Et.kind} ${Ct.join(",")}`;case"VariableDeclarator":return Et.init.object&&Et.init.object.type==="ThisExpression"?mt(Et.init.property.name,!0)?`${Et.id.name} = ${pt(Et.init)}`:null:`${Et.id.name} = ${pt(Et.init)}`;case"CallExpression":{if(Et.callee.property.name==="subarray")return`${pt(Et.callee.object)}.${pt(Et.callee.property)}(${Et.arguments.map(kt=>pt(kt)).join(", ")})`;if(Et.callee.object.name==="gl"||Et.callee.object.name==="context")return`${pt(Et.callee.object)}.${pt(Et.callee.property)}(${Et.arguments.map(kt=>pt(kt)).join(", ")})`;if(Et.callee.object.type==="ThisExpression")return St.push(ut("this",Et.callee.property.name)),`${Et.callee.property.name}(${Et.arguments.map(kt=>pt(kt)).join(", ")})`;if(Et.callee.object.name){const kt=ut(Et.callee.object.name,Et.callee.property.name);return kt===null?`${Et.callee.object.name}.${Et.callee.property.name}(${Et.arguments.map(Tt=>pt(Tt)).join(", ")})`:(St.push(kt),`${Et.callee.property.name}(${Et.arguments.map(Tt=>pt(Tt)).join(", ")})`)}else{if(Et.callee.object.type==="MemberExpression")return`${pt(Et.callee.object)}.${Et.callee.property.name}(${Et.arguments.map(kt=>pt(kt)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${pt(Et.argument)}`;case"BinaryExpression":return`(${pt(Et.left)}${Et.operator}${pt(Et.right)})`;case"UnaryExpression":return Et.prefix?`${Et.operator} ${pt(Et.argument)}`:`${pt(Et.argument)} ${Et.operator}`;case"ExpressionStatement":return`${pt(Et.expression)}`;case"SequenceExpression":return`(${pt(Et.expressions)})`;case"ArrowFunctionExpression":return`(${Et.params.map(pt).join(", ")}) => ${pt(Et.body)}`;case"Literal":return Et.raw;case"Identifier":return Et.name;case"MemberExpression":return Et.object.type==="ThisExpression"?mt(Et.property.name):Et.computed?`${pt(Et.object)}[${pt(Et.property)}]`:pt(Et.object)+"."+pt(Et.property);case"ThisExpression":return"this";case"NewExpression":return`new ${pt(Et.callee)}(${Et.arguments.map(kt=>pt(kt)).join(", ")})`;case"ForStatement":return`for (${pt(Et.init)};${pt(Et.test)};${pt(Et.update)}) ${pt(Et.body)}`;case"AssignmentExpression":return`${pt(Et.left)}${Et.operator}${pt(Et.right)}`;case"UpdateExpression":return`${pt(Et.argument)}${Et.operator}`;case"IfStatement":return`if (${pt(Et.test)}) ${pt(Et.consequent)}`;case"ThrowStatement":return`throw ${pt(Et.argument)}`;case"ObjectPattern":return Et.properties.map(pt).join(", ");case"ArrayPattern":return Et.elements.map(pt).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${pt(Et.test)}?${pt(Et.consequent)}:${pt(Et.alternate)}`;case"Property":if(Et.kind==="init")return pt(Et.key)}throw new Error(`unhandled ast.type of ${Et.type}`)}const wt=pt(dt);if(St.length>0){const Et=[];for(let Ct=0;Ct<St.length;Ct++){const kt=St[Ct];vt[kt]||(vt[kt]=!0),kt&&Et.push(_.flattenFunctionToString(kt,ht)+`
`)}return Et.join("")+wt}return wt},normalizeDeclarations:ct=>{if(ct.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const ht=[];for(let ut=0;ut<ct.declarations.length;ut++){const mt=ct.declarations[ut];if(mt.id&&mt.id.type==="ObjectPattern"&&mt.id.properties){const{properties:gt}=mt.id;for(let vt=0;vt<gt.length;vt++){const dt=gt[vt];if(dt.value.type==="ObjectPattern"&&dt.value.properties)for(let St=0;St<dt.value.properties.length;St++){const yt=dt.value.properties[St];if(yt.type==="Property")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:yt.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:mt.init,property:{type:"Identifier",name:dt.key.name},computed:!1},property:{type:"Identifier",name:yt.key.name},computed:!1}});else throw new Error("unexpected state")}else if(dt.value.type==="Identifier")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:dt.value&&dt.value.name?dt.value.name:dt.key.name},init:{type:"MemberExpression",object:mt.init,property:{type:"Identifier",name:dt.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(mt.id&&mt.id.type==="ArrayPattern"&&mt.id.elements){const{elements:gt}=mt.id;for(let vt=0;vt<gt.length;vt++){const dt=gt[vt];if(dt.type==="Identifier")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:dt.name},init:{type:"MemberExpression",object:mt.init,property:{type:"Literal",value:vt,raw:vt.toString(),start:dt.start,end:dt.end},computed:!0}});else throw new Error("unexpected state")}}else ht.push(mt)}return ht},splitHTMLImageToRGB:(ct,ht)=>{const ut=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].r*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),mt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].g*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),gt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].b*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),vt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].a*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),dt=[ut(ht),mt(ht),gt(ht),vt(ht)];return dt.rKernel=ut,dt.gKernel=mt,dt.bKernel=gt,dt.aKernel=vt,dt.gpu=ct,dt},splitRGBAToCanvases:(ct,ht,ut,mt)=>{const gt=ct.createKernel(function(yt){const pt=yt[this.thread.y][this.thread.x];this.color(pt.r/255,0,0,255)},{output:[ut,mt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});gt(ht);const vt=ct.createKernel(function(yt){const pt=yt[this.thread.y][this.thread.x];this.color(0,pt.g/255,0,255)},{output:[ut,mt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});vt(ht);const dt=ct.createKernel(function(yt){const pt=yt[this.thread.y][this.thread.x];this.color(0,0,pt.b/255,255)},{output:[ut,mt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});dt(ht);const St=ct.createKernel(function(yt){const pt=yt[this.thread.y][this.thread.x];this.color(255,255,255,pt.a/255)},{output:[ut,mt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return St(ht),[gt.canvas,vt.canvas,dt.canvas,St.canvas]},getMinifySafeName:ct=>{try{const ht=tt.parse(`const value = ${ct.toString()}`),{init:ut}=ht.body[0].declarations[0];return ut.body.name||ut.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(ct){return $.test(ct)&&(ct=ct.replace($,"S_S")),et.test(ct)?ct=ct.replace(et,"U_U"):st.test(ct)&&(ct=ct.replace(st,"u_u")),ct}},$=/\$/,et=/__/,st=/_/,lt=_.getSystemEndianness();a.exports={utils:_}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})})(gpuBrowser);var gpuBrowserExports=gpuBrowser.exports,rttc={},runtimeSourceError={};Object.defineProperty(runtimeSourceError,"__esModule",{value:!0});runtimeSourceError.RuntimeSourceError=void 0;const constants_1$1=constants,types_1$l=types;class RuntimeSourceError{constructor(s){this.type=types_1$l.ErrorType.RUNTIME,this.severity=types_1$l.ErrorSeverity.ERROR,this.location=s?s.loc:constants_1$1.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}runtimeSourceError.RuntimeSourceError=RuntimeSourceError;Object.defineProperty(rttc,"__esModule",{value:!0});rttc.isIdentifier=rttc.checkMemberAccess=rttc.checkIfStatement=rttc.checkBinaryExpression=rttc.checkUnaryExpression=rttc.TypeError=void 0;const runtimeSourceError_1$1=runtimeSourceError,types_1$k=types,LHS=" on left hand side of operation",RHS=" on right hand side of operation";let TypeError$1=class extends runtimeSourceError_1$1.RuntimeSourceError{constructor(s,o,a,nt,tt=types_1$k.Chapter.SOURCE_4){super(s),this.side=o,this.expected=a,this.got=nt,this.chapter=tt,this.type=types_1$k.ErrorType.RUNTIME,this.severity=types_1$k.ErrorSeverity.ERROR}explain(){const s=this.got==="array"?this.chapter<=2?"pair":"compound data":this.got;return`Expected ${this.expected}${this.side}, got ${s}.`}elaborate(){return this.explain()}};rttc.TypeError=TypeError$1;const typeOf=i=>i===null?"null":Array.isArray(i)?"array":typeof i,isNumber=i=>typeOf(i)==="number",isArrayIndex=i=>isNumber(i)&&i>>>0===i&&i<2**32-1,isString=i=>typeOf(i)==="string",isBool=i=>typeOf(i)==="boolean",isObject=i=>typeOf(i)==="object",isArray=i=>typeOf(i)==="array",checkUnaryExpression=(i,s,o,a=types_1$k.Chapter.SOURCE_4)=>(s==="+"||s==="-")&&!isNumber(o)?new TypeError$1(i,"","number",typeOf(o),a):s==="!"&&!isBool(o)?new TypeError$1(i,"","boolean",typeOf(o),a):void 0;rttc.checkUnaryExpression=checkUnaryExpression;const checkBinaryExpression=(i,s,o,a,nt)=>{switch(s){case"-":case"*":case"/":case"%":return isNumber(a)?isNumber(nt)?void 0:new TypeError$1(i,RHS,"number",typeOf(nt),o):new TypeError$1(i,LHS,"number",typeOf(a),o);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":return o>2&&(s==="==="||s==="!==")?void 0:isNumber(a)?isNumber(nt)?void 0:new TypeError$1(i,RHS,"number",typeOf(nt),o):isString(a)?isString(nt)?void 0:new TypeError$1(i,RHS,"string",typeOf(nt),o):new TypeError$1(i,LHS,"string or number",typeOf(a),o);default:return}};rttc.checkBinaryExpression=checkBinaryExpression;const checkIfStatement=(i,s,o=types_1$k.Chapter.SOURCE_4)=>isBool(s)?void 0:new TypeError$1(i," as condition","boolean",typeOf(s),o);rttc.checkIfStatement=checkIfStatement;const checkMemberAccess=(i,s,o)=>isObject(s)?isString(o)?void 0:new TypeError$1(i," as prop","string",typeOf(o)):isArray(s)?isArrayIndex(o)?void 0:isNumber(o)?new TypeError$1(i," as prop","array index","other number"):new TypeError$1(i," as prop","array index",typeOf(o)):new TypeError$1(i,"","object or array",typeOf(s));rttc.checkMemberAccess=checkMemberAccess;const isIdentifier=i=>i.name!==void 0;rttc.isIdentifier=isIdentifier;var transfomer={},astCreator={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.whileStatement=i.ifStatement=i.variableDeclarator=i.variableDeclaration=i.arrowFunctionExpression=i.blockExpression=i.functionDeclaration=i.functionDeclarationExpression=i.primitive=i.unaryExpression=i.binaryExpression=i.assignmentExpression=i.arrayExpression=i.conditionalExpression=i.mutateToConditionalExpression=i.logicalExpression=i.mutateToMemberExpression=i.mutateToReturnStatement=i.mutateToExpressionStatement=i.mutateToAssignmentExpression=i.mutateToCallExpression=i.objectExpression=i.property=i.returnStatement=i.program=i.blockStatement=i.functionExpression=i.blockArrowFunction=i.expressionStatement=i.callExpression=i.constantDeclaration=i.declaration=i.memberExpression=i.literal=i.identifier=i.locationDummyNode=i.getVariableDecarationName=void 0;const s=Wt=>Wt.declarations[0].id.name;i.getVariableDecarationName=s;const o=(Wt,Vt)=>(0,i.literal)("Dummy",{start:{line:Wt,column:Vt},end:{line:Wt,column:Vt}});i.locationDummyNode=o;const a=(Wt,Vt)=>({type:"Identifier",name:Wt,loc:Vt});i.identifier=a;const nt=(Wt,Vt)=>({type:"Literal",value:Wt,loc:Vt});i.literal=nt;const tt=(Wt,Vt)=>({type:"MemberExpression",object:Wt,computed:typeof Vt=="number",optional:!1,property:typeof Vt=="number"?(0,i.literal)(Vt):(0,i.identifier)(Vt)});i.memberExpression=tt;const ot=(Wt,Vt,Ht,Jt)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:(0,i.identifier)(Wt),init:Ht}],kind:Vt,loc:Jt});i.declaration=ot;const at=(Wt,Vt,Ht)=>(0,i.declaration)(Wt,"const",Vt,Ht);i.constantDeclaration=at;const rt=(Wt,Vt,Ht)=>({type:"CallExpression",callee:Wt,arguments:Vt,optional:!1,loc:Ht});i.callExpression=rt;const it=Wt=>({type:"ExpressionStatement",expression:Wt});i.expressionStatement=it;const j=(Wt,Vt,Ht)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:Wt,body:Array.isArray(Vt)?(0,i.blockStatement)(Vt):Vt,loc:Ht});i.blockArrowFunction=j;const _=(Wt,Vt,Ht)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:Wt,body:Array.isArray(Vt)?(0,i.blockStatement)(Vt):Vt,loc:Ht});i.functionExpression=_;const $=Wt=>({type:"BlockStatement",body:Wt});i.blockStatement=$;const et=Wt=>({type:"Program",sourceType:"module",body:Wt});i.program=et;const st=(Wt,Vt)=>({type:"ReturnStatement",argument:Wt,loc:Vt});i.returnStatement=st;const lt=(Wt,Vt)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,i.identifier)(Wt),value:Vt,kind:"init"});i.property=lt;const ct=Wt=>({type:"ObjectExpression",properties:Wt});i.objectExpression=ct;const ht=(Wt,Vt,Ht)=>{Wt.type="CallExpression",Wt=Wt,Wt.callee=Vt,Wt.arguments=Ht};i.mutateToCallExpression=ht;const ut=(Wt,Vt,Ht)=>{Wt.type="AssignmentExpression",Wt=Wt,Wt.operator="=",Wt.left=Vt,Wt.right=Ht};i.mutateToAssignmentExpression=ut;const mt=(Wt,Vt)=>{Wt.type="ExpressionStatement",Wt=Wt,Wt.expression=Vt};i.mutateToExpressionStatement=mt;const gt=(Wt,Vt)=>{Wt.type="ReturnStatement",Wt=Wt,Wt.argument=Vt};i.mutateToReturnStatement=gt;const vt=(Wt,Vt,Ht)=>{Wt.type="MemberExpression",Wt=Wt,Wt.object=Vt,Wt.property=Ht,Wt.computed=!1};i.mutateToMemberExpression=vt;const dt=(Wt,Vt,Ht,Jt)=>({type:"LogicalExpression",operator:Wt,left:Vt,right:Ht,loc:Jt});i.logicalExpression=dt;const St=(Wt,Vt,Ht,Jt)=>{Wt.type="ConditionalExpression",Wt=Wt,Wt.test=Vt,Wt.consequent=Ht,Wt.alternate=Jt};i.mutateToConditionalExpression=St;const yt=(Wt,Vt,Ht,Jt)=>({type:"ConditionalExpression",test:Wt,consequent:Vt,alternate:Ht,loc:Jt});i.conditionalExpression=yt;const pt=Wt=>({type:"ArrayExpression",elements:Wt});i.arrayExpression=pt;const wt=(Wt,Vt)=>({type:"AssignmentExpression",operator:"=",left:Wt,right:Vt});i.assignmentExpression=wt;const Et=(Wt,Vt,Ht,Jt)=>({type:"BinaryExpression",operator:Wt,left:Vt,right:Ht,loc:Jt});i.binaryExpression=Et;const Ct=(Wt,Vt,Ht)=>({type:"UnaryExpression",operator:Wt,prefix:!0,argument:Vt,loc:Ht});i.unaryExpression=Ct;const kt=Wt=>Wt===void 0?(0,i.identifier)("undefined"):(0,i.literal)(Wt);i.primitive=kt;const Tt=(Wt,Vt,Ht,Jt)=>({type:"FunctionExpression",id:Wt,params:Vt,body:Ht,loc:Jt});i.functionDeclarationExpression=Tt;const At=(Wt,Vt,Ht,Jt)=>({type:"FunctionDeclaration",id:Wt,params:Vt,body:Ht,loc:Jt});i.functionDeclaration=At;const It=(Wt,Vt)=>({type:"BlockExpression",body:Wt,loc:Vt});i.blockExpression=It;const Ot=(Wt,Vt,Ht)=>({type:"ArrowFunctionExpression",expression:Vt.type!=="BlockStatement",generator:!1,params:Wt,body:Vt,loc:Ht});i.arrowFunctionExpression=Ot;const Mt=(Wt,Vt)=>({type:"VariableDeclaration",kind:"const",declarations:Wt,loc:Vt});i.variableDeclaration=Mt;const Dt=(Wt,Vt,Ht)=>({type:"VariableDeclarator",id:Wt,init:Vt,loc:Ht});i.variableDeclarator=Dt;const Bt=(Wt,Vt,Ht,Jt)=>({type:"IfStatement",test:Wt,consequent:Vt,alternate:Ht,loc:Jt});i.ifStatement=Bt;const qt=(Wt,Vt,Ht)=>({type:"WhileStatement",test:Vt,body:Wt,loc:Ht});i.whileStatement=qt})(astCreator);var walkers$1={},walk={exports:{}};(function(i,s){(function(o,a){a(s)})(commonjsGlobal,function(o){function a(ut,mt,gt,vt,dt){gt||(gt=ht),function St(yt,pt,wt){var Et=wt||yt.type;gt[Et](yt,pt,St),mt[Et]&&mt[Et](yt,pt)}(ut,vt,dt)}function nt(ut,mt,gt,vt,dt){var St=[];gt||(gt=ht),function yt(pt,wt,Et){var Ct=Et||pt.type,kt=pt!==St[St.length-1];kt&&St.push(pt),gt[Ct](pt,wt,yt),mt[Ct]&&mt[Ct](pt,wt||St,St),kt&&St.pop()}(ut,vt,dt)}function tt(ut,mt,gt,vt,dt){var St=gt?st(gt,vt||void 0):vt;(function yt(pt,wt,Et){St[Et||pt.type](pt,wt,yt)})(ut,mt,dt)}function ot(ut){return typeof ut=="string"?function(mt){return mt===ut}:ut||function(){return!0}}var at=function(mt,gt){this.node=mt,this.state=gt};function rt(ut,mt,gt,vt,dt){gt||(gt=ht);var St;(function yt(pt,wt,Et){var Ct=Et||pt.type;gt[Ct](pt,wt,yt),St!==pt&&(mt(pt,wt,Ct),St=pt)})(ut,vt,dt)}function it(ut,mt,gt,vt){gt||(gt=ht);var dt=[],St;(function yt(pt,wt,Et){var Ct=Et||pt.type,kt=pt!==dt[dt.length-1];kt&&dt.push(pt),gt[Ct](pt,wt,yt),St!==pt&&(mt(pt,wt||dt,dt,Ct),St=pt),kt&&dt.pop()})(ut,vt)}function j(ut,mt,gt,vt,dt,St){dt||(dt=ht),vt=ot(vt);try{(function yt(pt,wt,Et){var Ct=Et||pt.type;if((mt==null||pt.start<=mt)&&(gt==null||pt.end>=gt)&&dt[Ct](pt,wt,yt),(mt==null||pt.start===mt)&&(gt==null||pt.end===gt)&&vt(Ct,pt))throw new at(pt,wt)})(ut,St)}catch(yt){if(yt instanceof at)return yt;throw yt}}function _(ut,mt,gt,vt,dt){gt=ot(gt),vt||(vt=ht);try{(function St(yt,pt,wt){var Et=wt||yt.type;if(!(yt.start>mt||yt.end<mt)&&(vt[Et](yt,pt,St),gt(Et,yt)))throw new at(yt,pt)})(ut,dt)}catch(St){if(St instanceof at)return St;throw St}}function $(ut,mt,gt,vt,dt){gt=ot(gt),vt||(vt=ht);try{(function St(yt,pt,wt){if(!(yt.end<mt)){var Et=wt||yt.type;if(yt.start>=mt&&gt(Et,yt))throw new at(yt,pt);vt[Et](yt,pt,St)}})(ut,dt)}catch(St){if(St instanceof at)return St;throw St}}function et(ut,mt,gt,vt,dt){gt=ot(gt),vt||(vt=ht);var St;return function yt(pt,wt,Et){if(!(pt.start>mt)){var Ct=Et||pt.type;pt.end<=mt&&(!St||St.node.end<pt.end)&&gt(Ct,pt)&&(St=new at(pt,wt)),vt[Ct](pt,wt,yt)}}(ut,dt),St}function st(ut,mt){var gt=Object.create(mt||ht);for(var vt in ut)gt[vt]=ut[vt];return gt}function lt(ut,mt,gt){gt(ut,mt)}function ct(ut,mt,gt){}var ht={};ht.Program=ht.BlockStatement=ht.StaticBlock=function(ut,mt,gt){for(var vt=0,dt=ut.body;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt,"Statement")}},ht.Statement=lt,ht.EmptyStatement=ct,ht.ExpressionStatement=ht.ParenthesizedExpression=ht.ChainExpression=function(ut,mt,gt){return gt(ut.expression,mt,"Expression")},ht.IfStatement=function(ut,mt,gt){gt(ut.test,mt,"Expression"),gt(ut.consequent,mt,"Statement"),ut.alternate&&gt(ut.alternate,mt,"Statement")},ht.LabeledStatement=function(ut,mt,gt){return gt(ut.body,mt,"Statement")},ht.BreakStatement=ht.ContinueStatement=ct,ht.WithStatement=function(ut,mt,gt){gt(ut.object,mt,"Expression"),gt(ut.body,mt,"Statement")},ht.SwitchStatement=function(ut,mt,gt){gt(ut.discriminant,mt,"Expression");for(var vt=0,dt=ut.cases;vt<dt.length;vt+=1){var St=dt[vt];St.test&&gt(St.test,mt,"Expression");for(var yt=0,pt=St.consequent;yt<pt.length;yt+=1){var wt=pt[yt];gt(wt,mt,"Statement")}}},ht.SwitchCase=function(ut,mt,gt){ut.test&&gt(ut.test,mt,"Expression");for(var vt=0,dt=ut.consequent;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt,"Statement")}},ht.ReturnStatement=ht.YieldExpression=ht.AwaitExpression=function(ut,mt,gt){ut.argument&&gt(ut.argument,mt,"Expression")},ht.ThrowStatement=ht.SpreadElement=function(ut,mt,gt){return gt(ut.argument,mt,"Expression")},ht.TryStatement=function(ut,mt,gt){gt(ut.block,mt,"Statement"),ut.handler&&gt(ut.handler,mt),ut.finalizer&&gt(ut.finalizer,mt,"Statement")},ht.CatchClause=function(ut,mt,gt){ut.param&&gt(ut.param,mt,"Pattern"),gt(ut.body,mt,"Statement")},ht.WhileStatement=ht.DoWhileStatement=function(ut,mt,gt){gt(ut.test,mt,"Expression"),gt(ut.body,mt,"Statement")},ht.ForStatement=function(ut,mt,gt){ut.init&&gt(ut.init,mt,"ForInit"),ut.test&&gt(ut.test,mt,"Expression"),ut.update&&gt(ut.update,mt,"Expression"),gt(ut.body,mt,"Statement")},ht.ForInStatement=ht.ForOfStatement=function(ut,mt,gt){gt(ut.left,mt,"ForInit"),gt(ut.right,mt,"Expression"),gt(ut.body,mt,"Statement")},ht.ForInit=function(ut,mt,gt){ut.type==="VariableDeclaration"?gt(ut,mt):gt(ut,mt,"Expression")},ht.DebuggerStatement=ct,ht.FunctionDeclaration=function(ut,mt,gt){return gt(ut,mt,"Function")},ht.VariableDeclaration=function(ut,mt,gt){for(var vt=0,dt=ut.declarations;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt)}},ht.VariableDeclarator=function(ut,mt,gt){gt(ut.id,mt,"Pattern"),ut.init&&gt(ut.init,mt,"Expression")},ht.Function=function(ut,mt,gt){ut.id&&gt(ut.id,mt,"Pattern");for(var vt=0,dt=ut.params;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt,"Pattern")}gt(ut.body,mt,ut.expression?"Expression":"Statement")},ht.Pattern=function(ut,mt,gt){ut.type==="Identifier"?gt(ut,mt,"VariablePattern"):ut.type==="MemberExpression"?gt(ut,mt,"MemberPattern"):gt(ut,mt)},ht.VariablePattern=ct,ht.MemberPattern=lt,ht.RestElement=function(ut,mt,gt){return gt(ut.argument,mt,"Pattern")},ht.ArrayPattern=function(ut,mt,gt){for(var vt=0,dt=ut.elements;vt<dt.length;vt+=1){var St=dt[vt];St&&gt(St,mt,"Pattern")}},ht.ObjectPattern=function(ut,mt,gt){for(var vt=0,dt=ut.properties;vt<dt.length;vt+=1){var St=dt[vt];St.type==="Property"?(St.computed&&gt(St.key,mt,"Expression"),gt(St.value,mt,"Pattern")):St.type==="RestElement"&&gt(St.argument,mt,"Pattern")}},ht.Expression=lt,ht.ThisExpression=ht.Super=ht.MetaProperty=ct,ht.ArrayExpression=function(ut,mt,gt){for(var vt=0,dt=ut.elements;vt<dt.length;vt+=1){var St=dt[vt];St&&gt(St,mt,"Expression")}},ht.ObjectExpression=function(ut,mt,gt){for(var vt=0,dt=ut.properties;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt)}},ht.FunctionExpression=ht.ArrowFunctionExpression=ht.FunctionDeclaration,ht.SequenceExpression=function(ut,mt,gt){for(var vt=0,dt=ut.expressions;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt,"Expression")}},ht.TemplateLiteral=function(ut,mt,gt){for(var vt=0,dt=ut.quasis;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt)}for(var yt=0,pt=ut.expressions;yt<pt.length;yt+=1){var wt=pt[yt];gt(wt,mt,"Expression")}},ht.TemplateElement=ct,ht.UnaryExpression=ht.UpdateExpression=function(ut,mt,gt){gt(ut.argument,mt,"Expression")},ht.BinaryExpression=ht.LogicalExpression=function(ut,mt,gt){gt(ut.left,mt,"Expression"),gt(ut.right,mt,"Expression")},ht.AssignmentExpression=ht.AssignmentPattern=function(ut,mt,gt){gt(ut.left,mt,"Pattern"),gt(ut.right,mt,"Expression")},ht.ConditionalExpression=function(ut,mt,gt){gt(ut.test,mt,"Expression"),gt(ut.consequent,mt,"Expression"),gt(ut.alternate,mt,"Expression")},ht.NewExpression=ht.CallExpression=function(ut,mt,gt){if(gt(ut.callee,mt,"Expression"),ut.arguments)for(var vt=0,dt=ut.arguments;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt,"Expression")}},ht.MemberExpression=function(ut,mt,gt){gt(ut.object,mt,"Expression"),ut.computed&&gt(ut.property,mt,"Expression")},ht.ExportNamedDeclaration=ht.ExportDefaultDeclaration=function(ut,mt,gt){ut.declaration&&gt(ut.declaration,mt,ut.type==="ExportNamedDeclaration"||ut.declaration.id?"Statement":"Expression"),ut.source&&gt(ut.source,mt,"Expression")},ht.ExportAllDeclaration=function(ut,mt,gt){ut.exported&&gt(ut.exported,mt),gt(ut.source,mt,"Expression")},ht.ImportDeclaration=function(ut,mt,gt){for(var vt=0,dt=ut.specifiers;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt)}gt(ut.source,mt,"Expression")},ht.ImportExpression=function(ut,mt,gt){gt(ut.source,mt,"Expression")},ht.ImportSpecifier=ht.ImportDefaultSpecifier=ht.ImportNamespaceSpecifier=ht.Identifier=ht.PrivateIdentifier=ht.Literal=ct,ht.TaggedTemplateExpression=function(ut,mt,gt){gt(ut.tag,mt,"Expression"),gt(ut.quasi,mt,"Expression")},ht.ClassDeclaration=ht.ClassExpression=function(ut,mt,gt){return gt(ut,mt,"Class")},ht.Class=function(ut,mt,gt){ut.id&&gt(ut.id,mt,"Pattern"),ut.superClass&&gt(ut.superClass,mt,"Expression"),gt(ut.body,mt)},ht.ClassBody=function(ut,mt,gt){for(var vt=0,dt=ut.body;vt<dt.length;vt+=1){var St=dt[vt];gt(St,mt)}},ht.MethodDefinition=ht.PropertyDefinition=ht.Property=function(ut,mt,gt){ut.computed&&gt(ut.key,mt,"Expression"),ut.value&&gt(ut.value,mt,"Expression")},o.ancestor=nt,o.base=ht,o.findNodeAfter=$,o.findNodeAround=_,o.findNodeAt=j,o.findNodeBefore=et,o.full=rt,o.fullAncestor=it,o.make=st,o.recursive=tt,o.simple=a})})(walk,walk.exports);var walkExports=walk.exports;Object.defineProperty(walkers$1,"__esModule",{value:!0});walkers$1.base=walkers$1.findNodeAfter=walkers$1.findNodeAround=walkers$1.findNodeAt=walkers$1.make=walkers$1.fullAncestor=walkers$1.full=walkers$1.recursive=walkers$1.ancestor=walkers$1.simple=void 0;const walkers=walkExports;walkers$1.simple=walkers.simple;walkers$1.ancestor=walkers.ancestor;walkers$1.recursive=walkers.recursive;walkers$1.full=walkers.full;walkers$1.fullAncestor=walkers.fullAncestor;walkers$1.make=walkers.make;walkers$1.findNodeAt=walkers.findNodeAt;walkers$1.findNodeAround=walkers.findNodeAround;walkers$1.findNodeAfter=walkers.findNodeAfter;walkers$1.base=walkers.base;var bodyVerifier={};Object.defineProperty(bodyVerifier,"__esModule",{value:!0});const walkers_1$1=walkers$1;class GPUBodyVerifier{constructor(s,o,a){this.checkBody=nt=>{let tt=!0;if((0,walkers_1$1.simple)(nt,{FunctionDeclaration(){tt=!1},ArrowFunctionExpression(){tt=!1},ReturnStatement(){tt=!1},BreakStatement(){tt=!1},ContinueStatement(){tt=!1}}),!tt)return;const ot=new RegExp(/^math_[a-z]+$/);if((0,walkers_1$1.simple)(nt,{CallExpression(et){if(et.callee.type!=="Identifier"){tt=!1;return}const st=et.callee.name;if(!ot.test(st)){tt=!1;return}}}),!tt)return;const at=new Set;(0,walkers_1$1.simple)(nt,{VariableDeclaration(et){et.declarations[0].id.type==="Identifier"&&at.add(et.declarations[0].id.name)}}),this.localVar=at;const rt=[],it=this.getArrayName;if((0,walkers_1$1.simple)(nt,{AssignmentExpression(et){if(!(et.left.type==="Identifier"&&at.has(et.left.name))){if(et.left.type==="MemberExpression"){const st=it(et.left);if(at.has(st.name))return}rt.push(et)}}}),rt.length!==1||rt[0].left.type!=="MemberExpression")return;const j=this.getPropertyAccess(rt[0].left);if(j.length===0||j.length>this.counters.length)return;const _=this.getPropertyAccess,$=this.outputArray;if((0,walkers_1$1.simple)(nt,{MemberExpression(et){if(it(et).name!==$.name)return;const lt=_(et);JSON.stringify(lt)!==JSON.stringify(j)&&(tt=!1)}},(0,walkers_1$1.make)({MemberExpression:()=>{}})),!!tt){for(let et=0;et<this.counters.length&&j[et]===this.counters[et];et++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=nt=>{let tt=nt;for(;tt.type==="MemberExpression";)tt=tt.object;return tt},this.getPropertyAccess=nt=>{const tt=[];let ot=!0,at=nt;for(;at.type==="MemberExpression";){if(at.property.type!=="Identifier"){ot=!1;break}tt.push(at.property.name),at=at.object}return ot?(this.outputArray=at,tt.reverse()):[]},this.program=s,this.node=o,this.counters=a,this.state=0,this.checkBody(o)}}bodyVerifier.default=GPUBodyVerifier;var loopVerifier={};Object.defineProperty(loopVerifier,"__esModule",{value:!0});class GPULoopVerifier{constructor(s){this.forLoopTransform=o=>{!o.init||!o.update||!o.test||(this.ok=this.hasCounter(o.init)&&this.hasCondition(o.test)&&this.hasUpdate(o.update))},this.hasCounter=o=>{if(!o||o.type!=="VariableDeclaration"||o.kind!=="let")return!1;const a=o.declarations;if(a.length>1)return!1;const nt=a[0];if(nt.id.type!=="Identifier"||!nt.init)return!1;this.counter=nt.id.name;const tt=nt.init;return!(!tt||tt.type!=="Literal"||tt.value!==0)},this.hasCondition=o=>{if(o.type!=="BinaryExpression"||!(o.operator==="<"||o.operator==="<="))return!1;const a=o.left;if(a.type!=="Identifier"||a.name!==this.counter)return!1;const nt=o.right;return nt.type==="Identifier"||nt.type==="Literal"?(this.end=nt,!0):!1},this.hasUpdate=o=>{if(o.type!=="AssignmentExpression"||o.operator!=="="||o.left.type!=="Identifier"||o.left.name!==this.counter||o.right.type!=="BinaryExpression")return!1;const a=o.right;if(a.operator!=="+")return!1;const nt=a.left.type==="Identifier"&&a.left.name===this.counter,tt=a.right.type==="Identifier"&&a.right.name===this.counter,ot=a.left.type==="Literal"&&a.left.value===1,at=a.right.type==="Literal"&&a.right.value===1;return nt&&at||tt&&ot},this.node=s,this.forLoopTransform(this.node)}}loopVerifier.default=GPULoopVerifier;Object.defineProperty(transfomer,"__esModule",{value:!0});transfomer.gpuRuntimeTranspile=void 0;const create=astCreator,walkers_1=walkers$1,bodyVerifier_1=bodyVerifier,loopVerifier_1=loopVerifier;let currentKernelId=0;class GPUTransformer{constructor(s,o){this.transform=()=>{const a=this.gpuTranspile,nt=[];return(0,walkers_1.simple)(this.program,{ForStatement(tt){const ot=a(tt);ot>0&&tt.loc&&nt.push([tt.loc.start.line,ot])}},(0,walkers_1.make)({ForStatement:()=>{}})),nt},this.gpuTranspile=a=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(a),this.counters.length===0||new Set(this.counters).size!==this.counters.length)return 0;const nt=new bodyVerifier_1.default(this.program,this.innerBody,this.counters);if(nt.state===0)return 0;this.state=nt.state,this.outputArray=nt.outputArray,this.localVar=nt.localVar,this.getOuterVariables(),this.getTargetBody(a);const tt=[];for(const _ in this.outerVariables)if(this.outerVariables.hasOwnProperty(_)){const $=this.outerVariables[_];tt.push([create.literal(_),JSON.parse(JSON.stringify($))])}const ot=nt.getArrayName,at=this.localVar;(0,walkers_1.ancestor)(this.targetBody,{AssignmentExpression(_,$){if(_.left.type==="Identifier"||_.left.type!=="MemberExpression")return;const et=ot(_.left);if(at.has(et.name))return;const st=$.length;create.mutateToReturnStatement($[st-2],_.right)}});const rt=[];for(let _=0;_<this.state;_++)rt.push(create.identifier(this.counters[_]));const it=create.blockArrowFunction(this.counters.map(_=>create.identifier(_)),this.targetBody),j=create.callExpression(this.globalIds.__createKernelSource,[create.arrayExpression(this.end),create.arrayExpression(tt.map(create.arrayExpression)),create.arrayExpression(Array.from(at.values()).map(_=>create.literal(_))),this.outputArray,it,create.literal(currentKernelId++)],a.loc);return create.mutateToExpressionStatement(a,j),this.state},this.checkOuterLoops=a=>{let nt=a;for(;nt.type==="ForStatement";){const tt=new loopVerifier_1.default(nt);if(!tt.ok||(this.innerBody=nt.body,this.counters.push(tt.counter),this.end.push(tt.end),this.innerBody.type!=="BlockStatement")||this.innerBody.body.length>1||this.innerBody.body.length===0)break;nt=this.innerBody.body[0]}},this.program=s,this.globalIds={__createKernelSource:o}}getTargetBody(s){let o=this.state;for(this.targetBody=s;o>1;)this.targetBody=this.targetBody.body.body[0],o--;this.targetBody=this.targetBody.body}getOuterVariables(){const s=this.innerBody,o=this.localVar,a=this.counters,nt=this.outputArray.name,tt={};(0,walkers_1.simple)(s,{Identifier(ot){o.has(ot.name)||a.includes(ot.name)||ot.name===nt||ot.name.startsWith("math_")||(tt[ot.name]=ot)}}),this.outerVariables=tt}}function gpuRuntimeTranspile(i,s){const o=i.params.map(at=>at.name),a=i.body;(0,walkers_1.simple)(a,{CallExpression(at){if(at.callee.type!=="Identifier")return;const it=at.callee.name.split("_")[1],j=at.arguments;create.mutateToCallExpression(at,create.memberExpression(create.identifier("Math"),it),j)}});const nt=new Set([...o,"Math"]);(0,walkers_1.simple)(a,{Identifier(at){nt.has(at.name)||s.has(at.name)||create.mutateToMemberExpression(at,create.memberExpression(create.identifier("this"),"constants"),create.identifier(at.name))}});let tt=["x"];o.length===2&&(tt=["y","x"]),o.length===3&&(tt=["z","y","x"]);const ot=o.slice();return(0,walkers_1.simple)(a,{Identifier(at){let rt=-1;for(let j=0;j<ot.length;j=j+1)if(at.name===ot[j]){rt=j;break}if(rt===-1)return;const it=tt[rt];create.mutateToMemberExpression(at,create.memberExpression(create.identifier("this"),"thread"),create.identifier(it))}}),a}transfomer.gpuRuntimeTranspile=gpuRuntimeTranspile;transfomer.default=GPUTransformer;Object.defineProperty(lib,"__esModule",{value:!0});lib.__createKernelSource=lib.__clearKernelCache=lib.__createKernel=void 0;const acorn_1=acornExports,astring_1$8=astring,gpu_js_1=gpuBrowserExports,constants_1=constants,rttc_1=rttc,transfomer_1=transfomer,MAX_SIZE=200;function buildArray(i,s,o){for(let a=0;a<s[0];a++)o[a]=prettyOutput(i[a])}function build2DArray(i,s,o){for(let a=0;a<s[0];a++)for(let nt=0;nt<s[1];nt++)o[a][nt]=prettyOutput(i[a][nt])}function build3DArray(i,s,o){for(let a=0;a<s[0];a++)for(let nt=0;nt<s[1];nt++)for(let tt=0;tt<s[2];tt++)o[a][nt][tt]=prettyOutput(i[a][nt][tt])}function prettyOutput(i){if(!(i instanceof Float32Array))return i;const s=i.map(o=>prettyOutput(o));return Array.from(s)}function checkArray(i){return Array.isArray(i)}function checkArray2D(i,s){for(let o=0;o<s[0];o=o+1)if(!Array.isArray(i[o]))return!1;return!0}function checkArray3D(i,s){for(let o=0;o<s[0];o=o+1){if(!Array.isArray(i[o]))return!1;for(let a=0;a<s[1];a=a+1)if(!Array.isArray(i[o][a]))return!1}return!0}function checkValidGPU(i,s){let o;if(s.length===1&&(o=i(0)),s.length===2&&(o=i(0,0)),s.length===3&&(o=i(0,0,0)),typeof o!="number")return!1;let a=1;for(const nt of s)a=a*nt;return a>MAX_SIZE}function manualRun(i,s,o){function a(){for(let ot=0;ot<s[0];ot++)o[ot]=i(ot)}function nt(){for(let ot=0;ot<s[0];ot=ot+1)for(let at=0;at<s[1];at=at+1)o[ot][at]=i(ot,at)}function tt(){for(let ot=0;ot<s[0];ot=ot+1)for(let at=0;at<s[1];at=at+1)for(let rt=0;rt<s[2];rt=rt+1)o[ot][at][rt]=i(ot,at,rt)}return s.length===1?a():s.length===2?nt():tt()}function __createKernel(i,s,o,a,nt){const tt=new gpu_js_1.GPU;let ot=checkArray(a),at="";if(ot||(at=typeof a),i.length>1&&(ot=ot&&checkArray2D(a,i),ot||(at="undefined")),i.length>2&&(ot=ot&&checkArray3D(a,i),ot||(at="undefined")),!ot)throw new rttc_1.TypeError(a,"","object or array",at);if(ot=checkValidGPU(nt,i),!ot){manualRun(nt,i,a);return}const rt=[];for(let $=i.length-1;$>=0;$--)rt.push(i[$]);const it={constants:{}};it.constants=s;const _=tt.createKernel(o,it).setOutput(rt)();i.length===1&&buildArray(_,i,a),i.length===2&&build2DArray(_,i,a),i.length===3&&build3DArray(_,i,a)}lib.__createKernel=__createKernel;function entriesToObject(i){const s={};return i.forEach(([o,a])=>s[o]=a),s}const kernels=new Map;function __clearKernelCache(){kernels.clear()}lib.__clearKernelCache=__clearKernelCache;function __createKernelSource(i,s,o,a,nt,tt){const ot=entriesToObject(s),at=kernels.get(tt);if(at!==void 0)return __createKernel(i,ot,at,a,nt);const rt=nt.toString(),j=(0,acorn_1.parse)(rt,constants_1.ACORN_PARSE_OPTIONS).body[0].expression,_=(0,transfomer_1.gpuRuntimeTranspile)(j,new Set(o)),$=new Function((0,astring_1$8.generate)(_));return kernels.set(tt,$),__createKernel(i,ot,$,a,nt)}lib.__createKernelSource=__createKernelSource;var schedulers={},errors={},stringify$1={},closure={},interpreter={},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,s){(function(){var o,a="4.17.21",nt=200,tt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",at="Invalid `variable` option passed into `_.template`",rt="__lodash_hash_undefined__",it=500,j="__lodash_placeholder__",_=1,$=2,et=4,st=1,lt=2,ct=1,ht=2,ut=4,mt=8,gt=16,vt=32,dt=64,St=128,yt=256,pt=512,wt=30,Et="...",Ct=800,kt=16,Tt=1,At=2,It=3,Ot=1/0,Mt=9007199254740991,Dt=17976931348623157e292,Bt=NaN,qt=4294967295,Wt=qt-1,Vt=qt>>>1,Ht=[["ary",St],["bind",ct],["bindKey",ht],["curry",mt],["curryRight",gt],["flip",pt],["partial",vt],["partialRight",dt],["rearg",yt]],Jt="[object Arguments]",Qt="[object Array]",cr="[object AsyncFunction]",hr="[object Boolean]",dr="[object Date]",gr="[object DOMException]",tr="[object Error]",rr="[object Function]",Yt="[object GeneratorFunction]",br="[object Map]",_r="[object Number]",fr="[object Null]",Wr="[object Object]",nn="[object Promise]",an="[object Proxy]",In="[object RegExp]",Bn="[object Set]",Pn="[object String]",cn="[object Symbol]",Gn="[object Undefined]",Mn="[object WeakMap]",Er="[object WeakSet]",Br="[object ArrayBuffer]",$r="[object DataView]",on="[object Float32Array]",Xt="[object Float64Array]",er="[object Int8Array]",lr="[object Int16Array]",Lr="[object Int32Array]",Nr="[object Uint8Array]",Cr="[object Uint8ClampedArray]",Tr="[object Uint16Array]",Hr="[object Uint32Array]",sn=/\b__p \+= '';/g,Or=/\b(__p \+=) '' \+/g,qr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gr=/&(?:amp|lt|gt|quot|#39);/g,Ur=/[&<>"']/g,vn=RegExp(Gr.source),Ar=RegExp(Ur.source),dn=/<%-([\s\S]+?)%>/g,ks=/<%([\s\S]+?)%>/g,ds=/<%=([\s\S]+?)%>/g,qn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,So=/^\w*$/,Qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ps=/[\\^$.*+?()[\]{}|]/g,Js=RegExp(ps.source),Ps=/^\s+/,eo=/\s/,Us=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xn=/\{\n\/\* \[wrapped with (.+)\] \*/,Ws=/,? & /,Zr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,us=/[()=,{}\[\]\/\s]/,Hs=/\\(\\)?/g,uo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wn=/\w*$/,co=/^[-+]0x[0-9a-f]+$/i,to=/^0b[01]+$/i,ho=/^\[object .+?Constructor\]$/,fo=/^0o[0-7]+$/i,ro=/^(?:0|[1-9]\d*)$/,xs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,cs=/($^)/,no=/['\n\r\u2028\u2029\\]/g,ms="\\ud800-\\udfff",Cs="\\u0300-\\u036f",Ds="\\ufe20-\\ufe2f",pn="\\u20d0-\\u20ff",Kr=Cs+Ds+pn,_i="\\u2700-\\u27bf",es="a-z\\xdf-\\xf6\\xf8-\\xff",_o="\\xac\\xb1\\xd7\\xf7",po="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mo="\\u2000-\\u206f",_t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="A-Z\\xc0-\\xd6\\xd8-\\xde",Nt="\\ufe0e\\ufe0f",Kt=_o+po+mo+_t,or="[']",Sr="["+ms+"]",Rr="["+Kt+"]",jr="["+Kr+"]",rn="\\d+",_n="["+_i+"]",zn="["+es+"]",ts="[^"+ms+Kt+rn+_i+es+Lt+"]",os="\\ud83c[\\udffb-\\udfff]",hs="(?:"+jr+"|"+os+")",Os="[^"+ms+"]",gn="(?:\\ud83c[\\udde6-\\uddff]){2}",bs="[\\ud800-\\udbff][\\udc00-\\udfff]",rs="["+Lt+"]",wo="\\u200d",Eo="(?:"+zn+"|"+ts+")",$s="(?:"+rs+"|"+ts+")",go="(?:"+or+"(?:d|ll|m|re|s|t|ve))?",Po="(?:"+or+"(?:D|LL|M|RE|S|T|VE))?",xt=hs+"?",Rt="["+Nt+"]?",Ft="(?:"+wo+"(?:"+[Os,gn,bs].join("|")+")"+Rt+xt+")*",jt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ir="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vr=Rt+xt+Ft,wr="(?:"+[_n,gn,bs].join("|")+")"+vr,Vr="(?:"+[Os+jr+"?",jr,gn,bs,Sr].join("|")+")",zr=RegExp(or,"g"),yn=RegExp(jr,"g"),ln=RegExp(os+"(?="+os+")|"+Vr+vr,"g"),Fn=RegExp([rs+"?"+zn+"+"+go+"(?="+[Rr,rs,"$"].join("|")+")",$s+"+"+Po+"(?="+[Rr,rs+Eo,"$"].join("|")+")",rs+"?"+Eo+"+"+go,rs+"+"+Po,ir,jt,rn,wr].join("|"),"g"),As=RegExp("["+wo+ms+Kr+Nt+"]"),gs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],io=-1,$n={};$n[on]=$n[Xt]=$n[er]=$n[lr]=$n[Lr]=$n[Nr]=$n[Cr]=$n[Tr]=$n[Hr]=!0,$n[Jt]=$n[Qt]=$n[Br]=$n[hr]=$n[$r]=$n[dr]=$n[tr]=$n[rr]=$n[br]=$n[_r]=$n[Wr]=$n[In]=$n[Bn]=$n[Pn]=$n[Mn]=!1;var kn={};kn[Jt]=kn[Qt]=kn[Br]=kn[$r]=kn[hr]=kn[dr]=kn[on]=kn[Xt]=kn[er]=kn[lr]=kn[Lr]=kn[br]=kn[_r]=kn[Wr]=kn[In]=kn[Bn]=kn[Pn]=kn[cn]=kn[Nr]=kn[Cr]=kn[Tr]=kn[Hr]=!0,kn[tr]=kn[rr]=kn[Mn]=!1;var nr={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},pr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ut={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xr=parseFloat,Dr=parseInt,Jr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,mn=typeof self=="object"&&self&&self.Object===Object&&self,en=Jr||mn||Function("return this")(),Qr=s&&!s.nodeType&&s,xn=Qr&&!0&&i&&!i.nodeType&&i,jn=xn&&xn.exports===Qr,Ln=jn&&Jr.process,Dn=function(){try{var mr=xn&&xn.require&&xn.require("util").types;return mr||Ln&&Ln.binding&&Ln.binding("util")}catch{}}(),ns=Dn&&Dn.isArrayBuffer,Ss=Dn&&Dn.isDate,_s=Dn&&Dn.isMap,yo=Dn&&Dn.isRegExp,$l=Dn&&Dn.isSet,Wo=Dn&&Dn.isTypedArray;function as(mr,Ir,kr){switch(kr.length){case 0:return mr.call(Ir);case 1:return mr.call(Ir,kr[0]);case 2:return mr.call(Ir,kr[0],kr[1]);case 3:return mr.call(Ir,kr[0],kr[1],kr[2])}return mr.apply(Ir,kr)}function My(mr,Ir,kr,Yr){for(var bn=-1,On=mr==null?0:mr.length;++bn<On;){var is=mr[bn];Ir(Yr,is,kr(is),mr)}return Yr}function Gs(mr,Ir){for(var kr=-1,Yr=mr==null?0:mr.length;++kr<Yr&&Ir(mr[kr],kr,mr)!==!1;);return mr}function Py(mr,Ir){for(var kr=mr==null?0:mr.length;kr--&&Ir(mr[kr],kr,mr)!==!1;);return mr}function Pp(mr,Ir){for(var kr=-1,Yr=mr==null?0:mr.length;++kr<Yr;)if(!Ir(mr[kr],kr,mr))return!1;return!0}function Do(mr,Ir){for(var kr=-1,Yr=mr==null?0:mr.length,bn=0,On=[];++kr<Yr;){var is=mr[kr];Ir(is,kr,mr)&&(On[bn++]=is)}return On}function Hl(mr,Ir){var kr=mr==null?0:mr.length;return!!kr&&Jo(mr,Ir,0)>-1}function Iu(mr,Ir,kr){for(var Yr=-1,bn=mr==null?0:mr.length;++Yr<bn;)if(kr(Ir,mr[Yr]))return!0;return!1}function Hn(mr,Ir){for(var kr=-1,Yr=mr==null?0:mr.length,bn=Array(Yr);++kr<Yr;)bn[kr]=Ir(mr[kr],kr,mr);return bn}function Oo(mr,Ir){for(var kr=-1,Yr=Ir.length,bn=mr.length;++kr<Yr;)mr[bn+kr]=Ir[kr];return mr}function Lu(mr,Ir,kr,Yr){var bn=-1,On=mr==null?0:mr.length;for(Yr&&On&&(kr=mr[++bn]);++bn<On;)kr=Ir(kr,mr[bn],bn,mr);return kr}function Dy(mr,Ir,kr,Yr){var bn=mr==null?0:mr.length;for(Yr&&bn&&(kr=mr[--bn]);bn--;)kr=Ir(kr,mr[bn],bn,mr);return kr}function Mu(mr,Ir){for(var kr=-1,Yr=mr==null?0:mr.length;++kr<Yr;)if(Ir(mr[kr],kr,mr))return!0;return!1}var Oy=Pu("length");function Fy(mr){return mr.split("")}function Ny(mr){return mr.match(Zr)||[]}function Dp(mr,Ir,kr){var Yr;return kr(mr,function(bn,On,is){if(Ir(bn,On,is))return Yr=On,!1}),Yr}function Gl(mr,Ir,kr,Yr){for(var bn=mr.length,On=kr+(Yr?1:-1);Yr?On--:++On<bn;)if(Ir(mr[On],On,mr))return On;return-1}function Jo(mr,Ir,kr){return Ir===Ir?qy(mr,Ir,kr):Gl(mr,Op,kr)}function Vy(mr,Ir,kr,Yr){for(var bn=kr-1,On=mr.length;++bn<On;)if(Yr(mr[bn],Ir))return bn;return-1}function Op(mr){return mr!==mr}function Fp(mr,Ir){var kr=mr==null?0:mr.length;return kr?Ou(mr,Ir)/kr:Bt}function Pu(mr){return function(Ir){return Ir==null?o:Ir[mr]}}function Du(mr){return function(Ir){return mr==null?o:mr[Ir]}}function Np(mr,Ir,kr,Yr,bn){return bn(mr,function(On,is,Un){kr=Yr?(Yr=!1,On):Ir(kr,On,is,Un)}),kr}function By(mr,Ir){var kr=mr.length;for(mr.sort(Ir);kr--;)mr[kr]=mr[kr].value;return mr}function Ou(mr,Ir){for(var kr,Yr=-1,bn=mr.length;++Yr<bn;){var On=Ir(mr[Yr]);On!==o&&(kr=kr===o?On:kr+On)}return kr}function Fu(mr,Ir){for(var kr=-1,Yr=Array(mr);++kr<mr;)Yr[kr]=Ir(kr);return Yr}function zy(mr,Ir){return Hn(Ir,function(kr){return[kr,mr[kr]]})}function Vp(mr){return mr&&mr.slice(0,Up(mr)+1).replace(Ps,"")}function Ns(mr){return function(Ir){return mr(Ir)}}function Nu(mr,Ir){return Hn(Ir,function(kr){return mr[kr]})}function Al(mr,Ir){return mr.has(Ir)}function Bp(mr,Ir){for(var kr=-1,Yr=mr.length;++kr<Yr&&Jo(Ir,mr[kr],0)>-1;);return kr}function zp(mr,Ir){for(var kr=mr.length;kr--&&Jo(Ir,mr[kr],0)>-1;);return kr}function jy(mr,Ir){for(var kr=mr.length,Yr=0;kr--;)mr[kr]===Ir&&++Yr;return Yr}var Uy=Du(nr),Wy=Du(pr);function Hy(mr){return"\\"+sr[mr]}function Gy(mr,Ir){return mr==null?o:mr[Ir]}function na(mr){return As.test(mr)}function Ky(mr){return gs.test(mr)}function Xy(mr){for(var Ir,kr=[];!(Ir=mr.next()).done;)kr.push(Ir.value);return kr}function Vu(mr){var Ir=-1,kr=Array(mr.size);return mr.forEach(function(Yr,bn){kr[++Ir]=[bn,Yr]}),kr}function jp(mr,Ir){return function(kr){return mr(Ir(kr))}}function Fo(mr,Ir){for(var kr=-1,Yr=mr.length,bn=0,On=[];++kr<Yr;){var is=mr[kr];(is===Ir||is===j)&&(mr[kr]=j,On[bn++]=kr)}return On}function Kl(mr){var Ir=-1,kr=Array(mr.size);return mr.forEach(function(Yr){kr[++Ir]=Yr}),kr}function Yy(mr){var Ir=-1,kr=Array(mr.size);return mr.forEach(function(Yr){kr[++Ir]=[Yr,Yr]}),kr}function qy(mr,Ir,kr){for(var Yr=kr-1,bn=mr.length;++Yr<bn;)if(mr[Yr]===Ir)return Yr;return-1}function Qy(mr,Ir,kr){for(var Yr=kr+1;Yr--;)if(mr[Yr]===Ir)return Yr;return Yr}function ga(mr){return na(mr)?Jy(mr):Oy(mr)}function so(mr){return na(mr)?ev(mr):Fy(mr)}function Up(mr){for(var Ir=mr.length;Ir--&&eo.test(mr.charAt(Ir)););return Ir}var Zy=Du(Ut);function Jy(mr){for(var Ir=ln.lastIndex=0;ln.test(mr);)++Ir;return Ir}function ev(mr){return mr.match(ln)||[]}function tv(mr){return mr.match(Fn)||[]}var rv=function mr(Ir){Ir=Ir==null?en:xa.defaults(en.Object(),Ir,xa.pick(en,Fs));var kr=Ir.Array,Yr=Ir.Date,bn=Ir.Error,On=Ir.Function,is=Ir.Math,Un=Ir.Object,Bu=Ir.RegExp,nv=Ir.String,Ks=Ir.TypeError,Xl=kr.prototype,iv=On.prototype,ba=Un.prototype,Yl=Ir["__core-js_shared__"],Ql=iv.toString,Vn=ba.hasOwnProperty,sv=0,Wp=function(){var ft=/[^.]+$/.exec(Yl&&Yl.keys&&Yl.keys.IE_PROTO||"");return ft?"Symbol(src)_1."+ft:""}(),Zl=ba.toString,ov=Ql.call(Un),av=en._,lv=Bu("^"+Ql.call(Vn).replace(ps,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jl=jn?Ir.Buffer:o,No=Ir.Symbol,eu=Ir.Uint8Array,Hp=Jl?Jl.allocUnsafe:o,tu=jp(Un.getPrototypeOf,Un),Gp=Un.create,Kp=ba.propertyIsEnumerable,ru=Xl.splice,Xp=No?No.isConcatSpreadable:o,Rl=No?No.iterator:o,Ho=No?No.toStringTag:o,nu=function(){try{var ft=qo(Un,"defineProperty");return ft({},"",{}),ft}catch{}}(),uv=Ir.clearTimeout!==en.clearTimeout&&Ir.clearTimeout,cv=Yr&&Yr.now!==en.Date.now&&Yr.now,hv=Ir.setTimeout!==en.setTimeout&&Ir.setTimeout,iu=is.ceil,su=is.floor,zu=Un.getOwnPropertySymbols,fv=Jl?Jl.isBuffer:o,Yp=Ir.isFinite,dv=Xl.join,pv=jp(Un.keys,Un),ss=is.max,ys=is.min,mv=Yr.now,gv=Ir.parseInt,qp=is.random,yv=Xl.reverse,ju=qo(Ir,"DataView"),Il=qo(Ir,"Map"),Uu=qo(Ir,"Promise"),$a=qo(Ir,"Set"),Ll=qo(Ir,"WeakMap"),Ml=qo(Un,"create"),ou=Ll&&new Ll,yl={},vv=Qo(ju),xv=Qo(Il),bv=Qo(Uu),Sv=Qo($a),_v=Qo(Ll),au=No?No.prototype:o,Pl=au?au.valueOf:o,Qp=au?au.toString:o;function Gt(ft){if(Yn(ft)&&!Sn(ft)&&!(ft instanceof An)){if(ft instanceof Xs)return ft;if(Vn.call(ft,"__wrapped__"))return Zm(ft)}return new Xs(ft)}var xl=function(){function ft(){}return function(bt){if(!Kn(bt))return{};if(Gp)return Gp(bt);ft.prototype=bt;var $t=new ft;return ft.prototype=o,$t}}();function lu(){}function Xs(ft,bt){this.__wrapped__=ft,this.__actions__=[],this.__chain__=!!bt,this.__index__=0,this.__values__=o}Gt.templateSettings={escape:dn,evaluate:ks,interpolate:ds,variable:"",imports:{_:Gt}},Gt.prototype=lu.prototype,Gt.prototype.constructor=Gt,Xs.prototype=xl(lu.prototype),Xs.prototype.constructor=Xs;function An(ft){this.__wrapped__=ft,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qt,this.__views__=[]}function wv(){var ft=new An(this.__wrapped__);return ft.__actions__=Rs(this.__actions__),ft.__dir__=this.__dir__,ft.__filtered__=this.__filtered__,ft.__iteratees__=Rs(this.__iteratees__),ft.__takeCount__=this.__takeCount__,ft.__views__=Rs(this.__views__),ft}function Ev(){if(this.__filtered__){var ft=new An(this);ft.__dir__=-1,ft.__filtered__=!0}else ft=this.clone(),ft.__dir__*=-1;return ft}function Tv(){var ft=this.__wrapped__.value(),bt=this.__dir__,$t=Sn(ft),Pt=bt<0,zt=$t?ft.length:0,Zt=F0(0,zt,this.__views__),ar=Zt.start,ur=Zt.end,yr=ur-ar,Mr=Pt?ur:ar-1,Pr=this.__iteratees__,Fr=Pr.length,Xr=0,tn=ys(yr,this.__takeCount__);if(!$t||!Pt&&zt==yr&&tn==yr)return Sm(ft,this.__actions__);var hn=[];e:for(;yr--&&Xr<tn;){Mr+=bt;for(var En=-1,fn=ft[Mr];++En<Fr;){var Cn=Pr[En],Rn=Cn.iteratee,zs=Cn.type,Ts=Rn(fn);if(zs==At)fn=Ts;else if(!Ts){if(zs==Tt)continue e;break e}}hn[Xr++]=fn}return hn}An.prototype=xl(lu.prototype),An.prototype.constructor=An;function Go(ft){var bt=-1,$t=ft==null?0:ft.length;for(this.clear();++bt<$t;){var Pt=ft[bt];this.set(Pt[0],Pt[1])}}function kv(){this.__data__=Ml?Ml(null):{},this.size=0}function Cv(ft){var bt=this.has(ft)&&delete this.__data__[ft];return this.size-=bt?1:0,bt}function $v(ft){var bt=this.__data__;if(Ml){var $t=bt[ft];return $t===rt?o:$t}return Vn.call(bt,ft)?bt[ft]:o}function Av(ft){var bt=this.__data__;return Ml?bt[ft]!==o:Vn.call(bt,ft)}function Rv(ft,bt){var $t=this.__data__;return this.size+=this.has(ft)?0:1,$t[ft]=Ml&&bt===o?rt:bt,this}Go.prototype.clear=kv,Go.prototype.delete=Cv,Go.prototype.get=$v,Go.prototype.has=Av,Go.prototype.set=Rv;function To(ft){var bt=-1,$t=ft==null?0:ft.length;for(this.clear();++bt<$t;){var Pt=ft[bt];this.set(Pt[0],Pt[1])}}function Iv(){this.__data__=[],this.size=0}function Lv(ft){var bt=this.__data__,$t=uu(bt,ft);if($t<0)return!1;var Pt=bt.length-1;return $t==Pt?bt.pop():ru.call(bt,$t,1),--this.size,!0}function Mv(ft){var bt=this.__data__,$t=uu(bt,ft);return $t<0?o:bt[$t][1]}function Pv(ft){return uu(this.__data__,ft)>-1}function Dv(ft,bt){var $t=this.__data__,Pt=uu($t,ft);return Pt<0?(++this.size,$t.push([ft,bt])):$t[Pt][1]=bt,this}To.prototype.clear=Iv,To.prototype.delete=Lv,To.prototype.get=Mv,To.prototype.has=Pv,To.prototype.set=Dv;function ko(ft){var bt=-1,$t=ft==null?0:ft.length;for(this.clear();++bt<$t;){var Pt=ft[bt];this.set(Pt[0],Pt[1])}}function Ov(){this.size=0,this.__data__={hash:new Go,map:new(Il||To),string:new Go}}function Fv(ft){var bt=Su(this,ft).delete(ft);return this.size-=bt?1:0,bt}function Nv(ft){return Su(this,ft).get(ft)}function Vv(ft){return Su(this,ft).has(ft)}function Bv(ft,bt){var $t=Su(this,ft),Pt=$t.size;return $t.set(ft,bt),this.size+=$t.size==Pt?0:1,this}ko.prototype.clear=Ov,ko.prototype.delete=Fv,ko.prototype.get=Nv,ko.prototype.has=Vv,ko.prototype.set=Bv;function Ko(ft){var bt=-1,$t=ft==null?0:ft.length;for(this.__data__=new ko;++bt<$t;)this.add(ft[bt])}function zv(ft){return this.__data__.set(ft,rt),this}function jv(ft){return this.__data__.has(ft)}Ko.prototype.add=Ko.prototype.push=zv,Ko.prototype.has=jv;function oo(ft){var bt=this.__data__=new To(ft);this.size=bt.size}function Uv(){this.__data__=new To,this.size=0}function Wv(ft){var bt=this.__data__,$t=bt.delete(ft);return this.size=bt.size,$t}function Hv(ft){return this.__data__.get(ft)}function Gv(ft){return this.__data__.has(ft)}function Kv(ft,bt){var $t=this.__data__;if($t instanceof To){var Pt=$t.__data__;if(!Il||Pt.length<nt-1)return Pt.push([ft,bt]),this.size=++$t.size,this;$t=this.__data__=new ko(Pt)}return $t.set(ft,bt),this.size=$t.size,this}oo.prototype.clear=Uv,oo.prototype.delete=Wv,oo.prototype.get=Hv,oo.prototype.has=Gv,oo.prototype.set=Kv;function Zp(ft,bt){var $t=Sn(ft),Pt=!$t&&Zo(ft),zt=!$t&&!Pt&&Uo(ft),Zt=!$t&&!Pt&&!zt&&Tl(ft),ar=$t||Pt||zt||Zt,ur=ar?Fu(ft.length,nv):[],yr=ur.length;for(var Mr in ft)(bt||Vn.call(ft,Mr))&&!(ar&&(Mr=="length"||zt&&(Mr=="offset"||Mr=="parent")||Zt&&(Mr=="buffer"||Mr=="byteLength"||Mr=="byteOffset")||Ro(Mr,yr)))&&ur.push(Mr);return ur}function Jp(ft){var bt=ft.length;return bt?ft[ep(0,bt-1)]:o}function Xv(ft,bt){return _u(Rs(ft),Xo(bt,0,ft.length))}function Yv(ft){return _u(Rs(ft))}function Wu(ft,bt,$t){($t!==o&&!ao(ft[bt],$t)||$t===o&&!(bt in ft))&&Co(ft,bt,$t)}function Dl(ft,bt,$t){var Pt=ft[bt];(!(Vn.call(ft,bt)&&ao(Pt,$t))||$t===o&&!(bt in ft))&&Co(ft,bt,$t)}function uu(ft,bt){for(var $t=ft.length;$t--;)if(ao(ft[$t][0],bt))return $t;return-1}function qv(ft,bt,$t,Pt){return Vo(ft,function(zt,Zt,ar){bt(Pt,zt,$t(zt),ar)}),Pt}function em(ft,bt){return ft&&xo(bt,ls(bt),ft)}function Qv(ft,bt){return ft&&xo(bt,Ls(bt),ft)}function Co(ft,bt,$t){bt=="__proto__"&&nu?nu(ft,bt,{configurable:!0,enumerable:!0,value:$t,writable:!0}):ft[bt]=$t}function Hu(ft,bt){for(var $t=-1,Pt=bt.length,zt=kr(Pt),Zt=ft==null;++$t<Pt;)zt[$t]=Zt?o:Tp(ft,bt[$t]);return zt}function Xo(ft,bt,$t){return ft===ft&&($t!==o&&(ft=ft<=$t?ft:$t),bt!==o&&(ft=ft>=bt?ft:bt)),ft}function Ys(ft,bt,$t,Pt,zt,Zt){var ar,ur=bt&_,yr=bt&$,Mr=bt&et;if($t&&(ar=zt?$t(ft,Pt,zt,Zt):$t(ft)),ar!==o)return ar;if(!Kn(ft))return ft;var Pr=Sn(ft);if(Pr){if(ar=V0(ft),!ur)return Rs(ft,ar)}else{var Fr=vs(ft),Xr=Fr==rr||Fr==Yt;if(Uo(ft))return Em(ft,ur);if(Fr==Wr||Fr==Jt||Xr&&!zt){if(ar=yr||Xr?{}:Um(ft),!ur)return yr?$0(ft,Qv(ar,ft)):C0(ft,em(ar,ft))}else{if(!kn[Fr])return zt?ft:{};ar=B0(ft,Fr,ur)}}Zt||(Zt=new oo);var tn=Zt.get(ft);if(tn)return tn;Zt.set(ft,ar),vy(ft)?ft.forEach(function(fn){ar.add(Ys(fn,bt,$t,fn,ft,Zt))}):gy(ft)&&ft.forEach(function(fn,Cn){ar.set(Cn,Ys(fn,bt,$t,Cn,ft,Zt))});var hn=Mr?yr?hp:cp:yr?Ls:ls,En=Pr?o:hn(ft);return Gs(En||ft,function(fn,Cn){En&&(Cn=fn,fn=ft[Cn]),Dl(ar,Cn,Ys(fn,bt,$t,Cn,ft,Zt))}),ar}function Zv(ft){var bt=ls(ft);return function($t){return tm($t,ft,bt)}}function tm(ft,bt,$t){var Pt=$t.length;if(ft==null)return!Pt;for(ft=Un(ft);Pt--;){var zt=$t[Pt],Zt=bt[zt],ar=ft[zt];if(ar===o&&!(zt in ft)||!Zt(ar))return!1}return!0}function rm(ft,bt,$t){if(typeof ft!="function")throw new Ks(ot);return Ul(function(){ft.apply(o,$t)},bt)}function Ol(ft,bt,$t,Pt){var zt=-1,Zt=Hl,ar=!0,ur=ft.length,yr=[],Mr=bt.length;if(!ur)return yr;$t&&(bt=Hn(bt,Ns($t))),Pt?(Zt=Iu,ar=!1):bt.length>=nt&&(Zt=Al,ar=!1,bt=new Ko(bt));e:for(;++zt<ur;){var Pr=ft[zt],Fr=$t==null?Pr:$t(Pr);if(Pr=Pt||Pr!==0?Pr:0,ar&&Fr===Fr){for(var Xr=Mr;Xr--;)if(bt[Xr]===Fr)continue e;yr.push(Pr)}else Zt(bt,Fr,Pt)||yr.push(Pr)}return yr}var Vo=Am(vo),nm=Am(Ku,!0);function Jv(ft,bt){var $t=!0;return Vo(ft,function(Pt,zt,Zt){return $t=!!bt(Pt,zt,Zt),$t}),$t}function cu(ft,bt,$t){for(var Pt=-1,zt=ft.length;++Pt<zt;){var Zt=ft[Pt],ar=bt(Zt);if(ar!=null&&(ur===o?ar===ar&&!Bs(ar):$t(ar,ur)))var ur=ar,yr=Zt}return yr}function e0(ft,bt,$t,Pt){var zt=ft.length;for($t=wn($t),$t<0&&($t=-$t>zt?0:zt+$t),Pt=Pt===o||Pt>zt?zt:wn(Pt),Pt<0&&(Pt+=zt),Pt=$t>Pt?0:by(Pt);$t<Pt;)ft[$t++]=bt;return ft}function im(ft,bt){var $t=[];return Vo(ft,function(Pt,zt,Zt){bt(Pt,zt,Zt)&&$t.push(Pt)}),$t}function fs(ft,bt,$t,Pt,zt){var Zt=-1,ar=ft.length;for($t||($t=j0),zt||(zt=[]);++Zt<ar;){var ur=ft[Zt];bt>0&&$t(ur)?bt>1?fs(ur,bt-1,$t,Pt,zt):Oo(zt,ur):Pt||(zt[zt.length]=ur)}return zt}var Gu=Rm(),sm=Rm(!0);function vo(ft,bt){return ft&&Gu(ft,bt,ls)}function Ku(ft,bt){return ft&&sm(ft,bt,ls)}function hu(ft,bt){return Do(bt,function($t){return Io(ft[$t])})}function Yo(ft,bt){bt=zo(bt,ft);for(var $t=0,Pt=bt.length;ft!=null&&$t<Pt;)ft=ft[bo(bt[$t++])];return $t&&$t==Pt?ft:o}function om(ft,bt,$t){var Pt=bt(ft);return Sn(ft)?Pt:Oo(Pt,$t(ft))}function ws(ft){return ft==null?ft===o?Gn:fr:Ho&&Ho in Un(ft)?O0(ft):Y0(ft)}function Xu(ft,bt){return ft>bt}function t0(ft,bt){return ft!=null&&Vn.call(ft,bt)}function r0(ft,bt){return ft!=null&&bt in Un(ft)}function n0(ft,bt,$t){return ft>=ys(bt,$t)&&ft<ss(bt,$t)}function Yu(ft,bt,$t){for(var Pt=$t?Iu:Hl,zt=ft[0].length,Zt=ft.length,ar=Zt,ur=kr(Zt),yr=1/0,Mr=[];ar--;){var Pr=ft[ar];ar&&bt&&(Pr=Hn(Pr,Ns(bt))),yr=ys(Pr.length,yr),ur[ar]=!$t&&(bt||zt>=120&&Pr.length>=120)?new Ko(ar&&Pr):o}Pr=ft[0];var Fr=-1,Xr=ur[0];e:for(;++Fr<zt&&Mr.length<yr;){var tn=Pr[Fr],hn=bt?bt(tn):tn;if(tn=$t||tn!==0?tn:0,!(Xr?Al(Xr,hn):Pt(Mr,hn,$t))){for(ar=Zt;--ar;){var En=ur[ar];if(!(En?Al(En,hn):Pt(ft[ar],hn,$t)))continue e}Xr&&Xr.push(hn),Mr.push(tn)}}return Mr}function i0(ft,bt,$t,Pt){return vo(ft,function(zt,Zt,ar){bt(Pt,$t(zt),Zt,ar)}),Pt}function Fl(ft,bt,$t){bt=zo(bt,ft),ft=Km(ft,bt);var Pt=ft==null?ft:ft[bo(Qs(bt))];return Pt==null?o:as(Pt,ft,$t)}function am(ft){return Yn(ft)&&ws(ft)==Jt}function s0(ft){return Yn(ft)&&ws(ft)==Br}function o0(ft){return Yn(ft)&&ws(ft)==dr}function Nl(ft,bt,$t,Pt,zt){return ft===bt?!0:ft==null||bt==null||!Yn(ft)&&!Yn(bt)?ft!==ft&&bt!==bt:a0(ft,bt,$t,Pt,Nl,zt)}function a0(ft,bt,$t,Pt,zt,Zt){var ar=Sn(ft),ur=Sn(bt),yr=ar?Qt:vs(ft),Mr=ur?Qt:vs(bt);yr=yr==Jt?Wr:yr,Mr=Mr==Jt?Wr:Mr;var Pr=yr==Wr,Fr=Mr==Wr,Xr=yr==Mr;if(Xr&&Uo(ft)){if(!Uo(bt))return!1;ar=!0,Pr=!1}if(Xr&&!Pr)return Zt||(Zt=new oo),ar||Tl(ft)?Bm(ft,bt,$t,Pt,zt,Zt):P0(ft,bt,yr,$t,Pt,zt,Zt);if(!($t&st)){var tn=Pr&&Vn.call(ft,"__wrapped__"),hn=Fr&&Vn.call(bt,"__wrapped__");if(tn||hn){var En=tn?ft.value():ft,fn=hn?bt.value():bt;return Zt||(Zt=new oo),zt(En,fn,$t,Pt,Zt)}}return Xr?(Zt||(Zt=new oo),D0(ft,bt,$t,Pt,zt,Zt)):!1}function l0(ft){return Yn(ft)&&vs(ft)==br}function qu(ft,bt,$t,Pt){var zt=$t.length,Zt=zt,ar=!Pt;if(ft==null)return!Zt;for(ft=Un(ft);zt--;){var ur=$t[zt];if(ar&&ur[2]?ur[1]!==ft[ur[0]]:!(ur[0]in ft))return!1}for(;++zt<Zt;){ur=$t[zt];var yr=ur[0],Mr=ft[yr],Pr=ur[1];if(ar&&ur[2]){if(Mr===o&&!(yr in ft))return!1}else{var Fr=new oo;if(Pt)var Xr=Pt(Mr,Pr,yr,ft,bt,Fr);if(!(Xr===o?Nl(Pr,Mr,st|lt,Pt,Fr):Xr))return!1}}return!0}function lm(ft){if(!Kn(ft)||W0(ft))return!1;var bt=Io(ft)?lv:ho;return bt.test(Qo(ft))}function u0(ft){return Yn(ft)&&ws(ft)==In}function c0(ft){return Yn(ft)&&vs(ft)==Bn}function h0(ft){return Yn(ft)&&$u(ft.length)&&!!$n[ws(ft)]}function um(ft){return typeof ft=="function"?ft:ft==null?Ms:typeof ft=="object"?Sn(ft)?fm(ft[0],ft[1]):hm(ft):Iy(ft)}function Qu(ft){if(!zl(ft))return pv(ft);var bt=[];for(var $t in Un(ft))Vn.call(ft,$t)&&$t!="constructor"&&bt.push($t);return bt}function f0(ft){if(!Kn(ft))return X0(ft);var bt=zl(ft),$t=[];for(var Pt in ft)Pt=="constructor"&&(bt||!Vn.call(ft,Pt))||$t.push(Pt);return $t}function Zu(ft,bt){return ft<bt}function cm(ft,bt){var $t=-1,Pt=Is(ft)?kr(ft.length):[];return Vo(ft,function(zt,Zt,ar){Pt[++$t]=bt(zt,Zt,ar)}),Pt}function hm(ft){var bt=dp(ft);return bt.length==1&&bt[0][2]?Hm(bt[0][0],bt[0][1]):function($t){return $t===ft||qu($t,ft,bt)}}function fm(ft,bt){return mp(ft)&&Wm(bt)?Hm(bo(ft),bt):function($t){var Pt=Tp($t,ft);return Pt===o&&Pt===bt?kp($t,ft):Nl(bt,Pt,st|lt)}}function fu(ft,bt,$t,Pt,zt){ft!==bt&&Gu(bt,function(Zt,ar){if(zt||(zt=new oo),Kn(Zt))d0(ft,bt,ar,$t,fu,Pt,zt);else{var ur=Pt?Pt(yp(ft,ar),Zt,ar+"",ft,bt,zt):o;ur===o&&(ur=Zt),Wu(ft,ar,ur)}},Ls)}function d0(ft,bt,$t,Pt,zt,Zt,ar){var ur=yp(ft,$t),yr=yp(bt,$t),Mr=ar.get(yr);if(Mr){Wu(ft,$t,Mr);return}var Pr=Zt?Zt(ur,yr,$t+"",ft,bt,ar):o,Fr=Pr===o;if(Fr){var Xr=Sn(yr),tn=!Xr&&Uo(yr),hn=!Xr&&!tn&&Tl(yr);Pr=yr,Xr||tn||hn?Sn(ur)?Pr=ur:Zn(ur)?Pr=Rs(ur):tn?(Fr=!1,Pr=Em(yr,!0)):hn?(Fr=!1,Pr=Tm(yr,!0)):Pr=[]:Wl(yr)||Zo(yr)?(Pr=ur,Zo(ur)?Pr=Sy(ur):(!Kn(ur)||Io(ur))&&(Pr=Um(yr))):Fr=!1}Fr&&(ar.set(yr,Pr),zt(Pr,yr,Pt,Zt,ar),ar.delete(yr)),Wu(ft,$t,Pr)}function dm(ft,bt){var $t=ft.length;if($t)return bt+=bt<0?$t:0,Ro(bt,$t)?ft[bt]:o}function pm(ft,bt,$t){bt.length?bt=Hn(bt,function(Zt){return Sn(Zt)?function(ar){return Yo(ar,Zt.length===1?Zt[0]:Zt)}:Zt}):bt=[Ms];var Pt=-1;bt=Hn(bt,Ns(un()));var zt=cm(ft,function(Zt,ar,ur){var yr=Hn(bt,function(Mr){return Mr(Zt)});return{criteria:yr,index:++Pt,value:Zt}});return By(zt,function(Zt,ar){return k0(Zt,ar,$t)})}function p0(ft,bt){return mm(ft,bt,function($t,Pt){return kp(ft,Pt)})}function mm(ft,bt,$t){for(var Pt=-1,zt=bt.length,Zt={};++Pt<zt;){var ar=bt[Pt],ur=Yo(ft,ar);$t(ur,ar)&&Vl(Zt,zo(ar,ft),ur)}return Zt}function m0(ft){return function(bt){return Yo(bt,ft)}}function Ju(ft,bt,$t,Pt){var zt=Pt?Vy:Jo,Zt=-1,ar=bt.length,ur=ft;for(ft===bt&&(bt=Rs(bt)),$t&&(ur=Hn(ft,Ns($t)));++Zt<ar;)for(var yr=0,Mr=bt[Zt],Pr=$t?$t(Mr):Mr;(yr=zt(ur,Pr,yr,Pt))>-1;)ur!==ft&&ru.call(ur,yr,1),ru.call(ft,yr,1);return ft}function gm(ft,bt){for(var $t=ft?bt.length:0,Pt=$t-1;$t--;){var zt=bt[$t];if($t==Pt||zt!==Zt){var Zt=zt;Ro(zt)?ru.call(ft,zt,1):np(ft,zt)}}return ft}function ep(ft,bt){return ft+su(qp()*(bt-ft+1))}function g0(ft,bt,$t,Pt){for(var zt=-1,Zt=ss(iu((bt-ft)/($t||1)),0),ar=kr(Zt);Zt--;)ar[Pt?Zt:++zt]=ft,ft+=$t;return ar}function tp(ft,bt){var $t="";if(!ft||bt<1||bt>Mt)return $t;do bt%2&&($t+=ft),bt=su(bt/2),bt&&(ft+=ft);while(bt);return $t}function Tn(ft,bt){return vp(Gm(ft,bt,Ms),ft+"")}function y0(ft){return Jp(Cl(ft))}function v0(ft,bt){var $t=Cl(ft);return _u($t,Xo(bt,0,$t.length))}function Vl(ft,bt,$t,Pt){if(!Kn(ft))return ft;bt=zo(bt,ft);for(var zt=-1,Zt=bt.length,ar=Zt-1,ur=ft;ur!=null&&++zt<Zt;){var yr=bo(bt[zt]),Mr=$t;if(yr==="__proto__"||yr==="constructor"||yr==="prototype")return ft;if(zt!=ar){var Pr=ur[yr];Mr=Pt?Pt(Pr,yr,ur):o,Mr===o&&(Mr=Kn(Pr)?Pr:Ro(bt[zt+1])?[]:{})}Dl(ur,yr,Mr),ur=ur[yr]}return ft}var ym=ou?function(ft,bt){return ou.set(ft,bt),ft}:Ms,x0=nu?function(ft,bt){return nu(ft,"toString",{configurable:!0,enumerable:!1,value:$p(bt),writable:!0})}:Ms;function b0(ft){return _u(Cl(ft))}function qs(ft,bt,$t){var Pt=-1,zt=ft.length;bt<0&&(bt=-bt>zt?0:zt+bt),$t=$t>zt?zt:$t,$t<0&&($t+=zt),zt=bt>$t?0:$t-bt>>>0,bt>>>=0;for(var Zt=kr(zt);++Pt<zt;)Zt[Pt]=ft[Pt+bt];return Zt}function S0(ft,bt){var $t;return Vo(ft,function(Pt,zt,Zt){return $t=bt(Pt,zt,Zt),!$t}),!!$t}function du(ft,bt,$t){var Pt=0,zt=ft==null?Pt:ft.length;if(typeof bt=="number"&&bt===bt&&zt<=Vt){for(;Pt<zt;){var Zt=Pt+zt>>>1,ar=ft[Zt];ar!==null&&!Bs(ar)&&($t?ar<=bt:ar<bt)?Pt=Zt+1:zt=Zt}return zt}return rp(ft,bt,Ms,$t)}function rp(ft,bt,$t,Pt){var zt=0,Zt=ft==null?0:ft.length;if(Zt===0)return 0;bt=$t(bt);for(var ar=bt!==bt,ur=bt===null,yr=Bs(bt),Mr=bt===o;zt<Zt;){var Pr=su((zt+Zt)/2),Fr=$t(ft[Pr]),Xr=Fr!==o,tn=Fr===null,hn=Fr===Fr,En=Bs(Fr);if(ar)var fn=Pt||hn;else Mr?fn=hn&&(Pt||Xr):ur?fn=hn&&Xr&&(Pt||!tn):yr?fn=hn&&Xr&&!tn&&(Pt||!En):tn||En?fn=!1:fn=Pt?Fr<=bt:Fr<bt;fn?zt=Pr+1:Zt=Pr}return ys(Zt,Wt)}function vm(ft,bt){for(var $t=-1,Pt=ft.length,zt=0,Zt=[];++$t<Pt;){var ar=ft[$t],ur=bt?bt(ar):ar;if(!$t||!ao(ur,yr)){var yr=ur;Zt[zt++]=ar===0?0:ar}}return Zt}function xm(ft){return typeof ft=="number"?ft:Bs(ft)?Bt:+ft}function Vs(ft){if(typeof ft=="string")return ft;if(Sn(ft))return Hn(ft,Vs)+"";if(Bs(ft))return Qp?Qp.call(ft):"";var bt=ft+"";return bt=="0"&&1/ft==-Ot?"-0":bt}function Bo(ft,bt,$t){var Pt=-1,zt=Hl,Zt=ft.length,ar=!0,ur=[],yr=ur;if($t)ar=!1,zt=Iu;else if(Zt>=nt){var Mr=bt?null:L0(ft);if(Mr)return Kl(Mr);ar=!1,zt=Al,yr=new Ko}else yr=bt?[]:ur;e:for(;++Pt<Zt;){var Pr=ft[Pt],Fr=bt?bt(Pr):Pr;if(Pr=$t||Pr!==0?Pr:0,ar&&Fr===Fr){for(var Xr=yr.length;Xr--;)if(yr[Xr]===Fr)continue e;bt&&yr.push(Fr),ur.push(Pr)}else zt(yr,Fr,$t)||(yr!==ur&&yr.push(Fr),ur.push(Pr))}return ur}function np(ft,bt){return bt=zo(bt,ft),ft=Km(ft,bt),ft==null||delete ft[bo(Qs(bt))]}function bm(ft,bt,$t,Pt){return Vl(ft,bt,$t(Yo(ft,bt)),Pt)}function pu(ft,bt,$t,Pt){for(var zt=ft.length,Zt=Pt?zt:-1;(Pt?Zt--:++Zt<zt)&&bt(ft[Zt],Zt,ft););return $t?qs(ft,Pt?0:Zt,Pt?Zt+1:zt):qs(ft,Pt?Zt+1:0,Pt?zt:Zt)}function Sm(ft,bt){var $t=ft;return $t instanceof An&&($t=$t.value()),Lu(bt,function(Pt,zt){return zt.func.apply(zt.thisArg,Oo([Pt],zt.args))},$t)}function ip(ft,bt,$t){var Pt=ft.length;if(Pt<2)return Pt?Bo(ft[0]):[];for(var zt=-1,Zt=kr(Pt);++zt<Pt;)for(var ar=ft[zt],ur=-1;++ur<Pt;)ur!=zt&&(Zt[zt]=Ol(Zt[zt]||ar,ft[ur],bt,$t));return Bo(fs(Zt,1),bt,$t)}function _m(ft,bt,$t){for(var Pt=-1,zt=ft.length,Zt=bt.length,ar={};++Pt<zt;){var ur=Pt<Zt?bt[Pt]:o;$t(ar,ft[Pt],ur)}return ar}function sp(ft){return Zn(ft)?ft:[]}function op(ft){return typeof ft=="function"?ft:Ms}function zo(ft,bt){return Sn(ft)?ft:mp(ft,bt)?[ft]:Qm(Nn(ft))}var _0=Tn;function jo(ft,bt,$t){var Pt=ft.length;return $t=$t===o?Pt:$t,!bt&&$t>=Pt?ft:qs(ft,bt,$t)}var wm=uv||function(ft){return en.clearTimeout(ft)};function Em(ft,bt){if(bt)return ft.slice();var $t=ft.length,Pt=Hp?Hp($t):new ft.constructor($t);return ft.copy(Pt),Pt}function ap(ft){var bt=new ft.constructor(ft.byteLength);return new eu(bt).set(new eu(ft)),bt}function w0(ft,bt){var $t=bt?ap(ft.buffer):ft.buffer;return new ft.constructor($t,ft.byteOffset,ft.byteLength)}function E0(ft){var bt=new ft.constructor(ft.source,Wn.exec(ft));return bt.lastIndex=ft.lastIndex,bt}function T0(ft){return Pl?Un(Pl.call(ft)):{}}function Tm(ft,bt){var $t=bt?ap(ft.buffer):ft.buffer;return new ft.constructor($t,ft.byteOffset,ft.length)}function km(ft,bt){if(ft!==bt){var $t=ft!==o,Pt=ft===null,zt=ft===ft,Zt=Bs(ft),ar=bt!==o,ur=bt===null,yr=bt===bt,Mr=Bs(bt);if(!ur&&!Mr&&!Zt&&ft>bt||Zt&&ar&&yr&&!ur&&!Mr||Pt&&ar&&yr||!$t&&yr||!zt)return 1;if(!Pt&&!Zt&&!Mr&&ft<bt||Mr&&$t&&zt&&!Pt&&!Zt||ur&&$t&&zt||!ar&&zt||!yr)return-1}return 0}function k0(ft,bt,$t){for(var Pt=-1,zt=ft.criteria,Zt=bt.criteria,ar=zt.length,ur=$t.length;++Pt<ar;){var yr=km(zt[Pt],Zt[Pt]);if(yr){if(Pt>=ur)return yr;var Mr=$t[Pt];return yr*(Mr=="desc"?-1:1)}}return ft.index-bt.index}function Cm(ft,bt,$t,Pt){for(var zt=-1,Zt=ft.length,ar=$t.length,ur=-1,yr=bt.length,Mr=ss(Zt-ar,0),Pr=kr(yr+Mr),Fr=!Pt;++ur<yr;)Pr[ur]=bt[ur];for(;++zt<ar;)(Fr||zt<Zt)&&(Pr[$t[zt]]=ft[zt]);for(;Mr--;)Pr[ur++]=ft[zt++];return Pr}function $m(ft,bt,$t,Pt){for(var zt=-1,Zt=ft.length,ar=-1,ur=$t.length,yr=-1,Mr=bt.length,Pr=ss(Zt-ur,0),Fr=kr(Pr+Mr),Xr=!Pt;++zt<Pr;)Fr[zt]=ft[zt];for(var tn=zt;++yr<Mr;)Fr[tn+yr]=bt[yr];for(;++ar<ur;)(Xr||zt<Zt)&&(Fr[tn+$t[ar]]=ft[zt++]);return Fr}function Rs(ft,bt){var $t=-1,Pt=ft.length;for(bt||(bt=kr(Pt));++$t<Pt;)bt[$t]=ft[$t];return bt}function xo(ft,bt,$t,Pt){var zt=!$t;$t||($t={});for(var Zt=-1,ar=bt.length;++Zt<ar;){var ur=bt[Zt],yr=Pt?Pt($t[ur],ft[ur],ur,$t,ft):o;yr===o&&(yr=ft[ur]),zt?Co($t,ur,yr):Dl($t,ur,yr)}return $t}function C0(ft,bt){return xo(ft,pp(ft),bt)}function $0(ft,bt){return xo(ft,zm(ft),bt)}function mu(ft,bt){return function($t,Pt){var zt=Sn($t)?My:qv,Zt=bt?bt():{};return zt($t,ft,un(Pt,2),Zt)}}function Sl(ft){return Tn(function(bt,$t){var Pt=-1,zt=$t.length,Zt=zt>1?$t[zt-1]:o,ar=zt>2?$t[2]:o;for(Zt=ft.length>3&&typeof Zt=="function"?(zt--,Zt):o,ar&&Es($t[0],$t[1],ar)&&(Zt=zt<3?o:Zt,zt=1),bt=Un(bt);++Pt<zt;){var ur=$t[Pt];ur&&ft(bt,ur,Pt,Zt)}return bt})}function Am(ft,bt){return function($t,Pt){if($t==null)return $t;if(!Is($t))return ft($t,Pt);for(var zt=$t.length,Zt=bt?zt:-1,ar=Un($t);(bt?Zt--:++Zt<zt)&&Pt(ar[Zt],Zt,ar)!==!1;);return $t}}function Rm(ft){return function(bt,$t,Pt){for(var zt=-1,Zt=Un(bt),ar=Pt(bt),ur=ar.length;ur--;){var yr=ar[ft?ur:++zt];if($t(Zt[yr],yr,Zt)===!1)break}return bt}}function A0(ft,bt,$t){var Pt=bt&ct,zt=Bl(ft);function Zt(){var ar=this&&this!==en&&this instanceof Zt?zt:ft;return ar.apply(Pt?$t:this,arguments)}return Zt}function Im(ft){return function(bt){bt=Nn(bt);var $t=na(bt)?so(bt):o,Pt=$t?$t[0]:bt.charAt(0),zt=$t?jo($t,1).join(""):bt.slice(1);return Pt[ft]()+zt}}function _l(ft){return function(bt){return Lu(Ay($y(bt).replace(zr,"")),ft,"")}}function Bl(ft){return function(){var bt=arguments;switch(bt.length){case 0:return new ft;case 1:return new ft(bt[0]);case 2:return new ft(bt[0],bt[1]);case 3:return new ft(bt[0],bt[1],bt[2]);case 4:return new ft(bt[0],bt[1],bt[2],bt[3]);case 5:return new ft(bt[0],bt[1],bt[2],bt[3],bt[4]);case 6:return new ft(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]);case 7:return new ft(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6])}var $t=xl(ft.prototype),Pt=ft.apply($t,bt);return Kn(Pt)?Pt:$t}}function R0(ft,bt,$t){var Pt=Bl(ft);function zt(){for(var Zt=arguments.length,ar=kr(Zt),ur=Zt,yr=El(zt);ur--;)ar[ur]=arguments[ur];var Mr=Zt<3&&ar[0]!==yr&&ar[Zt-1]!==yr?[]:Fo(ar,yr);if(Zt-=Mr.length,Zt<$t)return Om(ft,bt,gu,zt.placeholder,o,ar,Mr,o,o,$t-Zt);var Pr=this&&this!==en&&this instanceof zt?Pt:ft;return as(Pr,this,ar)}return zt}function Lm(ft){return function(bt,$t,Pt){var zt=Un(bt);if(!Is(bt)){var Zt=un($t,3);bt=ls(bt),$t=function(ur){return Zt(zt[ur],ur,zt)}}var ar=ft(bt,$t,Pt);return ar>-1?zt[Zt?bt[ar]:ar]:o}}function Mm(ft){return Ao(function(bt){var $t=bt.length,Pt=$t,zt=Xs.prototype.thru;for(ft&&bt.reverse();Pt--;){var Zt=bt[Pt];if(typeof Zt!="function")throw new Ks(ot);if(zt&&!ar&&bu(Zt)=="wrapper")var ar=new Xs([],!0)}for(Pt=ar?Pt:$t;++Pt<$t;){Zt=bt[Pt];var ur=bu(Zt),yr=ur=="wrapper"?fp(Zt):o;yr&&gp(yr[0])&&yr[1]==(St|mt|vt|yt)&&!yr[4].length&&yr[9]==1?ar=ar[bu(yr[0])].apply(ar,yr[3]):ar=Zt.length==1&&gp(Zt)?ar[ur]():ar.thru(Zt)}return function(){var Mr=arguments,Pr=Mr[0];if(ar&&Mr.length==1&&Sn(Pr))return ar.plant(Pr).value();for(var Fr=0,Xr=$t?bt[Fr].apply(this,Mr):Pr;++Fr<$t;)Xr=bt[Fr].call(this,Xr);return Xr}})}function gu(ft,bt,$t,Pt,zt,Zt,ar,ur,yr,Mr){var Pr=bt&St,Fr=bt&ct,Xr=bt&ht,tn=bt&(mt|gt),hn=bt&pt,En=Xr?o:Bl(ft);function fn(){for(var Cn=arguments.length,Rn=kr(Cn),zs=Cn;zs--;)Rn[zs]=arguments[zs];if(tn)var Ts=El(fn),js=jy(Rn,Ts);if(Pt&&(Rn=Cm(Rn,Pt,zt,tn)),Zt&&(Rn=$m(Rn,Zt,ar,tn)),Cn-=js,tn&&Cn<Mr){var Jn=Fo(Rn,Ts);return Om(ft,bt,gu,fn.placeholder,$t,Rn,Jn,ur,yr,Mr-Cn)}var lo=Fr?$t:this,Mo=Xr?lo[ft]:ft;return Cn=Rn.length,ur?Rn=q0(Rn,ur):hn&&Cn>1&&Rn.reverse(),Pr&&yr<Cn&&(Rn.length=yr),this&&this!==en&&this instanceof fn&&(Mo=En||Bl(Mo)),Mo.apply(lo,Rn)}return fn}function Pm(ft,bt){return function($t,Pt){return i0($t,ft,bt(Pt),{})}}function yu(ft,bt){return function($t,Pt){var zt;if($t===o&&Pt===o)return bt;if($t!==o&&(zt=$t),Pt!==o){if(zt===o)return Pt;typeof $t=="string"||typeof Pt=="string"?($t=Vs($t),Pt=Vs(Pt)):($t=xm($t),Pt=xm(Pt)),zt=ft($t,Pt)}return zt}}function lp(ft){return Ao(function(bt){return bt=Hn(bt,Ns(un())),Tn(function($t){var Pt=this;return ft(bt,function(zt){return as(zt,Pt,$t)})})})}function vu(ft,bt){bt=bt===o?" ":Vs(bt);var $t=bt.length;if($t<2)return $t?tp(bt,ft):bt;var Pt=tp(bt,iu(ft/ga(bt)));return na(bt)?jo(so(Pt),0,ft).join(""):Pt.slice(0,ft)}function I0(ft,bt,$t,Pt){var zt=bt&ct,Zt=Bl(ft);function ar(){for(var ur=-1,yr=arguments.length,Mr=-1,Pr=Pt.length,Fr=kr(Pr+yr),Xr=this&&this!==en&&this instanceof ar?Zt:ft;++Mr<Pr;)Fr[Mr]=Pt[Mr];for(;yr--;)Fr[Mr++]=arguments[++ur];return as(Xr,zt?$t:this,Fr)}return ar}function Dm(ft){return function(bt,$t,Pt){return Pt&&typeof Pt!="number"&&Es(bt,$t,Pt)&&($t=Pt=o),bt=Lo(bt),$t===o?($t=bt,bt=0):$t=Lo($t),Pt=Pt===o?bt<$t?1:-1:Lo(Pt),g0(bt,$t,Pt,ft)}}function xu(ft){return function(bt,$t){return typeof bt=="string"&&typeof $t=="string"||(bt=Zs(bt),$t=Zs($t)),ft(bt,$t)}}function Om(ft,bt,$t,Pt,zt,Zt,ar,ur,yr,Mr){var Pr=bt&mt,Fr=Pr?ar:o,Xr=Pr?o:ar,tn=Pr?Zt:o,hn=Pr?o:Zt;bt|=Pr?vt:dt,bt&=~(Pr?dt:vt),bt&ut||(bt&=~(ct|ht));var En=[ft,bt,zt,tn,Fr,hn,Xr,ur,yr,Mr],fn=$t.apply(o,En);return gp(ft)&&Xm(fn,En),fn.placeholder=Pt,Ym(fn,ft,bt)}function up(ft){var bt=is[ft];return function($t,Pt){if($t=Zs($t),Pt=Pt==null?0:ys(wn(Pt),292),Pt&&Yp($t)){var zt=(Nn($t)+"e").split("e"),Zt=bt(zt[0]+"e"+(+zt[1]+Pt));return zt=(Nn(Zt)+"e").split("e"),+(zt[0]+"e"+(+zt[1]-Pt))}return bt($t)}}var L0=$a&&1/Kl(new $a([,-0]))[1]==Ot?function(ft){return new $a(ft)}:Ip;function Fm(ft){return function(bt){var $t=vs(bt);return $t==br?Vu(bt):$t==Bn?Yy(bt):zy(bt,ft(bt))}}function $o(ft,bt,$t,Pt,zt,Zt,ar,ur){var yr=bt&ht;if(!yr&&typeof ft!="function")throw new Ks(ot);var Mr=Pt?Pt.length:0;if(Mr||(bt&=~(vt|dt),Pt=zt=o),ar=ar===o?ar:ss(wn(ar),0),ur=ur===o?ur:wn(ur),Mr-=zt?zt.length:0,bt&dt){var Pr=Pt,Fr=zt;Pt=zt=o}var Xr=yr?o:fp(ft),tn=[ft,bt,$t,Pt,zt,Pr,Fr,Zt,ar,ur];if(Xr&&K0(tn,Xr),ft=tn[0],bt=tn[1],$t=tn[2],Pt=tn[3],zt=tn[4],ur=tn[9]=tn[9]===o?yr?0:ft.length:ss(tn[9]-Mr,0),!ur&&bt&(mt|gt)&&(bt&=~(mt|gt)),!bt||bt==ct)var hn=A0(ft,bt,$t);else bt==mt||bt==gt?hn=R0(ft,bt,ur):(bt==vt||bt==(ct|vt))&&!zt.length?hn=I0(ft,bt,$t,Pt):hn=gu.apply(o,tn);var En=Xr?ym:Xm;return Ym(En(hn,tn),ft,bt)}function Nm(ft,bt,$t,Pt){return ft===o||ao(ft,ba[$t])&&!Vn.call(Pt,$t)?bt:ft}function Vm(ft,bt,$t,Pt,zt,Zt){return Kn(ft)&&Kn(bt)&&(Zt.set(bt,ft),fu(ft,bt,o,Vm,Zt),Zt.delete(bt)),ft}function M0(ft){return Wl(ft)?o:ft}function Bm(ft,bt,$t,Pt,zt,Zt){var ar=$t&st,ur=ft.length,yr=bt.length;if(ur!=yr&&!(ar&&yr>ur))return!1;var Mr=Zt.get(ft),Pr=Zt.get(bt);if(Mr&&Pr)return Mr==bt&&Pr==ft;var Fr=-1,Xr=!0,tn=$t&lt?new Ko:o;for(Zt.set(ft,bt),Zt.set(bt,ft);++Fr<ur;){var hn=ft[Fr],En=bt[Fr];if(Pt)var fn=ar?Pt(En,hn,Fr,bt,ft,Zt):Pt(hn,En,Fr,ft,bt,Zt);if(fn!==o){if(fn)continue;Xr=!1;break}if(tn){if(!Mu(bt,function(Cn,Rn){if(!Al(tn,Rn)&&(hn===Cn||zt(hn,Cn,$t,Pt,Zt)))return tn.push(Rn)})){Xr=!1;break}}else if(!(hn===En||zt(hn,En,$t,Pt,Zt))){Xr=!1;break}}return Zt.delete(ft),Zt.delete(bt),Xr}function P0(ft,bt,$t,Pt,zt,Zt,ar){switch($t){case $r:if(ft.byteLength!=bt.byteLength||ft.byteOffset!=bt.byteOffset)return!1;ft=ft.buffer,bt=bt.buffer;case Br:return!(ft.byteLength!=bt.byteLength||!Zt(new eu(ft),new eu(bt)));case hr:case dr:case _r:return ao(+ft,+bt);case tr:return ft.name==bt.name&&ft.message==bt.message;case In:case Pn:return ft==bt+"";case br:var ur=Vu;case Bn:var yr=Pt&st;if(ur||(ur=Kl),ft.size!=bt.size&&!yr)return!1;var Mr=ar.get(ft);if(Mr)return Mr==bt;Pt|=lt,ar.set(ft,bt);var Pr=Bm(ur(ft),ur(bt),Pt,zt,Zt,ar);return ar.delete(ft),Pr;case cn:if(Pl)return Pl.call(ft)==Pl.call(bt)}return!1}function D0(ft,bt,$t,Pt,zt,Zt){var ar=$t&st,ur=cp(ft),yr=ur.length,Mr=cp(bt),Pr=Mr.length;if(yr!=Pr&&!ar)return!1;for(var Fr=yr;Fr--;){var Xr=ur[Fr];if(!(ar?Xr in bt:Vn.call(bt,Xr)))return!1}var tn=Zt.get(ft),hn=Zt.get(bt);if(tn&&hn)return tn==bt&&hn==ft;var En=!0;Zt.set(ft,bt),Zt.set(bt,ft);for(var fn=ar;++Fr<yr;){Xr=ur[Fr];var Cn=ft[Xr],Rn=bt[Xr];if(Pt)var zs=ar?Pt(Rn,Cn,Xr,bt,ft,Zt):Pt(Cn,Rn,Xr,ft,bt,Zt);if(!(zs===o?Cn===Rn||zt(Cn,Rn,$t,Pt,Zt):zs)){En=!1;break}fn||(fn=Xr=="constructor")}if(En&&!fn){var Ts=ft.constructor,js=bt.constructor;Ts!=js&&"constructor"in ft&&"constructor"in bt&&!(typeof Ts=="function"&&Ts instanceof Ts&&typeof js=="function"&&js instanceof js)&&(En=!1)}return Zt.delete(ft),Zt.delete(bt),En}function Ao(ft){return vp(Gm(ft,o,ty),ft+"")}function cp(ft){return om(ft,ls,pp)}function hp(ft){return om(ft,Ls,zm)}var fp=ou?function(ft){return ou.get(ft)}:Ip;function bu(ft){for(var bt=ft.name+"",$t=yl[bt],Pt=Vn.call(yl,bt)?$t.length:0;Pt--;){var zt=$t[Pt],Zt=zt.func;if(Zt==null||Zt==ft)return zt.name}return bt}function El(ft){var bt=Vn.call(Gt,"placeholder")?Gt:ft;return bt.placeholder}function un(){var ft=Gt.iteratee||Ap;return ft=ft===Ap?um:ft,arguments.length?ft(arguments[0],arguments[1]):ft}function Su(ft,bt){var $t=ft.__data__;return U0(bt)?$t[typeof bt=="string"?"string":"hash"]:$t.map}function dp(ft){for(var bt=ls(ft),$t=bt.length;$t--;){var Pt=bt[$t],zt=ft[Pt];bt[$t]=[Pt,zt,Wm(zt)]}return bt}function qo(ft,bt){var $t=Gy(ft,bt);return lm($t)?$t:o}function O0(ft){var bt=Vn.call(ft,Ho),$t=ft[Ho];try{ft[Ho]=o;var Pt=!0}catch{}var zt=Zl.call(ft);return Pt&&(bt?ft[Ho]=$t:delete ft[Ho]),zt}var pp=zu?function(ft){return ft==null?[]:(ft=Un(ft),Do(zu(ft),function(bt){return Kp.call(ft,bt)}))}:Lp,zm=zu?function(ft){for(var bt=[];ft;)Oo(bt,pp(ft)),ft=tu(ft);return bt}:Lp,vs=ws;(ju&&vs(new ju(new ArrayBuffer(1)))!=$r||Il&&vs(new Il)!=br||Uu&&vs(Uu.resolve())!=nn||$a&&vs(new $a)!=Bn||Ll&&vs(new Ll)!=Mn)&&(vs=function(ft){var bt=ws(ft),$t=bt==Wr?ft.constructor:o,Pt=$t?Qo($t):"";if(Pt)switch(Pt){case vv:return $r;case xv:return br;case bv:return nn;case Sv:return Bn;case _v:return Mn}return bt});function F0(ft,bt,$t){for(var Pt=-1,zt=$t.length;++Pt<zt;){var Zt=$t[Pt],ar=Zt.size;switch(Zt.type){case"drop":ft+=ar;break;case"dropRight":bt-=ar;break;case"take":bt=ys(bt,ft+ar);break;case"takeRight":ft=ss(ft,bt-ar);break}}return{start:ft,end:bt}}function N0(ft){var bt=ft.match(Xn);return bt?bt[1].split(Ws):[]}function jm(ft,bt,$t){bt=zo(bt,ft);for(var Pt=-1,zt=bt.length,Zt=!1;++Pt<zt;){var ar=bo(bt[Pt]);if(!(Zt=ft!=null&&$t(ft,ar)))break;ft=ft[ar]}return Zt||++Pt!=zt?Zt:(zt=ft==null?0:ft.length,!!zt&&$u(zt)&&Ro(ar,zt)&&(Sn(ft)||Zo(ft)))}function V0(ft){var bt=ft.length,$t=new ft.constructor(bt);return bt&&typeof ft[0]=="string"&&Vn.call(ft,"index")&&($t.index=ft.index,$t.input=ft.input),$t}function Um(ft){return typeof ft.constructor=="function"&&!zl(ft)?xl(tu(ft)):{}}function B0(ft,bt,$t){var Pt=ft.constructor;switch(bt){case Br:return ap(ft);case hr:case dr:return new Pt(+ft);case $r:return w0(ft,$t);case on:case Xt:case er:case lr:case Lr:case Nr:case Cr:case Tr:case Hr:return Tm(ft,$t);case br:return new Pt;case _r:case Pn:return new Pt(ft);case In:return E0(ft);case Bn:return new Pt;case cn:return T0(ft)}}function z0(ft,bt){var $t=bt.length;if(!$t)return ft;var Pt=$t-1;return bt[Pt]=($t>1?"& ":"")+bt[Pt],bt=bt.join($t>2?", ":" "),ft.replace(Us,`{
/* [wrapped with `+bt+`] */
`)}function j0(ft){return Sn(ft)||Zo(ft)||!!(Xp&&ft&&ft[Xp])}function Ro(ft,bt){var $t=typeof ft;return bt=bt??Mt,!!bt&&($t=="number"||$t!="symbol"&&ro.test(ft))&&ft>-1&&ft%1==0&&ft<bt}function Es(ft,bt,$t){if(!Kn($t))return!1;var Pt=typeof bt;return(Pt=="number"?Is($t)&&Ro(bt,$t.length):Pt=="string"&&bt in $t)?ao($t[bt],ft):!1}function mp(ft,bt){if(Sn(ft))return!1;var $t=typeof ft;return $t=="number"||$t=="symbol"||$t=="boolean"||ft==null||Bs(ft)?!0:So.test(ft)||!qn.test(ft)||bt!=null&&ft in Un(bt)}function U0(ft){var bt=typeof ft;return bt=="string"||bt=="number"||bt=="symbol"||bt=="boolean"?ft!=="__proto__":ft===null}function gp(ft){var bt=bu(ft),$t=Gt[bt];if(typeof $t!="function"||!(bt in An.prototype))return!1;if(ft===$t)return!0;var Pt=fp($t);return!!Pt&&ft===Pt[0]}function W0(ft){return!!Wp&&Wp in ft}var H0=Yl?Io:Mp;function zl(ft){var bt=ft&&ft.constructor,$t=typeof bt=="function"&&bt.prototype||ba;return ft===$t}function Wm(ft){return ft===ft&&!Kn(ft)}function Hm(ft,bt){return function($t){return $t==null?!1:$t[ft]===bt&&(bt!==o||ft in Un($t))}}function G0(ft){var bt=ku(ft,function(Pt){return $t.size===it&&$t.clear(),Pt}),$t=bt.cache;return bt}function K0(ft,bt){var $t=ft[1],Pt=bt[1],zt=$t|Pt,Zt=zt<(ct|ht|St),ar=Pt==St&&$t==mt||Pt==St&&$t==yt&&ft[7].length<=bt[8]||Pt==(St|yt)&&bt[7].length<=bt[8]&&$t==mt;if(!(Zt||ar))return ft;Pt&ct&&(ft[2]=bt[2],zt|=$t&ct?0:ut);var ur=bt[3];if(ur){var yr=ft[3];ft[3]=yr?Cm(yr,ur,bt[4]):ur,ft[4]=yr?Fo(ft[3],j):bt[4]}return ur=bt[5],ur&&(yr=ft[5],ft[5]=yr?$m(yr,ur,bt[6]):ur,ft[6]=yr?Fo(ft[5],j):bt[6]),ur=bt[7],ur&&(ft[7]=ur),Pt&St&&(ft[8]=ft[8]==null?bt[8]:ys(ft[8],bt[8])),ft[9]==null&&(ft[9]=bt[9]),ft[0]=bt[0],ft[1]=zt,ft}function X0(ft){var bt=[];if(ft!=null)for(var $t in Un(ft))bt.push($t);return bt}function Y0(ft){return Zl.call(ft)}function Gm(ft,bt,$t){return bt=ss(bt===o?ft.length-1:bt,0),function(){for(var Pt=arguments,zt=-1,Zt=ss(Pt.length-bt,0),ar=kr(Zt);++zt<Zt;)ar[zt]=Pt[bt+zt];zt=-1;for(var ur=kr(bt+1);++zt<bt;)ur[zt]=Pt[zt];return ur[bt]=$t(ar),as(ft,this,ur)}}function Km(ft,bt){return bt.length<2?ft:Yo(ft,qs(bt,0,-1))}function q0(ft,bt){for(var $t=ft.length,Pt=ys(bt.length,$t),zt=Rs(ft);Pt--;){var Zt=bt[Pt];ft[Pt]=Ro(Zt,$t)?zt[Zt]:o}return ft}function yp(ft,bt){if(!(bt==="constructor"&&typeof ft[bt]=="function")&&bt!="__proto__")return ft[bt]}var Xm=qm(ym),Ul=hv||function(ft,bt){return en.setTimeout(ft,bt)},vp=qm(x0);function Ym(ft,bt,$t){var Pt=bt+"";return vp(ft,z0(Pt,Q0(N0(Pt),$t)))}function qm(ft){var bt=0,$t=0;return function(){var Pt=mv(),zt=kt-(Pt-$t);if($t=Pt,zt>0){if(++bt>=Ct)return arguments[0]}else bt=0;return ft.apply(o,arguments)}}function _u(ft,bt){var $t=-1,Pt=ft.length,zt=Pt-1;for(bt=bt===o?Pt:bt;++$t<bt;){var Zt=ep($t,zt),ar=ft[Zt];ft[Zt]=ft[$t],ft[$t]=ar}return ft.length=bt,ft}var Qm=G0(function(ft){var bt=[];return ft.charCodeAt(0)===46&&bt.push(""),ft.replace(Qn,function($t,Pt,zt,Zt){bt.push(zt?Zt.replace(Hs,"$1"):Pt||$t)}),bt});function bo(ft){if(typeof ft=="string"||Bs(ft))return ft;var bt=ft+"";return bt=="0"&&1/ft==-Ot?"-0":bt}function Qo(ft){if(ft!=null){try{return Ql.call(ft)}catch{}try{return ft+""}catch{}}return""}function Q0(ft,bt){return Gs(Ht,function($t){var Pt="_."+$t[0];bt&$t[1]&&!Hl(ft,Pt)&&ft.push(Pt)}),ft.sort()}function Zm(ft){if(ft instanceof An)return ft.clone();var bt=new Xs(ft.__wrapped__,ft.__chain__);return bt.__actions__=Rs(ft.__actions__),bt.__index__=ft.__index__,bt.__values__=ft.__values__,bt}function Z0(ft,bt,$t){($t?Es(ft,bt,$t):bt===o)?bt=1:bt=ss(wn(bt),0);var Pt=ft==null?0:ft.length;if(!Pt||bt<1)return[];for(var zt=0,Zt=0,ar=kr(iu(Pt/bt));zt<Pt;)ar[Zt++]=qs(ft,zt,zt+=bt);return ar}function J0(ft){for(var bt=-1,$t=ft==null?0:ft.length,Pt=0,zt=[];++bt<$t;){var Zt=ft[bt];Zt&&(zt[Pt++]=Zt)}return zt}function ex(){var ft=arguments.length;if(!ft)return[];for(var bt=kr(ft-1),$t=arguments[0],Pt=ft;Pt--;)bt[Pt-1]=arguments[Pt];return Oo(Sn($t)?Rs($t):[$t],fs(bt,1))}var tx=Tn(function(ft,bt){return Zn(ft)?Ol(ft,fs(bt,1,Zn,!0)):[]}),rx=Tn(function(ft,bt){var $t=Qs(bt);return Zn($t)&&($t=o),Zn(ft)?Ol(ft,fs(bt,1,Zn,!0),un($t,2)):[]}),nx=Tn(function(ft,bt){var $t=Qs(bt);return Zn($t)&&($t=o),Zn(ft)?Ol(ft,fs(bt,1,Zn,!0),o,$t):[]});function ix(ft,bt,$t){var Pt=ft==null?0:ft.length;return Pt?(bt=$t||bt===o?1:wn(bt),qs(ft,bt<0?0:bt,Pt)):[]}function sx(ft,bt,$t){var Pt=ft==null?0:ft.length;return Pt?(bt=$t||bt===o?1:wn(bt),bt=Pt-bt,qs(ft,0,bt<0?0:bt)):[]}function ox(ft,bt){return ft&&ft.length?pu(ft,un(bt,3),!0,!0):[]}function ax(ft,bt){return ft&&ft.length?pu(ft,un(bt,3),!0):[]}function lx(ft,bt,$t,Pt){var zt=ft==null?0:ft.length;return zt?($t&&typeof $t!="number"&&Es(ft,bt,$t)&&($t=0,Pt=zt),e0(ft,bt,$t,Pt)):[]}function Jm(ft,bt,$t){var Pt=ft==null?0:ft.length;if(!Pt)return-1;var zt=$t==null?0:wn($t);return zt<0&&(zt=ss(Pt+zt,0)),Gl(ft,un(bt,3),zt)}function ey(ft,bt,$t){var Pt=ft==null?0:ft.length;if(!Pt)return-1;var zt=Pt-1;return $t!==o&&(zt=wn($t),zt=$t<0?ss(Pt+zt,0):ys(zt,Pt-1)),Gl(ft,un(bt,3),zt,!0)}function ty(ft){var bt=ft==null?0:ft.length;return bt?fs(ft,1):[]}function ux(ft){var bt=ft==null?0:ft.length;return bt?fs(ft,Ot):[]}function hx(ft,bt){var $t=ft==null?0:ft.length;return $t?(bt=bt===o?1:wn(bt),fs(ft,bt)):[]}function fx(ft){for(var bt=-1,$t=ft==null?0:ft.length,Pt={};++bt<$t;){var zt=ft[bt];Pt[zt[0]]=zt[1]}return Pt}function ry(ft){return ft&&ft.length?ft[0]:o}function dx(ft,bt,$t){var Pt=ft==null?0:ft.length;if(!Pt)return-1;var zt=$t==null?0:wn($t);return zt<0&&(zt=ss(Pt+zt,0)),Jo(ft,bt,zt)}function mx(ft){var bt=ft==null?0:ft.length;return bt?qs(ft,0,-1):[]}var gx=Tn(function(ft){var bt=Hn(ft,sp);return bt.length&&bt[0]===ft[0]?Yu(bt):[]}),yx=Tn(function(ft){var bt=Qs(ft),$t=Hn(ft,sp);return bt===Qs($t)?bt=o:$t.pop(),$t.length&&$t[0]===ft[0]?Yu($t,un(bt,2)):[]}),vx=Tn(function(ft){var bt=Qs(ft),$t=Hn(ft,sp);return bt=typeof bt=="function"?bt:o,bt&&$t.pop(),$t.length&&$t[0]===ft[0]?Yu($t,o,bt):[]});function xx(ft,bt){return ft==null?"":dv.call(ft,bt)}function Qs(ft){var bt=ft==null?0:ft.length;return bt?ft[bt-1]:o}function bx(ft,bt,$t){var Pt=ft==null?0:ft.length;if(!Pt)return-1;var zt=Pt;return $t!==o&&(zt=wn($t),zt=zt<0?ss(Pt+zt,0):ys(zt,Pt-1)),bt===bt?Qy(ft,bt,zt):Gl(ft,Op,zt,!0)}function Sx(ft,bt){return ft&&ft.length?dm(ft,wn(bt)):o}var _x=Tn(ny);function ny(ft,bt){return ft&&ft.length&&bt&&bt.length?Ju(ft,bt):ft}function wx(ft,bt,$t){return ft&&ft.length&&bt&&bt.length?Ju(ft,bt,un($t,2)):ft}function Ex(ft,bt,$t){return ft&&ft.length&&bt&&bt.length?Ju(ft,bt,o,$t):ft}var Tx=Ao(function(ft,bt){var $t=ft==null?0:ft.length,Pt=Hu(ft,bt);return gm(ft,Hn(bt,function(zt){return Ro(zt,$t)?+zt:zt}).sort(km)),Pt});function kx(ft,bt){var $t=[];if(!(ft&&ft.length))return $t;var Pt=-1,zt=[],Zt=ft.length;for(bt=un(bt,3);++Pt<Zt;){var ar=ft[Pt];bt(ar,Pt,ft)&&($t.push(ar),zt.push(Pt))}return gm(ft,zt),$t}function xp(ft){return ft==null?ft:yv.call(ft)}function Cx(ft,bt,$t){var Pt=ft==null?0:ft.length;return Pt?($t&&typeof $t!="number"&&Es(ft,bt,$t)?(bt=0,$t=Pt):(bt=bt==null?0:wn(bt),$t=$t===o?Pt:wn($t)),qs(ft,bt,$t)):[]}function $x(ft,bt){return du(ft,bt)}function Ax(ft,bt,$t){return rp(ft,bt,un($t,2))}function Rx(ft,bt){var $t=ft==null?0:ft.length;if($t){var Pt=du(ft,bt);if(Pt<$t&&ao(ft[Pt],bt))return Pt}return-1}function Ix(ft,bt){return du(ft,bt,!0)}function Lx(ft,bt,$t){return rp(ft,bt,un($t,2),!0)}function Mx(ft,bt){var $t=ft==null?0:ft.length;if($t){var Pt=du(ft,bt,!0)-1;if(ao(ft[Pt],bt))return Pt}return-1}function Px(ft){return ft&&ft.length?vm(ft):[]}function Dx(ft,bt){return ft&&ft.length?vm(ft,un(bt,2)):[]}function Ox(ft){var bt=ft==null?0:ft.length;return bt?qs(ft,1,bt):[]}function Fx(ft,bt,$t){return ft&&ft.length?(bt=$t||bt===o?1:wn(bt),qs(ft,0,bt<0?0:bt)):[]}function Nx(ft,bt,$t){var Pt=ft==null?0:ft.length;return Pt?(bt=$t||bt===o?1:wn(bt),bt=Pt-bt,qs(ft,bt<0?0:bt,Pt)):[]}function Vx(ft,bt){return ft&&ft.length?pu(ft,un(bt,3),!1,!0):[]}function Bx(ft,bt){return ft&&ft.length?pu(ft,un(bt,3)):[]}var zx=Tn(function(ft){return Bo(fs(ft,1,Zn,!0))}),jx=Tn(function(ft){var bt=Qs(ft);return Zn(bt)&&(bt=o),Bo(fs(ft,1,Zn,!0),un(bt,2))}),Ux=Tn(function(ft){var bt=Qs(ft);return bt=typeof bt=="function"?bt:o,Bo(fs(ft,1,Zn,!0),o,bt)});function Wx(ft){return ft&&ft.length?Bo(ft):[]}function Hx(ft,bt){return ft&&ft.length?Bo(ft,un(bt,2)):[]}function Gx(ft,bt){return bt=typeof bt=="function"?bt:o,ft&&ft.length?Bo(ft,o,bt):[]}function bp(ft){if(!(ft&&ft.length))return[];var bt=0;return ft=Do(ft,function($t){if(Zn($t))return bt=ss($t.length,bt),!0}),Fu(bt,function($t){return Hn(ft,Pu($t))})}function iy(ft,bt){if(!(ft&&ft.length))return[];var $t=bp(ft);return bt==null?$t:Hn($t,function(Pt){return as(bt,o,Pt)})}var Kx=Tn(function(ft,bt){return Zn(ft)?Ol(ft,bt):[]}),Xx=Tn(function(ft){return ip(Do(ft,Zn))}),Yx=Tn(function(ft){var bt=Qs(ft);return Zn(bt)&&(bt=o),ip(Do(ft,Zn),un(bt,2))}),qx=Tn(function(ft){var bt=Qs(ft);return bt=typeof bt=="function"?bt:o,ip(Do(ft,Zn),o,bt)}),Qx=Tn(bp);function Zx(ft,bt){return _m(ft||[],bt||[],Dl)}function Jx(ft,bt){return _m(ft||[],bt||[],Vl)}var e1=Tn(function(ft){var bt=ft.length,$t=bt>1?ft[bt-1]:o;return $t=typeof $t=="function"?(ft.pop(),$t):o,iy(ft,$t)});function sy(ft){var bt=Gt(ft);return bt.__chain__=!0,bt}function t1(ft,bt){return bt(ft),ft}function wu(ft,bt){return bt(ft)}var r1=Ao(function(ft){var bt=ft.length,$t=bt?ft[0]:0,Pt=this.__wrapped__,zt=function(Zt){return Hu(Zt,ft)};return bt>1||this.__actions__.length||!(Pt instanceof An)||!Ro($t)?this.thru(zt):(Pt=Pt.slice($t,+$t+(bt?1:0)),Pt.__actions__.push({func:wu,args:[zt],thisArg:o}),new Xs(Pt,this.__chain__).thru(function(Zt){return bt&&!Zt.length&&Zt.push(o),Zt}))});function n1(){return sy(this)}function i1(){return new Xs(this.value(),this.__chain__)}function s1(){this.__values__===o&&(this.__values__=xy(this.value()));var ft=this.__index__>=this.__values__.length,bt=ft?o:this.__values__[this.__index__++];return{done:ft,value:bt}}function o1(){return this}function a1(ft){for(var bt,$t=this;$t instanceof lu;){var Pt=Zm($t);Pt.__index__=0,Pt.__values__=o,bt?zt.__wrapped__=Pt:bt=Pt;var zt=Pt;$t=$t.__wrapped__}return zt.__wrapped__=ft,bt}function l1(){var ft=this.__wrapped__;if(ft instanceof An){var bt=ft;return this.__actions__.length&&(bt=new An(this)),bt=bt.reverse(),bt.__actions__.push({func:wu,args:[xp],thisArg:o}),new Xs(bt,this.__chain__)}return this.thru(xp)}function u1(){return Sm(this.__wrapped__,this.__actions__)}var c1=mu(function(ft,bt,$t){Vn.call(ft,$t)?++ft[$t]:Co(ft,$t,1)});function h1(ft,bt,$t){var Pt=Sn(ft)?Pp:Jv;return $t&&Es(ft,bt,$t)&&(bt=o),Pt(ft,un(bt,3))}function f1(ft,bt){var $t=Sn(ft)?Do:im;return $t(ft,un(bt,3))}var d1=Lm(Jm),p1=Lm(ey);function m1(ft,bt){return fs(Eu(ft,bt),1)}function g1(ft,bt){return fs(Eu(ft,bt),Ot)}function y1(ft,bt,$t){return $t=$t===o?1:wn($t),fs(Eu(ft,bt),$t)}function oy(ft,bt){var $t=Sn(ft)?Gs:Vo;return $t(ft,un(bt,3))}function ay(ft,bt){var $t=Sn(ft)?Py:nm;return $t(ft,un(bt,3))}var v1=mu(function(ft,bt,$t){Vn.call(ft,$t)?ft[$t].push(bt):Co(ft,$t,[bt])});function x1(ft,bt,$t,Pt){ft=Is(ft)?ft:Cl(ft),$t=$t&&!Pt?wn($t):0;var zt=ft.length;return $t<0&&($t=ss(zt+$t,0)),Au(ft)?$t<=zt&&ft.indexOf(bt,$t)>-1:!!zt&&Jo(ft,bt,$t)>-1}var b1=Tn(function(ft,bt,$t){var Pt=-1,zt=typeof bt=="function",Zt=Is(ft)?kr(ft.length):[];return Vo(ft,function(ar){Zt[++Pt]=zt?as(bt,ar,$t):Fl(ar,bt,$t)}),Zt}),S1=mu(function(ft,bt,$t){Co(ft,$t,bt)});function Eu(ft,bt){var $t=Sn(ft)?Hn:cm;return $t(ft,un(bt,3))}function _1(ft,bt,$t,Pt){return ft==null?[]:(Sn(bt)||(bt=bt==null?[]:[bt]),$t=Pt?o:$t,Sn($t)||($t=$t==null?[]:[$t]),pm(ft,bt,$t))}var w1=mu(function(ft,bt,$t){ft[$t?0:1].push(bt)},function(){return[[],[]]});function E1(ft,bt,$t){var Pt=Sn(ft)?Lu:Np,zt=arguments.length<3;return Pt(ft,un(bt,4),$t,zt,Vo)}function T1(ft,bt,$t){var Pt=Sn(ft)?Dy:Np,zt=arguments.length<3;return Pt(ft,un(bt,4),$t,zt,nm)}function k1(ft,bt){var $t=Sn(ft)?Do:im;return $t(ft,Cu(un(bt,3)))}function C1(ft){var bt=Sn(ft)?Jp:y0;return bt(ft)}function $1(ft,bt,$t){($t?Es(ft,bt,$t):bt===o)?bt=1:bt=wn(bt);var Pt=Sn(ft)?Xv:v0;return Pt(ft,bt)}function A1(ft){var bt=Sn(ft)?Yv:b0;return bt(ft)}function R1(ft){if(ft==null)return 0;if(Is(ft))return Au(ft)?ga(ft):ft.length;var bt=vs(ft);return bt==br||bt==Bn?ft.size:Qu(ft).length}function I1(ft,bt,$t){var Pt=Sn(ft)?Mu:S0;return $t&&Es(ft,bt,$t)&&(bt=o),Pt(ft,un(bt,3))}var L1=Tn(function(ft,bt){if(ft==null)return[];var $t=bt.length;return $t>1&&Es(ft,bt[0],bt[1])?bt=[]:$t>2&&Es(bt[0],bt[1],bt[2])&&(bt=[bt[0]]),pm(ft,fs(bt,1),[])}),Tu=cv||function(){return en.Date.now()};function M1(ft,bt){if(typeof bt!="function")throw new Ks(ot);return ft=wn(ft),function(){if(--ft<1)return bt.apply(this,arguments)}}function ly(ft,bt,$t){return bt=$t?o:bt,bt=ft&&bt==null?ft.length:bt,$o(ft,St,o,o,o,o,bt)}function uy(ft,bt){var $t;if(typeof bt!="function")throw new Ks(ot);return ft=wn(ft),function(){return--ft>0&&($t=bt.apply(this,arguments)),ft<=1&&(bt=o),$t}}var Sp=Tn(function(ft,bt,$t){var Pt=ct;if($t.length){var zt=Fo($t,El(Sp));Pt|=vt}return $o(ft,Pt,bt,$t,zt)}),cy=Tn(function(ft,bt,$t){var Pt=ct|ht;if($t.length){var zt=Fo($t,El(cy));Pt|=vt}return $o(bt,Pt,ft,$t,zt)});function hy(ft,bt,$t){bt=$t?o:bt;var Pt=$o(ft,mt,o,o,o,o,o,bt);return Pt.placeholder=hy.placeholder,Pt}function fy(ft,bt,$t){bt=$t?o:bt;var Pt=$o(ft,gt,o,o,o,o,o,bt);return Pt.placeholder=fy.placeholder,Pt}function dy(ft,bt,$t){var Pt,zt,Zt,ar,ur,yr,Mr=0,Pr=!1,Fr=!1,Xr=!0;if(typeof ft!="function")throw new Ks(ot);bt=Zs(bt)||0,Kn($t)&&(Pr=!!$t.leading,Fr="maxWait"in $t,Zt=Fr?ss(Zs($t.maxWait)||0,bt):Zt,Xr="trailing"in $t?!!$t.trailing:Xr);function tn(Jn){var lo=Pt,Mo=zt;return Pt=zt=o,Mr=Jn,ar=ft.apply(Mo,lo),ar}function hn(Jn){return Mr=Jn,ur=Ul(Cn,bt),Pr?tn(Jn):ar}function En(Jn){var lo=Jn-yr,Mo=Jn-Mr,Ly=bt-lo;return Fr?ys(Ly,Zt-Mo):Ly}function fn(Jn){var lo=Jn-yr,Mo=Jn-Mr;return yr===o||lo>=bt||lo<0||Fr&&Mo>=Zt}function Cn(){var Jn=Tu();if(fn(Jn))return Rn(Jn);ur=Ul(Cn,En(Jn))}function Rn(Jn){return ur=o,Xr&&Pt?tn(Jn):(Pt=zt=o,ar)}function zs(){ur!==o&&wm(ur),Mr=0,Pt=yr=zt=ur=o}function Ts(){return ur===o?ar:Rn(Tu())}function js(){var Jn=Tu(),lo=fn(Jn);if(Pt=arguments,zt=this,yr=Jn,lo){if(ur===o)return hn(yr);if(Fr)return wm(ur),ur=Ul(Cn,bt),tn(yr)}return ur===o&&(ur=Ul(Cn,bt)),ar}return js.cancel=zs,js.flush=Ts,js}var P1=Tn(function(ft,bt){return rm(ft,1,bt)}),D1=Tn(function(ft,bt,$t){return rm(ft,Zs(bt)||0,$t)});function O1(ft){return $o(ft,pt)}function ku(ft,bt){if(typeof ft!="function"||bt!=null&&typeof bt!="function")throw new Ks(ot);var $t=function(){var Pt=arguments,zt=bt?bt.apply(this,Pt):Pt[0],Zt=$t.cache;if(Zt.has(zt))return Zt.get(zt);var ar=ft.apply(this,Pt);return $t.cache=Zt.set(zt,ar)||Zt,ar};return $t.cache=new(ku.Cache||ko),$t}ku.Cache=ko;function Cu(ft){if(typeof ft!="function")throw new Ks(ot);return function(){var bt=arguments;switch(bt.length){case 0:return!ft.call(this);case 1:return!ft.call(this,bt[0]);case 2:return!ft.call(this,bt[0],bt[1]);case 3:return!ft.call(this,bt[0],bt[1],bt[2])}return!ft.apply(this,bt)}}function F1(ft){return uy(2,ft)}var N1=_0(function(ft,bt){bt=bt.length==1&&Sn(bt[0])?Hn(bt[0],Ns(un())):Hn(fs(bt,1),Ns(un()));var $t=bt.length;return Tn(function(Pt){for(var zt=-1,Zt=ys(Pt.length,$t);++zt<Zt;)Pt[zt]=bt[zt].call(this,Pt[zt]);return as(ft,this,Pt)})}),_p=Tn(function(ft,bt){var $t=Fo(bt,El(_p));return $o(ft,vt,o,bt,$t)}),py=Tn(function(ft,bt){var $t=Fo(bt,El(py));return $o(ft,dt,o,bt,$t)}),V1=Ao(function(ft,bt){return $o(ft,yt,o,o,o,bt)});function B1(ft,bt){if(typeof ft!="function")throw new Ks(ot);return bt=bt===o?bt:wn(bt),Tn(ft,bt)}function z1(ft,bt){if(typeof ft!="function")throw new Ks(ot);return bt=bt==null?0:ss(wn(bt),0),Tn(function($t){var Pt=$t[bt],zt=jo($t,0,bt);return Pt&&Oo(zt,Pt),as(ft,this,zt)})}function j1(ft,bt,$t){var Pt=!0,zt=!0;if(typeof ft!="function")throw new Ks(ot);return Kn($t)&&(Pt="leading"in $t?!!$t.leading:Pt,zt="trailing"in $t?!!$t.trailing:zt),dy(ft,bt,{leading:Pt,maxWait:bt,trailing:zt})}function U1(ft){return ly(ft,1)}function W1(ft,bt){return _p(op(bt),ft)}function H1(){if(!arguments.length)return[];var ft=arguments[0];return Sn(ft)?ft:[ft]}function G1(ft){return Ys(ft,et)}function K1(ft,bt){return bt=typeof bt=="function"?bt:o,Ys(ft,et,bt)}function X1(ft){return Ys(ft,_|et)}function Y1(ft,bt){return bt=typeof bt=="function"?bt:o,Ys(ft,_|et,bt)}function q1(ft,bt){return bt==null||tm(ft,bt,ls(bt))}function ao(ft,bt){return ft===bt||ft!==ft&&bt!==bt}var Q1=xu(Xu),Z1=xu(function(ft,bt){return ft>=bt}),Zo=am(function(){return arguments}())?am:function(ft){return Yn(ft)&&Vn.call(ft,"callee")&&!Kp.call(ft,"callee")},Sn=kr.isArray,J1=ns?Ns(ns):s0;function Is(ft){return ft!=null&&$u(ft.length)&&!Io(ft)}function Zn(ft){return Yn(ft)&&Is(ft)}function eS(ft){return ft===!0||ft===!1||Yn(ft)&&ws(ft)==hr}var Uo=fv||Mp,tS=Ss?Ns(Ss):o0;function rS(ft){return Yn(ft)&&ft.nodeType===1&&!Wl(ft)}function nS(ft){if(ft==null)return!0;if(Is(ft)&&(Sn(ft)||typeof ft=="string"||typeof ft.splice=="function"||Uo(ft)||Tl(ft)||Zo(ft)))return!ft.length;var bt=vs(ft);if(bt==br||bt==Bn)return!ft.size;if(zl(ft))return!Qu(ft).length;for(var $t in ft)if(Vn.call(ft,$t))return!1;return!0}function iS(ft,bt){return Nl(ft,bt)}function sS(ft,bt,$t){$t=typeof $t=="function"?$t:o;var Pt=$t?$t(ft,bt):o;return Pt===o?Nl(ft,bt,o,$t):!!Pt}function wp(ft){if(!Yn(ft))return!1;var bt=ws(ft);return bt==tr||bt==gr||typeof ft.message=="string"&&typeof ft.name=="string"&&!Wl(ft)}function oS(ft){return typeof ft=="number"&&Yp(ft)}function Io(ft){if(!Kn(ft))return!1;var bt=ws(ft);return bt==rr||bt==Yt||bt==cr||bt==an}function my(ft){return typeof ft=="number"&&ft==wn(ft)}function $u(ft){return typeof ft=="number"&&ft>-1&&ft%1==0&&ft<=Mt}function Kn(ft){var bt=typeof ft;return ft!=null&&(bt=="object"||bt=="function")}function Yn(ft){return ft!=null&&typeof ft=="object"}var gy=_s?Ns(_s):l0;function aS(ft,bt){return ft===bt||qu(ft,bt,dp(bt))}function lS(ft,bt,$t){return $t=typeof $t=="function"?$t:o,qu(ft,bt,dp(bt),$t)}function uS(ft){return yy(ft)&&ft!=+ft}function cS(ft){if(H0(ft))throw new bn(tt);return lm(ft)}function hS(ft){return ft===null}function fS(ft){return ft==null}function yy(ft){return typeof ft=="number"||Yn(ft)&&ws(ft)==_r}function Wl(ft){if(!Yn(ft)||ws(ft)!=Wr)return!1;var bt=tu(ft);if(bt===null)return!0;var $t=Vn.call(bt,"constructor")&&bt.constructor;return typeof $t=="function"&&$t instanceof $t&&Ql.call($t)==ov}var Ep=yo?Ns(yo):u0;function dS(ft){return my(ft)&&ft>=-Mt&&ft<=Mt}var vy=$l?Ns($l):c0;function Au(ft){return typeof ft=="string"||!Sn(ft)&&Yn(ft)&&ws(ft)==Pn}function Bs(ft){return typeof ft=="symbol"||Yn(ft)&&ws(ft)==cn}var Tl=Wo?Ns(Wo):h0;function pS(ft){return ft===o}function mS(ft){return Yn(ft)&&vs(ft)==Mn}function gS(ft){return Yn(ft)&&ws(ft)==Er}var yS=xu(Zu),vS=xu(function(ft,bt){return ft<=bt});function xy(ft){if(!ft)return[];if(Is(ft))return Au(ft)?so(ft):Rs(ft);if(Rl&&ft[Rl])return Xy(ft[Rl]());var bt=vs(ft),$t=bt==br?Vu:bt==Bn?Kl:Cl;return $t(ft)}function Lo(ft){if(!ft)return ft===0?ft:0;if(ft=Zs(ft),ft===Ot||ft===-Ot){var bt=ft<0?-1:1;return bt*Dt}return ft===ft?ft:0}function wn(ft){var bt=Lo(ft),$t=bt%1;return bt===bt?$t?bt-$t:bt:0}function by(ft){return ft?Xo(wn(ft),0,qt):0}function Zs(ft){if(typeof ft=="number")return ft;if(Bs(ft))return Bt;if(Kn(ft)){var bt=typeof ft.valueOf=="function"?ft.valueOf():ft;ft=Kn(bt)?bt+"":bt}if(typeof ft!="string")return ft===0?ft:+ft;ft=Vp(ft);var $t=to.test(ft);return $t||fo.test(ft)?Dr(ft.slice(2),$t?2:8):co.test(ft)?Bt:+ft}function Sy(ft){return xo(ft,Ls(ft))}function xS(ft){return ft?Xo(wn(ft),-Mt,Mt):ft===0?ft:0}function Nn(ft){return ft==null?"":Vs(ft)}var bS=Sl(function(ft,bt){if(zl(bt)||Is(bt)){xo(bt,ls(bt),ft);return}for(var $t in bt)Vn.call(bt,$t)&&Dl(ft,$t,bt[$t])}),_y=Sl(function(ft,bt){xo(bt,Ls(bt),ft)}),Ru=Sl(function(ft,bt,$t,Pt){xo(bt,Ls(bt),ft,Pt)}),SS=Sl(function(ft,bt,$t,Pt){xo(bt,ls(bt),ft,Pt)}),_S=Ao(Hu);function wS(ft,bt){var $t=xl(ft);return bt==null?$t:em($t,bt)}var ES=Tn(function(ft,bt){ft=Un(ft);var $t=-1,Pt=bt.length,zt=Pt>2?bt[2]:o;for(zt&&Es(bt[0],bt[1],zt)&&(Pt=1);++$t<Pt;)for(var Zt=bt[$t],ar=Ls(Zt),ur=-1,yr=ar.length;++ur<yr;){var Mr=ar[ur],Pr=ft[Mr];(Pr===o||ao(Pr,ba[Mr])&&!Vn.call(ft,Mr))&&(ft[Mr]=Zt[Mr])}return ft}),TS=Tn(function(ft){return ft.push(o,Vm),as(wy,o,ft)});function kS(ft,bt){return Dp(ft,un(bt,3),vo)}function CS(ft,bt){return Dp(ft,un(bt,3),Ku)}function $S(ft,bt){return ft==null?ft:Gu(ft,un(bt,3),Ls)}function AS(ft,bt){return ft==null?ft:sm(ft,un(bt,3),Ls)}function RS(ft,bt){return ft&&vo(ft,un(bt,3))}function IS(ft,bt){return ft&&Ku(ft,un(bt,3))}function LS(ft){return ft==null?[]:hu(ft,ls(ft))}function PS(ft){return ft==null?[]:hu(ft,Ls(ft))}function Tp(ft,bt,$t){var Pt=ft==null?o:Yo(ft,bt);return Pt===o?$t:Pt}function DS(ft,bt){return ft!=null&&jm(ft,bt,t0)}function kp(ft,bt){return ft!=null&&jm(ft,bt,r0)}var OS=Pm(function(ft,bt,$t){bt!=null&&typeof bt.toString!="function"&&(bt=Zl.call(bt)),ft[bt]=$t},$p(Ms)),FS=Pm(function(ft,bt,$t){bt!=null&&typeof bt.toString!="function"&&(bt=Zl.call(bt)),Vn.call(ft,bt)?ft[bt].push($t):ft[bt]=[$t]},un),NS=Tn(Fl);function ls(ft){return Is(ft)?Zp(ft):Qu(ft)}function Ls(ft){return Is(ft)?Zp(ft,!0):f0(ft)}function VS(ft,bt){var $t={};return bt=un(bt,3),vo(ft,function(Pt,zt,Zt){Co($t,bt(Pt,zt,Zt),Pt)}),$t}function BS(ft,bt){var $t={};return bt=un(bt,3),vo(ft,function(Pt,zt,Zt){Co($t,zt,bt(Pt,zt,Zt))}),$t}var zS=Sl(function(ft,bt,$t){fu(ft,bt,$t)}),wy=Sl(function(ft,bt,$t,Pt){fu(ft,bt,$t,Pt)}),jS=Ao(function(ft,bt){var $t={};if(ft==null)return $t;var Pt=!1;bt=Hn(bt,function(Zt){return Zt=zo(Zt,ft),Pt||(Pt=Zt.length>1),Zt}),xo(ft,hp(ft),$t),Pt&&($t=Ys($t,_|$|et,M0));for(var zt=bt.length;zt--;)np($t,bt[zt]);return $t});function US(ft,bt){return Ey(ft,Cu(un(bt)))}var WS=Ao(function(ft,bt){return ft==null?{}:p0(ft,bt)});function Ey(ft,bt){if(ft==null)return{};var $t=Hn(hp(ft),function(Pt){return[Pt]});return bt=un(bt),mm(ft,$t,function(Pt,zt){return bt(Pt,zt[0])})}function HS(ft,bt,$t){bt=zo(bt,ft);var Pt=-1,zt=bt.length;for(zt||(zt=1,ft=o);++Pt<zt;){var Zt=ft==null?o:ft[bo(bt[Pt])];Zt===o&&(Pt=zt,Zt=$t),ft=Io(Zt)?Zt.call(ft):Zt}return ft}function GS(ft,bt,$t){return ft==null?ft:Vl(ft,bt,$t)}function KS(ft,bt,$t,Pt){return Pt=typeof Pt=="function"?Pt:o,ft==null?ft:Vl(ft,bt,$t,Pt)}var Ty=Fm(ls),ky=Fm(Ls);function XS(ft,bt,$t){var Pt=Sn(ft),zt=Pt||Uo(ft)||Tl(ft);if(bt=un(bt,4),$t==null){var Zt=ft&&ft.constructor;zt?$t=Pt?new Zt:[]:Kn(ft)?$t=Io(Zt)?xl(tu(ft)):{}:$t={}}return(zt?Gs:vo)(ft,function(ar,ur,yr){return bt($t,ar,ur,yr)}),$t}function YS(ft,bt){return ft==null?!0:np(ft,bt)}function qS(ft,bt,$t){return ft==null?ft:bm(ft,bt,op($t))}function QS(ft,bt,$t,Pt){return Pt=typeof Pt=="function"?Pt:o,ft==null?ft:bm(ft,bt,op($t),Pt)}function Cl(ft){return ft==null?[]:Nu(ft,ls(ft))}function ZS(ft){return ft==null?[]:Nu(ft,Ls(ft))}function JS(ft,bt,$t){return $t===o&&($t=bt,bt=o),$t!==o&&($t=Zs($t),$t=$t===$t?$t:0),bt!==o&&(bt=Zs(bt),bt=bt===bt?bt:0),Xo(Zs(ft),bt,$t)}function e_(ft,bt,$t){return bt=Lo(bt),$t===o?($t=bt,bt=0):$t=Lo($t),ft=Zs(ft),n0(ft,bt,$t)}function t_(ft,bt,$t){if($t&&typeof $t!="boolean"&&Es(ft,bt,$t)&&(bt=$t=o),$t===o&&(typeof bt=="boolean"?($t=bt,bt=o):typeof ft=="boolean"&&($t=ft,ft=o)),ft===o&&bt===o?(ft=0,bt=1):(ft=Lo(ft),bt===o?(bt=ft,ft=0):bt=Lo(bt)),ft>bt){var Pt=ft;ft=bt,bt=Pt}if($t||ft%1||bt%1){var zt=qp();return ys(ft+zt*(bt-ft+xr("1e-"+((zt+"").length-1))),bt)}return ep(ft,bt)}var r_=_l(function(ft,bt,$t){return bt=bt.toLowerCase(),ft+($t?Cy(bt):bt)});function Cy(ft){return Cp(Nn(ft).toLowerCase())}function $y(ft){return ft=Nn(ft),ft&&ft.replace(xs,Uy).replace(yn,"")}function n_(ft,bt,$t){ft=Nn(ft),bt=Vs(bt);var Pt=ft.length;$t=$t===o?Pt:Xo(wn($t),0,Pt);var zt=$t;return $t-=bt.length,$t>=0&&ft.slice($t,zt)==bt}function i_(ft){return ft=Nn(ft),ft&&Ar.test(ft)?ft.replace(Ur,Wy):ft}function s_(ft){return ft=Nn(ft),ft&&Js.test(ft)?ft.replace(ps,"\\$&"):ft}var o_=_l(function(ft,bt,$t){return ft+($t?"-":"")+bt.toLowerCase()}),a_=_l(function(ft,bt,$t){return ft+($t?" ":"")+bt.toLowerCase()}),l_=Im("toLowerCase");function u_(ft,bt,$t){ft=Nn(ft),bt=wn(bt);var Pt=bt?ga(ft):0;if(!bt||Pt>=bt)return ft;var zt=(bt-Pt)/2;return vu(su(zt),$t)+ft+vu(iu(zt),$t)}function c_(ft,bt,$t){ft=Nn(ft),bt=wn(bt);var Pt=bt?ga(ft):0;return bt&&Pt<bt?ft+vu(bt-Pt,$t):ft}function h_(ft,bt,$t){ft=Nn(ft),bt=wn(bt);var Pt=bt?ga(ft):0;return bt&&Pt<bt?vu(bt-Pt,$t)+ft:ft}function f_(ft,bt,$t){return $t||bt==null?bt=0:bt&&(bt=+bt),gv(Nn(ft).replace(Ps,""),bt||0)}function d_(ft,bt,$t){return($t?Es(ft,bt,$t):bt===o)?bt=1:bt=wn(bt),tp(Nn(ft),bt)}function p_(){var ft=arguments,bt=Nn(ft[0]);return ft.length<3?bt:bt.replace(ft[1],ft[2])}var m_=_l(function(ft,bt,$t){return ft+($t?"_":"")+bt.toLowerCase()});function g_(ft,bt,$t){return $t&&typeof $t!="number"&&Es(ft,bt,$t)&&(bt=$t=o),$t=$t===o?qt:$t>>>0,$t?(ft=Nn(ft),ft&&(typeof bt=="string"||bt!=null&&!Ep(bt))&&(bt=Vs(bt),!bt&&na(ft))?jo(so(ft),0,$t):ft.split(bt,$t)):[]}var y_=_l(function(ft,bt,$t){return ft+($t?" ":"")+Cp(bt)});function v_(ft,bt,$t){return ft=Nn(ft),$t=$t==null?0:Xo(wn($t),0,ft.length),bt=Vs(bt),ft.slice($t,$t+bt.length)==bt}function x_(ft,bt,$t){var Pt=Gt.templateSettings;$t&&Es(ft,bt,$t)&&(bt=o),ft=Nn(ft),bt=Ru({},bt,Pt,Nm);var zt=Ru({},bt.imports,Pt.imports,Nm),Zt=ls(zt),ar=Nu(zt,Zt),ur,yr,Mr=0,Pr=bt.interpolate||cs,Fr="__p += '",Xr=Bu((bt.escape||cs).source+"|"+Pr.source+"|"+(Pr===ds?uo:cs).source+"|"+(bt.evaluate||cs).source+"|$","g"),tn="//# sourceURL="+(Vn.call(bt,"sourceURL")?(bt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++io+"]")+`
`;ft.replace(Xr,function(fn,Cn,Rn,zs,Ts,js){return Rn||(Rn=zs),Fr+=ft.slice(Mr,js).replace(no,Hy),Cn&&(ur=!0,Fr+=`' +
__e(`+Cn+`) +
'`),Ts&&(yr=!0,Fr+=`';
`+Ts+`;
__p += '`),Rn&&(Fr+=`' +
((__t = (`+Rn+`)) == null ? '' : __t) +
'`),Mr=js+fn.length,fn}),Fr+=`';
`;var hn=Vn.call(bt,"variable")&&bt.variable;if(!hn)Fr=`with (obj) {
`+Fr+`
}
`;else if(us.test(hn))throw new bn(at);Fr=(yr?Fr.replace(sn,""):Fr).replace(Or,"$1").replace(qr,"$1;"),Fr="function("+(hn||"obj")+`) {
`+(hn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ur?", __e = _.escape":"")+(yr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fr+`return __p
}`;var En=Ry(function(){return On(Zt,tn+"return "+Fr).apply(o,ar)});if(En.source=Fr,wp(En))throw En;return En}function b_(ft){return Nn(ft).toLowerCase()}function S_(ft){return Nn(ft).toUpperCase()}function __(ft,bt,$t){if(ft=Nn(ft),ft&&($t||bt===o))return Vp(ft);if(!ft||!(bt=Vs(bt)))return ft;var Pt=so(ft),zt=so(bt),Zt=Bp(Pt,zt),ar=zp(Pt,zt)+1;return jo(Pt,Zt,ar).join("")}function w_(ft,bt,$t){if(ft=Nn(ft),ft&&($t||bt===o))return ft.slice(0,Up(ft)+1);if(!ft||!(bt=Vs(bt)))return ft;var Pt=so(ft),zt=zp(Pt,so(bt))+1;return jo(Pt,0,zt).join("")}function E_(ft,bt,$t){if(ft=Nn(ft),ft&&($t||bt===o))return ft.replace(Ps,"");if(!ft||!(bt=Vs(bt)))return ft;var Pt=so(ft),zt=Bp(Pt,so(bt));return jo(Pt,zt).join("")}function T_(ft,bt){var $t=wt,Pt=Et;if(Kn(bt)){var zt="separator"in bt?bt.separator:zt;$t="length"in bt?wn(bt.length):$t,Pt="omission"in bt?Vs(bt.omission):Pt}ft=Nn(ft);var Zt=ft.length;if(na(ft)){var ar=so(ft);Zt=ar.length}if($t>=Zt)return ft;var ur=$t-ga(Pt);if(ur<1)return Pt;var yr=ar?jo(ar,0,ur).join(""):ft.slice(0,ur);if(zt===o)return yr+Pt;if(ar&&(ur+=yr.length-ur),Ep(zt)){if(ft.slice(ur).search(zt)){var Mr,Pr=yr;for(zt.global||(zt=Bu(zt.source,Nn(Wn.exec(zt))+"g")),zt.lastIndex=0;Mr=zt.exec(Pr);)var Fr=Mr.index;yr=yr.slice(0,Fr===o?ur:Fr)}}else if(ft.indexOf(Vs(zt),ur)!=ur){var Xr=yr.lastIndexOf(zt);Xr>-1&&(yr=yr.slice(0,Xr))}return yr+Pt}function k_(ft){return ft=Nn(ft),ft&&vn.test(ft)?ft.replace(Gr,Zy):ft}var C_=_l(function(ft,bt,$t){return ft+($t?" ":"")+bt.toUpperCase()}),Cp=Im("toUpperCase");function Ay(ft,bt,$t){return ft=Nn(ft),bt=$t?o:bt,bt===o?Ky(ft)?tv(ft):Ny(ft):ft.match(bt)||[]}var Ry=Tn(function(ft,bt){try{return as(ft,o,bt)}catch($t){return wp($t)?$t:new bn($t)}}),$_=Ao(function(ft,bt){return Gs(bt,function($t){$t=bo($t),Co(ft,$t,Sp(ft[$t],ft))}),ft});function A_(ft){var bt=ft==null?0:ft.length,$t=un();return ft=bt?Hn(ft,function(Pt){if(typeof Pt[1]!="function")throw new Ks(ot);return[$t(Pt[0]),Pt[1]]}):[],Tn(function(Pt){for(var zt=-1;++zt<bt;){var Zt=ft[zt];if(as(Zt[0],this,Pt))return as(Zt[1],this,Pt)}})}function R_(ft){return Zv(Ys(ft,_))}function $p(ft){return function(){return ft}}function I_(ft,bt){return ft==null||ft!==ft?bt:ft}var L_=Mm(),M_=Mm(!0);function Ms(ft){return ft}function Ap(ft){return um(typeof ft=="function"?ft:Ys(ft,_))}function P_(ft){return hm(Ys(ft,_))}function D_(ft,bt){return fm(ft,Ys(bt,_))}var O_=Tn(function(ft,bt){return function($t){return Fl($t,ft,bt)}}),F_=Tn(function(ft,bt){return function($t){return Fl(ft,$t,bt)}});function Rp(ft,bt,$t){var Pt=ls(bt),zt=hu(bt,Pt);$t==null&&!(Kn(bt)&&(zt.length||!Pt.length))&&($t=bt,bt=ft,ft=this,zt=hu(bt,ls(bt)));var Zt=!(Kn($t)&&"chain"in $t)||!!$t.chain,ar=Io(ft);return Gs(zt,function(ur){var yr=bt[ur];ft[ur]=yr,ar&&(ft.prototype[ur]=function(){var Mr=this.__chain__;if(Zt||Mr){var Pr=ft(this.__wrapped__),Fr=Pr.__actions__=Rs(this.__actions__);return Fr.push({func:yr,args:arguments,thisArg:ft}),Pr.__chain__=Mr,Pr}return yr.apply(ft,Oo([this.value()],arguments))})}),ft}function N_(){return en._===this&&(en._=av),this}function Ip(){}function V_(ft){return ft=wn(ft),Tn(function(bt){return dm(bt,ft)})}var B_=lp(Hn),z_=lp(Pp),j_=lp(Mu);function Iy(ft){return mp(ft)?Pu(bo(ft)):m0(ft)}function U_(ft){return function(bt){return ft==null?o:Yo(ft,bt)}}var W_=Dm(),H_=Dm(!0);function Lp(){return[]}function Mp(){return!1}function G_(){return{}}function K_(){return""}function X_(){return!0}function Y_(ft,bt){if(ft=wn(ft),ft<1||ft>Mt)return[];var $t=qt,Pt=ys(ft,qt);bt=un(bt),ft-=qt;for(var zt=Fu(Pt,bt);++$t<ft;)bt($t);return zt}function q_(ft){return Sn(ft)?Hn(ft,bo):Bs(ft)?[ft]:Rs(Qm(Nn(ft)))}function Q_(ft){var bt=++sv;return Nn(ft)+bt}var Z_=yu(function(ft,bt){return ft+bt},0),J_=up("ceil"),ew=yu(function(ft,bt){return ft/bt},1),tw=up("floor");function rw(ft){return ft&&ft.length?cu(ft,Ms,Xu):o}function nw(ft,bt){return ft&&ft.length?cu(ft,un(bt,2),Xu):o}function iw(ft){return Fp(ft,Ms)}function sw(ft,bt){return Fp(ft,un(bt,2))}function ow(ft){return ft&&ft.length?cu(ft,Ms,Zu):o}function aw(ft,bt){return ft&&ft.length?cu(ft,un(bt,2),Zu):o}var lw=yu(function(ft,bt){return ft*bt},1),uw=up("round"),cw=yu(function(ft,bt){return ft-bt},0);function hw(ft){return ft&&ft.length?Ou(ft,Ms):0}function fw(ft,bt){return ft&&ft.length?Ou(ft,un(bt,2)):0}return Gt.after=M1,Gt.ary=ly,Gt.assign=bS,Gt.assignIn=_y,Gt.assignInWith=Ru,Gt.assignWith=SS,Gt.at=_S,Gt.before=uy,Gt.bind=Sp,Gt.bindAll=$_,Gt.bindKey=cy,Gt.castArray=H1,Gt.chain=sy,Gt.chunk=Z0,Gt.compact=J0,Gt.concat=ex,Gt.cond=A_,Gt.conforms=R_,Gt.constant=$p,Gt.countBy=c1,Gt.create=wS,Gt.curry=hy,Gt.curryRight=fy,Gt.debounce=dy,Gt.defaults=ES,Gt.defaultsDeep=TS,Gt.defer=P1,Gt.delay=D1,Gt.difference=tx,Gt.differenceBy=rx,Gt.differenceWith=nx,Gt.drop=ix,Gt.dropRight=sx,Gt.dropRightWhile=ox,Gt.dropWhile=ax,Gt.fill=lx,Gt.filter=f1,Gt.flatMap=m1,Gt.flatMapDeep=g1,Gt.flatMapDepth=y1,Gt.flatten=ty,Gt.flattenDeep=ux,Gt.flattenDepth=hx,Gt.flip=O1,Gt.flow=L_,Gt.flowRight=M_,Gt.fromPairs=fx,Gt.functions=LS,Gt.functionsIn=PS,Gt.groupBy=v1,Gt.initial=mx,Gt.intersection=gx,Gt.intersectionBy=yx,Gt.intersectionWith=vx,Gt.invert=OS,Gt.invertBy=FS,Gt.invokeMap=b1,Gt.iteratee=Ap,Gt.keyBy=S1,Gt.keys=ls,Gt.keysIn=Ls,Gt.map=Eu,Gt.mapKeys=VS,Gt.mapValues=BS,Gt.matches=P_,Gt.matchesProperty=D_,Gt.memoize=ku,Gt.merge=zS,Gt.mergeWith=wy,Gt.method=O_,Gt.methodOf=F_,Gt.mixin=Rp,Gt.negate=Cu,Gt.nthArg=V_,Gt.omit=jS,Gt.omitBy=US,Gt.once=F1,Gt.orderBy=_1,Gt.over=B_,Gt.overArgs=N1,Gt.overEvery=z_,Gt.overSome=j_,Gt.partial=_p,Gt.partialRight=py,Gt.partition=w1,Gt.pick=WS,Gt.pickBy=Ey,Gt.property=Iy,Gt.propertyOf=U_,Gt.pull=_x,Gt.pullAll=ny,Gt.pullAllBy=wx,Gt.pullAllWith=Ex,Gt.pullAt=Tx,Gt.range=W_,Gt.rangeRight=H_,Gt.rearg=V1,Gt.reject=k1,Gt.remove=kx,Gt.rest=B1,Gt.reverse=xp,Gt.sampleSize=$1,Gt.set=GS,Gt.setWith=KS,Gt.shuffle=A1,Gt.slice=Cx,Gt.sortBy=L1,Gt.sortedUniq=Px,Gt.sortedUniqBy=Dx,Gt.split=g_,Gt.spread=z1,Gt.tail=Ox,Gt.take=Fx,Gt.takeRight=Nx,Gt.takeRightWhile=Vx,Gt.takeWhile=Bx,Gt.tap=t1,Gt.throttle=j1,Gt.thru=wu,Gt.toArray=xy,Gt.toPairs=Ty,Gt.toPairsIn=ky,Gt.toPath=q_,Gt.toPlainObject=Sy,Gt.transform=XS,Gt.unary=U1,Gt.union=zx,Gt.unionBy=jx,Gt.unionWith=Ux,Gt.uniq=Wx,Gt.uniqBy=Hx,Gt.uniqWith=Gx,Gt.unset=YS,Gt.unzip=bp,Gt.unzipWith=iy,Gt.update=qS,Gt.updateWith=QS,Gt.values=Cl,Gt.valuesIn=ZS,Gt.without=Kx,Gt.words=Ay,Gt.wrap=W1,Gt.xor=Xx,Gt.xorBy=Yx,Gt.xorWith=qx,Gt.zip=Qx,Gt.zipObject=Zx,Gt.zipObjectDeep=Jx,Gt.zipWith=e1,Gt.entries=Ty,Gt.entriesIn=ky,Gt.extend=_y,Gt.extendWith=Ru,Rp(Gt,Gt),Gt.add=Z_,Gt.attempt=Ry,Gt.camelCase=r_,Gt.capitalize=Cy,Gt.ceil=J_,Gt.clamp=JS,Gt.clone=G1,Gt.cloneDeep=X1,Gt.cloneDeepWith=Y1,Gt.cloneWith=K1,Gt.conformsTo=q1,Gt.deburr=$y,Gt.defaultTo=I_,Gt.divide=ew,Gt.endsWith=n_,Gt.eq=ao,Gt.escape=i_,Gt.escapeRegExp=s_,Gt.every=h1,Gt.find=d1,Gt.findIndex=Jm,Gt.findKey=kS,Gt.findLast=p1,Gt.findLastIndex=ey,Gt.findLastKey=CS,Gt.floor=tw,Gt.forEach=oy,Gt.forEachRight=ay,Gt.forIn=$S,Gt.forInRight=AS,Gt.forOwn=RS,Gt.forOwnRight=IS,Gt.get=Tp,Gt.gt=Q1,Gt.gte=Z1,Gt.has=DS,Gt.hasIn=kp,Gt.head=ry,Gt.identity=Ms,Gt.includes=x1,Gt.indexOf=dx,Gt.inRange=e_,Gt.invoke=NS,Gt.isArguments=Zo,Gt.isArray=Sn,Gt.isArrayBuffer=J1,Gt.isArrayLike=Is,Gt.isArrayLikeObject=Zn,Gt.isBoolean=eS,Gt.isBuffer=Uo,Gt.isDate=tS,Gt.isElement=rS,Gt.isEmpty=nS,Gt.isEqual=iS,Gt.isEqualWith=sS,Gt.isError=wp,Gt.isFinite=oS,Gt.isFunction=Io,Gt.isInteger=my,Gt.isLength=$u,Gt.isMap=gy,Gt.isMatch=aS,Gt.isMatchWith=lS,Gt.isNaN=uS,Gt.isNative=cS,Gt.isNil=fS,Gt.isNull=hS,Gt.isNumber=yy,Gt.isObject=Kn,Gt.isObjectLike=Yn,Gt.isPlainObject=Wl,Gt.isRegExp=Ep,Gt.isSafeInteger=dS,Gt.isSet=vy,Gt.isString=Au,Gt.isSymbol=Bs,Gt.isTypedArray=Tl,Gt.isUndefined=pS,Gt.isWeakMap=mS,Gt.isWeakSet=gS,Gt.join=xx,Gt.kebabCase=o_,Gt.last=Qs,Gt.lastIndexOf=bx,Gt.lowerCase=a_,Gt.lowerFirst=l_,Gt.lt=yS,Gt.lte=vS,Gt.max=rw,Gt.maxBy=nw,Gt.mean=iw,Gt.meanBy=sw,Gt.min=ow,Gt.minBy=aw,Gt.stubArray=Lp,Gt.stubFalse=Mp,Gt.stubObject=G_,Gt.stubString=K_,Gt.stubTrue=X_,Gt.multiply=lw,Gt.nth=Sx,Gt.noConflict=N_,Gt.noop=Ip,Gt.now=Tu,Gt.pad=u_,Gt.padEnd=c_,Gt.padStart=h_,Gt.parseInt=f_,Gt.random=t_,Gt.reduce=E1,Gt.reduceRight=T1,Gt.repeat=d_,Gt.replace=p_,Gt.result=HS,Gt.round=uw,Gt.runInContext=mr,Gt.sample=C1,Gt.size=R1,Gt.snakeCase=m_,Gt.some=I1,Gt.sortedIndex=$x,Gt.sortedIndexBy=Ax,Gt.sortedIndexOf=Rx,Gt.sortedLastIndex=Ix,Gt.sortedLastIndexBy=Lx,Gt.sortedLastIndexOf=Mx,Gt.startCase=y_,Gt.startsWith=v_,Gt.subtract=cw,Gt.sum=hw,Gt.sumBy=fw,Gt.template=x_,Gt.times=Y_,Gt.toFinite=Lo,Gt.toInteger=wn,Gt.toLength=by,Gt.toLower=b_,Gt.toNumber=Zs,Gt.toSafeInteger=xS,Gt.toString=Nn,Gt.toUpper=S_,Gt.trim=__,Gt.trimEnd=w_,Gt.trimStart=E_,Gt.truncate=T_,Gt.unescape=k_,Gt.uniqueId=Q_,Gt.upperCase=C_,Gt.upperFirst=Cp,Gt.each=oy,Gt.eachRight=ay,Gt.first=ry,Rp(Gt,function(){var ft={};return vo(Gt,function(bt,$t){Vn.call(Gt.prototype,$t)||(ft[$t]=bt)}),ft}(),{chain:!1}),Gt.VERSION=a,Gs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(ft){Gt[ft].placeholder=Gt}),Gs(["drop","take"],function(ft,bt){An.prototype[ft]=function($t){$t=$t===o?1:ss(wn($t),0);var Pt=this.__filtered__&&!bt?new An(this):this.clone();return Pt.__filtered__?Pt.__takeCount__=ys($t,Pt.__takeCount__):Pt.__views__.push({size:ys($t,qt),type:ft+(Pt.__dir__<0?"Right":"")}),Pt},An.prototype[ft+"Right"]=function($t){return this.reverse()[ft]($t).reverse()}}),Gs(["filter","map","takeWhile"],function(ft,bt){var $t=bt+1,Pt=$t==Tt||$t==It;An.prototype[ft]=function(zt){var Zt=this.clone();return Zt.__iteratees__.push({iteratee:un(zt,3),type:$t}),Zt.__filtered__=Zt.__filtered__||Pt,Zt}}),Gs(["head","last"],function(ft,bt){var $t="take"+(bt?"Right":"");An.prototype[ft]=function(){return this[$t](1).value()[0]}}),Gs(["initial","tail"],function(ft,bt){var $t="drop"+(bt?"":"Right");An.prototype[ft]=function(){return this.__filtered__?new An(this):this[$t](1)}}),An.prototype.compact=function(){return this.filter(Ms)},An.prototype.find=function(ft){return this.filter(ft).head()},An.prototype.findLast=function(ft){return this.reverse().find(ft)},An.prototype.invokeMap=Tn(function(ft,bt){return typeof ft=="function"?new An(this):this.map(function($t){return Fl($t,ft,bt)})}),An.prototype.reject=function(ft){return this.filter(Cu(un(ft)))},An.prototype.slice=function(ft,bt){ft=wn(ft);var $t=this;return $t.__filtered__&&(ft>0||bt<0)?new An($t):(ft<0?$t=$t.takeRight(-ft):ft&&($t=$t.drop(ft)),bt!==o&&(bt=wn(bt),$t=bt<0?$t.dropRight(-bt):$t.take(bt-ft)),$t)},An.prototype.takeRightWhile=function(ft){return this.reverse().takeWhile(ft).reverse()},An.prototype.toArray=function(){return this.take(qt)},vo(An.prototype,function(ft,bt){var $t=/^(?:filter|find|map|reject)|While$/.test(bt),Pt=/^(?:head|last)$/.test(bt),zt=Gt[Pt?"take"+(bt=="last"?"Right":""):bt],Zt=Pt||/^find/.test(bt);zt&&(Gt.prototype[bt]=function(){var ar=this.__wrapped__,ur=Pt?[1]:arguments,yr=ar instanceof An,Mr=ur[0],Pr=yr||Sn(ar),Fr=function(Cn){var Rn=zt.apply(Gt,Oo([Cn],ur));return Pt&&Xr?Rn[0]:Rn};Pr&&$t&&typeof Mr=="function"&&Mr.length!=1&&(yr=Pr=!1);var Xr=this.__chain__,tn=!!this.__actions__.length,hn=Zt&&!Xr,En=yr&&!tn;if(!Zt&&Pr){ar=En?ar:new An(this);var fn=ft.apply(ar,ur);return fn.__actions__.push({func:wu,args:[Fr],thisArg:o}),new Xs(fn,Xr)}return hn&&En?ft.apply(this,ur):(fn=this.thru(Fr),hn?Pt?fn.value()[0]:fn.value():fn)})}),Gs(["pop","push","shift","sort","splice","unshift"],function(ft){var bt=Xl[ft],$t=/^(?:push|sort|unshift)$/.test(ft)?"tap":"thru",Pt=/^(?:pop|shift)$/.test(ft);Gt.prototype[ft]=function(){var zt=arguments;if(Pt&&!this.__chain__){var Zt=this.value();return bt.apply(Sn(Zt)?Zt:[],zt)}return this[$t](function(ar){return bt.apply(Sn(ar)?ar:[],zt)})}}),vo(An.prototype,function(ft,bt){var $t=Gt[bt];if($t){var Pt=$t.name+"";Vn.call(yl,Pt)||(yl[Pt]=[]),yl[Pt].push({name:bt,func:$t})}}),yl[gu(o,ht).name]=[{name:"wrapper",func:o}],An.prototype.clone=wv,An.prototype.reverse=Ev,An.prototype.value=Tv,Gt.prototype.at=r1,Gt.prototype.chain=n1,Gt.prototype.commit=i1,Gt.prototype.next=s1,Gt.prototype.plant=a1,Gt.prototype.reverse=l1,Gt.prototype.toJSON=Gt.prototype.valueOf=Gt.prototype.value=u1,Gt.prototype.first=Gt.prototype.head,Rl&&(Gt.prototype[Rl]=o1),Gt},xa=rv();xn?((xn.exports=xa)._=xa,Qr._=xa):en._=xa}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports,moduleLoader={},xmlhttprequestTs_umd={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);(function(i,s){(function(o,a){a(s,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6)})(commonjsGlobal,function(o,a,nt,tt,ot,at,rt,it){/**
 * @license xmlhttprequest-ts
 * MIT license
 */var j=function(){function _(){this.UNSENT=_.UNSENT,this.OPENED=_.OPENED,this.HEADERS_RECEIVED=_.HEADERS_RECEIVED,this.LOADING=_.LOADING,this.DONE=_.DONE,this.disableHeaderCheck=!1,this.readyState=_.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return _.prototype.open=function($,et,st,lt,ct){if(st===void 0&&(st=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod($))throw new Error("SecurityError: Request method not allowed");this.settings={method:$,url:et,async:typeof st!="boolean"?!0:st,user:lt,password:ct},this.setState(this.OPENED)},_.prototype.setDisableHeaderCheck=function($){this.disableHeaderCheck=$},_.prototype.setRequestHeader=function($,et){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!this.isAllowedHttpHeader($)){console.warn('Refused to set unsafe header "'+$+'"');return}if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");$=this.headersLowerCase[$.toLowerCase()]||$,this.headersLowerCase[$.toLowerCase()]=$,this.headers[$]=this.headers[$]?this.headers[$]+", "+et:et},_.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var $="";if(this.response){for(var et in this.response.headers)if(et!=="set-cookie"&&et!=="set-cookie2"){var st=this.response.headers[et];typeof st=="string"?$+=et+": "+st+`\r
`:Array.isArray(st)?$+=et+": "+st.join(", ")+`\r
`:$+=et+`:\r
`}}return $.substr(0,$.length-2)},_.prototype.getResponseHeader=function($){if(typeof $=="string"&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[$.toLowerCase()]&&!this.errorFlag){var et=this.response.headers[$.toLowerCase()];if(typeof et=="string")return et;if(Array.isArray(et))return et.join(", ")}return null},_.prototype.getRequestHeader=function($){if(typeof $=="string"&&this.headersLowerCase[$.toLowerCase()])return this.headers[this.headersLowerCase[$.toLowerCase()]]},_.prototype.send=function($){var et=this,st=this;if(this.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var lt=!1,ct=!1,ht=ot.parse(this.settings.url),ut;switch(ht.protocol){case"https:":lt=!0;case"http:":ut=ht.hostname;break;case"file:":ct=!0;break;case void 0:case null:case"":ut="localhost";break;default:throw new Error("Protocol not supported.")}if(ct){if(this.settings.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)a.readFile(unescape(ht.pathname||"/"),"utf8",function(Mt,Dt){Mt?st.handleError(Mt):(st.status=200,st.responseText=Dt,st.setState(st.DONE))});else try{this.responseText=a.readFileSync(unescape(ht.pathname||"/"),"utf8"),this.status=200,this.setState(st.DONE)}catch(Mt){this.handleError(Mt)}return}var mt=ht.port||(lt?443:80),gt=ht.pathname+(ht.search?ht.search:"");for(var vt in this.defaultHeaders)this.headersLowerCase[vt.toLowerCase()]||(this.headers[vt]=this.defaultHeaders[vt]);if(ut&&(this.headers.Host=ut),ht.host&&ht.host[0]==="["&&(this.headers.Host="["+this.headers.Host+"]"),lt&&mt===443||mt===80||(this.headers.Host+=":"+ht.port),this.settings.user){typeof this.settings.password>"u"&&(this.settings.password="");var dt=Buffer.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+dt.toString("base64")}this.settings.method==="GET"||this.settings.method==="HEAD"?$=null:$?(this.headers["Content-Length"]=""+(Buffer.isBuffer($)?$.length:Buffer.byteLength($)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):this.settings.method==="POST"&&(this.headers["Content-Length"]="0");var St={host:ut,port:mt,path:gt,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout(function(){et.readyState!==et.DONE&&st.handleTimeout(new Error("request timed out after "+et.timeout+"ms"))},this.timeout));var yt=lt?tt.request:nt.request;this.sendFlag=!0,st.dispatchEvent("readystatechange");var pt=function(Mt){st.handleError(Mt)},wt=0,Et=function(Mt){if(st.response=Mt,st.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(st.response.headers.location&&(st.response.statusCode===301||st.response.statusCode===302||st.response.statusCode===303||st.response.statusCode===307)){if(wt++,wt>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");st.settings.url=st.response.headers.location;var Dt=ot.parse(st.settings.url);ut=Dt.hostname,ut&&(st.headers.Host=ut);var Bt={hostname:Dt.hostname,port:Dt.port,path:Dt.path,method:st.response.statusCode===303?"GET":st.settings.method,headers:st.headers,withCredentials:st.withCredentials};lt=ht.protocol==="https:",yt=lt?tt.request:nt.request,st.request=yt(Bt,Et).on("error",pt),st.request.end();return}st.response.setEncoding("utf8"),st.setState(st.HEADERS_RECEIVED),st.status=st.response.statusCode||0,st.response.on("data",function(qt){qt&&(st.responseText+=qt),st.sendFlag&&st.setState(st.LOADING)}),st.response.on("end",function(){st.sendFlag&&(st.setState(st.DONE),st.sendFlag=!1)}),st.response.on("error",function(qt){st.handleError(qt)})};st.request=yt(St,Et).on("error",pt),$&&st.request.write($),st.request.end(),st.dispatchEvent("loadstart")}else{var Ct=new Date().getTime(),kt=at.tmpdir()+rt.sep+"ts-xmlhttprequest-content-"+process.pid,Tt=at.tmpdir()+rt.sep+"ts-xmlhttprequest-sync-"+process.pid;a.writeFileSync(Tt,"","utf8");var At="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(lt?"s":"")+".request;let options = "+JSON.stringify(St)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+kt+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+Tt+"');});response.on('error', function(error) {fs.writeFileSync('"+kt+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Tt+"');});}).on('error', function(error) {fs.writeFileSync('"+kt+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Tt+"');});"+($?"req.write('"+JSON.stringify($).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";st.dispatchEvent("loadstart"),this.setState(st.LOADING);var It=it.spawn(process.argv[0],["-e",At]);for(It.on("exit",function(Mt,Dt){try{a.unlinkSync(Tt)}catch{}try{a.unlinkSync(kt)}catch{}});a.existsSync(Tt);)if(this.timeout!==0&&new Date().getTime()>=Ct+this.timeout)return It.stdin.end(),It.kill(),st.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));It.stdin.end(),It.kill();var Ot=JSON.parse(a.readFileSync(kt,"utf8"));a.unlinkSync(kt),Ot.err?st.handleError(Ot.err):(st.response=Ot.data,st.status=Ot.data.statusCode,st.responseText=Ot.data.text,st.setState(st.DONE))}},_.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||this.sendFlag)&&this.readyState!==this.DONE&&(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},_.prototype.addEventListener=function($,et){$ in this.listeners||(this.listeners[$]=[]),this.listeners[$].push(et)},_.prototype.removeEventListener=function($,et){$ in this.listeners&&(this.listeners[$]=this.listeners[$].filter(function(st){return st!==et}))},_.prototype.dispatchEvent=function($,et){var st="on"+$;if(typeof this[st]=="function"&&this[st](et),$ in this.listeners)for(var lt=0,ct=this.listeners[$].length;lt<ct;lt++)this.listeners[$][lt].call(this,et)},_.prototype.setState=function($){($===this.LOADING||this.readyState!==$)&&(this.readyState=$,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},_.prototype.handleTimeout=function($){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",$),this.setState(this.DONE)},_.prototype.handleError=function($){this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("error",$),this.setState(this.DONE)},_.prototype.isAllowedHttpHeader=function($){return(this.disableHeaderCheck||$&&this.forbiddenRequestHeaders.indexOf($.toLowerCase())===-1)===!0},_.prototype.isAllowedHttpMethod=function($){return($&&this.forbiddenRequestMethods.indexOf($)===-1)===!0},_.UNSENT=0,_.OPENED=1,_.HEADERS_RECEIVED=2,_.LOADING=3,_.DONE=4,_}();o.XMLHttpRequest=j,Object.defineProperty(o,"__esModule",{value:!0})})})(xmlhttprequestTs_umd,xmlhttprequestTs_umd.exports);var xmlhttprequestTs_umdExports=xmlhttprequestTs_umd.exports,moduleErrors={};Object.defineProperty(moduleErrors,"__esModule",{value:!0});moduleErrors.ModuleInternalError=moduleErrors.ModuleNotFoundError=moduleErrors.ModuleConnectionError=void 0;const runtimeSourceError_1=runtimeSourceError;class ModuleConnectionError extends runtimeSourceError_1.RuntimeSourceError{constructor(s){super(s)}explain(){return ModuleConnectionError.message}elaborate(){return ModuleConnectionError.elaboration}}moduleErrors.ModuleConnectionError=ModuleConnectionError;ModuleConnectionError.message="Unable to get modules.";ModuleConnectionError.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";class ModuleNotFoundError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,o){super(o),this.moduleName=s}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return`
      You should check your import declarations, and ensure that all are valid modules.
    `}}moduleErrors.ModuleNotFoundError=ModuleNotFoundError;class ModuleInternalError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,o){super(o),this.moduleName=s}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return`
      You may need to contact with the author for this module to fix this error.
    `}}moduleErrors.ModuleInternalError=ModuleInternalError;(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadModuleDocs=exports.memoizedloadModuleDocs=exports.loadModuleTabs=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;const lodash_1=lodashExports,xmlhttprequest_ts_1=xmlhttprequestTs_umdExports,moduleErrors_1=moduleErrors,newHttpRequest=()=>typeof window>"u"?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules";function setModulesStaticURL(i){exports.MODULES_STATIC_URL=i}exports.setModulesStaticURL=setModulesStaticURL;function httpGet(i){const s=(0,exports.newHttpRequest)();try{typeof window>"u"&&(s.timeout=1e4),s.open("GET",i,!1),s.send(null)}catch(o){if(!(o instanceof DOMException))throw o}if(s.status!==200&&s.status!==304)throw new moduleErrors_1.ModuleConnectionError;return s.responseText}exports.httpGet=httpGet,exports.memoizedGetModuleManifest=(0,lodash_1.memoize)(getModuleManifest);function getModuleManifest(){const i=httpGet(`${exports.MODULES_STATIC_URL}/modules.json`);return JSON.parse(i)}const memoizedGetModuleFileInternal=(0,lodash_1.memoize)(getModuleFile),memoizedGetModuleFile=(i,s)=>memoizedGetModuleFileInternal({name:i,type:s});exports.memoizedGetModuleFile=memoizedGetModuleFile;function getModuleFile({name:i,type:s}){return httpGet(`${exports.MODULES_STATIC_URL}/${s}s/${i}.js${s==="json"?"on":""}`)}function loadModuleBundle(path,context,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=(0,exports.memoizedGetModuleFile)(path,"bundle");try{const moduleBundle=eval(moduleText);return moduleBundle({context})}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}}exports.loadModuleBundle=loadModuleBundle;function loadModuleTabs(path,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map(path=>{const rawTabFile=(0,exports.memoizedGetModuleFile)(path,"tab");try{return eval(rawTabFile)}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}})}exports.loadModuleTabs=loadModuleTabs,exports.memoizedloadModuleDocs=(0,lodash_1.memoize)(loadModuleDocs);function loadModuleDocs(i,s){try{const o=(0,exports.memoizedGetModuleManifest)();if(!Object.keys(o).includes(i))throw new moduleErrors_1.ModuleNotFoundError(i,s);const nt=getModuleFile({name:i,type:"json"});return JSON.parse(nt)}catch{return console.warn("Failed to load module documentation"),null}}exports.loadModuleDocs=loadModuleDocs})(moduleLoader);var inspector={};Object.defineProperty(inspector,"__esModule",{value:!0});inspector.areBreakpointsSet=inspector.checkEditorBreakpoints=inspector.manualToggleDebugger=inspector.setBreakpointAtLine=inspector.saveState=void 0;const saveState=(i,s,o)=>{i.debugger.state.it=s,i.debugger.state.scheduler=o};inspector.saveState=saveState;const setBreakpointAtLine=i=>{breakpoints=i};inspector.setBreakpointAtLine=setBreakpointAtLine;const manualToggleDebugger=i=>(i.runtime.break=!0,{status:"suspended",scheduler:i.debugger.state.scheduler,it:i.debugger.state.it,context:i});inspector.manualToggleDebugger=manualToggleDebugger;let breakpoints=[],moved=!0,prevStoppedLine=-1;const checkEditorBreakpoints=(i,s)=>{if(s.loc){const o=s.loc.start.line-1;!moved&&o!==prevStoppedLine&&(moved=!0),i.runtime.debuggerOn&&breakpoints[o]!==void 0&&moved&&(moved=!1,prevStoppedLine=o,i.runtime.break=!0)}};inspector.checkEditorBreakpoints=checkEditorBreakpoints;const areBreakpointsSet=()=>breakpoints.length>0;inspector.areBreakpointsSet=areBreakpointsSet;var operators={},timeoutErrors={},formatters={};Object.defineProperty(formatters,"__esModule",{value:!0});formatters.simplify=formatters.stripIndent=formatters.oneLine=void 0;function templateToString(i,s){return typeof i=="string"?i:s.reduce((o,a,nt)=>o+a+i[nt+1],i[0])}function oneLine(i,...s){return templateToString(i,s).replace(/(?:\n(?:\s*))+/g," ").trim()}formatters.oneLine=oneLine;function stripIndent(i,...s){const o=templateToString(i,s),a=o.match(/^[^\S\n]*(?=\S)/gm),nt=a&&Math.min(...a.map(tt=>tt.length));return nt?o.replace(new RegExp(`^.{${nt}}`,"gm"),"").trim():o.trim()}formatters.stripIndent=stripIndent;function simplify(i,s=15,o="..."){if(i.length<s)return i;const a=Math.ceil(s-o.length/2);return i.slice(0,a)+" ... "+i.slice(a)}formatters.simplify=simplify;var hasRequiredTimeoutErrors;function requireTimeoutErrors(){if(hasRequiredTimeoutErrors)return timeoutErrors;hasRequiredTimeoutErrors=1,Object.defineProperty(timeoutErrors,"__esModule",{value:!0}),timeoutErrors.PotentialInfiniteRecursionError=timeoutErrors.PotentialInfiniteLoopError=timeoutErrors.TimeoutError=void 0;const i=constants,s=types,o=formatters,a=requireStringify(),nt=runtimeSourceError;function tt(it){const j=it/1e3,_=j*i.JSSLANG_PROPERTIES.factorToIncreaseBy;return(0,o.stripIndent)`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${j} to ${_} seconds.
      This page may be unresponsive for up to ${_} seconds if you do so.`}class ot extends nt.RuntimeSourceError{}timeoutErrors.TimeoutError=ot;class at extends ot{constructor(j,_){super(j),this.maxExecTime=_,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return(0,o.stripIndent)`${"Potential infinite loop detected"}.
    ${tt(this.maxExecTime)}`}elaborate(){return this.explain()}}timeoutErrors.PotentialInfiniteLoopError=at;class rt extends ot{constructor(j,_,$){super(j),this.calls=_,this.maxExecTime=$,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const j=this.calls.map(([_,$])=>`${_}(${$.map(et=>(0,a.stringify)(et)).join(", ")})`);return(0,o.stripIndent)`${"Potential infinite recursion detected"}: ${j.join(" ... ")}.
      ${tt(this.maxExecTime)}`}elaborate(){return this.explain()}}return timeoutErrors.PotentialInfiniteRecursionError=rt,timeoutErrors}var makeWrapper$1={};Object.defineProperty(makeWrapper$1,"__esModule",{value:!0});makeWrapper$1.makeWrapper=void 0;function makeWrapper(i,s){for(const o in i)i.hasOwnProperty(o)&&Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o));for(const o of["length","name"])i.hasOwnProperty(o)&&Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o))}makeWrapper$1.makeWrapper=makeWrapper;var hasRequiredOperators;function requireOperators(){return hasRequiredOperators||(hasRequiredOperators=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.getProp=i.setProp=i.wrap=i.callIteratively=i.evaluateBinaryExpression=i.binaryOp=i.evaluateUnaryExpression=i.unaryOp=i.boolOrErr=i.callIfFuncAndRightArgs=i.makeLazyFunction=i.wrapLazyCallee=i.delayIt=i.forceIt=i.throwIfTimeout=void 0;const s=requireCreateContext(),o=requireErrors(),a=runtimeSourceError,nt=requireTimeoutErrors(),tt=astCreator,ot=astCreator,at=makeWrapper$1,rt=rttc;function it(yt,pt,wt,Et,Ct){if(wt-pt>yt.maxExecTime)throw new nt.PotentialInfiniteLoopError(ot.locationDummyNode(Et,Ct),yt.maxExecTime)}i.throwIfTimeout=it;function j(yt){if(yt!=null&&yt.isMemoized!==void 0){if(yt.isMemoized)return yt.memoizedValue;const pt=j(yt.f());return yt.isMemoized=!0,yt.memoizedValue=pt,pt}else return yt}i.forceIt=j;function _(yt){return{isMemoized:!1,value:void 0,f:yt}}i.delayIt=_;function $(yt){if(yt=j(yt),typeof yt=="function"){const pt=(...wt)=>yt(...wt.map(j));return(0,at.makeWrapper)(yt,pt),pt[Symbol.toStringTag]=()=>yt.toString(),pt.toString=()=>yt.toString(),pt}else if(yt instanceof s.LazyBuiltIn)if(yt.evaluateArgs){const pt=(...wt)=>yt.func(...wt.map(j));return(0,at.makeWrapper)(yt.func,pt),pt[Symbol.toStringTag]=()=>yt.toString(),pt.toString=()=>yt.toString(),pt}else return yt;return yt}i.wrapLazyCallee=$;function et(yt){return new s.LazyBuiltIn(yt,!1)}i.makeLazyFunction=et;function st(yt,pt,wt,...Et){const Ct=ot.callExpression(ot.locationDummyNode(pt,wt),Et,{start:{line:pt,column:wt},end:{line:pt,column:wt}});if(typeof yt=="function"){const kt=yt;yt.transformedFunction!==void 0&&(yt=yt.transformedFunction);const Tt=yt.length,At=Et.length,It=yt.minArgsNeeded!==void 0;if(It?yt.minArgsNeeded>At:Tt!==At)throw new o.InvalidNumberOfArguments(Ct,It?yt.minArgsNeeded:Tt,At,It);try{const Ot=Et.map(j);return kt(...Ot)}catch(Ot){throw Ot instanceof a.RuntimeSourceError||Ot instanceof o.ExceptionError?Ot:new o.ExceptionError(Ot,Ct.loc)}}else if(yt instanceof s.LazyBuiltIn)try{return yt.evaluateArgs&&(Et=Et.map(j)),yt.func(...Et)}catch(kt){throw kt instanceof a.RuntimeSourceError||kt instanceof o.ExceptionError?kt:new o.ExceptionError(kt,Ct.loc)}else throw new o.CallingNonFunctionValue(yt,Ct)}i.callIfFuncAndRightArgs=st;function lt(yt,pt,wt){yt=j(yt);const Et=rt.checkIfStatement(ot.locationDummyNode(pt,wt),yt);if(Et===void 0)return yt;throw Et}i.boolOrErr=lt;function ct(yt,pt,wt,Et){pt=j(pt);const Ct=rt.checkUnaryExpression(ot.locationDummyNode(wt,Et),yt,pt);if(Ct===void 0)return ht(yt,pt);throw Ct}i.unaryOp=ct;function ht(yt,pt){return yt==="!"?!pt:yt==="-"?-pt:+pt}i.evaluateUnaryExpression=ht;function ut(yt,pt,wt,Et,Ct,kt){wt=j(wt),Et=j(Et);const Tt=rt.checkBinaryExpression(ot.locationDummyNode(Ct,kt),yt,pt,wt,Et);if(Tt===void 0)return mt(yt,wt,Et);throw Tt}i.binaryOp=ut;function mt(yt,pt,wt){switch(yt){case"+":return pt+wt;case"-":return pt-wt;case"*":return pt*wt;case"/":return pt/wt;case"%":return pt%wt;case"===":return pt===wt;case"!==":return pt!==wt;case"<=":return pt<=wt;case"<":return pt<wt;case">":return pt>wt;case">=":return pt>=wt;default:return}}i.evaluateBinaryExpression=mt;const gt=(yt,pt,...wt)=>{let Et=-1,Ct=-1;const kt=Date.now(),Tt=[];for(;;){const At=(0,tt.locationDummyNode)(Et,Ct);if(yt=j(yt),typeof yt=="function"){yt.transformedFunction!==void 0&&(yt=yt.transformedFunction);const Ot=yt.length,Mt=wt.length,Dt=yt.minArgsNeeded!==void 0;if(Dt?yt.minArgsNeeded>Mt:Ot!==Mt)throw new o.InvalidNumberOfArguments((0,tt.callExpression)(At,wt,{start:{line:Et,column:Ct},end:{line:Et,column:Ct}}),Dt?yt.minArgsNeeded:Ot,Mt,Dt)}else if(yt instanceof s.LazyBuiltIn)yt.evaluateArgs&&(wt=wt.map(j)),yt=yt.func;else throw new o.CallingNonFunctionValue(yt,At);let It;try{if(It=yt(...wt),Date.now()-kt>pt.maxExecTime)throw new nt.PotentialInfiniteRecursionError(At,Tt,pt.maxExecTime)}catch(Ot){throw Ot instanceof a.RuntimeSourceError||Ot instanceof o.ExceptionError?Ot:new o.ExceptionError(Ot,At.loc)}if(It==null)return It;if(It.isTail===!0)yt=It.function,wt=It.arguments,Et=It.line,Ct=It.column,Tt.push([It.functionName,wt]);else return It.isTail===!1?It.value:It}};i.callIteratively=gt;const vt=(yt,pt,wt,Et)=>{wt&&(yt.minArgsNeeded=yt.length);const Ct=(...kt)=>(0,i.callIteratively)(yt,Et,...kt);return(0,at.makeWrapper)(yt,Ct),Ct.transformedFunction=yt,Ct[Symbol.toStringTag]=()=>pt,Ct.toString=()=>pt,Ct};i.wrap=vt;const dt=(yt,pt,wt,Et,Ct)=>{const kt=(0,tt.locationDummyNode)(Et,Ct),Tt=rt.checkMemberAccess(kt,yt,pt);if(Tt===void 0)return yt[pt]=wt;throw Tt};i.setProp=dt;const St=(yt,pt,wt,Et)=>{const Ct=(0,tt.locationDummyNode)(wt,Et),kt=rt.checkMemberAccess(Ct,yt,pt);if(kt===void 0){if(yt[pt]!==void 0&&!yt.hasOwnProperty(pt))throw new o.GetInheritedPropertyError(Ct,yt,pt);return yt[pt]}else throw kt};i.getProp=St}(operators)),operators}var hasRequiredInterpreter;function requireInterpreter(){return hasRequiredInterpreter||(hasRequiredInterpreter=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.apply=i.evaluate=i.evaluators=i.pushEnvironment=i.createBlockEnvironment=i.actualValue=void 0;const s=lodashExports,o=constants,a=requireCreateContext(),nt=requireErrors(),tt=runtimeSourceError,ot=moduleLoader,at=inspector,rt=types,it=astCreator,j=requireOperators(),_=rttc,$=requireClosure();class et{}class st{}class lt{constructor(rr){this.value=rr}}class ct{constructor(rr,Yt,br){this.callee=rr,this.args=Yt,this.node=br}}class ht{constructor(rr,Yt){this.exp=rr,this.env=Yt,this.isMemoized=!1,this.value=null}}const ut=(tr,rr)=>new ht(tr,rr);function*mt(tr,rr){if(tr instanceof ht){if(tr.isMemoized)return tr.value;(0,i.pushEnvironment)(rr,tr.env);const Yt=yield*gt(tr.exp,rr);return Mt(rr),tr.value=Yt,tr.isMemoized=!0,Yt}else return tr}function*gt(tr,rr){const Yt=yield*dr(tr,rr);return yield*mt(Yt,rr)}i.actualValue=gt;const vt=(tr,rr,Yt)=>{const br={name:tr.functionName,tail:tr.environment,head:{},id:(0,s.uniqueId)()};return Yt&&(br.callExpression=Object.assign(Object.assign({},Yt),{arguments:rr.map(it.primitive)})),tr.node.params.forEach((_r,fr)=>{_r.type==="RestElement"?br.head[_r.argument.name]=rr.slice(fr):br.head[_r.name]=rr[fr]}),br},dt=(tr,rr="blockEnvironment",Yt={})=>({name:rr,tail:It(tr),head:Yt,id:(0,s.uniqueId)()});i.createBlockEnvironment=dt;const St=(tr,rr)=>{throw tr.errors.push(rr),tr.runtime.environments=tr.runtime.environments.slice(-tr.numberOfOuterEnvironments),rr},yt=Symbol("Used to implement hoisting");function pt(tr,rr,Yt){const br=It(tr);if(br.head.hasOwnProperty(rr)){const _r=Object.getOwnPropertyDescriptors(br.head);return St(tr,new nt.VariableRedeclaration(Yt,rr,_r[rr].writable))}return br.head[rr]=yt,br}function wt(tr,rr){for(const Yt of rr.declarations)pt(tr,Yt.id.name,rr)}function Et(tr,rr){for(const Yt of rr.specifiers)pt(tr,Yt.local.name,rr)}function Ct(tr,rr){for(const Yt of rr.body)switch(Yt.type){case"VariableDeclaration":wt(tr,Yt);break;case"FunctionDeclaration":pt(tr,Yt.id.name,Yt);break}}function kt(tr,rr,Yt,br=!1){const _r=It(tr);return _r.head[rr]!==yt?St(tr,new nt.VariableRedeclaration(tr.runtime.nodes[0],rr,!br)):(Object.defineProperty(_r.head,rr,{value:Yt,writable:!br,enumerable:!0}),_r)}function*Tt(tr,rr){(0,at.checkEditorBreakpoints)(tr,rr),tr.runtime.nodes.unshift(rr),yield tr}function*At(tr){tr.runtime.break=!1,tr.runtime.nodes.shift(),yield tr}const It=tr=>tr.runtime.environments[0],Ot=(tr,rr)=>{tr.runtime.environments[0]=rr,tr.runtime.environmentTree.insert(rr)},Mt=tr=>tr.runtime.environments.shift(),Dt=(tr,rr)=>{tr.runtime.environments.unshift(rr),tr.runtime.environmentTree.insert(rr)};i.pushEnvironment=Dt;const Bt=(tr,rr)=>{let Yt=It(tr);for(;Yt;){if(Yt.head.hasOwnProperty(rr))return Yt.head[rr]===yt?St(tr,new nt.UnassignedVariable(rr,tr.runtime.nodes[0])):Yt.head[rr];Yt=Yt.tail}return St(tr,new nt.UndefinedVariable(rr,tr.runtime.nodes[0]))},qt=(tr,rr,Yt)=>{let br=It(tr);for(;br;)if(br.head.hasOwnProperty(rr)){if(br.head[rr]===yt)break;if(Object.getOwnPropertyDescriptors(br.head)[rr].writable){br.head[rr]=Yt;return}return St(tr,new nt.ConstAssignment(tr.runtime.nodes[0],rr))}else br=br.tail;return St(tr,new nt.UndefinedVariable(rr,tr.runtime.nodes[0]))},Wt=(tr,rr,Yt,br)=>{var _r;if(rr instanceof $.default){const fr=rr.node.params,Wr=((_r=fr[fr.length-1])===null||_r===void 0?void 0:_r.type)==="RestElement";if(Wr?fr.length-1>Yt.length:fr.length!==Yt.length)return St(tr,new nt.InvalidNumberOfArguments(br,Wr?fr.length-1:fr.length,Yt.length,Wr))}else{const fr=rr.minArgsNeeded!=null;if(fr?rr.minArgsNeeded>Yt.length:rr.length!==Yt.length)return St(tr,new nt.InvalidNumberOfArguments(br,fr?rr.minArgsNeeded:rr.length,Yt.length,fr))}};function*Vt(tr,rr){const Yt=[];for(const br of rr.arguments)tr.variant===rt.Variant.LAZY?Yt.push(ut(br,It(tr))):br.type==="SpreadElement"?Yt.push(...yield*gt(br.argument,tr)):Yt.push(yield*gt(br,tr));return Yt}function Ht(tr){return tr.operator==="&&"?(0,it.conditionalExpression)(tr.left,tr.right,(0,it.literal)(!1),tr.loc):(0,it.conditionalExpression)(tr.left,(0,it.literal)(!0),tr.right,tr.loc)}function*Jt(tr,rr){const Yt=yield*gt(tr.test,rr),br=_.checkIfStatement(tr,Yt,rr.chapter);return br?St(rr,br):Yt?tr.consequent:tr.alternate}function*Qt(tr,rr){Ct(tr,rr);let Yt;for(const br of rr.body)if(Yt=yield*dr(br,tr),Yt instanceof lt||Yt instanceof ct||Yt instanceof et||Yt instanceof st)break;return Yt}i.evaluators={Literal:function*(tr,rr){return tr.value},TemplateLiteral:function*(tr){return tr.quasis[0].value.cooked},ThisExpression:function*(tr,rr){return It(rr).thisContext},ArrayExpression:function*(tr,rr){const Yt=[];for(const br of tr.elements)Yt.push(yield*dr(br,rr));return Yt},DebuggerStatement:function*(tr,rr){rr.runtime.break=!0,yield},FunctionExpression:function*(tr,rr){return new $.default(tr,It(rr),rr)},ArrowFunctionExpression:function*(tr,rr){return $.default.makeFromArrowFunction(tr,It(rr),rr)},Identifier:function*(tr,rr){return Bt(rr,tr.name)},CallExpression:function*(tr,rr){const Yt=yield*gt(tr.callee,rr),br=yield*Vt(rr,tr);let _r;return tr.callee.type==="MemberExpression"&&(_r=yield*gt(tr.callee.object,rr)),yield*gr(rr,Yt,br,tr,_r)},NewExpression:function*(tr,rr){const Yt=yield*dr(tr.callee,rr),br=[];for(const fr of tr.arguments)br.push(yield*dr(fr,rr));const _r={};return Yt instanceof $.default?(_r.__proto__=Yt.fun.prototype,Yt.fun.apply(_r,br)):(_r.__proto__=Yt.prototype,Yt.apply(_r,br)),_r},UnaryExpression:function*(tr,rr){const Yt=yield*gt(tr.argument,rr),br=_.checkUnaryExpression(tr,tr.operator,Yt,rr.chapter);return br?St(rr,br):(0,j.evaluateUnaryExpression)(tr.operator,Yt)},BinaryExpression:function*(tr,rr){const Yt=yield*gt(tr.left,rr),br=yield*gt(tr.right,rr),_r=_.checkBinaryExpression(tr,tr.operator,rr.chapter,Yt,br);return _r?St(rr,_r):(0,j.evaluateBinaryExpression)(tr.operator,Yt,br)},ConditionalExpression:function*(tr,rr){return yield*this.IfStatement(tr,rr)},LogicalExpression:function*(tr,rr){return yield*this.ConditionalExpression(Ht(tr),rr)},VariableDeclaration:function*(tr,rr){const Yt=tr.declarations[0],br=tr.kind==="const",_r=Yt.id,fr=yield*dr(Yt.init,rr);kt(rr,_r.name,fr,br)},ContinueStatement:function*(tr,rr){return new st},BreakStatement:function*(tr,rr){return new et},ForStatement:function*(tr,rr){const Yt=(0,i.createBlockEnvironment)(rr,"forLoopEnvironment");(0,i.pushEnvironment)(rr,Yt);const br=tr.init,_r=tr.test,fr=tr.update;br.type==="VariableDeclaration"&&wt(rr,br),yield*gt(br,rr);let Wr;for(;yield*gt(_r,rr);){const nn=(0,i.createBlockEnvironment)(rr,"forBlockEnvironment");(0,i.pushEnvironment)(rr,nn);for(const an in Yt.head)Yt.head.hasOwnProperty(an)&&(pt(rr,an,tr),kt(rr,an,Yt.head[an],!0));if(Wr=yield*gt(tr.body,rr),Mt(rr),Wr instanceof st&&(Wr=void 0),Wr instanceof et){Wr=void 0;break}if(Wr instanceof lt||Wr instanceof ct)break;yield*gt(fr,rr)}return Mt(rr),Wr},MemberExpression:function*(tr,rr){let Yt=yield*gt(tr.object,rr);Yt instanceof $.default&&(Yt=Yt.fun);let br;tr.computed?br=yield*gt(tr.property,rr):br=tr.property.name;const _r=_.checkMemberAccess(tr,Yt,br);if(_r)return St(rr,_r);if(Yt!=null&&typeof Yt[br]<"u"&&!Yt.hasOwnProperty(br))return St(rr,new nt.GetInheritedPropertyError(tr,Yt,br));try{return Yt[br]}catch{return St(rr,new nt.GetPropertyError(tr,Yt,br))}},AssignmentExpression:function*(tr,rr){if(tr.left.type==="MemberExpression"){const _r=tr.left,fr=yield*gt(_r.object,rr);let Wr;_r.computed?Wr=yield*gt(_r.property,rr):Wr=_r.property.name;const nn=_.checkMemberAccess(tr,fr,Wr);if(nn)return St(rr,nn);const an=yield*dr(tr.right,rr);try{fr[Wr]=an}catch{return St(rr,new nt.SetPropertyError(tr,fr,Wr))}return an}const Yt=tr.left,br=yield*dr(tr.right,rr);return qt(rr,Yt.name,br),br},FunctionDeclaration:function*(tr,rr){const Yt=tr.id,br=new $.default(tr,It(rr),rr);kt(rr,Yt.name,br,!0)},IfStatement:function*(tr,rr){const Yt=yield*Jt(tr,rr);if(Yt!==null)return yield*dr(Yt,rr)},ExpressionStatement:function*(tr,rr){return yield*dr(tr.expression,rr)},ReturnStatement:function*(tr,rr){let Yt=tr.argument;for(;Yt.type==="LogicalExpression"||Yt.type==="ConditionalExpression";)Yt.type==="LogicalExpression"&&(Yt=Ht(Yt)),Yt=yield*Jt(Yt,rr);if(Yt.type==="CallExpression"&&rr.variant!==rt.Variant.LAZY){const br=yield*gt(Yt.callee,rr),_r=yield*Vt(rr,Yt);return new ct(br,_r,Yt)}else return new lt(yield*dr(Yt,rr))},WhileStatement:function*(tr,rr){let Yt;for(;(yield*gt(tr.test,rr))&&!(Yt instanceof lt)&&!(Yt instanceof et)&&!(Yt instanceof ct);)Yt=yield*gt(tr.body,rr);if(!(Yt instanceof et))return Yt},ObjectExpression:function*(tr,rr){const Yt={};for(const br of tr.properties){const _r=br;let fr;_r.key.type==="Identifier"?fr=_r.key.name:fr=yield*dr(_r.key,rr),Yt[fr]=yield*dr(_r.value,rr)}return Yt},BlockStatement:function*(tr,rr){const Yt=(0,i.createBlockEnvironment)(rr,"blockEnvironment");(0,i.pushEnvironment)(rr,Yt);const br=yield*Qt(rr,tr);return Mt(rr),br},ImportDeclaration:function*(tr,rr){try{const Yt=tr.source.value,br=tr.specifiers.map(fr=>{if(fr.type!=="ImportSpecifier")throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${fr.type}.`);return{imported:fr.imported.name,local:fr.local.name}});Yt in rr.moduleContexts||(rr.moduleContexts[Yt]={state:null,tabs:(0,ot.loadModuleTabs)(Yt,tr)});const _r=(0,ot.loadModuleBundle)(Yt,rr,tr);Et(rr,tr);for(const fr of br)kt(rr,fr.local,_r[fr.imported],!0);return}catch(Yt){return St(rr,Yt)}},Program:function*(tr,rr){rr.numberOfOuterEnvironments+=1;const Yt=(0,i.createBlockEnvironment)(rr,"programEnvironment");return(0,i.pushEnvironment)(rr,Yt),yield*mt(yield*Qt(rr,tr),rr)}};function cr(tr){return(0,s.isEmpty)(tr.head)}function hr(tr){if(cr(tr)){const rr=tr.tail;return rr===null?tr:hr(rr)}else return tr}function*dr(tr,rr){yield*Tt(rr,tr);const Yt=yield*i.evaluators[tr.type](tr,rr);return yield*At(rr),Yt instanceof $.default&&Object.defineProperty(hr(It(rr)).head,(0,s.uniqueId)(),{value:Yt,writable:!1,enumerable:!0}),Yt}i.evaluate=dr;function*gr(tr,rr,Yt,br,_r){let fr,Wr=0;for(;!(fr instanceof lt);)if(rr instanceof $.default){Wt(tr,rr,Yt,br);const nn=vt(rr,Yt,br);fr instanceof ct?Ot(tr,nn):((0,i.pushEnvironment)(tr,nn),Wr++);const an=(0,i.createBlockEnvironment)(tr,"functionBodyEnvironment");an.thisContext=_r,(0,i.pushEnvironment)(tr,an),fr=yield*Qt(tr,rr.node.body),Mt(tr),fr instanceof ct?(rr=fr.callee,br=fr.node,Yt=fr.args):fr instanceof lt||(fr=new lt(void 0))}else if(rr instanceof a.LazyBuiltIn)try{let nn=Yt;if(rr.evaluateArgs){nn=[];for(const an of Yt)nn.push(yield*mt(an,tr))}fr=rr.func.apply(_r,nn);break}catch(nn){tr.runtime.environments=tr.runtime.environments.slice(-tr.numberOfOuterEnvironments);const an=br?br.loc:o.UNKNOWN_LOCATION;if(!(nn instanceof tt.RuntimeSourceError||nn instanceof nt.ExceptionError))return St(tr,new nt.ExceptionError(nn,an));throw fr=void 0,nn}else if(typeof rr=="function"){Wt(tr,rr,Yt,br);try{const nn=[];for(const an of Yt)nn.push(yield*mt(an,tr));fr=rr.apply(_r,nn);break}catch(nn){tr.runtime.environments=tr.runtime.environments.slice(-tr.numberOfOuterEnvironments);const an=br?br.loc:o.UNKNOWN_LOCATION;if(!(nn instanceof tt.RuntimeSourceError||nn instanceof nt.ExceptionError))return St(tr,new nt.ExceptionError(nn,an));throw fr=void 0,nn}}else return St(tr,new nt.CallingNonFunctionValue(rr,br));fr instanceof lt&&(fr=fr.value);for(let nn=1;nn<=Wr;nn++)Mt(tr);return fr}i.apply=gr}(interpreter)),interpreter}var hasRequiredClosure;function requireClosure(){if(hasRequiredClosure)return closure;hasRequiredClosure=1,Object.defineProperty(closure,"__esModule",{value:!0});const i=astring,s=astCreator,o=requireInterpreter(),a=(ot,at,rt)=>{function it(){const j=Array.prototype.slice.call(arguments),_=(0,o.apply)(at,ot,j,(0,s.callExpression)((0,s.identifier)(rt),j),this);let $=_.next();for(;!$.done;)$=_.next();return $.value}return Object.defineProperty(it,"name",{value:rt}),Object.setPrototypeOf(it,()=>{}),Object.defineProperty(it,"Inherits",{value:j=>{it.prototype=Object.create(j.prototype),it.prototype.constructor=it}}),it.toString=()=>(0,i.generate)(ot.originalNode),it.call=(j,..._)=>it.apply(j,_),it};class nt extends Function{constructor(at){return super(),Object.setPrototypeOf(at,new.target.prototype)}}class tt extends nt{constructor(at,rt,it){super(function(..._){return j.apply(this,_)}),this.node=at,this.environment=rt,this.originalNode=at,this.node.type==="FunctionDeclaration"&&this.node.id!==null?this.functionName=this.node.id.name:this.functionName=(this.node.params.length===1?"":"(")+this.node.params.map(_=>_.name).join(", ")+(this.node.params.length===1?"":")")+" => ...";const j=a(this,it,this.functionName);this.fun=j}static makeFromArrowFunction(at,rt,it){function j(et){return et.type!=="BlockStatement"}const _=j(at.body)?[(0,s.returnStatement)(at.body,at.body.loc)]:at.body,$=new tt((0,s.blockArrowFunction)(at.params,_,at.loc),rt,it);return $.originalNode=at,$}toString(){return(0,i.generate)(this.originalNode)}}return closure.default=tt,closure}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1,Object.defineProperty(stringify$1,"__esModule",{value:!0}),stringify$1.lineTreeToString=stringify$1.stringDagToSingleLine=stringify$1.stringDagToLineTree=stringify$1.valueToStringDag=stringify$1.typeToString=stringify$1.stringify=void 0;const i=constants,s=requireClosure(),o=requireOperators();function a(_){return typeof _.replPrefix=="string"&&typeof _.replSuffix=="string"&&typeof _.replArrayContents=="function"}const nt=(_,$=2,et=80)=>{if(_=(0,o.forceIt)(_),typeof $=="string")throw"stringify with arbitrary indent string not supported";let st=$;return $>10&&(st=10),j(rt(at(_),st,et))};stringify$1.stringify=nt;function tt(_){return ot(_)}stringify$1.typeToString=tt;function ot(_,$={_next:0}){function et(st){return ot(st,$)}switch(_.kind){case"primitive":return _.name;case"variable":return _.constraint&&_.constraint!=="none"?_.constraint:(_.name in $||($[_.name]="T"+$._next++),$[_.name]);case"list":return`List<${et(_.elementType)}>`;case"array":return`Array<${et(_.elementType)}>`;case"pair":const st=et(_.headType);return _.tailType.kind==="list"&&st===et(_.tailType.elementType)?`List<${st}>`:`[${et(_.headType)}, ${et(_.tailType)}]`;case"function":let lt=_.parameterTypes.map(et).join(", ");return(_.parameterTypes.length!==1||_.parameterTypes[0].kind==="function")&&(lt=`(${lt})`),`${lt} -> ${et(_.returnType)}`;default:return"Unable to infer type"}}function at(_){const $=new Map,et=new Map;function st(mt){const gt=et.get(mt);if(gt!==void 0)return[gt,!1];$.set(mt,$.size);const vt=mt,[dt,St]=ut(vt[0]),[yt,pt]=ut(vt[1]),wt=St||pt;$.delete(mt);const Et={type:"pair",head:dt,tail:yt,length:dt.length+yt.length+4};return wt||et.set(mt,Et),[Et,wt]}function lt(mt,gt,vt,dt){const St=et.get(mt);if(St!==void 0)return[St,!1];$.set(mt,$.size);const yt=gt.map(ut);let pt=vt.length+dt.length+Math.max(0,yt.length-1)*2,wt=!1;for(let Ct=0;Ct<yt.length;Ct++)yt[Ct]==null&&(yt[Ct]=ut(void 0)),pt+=yt[Ct][0].length,wt||(wt=yt[Ct][1]);$.delete(mt);const Et={type:"arraylike",elems:yt.map(Ct=>Ct[0]),prefix:vt,suffix:dt,length:pt};return wt||et.set(mt,Et),[Et,wt]}function ct(mt){const gt=et.get(mt);if(gt!==void 0)return[gt,!1];$.set(mt,$.size);const vt=Object.entries(mt),dt=vt.map(Et=>ut(Et[1]));let St=2+Math.max(0,vt.length-1)*2+vt.length*2,yt=!1;const pt=[];for(let Et=0;Et<dt.length;Et++)St+=vt[Et][0].length,St+=dt[Et].length,yt||(yt=dt[Et][1]),pt.push({type:"kvpair",key:vt[Et][0],value:dt[Et][0],length:dt[Et][0].length+vt[Et][0].length});$.delete(mt);const wt={type:"arraylike",elems:pt,prefix:"{",suffix:"}",length:St};return yt||et.set(mt,wt),[wt,yt]}function ht(mt){const gt=mt.split(`
`);return gt.length===1?[{type:"terminal",str:gt[0],length:gt[0].length},!1]:[{type:"multiline",lines:gt,length:1/0},!1]}function ut(mt){if(mt===null)return[{type:"terminal",str:"null",length:4},!1];if(mt===void 0)return[{type:"terminal",str:"undefined",length:9},!1];if($.has(mt))return[{type:"terminal",str:"...<circular>",length:13},!0];if(mt instanceof s.default)return ht(mt.toString());if(typeof mt=="string"){const gt=JSON.stringify(mt);return[{type:"terminal",str:gt,length:gt.length},!1]}else return typeof mt!="object"?ht(mt.toString()):$.size>i.MAX_LIST_DISPLAY_LENGTH?[{type:"terminal",str:"...<truncated>",length:14},!1]:typeof mt.toReplString=="function"?ht(mt.toReplString()):Array.isArray(mt)?mt.length===2?st(mt):lt(mt,mt,"[","]"):a(mt)?lt(mt,mt.replArrayContents(),mt.replPrefix,mt.replSuffix):Object.getPrototypeOf(mt)===Object.prototype?ct(mt):ht(mt.toString())}return ut(_)[0]}stringify$1.valueToStringDag=at;function rt(_,$,et){const lt="["+" ".repeat(Math.max(0,$-1)),ct=new Map;function ht(ut){const mt=ct.get(ut);if(mt!==void 0)return mt;let gt;if(ut.type==="terminal")gt={type:"line",line:ut};else if(ut.type==="multiline")gt={type:"block",prefixFirst:"",prefixRest:"",block:ut.lines.map(vt=>({type:"line",line:{type:"terminal",str:vt,length:vt.length}})),suffixRest:"",suffixLast:""};else if(ut.type==="pair"){const vt=ht(ut.head),dt=ht(ut.tail);ut.length-2>et||vt.type!=="line"||dt.type!=="line"?gt={type:"block",prefixFirst:lt,prefixRest:"",block:[vt,dt],suffixRest:",",suffixLast:"]"}:gt={type:"line",line:ut}}else if(ut.type==="arraylike"){const vt=ut.elems.map(ht);ut.length-ut.prefix.length-ut.suffix.length>et||vt.some(dt=>dt.type!=="line")?gt={type:"block",prefixFirst:ut.prefix+" ".repeat(Math.max(0,$-ut.prefix.length)),prefixRest:" ".repeat(Math.max(ut.prefix.length,$)),block:vt,suffixRest:",",suffixLast:ut.suffix}:gt={type:"line",line:ut}}else if(ut.type==="kvpair"){const vt=ht(ut.value);ut.length>et||vt.type!=="line"?gt={type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(ut.key),length:0}},vt],suffixRest:":",suffixLast:""}:gt={type:"line",line:ut}}else throw"up";return ct.set(ut,gt),gt}return ht(_)}stringify$1.stringDagToLineTree=rt;function it(_){function $(et,st){if(et.type==="multiline")throw"Tried to format multiline string as single line string";if(et.type==="terminal")st.push(et.str);else if(et.type==="pair")st.push("["),$(et.head,st),st.push(", "),$(et.tail,st),st.push("]");else if(et.type==="kvpair")st.push(JSON.stringify(et.key)),st.push(": "),$(et.value,st);else if(et.type==="arraylike"){st.push(et.prefix),et.elems.length>0&&$(et.elems[0],st);for(let lt=1;lt<et.elems.length;lt++)st.push(", "),$(et.elems[lt],st);st.push(et.suffix)}return st}return $(_,[]).join("")}stringify$1.stringDagToSingleLine=it;function j(_){let $="";const et=new Map,st=new Map;function lt(ct,ht){const ut=st.get(ct);if(ut!==void 0){const vt=ut.get(ht.length);if(vt!==void 0){$+=$.substring(vt[0],vt[1]);return}}const mt=$.length;if(ct.type==="line")et.has(ct.line)||et.set(ct.line,it(ct.line)),$+=et.get(ct.line);else if(ct.type==="block"){$+=ct.prefixFirst;const vt=ht+" ".repeat(ct.prefixFirst.length),dt=ht+ct.prefixRest;lt(ct.block[0],vt);for(let St=1;St<ct.block.length;St++)$+=ct.suffixRest,$+=dt,lt(ct.block[St],dt);$+=ct.suffixLast}const gt=$.length;if(ut===void 0){const vt=new Map;vt.set(ht.length,[mt,gt]),st.set(ct,vt)}else ut.set(ht.length,[mt,gt])}return lt(_,`
`),$}return stringify$1.lineTreeToString=j,stringify$1}var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.SetPropertyError=errors.GetInheritedPropertyError=errors.GetPropertyError=errors.ConstAssignment=errors.VariableRedeclaration=errors.InvalidNumberOfArguments=errors.UnassignedVariable=errors.UndefinedVariable=errors.CallingNonFunctionValue=errors.MaximumStackLimitExceeded=errors.ExceptionError=errors.InterruptedError=void 0;const i=astring,s=types,o=requireStringify(),a=runtimeSourceError;class nt extends a.RuntimeSourceError{constructor(ht){super(ht)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}}errors.InterruptedError=nt;class tt{constructor(ht,ut){this.error=ht,this.location=ut,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}}errors.ExceptionError=tt;class ot extends a.RuntimeSourceError{constructor(ht,ut){super(ht),this.calls=ut,this.customGenerator=Object.assign(Object.assign({},i.baseGenerator),{CallExpression(mt,gt){gt.write((0,i.generate)(mt.callee)),gt.write("(");const vt=mt.arguments.map(dt=>(0,o.stringify)(dt.value));gt.write(vt.join(", ")),gt.write(")")}})}explain(){const ht=ut=>(0,i.generate)(ut,{generator:this.customGenerator});return`Maximum call stack size exceeded
  `+this.calls.map(ut=>ht(ut)+"..").join("  ")}elaborate(){return"TODO"}}errors.MaximumStackLimitExceeded=ot,ot.MAX_CALLS_TO_SHOW=3;class at extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.callee=ht,this.node=ut}explain(){return`Calling non-function value ${(0,o.stringify)(this.callee)}.`}elaborate(){const ht=this.callee,ut=(0,o.stringify)(ht);let mt="";mt=this.node.arguments.map(i.generate).join(", ");const vt=`Because ${ut} is not a function, you cannot run ${ut}(${mt}).`,dt=`If you were planning to perform multiplication by ${ut}, you need to use the * operator.`;return Number.isFinite(ht)?`${vt} ${dt}`:vt}}errors.CallingNonFunctionValue=at;class rt extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.name=ht}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}}errors.UndefinedVariable=rt;class it extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.name=ht}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}}errors.UnassignedVariable=it;class j extends a.RuntimeSourceError{constructor(ht,ut,mt,gt=!1){super(ht),this.expected=ut,this.got=mt,this.hasVarArgs=gt,this.calleeStr=(0,i.generate)(ht.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){const ht=this.calleeStr,ut=this.expected===1?"":"s";return`Try calling function ${ht} again, but with ${this.expected} argument${ut} instead. Remember that arguments are separated by a ',' (comma).`}}errors.InvalidNumberOfArguments=j;class _ extends a.RuntimeSourceError{constructor(ht,ut,mt){super(ht),this.node=ht,this.name=ut,this.writable=mt}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(this.writable===!0){const ht=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let ut="";return this.node.type==="FunctionDeclaration"?ut="("+this.node.params.map(i.generate).join(",")+") => {...":this.node.type==="VariableDeclaration"&&(ut=(0,i.generate)(this.node.declarations[0].init)),`${ht} As such, you can just do

	${this.name} = ${ut};
`}else return this.writable===!1?`You will need to declare another variable, as ${this.name} is read-only.`:""}}errors.VariableRedeclaration=_;class $ extends a.RuntimeSourceError{constructor(ht,ut){super(ht),this.name=ut}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}}errors.ConstAssignment=$;class et extends a.RuntimeSourceError{constructor(ht,ut,mt){super(ht),this.obj=ut,this.prop=mt}explain(){return`Cannot read property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetPropertyError=et;class st extends a.RuntimeSourceError{constructor(ht,ut,mt){super(ht),this.obj=ut,this.prop=mt,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.location=ht.loc}explain(){return`Cannot read inherited property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetInheritedPropertyError=st;class lt extends a.RuntimeSourceError{constructor(ht,ut,mt){super(ht),this.obj=ut,this.prop=mt}explain(){return`Cannot assign property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}return errors.SetPropertyError=lt,errors}var hasRequiredSchedulers;function requireSchedulers(){if(hasRequiredSchedulers)return schedulers;hasRequiredSchedulers=1,Object.defineProperty(schedulers,"__esModule",{value:!0}),schedulers.PreemptiveScheduler=schedulers.NonDetScheduler=schedulers.AsyncScheduler=void 0;const i=requireErrors(),s=inspector;class o{run(at,rt){return new Promise((it,j)=>{rt.runtime.isRunning=!0;let _=at.next();try{for(;!_.done;)_=at.next(),rt.runtime.break&&((0,s.saveState)(rt,at,this),_.done=!0)}catch{it({status:"error"})}finally{rt.runtime.isRunning=!1}rt.runtime.break?it({status:"suspended",it:at,scheduler:this,context:rt}):it({status:"finished",context:rt,value:_.value})})}}schedulers.AsyncScheduler=o;class a{run(at,rt){return new Promise((it,j)=>{try{const _=at.next();_.done?it({status:"finished",context:rt,value:_.value}):it({status:"suspended-non-det",it:at,scheduler:this,context:rt,value:_.value})}catch(_){tt(_,rt),it({status:"error"})}finally{rt.runtime.isRunning=!1}})}}schedulers.NonDetScheduler=a;class nt{constructor(at){this.steps=at}run(at,rt){return new Promise((it,j)=>{rt.runtime.isRunning=!0;let _=!1,$=at.next();const et=setInterval(()=>{let st=0;try{for(;!$.done&&st<this.steps;)st++,$=at.next(),_=rt.runtime.break&&rt.runtime.debuggerOn,_&&($.done=!0);(0,s.saveState)(rt,at,this)}catch(lt){tt(lt,rt),rt.runtime.isRunning=!1,clearInterval(et),it({status:"error"})}$.done&&(rt.runtime.isRunning=!1,clearInterval(et),it(_?{status:"suspended",it:at,scheduler:this,context:rt}:{status:"finished",context:rt,value:$.value}))})})}}schedulers.PreemptiveScheduler=nt;function tt(ot,at){if(/Maximum call stack/.test(ot.toString())){const rt=at.runtime.environments,it=[];let j=0;for(let _=0;j<i.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&_<rt.length;_++)rt[_].callExpression&&(it.unshift(rt[_].callExpression),j++);at.errors.push(new i.MaximumStackLimitExceeded(at.runtime.nodes[0],it))}}return schedulers}var lazyList_prelude={};Object.defineProperty(lazyList_prelude,"__esModule",{value:!0});lazyList_prelude.lazyListPrelude=void 0;lazyList_prelude.lazyListPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
    return is_pair(xs)
        ? (is_pair(ys) &&
           equal(head(xs), head(ys)) &&
           equal(tail(xs), tail(ys)))
        : is_null(xs)
        ? is_null(ys)
        : is_number(xs)
        ? (is_number(ys) && xs === ys)
        : is_string(xs)
        ? (is_string(ys) && xs === ys)
        :  xs === ys;
}

// returns the length of a given argument list
// assumes that the argument is a list

function length(xs) {
  return is_null(xs) ? 0 : 1 + length(tail(xs));
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function map(f, xs) {
  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));
}

// build_list takes a nonnegative integer n as first argument,
// and a function fun as second argument.
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function build_list(fun, n) {
  function build(i, fun, already_built) {
    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));
  }
  return build(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function list_to_string(xs) {
    return is_null(xs)
        ? "null"
        : is_pair(xs)
            ? "[" + list_to_string(head(xs)) + "," +
                list_to_string(tail(xs)) + "]"
            : stringify(xs);
}

// reverse reverses the argument, assumed to be a list

function reverse(xs) {
  function rev(original, reversed) {
    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));
  }
  return rev(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function append(xs, ys) {
  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function remove(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));
}

// Similar to remove, but removes all instances of v
// instead of just the first

function remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? remove_all(v, tail(xs))
    : pair(head(xs), remove_all(v, tail(xs)));
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function filter(pred, xs) {
  return is_null(xs)
    ? xs
    : pred(head(xs))
    ? pair(head(xs), filter(pred, tail(xs)))
    : filter(pred, tail(xs));
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function enum_list(start, end) {
  const newStart = start + 1;
  return start > end ? null : pair(start, enum_list(newStart, end));
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  const rest = tail(xs);
  return n === 0 ? head(xs) : list_ref(rest, n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function accumulate(f, initial, xs) {
  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));
}
`;var list$1={},hasRequiredList;function requireList(){if(hasRequiredList)return list$1;hasRequiredList=1,Object.defineProperty(list$1,"__esModule",{value:!0}),list$1.rawDisplayList=list$1.set_tail=list$1.set_head=list$1.vector_to_list=list$1.list_to_vector=list$1.is_list=list$1.list=list$1.is_null=list$1.tail=list$1.head=list$1.is_pair=list$1.pair=void 0;const i=requireStringify();function s(st){return Array.isArray===void 0?st instanceof Array:Array.isArray(st)}function o(st,lt){return[st,lt]}list$1.pair=o;function a(st){return s(st)&&st.length===2}list$1.is_pair=a;function nt(st){if(a(st))return st[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.head=nt;function tt(st){if(a(st))return st[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.tail=tt;function ot(st){return st===null}list$1.is_null=ot;function at(...st){let lt=null;for(let ct=st.length-1;ct>=0;ct-=1)lt=o(st[ct],lt);return lt}list$1.list=at;function rt(st){for(;a(st);)st=tt(st);return ot(st)}list$1.is_list=rt;function it(st){const lt=[];for(;!ot(st);)lt.push(nt(st)),st=tt(st);return lt}list$1.list_to_vector=it;function j(st){return at(...st)}list$1.vector_to_list=j;function _(st,lt){if(a(st)){st[0]=lt;return}else throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.set_head=_;function $(st,lt){if(a(st)){st[1]=lt;return}else throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.set_tail=$;function et(st,lt,ct){const ht=new Set,ut=new Map;class mt{constructor(yt){this.replPrefix="list(",this.replSuffix=")",this.listNode=yt}replArrayContents(){const yt=[];let pt=this.listNode;for(;pt!==null;)yt.push(nt(pt)),pt=tt(pt);return yt}}function gt(St){return ut.get(St)||St}const vt=[];let dt=0;for(vt.push(lt);dt<vt.length;){const St=vt[dt];dt++,!ht.has(St)&&(ht.add(St),a(St)&&vt.push(nt(St),tt(St)))}for(;vt.length>0;){const St=vt.pop();if(!a(St))continue;const yt=nt(St),pt=tt(St),wt=gt(pt),Et=ot(wt)||wt instanceof mt?new mt(o(yt,pt)):o(yt,pt);ut.set(St,Et)}for(const St of ut.values())if(a(St))_(St,gt(nt(St))),$(St,gt(tt(St)));else if(St instanceof mt){_(St.listNode,gt(nt(St.listNode)));let yt=gt(tt(St.listNode));yt instanceof mt&&(yt=yt.listNode),$(St.listNode,yt)}return st(gt(lt),ct),lt}return list$1.rawDisplayList=et,list$1}var list_prelude={};Object.defineProperty(list_prelude,"__esModule",{value:!0});list_prelude.listPrelude=void 0;list_prelude.listPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
  return is_pair(xs)
  ? (is_pair(ys) &&
    equal(head(xs), head(ys)) &&
    equal(tail(xs), tail(ys)))
  : is_null(xs)
  ? is_null(ys)
  : is_number(xs)
  ? (is_number(ys) && xs === ys)
  : is_boolean(xs)
  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))
  : is_string(xs)
  ? (is_string(ys) && xs === ys)
  : is_undefined(xs)
  ? is_undefined(ys)
  : is_function(xs)
    // we know now that xs is a function,
    // but we use an if check anyway to make use of the type predicate
  ? (is_function(ys) && xs === ys)
  : false;
}


// returns the length of a given argument list
// assumes that the argument is a list

function $length(xs, acc) {
    return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function $map(f, xs, acc) {
    return is_null(xs)
           ? reverse(acc)
           : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
    return $map(f, xs, null);
}

// build_list takes a a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function $build_list(i, fun, already_built) {
    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));
}

function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function $list_to_string(xs, cont) {
    return is_null(xs)
        ? cont("null")
        : is_pair(xs)
        ? $list_to_string(
              head(xs),
              x => $list_to_string(
                       tail(xs),
                       y => cont("[" + x + "," + y + "]")))
        : cont(stringify(xs));
}

function list_to_string(xs) {
    return $list_to_string(xs, x => x);
}

// reverse reverses the argument, assumed to be a list

function $reverse(original, reversed) {
    return is_null(original)
           ? reversed
           : $reverse(tail(original), pair(head(original), reversed));
}

function reverse(xs) {
    return $reverse(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function $append(xs, ys, cont) {
    return is_null(xs)
           ? cont(ys)
           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));
}

function append(xs, ys) {
    return $append(xs, ys, xs => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs)
         ? null
	 : v === head(xs)
	 ? xs
	 : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? app(rev(acc), tail(xs))
         : $remove(v, tail(xs), pair(head(xs), acc));
}

function remove(v, xs) {
    return $remove(v, xs, null);
}

// Similar to remove, but removes all instances of v
// instead of just the first

function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? $remove_all(v, tail(xs), acc)
         : $remove_all(v, tail(xs), pair(head(xs), acc));
}

function remove_all(v, xs) {
    return $remove_all(v, xs, null);
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}

function filter(pred, xs) {
    return $filter(pred, xs, null);
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end
         ? rev(acc)
         : $enum_list(start + 1, end, pair(start, acc));
}

function enum_list(start, end) {
    return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  return n === 0
         ? head(xs)
         : list_ref(tail(xs), n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function $accumulate(f, initial, xs, cont) {
    return is_null(xs)
           ? cont(initial)
           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));
}

function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, x => x);
}
`;var misc={},hasRequiredMisc;function requireMisc(){if(hasRequiredMisc)return misc;hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.get_time=misc.arity=misc.char_at=misc.parse_int=misc.array_length=misc.is_array=misc.has_own_property=misc.is_NaN=misc.is_function=misc.is_object=misc.is_boolean=misc.is_string=misc.is_undefined=misc.is_number=misc.timed=misc.error_message=misc.rawDisplay=void 0;const i=requireClosure(),s=requireStringify();function o(mt,gt,vt){return console.log((gt===void 0?"":gt+" ")+mt.toString()),mt}misc.rawDisplay=o;function a(mt,...gt){const vt=(gt[0]===void 0?"":gt[0]+" ")+(0,s.stringify)(mt);throw new Error(vt)}misc.error_message=a;function nt(mt,gt,vt,dt){return(...St)=>{const yt=ut(),pt=gt(...St),wt=ut()-yt;return dt("Duration: "+Math.round(wt)+"ms","",vt),pt}}misc.timed=nt;function tt(mt){return typeof mt=="number"}misc.is_number=tt;function ot(mt){return typeof mt>"u"}misc.is_undefined=ot;function at(mt){return typeof mt=="string"}misc.is_string=at;function rt(mt){return typeof mt=="boolean"}misc.is_boolean=rt;function it(mt){return typeof mt=="object"||j(mt)}misc.is_object=it;function j(mt){return typeof mt=="function"}misc.is_function=j;function _(mt){return tt(mt)&&isNaN(mt)}misc.is_NaN=_;function $(mt,gt){return mt.hasOwnProperty(gt)}misc.has_own_property=$;function et(mt){return mt instanceof Array}misc.is_array=et;function st(mt){return mt.length}misc.array_length=st;function lt(mt,gt){if(typeof mt=="string"&&typeof gt=="number"&&Number.isInteger(gt)&&2<=gt&&gt<=36)return parseInt(mt,gt);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")}misc.parse_int=lt;function ct(mt,gt){if(typeof mt!="string")throw new Error("char_at expects the first argument to be a string.");if(typeof gt!="number"||!Number.isInteger(gt)||gt<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return mt[gt]}misc.char_at=ct;function ht(mt){var gt;if(mt instanceof i.default){const vt=mt.node.params;return((gt=vt[vt.length-1])===null||gt===void 0?void 0:gt.type)==="RestElement"?vt.length-1:vt.length}else{if(typeof mt=="function")return mt.length;throw new Error("arity expects a function as argument")}}misc.arity=ht;function ut(){return new Date().getTime()}return misc.get_time=ut,misc}var nonDet_prelude={};Object.defineProperty(nonDet_prelude,"__esModule",{value:!0});nonDet_prelude.nonDetPrelude=void 0;nonDet_prelude.nonDetPrelude=`
    function require(predicate) {
        return predicate ? "Satisfied require" : amb();
    }

    function an_element_of(items) {
        require(!is_null(items));
        return amb(head(items), an_element_of(tail(items)));
    }

    function an_integer_between(low, high) {
        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));
    }

    /* Material Conditional */
    /* if P, then Q */
    /* P --> Q */
    function implication(P, Q) {
        return !P || Q;
    }

    /* Material Biconditional */
    /* (if P, then Q) AND (if Q, then P) */
    /* P <--> Q */
    function bi_implication(P, Q) {
        return implication(P, Q) && implication(Q, P);
    }
`;var parser$1={},parser={},acornLoose={exports:{}};(function(i,s){(function(o,a){a(s,acornExports)})(commonjsGlobal,function(o,a){var nt="";function tt(et){return et.name===nt}function ot(){}var at=function(st,lt){if(lt===void 0&&(lt={}),this.toks=this.constructor.BaseParser.tokenizer(st,lt),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:a.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=ot,this.tok.validateRegExpPattern=ot,this.options.locations){var ct=this.toks.curPosition();this.tok.loc=new a.SourceLocation(this.toks,ct,ct)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};at.prototype.startNode=function(){return new a.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},at.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},at.prototype.startNodeAt=function(st){return this.options.locations?new a.Node(this.toks,st[0],st[1]):new a.Node(this.toks,st)},at.prototype.finishNode=function(st,lt){return st.type=lt,st.end=this.last.end,this.options.locations&&(st.loc.end=this.last.loc.end),this.options.ranges&&(st.range[1]=this.last.end),st},at.prototype.dummyNode=function(st){var lt=this.startNode();return lt.type=st,lt.end=lt.start,this.options.locations&&(lt.loc.end=lt.loc.start),this.options.ranges&&(lt.range[1]=lt.start),this.last={type:a.tokTypes.name,start:lt.start,end:lt.start,loc:lt.loc},lt},at.prototype.dummyIdent=function(){var st=this.dummyNode("Identifier");return st.name=nt,st},at.prototype.dummyString=function(){var st=this.dummyNode("Literal");return st.value=st.raw=nt,st},at.prototype.eat=function(st){return this.tok.type===st?(this.next(),!0):!1},at.prototype.isContextual=function(st){return this.tok.type===a.tokTypes.name&&this.tok.value===st},at.prototype.eatContextual=function(st){return this.tok.value===st&&this.eat(a.tokTypes.name)},at.prototype.canInsertSemicolon=function(){return this.tok.type===a.tokTypes.eof||this.tok.type===a.tokTypes.braceR||a.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},at.prototype.semicolon=function(){return this.eat(a.tokTypes.semi)},at.prototype.expect=function(st){if(this.eat(st))return!0;for(var lt=1;lt<=2;lt++)if(this.lookAhead(lt).type===st){for(var ct=0;ct<lt;ct++)this.next();return!0}},at.prototype.pushCx=function(){this.context.push(this.curIndent)},at.prototype.popCx=function(){this.curIndent=this.context.pop()},at.prototype.lineEnd=function(st){for(;st<this.input.length&&!a.isNewLine(this.input.charCodeAt(st));)++st;return st},at.prototype.indentationAfter=function(st){for(var lt=0;;++st){var ct=this.input.charCodeAt(st);if(ct===32)++lt;else if(ct===9)lt+=this.options.tabSize;else return lt}},at.prototype.closes=function(st,lt,ct,ht){return this.tok.type===st||this.tok.type===a.tokTypes.eof?!0:ct!==this.curLineStart&&this.curIndent<lt&&this.tokenStartsLine()&&(!ht||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<lt)},at.prototype.tokenStartsLine=function(){for(var st=this.tok.start-1;st>=this.curLineStart;--st){var lt=this.input.charCodeAt(st);if(lt!==9&&lt!==32)return!1}return!0},at.prototype.extend=function(st,lt){this[st]=lt(this[st])},at.prototype.parse=function(){return this.next(),this.parseTopLevel()},at.extend=function(){for(var st=[],lt=arguments.length;lt--;)st[lt]=arguments[lt];for(var ct=this,ht=0;ht<st.length;ht++)ct=st[ht](ct);return ct},at.parse=function(st,lt){return new this(st,lt).parse()},at.BaseParser=a.Parser;var rt=at.prototype;function it(et){return et<14&&et>8||et===32||et===160||a.isNewLine(et)}rt.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},rt.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===a.tokTypes.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=a.tokTypes.ellipsis),new a.Token(this.toks)}catch(ut){if(!(ut instanceof SyntaxError))throw ut;var et=ut.message,st=ut.raisedAt,lt=!0;if(/unterminated/i.test(et))if(st=this.lineEnd(ut.pos+1),/string/.test(et))lt={start:ut.pos,end:st,type:a.tokTypes.string,value:this.input.slice(ut.pos+1,st)};else if(/regular expr/i.test(et)){var ct=this.input.slice(ut.pos,st);try{ct=new RegExp(ct)}catch{}lt={start:ut.pos,end:st,type:a.tokTypes.regexp,value:ct}}else/template/.test(et)?lt={start:ut.pos,end:st,type:a.tokTypes.template,value:this.input.slice(ut.pos,st)}:lt=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(et))for(;st<this.input.length&&!it(this.input.charCodeAt(st));)++st;else if(/character escape|expected hexadecimal/i.test(et))for(;st<this.input.length;){var ht=this.input.charCodeAt(st++);if(ht===34||ht===39||a.isNewLine(ht))break}else if(/unexpected character/i.test(et))st++,lt=!1;else if(/regular expression/i.test(et))lt=!0;else throw ut;if(this.resetTo(st),lt===!0&&(lt={start:st,end:st,type:a.tokTypes.name,value:nt}),lt)return this.options.locations&&(lt.loc=new a.SourceLocation(this.toks,a.getLineInfo(this.input,lt.start),a.getLineInfo(this.input,lt.end))),lt}},rt.resetTo=function(et){this.toks.pos=et,this.toks.containsEsc=!1;var st=this.input.charAt(et-1);if(this.toks.exprAllowed=!st||/[[{(,;:?/*=+\-~!|&%^<>]/.test(st)||/[enwfd]/.test(st)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(et-10,et)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=a.lineBreakG.lastIndex=0;for(var lt;(lt=a.lineBreakG.exec(this.input))&&lt.index<et;)++this.toks.curLine,this.toks.lineStart=lt.index+lt[0].length}},rt.lookAhead=function(et){for(;et>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[et-1]};var j=at.prototype;j.parseTopLevel=function(){var et=this.startNodeAt(this.options.locations?[0,a.getLineInfo(this.input,0)]:0);for(et.body=[];this.tok.type!==a.tokTypes.eof;)et.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(et.body),this.last=this.tok,et.sourceType=this.options.sourceType,this.finishNode(et,"Program")},j.parseStatement=function(){var et=this.tok.type,st=this.startNode(),lt;switch(this.toks.isLet()&&(et=a.tokTypes._var,lt="let"),et){case a.tokTypes._break:case a.tokTypes._continue:this.next();var ct=et===a.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?st.label=null:(st.label=this.tok.type===a.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(st,ct?"BreakStatement":"ContinueStatement");case a.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(st,"DebuggerStatement");case a.tokTypes._do:return this.next(),st.body=this.parseStatement(),st.test=this.eat(a.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(st,"DoWhileStatement");case a.tokTypes._for:this.next();var ht=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(a.tokTypes.parenL),this.tok.type===a.tokTypes.semi)return this.parseFor(st,null);var ut=this.toks.isLet();if(ut||this.tok.type===a.tokTypes._var||this.tok.type===a.tokTypes._const){var mt=this.parseVar(this.startNode(),!0,ut?"let":this.tok.value);return mt.declarations.length===1&&(this.tok.type===a.tokTypes._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(st.await=ht),this.parseForIn(st,mt)):this.parseFor(st,mt)}var gt=this.parseExpression(!0);return this.tok.type===a.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(st.await=ht),this.parseForIn(st,this.toAssignable(gt))):this.parseFor(st,gt);case a.tokTypes._function:return this.next(),this.parseFunction(st,!0);case a.tokTypes._if:return this.next(),st.test=this.parseParenExpression(),st.consequent=this.parseStatement(),st.alternate=this.eat(a.tokTypes._else)?this.parseStatement():null,this.finishNode(st,"IfStatement");case a.tokTypes._return:return this.next(),this.eat(a.tokTypes.semi)||this.canInsertSemicolon()?st.argument=null:(st.argument=this.parseExpression(),this.semicolon()),this.finishNode(st,"ReturnStatement");case a.tokTypes._switch:var vt=this.curIndent,dt=this.curLineStart;this.next(),st.discriminant=this.parseParenExpression(),st.cases=[],this.pushCx(),this.expect(a.tokTypes.braceL);for(var St;!this.closes(a.tokTypes.braceR,vt,dt,!0);)if(this.tok.type===a.tokTypes._case||this.tok.type===a.tokTypes._default){var yt=this.tok.type===a.tokTypes._case;St&&this.finishNode(St,"SwitchCase"),st.cases.push(St=this.startNode()),St.consequent=[],this.next(),yt?St.test=this.parseExpression():St.test=null,this.expect(a.tokTypes.colon)}else St||(st.cases.push(St=this.startNode()),St.consequent=[],St.test=null),St.consequent.push(this.parseStatement());return St&&this.finishNode(St,"SwitchCase"),this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(st,"SwitchStatement");case a.tokTypes._throw:return this.next(),st.argument=this.parseExpression(),this.semicolon(),this.finishNode(st,"ThrowStatement");case a.tokTypes._try:if(this.next(),st.block=this.parseBlock(),st.handler=null,this.tok.type===a.tokTypes._catch){var pt=this.startNode();this.next(),this.eat(a.tokTypes.parenL)?(pt.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(a.tokTypes.parenR)):pt.param=null,pt.body=this.parseBlock(),st.handler=this.finishNode(pt,"CatchClause")}return st.finalizer=this.eat(a.tokTypes._finally)?this.parseBlock():null,!st.handler&&!st.finalizer?st.block:this.finishNode(st,"TryStatement");case a.tokTypes._var:case a.tokTypes._const:return this.parseVar(st,!1,lt||this.tok.value);case a.tokTypes._while:return this.next(),st.test=this.parseParenExpression(),st.body=this.parseStatement(),this.finishNode(st,"WhileStatement");case a.tokTypes._with:return this.next(),st.object=this.parseParenExpression(),st.body=this.parseStatement(),this.finishNode(st,"WithStatement");case a.tokTypes.braceL:return this.parseBlock();case a.tokTypes.semi:return this.next(),this.finishNode(st,"EmptyStatement");case a.tokTypes._class:return this.parseClass(!0);case a.tokTypes._import:if(this.options.ecmaVersion>10){var wt=this.lookAhead(1).type;if(wt===a.tokTypes.parenL||wt===a.tokTypes.dot)return st.expression=this.parseExpression(),this.semicolon(),this.finishNode(st,"ExpressionStatement")}return this.parseImport();case a.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(st,!0,!0);var Et=this.parseExpression();return tt(Et)?(this.next(),this.tok.type===a.tokTypes.eof?this.finishNode(st,"EmptyStatement"):this.parseStatement()):et===a.tokTypes.name&&Et.type==="Identifier"&&this.eat(a.tokTypes.colon)?(st.body=this.parseStatement(),st.label=Et,this.finishNode(st,"LabeledStatement")):(st.expression=Et,this.semicolon(),this.finishNode(st,"ExpressionStatement"))}},j.parseBlock=function(){var et=this.startNode();this.pushCx(),this.expect(a.tokTypes.braceL);var st=this.curIndent,lt=this.curLineStart;for(et.body=[];!this.closes(a.tokTypes.braceR,st,lt,!0);)et.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(et,"BlockStatement")},j.parseFor=function(et,st){return et.init=st,et.test=et.update=null,this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.semi&&(et.test=this.parseExpression()),this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.parenR&&(et.update=this.parseExpression()),this.popCx(),this.expect(a.tokTypes.parenR),et.body=this.parseStatement(),this.finishNode(et,"ForStatement")},j.parseForIn=function(et,st){var lt=this.tok.type===a.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),et.left=st,et.right=this.parseExpression(),this.popCx(),this.expect(a.tokTypes.parenR),et.body=this.parseStatement(),this.finishNode(et,lt)},j.parseVar=function(et,st,lt){et.kind=lt,this.next(),et.declarations=[];do{var ct=this.startNode();ct.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),ct.init=this.eat(a.tokTypes.eq)?this.parseMaybeAssign(st):null,et.declarations.push(this.finishNode(ct,"VariableDeclarator"))}while(this.eat(a.tokTypes.comma));if(!et.declarations.length){var ht=this.startNode();ht.id=this.dummyIdent(),et.declarations.push(this.finishNode(ht,"VariableDeclarator"))}return st||this.semicolon(),this.finishNode(et,"VariableDeclaration")},j.parseClass=function(et){var st=this.startNode();this.next(),this.tok.type===a.tokTypes.name?st.id=this.parseIdent():et===!0?st.id=this.dummyIdent():st.id=null,st.superClass=this.eat(a.tokTypes._extends)?this.parseExpression():null,st.body=this.startNode(),st.body.body=[],this.pushCx();var lt=this.curIndent+1,ct=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<lt&&(lt=this.curIndent,ct=this.curLineStart);!this.closes(a.tokTypes.braceR,lt,ct);){var ht=this.parseClassElement();ht&&st.body.body.push(ht)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(st.body,"ClassBody"),this.finishNode(st,et?"ClassDeclaration":"ClassExpression")},j.parseClassElement=function(){if(this.eat(a.tokTypes.semi))return null;var et=this.options,st=et.ecmaVersion,lt=et.locations,ct=this.curIndent,ht=this.curLineStart,ut=this.startNode(),mt="",gt=!1,vt=!1,dt="method",St=!1;if(this.eatContextual("static")){if(st>=13&&this.eat(a.tokTypes.braceL))return this.parseClassStaticBlock(ut),ut;this.isClassElementNameStart()||this.toks.type===a.tokTypes.star?St=!0:mt="static"}if(ut.static=St,!mt&&st>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===a.tokTypes.star)&&!this.canInsertSemicolon()?vt=!0:mt="async"),!mt){gt=this.eat(a.tokTypes.star);var yt=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?dt=yt:mt=yt)}if(mt)ut.computed=!1,ut.key=this.startNodeAt(lt?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),ut.key.name=mt,this.finishNode(ut.key,"Identifier");else if(this.parseClassElementName(ut),tt(ut.key))return tt(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma),null;if(st<13||this.toks.type===a.tokTypes.parenL||dt!=="method"||gt||vt){var pt=!ut.computed&&!ut.static&&!gt&&!vt&&dt==="method"&&(ut.key.type==="Identifier"&&ut.key.name==="constructor"||ut.key.type==="Literal"&&ut.key.value==="constructor");ut.kind=pt?"constructor":dt,ut.value=this.parseMethod(gt,vt),this.finishNode(ut,"MethodDefinition")}else{if(this.eat(a.tokTypes.eq))if(this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine())ut.value=null;else{var wt=this.inAsync,Et=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,ut.value=this.parseMaybeAssign(),this.inAsync=wt,this.inGenerator=Et}else ut.value=null;this.semicolon(),this.finishNode(ut,"PropertyDefinition")}return ut},j.parseClassStaticBlock=function(et){var st=this.curIndent,lt=this.curLineStart;for(et.body=[],this.pushCx();!this.closes(a.tokTypes.braceR,st,lt,!0);)et.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(et,"StaticBlock")},j.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},j.parseClassElementName=function(et){this.toks.type===a.tokTypes.privateId?(et.computed=!1,et.key=this.parsePrivateIdent()):this.parsePropertyName(et)},j.parseFunction=function(et,st,lt){var ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(et),this.options.ecmaVersion>=6&&(et.generator=this.eat(a.tokTypes.star)),this.options.ecmaVersion>=8&&(et.async=!!lt),this.tok.type===a.tokTypes.name?et.id=this.parseIdent():st===!0&&(et.id=this.dummyIdent()),this.inAsync=et.async,this.inGenerator=et.generator,this.inFunction=!0,et.params=this.parseFunctionParams(),et.body=this.parseBlock(),this.toks.adaptDirectivePrologue(et.body.body),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(et,st?"FunctionDeclaration":"FunctionExpression")},j.parseExport=function(){var et=this.startNode();if(this.next(),this.eat(a.tokTypes.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?et.exported=this.parseExprAtom():et.exported=null),et.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(et,"ExportAllDeclaration");if(this.eat(a.tokTypes._default)){var st;if(this.tok.type===a.tokTypes._function||(st=this.toks.isAsyncFunction())){var lt=this.startNode();this.next(),st&&this.next(),et.declaration=this.parseFunction(lt,"nullableID",st)}else this.tok.type===a.tokTypes._class?et.declaration=this.parseClass("nullableID"):(et.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(et,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(et.declaration=this.parseStatement(),et.specifiers=[],et.source=null):(et.declaration=null,et.specifiers=this.parseExportSpecifierList(),et.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(et,"ExportNamedDeclaration")},j.parseImport=function(){var et=this.startNode();if(this.next(),this.tok.type===a.tokTypes.string)et.specifiers=[],et.source=this.parseExprAtom();else{var st;this.tok.type===a.tokTypes.name&&this.tok.value!=="from"&&(st=this.startNode(),st.local=this.parseIdent(),this.finishNode(st,"ImportDefaultSpecifier"),this.eat(a.tokTypes.comma)),et.specifiers=this.parseImportSpecifiers(),et.source=this.eatContextual("from")&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.dummyString(),st&&et.specifiers.unshift(st)}return this.semicolon(),this.finishNode(et,"ImportDeclaration")},j.parseImportSpecifiers=function(){var et=[];if(this.tok.type===a.tokTypes.star){var st=this.startNode();this.next(),st.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),et.push(this.finishNode(st,"ImportNamespaceSpecifier"))}else{var lt=this.curIndent,ct=this.curLineStart,ht=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>ht&&(ht=this.curLineStart);!this.closes(a.tokTypes.braceR,lt+(this.curLineStart<=ht?1:0),ct);){var ut=this.startNode();if(this.eat(a.tokTypes.star))ut.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(ut,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(ut.imported=this.parseModuleExportName(),tt(ut.imported)))break;ut.local=this.eatContextual("as")?this.parseModuleExportName():ut.imported,this.finishNode(ut,"ImportSpecifier")}et.push(ut),this.eat(a.tokTypes.comma)}this.eat(a.tokTypes.braceR),this.popCx()}return et},j.parseExportSpecifierList=function(){var et=[],st=this.curIndent,lt=this.curLineStart,ct=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>ct&&(ct=this.curLineStart);!this.closes(a.tokTypes.braceR,st+(this.curLineStart<=ct?1:0),lt)&&!this.isContextual("from");){var ht=this.startNode();if(ht.local=this.parseModuleExportName(),tt(ht.local))break;ht.exported=this.eatContextual("as")?this.parseModuleExportName():ht.local,this.finishNode(ht,"ExportSpecifier"),et.push(ht),this.eat(a.tokTypes.comma)}return this.eat(a.tokTypes.braceR),this.popCx(),et},j.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent()};var _=at.prototype;_.checkLVal=function(et){if(!et)return et;switch(et.type){case"Identifier":case"MemberExpression":return et;case"ParenthesizedExpression":return et.expression=this.checkLVal(et.expression),et;default:return this.dummyIdent()}},_.parseExpression=function(et){var st=this.storeCurrentPos(),lt=this.parseMaybeAssign(et);if(this.tok.type===a.tokTypes.comma){var ct=this.startNodeAt(st);for(ct.expressions=[lt];this.eat(a.tokTypes.comma);)ct.expressions.push(this.parseMaybeAssign(et));return this.finishNode(ct,"SequenceExpression")}return lt},_.parseParenExpression=function(){this.pushCx(),this.expect(a.tokTypes.parenL);var et=this.parseExpression();return this.popCx(),this.expect(a.tokTypes.parenR),et},_.parseMaybeAssign=function(et){if(this.inGenerator&&this.toks.isContextual("yield")){var st=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==a.tokTypes.star&&!this.tok.type.startsExpr?(st.delegate=!1,st.argument=null):(st.delegate=this.eat(a.tokTypes.star),st.argument=this.parseMaybeAssign()),this.finishNode(st,"YieldExpression")}var lt=this.storeCurrentPos(),ct=this.parseMaybeConditional(et);if(this.tok.type.isAssign){var ht=this.startNodeAt(lt);return ht.operator=this.tok.value,ht.left=this.tok.type===a.tokTypes.eq?this.toAssignable(ct):this.checkLVal(ct),this.next(),ht.right=this.parseMaybeAssign(et),this.finishNode(ht,"AssignmentExpression")}return ct},_.parseMaybeConditional=function(et){var st=this.storeCurrentPos(),lt=this.parseExprOps(et);if(this.eat(a.tokTypes.question)){var ct=this.startNodeAt(st);return ct.test=lt,ct.consequent=this.parseMaybeAssign(),ct.alternate=this.expect(a.tokTypes.colon)?this.parseMaybeAssign(et):this.dummyIdent(),this.finishNode(ct,"ConditionalExpression")}return lt},_.parseExprOps=function(et){var st=this.storeCurrentPos(),lt=this.curIndent,ct=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),st,-1,et,lt,ct)},_.parseExprOp=function(et,st,lt,ct,ht,ut){if(this.curLineStart!==ut&&this.curIndent<ht&&this.tokenStartsLine())return et;var mt=this.tok.type.binop;if(mt!=null&&(!ct||this.tok.type!==a.tokTypes._in)&&mt>lt){var gt=this.startNodeAt(st);if(gt.left=et,gt.operator=this.tok.value,this.next(),this.curLineStart!==ut&&this.curIndent<ht&&this.tokenStartsLine())gt.right=this.dummyIdent();else{var vt=this.storeCurrentPos();gt.right=this.parseExprOp(this.parseMaybeUnary(!1),vt,mt,ct,ht,ut)}return this.finishNode(gt,/&&|\|\||\?\?/.test(gt.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(gt,st,lt,ct,ht,ut)}return et},_.parseMaybeUnary=function(et){var st=this.storeCurrentPos(),lt;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))lt=this.parseAwait(),et=!0;else if(this.tok.type.prefix){var ct=this.startNode(),ht=this.tok.type===a.tokTypes.incDec;ht||(et=!0),ct.operator=this.tok.value,ct.prefix=!0,this.next(),ct.argument=this.parseMaybeUnary(!0),ht&&(ct.argument=this.checkLVal(ct.argument)),lt=this.finishNode(ct,ht?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===a.tokTypes.ellipsis){var ut=this.startNode();this.next(),ut.argument=this.parseMaybeUnary(et),lt=this.finishNode(ut,"SpreadElement")}else if(!et&&this.tok.type===a.tokTypes.privateId)lt=this.parsePrivateIdent();else for(lt=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var mt=this.startNodeAt(st);mt.operator=this.tok.value,mt.prefix=!1,mt.argument=this.checkLVal(lt),this.next(),lt=this.finishNode(mt,"UpdateExpression")}if(!et&&this.eat(a.tokTypes.starstar)){var gt=this.startNodeAt(st);return gt.operator="**",gt.left=lt,gt.right=this.parseMaybeUnary(!1),this.finishNode(gt,"BinaryExpression")}return lt},_.parseExprSubscripts=function(){var et=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),et,!1,this.curIndent,this.curLineStart)},_.parseSubscripts=function(et,st,lt,ct,ht){for(var ut=this.options.ecmaVersion>=11,mt=!1;;){if(this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine())if(this.tok.type===a.tokTypes.dot&&this.curIndent===ct)--ct;else break;var gt=et.type==="Identifier"&&et.name==="async"&&!this.canInsertSemicolon(),vt=ut&&this.eat(a.tokTypes.questionDot);if(vt&&(mt=!0),vt&&this.tok.type!==a.tokTypes.parenL&&this.tok.type!==a.tokTypes.bracketL&&this.tok.type!==a.tokTypes.backQuote||this.eat(a.tokTypes.dot)){var dt=this.startNodeAt(st);dt.object=et,this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine()?dt.property=this.dummyIdent():dt.property=this.parsePropertyAccessor()||this.dummyIdent(),dt.computed=!1,ut&&(dt.optional=vt),et=this.finishNode(dt,"MemberExpression")}else if(this.tok.type===a.tokTypes.bracketL){this.pushCx(),this.next();var St=this.startNodeAt(st);St.object=et,St.property=this.parseExpression(),St.computed=!0,ut&&(St.optional=vt),this.popCx(),this.expect(a.tokTypes.bracketR),et=this.finishNode(St,"MemberExpression")}else if(!lt&&this.tok.type===a.tokTypes.parenL){var yt=this.parseExprList(a.tokTypes.parenR);if(gt&&this.eat(a.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(st),yt,!0);var pt=this.startNodeAt(st);pt.callee=et,pt.arguments=yt,ut&&(pt.optional=vt),et=this.finishNode(pt,"CallExpression")}else if(this.tok.type===a.tokTypes.backQuote){var wt=this.startNodeAt(st);wt.tag=et,wt.quasi=this.parseTemplate(),et=this.finishNode(wt,"TaggedTemplateExpression")}else break}if(mt){var Et=this.startNodeAt(st);Et.expression=et,et=this.finishNode(Et,"ChainExpression")}return et},_.parseExprAtom=function(){var et;switch(this.tok.type){case a.tokTypes._this:case a.tokTypes._super:var st=this.tok.type===a.tokTypes._this?"ThisExpression":"Super";return et=this.startNode(),this.next(),this.finishNode(et,st);case a.tokTypes.name:var lt=this.storeCurrentPos(),ct=this.parseIdent(),ht=!1;if(ct.name==="async"&&!this.canInsertSemicolon()){if(this.eat(a.tokTypes._function))return this.toks.overrideContext(a.tokContexts.f_expr),this.parseFunction(this.startNodeAt(lt),!1,!0);this.tok.type===a.tokTypes.name&&(ct=this.parseIdent(),ht=!0)}return this.eat(a.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(lt),[ct],ht):ct;case a.tokTypes.regexp:et=this.startNode();var ut=this.tok.value;return et.regex={pattern:ut.pattern,flags:ut.flags},et.value=ut.value,et.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(et,"Literal");case a.tokTypes.num:case a.tokTypes.string:return et=this.startNode(),et.value=this.tok.value,et.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===a.tokTypes.num&&et.raw.charCodeAt(et.raw.length-1)===110&&(et.bigint=et.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(et,"Literal");case a.tokTypes._null:case a.tokTypes._true:case a.tokTypes._false:return et=this.startNode(),et.value=this.tok.type===a.tokTypes._null?null:this.tok.type===a.tokTypes._true,et.raw=this.tok.type.keyword,this.next(),this.finishNode(et,"Literal");case a.tokTypes.parenL:var mt=this.storeCurrentPos();this.next();var gt=this.parseExpression();if(this.expect(a.tokTypes.parenR),this.eat(a.tokTypes.arrow)){var vt=gt.expressions||[gt];return vt.length&&tt(vt[vt.length-1])&&vt.pop(),this.parseArrowExpression(this.startNodeAt(mt),vt)}if(this.options.preserveParens){var dt=this.startNodeAt(mt);dt.expression=gt,gt=this.finishNode(dt,"ParenthesizedExpression")}return gt;case a.tokTypes.bracketL:return et=this.startNode(),et.elements=this.parseExprList(a.tokTypes.bracketR,!0),this.finishNode(et,"ArrayExpression");case a.tokTypes.braceL:return this.toks.overrideContext(a.tokContexts.b_expr),this.parseObj();case a.tokTypes._class:return this.parseClass(!1);case a.tokTypes._function:return et=this.startNode(),this.next(),this.parseFunction(et,!1);case a.tokTypes._new:return this.parseNew();case a.tokTypes.backQuote:return this.parseTemplate();case a.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},_.parseExprImport=function(){var et=this.startNode(),st=this.parseIdent(!0);switch(this.tok.type){case a.tokTypes.parenL:return this.parseDynamicImport(et);case a.tokTypes.dot:return et.meta=st,this.parseImportMeta(et);default:return et.name="import",this.finishNode(et,"Identifier")}},_.parseDynamicImport=function(et){return et.source=this.parseExprList(a.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(et,"ImportExpression")},_.parseImportMeta=function(et){return this.next(),et.property=this.parseIdent(!0),this.finishNode(et,"MetaProperty")},_.parseNew=function(){var et=this.startNode(),st=this.curIndent,lt=this.curLineStart,ct=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(a.tokTypes.dot))return et.meta=ct,et.property=this.parseIdent(!0),this.finishNode(et,"MetaProperty");var ht=this.storeCurrentPos();return et.callee=this.parseSubscripts(this.parseExprAtom(),ht,!0,st,lt),this.tok.type===a.tokTypes.parenL?et.arguments=this.parseExprList(a.tokTypes.parenR):et.arguments=[],this.finishNode(et,"NewExpression")},_.parseTemplateElement=function(){var et=this.startNode();return this.tok.type===a.tokTypes.invalidTemplate?et.value={raw:this.tok.value,cooked:null}:et.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),et.tail=this.tok.type===a.tokTypes.backQuote,this.finishNode(et,"TemplateElement")},_.parseTemplate=function(){var et=this.startNode();this.next(),et.expressions=[];var st=this.parseTemplateElement();for(et.quasis=[st];!st.tail;)this.next(),et.expressions.push(this.parseExpression()),this.expect(a.tokTypes.braceR)?st=this.parseTemplateElement():(st=this.startNode(),st.value={cooked:"",raw:""},st.tail=!0,this.finishNode(st,"TemplateElement")),et.quasis.push(st);return this.expect(a.tokTypes.backQuote),this.finishNode(et,"TemplateLiteral")},_.parseObj=function(){var et=this.startNode();et.properties=[],this.pushCx();var st=this.curIndent+1,lt=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<st&&(st=this.curIndent,lt=this.curLineStart);!this.closes(a.tokTypes.braceR,st,lt);){var ct=this.startNode(),ht=void 0,ut=void 0,mt=void 0;if(this.options.ecmaVersion>=9&&this.eat(a.tokTypes.ellipsis)){ct.argument=this.parseMaybeAssign(),et.properties.push(this.finishNode(ct,"SpreadElement")),this.eat(a.tokTypes.comma);continue}if(this.options.ecmaVersion>=6&&(mt=this.storeCurrentPos(),ct.method=!1,ct.shorthand=!1,ht=this.eat(a.tokTypes.star)),this.parsePropertyName(ct),this.toks.isAsyncProp(ct)?(ut=!0,ht=this.options.ecmaVersion>=9&&this.eat(a.tokTypes.star),this.parsePropertyName(ct)):ut=!1,tt(ct.key)){tt(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma);continue}if(this.eat(a.tokTypes.colon))ct.kind="init",ct.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===a.tokTypes.parenL||this.tok.type===a.tokTypes.braceL))ct.kind="init",ct.method=!0,ct.value=this.parseMethod(ht,ut);else if(this.options.ecmaVersion>=5&&ct.key.type==="Identifier"&&!ct.computed&&(ct.key.name==="get"||ct.key.name==="set")&&this.tok.type!==a.tokTypes.comma&&this.tok.type!==a.tokTypes.braceR&&this.tok.type!==a.tokTypes.eq)ct.kind=ct.key.name,this.parsePropertyName(ct),ct.value=this.parseMethod(!1);else{if(ct.kind="init",this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.eq)){var gt=this.startNodeAt(mt);gt.operator="=",gt.left=ct.key,gt.right=this.parseMaybeAssign(),ct.value=this.finishNode(gt,"AssignmentExpression")}else ct.value=ct.key;else ct.value=this.dummyIdent();ct.shorthand=!0}et.properties.push(this.finishNode(ct,"Property")),this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(et,"ObjectExpression")},_.parsePropertyName=function(et){if(this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.bracketL)){et.computed=!0,et.key=this.parseExpression(),this.expect(a.tokTypes.bracketR);return}else et.computed=!1;var st=this.tok.type===a.tokTypes.num||this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent();et.key=st||this.dummyIdent()},_.parsePropertyAccessor=function(){if(this.tok.type===a.tokTypes.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===a.tokTypes.privateId)return this.parsePrivateIdent()},_.parseIdent=function(){var et=this.tok.type===a.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!et)return this.dummyIdent();this.tok.type.keyword&&(this.toks.type=a.tokTypes.name);var st=this.startNode();return this.next(),st.name=et,this.finishNode(st,"Identifier")},_.parsePrivateIdent=function(){var et=this.startNode();return et.name=this.tok.value,this.next(),this.finishNode(et,"PrivateIdentifier")},_.initFunction=function(et){et.id=null,et.params=[],this.options.ecmaVersion>=6&&(et.generator=!1,et.expression=!1),this.options.ecmaVersion>=8&&(et.async=!1)},_.toAssignable=function(et,st){if(!(!et||et.type==="Identifier"||et.type==="MemberExpression"&&!st))if(et.type==="ParenthesizedExpression")this.toAssignable(et.expression,st);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(et.type==="ObjectExpression"){et.type="ObjectPattern";for(var lt=0,ct=et.properties;lt<ct.length;lt+=1){var ht=ct[lt];this.toAssignable(ht,st)}}else if(et.type==="ArrayExpression")et.type="ArrayPattern",this.toAssignableList(et.elements,st);else if(et.type==="Property")this.toAssignable(et.value,st);else if(et.type==="SpreadElement")et.type="RestElement",this.toAssignable(et.argument,st);else if(et.type==="AssignmentExpression")et.type="AssignmentPattern",delete et.operator;else return this.dummyIdent()}return et},_.toAssignableList=function(et,st){for(var lt=0,ct=et;lt<ct.length;lt+=1){var ht=ct[lt];this.toAssignable(ht,st)}return et},_.parseFunctionParams=function(et){return et=this.parseExprList(a.tokTypes.parenR),this.toAssignableList(et,!0)},_.parseMethod=function(et,st){var lt=this.startNode(),ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(lt),this.options.ecmaVersion>=6&&(lt.generator=!!et),this.options.ecmaVersion>=8&&(lt.async=!!st),this.inAsync=lt.async,this.inGenerator=lt.generator,this.inFunction=!0,lt.params=this.parseFunctionParams(),lt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(lt.body.body),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(lt,"FunctionExpression")},_.parseArrowExpression=function(et,st,lt){var ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(et),this.options.ecmaVersion>=8&&(et.async=!!lt),this.inAsync=et.async,this.inGenerator=!1,this.inFunction=!0,et.params=this.toAssignableList(st,!0),et.expression=this.tok.type!==a.tokTypes.braceL,et.expression?et.body=this.parseMaybeAssign():(et.body=this.parseBlock(),this.toks.adaptDirectivePrologue(et.body.body)),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(et,"ArrowFunctionExpression")},_.parseExprList=function(et,st){this.pushCx();var lt=this.curIndent,ct=this.curLineStart,ht=[];for(this.next();!this.closes(et,lt+1,ct);){if(this.eat(a.tokTypes.comma)){ht.push(st?null:this.dummyIdent());continue}var ut=this.parseMaybeAssign();if(tt(ut)){if(this.closes(et,lt,ct))break;this.next()}else ht.push(ut);this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(et)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),ht},_.parseAwait=function(){var et=this.startNode();return this.next(),et.argument=this.parseMaybeUnary(),this.finishNode(et,"AwaitExpression")},a.defaultOptions.tabSize=4;function $(et,st){return at.parse(et,st)}o.LooseParser=at,o.isDummy=tt,o.parse=$})})(acornLoose,acornLoose.exports);var acornLooseExports=acornLoose.exports,validator={},validityErrors={};Object.defineProperty(validityErrors,"__esModule",{value:!0});validityErrors.NoAssignmentToForVariable=void 0;const types_1$j=types;class NoAssignmentToForVariable{constructor(s){this.node=s,this.type=types_1$j.ErrorType.SYNTAX,this.severity=types_1$j.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}validityErrors.NoAssignmentToForVariable=NoAssignmentToForVariable;var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1,Object.defineProperty(validator,"__esModule",{value:!0}),validator.validateAndAnnotate=void 0;const i=requireErrors(),s=validityErrors,o=astCreator,a=walkers$1;class nt{constructor(at){this.isConstant=at,this.accessedBeforeDeclaration=!1}}function tt(ot,at){const rt=new Map,it=new Map;function j(st){const lt=new Map;for(const ct of st.body)ct.type==="VariableDeclaration"?lt.set((0,o.getVariableDecarationName)(ct),new nt(ct.kind==="const")):ct.type==="FunctionDeclaration"&&lt.set(ct.id.name,new nt(!0));it.set(st,!1),rt.set(st,lt)}function _(st){rt.set(st,new Map(st.params.map(lt=>[lt.name,new nt(!1)]))),it.set(st,!1)}(0,a.ancestor)(ot,{Program:j,BlockStatement:j,FunctionDeclaration:_,ArrowFunctionExpression:_,ForStatement(st,lt){const ct=st.init;ct.type==="VariableDeclaration"&&(rt.set(st,new Map([[(0,o.getVariableDecarationName)(ct),new nt(ct.kind==="const")]])),it.set(st,!1))}});function $(st,lt){const ct=st.name,ht=lt[lt.length-2];for(let ut=lt.length-1;ut>=0;ut--){const mt=lt[ut],gt=rt.get(mt);if(gt!=null&&gt.has(ct)){gt.get(ct).accessedBeforeDeclaration=!0,ht.type==="AssignmentExpression"&&ht.left===st&&(gt.get(ct).isConstant&&at.errors.push(new i.ConstAssignment(ht,ct)),mt.type==="ForStatement"&&mt.init!==ht&&mt.update!==ht&&at.errors.push(new s.NoAssignmentToForVariable(ht)));break}}}const et=Object.assign(Object.assign({},a.base),{VariableDeclarator(st,lt,ct){st.init&&ct(st.init,lt,"Expression")}});return(0,a.ancestor)(ot,{VariableDeclaration(st,lt){const ct=lt[lt.length-2],ht=(0,o.getVariableDecarationName)(st),ut=rt.get(ct).get(ht).accessedBeforeDeclaration;st.typability=ut?"Untypable":"NotYetTyped"},Identifier:$,FunctionDeclaration(st,lt){const ct=lt[lt.length-2];st.typability=it.get(ct)?"Untypable":"NotYetTyped"},Pattern(st,lt){st.type==="Identifier"?$(st,lt):st.type==="MemberExpression"&&st.object.type==="Identifier"&&$(st.object,lt)},CallExpression(st,lt){for(let ct=lt.length-1;ct>=0;ct--){const ht=lt[ct];if(it.has(ht)){it.set(ht,!0);break}}}},et),ot}return validator.validateAndAnnotate=tt,validator}var rules$1={},bracesAroundFor$1={};Object.defineProperty(bracesAroundFor$1,"__esModule",{value:!0});bracesAroundFor$1.BracesAroundForError=void 0;const astring_1$7=astring,types_1$i=types;class BracesAroundForError{constructor(s){this.node=s,this.type=types_1$i.ErrorType.SYNTAX,this.severity=types_1$i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){const s=(0,astring_1$7.generate)(this.node.init),o=(0,astring_1$7.generate)(this.node.test),a=(0,astring_1$7.generate)(this.node.update);return`Remember to enclose your "for" block with braces:

 ${`	for (${s} ${o}; ${a}) {
		//code goes here
	}`}`}}bracesAroundFor$1.BracesAroundForError=BracesAroundForError;const bracesAroundFor={name:"braces-around-for",checkers:{ForStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundForError(i)]:[]}}};bracesAroundFor$1.default=bracesAroundFor;var bracesAroundIfElse$1={};Object.defineProperty(bracesAroundIfElse$1,"__esModule",{value:!0});bracesAroundIfElse$1.BracesAroundIfElseError=void 0;const astring_1$6=astring,types_1$h=types,formatters_1$5=formatters;class BracesAroundIfElseError{constructor(s,o){this.node=s,this.branch=o,this.type=types_1$h.ErrorType.SYNTAX,this.severity=types_1$h.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return this.branch==="consequent"?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let s,o,a;return this.branch==="consequent"?(s="if",o=`if (${(0,astring_1$6.generate)(this.node.test)})`,a=this.node.consequent):(s=o="else",a=this.node.alternate),(0,formatters_1$5.stripIndent)`
      ${s} block need to be enclosed with a pair of curly braces.

      ${o} {
        ${(0,astring_1$6.generate)(a)}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `}}bracesAroundIfElse$1.BracesAroundIfElseError=BracesAroundIfElseError;const bracesAroundIfElse={name:"braces-around-if-else",checkers:{IfStatement(i,s){const o=[];if(i.consequent&&i.consequent.type!=="BlockStatement"&&o.push(new BracesAroundIfElseError(i,"consequent")),i.alternate){const a=i.alternate.type!=="BlockStatement",nt=i.alternate.type!=="IfStatement";a&&nt&&o.push(new BracesAroundIfElseError(i,"alternate"))}return o}}};bracesAroundIfElse$1.default=bracesAroundIfElse;var bracesAroundWhile$1={};Object.defineProperty(bracesAroundWhile$1,"__esModule",{value:!0});bracesAroundWhile$1.BracesAroundWhileError=void 0;const astring_1$5=astring,types_1$g=types;class BracesAroundWhileError{constructor(s){this.node=s,this.type=types_1$g.ErrorType.SYNTAX,this.severity=types_1$g.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:

 ${`	while (${(0,astring_1$5.generate)(this.node.test)}) {
		//code goes here
	}`}`}}bracesAroundWhile$1.BracesAroundWhileError=BracesAroundWhileError;const bracesAroundWhile={name:"braces-around-while",checkers:{WhileStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundWhileError(i)]:[]}}};bracesAroundWhile$1.default=bracesAroundWhile;var forStatementMustHaveAllParts$1={};Object.defineProperty(forStatementMustHaveAllParts$1,"__esModule",{value:!0});forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=void 0;const types_1$f=types,formatters_1$4=formatters;class ForStatmentMustHaveAllParts{constructor(s,o){this.node=s,this.missingParts=o,this.type=types_1$f.ErrorType.SYNTAX,this.severity=types_1$f.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${this.missingParts.length===1?"":"s"} in for statement.`}elaborate(){return(0,formatters_1$4.stripIndent)`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `}}forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=ForStatmentMustHaveAllParts;const forStatementMustHaveAllParts={name:"for-statement-must-have-all-parts",checkers:{ForStatement(i){const s=["init","test","update"].filter(o=>i[o]===null);return s.length>0?[new ForStatmentMustHaveAllParts(i,s)]:[]}}};forStatementMustHaveAllParts$1.default=forStatementMustHaveAllParts;var noDeclareMutable$1={};Object.defineProperty(noDeclareMutable$1,"__esModule",{value:!0});noDeclareMutable$1.NoDeclareMutableError=void 0;const astring_1$4=astring,types_1$e=types,mutableDeclarators=["let","var"];class NoDeclareMutableError{constructor(s){this.node=s,this.type=types_1$e.ErrorType.SYNTAX,this.severity=types_1$e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){const s=this.node.declarations[0].id.name,o=(0,astring_1$4.generate)(this.node.declarations[0].init);return`Use keyword "const" instead, to declare a constant:

	const ${s} = ${o};`}}noDeclareMutable$1.NoDeclareMutableError=NoDeclareMutableError;const noDeclareMutable={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration(i,s){return mutableDeclarators.includes(i.kind)?[new NoDeclareMutableError(i)]:[]}}};noDeclareMutable$1.default=noDeclareMutable;var noDotAbbreviation$1={};Object.defineProperty(noDotAbbreviation$1,"__esModule",{value:!0});noDotAbbreviation$1.NoDotAbbreviationError=void 0;const types_1$d=types;class NoDotAbbreviationError{constructor(s){this.node=s,this.type=types_1$d.ErrorType.SYNTAX,this.severity=types_1$d.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}noDotAbbreviation$1.NoDotAbbreviationError=NoDotAbbreviationError;const noDotAbbreviation={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression(i,s){return i.computed?[]:[new NoDotAbbreviationError(i)]}}};noDotAbbreviation$1.default=noDotAbbreviation;var noEval$1={};Object.defineProperty(noEval$1,"__esModule",{value:!0});noEval$1.NoEval=void 0;const types_1$c=types;class NoEval{constructor(s){this.node=s,this.type=types_1$c.ErrorType.SYNTAX,this.severity=types_1$c.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}noEval$1.NoEval=NoEval;const noEval={name:"no-eval",checkers:{Identifier(i,s){return i.name==="eval"?[new NoEval(i)]:[]}}};noEval$1.default=noEval;var noHolesInArrays$1={};Object.defineProperty(noHolesInArrays$1,"__esModule",{value:!0});noHolesInArrays$1.NoHolesInArrays=void 0;const types_1$b=types,formatters_1$3=formatters;class NoHolesInArrays{constructor(s){this.node=s,this.type=types_1$b.ErrorType.SYNTAX,this.severity=types_1$b.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return(0,formatters_1$3.stripIndent)`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `}}noHolesInArrays$1.NoHolesInArrays=NoHolesInArrays;const noHolesInArrays={name:"no-holes-in-arrays",checkers:{ArrayExpression(i){return i.elements.some(s=>s===null)?[new NoHolesInArrays(i)]:[]}}};noHolesInArrays$1.default=noHolesInArrays;var noIfWithoutElse$1={};Object.defineProperty(noIfWithoutElse$1,"__esModule",{value:!0});noIfWithoutElse$1.NoIfWithoutElseError=void 0;const astring_1$3=astring,types_1$a=types,formatters_1$2=formatters;class NoIfWithoutElseError{constructor(s){this.node=s,this.type=types_1$a.ErrorType.SYNTAX,this.severity=types_1$a.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return(0,formatters_1$2.stripIndent)`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${(0,astring_1$3.generate)(this.node.test)} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `}}noIfWithoutElse$1.NoIfWithoutElseError=NoIfWithoutElseError;const noIfWithoutElse={name:"no-if-without-else",disableOn:3,checkers:{IfStatement(i,s){return i.alternate?[]:[new NoIfWithoutElseError(i)]}}};noIfWithoutElse$1.default=noIfWithoutElse;var noImplicitDeclareUndefined$1={};Object.defineProperty(noImplicitDeclareUndefined$1,"__esModule",{value:!0});noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=void 0;const types_1$9=types,formatters_1$1=formatters;class NoImplicitDeclareUndefinedError{constructor(s){this.node=s,this.type=types_1$9.ErrorType.SYNTAX,this.severity=types_1$9.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return(0,formatters_1$1.stripIndent)`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${this.node.name}, you can write:

        let ${this.node.name} = 20;

        ${this.node.name} + ${this.node.name}; // 40
    `}}noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=NoImplicitDeclareUndefinedError;const noImplicitDeclareUndefined={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(i,s){const o=[];for(const a of i.declarations)a.init||o.push(new NoImplicitDeclareUndefinedError(a.id));return o}}};noImplicitDeclareUndefined$1.default=noImplicitDeclareUndefined;var noImplicitReturnUndefined$1={};Object.defineProperty(noImplicitReturnUndefined$1,"__esModule",{value:!0});noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=void 0;const types_1$8=types,formatters_1=formatters;class NoImplicitReturnUndefinedError{constructor(s){this.node=s,this.type=types_1$8.ErrorType.SYNTAX,this.severity=types_1$8.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return(0,formatters_1.stripIndent)`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `}}noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=NoImplicitReturnUndefinedError;const noImplicitReturnUndefined={name:"no-implicit-return-undefined",checkers:{ReturnStatement(i,s){return i.argument?[]:[new NoImplicitReturnUndefinedError(i)]}}};noImplicitReturnUndefined$1.default=noImplicitReturnUndefined;var noNull$1={};Object.defineProperty(noNull$1,"__esModule",{value:!0});noNull$1.NoNullError=void 0;const types_1$7=types;class NoNullError{constructor(s){this.node=s,this.type=types_1$7.ErrorType.SYNTAX,this.severity=types_1$7.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source 1 specs."}}noNull$1.NoNullError=NoNullError;const noNull={name:"no-null",disableOn:2,checkers:{Literal(i,s){return i.value===null?[new NoNullError(i)]:[]}}};noNull$1.default=noNull;var noSpreadInArray$1={};Object.defineProperty(noSpreadInArray$1,"__esModule",{value:!0});noSpreadInArray$1.NoSpreadInArray=void 0;const types_1$6=types;class NoSpreadInArray{constructor(s){this.node=s,this.type=types_1$6.ErrorType.SYNTAX,this.severity=types_1$6.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}noSpreadInArray$1.NoSpreadInArray=NoSpreadInArray;const noSpreadInArray={name:"no-assignment-expression",checkers:{SpreadElement(i,s){return s[s.length-2].type==="CallExpression"?[]:[new NoSpreadInArray(i)]}}};noSpreadInArray$1.default=noSpreadInArray;var noTemplateExpression$1={};Object.defineProperty(noTemplateExpression$1,"__esModule",{value:!0});noTemplateExpression$1.NoTemplateExpressionError=void 0;const types_1$5=types;class NoTemplateExpressionError{constructor(s){this.node=s,this.type=types_1$5.ErrorType.SYNTAX,this.severity=types_1$5.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}noTemplateExpression$1.NoTemplateExpressionError=NoTemplateExpressionError;const noTemplateExpression={name:"no-template-expression",checkers:{TemplateLiteral(i,s){return i.expressions.length>0?[new NoTemplateExpressionError(i)]:[]}}};noTemplateExpression$1.default=noTemplateExpression;var noUnspecifiedLiteral$1={};Object.defineProperty(noUnspecifiedLiteral$1,"__esModule",{value:!0});noUnspecifiedLiteral$1.NoUnspecifiedLiteral=void 0;const types_1$4=types,specifiedLiterals=["boolean","string","number"];class NoUnspecifiedLiteral{constructor(s){this.node=s,this.type=types_1$4.ErrorType.SYNTAX,this.severity=types_1$4.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}noUnspecifiedLiteral$1.NoUnspecifiedLiteral=NoUnspecifiedLiteral;const noUnspecifiedLiteral={name:"no-unspecified-literal",checkers:{Literal(i,s){return i.value!==null&&!specifiedLiterals.includes(typeof i.value)?[new NoUnspecifiedLiteral(i)]:[]}}};noUnspecifiedLiteral$1.default=noUnspecifiedLiteral;var noUnspecifiedOperator$1={};Object.defineProperty(noUnspecifiedOperator$1,"__esModule",{value:!0});noUnspecifiedOperator$1.NoUnspecifiedOperatorError=void 0;const types_1$3=types;class NoUnspecifiedOperatorError{constructor(s){this.node=s,this.type=types_1$3.ErrorType.SYNTAX,this.severity=types_1$3.ErrorSeverity.ERROR,this.unspecifiedOperator=s.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}noUnspecifiedOperator$1.NoUnspecifiedOperatorError=NoUnspecifiedOperatorError;const noUnspecifiedOperator={name:"no-unspecified-operator",checkers:{BinaryExpression(i,s){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]},UnaryExpression(i){return["-","!"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]}}};noUnspecifiedOperator$1.default=noUnspecifiedOperator;var noUpdateAssignment$1={};Object.defineProperty(noUpdateAssignment$1,"__esModule",{value:!0});noUpdateAssignment$1.NoUpdateAssignment=void 0;const astring_1$2=astring,types_1$2=types;class NoUpdateAssignment{constructor(s){this.node=s,this.type=types_1$2.ErrorType.SYNTAX,this.severity=types_1$2.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const s=(0,astring_1$2.generate)(this.node.left),o=(0,astring_1$2.generate)(this.node.right),a=this.node.operator.slice(0,-1);return a==="+"||a==="-"||a==="/"||a==="*"?`
	${s} = ${s} ${a} ${o};`:""}}noUpdateAssignment$1.NoUpdateAssignment=NoUpdateAssignment;const noUpdateAssignment={name:"no-update-assignment",checkers:{AssignmentExpression(i,s){return i.operator!=="="?[new NoUpdateAssignment(i)]:[]}}};noUpdateAssignment$1.default=noUpdateAssignment;var noVar$1={};Object.defineProperty(noVar$1,"__esModule",{value:!0});noVar$1.NoVarError=void 0;const astring_1$1=astring,types_1$1=types;class NoVarError{constructor(s){this.node=s,this.type=types_1$1.ErrorType.SYNTAX,this.severity=types_1$1.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){const s=this.node.declarations[0].id.name,o=(0,astring_1$1.generate)(this.node.declarations[0].init);return`Use keyword "let" instead, to declare a variable:

	let ${s} = ${o};`}}noVar$1.NoVarError=NoVarError;const noVar={name:"no-var",checkers:{VariableDeclaration(i,s){return i.kind==="var"?[new NoVarError(i)]:[]}}};noVar$1.default=noVar;var singleVariableDeclaration$1={};Object.defineProperty(singleVariableDeclaration$1,"__esModule",{value:!0});singleVariableDeclaration$1.MultipleDeclarationsError=void 0;const astring_1=astring,types_1=types;class MultipleDeclarationsError{constructor(s){this.node=s,this.type=types_1.ErrorType.SYNTAX,this.severity=types_1.ErrorSeverity.ERROR,this.fixs=s.declarations.map(o=>({type:"VariableDeclaration",kind:"let",loc:o.loc,declarations:[o]}))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return`Split the variable declaration into multiple lines as follows

`+this.fixs.map(o=>"	"+(0,astring_1.generate)(o)).join(`
`)+`
`}}singleVariableDeclaration$1.MultipleDeclarationsError=MultipleDeclarationsError;const singleVariableDeclaration={name:"single-variable-declaration",checkers:{VariableDeclaration(i,s){return i.declarations.length>1?[new MultipleDeclarationsError(i)]:[]}}};singleVariableDeclaration$1.default=singleVariableDeclaration;Object.defineProperty(rules$1,"__esModule",{value:!0});const bracesAroundFor_1=bracesAroundFor$1,bracesAroundIfElse_1=bracesAroundIfElse$1,bracesAroundWhile_1=bracesAroundWhile$1,forStatementMustHaveAllParts_1=forStatementMustHaveAllParts$1,noDeclareMutable_1=noDeclareMutable$1,noDotAbbreviation_1=noDotAbbreviation$1,noEval_1=noEval$1,noHolesInArrays_1=noHolesInArrays$1,noIfWithoutElse_1=noIfWithoutElse$1,noImplicitDeclareUndefined_1=noImplicitDeclareUndefined$1,noImplicitReturnUndefined_1=noImplicitReturnUndefined$1,noNull_1=noNull$1,noSpreadInArray_1=noSpreadInArray$1,noTemplateExpression_1=noTemplateExpression$1,noUnspecifiedLiteral_1=noUnspecifiedLiteral$1,noUnspecifiedOperator_1=noUnspecifiedOperator$1,noUpdateAssignment_1=noUpdateAssignment$1,noVar_1=noVar$1,singleVariableDeclaration_1=singleVariableDeclaration$1,rules=[bracesAroundFor_1.default,bracesAroundIfElse_1.default,bracesAroundWhile_1.default,forStatementMustHaveAllParts_1.default,noDeclareMutable_1.default,noDotAbbreviation_1.default,noIfWithoutElse_1.default,noImplicitDeclareUndefined_1.default,noImplicitReturnUndefined_1.default,noNull_1.default,noUnspecifiedLiteral_1.default,noUnspecifiedOperator_1.default,noUpdateAssignment_1.default,noVar_1.default,singleVariableDeclaration_1.default,noEval_1.default,noHolesInArrays_1.default,noTemplateExpression_1.default,noSpreadInArray_1.default];rules$1.default=rules;var syntaxBlacklist={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.libraryParserLanguage=void 0,i.libraryParserLanguage=100;const s={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:i.libraryParserLanguage,NewExpression:i.libraryParserLanguage,TryStatement:i.libraryParserLanguage,CatchClause:i.libraryParserLanguage,ThrowStatement:i.libraryParserLanguage,ThisExpression:i.libraryParserLanguage,Super:i.libraryParserLanguage,ClassDeclaration:i.libraryParserLanguage,ClassExpression:i.libraryParserLanguage,Class:i.libraryParserLanguage,ClassBody:i.libraryParserLanguage,MethodDefinition:i.libraryParserLanguage,FunctionExpression:i.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0};i.default=s})(syntaxBlacklist);var hasRequiredParser$1;function requireParser$1(){return hasRequiredParser$1||(hasRequiredParser$1=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.typedParse=i.looseParse=i.parseWithComments=i.createAcornParserOptions=i.tokenize=i.parse=i.parseAt=i.TrailingCommaError=i.MissingSemicolonError=i.FatalSyntaxError=i.DisallowedConstructError=void 0;const s=acornExports,o=acornLooseExports,a=constants,nt=types,tt=formatters,ot=walkers$1,at=requireValidator(),rt=rules$1,it=syntaxBlacklist;class j{constructor(pt){this.node=pt,this.type=nt.ErrorType.SYNTAX,this.severity=nt.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return(0,tt.stripIndent)`
      You are trying to use ${this.nodeType}, which is not allowed (yet).
    `}formatNodeType(pt){switch(pt){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return pt.split(/(?=[A-Z])/).map((Et,Ct)=>Ct===0?Et:Et.toLowerCase()).join(" ")+"s"}}}i.DisallowedConstructError=j;class _{constructor(pt,wt){this.location=pt,this.message=wt,this.type=nt.ErrorType.SYNTAX,this.severity=nt.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}i.FatalSyntaxError=_;class ${constructor(pt){this.location=pt,this.type=nt.ErrorType.SYNTAX,this.severity=nt.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}i.MissingSemicolonError=$;class et{constructor(pt){this.location=pt}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}i.TrailingCommaError=et;function st(yt,pt){let wt;try{wt=(0,s.parseExpressionAt)(yt,pt,a.ACORN_PARSE_OPTIONS)}catch{return}return wt}i.parseAt=st;function lt(yt,pt){let wt;try{wt=(0,s.parse)(yt,(0,i.createAcornParserOptions)(pt)),(0,ot.ancestor)(wt,St,void 0,pt)}catch(Ct){if(Ct instanceof SyntaxError){const kt=Ct.loc,Tt={start:{line:kt.line,column:kt.column},end:{line:kt.line,column:kt.column+1}};pt.errors.push(new _(Tt,Ct.toString()))}else throw Ct}const Et=pt.errors.find(Ct=>Ct.severity===nt.ErrorSeverity.ERROR);if(wt&&!Et)return wt}i.parse=lt;function ct(yt,pt){return[...(0,s.tokenizer)(yt,(0,i.createAcornParserOptions)(pt))]}i.tokenize=ct;const ht=yt=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(pt,wt){yt.errors.push(new $({end:{line:wt.line,column:wt.column+1},start:wt}))},onTrailingComma(pt,wt){yt.errors.push(new et({end:{line:wt.line,column:wt.column+1},start:wt}))}});i.createAcornParserOptions=ht;function ut(yt){let pt=[];const wt={sourceType:"module",ecmaVersion:6,locations:!0,onComment:pt};let Et;try{Et=(0,s.parse)(yt,wt)}catch{pt=[],Et=(0,o.parse)(yt,wt)}return[Et,pt]}i.parseWithComments=ut;function mt(yt,pt){return(0,o.parse)(yt,(0,i.createAcornParserOptions)(pt))}i.looseParse=mt;function gt(yt,pt){const wt=mt(yt,pt);return wt===void 0?null:(0,at.validateAndAnnotate)(wt,pt)}i.typedParse=gt;function vt(yt,pt){const wt=new Map,Et=new Set;return Object.entries(yt).map(kt=>{const Tt=kt[0];wt.set(Tt,(At,It,Ot)=>{Et.has(At)||(Et.add(At),It.chapter<yt[At.type]&&It.errors.push(new j(At)))})}),pt.forEach(kt=>{const Tt=kt.checkers;Object.entries(Tt).forEach(It=>{const Ot=It[0],Mt=It[1],Dt=wt.get(Ot),Bt=(qt,Wt,Vt)=>{if(typeof kt.disableOn<"u"&&Wt.chapter>=kt.disableOn)return;Mt(qt,Vt).forEach(Jt=>Wt.errors.push(Jt))};wt.set(Ot,(qt,Wt,Vt)=>{Dt(qt,Wt,Vt),Bt(qt,Wt,Vt)})})}),dt(wt)}const dt=yt=>Array.from(yt).reduce((pt,[wt,Et])=>Object.assign(pt,{[wt]:Et}),{}),St=vt(it.default,rt.default)}(parser)),parser}var hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1,Object.defineProperty(parser$1,"__esModule",{value:!0}),parser$1.tokenize=parser$1.parse=void 0;const i=requireParser$1(),s=syntaxBlacklist,o=formatters,a=requireList();class nt extends Error{constructor(st){super(st),this.name="ParseError"}}function tt(){console.error((0,o.oneLine)`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)}function ot(et){return et.length===1?j(et[0]):(0,a.vector_to_list)(["sequence",(0,a.vector_to_list)(et.map(j))])}function at(et){return rt(et)?(0,a.vector_to_list)(["block",ot(et)]):ot(et)}function rt(et){return et.reduce((st,lt)=>st||lt.type==="VariableDeclaration"||lt.type==="FunctionDeclaration",!1)}const it=new Map([["Program",et=>(et=et,ot(et.body))],["BlockStatement",et=>at(et.body)],["ExpressionStatement",et=>j(et.expression)],["IfStatement",et=>(0,a.vector_to_list)(["conditional_statement",j(et.test),j(et.consequent),et.alternate===null?ot([]):j(et.alternate)])],["FunctionDeclaration",et=>(0,a.vector_to_list)(["function_declaration",j(et.id),(0,a.vector_to_list)(et.params.map(j)),at(et.body.body)])],["VariableDeclaration",et=>{if(et.kind==="let")return(0,a.vector_to_list)(["variable_declaration",j(et.declarations[0].id),j(et.declarations[0].init)]);if(et.kind==="const")return(0,a.vector_to_list)(["constant_declaration",j(et.declarations[0].id),j(et.declarations[0].init)]);throw tt(),new nt("Invalid declaration kind")}],["ReturnStatement",et=>(0,a.vector_to_list)(["return_statement",j(et.argument)])],["CallExpression",et=>(0,a.vector_to_list)(["application",j(et.callee),(0,a.vector_to_list)(et.arguments.map(j))])],["UnaryExpression",et=>(0,a.vector_to_list)(["unary_operator_combination",et.operator==="-"?"-unary":et.operator,j(et.argument)])],["BinaryExpression",et=>(0,a.vector_to_list)(["binary_operator_combination",et.operator,j(et.left),j(et.right)])],["LogicalExpression",et=>(0,a.vector_to_list)(["logical_composition",et.operator,j(et.left),j(et.right)])],["ConditionalExpression",et=>(0,a.vector_to_list)(["conditional_expression",j(et.test),j(et.consequent),j(et.alternate)])],["ArrowFunctionExpression",et=>(0,a.vector_to_list)(["lambda_expression",(0,a.vector_to_list)(et.params.map(j)),et.body.type==="BlockStatement"?at(et.body.body):(0,a.vector_to_list)(["return_statement",j(et.body)])])],["Identifier",et=>(0,a.vector_to_list)(["name",et.name])],["Literal",et=>(0,a.vector_to_list)(["literal",et.value])],["ArrayExpression",et=>(0,a.vector_to_list)(["array_expression",(0,a.vector_to_list)(et.elements.map(j))])],["AssignmentExpression",et=>{if(et.left.type==="Identifier")return(0,a.vector_to_list)(["assignment",j(et.left),j(et.right)]);if(et.left.type==="MemberExpression")return(0,a.vector_to_list)(["object_assignment",j(et.left),j(et.right)]);throw tt(),new nt("Invalid assignment")}],["ForStatement",et=>(0,a.vector_to_list)(["for_loop",j(et.init),j(et.test),j(et.update),j(et.body)])],["WhileStatement",et=>(0,a.vector_to_list)(["while_loop",j(et.test),j(et.body)])],["BreakStatement",et=>(0,a.vector_to_list)(["break_statement"])],["ContinueStatement",et=>(0,a.vector_to_list)(["continue_statement"])],["ObjectExpression",et=>(0,a.vector_to_list)(["object_expression",(0,a.vector_to_list)(et.properties.map(j))])],["MemberExpression",et=>(0,a.vector_to_list)(["object_access",j(et.object),!et.computed&&et.property.type==="Identifier"?(0,a.vector_to_list)(["property",et.property.name]):j(et.property)])],["Property",et=>(0,a.vector_to_list)(["key_value_pair",et.key.type==="Identifier"?(0,a.vector_to_list)(["property",et.key.name]):j(et.key),j(et.value)])],["ImportDeclaration",et=>(0,a.vector_to_list)(["import_declaration",(0,a.vector_to_list)(et.specifiers.map(j)),et.source.value])],["ImportSpecifier",et=>(0,a.vector_to_list)(["name",et.imported.name])],["ClassDeclaration",et=>(0,a.vector_to_list)(["class_declaration",(0,a.vector_to_list)(["name",et.id===null?null:et.id.name,et.superClass===null||et.superClass===void 0?null:j(et.superClass),et.body.body.map(j)])])],["NewExpression",et=>(0,a.vector_to_list)(["new_expression",j(et.callee),(0,a.vector_to_list)(et.arguments.map(j))])],["MethodDefinition",et=>(0,a.vector_to_list)(["method_definition",et.kind,et.static,j(et.key),j(et.value)])],["FunctionExpression",et=>(0,a.vector_to_list)(["lambda_expression",(0,a.vector_to_list)(et.params.map(j)),at(et.body.body)])],["ThisExpression",et=>(0,a.vector_to_list)(["this_expression"])],["Super",et=>(0,a.vector_to_list)(["super_expression"])],["TryStatement",et=>(0,a.vector_to_list)(["try_statement",j(et.block),et.handler===null||et.handler===void 0?null:(0,a.vector_to_list)(["name",et.handler.param.name]),et.handler===null||et.handler===void 0?null:j(et.handler.body)])],["ThrowStatement",et=>(0,a.vector_to_list)(["throw_statement",j(et.argument)])],["SpreadElement",et=>(0,a.vector_to_list)(["spread_element",j(et.argument)])],["RestElement",et=>(0,a.vector_to_list)(["rest_element",j(et.argument)])]]);function j(et){if(it.has(et.type)){const lt=it.get(et.type)(et);return lt!=null&&typeof lt=="object"&&lt.tag!==void 0&&(lt.loc=et.loc),lt}else throw tt(),new nt("Cannot transform unknown type: "+et.type)}function _(et,st){st.chapter=s.libraryParserLanguage;const lt=(0,i.parse)(et,st);if(st.errors.length>0)throw new nt(st.errors[0].explain());if(lt!==void 0)return j(lt);throw tt(),new nt("Invalid parse")}parser$1.parse=_;function $(et,st){const lt=(0,i.tokenize)(et,st).map(ct=>et.substring(ct.start,ct.end));return(0,a.vector_to_list)(lt)}return parser$1.tokenize=$,parser$1}var stream={},hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream;hasRequiredStream=1,Object.defineProperty(stream,"__esModule",{value:!0}),stream.list_to_stream=stream.stream=stream.stream_tail=void 0;const i=requireList();function s(nt){let tt;if((0,i.is_pair)(nt))tt=nt[1];else throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+nt);if(typeof tt=="function")return tt();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+tt)}stream.stream_tail=s;function o(...nt){return a((0,i.list)(...nt))}stream.stream=o;function a(nt){return(0,i.is_null)(nt)?null:(0,i.pair)((0,i.head)(nt),()=>a((0,i.tail)(nt)))}return stream.list_to_stream=a,stream}var stream_prelude={};Object.defineProperty(stream_prelude,"__esModule",{value:!0});stream_prelude.streamPrelude=void 0;stream_prelude.streamPrelude=`

// Supporting streams in the Scheme style, following
// "stream discipline"

// is_stream recurses down the stream and checks that it ends with the
// empty list null

function is_stream(xs) {
  return is_null(xs) ||
    (is_pair(xs) &&
    is_function(tail(xs)) &&
    arity(tail(xs)) === 0 &&
    is_stream(stream_tail(xs)));
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.

function list_to_stream(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs),
      () => list_to_stream(tail(xs)));
}

// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs)
    ? 0
    : 1 + stream_length(stream_tail(xs));
}

// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)),
      () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n
      ? null
      : pair(fun(i),
        () => build(i + 1));
  }
  return build(0);
}

// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(stream_tail(original),
        pair(head(original), () => reversed));
  }
  return rev(xs, null);
}

// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs),
      () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
      ? s
      : stream_member(x, stream_tail(s));
}

// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_tail(xs)
      : pair(head(xs),
        () => stream_remove(v, stream_tail(xs)));
}

// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_remove_all(v, stream_tail(xs))
      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}

// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
      ? pair(head(s),
        () => stream_filter(p, stream_tail(s)))
      : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end
    ? null
    : pair(start,
      () => enum_stream(start + 1, end));
}

// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n,
    () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
    function es(s, n) {
        return n === 1 
               ? list(head(s))
               : pair(head(s), 
                      es(stream_tail(s), n - 1));
    }
    return n === 0 
           ? null
           : es(s, n);
}

// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0
    ? head(s)
    : stream_ref(stream_tail(s), n - 1);
}
`;var typeChecker={},typeErrors={},hasRequiredTypeErrors;function requireTypeErrors(){if(hasRequiredTypeErrors)return typeErrors;hasRequiredTypeErrors=1,Object.defineProperty(typeErrors,"__esModule",{value:!0}),typeErrors.InconsistentPredicateTestError=typeErrors.CallingNonFunctionType=typeErrors.ConsequentAlternateMismatchError=typeErrors.UndefinedIdentifierError=typeErrors.InvalidTestConditionError=typeErrors.InvalidArgumentTypesError=typeErrors.DifferentNumberArgumentsError=typeErrors.CyclicReferenceError=typeErrors.DifferentAssignmentError=typeErrors.ReassignConstError=typeErrors.ArrayAssignmentError=typeErrors.InvalidArrayIndexType=void 0;const i=astring,s=types,o=formatters,a=requireStringify();class nt{constructor(gt,vt){this.node=gt,this.receivedType=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${(0,a.typeToString)(this.receivedType)} instead`}elaborate(){return this.explain()}}typeErrors.InvalidArrayIndexType=nt;class tt{constructor(gt,vt,dt){this.node=gt,this.arrayType=vt,this.receivedType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`Expected array type: ${(0,a.typeToString)(this.arrayType)}
    but got: ${(0,a.typeToString)(this.receivedType)}`}elaborate(){return this.explain()}}typeErrors.ArrayAssignmentError=tt;class ot{constructor(gt){this.node=gt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[gt]=rt(this.node);return`Reassignment of constant ${gt}`}elaborate(){return this.explain()}}typeErrors.ReassignConstError=ot;class at{constructor(gt,vt,dt){this.node=gt,this.expectedType=vt,this.receivedType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[gt,vt]=rt(this.node);return(0,o.stripIndent)`
    Expected assignment of ${gt}:
      ${vt}
    to get a value of type:
      ${(0,a.typeToString)(this.expectedType)}
    but got a value of type:
      ${(0,a.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.DifferentAssignmentError=at;function rt(mt){const gt=mt.left,vt=(0,o.simplify)((0,i.generate)(mt.right));return[gt.name,vt]}class it{constructor(gt){this.node=gt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${j(this.node)} contains cyclic reference to itself`}elaborate(){return this.explain()}}typeErrors.CyclicReferenceError=it;function j(mt){var gt;return["VariableDeclaration","FunctionDeclaration"].includes(mt.type)?mt.type==="VariableDeclaration"?mt.declarations[0].id.name:(gt=mt.id)===null||gt===void 0?void 0:gt.name:mt.type==="Identifier"?mt.name:JSON.stringify(mt)}class _{constructor(gt,vt,dt){this.node=gt,this.numExpectedArgs=vt,this.numReceived=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}}typeErrors.DifferentNumberArgumentsError=_;class ${constructor(gt,vt,dt,St){this.node=gt,this.args=vt,this.expectedTypes=dt,this.receivedTypes=St,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const gt=this.args.map(St=>(0,o.simplify)((0,i.generate)(St)));if("operator"in this.node){const St=this.node.operator;return this.expectedTypes.length===2?(0,o.stripIndent)`
        A type mismatch was detected in the binary expression:
          ${gt[0]} ${St} ${gt[1]}
        The binary operator (${St}) expected two operands with types:
          ${(0,a.typeToString)(this.expectedTypes[0])} ${St} ${(0,a.typeToString)(this.expectedTypes[1])}
        but instead it received two operands of types:
          ${(0,a.typeToString)(this.receivedTypes[0])} ${St} ${(0,a.typeToString)(this.receivedTypes[1])}
        `:(0,o.stripIndent)`
        A type mismatch was detected in the unary expression:
          ${St} ${gt[0]}
        The unary operator (${St}) expected its operand to be of type:
          ${(0,a.typeToString)(this.expectedTypes[0])}
        but instead it received an operand of type:
          ${(0,a.typeToString)(this.receivedTypes[0])}
        `}const vt=(0,o.simplify)((0,i.generate)(this.node));function dt(St){switch(St.length){case 1:return`an argument of type:
      ${(0,a.typeToString)(St[0])}`;default:return`${St.length} arguments of types:
      ${St.map(a.typeToString).join(", ")}`}}return(0,o.stripIndent)`
    A type mismatch was detected in the function call:
      ${vt}
    The function expected ${dt(this.expectedTypes)}
    but instead received ${dt(this.receivedTypes)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidArgumentTypesError=$;function et(mt){let gt=(0,o.simplify)((0,i.generate)(mt.test)),vt;switch(mt.type){case"IfStatement":{gt=`if (${gt}) { ... } else { ... }`,vt="if statement";break}case"ConditionalExpression":{gt=`${gt} ? ... : ...`,vt="conditional expression";break}case"WhileStatement":{gt=`while (${gt}) { ... }`,vt="while statement";break}case"ForStatement":gt=`for (...; ${gt}; ...) { ... }`,vt="for statement"}return{exprString:gt,kind:vt}}class st{constructor(gt,vt){this.node=gt,this.receivedType=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:gt,kind:vt}=et(this.node);return(0,o.stripIndent)`
    Expected the test part of the ${vt}:
      ${gt}
    to have type boolean, but instead it is type:
      ${(0,a.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidTestConditionError=st;class lt{constructor(gt,vt){this.node=gt,this.name=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`
    One or more undeclared names detected (e.g. '${this.name}').
    If there aren't actually any undeclared names, then is either a Source or misconfiguration bug.
    Please report this to the administrators!
    `}elaborate(){return this.explain()}}typeErrors.UndefinedIdentifierError=lt;class ct{constructor(gt,vt,dt){this.node=gt,this.consequentType=vt,this.alternateType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:gt,kind:vt}=et(this.node);return(0,o.stripIndent)`
    The two branches of the ${vt}:
      ${gt}
    produce different types!
    The true branch has type:
      ${(0,a.typeToString)(this.consequentType)}
    but the false branch has type:
      ${(0,a.typeToString)(this.alternateType)}
    `}elaborate(){return this.explain()}}typeErrors.ConsequentAlternateMismatchError=ct;class ht{constructor(gt,vt){this.node=gt,this.callerType=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`
    In
      ${(0,o.simplify)((0,i.generate)(this.node))}
    expected
      ${(0,o.simplify)((0,i.generate)(this.node.callee))}
    to be a function type, but instead it is type:
      ${(0,a.typeToString)(this.callerType)}
    `}elaborate(){return this.explain()}}typeErrors.CallingNonFunctionType=ht;class ut{constructor(gt,vt,dt,St){this.node=gt,this.argVarName=vt,this.preUnifyType=dt,this.predicateType=St,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const gt=(0,i.generate)(this.node);return(0,o.stripIndent)`
    Inconsistent type constraints when trying to apply the predicate test
      ${gt}
    It is inconsistent with the predicate tests applied before it.
    The variable ${this.argVarName} has type
      ${(0,a.typeToString)(this.preUnifyType)}
    but could not unify with type
      ${(0,a.typeToString)(this.predicateType)}
    `}elaborate(){return this.explain()}}return typeErrors.InconsistentPredicateTestError=ut,typeErrors}var internalTypeErrors={},hasRequiredInternalTypeErrors;function requireInternalTypeErrors(){if(hasRequiredInternalTypeErrors)return internalTypeErrors;hasRequiredInternalTypeErrors=1,Object.defineProperty(internalTypeErrors,"__esModule",{value:!0}),internalTypeErrors.InternalCyclicReferenceError=internalTypeErrors.InternalDifferentNumberArgumentsError=internalTypeErrors.UnifyError=internalTypeErrors.InternalTypeError=internalTypeErrors.TypeError=void 0;const i=types,s=requireStringify();class o{constructor(rt,it){this.node=rt,this.message=it,this.type=i.ErrorType.TYPE,this.severity=i.ErrorSeverity.WARNING,rt.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}}internalTypeErrors.TypeError=o;class a extends Error{constructor(rt){super(),this.message=rt}}internalTypeErrors.InternalTypeError=a;class nt extends a{constructor(rt,it){super(`Failed to unify LHS: ${(0,s.typeToString)(rt)}, RHS: ${(0,s.typeToString)(it)}`),this.LHS=rt,this.RHS=it}}internalTypeErrors.UnifyError=nt;class tt extends a{constructor(rt,it){super(`Expected ${rt} args, got ${it}`),this.numExpectedArgs=rt,this.numReceived=it}}internalTypeErrors.InternalDifferentNumberArgumentsError=tt;class ot extends a{constructor(rt){super("contains a cyclic reference to itself"),this.name=rt}}return internalTypeErrors.InternalCyclicReferenceError=ot,internalTypeErrors}var hasRequiredTypeChecker;function requireTypeChecker(){if(hasRequiredTypeChecker)return typeChecker;hasRequiredTypeChecker=1,Object.defineProperty(typeChecker,"__esModule",{value:!0}),typeChecker.createTypeEnvironment=typeChecker.tForAll=typeChecker.tVar=typeChecker.typeCheck=void 0;const i=requireTypeErrors(),s=requireParser$1(),o=requireStringify(),a=requireInternalTypeErrors(),nt="-_1";let tt=0;function ot(Xt,er){if(Xt!==null){if(er&&Xt.typability!=="Untypable")try{Xt.inferredType=gt(Xt.inferredType,er),Xt.typability="Typed"}catch(lr){j(lr)&&!(lr instanceof a.InternalCyclicReferenceError)&&et(new a.TypeError(Xt,lr))}else Xt.inferredType=Qt(tt),tt++;switch(Xt.type){case"Program":{Xt.body.forEach(lr=>{ot(lr,er)});break}case"UnaryExpression":{ot(Xt.argument,er);break}case"LogicalExpression":case"BinaryExpression":{ot(Xt.left,er),ot(Xt.right,er);break}case"ExpressionStatement":{ot(Xt.expression,er);break}case"BlockStatement":{Xt.body.forEach(lr=>{ot(lr,er)});break}case"WhileStatement":{ot(Xt.test,er),ot(Xt.body,er);break}case"ForStatement":{ot(Xt.init,er),ot(Xt.test,er),ot(Xt.update,er),ot(Xt.body,er);break}case"ConditionalExpression":case"IfStatement":{ot(Xt.test,er),ot(Xt.consequent,er),Xt.alternate&&ot(Xt.alternate,er);break}case"CallExpression":{ot(Xt.callee,er),Xt.arguments.forEach(lr=>{ot(lr,er)});break}case"ReturnStatement":{const lr=Xt.argument;ot(lr,er);break}case"VariableDeclaration":{const lr=Xt.declarations[0].init;ot(lr,er);break}case"ArrowFunctionExpression":{Xt.params.forEach(lr=>{ot(lr,er)}),ot(Xt.body,er);break}case"FunctionDeclaration":{const lr=Xt;if(er)try{lr.functionInferredType=gt(lr.functionInferredType,er)}catch(Lr){Lr instanceof a.InternalCyclicReferenceError?et(new i.CyclicReferenceError(Xt)):j(Lr)&&et(new a.TypeError(Xt,Lr))}else lr.functionInferredType=Qt(tt);tt++,lr.params.forEach(Lr=>{ot(Lr,er)}),ot(lr.body,er);break}case"AssignmentExpression":ot(Xt.left,er),ot(Xt.right,er);break;case"ArrayExpression":Xt.elements.forEach(lr=>ot(lr,er));break;case"MemberExpression":ot(Xt.object,er),ot(Xt.property,er);break;default:return}}}function at(Xt){return Xt.kind==="pair"}function rt(Xt){return Xt.kind==="list"}function it(Xt){return rt(Xt)?Xt.elementType:null}function j(Xt){return Xt instanceof a.InternalTypeError}let _=!1,$=[];function et(Xt){Xt instanceof i.UndefinedIdentifierError&&_||(_=!0,$.push(Xt))}function st(Xt,er){function lr(Lr){tt=0,_=!1,$=[];const Nr=er.typeEnvironment;if(er.chapter>=3&&Nr.length===3){const Tr=Nr[2].typeMap;for(const[Hr,sn]of $r)Tr.set(Hr,sn)}const Cr=[];ot(Lr);try{Vt(Lr,Nr,Cr,!0)}catch(Tr){j(Tr)?et(new a.TypeError(Lr,`Uncaught internal type error during typechecking, report this to the adminstrators!
`+Tr.message)):et(new a.TypeError(Lr,`Uncaught error during typechecking, report this to the adminstrators!
`+Tr.message))}return ot(Lr,Cr),[Lr,$]}for(const Lr of er.unTypecheckedCode)lr((0,s.typedParse)(Lr,er));return er.unTypecheckedCode=[],lr(Xt)}typeChecker.typeCheck=st;function lt(Xt){const er=tt;return tt++,Object.assign(Object.assign({},Xt),{name:`T${er}`})}function ct(Xt,er){switch(Xt.kind){case"primitive":return Xt;case"list":return{kind:"list",elementType:ct(Xt.elementType,er)};case"array":return{kind:"array",elementType:ct(Xt.elementType,er)};case"pair":return{kind:"pair",headType:ct(Xt.headType,er),tailType:ct(Xt.tailType,er)};case"variable":return er[Xt.name];case"function":return Object.assign(Object.assign({},Xt),{parameterTypes:Xt.parameterTypes.map(lr=>ct(lr,er)),returnType:ct(Xt.returnType,er)})}}function ht(Xt,er){const lr=[...Xt];return er.forEach(Lr=>{lr.findIndex(Nr=>Nr.name===Lr.name)===-1&&lr.push(Lr)}),lr}function ut(Xt){switch(Xt.kind){case"primitive":return[];case"list":return ut(Xt.elementType);case"array":return ut(Xt.elementType);case"pair":return ht(ut(Xt.headType),ut(Xt.tailType));case"variable":return[Xt];case"function":return ht(Xt.parameterTypes.reduce((er,lr)=>ht(er,ut(lr)),[]),ut(Xt.returnType))}}function mt(Xt){const er=Xt.polyType,lr=ut(er),Lr={};return lr.forEach(Nr=>{Lr[Nr.name]=lt(Nr)}),ct(er,Lr)}function gt(Xt,er){switch(Xt.kind){case"primitive":return Xt;case"pair":{const lr=gt(Xt.headType,er),Lr=gt(Xt.tailType,er);return Lr.kind==="list"&&lr===it(Lr)?dr(lr):hr(lr,Lr)}case"list":return{kind:"list",elementType:gt(Xt.elementType,er)};case"array":return{kind:"array",elementType:gt(Xt.elementType,er)};case"variable":{for(const lr of er){const Lr=lr[0],Nr=lr[1];if(Lr.name===Xt.name){if(vt(Nr,Lr.name)){if(at(Nr)&&Lr===Nr.tailType)return{kind:"list",elementType:Nr.headType};if(Lr.kind==="variable"&&Lr===it(Nr))return{kind:"list",elementType:Lr};throw new a.InternalCyclicReferenceError(Xt.name)}return gt(lr[1],er)}}return Xt}case"function":return Object.assign(Object.assign({},Xt),{parameterTypes:Xt.parameterTypes.map(lr=>gt(lr,er)),returnType:gt(Xt.returnType,er)})}}function vt(Xt,er){switch(Xt.kind){case"primitive":return!1;case"pair":return vt(Xt.headType,er)||vt(Xt.tailType,er);case"array":case"list":return vt(Xt.elementType,er);case"variable":return Xt.name===er;case"function":return Xt.parameterTypes.some(Lr=>vt(Lr,er))||vt(Xt.returnType,er)}}function dt(Xt,er,lr){for(const Lr of er)if(Lr[0].name===Xt.name)return wt(er,[lr,Lr[1]]);return lr.kind==="variable"&&Xt.constraint==="addable"&&lr.constraint==="none"&&(lr.constraint=Xt.constraint),Xt!==lr&&er.push([Xt,lr]),er}function St(Xt,er){return Xt.constraint==="addable"&&er.kind!=="variable"&&!(er.kind==="primitive"&&(er.name==="string"||er.name==="number"))}function yt(Xt){return{kind:"function",parameterTypes:[lt(Qt("T"))],returnType:rr}}function pt(){return fr(lt(Qt("T")),rr)}function wt(Xt,[er,lr]){if(er.kind==="primitive"&&lr.kind==="primitive"&&er.name===lr.name)return Xt;if(er.kind!=="variable"&&lr.kind==="variable")return wt(Xt,[lr,er]);if(er.kind==="variable"){if(lr=gt(lr,Xt),(lr.kind==="primitive"||lr.kind==="variable")&&er.name===lr.name)return Xt;if(lr.kind==="pair"&&er===lr.tailType)wt(Xt,[er,dr(lr.headType)]);else if(lr.kind==="pair"&&lr.tailType.kind==="list"){const Lr=wt(Xt,[lr.headType,it(lr.tailType)]);return wt(Lr,[er,dr(lr.headType)])}else if(vt(lr,er.name))throw new a.InternalCyclicReferenceError(er.name);if(St(er,lr))throw new a.UnifyError(er,lr);return dt(er,Xt,gt(lr,Xt))}else if(er.kind==="function"&&lr.kind==="function"){if(er.parameterTypes.length!==lr.parameterTypes.length)throw new a.InternalDifferentNumberArgumentsError(lr.parameterTypes.length,er.parameterTypes.length);let Lr=Xt;for(let Nr=0;Nr<er.parameterTypes.length;Nr++)Lr=wt(Lr,[er.parameterTypes[Nr],lr.parameterTypes[Nr]]);return Lr=wt(Lr,[er.returnType,lr.returnType]),Lr}else if(er.kind==="pair"&&lr.kind==="pair"){const Lr=wt(Xt,[er.headType,lr.headType]);return wt(Lr,[er.tailType,lr.tailType])}else{if(er.kind==="list"&&lr.kind==="list")return wt(Xt,[er.elementType,lr.elementType]);if(er.kind==="list"&&lr.kind==="pair")return wt(Xt,[lr,hr(er.elementType,er)]);if(lr.kind==="list"&&er.kind==="pair")return wt(Xt,[er,hr(lr.elementType,lr)]);if(er.kind==="array"&&lr.kind==="array")return wt(Xt,[er.elementType,lr.elementType])}throw new a.UnifyError(er,lr)}function Et(Xt,er,lr,Lr,Nr,Cr){Wt(Nr);for(const Tr of er)Bt(Tr.argVarName,lt(Qt("PredicatedT")),Nr);for(const Tr of er){const Hr=Mt(Tr.argVarName,Nr),sn=gt(Hr,Cr),Or=Tr.ifTrueType.kind==="forall"?mt(Tr.ifTrueType):Tr.ifTrueType;try{Cr=wt(Cr,[Hr,Or])}catch(qr){qr instanceof a.UnifyError&&et(new i.InconsistentPredicateTestError(Tr.node,Tr.argVarName,sn,Or))}}return Cr=Vt(lr,Nr,Cr,Lr),Nr.pop(),Cr}function Ct(Xt,er,lr,Lr,Nr,Cr,Tr){if(Tr=Et(Xt,er,lr,Nr,Cr,Tr),Lr!==void 0)try{Tr=Vt(Lr,Cr,Tr,Nr)}catch(Hr){Hr instanceof a.UnifyError&&et(new i.ConsequentAlternateMismatchError(Xt,Hr.RHS,Hr.LHS))}return Tr}function kt(Xt){switch(Xt.type){case"IfStatement":return kt(Xt.consequent)||kt(Xt.alternate);case"BlockStatement":return Xt.body.some(er=>kt(er));case"ForStatement":case"WhileStatement":return kt(Xt.body);case"ReturnStatement":return!0;default:return!1}}function Tt(Xt){switch(Xt.type){case"ExpressionStatement":return!0;case"IfStatement":return Tt(Xt.consequent)||Tt(Xt.alternate);case"BlockStatement":return Xt.body.some(er=>Tt(er));case"ForStatement":case"WhileStatement":return Tt(Xt.body);default:return!1}}function At(Xt,er,lr=[]){if(Xt.type==="LogicalExpression"&&Xt.operator==="&&")return lr=At(Xt.left,er,lr),At(Xt.right,er,lr);if(Xt.type==="UnaryExpression"&&Xt.operator==="!")return It(Xt.argument,er,lr);if(Xt.type==="CallExpression"&&Xt.callee.type==="Identifier"&&Xt.arguments.length===1&&Xt.arguments[0].type==="Identifier"){const Lr=Mt(Xt.callee.name,er);if(Lr!==void 0&&Lr.kind==="predicate")return lr.push({node:Xt,ifTrueType:Lr.ifTrueType,argVarName:Xt.arguments[0].name}),lr}return lr}function It(Xt,er,lr=[]){return Xt.type==="LogicalExpression"&&Xt.operator==="||"?(lr=It(Xt.left,er,lr),It(Xt.right,er,lr)):Xt.type==="UnaryExpression"&&Xt.operator==="!"?At(Xt.argument,er,lr):lr}function Ot(Xt,er){const lr=Xt.body.length-1;if(er){for(let Lr=lr;Lr>=0;Lr--)if(Tt(Xt.body[Lr]))return Lr;return lr}else return Xt.body.findIndex((Lr,Nr)=>Nr===lr||kt(Lr))}function Mt(Xt,er){for(let lr=er.length-1;lr>=0;lr--)if(er[lr].typeMap.has(Xt))return er[lr].typeMap.get(Xt)}function Dt(Xt,er){for(let lr=er.length-1;lr>=0;lr--)if(er[lr].declKindMap.has(Xt))return er[lr].declKindMap.get(Xt)}function Bt(Xt,er,lr){lr[lr.length-1].typeMap.set(Xt,er)}function qt(Xt,er,lr){lr[lr.length-1].declKindMap.set(Xt,er)}function Wt(Xt){Xt.push({typeMap:new Map,declKindMap:new Map})}function Vt(Xt,er,lr,Lr=!1){try{return Ht(Xt,er,lr,Lr)}catch(Nr){if(Nr instanceof a.InternalCyclicReferenceError)return et(new i.CyclicReferenceError(Xt)),lr;throw Nr}}function Ht(Xt,er,lr,Lr=!1){const Nr=Xt.inferredType;switch(Xt.type){case"UnaryExpression":{const Cr=Xt.operator==="-"?nt:Xt.operator,Tr=Mt(Cr,er),Hr=Xt.argument,sn=Hr.inferredType,Or=[];let qr=Vt(Hr,er,lr);Or.push(gt(Hr.inferredType,qr));try{qr=wt(qr,[fr(sn,Nr),Tr])}catch(Gr){if(Gr instanceof a.UnifyError){const Ur=Tr.parameterTypes;return et(new i.InvalidArgumentTypesError(Xt,[Hr],Ur,Or)),qr}}return qr}case"LogicalExpression":{const Cr=Xt.left,Tr=Cr.inferredType,Hr=Xt.right,sn=Hr.inferredType;let Or=lr;Or=wt(lr,[Nr,rr]),Or=Vt(Cr,er,Or);const qr=gt(Cr.inferredType,Or);let Gr;if(Xt.operator==="&&"){const Ur=At(Xt.left,er);Ur.length>0&&(Or=Et(Xt,Ur,Xt.right,Lr,er,Or),Gr=gt(Hr.inferredType,Or))}else if(Xt.operator==="||"){const Ur=It(Xt.left,er);Ur.length>0&&(Or=Et(Xt,Ur,Xt.right,Lr,er,Or),Gr=gt(Hr.inferredType,Or))}Gr===void 0&&(Or=Vt(Hr,er,Or),Gr=gt(Hr.inferredType,Or));try{Or=wt(lr,[Tr,rr]),Or=wt(lr,[sn,rr])}catch(Ur){Ur instanceof a.UnifyError&&et(new i.InvalidArgumentTypesError(Xt,[Cr,Hr],[rr,rr],[qr,Gr]))}return Or}case"BinaryExpression":{const Cr=Mt(Xt.operator,er),Tr=Cr.kind==="forall"?mt(Cr):Cr.kind==="predicate"?yt():Cr,Hr=Xt.left,sn=Hr.inferredType,Or=Xt.right,qr=Or.inferredType,Gr=[Hr,Or];let Ur=lr;const vn=[];Gr.forEach(Ar=>{Ur=Vt(Ar,er,Ur),vn.push(gt(Ar.inferredType,Ur))});try{Ur=wt(lr,[fr(sn,qr,Nr),Tr])}catch(Ar){if(Ar instanceof a.UnifyError){const dn=Tr.parameterTypes;et(new i.InvalidArgumentTypesError(Xt,Gr,dn,vn))}}return Ur}case"ExpressionStatement":return Vt(Xt.expression,er,wt(lr,[Nr,_r]));case"ReturnStatement":{const Cr=Xt.argument;return Vt(Cr,er,wt(lr,[Nr,Cr.inferredType]))}case"WhileStatement":{const Cr=Xt.test,Tr=Cr.inferredType,Hr=Xt.body,sn=Hr.inferredType;let Or=wt(lr,[Nr,sn]);try{Or=Vt(Cr,er,Or),Or=wt(Or,[Tr,rr])}catch(qr){qr instanceof a.UnifyError&&et(new i.InvalidTestConditionError(Xt,qr.RHS))}return Vt(Hr,er,Or,Lr)}case"ForStatement":{const Cr=Xt.init,Tr=Xt.test,Hr=Tr.inferredType,sn=Xt.body,Or=sn.inferredType,qr=Xt.update;let Gr=wt(lr,[Nr,Or]);if(Wt(er),Cr.type==="VariableDeclaration"&&Cr.kind!=="var"&&Cr.declarations[0].id.type==="Identifier"){const vn=Cr.declarations[0].id.name;Bt(vn,Cr.declarations[0].init.inferredType,er),qt(vn,Cr.kind,er),Gr=Vt(Cr,er,Gr),Bt(vn,gr(gt(Cr.declarations[0].init.inferredType,Gr)),er)}else Gr=Vt(Cr,er,Gr);try{Gr=Vt(Tr,er,Gr),Gr=wt(Gr,[Hr,rr])}catch(vn){vn instanceof a.UnifyError&&et(new i.InvalidTestConditionError(Xt,vn.RHS))}Gr=Vt(qr,er,Gr);const Ur=Vt(sn,er,Gr,Lr);return er.pop(),Ur}case"Program":case"BlockStatement":{Wt(er);for(const Ar of Xt.body)if(Ar.type==="ImportDeclaration")for(const dn of Ar.specifiers)dn.type==="ImportSpecifier"&&dn.local.type==="Identifier"&&(Bt(dn.local.name,gr(Qt("T1")),er),qt(dn.local.name,"const",er));const Cr=Xt.body.length-1,Tr=Ot(Xt,Lr);let Hr=-1,sn=!1,Or=Cr;const qr=[];for(;Or>=0;){const Ar=Xt.body[Or];(Ar.type==="FunctionDeclaration"||Ar.type==="VariableDeclaration")&&(sn||(sn=!0,Hr=Or),qr.push(Ar)),Or--}qr.forEach(Ar=>{if(Ar.type==="FunctionDeclaration"&&Ar.id!==null){const dn=Ar.id.name;Bt(dn,Ar.functionInferredType,er),qt(dn,"const",er)}else if(Ar.type==="VariableDeclaration"&&Ar.kind!=="var"&&Ar.declarations[0].id.type==="Identifier"){const dn=Ar.declarations[0].id.name;Bt(dn,Ar.declarations[0].init.inferredType,er),qt(dn,Ar.kind,er)}});const Gr=Xt.body[Tr],Ur=Lr&&Gr.type==="ExpressionStatement"?Gr.expression.inferredType:Gr.inferredType;let vn=wt(lr,[Nr,Ur]);for(let Ar=0;Ar<=Hr;Ar++)Ar===Tr?vn=Vt(Xt.body[Ar],er,vn,Lr):vn=Vt(Xt.body[Ar],er,vn);qr.forEach(Ar=>{Ar.type==="FunctionDeclaration"&&Ar.id!==null?Bt(Ar.id.name,gr(gt(Ar.functionInferredType,vn)),er):Ar.type==="VariableDeclaration"&&Ar.declarations[0].id.type==="Identifier"&&Bt(Ar.declarations[0].id.name,gr(gt(Ar.declarations[0].init.inferredType,vn)),er)});for(let Ar=Hr+1;Ar<=Cr;Ar++){const dn=Xt.body[Ar];Ar===Tr?vn=Vt(dn,er,vn,Lr):vn=Vt(dn,er,vn)}return Xt.type==="BlockStatement"&&er.pop(),vn}case"Literal":{const Cr=Xt.value,Tr=typeof Cr;if(Cr===null)return wt(lr,[Nr,dr(Qt(tt++))]);if(Tr==="number")return wt(lr,[Nr,Yt]);if(Tr==="boolean")return wt(lr,[Nr,rr]);if(Tr==="string")return wt(lr,[Nr,br]);throw Error("Unexpected literal type")}case"Identifier":{const Cr=Xt.name,Tr=Mt(Cr,er);return Tr!==void 0?Tr.kind==="forall"?wt(lr,[Nr,mt(Tr)]):Tr.kind==="predicate"?wt(lr,[Nr,pt()]):wt(lr,[Nr,Tr]):(et(new i.UndefinedIdentifierError(Xt,Cr)),lr)}case"ConditionalExpression":case"IfStatement":{const Cr=Xt.test,Tr=Cr.inferredType,Hr=Xt.consequent,sn=Hr.inferredType,Or=Xt.alternate,qr=Or.inferredType;let Gr=lr;try{Gr=Vt(Cr,er,Gr),Gr=wt(Gr,[Tr,rr])}catch(Ar){Ar instanceof a.UnifyError&&et(new i.InvalidTestConditionError(Xt,Ar.RHS))}const Ur=At(Cr,er),vn=It(Cr,er);if(Ur.length>0)Gr=Ct(Xt,Ur,Hr,Or,Lr,er,Gr);else if(vn.length>0)Gr=Ct(Xt,vn,Or,Hr,Lr,er,Gr);else{Gr=Vt(Hr,er,Gr,Lr);try{Gr=Vt(Or,er,Gr,Lr)}catch(Ar){Ar instanceof a.UnifyError&&et(new i.ConsequentAlternateMismatchError(Xt,Ar.RHS,Ar.LHS))}}try{Gr=wt(Gr,[Nr,sn]),Gr=wt(Gr,[Nr,qr])}catch(Ar){Ar instanceof a.UnifyError&&et(new i.ConsequentAlternateMismatchError(Xt,Ar.RHS,Ar.LHS))}return Gr}case"ArrowFunctionExpression":{Wt(er);const Cr=Xt.params,Tr=Cr.map(qr=>qr.inferredType),Hr=Xt.body;Tr.push(Hr.inferredType);const sn=wt(lr,[Nr,fr(...Tr)]);Cr.forEach(qr=>{Bt(qr.name,qr.inferredType,er)});const Or=Vt(Hr,er,sn);return er.pop(),Or}case"VariableDeclaration":{const Cr=Xt.declarations[0].init;return Vt(Cr,er,wt(lr,[Nr,_r]))}case"FunctionDeclaration":{const Cr=Xt;let Tr=wt(lr,[Nr,_r]);Wt(er);const Hr=Cr.functionInferredType,sn=Xt.params,Or=sn.map(Ur=>Ur.inferredType),qr=Xt.body;Or.push(qr.inferredType),Tr=wt(Tr,[Hr,fr(...Or)]),sn.forEach(Ur=>{Bt(Ur.name,Ur.inferredType,er)});const Gr=Vt(qr,er,Tr);return er.pop(),Gr}case"CallExpression":{const Cr=Xt.callee,Tr=Cr.inferredType,Hr=Xt.arguments,sn=Hr.map(Ur=>Ur.inferredType);sn.push(Nr);let Or=lr;Or=Vt(Cr,er,Or);const qr=gt(Cr.inferredType,Or),Gr=[];Hr.forEach(Ur=>{Or=Vt(Ur,er,Or),Gr.push(gt(Ur.inferredType,Or))});try{Or=wt(lr,[fr(...sn),Tr])}catch(Ur){if(Ur instanceof a.UnifyError)if(qr.kind==="function"){const vn=qr.parameterTypes;et(new i.InvalidArgumentTypesError(Xt,Hr,vn,Gr))}else et(new i.CallingNonFunctionType(Xt,qr));else Ur instanceof a.InternalDifferentNumberArgumentsError&&et(new i.DifferentNumberArgumentsError(Xt,Ur.numExpectedArgs,Ur.numReceived))}return Or}case"AssignmentExpression":{const Cr=Xt.left,Tr=Xt.right,Hr=Tr.inferredType,sn=Cr.inferredType;let Or=wt(lr,[Nr,Hr]);if(Or=Vt(Tr,er,Or),Cr.type==="Identifier"&&Dt(Cr.name,er)==="const")return et(new i.ReassignConstError(Xt)),Or;Or=Vt(Cr,er,Or);try{return wt(Or,[Hr,sn])}catch(qr){qr instanceof a.UnifyError&&(Cr.type==="Identifier"?et(new i.DifferentAssignmentError(Xt,gt(sn,Or),gt(Hr,Or))):et(new i.ArrayAssignmentError(Xt,tr(gt(sn,Or)),tr(gt(Hr,Or)))))}return Or}case"ArrayExpression":{let Cr=lr;const Tr=Xt.elements;Tr.forEach(sn=>{Cr=Vt(sn,er,Cr)});const Hr=Qt(tt++);return Cr=wt(Cr,[Nr,tr(Hr)]),Tr.forEach(sn=>{try{Cr=wt(Cr,[Hr,sn.inferredType])}catch(Or){Or instanceof a.UnifyError&&et(new i.ArrayAssignmentError(Xt,gt(Xt.inferredType,Cr),tr(gt(sn.inferredType,Cr))))}}),Cr}case"MemberExpression":{const Tr=Xt.object.name,Hr=Xt.property,sn=Hr.inferredType;let Or=Vt(Hr,er,lr);const qr=Mt(Tr,er);if(qr.kind==="predicate")throw qr.ifTrueType.kind==="forall"?new a.InternalTypeError(`Expected ${Tr} to be an array, got ${(0,o.typeToString)(mt(qr.ifTrueType))}`):new a.InternalTypeError(`Expected ${Tr} to be an array, got ${(0,o.typeToString)(qr.ifTrueType)}`);if(qr.kind==="forall")throw new a.InternalTypeError(`Expected ${Tr} to be an array, got ${(0,o.typeToString)(mt(qr))}`);const Gr=gt(qr,Or);if(Gr.kind!=="array")throw new a.InternalTypeError(`Expected ${Tr} to be an array, got ${(0,o.typeToString)(Gr)}`);const Ur=Gr.elementType;try{Or=wt(lr,[sn,Yt])}catch(vn){vn instanceof a.UnifyError&&et(new i.InvalidArrayIndexType(Xt,gt(sn,Or)))}return wt(Or,[Nr,Ur])}default:return wt(lr,[Nr,_r])}}function Jt(Xt){return{kind:"primitive",name:Xt}}function Qt(Xt){return{kind:"variable",name:`T${Xt}`,constraint:"none"}}typeChecker.tVar=Qt;function cr(Xt){return{kind:"variable",name:`${Xt}`,constraint:"addable"}}function hr(Xt,er){return{kind:"pair",headType:Xt,tailType:er}}function dr(Xt){return{kind:"list",elementType:Xt}}function gr(Xt){return{kind:"forall",polyType:Xt}}typeChecker.tForAll=gr;function tr(Xt){return{kind:"array",elementType:Xt}}const rr=Jt("boolean"),Yt=Jt("number"),br=Jt("string"),_r=Jt("undefined");function fr(...Xt){const er=Xt.slice(0,-1),lr=Xt.slice(-1)[0];return{kind:"function",parameterTypes:er,returnType:lr}}function Wr(Xt){return{kind:"predicate",ifTrueType:Xt}}const nn=[["Infinity",Yt],["NaN",Yt],["undefined",_r],["math_E",Yt],["math_LN2",Yt],["math_LN10",Yt],["math_LOG2E",Yt],["math_LOG10E",Yt],["math_PI",Yt],["math_SQRT1_2",Yt],["math_SQRT2",Yt],["is_boolean",Wr(rr)],["is_number",Wr(Yt)],["is_string",Wr(br)],["is_undefined",Wr(_r)],["is_function",Wr(gr(fr(Qt("T"),Qt("U"))))],["math_abs",fr(Yt,Yt)],["math_acos",fr(Yt,Yt)],["math_acosh",fr(Yt,Yt)],["math_asin",fr(Yt,Yt)],["math_asinh",fr(Yt,Yt)],["math_atan",fr(Yt,Yt)],["math_atan2",fr(Yt,Yt,Yt)],["math_atanh",fr(Yt,Yt)],["math_cbrt",fr(Yt,Yt)],["math_ceil",fr(Yt,Yt)],["math_clz32",fr(Yt,Yt)],["math_cos",fr(Yt,Yt)],["math_cosh",fr(Yt,Yt)],["math_exp",fr(Yt,Yt)],["math_expm1",fr(Yt,Yt)],["math_floor",fr(Yt,Yt)],["math_fround",fr(Yt,Yt)],["math_hypot",gr(Qt("T"))],["math_imul",fr(Yt,Yt,Yt)],["math_log",fr(Yt,Yt)],["math_log1p",fr(Yt,Yt)],["math_log2",fr(Yt,Yt)],["math_log10",fr(Yt,Yt)],["math_max",gr(Qt("T"))],["math_min",gr(Qt("T"))],["math_pow",fr(Yt,Yt,Yt)],["math_random",fr(Yt)],["math_round",fr(Yt,Yt)],["math_sign",fr(Yt,Yt)],["math_sin",fr(Yt,Yt)],["math_sinh",fr(Yt,Yt)],["math_sqrt",fr(Yt,Yt)],["math_tan",fr(Yt,Yt)],["math_tanh",fr(Yt,Yt)],["math_trunc",fr(Yt,Yt)],["parse_int",fr(br,Yt,Yt)],["prompt",fr(br,br)],["get_time",fr(Yt)],["stringify",gr(fr(Qt("T"),br))],["display",gr(Qt("T"))],["error",gr(Qt("T"))]],an=Qt("headType"),In=Qt("tailType"),Bn=[["pair",gr(fr(an,In,hr(an,In)))],["head",gr(fr(hr(an,In),an))],["tail",gr(fr(hr(an,In),In))],["is_pair",Wr(gr(hr(an,In)))],["is_null",Wr(gr(dr(Qt("T"))))],["is_list",Wr(gr(dr(Qt("T"))))]],Pn=[["set_head",gr(fr(hr(an,In),an,_r))],["set_tail",gr(fr(hr(an,In),In,_r))]],cn=[["is_array",Wr(gr(tr(Qt("T"))))],["array_length",gr(fr(tr(Qt("T")),Yt))]],Gn=[["list",gr(Qt("T1"))]],Mn=[[nt,fr(Yt,Yt)],["!",fr(rr,rr)],["&&",gr(fr(rr,Qt("T"),Qt("T")))],["||",gr(fr(rr,Qt("T"),Qt("T")))],["<",gr(fr(cr("A"),cr("A"),rr))],["<=",gr(fr(cr("A"),cr("A"),rr))],[">",gr(fr(cr("A"),cr("A"),rr))],[">=",gr(fr(cr("A"),cr("A"),rr))],["+",gr(fr(cr("A"),cr("A"),cr("A")))],["%",fr(Yt,Yt,Yt)],["-",fr(Yt,Yt,Yt)],["*",fr(Yt,Yt,Yt)],["/",fr(Yt,Yt,Yt)]],Er=[["===",gr(fr(cr("A"),cr("A"),rr))],["!==",gr(fr(cr("A"),cr("A"),rr))]],Br=[["===",gr(fr(Qt("T1"),Qt("T2"),rr))],["!==",gr(fr(Qt("T1"),Qt("T2"),rr))]],$r=[["is_stream",gr(fr(Qt("T1"),rr))],["list_to_stream",gr(fr(dr(Qt("T1")),Qt("T2")))],["stream_to_list",gr(fr(Qt("T1"),dr(Qt("T2"))))],["stream_length",gr(fr(Qt("T1"),Yt))],["stream_map",gr(fr(Qt("T1"),Qt("T2")))],["build_stream",gr(fr(Yt,fr(Yt,Qt("T1")),Qt("T2")))],["stream_for_each",gr(fr(fr(Qt("T1"),Qt("T2")),rr))],["stream_reverse",gr(fr(Qt("T1"),Qt("T1")))],["stream_append",gr(fr(Qt("T1"),Qt("T1"),Qt("T1")))],["stream_member",gr(fr(Qt("T1"),Qt("T2"),Qt("T2")))],["stream_remove",gr(fr(Qt("T1"),Qt("T2"),Qt("T2")))],["stream_remove_all",gr(fr(Qt("T1"),Qt("T2"),Qt("T2")))],["stream_filter",gr(fr(fr(Qt("T1"),rr),Qt("T2"),Qt("T2")))],["enum_stream",gr(fr(Yt,Yt,Qt("T1")))],["integers_from",gr(fr(Yt,Qt("T1")))],["eval_stream",gr(fr(Qt("T1"),Yt,dr(Qt("T2"))))],["stream_ref",gr(fr(Qt("T1"),Yt,Qt("T2")))]];function on(Xt){const er=[...nn,...Mn];return Xt>=2&&er.push(...Bn,...Gn),Xt>=3?er.push(...Br,...Pn,...cn):er.push(...Er),[{typeMap:new Map(er),declKindMap:new Map(er.map(lr=>[lr[0],"const"]))}]}return typeChecker.createTypeEnvironment=on,typeChecker}var hasRequiredCreateContext;function requireCreateContext(){return hasRequiredCreateContext||(hasRequiredCreateContext=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.importBuiltins=i.importExternalSymbols=i.defineBuiltin=i.defineSymbol=i.ensureGlobalEnvironmentExist=i.createEmptyContext=i.createGlobalEnvironment=i.EnvTreeNode=i.EnvTree=i.LazyBuiltIn=void 0;const s=constants,o=lib,a=requireSchedulers(),nt=lazyList_prelude,tt=requireList(),ot=requireList(),at=list_prelude,rt=requireMisc(),it=nonDet_prelude,j=requireParser(),_=requireStream(),$=stream_prelude,et=requireTypeChecker(),st=types,lt=makeWrapper$1,ct=requireOperators(),ht=requireStringify();class ut{constructor(Dt,Bt){this.func=Dt,this.evaluateArgs=Bt}}i.LazyBuiltIn=ut;class mt{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(Dt){const Bt=Dt.tail;if(Bt===null)this._root===null&&(this._root=new gt(Dt,null),this.map.set(Dt,this._root));else{const qt=this.map.get(Bt);if(qt){const Wt=new gt(Dt,qt);qt.addChild(Wt),this.map.set(Dt,Wt)}}}getTreeNode(Dt){return this.map.get(Dt)}}i.EnvTree=mt;class gt{constructor(Dt,Bt){this.environment=Dt,this.parent=Bt,this._children=[]}get children(){return this._children}resetChildren(Dt){this.clearChildren(),this.addChildren(Dt),Dt.forEach(Bt=>Bt.parent=this)}clearChildren(){this._children=[]}addChildren(Dt){this._children.push(...Dt)}addChild(Dt){return this._children.push(Dt),Dt}}i.EnvTreeNode=gt;const vt=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new mt,environments:[],value:void 0,nodes:[]}),dt=()=>({observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new a.AsyncScheduler}}),St=()=>({tail:null,name:"global",head:{},id:"-1"});i.createGlobalEnvironment=St;const yt=()=>({builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(ct)),gpu:new Map(Object.entries(o)),maxExecTime:s.JSSLANG_PROPERTIES.maxExecTime,evaller:null}),pt=(Mt,Dt=st.Variant.DEFAULT,Bt,qt)=>({chapter:Mt,externalSymbols:Bt,errors:[],externalContext:qt,runtime:vt(),numberOfOuterEnvironments:1,prelude:null,debugger:dt(),nativeStorage:yt(),executionMethod:"auto",variant:Dt,moduleContexts:{},unTypecheckedCode:[],typeEnvironment:(0,et.createTypeEnvironment)(Mt),previousCode:[]});i.createEmptyContext=pt;const wt=Mt=>{if(Mt.runtime||(Mt.runtime=vt()),Mt.runtime.environments||(Mt.runtime.environments=[]),Mt.runtime.environmentTree||(Mt.runtime.environmentTree=new mt),Mt.runtime.environments.length===0){const Dt=(0,i.createGlobalEnvironment)();Mt.runtime.environments.push(Dt),Mt.runtime.environmentTree.insert(Dt)}};i.ensureGlobalEnvironmentExist=wt;const Et=(Mt,Dt,Bt)=>{const qt=Mt.runtime.environments[0];Object.defineProperty(qt.head,Dt,{value:Bt,writable:!1,enumerable:!0}),Mt.nativeStorage.builtins.set(Dt,Bt);const Wt=Mt.typeEnvironment[0];Wt.declKindMap.has(Dt)||(Wt.typeMap.set(Dt,(0,et.tForAll)((0,et.tVar)("T1"))),Wt.declKindMap.set(Dt,"const"))};i.defineSymbol=Et;function Ct(Mt,Dt,Bt,qt=void 0){if(typeof Bt=="function"){const Wt=Dt.split("(")[0].trim(),Vt=`function ${Dt} {
	[implementation hidden]
}`;Bt.toString=()=>Vt,Bt.minArgsNeeded=qt,(0,i.defineSymbol)(Mt,Wt,Bt)}else if(Bt instanceof ut){const Wt=(...Jt)=>Bt.func(...Jt),Vt=Dt.split("(")[0].trim(),Ht=`function ${Dt} {
	[implementation hidden]
}`;Wt.toString=()=>Ht,(0,lt.makeWrapper)(Bt.func,Wt),(0,i.defineSymbol)(Mt,Vt,new ut(Wt,Bt.evaluateArgs))}else(0,i.defineSymbol)(Mt,Dt,Bt)}i.defineBuiltin=Ct;const kt=(Mt,Dt)=>{(0,i.ensureGlobalEnvironmentExist)(Mt),Dt.forEach(Bt=>{(0,i.defineSymbol)(Mt,Bt,s.GLOBAL[Bt])})};i.importExternalSymbols=kt;const Tt=(Mt,Dt)=>{(0,i.ensureGlobalEnvironmentExist)(Mt);const Bt=(Qt,...cr)=>Dt.rawDisplay(Qt,cr[0],Mt.externalContext),qt=(Qt,...cr)=>{if(cr.length===1&&cr[0]!==void 0&&typeof cr[0]!="string")throw new TypeError("display expects the second argument to be a string");return Bt((0,ht.stringify)(Qt),cr[0]),Qt},Wt=(Qt,...cr)=>{if(cr.length===1&&cr[0]!==void 0&&typeof cr[0]!="string")throw new TypeError("display_list expects the second argument to be a string");return tt.rawDisplayList(qt,Qt,cr[0])},Vt=Qt=>{const cr=Date.now(),hr=Dt.prompt(Qt,"",Mt.externalContext);return Mt.nativeStorage.maxExecTime+=Date.now()-cr,hr},Ht=Qt=>{const cr=Date.now();Dt.alert(Qt,"",Mt.externalContext),Mt.nativeStorage.maxExecTime+=Date.now()-cr},Jt=(...Qt)=>(Dt.visualiseList(Qt,Mt.externalContext),Qt[0]);if(Mt.chapter>=1){Ct(Mt,"get_time()",rt.get_time),Ct(Mt,"display(val, prepend = undefined)",qt,1),Ct(Mt,"raw_display(str, prepend = undefined)",Bt,1),Ct(Mt,"stringify(val, indent = 2, maxLineLength = 80)",ht.stringify,1),Ct(Mt,"error(str, prepend = undefined)",rt.error_message,1),Ct(Mt,"prompt(str)",Vt),Ct(Mt,"is_number(val)",rt.is_number),Ct(Mt,"is_string(val)",rt.is_string),Ct(Mt,"is_function(val)",rt.is_function),Ct(Mt,"is_boolean(val)",rt.is_boolean),Ct(Mt,"is_undefined(val)",rt.is_undefined),Ct(Mt,"parse_int(str, radix)",rt.parse_int),Ct(Mt,"char_at(str, index)",rt.char_at),Ct(Mt,"arity(f)",rt.arity),Ct(Mt,"undefined",void 0),Ct(Mt,"NaN",NaN),Ct(Mt,"Infinity",1/0);const Qt=Object.getOwnPropertyNames(Math),cr=[..."abcdefghijklmnopqrstuvwxyz"];for(const hr of Qt){const dr=Math[hr];if(typeof dr=="function"){let gr,tr;hr==="max"||hr==="min"?(gr="...values",tr=0):gr=cr.slice(0,dr.length).join(", "),Ct(Mt,`math_${hr}(${gr})`,dr,tr)}else Ct(Mt,`math_${hr}`,dr)}}Mt.chapter>=2&&(Mt.variant===st.Variant.LAZY?(Ct(Mt,"pair(left, right)",new ut(tt.pair,!1)),Ct(Mt,"list(...values)",new ut(tt.list,!1),0),Ct(Mt,"is_pair(val)",new ut(tt.is_pair,!0)),Ct(Mt,"head(xs)",new ut(tt.head,!0)),Ct(Mt,"tail(xs)",new ut(tt.tail,!0)),Ct(Mt,"is_null(val)",new ut(tt.is_null,!0)),Ct(Mt,"draw_data(...xs)",new ut(Jt,!0),1),Ct(Mt,"is_list(val)",new ut(tt.is_list,!0))):(Ct(Mt,"pair(left, right)",tt.pair),Ct(Mt,"is_pair(val)",tt.is_pair),Ct(Mt,"head(xs)",tt.head),Ct(Mt,"tail(xs)",tt.tail),Ct(Mt,"is_null(val)",tt.is_null),Ct(Mt,"list(...values)",tt.list,0),Ct(Mt,"draw_data(...xs)",Jt,1),Ct(Mt,"display_list(val, prepend = undefined)",Wt,0),Ct(Mt,"is_list(val)",tt.is_list))),Mt.chapter>=3&&(Ct(Mt,"set_head(xs, val)",tt.set_head),Ct(Mt,"set_tail(xs, val)",tt.set_tail),Ct(Mt,"array_length(arr)",rt.array_length),Ct(Mt,"is_array(val)",rt.is_array),Ct(Mt,"stream_tail(stream)",_.stream_tail),Ct(Mt,"stream(...values)",_.stream,0)),Mt.chapter>=4&&(Ct(Mt,"parse(program_string)",Qt=>j.parse(Qt,Ot(Mt.chapter))),Ct(Mt,"tokenize(program_string)",Qt=>j.tokenize(Qt,Ot(Mt.chapter))),Ct(Mt,"apply_in_underlying_javascript(fun, args)",(Qt,cr)=>Qt.apply(Qt,(0,ot.list_to_vector)(cr))),Mt.variant===st.Variant.GPU&&(Ct(Mt,"__clearKernelCache()",o.__clearKernelCache),Ct(Mt,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",o.__createKernelSource))),Mt.chapter===st.Chapter.LIBRARY_PARSER&&(Ct(Mt,"is_object(val)",rt.is_object),Ct(Mt,"is_NaN(val)",rt.is_NaN),Ct(Mt,"has_own_property(obj, prop)",rt.has_own_property),Ct(Mt,"alert(val)",Ht),Ct(Mt,"timed(fun)",Qt=>rt.timed(Mt,Qt,Mt.externalContext,Dt.rawDisplay))),Mt.variant===st.Variant.LAZY&&(Ct(Mt,"wrapLazyCallee(f)",new ut(ct.wrapLazyCallee,!0)),Ct(Mt,"makeLazyFunction(f)",new ut(ct.makeLazyFunction,!0)),Ct(Mt,"forceIt(val)",new ut(ct.forceIt,!0)),Ct(Mt,"delayIt(xs)",new ut(ct.delayIt,!0)))};i.importBuiltins=Tt;function At(Mt){let Dt="";Mt.chapter>=2&&(Dt+=Mt.variant===st.Variant.LAZY?nt.lazyListPrelude:at.listPrelude),Mt.chapter>=3&&(Dt+=$.streamPrelude),Mt.variant===st.Variant.NON_DET&&(Dt+=it.nonDetPrelude),Dt!==""&&(Mt.prelude=Dt)}const It={rawDisplay:rt.rawDisplay,prompt:rt.rawDisplay,alert:rt.rawDisplay,visualiseList:Mt=>{throw new Error("List visualizer is not enabled")}},Ot=(Mt=st.Chapter.SOURCE_1,Dt=st.Variant.DEFAULT,Bt=[],qt,Wt=It)=>{if(Mt===st.Chapter.FULL_JS)return Object.assign(Object.assign({},Ot(st.Chapter.SOURCE_4,Dt,Bt,qt,Wt)),{chapter:st.Chapter.FULL_JS});const Vt=(0,i.createEmptyContext)(Mt,Dt,Bt,qt);return(0,i.importBuiltins)(Vt,Wt),At(Vt),(0,i.importExternalSymbols)(Vt,Bt),Vt};i.default=Ot}(createContext)),createContext}Object.defineProperty(sicp,"__esModule",{value:!0});const createContext_1=requireCreateContext(),dict=createContext_1.default(4).nativeStorage.builtins;dict.get("get_time");dict.get("display");dict.get("raw_display");const stringify=dict.get("stringify");dict.get("error");dict.get("prompt");const is_number=dict.get("is_number"),is_string=dict.get("is_string"),is_function=dict.get("is_function"),is_boolean=dict.get("is_boolean"),is_undefined=dict.get("is_undefined");dict.get("parse_int");dict.get("char_at");const arity=dict.get("arity");dict.get("math_abs");dict.get("math_acos");dict.get("math_acosh");dict.get("math_asin");dict.get("math_asinh");dict.get("math_atan");dict.get("math_atanh");dict.get("math_atan2");dict.get("math_ceil");dict.get("math_cbrt");dict.get("math_expm1");dict.get("math_clz32");dict.get("math_cos");dict.get("math_cosh");dict.get("math_exp");dict.get("math_floor");dict.get("math_fround");dict.get("math_hypot");dict.get("math_imul");dict.get("math_log");dict.get("math_log1p");dict.get("math_log2");dict.get("math_log10");dict.get("math_max");dict.get("math_min");dict.get("math_pow");dict.get("math_random");dict.get("math_round");dict.get("math_sign");dict.get("math_sin");dict.get("math_sinh");dict.get("math_sqrt");dict.get("math_tan");dict.get("math_tanh");dict.get("math_trunc");dict.get("math_E");dict.get("math_LN10");dict.get("math_LN2");dict.get("math_LOG10E");dict.get("math_LOG2E");dict.get("math_PI");dict.get("math_SQRT1_2");dict.get("math_SQRT2");const pair=dict.get("pair"),is_pair=dict.get("is_pair"),head=dict.get("head"),tail=dict.get("tail"),is_null=dict.get("is_null"),list=dict.get("list");dict.get("draw_data");dict.get("display_list");dict.get("is_list");dict.get("set_head");dict.get("set_tail");dict.get("array_length");dict.get("is_array");const stream_tail=dict.get("stream_tail");dict.get("stream");dict.get("parse");dict.get("tokenize");dict.get("apply_in_underlying_javascript");function equal(i,s){return is_pair(i)?is_pair(s)&&equal(head(i),head(s))&&equal(tail(i),tail(s)):is_null(i)?is_null(s):is_number(i)?is_number(s)&&i===s:is_boolean(i)?is_boolean(s)&&(i&&s||!i&&!s):is_string(i)?is_string(s)&&i===s:is_undefined(i)?is_undefined(s):is_function(i)?is_function(s)&&i===s:!1}function $length(i,s){return is_null(i)?s:$length(tail(i),s+1)}function length(i){return $length(i,0)}function $map(i,s,o){return is_null(s)?reverse(o):$map(i,tail(s),pair(i(head(s)),o))}function map(i,s){return $map(i,s,null)}function $build_list(i,s,o){return i<0?o:$build_list(i-1,s,pair(s(i),o))}function build_list(i,s){return $build_list(s-1,i,null)}function for_each(i,s){return is_null(s)?!0:(i(head(s)),for_each(i,tail(s)))}function $list_to_string(i,s){return is_null(i)?s("null"):is_pair(i)?$list_to_string(head(i),o=>$list_to_string(tail(i),a=>s("["+o+","+a+"]"))):s(stringify(i))}function list_to_string(i){return $list_to_string(i,s=>s)}function $reverse(i,s){return is_null(i)?s:$reverse(tail(i),pair(head(i),s))}function reverse(i){return $reverse(i,null)}function $append(i,s,o){return is_null(i)?o(s):$append(tail(i),s,a=>o(pair(head(i),a)))}function append(i,s){return $append(i,s,o=>o)}function member(i,s){return is_null(s)?null:i===head(s)?s:member(i,tail(s))}function $remove(i,s,o){const a=append,nt=reverse;return is_null(s)?a(nt(o),s):i===head(s)?a(nt(o),tail(s)):$remove(i,tail(s),pair(head(s),o))}function remove(i,s){return $remove(i,s,null)}function $remove_all(i,s,o){const a=append,nt=reverse;return is_null(s)?a(nt(o),s):i===head(s)?$remove_all(i,tail(s),o):$remove_all(i,tail(s),pair(head(s),o))}function remove_all(i,s){return $remove_all(i,s,null)}function $filter(i,s,o){return is_null(s)?reverse(o):i(head(s))?$filter(i,tail(s),pair(head(s),o)):$filter(i,tail(s),o)}function filter(i,s){return $filter(i,s,null)}function $enum_list(i,s,o){const a=reverse;return i>s?a(o):$enum_list(i+1,s,pair(i,o))}function enum_list(i,s){return $enum_list(i,s,null)}function list_ref(i,s){return s===0?head(i):list_ref(tail(i),s-1)}function $accumulate(i,s,o,a){return is_null(o)?a(s):$accumulate(i,s,tail(o),nt=>a(i(head(o),nt)))}function accumulate(i,s,o){return $accumulate(i,s,o,a=>a)}function is_stream(i){return is_null(i)||is_pair(i)&&is_function(tail(i))&&arity(tail(i))===0&&is_stream(stream_tail(i))}function list_to_stream(i){return is_null(i)?null:pair(head(i),()=>list_to_stream(tail(i)))}function stream_to_list(i){return is_null(i)?null:pair(head(i),stream_to_list(stream_tail(i)))}function stream_length(i){return is_null(i)?0:1+stream_length(stream_tail(i))}function stream_map(i,s){return is_null(s)?null:pair(i(head(s)),()=>stream_map(i,stream_tail(s)))}function build_stream(i,s){function o(a){return a>=s?null:pair(i(a),()=>o(a+1))}return o(0)}function stream_for_each(i,s){return is_null(s)?!0:(i(head(s)),stream_for_each(i,stream_tail(s)))}function stream_reverse(i){function s(o,a){return is_null(o)?a:s(stream_tail(o),pair(head(o),()=>a))}return s(i,null)}function stream_append(i,s){return is_null(i)?s:pair(head(i),()=>stream_append(stream_tail(i),s))}function stream_member(i,s){return is_null(s)?null:head(s)===i?s:stream_member(i,stream_tail(s))}function stream_remove(i,s){return is_null(s)?null:i===head(s)?stream_tail(s):pair(head(s),()=>stream_remove(i,stream_tail(s)))}function stream_remove_all(i,s){return is_null(s)?null:i===head(s)?stream_remove_all(i,stream_tail(s)):pair(head(s),()=>stream_remove_all(i,stream_tail(s)))}function stream_filter(i,s){return is_null(s)?null:i(head(s))?pair(head(s),()=>stream_filter(i,stream_tail(s))):stream_filter(i,stream_tail(s))}function enum_stream(i,s){return i>s?null:pair(i,()=>enum_stream(i+1,s))}function integers_from(i){return pair(i,()=>integers_from(i+1))}function eval_stream(i,s){function o(a,nt){return nt===1?list(head(a)):pair(head(a),o(stream_tail(a),nt-1))}return s===0?null:o(i,s)}function stream_ref(i,s){return s===0?head(i):stream_ref(stream_tail(i),s-1)}sicp.equal=equal;sicp.$length=$length;sicp.length=length;sicp.$map=$map;var map_1=sicp.map=map;sicp.$build_list=$build_list;sicp.build_list=build_list;sicp.for_each=for_each;sicp.$list_to_string=$list_to_string;sicp.list_to_string=list_to_string;sicp.$reverse=$reverse;sicp.reverse=reverse;sicp.$append=$append;sicp.append=append;sicp.member=member;sicp.$remove=$remove;sicp.remove=remove;sicp.$remove_all=$remove_all;sicp.remove_all=remove_all;sicp.$filter=$filter;sicp.filter=filter;sicp.$enum_list=$enum_list;sicp.enum_list=enum_list;sicp.list_ref=list_ref;sicp.$accumulate=$accumulate;sicp.accumulate=accumulate;sicp.is_stream=is_stream;sicp.list_to_stream=list_to_stream;sicp.stream_to_list=stream_to_list;sicp.stream_length=stream_length;sicp.stream_map=stream_map;sicp.build_stream=build_stream;sicp.stream_for_each=stream_for_each;sicp.stream_reverse=stream_reverse;sicp.stream_append=stream_append;sicp.stream_member=stream_member;sicp.stream_remove=stream_remove;sicp.stream_remove_all=stream_remove_all;sicp.stream_filter=stream_filter;sicp.enum_stream=enum_stream;sicp.integers_from=integers_from;sicp.eval_stream=eval_stream;sicp.stream_ref=stream_ref;sicp.get_time=dict.get("get_time");sicp.display=dict.get("display");sicp.raw_display=dict.get("raw_display");sicp.stringify=dict.get("stringify");var error_1=sicp.error=dict.get("error");sicp.prompt=dict.get("prompt");sicp.is_number=dict.get("is_number");sicp.is_string=dict.get("is_string");sicp.is_function=dict.get("is_function");sicp.is_boolean=dict.get("is_boolean");sicp.is_undefined=dict.get("is_undefined");sicp.parse_int=dict.get("parse_int");sicp.char_at=dict.get("char_at");sicp.arity=dict.get("arity");sicp.math_abs=dict.get("math_abs");sicp.math_acos=dict.get("math_acos");sicp.math_acosh=dict.get("math_acosh");sicp.math_asin=dict.get("math_asin");sicp.math_asinh=dict.get("math_asinh");sicp.math_atan=dict.get("math_atan");sicp.math_atanh=dict.get("math_atanh");sicp.math_atan2=dict.get("math_atan2");sicp.math_ceil=dict.get("math_ceil");sicp.math_cbrt=dict.get("math_cbrt");sicp.math_expm1=dict.get("math_expm1");sicp.math_clz32=dict.get("math_clz32");sicp.math_cos=dict.get("math_cos");sicp.math_cosh=dict.get("math_cosh");sicp.math_exp=dict.get("math_exp");sicp.math_floor=dict.get("math_floor");sicp.math_fround=dict.get("math_fround");sicp.math_hypot=dict.get("math_hypot");sicp.math_imul=dict.get("math_imul");sicp.math_log=dict.get("math_log");sicp.math_log1p=dict.get("math_log1p");sicp.math_log2=dict.get("math_log2");sicp.math_log10=dict.get("math_log10");sicp.math_max=dict.get("math_max");sicp.math_min=dict.get("math_min");sicp.math_pow=dict.get("math_pow");sicp.math_random=dict.get("math_random");sicp.math_round=dict.get("math_round");sicp.math_sign=dict.get("math_sign");sicp.math_sin=dict.get("math_sin");sicp.math_sinh=dict.get("math_sinh");sicp.math_sqrt=dict.get("math_sqrt");sicp.math_tan=dict.get("math_tan");sicp.math_tanh=dict.get("math_tanh");sicp.math_trunc=dict.get("math_trunc");sicp.math_E=dict.get("math_E");sicp.math_LN10=dict.get("math_LN10");sicp.math_LN2=dict.get("math_LN2");sicp.math_LOG10E=dict.get("math_LOG10E");sicp.math_LOG2E=dict.get("math_LOG2E");sicp.math_PI=dict.get("math_PI");sicp.math_SQRT1_2=dict.get("math_SQRT1_2");sicp.math_SQRT2=dict.get("math_SQRT2");sicp.pair=dict.get("pair");sicp.is_pair=dict.get("is_pair");var head_1=sicp.head=dict.get("head"),tail_1=sicp.tail=dict.get("tail"),is_null_1=sicp.is_null=dict.get("is_null");sicp.list=dict.get("list");sicp.draw_data=dict.get("draw_data");sicp.display_list=dict.get("display_list");sicp.is_list=dict.get("is_list");sicp.set_head=dict.get("set_head");sicp.set_tail=dict.get("set_tail");sicp.array_length=dict.get("array_length");sicp.is_array=dict.get("is_array");sicp.stream_tail=dict.get("stream_tail");sicp.stream=dict.get("stream");var parse_1=sicp.parse=dict.get("parse");sicp.tokenize=dict.get("tokenize");sicp.apply_in_underlying_javascript=dict.get("apply_in_underlying_javascript");function list_to_array(i){return is_null_1(i)?[]:[head_1(i)].concat(list_to_array(tail_1(i)))}function parameters(i){return map_1(s=>head_1(s)==="rest_element"?{tag:"rest",sym:head_1(tail_1(head_1(tail_1(s))))}:head_1(tail_1(s)),i)}function objectify(i){switch(head_1(i)){case"literal":return{tag:"lit",val:head_1(tail_1(i))};case"name":return{tag:"nam",sym:head_1(tail_1(i))};case"application":return{tag:"app",fun:objectify(head_1(tail_1(i))),args:list_to_array(map_1(objectify,head_1(tail_1(tail_1(i)))))};case"logical_composition":return{tag:"log",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"binary_operator_combination":return{tag:"binop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"object_access":return{tag:"arr_acc",arr:objectify(head_1(tail_1(i))),ind:objectify(head_1(tail_1(tail_1(i))))};case"object_assignment":return{tag:"arr_assmt",arr:objectify(head_1(tail_1(head_1(tail_1(i))))),ind:objectify(head_1(tail_1(tail_1(head_1(tail_1(i)))))),expr:objectify(head_1(tail_1(tail_1(i))))};case"array_expression":return{tag:"arr_lit",elems:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"unary_operator_combination":return{tag:"unop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i))))};case"lambda_expression":return{tag:"lam",prms:list_to_array(parameters(head_1(tail_1(i)))),body:objectify(head_1(tail_1(tail_1(i))))};case"sequence":return{tag:"seq",stmts:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"block":return{tag:"blk",body:objectify(head_1(tail_1(i)))};case"variable_declaration":return{tag:"let",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"constant_declaration":return{tag:"const",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"assignment":return{tag:"assmt",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"conditional_statement":return{tag:"cond_stmt",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"while_loop":return{tag:"while",pred:objectify(head_1(tail_1(i))),body:objectify(head_1(tail_1(tail_1(i))))};case"for_loop":return{tag:"for",init:objectify(head_1(tail_1(i))),pred:objectify(head_1(tail_1(tail_1(i)))),upd:objectify(head_1(tail_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(tail_1(i))))))};case"break_statement":return{tag:"break"};case"continue_statement":return{tag:"cont"};case"conditional_expression":return{tag:"cond_expr",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"function_declaration":return{tag:"fun",sym:head_1(tail_1(head_1(tail_1(i)))),prms:list_to_array(parameters(head_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"return_statement":return{tag:"ret",expr:objectify(head_1(tail_1(i)))};case"import_declaration":return{tag:"import",syms:map_1(s=>head_1(tail_1(s)),head_1(tail_1(i))),from:head_1(tail_1(tail_1(i)))};case"this_expression":return{tag:"this"};case"spread_element":return{tag:"spread",sym:head_1(tail_1(head_1(tail_1(i))))};case"property":return{tag:"prop",sym:head_1(tail_1(i))};default:throw error_1(i,"unknown syntax:")}}function parse_into_json(i){const s=objectify(parse_1(i));return JSON.stringify(s)}function parseIntoJsonChunks(i){const s=objectify(parse_1(i));return convertToJsonChunks(s)}function convertToJsonChunks(i,s=1500){if(JSON.stringify(i).length<=s)return[JSON.stringify(i)];switch(i.tag){case"app":case"arr_acc":case"arr_assmt":case"arr_lit":case"assmt":case"binop":case"blk":case"break":case"cond_expr":case"cond_stmt":case"const":case"cont":case"for":case"fun":case"import":case"lam":case"let":case"lit":case"log":case"nam":case"prop":case"ret":return[JSON.stringify(i)];case"seq":const o=[];let a=0;for(const ot of i.stmts){if(a+=JSON.stringify(ot).length,a>s&&o.length>1)break;o.push(ot)}const nt=i.stmts.slice(o.length);return o.push({tag:"pause_for_input"}),[JSON.stringify({tag:"seq",stmts:o})].concat(convertToJsonChunks({tag:"seq",stmts:nt}));case"spread":case"this":case"unop":case"while":case"pause_for_input":return[JSON.stringify(i)]}}const readUntilPrompt=async(i,s=0,o=()=>{})=>{const a=i.readable.getReader(),nt=s&&setTimeout(()=>{throw a.releaseLock(),i.close(),new Error("Timed Out.")},s);let tt="";for(;;){const{value:ot,done:at}=await a.read(),rt=new TextDecoder().decode(ot);tt+=rt;const it=tt.split(`
`);for(const j of it.slice(0,it.length))o(j);if(tt=it[it.length-1],tt.substring(0,4)==">>> "||at)return s&&clearTimeout(nt),o(tt),a.releaseLock(),at}},writeLines=async(i,...s)=>{const o=i.writable.getWriter();for(const a of s){const nt=new TextEncoder().encode(a+`
`),tt=100;for(let ot=0;ot<nt.length;ot+=tt){const at=nt.slice(ot,ot+tt);await o.write(at),await sleep(10)}}o.releaseLock()},processRawOutput=i=>{let s=i.trim();const o=[">>>",">OK",">"];for(const nt of o)s.startsWith(nt)&&(s=s.substring(nt.length).trim());const a="raw REPL; CTRL-B to exit";if(s.startsWith(a)&&(s=s.substring(a.length).trim()),!!s)return s},runProgram=async(i,s)=>{console.log("Sending program chunk..."),await writeLines(i,RAW_MODE_ENTER,s,RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(i,0,o=>{const a=processRawOutput(o);a&&console.log(a)}),console.log("Sending chunk complete...")},sleep=i=>new Promise(s=>setTimeout(s,i)),cleanProgram=i=>i.replaceAll(/(^#|\s#) ?.*$/gm,"").replaceAll(/\n\n\n+/gm,`

`),interpreterEvaluatePrelude=`# evaluation of toplevel results
# in the value undefined if the
# stash is empty
C = [{'tag': 'push_undefined_if_needed_i'},
     {'tag': 'blk',
      'body': loads(json_prelude)}]

# machine loops until control is empty
while True:
    if not C:
        break
    cmd = C.pop()
    cse_microcode[cmd['tag']](cmd)

if len(S) > 1 or len(S) < 1:
    raise Exception('internal error: stash must be singleton but is: ', S)
print("prelude loaded")
del json_prelude

# Free up as much memory as possible by triggering
# garbage collection when >5% of remaining free heap space is occupied
gc.collect()
gc.threshold(gc.mem_free() // 20 + gc.mem_alloc())
`,interpreterPrefix=`# LEGO type:standard slot:8 autostart

# CSE-style interpreter for Source 3 (JavaScript sublanguage),
# written in MicroPython (sublanguage of Python 3)

# author: Martin Henz, henz@comp.nus.edu.sg

# not available in MicroPython:
# match ... case statement: use dictionary of lambdas

# comment this for testing with Python 3
# uncomment this for testing with MicroPython

import math
import random
import sys
import time

from ujson import loads

######################
# useful helpers
######################


def _reduce(f, iterable, init):
    # Reimplement reduce because functools not in Micropython
    res = init
    for x in iterable:
        res = f(res, x)
    return res


def _scheme_map(f, iterable):
    '''
    Maps like Scheme's \`map\`, not like Python's \`map\`
    '''
    def g(acc, x):
        acc.append(f(x))
        return acc
    return _reduce(g, iterable, [])

######################
# JavaScript values
######################


# We represent JS null by Python None
Null = None

# We need a special value in Python to
# represent JS undefined. (null already taken)
# We (ab)use Python's Ellipsis value for JS undefined.
Undefined = ...


def _is_closure(x):
    # more pythonic would be isinstance(v, Dict),
    # but package typing not available in Micropython
    return type(x) is dict and 'tag' in x and x['tag'] == 'closure'


def _is_builtin(x):
    return type(x) is dict and 'tag' in x and x['tag'] == 'builtin'


def is_string(x):
    return type(x) is str


def value_to_string(x):
    # Printing not speed-critical, so nested conditionals are fine
    if x is Undefined:
        return 'undefined'
    elif x is True:
        return 'true'
    elif x is False:
        return 'false'
    elif x is Null:
        return 'null'
    elif is_string(x):
        # surround characters with double quotes;
        # escape double quote characters within string
        return '"' + _reduce(lambda s, t: s + ('\\\\"' if t == '"' else t), x, '') + '"'
    elif _is_closure(x):
        return '<closure>'
    elif _is_builtin(x):
        return '<builtin>'
    elif type(x) is float:
        return str(int(x)) if x == math.floor(x) else str(x)
    else:
        return str(x)

########################
# operators and builtins
########################


_binop_microcode = {
    '+': lambda x, y: x + y if (type(x) is float and type(y) is float) or
    (type(x) is str and type(y) is str)
    else raise_exception("+ expects two numbers or two strings"),
    '*': lambda x, y: x * y,
    '-': lambda x, y: x - y,
    '/': lambda x, y: x / y,
    '%': lambda x, y: x % y,
    '<': lambda x, y: x < y,
    '<=': lambda x, y: x <= y,
    '>=': lambda x, y: x >= y,
    '>': lambda x, y: x > y,
    '===': lambda x, y: x is y,
    '!==': lambda x, y: not (x is y)
}


def apply_binop(op, v2, v1):
    # \`v2\` is popped before \`v1\`
    return _binop_microcode[op](v1, v2)


_unop_microcode = {
    '-unary': lambda x: - x,
    '!': lambda x: not x if x == bool(x)
    else raise_exception('! expects boolean')
}


def apply_unop(op, v):
    return _unop_microcode[op](v)


def _builtin_microcode_display(args):
    s = str(args[0])
    if len(args) == 2:
        if type(args[1]) is str:
            s = args[1] + ' ' + s
        else:
            raise Exception("display expects string as second argument")
    elif len(args) != 1:
        raise Exception("display expects one or two arguments")
    print(s)
    return args[0]


def _builtin_microcode_error(args):
    s = str(args[0])
    if len(args) == 2:
        if type(args[1]) is str:
            s = args[1] + ' ' + s
        else:
            raise Exception("error expects string as second argument")
    elif len(args) != 1:
        raise Exception("error expects one or two arguments")
    raise Exception(s)


def _builtin_microcode_clz32(args):
    if args[0] < 0:
        return 0
    return float(32 - int(args[0]).bit_length())


def _builtin_microcode_set_head(args):
    args[0][0] = args[1]
    return Undefined


def _builtin_microcode_set_tail(args):
    args[0][1] = args[1]
    return Undefined


def _builtin_microcode_list(args):
    result = Null
    while args:
        result = [args.pop(), result]
    return result


def _is_list(val):
    return val == Null or \\
        (type(val) is list and len(val) == 2 and
            _is_list(val[1]))


def _builtin_microcode_is_list(args):
    return _is_list(args[0])


builtin_microcode = {
    'display': lambda args: _builtin_microcode_display(args),
    'get_time': lambda _: float(int(time.time() * 1000)),
    'stringify': lambda args: str(args[0]),
    'error': _builtin_microcode_error,
    'prompt': lambda args: input(args[0]),
    'is_number': lambda args: type(args[0]) is float,
    'is_string': lambda args: type(args[0]) is str,
    'is_function': lambda args: type(args[0]) is dict and
    (args[0]['tag'] == 'builtin' or
     args[0]['tag'] == 'closure'),
    'is_boolean': lambda args: type(args[0]) is bool,
    'is_undefined': lambda args: args[0] is Undefined,
    'parse_int': lambda args: float(int(args[0], base=int(args[1]))),
    'char_at': lambda args: str(args[0][int(args[1])]),
    'arity': lambda args: float(args[0]['arity']),
    'math_abs': lambda args: float(abs(args[0])),
    'math_acos': lambda args: float(math.acos(args[0])),
    'math_acosh': lambda args: float(math.acosh(args[0])),
    'math_asin': lambda args: float(math.asin(args[0])),
    'math_asinh': lambda args: float(math.asinh(args[0])),
    'math_atan': lambda args: float(math.atan(args[0])),
    'math_atanh': lambda args: float(math.atanh(args[0])),
    'math_atan2': lambda args: float(math.atan2(args[0], args[1])),
    'math_ceil': lambda args: float(math.ceil(args[0])),
    'math_cbrt': lambda args: float(args[0]**(1/3)),
    'math_expm1': lambda args: float(math.expm1(args[0])),
    'math_clz32': lambda args: float(_builtin_microcode_clz32(args[0])),
    'math_cos': lambda args: float(math.cos(args[0])),
    'math_cosh': lambda args: float(math.cosh(args[0])),
    'math_exp': lambda args: float(math.exp(args[0])),
    'math_floor': lambda args: float(math.floor(args[0])),
    'math_fround': lambda args: float(args[0]),          # FIXME
    'math_hypot': lambda args: float(args[0]),           # FIXME
    'math_imul': lambda args: float(args[0] * args[1]),  # FIXME
    'math_log': lambda args: float(math.log(args[0])),
    'math_log1p': lambda args: float(math.log1p(args[0])),
    'math_log2': lambda args: float(math.log2(args[0])),
    'math_log10': lambda args: float(math.log10(args[0])),
    'math_max': lambda args: float(max(args)),
    'math_min': lambda args: float(min(args)),
    'math_pow': lambda args: math.pow(args[0], args[1]),
    'math_random': lambda args: float(random.random()),
    'math_round': lambda args: float(round(args[0])),
    'math_sign': lambda args: float(0 if args[0] == 0 else math.copysign(1, args[0])),
    'math_sin': lambda args: float(math.sin(args[0])),
    'math_sinh': lambda args: float(math.sinh(args[0])),
    'math_sqrt': lambda args: float(math.sqrt(args[0])),
    'math_tanh': lambda args: float(math.tanh(args[0])),
    'math_trunc': lambda args: float(math.trunc(args[0])),
    'pair': lambda args: [args[0], args[1]],
    'is_pair': lambda args: type(args[0]) == list and len(args[0] == 2),
    'head': lambda args: args[0][0],
    'tail': lambda args: args[0][1],
    'is_null': lambda args: args[0] is None,
    'set_head': _builtin_microcode_set_head,
    'set_tail': _builtin_microcode_set_tail,
    'array_length': lambda args: len(args[0]),
    'is_array': lambda args: type(args[0]) is list,
    'list': _builtin_microcode_list,
    'is_list': _builtin_microcode_is_list,
    'display_list': _builtin_microcode_display,  # FIXME
    # stream_tail: moved to prelude
    # stream: moved to prelude
}


def _apply_builtin(builtin_symbol, arity, args):
    return builtin_microcode[builtin_symbol](args)

####################
# environments
####################

# frames are dictionaries mapping symbols (strings) to values


# the global frame has all builtins

# builtin arities other than 1
builtin_arities = {
    'list': 0,
    'stream': 0,
    'get_time': 0,
    'parse_int': 2,
    'char_at': 2,
    'math_atan2': 2,
    'math_hypot': 2,  # according to JS: Math.hypot.length
    'math_min': 2,  # according to JS: Math.min.length
    'math_max': 2,  # according to JS: Math.min.length
    'math_pow': 2,
    'math_random': 0,
    'pair': 2,
    'set_head': 2,
    'set_tail': 2,
    'list': 0,  # according to Source: arity(list)
    'stream': 0,  # according to Source: arity(list)
}

global_frame = {}
for k, v in builtin_microcode.items():
    global_frame[k] = {'tag': 'builtin',
                       'sym': k,
                       'arity': builtin_arities.get(k) or 1}
global_frame['undefined'] = Undefined
global_frame['math_E'] = math.e
global_frame['math_LN10'] = math.log(10)
global_frame['math_LN2'] = math.log(2)
global_frame['math_LOG10E'] = math.log10(math.e)
global_frame['math_LOG2E'] = math.log2(math.e)
global_frame['math_PI'] = math.pi
global_frame['math_SQRT1_2'] = math.sqrt(0.5)
global_frame['math_SQRT2'] = math.sqrt(2)

'''
# include the following lines for working on robot
global_frame['PrimeHub'] = PrimeHub
global_frame['LightMatrix'] = LightMatrix
global_frame['Button'] = Button
global_frame['StatusLight'] = StatusLight
global_frame['ForceSensor'] = ForceSensor
global_frame['MotionSensor'] = MotionSensor
global_frame['Speaker'] = Speaker
global_frame['ColorSensor'] = ColorSensor
global_frame['App'] = App
global_frame['DistanceSensor'] = DistanceSensor
global_frame['Motor'] = Motor
global_frame['MotorPair'] = MotorPair
'''

# environments are None or
# pairs whose head is a frame
# and whose tail is an environment
_empty_environment = None
_global_environment = (global_frame, _empty_environment)


def _lookup(x, e):
    res = _lookup_(x, e, 0)
    return res[0]


def _lookup_(x, e, i):
    if e == None:
        raise Exception('unbound name: ' + x)
    if x in e[0]:
        return (e[0][x], i)
    else:
        return _lookup_(x, e[1], i + 1)


def _extend(xs, vs, e):
    vi = iter(vs)
    result = {}
    for x in xs:
        result[x] = next(vi)
    return (result, e)


def replace(x, v, e):
    if x in e[0]:
        e[0][x] = v
    else:
        replace(x, v, e[1])

####################
# handling sequences
####################


def _value_producing(cmd):
    tag = cmd['tag']
    # Technically speaking, \`pause_for_input\` may be
    # value-producing, however we do not know its value
    # at the time this is called, hence there will be a
    # separate call later on.
    return tag != 'pause_for_input' and \\
        tag != 'let' and \\
        tag != 'const' and \\
        tag != 'fun' and \\
        (tag != 'blk' or _value_producing(cmd['body'])) and \\
        (tag != 'seq' or any(_scheme_map(_value_producing, cmd['stmts'])))


def handle_sequence(seq):
    value_produced = False
    result = []
    for cmd in seq:
        if _value_producing(cmd):
            if value_produced:
                result.append({'tag': 'pop_i'})
            else:
                value_produced = True
        result.append(cmd)
    result.reverse()
    return result

####################
# handling blocks
####################


def _scan(t):
    '''
    Scans out the declarations from (possibly nested)
    sequences of statements, ignoring blocks
    '''
    def f(acc, x):
        acc.extend(_scan(x))
        return acc
    tag = t['tag']
    if tag == 'seq':
        return _reduce(f,
                       t['stmts'],
                       [])
    elif tag == 'let' or tag == 'const' or tag == 'fun':
        return [t['sym']]
    else:
        return []

###############################
# machine overview
###############################

# CSE machine has three registers:
# C: control
# S: stash
# E: environment

###############################
# control C
###############################

# control C is list of commands that still need
# to be executed by the machine

# list follows strict stack discipline:
# pop, extend, append at end of list

# commands are nodes of syntax tree
# or instructions

# instructions are dictionaries whose
# 'tag' ends with '_i'

# control C starts out as singleton list containing
# the given program, wrapped in a block so that
# names declared at program level get allocated
# in a program frame

###############################
# stash S
###############################

# stash S is list of values that stores
# intermediate results

# list follows strict stack discipline:
# pop, extend, append at end of list

# stash S starts out as empty stack
S = []

###############################
# environment E
###############################

# environment E starts out as
# the global environment

E = _global_environment

###############################
# the machine
###############################

# the machine dispaches for each command tag
# to the microcode that belong to the tag

# microcode is a function that takes
# command as argument and returns None


def cse_microcode_nam(cmd):
    v = _lookup(cmd['sym'], E)
    # more pythonic would be isinstance(v, Dict),
    # but package typing not available in Micropython
    if type(v) is dict and 'tag' in v and v['tag'] == 'unassigned':
        raise Exception('unbound local: ' + cmd['sym'])
    else:
        S.append(v)


def cse_microcode_app_i(cmd):
    arity = cmd['arity']
    args = []
    for _ in range(arity):
        args.append(S.pop())
    sf = S.pop()
    if sf['tag'] == 'builtin':
        S.append(_apply_builtin(sf['sym'], arity, args))
    elif sf['tag'] == 'closure':
        global E
        if not C or C[0]['tag'] == 'reset':  # tail call
            C.append(sf['body'])
        elif C[0]['tag'] == 'env_i':  # E no longer needed
            C.extend([{'tag': 'mark'},
                      sf['body']])
        else:
            C.extend([{'tag': 'env_i', 'env': E},
                      {'tag': 'mark'},
                      sf['body']])
        last_arg = args[-1]
        # Source allows last arg to be spread: ...x
        if type(last_arg) is dict and last_arg['tag'] == 'spread':
            spread_list = _lookup(last_arg['sym'], E)
            if not (type(spread_list) is list):
                raise Exception('Source only spreads arrays')
            args.pop()
            args.extend(spread_list)
        prms = sf['prms']
        last_prm = prms[-1]
        if type(last_prm) is dict and last_prm['tag'] == 'rest':
            rest_sym = prms.pop()['sym']
            number_of_regular_prms = len(prms)
            prms.append(rest_sym)
            number_of_args = len(args)
            if number_of_args < number_of_regular_prms:
                raise Exception('too few arguments')
            new_args = args[0:number_of_regular_prms]
            rest_args = args[number_of_regular_prms:number_of_args]
            new_args.append(rest_args)
            args = new_args
        if len(args) > len(prms):
            raise Exception('too many arguments')
        if len(args) < len(prms):
            raise Exception('too few arguments')
        E = _extend(sf['prms'], args, E)


def cse_microcode_blk(cmd):
    global E
    locals = _scan(cmd['body'])
    unassigneds = _scheme_map(lambda _: {'tag': 'unassigned'}, locals)
    C.extend([{'tag': 'env_i', 'env': E}, cmd['body']])
    E = _extend(locals, unassigneds, E)


def cse_microcode_pause_for_input(cmd):
    global E
    next_chunk = sys.stdin.readline()[:-1]
    # "\\x04" is the sequence to trigger compilation in raw mode
    while not next_chunk or next_chunk.strip() == "\\x04":
        next_chunk = sys.stdin.readline()[:-1]
    next_chunk = loads(next_chunk)

    # Similar to handling of \`blk\`
    locals = _scan(next_chunk)
    unassigneds = _scheme_map(lambda _: {'tag': 'unassigned'}, locals)
    C.extend([{'tag': 'env_i', 'env': E}, next_chunk])
    E = _extend(locals, unassigneds, E)


def cse_microcode_arr_lit_i(cmd):
    global S
    a = cmd['arity']
    array = S[- a - 1: len(S)]
    S = S[0: - a]
    S.append(array)


def cse_microcode_arr_acc_i(cmd):
    global S
    ind = S.pop()
    arr = S.pop()
    if type(ind) is dict and 'tag' in ind and ind['tag'] == 'prop':
        S.append(getattr(arr, ind['sym']))
    else:
        S.append(arr[int(ind)])


def cse_microcode_arr_assmt_i(cmd):
    global S
    val = S.pop()
    ind = S.pop()
    arr = S.pop()
    arr[ind] = val
    S.append(val)


def cse_microcode_env_i(cmd):
    global E
    E = cmd['env']


def rev(xs):
    xs.reverse()
    return xs


def raise_exception(s): raise Exception(s)
`,interpreterPrefix2=`cse_microcode = {
    ##########################
    # expressions of Source 3
    ##########################
    'lit':
    lambda cmd: S.append(float(cmd['val']) if type(
        cmd['val']) is int else cmd['val']),
    'nam':
    cse_microcode_nam,
    'unop':
    lambda cmd: C.extend([{'tag': 'unop_i', 'sym': cmd['sym']},
                          cmd['frst']]),
    'binop':
    lambda cmd: C.extend([{'tag': 'binop_i', 'sym': cmd['sym']},
                          cmd['scnd'],
                          cmd['frst']]),
    'log':
    lambda cmd: C.append({'tag': 'cond_expr',
                          'pred': cmd['frst'],
                          'cons': {'tag': 'lit', 'val': True},
                          'alt': cmd['scnd']}
                         if cmd['sym'] == '&&'
                         else
                         {'tag': 'cond_expr',
                          'pred': cmd['frst'],
                          'cons': cmd['scnd'],
                          'alt': {'tag': 'lit', 'val': False}}),
    'cond_expr':
    lambda cmd: C.extend([{'tag': 'branch_i',
                           'cons': cmd['cons'],
                           'alt': cmd['alt']},
                          cmd['pred']
                          ]),
    'app':
    lambda cmd: C.extend(
        [{'tag': 'app_i', 'arity': len(cmd['args'])}] + cmd['args'] + [cmd['fun']]),
    'assmt':
    lambda cmd: C.extend([{'tag': 'assmt_i', 'sym': cmd['sym']},
                          cmd['expr']]),
    'lam':
    lambda cmd: S.append({'tag': 'closure',
                          'prms': cmd['prms'],
                          'body': cmd['body'],
                          'env': E}),
    'spread':
    lambda cmd: S.append(cmd),
    'arr_lit':
    lambda cmd: C.extend(
        [{'tag': 'arr_lit_i', 'arity': len(cmd['elems'])}] + rev(cmd['elems'])),
    'arr_acc':
    lambda cmd: C.extend([{'tag': 'arr_acc_i'},
                          cmd['ind'],
                          cmd['arr']]),
    'arr_assmt':
    lambda cmd: C.extend([{'tag': 'arr_assmt_i'},
                          cmd['expr'],
                          cmd['ind'],
                          cmd['arr']]),
    #########################
    # statements of Source 3
    #########################
    'import':
    lambda _: raise_exception('import not available in MicroSource'),
    'seq':
    lambda cmd: C.extend(handle_sequence(cmd['stmts'])),
    'cond_stmt':
    # conditional statements are value-producing; thus
    # insert push_undefined_if_needed_i instruction
    # (as optimization, we could avoid this for non-top-level)
    lambda cmd: C.extend([{'tag': 'push_undefined_if_needed_i'},
                          {'tag': 'branch_i',
                           'cons': cmd['cons'],
                           'alt': cmd['alt']},
                          cmd['pred']
                          ]),
    'blk':
    cse_microcode_blk,
    # let and const are not value-producing,
    # but assmt pushes value. thus need to pop
    'let':
    lambda cmd: C.extend([{'tag': 'pop_i'},
                          {'tag': 'assmt',
                           'sym': cmd['sym'],
                           'expr': cmd['expr']}]),
    'const':
    lambda cmd: C.extend([{'tag': 'pop_i'},
                          {'tag': 'assmt',
                           'sym': cmd['sym'],
                           'expr': cmd['expr']}]),
    'ret':
    lambda cmd: C.extend([{'tag': 'reset_i'},
                          cmd['expr']]),
    'fun':
    lambda cmd: C.append({'tag': 'const',
                          'sym': cmd['sym'],
                          'expr': {'tag': 'lam',
                                   'prms': cmd['prms'],
                                   'body': cmd['body']}
                          }),
    'while':
    lambda cmd: C.extend([{'tag': 'while_i',
                           'pred': cmd['pred'],
                           'body': cmd['body']},
                          cmd['pred'],
                          {'tag': 'lit', 'val': Undefined}]),
    'for':  # follow https://docs.sourceacademy.org/source_3.pdf
    lambda cmd: C.append(
        {'tag': 'blk',
         'body':
         {'tag': 'seq',
          'stmts':
          [cmd['init'],
           {'tag': 'while',
            'pred': cmd['pred'],
            'body':
            {'tag': 'blk',
             'body':
             {'tag': 'seq',
              'stmts':
              [{'tag': 'const',
                'sym': '_copy_of_' +
                cmd['init']['sym'],
                'expr': {'tag': 'nam',
                         'sym': cmd['init']['sym']}
                },
               {'tag': 'blk',
                'body':
                {'tag': 'seq',
                 'stmts':
                 [{'tag': 'const',
                   'sym': cmd['init']['sym'],
                   'expr': {'tag': 'nam',
                            'sym': '_copy_of_' +
                            cmd['init']['sym']}},
                  cmd['body']]}},
               cmd['upd']
               ]}}}]}})
    if cmd['init']['tag'] == 'let'
    else
    C.append(
        {'tag': 'seq',
         'stmts':
            [cmd['init'],
             {'tag': 'while',
              'pred': cmd['pred'],
              'body':
                 {'tag': 'seq',
                  'stmts':
                     [cmd['body'],
                      cmd['upd']
                      ]}}]}),
    'prop':
    lambda cmd: S.append(cmd),
    #############################
    # instructions of CSE machine
    #############################
    'pause_for_input': cse_microcode_pause_for_input,
    'reset_i':
    lambda cmd: None
    if C.pop()['tag'] == 'mark'  # mark found: stop loop
    else C.append(cmd),  # otherwise continue loop
    'while_i':
    lambda cmd: C.extend([cmd,
                          cmd['pred'],
                          {'tag': 'push_undefined_if_needed_i'},
                          cmd['body'],
                          {'tag': 'pop_i'}])  # pop previous body value
    if S.pop()
    else None,
    'assmt_i':  # peek top of stash without popping:
    # assignments are value-producing
    lambda cmd: replace(cmd['sym'], S[-1], E),
    'unop_i':
    lambda cmd: S.append(apply_unop(cmd['sym'], S.pop())),
    'binop_i':
    lambda cmd: S.append(apply_binop(cmd['sym'], S.pop(), S.pop())),
    'pop_i':
    lambda _: S.pop(),
    'app_i':
    cse_microcode_app_i,
    'branch_i':
    lambda cmd: C.append(cmd['cons'] if S.pop() else cmd['alt']),
    'env_i':
    cse_microcode_env_i,
    'push_undefined_if_needed_i':
    lambda _: None if S else S.append(Undefined),
    'arr_lit_i':
    cse_microcode_arr_lit_i,
    'arr_acc_i':
    cse_microcode_arr_acc_i,
    'arr_assmt_i':
    cse_microcode_arr_assmt_i
}
`,interpreterSuffix=`# Clear stash after evaluating prelude
S = []

# evaluation of toplevel results
# in the value undefined if the
# stash is empty
C = [{'tag': 'push_undefined_if_needed_i'},
     {'tag': 'blk',
      'body': loads(json_string)}]

# machine loops until control is empty
while True:
    if not C:
        break
    cmd = C.pop()
    cse_microcode[cmd['tag']](cmd)

if len(S) > 1 or len(S) < 1:
    raise Exception('internal error: stash must be singleton but is: ', S)
print("output: " + value_to_string(S[0]))
`,spikeMicrocode=`import gc

import hub
from spike import Motor

builtin_microcode.update({
    'spike_showImage': lambda args: hub.display.show(hub.Image(args[0])),
    'spike_sleep': lambda args: time.sleep(args[0]),
    'spike_getTemperature': lambda _: hub.temperature(),
    'spike_showText': lambda args:  hub.display.show(args[0]),
    # \`hub.sound.beep\` expects int arguments, not float
    'spike_playSound': lambda args: hub.sound.beep(int(args[0]), int(args[1]), hub.sound.SOUND_SIN),

    # We expect students to only have one of each sensor (as it comes from the base kit).
    'spike_colorSensor': lambda _: getattr(hub.port, list(filter(lambda k: len(hub.status()['port'][k]) == 5, 'ABCDEF'))[0]).device,
    'spike_distanceSensor': lambda _: getattr(hub.port, list(filter(lambda k: len(hub.status()['port'][k]) == 1, 'ABCDEF'))[0]).device,
    'spike_forceSensor': lambda _: getattr(hub.port, list(filter(lambda k: len(hub.status()['port'][k]) == 3, 'ABCDEF'))[0]).device,
    # Color sensor
    'spike_getReflectedLightIntensity': lambda args: args[0].get()[0],
    'spike_getColor': lambda args: args[0].get()[1],
    # Force sensor
    'spike_getTouchStrength': lambda args: args[0].get()[0],
    'spike_getIsTouched': lambda args: args[0].get()[1] == 1,
    # Distance sensor
    'spike_getCentimetres': lambda args: args[0].get()[0] or float('inf'),

    # For motors, we unfortunately have to use a more declarative syntax, specifying the port manually
    'spike_motorA': lambda _: Motor('A'),
    'spike_motorB': lambda _: Motor('B'),
    'spike_motorC': lambda _: Motor('C'),
    'spike_motorD': lambda _: Motor('D'),
    'spike_motorE': lambda _: Motor('E'),
    'spike_motorF': lambda _: Motor('F'),
    'spike_runForDegrees': lambda args: args[0].run_for_degrees(int(args[1])),
})

# We need to update some stuff; aka run the following lines again.
# The following lines are taken from interpreter_prefix.py
for k, v in builtin_microcode.items():
    global_frame[k] = {'tag': 'builtin',
                       'sym': k,
                       'arity': builtin_arities.get(k) or 1}


# Free up as much memory as possible by triggering
# garbage collection when >5% of remaining free heap space is occupied
gc.collect()
gc.threshold(gc.mem_free() // 20 + gc.mem_alloc())
`,sourceThreePrelude01=`// Source 3 Prelude

// equal computes the structural equality
// over its arguments
// NOTE: We have to split this into parts because the amount of
//       function calls results in a very large JSON object that
//       would otherwise cause an out of memory error.
function equal(xs, ys) {
  return is_pair(xs)
    ? is_pair(ys) && equal(head(xs), head(ys)) && equal(tail(xs), tail(ys))
    : is_null(xs)
    ? is_null(ys)
    : is_number(xs)
    ? is_number(ys) && xs === ys
    : $equal2(xs, ys);
}
`,sourceThreePrelude02=`// Continued from the previous part
function $equal2(xs, ys) {
  return is_boolean(xs)
    ? is_boolean(ys) && ((xs && ys) || (!xs && !ys))
    : is_string(xs)
    ? is_string(ys) && xs === ys
    : is_undefined(xs)
    ? is_undefined(ys)
    : is_function(xs)
    ? // we know now that xs is a function,
      // but we use an if check anyway to make use of the type predicate
      is_function(ys) && xs === ys
    : false;
}
`,sourceThreePrelude03=`// returns the length of a given argument list
// assumes that the argument is a list
function $length(xs, acc) {
  return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))
function $map(f, xs, acc) {
  return is_null(xs) ? reverse(acc) : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
  return $map(f, xs, null);
}
`,sourceThreePrelude04=`// build_list takes a a function fun as first argument,
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.
function $build_list(i, fun, already_built) {
  return i < 0
    ? already_built
    : $build_list(i - 1, fun, pair(fun(i), already_built));
}
function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.
function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}
`,sourceThreePrelude05=`// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.
function $list_to_string(xs, cont) {
  return is_null(xs)
    ? cont("null")
    : is_pair(xs)
    ? $list_to_string(head(xs), (x) =>
        $list_to_string(tail(xs), (y) => cont("[" + x + "," + y + "]"))
      )
    : cont(stringify(xs));
}
function list_to_string(xs) {
  return $list_to_string(xs, (x) => x);
}
`,sourceThreePrelude06=`// reverse reverses the argument, assumed to be a list
function $reverse(original, reversed) {
  return is_null(original)
    ? reversed
    : $reverse(tail(original), pair(head(original), reversed));
}
function reverse(xs) {
  return $reverse(xs, null);
}
`,sourceThreePrelude07=`// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.
function $append(xs, ys, cont) {
  return is_null(xs)
    ? cont(ys)
    : $append(tail(xs), ys, (zs) => cont(pair(head(xs), zs)));
}
function append(xs, ys) {
  return $append(xs, ys, (xs) => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list
function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}
`,sourceThreePrelude08=`// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.
function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
    ? app(rev(acc), xs)
    : v === head(xs)
    ? app(rev(acc), tail(xs))
    : $remove(v, tail(xs), pair(head(xs), acc));
}
function remove(v, xs) {
  return $remove(v, xs, null);
}
`,sourceThreePrelude09=`// Similar to remove, but removes all instances of v
// instead of just the first
function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
    ? app(rev(acc), xs)
    : v === head(xs)
    ? $remove_all(v, tail(xs), acc)
    : $remove_all(v, tail(xs), pair(head(xs), acc));
}
function remove_all(v, xs) {
  return $remove_all(v, xs, null);
}
`,sourceThreePrelude10=`// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.
function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}
function filter(pred, xs) {
  return $filter(pred, xs, null);
}
`,sourceThreePrelude11=`// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number
function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end ? rev(acc) : $enum_list(start + 1, end, pair(start, acc));
}
function enum_list(start, end) {
  return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0
function list_ref(xs, n) {
  return n === 0 ? head(xs) : list_ref(tail(xs), n - 1);
}
`,sourceThreePrelude12=`// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))
function $accumulate(f, initial, xs, cont) {
  return is_null(xs)
    ? cont(initial)
    : $accumulate(f, initial, tail(xs), (x) => cont(f(head(xs), x)));
}
function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, (x) => x);
}
`,sourceThreePrelude13=`// Supporting streams in the Scheme style, following
// "stream discipline"
// is_stream recurses down the stream and checks that it ends with the
// empty list null
function is_stream(xs) {
  return (
    is_null(xs) ||
    (is_pair(xs) &&
      is_function(tail(xs)) &&
      arity(tail(xs)) === 0 &&
      is_stream(stream_tail(xs)))
  );
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.
function list_to_stream(xs) {
  return is_null(xs) ? null : pair(head(xs), () => list_to_stream(tail(xs)));
}
`,sourceThreePrelude14=`// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs) ? null : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs) ? 0 : 1 + stream_length(stream_tail(xs));
}
`,sourceThreePrelude15=`// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)), () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument,
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n ? null : pair(fun(i), () => build(i + 1));
  }
  return build(0);
}
`,sourceThreePrelude16=`// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(
          stream_tail(original),
          pair(head(original), () => reversed)
        );
  }
  return rev(xs, null);
}
`,sourceThreePrelude17=`// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs), () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
    ? s
    : stream_member(x, stream_tail(s));
}
`,sourceThreePrelude18=`// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? stream_tail(xs)
    : pair(head(xs), () => stream_remove(v, stream_tail(xs)));
}
`,sourceThreePrelude19=`// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? stream_remove_all(v, stream_tail(xs))
    : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}
`,sourceThreePrelude20=`// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
    ? pair(head(s), () => stream_filter(p, stream_tail(s)))
    : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end ? null : pair(start, () => enum_stream(start + 1, end));
}
`,sourceThreePrelude21=`// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n, () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
  function es(s, n) {
    return n === 1 ? list(head(s)) : pair(head(s), es(stream_tail(s), n - 1));
  }
  return n === 0 ? null : es(s, n);
}
`,sourceThreePrelude22=`// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0 ? head(s) : stream_ref(stream_tail(s), n - 1);
}
`,sourceThreePrelude=[sourceThreePrelude01,sourceThreePrelude02,sourceThreePrelude03,sourceThreePrelude04,sourceThreePrelude05,sourceThreePrelude06,sourceThreePrelude07,sourceThreePrelude08,sourceThreePrelude09,sourceThreePrelude10,sourceThreePrelude11,sourceThreePrelude12,sourceThreePrelude13,sourceThreePrelude14,sourceThreePrelude15,sourceThreePrelude16,sourceThreePrelude17,sourceThreePrelude18,sourceThreePrelude19,sourceThreePrelude20,sourceThreePrelude21,sourceThreePrelude22];var extLanguage_tools={exports:{}};(function(i,s){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(o,a,nt){var tt=o("./lib/dom"),ot=o("./lib/oop"),at=o("./lib/event_emitter").EventEmitter,rt=o("./lib/lang"),it=o("./range").Range,j=o("./range_list").RangeList,_=o("./keyboard/hash_handler").HashHandler,$=o("./tokenizer").Tokenizer,et=o("./clipboard"),st={CURRENT_WORD:function(dt){return dt.session.getTextRange(dt.session.getWordRange())},SELECTION:function(dt,St,yt){var pt=dt.session.getTextRange();return yt?pt.replace(/\n\r?([ \t]*\S)/g,`
`+yt+"$1"):pt},CURRENT_LINE:function(dt){return dt.session.getLine(dt.getCursorPosition().row)},PREV_LINE:function(dt){return dt.session.getLine(dt.getCursorPosition().row-1)},LINE_INDEX:function(dt){return dt.getCursorPosition().row},LINE_NUMBER:function(dt){return dt.getCursorPosition().row+1},SOFT_TABS:function(dt){return dt.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(dt){return dt.session.getTabSize()},CLIPBOARD:function(dt){return et.getText&&et.getText()},FILENAME:function(dt){return/[^/\\]*$/.exec(this.FILEPATH(dt))[0]},FILENAME_BASE:function(dt){return/[^/\\]*$/.exec(this.FILEPATH(dt))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(dt){return this.FILEPATH(dt).replace(/[^/\\]*$/,"")},FILEPATH:function(dt){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(dt){var St=dt.session.$mode||{};return St.blockComment&&St.blockComment.start||""},BLOCK_COMMENT_END:function(dt){var St=dt.session.$mode||{};return St.blockComment&&St.blockComment.end||""},LINE_COMMENT:function(dt){var St=dt.session.$mode||{};return St.lineCommentStart||""},CURRENT_YEAR:lt.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:lt.bind(null,{year:"2-digit"}),CURRENT_MONTH:lt.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:lt.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:lt.bind(null,{month:"short"}),CURRENT_DATE:lt.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:lt.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:lt.bind(null,{weekday:"short"}),CURRENT_HOUR:lt.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:lt.bind(null,{minute:"2-digit"}),CURRENT_SECOND:lt.bind(null,{second:"2-digit"})};st.SELECTED_TEXT=st.SELECTION;function lt(dt){var St=new Date().toLocaleString("en-us",dt);return St.length==1?"0"+St:St}var ct=function(){function dt(){this.snippetMap={},this.snippetNameMap={},this.variables=st}return dt.prototype.getTokenizer=function(){return dt.$tokenizer||this.createTokenizer()},dt.prototype.createTokenizer=function(){function St(wt){return wt=wt.substr(1),/^\d+$/.test(wt)?[{tabstopId:parseInt(wt,10)}]:[{text:wt}]}function yt(wt){return"(?:[^\\\\"+wt+"]|\\\\.)"}var pt={regex:"/("+yt("/")+"+)/",onMatch:function(wt,Et,Ct){var kt=Ct[0];return kt.fmtString=!0,kt.guard=wt.slice(1,-1),kt.flag="",""},next:"formatString"};return dt.$tokenizer=new $({start:[{regex:/\\./,onMatch:function(wt,Et,Ct){var kt=wt[1];return(kt=="}"&&Ct.length||"`$\\".indexOf(kt)!=-1)&&(wt=kt),[wt]}},{regex:/}/,onMatch:function(wt,Et,Ct){return[Ct.length?Ct.shift():wt]}},{regex:/\$(?:\d+|\w+)/,onMatch:St},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(wt,Et,Ct){var kt=St(wt.substr(1));return Ct.unshift(kt[0]),kt},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+yt("\\|")+"*\\|",onMatch:function(wt,Et,Ct){var kt=wt.slice(1,-1).replace(/\\[,|\\]|,/g,function(Tt){return Tt.length==2?Tt[1]:"\0"}).split("\0").map(function(Tt){return{value:Tt}});return Ct[0].choices=kt,[kt[0]]},next:"start"},pt,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(wt,Et,Ct){return Ct.length&&Ct[0].expectElse?(Ct[0].expectElse=!1,Ct[0].ifEnd={elseEnd:Ct[0]},[Ct[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(wt,Et,Ct){var kt=wt[1];return kt=="}"&&Ct.length||"`$\\".indexOf(kt)!=-1?wt=kt:kt=="n"?wt=`
`:kt=="t"?wt="	":"ulULE".indexOf(kt)!=-1&&(wt={changeCase:kt,local:kt>"a"}),[wt]}},{regex:"/\\w*}",onMatch:function(wt,Et,Ct){var kt=Ct.shift();return kt&&(kt.flag=wt.slice(1,-1)),this.next=kt&&kt.tabstopId?"start":"",[kt||wt]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(wt,Et,Ct){return[{text:wt.slice(1)}]}},{regex:/\${\w+/,onMatch:function(wt,Et,Ct){var kt={text:wt.slice(2)};return Ct.unshift(kt),[kt]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(wt,Et,Ct){var kt=Ct.shift();return this.next=kt&&kt.tabstopId?"start":"",[kt||wt]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(wt,Et,Ct){var kt=Ct[0];return kt.formatFunction=wt.slice(2,-1),[Ct.shift()]},next:"formatString"},pt,{regex:/:[\?\-+]?/,onMatch:function(wt,Et,Ct){wt[1]=="+"&&(Ct[0].ifEnd=Ct[0]),wt[1]=="?"&&(Ct[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),dt.$tokenizer},dt.prototype.tokenizeTmSnippet=function(St,yt){return this.getTokenizer().getLineTokens(St,yt).tokens.map(function(pt){return pt.value||pt})},dt.prototype.getVariableValue=function(St,yt,pt){if(/^\d+$/.test(yt))return(this.variables.__||{})[yt]||"";if(/^[A-Z]\d+$/.test(yt))return(this.variables[yt[0]+"__"]||{})[yt.substr(1)]||"";if(yt=yt.replace(/^TM_/,""),!this.variables.hasOwnProperty(yt))return"";var wt=this.variables[yt];return typeof wt=="function"&&(wt=this.variables[yt](St,yt,pt)),wt??""},dt.prototype.tmStrFormat=function(St,yt,pt){if(!yt.fmt)return St;var wt=yt.flag||"",Et=yt.guard;Et=new RegExp(Et,wt.replace(/[^gim]/g,""));var Ct=typeof yt.fmt=="string"?this.tokenizeTmSnippet(yt.fmt,"formatString"):yt.fmt,kt=this,Tt=St.replace(Et,function(){var At=kt.variables.__;kt.variables.__=[].slice.call(arguments);for(var It=kt.resolveVariables(Ct,pt),Ot="E",Mt=0;Mt<It.length;Mt++){var Dt=It[Mt];if(typeof Dt=="object")if(It[Mt]="",Dt.changeCase&&Dt.local){var Bt=It[Mt+1];Bt&&typeof Bt=="string"&&(Dt.changeCase=="u"?It[Mt]=Bt[0].toUpperCase():It[Mt]=Bt[0].toLowerCase(),It[Mt+1]=Bt.substr(1))}else Dt.changeCase&&(Ot=Dt.changeCase);else Ot=="U"?It[Mt]=Dt.toUpperCase():Ot=="L"&&(It[Mt]=Dt.toLowerCase())}return kt.variables.__=At,It.join("")});return Tt},dt.prototype.tmFormatFunction=function(St,yt,pt){return yt.formatFunction=="upcase"?St.toUpperCase():yt.formatFunction=="downcase"?St.toLowerCase():St},dt.prototype.resolveVariables=function(St,yt){for(var pt=[],wt="",Et=!0,Ct=0;Ct<St.length;Ct++){var kt=St[Ct];if(typeof kt=="string"){pt.push(kt),kt==`
`?(Et=!0,wt=""):Et&&(wt=/^\t*/.exec(kt)[0],Et=/\S/.test(kt));continue}if(kt){if(Et=!1,kt.fmtString){var Tt=St.indexOf(kt,Ct+1);Tt==-1&&(Tt=St.length),kt.fmt=St.slice(Ct+1,Tt),Ct=Tt}if(kt.text){var At=this.getVariableValue(yt,kt.text,wt)+"";kt.fmtString&&(At=this.tmStrFormat(At,kt,yt)),kt.formatFunction&&(At=this.tmFormatFunction(At,kt,yt)),At&&!kt.ifEnd?(pt.push(At),It(kt)):!At&&kt.ifEnd&&It(kt.ifEnd)}else kt.elseEnd?It(kt.elseEnd):(kt.tabstopId!=null||kt.changeCase!=null)&&pt.push(kt)}}function It(Ot){var Mt=St.indexOf(Ot,Ct+1);Mt!=-1&&(Ct=Mt)}return pt},dt.prototype.getDisplayTextForSnippet=function(St,yt){var pt=ht.call(this,St,yt);return pt.text},dt.prototype.insertSnippetForSelection=function(St,yt,pt){pt===void 0&&(pt={});var wt=ht.call(this,St,yt,pt),Et=St.getSelectionRange(),Ct=St.session.replace(Et,wt.text),kt=new ut(St),Tt=St.inVirtualSelectionMode&&St.selection.index;kt.addTabstops(wt.tabstops,Et.start,Ct,Tt)},dt.prototype.insertSnippet=function(St,yt,pt){pt===void 0&&(pt={});var wt=this;if(St.inVirtualSelectionMode)return wt.insertSnippetForSelection(St,yt,pt);St.forEachSelection(function(){wt.insertSnippetForSelection(St,yt,pt)},null,{keepOrder:!0}),St.tabstopManager&&St.tabstopManager.tabNext()},dt.prototype.$getScope=function(St){var yt=St.session.$mode.$id||"";if(yt=yt.split("/").pop(),yt==="html"||yt==="php"){yt==="php"&&!St.session.$mode.inlinePhp&&(yt="html");var pt=St.getCursorPosition(),wt=St.session.getState(pt.row);typeof wt=="object"&&(wt=wt[0]),wt.substring&&(wt.substring(0,3)=="js-"?yt="javascript":wt.substring(0,4)=="css-"?yt="css":wt.substring(0,4)=="php-"&&(yt="php"))}return yt},dt.prototype.getActiveScopes=function(St){var yt=this.$getScope(St),pt=[yt],wt=this.snippetMap;return wt[yt]&&wt[yt].includeScopes&&pt.push.apply(pt,wt[yt].includeScopes),pt.push("_"),pt},dt.prototype.expandWithTab=function(St,yt){var pt=this,wt=St.forEachSelection(function(){return pt.expandSnippetForSelection(St,yt)},null,{keepOrder:!0});return wt&&St.tabstopManager&&St.tabstopManager.tabNext(),wt},dt.prototype.expandSnippetForSelection=function(St,yt){var pt=St.getCursorPosition(),wt=St.session.getLine(pt.row),Et=wt.substring(0,pt.column),Ct=wt.substr(pt.column),kt=this.snippetMap,Tt;return this.getActiveScopes(St).some(function(At){var It=kt[At];return It&&(Tt=this.findMatchingSnippet(It,Et,Ct)),!!Tt},this),Tt?(yt&&yt.dryRun||(St.session.doc.removeInLine(pt.row,pt.column-Tt.replaceBefore.length,pt.column+Tt.replaceAfter.length),this.variables.M__=Tt.matchBefore,this.variables.T__=Tt.matchAfter,this.insertSnippetForSelection(St,Tt.content),this.variables.M__=this.variables.T__=null),!0):!1},dt.prototype.findMatchingSnippet=function(St,yt,pt){for(var wt=St.length;wt--;){var Et=St[wt];if(!(Et.startRe&&!Et.startRe.test(yt))&&!(Et.endRe&&!Et.endRe.test(pt))&&!(!Et.startRe&&!Et.endRe))return Et.matchBefore=Et.startRe?Et.startRe.exec(yt):[""],Et.matchAfter=Et.endRe?Et.endRe.exec(pt):[""],Et.replaceBefore=Et.triggerRe?Et.triggerRe.exec(yt)[0]:"",Et.replaceAfter=Et.endTriggerRe?Et.endTriggerRe.exec(pt)[0]:"",Et}},dt.prototype.register=function(St,yt){var pt=this.snippetMap,wt=this.snippetNameMap,Et=this;St||(St=[]);function Ct(At){return At&&!/^\^?\(.*\)\$?$|^\\b$/.test(At)&&(At="(?:"+At+")"),At||""}function kt(At,It,Ot){return At=Ct(At),It=Ct(It),Ot?(At=It+At,At&&At[At.length-1]!="$"&&(At=At+"$")):(At=At+It,At&&At[0]!="^"&&(At="^"+At)),new RegExp(At)}function Tt(At){At.scope||(At.scope=yt||"_"),yt=At.scope,pt[yt]||(pt[yt]=[],wt[yt]={});var It=wt[yt];if(At.name){var Ot=It[At.name];Ot&&Et.unregister(Ot),It[At.name]=At}pt[yt].push(At),At.prefix&&(At.tabTrigger=At.prefix),!At.content&&At.body&&(At.content=Array.isArray(At.body)?At.body.join(`
`):At.body),At.tabTrigger&&!At.trigger&&(!At.guard&&/^\w/.test(At.tabTrigger)&&(At.guard="\\b"),At.trigger=rt.escapeRegExp(At.tabTrigger)),!(!At.trigger&&!At.guard&&!At.endTrigger&&!At.endGuard)&&(At.startRe=kt(At.trigger,At.guard,!0),At.triggerRe=new RegExp(At.trigger),At.endRe=kt(At.endTrigger,At.endGuard,!0),At.endTriggerRe=new RegExp(At.endTrigger))}Array.isArray(St)?St.forEach(Tt):Object.keys(St).forEach(function(At){Tt(St[At])}),this._signal("registerSnippets",{scope:yt})},dt.prototype.unregister=function(St,yt){var pt=this.snippetMap,wt=this.snippetNameMap;function Et(Ct){var kt=wt[Ct.scope||yt];if(kt&&kt[Ct.name]){delete kt[Ct.name];var Tt=pt[Ct.scope||yt],At=Tt&&Tt.indexOf(Ct);At>=0&&Tt.splice(At,1)}}St.content?Et(St):Array.isArray(St)&&St.forEach(Et)},dt.prototype.parseSnippetFile=function(St){St=St.replace(/\r/g,"");for(var yt=[],pt={},wt=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,Et;Et=wt.exec(St);){if(Et[1])try{pt=JSON.parse(Et[1]),yt.push(pt)}catch{}if(Et[4])pt.content=Et[4].replace(/^\t/gm,""),yt.push(pt),pt={};else{var Ct=Et[2],kt=Et[3];if(Ct=="regex"){var Tt=/\/((?:[^\/\\]|\\.)*)|$/g;pt.guard=Tt.exec(kt)[1],pt.trigger=Tt.exec(kt)[1],pt.endTrigger=Tt.exec(kt)[1],pt.endGuard=Tt.exec(kt)[1]}else Ct=="snippet"?(pt.tabTrigger=kt.match(/^\S*/)[0],pt.name||(pt.name=kt)):Ct&&(pt[Ct]=kt)}}return yt},dt.prototype.getSnippetByName=function(St,yt){var pt=this.snippetNameMap,wt;return this.getActiveScopes(yt).some(function(Et){var Ct=pt[Et];return Ct&&(wt=Ct[St]),!!wt},this),wt},dt}();ot.implement(ct.prototype,at);var ht=function(dt,St,yt){yt===void 0&&(yt={});var pt=dt.getCursorPosition(),wt=dt.session.getLine(pt.row),Et=dt.session.getTabString(),Ct=wt.match(/^\s*/)[0];pt.column<Ct.length&&(Ct=Ct.slice(0,pt.column)),St=St.replace(/\r/g,"");var kt=this.tokenizeTmSnippet(St);kt=this.resolveVariables(kt,dt),kt=kt.map(function(Qt){return Qt==`
`&&!yt.excludeExtraIndent?Qt+Ct:typeof Qt=="string"?Qt.replace(/\t/g,Et):Qt});var Tt=[];kt.forEach(function(Qt,cr){if(typeof Qt=="object"){var hr=Qt.tabstopId,dr=Tt[hr];if(dr||(dr=Tt[hr]=[],dr.index=hr,dr.value="",dr.parents={}),dr.indexOf(Qt)===-1){Qt.choices&&!dr.choices&&(dr.choices=Qt.choices),dr.push(Qt);var gr=kt.indexOf(Qt,cr+1);if(gr!==-1){var tr=kt.slice(cr+1,gr),rr=tr.some(function(Yt){return typeof Yt=="object"});rr&&!dr.value?dr.value=tr:tr.length&&(!dr.value||typeof dr.value!="string")&&(dr.value=tr.join(""))}}}}),Tt.forEach(function(Qt){Qt.length=0});var At={};function It(Qt){for(var cr=[],hr=0;hr<Qt.length;hr++){var dr=Qt[hr];if(typeof dr=="object"){if(At[dr.tabstopId])continue;var gr=Qt.lastIndexOf(dr,hr-1);dr=cr[gr]||{tabstopId:dr.tabstopId}}cr[hr]=dr}return cr}for(var Ot=0;Ot<kt.length;Ot++){var Mt=kt[Ot];if(typeof Mt=="object"){var Dt=Mt.tabstopId,Bt=Tt[Dt],qt=kt.indexOf(Mt,Ot+1);if(At[Dt]){At[Dt]===Mt&&(delete At[Dt],Object.keys(At).forEach(function(Qt){Bt.parents[Qt]=!0}));continue}At[Dt]=Mt;var Wt=Bt.value;typeof Wt!="string"?Wt=It(Wt):Mt.fmt&&(Wt=this.tmStrFormat(Wt,Mt,dt)),kt.splice.apply(kt,[Ot+1,Math.max(0,qt-Ot)].concat(Wt,Mt)),Bt.indexOf(Mt)===-1&&Bt.push(Mt)}}var Vt=0,Ht=0,Jt="";return kt.forEach(function(Qt){if(typeof Qt=="string"){var cr=Qt.split(`
`);cr.length>1?(Ht=cr[cr.length-1].length,Vt+=cr.length-1):Ht+=Qt.length,Jt+=Qt}else Qt&&(Qt.start?Qt.end={row:Vt,column:Ht}:Qt.start={row:Vt,column:Ht})}),{text:Jt,tabstops:Tt,tokens:kt}},ut=function(){function dt(St){if(this.index=0,this.ranges=[],this.tabstops=[],St.tabstopManager)return St.tabstopManager;St.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=rt.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(St)}return dt.prototype.attach=function(St){this.$openTabstops=null,this.selectedTabstop=null,this.editor=St,this.session=St.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},dt.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},dt.prototype.onChange=function(St){for(var yt=St.action[0]=="r",pt=this.selectedTabstop||{},wt=pt.parents||{},Et=this.tabstops.slice(),Ct=0;Ct<Et.length;Ct++){var kt=Et[Ct],Tt=kt==pt||wt[kt.index];if(kt.rangeList.$bias=Tt?0:1,St.action=="remove"&&kt!==pt){var At=kt.parents&&kt.parents[pt.index],It=kt.rangeList.pointIndex(St.start,At);It=It<0?-It-1:It+1;var Ot=kt.rangeList.pointIndex(St.end,At);Ot=Ot<0?-Ot-1:Ot-1;for(var Mt=kt.rangeList.ranges.slice(It,Ot),Dt=0;Dt<Mt.length;Dt++)this.removeRange(Mt[Dt])}kt.rangeList.$onChange(St)}var Bt=this.session;!this.$inChange&&yt&&Bt.getLength()==1&&!Bt.getValue()&&this.detach()},dt.prototype.updateLinkedFields=function(){var St=this.selectedTabstop;if(!(!St||!St.hasLinkedRanges||!St.firstNonLinked)){this.$inChange=!0;for(var yt=this.session,pt=yt.getTextRange(St.firstNonLinked),wt=0;wt<St.length;wt++){var Et=St[wt];if(Et.linked){var Ct=Et.original,kt=a.snippetManager.tmStrFormat(pt,Ct,this.editor);yt.replace(Et,kt)}}this.$inChange=!1}},dt.prototype.onAfterExec=function(St){St.command&&!St.command.readOnly&&this.updateLinkedFields()},dt.prototype.onChangeSelection=function(){if(this.editor){for(var St=this.editor.selection.lead,yt=this.editor.selection.anchor,pt=this.editor.selection.isEmpty(),wt=0;wt<this.ranges.length;wt++)if(!this.ranges[wt].linked){var Et=this.ranges[wt].contains(St.row,St.column),Ct=pt||this.ranges[wt].contains(yt.row,yt.column);if(Et&&Ct)return}this.detach()}},dt.prototype.onChangeSession=function(){this.detach()},dt.prototype.tabNext=function(St){var yt=this.tabstops.length,pt=this.index+(St||1);pt=Math.min(Math.max(pt,1),yt),pt==yt&&(pt=0),this.selectTabstop(pt),this.updateTabstopMarkers(),pt===0&&this.detach()},dt.prototype.selectTabstop=function(St){this.$openTabstops=null;var yt=this.tabstops[this.index];if(yt&&this.addTabstopMarkers(yt),this.index=St,yt=this.tabstops[this.index],!(!yt||!yt.length)){this.selectedTabstop=yt;var pt=yt.firstNonLinked||yt;if(yt.choices&&(pt.cursor=pt.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(pt);else{var wt=this.editor.multiSelect;wt.toSingleRange(pt);for(var Et=0;Et<yt.length;Et++)yt.hasLinkedRanges&&yt[Et].linked||wt.addRange(yt[Et].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},dt.prototype.addTabstops=function(St,yt,pt){var wt=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!St[0]){var Et=it.fromPoints(pt,pt);gt(Et.start,yt),gt(Et.end,yt),St[0]=[Et],St[0].index=0}var Ct=this.index,kt=[Ct+1,0],Tt=this.ranges,At=this.snippetId=(this.snippetId||0)+1;St.forEach(function(It,Ot){var Mt=this.$openTabstops[Ot]||It;Mt.snippetId=At;for(var Dt=0;Dt<It.length;Dt++){var Bt=It[Dt],qt=it.fromPoints(Bt.start,Bt.end||Bt.start);mt(qt.start,yt),mt(qt.end,yt),qt.original=Bt,qt.tabstop=Mt,Tt.push(qt),Mt!=It?Mt.unshift(qt):Mt[Dt]=qt,Bt.fmtString||Mt.firstNonLinked&&wt?(qt.linked=!0,Mt.hasLinkedRanges=!0):Mt.firstNonLinked||(Mt.firstNonLinked=qt)}Mt.firstNonLinked||(Mt.hasLinkedRanges=!1),Mt===It&&(kt.push(Mt),this.$openTabstops[Ot]=Mt),this.addTabstopMarkers(Mt),Mt.rangeList=Mt.rangeList||new j,Mt.rangeList.$bias=0,Mt.rangeList.addList(Mt)},this),kt.length>2&&(this.tabstops.length&&kt.push(kt.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,kt))},dt.prototype.addTabstopMarkers=function(St){var yt=this.session;St.forEach(function(pt){pt.markerId||(pt.markerId=yt.addMarker(pt,"ace_snippet-marker","text"))})},dt.prototype.removeTabstopMarkers=function(St){var yt=this.session;St.forEach(function(pt){yt.removeMarker(pt.markerId),pt.markerId=null})},dt.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var St=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&St--,this.tabstops.forEach(function(yt){yt.snippetId===St?this.addTabstopMarkers(yt):this.removeTabstopMarkers(yt)},this)}},dt.prototype.removeRange=function(St){var yt=St.tabstop.indexOf(St);yt!=-1&&St.tabstop.splice(yt,1),yt=this.ranges.indexOf(St),yt!=-1&&this.ranges.splice(yt,1),yt=St.tabstop.rangeList.ranges.indexOf(St),yt!=-1&&St.tabstop.splice(yt,1),this.session.removeMarker(St.markerId),St.tabstop.length||(yt=this.tabstops.indexOf(St.tabstop),yt!=-1&&this.tabstops.splice(yt,1),this.tabstops.length||this.detach())},dt}();ut.prototype.keyboardHandler=new _,ut.prototype.keyboardHandler.bindKeys({Tab:function(dt){a.snippetManager&&a.snippetManager.expandWithTab(dt)||(dt.tabstopManager.tabNext(1),dt.renderer.scrollCursorIntoView())},"Shift-Tab":function(dt){dt.tabstopManager.tabNext(-1),dt.renderer.scrollCursorIntoView()},Esc:function(dt){dt.tabstopManager.detach()}});var mt=function(dt,St){dt.row==0&&(dt.column+=St.column),dt.row+=St.row},gt=function(dt,St){dt.row==St.row&&(dt.column-=St.column),dt.row-=St.row};tt.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),a.snippetManager=new ct;var vt=o("./editor").Editor;(function(){this.insertSnippet=function(dt,St){return a.snippetManager.insertSnippet(this,dt,St)},this.expandSnippet=function(dt){return a.snippetManager.expandWithTab(this,dt)}}).call(vt.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(o,a,nt){var tt=o("../virtual_renderer").VirtualRenderer,ot=o("../editor").Editor,at=o("../range").Range,rt=o("../lib/event"),it=o("../lib/lang"),j=o("../lib/dom"),_=o("../config").nls,$=o("./../lib/useragent"),et=function(mt){return"suggest-aria-id:".concat(mt)},st=$.isSafari?"menu":"listbox",lt=$.isSafari?"menuitem":"option",ct=$.isSafari?"aria-current":"aria-selected",ht=function(mt){var gt=new tt(mt);gt.$maxLines=4;var vt=new ot(gt);return vt.setHighlightActiveLine(!1),vt.setShowPrintMargin(!1),vt.renderer.setShowGutter(!1),vt.renderer.setHighlightGutterLine(!1),vt.$mouseHandler.$focusTimeout=0,vt.$highlightTagPending=!0,vt},ut=function(){function mt(gt){var vt=j.createElement("div"),dt=ht(vt);gt&&gt.appendChild(vt),vt.style.display="none",dt.renderer.content.style.cursor="default",dt.renderer.setStyle("ace_autocomplete"),dt.renderer.$textLayer.element.setAttribute("role",st),dt.renderer.$textLayer.element.setAttribute("aria-roledescription",_("Autocomplete suggestions")),dt.renderer.$textLayer.element.setAttribute("aria-label",_("Autocomplete suggestions")),dt.renderer.textarea.setAttribute("aria-hidden","true"),dt.setOption("displayIndentGuides",!1),dt.setOption("dragDelay",150);var St=function(){};dt.focus=St,dt.$isFocused=!0,dt.renderer.$cursorLayer.restartTimer=St,dt.renderer.$cursorLayer.element.style.opacity="0",dt.renderer.$maxLines=8,dt.renderer.$keepTextAreaAtCursor=!1,dt.setHighlightActiveLine(!1),dt.session.highlight(""),dt.session.$searchHighlight.clazz="ace_highlight-marker",dt.on("mousedown",function(Tt){var At=Tt.getDocumentPosition();dt.selection.moveToPosition(At),wt.start.row=wt.end.row=At.row,Tt.stop()});var yt,pt=new at(-1,0,-1,1/0),wt=new at(-1,0,-1,1/0);wt.id=dt.session.addMarker(wt,"ace_active-line","fullLine"),dt.setSelectOnHover=function(Tt){Tt?pt.id&&(dt.session.removeMarker(pt.id),pt.id=null):pt.id=dt.session.addMarker(pt,"ace_line-hover","fullLine")},dt.setSelectOnHover(!1),dt.on("mousemove",function(Tt){if(!yt){yt=Tt;return}if(!(yt.x==Tt.x&&yt.y==Tt.y)){yt=Tt,yt.scrollTop=dt.renderer.scrollTop,dt.isMouseOver=!0;var At=yt.getDocumentPosition().row;pt.start.row!=At&&(pt.id||dt.setRow(At),Ct(At))}}),dt.renderer.on("beforeRender",function(){if(yt&&pt.start.row!=-1){yt.$pos=null;var Tt=yt.getDocumentPosition().row;pt.id||dt.setRow(Tt),Ct(Tt,!0)}}),dt.renderer.on("afterRender",function(){var Tt=dt.getRow(),At=dt.renderer.$textLayer,It=At.element.childNodes[Tt-At.config.firstRow],Ot=document.activeElement;if(It!==dt.selectedNode&&dt.selectedNode&&(j.removeCssClass(dt.selectedNode,"ace_selected"),Ot.removeAttribute("aria-activedescendant"),dt.selectedNode.removeAttribute(ct),dt.selectedNode.removeAttribute("id")),dt.selectedNode=It,It){j.addCssClass(It,"ace_selected");var Mt=et(Tt);It.id=Mt,At.element.setAttribute("aria-activedescendant",Mt),Ot.setAttribute("aria-activedescendant",Mt),It.setAttribute("role",lt),It.setAttribute("aria-roledescription",_("item")),It.setAttribute("aria-label",dt.getData(Tt).caption||dt.getData(Tt).value),It.setAttribute("aria-setsize",dt.data.length),It.setAttribute("aria-posinset",Tt+1),It.setAttribute("aria-describedby","doc-tooltip"),It.setAttribute(ct,"true")}});var Et=function(){Ct(-1)},Ct=function(Tt,At){Tt!==pt.start.row&&(pt.start.row=pt.end.row=Tt,At||dt.session._emit("changeBackMarker"),dt._emit("changeHoverMarker"))};dt.getHoveredRow=function(){return pt.start.row},rt.addListener(dt.container,"mouseout",function(){dt.isMouseOver=!1,Et()}),dt.on("hide",Et),dt.on("changeSelection",Et),dt.session.doc.getLength=function(){return dt.data.length},dt.session.doc.getLine=function(Tt){var At=dt.data[Tt];return typeof At=="string"?At:At&&At.value||""};var kt=dt.session.bgTokenizer;return kt.$tokenizeRow=function(Tt){var At=dt.data[Tt],It=[];if(!At)return It;typeof At=="string"&&(At={value:At});var Ot=At.caption||At.value||At.name;function Mt(Qt,cr){Qt&&It.push({type:(At.className||"")+(cr||""),value:Qt})}for(var Dt=Ot.toLowerCase(),Bt=(dt.filterText||"").toLowerCase(),qt=0,Wt=0,Vt=0;Vt<=Bt.length;Vt++)if(Vt!=Wt&&(At.matchMask&1<<Vt||Vt==Bt.length)){var Ht=Bt.slice(Wt,Vt);Wt=Vt;var Jt=Dt.indexOf(Ht,qt);if(Jt==-1)continue;Mt(Ot.slice(qt,Jt),""),qt=Jt+Ht.length,Mt(Ot.slice(Jt,qt),"completion-highlight")}return Mt(Ot.slice(qt,Ot.length),""),It.push({type:"completion-spacer",value:" "}),At.meta&&It.push({type:"completion-meta",value:At.meta}),At.message&&It.push({type:"completion-message",value:At.message}),It},kt.$updateOnChange=St,kt.start=St,dt.session.$computeWidth=function(){return this.screenWidth=0},dt.isOpen=!1,dt.isTopdown=!1,dt.autoSelect=!0,dt.filterText="",dt.isMouseOver=!1,dt.data=[],dt.setData=function(Tt,At){dt.filterText=At||"",dt.setValue(it.stringRepeat(`
`,Tt.length),-1),dt.data=Tt||[],dt.setRow(0)},dt.getData=function(Tt){return dt.data[Tt]},dt.getRow=function(){return wt.start.row},dt.setRow=function(Tt){Tt=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,Tt)),wt.start.row!=Tt&&(dt.selection.clearSelection(),wt.start.row=wt.end.row=Tt||0,dt.session._emit("changeBackMarker"),dt.moveCursorTo(Tt||0,0),dt.isOpen&&dt._signal("select"))},dt.on("changeSelection",function(){dt.isOpen&&dt.setRow(dt.selection.lead.row),dt.renderer.scrollCursorIntoView()}),dt.hide=function(){this.container.style.display="none",dt.anchorPos=null,dt.anchor=null,dt.isOpen&&(dt.isOpen=!1,this._signal("hide"))},dt.tryShow=function(Tt,At,It,Ot){if(!Ot&&dt.isOpen&&dt.anchorPos&&dt.anchor&&dt.anchorPos.top===Tt.top&&dt.anchorPos.left===Tt.left&&dt.anchor===It)return!0;var Mt=this.container,Dt=window.innerHeight,Bt=window.innerWidth,qt=this.renderer,Wt=qt.$maxLines*At*1.4,Vt={top:0,bottom:0,left:0},Ht=Dt-Tt.top-3*this.$borderSize-At,Jt=Tt.top-3*this.$borderSize;It||(Jt<=Ht||Ht>=Wt?It="bottom":It="top"),It==="top"?(Vt.bottom=Tt.top-this.$borderSize,Vt.top=Vt.bottom-Wt):It==="bottom"&&(Vt.top=Tt.top+At+this.$borderSize,Vt.bottom=Vt.top+Wt);var Qt=Vt.top>=0&&Vt.bottom<=Dt;if(!Ot&&!Qt)return!1;Qt?qt.$maxPixelHeight=null:It==="top"?qt.$maxPixelHeight=Jt:qt.$maxPixelHeight=Ht,It==="top"?(Mt.style.top="",Mt.style.bottom=Dt-Vt.bottom+"px",dt.isTopdown=!1):(Mt.style.top=Vt.top+"px",Mt.style.bottom="",dt.isTopdown=!0),Mt.style.display="";var cr=Tt.left;return cr+Mt.offsetWidth>Bt&&(cr=Bt-Mt.offsetWidth),Mt.style.left=cr+"px",Mt.style.right="",dt.isOpen||(dt.isOpen=!0,this._signal("show"),yt=null),dt.anchorPos=Tt,dt.anchor=It,!0},dt.show=function(Tt,At,It){this.tryShow(Tt,At,It?"bottom":void 0,!0)},dt.goTo=function(Tt){var At=this.getRow(),It=this.session.getLength()-1;switch(Tt){case"up":At=At<=0?It:At-1;break;case"down":At=At>=It?-1:At+1;break;case"start":At=0;break;case"end":At=It;break}this.setRow(At)},dt.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},dt.$imageSize=0,dt.$borderSize=1,dt}return mt}();j.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),a.AcePopup=ut,a.$singleLineEditor=ht,a.getAriaId=et}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(o,a,nt){var tt=function(){function ot(at){this.editor=at,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return ot.prototype.setScreenReaderContent=function(at){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var it=this.popup.getRow(),j=this.popup.renderer.$textLayer,_=j.element.childNodes[it-j.config.firstRow];if(_){for(var $="doc-tooltip ",et=0;et<this._lines.length;et++)$+="ace-inline-screenreader-line-".concat(et," ");_.setAttribute("aria-describedby",$)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=at.split(/\r\n|\r|\n/);var rt=this.createCodeBlock();this.screenReaderDiv.appendChild(rt)},ot.prototype.destroy=function(){this.screenReaderDiv.remove()},ot.prototype.createCodeBlock=function(){var at=document.createElement("pre");at.setAttribute("id","ace-inline-screenreader");for(var rt=0;rt<this._lines.length;rt++){var it=document.createElement("code");it.setAttribute("id","ace-inline-screenreader-line-".concat(rt));var j=document.createTextNode(this._lines[rt]);it.appendChild(j),at.appendChild(it)}return at},ot}();a.AceInlineScreenReader=tt}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(o,a,nt){var tt=o("../snippets").snippetManager,ot=o("./inline_screenreader").AceInlineScreenReader,at=function(){function rt(){this.editor=null}return rt.prototype.show=function(it,j,_){if(_=_||"",it&&this.editor&&this.editor!==it&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!it||!j)return!1;this.inlineScreenReader||(this.inlineScreenReader=new ot(it));var $=j.snippet?tt.getDisplayTextForSnippet(it,j.snippet):j.value;return j.hideInlinePreview||!$||!$.startsWith(_)?!1:(this.editor=it,this.inlineScreenReader.setScreenReaderContent($),$=$.slice(_.length),$===""?it.removeGhostText():it.setGhostText($),!0)},rt.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},rt.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},rt.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},rt}();a.AceInline=at}),ace.define("ace/autocomplete/util",["require","exports","module"],function(o,a,nt){a.parForEach=function(ot,at,rt){var it=0,j=ot.length;j===0&&rt();for(var _=0;_<j;_++)at(ot[_],function($,et){it++,it===j&&rt($,et)})};var tt=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;a.retrievePrecedingIdentifier=function(ot,at,rt){rt=rt||tt;for(var it=[],j=at-1;j>=0&&rt.test(ot[j]);j--)it.push(ot[j]);return it.reverse().join("")},a.retrieveFollowingIdentifier=function(ot,at,rt){rt=rt||tt;for(var it=[],j=at;j<ot.length&&rt.test(ot[j]);j++)it.push(ot[j]);return it},a.getCompletionPrefix=function(ot){var at=ot.getCursorPosition(),rt=ot.session.getLine(at.row),it;return ot.completers.forEach((function(j){j.identifierRegexps&&j.identifierRegexps.forEach((function(_){!it&&_&&(it=this.retrievePrecedingIdentifier(rt,at.column,_))}).bind(this))}).bind(this)),it||this.retrievePrecedingIdentifier(rt,at.column)},a.triggerAutocomplete=function(ot){var at=ot.getCursorPosition(),rt=ot.session.getLine(at.row),it=at.column===0?0:at.column-1,j=rt[it];return ot.completers.some(function(_){if(_.triggerCharacters&&Array.isArray(_.triggerCharacters))return _.triggerCharacters.includes(j)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(o,a,nt){var tt=o("./keyboard/hash_handler").HashHandler,ot=o("./autocomplete/popup").AcePopup,at=o("./autocomplete/inline").AceInline,rt=o("./autocomplete/popup").getAriaId,it=o("./autocomplete/util"),j=o("./lib/lang"),_=o("./lib/dom"),$=o("./snippets").snippetManager,et=o("./config"),st=o("./lib/event"),lt=o("./lib/scroll").preventParentScroll,ct=function(gt,vt){vt.completer&&vt.completer.destroy()},ht=function(){function gt(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new tt,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=j.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=j.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=j.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=j.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=j.delayedCall((function(){var vt=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!vt||this.editor.completers.length===0||(this.completions=new mt(gt.completionsForLoading),this.openPopup(this.editor,vt.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(gt,"completionsForLoading",{get:function(){return[{caption:et.nls("Loading..."),value:""}]},enumerable:!1,configurable:!0}),gt.prototype.$init=function(){return this.popup=new ot(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(vt){this.insertMatch(),vt.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),st.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},gt.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new at,this.inlineRenderer},gt.prototype.getPopup=function(){return this.popup||this.$init()},gt.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},gt.prototype.$seen=function(vt){!this.hasSeen.has(vt)&&vt&&vt.completer&&vt.completer.onSeen&&typeof vt.completer.onSeen=="function"&&(vt.completer.onSeen(this.editor,vt),this.hasSeen.add(vt))},gt.prototype.$onPopupChange=function(vt){if(this.inlineRenderer&&this.inlineEnabled){var dt=vt?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(dt),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},gt.prototype.$updateGhostText=function(vt){var dt=this.base.row,St=this.base.column,yt=this.editor.getCursorPosition().column,pt=this.editor.session.getLine(dt).slice(St,yt);this.inlineRenderer.show(this.editor,vt,pt)?this.$seen(vt):this.inlineRenderer.hide()},gt.prototype.$onPopupRender=function(){var vt=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var dt=this.popup.getFirstVisibleRow();dt<=this.popup.getLastVisibleRow();dt++){var St=this.popup.getData(dt);St&&(!vt||St.hideInlinePreview)&&this.$seen(St)}},gt.prototype.$onPopupShow=function(vt){this.$onPopupChange(vt),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},gt.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var vt=this.editor.container.parentNode,dt=[];vt;)dt.push(vt),vt.addEventListener("scroll",this.onLayoutChange,{passive:!0}),vt=vt.parentNode;this.$elements=dt}},gt.prototype.unObserveLayoutChanges=function(){var vt=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(dt){dt.removeEventListener("scroll",vt.onLayoutChange,{passive:!0})}),this.$elements=null},gt.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},gt.prototype.$updatePopupPosition=function(){var vt=this.editor,dt=vt.renderer,St=dt.layerConfig.lineHeight,yt=dt.$cursorLayer.getPixelPosition(this.base,!0);yt.left-=this.popup.getTextLeftOffset();var pt=vt.container.getBoundingClientRect();yt.top+=pt.top-dt.layerConfig.offset,yt.left+=pt.left-vt.renderer.scrollLeft,yt.left+=dt.gutterWidth;var wt={top:yt.top,left:yt.left};dt.$ghostText&&dt.$ghostTextWidget&&this.base.row===dt.$ghostText.position.row&&(wt.top+=dt.$ghostTextWidget.el.offsetHeight);var Et=vt.container.getBoundingClientRect().bottom-St,Ct=Et<wt.top?{top:Et,left:wt.left}:wt;this.popup.tryShow(Ct,St,"bottom")||this.popup.tryShow(yt,St,"top")||this.popup.show(yt,St)},gt.prototype.openPopup=function(vt,dt,St){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var yt=this.popup.getRow(),pt=this.popup.data[yt];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:rt(this.popup.getRow()),inline:this.inlineEnabled}),vt.keyBinding.addKeyboardHandler(this.keyboardHandler);var wt;this.stickySelection&&(wt=this.popup.data.indexOf(pt)),(!wt||wt===-1)&&(wt=0),this.popup.setRow(this.autoSelect?wt:-1),wt===yt&&pt!==this.completions.filtered[wt]&&this.$onPopupChange();var Et=this.inlineRenderer&&this.inlineEnabled;if(wt===yt&&Et){var Ct=this.popup.getData(this.popup.getRow());this.$updateGhostText(Ct)}St?St&&!dt&&this.detach():(this.popup.setTheme(vt.getTheme()),this.popup.setFontSize(vt.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},gt.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},gt.prototype.changeListener=function(vt){var dt=this.editor.selection.lead;(dt.row!=this.base.row||dt.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},gt.prototype.blurListener=function(vt){var dt=document.activeElement,St=this.editor.textInput.getElement(),yt=vt.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(vt.relatedTarget),pt=this.popup&&this.popup.container;dt!=St&&dt.parentNode!=pt&&!yt&&dt!=this.tooltipNode&&vt.relatedTarget!=St&&this.detach()},gt.prototype.mousedownListener=function(vt){this.detach()},gt.prototype.mousewheelListener=function(vt){this.popup.isMouseOver||this.detach()},gt.prototype.mouseOutListener=function(vt){this.popup.isOpen&&this.$updatePopupPosition()},gt.prototype.goTo=function(vt){this.popup.goTo(vt)},gt.prototype.insertMatch=function(vt,dt){if(vt||(vt=this.popup.getData(this.popup.getRow())),!vt)return!1;if(vt.value==="")return this.detach();var St=this.completions,yt=this.getCompletionProvider().insertMatch(this.editor,vt,St.filterText,dt);return this.completions==St&&this.detach(),yt},gt.prototype.showPopup=function(vt,dt){this.editor&&this.detach(),this.activated=!0,this.editor=vt,vt.completer!=this&&(vt.completer&&vt.completer.detach(),vt.completer=this),vt.on("changeSelection",this.changeListener),vt.on("blur",this.blurListener),vt.on("mousedown",this.mousedownListener),vt.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,dt)},gt.prototype.getCompletionProvider=function(vt){return this.completionProvider||(this.completionProvider=new ut(vt)),this.completionProvider},gt.prototype.gatherCompletions=function(vt,dt){return this.getCompletionProvider().gatherCompletions(vt,dt)},gt.prototype.updateCompletions=function(vt,dt){if(vt&&this.base&&this.completions){var yt=this.editor.getCursorPosition(),pt=this.editor.session.getTextRange({start:this.base,end:yt});if(pt==this.completions.filterText)return;if(this.completions.setFilter(pt),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==pt&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,pt,vt);return}if(dt&&dt.matches){var yt=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(yt.row,yt.column),this.base.$insertRight=!0,this.completions=new mt(dt.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",vt)}var St=this.editor.getSession(),yt=this.editor.getCursorPosition(),pt=it.getCompletionPrefix(this.editor);this.base=St.doc.createAnchor(yt.row,yt.column-pt.length),this.base.$insertRight=!0;var wt={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:pt,pos:yt}).provideCompletions(this.editor,wt,(function(Et,Ct,kt){var Tt=Ct.filtered,At=it.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),kt){if(!Tt.length){var It=!this.autoShown&&this.emptyMessage;if(typeof It=="function"&&(It=this.emptyMessage(At)),It){var Ot=[{caption:It,value:""}];this.completions=new mt(Ot),this.openPopup(this.editor,At,vt),this.popup.renderer.setStyle("ace_loading",!1);return}return this.detach()}if(Tt.length==1&&Tt[0].value==At&&!Tt[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&Tt.length==1)return this.insertMatch(Tt[0])}this.completions=!kt&&this.showLoadingState?new mt(gt.completionsForLoading.concat(Tt),Ct.filterText):Ct,this.openPopup(this.editor,At,vt),this.popup.renderer.setStyle("ace_loading",!kt)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},gt.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},gt.prototype.updateDocTooltip=function(){var vt=this.popup,dt=this.completions.filtered,St=dt&&(dt[vt.getHoveredRow()]||dt[vt.getRow()]),yt=null;if(!St||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var pt=this.editor.completers.length,wt=0;wt<pt;wt++){var Et=this.editor.completers[wt];if(Et.getDocTooltip&&St.completerId===Et.id){yt=Et.getDocTooltip(St);break}}if(!yt&&typeof St!="string"&&(yt=St),typeof yt=="string"&&(yt={docText:yt}),!yt||!(yt.docHTML||yt.docText))return this.hideDocTooltip();this.showDocTooltip(yt)},gt.prototype.showDocTooltip=function(vt){this.tooltipNode||(this.tooltipNode=_.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",lt));var dt=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(dt.isDark?"ace_dark ":"")+(dt.cssClass||"");var St=this.tooltipNode;vt.docHTML?St.innerHTML=vt.docHTML:vt.docText&&(St.textContent=vt.docText),St.parentNode||this.popup.container.appendChild(this.tooltipNode);var yt=this.popup,pt=yt.container.getBoundingClientRect();St.style.top=yt.container.style.top,St.style.bottom=yt.container.style.bottom,St.style.display="block",window.innerWidth-pt.right<320?pt.left<320?yt.isTopdown?(St.style.top=pt.bottom+"px",St.style.left=pt.left+"px",St.style.right="",St.style.bottom=""):(St.style.top=yt.container.offsetTop-St.offsetHeight+"px",St.style.left=pt.left+"px",St.style.right="",St.style.bottom=""):(St.style.right=window.innerWidth-pt.left+"px",St.style.left=""):(St.style.left=pt.right+1+"px",St.style.right="")},gt.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var vt=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==vt&&this.editor.focus(),this.tooltipNode=null,vt.parentNode&&vt.parentNode.removeChild(vt)}},gt.prototype.onTooltipClick=function(vt){for(var dt=vt.target;dt&&dt!=this.tooltipNode;){if(dt.nodeName=="A"&&dt.href){dt.rel="noreferrer",dt.target="_blank";break}dt=dt.parentNode}},gt.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var vt=this.popup.container;vt&&vt.parentNode&&vt.parentNode.removeChild(vt)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",ct),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},gt}();ht.prototype.commands={Up:function(gt){gt.completer.goTo("up")},Down:function(gt){gt.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(gt){gt.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(gt){gt.completer.goTo("end")},Esc:function(gt){gt.completer.detach()},Return:function(gt){return gt.completer.insertMatch()},"Shift-Return":function(gt){gt.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(gt){var vt=gt.completer.insertMatch();if(!vt&&!gt.tabstopManager)gt.completer.goTo("down");else return vt},PageUp:function(gt){gt.completer.popup.gotoPageUp()},PageDown:function(gt){gt.completer.popup.gotoPageDown()}},ht.for=function(gt){return gt.completer instanceof ht||(gt.completer&&(gt.completer.destroy(),gt.completer=null),et.get("sharedPopups")?(ht.$sharedInstance||(ht.$sharedInstance=new ht),gt.completer=ht.$sharedInstance):(gt.completer=new ht,gt.once("destroy",ct))),gt.completer},ht.startCommand={name:"startAutocomplete",exec:function(gt,vt){var dt=ht.for(gt);dt.autoInsert=!1,dt.autoSelect=!0,dt.autoShown=!1,dt.showPopup(gt,vt),dt.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var ut=function(){function gt(vt){this.initialPosition=vt,this.active=!0}return gt.prototype.insertByIndex=function(vt,dt,St){return!this.completions||!this.completions.filtered?!1:this.insertMatch(vt,this.completions.filtered[dt],St)},gt.prototype.insertMatch=function(vt,dt,St){if(!dt)return!1;if(vt.startOperation({command:{name:"insertMatch"}}),dt.completer&&dt.completer.insertMatch)dt.completer.insertMatch(vt,dt);else{if(!this.completions)return!1;var yt=this.completions.filterText.length,pt=0;if(dt.range&&dt.range.start.row===dt.range.end.row&&(yt-=this.initialPosition.prefix.length,yt+=this.initialPosition.pos.column-dt.range.start.column,pt+=dt.range.end.column-this.initialPosition.pos.column),yt||pt){var wt;vt.selection.getAllRanges?wt=vt.selection.getAllRanges():wt=[vt.getSelectionRange()];for(var Et=0,Ct;Ct=wt[Et];Et++)Ct.start.column-=yt,Ct.end.column+=pt,vt.session.remove(Ct)}dt.snippet?$.insertSnippet(vt,dt.snippet):this.$insertString(vt,dt),dt.completer&&dt.completer.onInsert&&typeof dt.completer.onInsert=="function"&&dt.completer.onInsert(vt,dt),dt.command&&dt.command==="startAutocomplete"&&vt.execCommand(dt.command)}return vt.endOperation(),!0},gt.prototype.$insertString=function(vt,dt){var St=dt.value||dt;vt.execCommand("insertstring",St)},gt.prototype.gatherCompletions=function(vt,dt){var St=vt.getSession(),yt=vt.getCursorPosition(),pt=it.getCompletionPrefix(vt),wt=[];this.completers=vt.completers;var Et=vt.completers.length;return vt.completers.forEach(function(Ct,kt){Ct.getCompletions(vt,St,yt,pt,function(Tt,At){Ct.hideInlinePreview&&(At=At.map(function(It){return Object.assign(It,{hideInlinePreview:Ct.hideInlinePreview})})),!Tt&&At&&(wt=wt.concat(At)),dt(null,{prefix:it.getCompletionPrefix(vt),matches:wt,finished:--Et===0})})}),!0},gt.prototype.provideCompletions=function(vt,dt,St){var yt=(function(Ct){var kt=Ct.prefix,Tt=Ct.matches;this.completions=new mt(Tt),dt.exactMatch&&(this.completions.exactMatch=!0),dt.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(kt),(Ct.finished||this.completions.filtered.length)&&St(null,this.completions,Ct.finished)}).bind(this),pt=!0,wt=null;if(this.gatherCompletions(vt,(function(Ct,kt){if(this.active){Ct&&(St(Ct,[],!0),this.detach());var Tt=kt.prefix;if(Tt.indexOf(kt.prefix)===0){if(pt){wt=kt;return}yt(kt)}}}).bind(this)),pt=!1,wt){var Et=wt;wt=null,yt(Et)}},gt.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(vt){typeof vt.cancel=="function"&&vt.cancel()})},gt}(),mt=function(){function gt(vt,dt){this.all=vt,this.filtered=vt,this.filterText=dt||"",this.exactMatch=!1,this.ignoreCaption=!1}return gt.prototype.setFilter=function(vt){if(vt.length>this.filterText&&vt.lastIndexOf(this.filterText,0)===0)var dt=this.filtered;else var dt=this.all;this.filterText=vt,dt=this.filterCompletions(dt,this.filterText),dt=dt.sort(function(yt,pt){return pt.exactMatch-yt.exactMatch||pt.$score-yt.$score||(yt.caption||yt.value).localeCompare(pt.caption||pt.value)});var St=null;dt=dt.filter(function(yt){var pt=yt.snippet||yt.caption||yt.value;return pt===St?!1:(St=pt,!0)}),this.filtered=dt},gt.prototype.filterCompletions=function(vt,dt){var St=[],yt=dt.toUpperCase(),pt=dt.toLowerCase();e:for(var wt=0,Et;Et=vt[wt];wt++){var Ct=!this.ignoreCaption&&Et.caption||Et.value||Et.snippet;if(Ct){var kt=-1,Tt=0,At=0,It,Ot;if(this.exactMatch){if(dt!==Ct.substr(0,dt.length))continue e}else{var Mt=Ct.toLowerCase().indexOf(pt);if(Mt>-1)At=Mt;else for(var Dt=0;Dt<dt.length;Dt++){var Bt=Ct.indexOf(pt[Dt],kt+1),qt=Ct.indexOf(yt[Dt],kt+1);if(It=Bt>=0&&(qt<0||Bt<qt)?Bt:qt,It<0)continue e;Ot=It-kt-1,Ot>0&&(kt===-1&&(At+=10),At+=Ot,Tt=Tt|1<<Dt),kt=It}}Et.matchMask=Tt,Et.exactMatch=At?0:1,Et.$score=(Et.score||0)-At,St.push(Et)}}return St},gt}();a.Autocomplete=ht,a.CompletionProvider=ut,a.FilteredList=mt}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(o,a,nt){var tt=o("../range").Range,ot=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function at(it,j){var _=it.getTextRange(tt.fromPoints({row:0,column:0},j));return _.split(ot).length-1}function rt(it,j){var _=at(it,j),$=it.getValue().split(ot),et=Object.create(null),st=$[_];return $.forEach(function(lt,ct){if(!(!lt||lt===st)){var ht=Math.abs(_-ct),ut=$.length-ht;et[lt]?et[lt]=Math.max(ut,et[lt]):et[lt]=ut}}),et}a.getCompletions=function(it,j,_,$,et){var st=rt(j,_),lt=Object.keys(st);et(null,lt.map(function(ct){return{caption:ct,value:ct,score:st[ct],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(o,a,nt){var tt=o("../snippets").snippetManager,ot=o("../autocomplete").Autocomplete,at=o("../config"),rt=o("../lib/lang"),it=o("../autocomplete/util"),j=o("../autocomplete/text_completer"),_={getCompletions:function(yt,pt,wt,Et,Ct){if(pt.$mode.completer)return pt.$mode.completer.getCompletions(yt,pt,wt,Et,Ct);var kt=yt.session.getState(wt.row),Tt=pt.$mode.getCompletions(kt,pt,wt,Et);Tt=Tt.map(function(At){return At.completerId=_.id,At}),Ct(null,Tt)},id:"keywordCompleter"},$=function(yt){var pt={};return yt.replace(/\${(\d+)(:(.*?))?}/g,function(wt,Et,Ct,kt){return pt[Et]=kt||""}).replace(/\$(\d+?)/g,function(wt,Et){return pt[Et]})},et={getCompletions:function(yt,pt,wt,Et,Ct){var kt=[],Tt=pt.getTokenAt(wt.row,wt.column);Tt&&Tt.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?kt.push("html-tag"):kt=tt.getActiveScopes(yt);var At=tt.snippetMap,It=[];kt.forEach(function(Ot){for(var Mt=At[Ot]||[],Dt=Mt.length;Dt--;){var Bt=Mt[Dt],qt=Bt.name||Bt.tabTrigger;qt&&It.push({caption:qt,snippet:Bt.content,meta:Bt.tabTrigger&&!Bt.name?Bt.tabTrigger+" ":"snippet",completerId:et.id})}},this),Ct(null,It)},getDocTooltip:function(yt){yt.snippet&&!yt.docHTML&&(yt.docHTML=["<b>",rt.escapeHTML(yt.caption),"</b>","<hr></hr>",rt.escapeHTML($(yt.snippet))].join(""))},id:"snippetCompleter"},st=[et,j,_];a.setCompleters=function(yt){st.length=0,yt&&st.push.apply(st,yt)},a.addCompleter=function(yt){st.push(yt)},a.textCompleter=j,a.keyWordCompleter=_,a.snippetCompleter=et;var lt={name:"expandSnippet",exec:function(yt){return tt.expandWithTab(yt)},bindKey:"Tab"},ct=function(yt,pt){ht(pt.session.$mode)},ht=function(yt){typeof yt=="string"&&(yt=at.$modes[yt]),yt&&(tt.files||(tt.files={}),ut(yt.$id,yt.snippetFileId),yt.modes&&yt.modes.forEach(ht))},ut=function(yt,pt){!pt||!yt||tt.files[yt]||(tt.files[yt]={},at.loadModule(pt,function(wt){wt&&(tt.files[yt]=wt,!wt.snippets&&wt.snippetText&&(wt.snippets=tt.parseSnippetFile(wt.snippetText)),tt.register(wt.snippets||[],wt.scope),wt.includeScopes&&(tt.snippetMap[wt.scope].includeScopes=wt.includeScopes,wt.includeScopes.forEach(function(Et){ht("ace/mode/"+Et)})))}))},mt=function(yt){var pt=yt.editor,wt=pt.completer&&pt.completer.activated;if(yt.command.name==="backspace")wt&&!it.getCompletionPrefix(pt)&&pt.completer.detach();else if(yt.command.name==="insertstring"&&!wt){gt=yt;var Et=yt.editor.$liveAutocompletionDelay;Et?vt.delay(Et):dt(yt)}},gt,vt=rt.delayedCall(function(){dt(gt)},0),dt=function(yt){var pt=yt.editor,wt=it.getCompletionPrefix(pt),Et=it.triggerAutocomplete(pt);if(wt&&wt.length>=pt.$liveAutocompletionThreshold||Et){var Ct=ot.for(pt);Ct.autoShown=!0,Ct.showPopup(pt)}},St=o("../editor").Editor;o("../config").defineOptions(St.prototype,"editor",{enableBasicAutocompletion:{set:function(yt){yt?(this.completers||(this.completers=Array.isArray(yt)?yt:st),this.commands.addCommand(ot.startCommand)):this.commands.removeCommand(ot.startCommand)},value:!1},enableLiveAutocompletion:{set:function(yt){yt?(this.completers||(this.completers=Array.isArray(yt)?yt:st),this.commands.on("afterExec",mt)):this.commands.off("afterExec",mt)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(yt){yt?(this.commands.addCommand(lt),this.on("changeMode",ct),ct(null,this)):(this.commands.removeCommand(lt),this.off("changeMode",ct))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(o){i&&(i.exports=o)})}()})(extLanguage_tools);var modeJavascript={exports:{}};(function(i,s){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(o,a,nt){var tt=o("../lib/oop"),ot=o("./text_highlight_rules").TextHighlightRules,at=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},at.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};tt.inherits(at,ot),at.getTagRule=function(rt){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},at.getStartRule=function(rt){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:rt}},at.getEndRule=function(rt){return{token:"comment.doc",regex:"\\*\\/",next:rt}},a.JsDocCommentHighlightRules=at}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(o,a,nt){var tt=o("../lib/oop"),ot=o("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,at=o("./text_highlight_rules").TextHighlightRules,rt="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",it=function($){var et=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),st="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",lt="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[ot.getStartRule("doc-start"),_("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+rt+")(\\.)(prototype)(\\.)("+rt+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+rt+")(\\.)("+rt+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+rt+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+rt+")(\\.)("+rt+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+rt+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+rt+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+st+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:et,regex:rt},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+rt+")(\\.)("+rt+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:rt},{regex:"",token:"empty",next:"no_regex"}],start:[ot.getStartRule("doc-start"),_("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[_("function_arguments"),{token:"variable.parameter",regex:rt},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:lt},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:lt},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!$||!$.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(ct,ht,ut){if(this.next=ct=="{"?this.nextState:"",ct=="{"&&ut.length)ut.unshift("start",ht);else if(ct=="}"&&ut.length&&(ut.shift(),this.next=ut.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return ct=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:lt},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+rt+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!$||$.jsx!=!1)&&j.call(this)),this.embedRules(ot,"doc-",[ot.getEndRule("no_regex")]),this.normalizeRules()};tt.inherits(it,at);function j(){var $=rt.replace("\\d","\\d\\-"),et={onMatch:function(lt,ct,ht){var ut=lt.charAt(1)=="/"?2:1;return ut==1?(ct!=this.nextState?ht.unshift(this.next,this.nextState,0):ht.unshift(this.next),ht[2]++):ut==2&&ct==this.nextState&&(ht[1]--,(!ht[1]||ht[1]<0)&&(ht.shift(),ht.shift())),[{type:"meta.tag.punctuation."+(ut==1?"":"end-")+"tag-open.xml",value:lt.slice(0,ut)},{type:"meta.tag.tag-name.xml",value:lt.substr(ut)}]},regex:"</?"+$,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(et);var st={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[st,et,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(lt,ct,ht){return ct==ht[0]&&ht.shift(),lt.length==2&&(ht[0]==this.nextState&&ht[1]--,(!ht[1]||ht[1]<0)&&ht.splice(0,2)),this.next=ht[0]||"start",[{type:this.token,value:lt}]},nextState:"jsx"},st,_("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:$},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},et],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function _($){return[{token:"comment",regex:/\/\*/,next:[ot.getTagRule(),{token:"comment",regex:"\\*\\/",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[ot.getTagRule(),{token:"comment",regex:"$|^",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}a.JavaScriptHighlightRules=it}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(o,a,nt){var tt=o("../range").Range,ot=function(){};(function(){this.checkOutdent=function(at,rt){return/^\s+$/.test(at)?/^\s*\}/.test(rt):!1},this.autoOutdent=function(at,rt){var it=at.getLine(rt),j=it.match(/^(\s*\})/);if(!j)return 0;var _=j[1].length,$=at.findMatchingBracket({row:rt,column:_});if(!$||$.row==rt)return 0;var et=this.$getIndent(at.getLine($.row));at.replace(new tt(rt,0,rt,_-1),et)},this.$getIndent=function(at){return at.match(/^\s*/)[0]}}).call(ot.prototype),a.MatchingBraceOutdent=ot}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(o,a,nt){var tt=o("../../lib/oop"),ot=o("../../range").Range,at=o("./fold_mode").FoldMode,rt=a.FoldMode=function(it){it&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+it.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+it.end)))};tt.inherits(rt,at),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(it,j,_){var $=it.getLine(_);if(this.singleLineBlockCommentRe.test($)&&!this.startRegionRe.test($)&&!this.tripleStarBlockCommentRe.test($))return"";var et=this._getFoldWidgetBase(it,j,_);return!et&&this.startRegionRe.test($)?"start":et},this.getFoldWidgetRange=function(it,j,_,$){var et=it.getLine(_);if(this.startRegionRe.test(et))return this.getCommentRegionBlock(it,et,_);var ct=et.match(this.foldingStartMarker);if(ct){var st=ct.index;if(ct[1])return this.openingBracketBlock(it,ct[1],_,st);var lt=it.getCommentFoldRange(_,st+ct[0].length,1);return lt&&!lt.isMultiLine()&&($?lt=this.getSectionRange(it,_):j!="all"&&(lt=null)),lt}if(j!=="markbegin"){var ct=et.match(this.foldingStopMarker);if(ct){var st=ct.index+ct[0].length;return ct[1]?this.closingBracketBlock(it,ct[1],_,st):it.getCommentFoldRange(_,st,-1)}}},this.getSectionRange=function(it,j){var _=it.getLine(j),$=_.search(/\S/),et=j,st=_.length;j=j+1;for(var lt=j,ct=it.getLength();++j<ct;){_=it.getLine(j);var ht=_.search(/\S/);if(ht!==-1){if($>ht)break;var ut=this.getFoldWidgetRange(it,"all",j);if(ut){if(ut.start.row<=et)break;if(ut.isMultiLine())j=ut.end.row;else if($==ht)break}lt=j}}return new ot(et,st,lt,it.getLine(lt).length)},this.getCommentRegionBlock=function(it,j,_){for(var $=j.search(/\s*$/),et=it.getLength(),st=_,lt=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,ct=1;++_<et;){j=it.getLine(_);var ht=lt.exec(j);if(ht&&(ht[1]?ct--:ct++,!ct))break}var ut=_;if(ut>st)return new ot(st,$,ut,j.length)}}).call(rt.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(o,a,nt){var tt=o("../lib/oop"),ot=o("./text").Mode,at=o("./javascript_highlight_rules").JavaScriptHighlightRules,rt=o("./matching_brace_outdent").MatchingBraceOutdent,it=o("../worker/worker_client").WorkerClient,j=o("./behaviour/cstyle").CstyleBehaviour,_=o("./folding/cstyle").FoldMode,$=function(){this.HighlightRules=at,this.$outdent=new rt,this.$behaviour=new j,this.foldingRules=new _};tt.inherits($,ot),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(et,st,lt){var ct=this.$getIndent(st),ht=this.getTokenizer().getLineTokens(st,et),ut=ht.tokens,mt=ht.state;if(ut.length&&ut[ut.length-1].type=="comment")return ct;if(et=="start"||et=="no_regex"){var gt=st.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);gt&&(ct+=lt)}else if(et=="doc-start"){if(mt=="start"||mt=="no_regex")return"";var gt=st.match(/^\s*(\/?)\*/);gt&&(gt[1]&&(ct+=" "),ct+="* ")}return ct},this.checkOutdent=function(et,st,lt){return this.$outdent.checkOutdent(st,lt)},this.autoOutdent=function(et,st,lt){this.$outdent.autoOutdent(st,lt)},this.createWorker=function(et){var st=new it(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return st.attachToDocument(et.getDocument()),st.on("annotate",function(lt){et.setAnnotations(lt.data)}),st.on("terminate",function(){et.clearAnnotations()}),st},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call($.prototype),a.Mode=$}),function(){ace.require(["ace/mode/javascript"],function(o){i&&(i.exports=o)})}()})(modeJavascript);var modePython={exports:{}};(function(i,s){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(o,a,nt){var tt=o("../lib/oop"),ot=o("./text_highlight_rules").TextHighlightRules,at=function(){var rt="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",it="True|False|None|NotImplemented|Ellipsis|__debug__",j="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",_=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":j,"variable.language":"self|cls","constant.language":it,keyword:rt},"identifier"),$="[uU]?",et="[rR]",st="[fF]",lt="(?:[rR][fF]|[fF][rR])",ct="(?:(?:[1-9]\\d*)|(?:0))",ht="(?:0[oO]?[0-7]+)",ut="(?:0[xX][\\dA-Fa-f]+)",mt="(?:0[bB][01]+)",gt="(?:"+ct+"|"+ht+"|"+ut+"|"+mt+")",vt="(?:[eE][+-]?\\d+)",dt="(?:\\.\\d+)",St="(?:\\d+)",yt="(?:(?:"+St+"?"+dt+")|(?:"+St+"\\.))",pt="(?:(?:"+yt+"|"+St+")"+vt+")",wt="(?:"+pt+"|"+yt+")",Et=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:$+'"{3}',next:"qqstring3"},{token:"string",regex:$+'"(?=.)',next:"qqstring"},{token:"string",regex:$+"'{3}",next:"qstring3"},{token:"string",regex:$+"'(?=.)",next:"qstring"},{token:"string",regex:et+'"{3}',next:"rawqqstring3"},{token:"string",regex:et+'"(?=.)',next:"rawqqstring"},{token:"string",regex:et+"'{3}",next:"rawqstring3"},{token:"string",regex:et+"'(?=.)",next:"rawqstring"},{token:"string",regex:st+'"{3}',next:"fqqstring3"},{token:"string",regex:st+'"(?=.)',next:"fqqstring"},{token:"string",regex:st+"'{3}",next:"fqstring3"},{token:"string",regex:st+"'(?=.)",next:"fqstring"},{token:"string",regex:lt+'"{3}',next:"rfqqstring3"},{token:"string",regex:lt+'"(?=.)',next:"rfqqstring"},{token:"string",regex:lt+"'{3}",next:"rfqstring3"},{token:"string",regex:lt+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:Et},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:Et},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:Et},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:Et},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:Et},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:Et},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:Et},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:Et},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+wt+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:wt},{token:"constant.numeric",regex:gt+"[lL]\\b"},{token:"constant.numeric",regex:gt+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:_,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};tt.inherits(at,ot),a.PythonHighlightRules=at}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(o,a,nt){var tt=o("../../lib/oop"),ot=o("./fold_mode").FoldMode,at=a.FoldMode=function(rt){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+rt+")(?:\\s*)(?:#.*)?$")};tt.inherits(at,ot),(function(){this.getFoldWidgetRange=function(rt,it,j){var _=rt.getLine(j),$=_.match(this.foldingStartMarker);if($)return $[1]?this.openingBracketBlock(rt,$[1],j,$.index):$[2]?this.indentationBlock(rt,j,$.index+$[2].length):this.indentationBlock(rt,j)}}).call(at.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(o,a,nt){var tt=o("../lib/oop"),ot=o("./text").Mode,at=o("./python_highlight_rules").PythonHighlightRules,rt=o("./folding/pythonic").FoldMode,it=o("../range").Range,j=function(){this.HighlightRules=at,this.foldingRules=new rt("\\:"),this.$behaviour=this.$defaultBehaviour};tt.inherits(j,ot),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function($,et,st){var lt=this.$getIndent(et),ct=this.getTokenizer().getLineTokens(et,$),ht=ct.tokens;if(ht.length&&ht[ht.length-1].type=="comment")return lt;if($=="start"){var ut=et.match(/^.*[\{\(\[:]\s*$/);ut&&(lt+=st)}return lt};var _={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function($,et,st){if(st!==`\r
`&&st!=="\r"&&st!==`
`)return!1;var lt=this.getTokenizer().getLineTokens(et.trim(),$).tokens;if(!lt)return!1;do var ct=lt.pop();while(ct&&(ct.type=="comment"||ct.type=="text"&&ct.value.match(/^\s+$/)));return ct?ct.type=="keyword"&&_[ct.value]:!1},this.autoOutdent=function($,et,st){st+=1;var lt=this.$getIndent(et.getLine(st)),ct=et.getTabString();lt.slice(-ct.length)==ct&&et.remove(new it(st,lt.length-ct.length,st,lt.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(j.prototype),a.Mode=j}),function(){ace.require(["ace/mode/python"],function(o){i&&(i.exports=o)})}()})(modePython);function theme$1(i,s,o){s.isDark=!0,s.cssClass="ace-source",s.cssText=".ace-source .ace_gutter {                        background: #011e3a;                        color: rgb(128,145,160)                        }                        .ace-source .ace_print-margin {                        width: 1px;                        background: #555555                        }                        .ace-source {                        background-color: #002240;                        color: #FFFFFF                        }                        .ace-source .ace_cursor {                        color: #FFFFFF                        }                        .ace-source .ace_marker-layer .ace_selection {                        background: rgba(179, 101, 57, 0.75)                        }                        .ace-source.ace_multiselect .ace_selection.ace_start {                        box-shadow: 0 0 3px 0px #002240;                        }                        .ace-source .ace_marker-layer .ace_step {                        background: rgb(127, 111, 19)                        }                        .ace-source .ace_marker-layer .ace_bracket {                        background: #090;                        }                        .ace-terminal-theme .ace_marker-layer .ace_bracket-start {                        background: #090;                        }                        .ace-terminal-theme .ace_marker-layer .ace_bracket-unmatched {                        margin: -1px 0 0 -1px;                        border: 1px solid #900                        }                        .ace-source .ace_marker-layer .ace_active-line {                        background: rgba(0, 0, 0, 0.35)                        }                        .ace-source .ace_gutter-active-line {                        background-color: rgba(0, 0, 0, 0.35)                        }                        .ace-source .ace_marker-layer .ace_selected-word {                        border: 1px solid rgba(179, 101, 57, 0.75)                        }                        .ace-source .ace_invisible {                        color: rgba(255, 255, 255, 0.15)                        }                        .ace-source .ace_keyword,                        .ace-source .ace_meta {                        color: #FF9D00                        }                        .ace-source .ace_constant,                        .ace-source .ace_constant.ace_character,                        .ace-source .ace_constant.ace_other,                        .ace-source .ace_string,                        .ace-source .ace_string.ace_regexp {                        color: #FF628C                        }                        .ace-source .ace_constant.ace_character.ace_escape {                        color: #FFFFFF                        }                        .ace-source .ace_invalid {                        color: #F8F8F8;                        background-color: #800F00                        }                        .ace-source .ace_support {                        color: #80FFBB                        }                        .ace-source .ace_support.ace_constant {                        color: #EB939A                        }                        .ace-source .ace_fold {                        background-color: #FF9D00;                        border-color: #FFFFFF                        }                        .ace-source .ace_support.ace_function {                        color: #FFFFFF                        }                        .ace-source .ace_builtinconsts {                        color: #FFFFFF                        }                        .ace-source .ace_storage {                        color: #FFEE80                        }                        .ace-source .ace_entity {                        color: #FFDD00                        }                        .ace-source .ace_comment {                        font-style: italic;                        color: #0088FF                        }                        .ace-source .ace_heading,                        .ace-source .ace_markup.ace_heading {                        color: #C8E4FD;                        background-color: #001221                        }                        .ace-source .ace_list,                        .ace-source .ace_markup.ace_list {                        background-color: #130D26                        }                        .ace-source .ace_variable {                        color: #CCCCCC                        }                        .ace-source .ace_variable.ace_language {                        color: #FF80E1                        }                        .ace-source .ace_meta.ace_tag {                        color: #9EFFFF                        }                        .ace-source .ace_indent-guide {                        background: url(data:image/png;base64,                        iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbY                        nAAAAEklEQVQImWNgYGBgYHCLSvkPAAP3AgSDTRd4AAAAAElFTkSuQmCC) right repeat-y                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete {                        background-color: #2c3e50;                        border-color: #555555;                        color: white;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_completion-highlight {                        color: #FF9D00;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_active-line {                        border-color: #555555;                        background-color: #495a6b;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_line-hover {                        border-color: #555555;                        background-color: #6b839a;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content.ace_text-layer .ace_rightAlignedText {                        color: #ced9e0;                        }                        .ace_tooltip.ace_doc-tooltip {                        width: 400px;                        max-height: 40vh;                        white-space: normal;                        overflow: auto;                        background-color: #495a6b;                        color: white;                        border-color:#555555;                        }                        .ace_tooltip.ace_doc-tooltip h4 {                        color: white;                        margin: 0 0 1em;                        }                        .ace_tooltip.ace_doc-tooltip a {                        color: #48aff0;                        }                        ",i("../lib/dom").importCssString(s.cssText,s.cssClass)}ace.define("ace/theme/source",["require","exports","module","ace/lib/dom"],theme$1);const languagePlaceholders={[Languages.PYTHON]:PROGRAM_PLACEHOLDER_PYTHON,[Languages.SOURCE_THREE]:PROGRAM_PLACEHOLDER_SOURCE_THREE},preludes=sourceThreePrelude,EditorPage=()=>{const[i,s]=reactExports.useState(""),[o,a]=reactExports.useState(Languages.PYTHON),[nt,tt]=reactExports.useState(languagePlaceholders[o]),[ot,at]=reactExports.useState(!1),rt=async()=>{if(o===Languages.SOURCE_THREE)try{parse_into_json(nt),s("")}catch(_){s("[ERROR] "+_);return}const j=await navigator.serial.requestPort();switch(await j.open({baudRate:BAUD_RATE_SPIKE_PRIME}),await writeLines(j,KEYBOARD_INTERRUPT),await readUntilPrompt(j,2e3),o){case Languages.PYTHON:await runProgram(j,cleanProgram(nt));break;case Languages.SOURCE_THREE:if(await runProgram(j,cleanProgram(interpreterPrefix)),await runProgram(j,cleanProgram(interpreterPrefix2)),await runProgram(j,cleanProgram(spikeMicrocode)),ot)for(const et of preludes){console.log("Sending prelude chunk");const st=parse_into_json(et);await writeLines(j,RAW_MODE_ENTER,"json_prelude = '''\\",...st.match(/.{1,1000}/g).map(lt=>lt+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(j,0,lt=>{const ct=processRawOutput(lt);ct&&console.log(ct)}),console.log("Sending prelude chunk complete"),await runProgram(j,cleanProgram(interpreterEvaluatePrelude))}console.log("Sending JSON program");const _=parseIntoJsonChunks(nt),$=_[0];await writeLines(j,RAW_MODE_ENTER,"json_string = '''\\",...$.match(/.{1,500}/g).map(et=>et+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(j,0,et=>{const st=processRawOutput(et);st&&console.log(st)}),console.log("Sending JSON program complete"),await writeLines(j,RAW_MODE_ENTER,cleanProgram(interpreterSuffix),RAW_MODE_COMPILE,..._.slice(1).flatMap(et=>[et,RAW_MODE_COMPILE]),RAW_MODE_EXIT),await readUntilPrompt(j,0,et=>{const st=processRawOutput(et);st&&console.log(st)});break}await writeLines(j,END_OF_TRANSMISSION),j.close()},it=()=>{try{s(parse_into_json(nt))}catch(j){s("[ERROR] "+j)}};return reactExports.useEffect(()=>{const j=queryString.parse(location.hash),_=lzStringExports.decompressFromEncodedURIComponent(j.prgrm);_&&(a(Languages.SOURCE_THREE),tt(_))},[]),reactExports.useEffect(()=>{tt(languagePlaceholders[o]),s("")},[o,tt]),jsxRuntimeExports.jsx(Box,{className:"App",children:jsxRuntimeExports.jsxs(SimpleGrid,{columns:{sm:1,lg:3},spacingX:{sm:0,lg:8},spacingY:8,children:[jsxRuntimeExports.jsx(GridItem,{colSpan:2,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Heading,{children:"SEKER: SourceSPIKE Prime Runner"}),jsxRuntimeExports.jsx(UserGuide,{}),o===Languages.SOURCE_THREE&&jsxRuntimeExports.jsxs(Text,{fontStyle:"italic",color:"orange.500",children:["Note: Support for ",Languages.SOURCE_THREE," Programs is in beta!"]}),i&&jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardBody,{children:[jsxRuntimeExports.jsx(Text,{children:"JSON Code:"}),jsxRuntimeExports.jsx(Box,{overflowX:"scroll",children:jsxRuntimeExports.jsx(Code,{display:"block",whiteSpace:"pre",width:"max-content",children:i})})]})}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",children:"Select language mode:"}),jsxRuntimeExports.jsx(Select,{size:"sm",variant:"filled",width:"fit-content",name:"languageMode",id:"languagemode",value:o,onChange:j=>a(j.target.value),children:supportedLanguages.map(j=>jsxRuntimeExports.jsx("option",{value:j,children:j},j))}),o===Languages.SOURCE_THREE&&jsxRuntimeExports.jsx(Checkbox,{isChecked:ot,onChange:()=>at(j=>!j),children:"Prelude"}),jsxRuntimeExports.jsx(Spacer,{}),jsxRuntimeExports.jsxs(ButtonGroup,{size:"sm",children:[jsxRuntimeExports.jsx(Button,{onClick:rt,children:"Run on Device"}),o===Languages.SOURCE_THREE&&jsxRuntimeExports.jsx(Button,{onClick:it,children:"Parse into JSON"})]})]}),jsxRuntimeExports.jsx(Box,{borderRadius:6,overflow:"clip",children:jsxRuntimeExports.jsx(_default,{name:"editor",mode:languageToModeMap[o],theme:"source",width:"100%",onChange:tt,value:nt,wrapEnabled:!0})})]})}),jsxRuntimeExports.jsx(GridItem,{children:jsxRuntimeExports.jsx(SampleProgramSidebar,{languageMode:o,setProgramState:tt})})]})})};function App(){return jsxRuntimeExports.jsx(EditorPage,{})}const theme=extendTheme({fonts:{heading:"Inter, Avenir, Helvetica, Arial, sans-serif",body:"Inter, Avenir, Helvetica, Arial, sans-serif"}});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$3.StrictMode,{children:jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(App,{})})}));
