function _mergeNamespaces(i,s){for(var o=0;o<s.length;o++){const a=s[o];if(typeof a!="string"&&!Array.isArray(a)){for(const tt in a)if(tt!=="default"&&!(tt in i)){const _e=Object.getOwnPropertyDescriptor(a,tt);_e&&Object.defineProperty(i,tt,_e.get?_e:{enumerable:!0,get:()=>a[tt]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))a(tt);new MutationObserver(tt=>{for(const _e of tt)if(_e.type==="childList")for(const st of _e.addedNodes)st.tagName==="LINK"&&st.rel==="modulepreload"&&a(st)}).observe(document,{childList:!0,subtree:!0});function o(tt){const _e={};return tt.integrity&&(_e.integrity=tt.integrity),tt.referrerPolicy&&(_e.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?_e.credentials="include":tt.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function a(tt){if(tt.ep)return;tt.ep=!0;const _e=o(tt);fetch(tt.href,_e)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var o=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var tt=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(o,a,tt.get?tt:{enumerable:!0,get:function(){return i[a]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,tt={},_e=null,st=null;if(s!=null)for(a in s.ref!==void 0&&(st=s.ref),s.key!==void 0&&(_e=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(tt[a]=s[a]);var ot=arguments.length-2;if(ot===1)tt.children=o;else if(1<ot){for(var rt=Array(ot),it=0;it<ot;it++)rt[it]=arguments[it+2];tt.children=rt}if(i&&i.defaultProps)for(a in ot=i.defaultProps,ot)tt[a]===void 0&&(tt[a]=ot[a]);return{$$typeof:l$2,type:i,key:_e,ref:st,props:tt,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$2,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$2(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$2(""+i.key):s.toString(36)}function R$1(i,s,o,a,tt){var _e=typeof i;(_e==="undefined"||_e==="boolean")&&(i=null);var st=!1;if(i===null)st=!0;else switch(_e){case"string":case"number":st=!0;break;case"object":switch(i.$$typeof){case l$2:case n$3:st=!0}}if(st)return st=i,tt=tt(st),i=a===""?"."+Q$1(st,0):a,I$1(tt)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(tt,s,o,"",function(it){return it})):tt!=null&&(O$1(tt)&&(tt=N$1(tt,o+(!tt.key||st&&st.key===tt.key?"":(""+tt.key).replace(P$1,"$&/")+"/")+i)),s.push(tt)),1;if(st=0,a=a===""?".":a+":",I$1(i))for(var ot=0;ot<i.length;ot++){_e=i[ot];var rt=a+Q$1(_e,ot);st+=R$1(_e,s,o,rt,tt)}else if(rt=A$2(i),typeof rt=="function")for(i=rt.call(i),ot=0;!(_e=i.next()).done;)_e=_e.value,rt=a+Q$1(_e,ot++),st+=R$1(_e,s,o,rt,tt);else if(_e==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return st}function S$1(i,s,o){if(i==null)return i;var a=[],tt=0;return R$1(i,a,"","",function(_e){return s.call(o,_e,tt++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),tt=i.key,_e=i.ref,st=i._owner;if(s!=null){if(s.ref!==void 0&&(_e=s.ref,st=K$1.current),s.key!==void 0&&(tt=""+s.key),i.type&&i.type.defaultProps)var ot=i.type.defaultProps;for(rt in s)J.call(s,rt)&&!L$1.hasOwnProperty(rt)&&(a[rt]=s[rt]===void 0&&ot!==void 0?ot[rt]:s[rt])}var rt=arguments.length-2;if(rt===1)a.children=o;else if(1<rt){ot=Array(rt);for(var it=0;it<rt;it++)ot[it]=arguments[it+2];a.children=ot}return{$$typeof:l$2,type:i.type,key:tt,ref:_e,props:a,_owner:st}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$3,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x$1,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$1.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$1.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$1.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$4=getDefaultExportFromCjs(reactExports),ReactOriginal=_mergeNamespaces({__proto__:null,default:React$4},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,s,o){var a,tt={},_e=null,st=null;o!==void 0&&(_e=""+o),s.key!==void 0&&(_e=""+s.key),s.ref!==void 0&&(st=s.ref);for(a in s)m$2.call(s,a)&&!p$3.hasOwnProperty(a)&&(tt[a]=s[a]);if(i&&i.defaultProps)for(a in s=i.defaultProps,s)tt[a]===void 0&&(tt[a]=s[a]);return{$$typeof:k$1,type:i,key:_e,ref:st,props:tt,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function isHTMLElement(i){return i!=null&&typeof i=="object"&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE}function isBrowser$2(){return!!(globalThis!=null&&globalThis.document)}function isHiddenElement(i){return i.parentElement&&isHiddenElement(i.parentElement)?!0:i.hidden}function isContentEditableElement(i){const s=i.getAttribute("contenteditable");return s!=="false"&&s!=null}function isDisabledElement(i){return!!i.getAttribute("disabled")||!!i.getAttribute("aria-disabled")}function assignAfter(i,...s){if(i==null)throw new TypeError("Cannot convert undefined or null to object");const o={...i};for(const a of s)if(a!=null)for(const tt in a)Object.prototype.hasOwnProperty.call(a,tt)&&(tt in o&&delete o[tt],o[tt]=a[tt]);return o}const dataAttr=i=>i?"":void 0,ariaAttr=i=>i?!0:void 0;function isArray$2(i){return Array.isArray(i)}function isObject$2(i){const s=typeof i;return i!=null&&(s==="object"||s==="function")&&!isArray$2(i)}function getLastItem(i){const s=i==null?0:i.length;return s?i[s-1]:void 0}function analyzeCSSValue$1(i){const s=parseFloat(i.toString()),o=i.toString().replace(String(s),"");return{unitless:!o,value:s,unit:o}}function px$1(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue$1(i);return s||typeof i=="number"?`${i}px`:i}const sortByBreakpointValue=(i,s)=>parseInt(i[1],10)>parseInt(s[1],10)?1:-1,sortBps=i=>Object.fromEntries(Object.entries(i).sort(sortByBreakpointValue));function normalize$2(i){const s=sortBps(i);return Object.assign(Object.values(s),s)}function keys(i){const s=Object.keys(sortBps(i));return new Set(s)}function subtract$2(i){if(!i)return i;i=px$1(i)??i;const s=-.02;return typeof i=="number"?`${i+s}`:i.replace(/(\d+\.?\d*)/u,o=>`${parseFloat(o)+s}`)}function toMediaQueryString(i,s){const o=["@media screen"];return i&&o.push("and",`(min-width: ${px$1(i)})`),s&&o.push("and",`(max-width: ${px$1(s)})`),o.join(" ")}function analyzeBreakpoints(i){if(!i)return null;i.base=i.base??"0px";const s=normalize$2(i),o=Object.entries(i).sort(sortByBreakpointValue).map(([_e,st],ot,rt)=>{let[,it]=rt[ot+1]??[];return it=parseFloat(it)>0?subtract$2(it):void 0,{_minW:subtract$2(st),breakpoint:_e,minW:st,maxW:it,maxWQuery:toMediaQueryString(null,it),minWQuery:toMediaQueryString(st),minMaxQuery:toMediaQueryString(st,it)}}),a=keys(i),tt=Array.from(a.values());return{keys:a,normalized:s,isResponsive(_e){const st=Object.keys(_e);return st.length>0&&st.every(ot=>a.has(ot))},asObject:sortBps(i),asArray:normalize$2(i),details:o,get(_e){return o.find(st=>st.breakpoint===_e)},media:[null,...s.map(_e=>toMediaQueryString(_e)).slice(1)],toArrayValue(_e){if(!isObject$2(_e))throw new Error("toArrayValue: value must be an object");const st=tt.map(ot=>_e[ot]??null);for(;getLastItem(st)===null;)st.pop();return st},toObjectValue(_e){if(!Array.isArray(_e))throw new Error("toObjectValue: value must be an array");return _e.reduce((st,ot,rt)=>{const it=tt[rt];return it!=null&&ot!=null&&(st[it]=ot),st},{})}}}function callAll(...i){return function(...o){i.forEach(a=>a==null?void 0:a(...o))}}function callAllHandlers(...i){return function(o){i.some(a=>(a==null||a(o),o==null?void 0:o.defaultPrevented))}}function getValidChildren(i){return reactExports.Children.toArray(i).filter(s=>reactExports.isValidElement(s))}function compact(i){const s=Object.assign({},i);for(let o in s)s[o]===void 0&&delete s[o];return s}function getErrorMessage(i,s){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${s}`}function createContext$1(i={}){const{name:s,strict:o=!0,hookName:a="useContext",providerName:tt="Provider",errorMessage:_e,defaultValue:st}=i,ot=reactExports.createContext(st);ot.displayName=s;function rt(){var j;const it=reactExports.useContext(ot);if(!it&&o){const _=new Error(_e??getErrorMessage(a,tt));throw _.name="ContextError",(j=Error.captureStackTrace)==null||j.call(Error,_,rt),_}return it}return[ot.Provider,rt,ot]}const cx=(...i)=>i.filter(Boolean).join(" "),hasTabIndex=i=>i.hasAttribute("tabindex");function isFocusable(i){if(!isHTMLElement(i)||isHiddenElement(i)||isDisabledElement(i))return!1;const{localName:s}=i;if(["input","select","textarea","button"].indexOf(s)>=0)return!0;const a={a:()=>i.hasAttribute("href"),audio:()=>i.hasAttribute("controls"),video:()=>i.hasAttribute("controls")};return s in a?a[s]():isContentEditableElement(i)?!0:hasTabIndex(i)}const focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=i=>i.offsetWidth>0&&i.offsetHeight>0;function getAllFocusable(i){const s=Array.from(i.querySelectorAll(focusableElSelector));return s.unshift(i),s.filter(o=>isFocusable(o)&&isVisible(o))}function get$4(i,s,o,a){const tt=typeof s=="string"?s.split("."):[s];for(a=0;a<tt.length&&i;a+=1)i=i[tt[a]];return i===void 0?o:i}const memoize$3=i=>{const s=new WeakMap;return(a,tt,_e,st)=>{if(typeof a>"u")return i(a,tt,_e);s.has(a)||s.set(a,new Map);const ot=s.get(a);if(ot.has(tt))return ot.get(tt);const rt=i(a,tt,_e,st);return ot.set(tt,rt),rt}},memoizedGet$1=memoize$3(get$4),interopDefault=i=>i.default||i;function omit(i,s=[]){const o=Object.assign({},i);for(const a of s)a in o&&delete o[a];return o}function pick$1(i,s){const o={};for(const a of s)a in i&&(o[a]=i[a]);return o}function mapResponsive(i,s){return Array.isArray(i)?i.map(o=>o===null?null:s(o)):isObject$2(i)?Object.keys(i).reduce((o,a)=>(o[a]=s(i[a]),o),{}):i!=null?s(i):null}const isFunction$3=i=>typeof i=="function";function runIfFn$1(i,...s){return isFunction$3(i)?i(...s):i}function split$1(i,s){const o={},a={};for(const[tt,_e]of Object.entries(i))s.includes(tt)?o[tt]=_e:a[tt]=_e;return[o,a]}function splitProps(i,...s){const o=Object.getOwnPropertyDescriptors(i),a=Object.keys(o),tt=st=>{const ot={};for(let rt=0;rt<st.length;rt++){const it=st[rt];o[it]&&(Object.defineProperty(ot,it,o[it]),delete o[it])}return ot},_e=st=>tt(Array.isArray(st)?st:a.filter(st));return s.map(_e).concat(tt(a))}function walkObject(i,s,o={}){const{stop:a,getKey:tt}=o;function _e(st,ot=[]){if(isObject$2(st)||Array.isArray(st)){const rt={};for(const[it,j]of Object.entries(st)){const _=(tt==null?void 0:tt(it))??it,$=[...ot,_];if(a!=null&&a(st,$))return s(st,ot);rt[_]=_e(j,$)}return rt}return s(st,ot)}return _e(i)}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(i,s){var o=200,a="__lodash_hash_undefined__",tt=800,_e=16,st=9007199254740991,ot="[object Arguments]",rt="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",et="[object Function]",nt="[object GeneratorFunction]",at="[object Map]",ct="[object Number]",ht="[object Null]",ut="[object Object]",dt="[object Proxy]",mt="[object RegExp]",gt="[object Set]",lt="[object String]",St="[object Undefined]",xt="[object WeakMap]",yt="[object ArrayBuffer]",_t="[object DataView]",kt="[object Float32Array]",Et="[object Float64Array]",$t="[object Int8Array]",Tt="[object Int16Array]",At="[object Int32Array]",Mt="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Pt="[object Uint16Array]",Ft="[object Uint32Array]",zt=/[\\^$.*+?()[\]{}|]/g,qt=/^\[object .+?Constructor\]$/,Gt=/^(?:0|[1-9]\d*)$/,Wt={};Wt[kt]=Wt[Et]=Wt[$t]=Wt[Tt]=Wt[At]=Wt[Mt]=Wt[Ot]=Wt[Pt]=Wt[Ft]=!0,Wt[ot]=Wt[rt]=Wt[yt]=Wt[j]=Wt[_t]=Wt[_]=Wt[$]=Wt[et]=Wt[at]=Wt[ct]=Wt[ut]=Wt[mt]=Wt[gt]=Wt[lt]=Wt[xt]=!1;var Xt=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,rr=typeof self=="object"&&self&&self.Object===Object&&self,tr=Xt||rr||Function("return this")(),mr=s&&!s.nodeType&&s,yr=mr&&!0&&i&&!i.nodeType&&i,xr=yr&&yr.exports===mr,vr=xr&&Xt.process,ir=function(){try{var jt=yr&&yr.require&&yr.require("util").types;return jt||vr&&vr.binding&&vr.binding("util")}catch{}}(),sr=ir&&ir.isTypedArray;function er(jt,or,pr){switch(pr.length){case 0:return jt.call(or);case 1:return jt.call(or,pr[0]);case 2:return jt.call(or,pr[0],pr[1]);case 3:return jt.call(or,pr[0],pr[1],pr[2])}return jt.apply(or,pr)}function Tr(jt,or){for(var pr=-1,Hr=Array(jt);++pr<jt;)Hr[pr]=or(pr);return Hr}function Cr(jt){return function(or){return jt(or)}}function dr(jt,or){return jt==null?void 0:jt[or]}function Wr(jt,or){return function(pr){return jt(or(pr))}}var Jr=Array.prototype,nn=Function.prototype,Cn=Object.prototype,Vn=tr["__core-js_shared__"],An=nn.toString,pn=Cn.hasOwnProperty,Kn=function(){var jt=/[^.]+$/.exec(Vn&&Vn.keys&&Vn.keys.IE_PROTO||"");return jt?"Symbol(src)_1."+jt:""}(),Pn=Cn.toString,wr=An.call(Object),zr=RegExp("^"+An.call(pn).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$r=xr?tr.Buffer:void 0,hn=tr.Symbol,Jt=tr.Uint8Array;$r&&$r.allocUnsafe;var Kt=Wr(Object.getPrototypeOf,Object),hr=Object.create,Pr=Cn.propertyIsEnumerable,jr=Jr.splice,kr=hn?hn.toStringTag:void 0,Ar=function(){try{var jt=kn(Object,"defineProperty");return jt({},"",{}),jt}catch{}}(),Yr=$r?$r.isBuffer:void 0,un=Math.max,Or=Date.now,Xr=kn(tr,"Map"),Ur=kn(Object,"create"),Vr=function(){function jt(){}return function(or){if(!gr(or))return{};if(hr)return hr(or);jt.prototype=or;var pr=new jt;return jt.prototype=void 0,pr}}();function ln(jt){var or=-1,pr=jt==null?0:jt.length;for(this.clear();++or<pr;){var Hr=jt[or];this.set(Hr[0],Hr[1])}}function Er(){this.__data__=Ur?Ur(null):{},this.size=0}function dn(jt){var or=this.has(jt)&&delete this.__data__[jt];return this.size-=or?1:0,or}function bs(jt){var or=this.__data__;if(Ur){var pr=or[jt];return pr===a?void 0:pr}return pn.call(or,jt)?or[jt]:void 0}function Ss(jt){var or=this.__data__;return Ur?or[jt]!==void 0:pn.call(or,jt)}function Yn(jt,or){var pr=this.__data__;return this.size+=this.has(jt)?0:1,pr[jt]=Ur&&or===void 0?a:or,this}ln.prototype.clear=Er,ln.prototype.delete=dn,ln.prototype.get=bs,ln.prototype.has=Ss,ln.prototype.set=Yn;function Xn(jt){var or=-1,pr=jt==null?0:jt.length;for(this.clear();++or<pr;){var Hr=jt[or];this.set(Hr[0],Hr[1])}}function Ds(){this.__data__=[],this.size=0}function es(jt){var or=this.__data__,pr=Rs(or,jt);if(pr<0)return!1;var Hr=or.length-1;return pr==Hr?or.pop():jr.call(or,pr,1),--this.size,!0}function Cs(jt){var or=this.__data__,pr=Rs(or,jt);return pr<0?void 0:or[pr][1]}function Is(jt){return Rs(this.__data__,jt)>-1}function Bs(jt,or){var pr=this.__data__,Hr=Rs(pr,jt);return Hr<0?(++this.size,pr.push([jt,or])):pr[Hr][1]=or,this}Xn.prototype.clear=Ds,Xn.prototype.delete=es,Xn.prototype.get=Cs,Xn.prototype.has=Is,Xn.prototype.set=Bs;function cs(jt){var or=-1,pr=jt==null?0:jt.length;for(this.clear();++or<pr;){var Hr=jt[or];this.set(Hr[0],Hr[1])}}function hs(){this.size=0,this.__data__={hash:new ln,map:new(Xr||Xn),string:new ln}}function Ns(jt){var or=rn(this,jt).delete(jt);return this.size-=or?1:0,or}function sn(jt){return rn(this,jt).get(jt)}function ds(jt){return rn(this,jt).has(jt)}function zs(jt,or){var pr=rn(this,jt),Hr=pr.size;return pr.set(jt,or),this.size+=pr.size==Hr?0:1,this}cs.prototype.clear=hs,cs.prototype.delete=Ns,cs.prototype.get=sn,cs.prototype.has=ds,cs.prototype.set=zs;function ks(jt){var or=this.__data__=new Xn(jt);this.size=or.size}function rs(){this.__data__=new Xn,this.size=0}function qs(jt){var or=this.__data__,pr=or.delete(jt);return this.size=or.size,pr}function js(jt){return this.__data__.get(jt)}function Qs(jt){return this.__data__.has(jt)}function Zs(jt,or){var pr=this.__data__;if(pr instanceof Xn){var Hr=pr.__data__;if(!Xr||Hr.length<o-1)return Hr.push([jt,or]),this.size=++pr.size,this;pr=this.__data__=new cs(Hr)}return pr.set(jt,or),this.size=pr.size,this}ks.prototype.clear=rs,ks.prototype.delete=qs,ks.prototype.get=js,ks.prototype.has=Qs,ks.prototype.set=Zs;function Us(jt,or){var pr=ft(jt),Hr=!pr&&Bt(jt),qr=!pr&&!Hr&&Vt(jt),fn=!pr&&!Hr&&!qr&&cn(jt),_n=pr||Hr||qr||fn,en=_n?Tr(jt.length,String):[],mn=en.length;for(var Fn in jt)_n&&(Fn=="length"||qr&&(Fn=="offset"||Fn=="parent")||fn&&(Fn=="buffer"||Fn=="byteLength"||Fn=="byteOffset")||os(Fn,mn))||en.push(Fn);return en}function fs(jt,or,pr){(pr!==void 0&&!Rt(jt[or],pr)||pr===void 0&&!(or in jt))&&ws(jt,or,pr)}function $s(jt,or,pr){var Hr=jt[or];(!(pn.call(jt,or)&&Rt(Hr,pr))||pr===void 0&&!(or in jt))&&ws(jt,or,pr)}function Rs(jt,or){for(var pr=jt.length;pr--;)if(Rt(jt[pr][0],or))return pr;return-1}function ws(jt,or,pr){or=="__proto__"&&Ar?Ar(jt,or,{configurable:!0,enumerable:!0,value:pr,writable:!0}):jt[or]=pr}var Ws=Gr();function ps(jt){return jt==null?jt===void 0?St:ht:kr&&kr in Object(jt)?Wn(jt):Sn(jt)}function yn(jt){return Mr(jt)&&ps(jt)==ot}function Qr(jt){if(!gr(jt)||vn(jt))return!1;var or=Yt(jt)?zr:qt;return or.test(vt(jt))}function Kr(jt){return Mr(jt)&&lr(jt.length)&&!!Wt[ps(jt)]}function Qn(jt){if(!gr(jt))return Jn(jt);var or=ms(jt),pr=[];for(var Hr in jt)Hr=="constructor"&&(or||!pn.call(jt,Hr))||pr.push(Hr);return pr}function ns(jt,or,pr,Hr,qr){jt!==or&&Ws(or,function(fn,_n){if(qr||(qr=new ks),gr(fn))po(jt,or,_n,pr,ns,Hr,qr);else{var en=Hr?Hr(gs(jt,_n),fn,_n+"",jt,or,qr):void 0;en===void 0&&(en=fn),fs(jt,_n,en)}},On)}function po(jt,or,pr,Hr,qr,fn,_n){var en=gs(jt,pr),mn=gs(or,pr),Fn=_n.get(mn);if(Fn){fs(jt,pr,Fn);return}var Hn=fn?fn(en,mn,pr+"",jt,or,_n):void 0,qn=Hn===void 0;if(qn){var jn=ft(mn),ys=!jn&&Vt(mn),Hs=!jn&&!ys&&cn(mn);Hn=mn,jn||ys||Hs?ft(en)?Hn=en:Dt(en)?Hn=ur(en):ys?(qn=!1,Hn=Lt(mn)):Hs?(qn=!1,Hn=Zt(mn)):Hn=[]:Fr(mn)||Bt(mn)?(Hn=en,Bt(en)?Hn=on(en):(!gr(en)||Yt(en))&&(Hn=ss(mn))):qn=!1}qn&&(_n.set(mn,Hn),qr(Hn,mn,Hr,fn,_n),_n.delete(mn)),fs(jt,pr,Hn)}function Js(jt,or){return go(mo(jt,or,wn),jt+"")}var wt=Ar?function(jt,or){return Ar(jt,"toString",{configurable:!0,enumerable:!1,value:$n(or),writable:!0})}:wn;function Lt(jt,or){return jt.slice()}function Ut(jt){var or=new jt.constructor(jt.byteLength);return new Jt(or).set(new Jt(jt)),or}function Zt(jt,or){var pr=Ut(jt.buffer);return new jt.constructor(pr,jt.byteOffset,jt.length)}function ur(jt,or){var pr=-1,Hr=jt.length;for(or||(or=Array(Hr));++pr<Hr;)or[pr]=jt[pr];return or}function _r(jt,or,pr,Hr){var qr=!pr;pr||(pr={});for(var fn=-1,_n=or.length;++fn<_n;){var en=or[fn],mn=void 0;mn===void 0&&(mn=jt[en]),qr?ws(pr,en,mn):$s(pr,en,mn)}return pr}function Rr(jt){return Js(function(or,pr){var Hr=-1,qr=pr.length,fn=qr>1?pr[qr-1]:void 0,_n=qr>2?pr[2]:void 0;for(fn=jt.length>3&&typeof fn=="function"?(qr--,fn):void 0,_n&&as(pr[0],pr[1],_n)&&(fn=qr<3?void 0:fn,qr=1),or=Object(or);++Hr<qr;){var en=pr[Hr];en&&jt(or,en,Hr,fn)}return or})}function Gr(jt){return function(or,pr,Hr){for(var qr=-1,fn=Object(or),_n=Hr(or),en=_n.length;en--;){var mn=_n[++qr];if(pr(fn[mn],mn,fn)===!1)break}return or}}function rn(jt,or){var pr=jt.__data__;return Ms(or)?pr[typeof or=="string"?"string":"hash"]:pr.map}function kn(jt,or){var pr=dr(jt,or);return Qr(pr)?pr:void 0}function Wn(jt){var or=pn.call(jt,kr),pr=jt[kr];try{jt[kr]=void 0;var Hr=!0}catch{}var qr=Pn.call(jt);return Hr&&(or?jt[kr]=pr:delete jt[kr]),qr}function ss(jt){return typeof jt.constructor=="function"&&!ms(jt)?Vr(Kt(jt)):{}}function os(jt,or){var pr=typeof jt;return or=or??st,!!or&&(pr=="number"||pr!="symbol"&&Gt.test(jt))&&jt>-1&&jt%1==0&&jt<or}function as(jt,or,pr){if(!gr(pr))return!1;var Hr=typeof or;return(Hr=="number"?Ct(pr)&&os(or,pr.length):Hr=="string"&&or in pr)?Rt(pr[or],jt):!1}function Ms(jt){var or=typeof jt;return or=="string"||or=="number"||or=="symbol"||or=="boolean"?jt!=="__proto__":jt===null}function vn(jt){return!!Kn&&Kn in jt}function ms(jt){var or=jt&&jt.constructor,pr=typeof or=="function"&&or.prototype||Cn;return jt===pr}function Jn(jt){var or=[];if(jt!=null)for(var pr in Object(jt))or.push(pr);return or}function Sn(jt){return Pn.call(jt)}function mo(jt,or,pr){return or=un(or===void 0?jt.length-1:or,0),function(){for(var Hr=arguments,qr=-1,fn=un(Hr.length-or,0),_n=Array(fn);++qr<fn;)_n[qr]=Hr[or+qr];qr=-1;for(var en=Array(or+1);++qr<or;)en[qr]=Hr[qr];return en[or]=pr(_n),er(jt,this,en)}}function gs(jt,or){if(!(or==="constructor"&&typeof jt[or]=="function")&&or!="__proto__")return jt[or]}var go=yo(wt);function yo(jt){var or=0,pr=0;return function(){var Hr=Or(),qr=_e-(Hr-pr);if(pr=Hr,qr>0){if(++or>=tt)return arguments[0]}else or=0;return jt.apply(void 0,arguments)}}function vt(jt){if(jt!=null){try{return An.call(jt)}catch{}try{return jt+""}catch{}}return""}function Rt(jt,or){return jt===or||jt!==jt&&or!==or}var Bt=yn(function(){return arguments}())?yn:function(jt){return Mr(jt)&&pn.call(jt,"callee")&&!Pr.call(jt,"callee")},ft=Array.isArray;function Ct(jt){return jt!=null&&lr(jt.length)&&!Yt(jt)}function Dt(jt){return Mr(jt)&&Ct(jt)}var Vt=Yr||ar;function Yt(jt){if(!gr(jt))return!1;var or=ps(jt);return or==et||or==nt||or==it||or==dt}function lr(jt){return typeof jt=="number"&&jt>-1&&jt%1==0&&jt<=st}function gr(jt){var or=typeof jt;return jt!=null&&(or=="object"||or=="function")}function Mr(jt){return jt!=null&&typeof jt=="object"}function Fr(jt){if(!Mr(jt)||ps(jt)!=ut)return!1;var or=Kt(jt);if(or===null)return!0;var pr=pn.call(or,"constructor")&&or.constructor;return typeof pr=="function"&&pr instanceof pr&&An.call(pr)==wr}var cn=sr?Cr(sr):Kr;function on(jt){return _r(jt,On(jt))}function On(jt){return Ct(jt)?Us(jt):Qn(jt)}var _s=Rr(function(jt,or,pr,Hr){ns(jt,or,pr,Hr)});function $n(jt){return function(){return jt}}function wn(jt){return jt}function ar(){return!1}i.exports=_s})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs(lodash_mergewithExports);function useCallbackRef$1(i,s=[]){const o=reactExports.useRef(i);return reactExports.useEffect(()=>{o.current=i}),reactExports.useCallback((...a)=>{var tt;return(tt=o.current)==null?void 0:tt.call(o,...a)},s)}function useDisclosure(i={}){const{onClose:s,onOpen:o,isOpen:a,id:tt}=i,_e=useCallbackRef$1(o),st=useCallbackRef$1(s),[ot,rt]=reactExports.useState(i.defaultIsOpen||!1),it=a!==void 0?a:ot,j=a!==void 0,_=reactExports.useId(),$=tt??`disclosure-${_}`,et=reactExports.useCallback(()=>{j||rt(!1),st==null||st()},[j,st]),nt=reactExports.useCallback(()=>{j||rt(!0),_e==null||_e()},[j,_e]),at=reactExports.useCallback(()=>{it?et():nt()},[it,nt,et]);function ct(ut={}){return{...ut,"aria-expanded":it,"aria-controls":$,onClick(dt){var mt;(mt=ut.onClick)==null||mt.call(ut,dt),at()}}}function ht(ut={}){return{...ut,hidden:!it,id:$}}return{isOpen:it,onOpen:nt,onClose:et,onToggle:at,isControlled:j,getButtonProps:ct,getDisclosureProps:ht}}const useSafeLayoutEffect$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,useUpdateEffect=(i,s)=>{const o=reactExports.useRef(!1),a=reactExports.useRef(!1);reactExports.useEffect(()=>{if(o.current&&a.current)return i();a.current=!0},s),reactExports.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[])};function assignRef$1(i,s){if(i!=null){if(typeof i=="function"){i(s);return}try{i.current=s}catch{throw new Error(`Cannot assign value '${s}' to ref '${i}'`)}}}function mergeRefs(...i){return s=>{i.forEach(o=>{assignRef$1(o,s)})}}function useMergeRefs$1(...i){return reactExports.useMemo(()=>mergeRefs(...i),i)}function useTimeout(i,s){const o=useCallbackRef$1(i);reactExports.useEffect(()=>{if(s==null)return;let a=null;return a=window.setTimeout(()=>{o()},s),()=>{a&&window.clearTimeout(a)}},[s,o])}const state={open:(i,s)=>`${i}[data-open], ${i}[open], ${i}[data-state=open] ${s}`,closed:(i,s)=>`${i}[data-closed], ${i}[data-state=closed] ${s}`,hover:(i,s)=>`${i}:hover ${s}, ${i}[data-hover] ${s}`,focus:(i,s)=>`${i}:focus ${s}, ${i}[data-focus] ${s}`,focusVisible:(i,s)=>`${i}:focus-visible ${s}`,focusWithin:(i,s)=>`${i}:focus-within ${s}`,active:(i,s)=>`${i}:active ${s}, ${i}[data-active] ${s}`,disabled:(i,s)=>`${i}:disabled ${s}, ${i}[data-disabled] ${s}`,invalid:(i,s)=>`${i}:invalid ${s}, ${i}[data-invalid] ${s}`,checked:(i,s)=>`${i}:checked ${s}, ${i}[data-checked] ${s}`,indeterminate:(i,s)=>`${i}:indeterminate ${s}, ${i}[aria-checked=mixed] ${s}, ${i}[data-indeterminate] ${s}`,readOnly:(i,s)=>`${i}:read-only ${s}, ${i}[readonly] ${s}, ${i}[data-read-only] ${s}`,expanded:(i,s)=>`${i}:read-only ${s}, ${i}[aria-expanded=true] ${s}, ${i}[data-expanded] ${s}`,placeholderShown:(i,s)=>`${i}:placeholder-shown ${s}`},toGroup=i=>merge(s=>i(s,"&"),"[role=group]","[data-group]",".group"),toPeer=i=>merge(s=>i(s,"~ &"),"[data-peer]",".peer"),merge=(i,...s)=>s.map(i).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:toGroup(state.open),_groupClosed:toGroup(state.closed),_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},pseudoPropNames=Object.keys(pseudoSelectors),isImportant=i=>/!(important)?$/.test(i),withoutImportant=i=>typeof i=="string"?i.replace(/!(important)?$/,"").trim():i,tokenToCSSVar=(i,s)=>o=>{const a=String(s),tt=isImportant(a),_e=withoutImportant(a),st=i?`${i}.${_e}`:_e;let ot=isObject$2(o.__cssMap)&&st in o.__cssMap?o.__cssMap[st].varRef:s;return ot=withoutImportant(ot),tt?`${ot} !important`:ot};function createTransform(i){const{scale:s,transform:o,compose:a}=i;return(_e,st)=>{const ot=tokenToCSSVar(s,_e)(st);let rt=(o==null?void 0:o(ot,st))??ot;return a&&(rt=a(rt,st)),rt}}const pipe$2=(...i)=>s=>i.reduce((o,a)=>a(o),s);function toConfig(i,s){return o=>{const a={property:o,scale:i};return a.transform=createTransform({scale:i,transform:s}),a}}const getRtl=({rtl:i,ltr:s})=>o=>o.direction==="rtl"?i:s;function logical(i){const{property:s,scale:o,transform:a}=i;return{scale:o,property:getRtl(s),transform:o?createTransform({scale:o,compose:a}):a}}const transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}const filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(i){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":i,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=i=>i.trim();function parseGradient(i,s){if(i==null||globalSet.has(i))return i;if(!(isCSSFunction(i)||globalSet.has(i)))return`url('${i}')`;const tt=/(^[a-z-A-Z]+)\((.*)\)/g.exec(i),_e=tt==null?void 0:tt[1],st=tt==null?void 0:tt[2];if(!_e||!st)return i;const ot=_e.includes("-gradient")?_e:`${_e}-gradient`,[rt,...it]=st.split(",").map(trimSpace).filter(Boolean);if((it==null?void 0:it.length)===0)return i;const j=rt in directionMap?directionMap[rt]:rt;it.unshift(j);const _=it.map($=>{if(valueSet.has($))return $;const et=$.indexOf(" "),[nt,at]=et!==-1?[$.substr(0,et),$.substr(et+1)]:[$],ct=isCSSFunction(at)?at:at&&at.split(" "),ht=`colors.${nt}`,ut=ht in s.__cssMap?s.__cssMap[ht].varRef:nt;return ct?[ut,...Array.isArray(ct)?ct:[ct]].join(" "):ut});return`${ot}(${_.join(", ")})`}const isCSSFunction=i=>typeof i=="string"&&i.includes("(")&&i.includes(")"),gradientTransform=(i,s)=>parseGradient(i,s??{});function isCssVar$1(i){return/^var\(--.+\)$/.test(i)}const analyzeCSSValue=i=>{const s=parseFloat(i.toString()),o=i.toString().replace(String(s),"");return{unitless:!o,value:s,unit:o}},wrap=i=>s=>`${i}(${s})`,transformFunctions={filter(i){return i!=="auto"?i:filterTemplate},backdropFilter(i){return i!=="auto"?i:backdropFilterTemplate},ring(i){return getRingTemplate(transformFunctions.px(i))},bgClip(i){return i==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:i}},transform(i){return i==="auto"?getTransformTemplate():i==="auto-gpu"?getTransformGpuTemplate():i},vh(i){return i==="$100vh"?"var(--chakra-vh)":i},px(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue(i);return s||typeof i=="number"?`${i}px`:i},fraction(i){return typeof i!="number"||i>1?i:`${i*100}%`},float(i,s){const o={left:"right",right:"left"};return s.direction==="rtl"?o[i]:i},degree(i){if(isCssVar$1(i)||i==null)return i;const s=typeof i=="string"&&!i.endsWith("deg");return typeof i=="number"||s?`${i}deg`:i},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:i=>wrap("hue-rotate")(transformFunctions.degree(i)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(i){return i==null||isCSSFunction(i)||globalSet.has(i)?i:`url(${i})`},outline(i){const s=String(i)==="0"||String(i)==="none";return i!==null&&s?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:i}},flexDirection(i){const{space:s,divide:o}=flexDirectionTemplate[i]??{},a={flexDirection:i};return s&&(a[s]=1),o&&(a[o]=1),a}},t$2={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(i){return{property:i,transform:transformFunctions.degree}},prop(i,s,o){return{property:i,scale:s,...s&&{transform:createTransform({scale:s,transform:o})}}},propT(i,s){return{property:i,transform:s}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$2.colors("background"),backgroundColor:t$2.colors("backgroundColor"),backgroundImage:t$2.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$2.prop("backgroundSize"),bgPosition:t$2.prop("backgroundPosition"),bg:t$2.colors("background"),bgColor:t$2.colors("backgroundColor"),bgPos:t$2.prop("backgroundPosition"),bgRepeat:t$2.prop("backgroundRepeat"),bgAttachment:t$2.prop("backgroundAttachment"),bgGradient:t$2.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});const border={border:t$2.borders("border"),borderWidth:t$2.borderWidths("borderWidth"),borderStyle:t$2.borderStyles("borderStyle"),borderColor:t$2.colors("borderColor"),borderRadius:t$2.radii("borderRadius"),borderTop:t$2.borders("borderTop"),borderBlockStart:t$2.borders("borderBlockStart"),borderTopLeftRadius:t$2.radii("borderTopLeftRadius"),borderStartStartRadius:t$2.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$2.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$2.radii("borderTopRightRadius"),borderStartEndRadius:t$2.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$2.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$2.borders("borderRight"),borderInlineEnd:t$2.borders("borderInlineEnd"),borderBottom:t$2.borders("borderBottom"),borderBlockEnd:t$2.borders("borderBlockEnd"),borderBottomLeftRadius:t$2.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$2.radii("borderBottomRightRadius"),borderLeft:t$2.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$2.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$2.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$2.borders(["borderLeft","borderRight"]),borderInline:t$2.borders("borderInline"),borderY:t$2.borders(["borderTop","borderBottom"]),borderBlock:t$2.borders("borderBlock"),borderTopWidth:t$2.borderWidths("borderTopWidth"),borderBlockStartWidth:t$2.borderWidths("borderBlockStartWidth"),borderTopColor:t$2.colors("borderTopColor"),borderBlockStartColor:t$2.colors("borderBlockStartColor"),borderTopStyle:t$2.borderStyles("borderTopStyle"),borderBlockStartStyle:t$2.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$2.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$2.borderWidths("borderBlockEndWidth"),borderBottomColor:t$2.colors("borderBottomColor"),borderBlockEndColor:t$2.colors("borderBlockEndColor"),borderBottomStyle:t$2.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$2.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$2.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$2.borderWidths("borderInlineStartWidth"),borderLeftColor:t$2.colors("borderLeftColor"),borderInlineStartColor:t$2.colors("borderInlineStartColor"),borderLeftStyle:t$2.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$2.borderStyles("borderInlineStartStyle"),borderRightWidth:t$2.borderWidths("borderRightWidth"),borderInlineEndWidth:t$2.borderWidths("borderInlineEndWidth"),borderRightColor:t$2.colors("borderRightColor"),borderInlineEndColor:t$2.colors("borderInlineEndColor"),borderRightStyle:t$2.borderStyles("borderRightStyle"),borderInlineEndStyle:t$2.borderStyles("borderInlineEndStyle"),borderTopRadius:t$2.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$2.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$2.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$2.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});const color$1={color:t$2.colors("color"),textColor:t$2.colors("color"),fill:t$2.colors("fill"),stroke:t$2.colors("stroke"),accentColor:t$2.colors("accentColor"),textFillColor:t$2.colors("textFillColor")},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$2.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$2.space("gap"),rowGap:t$2.space("rowGap"),columnGap:t$2.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});const layout$1={width:t$2.sizesT("width"),inlineSize:t$2.sizesT("inlineSize"),height:t$2.sizes("height"),blockSize:t$2.sizes("blockSize"),boxSize:t$2.sizes(["width","height"]),minWidth:t$2.sizes("minWidth"),minInlineSize:t$2.sizes("minInlineSize"),minHeight:t$2.sizes("minHeight"),minBlockSize:t$2.sizes("minBlockSize"),maxWidth:t$2.sizes("maxWidth"),maxInlineSize:t$2.sizes("maxInlineSize"),maxHeight:t$2.sizes("maxHeight"),maxBlockSize:t$2.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(i,s)=>{var tt,_e;return{[`@media screen and (min-width: ${((_e=(tt=s.__breakpoints)==null?void 0:tt.get(i))==null?void 0:_e.minW)??i})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(i,s)=>{var tt,_e;return{[`@media screen and (max-width: ${((_e=(tt=s.__breakpoints)==null?void 0:tt.get(i))==null?void 0:_e._minW)??i})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$2.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});const filter$2={filter:{transform:transformFunctions.filter},blur:t$2.blur("--chakra-blur"),brightness:t$2.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$2.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$2.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$2.propT("--chakra-invert",transformFunctions.invert),saturate:t$2.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$2.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$2.blur("--chakra-backdrop-blur"),backdropBrightness:t$2.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$2.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$2.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$2.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$2.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},ring={ring:{transform:transformFunctions.ring},ringColor:t$2.colors("--chakra-ring-color"),ringOffset:t$2.prop("--chakra-ring-offset-width"),ringOffsetColor:t$2.colors("--chakra-ring-offset-color"),ringInset:t$2.prop("--chakra-ring-inset")},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$2.colors("outlineColor")},grid={gridGap:t$2.space("gridGap"),gridColumnGap:t$2.space("gridColumnGap"),gridRowGap:t$2.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function get$3(i,s,o,a){const tt=typeof s=="string"?s.split("."):[s];for(a=0;a<tt.length&&i;a+=1)i=i[tt[a]];return i===void 0?o:i}const memoize$2=i=>{const s=new WeakMap;return(a,tt,_e,st)=>{if(typeof a>"u")return i(a,tt,_e);s.has(a)||s.set(a,new Map);const ot=s.get(a);if(ot.has(tt))return ot.get(tt);const rt=i(a,tt,_e,st);return ot.set(tt,rt),rt}},memoizedGet=memoize$2(get$3),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(i,s,o)=>{const a={},tt=memoizedGet(i,s,{});for(const _e in tt)_e in o&&o[_e]!=null||(a[_e]=tt[_e]);return a},others={srOnly:{transform(i){return i===!0?srOnly:i==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,`layerStyles.${i}`,o)},textStyle:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,`textStyles.${i}`,o)},apply:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,i,o)}},position$1={position:!0,pos:t$2.prop("position"),zIndex:t$2.prop("zIndex","zIndices"),inset:t$2.spaceT("inset"),insetX:t$2.spaceT(["left","right"]),insetInline:t$2.spaceT("insetInline"),insetY:t$2.spaceT(["top","bottom"]),insetBlock:t$2.spaceT("insetBlock"),top:t$2.spaceT("top"),insetBlockStart:t$2.spaceT("insetBlockStart"),bottom:t$2.spaceT("bottom"),insetBlockEnd:t$2.spaceT("insetBlockEnd"),left:t$2.spaceT("left"),insetInlineStart:t$2.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$2.spaceT("right"),insetInlineEnd:t$2.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});const effect={boxShadow:t$2.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$2.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$2.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});const space={margin:t$2.spaceT("margin"),marginTop:t$2.spaceT("marginTop"),marginBlockStart:t$2.spaceT("marginBlockStart"),marginRight:t$2.spaceT("marginRight"),marginInlineEnd:t$2.spaceT("marginInlineEnd"),marginBottom:t$2.spaceT("marginBottom"),marginBlockEnd:t$2.spaceT("marginBlockEnd"),marginLeft:t$2.spaceT("marginLeft"),marginInlineStart:t$2.spaceT("marginInlineStart"),marginX:t$2.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$2.spaceT("marginInline"),marginY:t$2.spaceT(["marginTop","marginBottom"]),marginBlock:t$2.spaceT("marginBlock"),padding:t$2.space("padding"),paddingTop:t$2.space("paddingTop"),paddingBlockStart:t$2.space("paddingBlockStart"),paddingRight:t$2.space("paddingRight"),paddingBottom:t$2.space("paddingBottom"),paddingBlockEnd:t$2.space("paddingBlockEnd"),paddingLeft:t$2.space("paddingLeft"),paddingInlineStart:t$2.space("paddingInlineStart"),paddingInlineEnd:t$2.space("paddingInlineEnd"),paddingX:t$2.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$2.space("paddingInline"),paddingY:t$2.space(["paddingTop","paddingBottom"]),paddingBlock:t$2.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});const scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$2.spaceT("scrollMargin"),scrollMarginTop:t$2.spaceT("scrollMarginTop"),scrollMarginBottom:t$2.spaceT("scrollMarginBottom"),scrollMarginLeft:t$2.spaceT("scrollMarginLeft"),scrollMarginRight:t$2.spaceT("scrollMarginRight"),scrollMarginX:t$2.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$2.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$2.spaceT("scrollPadding"),scrollPaddingTop:t$2.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$2.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$2.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$2.spaceT("scrollPaddingRight"),scrollPaddingX:t$2.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$2.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},typography$1={fontFamily:t$2.prop("fontFamily","fonts"),fontSize:t$2.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$2.prop("fontWeight","fontWeights"),lineHeight:t$2.prop("lineHeight","lineHeights"),letterSpacing:t$2.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(i){if(i===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},textDecoration={textDecorationColor:t$2.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$2.shadows("textShadow")},transform={clipPath:!0,transform:t$2.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$2.spaceT("--chakra-translate-x"),translateY:t$2.spaceT("--chakra-translate-y"),skewX:t$2.degreeT("--chakra-skew-x"),skewY:t$2.degreeT("--chakra-skew-y"),scaleX:t$2.prop("--chakra-scale-x"),scaleY:t$2.prop("--chakra-scale-y"),scale:t$2.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$2.degreeT("--chakra-rotate")},list$2={listStyleType:!0,listStylePosition:!0,listStylePos:t$2.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$2.prop("listStyleImage")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$2.prop("transitionDuration","transition.duration"),transitionProperty:t$2.prop("transitionProperty","transition.property"),transitionTimingFunction:t$2.prop("transitionTimingFunction","transition.easing")},systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$2,ring,interactivity,grid,others,position$1,effect,space,scroll,typography$1,textDecoration,transform,list$2,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position$1),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=i=>i in styleProps,expandResponsive=i=>s=>{if(!s.__breakpoints)return i;const{isResponsive:o,toArrayValue:a,media:tt}=s.__breakpoints,_e={};for(const st in i){let ot=runIfFn$1(i[st],s);if(ot==null)continue;if(ot=isObject$2(ot)&&o(ot)?a(ot):ot,!Array.isArray(ot)){_e[st]=ot;continue}const rt=ot.slice(0,tt.length).length;for(let it=0;it<rt;it+=1){const j=tt==null?void 0:tt[it];if(!j){_e[st]=ot[it];continue}_e[j]=_e[j]||{},ot[it]!=null&&(_e[j][st]=ot[it])}}return _e};function splitByComma(i){const s=[];let o="",a=!1;for(let tt=0;tt<i.length;tt++){const _e=i[tt];_e==="("?(a=!0,o+=_e):_e===")"?(a=!1,o+=_e):_e===","&&!a?(s.push(o),o=""):o+=_e}return o=o.trim(),o&&s.push(o),s}function isCssVar(i){return/^var\(--.+\)$/.test(i)}const isCSSVariableTokenValue=(i,s)=>i.startsWith("--")&&typeof s=="string"&&!isCssVar(s),resolveTokenValue=(i,s)=>{if(s==null)return s;const o=st=>{var ot,rt;return(rt=(ot=i.__cssMap)==null?void 0:ot[st])==null?void 0:rt.varRef},a=st=>o(st)??st,[tt,_e]=splitByComma(s);return s=o(tt)??a(_e)??a(s),s};function getCss(i){const{configs:s={},pseudos:o={},theme:a}=i,tt=(_e,st=!1)=>{var j;const ot=runIfFn$1(_e,a),rt=expandResponsive(ot)(a);let it={};for(let _ in rt){const $=rt[_];let et=runIfFn$1($,a);_ in o&&(_=o[_]),isCSSVariableTokenValue(_,et)&&(et=resolveTokenValue(a,et));let nt=s[_];if(nt===!0&&(nt={property:_}),isObject$2(et)){it[_]=it[_]??{},it[_]=mergeWith({},it[_],tt(et,!0));continue}let at=((j=nt==null?void 0:nt.transform)==null?void 0:j.call(nt,et,a,ot))??et;at=nt!=null&&nt.processResult?tt(at,!0):at;const ct=runIfFn$1(nt==null?void 0:nt.property,a);if(!st&&(nt!=null&&nt.static)){const ht=runIfFn$1(nt.static,a);it=mergeWith({},it,ht)}if(ct&&Array.isArray(ct)){for(const ht of ct)it[ht]=at;continue}if(ct){ct==="&"&&isObject$2(at)?it=mergeWith({},it,at):it[ct]=at;continue}if(isObject$2(at)){it=mergeWith({},it,at);continue}it[_]=at}return it};return tt}const css$2=i=>s=>getCss({theme:s,pseudos:pseudoSelectors,configs:systemProps})(i);function defineStyle(i){return i}function defineStyleConfig(i){return i}function createMultiStyleConfigHelpers(i){return{definePartsStyle(s){return s},defineMultiStyleConfig(s){return{parts:i,...s}}}}function normalize$1(i,s){if(Array.isArray(i))return i;if(isObject$2(i))return s(i);if(i!=null)return[i]}function getNextIndex(i,s){for(let o=s+1;o<i.length;o++)if(i[o]!=null)return o;return-1}function createResolver(i){const s=i.__breakpoints;return function(a,tt,_e,st){var $,et;if(!s)return;const ot={},rt=normalize$1(_e,s.toArrayValue);if(!rt)return ot;const it=rt.length,j=it===1,_=!!a.parts;for(let nt=0;nt<it;nt++){const at=s.details[nt],ct=s.details[getNextIndex(rt,nt)],ht=toMediaQueryString(at.minW,ct==null?void 0:ct._minW),ut=runIfFn$1(($=a[tt])==null?void 0:$[rt[nt]],st);if(ut){if(_){(et=a.parts)==null||et.forEach(dt=>{mergeWith(ot,{[dt]:j?ut[dt]:{[ht]:ut[dt]}})});continue}if(!_){j?mergeWith(ot,ut):ot[ht]=ut;continue}ot[ht]=ut}}return ot}}function resolveStyleConfig(i){return s=>{const{variant:o,size:a,theme:tt}=s,_e=createResolver(tt);return mergeWith({},runIfFn$1(i.baseStyle??{},s),_e(i,"sizes",a,s),_e(i,"variants",o,s))}}function omitThemingProps(i){return omit(i,["styleConfig","size","variant","colorScheme"])}function resolveReference(i){return isObject$2(i)&&i.reference?i.reference:String(i)}const toExpression=(i,...s)=>s.map(resolveReference).join(` ${i} `).replace(/calc/g,""),add$1=(...i)=>`calc(${toExpression("+",...i)})`,subtract$1=(...i)=>`calc(${toExpression("-",...i)})`,multiply$1=(...i)=>`calc(${toExpression("*",...i)})`,divide$1=(...i)=>`calc(${toExpression("/",...i)})`,negate$1=i=>{const s=resolveReference(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$1(s,-1)},calc$1=Object.assign(i=>({add:(...s)=>calc$1(add$1(i,...s)),subtract:(...s)=>calc$1(subtract$1(i,...s)),multiply:(...s)=>calc$1(multiply$1(i,...s)),divide:(...s)=>calc$1(divide$1(i,...s)),negate:()=>calc$1(negate$1(i)),toString:()=>i.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(i,s="-"){return i.replace(/\s+/g,s)}function escape$1(i){const s=replaceWhiteSpace$1(i.toString());return escapeSymbol(escapeDot(s))}function escapeDot(i){return i.includes("\\.")?i:!Number.isInteger(parseFloat(i.toString()))?i.replace(".","\\."):i}function escapeSymbol(i){return i.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(i,s=""){return[s,i].filter(Boolean).join("-")}function toVarReference(i,s){return`var(${i}${s?`, ${s}`:""})`}function toVarDefinition(i,s=""){return escape$1(`--${addPrefix$1(i,s)}`)}function cssVar$1(i,s,o){const a=toVarDefinition(i,o);return{variable:a,reference:toVarReference(a,s)}}function defineCssVars(i,s){const o={};for(const a of s){if(Array.isArray(a)){const[tt,_e]=a;o[tt]=cssVar$1(`${i}-${tt}`,_e);continue}o[a]=cssVar$1(`${i}-${a}`)}return o}const tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(i){return pick$1(i,tokens)}function extractSemanticTokens(i){return i.semanticTokens}function omitVars(i){const{__cssMap:s,__cssVars:o,__breakpoints:a,...tt}=i;return tt}function flattenTokens(i){const s=extractTokens(i),o=extractSemanticTokens(i),a=_e=>pseudoPropNames.includes(_e)||_e==="default",tt={};return walkObject(s,(_e,st)=>{_e!=null&&(tt[st.join(".")]={isSemantic:!1,value:_e})}),walkObject(o,(_e,st)=>{_e!=null&&(tt[st.join(".")]={isSemantic:!0,value:_e})},{stop:_e=>Object.keys(_e).every(a)}),tt}function tokenToCssVar(i,s){return cssVar$1(String(i).replace(/\./g,"-"),void 0,s)}function createThemeVars(i){var st;const s=flattenTokens(i),o=(st=i.config)==null?void 0:st.cssVarPrefix;let a={};const tt={};function _e(ot,rt){const j=[String(ot).split(".")[0],rt].join(".");if(!s[j])return rt;const{reference:$}=tokenToCssVar(j,o);return $}for(const[ot,rt]of Object.entries(s)){const{isSemantic:it,value:j}=rt,{variable:_,reference:$}=tokenToCssVar(ot,o);if(!it){if(ot.startsWith("space")){const nt=ot.split("."),[at,...ct]=nt,ht=`${at}.-${ct.join(".")}`,ut=calc$1.negate(j),dt=calc$1.negate($);tt[ht]={value:ut,var:_,varRef:dt}}a[_]=j,tt[ot]={value:j,var:_,varRef:$};continue}const et=isObject$2(j)?j:{default:j};a=mergeWith(a,Object.entries(et).reduce((nt,[at,ct])=>{if(!ct)return nt;const ht=_e(ot,`${ct}`);if(at==="default")return nt[_]=ht,nt;const ut=(pseudoSelectors==null?void 0:pseudoSelectors[at])??at;return nt[ut]={[_]:ht},nt},{})),tt[ot]={value:$,var:_,varRef:$}}return{cssVars:a,cssMap:tt}}function toCSSVar(i){const s=omitVars(i),{cssMap:o,cssVars:a}=createThemeVars(s);return Object.assign(s,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...a},__cssMap:o,__breakpoints:analyzeBreakpoints(s.breakpoints)}),s}function anatomy(i,s={}){let o=!1;function a(){if(!o){o=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function tt(...j){a();for(const _ of j)s[_]=rt(_);return anatomy(i,s)}function _e(...j){for(const _ of j)_ in s||(s[_]=rt(_));return anatomy(i,s)}function st(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.selector]))}function ot(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.className]))}function rt(j){const et=`chakra-${(["container","root"].includes(j??"")?[i]:[i,j]).filter(Boolean).join("__")}`;return{className:et,selector:`.${et}`,toString:()=>j}}return{parts:tt,toPart:rt,extend:_e,selectors:st,classnames:ot,get keys(){return Object.keys(s)},__type:{}}}const accordionAnatomy=anatomy("accordion").parts("root","container","button","panel","icon"),alertAnatomy=anatomy("alert").parts("title","description","container","icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container","excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container","separator");anatomy("button").parts();const checkboxAnatomy=anatomy("checkbox").parts("control","icon","container","label");anatomy("progress").parts("track","filledTrack","label");const drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item","groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");const popoverAnatomy=anatomy("popover").parts("content","header","body","footer","popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$4={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon$6={fontSize:"1.25em"},baseStyle$F=definePartsStyle$p({container:baseStyleContainer$4,button:baseStyleButton$1,panel:baseStylePanel,icon:baseStyleIcon$6}),accordionTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$F});function guard(i,s,o){return Math.min(Math.max(i,o),s)}class ColorError extends Error{constructor(s){super(`Failed to parse color: "${s}"`)}}var ColorError$1=ColorError;function parseToRgba(i){if(typeof i!="string")throw new ColorError$1(i);if(i.trim().toLowerCase()==="transparent")return[0,0,0,0];let s=i.trim();s=namedColorRegex.test(i)?nameToHex(i):i;const o=reducedHexRegex.exec(s);if(o){const st=Array.from(o).slice(1);return[...st.slice(0,3).map(ot=>parseInt(r$2(ot,2),16)),parseInt(r$2(st[3]||"f",2),16)/255]}const a=hexRegex.exec(s);if(a){const st=Array.from(a).slice(1);return[...st.slice(0,3).map(ot=>parseInt(ot,16)),parseInt(st[3]||"ff",16)/255]}const tt=rgbaRegex.exec(s);if(tt){const st=Array.from(tt).slice(1);return[...st.slice(0,3).map(ot=>parseInt(ot,10)),parseFloat(st[3]||"1")]}const _e=hslaRegex.exec(s);if(_e){const[st,ot,rt,it]=Array.from(_e).slice(1).map(parseFloat);if(guard(0,100,ot)!==ot)throw new ColorError$1(i);if(guard(0,100,rt)!==rt)throw new ColorError$1(i);return[...hslToRgb(st,ot,rt),Number.isNaN(it)?1:it]}throw new ColorError$1(i)}function hash$1(i){let s=5381,o=i.length;for(;o;)s=s*33^i.charCodeAt(--o);return(s>>>0)%2341}const colorToInt=i=>parseInt(i.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((i,s)=>{const o=colorToInt(s.substring(0,3)),a=colorToInt(s.substring(3)).toString(16);let tt="";for(let _e=0;_e<6-a.length;_e++)tt+="0";return i[o]=`${tt}${a}`,i},{});function nameToHex(i){const s=i.toLowerCase().trim(),o=compressedColorMap[hash$1(s)];if(!o)throw new ColorError$1(i);return`#${o}`}const r$2=(i,s)=>Array.from(Array(s)).map(()=>i).join(""),reducedHexRegex=new RegExp(`^#${r$2("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$2("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$2(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=i=>Math.round(i*255),hslToRgb=(i,s,o)=>{let a=o/100;if(s===0)return[a,a,a].map(roundColor);const tt=(i%360+360)%360/60,_e=(1-Math.abs(2*a-1))*(s/100),st=_e*(1-Math.abs(tt%2-1));let ot=0,rt=0,it=0;tt>=0&&tt<1?(ot=_e,rt=st):tt>=1&&tt<2?(ot=st,rt=_e):tt>=2&&tt<3?(rt=_e,it=st):tt>=3&&tt<4?(rt=st,it=_e):tt>=4&&tt<5?(ot=st,it=_e):tt>=5&&tt<6&&(ot=_e,it=st);const j=a-_e/2,_=ot+j,$=rt+j,et=it+j;return[_,$,et].map(roundColor)};function rgba$1(i,s,o,a){return`rgba(${guard(0,255,i).toFixed()}, ${guard(0,255,s).toFixed()}, ${guard(0,255,o).toFixed()}, ${parseFloat(guard(0,1,a).toFixed(3))})`}function transparentize$1(i,s){const[o,a,tt,_e]=parseToRgba(i);return rgba$1(o,a,tt,_e-s)}function toHex(i){const[s,o,a,tt]=parseToRgba(i);let _e=st=>{const ot=guard(0,255,st).toString(16);return ot.length===1?`0${ot}`:ot};return`#${_e(s)}${_e(o)}${_e(a)}${tt<1?_e(Math.round(tt*255)):""}`}const isEmptyObject=i=>Object.keys(i).length===0;function get$2(i,s,o,a,tt){for(s=s.split?s.split("."):s,a=0;a<s.length;a++)i=i?i[s[a]]:tt;return i===tt?o:i}const getColor=(i,s,o)=>{const a=get$2(i,`colors.${s}`,s);try{return toHex(a),a}catch{return"#000000"}},getBrightness=i=>{const[s,o,a]=parseToRgba(i);return(s*299+o*587+a*114)/1e3},tone=i=>s=>{const o=getColor(s,i);return getBrightness(o)<128?"dark":"light"},isDark=i=>s=>tone(i)(s)==="dark",transparentize=(i,s)=>o=>{const a=getColor(o,i);return transparentize$1(a,1-s)};function generateStripe(i="1rem",s="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${s} 25%,
    transparent 25%,
    transparent 50%,
    ${s} 50%,
    ${s} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${i} ${i}`}}const randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(i){const s=randomHex();return!i||isEmptyObject(i)?s:i.string&&i.colors?randomColorFromList(i.string,i.colors):i.string&&!i.colors?randomColorFromString(i.string):i.colors&&!i.string?randomFromList(i.colors):s}function randomColorFromString(i){let s=0;if(i.length===0)return s.toString();for(let a=0;a<i.length;a+=1)s=i.charCodeAt(a)+((s<<5)-s),s=s&s;let o="#";for(let a=0;a<3;a+=1){const tt=s>>a*8&255;o+=`00${tt.toString(16)}`.substr(-2)}return o}function randomColorFromList(i,s){let o=0;if(i.length===0)return s[0];for(let a=0;a<i.length;a+=1)o=i.charCodeAt(a)+((o<<5)-o),o=o&o;return o=(o%s.length+s.length)%s.length,s[o]}function randomFromList(i){return i[Math.floor(Math.random()*i.length)]}function mode(i,s){return o=>o.colorMode==="dark"?s:i}function orient(i){const{orientation:s,vertical:o,horizontal:a}=i;return s?s==="vertical"?o:a:{}}function toRef(i){return isObject$2(i)&&i.reference?i.reference:String(i)}const toExpr=(i,...s)=>s.map(toRef).join(` ${i} `).replace(/calc/g,""),add=(...i)=>`calc(${toExpr("+",...i)})`,subtract=(...i)=>`calc(${toExpr("-",...i)})`,multiply=(...i)=>`calc(${toExpr("*",...i)})`,divide=(...i)=>`calc(${toExpr("/",...i)})`,negate=i=>{const s=toRef(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply(s,-1)},calc=Object.assign(i=>({add:(...s)=>calc(add(i,...s)),subtract:(...s)=>calc(subtract(i,...s)),multiply:(...s)=>calc(multiply(i,...s)),divide:(...s)=>calc(divide(i,...s)),negate:()=>calc(negate(i)),toString:()=>i.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(i){return!Number.isInteger(parseFloat(i.toString()))}function replaceWhiteSpace(i,s="-"){return i.replace(/\s+/g,s)}function escape(i){const s=replaceWhiteSpace(i.toString());return s.includes("\\.")?i:isDecimal(i)?s.replace(".","\\."):i}function addPrefix(i,s=""){return[s,escape(i)].filter(Boolean).join("-")}function toVarRef(i,s){return`var(${escape(i)}${s?`, ${s}`:""})`}function toVar(i,s=""){return`--${addPrefix(i,s)}`}function cssVar(i,s){const o=toVar(i,s==null?void 0:s.prefix);return{variable:o,reference:toVarRef(o,getFallback(s==null?void 0:s.fallback))}}function getFallback(i){return i==null?void 0:i.reference}const{definePartsStyle:definePartsStyle$o,defineMultiStyleConfig:defineMultiStyleConfig$o}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg$5=cssVar$1("alert-fg"),$bg$f=cssVar$1("alert-bg"),baseStyle$E=definePartsStyle$o({container:{bg:$bg$f.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(i){const{theme:s,colorScheme:o}=i,a=transparentize(`${o}.200`,.16)(s);return{light:`colors.${o}.100`,dark:a}}const variantSubtle$1=definePartsStyle$o(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:o.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:o.dark}}}}),variantLeftAccent=definePartsStyle$o(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:o.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:o.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg$5.reference}}}),variantTopAccent=definePartsStyle$o(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:o.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:o.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg$5.reference}}}),variantSolid$3=definePartsStyle$o(i=>{const{colorScheme:s}=i;return{container:{[$fg$5.variable]:"colors.white",[$bg$f.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:"colors.gray.900",[$bg$f.variable]:`colors.${s}.200`},color:$fg$5.reference}}}),variants$e={subtle:variantSubtle$1,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid$3},alertTheme=defineMultiStyleConfig$o({baseStyle:baseStyle$E,variants:variants$e,defaultProps:{variant:"subtle",colorScheme:"blue"}}),spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},isFunction$2=i=>typeof i=="function";function runIfFn(i,...s){return isFunction$2(i)?i(...s):i}const{definePartsStyle:definePartsStyle$n,defineMultiStyleConfig:defineMultiStyleConfig$n}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border$3=cssVar$1("avatar-border-color"),$bg$e=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size$4=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border$3.reference,[$border$3.variable]:"white",_dark:{[$border$3.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg$e.reference,fontSize:$fs.reference,width:$size$4.reference,height:$size$4.reference,lineHeight:"1",[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.400"}},baseStyleContainer$3=i=>{const{name:s,theme:o}=i,a=s?randomColor({string:s}):"colors.gray.400",tt=isDark(a)(o);let _e="white";return tt||(_e="gray.800"),{bg:$bg$e.reference,fontSize:$fs.reference,color:_e,borderColor:$border$3.reference,verticalAlign:"top",width:$size$4.reference,height:$size$4.reference,"&:not([data-loaded])":{[$bg$e.variable]:a},[$border$3.variable]:"colors.white",_dark:{[$border$3.variable]:"colors.gray.800"}}},baseStyleLabel$4={fontSize:$fs.reference,lineHeight:"1"},baseStyle$D=definePartsStyle$n(i=>({badge:runIfFn(baseStyleBadge,i),excessLabel:runIfFn(baseStyleExcessLabel,i),container:runIfFn(baseStyleContainer$3,i),label:baseStyleLabel$4}));function getSize$3(i){const s=i!=="100%"?sizes$m[i]:void 0;return definePartsStyle$n({container:{[$size$4.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`},excessLabel:{[$size$4.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`}})}const sizes$l={"2xs":getSize$3(4),xs:getSize$3(6),sm:getSize$3(8),md:getSize$3(12),lg:getSize$3(16),xl:getSize$3(24),"2xl":getSize$3(32),full:getSize$3("100%")},avatarTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$D,sizes:sizes$l,defaultProps:{size:"md"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$C={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$2=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.500`,.6)(o);return{[vars.bg.variable]:`colors.${s}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:a,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.200`,.16)(o);return{[vars.bg.variable]:`colors.${s}.100`,[vars.color.variable]:`colors.${s}.800`,_dark:{[vars.bg.variable]:a,[vars.color.variable]:`colors.${s}.200`}}},variantOutline$2=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.200`,.8)(o);return{[vars.color.variable]:`colors.${s}.500`,_dark:{[vars.color.variable]:a},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$d={solid:variantSolid$2,subtle:variantSubtle,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$C,variants:variants$d,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$B=definePartsStyle$m({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$B}),baseStyle$A={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=i=>{const{colorScheme:s,theme:o}=i;if(s==="gray")return{color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.100","whiteAlpha.200")(i)},_active:{bg:mode("gray.200","whiteAlpha.300")(i)}};const a=transparentize(`${s}.200`,.12)(o),tt=transparentize(`${s}.200`,.24)(o);return{color:mode(`${s}.600`,`${s}.200`)(i),bg:"transparent",_hover:{bg:mode(`${s}.50`,a)(i)},_active:{bg:mode(`${s}.100`,tt)(i)}}},variantOutline$1=i=>{const{colorScheme:s}=i,o=mode("gray.200","whiteAlpha.300")(i);return{border:"1px solid",borderColor:s==="gray"?o:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn(variantGhost,i)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$1=i=>{const{colorScheme:s}=i;if(s==="gray"){const ot=mode("gray.100","whiteAlpha.200")(i);return{bg:ot,color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.200","whiteAlpha.300")(i),_disabled:{bg:ot}},_active:{bg:mode("gray.300","whiteAlpha.400")(i)}}}const{bg:o=`${s}.500`,color:a="white",hoverBg:tt=`${s}.600`,activeBg:_e=`${s}.700`}=accessibleColorMap[s]??{},st=mode(o,`${s}.200`)(i);return{bg:st,color:mode(a,"gray.800")(i),_hover:{bg:mode(tt,`${s}.300`)(i),_disabled:{bg:st}},_active:{bg:mode(_e,`${s}.400`)(i)}}},variantLink=i=>{const{colorScheme:s}=i;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${s}.500`,`${s}.200`)(i),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${s}.700`,`${s}.500`)(i)}}},variantUnstyled$2={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$c={ghost:variantGhost,outline:variantOutline$1,solid:variantSolid$1,link:variantLink,unstyled:variantUnstyled$2},sizes$k={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle$A,variants:variants$c,sizes:sizes$k,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$l,defineMultiStyleConfig:defineMultiStyleConfig$l}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$d=cssVar$1("card-bg"),$padding$1=cssVar$1("card-padding"),$shadow$3=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$2=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$z=definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-body-bg",backgroundColor:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$2.reference,borderColor:$borderColor.reference},body:{padding:$padding$1.reference,flex:"1 1 0%"},header:{padding:$padding$1.reference},footer:{padding:$padding$1.reference}}),sizes$j={sm:definePartsStyle$l({container:{[$radius.variable]:"radii.base",[$padding$1.variable]:"space.3"}}),md:definePartsStyle$l({container:{[$radius.variable]:"radii.md",[$padding$1.variable]:"space.5"}}),lg:definePartsStyle$l({container:{[$radius.variable]:"radii.xl",[$padding$1.variable]:"space.7"}})},variants$b={elevated:definePartsStyle$l({container:{[$shadow$3.variable]:"shadows.base",_dark:{[$bg$d.variable]:"colors.gray.700"}}}),outline:definePartsStyle$l({container:{[$border$2.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding$1.variable]:0},header:{[$padding$1.variable]:0},footer:{[$padding$1.variable]:0}}},cardTheme=defineMultiStyleConfig$l({baseStyle:baseStyle$z,variants:variants$b,sizes:sizes$j,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=i=>{const{colorScheme:s}=i;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i),_hover:{bg:mode(`${s}.600`,`${s}.300`)(i),borderColor:mode(`${s}.600`,`${s}.300`)(i)},_disabled:{borderColor:mode("gray.200","transparent")(i),bg:mode("gray.200","whiteAlpha.300")(i),color:mode("gray.500","whiteAlpha.500")(i)}},_indeterminate:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(i),borderColor:mode("gray.100","transparent")(i)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(i)}}},baseStyleContainer$2={_disabled:{cursor:"not-allowed"}},baseStyleLabel$3={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$5={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$y=definePartsStyle$k(i=>({icon:baseStyleIcon$5,container:baseStyleContainer$2,control:runIfFn(baseStyleControl$1,i),label:baseStyleLabel$3})),sizes$i={sm:definePartsStyle$k({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$k({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$k({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig$k({baseStyle:baseStyle$y,sizes:sizes$i,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("close-button-size"),$bg$c=cssVar("close-button-bg"),baseStyle$x={w:[$size$2.reference],h:[$size$2.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$c.variable]:"colors.blackAlpha.100",_dark:{[$bg$c.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$c.variable]:"colors.blackAlpha.200",_dark:{[$bg$c.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$c.reference},sizes$h={lg:{[$size$2.variable]:"sizes.10",fontSize:"md"},md:{[$size$2.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$2.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$x,sizes:sizes$h,defaultProps:{size:"md"}},{variants:variants$a,defaultProps}=badgeTheme,baseStyle$w={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$w,variants:variants$a,defaultProps},baseStyle$v={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$v},baseStyle$u={opacity:.6,borderColor:"inherit"},variantSolid={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$9={solid:variantSolid,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$u,variants:variants$9,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$j,defineMultiStyleConfig:defineMultiStyleConfig$j}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$b=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$2(i){return definePartsStyle$j(i==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:i}})}const baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog$1=i=>{const{isFullHeight:s}=i;return{...s&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$b.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$b.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$b.reference,boxShadow:$bs.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$3={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter$2={px:"6",py:"4"},baseStyle$t=definePartsStyle$j(i=>({overlay:baseStyleOverlay$1,dialogContainer:baseStyleDialogContainer$1,dialog:runIfFn(baseStyleDialog$1,i),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$3,body:baseStyleBody$2,footer:baseStyleFooter$2})),sizes$g={xs:getSize$2("xs"),sm:getSize$2("md"),md:getSize$2("lg"),lg:getSize$2("2xl"),xl:getSize$2("4xl"),full:getSize$2("full")},drawerTheme=defineMultiStyleConfig$j({baseStyle:baseStyle$t,sizes:sizes$g,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$s=definePartsStyle$i({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$s}),{definePartsStyle:definePartsStyle$h,defineMultiStyleConfig:defineMultiStyleConfig$h}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$4=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$4.variable]:"colors.red.500",_dark:{[$fg$4.variable]:"colors.red.300"},color:$fg$4.reference},baseStyleHelperText={mt:"2",[$fg$4.variable]:"colors.gray.600",_dark:{[$fg$4.variable]:"colors.whiteAlpha.600"},color:$fg$4.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$r=definePartsStyle$h({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$r}),{definePartsStyle:definePartsStyle$g,defineMultiStyleConfig:defineMultiStyleConfig$g}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$3=cssVar$1("form-error-color"),baseStyleText={[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$4={marginEnd:"0.5em",[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference},baseStyle$q=definePartsStyle$g({text:baseStyleText,icon:baseStyleIcon$4}),formErrorTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$q}),baseStyle$p={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$p},baseStyle$o={fontFamily:"heading",fontWeight:"bold"},sizes$f={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$o,sizes:sizes$f,defaultProps:{size:"xl"}},{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height$1=cssVar$1("input-height"),$fontSize$1=cssVar$1("input-font-size"),$padding=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$n=definePartsStyle$f({addon:{height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize$1.variable]:"fontSizes.lg",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.12"},md:{[$fontSize$1.variable]:"fontSizes.md",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.10"},sm:{[$fontSize$1.variable]:"fontSizes.sm",[$padding.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.8"},xs:{[$fontSize$1.variable]:"fontSizes.xs",[$padding.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.6"}},sizes$e={lg:definePartsStyle$f({field:size.lg,group:size.lg}),md:definePartsStyle$f({field:size.md,group:size.md}),sm:definePartsStyle$f({field:size.sm,group:size.sm}),xs:definePartsStyle$f({field:size.xs,group:size.xs})};function getDefaults(i){const{focusBorderColor:s,errorBorderColor:o}=i;return{focusBorderColor:s||mode("blue.500","blue.300")(i),errorBorderColor:o||mode("red.500","red.300")(i)}}const variantOutline=definePartsStyle$f(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a),boxShadow:`0 0 0 1px ${getColor(s,a)}`},_focusVisible:{zIndex:1,borderColor:getColor(s,o),boxShadow:`0 0 0 1px ${getColor(s,o)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(i),bg:mode("gray.100","whiteAlpha.300")(i)}}}),variantFilled=definePartsStyle$f(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i),_hover:{bg:mode("gray.200","whiteAlpha.100")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a)},_focusVisible:{bg:"transparent",borderColor:getColor(s,o)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i)}}}),variantFlushed=definePartsStyle$f(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a),boxShadow:`0px 1px 0px 0px ${getColor(s,a)}`},_focusVisible:{borderColor:getColor(s,o),boxShadow:`0px 1px 0px 0px ${getColor(s,o)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$f({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$8={outline:variantOutline,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$f({baseStyle:baseStyle$n,sizes:sizes$e,variants:variants$8,defaultProps:{size:"md",variant:"outline"}}),$bg$a=cssVar$1("kbd-bg"),baseStyle$m={[$bg$a.variable]:"colors.gray.100",_dark:{[$bg$a.variable]:"colors.whiteAlpha.100"},bg:$bg$a.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$m},baseStyle$l={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$l},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$k=definePartsStyle$e({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$k}),{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$9=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$9.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$9.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:$bg$9.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$9.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton={transitionProperty:"common",transitionDuration:"normal"},baseStyle$j=definePartsStyle$d({button:baseStyleButton,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$j}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$8=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer=i=>{const{isCentered:s,scrollBehavior:o}=i;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:s?"center":"flex-start",overflow:o==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog=i=>{const{isCentered:s,scrollBehavior:o}=i;return{borderRadius:"md",color:"inherit",my:s?"auto":"16",mx:s?"auto":void 0,zIndex:"modal",maxH:o==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$8.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$8.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$8.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$1={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$1=i=>{const{scrollBehavior:s}=i;return{px:"6",py:"2",flex:"1",overflow:s==="inside"?"auto":void 0}},baseStyleFooter$1={px:"6",py:"4"},baseStyle$i=definePartsStyle$c(i=>({overlay:baseStyleOverlay,dialogContainer:runIfFn(baseStyleDialogContainer,i),dialog:runIfFn(baseStyleDialog,i),header:baseStyleHeader$1,closeButton:baseStyleCloseButton$2,body:runIfFn(baseStyleBody$1,i),footer:baseStyleFooter$1}));function getSize$1(i){return definePartsStyle$c(i==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:i}})}const sizes$d={xs:getSize$1("xs"),sm:getSize$1("sm"),md:getSize$1("md"),lg:getSize$1("lg"),xl:getSize$1("xl"),"2xl":getSize$1("2xl"),"3xl":getSize$1("3xl"),"4xl":getSize$1("4xl"),"5xl":getSize$1("5xl"),"6xl":getSize$1("6xl"),full:getSize$1("full")},modalTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$i,sizes:sizes$d,defaultProps:{size:"md"}}),typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$7=cssVar("number-input-bg"),$fg$2=cssVar("number-input-color"),$border$1=cssVar("number-input-border-color"),baseStyleRoot$1={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField$1=i=>{var s;return((s=runIfFn(inputTheme.baseStyle,i))==null?void 0:s.field)??{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$1.reference,color:$fg$2.reference,bg:$bg$7.reference,[$fg$2.variable]:"colors.chakra-body-text",[$border$1.variable]:"colors.chakra-border-color",_dark:{[$fg$2.variable]:"colors.whiteAlpha.800",[$border$1.variable]:"colors.whiteAlpha.300"},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$h=definePartsStyle$b(i=>({root:baseStyleRoot$1,field:runIfFn(baseStyleField$1,i)??{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}));function getSize(i){var _e,st;const s=(_e=inputTheme.sizes)==null?void 0:_e[i],o={lg:"md",md:"md",sm:"sm",xs:"sm"},a=((st=s.field)==null?void 0:st.fontSize)??"md",tt=typography.fontSizes[a];return definePartsStyle$b({field:{...s.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(tt).multiply(.75).toString(),_first:{borderTopEndRadius:o[i]},_last:{borderBottomEndRadius:o[i],mt:"-1px",borderTopWidth:1}}})}const sizes$c={xs:getSize("xs"),sm:getSize("sm"),md:getSize("md"),lg:getSize("lg")},numberInputTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$h,sizes:sizes$c,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps});var ky;const baseStyle$g={...(ky=inputTheme.baseStyle)==null?void 0:ky.field,textAlign:"center"},sizes$b={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var $y;const variants$7={outline:i=>{var s,o;return((o=runIfFn((s=inputTheme.variants)==null?void 0:s.outline,i))==null?void 0:o.field)??{}},flushed:i=>{var s,o;return((o=runIfFn((s=inputTheme.variants)==null?void 0:s.flushed,i))==null?void 0:o.field)??{}},filled:i=>{var s,o;return((o=runIfFn((s=inputTheme.variants)==null?void 0:s.filled,i))==null?void 0:o.field)??{}},unstyled:(($y=inputTheme.variants)==null?void 0:$y.unstyled.field)??{}},pinInputTheme={baseStyle:baseStyle$g,sizes:sizes$b,variants:variants$7,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg$1=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:"popover"},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg$1.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody={px:3,py:2},baseStyleFooter={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$f=definePartsStyle$a({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader,body:baseStyleBody,footer:baseStyleFooter,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$f}),{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=i=>{const{colorScheme:s,theme:o,isIndeterminate:a,hasStripe:tt}=i,_e=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(i),st=mode(`${s}.500`,`${s}.200`)(i),ot=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(o,st)} 50%,
    transparent 100%
  )`;return{...!a&&tt&&_e,...a?{bgImage:ot}:{bgColor:st}}},baseStyleLabel$2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$2=i=>({bg:mode("gray.100","whiteAlpha.300")(i)}),baseStyleFilledTrack$1=i=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(i)}),baseStyle$e=definePartsStyle$9(i=>({label:baseStyleLabel$2,filledTrack:baseStyleFilledTrack$1(i),track:baseStyleTrack$2(i)})),sizes$a={xs:definePartsStyle$9({track:{h:"1"}}),sm:definePartsStyle$9({track:{h:"2"}}),md:definePartsStyle$9({track:{h:"3"}}),lg:definePartsStyle$9({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$9({sizes:sizes$a,baseStyle:baseStyle$e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$8,definePartsStyle:definePartsStyle$8}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=i=>{var o;const s=(o=runIfFn(checkboxTheme.baseStyle,i))==null?void 0:o.control;return{...s,borderRadius:"full",_checked:{...s==null?void 0:s._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$d=definePartsStyle$8(i=>{var s,o;return{label:(s=checkboxTheme.baseStyle)==null?void 0:s.call(checkboxTheme,i).label,container:(o=checkboxTheme.baseStyle)==null?void 0:o.call(checkboxTheme,i).container,control:baseStyleControl(i)}}),sizes$9={md:definePartsStyle$8({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$8({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$8({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$d,sizes:sizes$9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$7,definePartsStyle:definePartsStyle$7}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$6=cssVar$1("select-bg");var Ay;const baseStyleField={...(Ay=inputTheme.baseStyle)==null?void 0:Ay.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$6.reference,[$bg$6.variable]:"colors.white",_dark:{[$bg$6.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$6.reference}},baseStyleIcon$1={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$c=definePartsStyle$7({field:baseStyleField,icon:baseStyleIcon$1}),iconSpacing={paddingInlineEnd:"8"};var Iy,Ry,My,Ly,Py,Dy,Ny,Oy;const sizes$8={lg:{...(Iy=inputTheme.sizes)==null?void 0:Iy.lg,field:{...(Ry=inputTheme.sizes)==null?void 0:Ry.lg.field,...iconSpacing}},md:{...(My=inputTheme.sizes)==null?void 0:My.md,field:{...(Ly=inputTheme.sizes)==null?void 0:Ly.md.field,...iconSpacing}},sm:{...(Py=inputTheme.sizes)==null?void 0:Py.sm,field:{...(Dy=inputTheme.sizes)==null?void 0:Dy.sm.field,...iconSpacing}},xs:{...(Ny=inputTheme.sizes)==null?void 0:Ny.xs,field:{...(Oy=inputTheme.sizes)==null?void 0:Oy.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$c,sizes:sizes$8,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$b={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$b},$bg$5=cssVar$1("skip-link-bg"),baseStyle$a={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$5.variable]:"colors.white",_dark:{[$bg$5.variable]:"colors.gray.700"},bg:$bg$5.reference}},skipLinkTheme={baseStyle:baseStyle$a},{defineMultiStyleConfig:defineMultiStyleConfig$6,definePartsStyle:definePartsStyle$6}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$4=cssVar$1("slider-bg"),baseStyleContainer$1=i=>{const{orientation:s}=i;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:s,vertical:{h:"100%",px:calc$1($thumbSize.reference).divide(2).toString()},horizontal:{w:"100%",py:calc$1($thumbSize.reference).divide(2).toString()}})}},baseStyleTrack$1=i=>({...orient({orientation:i.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$4.variable]:"colors.gray.200",_dark:{[$bg$4.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$4.variable]:"colors.gray.300",_dark:{[$bg$4.variable]:"colors.whiteAlpha.300"}},bg:$bg$4.reference}),baseStyleThumb$1=i=>{const{orientation:s}=i;return{...orient({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=i=>{const{colorScheme:s}=i;return{width:"inherit",height:"inherit",[$bg$4.variable]:`colors.${s}.500`,_dark:{[$bg$4.variable]:`colors.${s}.200`},bg:$bg$4.reference}},baseStyle$9=definePartsStyle$6(i=>({container:baseStyleContainer$1(i),track:baseStyleTrack$1(i),thumb:baseStyleThumb$1(i),filledTrack:baseStyleFilledTrack(i)})),sizeLg=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$7={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$9,sizes:sizes$7,defaultProps:{size:"md",colorScheme:"blue"}}),$size$1=cssVar("spinner-size"),baseStyle$8={width:[$size$1.reference],height:[$size$1.reference]},sizes$6={xs:{[$size$1.variable]:"sizes.3"},sm:{[$size$1.variable]:"sizes.4"},md:{[$size$1.variable]:"sizes.6"},lg:{[$size$1.variable]:"sizes.8"},xl:{[$size$1.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$8,sizes:sizes$6,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$5,definePartsStyle:definePartsStyle$5}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$7=definePartsStyle$5({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon}),sizes$5={md:definePartsStyle$5({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$7,sizes:sizes$5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$6=definePartsStyle$4(({colorScheme:i})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${i}.500`,_dark:{[$accentColor.variable]:`colors.${i}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size.reference,height:$size.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size.reference} - 8px)`,top:`calc(${$size.reference} + 4px)`,insetStart:`calc(${$size.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$4({baseStyle:baseStyle$6,sizes:{xs:definePartsStyle$4({stepper:{[$size.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$4({stepper:{[$size.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$4({stepper:{[$size.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$4({stepper:{[$size.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$3,definePartsStyle:definePartsStyle$3}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg$3=cssVar("switch-bg"),baseStyleTrack=i=>{const{colorScheme:s}=i;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$3.variable]:"colors.gray.300",_dark:{[$bg$3.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$3.variable]:`colors.${s}.500`,_dark:{[$bg$3.variable]:`colors.${s}.200`}},bg:$bg$3.reference}},baseStyleThumb={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$5=definePartsStyle$3(i=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack(i),thumb:baseStyleThumb})),sizes$4={sm:definePartsStyle$3({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle$3({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle$3({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$5,sizes:sizes$4,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$2,definePartsStyle:definePartsStyle$2}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$4=definePartsStyle$2({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$2(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$2(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i)},td:{background:mode(`${s}.100`,`${s}.700`)(i)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$6={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$3={sm:definePartsStyle$2({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$2({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$2({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$2({baseStyle:baseStyle$4,variants:variants$6,sizes:sizes$3,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$1=cssVar$1("tabs-color"),$bg$2=cssVar$1("tabs-bg"),$border=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$1,definePartsStyle:definePartsStyle$1}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot=i=>{const{orientation:s}=i;return{display:s==="vertical"?"flex":"block"}},baseStyleTab=i=>{const{isFitted:s}=i;return{flex:s?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=i=>{const{align:s="start",orientation:o}=i;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[s],flexDirection:o==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$3=definePartsStyle$1(i=>({root:baseStyleRoot(i),tab:baseStyleTab(i),tablist:baseStyleTablist(i),tabpanel:baseStyleTabpanel})),sizes$2={sm:definePartsStyle$1({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$1({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$1({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$1(i=>{const{colorScheme:s,orientation:o}=i,a=o==="vertical",tt=a?"borderStart":"borderBottom",_e=a?"marginStart":"marginBottom";return{tablist:{[tt]:"2px solid",borderColor:"inherit"},tab:{[tt]:"2px solid",borderColor:"transparent",[_e]:"-2px",_selected:{[$fg$1.variable]:`colors.${s}.600`,_dark:{[$fg$1.variable]:`colors.${s}.300`},borderColor:"currentColor"},_active:{[$bg$2.variable]:"colors.gray.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantEnclosed=definePartsStyle$1(i=>{const{colorScheme:s}=i;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border.variable]:"transparent",_selected:{[$fg$1.variable]:`colors.${s}.600`,[$border.variable]:"colors.white",_dark:{[$fg$1.variable]:`colors.${s}.300`,[$border.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border.reference},color:$fg$1.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$1(i=>{const{colorScheme:s}=i;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$2.variable]:"colors.gray.50",_dark:{[$bg$2.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$2.variable]:"colors.white",[$fg$1.variable]:`colors.${s}.600`,_dark:{[$bg$2.variable]:"colors.gray.800",[$fg$1.variable]:`colors.${s}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$1.reference,bg:$bg$2.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$1(i=>{const{colorScheme:s,theme:o}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(o,`${s}.700`),bg:getColor(o,`${s}.100`)}}}}),variantSolidRounded=definePartsStyle$1(i=>{const{colorScheme:s}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$1.variable]:"colors.gray.600",_dark:{[$fg$1.variable]:"inherit"},_selected:{[$fg$1.variable]:"colors.white",[$bg$2.variable]:`colors.${s}.600`,_dark:{[$fg$1.variable]:"colors.gray.800",[$bg$2.variable]:`colors.${s}.300`}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantUnstyled=definePartsStyle$1({}),variants$5={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled},tabsTheme=defineMultiStyleConfig$1({baseStyle:baseStyle$3,sizes:sizes$2,variants:variants$5,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig,definePartsStyle}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$1=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$1.variable]:vars.bg.reference,[$shadow.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$1.reference,boxShadow:$shadow.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize.reference,px:$paddingX.reference,_focusVisible:{[$shadow.variable]:"shadows.outline"}},baseStyleLabel={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$2=definePartsStyle({container:baseStyleContainer,label:baseStyleLabel,closeButton:baseStyleCloseButton}),sizes$1={sm:definePartsStyle({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$4={subtle:definePartsStyle(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.subtle(i)}}),solid:definePartsStyle(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.solid(i)}}),outline:definePartsStyle(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.outline(i)}})},tagTheme=defineMultiStyleConfig({variants:variants$4,baseStyle:baseStyle$2,sizes:sizes$1,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var Fy;const baseStyle$1={...(Fy=inputTheme.baseStyle)==null?void 0:Fy.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var Vy;const variants$3={outline:i=>{var s;return((s=inputTheme.variants)==null?void 0:s.outline(i).field)??{}},flushed:i=>{var s;return((s=inputTheme.variants)==null?void 0:s.flushed(i).field)??{}},filled:i=>{var s;return((s=inputTheme.variants)==null?void 0:s.filled(i).field)??{}},unstyled:((Vy=inputTheme.variants)==null?void 0:Vy.unstyled.field)??{}};var By,zy,jy,Uy;const sizes={xs:((By=inputTheme.sizes)==null?void 0:By.xs.field)??{},sm:((zy=inputTheme.sizes)==null?void 0:zy.sm.field)??{},md:((jy=inputTheme.sizes)==null?void 0:jy.md.field)??{},lg:((Uy=inputTheme.sizes)==null?void 0:Uy.lg.field)??{}},textareaTheme={baseStyle:baseStyle$1,sizes,variants:variants$3,defaultProps:{size:"md",variant:"outline"}},$bg=cssVar("tooltip-bg"),$fg=cssVar("tooltip-fg"),$arrowBg=cssVar("popper-arrow-bg"),baseStyle={bg:$bg.reference,color:$fg.reference,[$bg.variable]:"colors.gray.700",[$fg.variable]:"colors.whiteAlpha.900",_dark:{[$bg.variable]:"colors.gray.300",[$fg.variable]:"colors.gray.900"},[$arrowBg.variable]:$bg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle},components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},foundations={breakpoints:breakpoints$1,zIndices,radii,blur,colors,...typography,sizes:sizes$m,shadows,space:spacing,borders:borders$1,transition},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(i){return isObject$2(i)?requiredChakraThemeKeys.every(s=>Object.prototype.hasOwnProperty.call(i,s)):!1}const direction="ltr",config$1={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config:config$1};var isDevelopment$3=!1;function sheetForTag(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function createStyleElement(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function i(o){var a=this;this._insertTag=function(tt){var _e;a.tags.length===0?a.insertionPoint?_e=a.insertionPoint.nextSibling:a.prepend?_e=a.container.firstChild:_e=a.before:_e=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(tt,_e),a.tags.push(tt)},this.isSpeedy=o.speedy===void 0?!isDevelopment$3:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var tt=this.tags[this.tags.length-1];if(this.isSpeedy){var _e=sheetForTag(tt);try{_e.insertRule(a,_e.cssRules.length)}catch{}}else tt.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){var tt;return(tt=a.parentNode)==null?void 0:tt.removeChild(a)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(i,s){return charat(i,0)^45?(((s<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,s){return(i=s.exec(i))?i[0]:i}function replace(i,s,o){return i.replace(s,o)}function indexof(i,s){return i.indexOf(s)}function charat(i,s){return i.charCodeAt(s)|0}function substr(i,s,o){return i.slice(s,o)}function strlen(i){return i.length}function sizeof(i){return i.length}function append$1(i,s){return s.push(i),i}function combine(i,s){return i.map(s).join("")}var line=1,column=1,length$1=0,position=0,character=0,characters="";function node(i,s,o,a,tt,_e,st){return{value:i,root:s,parent:o,type:a,props:tt,children:_e,line,column,length:st,return:""}}function copy(i,s){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},s)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$1?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice(i,s){return substr(characters,i,s)}function token$1(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length$1=strlen(characters=i),position=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek$1())&&character<33;)next();return token$1(i)>2||token$1(character)>3?"":" "}function escaping(i,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(s<6&&peek$1()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position}function commenter(i,s){for(;next()&&i+character!==57;)if(i+character===84&&peek$1()===47)break;return"/*"+slice(s,position-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token$1(peek$1());)next();return slice(i,position)}function compile(i){return dealloc(parse$2("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$2(i,s,o,a,tt,_e,st,ot,rt){for(var it=0,j=0,_=st,$=0,et=0,nt=0,at=1,ct=1,ht=1,ut=0,dt="",mt=tt,gt=_e,lt=a,St=dt;ct;)switch(nt=ut,ut=next()){case 40:if(nt!=108&&charat(St,_-1)==58){indexof(St+=replace(delimit(ut),"&","&\f"),"&\f")!=-1&&(ht=-1);break}case 34:case 39:case 91:St+=delimit(ut);break;case 9:case 10:case 13:case 32:St+=whitespace(nt);break;case 92:St+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment(commenter(next(),caret()),s,o),rt);break;default:St+="/"}break;case 123*at:ot[it++]=strlen(St)*ht;case 125*at:case 59:case 0:switch(ut){case 0:case 125:ct=0;case 59+j:ht==-1&&(St=replace(St,/\f/g,"")),et>0&&strlen(St)-_&&append$1(et>32?declaration(St+";",a,o,_-1):declaration(replace(St," ","")+";",a,o,_-2),rt);break;case 59:St+=";";default:if(append$1(lt=ruleset(St,s,o,it,j,tt,ot,dt,mt=[],gt=[],_),_e),ut===123)if(j===0)parse$2(St,s,lt,lt,mt,_e,_,ot,gt);else switch($===99&&charat(St,3)===110?100:$){case 100:case 108:case 109:case 115:parse$2(i,lt,lt,a&&append$1(ruleset(i,lt,lt,0,0,tt,ot,dt,tt,mt=[],_),gt),tt,gt,_,ot,a?mt:gt);break;default:parse$2(St,lt,lt,lt,[""],gt,0,ot,gt)}}it=j=et=0,at=ht=1,dt=St="",_=st;break;case 58:_=1+strlen(St),et=nt;default:if(at<1){if(ut==123)--at;else if(ut==125&&at++==0&&prev()==125)continue}switch(St+=from(ut),ut*at){case 38:ht=j>0?1:(St+="\f",-1);break;case 44:ot[it++]=(strlen(St)-1)*ht,ht=1;break;case 64:peek$1()===45&&(St+=delimit(next())),$=peek$1(),j=_=strlen(dt=St+=identifier(caret())),ut++;break;case 45:nt===45&&strlen(St)==2&&(at=0)}}return _e}function ruleset(i,s,o,a,tt,_e,st,ot,rt,it,j){for(var _=tt-1,$=tt===0?_e:[""],et=sizeof($),nt=0,at=0,ct=0;nt<a;++nt)for(var ht=0,ut=substr(i,_+1,_=abs(at=st[nt])),dt=i;ht<et;++ht)(dt=trim(at>0?$[ht]+" "+ut:replace(ut,/&\f/g,$[ht])))&&(rt[ct++]=dt);return node(i,s,o,tt===0?RULESET:ot,rt,it,j)}function comment(i,s,o){return node(i,s,o,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,s,o,a){return node(i,s,o,DECLARATION,substr(i,0,a),substr(i,a+1,-1),a)}function serialize(i,s){for(var o="",a=sizeof(i),tt=0;tt<a;tt++)o+=s(i[tt],tt,i,s)||"";return o}function stringify$4(i,s,o,a){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,a)+"}";case RULESET:i.value=i.props.join(",")}return strlen(o=serialize(i.children,a))?i.return=i.value+"{"+o+"}":""}function middleware(i){var s=sizeof(i);return function(o,a,tt,_e){for(var st="",ot=0;ot<s;ot++)st+=i[ot](o,a,tt,_e)||"";return st}}function rulesheet(i){return function(s){s.root||(s=s.return)&&i(s)}}var weakMemoize=function(s){var o=new WeakMap;return function(a){if(o.has(a))return o.get(a);var tt=s(a);return o.set(a,tt),tt}};function memoize$1(i){var s=Object.create(null);return function(o){return s[o]===void 0&&(s[o]=i(o)),s[o]}}var identifierWithPointTracking=function(s,o,a){for(var tt=0,_e=0;tt=_e,_e=peek$1(),tt===38&&_e===12&&(o[a]=1),!token$1(_e);)next();return slice(s,position)},toRules=function(s,o){var a=-1,tt=44;do switch(token$1(tt)){case 0:tt===38&&peek$1()===12&&(o[a]=1),s[a]+=identifierWithPointTracking(position-1,o,a);break;case 2:s[a]+=delimit(tt);break;case 4:if(tt===44){s[++a]=peek$1()===58?"&\f":"",o[a]=s[a].length;break}default:s[a]+=from(tt)}while(tt=next());return s},getRules=function(s,o){return dealloc(toRules(alloc(s),o))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var o=s.value,a=s.parent,tt=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&o.charCodeAt(0)!==58&&!fixedElements.get(a))&&!tt){fixedElements.set(s,!0);for(var _e=[],st=getRules(o,_e),ot=a.props,rt=0,it=0;rt<st.length;rt++)for(var j=0;j<ot.length;j++,it++)s.props[it]=_e[rt]?st[rt].replace(/&\f/g,ot[j]):ot[j]+" "+st[rt]}}},removeLabel=function(s){if(s.type==="decl"){var o=s.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(i,s){switch(hash(i,s)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-s>6)switch(charat(i,s+1)){case 109:if(charat(i,s+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(charat(i,s+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,s+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(s,o,a,tt){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],tt);case RULESET:if(s.length)return combine(s.props,function(_e){switch(match(_e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(_e,/:(read-\w+)/,":"+MOZ+"$1")]})],tt);case"::placeholder":return serialize([copy(s,{props:[replace(_e,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(_e,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(_e,/:(plac\w+)/,MS+"input-$1")]})],tt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var o=s.key;if(o==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(at){var ct=at.getAttribute("data-emotion");ct.indexOf(" ")!==-1&&(document.head.appendChild(at),at.setAttribute("data-s",""))})}var tt=s.stylisPlugins||defaultStylisPlugins,_e={},st,ot=[];st=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(at){for(var ct=at.getAttribute("data-emotion").split(" "),ht=1;ht<ct.length;ht++)_e[ct[ht]]=!0;ot.push(at)});var rt,it=[compat,removeLabel];{var j,_=[stringify$4,rulesheet(function(at){j.insert(at)})],$=middleware(it.concat(tt,_)),et=function(ct){return serialize(compile(ct),$)};rt=function(ct,ht,ut,dt){j=ut,et(ct?ct+"{"+ht.styles+"}":ht.styles),dt&&(nt.inserted[ht.name]=!0)}}var nt={key:o,sheet:new StyleSheet({key:o,container:st,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:_e,registered:{},insert:rt};return nt.sheet.hydrate(ot),nt};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)({}).hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends$1.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g$1=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m$1=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p$2=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t$1=b?Symbol.for("react.lazy"):60116,v$2=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z$1(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case c:switch(i=i.type,i){case l:case m$1:case e:case g$1:case f:case p$2:return i;default:switch(i=i&&i.$$typeof,i){case k:case n$1:case t$1:case r$1:case h:return i;default:return s}}case d:return s}}}function A$1(i){return z$1(i)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(i){return A$1(i)||z$1(i)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(i){return z$1(i)===k};reactIs_production_min.isContextProvider=function(i){return z$1(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z$1(i)===n$1};reactIs_production_min.isFragment=function(i){return z$1(i)===e};reactIs_production_min.isLazy=function(i){return z$1(i)===t$1};reactIs_production_min.isMemo=function(i){return z$1(i)===r$1};reactIs_production_min.isPortal=function(i){return z$1(i)===d};reactIs_production_min.isProfiler=function(i){return z$1(i)===g$1};reactIs_production_min.isStrictMode=function(i){return z$1(i)===f};reactIs_production_min.isSuspense=function(i){return z$1(i)===p$2};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m$1||i===g$1||i===f||i===p$2||i===q$1||typeof i=="object"&&i!==null&&(i.$$typeof===t$1||i.$$typeof===r$1||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n$1||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v$2)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(i,s,o){var a="";return o.split(" ").forEach(function(tt){i[tt]!==void 0?s.push(i[tt]+";"):a+=tt+" "}),a}var registerStyles=function(s,o,a){var tt=s.key+"-"+o.name;(a===!1||isBrowser$1===!1)&&s.registered[tt]===void 0&&(s.registered[tt]=o.styles)},insertStyles=function(s,o,a){registerStyles(s,o,a);var tt=s.key+"-"+o.name;if(s.inserted[o.name]===void 0){var _e=o;do s.insert(o===_e?"."+tt:"",_e,s.sheet,!0),_e=_e.next;while(_e!==void 0)}};function murmur2(i){for(var s=0,o,a=0,tt=i.length;tt>=4;++a,tt-=4)o=i.charCodeAt(a)&255|(i.charCodeAt(++a)&255)<<8|(i.charCodeAt(++a)&255)<<16|(i.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,s=(o&65535)*1540483477+((o>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(tt){case 3:s^=(i.charCodeAt(a+2)&255)<<16;case 2:s^=(i.charCodeAt(a+1)&255)<<8;case 1:s^=i.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys$1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$2=!1,hyphenateRegex$1=/[A-Z]|^ms/g,animationRegex$1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty$1=function(s){return s.charCodeAt(1)===45},isProcessableValue$1=function(s){return s!=null&&typeof s!="boolean"},processStyleName$1=memoize$1(function(i){return isCustomProperty$1(i)?i:i.replace(hyphenateRegex$1,"-$&").toLowerCase()}),processStyleValue$1=function(s,o){switch(s){case"animation":case"animationName":if(typeof o=="string")return o.replace(animationRegex$1,function(a,tt,_e){return cursor$1={name:tt,styles:_e,next:cursor$1},tt})}return unitlessKeys$1[s]!==1&&!isCustomProperty$1(s)&&typeof o=="number"&&o!==0?o+"px":o},noComponentSelectorMessage$1="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation$1(i,s,o){if(o==null)return"";var a=o;if(a.__emotion_styles!==void 0)return a;switch(typeof o){case"boolean":return"";case"object":{var tt=o;if(tt.anim===1)return cursor$1={name:tt.name,styles:tt.styles,next:cursor$1},tt.name;var _e=o;if(_e.styles!==void 0){var st=_e.next;if(st!==void 0)for(;st!==void 0;)cursor$1={name:st.name,styles:st.styles,next:cursor$1},st=st.next;var ot=_e.styles+";";return ot}return createStringFromObject$1(i,s,o)}case"function":{if(i!==void 0){var rt=cursor$1,it=o(i);return cursor$1=rt,handleInterpolation$1(i,s,it)}break}}var j=o;return j}function createStringFromObject$1(i,s,o){var a="";if(Array.isArray(o))for(var tt=0;tt<o.length;tt++)a+=handleInterpolation$1(i,s,o[tt])+";";else for(var _e in o){var st=o[_e];if(typeof st!="object"){var ot=st;isProcessableValue$1(ot)&&(a+=processStyleName$1(_e)+":"+processStyleValue$1(_e,ot)+";")}else{if(_e==="NO_COMPONENT_SELECTOR"&&isDevelopment$2)throw new Error(noComponentSelectorMessage$1);if(Array.isArray(st)&&typeof st[0]=="string"&&s==null)for(var rt=0;rt<st.length;rt++)isProcessableValue$1(st[rt])&&(a+=processStyleName$1(_e)+":"+processStyleValue$1(_e,st[rt])+";");else{var it=handleInterpolation$1(i,s,st);switch(_e){case"animation":case"animationName":{a+=processStyleName$1(_e)+":"+it+";";break}default:a+=_e+"{"+it+"}"}}}}return a}var labelPattern$1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor$1;function serializeStyles$1(i,s,o){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var a=!0,tt="";cursor$1=void 0;var _e=i[0];if(_e==null||_e.raw===void 0)a=!1,tt+=handleInterpolation$1(o,s,_e);else{var st=_e;tt+=st[0]}for(var ot=1;ot<i.length;ot++)if(tt+=handleInterpolation$1(o,s,i[ot]),a){var rt=_e;tt+=rt[ot]}labelPattern$1.lastIndex=0;for(var it="",j;(j=labelPattern$1.exec(tt))!==null;)it+="-"+j[1];var _=murmur2(tt)+it;return{name:_,styles:tt,next:cursor$1}}var syncFallback=function(s){return s()},useInsertionEffect=ReactOriginal.useInsertionEffect?ReactOriginal.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(s){return reactExports.forwardRef(function(o,a){var tt=reactExports.useContext(EmotionCacheContext);return s(o,tt,a)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(s,o){if(typeof o=="function"){var a=o(s);return a}return _extends$1({},s,o)},createCacheWithTheme=weakMemoize(function(i){return weakMemoize(function(s){return getTheme$1(i,s)})}),ThemeProvider$1=function(s){var o=reactExports.useContext(ThemeContext);return s.theme!==o&&(o=createCacheWithTheme(o)(s.theme)),reactExports.createElement(ThemeContext.Provider,{value:o},s.children)},Global=withEmotionCache(function(i,s){var o=i.styles,a=serializeStyles$1([o],void 0,reactExports.useContext(ThemeContext)),tt=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var _e=s.key+"-global",st=new s.sheet.constructor({key:_e,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),ot=!1,rt=document.querySelector('style[data-emotion="'+_e+" "+a.name+'"]');return s.sheet.tags.length&&(st.before=s.sheet.tags[0]),rt!==null&&(ot=!0,rt.setAttribute("data-emotion",_e),st.hydrate([rt])),tt.current=[st,ot],function(){st.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var _e=tt.current,st=_e[0],ot=_e[1];if(ot){_e[1]=!1;return}if(a.next!==void 0&&insertStyles(s,a.next,!0),st.tags.length){var rt=st.tags[st.tags.length-1].nextElementSibling;st.before=rt,st.flush()}s.insert("",a,st,!1)},[s,a.name]),null});function css$1(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return serializeStyles$1(s)}var keyframes$1=function(){var s=css$1.apply(void 0,arguments),o="animation-"+s.name;return{name:o,styles:"@keyframes "+o+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const i=reactExports.useContext(ColorModeContext);if(i===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return i}const classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(i={}){const{preventTransition:s=!0,nonce:o}=i,a={setDataset:tt=>{const _e=s?a.preventTransition():void 0;document.documentElement.dataset.theme=tt,document.documentElement.style.colorScheme=tt,_e==null||_e()},setClassName(tt){document.body.classList.add(tt?classNames.dark:classNames.light),document.body.classList.remove(tt?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(tt){return a.query().matches??tt==="dark"?"dark":"light"},addListener(tt){const _e=a.query(),st=ot=>{tt(ot.matches?"dark":"light")};return typeof _e.addListener=="function"?_e.addListener(st):_e.addEventListener("change",st),()=>{typeof _e.removeListener=="function"?_e.removeListener(st):_e.removeEventListener("change",st)}},preventTransition(){const tt=document.createElement("style");return tt.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),o!==void 0&&(tt.nonce=o),document.head.appendChild(tt),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(tt)})})}}};return a}const STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(i){return{ssr:!1,type:"localStorage",get(s){if(!(globalThis!=null&&globalThis.document))return s;let o;try{o=localStorage.getItem(i)||s}catch{}return o||s},set(s){try{localStorage.setItem(i,s)}catch{}}}}const localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$2=()=>{},useSafeLayoutEffect=isBrowser$2()?reactExports.useLayoutEffect:reactExports.useEffect;function getTheme(i,s){return i.type==="cookie"&&i.ssr?i.get(s):s}const ColorModeProvider=withEmotionCache(function(s,o){const{value:a,children:tt,options:{useSystemColorMode:_e,initialColorMode:st,disableTransitionOnChange:ot}={},colorModeManager:rt=localStorageManager}=s,it=st==="dark"?"dark":"light",[j,_]=reactExports.useState(()=>getTheme(rt,it)),[$,et]=reactExports.useState(()=>getTheme(rt)),{getSystemTheme:nt,setClassName:at,setDataset:ct,addListener:ht}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:ot,nonce:o==null?void 0:o.nonce}),[ot,o==null?void 0:o.nonce]),ut=st==="system"&&!j?$:j,dt=reactExports.useCallback(lt=>{const St=lt==="system"?nt():lt;_(St),at(St==="dark"),ct(St),rt.set(St)},[rt,nt,at,ct]);useSafeLayoutEffect(()=>{st==="system"&&et(nt())},[]),reactExports.useEffect(()=>{const lt=rt.get();if(lt){dt(lt);return}if(st==="system"){dt("system");return}dt(it)},[rt,it,st,dt]);const mt=reactExports.useCallback(()=>{dt(ut==="dark"?"light":"dark")},[ut,dt]);reactExports.useEffect(()=>{if(_e)return ht(dt)},[_e,ht,dt]);const gt=reactExports.useMemo(()=>({colorMode:a??ut,toggleColorMode:a?noop$2:mt,setColorMode:a?noop$2:dt,forced:a!==void 0}),[ut,mt,dt,a]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:gt,children:tt})});ColorModeProvider.displayName="ColorModeProvider";const css=String.raw,vhPolyfill=css`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:i=""})=>jsxRuntimeExports.jsx(Global,{styles:css`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${i} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${i} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${i} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${i} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${i} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${i} :where(b, strong) {
        font-weight: bold;
      }

      ${i} small {
        font-size: 80%;
      }

      ${i} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${i} sub {
        bottom: -0.25em;
      }

      ${i} sup {
        top: -0.5em;
      }

      ${i} img {
        border-style: none;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${i} :where(button, input) {
        overflow: visible;
      }

      ${i} :where(button, select) {
        text-transform: none;
      }

      ${i} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${i} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${i} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${i} progress {
        vertical-align: baseline;
      }

      ${i} textarea {
        overflow: auto;
      }

      ${i} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${i} input[type="number"]::-webkit-inner-spin-button,
      ${i} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${i} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${i} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${i} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${i} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${i} details {
        display: block;
      }

      ${i} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${i} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${i} button {
        background: transparent;
        padding: 0;
      }

      ${i} fieldset {
        margin: 0;
        padding: 0;
      }

      ${i} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${i} textarea {
        resize: vertical;
      }

      ${i} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${i} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${i} table {
        border-collapse: collapse;
      }

      ${i} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${i} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${i} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${i} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function ThemeProvider(i){const{cssVarsRoot:s,theme:o,children:a}=i,tt=reactExports.useMemo(()=>toCSSVar(o),[o]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:tt,children:[jsxRuntimeExports.jsx(CSSVars,{root:s}),a]})}function CSSVars({root:i=":host, :root"}){const s=[i,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:o=>({[s]:o.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(i){return createContext$1({name:`${i}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${i} />" `})}function GlobalStyle(){const{colorMode:i}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:s=>{const o=memoizedGet$1(s,"styles.global"),a=runIfFn$1(o,{theme:s,colorMode:i});return a?css$2(a)(s):void 0}})}const[PortalManagerContextProvider,usePortalManager]=createContext$1({strict:!1,name:"PortalManagerContext"});function PortalManager(i){const{children:s,zIndex:o}=i;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:o},children:s})}PortalManager.displayName="PortalManager";const EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(i){const{children:s,environment:o,disabled:a}=i,tt=reactExports.useRef(null),_e=reactExports.useMemo(()=>o||{getDocument:()=>{var ot;return((ot=tt.current)==null?void 0:ot.ownerDocument)??document},getWindow:()=>{var ot;return((ot=tt.current)==null?void 0:ot.ownerDocument.defaultView)??window}},[o]),st=!a||!o;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:_e,children:[s,st&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:tt})]})}EnvironmentProvider.displayName="EnvironmentProvider";const Provider$1=i=>{const{children:s,colorModeManager:o,portalZIndex:a,resetScope:tt,resetCSS:_e=!0,theme:st={},environment:ot,cssVarsRoot:rt,disableEnvironment:it,disableGlobalStyle:j}=i,_=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:ot,disabled:it,children:s});return jsxRuntimeExports.jsx(ThemeProvider,{theme:st,cssVarsRoot:rt,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:o,options:st.config,children:[_e?jsxRuntimeExports.jsx(CSSReset,{scope:tt}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!j&&jsxRuntimeExports.jsx(GlobalStyle,{}),a?jsxRuntimeExports.jsx(PortalManager,{zIndex:a,children:_}):_]})})};function createDOMMotionComponentProxy(i){if(typeof Proxy>"u")return i;const s=new Map,o=(...a)=>i(...a);return new Proxy(o,{get:(a,tt)=>tt==="create"?i:(s.has(tt)||s.set(tt,i(tt)),s.get(tt))})}function isAnimationControls(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const isKeyframesTarget=i=>Array.isArray(i);function shallowCompare(i,s){if(!Array.isArray(s))return!1;const o=s.length;if(o!==i.length)return!1;for(let a=0;a<o;a++)if(s[a]!==i[a])return!1;return!0}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}function getValueState(i){const s=[{},{}];return i==null||i.values.forEach((o,a)=>{s[0][a]=o.get(),s[1][a]=o.getVelocity()}),s}function resolveVariantFromProps(i,s,o,a){if(typeof s=="function"){const[tt,_e]=getValueState(a);s=s(o!==void 0?o:i.custom,tt,_e)}if(typeof s=="string"&&(s=i.variants&&i.variants[s]),typeof s=="function"){const[tt,_e]=getValueState(a);s=s(o!==void 0?o:i.custom,tt,_e)}return s}function resolveVariant(i,s,o){const a=i.getProps();return resolveVariantFromProps(a,s,o!==void 0?o:a.custom,i)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder],transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),secondsToMilliseconds=i=>i*1e3,millisecondsToSeconds=i=>i/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(i,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(i)?i.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function getValueTransition(i,s){return i?i[s]||i.default||i:void 0}const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},isNotNull=i=>i!==null;function getFinalKeyframe(i,{repeat:s,repeatType:o="loop"},a){const tt=i.filter(isNotNull),_e=s&&o!=="loop"&&s%2===1?0:tt.length-1;return!_e||a===void 0?tt[_e]:a}const noop$1=i=>i;function createRenderStep(i){let s=new Set,o=new Set,a=!1,tt=!1;const _e=new WeakSet;let st={delta:0,timestamp:0,isProcessing:!1};function ot(it){_e.has(it)&&(rt.schedule(it),i()),it(st)}const rt={schedule:(it,j=!1,_=!1)=>{const et=_&&a?s:o;return j&&_e.add(it),et.has(it)||et.add(it),it},cancel:it=>{o.delete(it),_e.delete(it)},process:it=>{if(st=it,a){tt=!0;return}a=!0,[s,o]=[o,s],o.clear(),s.forEach(ot),a=!1,tt&&(tt=!1,rt.process(it))}};return rt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(i,s){let o=!1,a=!0;const tt={delta:0,timestamp:0,isProcessing:!1},_e=()=>o=!0,st=stepsOrder.reduce((ht,ut)=>(ht[ut]=createRenderStep(_e),ht),{}),{read:ot,resolveKeyframes:rt,update:it,preRender:j,render:_,postRender:$}=st,et=()=>{const ht=performance.now();o=!1,tt.delta=a?1e3/60:Math.max(Math.min(ht-tt.timestamp,maxElapsed),1),tt.timestamp=ht,tt.isProcessing=!0,ot.process(tt),rt.process(tt),it.process(tt),j.process(tt),_.process(tt),$.process(tt),tt.isProcessing=!1,o&&s&&(a=!1,i(et))},nt=()=>{o=!0,a=!0,tt.isProcessing||i(et)};return{schedule:stepsOrder.reduce((ht,ut)=>{const dt=st[ut];return ht[ut]=(mt,gt=!1,lt=!1)=>(o||nt(),dt.schedule(mt,gt,lt)),ht},{}),cancel:ht=>{for(let ut=0;ut<stepsOrder.length;ut++)st[stepsOrder[ut]].cancel(ht)},state:tt,steps:st}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),calcBezier=(i,s,o)=>(((1-3*o+3*s)*i+(3*o-6*s))*i+3*s)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,s,o,a,tt){let _e,st,ot=0;do st=s+(o-s)/2,_e=calcBezier(st,a,tt)-i,_e>0?o=st:s=st;while(Math.abs(_e)>subdivisionPrecision&&++ot<subdivisionMaxIterations);return st}function cubicBezier(i,s,o,a){if(i===s&&o===a)return noop$1;const tt=_e=>binarySubdivide(_e,0,1,i,o);return _e=>_e===0||_e===1?_e:calcBezier(tt(_e),s,a)}const mirrorEasing=i=>s=>s<=.5?i(2*s)/2:(2-i(2*(1-s)))/2,reverseEasing=i=>s=>1-i(1-s),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=i=>/^0[^.\s]+$/u.test(i);function isNone(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||isZeroValueString(i):!0}let invariant=noop$1;const isNumericalString=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),checkStringStartsWith=i=>s=>typeof s=="string"&&s.startsWith(i),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=i=>startsAsVariableToken(i)?singleCssVariableRegex.test(i.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(i){const s=splitCSSVariableRegex.exec(i);if(!s)return[,];const[,o,a,tt]=s;return[`--${o??a}`,tt]}function getVariableValue(i,s,o=1){const[a,tt]=parseCSSVariable(i);if(!a)return;const _e=window.getComputedStyle(s).getPropertyValue(a);if(_e){const st=_e.trim();return isNumericalString(st)?parseFloat(st):st}return isCSSVariableToken(tt)?getVariableValue(tt,s,o+1):tt}const clamp=(i,s,o)=>o>s?s:o<i?i:o,number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale={...number,default:1},createUnitType=i=>({test:s=>typeof s=="string"&&s.endsWith(i)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh$1=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=i=>i===number||i===px,getPosFromMatrix=(i,s)=>parseFloat(i.split(", ")[s]),getTranslateFromMatrix=(i,s)=>(o,{transform:a})=>{if(a==="none"||!a)return 0;const tt=a.match(/^matrix3d\((.+)\)$/u);if(tt)return getPosFromMatrix(tt[1],s);{const _e=a.match(/^matrix\((.+)\)$/u);return _e?getPosFromMatrix(_e[1],i):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const s=[];return nonTranslationalTransformKeys.forEach(o=>{const a=i.getValue(o);a!==void 0&&(s.push([o,a.get()]),a.set(o.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:i},{paddingLeft:s="0",paddingRight:o="0"})=>i.max-i.min-parseFloat(s)-parseFloat(o),height:({y:i},{paddingTop:s="0",paddingBottom:o="0"})=>i.max-i.min-parseFloat(s)-parseFloat(o),top:(i,{top:s})=>parseFloat(s),left:(i,{left:s})=>parseFloat(s),bottom:({y:i},{top:s})=>parseFloat(s)+(i.max-i.min),right:({x:i},{left:s})=>parseFloat(s)+(i.max-i.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=i=>s=>s.test(i),auto={test:i=>i==="auto",parse:i=>i},dimensionValueTypes=[number,px,percent,degrees,vw,vh$1,auto],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const i=Array.from(toResolve).filter(a=>a.needsMeasurement),s=new Set(i.map(a=>a.element)),o=new Map;s.forEach(a=>{const tt=removeNonTranslationalTransform(a);tt.length&&(o.set(a,tt),a.render())}),i.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const tt=o.get(a);tt&&tt.forEach(([_e,st])=>{var ot;(ot=a.getValue(_e))===null||ot===void 0||ot.set(st)})}),i.forEach(a=>a.measureEndState()),i.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(i=>i.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,o,a,tt,_e,st=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=o,this.name=a,this.motionValue=tt,this.element=_e,this.isAsync=st}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:o,element:a,motionValue:tt}=this;for(let _e=0;_e<s.length;_e++)if(s[_e]===null)if(_e===0){const st=tt==null?void 0:tt.get(),ot=s[s.length-1];if(st!==void 0)s[0]=st;else if(a&&o){const rt=a.readValue(o,ot);rt!=null&&(s[0]=rt)}s[0]===void 0&&(s[0]=ot),tt&&st===void 0&&tt.set(s[0])}else s[_e]=s[_e-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(i){return i==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(i,s)=>o=>!!(typeof o=="string"&&singleColorRegex.test(o)&&o.startsWith(i)||s&&!isNullish(o)&&Object.prototype.hasOwnProperty.call(o,s)),splitColor=(i,s,o)=>a=>{if(typeof a!="string")return a;const[tt,_e,st,ot]=a.match(floatRegex);return{[i]:parseFloat(tt),[s]:parseFloat(_e),[o]:parseFloat(st),alpha:ot!==void 0?parseFloat(ot):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:s,blue:o,alpha:a=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(o)+", "+sanitize(alpha.transform(a))+")"};function parseHex(i){let s="",o="",a="",tt="";return i.length>5?(s=i.substring(1,3),o=i.substring(3,5),a=i.substring(5,7),tt=i.substring(7,9)):(s=i.substring(1,2),o=i.substring(2,3),a=i.substring(3,4),tt=i.substring(4,5),s+=s,o+=o,a+=a,tt+=tt),{red:parseInt(s,16),green:parseInt(o,16),blue:parseInt(a,16),alpha:tt?parseInt(tt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:s,lightness:o,alpha:a=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(o))+", "+sanitize(alpha.transform(a))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(i){var s,o;return isNaN(i)&&typeof i=="string"&&(((s=i.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((o=i.match(colorRegex))===null||o===void 0?void 0:o.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(i){const s=i.toString(),o=[],a={color:[],number:[],var:[]},tt=[];let _e=0;const ot=s.replace(complexRegex,rt=>(color.test(rt)?(a.color.push(_e),tt.push(COLOR_TOKEN),o.push(color.parse(rt))):rt.startsWith(VAR_FUNCTION_TOKEN)?(a.var.push(_e),tt.push(VAR_TOKEN),o.push(rt)):(a.number.push(_e),tt.push(NUMBER_TOKEN),o.push(parseFloat(rt))),++_e,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:o,split:ot,indexes:a,types:tt}}function parseComplexValue(i){return analyseComplexValue(i).values}function createTransformer(i){const{split:s,types:o}=analyseComplexValue(i),a=s.length;return tt=>{let _e="";for(let st=0;st<a;st++)if(_e+=s[st],tt[st]!==void 0){const ot=o[st];ot===NUMBER_TOKEN?_e+=sanitize(tt[st]):ot===COLOR_TOKEN?_e+=color.transform(tt[st]):_e+=tt[st]}return _e}}const convertNumbersToZero=i=>typeof i=="number"?0:i;function getAnimatableNone$1(i){const s=parseComplexValue(i);return createTransformer(i)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[s,o]=i.slice(0,-1).split("(");if(s==="drop-shadow")return i;const[a]=o.match(floatRegex)||[];if(!a)return i;const tt=o.replace(a,"");let _e=maxDefaults.has(s)?1:0;return a!==o&&(_e*=100),s+"("+_e+tt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex,getAnimatableNone:i=>{const s=i.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):i}},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,s){let o=getDefaultValueType(i);return o!==filter$1&&(o=complex),o.getAnimatableNone?o.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(i,s,o){let a=0,tt;for(;a<i.length&&!tt;){const _e=i[a];typeof _e=="string"&&!invalidTemplates.has(_e)&&analyseComplexValue(_e).values.length&&(tt=i[a]),a++}if(tt&&o)for(const _e of s)i[_e]=getAnimatableNone(o,tt)}class DOMKeyframesResolver extends KeyframeResolver{constructor(s,o,a,tt,_e){super(s,o,a,tt,_e,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:o,name:a}=this;if(!o||!o.current)return;super.readKeyframes();for(let rt=0;rt<s.length;rt++){let it=s[rt];if(typeof it=="string"&&(it=it.trim(),isCSSVariableToken(it))){const j=getVariableValue(it,o.current);j!==void 0&&(s[rt]=j),rt===s.length-1&&(this.finalKeyframe=it)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(a)||s.length!==2)return;const[tt,_e]=s,st=findDimensionValueType(tt),ot=findDimensionValueType(_e);if(st!==ot)if(isNumOrPxType(st)&&isNumOrPxType(ot))for(let rt=0;rt<s.length;rt++){const it=s[rt];typeof it=="string"&&(s[rt]=parseFloat(it))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:o}=this,a=[];for(let tt=0;tt<s.length;tt++)isNone(s[tt])&&a.push(tt);a.length&&makeNoneKeyframesAnimatable(s,a,o)}measureInitialState(){const{element:s,unresolvedKeyframes:o,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[a](s.measureViewportBox(),window.getComputedStyle(s.current)),o[0]=this.measuredOrigin;const tt=o[o.length-1];tt!==void 0&&s.getValue(a,tt).jump(tt,!1)}measureEndState(){var s;const{element:o,name:a,unresolvedKeyframes:tt}=this;if(!o||!o.current)return;const _e=o.getValue(a);_e&&_e.jump(this.measuredOrigin,!1);const st=tt.length-1,ot=tt[st];tt[st]=positionalValues[a](o.measureViewportBox(),window.getComputedStyle(o.current)),ot!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ot),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([rt,it])=>{o.getValue(rt).set(it)}),this.resolveNoneKeyframes()}}function isGenerator(i){return typeof i=="function"}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:i=>{now=i,queueMicrotask(clearTime)}},isAnimatable=(i,s)=>s==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(complex.test(i)||i==="0")&&!i.startsWith("url("));function hasKeyframesChanged(i){const s=i[0];if(i.length===1)return!0;for(let o=0;o<i.length;o++)if(i[o]!==s)return!0}function canAnimate(i,s,o,a){const tt=i[0];if(tt===null)return!1;if(s==="display"||s==="visibility")return!0;const _e=i[i.length-1],st=isAnimatable(tt,s),ot=isAnimatable(_e,s);return!st||!ot?!1:hasKeyframesChanged(i)||(o==="spring"||isGenerator(o))&&a}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:o=0,type:a="keyframes",repeat:tt=0,repeatDelay:_e=0,repeatType:st="loop",...ot}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:o,type:a,repeat:tt,repeatDelay:_e,repeatType:st,...ot},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,o){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:a,type:tt,velocity:_e,delay:st,onComplete:ot,onUpdate:rt,isGenerator:it}=this.options;if(!it&&!canAnimate(s,a,tt,_e))if(st)this.options.duration=0;else{rt==null||rt(getFinalKeyframe(s,this.options,o)),ot==null||ot(),this.resolveFinishedPromise();return}const j=this.initPlayback(s,o);j!==!1&&(this._resolved={keyframes:s,finalKeyframe:o,...j},this.onPostResolved())}onPostResolved(){}then(s,o){return this.currentFinishedPromise.then(s,o)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}function velocityPerSecond(i,s){return s?i*(1e3/s):0}const velocitySampleDuration=5;function calcGeneratorVelocity(i,s,o){const a=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(o-i(a),s-a)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:i=800,bounce:s=.25,velocity:o=0,mass:a=1}){let tt,_e,st=1-s;st=clamp(minDamping,maxDamping,st),i=clamp(minDuration,maxDuration$1,millisecondsToSeconds(i)),st<1?(tt=it=>{const j=it*st,_=j*i,$=j-o,et=calcAngularFreq(it,st),nt=Math.exp(-_);return safeMin-$/et*nt},_e=it=>{const _=it*st*i,$=_*o+o,et=Math.pow(st,2)*Math.pow(it,2)*i,nt=Math.exp(-_),at=calcAngularFreq(Math.pow(it,2),st);return(-tt(it)+safeMin>0?-1:1)*(($-et)*nt)/at}):(tt=it=>{const j=Math.exp(-it*i),_=(it-o)*i+1;return-safeMin+j*_},_e=it=>{const j=Math.exp(-it*i),_=(o-it)*(i*i);return j*_});const ot=5/i,rt=approximateRoot(tt,_e,ot);if(i=secondsToMilliseconds(i),isNaN(rt))return{stiffness:100,damping:10,duration:i};{const it=Math.pow(rt,2)*a;return{stiffness:it,damping:st*2*Math.sqrt(a*it),duration:i}}}const rootIterations=12;function approximateRoot(i,s,o){let a=o;for(let tt=1;tt<rootIterations;tt++)a=a-i(a)/s(a);return a}function calcAngularFreq(i,s){return i*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,s){return s.some(o=>i[o]!==void 0)}function getSpringOptions(i){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys)){const o=findSpring(i);s={...s,...o,mass:1},s.isResolvedFromDuration=!0}return s}function spring({keyframes:i,restDelta:s,restSpeed:o,...a}){const tt=i[0],_e=i[i.length-1],st={done:!1,value:tt},{stiffness:ot,damping:rt,mass:it,duration:j,velocity:_,isResolvedFromDuration:$}=getSpringOptions({...a,velocity:-millisecondsToSeconds(a.velocity||0)}),et=_||0,nt=rt/(2*Math.sqrt(ot*it)),at=_e-tt,ct=millisecondsToSeconds(Math.sqrt(ot/it)),ht=Math.abs(at)<5;o||(o=ht?.01:2),s||(s=ht?.005:.5);let ut;if(nt<1){const dt=calcAngularFreq(ct,nt);ut=mt=>{const gt=Math.exp(-nt*ct*mt);return _e-gt*((et+nt*ct*at)/dt*Math.sin(dt*mt)+at*Math.cos(dt*mt))}}else if(nt===1)ut=dt=>_e-Math.exp(-ct*dt)*(at+(et+ct*at)*dt);else{const dt=ct*Math.sqrt(nt*nt-1);ut=mt=>{const gt=Math.exp(-nt*ct*mt),lt=Math.min(dt*mt,300);return _e-gt*((et+nt*ct*at)*Math.sinh(lt)+dt*at*Math.cosh(lt))/dt}}return{calculatedDuration:$&&j||null,next:dt=>{const mt=ut(dt);if($)st.done=dt>=j;else{let gt=0;nt<1&&(gt=dt===0?secondsToMilliseconds(et):calcGeneratorVelocity(ut,dt,mt));const lt=Math.abs(gt)<=o,St=Math.abs(_e-mt)<=s;st.done=lt&&St}return st.value=st.done?_e:mt,st}}}function inertia({keyframes:i,velocity:s=0,power:o=.8,timeConstant:a=325,bounceDamping:tt=10,bounceStiffness:_e=500,modifyTarget:st,min:ot,max:rt,restDelta:it=.5,restSpeed:j}){const _=i[0],$={done:!1,value:_},et=xt=>ot!==void 0&&xt<ot||rt!==void 0&&xt>rt,nt=xt=>ot===void 0?rt:rt===void 0||Math.abs(ot-xt)<Math.abs(rt-xt)?ot:rt;let at=o*s;const ct=_+at,ht=st===void 0?ct:st(ct);ht!==ct&&(at=ht-_);const ut=xt=>-at*Math.exp(-xt/a),dt=xt=>ht+ut(xt),mt=xt=>{const yt=ut(xt),_t=dt(xt);$.done=Math.abs(yt)<=it,$.value=$.done?ht:_t};let gt,lt;const St=xt=>{et($.value)&&(gt=xt,lt=spring({keyframes:[$.value,nt($.value)],velocity:calcGeneratorVelocity(dt,xt,$.value),damping:tt,stiffness:_e,restDelta:it,restSpeed:j}))};return St(0),{calculatedDuration:null,next:xt=>{let yt=!1;return!lt&&gt===void 0&&(yt=!0,mt(xt),St(xt)),gt!==void 0&&xt>=gt?lt.next(xt-gt):(!yt&&mt(xt),$)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number",isBezierDefinition=i=>Array.isArray(i)&&typeof i[0]=="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=i=>{if(isBezierDefinition(i)){invariant(i.length===4);const[s,o,a,tt]=i;return cubicBezier(s,o,a,tt)}else if(typeof i=="string")return invariant(easingLookup[i]!==void 0),easingLookup[i];return i},combineFunctions=(i,s)=>o=>s(i(o)),pipe$1=(...i)=>i.reduce(combineFunctions),progress=(i,s,o)=>{const a=s-i;return a===0?1:(o-i)/a},mixNumber$1=(i,s,o)=>i+(s-i)*o;function hueToRgb(i,s,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?i+(s-i)*6*o:o<1/2?s:o<2/3?i+(s-i)*(2/3-o)*6:i}function hslaToRgba({hue:i,saturation:s,lightness:o,alpha:a}){i/=360,s/=100,o/=100;let tt=0,_e=0,st=0;if(!s)tt=_e=st=o;else{const ot=o<.5?o*(1+s):o+s-o*s,rt=2*o-ot;tt=hueToRgb(rt,ot,i+1/3),_e=hueToRgb(rt,ot,i),st=hueToRgb(rt,ot,i-1/3)}return{red:Math.round(tt*255),green:Math.round(_e*255),blue:Math.round(st*255),alpha:a}}function mixImmediate(i,s){return o=>o>0?s:i}const mixLinearColor=(i,s,o)=>{const a=i*i,tt=o*(s*s-a)+a;return tt<0?0:Math.sqrt(tt)},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(s=>s.test(i));function asRGBA(i){const s=getColorType(i);if(!s)return!1;let o=s.parse(i);return s===hsla&&(o=hslaToRgba(o)),o}const mixColor=(i,s)=>{const o=asRGBA(i),a=asRGBA(s);if(!o||!a)return mixImmediate(i,s);const tt={...o};return _e=>(tt.red=mixLinearColor(o.red,a.red,_e),tt.green=mixLinearColor(o.green,a.green,_e),tt.blue=mixLinearColor(o.blue,a.blue,_e),tt.alpha=mixNumber$1(o.alpha,a.alpha,_e),rgba.transform(tt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(i,s){return invisibleValues.has(i)?o=>o<=0?i:s:o=>o>=1?s:i}function mixNumber(i,s){return o=>mixNumber$1(i,s,o)}function getMixer(i){return typeof i=="number"?mixNumber:typeof i=="string"?isCSSVariableToken(i)?mixImmediate:color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?color.test(i)?mixColor:mixObject:mixImmediate}function mixArray(i,s){const o=[...i],a=o.length,tt=i.map((_e,st)=>getMixer(_e)(_e,s[st]));return _e=>{for(let st=0;st<a;st++)o[st]=tt[st](_e);return o}}function mixObject(i,s){const o={...i,...s},a={};for(const tt in o)i[tt]!==void 0&&s[tt]!==void 0&&(a[tt]=getMixer(i[tt])(i[tt],s[tt]));return tt=>{for(const _e in a)o[_e]=a[_e](tt);return o}}function matchOrder(i,s){var o;const a=[],tt={color:0,var:0,number:0};for(let _e=0;_e<s.values.length;_e++){const st=s.types[_e],ot=i.indexes[st][tt[st]],rt=(o=i.values[ot])!==null&&o!==void 0?o:0;a[_e]=rt,tt[st]++}return a}const mixComplex=(i,s)=>{const o=complex.createTransformer(s),a=analyseComplexValue(i),tt=analyseComplexValue(s);return a.indexes.var.length===tt.indexes.var.length&&a.indexes.color.length===tt.indexes.color.length&&a.indexes.number.length>=tt.indexes.number.length?invisibleValues.has(i)&&!tt.values.length||invisibleValues.has(s)&&!a.values.length?mixVisibility(i,s):pipe$1(mixArray(matchOrder(a,tt),tt.values),o):mixImmediate(i,s)};function mix(i,s,o){return typeof i=="number"&&typeof s=="number"&&typeof o=="number"?mixNumber$1(i,s,o):getMixer(i)(i,s)}function createMixers(i,s,o){const a=[],tt=o||mix,_e=i.length-1;for(let st=0;st<_e;st++){let ot=tt(i[st],i[st+1]);if(s){const rt=Array.isArray(s)?s[st]||noop$1:s;ot=pipe$1(rt,ot)}a.push(ot)}return a}function interpolate(i,s,{clamp:o=!0,ease:a,mixer:tt}={}){const _e=i.length;if(invariant(_e===s.length),_e===1)return()=>s[0];if(_e===2&&i[0]===i[1])return()=>s[1];i[0]>i[_e-1]&&(i=[...i].reverse(),s=[...s].reverse());const st=createMixers(s,a,tt),ot=st.length,rt=it=>{let j=0;if(ot>1)for(;j<i.length-2&&!(it<i[j+1]);j++);const _=progress(i[j],i[j+1],it);return st[j](_)};return o?it=>rt(clamp(i[0],i[_e-1],it)):rt}function fillOffset(i,s){const o=i[i.length-1];for(let a=1;a<=s;a++){const tt=progress(0,s,a);i.push(mixNumber$1(o,1,tt))}}function defaultOffset(i){const s=[0];return fillOffset(s,i.length-1),s}function convertOffsetToTimes(i,s){return i.map(o=>o*s)}function defaultEasing(i,s){return i.map(()=>s||easeInOut).splice(0,i.length-1)}function keyframes({duration:i=300,keyframes:s,times:o,ease:a="easeInOut"}){const tt=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),_e={done:!1,value:s[0]},st=convertOffsetToTimes(o&&o.length===s.length?o:defaultOffset(s),i),ot=interpolate(st,s,{ease:Array.isArray(tt)?tt:defaultEasing(s,tt)});return{calculatedDuration:i,next:rt=>(_e.value=ot(rt),_e.done=rt>=i,_e)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(i){let s=0;const o=50;let a=i.next(s);for(;!a.done&&s<maxGeneratorDuration;)s+=o,a=i.next(s);return s>=maxGeneratorDuration?1/0:s}const frameloopDriver=i=>{const s=({timestamp:o})=>i(o);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=i=>i/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:rt}=this.options;rt&&rt()};const{name:o,motionValue:a,element:tt,keyframes:_e}=this.options,st=(tt==null?void 0:tt.KeyframeResolver)||KeyframeResolver,ot=(rt,it)=>this.onKeyframesResolved(rt,it);this.resolver=new st(_e,ot,o,a,tt),this.resolver.scheduleResolve()}initPlayback(s){const{type:o="keyframes",repeat:a=0,repeatDelay:tt=0,repeatType:_e,velocity:st=0}=this.options,ot=isGenerator(o)?o:generators[o]||keyframes;let rt,it;ot!==keyframes&&typeof s[0]!="number"&&(rt=pipe$1(percentToProgress,mix(s[0],s[1])),s=[0,100]);const j=ot({...this.options,keyframes:s});_e==="mirror"&&(it=ot({...this.options,keyframes:[...s].reverse(),velocity:-st})),j.calculatedDuration===null&&(j.calculatedDuration=calcGeneratorDuration(j));const{calculatedDuration:_}=j,$=_+tt,et=$*(a+1)-tt;return{generator:j,mirroredGenerator:it,mapPercentToKeyframes:rt,calculatedDuration:_,resolvedDuration:$,totalDuration:et}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,o=!1){const{resolved:a}=this;if(!a){const{keyframes:xt}=this.options;return{done:!0,value:xt[xt.length-1]}}const{finalKeyframe:tt,generator:_e,mirroredGenerator:st,mapPercentToKeyframes:ot,keyframes:rt,calculatedDuration:it,totalDuration:j,resolvedDuration:_}=a;if(this.startTime===null)return _e.next(0);const{delay:$,repeat:et,repeatType:nt,repeatDelay:at,onUpdate:ct}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-j/this.speed,this.startTime)),o?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const ht=this.currentTime-$*(this.speed>=0?1:-1),ut=this.speed>=0?ht<0:ht>j;this.currentTime=Math.max(ht,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=j);let dt=this.currentTime,mt=_e;if(et){const xt=Math.min(this.currentTime,j)/_;let yt=Math.floor(xt),_t=xt%1;!_t&&xt>=1&&(_t=1),_t===1&&yt--,yt=Math.min(yt,et+1),!!(yt%2)&&(nt==="reverse"?(_t=1-_t,at&&(_t-=at/_)):nt==="mirror"&&(mt=st)),dt=clamp(0,1,_t)*_}const gt=ut?{done:!1,value:rt[0]}:mt.next(dt);ot&&(gt.value=ot(gt.value));let{done:lt}=gt;!ut&&it!==null&&(lt=this.speed>=0?this.currentTime>=j:this.currentTime<=0);const St=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return St&&tt!==void 0&&(gt.value=getFinalKeyframe(rt,this.options,tt)),ct&&ct(gt.value),St&&this.finish(),gt}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const o=this.playbackSpeed!==s;this.playbackSpeed=s,o&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:o,startTime:a}=this.options;this.driver||(this.driver=s(_e=>this.tick(_e))),o&&o();const tt=this.driver.now();this.holdTime!==null?this.startTime=tt-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=tt):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),resolution=10,generateLinearEasing=(i,s)=>{let o="";const a=Math.max(Math.round(s/resolution),2);for(let tt=0;tt<a;tt++)o+=i(progress(0,a-1,tt))+", ";return`linear(${o.substring(0,o.length-2)})`};function memo(i){let s;return()=>(s===void 0&&(s=i()),s)}const supportsFlags={linearEasing:void 0};function memoSupports(i,s){const o=memo(i);return()=>{var a;return(a=supportsFlags[s])!==null&&a!==void 0?a:o()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing(i){return!!(typeof i=="function"&&supportsLinearEasing()||!i||typeof i=="string"&&(i in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(i)||Array.isArray(i)&&i.every(isWaapiSupportedEasing))}const cubicBezierAsString=([i,s,o,a])=>`cubic-bezier(${i}, ${s}, ${o}, ${a})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(i,s){if(i)return typeof i=="function"&&supportsLinearEasing()?generateLinearEasing(i,s):isBezierDefinition(i)?cubicBezierAsString(i):Array.isArray(i)?i.map(o=>mapEasingToNativeEasing(o,s)||supportedWaapiEasing.easeOut):supportedWaapiEasing[i]}function startWaapiAnimation(i,s,o,{delay:a=0,duration:tt=300,repeat:_e=0,repeatType:st="loop",ease:ot="easeInOut",times:rt}={}){const it={[s]:o};rt&&(it.offset=rt);const j=mapEasingToNativeEasing(ot,tt);return Array.isArray(j)&&(it.easing=j),i.animate(it,{delay:a,duration:tt,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:_e+1,direction:st==="reverse"?"alternate":"normal"})}function attachTimeline(i,s){i.timeline=s,i.onfinish=null}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(i){return isGenerator(i.type)||i.type==="spring"||!isWaapiSupportedEasing(i.ease)}function pregenerateKeyframes(i,s){const o=new MainThreadAnimation({...s,keyframes:i,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:i[0]};const tt=[];let _e=0;for(;!a.done&&_e<maxDuration;)a=o.sample(_e),tt.push(a.value),_e+=sampleDelta;return{times:void 0,keyframes:tt,duration:_e-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(i){return i in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:o,motionValue:a,element:tt,keyframes:_e}=this.options;this.resolver=new DOMKeyframesResolver(_e,(st,ot)=>this.onKeyframesResolved(st,ot),o,a,tt),this.resolver.scheduleResolve()}initPlayback(s,o){var a;let{duration:tt=300,times:_e,ease:st,type:ot,motionValue:rt,name:it,startTime:j}=this.options;if(!(!((a=rt.owner)===null||a===void 0)&&a.current))return!1;if(typeof st=="string"&&supportsLinearEasing()&&isUnsupportedEase(st)&&(st=unsupportedEasingFunctions[st]),requiresPregeneratedKeyframes(this.options)){const{onComplete:$,onUpdate:et,motionValue:nt,element:at,...ct}=this.options,ht=pregenerateKeyframes(s,ct);s=ht.keyframes,s.length===1&&(s[1]=s[0]),tt=ht.duration,_e=ht.times,st=ht.ease,ot="keyframes"}const _=startWaapiAnimation(rt.owner.current,it,s,{...this.options,duration:tt,times:_e,ease:st});return _.startTime=j??this.calcStartTime(),this.pendingTimeline?(attachTimeline(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:$}=this.options;rt.set(getFinalKeyframe(s,this.options,o)),$&&$(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:tt,times:_e,type:ot,ease:st,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:o}=s;return millisecondsToSeconds(o)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:o}=s;return millisecondsToSeconds(o.currentTime||0)}set time(s){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:o}=s;return o.playbackRate}set speed(s){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:o}=s;return o.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:o}=s;return o.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:o}=this;if(!o)return noop$1;const{animation:a}=o;attachTimeline(a,s)}return noop$1}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.playState==="finished"&&this.updateFinishedPromise(),o.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:o,keyframes:a,duration:tt,type:_e,ease:st,times:ot}=s;if(o.playState==="idle"||o.playState==="finished")return;if(this.time){const{motionValue:it,onUpdate:j,onComplete:_,element:$,...et}=this.options,nt=new MainThreadAnimation({...et,keyframes:a,duration:tt,type:_e,ease:st,times:ot,isGenerator:!0}),at=secondsToMilliseconds(this.time);it.setWithVelocity(nt.sample(at-sampleDelta).value,nt.sample(at).value,sampleDelta)}const{onStop:rt}=this.options;rt&&rt(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:o,name:a,repeatDelay:tt,repeatType:_e,damping:st,type:ot}=s;return supportsWaapi()&&a&&acceleratedValues.has(a)&&o&&o.owner&&o.owner.current instanceof HTMLElement&&!o.owner.getProps().onUpdate&&!tt&&_e!=="mirror"&&st!==0&&ot!=="inertia"}}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}then(s,o){return Promise.all(this.animations).then(s).catch(o)}getAll(s){return this.animations[0][s]}setAll(s,o){for(let a=0;a<this.animations.length;a++)this.animations[a][s]=o}attachTimeline(s,o){const a=this.animations.map(tt=>supportsScrollTimeline()&&tt.attachTimeline?tt.attachTimeline(s):o(tt));return()=>{a.forEach((tt,_e)=>{tt&&tt(),this.animations[_e].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let o=0;o<this.animations.length;o++)s=Math.max(s,this.animations[o].duration);return s}runAll(s){this.animations.forEach(o=>o[s]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function isTransitionDefined({when:i,delay:s,delayChildren:o,staggerChildren:a,staggerDirection:tt,repeat:_e,repeatType:st,repeatDelay:ot,from:rt,elapsed:it,...j}){return!!Object.keys(j).length}const animateMotionValue=(i,s,o,a={},tt,_e)=>st=>{const ot=getValueTransition(a,i)||{},rt=ot.delay||a.delay||0;let{elapsed:it=0}=a;it=it-secondsToMilliseconds(rt);let j={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:s.getVelocity(),...ot,delay:-it,onUpdate:$=>{s.set($),ot.onUpdate&&ot.onUpdate($)},onComplete:()=>{st(),ot.onComplete&&ot.onComplete()},name:i,motionValue:s,element:_e?void 0:tt};isTransitionDefined(ot)||(j={...j,...getDefaultTransition(i,j)}),j.duration&&(j.duration=secondsToMilliseconds(j.duration)),j.repeatDelay&&(j.repeatDelay=secondsToMilliseconds(j.repeatDelay)),j.from!==void 0&&(j.keyframes[0]=j.from);let _=!1;if((j.type===!1||j.duration===0&&!j.repeatDelay)&&(j.duration=0,j.delay===0&&(_=!0)),_&&!_e&&s.get()!==void 0){const $=getFinalKeyframe(j.keyframes,ot);if($!==void 0)return frame.update(()=>{j.onUpdate($),j.onComplete()}),new GroupPlaybackControls([])}return!_e&&AcceleratedAnimation.supports(j)?new AcceleratedAnimation(j):new MainThreadAnimation(j)},isCustomValue=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),resolveFinalValueInKeyframes=i=>isKeyframesTarget(i)?i[i.length-1]||0:i;function addUniqueItem(i,s){i.indexOf(s)===-1&&i.push(s)}function removeItem(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,o,a){const tt=this.subscriptions.length;if(tt)if(tt===1)this.subscriptions[0](s,o,a);else for(let _e=0;_e<tt;_e++){const st=this.subscriptions[_e];st&&st(s,o,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(s,o={}){this.version="11.11.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,tt=!0)=>{const _e=time.now();this.updatedAt!==_e&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),tt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=o.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,o){this.events[s]||(this.events[s]=new SubscriptionManager);const a=this.events[s].add(o);return s==="change"?()=>{a(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,o){this.passiveEffect=s,this.stopPassiveEffect=o}set(s,o=!0){!o||!this.passiveEffect?this.updateAndNotify(s,o):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,o,a){this.set(o),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,o=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(s){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=s(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,s){return new MotionValue(i,s)}function setMotionValue(i,s,o){i.hasValue(s)?i.getValue(s).set(o):i.addValue(s,motionValue(o))}function setTarget(i,s){const o=resolveVariant(i,s);let{transitionEnd:a={},transition:tt={},..._e}=o||{};_e={..._e,...a};for(const st in _e){const ot=resolveFinalValueInKeyframes(_e[st]);setMotionValue(i,st,ot)}}const camelToDash=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(i){return i.props[optimizedAppearDataAttribute]}const isMotionValue=i=>!!(i&&i.getVelocity);function isWillChangeMotionValue(i){return!!(isMotionValue(i)&&i.add)}function addValueToWillChange(i,s){const o=i.getValue("willChange");if(isWillChangeMotionValue(o))return o.add(s)}function shouldBlockAnimation({protectedKeys:i,needsAnimating:s},o){const a=i.hasOwnProperty(o)&&s[o]!==!0;return s[o]=!1,a}function animateTarget(i,s,{delay:o=0,transitionOverride:a,type:tt}={}){var _e;let{transition:st=i.getDefaultTransition(),transitionEnd:ot,...rt}=s;a&&(st=a);const it=[],j=tt&&i.animationState&&i.animationState.getState()[tt];for(const _ in rt){const $=i.getValue(_,(_e=i.latestValues[_])!==null&&_e!==void 0?_e:null),et=rt[_];if(et===void 0||j&&shouldBlockAnimation(j,_))continue;const nt={delay:o,...getValueTransition(st||{},_)};let at=!1;if(window.MotionHandoffAnimation){const ht=getOptimisedAppearId(i);if(ht){const ut=window.MotionHandoffAnimation(ht,_,frame);ut!==null&&(nt.startTime=ut,at=!0)}}addValueToWillChange(i,_),$.start(animateMotionValue(_,$,et,i.shouldReduceMotion&&transformProps.has(_)?{type:!1}:nt,i,at));const ct=$.animation;ct&&it.push(ct)}return ot&&Promise.all(it).then(()=>{frame.update(()=>{ot&&setTarget(i,ot)})}),it}function animateVariant(i,s,o={}){var a;const tt=resolveVariant(i,s,o.type==="exit"?(a=i.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:_e=i.getDefaultTransition()||{}}=tt||{};o.transitionOverride&&(_e=o.transitionOverride);const st=tt?()=>Promise.all(animateTarget(i,tt,o)):()=>Promise.resolve(),ot=i.variantChildren&&i.variantChildren.size?(it=0)=>{const{delayChildren:j=0,staggerChildren:_,staggerDirection:$}=_e;return animateChildren(i,s,j+it,_,$,o)}:()=>Promise.resolve(),{when:rt}=_e;if(rt){const[it,j]=rt==="beforeChildren"?[st,ot]:[ot,st];return it().then(()=>j())}else return Promise.all([st(),ot(o.delay)])}function animateChildren(i,s,o=0,a=0,tt=1,_e){const st=[],ot=(i.variantChildren.size-1)*a,rt=tt===1?(it=0)=>it*a:(it=0)=>ot-it*a;return Array.from(i.variantChildren).sort(sortByTreeOrder).forEach((it,j)=>{it.notify("AnimationStart",s),st.push(animateVariant(it,s,{..._e,delay:o+rt(j)}).then(()=>it.notify("AnimationComplete",s)))}),Promise.all(st)}function sortByTreeOrder(i,s){return i.sortNodePosition(s)}function animateVisualElement(i,s,o={}){i.notify("AnimationStart",s);let a;if(Array.isArray(s)){const tt=s.map(_e=>animateVariant(i,_e,o));a=Promise.all(tt)}else if(typeof s=="string")a=animateVariant(i,s,o);else{const tt=typeof s=="function"?resolveVariant(i,s,o.custom):s;a=Promise.all(animateTarget(i,tt,o))}return a.then(()=>{i.notify("AnimationComplete",s)})}const numVariantProps=variantProps.length;function getVariantContext(i){if(!i)return;if(!i.isControllingVariants){const o=i.parent?getVariantContext(i.parent)||{}:{};return i.props.initial!==void 0&&(o.initial=i.props.initial),o}const s={};for(let o=0;o<numVariantProps;o++){const a=variantProps[o],tt=i.props[a];(isVariantLabel(tt)||tt===!1)&&(s[a]=tt)}return s}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return s=>Promise.all(s.map(({animation:o,options:a})=>animateVisualElement(i,o,a)))}function createAnimationState(i){let s=animateList(i),o=createState(),a=!0;const tt=rt=>(it,j)=>{var _;const $=resolveVariant(i,j,rt==="exit"?(_=i.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if($){const{transition:et,transitionEnd:nt,...at}=$;it={...it,...at,...nt}}return it};function _e(rt){s=rt(i)}function st(rt){const{props:it}=i,j=getVariantContext(i.parent)||{},_=[],$=new Set;let et={},nt=1/0;for(let ct=0;ct<numAnimationTypes;ct++){const ht=reversePriorityOrder[ct],ut=o[ht],dt=it[ht]!==void 0?it[ht]:j[ht],mt=isVariantLabel(dt),gt=ht===rt?ut.isActive:null;gt===!1&&(nt=ct);let lt=dt===j[ht]&&dt!==it[ht]&&mt;if(lt&&a&&i.manuallyAnimateOnMount&&(lt=!1),ut.protectedKeys={...et},!ut.isActive&&gt===null||!dt&&!ut.prevProp||isAnimationControls(dt)||typeof dt=="boolean")continue;const St=checkVariantsDidChange(ut.prevProp,dt);let xt=St||ht===rt&&ut.isActive&&!lt&&mt||ct>nt&&mt,yt=!1;const _t=Array.isArray(dt)?dt:[dt];let kt=_t.reduce(tt(ht),{});gt===!1&&(kt={});const{prevResolvedValues:Et={}}=ut,$t={...Et,...kt},Tt=Ot=>{xt=!0,$.has(Ot)&&(yt=!0,$.delete(Ot)),ut.needsAnimating[Ot]=!0;const Pt=i.getValue(Ot);Pt&&(Pt.liveStyle=!1)};for(const Ot in $t){const Pt=kt[Ot],Ft=Et[Ot];if(et.hasOwnProperty(Ot))continue;let zt=!1;isKeyframesTarget(Pt)&&isKeyframesTarget(Ft)?zt=!shallowCompare(Pt,Ft):zt=Pt!==Ft,zt?Pt!=null?Tt(Ot):$.add(Ot):Pt!==void 0&&$.has(Ot)?Tt(Ot):ut.protectedKeys[Ot]=!0}ut.prevProp=dt,ut.prevResolvedValues=kt,ut.isActive&&(et={...et,...kt}),a&&i.blockInitialAnimation&&(xt=!1),xt&&(!(lt&&St)||yt)&&_.push(..._t.map(Ot=>({animation:Ot,options:{type:ht}})))}if($.size){const ct={};$.forEach(ht=>{const ut=i.getBaseTarget(ht),dt=i.getValue(ht);dt&&(dt.liveStyle=!0),ct[ht]=ut??null}),_.push({animation:ct})}let at=!!_.length;return a&&(it.initial===!1||it.initial===it.animate)&&!i.manuallyAnimateOnMount&&(at=!1),a=!1,at?s(_):Promise.resolve()}function ot(rt,it){var j;if(o[rt].isActive===it)return Promise.resolve();(j=i.variantChildren)===null||j===void 0||j.forEach($=>{var et;return(et=$.animationState)===null||et===void 0?void 0:et.setActive(rt,it)}),o[rt].isActive=it;const _=st(rt);for(const $ in o)o[$].protectedKeys={};return _}return{animateChanges:st,setActive:ot,setAnimateFunction:_e,getState:()=>o,reset:()=>{o=createState(),a=!0}}}function checkVariantsDidChange(i,s){return typeof s=="string"?s!==i:Array.isArray(s)?!shallowCompare(s,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:o}=this.node.prevProps||{};s!==o&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:o}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const tt=this.node.animationState.setActive("exit",!s);o&&!s&&tt.then(()=>o(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function extractEventInfo(i,s="page"){return{point:{x:i[`${s}X`],y:i[`${s}Y`]}}}const addPointerInfo=i=>s=>isPrimaryPointer(s)&&i(s,extractEventInfo(s));function addDomEvent(i,s,o,a={passive:!0}){return i.addEventListener(s,o,a),()=>i.removeEventListener(s,o)}function addPointerEvent(i,s,o,a){return addDomEvent(i,s,addPointerInfo(o),a)}const distance=(i,s)=>Math.abs(i-s);function distance2D(i,s){const o=distance(i.x,s.x),a=distance(i.y,s.y);return Math.sqrt(o**2+a**2)}class PanSession{constructor(s,o,{transformPagePoint:a,contextWindow:tt,dragSnapToOrigin:_e=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=getPanInfo(this.lastMoveEventInfo,this.history),$=this.startEvent!==null,et=distance2D(_.offset,{x:0,y:0})>=3;if(!$&&!et)return;const{point:nt}=_,{timestamp:at}=frameData;this.history.push({...nt,timestamp:at});const{onStart:ct,onMove:ht}=this.handlers;$||(ct&&ct(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),ht&&ht(this.lastMoveEvent,_)},this.handlePointerMove=(_,$)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=transformPoint($,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(_,$)=>{this.end();const{onEnd:et,onSessionEnd:nt,resumeAnimation:at}=this.handlers;if(this.dragSnapToOrigin&&at&&at(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ct=getPanInfo(_.type==="pointercancel"?this.lastMoveEventInfo:transformPoint($,this.transformPagePoint),this.history);this.startEvent&&et&&et(_,ct),nt&&nt(_,ct)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=_e,this.handlers=o,this.transformPagePoint=a,this.contextWindow=tt||window;const st=extractEventInfo(s),ot=transformPoint(st,this.transformPagePoint),{point:rt}=ot,{timestamp:it}=frameData;this.history=[{...rt,timestamp:it}];const{onSessionStart:j}=o;j&&j(s,getPanInfo(ot,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(i,s){return s?{point:s(i.point)}:i}function subtractPoint(i,s){return{x:i.x-s.x,y:i.y-s.y}}function getPanInfo({point:i},s){return{point:i,delta:subtractPoint(i,lastDevicePoint(s)),offset:subtractPoint(i,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,s){if(i.length<2)return{x:0,y:0};let o=i.length-1,a=null;const tt=lastDevicePoint(i);for(;o>=0&&(a=i[o],!(tt.timestamp-a.timestamp>secondsToMilliseconds(s)));)o--;if(!a)return{x:0,y:0};const _e=millisecondsToSeconds(tt.timestamp-a.timestamp);if(_e===0)return{x:0,y:0};const st={x:(tt.x-a.x)/_e,y:(tt.y-a.y)/_e};return st.x===1/0&&(st.x=0),st.y===1/0&&(st.y=0),st}function createLock(i){let s=null;return()=>{const o=()=>{s=null};return s===null?(s=i,o):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(i){let s=!1;if(i==="y")s=globalVerticalLock();else if(i==="x")s=globalHorizontalLock();else{const o=globalHorizontalLock(),a=globalVerticalLock();o&&a?s=()=>{o(),a()}:(o&&o(),a&&a())}return s}function isDragActive(){const i=getGlobalLock(!0);return i?(i(),!1):!0}function isRefObject(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(i){return i.max-i.min}function isNear(i,s,o){return Math.abs(i-s)<=o}function calcAxisDelta(i,s,o,a=.5){i.origin=a,i.originPoint=mixNumber$1(s.min,s.max,i.origin),i.scale=calcLength(o)/calcLength(s),i.translate=mixNumber$1(o.min,o.max,i.origin)-i.originPoint,(i.scale>=SCALE_MIN&&i.scale<=SCALE_MAX||isNaN(i.scale))&&(i.scale=1),(i.translate>=TRANSLATE_MIN&&i.translate<=TRANSLATE_MAX||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,s,o,a){calcAxisDelta(i.x,s.x,o.x,a?a.originX:void 0),calcAxisDelta(i.y,s.y,o.y,a?a.originY:void 0)}function calcRelativeAxis(i,s,o){i.min=o.min+s.min,i.max=i.min+calcLength(s)}function calcRelativeBox(i,s,o){calcRelativeAxis(i.x,s.x,o.x),calcRelativeAxis(i.y,s.y,o.y)}function calcRelativeAxisPosition(i,s,o){i.min=s.min-o.min,i.max=i.min+calcLength(s)}function calcRelativePosition(i,s,o){calcRelativeAxisPosition(i.x,s.x,o.x),calcRelativeAxisPosition(i.y,s.y,o.y)}function applyConstraints(i,{min:s,max:o},a){return s!==void 0&&i<s?i=a?mixNumber$1(s,i,a.min):Math.max(i,s):o!==void 0&&i>o&&(i=a?mixNumber$1(o,i,a.max):Math.min(i,o)),i}function calcRelativeAxisConstraints(i,s,o){return{min:s!==void 0?i.min+s:void 0,max:o!==void 0?i.max+o-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:s,left:o,bottom:a,right:tt}){return{x:calcRelativeAxisConstraints(i.x,o,tt),y:calcRelativeAxisConstraints(i.y,s,a)}}function calcViewportAxisConstraints(i,s){let o=s.min-i.min,a=s.max-i.max;return s.max-s.min<i.max-i.min&&([o,a]=[a,o]),{min:o,max:a}}function calcViewportConstraints(i,s){return{x:calcViewportAxisConstraints(i.x,s.x),y:calcViewportAxisConstraints(i.y,s.y)}}function calcOrigin$1(i,s){let o=.5;const a=calcLength(i),tt=calcLength(s);return tt>a?o=progress(s.min,s.max-a,i.min):a>tt&&(o=progress(i.min,i.max-tt,s.min)),clamp(0,1,o)}function rebaseAxisConstraints(i,s){const o={};return s.min!==void 0&&(o.min=s.min-i.min),s.max!==void 0&&(o.max=s.max-i.min),o}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,s,o){return{min:resolvePointElastic(i,s),max:resolvePointElastic(i,o)}}function resolvePointElastic(i,s){return typeof i=="number"?i:i[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(i){return[i("x"),i("y")]}function convertBoundingBoxToBox({top:i,left:s,right:o,bottom:a}){return{x:{min:s,max:o},y:{min:i,max:a}}}function convertBoxToBoundingBox({x:i,y:s}){return{top:s.min,right:i.max,bottom:s.max,left:i.min}}function transformBoxPoints(i,s){if(!s)return i;const o=s({x:i.left,y:i.top}),a=s({x:i.right,y:i.bottom});return{top:o.y,left:o.x,bottom:a.y,right:a.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:s,scaleY:o}){return!isIdentityScale(i)||!isIdentityScale(s)||!isIdentityScale(o)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,s,o){const a=i-o,tt=s*a;return o+tt}function applyPointDelta(i,s,o,a,tt){return tt!==void 0&&(i=scalePoint(i,tt,a)),scalePoint(i,o,a)+s}function applyAxisDelta(i,s=0,o=1,a,tt){i.min=applyPointDelta(i.min,s,o,a,tt),i.max=applyPointDelta(i.max,s,o,a,tt)}function applyBoxDelta(i,{x:s,y:o}){applyAxisDelta(i.x,s.translate,s.scale,s.originPoint),applyAxisDelta(i.y,o.translate,o.scale,o.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(i,s,o,a=!1){const tt=o.length;if(!tt)return;s.x=s.y=1;let _e,st;for(let ot=0;ot<tt;ot++){_e=o[ot],st=_e.projectionDelta;const{visualElement:rt}=_e.options;rt&&rt.props.style&&rt.props.style.display==="contents"||(a&&_e.options.layoutScroll&&_e.scroll&&_e!==_e.root&&transformBox(i,{x:-_e.scroll.offset.x,y:-_e.scroll.offset.y}),st&&(s.x*=st.x.scale,s.y*=st.y.scale,applyBoxDelta(i,st)),a&&hasTransform(_e.latestValues)&&transformBox(i,_e.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(i,s){i.min=i.min+s,i.max=i.max+s}function transformAxis(i,s,o,a,tt=.5){const _e=mixNumber$1(i.min,i.max,tt);applyAxisDelta(i,s,o,_e,a)}function transformBox(i,s){transformAxis(i.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(i.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(i,s){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),s))}function measurePageBox(i,s,o){const a=measureViewportBox(i,o),{scroll:tt}=s;return tt&&(translateAxis(a.x,tt.offset.x),translateAxis(a.y,tt.offset.y)),a}const getContextWindow=({current:i})=>i?i.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:o=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const tt=j=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(extractEventInfo(j,"page").point)},_e=(j,_)=>{const{drag:$,dragPropagation:et,onDragStart:nt}=this.getProps();if($&&!et&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock($),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ct=>{let ht=this.getAxisMotionValue(ct).get()||0;if(percent.test(ht)){const{projection:ut}=this.visualElement;if(ut&&ut.layout){const dt=ut.layout.layoutBox[ct];dt&&(ht=calcLength(dt)*(parseFloat(ht)/100))}}this.originPoint[ct]=ht}),nt&&frame.postRender(()=>nt(j,_)),addValueToWillChange(this.visualElement,"transform");const{animationState:at}=this.visualElement;at&&at.setActive("whileDrag",!0)},st=(j,_)=>{const{dragPropagation:$,dragDirectionLock:et,onDirectionLock:nt,onDrag:at}=this.getProps();if(!$&&!this.openGlobalLock)return;const{offset:ct}=_;if(et&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ct),this.currentDirection!==null&&nt&&nt(this.currentDirection);return}this.updateAxis("x",_.point,ct),this.updateAxis("y",_.point,ct),this.visualElement.render(),at&&at(j,_)},ot=(j,_)=>this.stop(j,_),rt=()=>eachAxis(j=>{var _;return this.getAnimationState(j)==="paused"&&((_=this.getAxisMotionValue(j).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:it}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:tt,onStart:_e,onMove:st,onSessionEnd:ot,resumeAnimation:rt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:it,contextWindow:getContextWindow(this.visualElement)})}stop(s,o){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:tt}=o;this.startAnimation(tt);const{onDragEnd:_e}=this.getProps();_e&&frame.postRender(()=>_e(s,o))}cancel(){this.isDragging=!1;const{projection:s,animationState:o}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(s,o,a){const{drag:tt}=this.getProps();if(!a||!shouldDrag(s,tt,this.currentDirection))return;const _e=this.getAxisMotionValue(s);let st=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(st=applyConstraints(st,this.constraints[s],this.elastic[s])),_e.set(st)}resolveConstraints(){var s;const{dragConstraints:o,dragElastic:a}=this.getProps(),tt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,_e=this.constraints;o&&isRefObject(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&tt?this.constraints=calcRelativeConstraints(tt.layoutBox,o):this.constraints=!1,this.elastic=resolveDragElastic(a),_e!==this.constraints&&tt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(st=>{this.constraints!==!1&&this.getAxisMotionValue(st)&&(this.constraints[st]=rebaseAxisConstraints(tt.layoutBox[st],this.constraints[st]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:o}=this.getProps();if(!s||!isRefObject(s))return!1;const a=s.current,{projection:tt}=this.visualElement;if(!tt||!tt.layout)return!1;const _e=measurePageBox(a,tt.root,this.visualElement.getTransformPagePoint());let st=calcViewportConstraints(tt.layout.layoutBox,_e);if(o){const ot=o(convertBoxToBoundingBox(st));this.hasMutatedConstraints=!!ot,ot&&(st=convertBoundingBoxToBox(ot))}return st}startAnimation(s){const{drag:o,dragMomentum:a,dragElastic:tt,dragTransition:_e,dragSnapToOrigin:st,onDragTransitionEnd:ot}=this.getProps(),rt=this.constraints||{},it=eachAxis(j=>{if(!shouldDrag(j,o,this.currentDirection))return;let _=rt&&rt[j]||{};st&&(_={min:0,max:0});const $=tt?200:1e6,et=tt?40:1e7,nt={type:"inertia",velocity:a?s[j]:0,bounceStiffness:$,bounceDamping:et,timeConstant:750,restDelta:1,restSpeed:10,..._e,..._};return this.startAxisValueAnimation(j,nt)});return Promise.all(it).then(ot)}startAxisValueAnimation(s,o){const a=this.getAxisMotionValue(s);return addValueToWillChange(this.visualElement,s),a.start(animateMotionValue(s,a,0,o,this.visualElement,!1))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var o;return(o=this.getAxisMotionValue(s).animation)===null||o===void 0?void 0:o.pause()})}getAnimationState(s){var o;return(o=this.getAxisMotionValue(s).animation)===null||o===void 0?void 0:o.state}getAxisMotionValue(s){const o=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),tt=a[o];return tt||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(o=>{const{drag:a}=this.getProps();if(!shouldDrag(o,a,this.currentDirection))return;const{projection:tt}=this.visualElement,_e=this.getAxisMotionValue(o);if(tt&&tt.layout){const{min:st,max:ot}=tt.layout.layoutBox[o];_e.set(s[o]-mixNumber$1(st,ot,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:o}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(o)||!a||!this.constraints)return;this.stopAnimation();const tt={x:0,y:0};eachAxis(st=>{const ot=this.getAxisMotionValue(st);if(ot&&this.constraints!==!1){const rt=ot.get();tt[st]=calcOrigin$1({min:rt,max:rt},this.constraints[st])}});const{transformTemplate:_e}=this.visualElement.getProps();this.visualElement.current.style.transform=_e?_e({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(st=>{if(!shouldDrag(st,s,null))return;const ot=this.getAxisMotionValue(st),{min:rt,max:it}=this.constraints[st];ot.set(mixNumber$1(rt,it,tt[st]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,o=addPointerEvent(s,"pointerdown",rt=>{const{drag:it,dragListener:j=!0}=this.getProps();it&&j&&this.start(rt)}),a=()=>{const{dragConstraints:rt}=this.getProps();isRefObject(rt)&&rt.current&&(this.constraints=this.resolveRefConstraints())},{projection:tt}=this.visualElement,_e=tt.addEventListener("measure",a);tt&&!tt.layout&&(tt.root&&tt.root.updateScroll(),tt.updateLayout()),frame.read(a);const st=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ot=tt.addEventListener("didUpdate",({delta:rt,hasLayoutChanged:it})=>{this.isDragging&&it&&(eachAxis(j=>{const _=this.getAxisMotionValue(j);_&&(this.originPoint[j]+=rt[j].translate,_.set(_.get()+rt[j].translate))}),this.visualElement.render())});return()=>{st(),o(),_e(),ot&&ot()}}getProps(){const s=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:a=!1,dragPropagation:tt=!1,dragConstraints:_e=!1,dragElastic:st=defaultElastic,dragMomentum:ot=!0}=s;return{...s,drag:o,dragDirectionLock:a,dragPropagation:tt,dragConstraints:_e,dragElastic:st,dragMomentum:ot}}}function shouldDrag(i,s,o){return(s===!0||s===i)&&(o===null||o===i)}function getCurrentDirection(i,s=10){let o=null;return Math.abs(i.y)>s?o="y":Math.abs(i.x)>s&&(o="x"),o}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=i=>(s,o)=>{i&&frame.postRender(()=>i(s,o))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:o,onPan:a,onPanEnd:tt}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(o),onMove:a,onEnd:(_e,st)=>{delete this.session,tt&&frame.postRender(()=>tt(_e,st))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PresenceContext=reactExports.createContext(null);function usePresence(){const i=reactExports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:a}=i,tt=reactExports.useId();reactExports.useEffect(()=>a(tt),[]);const _e=reactExports.useCallback(()=>o&&o(tt),[tt,o]);return!s&&o?[!1,_e]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(i){return i===null?!0:i.isPresent}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(i,s){return s.max===s.min?0:i/(s.max-s.min)*100}const correctBorderRadius={correct:(i,s)=>{if(!s.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const o=pixelsToPercent(i,s.target.x),a=pixelsToPercent(i,s.target.y);return`${o}% ${a}%`}},correctBoxShadow={correct:(i,{treeScale:s,projectionDelta:o})=>{const a=i,tt=complex.parse(i);if(tt.length>5)return a;const _e=complex.createTransformer(i),st=typeof tt[0]!="number"?1:0,ot=o.x.scale*s.x,rt=o.y.scale*s.y;tt[0+st]/=ot,tt[1+st]/=rt;const it=mixNumber$1(ot,rt,.5);return typeof tt[2+st]=="number"&&(tt[2+st]/=it),typeof tt[3+st]=="number"&&(tt[3+st]/=it),_e(tt)}},scaleCorrectors={};function addScaleCorrector(i){Object.assign(scaleCorrectors,i)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:o,switchLayoutGroup:a,layoutId:tt}=this.props,{projection:_e}=s;addScaleCorrector(defaultScaleCorrectors),_e&&(o.group&&o.group.add(_e),a&&a.register&&tt&&a.register(_e),_e.root.didUpdate(),_e.addEventListener("animationComplete",()=>{this.safeToRemove()}),_e.setOptions({..._e.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:o,visualElement:a,drag:tt,isPresent:_e}=this.props,st=a.projection;return st&&(st.isPresent=_e,tt||s.layoutDependency!==o||o===void 0?st.willUpdate():this.safeToRemove(),s.isPresent!==_e&&(_e?st.promote():st.relegate()||frame.postRender(()=>{const ot=st.getStack();(!ot||!ot.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:o,switchLayoutGroup:a}=this.props,{projection:tt}=s;tt&&(tt.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(tt),a&&a.deregister&&a.deregister(tt))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(i){const[s,o]=usePresence(),a=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...i,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:o})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,s,o,a,tt,_e){tt?(i.opacity=mixNumber$1(0,o.opacity!==void 0?o.opacity:1,easeCrossfadeIn(a)),i.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(a))):_e&&(i.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,o.opacity!==void 0?o.opacity:1,a));for(let st=0;st<numBorders;st++){const ot=`border${borders[st]}Radius`;let rt=getRadius(s,ot),it=getRadius(o,ot);if(rt===void 0&&it===void 0)continue;rt||(rt=0),it||(it=0),rt===0||it===0||isPx(rt)===isPx(it)?(i[ot]=Math.max(mixNumber$1(asNumber(rt),asNumber(it),a),0),(percent.test(it)||percent.test(rt))&&(i[ot]+="%")):i[ot]=it}(s.rotate||o.rotate)&&(i.rotate=mixNumber$1(s.rotate||0,o.rotate||0,a))}function getRadius(i,s){return i[s]!==void 0?i[s]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(i,s,o){return a=>a<i?0:a>s?1:o(progress(i,s,a))}function copyAxisInto(i,s){i.min=s.min,i.max=s.max}function copyBoxInto(i,s){copyAxisInto(i.x,s.x),copyAxisInto(i.y,s.y)}function copyAxisDeltaInto(i,s){i.translate=s.translate,i.scale=s.scale,i.originPoint=s.originPoint,i.origin=s.origin}function removePointDelta(i,s,o,a,tt){return i-=s,i=scalePoint(i,1/o,a),tt!==void 0&&(i=scalePoint(i,1/tt,a)),i}function removeAxisDelta(i,s=0,o=1,a=.5,tt,_e=i,st=i){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(st.min,st.max,s/100)-st.min),typeof s!="number")return;let ot=mixNumber$1(_e.min,_e.max,a);i===_e&&(ot-=s),i.min=removePointDelta(i.min,s,o,ot,tt),i.max=removePointDelta(i.max,s,o,ot,tt)}function removeAxisTransforms(i,s,[o,a,tt],_e,st){removeAxisDelta(i,s[o],s[a],s[tt],s.scale,_e,st)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,s,o,a){removeAxisTransforms(i.x,s,xKeys,o?o.x:void 0,a?a.x:void 0),removeAxisTransforms(i.y,s,yKeys,o?o.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function axisEquals(i,s){return i.min===s.min&&i.max===s.max}function boxEquals(i,s){return axisEquals(i.x,s.x)&&axisEquals(i.y,s.y)}function axisEqualsRounded(i,s){return Math.round(i.min)===Math.round(s.min)&&Math.round(i.max)===Math.round(s.max)}function boxEqualsRounded(i,s){return axisEqualsRounded(i.x,s.x)&&axisEqualsRounded(i.y,s.y)}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}function axisDeltaEquals(i,s){return i.translate===s.translate&&i.scale===s.scale&&i.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(s){const o=this.members.findIndex(tt=>s===tt);if(o===0)return!1;let a;for(let tt=o;tt>=0;tt--){const _e=this.members[tt];if(_e.isPresent!==!1){a=_e;break}}return a?(this.promote(a),!0):!1}promote(s,o){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,o&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:tt}=s.options;tt===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:o,resumingFrom:a}=s;o.onExitComplete&&o.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,s,o){let a="";const tt=i.x.translate/s.x,_e=i.y.translate/s.y,st=(o==null?void 0:o.z)||0;if((tt||_e||st)&&(a=`translate3d(${tt}px, ${_e}px, ${st}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),o){const{transformPerspective:it,rotate:j,rotateX:_,rotateY:$,skewX:et,skewY:nt}=o;it&&(a=`perspective(${it}px) ${a}`),j&&(a+=`rotate(${j}deg) `),_&&(a+=`rotateX(${_}deg) `),$&&(a+=`rotateY(${$}deg) `),et&&(a+=`skewX(${et}deg) `),nt&&(a+=`skewY(${nt}deg) `)}const ot=i.x.scale*s.x,rt=i.y.scale*s.y;return(ot!==1||rt!==1)&&(a+=`scale(${ot}, ${rt})`),a||"none"}const compareByDepth=(i,s)=>i.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function resolveMotionValue(i){const s=isMotionValue(i)?i.get():i;return isCustomValue(s)?s.toValue():s}function delay(i,s){const o=time.now(),a=({timestamp:tt})=>{const _e=tt-o;_e>=s&&(cancelFrame(a),i(_e-s))};return frame.read(a,!0),()=>cancelFrame(a)}function isSVGElement(i){return i instanceof SVGElement&&i.tagName!=="svg"}function animateSingleValue(i,s,o){const a=isMotionValue(i)?i:motionValue(i);return a.start(animateMotionValue("",a,s,o)),a.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;function resetDistortingTransform(i,s,o,a){const{latestValues:tt}=s;tt[i]&&(o[i]=tt[i],s.setStaticValue(i,0),a&&(a[i]=0))}function cancelTreeOptimisedTransformAnimations(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:s}=i.options;if(!s)return;const o=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:tt,layoutId:_e}=i.options;window.MotionCancelOptimisedAnimation(o,"transform",frame,!(tt||_e))}const{parent:a}=i;a&&!a.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(a)}function createProjectionNode$1({attachResizeListener:i,defaultParent:s,measureScroll:o,checkIsScrollRoot:a,resetTransform:tt}){return class{constructor(st={},ot=s==null?void 0:s()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=st,this.root=ot?ot.root||ot:this,this.path=ot?[...ot.path,ot]:[],this.parent=ot,this.depth=ot?ot.depth+1:0;for(let rt=0;rt<this.path.length;rt++)this.path[rt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(st,ot){return this.eventHandlers.has(st)||this.eventHandlers.set(st,new SubscriptionManager),this.eventHandlers.get(st).add(ot)}notifyListeners(st,...ot){const rt=this.eventHandlers.get(st);rt&&rt.notify(...ot)}hasListeners(st){return this.eventHandlers.has(st)}mount(st,ot=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(st),this.instance=st;const{layoutId:rt,layout:it,visualElement:j}=this.options;if(j&&!j.current&&j.mount(st),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ot&&(it||rt)&&(this.isLayoutDirty=!0),i){let _;const $=()=>this.root.updateBlockedByResize=!1;i(st,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=delay($,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}rt&&this.root.registerSharedNode(rt,this),this.options.animate!==!1&&j&&(rt||it)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:$,hasRelativeTargetChanged:et,layout:nt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const at=this.options.transition||j.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ct,onLayoutAnimationComplete:ht}=j.getProps(),ut=!this.targetLayout||!boxEqualsRounded(this.targetLayout,nt)||et,dt=!$&&et;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||dt||$&&(ut||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,dt);const mt={...getValueTransition(at,"layout"),onPlay:ct,onComplete:ht};(j.shouldReduceMotion||this.options.layoutRoot)&&(mt.delay=0,mt.type=!1),this.startAnimation(mt)}else $||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=nt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const st=this.getStack();st&&st.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:st}=this.options;return st&&st.getProps().transformTemplate}willUpdate(st=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let j=0;j<this.path.length;j++){const _=this.path[j];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:ot,layout:rt}=this.options;if(ot===void 0&&!rt)return;const it=this.getTransformTemplate();this.prevTransformTemplateValue=it?it(this.latestValues,""):void 0,this.updateSnapshot(),st&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const ot=time.now();frameData.delta=clamp(0,1e3/60,ot-frameData.timestamp),frameData.timestamp=ot,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let rt=0;rt<this.path.length;rt++)this.path[rt].updateScroll();const st=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ot}=this.options;ot&&ot.notify("LayoutMeasure",this.layout.layoutBox,st?st.layoutBox:void 0)}updateScroll(st="measure"){let ot=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===st&&(ot=!1),ot){const rt=a(this.instance);this.scroll={animationId:this.root.animationId,phase:st,isRoot:rt,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:rt}}}resetTransform(){if(!tt)return;const st=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ot=this.projectionDelta&&!isDeltaZero(this.projectionDelta),rt=this.getTransformTemplate(),it=rt?rt(this.latestValues,""):void 0,j=it!==this.prevTransformTemplateValue;st&&(ot||hasTransform(this.latestValues)||j)&&(tt(this.instance,it),this.shouldResetTransform=!1,this.scheduleRender())}measure(st=!0){const ot=this.measurePageBox();let rt=this.removeElementScroll(ot);return st&&(rt=this.removeTransform(rt)),roundBox(rt),{animationId:this.root.animationId,measuredBox:ot,layoutBox:rt,latestValues:{},source:this.id}}measurePageBox(){var st;const{visualElement:ot}=this.options;if(!ot)return createBox();const rt=ot.measureViewportBox();if(!(((st=this.scroll)===null||st===void 0?void 0:st.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:j}=this.root;j&&(translateAxis(rt.x,j.offset.x),translateAxis(rt.y,j.offset.y))}return rt}removeElementScroll(st){var ot;const rt=createBox();if(copyBoxInto(rt,st),!((ot=this.scroll)===null||ot===void 0)&&ot.wasRoot)return rt;for(let it=0;it<this.path.length;it++){const j=this.path[it],{scroll:_,options:$}=j;j!==this.root&&_&&$.layoutScroll&&(_.wasRoot&&copyBoxInto(rt,st),translateAxis(rt.x,_.offset.x),translateAxis(rt.y,_.offset.y))}return rt}applyTransform(st,ot=!1){const rt=createBox();copyBoxInto(rt,st);for(let it=0;it<this.path.length;it++){const j=this.path[it];!ot&&j.options.layoutScroll&&j.scroll&&j!==j.root&&transformBox(rt,{x:-j.scroll.offset.x,y:-j.scroll.offset.y}),hasTransform(j.latestValues)&&transformBox(rt,j.latestValues)}return hasTransform(this.latestValues)&&transformBox(rt,this.latestValues),rt}removeTransform(st){const ot=createBox();copyBoxInto(ot,st);for(let rt=0;rt<this.path.length;rt++){const it=this.path[rt];if(!it.instance||!hasTransform(it.latestValues))continue;hasScale(it.latestValues)&&it.updateSnapshot();const j=createBox(),_=it.measurePageBox();copyBoxInto(j,_),removeBoxTransforms(ot,it.latestValues,it.snapshot?it.snapshot.layoutBox:void 0,j)}return hasTransform(this.latestValues)&&removeBoxTransforms(ot,this.latestValues),ot}setTargetDelta(st){this.targetDelta=st,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(st){this.options={...this.options,...st,crossfade:st.crossfade!==void 0?st.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(st=!1){var ot;const rt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=rt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=rt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=rt.isSharedProjectionDirty);const it=!!this.resumingFrom||this!==rt;if(!(st||it&&this.isSharedProjectionDirty||this.isProjectionDirty||!((ot=this.parent)===null||ot===void 0)&&ot.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:$}=this.options;if(!(!this.layout||!(_||$))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const et=this.getClosestProjectingParent();et&&et.layout&&this.animationProgress!==1?(this.relativeParent=et,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,et.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const et=this.getClosestProjectingParent();et&&!!et.resumingFrom==!!this.resumingFrom&&!et.options.layoutScroll&&et.target&&this.animationProgress!==1?(this.relativeParent=et,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,et.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var st;const ot=this.getLead(),rt=!!this.resumingFrom||this!==ot;let it=!0;if((this.isProjectionDirty||!((st=this.parent)===null||st===void 0)&&st.isProjectionDirty)&&(it=!1),rt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(it=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(it=!1),it)return;const{layout:j,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(j||_))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const $=this.treeScale.x,et=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,rt),ot.layout&&!ot.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ot.target=ot.layout.layoutBox,ot.targetWithTransforms=createBox());const{target:nt}=ot;if(!nt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,nt,this.latestValues),(this.treeScale.x!==$||this.treeScale.y!==et||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",nt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(st=!0){var ot;if((ot=this.options.visualElement)===null||ot===void 0||ot.scheduleRender(),st){const rt=this.getStack();rt&&rt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(st,ot=!1){const rt=this.snapshot,it=rt?rt.latestValues:{},j={...this.latestValues},_=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ot;const $=createBox(),et=rt?rt.source:void 0,nt=this.layout?this.layout.source:void 0,at=et!==nt,ct=this.getStack(),ht=!ct||ct.members.length<=1,ut=!!(at&&!ht&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let dt;this.mixTargetDelta=mt=>{const gt=mt/1e3;mixAxisDelta(_.x,st.x,gt),mixAxisDelta(_.y,st.y,gt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition($,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,$,gt),dt&&boxEquals(this.relativeTarget,dt)&&(this.isProjectionDirty=!1),dt||(dt=createBox()),copyBoxInto(dt,this.relativeTarget)),at&&(this.animationValues=j,mixValues(j,it,this.latestValues,gt,ut,ht)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=gt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(st){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...st,onUpdate:ot=>{this.mixTargetDelta(ot),st.onUpdate&&st.onUpdate(ot)},onComplete:()=>{st.onComplete&&st.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const st=this.getStack();st&&st.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const st=this.getLead();let{targetWithTransforms:ot,target:rt,layout:it,latestValues:j}=st;if(!(!ot||!rt||!it)){if(this!==st&&this.layout&&it&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,it.layoutBox)){rt=this.target||createBox();const _=calcLength(this.layout.layoutBox.x);rt.x.min=st.target.x.min,rt.x.max=rt.x.min+_;const $=calcLength(this.layout.layoutBox.y);rt.y.min=st.target.y.min,rt.y.max=rt.y.min+$}copyBoxInto(ot,rt),transformBox(ot,j),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ot,j)}}registerSharedNode(st,ot){this.sharedNodes.has(st)||this.sharedNodes.set(st,new NodeStack),this.sharedNodes.get(st).add(ot);const it=ot.options.initialPromotionConfig;ot.promote({transition:it?it.transition:void 0,preserveFollowOpacity:it&&it.shouldPreserveFollowOpacity?it.shouldPreserveFollowOpacity(ot):void 0})}isLead(){const st=this.getStack();return st?st.lead===this:!0}getLead(){var st;const{layoutId:ot}=this.options;return ot?((st=this.getStack())===null||st===void 0?void 0:st.lead)||this:this}getPrevLead(){var st;const{layoutId:ot}=this.options;return ot?(st=this.getStack())===null||st===void 0?void 0:st.prevLead:void 0}getStack(){const{layoutId:st}=this.options;if(st)return this.root.sharedNodes.get(st)}promote({needsReset:st,transition:ot,preserveFollowOpacity:rt}={}){const it=this.getStack();it&&it.promote(this,rt),st&&(this.projectionDelta=void 0,this.needsReset=!0),ot&&this.setOptions({transition:ot})}relegate(){const st=this.getStack();return st?st.relegate(this):!1}resetSkewAndRotation(){const{visualElement:st}=this.options;if(!st)return;let ot=!1;const{latestValues:rt}=st;if((rt.z||rt.rotate||rt.rotateX||rt.rotateY||rt.rotateZ||rt.skewX||rt.skewY)&&(ot=!0),!ot)return;const it={};rt.z&&resetDistortingTransform("z",st,it,this.animationValues);for(let j=0;j<transformAxes.length;j++)resetDistortingTransform(`rotate${transformAxes[j]}`,st,it,this.animationValues),resetDistortingTransform(`skew${transformAxes[j]}`,st,it,this.animationValues);st.render();for(const j in it)st.setStaticValue(j,it[j]),this.animationValues&&(this.animationValues[j]=it[j]);st.scheduleRender()}getProjectionStyles(st){var ot,rt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const it={visibility:""},j=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,it.opacity="",it.pointerEvents=resolveMotionValue(st==null?void 0:st.pointerEvents)||"",it.transform=j?j(this.latestValues,""):"none",it;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const at={};return this.options.layoutId&&(at.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,at.pointerEvents=resolveMotionValue(st==null?void 0:st.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(at.transform=j?j({},""):"none",this.hasProjected=!1),at}const $=_.animationValues||_.latestValues;this.applyTransformsToTarget(),it.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$),j&&(it.transform=j($,it.transform));const{x:et,y:nt}=this.projectionDelta;it.transformOrigin=`${et.origin*100}% ${nt.origin*100}% 0`,_.animationValues?it.opacity=_===this?(rt=(ot=$.opacity)!==null&&ot!==void 0?ot:this.latestValues.opacity)!==null&&rt!==void 0?rt:1:this.preserveOpacity?this.latestValues.opacity:$.opacityExit:it.opacity=_===this?$.opacity!==void 0?$.opacity:"":$.opacityExit!==void 0?$.opacityExit:0;for(const at in scaleCorrectors){if($[at]===void 0)continue;const{correct:ct,applyTo:ht}=scaleCorrectors[at],ut=it.transform==="none"?$[at]:ct($[at],_);if(ht){const dt=ht.length;for(let mt=0;mt<dt;mt++)it[ht[mt]]=ut}else it[at]=ut}return this.options.layoutId&&(it.pointerEvents=_===this?resolveMotionValue(st==null?void 0:st.pointerEvents)||"":"none"),it}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(st=>{var ot;return(ot=st.currentAnimation)===null||ot===void 0?void 0:ot.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){var s;const o=((s=i.resumeFrom)===null||s===void 0?void 0:s.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&o&&i.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:tt}=i.layout,{animationType:_e}=i.options,st=o.source!==i.layout.source;_e==="size"?eachAxis(_=>{const $=st?o.measuredBox[_]:o.layoutBox[_],et=calcLength($);$.min=a[_].min,$.max=$.min+et}):shouldAnimatePositionOnly(_e,o.layoutBox,a)&&eachAxis(_=>{const $=st?o.measuredBox[_]:o.layoutBox[_],et=calcLength(a[_]);$.max=$.min+et,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[_].max=i.relativeTarget[_].min+et)});const ot=createDelta();calcBoxDelta(ot,a,o.layoutBox);const rt=createDelta();st?calcBoxDelta(rt,i.applyTransform(tt,!0),o.measuredBox):calcBoxDelta(rt,a,o.layoutBox);const it=!isDeltaZero(ot);let j=!1;if(!i.resumeFrom){const _=i.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:$,layout:et}=_;if($&&et){const nt=createBox();calcRelativePosition(nt,o.layoutBox,$.layoutBox);const at=createBox();calcRelativePosition(at,a,et.layoutBox),boxEqualsRounded(nt,at)||(j=!0),_.options.layoutRoot&&(i.relativeTarget=at,i.relativeTargetOrigin=nt,i.relativeParent=_)}}}i.notifyListeners("didUpdate",{layout:a,snapshot:o,delta:rt,layoutDelta:ot,hasLayoutChanged:it,hasRelativeTargetChanged:j})}else if(i.isLead()){const{onExitComplete:a}=i.options;a&&a()}i.options.transition=void 0}function propagateDirtyNodes(i){isDebug&&metrics.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function cleanDirtyNodes(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function clearIsLayoutDirty(i){i.isLayoutDirty=!1}function resetTransformStyle(i){const{visualElement:s}=i.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetSkewAndRotation(i){i.resetSkewAndRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,s,o){i.translate=mixNumber$1(s.translate,0,o),i.scale=mixNumber$1(s.scale,1,o),i.origin=s.origin,i.originPoint=s.originPoint}function mixAxis(i,s,o,a){i.min=mixNumber$1(s.min,o.min,a),i.max=mixNumber$1(s.max,o.max,a)}function mixBox(i,s,o,a){mixAxis(i.x,s.x,o.x,a),mixAxis(i.y,s.y,o.y,a)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(i){i.min=roundPoint(i.min),i.max=roundPoint(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,s,o){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(o),.2)}function checkNodeWasScrollRoot(i){var s;return i!==i.root&&((s=i.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode$1({attachResizeListener:(i,s)=>addDomEvent(i,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode$1({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode({});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,s)=>{i.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function addHoverEvent(i,s){const o=s?"pointerenter":"pointerleave",a=s?"onHoverStart":"onHoverEnd",tt=(_e,st)=>{if(_e.pointerType==="touch"||isDragActive())return;const ot=i.getProps();i.animationState&&ot.whileHover&&i.animationState.setActive("whileHover",s);const rt=ot[a];rt&&frame.postRender(()=>rt(_e,st))};return addPointerEvent(i.current,o,tt,{passive:!i.getProps()[a]})}class HoverGesture extends Feature{mount(){this.unmount=pipe$1(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(i,s)=>s?i===s?!0:isNodeOrChild(i,s.parentElement):!1;function fireSyntheticPointerEvent(i,s){if(!s)return;const o=new PointerEvent("pointer"+i);s(o,extractEventInfo(o))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$1,this.removeEndListeners=noop$1,this.removeAccessibleListeners=noop$1,this.startPointerPress=(s,o)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),_e=addPointerEvent(window,"pointerup",(ot,rt)=>{if(!this.checkPressEnd())return;const{onTap:it,onTapCancel:j,globalTapTarget:_}=this.node.getProps(),$=!_&&!isNodeOrChild(this.node.current,ot.target)?j:it;$&&frame.update(()=>$(ot,rt))},{passive:!(a.onTap||a.onPointerUp)}),st=addPointerEvent(window,"pointercancel",(ot,rt)=>this.cancelPress(ot,rt),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=pipe$1(_e,st),this.startPress(s,o)},this.startAccessiblePress=()=>{const s=_e=>{if(_e.key!=="Enter"||this.isPressing)return;const st=ot=>{ot.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(rt,it)=>{const{onTap:j}=this.node.getProps();j&&frame.postRender(()=>j(rt,it))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",st),fireSyntheticPointerEvent("down",(ot,rt)=>{this.startPress(ot,rt)})},o=addDomEvent(this.node.current,"keydown",s),a=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(_e,st)=>this.cancelPress(_e,st))},tt=addDomEvent(this.node.current,"blur",a);this.removeAccessibleListeners=pipe$1(o,tt)}}startPress(s,o){this.isPressing=!0;const{onTapStart:a,whileTap:tt}=this.node.getProps();tt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&frame.postRender(()=>a(s,o))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(s,o){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&frame.postRender(()=>a(s,o))}mount(){const s=this.node.getProps(),o=addPointerEvent(s.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(s.onTapStart||s.onPointerStart)}),a=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe$1(o,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const s=observerCallbacks.get(i.target);s&&s(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...s}){const o=i||document;observers.has(o)||observers.set(o,{});const a=observers.get(o),tt=JSON.stringify(s);return a[tt]||(a[tt]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...s})),a[tt]}function observeIntersection(i,s,o){const a=initIntersectionObserver(s);return observerCallbacks.set(i,o),a.observe(i),()=>{observerCallbacks.delete(i),a.unobserve(i)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:o,margin:a,amount:tt="some",once:_e}=s,st={root:o?o.current:void 0,rootMargin:a,threshold:typeof tt=="number"?tt:thresholdNames[tt]},ot=rt=>{const{isIntersecting:it}=rt;if(this.isInView===it||(this.isInView=it,_e&&!it&&this.hasEnteredView))return;it&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",it);const{onViewportEnter:j,onViewportLeave:_}=this.node.getProps(),$=it?j:_;$&&$(rt)};return observeIntersection(this.node.current,st,ot)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:o}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,o))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:i={}},{viewport:s={}}={}){return o=>i[o]!==s[o]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},MotionConfigContext=reactExports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),isBrowser=typeof window<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(i,s,o,a,tt){var _e,st;const{visualElement:ot}=reactExports.useContext(MotionContext),rt=reactExports.useContext(LazyContext),it=reactExports.useContext(PresenceContext),j=reactExports.useContext(MotionConfigContext).reducedMotion,_=reactExports.useRef();a=a||rt.renderer,!_.current&&a&&(_.current=a(i,{visualState:s,parent:ot,props:o,presenceContext:it,blockInitialAnimation:it?it.initial===!1:!1,reducedMotionConfig:j}));const $=_.current,et=reactExports.useContext(SwitchLayoutGroupContext);$&&!$.projection&&tt&&($.type==="html"||$.type==="svg")&&createProjectionNode(_.current,o,tt,et);const nt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{$&&nt.current&&$.update(o,it)});const at=o[optimizedAppearDataAttribute],ct=reactExports.useRef(!!at&&!(!((_e=window.MotionHandoffIsComplete)===null||_e===void 0)&&_e.call(window,at))&&((st=window.MotionHasOptimisedAnimation)===null||st===void 0?void 0:st.call(window,at)));return useIsomorphicLayoutEffect$2(()=>{$&&(nt.current=!0,window.MotionIsMounted=!0,$.updateFeatures(),microtask.render($.render),ct.current&&$.animationState&&$.animationState.animateChanges())}),reactExports.useEffect(()=>{$&&(!ct.current&&$.animationState&&$.animationState.animateChanges(),ct.current&&(queueMicrotask(()=>{var ht;(ht=window.MotionHandoffMarkAsComplete)===null||ht===void 0||ht.call(window,at)}),ct.current=!1))}),$}function createProjectionNode(i,s,o,a){const{layoutId:tt,layout:_e,drag:st,dragConstraints:ot,layoutScroll:rt,layoutRoot:it}=s;i.projection=new o(i.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(i.parent)),i.projection.setOptions({layoutId:tt,layout:_e,alwaysMeasureLayout:!!st||ot&&isRefObject(ot),visualElement:i,animationType:typeof _e=="string"?_e:"both",initialPromotionConfig:a,layoutScroll:rt,layoutRoot:it})}function getClosestProjectingNode(i){if(i)return i.options.allowProjection!==!1?i.projection:getClosestProjectingNode(i.parent)}function useMotionRef(i,s,o){return reactExports.useCallback(a=>{a&&i.mount&&i.mount(a),s&&(a?s.mount(a):s.unmount()),o&&(typeof o=="function"?o(a):isRefObject(o)&&(o.current=a))},[s])}function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps.some(s=>isVariantLabel(i[s]))}function isVariantNode(i){return!!(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,s){if(isControllingVariants(i)){const{initial:o,animate:a}=i;return{initial:o===!1||isVariantLabel(o)?o:void 0,animate:isVariantLabel(a)?a:void 0}}return i.inherit!==!1?s:{}}function useCreateMotionContext(i){const{initial:s,animate:o}=getCurrentTreeVariants(i,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:o}),[variantLabelsAsDependency(s),variantLabelsAsDependency(o)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const i in featureProps)featureDefinitions[i]={isEnabled:s=>featureProps[i].some(o=>!!s[o])};function loadFeatures(i){for(const s in i)featureDefinitions[s]={...featureDefinitions[s],...i[s]}}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function createRendererMotionComponent({preloadedFeatures:i,createVisualElement:s,useRender:o,useVisualState:a,Component:tt}){i&&loadFeatures(i);function _e(ot,rt){let it;const j={...reactExports.useContext(MotionConfigContext),...ot,layoutId:useLayoutId(ot)},{isStatic:_}=j,$=useCreateMotionContext(ot),et=a(ot,_);if(!_&&isBrowser){useStrictMode();const nt=getProjectionFunctionality(j);it=nt.MeasureLayout,$.visualElement=useVisualElement(tt,et,j,s,nt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:$,children:[it&&$.visualElement?jsxRuntimeExports.jsx(it,{visualElement:$.visualElement,...j}):null,o(tt,ot,useMotionRef(et,$.visualElement,rt),et,_,$.visualElement)]})}const st=reactExports.forwardRef(_e);return st[motionComponentSymbol]=tt,st}function useLayoutId({layoutId:i}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&i!==void 0?s+"-"+i:i}function useStrictMode(i,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(i){const{drag:s,layout:o}=featureDefinitions;if(!s&&!o)return{};const a={...s,...o};return{MeasureLayout:s!=null&&s.isEnabled(i)||o!=null&&o.isEnabled(i)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/u.test(i))}function renderHTML(i,{style:s,vars:o},a,tt){Object.assign(i.style,s,tt&&tt.getProjectionStyles(a));for(const _e in o)i.style.setProperty(_e,o[_e])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,s,o,a){renderHTML(i,s,void 0,a);for(const tt in s.attrs)i.setAttribute(camelCaseAttributes.has(tt)?tt:camelToDash(tt),s.attrs[tt])}function isForcedMotionValue(i,{layout:s,layoutId:o}){return transformProps.has(i)||i.startsWith("origin")||(s||o!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}function scrapeMotionValuesFromProps$1(i,s,o){var a;const{style:tt}=i,_e={};for(const st in tt)(isMotionValue(tt[st])||s.style&&isMotionValue(s.style[st])||isForcedMotionValue(st,i)||((a=o==null?void 0:o.getValue(st))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(_e[st]=tt[st]);return _e}function scrapeMotionValuesFromProps(i,s,o){const a=scrapeMotionValuesFromProps$1(i,s,o);for(const tt in i)if(isMotionValue(i[tt])||isMotionValue(s[tt])){const _e=transformPropOrder.indexOf(tt)!==-1?"attr"+tt.charAt(0).toUpperCase()+tt.substring(1):tt;a[_e]=i[tt]}return a}function useConstant(i){const s=reactExports.useRef(null);return s.current===null&&(s.current=i()),s.current}function makeState({scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o},a,tt,_e){const st={latestValues:makeLatestValues(a,tt,_e,i),renderState:s()};return o&&(st.mount=ot=>o(a,ot,st)),st}const makeUseVisualState=i=>(s,o)=>{const a=reactExports.useContext(MotionContext),tt=reactExports.useContext(PresenceContext),_e=()=>makeState(i,s,a,tt);return o?_e():useConstant(_e)};function makeLatestValues(i,s,o,a){const tt={},_e=a(i,{});for(const $ in _e)tt[$]=resolveMotionValue(_e[$]);let{initial:st,animate:ot}=i;const rt=isControllingVariants(i),it=isVariantNode(i);s&&it&&!rt&&i.inherit!==!1&&(st===void 0&&(st=s.initial),ot===void 0&&(ot=s.animate));let j=o?o.initial===!1:!1;j=j||st===!1;const _=j?ot:st;if(_&&typeof _!="boolean"&&!isAnimationControls(_)){const $=Array.isArray(_)?_:[_];for(let et=0;et<$.length;et++){const nt=resolveVariantFromProps(i,$[et]);if(nt){const{transitionEnd:at,transition:ct,...ht}=nt;for(const ut in ht){let dt=ht[ut];if(Array.isArray(dt)){const mt=j?dt.length-1:0;dt=dt[mt]}dt!==null&&(tt[ut]=dt)}for(const ut in at)tt[ut]=at[ut]}}}return tt}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),getValueAsType=(i,s)=>s&&typeof i=="number"?s.transform(i):i,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(i,s,o){let a="",tt=!0;for(let _e=0;_e<numTransforms;_e++){const st=transformPropOrder[_e],ot=i[st];if(ot===void 0)continue;let rt=!0;if(typeof ot=="number"?rt=ot===(st.startsWith("scale")?1:0):rt=parseFloat(ot)===0,!rt||o){const it=getValueAsType(ot,numberValueTypes[st]);if(!rt){tt=!1;const j=translateAlias[st]||st;a+=`${j}(${it}) `}o&&(s[st]=it)}}return a=a.trim(),o?a=o(s,tt?"":a):tt&&(a="none"),a}function buildHTMLStyles(i,s,o){const{style:a,vars:tt,transformOrigin:_e}=i;let st=!1,ot=!1;for(const rt in s){const it=s[rt];if(transformProps.has(rt)){st=!0;continue}else if(isCSSVariableName(rt)){tt[rt]=it;continue}else{const j=getValueAsType(it,numberValueTypes[rt]);rt.startsWith("origin")?(ot=!0,_e[rt]=j):a[rt]=j}}if(s.transform||(st||o?a.transform=buildTransform(s,i.transform,o):a.transform&&(a.transform="none")),ot){const{originX:rt="50%",originY:it="50%",originZ:j=0}=_e;a.transformOrigin=`${rt} ${it} ${j}`}}function calcOrigin(i,s,o){return typeof i=="string"?i:px.transform(s+o*i)}function calcSVGTransformOrigin(i,s,o){const a=calcOrigin(s,i.x,i.width),tt=calcOrigin(o,i.y,i.height);return`${a} ${tt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,s,o=1,a=0,tt=!0){i.pathLength=1;const _e=tt?dashKeys:camelKeys;i[_e.offset]=px.transform(-a);const st=px.transform(s),ot=px.transform(o);i[_e.array]=`${st} ${ot}`}function buildSVGAttrs(i,{attrX:s,attrY:o,attrScale:a,originX:tt,originY:_e,pathLength:st,pathSpacing:ot=1,pathOffset:rt=0,...it},j,_){if(buildHTMLStyles(i,it,_),j){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:$,style:et,dimensions:nt}=i;$.transform&&(nt&&(et.transform=$.transform),delete $.transform),nt&&(tt!==void 0||_e!==void 0||et.transform)&&(et.transformOrigin=calcSVGTransformOrigin(nt,tt!==void 0?tt:.5,_e!==void 0?_e:.5)),s!==void 0&&($.x=s),o!==void 0&&($.y=o),a!==void 0&&($.scale=a),st!==void 0&&buildSVGPath($,st,ot,rt,!1)}const isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg",svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(i,s,{renderState:o,latestValues:a})=>{frame.read(()=>{try{o.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(o,a,isSVGTag(s.tagName),i.transformTemplate),renderSVG(s,o)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(i,s,o){for(const a in s)!isMotionValue(s[a])&&!isForcedMotionValue(a,o)&&(i[a]=s[a])}function useInitialMotionValues({transformTemplate:i},s){return reactExports.useMemo(()=>{const o=createHtmlRenderState();return buildHTMLStyles(o,s,i),Object.assign({},o.vars,o.style)},[s])}function useStyle(i,s){const o=i.style||{},a={};return copyRawValuesOnly(a,o,i),Object.assign(a,useInitialMotionValues(i,s)),a}function useHTMLProps(i,s){const o={},a=useStyle(i,s);return i.drag&&i.dragListener!==!1&&(o.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(o.tabIndex=0),o.style=a,o}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){i&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):i(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(i,s,o){const a={};for(const tt in i)tt==="values"&&typeof i.values=="object"||(shouldForward(tt)||o===!0&&isValidMotionProp(tt)||!s&&!isValidMotionProp(tt)||i.draggable&&tt.startsWith("onDrag"))&&(a[tt]=i[tt]);return a}function useSVGProps(i,s,o,a){const tt=reactExports.useMemo(()=>{const _e=createSvgRenderState();return buildSVGAttrs(_e,s,isSVGTag(a),i.transformTemplate),{..._e.attrs,style:{..._e.style}}},[s]);if(i.style){const _e={};copyRawValuesOnly(_e,i.style,i),tt.style={..._e,...tt.style}}return tt}function createUseRender(i=!1){return(o,a,tt,{latestValues:_e},st)=>{const rt=(isSVGComponent(o)?useSVGProps:useHTMLProps)(a,_e,st,o),it=filterProps(a,typeof o=="string",i),j=o!==reactExports.Fragment?{...it,...rt,ref:tt}:{},{children:_}=a,$=reactExports.useMemo(()=>isMotionValue(_)?_.get():_,[_]);return reactExports.createElement(o,{...j,children:$})}}function createMotionComponentFactory(i,s){return function(a,{forwardMotionProps:tt}={forwardMotionProps:!1}){const st={...isSVGComponent(a)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:i,useRender:createUseRender(tt),createVisualElement:s,Component:a};return createRendererMotionComponent(st)}}const prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=i.matches;i.addListener(s),s()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(i,s,o){for(const a in s){const tt=s[a],_e=o[a];if(isMotionValue(tt))i.addValue(a,tt);else if(isMotionValue(_e))i.addValue(a,motionValue(tt,{owner:i}));else if(_e!==tt)if(i.hasValue(a)){const st=i.getValue(a);st.liveStyle===!0?st.jump(tt):st.hasAnimated||st.set(tt)}else{const st=i.getStaticValue(a);i.addValue(a,motionValue(st!==void 0?st:tt,{owner:i}))}}for(const a in o)s[a]===void 0&&i.removeValue(a);return s}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(s,o,a){return{}}constructor({parent:s,props:o,presenceContext:a,reducedMotionConfig:tt,blockInitialAnimation:_e,visualState:st},ot={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const $=time.now();this.renderScheduledAt<$&&(this.renderScheduledAt=$,frame.render(this.render,!1,!0))};const{latestValues:rt,renderState:it}=st;this.latestValues=rt,this.baseTarget={...rt},this.initialValues=o.initial?{...rt}:{},this.renderState=it,this.parent=s,this.props=o,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=tt,this.options=ot,this.blockInitialAnimation=!!_e,this.isControllingVariants=isControllingVariants(o),this.isVariantNode=isVariantNode(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:j,..._}=this.scrapeMotionValuesFromProps(o,{},this);for(const $ in _){const et=_[$];rt[$]!==void 0&&isMotionValue(et)&&et.set(rt[$],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const o=this.features[s];o&&(o.unmount(),o.isMounted=!1)}this.current=null}bindToMotionValue(s,o){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=transformProps.has(s),tt=o.on("change",ot=>{this.latestValues[s]=ot,this.props.onUpdate&&frame.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),_e=o.on("renderRequest",this.scheduleRender);let st;window.MotionCheckAppearSync&&(st=window.MotionCheckAppearSync(this,s,o)),this.valueSubscriptions.set(s,()=>{tt(),_e(),st&&st(),o.owner&&o.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const o=featureDefinitions[s];if(!o)continue;const{isEnabled:a,Feature:tt}=o;if(!this.features[s]&&tt&&a(this.props)&&(this.features[s]=new tt(this)),this.features[s]){const _e=this.features[s];_e.isMounted?_e.update():(_e.mount(),_e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,o){this.latestValues[s]=o}update(s,o){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let a=0;a<propEventHandlers.length;a++){const tt=propEventHandlers[a];this.propEventSubscriptions[tt]&&(this.propEventSubscriptions[tt](),delete this.propEventSubscriptions[tt]);const _e="on"+tt,st=s[_e];st&&(this.propEventSubscriptions[tt]=this.on(tt,st))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(s),()=>o.variantChildren.delete(s)}addValue(s,o){const a=this.values.get(s);o!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,o),this.values.set(s,o),this.latestValues[s]=o.get())}removeValue(s){this.values.delete(s);const o=this.valueSubscriptions.get(s);o&&(o(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,o){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&o!==void 0&&(a=motionValue(o===null?void 0:o,{owner:this}),this.addValue(s,a)),a}readValue(s,o){var a;let tt=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(a=this.getBaseTargetFromProps(this.props,s))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,s,this.options);return tt!=null&&(typeof tt=="string"&&(isNumericalString(tt)||isZeroValueString(tt))?tt=parseFloat(tt):!findValueType(tt)&&complex.test(o)&&(tt=getAnimatableNone(s,o)),this.setBaseTarget(s,isMotionValue(tt)?tt.get():tt)),isMotionValue(tt)?tt.get():tt}setBaseTarget(s,o){this.baseTarget[s]=o}getBaseTarget(s){var o;const{initial:a}=this.props;let tt;if(typeof a=="string"||typeof a=="object"){const st=resolveVariantFromProps(this.props,a,(o=this.presenceContext)===null||o===void 0?void 0:o.custom);st&&(tt=st[s])}if(a&&tt!==void 0)return tt;const _e=this.getBaseTargetFromProps(this.props,s);return _e!==void 0&&!isMotionValue(_e)?_e:this.initialValues[s]!==void 0&&tt===void 0?void 0:this.baseTarget[s]}on(s,o){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(o)}notify(s,...o){this.events[s]&&this.events[s].notify(...o)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,o){return s.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(s,o){return s.style?s.style[o]:void 0}removeValueFromRenderState(s,{vars:o,style:a}){delete o[s],delete a[s]}}function getComputedStyle(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(s,o){if(transformProps.has(o)){const a=getDefaultValueType(o);return a&&a.default||0}else{const a=getComputedStyle(s),tt=(isCSSVariableName(o)?a.getPropertyValue(o):a[o])||0;return typeof tt=="string"?tt.trim():tt}}measureInstanceViewportBox(s,{transformPagePoint:o}){return measureViewportBox(s,o)}build(s,o,a){buildHTMLStyles(s,o,a.transformTemplate)}scrapeMotionValuesFromProps(s,o,a){return scrapeMotionValuesFromProps$1(s,o,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,o){return s[o]}readValueFromInstance(s,o){if(transformProps.has(o)){const a=getDefaultValueType(o);return a&&a.default||0}return o=camelCaseAttributes.has(o)?o:camelToDash(o),s.getAttribute(o)}scrapeMotionValuesFromProps(s,o,a){return scrapeMotionValuesFromProps(s,o,a)}build(s,o,a){buildSVGAttrs(s,o,this.isSVGTag,a.transformTemplate)}renderInstance(s,o,a,tt){renderSVG(s,o,a,tt)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(i,s)=>isSVGComponent(i)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:i!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const o=this.props.childRef.current;if(o&&s.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=o.offsetHeight||0,a.width=o.offsetWidth||0,a.top=o.offsetTop,a.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:s}){const o=reactExports.useId(),a=reactExports.useRef(null),tt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:_e}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:st,height:ot,top:rt,left:it}=tt.current;if(s||!a.current||!st||!ot)return;a.current.dataset.motionPopId=o;const j=document.createElement("style");return _e&&(j.nonce=_e),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${st}px !important;
            height: ${ot}px !important;
            top: ${rt}px !important;
            left: ${it}px !important;
          }
        `),()=>{document.head.removeChild(j)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:a,sizeRef:tt,children:reactExports.cloneElement(i,{ref:a})})}const PresenceChild=({children:i,initial:s,isPresent:o,onExitComplete:a,custom:tt,presenceAffectsLayout:_e,mode:st})=>{const ot=useConstant(newChildrenMap),rt=reactExports.useId(),it=reactExports.useCallback(_=>{ot.set(_,!0);for(const $ of ot.values())if(!$)return;a&&a()},[ot,a]),j=reactExports.useMemo(()=>({id:rt,initial:s,isPresent:o,custom:tt,onExitComplete:it,register:_=>(ot.set(_,!1),()=>ot.delete(_))}),_e?[Math.random(),it]:[o,it]);return reactExports.useMemo(()=>{ot.forEach((_,$)=>ot.set($,!1))},[o]),reactExports.useEffect(()=>{!o&&!ot.size&&a&&a()},[o]),st==="popLayout"&&(i=jsxRuntimeExports.jsx(PopChild,{isPresent:o,children:i})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:j,children:i})};function newChildrenMap(){return new Map}const getChildKey=i=>i.key||"";function onlyElements(i){const s=[];return reactExports.Children.forEach(i,o=>{reactExports.isValidElement(o)&&s.push(o)}),s}const AnimatePresence=({children:i,exitBeforeEnter:s,custom:o,initial:a=!0,onExitComplete:tt,presenceAffectsLayout:_e=!0,mode:st="sync"})=>{const ot=reactExports.useMemo(()=>onlyElements(i),[i]),rt=ot.map(getChildKey),it=reactExports.useRef(!0),j=reactExports.useRef(ot),_=useConstant(()=>new Map),[$,et]=reactExports.useState(ot),[nt,at]=reactExports.useState(ot);useIsomorphicLayoutEffect$2(()=>{it.current=!1,j.current=ot;for(let ut=0;ut<nt.length;ut++){const dt=getChildKey(nt[ut]);rt.includes(dt)?_.delete(dt):_.get(dt)!==!0&&_.set(dt,!1)}},[nt,rt.length,rt.join("-")]);const ct=[];if(ot!==$){let ut=[...ot];for(let dt=0;dt<nt.length;dt++){const mt=nt[dt],gt=getChildKey(mt);rt.includes(gt)||(ut.splice(dt,0,mt),ct.push(mt))}st==="wait"&&ct.length&&(ut=ct),at(onlyElements(ut)),et(ot);return}const{forceRender:ht}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt.map(ut=>{const dt=getChildKey(ut),mt=ot===nt||rt.includes(dt),gt=()=>{if(_.has(dt))_.set(dt,!0);else return;let lt=!0;_.forEach(St=>{St||(lt=!1)}),lt&&(ht==null||ht(),at(j.current),tt&&tt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:mt,initial:!it.current||a?void 0:!1,custom:mt?void 0:o,presenceAffectsLayout:_e,mode:st,onExitComplete:mt?void 0:gt,children:ut},dt)})})},findById=(i,s)=>i.find(o=>o.id===s);function findToast(i,s){const o=getToastPosition(i,s),a=o?i[o].findIndex(tt=>tt.id===s):-1;return{position:o,index:a}}function getToastPosition(i,s){for(const[o,a]of Object.entries(i))if(findById(a,s))return o}function getToastStyle(i){const s=i.includes("right"),o=i.includes("left");let a="center";return s&&(a="flex-end"),o&&(a="flex-start"),{display:"flex",flexDirection:"column",alignItems:a}}function getToastListStyle(i){const o=i==="top"||i==="bottom"?"0 auto":void 0,a=i.includes("top")?"env(safe-area-inset-top, 0px)":void 0,tt=i.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,_e=i.includes("left")?void 0:"env(safe-area-inset-right, 0px)",st=i.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:o,top:a,bottom:tt,right:_e,left:st}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$1=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$1(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,o){switch(s){case"animation":case"animationName":if(typeof o=="string")return o.replace(animationRegex,function(a,tt,_e){return cursor={name:tt,styles:_e,next:cursor},tt})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof o=="number"&&o!==0?o+"px":o},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,s,o){if(o==null)return"";var a=o;if(a.__emotion_styles!==void 0)return a;switch(typeof o){case"boolean":return"";case"object":{var tt=o;if(tt.anim===1)return cursor={name:tt.name,styles:tt.styles,next:cursor},tt.name;var _e=o;if(_e.styles!==void 0){var st=_e.next;if(st!==void 0)for(;st!==void 0;)cursor={name:st.name,styles:st.styles,next:cursor},st=st.next;var ot=_e.styles+";";return ot}return createStringFromObject(i,s,o)}case"function":{if(i!==void 0){var rt=cursor,it=o(i);return cursor=rt,handleInterpolation(i,s,it)}break}}var j=o;if(s==null)return j;var _=s[j];return _!==void 0?_:j}function createStringFromObject(i,s,o){var a="";if(Array.isArray(o))for(var tt=0;tt<o.length;tt++)a+=handleInterpolation(i,s,o[tt])+";";else for(var _e in o){var st=o[_e];if(typeof st!="object"){var ot=st;s!=null&&s[ot]!==void 0?a+=_e+"{"+s[ot]+"}":isProcessableValue(ot)&&(a+=processStyleName(_e)+":"+processStyleValue(_e,ot)+";")}else{if(_e==="NO_COMPONENT_SELECTOR"&&isDevelopment$1)throw new Error(noComponentSelectorMessage);if(Array.isArray(st)&&typeof st[0]=="string"&&(s==null||s[st[0]]===void 0))for(var rt=0;rt<st.length;rt++)isProcessableValue(st[rt])&&(a+=processStyleName(_e)+":"+processStyleValue(_e,st[rt])+";");else{var it=handleInterpolation(i,s,st);switch(_e){case"animation":case"animationName":{a+=processStyleName(_e)+":"+it+";";break}default:a+=_e+"{"+it+"}"}}}}return a}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor;function serializeStyles(i,s,o){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var a=!0,tt="";cursor=void 0;var _e=i[0];if(_e==null||_e.raw===void 0)a=!1,tt+=handleInterpolation(o,s,_e);else{var st=_e;tt+=st[0]}for(var ot=1;ot<i.length;ot++)if(tt+=handleInterpolation(o,s,i[ot]),a){var rt=_e;tt+=rt[ot]}labelPattern.lastIndex=0;for(var it="",j;(j=labelPattern.exec(tt))!==null;)it+="-"+j[1];var _=murmur2(tt)+it;return{name:_,styles:tt,next:cursor}}var testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,o,a){var tt;if(o){var _e=o.shouldForwardProp;tt=s.__emotion_forwardProp&&_e?function(st){return s.__emotion_forwardProp(st)&&_e(st)}:_e}return typeof tt!="function"&&a&&(tt=s.__emotion_forwardProp),tt},isDevelopment=!1,Insertion=function(s){var o=s.cache,a=s.serialized,tt=s.isStringTag;return registerStyles(o,a,tt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(o,a,tt)}),null},createStyled=function i(s,o){var a=s.__emotion_real===s,tt=a&&s.__emotion_base||s,_e,st;o!==void 0&&(_e=o.label,st=o.target);var ot=composeShouldForwardProps(s,o,a),rt=ot||getDefaultShouldForwardProp(tt),it=!rt("as");return function(){var j=arguments,_=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(_e!==void 0&&_.push("label:"+_e+";"),j[0]==null||j[0].raw===void 0)_.push.apply(_,j);else{_.push(j[0][0]);for(var $=j.length,et=1;et<$;et++)_.push(j[et],j[0][et])}var nt=withEmotionCache(function(at,ct,ht){var ut=it&&at.as||tt,dt="",mt=[],gt=at;if(at.theme==null){gt={};for(var lt in at)gt[lt]=at[lt];gt.theme=reactExports.useContext(ThemeContext)}typeof at.className=="string"?dt=getRegisteredStyles(ct.registered,mt,at.className):at.className!=null&&(dt=at.className+" ");var St=serializeStyles(_.concat(mt),ct.registered,gt);dt+=ct.key+"-"+St.name,st!==void 0&&(dt+=" "+st);var xt=it&&ot===void 0?getDefaultShouldForwardProp(ut):rt,yt={};for(var _t in at)it&&_t==="as"||xt(_t)&&(yt[_t]=at[_t]);return yt.className=dt,ht&&(yt.ref=ht),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:ct,serialized:St,isStringTag:typeof ut=="string"}),reactExports.createElement(ut,yt))});return nt.displayName=_e!==void 0?_e:"Styled("+(typeof tt=="string"?tt:tt.displayName||tt.name||"Component")+")",nt.defaultProps=s.defaultProps,nt.__emotion_real=nt,nt.__emotion_base=tt,nt.__emotion_styles=_,nt.__emotion_forwardProp=ot,Object.defineProperty(nt,"toString",{value:function(){return st===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+st}}),nt.withComponent=function(at,ct){return i(at,_extends$1({},o,ct,{shouldForwardProp:composeShouldForwardProps(nt,ct,!0)})).apply(void 0,_)},nt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});const allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(i){return(validHTMLProps.has(i)||!allPropNames.has(i))&&i[0]!=="_"}const emotion_styled=interopDefault(newStyled),toCSSObject=({baseStyle:i})=>s=>{const{theme:o,css:a,__css:tt,sx:_e,...st}=s,[ot]=splitProps(st,isStyleProp),rt=runIfFn$1(i,s),it=assignAfter({},tt,rt,compact(ot),_e),j=css$2(it)(s.theme);return a?[j,a]:j};function styled(i,s){const{baseStyle:o,...a}=s??{};a.shouldForwardProp||(a.shouldForwardProp=shouldForwardProp);const tt=toCSSObject({baseStyle:o}),_e=emotion_styled(i,a)(tt);return reactExports.forwardRef(function(rt,it){const{children:j,..._}=rt,{colorMode:$,forced:et}=useColorMode(),nt=et?$:void 0;return reactExports.createElement(_e,{ref:it,"data-theme":nt,..._},j)})}function factory(){const i=new Map;return new Proxy(styled,{apply(s,o,a){return styled(...a)},get(s,o){return i.has(o)||i.set(o,styled(o)),i.get(o)}})}const chakra=factory(),toastMotionVariants={initial:i=>{const{position:s}=i,o=["top","bottom"].includes(s)?"y":"x";let a=["top-right","bottom-right"].includes(s)?1:-1;return s==="bottom"&&(a=1),{opacity:0,[o]:a*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(i=>{const{id:s,message:o,onCloseComplete:a,onRequestRemove:tt,requestClose:_e=!1,position:st="bottom",duration:ot=5e3,containerStyle:rt,motionVariants:it=toastMotionVariants,toastSpacing:j="0.5rem"}=i,[_,$]=reactExports.useState(ot),et=useIsPresent();useUpdateEffect(()=>{et||a==null||a()},[et]),useUpdateEffect(()=>{$(ot)},[ot]);const nt=()=>$(null),at=()=>$(ot),ct=()=>{et&&tt()};reactExports.useEffect(()=>{et&&_e&&tt()},[et,_e,tt]),useTimeout(ct,_);const ht=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:j,...rt}),[rt,j]),ut=reactExports.useMemo(()=>getToastStyle(st),[st]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:it,initial:"initial",animate:"animate",exit:"exit",onHoverStart:nt,onHoverEnd:at,custom:{position:st},style:ut,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:ht,children:runIfFn$1(o,{id:s,onClose:ct})})})});ToastComponent.displayName="ToastComponent";function forwardRef(i){return reactExports.forwardRef(i)}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal$1(i,s){if(i===s)return!0;if(i&&s&&typeof i=="object"&&typeof s=="object"){if(i.constructor!==s.constructor)return!1;var o,a,tt;if(Array.isArray(i)){if(o=i.length,o!=s.length)return!1;for(a=o;a--!==0;)if(!equal$1(i[a],s[a]))return!1;return!0}var _e;if(hasMap&&i instanceof Map&&s instanceof Map){if(i.size!==s.size)return!1;for(_e=i.entries();!(a=_e.next()).done;)if(!s.has(a.value[0]))return!1;for(_e=i.entries();!(a=_e.next()).done;)if(!equal$1(a.value[1],s.get(a.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&s instanceof Set){if(i.size!==s.size)return!1;for(_e=i.entries();!(a=_e.next()).done;)if(!s.has(a.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(s)){if(o=i.length,o!=s.length)return!1;for(a=o;a--!==0;)if(i[a]!==s[a])return!1;return!0}if(i.constructor===RegExp)return i.source===s.source&&i.flags===s.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof s.valueOf=="function")return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof s.toString=="function")return i.toString()===s.toString();if(tt=Object.keys(i),o=tt.length,o!==Object.keys(s).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(s,tt[a]))return!1;if(hasElementType&&i instanceof Element)return!1;for(a=o;a--!==0;)if(!((tt[a]==="_owner"||tt[a]==="__v"||tt[a]==="__o")&&i.$$typeof)&&!equal$1(i[tt[a]],s[tt[a]]))return!1;return!0}return i!==i&&s!==s}var reactFastCompare=function(s,o){try{return equal$1(s,o)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const isEqual$2=getDefaultExportFromCjs(reactFastCompare);function useTheme(){const i=reactExports.useContext(ThemeContext);if(!i)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return i}function useChakra(){const i=useColorMode(),s=useTheme();return{...i,theme:s}}function getTokenValue(i,s,o){if(s==null)return s;const a=tt=>{var _e,st;return(st=(_e=i.__cssMap)==null?void 0:_e[tt])==null?void 0:st.value};return a(s)??a(o)??o}function getToken(i,s,o){const a=Array.isArray(s)?s:[s],tt=Array.isArray(o)?o:[o];return _e=>{const st=tt.filter(Boolean),ot=a.map((rt,it)=>{const j=`${i}.${rt}`;return getTokenValue(_e,j,st[it]??rt)});return Array.isArray(s)?ot:ot[0]}}function useStyleConfigImpl(i,s={}){const{styleConfig:o,...a}=s,{theme:tt,colorMode:_e}=useChakra(),st=i?memoizedGet$1(tt,`components.${i}`):void 0,ot=o||st,rt=mergeWith({theme:tt,colorMode:_e},(ot==null?void 0:ot.defaultProps)??{},compact(omit(a,["children"])),(j,_)=>j?void 0:_),it=reactExports.useRef({});if(ot){const _=resolveStyleConfig(ot)(rt);isEqual$2(it.current,_)||(it.current=_)}return it.current}function useStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}function useMultiStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}const fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((i,s)=>{const{as:o,viewBox:a,color:tt="currentColor",focusable:_e=!1,children:st,className:ot,__css:rt,...it}=i,j=cx("chakra-icon",ot),_=useStyleConfig("Icon",i),$={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:tt,...rt,..._},et={ref:s,focusable:_e,className:j,__css:$},nt=a??fallbackIcon.viewBox;if(o&&typeof o!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:o,...et,...it});const at=st??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:nt,...et,...it,children:at})});Icon.displayName="Icon";function CheckIcon$1(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((i,s)=>{const o=useStyleConfig("Spinner",i),{label:a="Loading...",thickness:tt="2px",speed:_e="0.45s",emptyColor:st="transparent",className:ot,...rt}=omitThemingProps(i),it=cx("chakra-spinner",ot),j={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:tt,borderBottomColor:st,borderLeftColor:st,animation:`${spin} ${_e} linear infinite`,...o};return jsxRuntimeExports.jsx(chakra.div,{ref:s,__css:j,className:it,...rt,children:a&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:a})})});Spinner.displayName="Spinner";const[AlertProvider,useAlertContext]=createContext$1({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$1({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon$1,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(i){return STATUSES[i].colorScheme}function getStatusIcon(i){return STATUSES[i].icon}const Alert=forwardRef(function(s,o){const{status:a="info",addRole:tt=!0,..._e}=omitThemingProps(s),st=s.colorScheme??getStatusColorScheme(a),ot=useMultiStyleConfig("Alert",{...s,colorScheme:st}),rt={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...ot.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:a},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:ot,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":a,role:tt?"alert":void 0,ref:o,..._e,className:cx("chakra-alert",s.className),__css:rt})})})});Alert.displayName="Alert";function AlertIcon(i){const{status:s}=useAlertContext(),o=getStatusIcon(s),a=useAlertStyles(),tt=s==="loading"?a.spinner:a.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":s,...i,className:cx("chakra-alert__icon",i.className),__css:tt,children:i.children||jsxRuntimeExports.jsx(o,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";const AlertTitle=forwardRef(function(s,o){const a=useAlertStyles(),{status:tt}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:o,"data-status":tt,...s,className:cx("chakra-alert__title",s.className),__css:a.title})});AlertTitle.displayName="AlertTitle";const AlertDescription=forwardRef(function(s,o){const{status:a}=useAlertContext(),tt=useAlertStyles(),_e={display:"inline",...tt.description};return jsxRuntimeExports.jsx(chakra.div,{ref:o,"data-status":a,...s,className:cx("chakra-alert__desc",s.className),__css:_e})});AlertDescription.displayName="AlertDescription";function CloseIcon(i){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const CloseButton=forwardRef(function(s,o){const a=useStyleConfig("CloseButton",s),{children:tt,isDisabled:_e,__css:st,...ot}=omitThemingProps(s),rt={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:o,disabled:_e,__css:{...rt,...a,...st},...ot,children:tt||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";const Toast=i=>{const{status:s,variant:o="solid",id:a,title:tt,isClosable:_e,onClose:st,description:ot,colorScheme:rt,icon:it}=i,j=a?{root:`toast-${a}`,title:`toast-${a}-title`,description:`toast-${a}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:s,variant:o,id:j==null?void 0:j.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:rt,children:[jsxRuntimeExports.jsx(AlertIcon,{children:it}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[tt&&jsxRuntimeExports.jsx(AlertTitle,{id:j==null?void 0:j.title,children:tt}),ot&&jsxRuntimeExports.jsx(AlertDescription,{id:j==null?void 0:j.description,display:"block",children:ot})]}),_e&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:st,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(i={}){const{render:s,toastComponent:o=Toast}=i;return tt=>typeof s=="function"?s({...tt,...i}):jsxRuntimeExports.jsx(o,{...tt,...i})}const initialState$1={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore$1(initialState$1);function createStore$1(i){let s=i;const o=new Set,a=tt=>{s=tt(s),o.forEach(_e=>_e())};return{getState:()=>s,subscribe:tt=>(o.add(tt),()=>{a(()=>i),o.delete(tt)}),removeToast:(tt,_e)=>{a(st=>({...st,[_e]:st[_e].filter(ot=>ot.id!=tt)}))},notify:(tt,_e)=>{const st=createToast(tt,_e),{position:ot,id:rt}=st;return a(it=>{const _=ot.includes("top")?[st,...it[ot]??[]]:[...it[ot]??[],st];return{...it,[ot]:_}}),rt},update:(tt,_e)=>{tt&&a(st=>{const ot={...st},{position:rt,index:it}=findToast(ot,tt);return rt&&it!==-1&&(ot[rt][it]={...ot[rt][it],..._e,message:createRenderToast(_e)}),ot})},closeAll:({positions:tt}={})=>{a(_e=>(tt??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((rt,it)=>(rt[it]=_e[it].map(j=>({...j,requestClose:!0})),rt),{..._e}))},close:tt=>{a(_e=>{const st=getToastPosition(_e,tt);return st?{..._e,[st]:_e[st].map(ot=>ot.id==tt?{...ot,requestClose:!0}:ot)}:_e})},isActive:tt=>!!findToast(toastStore.getState(),tt).position}}let counter=0;function createToast(i,s={}){counter+=1;const o=s.id??counter,a=s.position??"bottom";return{id:o,message:i,position:a,duration:s.duration,onCloseComplete:s.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(o),a),status:s.status,requestClose:!1,containerStyle:s.containerStyle}}var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Pt,Ft){var zt=Pt.length;Pt.push(Ft);e:for(;0<zt;){var qt=zt-1>>>1,Gt=Pt[qt];if(0<tt(Gt,Ft))Pt[qt]=Ft,Pt[zt]=Gt,zt=qt;else break e}}function o(Pt){return Pt.length===0?null:Pt[0]}function a(Pt){if(Pt.length===0)return null;var Ft=Pt[0],zt=Pt.pop();if(zt!==Ft){Pt[0]=zt;e:for(var qt=0,Gt=Pt.length,Wt=Gt>>>1;qt<Wt;){var Xt=2*(qt+1)-1,rr=Pt[Xt],tr=Xt+1,mr=Pt[tr];if(0>tt(rr,zt))tr<Gt&&0>tt(mr,rr)?(Pt[qt]=mr,Pt[tr]=zt,qt=tr):(Pt[qt]=rr,Pt[Xt]=zt,qt=Xt);else if(tr<Gt&&0>tt(mr,zt))Pt[qt]=mr,Pt[tr]=zt,qt=tr;else break e}}return Ft}function tt(Pt,Ft){var zt=Pt.sortIndex-Ft.sortIndex;return zt!==0?zt:Pt.id-Ft.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;i.unstable_now=function(){return _e.now()}}else{var st=Date,ot=st.now();i.unstable_now=function(){return st.now()-ot}}var rt=[],it=[],j=1,_=null,$=3,et=!1,nt=!1,at=!1,ct=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function dt(Pt){for(var Ft=o(it);Ft!==null;){if(Ft.callback===null)a(it);else if(Ft.startTime<=Pt)a(it),Ft.sortIndex=Ft.expirationTime,s(rt,Ft);else break;Ft=o(it)}}function mt(Pt){if(at=!1,dt(Pt),!nt)if(o(rt)!==null)nt=!0,Mt(gt);else{var Ft=o(it);Ft!==null&&Ot(mt,Ft.startTime-Pt)}}function gt(Pt,Ft){nt=!1,at&&(at=!1,ht(xt),xt=-1),et=!0;var zt=$;try{for(dt(Ft),_=o(rt);_!==null&&(!(_.expirationTime>Ft)||Pt&&!kt());){var qt=_.callback;if(typeof qt=="function"){_.callback=null,$=_.priorityLevel;var Gt=qt(_.expirationTime<=Ft);Ft=i.unstable_now(),typeof Gt=="function"?_.callback=Gt:_===o(rt)&&a(rt),dt(Ft)}else a(rt);_=o(rt)}if(_!==null)var Wt=!0;else{var Xt=o(it);Xt!==null&&Ot(mt,Xt.startTime-Ft),Wt=!1}return Wt}finally{_=null,$=zt,et=!1}}var lt=!1,St=null,xt=-1,yt=5,_t=-1;function kt(){return!(i.unstable_now()-_t<yt)}function Et(){if(St!==null){var Pt=i.unstable_now();_t=Pt;var Ft=!0;try{Ft=St(!0,Pt)}finally{Ft?$t():(lt=!1,St=null)}}else lt=!1}var $t;if(typeof ut=="function")$t=function(){ut(Et)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,At=Tt.port2;Tt.port1.onmessage=Et,$t=function(){At.postMessage(null)}}else $t=function(){ct(Et,0)};function Mt(Pt){St=Pt,lt||(lt=!0,$t())}function Ot(Pt,Ft){xt=ct(function(){Pt(i.unstable_now())},Ft)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Pt){Pt.callback=null},i.unstable_continueExecution=function(){nt||et||(nt=!0,Mt(gt))},i.unstable_forceFrameRate=function(Pt){0>Pt||125<Pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yt=0<Pt?Math.floor(1e3/Pt):5},i.unstable_getCurrentPriorityLevel=function(){return $},i.unstable_getFirstCallbackNode=function(){return o(rt)},i.unstable_next=function(Pt){switch($){case 1:case 2:case 3:var Ft=3;break;default:Ft=$}var zt=$;$=Ft;try{return Pt()}finally{$=zt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Pt,Ft){switch(Pt){case 1:case 2:case 3:case 4:case 5:break;default:Pt=3}var zt=$;$=Pt;try{return Ft()}finally{$=zt}},i.unstable_scheduleCallback=function(Pt,Ft,zt){var qt=i.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?qt+zt:qt):zt=qt,Pt){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=zt+Gt,Pt={id:j++,callback:Ft,priorityLevel:Pt,startTime:zt,expirationTime:Gt,sortIndex:-1},zt>qt?(Pt.sortIndex=zt,s(it,Pt),o(rt)===null&&Pt===o(it)&&(at?(ht(xt),xt=-1):at=!0,Ot(mt,zt-qt))):(Pt.sortIndex=Gt,s(rt,Pt),nt||et||(nt=!0,Mt(gt))),Pt},i.unstable_shouldYield=kt,i.unstable_wrapCallback=function(Pt){var Ft=$;return function(){var zt=$;$=Ft;try{return Pt.apply(this,arguments)}finally{$=zt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(i,s,o,a,tt,_e,st){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=tt,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=_e,this.removeEmptyString=st}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v$1(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var tt=z.hasOwnProperty(s)?z[s]:null;(tt!==null?tt.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,tt,a)&&(o=null),a||tt===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):tt.mustUseProperty?i[tt.propertyName]=o===null?tt.type===3?!1:"":o:(s=tt.attributeName,a=tt.attributeNamespace,o===null?i.removeAttribute(s):(tt=tt.type,o=tt===3||tt===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(it){var a=it}Reflect.construct(i,[],s)}else{try{s.call()}catch(it){a=it}i.call(s.prototype)}else{try{throw Error()}catch(it){a=it}i()}}catch(it){if(it&&a&&typeof it.stack=="string"){for(var tt=it.stack.split(`
`),_e=a.stack.split(`
`),st=tt.length-1,ot=_e.length-1;1<=st&&0<=ot&&tt[st]!==_e[ot];)ot--;for(;1<=st&&0<=ot;st--,ot--)if(tt[st]!==_e[ot]){if(st!==1||ot!==1)do if(st--,ot--,0>ot||tt[st]!==_e[ot]){var rt=`
`+tt[st].replace(" at new "," at ");return i.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",i.displayName)),rt}while(1<=st&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var tt=o.get,_e=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return tt.call(this)},set:function(st){a=""+st,_e.call(this,st)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(st){a=""+st},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var tt=0;tt<o.length;tt++)s["$"+o[tt]]=!0;for(o=0;o<i.length;o++)tt=s.hasOwnProperty("$"+i[o].value),i[o].selected!==tt&&(i[o].selected=tt),tt&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,tt=0;tt<i.length;tt++){if(i[tt].value===o){i[tt].selected=!0,a&&(i[tt].defaultSelected=!0);return}s!==null||i[tt].disabled||(s=i[tt])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p$1(92));if(eb(o)){if(1<o.length)throw Error(p$1(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,tt){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,tt)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,tt=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,tt):i[o]=tt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p$1(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,tt,_e,st,ot,rt){var it=Array.prototype.slice.call(arguments,3);try{s.apply(o,it)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,tt,_e,st,ot,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,tt,_e,st,ot,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=it)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p$1(188));return s!==i?null:i}for(var o=i,a=s;;){var tt=o.return;if(tt===null)break;var _e=tt.alternate;if(_e===null){if(a=tt.return,a!==null){o=a;continue}break}if(tt.child===_e.child){for(_e=tt.child;_e;){if(_e===o)return Xb(tt),i;if(_e===a)return Xb(tt),s;_e=_e.sibling}throw Error(p$1(188))}if(o.return!==a.return)o=tt,a=_e;else{for(var st=!1,ot=tt.child;ot;){if(ot===o){st=!0,o=tt,a=_e;break}if(ot===a){st=!0,a=tt,o=_e;break}ot=ot.sibling}if(!st){for(ot=_e.child;ot;){if(ot===o){st=!0,o=_e,a=tt;break}if(ot===a){st=!0,a=_e,o=tt;break}ot=ot.sibling}if(!st)throw Error(p$1(189))}}if(o.alternate!==a)throw Error(p$1(190))}if(o.tag!==3)throw Error(p$1(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,tt=i.suspendedLanes,_e=i.pingedLanes,st=o&268435455;if(st!==0){var ot=st&~tt;ot!==0?a=tc(ot):(_e&=st,_e!==0&&(a=tc(_e)))}else st=o&~tt,st!==0?a=tc(st):_e!==0&&(a=tc(_e));if(a===0)return 0;if(s!==0&&s!==a&&!(s&tt)&&(tt=a&-a,_e=s&-s,tt>=_e||tt===16&&(_e&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),tt=1<<o,a|=i[o],s&=~tt;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,tt=i.expirationTimes,_e=i.pendingLanes;0<_e;){var st=31-oc(_e),ot=1<<st,rt=tt[st];rt===-1?(!(ot&o)||ot&a)&&(tt[st]=vc(ot,s)):rt<=s&&(i.expiredLanes|=ot),_e&=~ot}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var tt=31-oc(o),_e=1<<tt;s[tt]=0,a[tt]=-1,i[tt]=-1,o&=~_e}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),tt=1<<a;tt&s|i[a]&s&&(i[a]|=s),o&=~tt}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,tt,_e){return i===null||i.nativeEvent!==_e?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:_e,targetContainers:[tt]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,tt!==null&&s.indexOf(tt)===-1&&s.push(tt),i)}function Uc(i,s,o,a,tt){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,tt),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,tt),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,tt),!0;case"pointerover":var _e=tt.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,i,s,o,a,tt)),!0;case"gotpointercapture":return _e=tt.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,i,s,o,a,tt)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(tt){return ad(tt,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var tt=C,_e=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=tt,cd.transition=_e}}function gd(i,s,o,a){var tt=C,_e=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=tt,cd.transition=_e}}function fd(i,s,o,a){if(dd){var tt=Yc(i,s,o,a);if(tt===null)hd(i,s,a,id,o),Sc(i,a);else if(Uc(tt,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;tt!==null;){var _e=Cb(tt);if(_e!==null&&Ec(_e),_e=Yc(i,s,o,a),_e===null&&hd(i,s,a,id,o),_e===tt)break;tt=_e}tt!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id=null;function Yc(i,s,o,a){if(id=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,tt="value"in kd?kd.value:kd.textContent,_e=tt.length;for(i=0;i<o&&s[i]===tt[i];i++);var st=o-i;for(a=1;a<=st&&s[o-a]===tt[_e-a];a++);return md=tt.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,tt,_e,st){this._reactName=o,this._targetInst=tt,this.type=a,this.nativeEvent=_e,this.target=st,this.currentTarget=null;for(var ot in i)i.hasOwnProperty(ot)&&(o=i[ot],this[ot]=o?o(_e):_e[ot]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,o,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var tt=o[a];if(!ja.call(s,tt)||!He(i[tt],s[tt]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var tt=o.textContent.length,_e=Math.min(a.start,tt);a=a.end===void 0?_e:Math.min(a.end,tt),!i.extend&&_e>a&&(tt=a,a=_e,_e=tt),tt=Ke(o,_e);var st=Ke(o,a);tt&&st&&(i.rangeCount!==1||i.anchorNode!==tt.node||i.anchorOffset!==tt.offset||i.focusNode!==st.node||i.focusOffset!==st.offset)&&(s=s.createRange(),s.setStart(tt.node,tt.offset),i.removeAllRanges(),_e>a?(i.addRange(s),i.extend(st.node,st.offset)):(s.setEnd(st.node,st.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],tt=a.event;a=a.listeners;e:{var _e=void 0;if(s)for(var st=a.length-1;0<=st;st--){var ot=a[st],rt=ot.instance,it=ot.currentTarget;if(ot=ot.listener,rt!==_e&&tt.isPropagationStopped())break e;nf(tt,ot,it),_e=rt}else for(st=0;st<a.length;st++){if(ot=a[st],rt=ot.instance,it=ot.currentTarget,ot=ot.listener,rt!==_e&&tt.isPropagationStopped())break e;nf(tt,ot,it),_e=rt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}o=tt.bind(null,s,o,i),tt=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(tt=!0),a?tt!==void 0?i.addEventListener(s,o,{capture:!0,passive:tt}):i.addEventListener(s,o,!0):tt!==void 0?i.addEventListener(s,o,{passive:tt}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,tt){var _e=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var st=a.tag;if(st===3||st===4){var ot=a.stateNode.containerInfo;if(ot===tt||ot.nodeType===8&&ot.parentNode===tt)break;if(st===4)for(st=a.return;st!==null;){var rt=st.tag;if((rt===3||rt===4)&&(rt=st.stateNode.containerInfo,rt===tt||rt.nodeType===8&&rt.parentNode===tt))return;st=st.return}for(;ot!==null;){if(st=Wc(ot),st===null)return;if(rt=st.tag,rt===5||rt===6){a=_e=st;continue e}ot=ot.parentNode}}a=a.return}Jb(function(){var it=_e,j=xb(o),_=[];e:{var $=df.get(i);if($!==void 0){var et=td,nt=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":et=Rd;break;case"focusin":nt="focus",et=Fd;break;case"focusout":nt="blur",et=Fd;break;case"beforeblur":case"afterblur":et=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Vd;break;case $e:case af:case bf:et=Hd;break;case cf:et=Xd;break;case"scroll":et=vd;break;case"wheel":et=Zd;break;case"copy":case"cut":case"paste":et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Td}var at=(s&4)!==0,ct=!at&&i==="scroll",ht=at?$!==null?$+"Capture":null:$;at=[];for(var ut=it,dt;ut!==null;){dt=ut;var mt=dt.stateNode;if(dt.tag===5&&mt!==null&&(dt=mt,ht!==null&&(mt=Kb(ut,ht),mt!=null&&at.push(tf(ut,mt,dt)))),ct)break;ut=ut.return}0<at.length&&($=new et($,nt,null,o,j),_.push({event:$,listeners:at}))}}if(!(s&7)){e:{if($=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",$&&o!==wb&&(nt=o.relatedTarget||o.fromElement)&&(Wc(nt)||nt[uf]))break e;if((et||$)&&($=j.window===j?j:($=j.ownerDocument)?$.defaultView||$.parentWindow:window,et?(nt=o.relatedTarget||o.toElement,et=it,nt=nt?Wc(nt):null,nt!==null&&(ct=Vb(nt),nt!==ct||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(et=null,nt=it),et!==nt)){if(at=Bd,mt="onMouseLeave",ht="onMouseEnter",ut="mouse",(i==="pointerout"||i==="pointerover")&&(at=Td,mt="onPointerLeave",ht="onPointerEnter",ut="pointer"),ct=et==null?$:ue(et),dt=nt==null?$:ue(nt),$=new at(mt,ut+"leave",et,o,j),$.target=ct,$.relatedTarget=dt,mt=null,Wc(j)===it&&(at=new at(ht,ut+"enter",nt,o,j),at.target=dt,at.relatedTarget=ct,mt=at),ct=mt,et&&nt)t:{for(at=et,ht=nt,ut=0,dt=at;dt;dt=vf(dt))ut++;for(dt=0,mt=ht;mt;mt=vf(mt))dt++;for(;0<ut-dt;)at=vf(at),ut--;for(;0<dt-ut;)ht=vf(ht),dt--;for(;ut--;){if(at===ht||ht!==null&&at===ht.alternate)break t;at=vf(at),ht=vf(ht)}at=null}else at=null;et!==null&&wf(_,$,et,at,!1),nt!==null&&ct!==null&&wf(_,ct,nt,at,!0)}}e:{if($=it?ue(it):window,et=$.nodeName&&$.nodeName.toLowerCase(),et==="select"||et==="input"&&$.type==="file")var gt=ve;else if(me($))if(we)gt=Fe;else{gt=De;var lt=Ce}else(et=$.nodeName)&&et.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(gt=Ee);if(gt&&(gt=gt(i,it))){ne(_,gt,o,j);break e}lt&&lt(i,$,it),i==="focusout"&&(lt=$._wrapperState)&&lt.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(lt=it?ue(it):window,i){case"focusin":(me(lt)||lt.contentEditable==="true")&&(Qe=lt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_,o,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_,o,j)}var St;if(ae)e:{switch(i){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else ie?ge(i,o)&&(xt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(xt="onCompositionStart");xt&&(de&&o.locale!=="ko"&&(ie||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ie&&(St=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),lt=oe(it,xt),0<lt.length&&(xt=new Ld(xt,i,null,o,j),_.push({event:xt,listeners:lt}),St?xt.data=St:(St=he(o),St!==null&&(xt.data=St)))),(St=ce?je(i,o):ke(i,o))&&(it=oe(it,"onBeforeInput"),0<it.length&&(j=new Ld("onBeforeInput","beforeinput",null,o,j),_.push({event:j,listeners:it}),j.data=St))}se(_,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe(i,s){for(var o=s+"Capture",a=[];i!==null;){var tt=i,_e=tt.stateNode;tt.tag===5&&_e!==null&&(tt=_e,_e=Kb(i,o),_e!=null&&a.unshift(tf(i,_e,tt)),_e=Kb(i,s),_e!=null&&a.push(tf(i,_e,tt))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,tt){for(var _e=s._reactName,st=[];o!==null&&o!==a;){var ot=o,rt=ot.alternate,it=ot.stateNode;if(rt!==null&&rt===a)break;ot.tag===5&&it!==null&&(ot=it,tt?(rt=Kb(o,_e),rt!=null&&st.unshift(tf(o,rt,ot))):tt||(rt=Kb(o,_e),rt!=null&&st.push(tf(o,rt,ot)))),o=o.return}st.length!==0&&i.push({event:s,listeners:st})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var tt=o.nextSibling;if(i.removeChild(o),tt&&tt.nodeType===8)if(o=tt.data,o==="/$"){if(a===0){i.removeChild(tt),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=tt}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var tt={},_e;for(_e in o)tt[_e]=s[_e];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p$1(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var tt in a)if(!(tt in s))throw Error(p$1(108,Ra(i)||"Unknown",tt));return A({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p$1(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),tt}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var tt=32-oc(a)-1;a&=~(1<<tt),o+=1;var _e=32-oc(s)+tt;if(30<_e){var st=tt-tt%5;_e=(a&(1<<st)-1).toString(32),a>>=st,tt-=st,rg=1<<32-oc(s)+tt|o<<tt|a,sg=_e+i}else rg=1<<_e|o<<tt|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p$1(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$1(309));var a=o.stateNode}if(!a)throw Error(p$1(147,i));var tt=a,_e=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_e?s.ref:(s=function(st){var ot=tt.refs;st===null?delete ot[_e]:ot[_e]=st},s._stringRef=_e,s)}if(typeof i!="string")throw Error(p$1(284));if(!o._owner)throw Error(p$1(290,i))}return i}function Mg(i,s){throw i=Object.prototype.toString.call(s),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ng(i){var s=i._init;return s(i._payload)}function Og(i){function s(ht,ut){if(i){var dt=ht.deletions;dt===null?(ht.deletions=[ut],ht.flags|=16):dt.push(ut)}}function o(ht,ut){if(!i)return null;for(;ut!==null;)s(ht,ut),ut=ut.sibling;return null}function a(ht,ut){for(ht=new Map;ut!==null;)ut.key!==null?ht.set(ut.key,ut):ht.set(ut.index,ut),ut=ut.sibling;return ht}function tt(ht,ut){return ht=Pg(ht,ut),ht.index=0,ht.sibling=null,ht}function _e(ht,ut,dt){return ht.index=dt,i?(dt=ht.alternate,dt!==null?(dt=dt.index,dt<ut?(ht.flags|=2,ut):dt):(ht.flags|=2,ut)):(ht.flags|=1048576,ut)}function st(ht){return i&&ht.alternate===null&&(ht.flags|=2),ht}function ot(ht,ut,dt,mt){return ut===null||ut.tag!==6?(ut=Qg(dt,ht.mode,mt),ut.return=ht,ut):(ut=tt(ut,dt),ut.return=ht,ut)}function rt(ht,ut,dt,mt){var gt=dt.type;return gt===ya?j(ht,ut,dt.props.children,mt,dt.key):ut!==null&&(ut.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===ut.type)?(mt=tt(ut,dt.props),mt.ref=Lg(ht,ut,dt),mt.return=ht,mt):(mt=Rg(dt.type,dt.key,dt.props,null,ht.mode,mt),mt.ref=Lg(ht,ut,dt),mt.return=ht,mt)}function it(ht,ut,dt,mt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==dt.containerInfo||ut.stateNode.implementation!==dt.implementation?(ut=Sg(dt,ht.mode,mt),ut.return=ht,ut):(ut=tt(ut,dt.children||[]),ut.return=ht,ut)}function j(ht,ut,dt,mt,gt){return ut===null||ut.tag!==7?(ut=Tg(dt,ht.mode,mt,gt),ut.return=ht,ut):(ut=tt(ut,dt),ut.return=ht,ut)}function _(ht,ut,dt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=Qg(""+ut,ht.mode,dt),ut.return=ht,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return dt=Rg(ut.type,ut.key,ut.props,null,ht.mode,dt),dt.ref=Lg(ht,null,ut),dt.return=ht,dt;case wa:return ut=Sg(ut,ht.mode,dt),ut.return=ht,ut;case Ha:var mt=ut._init;return _(ht,mt(ut._payload),dt)}if(eb(ut)||Ka(ut))return ut=Tg(ut,ht.mode,dt,null),ut.return=ht,ut;Mg(ht,ut)}return null}function $(ht,ut,dt,mt){var gt=ut!==null?ut.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return gt!==null?null:ot(ht,ut,""+dt,mt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return dt.key===gt?rt(ht,ut,dt,mt):null;case wa:return dt.key===gt?it(ht,ut,dt,mt):null;case Ha:return gt=dt._init,$(ht,ut,gt(dt._payload),mt)}if(eb(dt)||Ka(dt))return gt!==null?null:j(ht,ut,dt,mt,null);Mg(ht,dt)}return null}function et(ht,ut,dt,mt,gt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return ht=ht.get(dt)||null,ot(ut,ht,""+mt,gt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return ht=ht.get(mt.key===null?dt:mt.key)||null,rt(ut,ht,mt,gt);case wa:return ht=ht.get(mt.key===null?dt:mt.key)||null,it(ut,ht,mt,gt);case Ha:var lt=mt._init;return et(ht,ut,dt,lt(mt._payload),gt)}if(eb(mt)||Ka(mt))return ht=ht.get(dt)||null,j(ut,ht,mt,gt,null);Mg(ut,mt)}return null}function nt(ht,ut,dt,mt){for(var gt=null,lt=null,St=ut,xt=ut=0,yt=null;St!==null&&xt<dt.length;xt++){St.index>xt?(yt=St,St=null):yt=St.sibling;var _t=$(ht,St,dt[xt],mt);if(_t===null){St===null&&(St=yt);break}i&&St&&_t.alternate===null&&s(ht,St),ut=_e(_t,ut,xt),lt===null?gt=_t:lt.sibling=_t,lt=_t,St=yt}if(xt===dt.length)return o(ht,St),I&&tg(ht,xt),gt;if(St===null){for(;xt<dt.length;xt++)St=_(ht,dt[xt],mt),St!==null&&(ut=_e(St,ut,xt),lt===null?gt=St:lt.sibling=St,lt=St);return I&&tg(ht,xt),gt}for(St=a(ht,St);xt<dt.length;xt++)yt=et(St,ht,xt,dt[xt],mt),yt!==null&&(i&&yt.alternate!==null&&St.delete(yt.key===null?xt:yt.key),ut=_e(yt,ut,xt),lt===null?gt=yt:lt.sibling=yt,lt=yt);return i&&St.forEach(function(kt){return s(ht,kt)}),I&&tg(ht,xt),gt}function at(ht,ut,dt,mt){var gt=Ka(dt);if(typeof gt!="function")throw Error(p$1(150));if(dt=gt.call(dt),dt==null)throw Error(p$1(151));for(var lt=gt=null,St=ut,xt=ut=0,yt=null,_t=dt.next();St!==null&&!_t.done;xt++,_t=dt.next()){St.index>xt?(yt=St,St=null):yt=St.sibling;var kt=$(ht,St,_t.value,mt);if(kt===null){St===null&&(St=yt);break}i&&St&&kt.alternate===null&&s(ht,St),ut=_e(kt,ut,xt),lt===null?gt=kt:lt.sibling=kt,lt=kt,St=yt}if(_t.done)return o(ht,St),I&&tg(ht,xt),gt;if(St===null){for(;!_t.done;xt++,_t=dt.next())_t=_(ht,_t.value,mt),_t!==null&&(ut=_e(_t,ut,xt),lt===null?gt=_t:lt.sibling=_t,lt=_t);return I&&tg(ht,xt),gt}for(St=a(ht,St);!_t.done;xt++,_t=dt.next())_t=et(St,ht,xt,_t.value,mt),_t!==null&&(i&&_t.alternate!==null&&St.delete(_t.key===null?xt:_t.key),ut=_e(_t,ut,xt),lt===null?gt=_t:lt.sibling=_t,lt=_t);return i&&St.forEach(function(Et){return s(ht,Et)}),I&&tg(ht,xt),gt}function ct(ht,ut,dt,mt){if(typeof dt=="object"&&dt!==null&&dt.type===ya&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:e:{for(var gt=dt.key,lt=ut;lt!==null;){if(lt.key===gt){if(gt=dt.type,gt===ya){if(lt.tag===7){o(ht,lt.sibling),ut=tt(lt,dt.props.children),ut.return=ht,ht=ut;break e}}else if(lt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===lt.type){o(ht,lt.sibling),ut=tt(lt,dt.props),ut.ref=Lg(ht,lt,dt),ut.return=ht,ht=ut;break e}o(ht,lt);break}else s(ht,lt);lt=lt.sibling}dt.type===ya?(ut=Tg(dt.props.children,ht.mode,mt,dt.key),ut.return=ht,ht=ut):(mt=Rg(dt.type,dt.key,dt.props,null,ht.mode,mt),mt.ref=Lg(ht,ut,dt),mt.return=ht,ht=mt)}return st(ht);case wa:e:{for(lt=dt.key;ut!==null;){if(ut.key===lt)if(ut.tag===4&&ut.stateNode.containerInfo===dt.containerInfo&&ut.stateNode.implementation===dt.implementation){o(ht,ut.sibling),ut=tt(ut,dt.children||[]),ut.return=ht,ht=ut;break e}else{o(ht,ut);break}else s(ht,ut);ut=ut.sibling}ut=Sg(dt,ht.mode,mt),ut.return=ht,ht=ut}return st(ht);case Ha:return lt=dt._init,ct(ht,ut,lt(dt._payload),mt)}if(eb(dt))return nt(ht,ut,dt,mt);if(Ka(dt))return at(ht,ut,dt,mt);Mg(ht,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,ut!==null&&ut.tag===6?(o(ht,ut.sibling),ut=tt(ut,dt),ut.return=ht,ht=ut):(o(ht,ut),ut=Qg(dt,ht.mode,mt),ut.return=ht,ht=ut),st(ht)):o(ht,ut)}return ct}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var s=Wg.current;E(Wg),i._currentValue=s}function bh(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function ch(i,s){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(dh=!0),i.firstContext=null)}function eh(i){var s=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return s}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,s,o,a){var tt=s.interleaved;return tt===null?(o.next=o,gh(s)):(o.next=tt.next,tt.next=o),s.interleaved=o,ih(i,a)}function ih(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var tt=a.pending;return tt===null?s.next=s:(s.next=tt.next,tt.next=s),a.pending=s,ih(i,o)}return tt=a.interleaved,tt===null?(s.next=s,gh(a)):(s.next=tt.next,tt.next=s),a.interleaved=s,ih(i,o)}function oh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function ph(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var tt=null,_e=null;if(o=o.firstBaseUpdate,o!==null){do{var st={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};_e===null?tt=_e=st:_e=_e.next=st,o=o.next}while(o!==null);_e===null?tt=_e=s:_e=_e.next=s}else tt=_e=s;o={baseState:a.baseState,firstBaseUpdate:tt,lastBaseUpdate:_e,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function qh(i,s,o,a){var tt=i.updateQueue;jh=!1;var _e=tt.firstBaseUpdate,st=tt.lastBaseUpdate,ot=tt.shared.pending;if(ot!==null){tt.shared.pending=null;var rt=ot,it=rt.next;rt.next=null,st===null?_e=it:st.next=it,st=rt;var j=i.alternate;j!==null&&(j=j.updateQueue,ot=j.lastBaseUpdate,ot!==st&&(ot===null?j.firstBaseUpdate=it:ot.next=it,j.lastBaseUpdate=rt))}if(_e!==null){var _=tt.baseState;st=0,j=it=rt=null,ot=_e;do{var $=ot.lane,et=ot.eventTime;if((a&$)===$){j!==null&&(j=j.next={eventTime:et,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var nt=i,at=ot;switch($=s,et=o,at.tag){case 1:if(nt=at.payload,typeof nt=="function"){_=nt.call(et,_,$);break e}_=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=at.payload,$=typeof nt=="function"?nt.call(et,_,$):nt,$==null)break e;_=A({},_,$);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&(i.flags|=64,$=tt.effects,$===null?tt.effects=[ot]:$.push(ot))}else et={eventTime:et,lane:$,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},j===null?(it=j=et,rt=_):j=j.next=et,st|=$;if(ot=ot.next,ot===null){if(ot=tt.shared.pending,ot===null)break;$=ot,ot=$.next,$.next=null,tt.lastBaseUpdate=$,tt.shared.pending=null}}while(!0);if(j===null&&(rt=_),tt.baseState=rt,tt.firstBaseUpdate=it,tt.lastBaseUpdate=j,s=tt.shared.interleaved,s!==null){tt=s;do st|=tt.lane,tt=tt.next;while(tt!==s)}else _e===null&&(tt.shared.lanes=0);rh|=st,i.lanes=st,i.memoizedState=_}}function sh(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],tt=a.callback;if(tt!==null){if(a.callback=null,a=o,typeof tt!="function")throw Error(p$1(191,tt));tt.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$1(174));return i}function yh(i,s){switch(G(wh,s),G(vh,i),G(uh,th),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var s=xh(uh.current),o=lb(s,i.type);s!==o&&(G(vh,i),G(uh,o))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Nh(i,s,o,a,tt,_e){if(Hh=_e,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=o(a,tt),Jh){_e=0;do{if(Jh=!1,Kh=0,25<=_e)throw Error(p$1(301));_e+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,i=o(a,tt)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p$1(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=i;else{if(i===null)throw Error(p$1(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$1(311));o.lastRenderedReducer=i;var a=N,tt=a.baseQueue,_e=o.pending;if(_e!==null){if(tt!==null){var st=tt.next;tt.next=_e.next,_e.next=st}a.baseQueue=tt=_e,o.pending=null}if(tt!==null){_e=tt.next,a=a.baseState;var ot=st=null,rt=null,it=_e;do{var j=it.lane;if((Hh&j)===j)rt!==null&&(rt=rt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),a=it.hasEagerState?it.eagerState:i(a,it.action);else{var _={lane:j,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};rt===null?(ot=rt=_,st=a):rt=rt.next=_,M.lanes|=j,rh|=j}it=it.next}while(it!==null&&it!==_e);rt===null?st=a:rt.next=ot,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=st,s.baseQueue=rt,o.lastRenderedState=a}if(i=o.interleaved,i!==null){tt=i;do _e=tt.lane,M.lanes|=_e,rh|=_e,tt=tt.next;while(tt!==i)}else tt===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Xh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$1(311));o.lastRenderedReducer=i;var a=o.dispatch,tt=o.pending,_e=s.memoizedState;if(tt!==null){o.pending=null;var st=tt=tt.next;do _e=i(_e,st.action),st=st.next;while(st!==tt);He(_e,s.memoizedState)||(dh=!0),s.memoizedState=_e,s.baseQueue===null&&(s.baseState=_e),o.lastRenderedState=_e}return[_e,a]}function Yh(){}function Zh(i,s){var o=M,a=Uh(),tt=s(),_e=!He(a.memoizedState,tt);if(_e&&(a.memoizedState=tt,dh=!0),a=a.queue,$h(ai.bind(null,o,a,i),[i]),a.getSnapshot!==s||_e||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,a,tt,s),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(o,s,tt)}return tt}function di(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function ci(i,s,o,a){s.value=o,s.getSnapshot=a,ei(s)&&fi(i)}function ai(i,s,o){return o(function(){ei(s)&&fi(i)})}function ei(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function fi(i){var s=ih(i,1);s!==null&&gi(s,i,1,-1)}function hi(i){var s=Th();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},s.queue=i,i=i.dispatch=ii.bind(null,M,i),[s.memoizedState,i]}function bi(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,s,o,a){var tt=Th();M.flags|=i,tt.memoizedState=bi(1|s,o,void 0,a===void 0?null:a)}function li(i,s,o,a){var tt=Uh();a=a===void 0?null:a;var _e=void 0;if(N!==null){var st=N.memoizedState;if(_e=st.destroy,a!==null&&Mh(a,st.deps)){tt.memoizedState=bi(s,o,_e,a);return}}M.flags|=i,tt.memoizedState=bi(1|s,o,_e,a)}function mi(i,s){return ki(8390656,8,i,s)}function $h(i,s){return li(2048,8,i,s)}function ni(i,s){return li(4,2,i,s)}function oi(i,s){return li(4,4,i,s)}function pi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qi(i,s,o){return o=o!=null?o.concat([i]):null,li(4,4,pi.bind(null,s,i),o)}function ri(){}function si(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function ti(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function ui(i,s,o){return Hh&21?(He(o,s)||(o=yc(),M.lanes|=o,rh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=o)}function vi(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Gh.transition;Gh.transition={};try{i(!1),s()}finally{C=o,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(i,s,o){var a=yi(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(s,o);else if(o=hh(i,s,o,a),o!==null){var tt=R();gi(o,i,a,tt),Bi(o,s,a)}}function ii(i,s,o){var a=yi(i),tt={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(s,tt);else{var _e=i.alternate;if(i.lanes===0&&(_e===null||_e.lanes===0)&&(_e=s.lastRenderedReducer,_e!==null))try{var st=s.lastRenderedState,ot=_e(st,o);if(tt.hasEagerState=!0,tt.eagerState=ot,He(ot,st)){var rt=s.interleaved;rt===null?(tt.next=tt,gh(s)):(tt.next=rt.next,rt.next=tt),s.interleaved=tt;return}}catch{}finally{}o=hh(i,s,tt,a),o!==null&&(tt=R(),gi(o,i,a,tt),Bi(o,s,a))}}function zi(i){var s=i.alternate;return i===M||s!==null&&s===M}function Ai(i,s){Jh=Ih=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Bi(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,s){return Th().memoizedState=[i,s===void 0?null:s],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ki(4194308,4,pi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ki(4194308,4,i,s)},useInsertionEffect:function(i,s){return ki(4,2,i,s)},useMemo:function(i,s){var o=Th();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=Th();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=xi.bind(null,M,i),[a.memoizedState,i]},useRef:function(i){var s=Th();return i={current:i},s.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),s=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=M,tt=Th();if(I){if(o===void 0)throw Error(p$1(407));o=o()}else{if(o=s(),Q===null)throw Error(p$1(349));Hh&30||di(a,s,o)}tt.memoizedState=o;var _e={value:o,getSnapshot:s};return tt.queue=_e,mi(ai.bind(null,a,_e,i),[i]),a.flags|=2048,bi(9,ci.bind(null,a,_e,o,s),void 0,null),o},useId:function(){var i=Th(),s=Q.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Kh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return ui(s,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return N===null?s.memoizedState=i:ui(s,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}function Di(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=R(),tt=yi(i),_e=mh(a,tt);_e.payload=s,o!=null&&(_e.callback=o),s=nh(i,_e,tt),s!==null&&(gi(s,i,tt,a),oh(s,i,tt))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=R(),tt=yi(i),_e=mh(a,tt);_e.tag=1,_e.payload=s,o!=null&&(_e.callback=o),s=nh(i,_e,tt),s!==null&&(gi(s,i,tt,a),oh(s,i,tt))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=R(),a=yi(i),tt=mh(o,a);tt.tag=2,s!=null&&(tt.callback=s),s=nh(i,tt,a),s!==null&&(gi(s,i,a,o),oh(s,i,a))}};function Fi(i,s,o,a,tt,_e,st){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,_e,st):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(tt,_e):!0}function Gi(i,s,o){var a=!1,tt=Vf,_e=s.contextType;return typeof _e=="object"&&_e!==null?_e=eh(_e):(tt=Zf(s)?Xf:H.current,a=s.contextTypes,_e=(a=a!=null)?Yf(i,tt):Vf),s=new s(o,_e),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=tt,i.__reactInternalMemoizedMaskedChildContext=_e),s}function Hi(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(i,s,o,a){var tt=i.stateNode;tt.props=o,tt.state=i.memoizedState,tt.refs={},kh(i);var _e=s.contextType;typeof _e=="object"&&_e!==null?tt.context=eh(_e):(_e=Zf(s)?Xf:H.current,tt.context=Yf(i,_e)),tt.state=i.memoizedState,_e=s.getDerivedStateFromProps,typeof _e=="function"&&(Di(i,s,_e,o),tt.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(s=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),s!==tt.state&&Ei.enqueueReplaceState(tt,tt.state,null),qh(i,o,tt,a),tt.state=i.memoizedState),typeof tt.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var tt=o}catch(_e){tt=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:i,source:s,stack:tt,digest:null}}function Ki(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Li(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,s,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Oi||(Oi=!0,Pi=a),Li(i,s)},o}function Qi(i,s,o){o=mh(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var tt=s.value;o.payload=function(){return a(tt)},o.callback=function(){Li(i,s)}}var _e=i.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(o.callback=function(){Li(i,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var st=s.stack;this.componentDidCatch(s.value,{componentStack:st!==null?st:""})}),o}function Si(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Mi;var tt=new Set;a.set(s,tt)}else tt=a.get(s),tt===void 0&&(tt=new Set,a.set(s,tt));tt.has(o)||(tt.add(o),i=Ti.bind(null,i,s,o),s.then(i,i))}function Ui(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vi(i,s,o,a,tt){return i.mode&1?(i.flags|=65536,i.lanes=tt,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=mh(-1,1),s.tag=2,nh(o,s,1))),o.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,s,o,a){s.child=i===null?Vg(s,null,o,a):Ug(s,i.child,o,a)}function Yi(i,s,o,a,tt){o=o.render;var _e=s.ref;return ch(s,tt),a=Nh(i,s,o,a,_e,tt),o=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~tt,Zi(i,s,tt)):(I&&o&&vg(s),s.flags|=1,Xi(i,s,a,tt),s.child)}function $i(i,s,o,a,tt){if(i===null){var _e=o.type;return typeof _e=="function"&&!aj(_e)&&_e.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=_e,bj(i,s,_e,a,tt)):(i=Rg(o.type,null,a,s,s.mode,tt),i.ref=s.ref,i.return=s,s.child=i)}if(_e=i.child,!(i.lanes&tt)){var st=_e.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(st,a)&&i.ref===s.ref)return Zi(i,s,tt)}return s.flags|=1,i=Pg(_e,a),i.ref=s.ref,i.return=s,s.child=i}function bj(i,s,o,a,tt){if(i!==null){var _e=i.memoizedProps;if(Ie(_e,a)&&i.ref===s.ref)if(dh=!1,s.pendingProps=a=_e,(i.lanes&tt)!==0)i.flags&131072&&(dh=!0);else return s.lanes=i.lanes,Zi(i,s,tt)}return cj(i,s,o,a,tt)}function dj(i,s,o){var a=s.pendingProps,tt=a.children,_e=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return i=_e!==null?_e.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=_e!==null?_e.baseLanes:o,G(ej,fj),fj|=a}else _e!==null?(a=_e.baseLanes|o,s.memoizedState=null):a=o,G(ej,fj),fj|=a;return Xi(i,s,tt,o),s.child}function gj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function cj(i,s,o,a,tt){var _e=Zf(o)?Xf:H.current;return _e=Yf(s,_e),ch(s,tt),o=Nh(i,s,o,a,_e,tt),a=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~tt,Zi(i,s,tt)):(I&&a&&vg(s),s.flags|=1,Xi(i,s,o,tt),s.child)}function hj(i,s,o,a,tt){if(Zf(o)){var _e=!0;cg(s)}else _e=!1;if(ch(s,tt),s.stateNode===null)ij(i,s),Gi(s,o,a),Ii(s,o,a,tt),a=!0;else if(i===null){var st=s.stateNode,ot=s.memoizedProps;st.props=ot;var rt=st.context,it=o.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf(o)?Xf:H.current,it=Yf(s,it));var j=o.getDerivedStateFromProps,_=typeof j=="function"||typeof st.getSnapshotBeforeUpdate=="function";_||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ot!==a||rt!==it)&&Hi(s,st,a,it),jh=!1;var $=s.memoizedState;st.state=$,qh(s,a,st,tt),rt=s.memoizedState,ot!==a||$!==rt||Wf.current||jh?(typeof j=="function"&&(Di(s,o,j,a),rt=s.memoizedState),(ot=jh||Fi(s,o,ot,a,$,rt,it))?(_||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&(s.flags|=4194308)):(typeof st.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=rt),st.props=a,st.state=rt,st.context=it,a=ot):(typeof st.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{st=s.stateNode,lh(i,s),ot=s.memoizedProps,it=s.type===s.elementType?ot:Ci(s.type,ot),st.props=it,_=s.pendingProps,$=st.context,rt=o.contextType,typeof rt=="object"&&rt!==null?rt=eh(rt):(rt=Zf(o)?Xf:H.current,rt=Yf(s,rt));var et=o.getDerivedStateFromProps;(j=typeof et=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ot!==_||$!==rt)&&Hi(s,st,a,rt),jh=!1,$=s.memoizedState,st.state=$,qh(s,a,st,tt);var nt=s.memoizedState;ot!==_||$!==nt||Wf.current||jh?(typeof et=="function"&&(Di(s,o,et,a),nt=s.memoizedState),(it=jh||Fi(s,o,it,a,$,nt,rt)||!1)?(j||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(a,nt,rt),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(a,nt,rt)),typeof st.componentDidUpdate=="function"&&(s.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof st.componentDidUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=nt),st.props=a,st.state=nt,st.context=rt,a=it):(typeof st.componentDidUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),a=!1)}return jj(i,s,o,a,_e,tt)}function jj(i,s,o,a,tt,_e){gj(i,s);var st=(s.flags&128)!==0;if(!a&&!st)return tt&&dg(s,o,!1),Zi(i,s,_e);a=s.stateNode,Wi.current=s;var ot=st&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&st?(s.child=Ug(s,i.child,null,_e),s.child=Ug(s,null,ot,_e)):Xi(i,s,ot,_e),s.memoizedState=a.state,tt&&dg(s,o,!0),s.child}function kj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),yh(i,s.containerInfo)}function lj(i,s,o,a,tt){return Ig(),Jg(tt),s.flags|=256,Xi(i,s,o,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,s,o){var a=s.pendingProps,tt=L.current,_e=!1,st=(s.flags&128)!==0,ot;if((ot=st)||(ot=i!==null&&i.memoizedState===null?!1:(tt&2)!==0),ot?(_e=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(tt|=1),G(L,tt&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(st=a.children,i=a.fallback,_e?(a=s.mode,_e=s.child,st={mode:"hidden",children:st},!(a&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=st):_e=pj(st,a,0,null),i=Tg(i,a,o,null),_e.return=s,i.return=s,_e.sibling=i,s.child=_e,s.child.memoizedState=nj(o),s.memoizedState=mj,i):qj(s,st));if(tt=i.memoizedState,tt!==null&&(ot=tt.dehydrated,ot!==null))return rj(i,s,st,a,ot,tt,o);if(_e){_e=a.fallback,st=s.mode,tt=i.child,ot=tt.sibling;var rt={mode:"hidden",children:a.children};return!(st&1)&&s.child!==tt?(a=s.child,a.childLanes=0,a.pendingProps=rt,s.deletions=null):(a=Pg(tt,rt),a.subtreeFlags=tt.subtreeFlags&14680064),ot!==null?_e=Pg(ot,_e):(_e=Tg(_e,st,o,null),_e.flags|=2),_e.return=s,a.return=s,a.sibling=_e,s.child=a,a=_e,_e=s.child,st=i.child.memoizedState,st=st===null?nj(o):{baseLanes:st.baseLanes|o,cachePool:null,transitions:st.transitions},_e.memoizedState=st,_e.childLanes=i.childLanes&~o,s.memoizedState=mj,a}return _e=i.child,i=_e.sibling,a=Pg(_e,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function qj(i,s){return s=pj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function sj(i,s,o,a){return a!==null&&Jg(a),Ug(s,i.child,null,o),i=qj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function rj(i,s,o,a,tt,_e,st){if(o)return s.flags&256?(s.flags&=-257,a=Ki(Error(p$1(422))),sj(i,s,st,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(_e=a.fallback,tt=s.mode,a=pj({mode:"visible",children:a.children},tt,0,null),_e=Tg(_e,tt,st,null),_e.flags|=2,a.return=s,_e.return=s,a.sibling=_e,s.child=a,s.mode&1&&Ug(s,i.child,null,st),s.child.memoizedState=nj(st),s.memoizedState=mj,_e);if(!(s.mode&1))return sj(i,s,st,null);if(tt.data==="$!"){if(a=tt.nextSibling&&tt.nextSibling.dataset,a)var ot=a.dgst;return a=ot,_e=Error(p$1(419)),a=Ki(_e,a,void 0),sj(i,s,st,a)}if(ot=(st&i.childLanes)!==0,dh||ot){if(a=Q,a!==null){switch(st&-st){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=tt&(a.suspendedLanes|st)?0:tt,tt!==0&&tt!==_e.retryLane&&(_e.retryLane=tt,ih(i,tt),gi(a,i,tt,-1))}return tj(),a=Ki(Error(p$1(421))),sj(i,s,st,a)}return tt.data==="$?"?(s.flags|=128,s.child=i.child,s=uj.bind(null,i),tt._reactRetry=s,null):(i=_e.treeContext,yg=Lf(tt.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),bh(i.return,s,o)}function wj(i,s,o,a,tt){var _e=i.memoizedState;_e===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:tt}:(_e.isBackwards=s,_e.rendering=null,_e.renderingStartTime=0,_e.last=a,_e.tail=o,_e.tailMode=tt)}function xj(i,s,o){var a=s.pendingProps,tt=a.revealOrder,_e=a.tail;if(Xi(i,s,a.children,o),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,o,s);else if(i.tag===19)vj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(tt){case"forwards":for(o=s.child,tt=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(tt=o),o=o.sibling;o=tt,o===null?(tt=s.child,s.child=null):(tt=o.sibling,o.sibling=null),wj(s,!1,tt,o,_e);break;case"backwards":for(o=null,tt=s.child,s.child=null;tt!==null;){if(i=tt.alternate,i!==null&&Ch(i)===null){s.child=tt;break}i=tt.sibling,tt.sibling=o,o=tt,tt=i}wj(s,!0,o,null,_e);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),rh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p$1(153));if(s.child!==null){for(i=s.child,o=Pg(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Pg(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function yj(i,s,o){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,tt=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=tt;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):o&s.child.childLanes?oj(i,s,o):(G(L,L.current&1),i=Zi(i,s,o),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return xj(i,s,o);s.flags|=128}if(tt=s.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(i,s,o)}return Zi(i,s,o)}var zj,Aj,Bj,Cj;zj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(i,s,o,a){var tt=i.memoizedProps;if(tt!==a){i=s.stateNode,xh(uh.current);var _e=null;switch(o){case"input":tt=Ya(i,tt),a=Ya(i,a),_e=[];break;case"select":tt=A({},tt,{value:void 0}),a=A({},a,{value:void 0}),_e=[];break;case"textarea":tt=gb(i,tt),a=gb(i,a),_e=[];break;default:typeof tt.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var st;o=null;for(it in tt)if(!a.hasOwnProperty(it)&&tt.hasOwnProperty(it)&&tt[it]!=null)if(it==="style"){var ot=tt[it];for(st in ot)ot.hasOwnProperty(st)&&(o||(o={}),o[st]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?_e||(_e=[]):(_e=_e||[]).push(it,null));for(it in a){var rt=a[it];if(ot=tt!=null?tt[it]:void 0,a.hasOwnProperty(it)&&rt!==ot&&(rt!=null||ot!=null))if(it==="style")if(ot){for(st in ot)!ot.hasOwnProperty(st)||rt&&rt.hasOwnProperty(st)||(o||(o={}),o[st]="");for(st in rt)rt.hasOwnProperty(st)&&ot[st]!==rt[st]&&(o||(o={}),o[st]=rt[st])}else o||(_e||(_e=[]),_e.push(it,o)),o=rt;else it==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,ot=ot?ot.__html:void 0,rt!=null&&ot!==rt&&(_e=_e||[]).push(it,rt)):it==="children"?typeof rt!="string"&&typeof rt!="number"||(_e=_e||[]).push(it,""+rt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(rt!=null&&it==="onScroll"&&D("scroll",i),_e||ot===rt||(_e=[])):(_e=_e||[]).push(it,rt))}o&&(_e=_e||[]).push("style",o);var it=_e;(s.updateQueue=it)&&(s.flags|=4)}};Cj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Dj(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var tt=i.child;tt!==null;)o|=tt.lanes|tt.childLanes,a|=tt.subtreeFlags&14680064,a|=tt.flags&14680064,tt.return=i,tt=tt.sibling;else for(tt=i.child;tt!==null;)o|=tt.lanes|tt.childLanes,a|=tt.subtreeFlags,a|=tt.flags,tt.return=i,tt=tt.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Ej(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,s),S(s),null;case 5:Bh(s);var tt=xh(wh.current);if(o=s.type,i!==null&&s.stateNode!=null)Bj(i,s,o,a,tt),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p$1(166));return S(s),null}if(i=xh(uh.current),Gg(s)){a=s.stateNode,o=s.type;var _e=s.memoizedProps;switch(a[Of]=s,a[Pf]=_e,i=(s.mode&1)!==0,o){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,_e),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!_e.multiple},D("invalid",a);break;case"textarea":hb(a,_e),D("invalid",a)}ub(o,_e),tt=null;for(var st in _e)if(_e.hasOwnProperty(st)){var ot=_e[st];st==="children"?typeof ot=="string"?a.textContent!==ot&&(_e.suppressHydrationWarning!==!0&&Af(a.textContent,ot,i),tt=["children",ot]):typeof ot=="number"&&a.textContent!==""+ot&&(_e.suppressHydrationWarning!==!0&&Af(a.textContent,ot,i),tt=["children",""+ot]):ea.hasOwnProperty(st)&&ot!=null&&st==="onScroll"&&D("scroll",a)}switch(o){case"input":Va(a),db(a,_e,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&(a.onclick=Bf)}a=tt,s.updateQueue=a,a!==null&&(s.flags|=4)}else{st=tt.nodeType===9?tt:tt.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=st.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=st.createElement(o,{is:a.is}):(i=st.createElement(o),o==="select"&&(st=i,a.multiple?st.multiple=!0:a.size&&(st.size=a.size))):i=st.createElementNS(i,o),i[Of]=s,i[Pf]=a,zj(i,s,!1,!1),s.stateNode=i;e:{switch(st=vb(o,a),o){case"dialog":D("cancel",i),D("close",i),tt=a;break;case"iframe":case"object":case"embed":D("load",i),tt=a;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],i);tt=a;break;case"source":D("error",i),tt=a;break;case"img":case"image":case"link":D("error",i),D("load",i),tt=a;break;case"details":D("toggle",i),tt=a;break;case"input":Za(i,a),tt=Ya(i,a),D("invalid",i);break;case"option":tt=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},tt=A({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),tt=gb(i,a),D("invalid",i);break;default:tt=a}ub(o,tt),ot=tt;for(_e in ot)if(ot.hasOwnProperty(_e)){var rt=ot[_e];_e==="style"?sb(i,rt):_e==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb(i,rt)):_e==="children"?typeof rt=="string"?(o!=="textarea"||rt!=="")&&ob(i,rt):typeof rt=="number"&&ob(i,""+rt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?rt!=null&&_e==="onScroll"&&D("scroll",i):rt!=null&&ta(i,_e,rt,st))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,_e=a.value,_e!=null?fb(i,!!a.multiple,_e,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Cj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p$1(166));if(o=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,(_e=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}_e&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,_e=!1;else if(_e=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!_e)throw Error(p$1(318));if(_e=s.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$1(317));_e[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),_e=!1}else zg!==null&&(Fj(zg),zg=null),_e=!0;if(!_e)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),_e=s.memoizedState,_e===null)return S(s),null;if(a=(s.flags&128)!==0,st=_e.rendering,st===null)if(a)Dj(_e,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(st=Ch(i),st!==null){for(s.flags|=128,Dj(_e,!1),a=st.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)_e=o,i=a,_e.flags&=14680066,st=_e.alternate,st===null?(_e.childLanes=0,_e.lanes=i,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=st.childLanes,_e.lanes=st.lanes,_e.child=st.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=st.memoizedProps,_e.memoizedState=st.memoizedState,_e.updateQueue=st.updateQueue,_e.type=st.type,i=st.dependencies,_e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(L,L.current&1|2),s.child}i=i.sibling}_e.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(_e,!1),s.lanes=4194304)}else{if(!a)if(i=Ch(st),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Dj(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!st.alternate&&!I)return S(s),null}else 2*B()-_e.renderingStartTime>Gj&&o!==1073741824&&(s.flags|=128,a=!0,Dj(_e,!1),s.lanes=4194304);_e.isBackwards?(st.sibling=s.child,s.child=st):(o=_e.last,o!==null?o.sibling=st:s.child=st,_e.last=st)}return _e.tail!==null?(s=_e.tail,_e.rendering=s,_e.tail=s.sibling,_e.renderingStartTime=B(),s.sibling=null,o=L.current,G(L,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Ij(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Mj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Nj=!1;function Oj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var tt=a.anchorOffset,_e=a.focusNode;a=a.focusOffset;try{o.nodeType,_e.nodeType}catch{o=null;break e}var st=0,ot=-1,rt=-1,it=0,j=0,_=i,$=null;t:for(;;){for(var et;_!==o||tt!==0&&_.nodeType!==3||(ot=st+tt),_!==_e||a!==0&&_.nodeType!==3||(rt=st+a),_.nodeType===3&&(st+=_.nodeValue.length),(et=_.firstChild)!==null;)$=_,_=et;for(;;){if(_===i)break t;if($===o&&++it===tt&&(ot=st),$===_e&&++j===a&&(rt=st),(et=_.nextSibling)!==null)break;_=$,$=_.parentNode}_=et}o=ot===-1||rt===-1?null:{start:ot,end:rt}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var nt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var at=nt.memoizedProps,ct=nt.memoizedState,ht=s.stateNode,ut=ht.getSnapshotBeforeUpdate(s.elementType===s.type?at:Ci(s.type,at),ct);ht.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var dt=s.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(mt){W(s,s.return,mt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return nt=Nj,Nj=!1,nt}function Pj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var tt=a=a.next;do{if((tt.tag&i)===i){var _e=tt.destroy;tt.destroy=void 0,_e!==void 0&&Mj(s,o,_e)}tt=tt.next}while(tt!==a)}}function Qj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Rj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Sj(i){var s=i.alternate;s!==null&&(i.alternate=null,Sj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Vj(i,s,o),i=i.sibling;i!==null;)Vj(i,s,o),i=i.sibling}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}var X=null,Xj=!1;function Yj(i,s,o){for(o=o.child;o!==null;)Zj(i,s,o),o=o.sibling}function Zj(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Lj(o,s);case 6:var a=X,tt=Xj;X=null,Yj(i,s,o),X=a,Xj=tt,X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:a=X,tt=Xj,X=o.stateNode.containerInfo,Xj=!0,Yj(i,s,o),X=a,Xj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){tt=a=a.next;do{var _e=tt,st=_e.destroy;_e=_e.tag,st!==void 0&&(_e&2||_e&4)&&Mj(o,s,st),tt=tt.next}while(tt!==a)}Yj(i,s,o);break;case 1:if(!U&&(Lj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(ot){W(o,s,ot)}Yj(i,s,o);break;case 21:Yj(i,s,o);break;case 22:o.mode&1?(U=(a=U)||o.memoizedState!==null,Yj(i,s,o),U=a):Yj(i,s,o);break;default:Yj(i,s,o)}}function ak(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Kj),s.forEach(function(a){var tt=bk.bind(null,i,a);o.has(a)||(o.add(a),a.then(tt,tt))})}}function ck(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var tt=o[a];try{var _e=i,st=s,ot=st;e:for(;ot!==null;){switch(ot.tag){case 5:X=ot.stateNode,Xj=!1;break e;case 3:X=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X===null)throw Error(p$1(160));Zj(_e,st,tt),X=null,Xj=!1;var rt=tt.alternate;rt!==null&&(rt.return=null),tt.return=null}catch(it){W(tt,s,it)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,i),s=s.sibling}function dk(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(s,i),ek(i),a&4){try{Pj(3,i,i.return),Qj(3,i)}catch(at){W(i,i.return,at)}try{Pj(5,i,i.return)}catch(at){W(i,i.return,at)}}break;case 1:ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return),i.flags&32){var tt=i.stateNode;try{ob(tt,"")}catch(at){W(i,i.return,at)}}if(a&4&&(tt=i.stateNode,tt!=null)){var _e=i.memoizedProps,st=o!==null?o.memoizedProps:_e,ot=i.type,rt=i.updateQueue;if(i.updateQueue=null,rt!==null)try{ot==="input"&&_e.type==="radio"&&_e.name!=null&&ab(tt,_e),vb(ot,st);var it=vb(ot,_e);for(st=0;st<rt.length;st+=2){var j=rt[st],_=rt[st+1];j==="style"?sb(tt,_):j==="dangerouslySetInnerHTML"?nb(tt,_):j==="children"?ob(tt,_):ta(tt,j,_,it)}switch(ot){case"input":bb(tt,_e);break;case"textarea":ib(tt,_e);break;case"select":var $=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!_e.multiple;var et=_e.value;et!=null?fb(tt,!!_e.multiple,et,!1):$!==!!_e.multiple&&(_e.defaultValue!=null?fb(tt,!!_e.multiple,_e.defaultValue,!0):fb(tt,!!_e.multiple,_e.multiple?[]:"",!1))}tt[Pf]=_e}catch(at){W(i,i.return,at)}}break;case 6:if(ck(s,i),ek(i),a&4){if(i.stateNode===null)throw Error(p$1(162));tt=i.stateNode,_e=i.memoizedProps;try{tt.nodeValue=_e}catch(at){W(i,i.return,at)}}break;case 3:if(ck(s,i),ek(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(at){W(i,i.return,at)}break;case 4:ck(s,i),ek(i);break;case 13:ck(s,i),ek(i),tt=i.child,tt.flags&8192&&(_e=tt.memoizedState!==null,tt.stateNode.isHidden=_e,!_e||tt.alternate!==null&&tt.alternate.memoizedState!==null||(fk=B())),a&4&&ak(i);break;case 22:if(j=o!==null&&o.memoizedState!==null,i.mode&1?(U=(it=U)||j,ck(s,i),U=it):ck(s,i),ek(i),a&8192){if(it=i.memoizedState!==null,(i.stateNode.isHidden=it)&&!j&&i.mode&1)for(V=i,j=i.child;j!==null;){for(_=V=j;V!==null;){switch($=V,et=$.child,$.tag){case 0:case 11:case 14:case 15:Pj(4,$,$.return);break;case 1:Lj($,$.return);var nt=$.stateNode;if(typeof nt.componentWillUnmount=="function"){a=$,o=$.return;try{s=a,nt.props=s.memoizedProps,nt.state=s.memoizedState,nt.componentWillUnmount()}catch(at){W(a,o,at)}}break;case 5:Lj($,$.return);break;case 22:if($.memoizedState!==null){gk(_);continue}}et!==null?(et.return=$,V=et):gk(_)}j=j.sibling}e:for(j=null,_=i;;){if(_.tag===5){if(j===null){j=_;try{tt=_.stateNode,it?(_e=tt.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(ot=_.stateNode,rt=_.memoizedProps.style,st=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,ot.style.display=rb("display",st))}catch(at){W(i,i.return,at)}}}else if(_.tag===6){if(j===null)try{_.stateNode.nodeValue=it?"":_.memoizedProps}catch(at){W(i,i.return,at)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===i)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;j===_&&(j=null),_=_.return}j===_&&(j=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:ck(s,i),ek(i),a&4&&ak(i);break;case 21:break;default:ck(s,i),ek(i)}}function ek(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Tj(o)){var a=o;break e}o=o.return}throw Error(p$1(160))}switch(a.tag){case 5:var tt=a.stateNode;a.flags&32&&(ob(tt,""),a.flags&=-33);var _e=Uj(i);Wj(i,_e,tt);break;case 3:case 4:var st=a.stateNode.containerInfo,ot=Uj(i);Vj(i,ot,st);break;default:throw Error(p$1(161))}}catch(rt){W(i,i.return,rt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hk(i,s,o){V=i,ik(i)}function ik(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var tt=V,_e=tt.child;if(tt.tag===22&&a){var st=tt.memoizedState!==null||Jj;if(!st){var ot=tt.alternate,rt=ot!==null&&ot.memoizedState!==null||U;ot=Jj;var it=U;if(Jj=st,(U=rt)&&!it)for(V=tt;V!==null;)st=V,rt=st.child,st.tag===22&&st.memoizedState!==null?jk(tt):rt!==null?(rt.return=st,V=rt):jk(tt);for(;_e!==null;)V=_e,ik(_e),_e=_e.sibling;V=tt,Jj=ot,U=it}kk(i)}else tt.subtreeFlags&8772&&_e!==null?(_e.return=tt,V=_e):kk(i)}}function kk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(o===null)a.componentDidMount();else{var tt=s.elementType===s.type?o.memoizedProps:Ci(s.type,o.memoizedProps);a.componentDidUpdate(tt,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var _e=s.updateQueue;_e!==null&&sh(s,_e,a);break;case 3:var st=s.updateQueue;if(st!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}sh(s,st,o)}break;case 5:var ot=s.stateNode;if(o===null&&s.flags&4){o=ot;var rt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&o.focus();break;case"img":rt.src&&(o.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var it=s.alternate;if(it!==null){var j=it.memoizedState;if(j!==null){var _=j.dehydrated;_!==null&&bd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||s.flags&512&&Rj(s)}catch($){W(s,s.return,$)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function gk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function jk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Qj(4,s)}catch(rt){W(s,o,rt)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var tt=s.return;try{a.componentDidMount()}catch(rt){W(s,tt,rt)}}var _e=s.return;try{Rj(s)}catch(rt){W(s,_e,rt)}break;case 5:var st=s.return;try{Rj(s)}catch(rt){W(s,st,rt)}}}catch(rt){W(s,s.return,rt)}if(s===i){V=null;break}var ot=s.sibling;if(ot!==null){ot.return=s.return,V=ot;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,s,o,a){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(i,o,a),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(i,Z)),Dk(i,a),o===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===Q?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Gk(i,s){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var o=i.callbackNode;if(Hk()&&i.callbackNode!==o)return null;var a=uc(i,i===Q?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Ik(i,a);else{s=a;var tt=K;K|=2;var _e=Jk();(Q!==i||Z!==s)&&(uk=null,Gj=B()+500,Kk(i,s));do try{Lk();break}catch(ot){Mk(i,ot)}while(!0);$g(),mk.current=_e,K=tt,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(tt=xc(i),tt!==0&&(a=tt,s=Nk(i,tt))),s===1)throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;if(s===6)Ck(i,a);else{if(tt=i.current.alternate,!(a&30)&&!Ok(tt)&&(s=Ik(i,a),s===2&&(_e=xc(i),_e!==0&&(a=_e,s=Nk(i,_e))),s===1))throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;switch(i.finishedWork=tt,i.finishedLanes=a,s){case 0:case 1:throw Error(p$1(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(i,0)!==0)break;if(tt=i.suspendedLanes,(tt&a)!==a){R(),i.pingedLanes|=i.suspendedLanes&tt;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 4:if(Ck(i,a),(a&4194240)===a)break;for(s=i.eventTimes,tt=-1;0<a;){var st=31-oc(a);_e=1<<st,st=s[st],st>tt&&(tt=st),a&=~_e}if(a=tt,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(i,B()),i.callbackNode===o?Gk.bind(null,i):null}function Nk(i,s){var o=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,s).flags|=256),i=Ik(i,s),i!==2&&(s=tk,tk=o,s!==null&&Fj(s)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var tt=o[a],_e=tt.getSnapshot;tt=tt.value;try{if(!He(_e(),tt))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(i,s){for(s&=~rk,s&=~qk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Ek(i){if(K&6)throw Error(p$1(327));Hk();var s=uc(i,0);if(!(s&1))return Dk(i,B()),null;var o=Ik(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Nk(i,a))}if(o===1)throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;if(o===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var o=ok.transition,a=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=a,ok.transition=o,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(o=fh[s],a=o.interleaved,a!==null){o.interleaved=null;var tt=a.next,_e=o.pending;if(_e!==null){var st=_e.next;_e.next=tt,a.next=st}o.pending=a}fh=null}return i}function Mk(i,s){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var tt=a.queue;tt!==null&&(tt.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=s,Y=null;break}e:{var _e=i,st=o.return,ot=o,rt=s;if(s=Z,ot.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var it=rt,j=ot,_=j.tag;if(!(j.mode&1)&&(_===0||_===11||_===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var et=Ui(st);if(et!==null){et.flags&=-257,Vi(et,st,ot,_e,s),et.mode&1&&Si(_e,it,s),s=et,rt=it;var nt=s.updateQueue;if(nt===null){var at=new Set;at.add(rt),s.updateQueue=at}else nt.add(rt);break e}else{if(!(s&1)){Si(_e,it,s),tj();break e}rt=Error(p$1(426))}}else if(I&&ot.mode&1){var ct=Ui(st);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),Vi(ct,st,ot,_e,s),Jg(Ji(rt,ot));break e}}_e=rt=Ji(rt,ot),T!==4&&(T=2),sk===null?sk=[_e]:sk.push(_e),_e=st;do{switch(_e.tag){case 3:_e.flags|=65536,s&=-s,_e.lanes|=s;var ht=Ni(_e,rt,s);ph(_e,ht);break e;case 1:ot=rt;var ut=_e.type,dt=_e.stateNode;if(!(_e.flags&128)&&(typeof ut.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(Ri===null||!Ri.has(dt)))){_e.flags|=65536,s&=-s,_e.lanes|=s;var mt=Qi(_e,ot,s);ph(_e,mt);break e}}_e=_e.return}while(_e!==null)}Sk(o)}catch(gt){s=gt,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,s){var o=K;K|=2;var a=Jk();(Q!==i||Z!==s)&&(uk=null,Kk(i,s));do try{Tk();break}catch(tt){Mk(i,tt)}while(!0);if($g(),K=o,mk.current=a,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var s=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,s===null?Sk(i):Y=s,nk.current=null}function Sk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Ij(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,s,fj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Pk(i,s,o){var a=C,tt=ok.transition;try{ok.transition=null,C=1,Wk(i,s,o,a)}finally{ok.transition=tt,C=a}return null}function Wk(i,s,o,a){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));o=i.finishedWork;var tt=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var _e=o.lanes|o.childLanes;if(Bc(i,_e),i===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),_e=(o.flags&15990)!==0,o.subtreeFlags&15990||_e){_e=ok.transition,ok.transition=null;var st=C;C=1;var ot=K;K|=4,nk.current=null,Oj(i,o),dk(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,hk(o),dc(),K=ot,C=st,ok.transition=_e}else i.current=o;if(vk&&(vk=!1,wk=i,xk=tt),_e=i.pendingLanes,_e===0&&(Ri=null),mc(o.stateNode),Dk(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)tt=s[o],a(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),_e=i.pendingLanes,_e&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),s=ok.transition,o=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var a=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var tt=K;for(K|=4,V=i.current;V!==null;){var _e=V,st=_e.child;if(V.flags&16){var ot=_e.deletions;if(ot!==null){for(var rt=0;rt<ot.length;rt++){var it=ot[rt];for(V=it;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Pj(8,j,_e)}var _=j.child;if(_!==null)_.return=j,V=_;else for(;V!==null;){j=V;var $=j.sibling,et=j.return;if(Sj(j),j===it){V=null;break}if($!==null){$.return=et,V=$;break}V=et}}}var nt=_e.alternate;if(nt!==null){var at=nt.child;if(at!==null){nt.child=null;do{var ct=at.sibling;at.sibling=null,at=ct}while(at!==null)}}V=_e}}if(_e.subtreeFlags&2064&&st!==null)st.return=_e,V=st;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Pj(9,_e,_e.return)}var ht=_e.sibling;if(ht!==null){ht.return=_e.return,V=ht;break e}V=_e.return}}var ut=i.current;for(V=ut;V!==null;){st=V;var dt=st.child;if(st.subtreeFlags&2064&&dt!==null)dt.return=st,V=dt;else e:for(st=ut;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(gt){W(ot,ot.return,gt)}if(ot===st){V=null;break e}var mt=ot.sibling;if(mt!==null){mt.return=ot.return,V=mt;break e}V=ot.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,ok.transition=s}}return!1}function Xk(i,s,o){s=Ji(o,s),s=Ni(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s))}function W(i,s,o){if(i.tag===3)Xk(i,i,o);else for(;s!==null;){if(s.tag===3){Xk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){i=Ji(o,i),i=Qi(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i));break}}s=s.return}}function Ti(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=R(),i.pingedLanes|=i.suspendedLanes&o,Q===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=o),Dk(i,s)}function Yk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=R();i=ih(i,s),i!==null&&(Ac(i,s,o),Dk(i,o))}function uj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Yk(i,o)}function bk(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,tt=i.memoizedState;tt!==null&&(o=tt.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p$1(314))}a!==null&&a.delete(s),Yk(i,o)}var Vk;Vk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return dh=!1,yj(i,s,o);dh=!!(i.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(i,s),i=s.pendingProps;var tt=Yf(s,H.current);ch(s,o),tt=Nh(null,s,a,i,tt,o);var _e=Sh();return s.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(_e=!0,cg(s)):_e=!1,s.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,kh(s),tt.updater=Ei,s.stateNode=tt,tt._reactInternals=s,Ii(s,a,i,o),s=jj(null,s,a,!0,_e,o)):(s.tag=0,I&&_e&&vg(s),Xi(null,s,tt,o),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(i,s),i=s.pendingProps,tt=a._init,a=tt(a._payload),s.type=a,tt=s.tag=Zk(a),i=Ci(a,i),tt){case 0:s=cj(null,s,a,i,o);break e;case 1:s=hj(null,s,a,i,o);break e;case 11:s=Yi(null,s,a,i,o);break e;case 14:s=$i(null,s,a,Ci(a.type,i),o);break e}throw Error(p$1(306,a,""))}return s;case 0:return a=s.type,tt=s.pendingProps,tt=s.elementType===a?tt:Ci(a,tt),cj(i,s,a,tt,o);case 1:return a=s.type,tt=s.pendingProps,tt=s.elementType===a?tt:Ci(a,tt),hj(i,s,a,tt,o);case 3:e:{if(kj(s),i===null)throw Error(p$1(387));a=s.pendingProps,_e=s.memoizedState,tt=_e.element,lh(i,s),qh(s,a,null,o);var st=s.memoizedState;if(a=st.element,_e.isDehydrated)if(_e={element:a,isDehydrated:!1,cache:st.cache,pendingSuspenseBoundaries:st.pendingSuspenseBoundaries,transitions:st.transitions},s.updateQueue.baseState=_e,s.memoizedState=_e,s.flags&256){tt=Ji(Error(p$1(423)),s),s=lj(i,s,a,o,tt);break e}else if(a!==tt){tt=Ji(Error(p$1(424)),s),s=lj(i,s,a,o,tt);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Vg(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===tt){s=Zi(i,s,o);break e}Xi(i,s,a,o)}s=s.child}return s;case 5:return Ah(s),i===null&&Eg(s),a=s.type,tt=s.pendingProps,_e=i!==null?i.memoizedProps:null,st=tt.children,Ef(a,tt)?st=null:_e!==null&&Ef(a,_e)&&(s.flags|=32),gj(i,s),Xi(i,s,st,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return oj(i,s,o);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Ug(s,null,a,o):Xi(i,s,a,o),s.child;case 11:return a=s.type,tt=s.pendingProps,tt=s.elementType===a?tt:Ci(a,tt),Yi(i,s,a,tt,o);case 7:return Xi(i,s,s.pendingProps,o),s.child;case 8:return Xi(i,s,s.pendingProps.children,o),s.child;case 12:return Xi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,tt=s.pendingProps,_e=s.memoizedProps,st=tt.value,G(Wg,a._currentValue),a._currentValue=st,_e!==null)if(He(_e.value,st)){if(_e.children===tt.children&&!Wf.current){s=Zi(i,s,o);break e}}else for(_e=s.child,_e!==null&&(_e.return=s);_e!==null;){var ot=_e.dependencies;if(ot!==null){st=_e.child;for(var rt=ot.firstContext;rt!==null;){if(rt.context===a){if(_e.tag===1){rt=mh(-1,o&-o),rt.tag=2;var it=_e.updateQueue;if(it!==null){it=it.shared;var j=it.pending;j===null?rt.next=rt:(rt.next=j.next,j.next=rt),it.pending=rt}}_e.lanes|=o,rt=_e.alternate,rt!==null&&(rt.lanes|=o),bh(_e.return,o,s),ot.lanes|=o;break}rt=rt.next}}else if(_e.tag===10)st=_e.type===s.type?null:_e.child;else if(_e.tag===18){if(st=_e.return,st===null)throw Error(p$1(341));st.lanes|=o,ot=st.alternate,ot!==null&&(ot.lanes|=o),bh(st,o,s),st=_e.sibling}else st=_e.child;if(st!==null)st.return=_e;else for(st=_e;st!==null;){if(st===s){st=null;break}if(_e=st.sibling,_e!==null){_e.return=st.return,st=_e;break}st=st.return}_e=st}Xi(i,s,tt.children,o),s=s.child}return s;case 9:return tt=s.type,a=s.pendingProps.children,ch(s,o),tt=eh(tt),a=a(tt),s.flags|=1,Xi(i,s,a,o),s.child;case 14:return a=s.type,tt=Ci(a,s.pendingProps),tt=Ci(a.type,tt),$i(i,s,a,tt,o);case 15:return bj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,tt=s.pendingProps,tt=s.elementType===a?tt:Ci(a,tt),ij(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,ch(s,o),Gi(s,a,tt),Ii(s,a,tt,o),jj(null,s,a,!0,i,o);case 19:return xj(i,s,o);case 22:return dj(i,s,o)}throw Error(p$1(156,s.tag))};function Fk(i,s){return ac(i,s)}function $k(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new $k(i,s,o,a)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Rg(i,s,o,a,tt,_e){var st=2;if(a=i,typeof i=="function")aj(i)&&(st=1);else if(typeof i=="string")st=5;else e:switch(i){case ya:return Tg(o.children,tt,_e,s);case za:st=8,tt|=8;break;case Aa:return i=Bg(12,o,s,tt|2),i.elementType=Aa,i.lanes=_e,i;case Ea:return i=Bg(13,o,s,tt),i.elementType=Ea,i.lanes=_e,i;case Fa:return i=Bg(19,o,s,tt),i.elementType=Fa,i.lanes=_e,i;case Ia:return pj(o,tt,_e,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:st=10;break e;case Ca:st=9;break e;case Da:st=11;break e;case Ga:st=14;break e;case Ha:st=16,a=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return s=Bg(st,o,s,tt),s.elementType=i,s.type=a,s.lanes=_e,s}function Tg(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function pj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function Qg(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function Sg(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function al(i,s,o,a,tt){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function bl(i,s,o,a,tt,_e,st,ot,rt){return i=new al(i,s,o,ot,rt),s===1?(s=1,_e===!0&&(s|=8)):s=0,_e=Bg(3,null,null,s),i.current=_e,_e.stateNode=i,_e.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_e),i}function cl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function el(i,s,o,a,tt,_e,st,ot,rt){return i=bl(o,a,!0,i,tt,_e,st,ot,rt),i.context=dl(null),o=i.current,a=R(),tt=yi(o),_e=mh(a,tt),_e.callback=s??null,nh(o,_e,tt),i.current.lanes=tt,Ac(i,tt,a),Dk(i,a),i}function fl(i,s,o,a){var tt=s.current,_e=R(),st=yi(tt);return o=dl(o),s.context===null?s.context=o:s.pendingContext=o,s=mh(_e,st),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=nh(tt,s,st),i!==null&&(gi(i,tt,st,_e),oh(i,tt,st)),st}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function il(i,s){hl(i,s),(i=i.alternate)&&hl(i,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p$1(409));fl(i,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rk(function(){fl(null,i,null,null)}),s[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,s,o,a,tt){if(tt){if(typeof a=="function"){var _e=a;a=function(){var it=gl(st);_e.call(it)}}var st=el(s,a,i,0,null,!1,!1,"",pl);return i._reactRootContainer=st,i[uf]=st.current,sf(i.nodeType===8?i.parentNode:i),Rk(),st}for(;tt=i.lastChild;)i.removeChild(tt);if(typeof a=="function"){var ot=a;a=function(){var it=gl(rt);ot.call(it)}}var rt=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=rt,i[uf]=rt.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(s,rt,o,a)}),rt}function rl(i,s,o,a,tt){var _e=o._reactRootContainer;if(_e){var st=_e;if(typeof tt=="function"){var ot=tt;tt=function(){var rt=gl(st);ot.call(rt)}}fl(s,st,i,tt)}else st=ql(o,s,i,tt,a);return gl(st)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(i,1);if(a!==null){var tt=R();gi(a,i,1,tt)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var s=ih(i,134217728);if(s!==null){var o=R();gi(s,i,134217728,o)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var s=yi(i),o=ih(i,s);if(o!==null){var a=R();gi(o,i,s,a)}il(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var tt=Db(a);if(!tt)throw Error(p$1(90));Wa(a),bb(a,tt)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$1(200));return cl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!nl(i))throw Error(p$1(299));var o=!1,a="",tt=kl;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(tt=s.onRecoverableError)),s=bl(i,1,!1,null,null,o,!1,a,tt),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ll(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!ol(s))throw Error(p$1(200));return rl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!nl(i))throw Error(p$1(405));var a=o!=null&&o.hydratedSources||null,tt=!1,_e="",st=kl;if(o!=null&&(o.unstable_strictMode===!0&&(tt=!0),o.identifierPrefix!==void 0&&(_e=o.identifierPrefix),o.onRecoverableError!==void 0&&(st=o.onRecoverableError)),s=el(s,null,i,1,o??null,tt,!1,_e,st),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],tt=o._getVersion,tt=tt(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,tt]:s.mutableSourceEagerHydrationData.push(o,tt);return new ml(s)};reactDom_production_min.render=function(i,s,o){if(!ol(s))throw Error(p$1(200));return rl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$1(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!ol(o))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return rl(i,s,o,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const[PortalContextProvider,usePortalContext]=createContext$1({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=i=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:i.zIndex,top:0,left:0,right:0},children:i.children}),DefaultPortal=i=>{const{appendToParentPortal:s,children:o}=i,[a,tt]=reactExports.useState(null),_e=reactExports.useRef(null),[,st]=reactExports.useState({});reactExports.useEffect(()=>st({}),[]);const ot=usePortalContext(),rt=usePortalManager();useSafeLayoutEffect$1(()=>{if(!a)return;const j=a.ownerDocument,_=s?ot??j.body:j.body;if(!_)return;_e.current=j.createElement("div"),_e.current.className=PORTAL_CLASSNAME,_.appendChild(_e.current),st({});const $=_e.current;return()=>{_.contains($)&&_.removeChild($)}},[a]);const it=rt!=null&&rt.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:rt==null?void 0:rt.zIndex,children:o}):o;return _e.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:_e.current,children:it}),_e.current):jsxRuntimeExports.jsx("span",{ref:j=>{j&&tt(j)}})},ContainerPortal=i=>{const{children:s,containerRef:o,appendToParentPortal:a}=i,tt=o.current,_e=tt??(typeof window<"u"?document.body:void 0),st=reactExports.useMemo(()=>{const rt=tt==null?void 0:tt.ownerDocument.createElement("div");return rt&&(rt.className=PORTAL_CLASSNAME),rt},[tt]),[,ot]=reactExports.useState({});return useSafeLayoutEffect$1(()=>ot({}),[]),useSafeLayoutEffect$1(()=>{if(!(!st||!_e))return _e.appendChild(st),()=>{_e.removeChild(st)}},[st,_e]),_e&&st?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:a?st:null,children:s}),st):null};function Portal(i){const s={appendToParentPortal:!0,...i},{containerRef:o,...a}=s;return o?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:o,...a}):jsxRuntimeExports.jsx(DefaultPortal,{...a})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";const[ToastOptionProvider,useToastOptionContext]=createContext$1({name:"ToastOptionsContext",strict:!1}),ToastProvider=i=>{const s=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:o,component:a=ToastComponent,portalProps:tt,animatePresenceProps:_e}=i,ot=Object.keys(s).map(rt=>{const it=s[rt];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${rt}`,id:`chakra-toast-manager-${rt}`,style:getToastListStyle(rt),children:jsxRuntimeExports.jsx(AnimatePresence,{..._e,initial:!1,children:it.map(j=>jsxRuntimeExports.jsx(a,{motionVariants:o,...j},j.id))})},rt)});return jsxRuntimeExports.jsx(Portal,{...tt,children:ot})},createProvider=i=>function({children:o,theme:a=i,toastOptions:tt,..._e}){return jsxRuntimeExports.jsxs(Provider$1,{theme:a,..._e,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:tt==null?void 0:tt.defaultOptions,children:o}),jsxRuntimeExports.jsx(ToastProvider,{...tt})]})},ChakraProvider=createProvider(theme$1),TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.enter}),exit:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.exit})},Box=chakra("div");Box.displayName="Box";const[ButtonGroupProvider,useButtonGroup]=createContext$1({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(i){const{children:s,className:o,...a}=i,tt=reactExports.isValidElement(s)?reactExports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):s,_e=cx("chakra-button__icon",o);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...a,className:_e,children:tt})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(i){const{label:s,placement:o,spacing:a="0.5rem",children:tt=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:_e,__css:st,...ot}=i,rt=cx("chakra-button__spinner",_e),it=o==="start"?"marginEnd":"marginStart",j=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:s?"relative":"absolute",[it]:s?a:0,fontSize:"1em",lineHeight:"normal",...st}),[st,s,it,a]);return jsxRuntimeExports.jsx(chakra.div,{className:rt,...ot,__css:j,children:tt})}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(i){const[s,o]=reactExports.useState(!i);return{ref:reactExports.useCallback(_e=>{_e&&o(_e.tagName==="BUTTON")},[]),type:s?"button":void 0}}const Button=forwardRef((i,s)=>{const o=useButtonGroup(),a=useStyleConfig("Button",{...o,...i}),{isDisabled:tt=o==null?void 0:o.isDisabled,isLoading:_e,isActive:st,children:ot,leftIcon:rt,rightIcon:it,loadingText:j,iconSpacing:_="0.5rem",type:$,spinner:et,spinnerPlacement:nt="start",className:at,as:ct,shouldWrapChildren:ht,...ut}=omitThemingProps(i),dt=reactExports.useMemo(()=>{const St={...a==null?void 0:a._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...a,...!!o&&{_focus:St}}},[a,o]),{ref:mt,type:gt}=useButtonType(ct),lt={rightIcon:it,leftIcon:rt,iconSpacing:_,children:ot,shouldWrapChildren:ht};return jsxRuntimeExports.jsxs(chakra.button,{disabled:tt||_e,ref:useMergeRefs$1(s,mt),as:ct,type:$??gt,"data-active":dataAttr(st),"data-loading":dataAttr(_e),__css:dt,className:cx("chakra-button",at),...ut,children:[_e&&nt==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:j,placement:"start",spacing:_,children:et}),_e?j||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...lt})}):jsxRuntimeExports.jsx(ButtonContent,{...lt}),_e&&nt==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:j,placement:"end",spacing:_,children:et})]})});Button.displayName="Button";function ButtonContent(i){const{leftIcon:s,rightIcon:o,children:a,iconSpacing:tt,shouldWrapChildren:_e}=i;return _e?jsxRuntimeExports.jsxs("span",{style:{display:"contents"},children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:tt,children:s}),a,o&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:tt,children:o})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:tt,children:s}),a,o&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:tt,children:o})]})}const attachedStyles={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},gapStyles={horizontal:i=>({"& > *:not(style) ~ *:not(style)":{marginStart:i}}),vertical:i=>({"& > *:not(style) ~ *:not(style)":{marginTop:i}})},ButtonGroup=forwardRef(function(s,o){const{size:a,colorScheme:tt,variant:_e,className:st,spacing:ot="0.5rem",isAttached:rt,isDisabled:it,orientation:j="horizontal",..._}=s,$=cx("chakra-button__group",st),et=reactExports.useMemo(()=>({size:a,colorScheme:tt,variant:_e,isDisabled:it}),[a,tt,_e,it]);let nt={display:"inline-flex",...rt?attachedStyles[j]:gapStyles[j](ot)};const at=j==="vertical";return jsxRuntimeExports.jsx(ButtonGroupProvider,{value:et,children:jsxRuntimeExports.jsx(chakra.div,{ref:o,role:"group",__css:nt,className:$,"data-attached":rt?"":void 0,"data-orientation":j,flexDir:at?"column":void 0,..._})})});ButtonGroup.displayName="ButtonGroup";const[CardStylesProvider,useCardStyles]=createStylesContext("Card"),Card=forwardRef(function(s,o){const{className:a,children:tt,direction:_e="column",justify:st,align:ot,...rt}=omitThemingProps(s),it=useMultiStyleConfig("Card",s);return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card",a),__css:{display:"flex",flexDirection:_e,justifyContent:st,alignItems:ot,position:"relative",minWidth:0,wordWrap:"break-word",...it.container},...rt,children:jsxRuntimeExports.jsx(CardStylesProvider,{value:it,children:tt})})}),CardBody=forwardRef(function(s,o){const{className:a,...tt}=s,_e=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card__body",a),__css:_e.body,...tt})}),CardHeader=forwardRef(function(s,o){const{className:a,...tt}=s,_e=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card__header",a),__css:_e.header,...tt})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$1({name:"CheckboxGroupContext",strict:!1});function CheckIcon(i){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...i,children:jsxRuntimeExports.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(i){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...i,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(i){const{isIndeterminate:s,isChecked:o,...a}=i,tt=s?IndeterminateIcon:CheckIcon;return o||s?jsxRuntimeExports.jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx(tt,{...a})}):null}var isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(i,s){handlers.forEach(o=>o(i,s))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(i){return!(i.metaKey||!isMac&&i.altKey||i.ctrlKey||i.key==="Control"||i.key==="Shift"||i.key==="Meta")}function onKeyboardEvent(i){hasEventBeforeFocus=!0,isValidKey(i)&&(modality="keyboard",trigger("keyboard",i))}function onPointerEvent(i){if(modality="pointer",i.type==="mousedown"||i.type==="pointerdown"){hasEventBeforeFocus=!0;const s=i.composedPath?i.composedPath()[0]:i.target;let o=!1;try{o=s.matches(":focus-visible")}catch{}if(o)return;trigger("pointer",i)}}function isVirtualClick(i){return i.mozInputSource===0&&i.isTrusted?!0:i.detail===0&&!i.pointerType}function onClickEvent(i){isVirtualClick(i)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus$1(i){i.target===window||i.target===document||i.target instanceof Element&&i.target.hasAttribute("tabindex")||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",i)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:i}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...o){hasEventBeforeFocus=!0,i.apply(this,o)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus$1,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(i){setupGlobalFocusEvents(),i(isFocusVisible());const s=()=>i(isFocusVisible());return handlers.add(s),()=>{handlers.delete(s)}}const[FormControlStylesProvider,useFormControlStyles]=createContext$1({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$1({strict:!1,name:"FormControlContext"});function useFormControlProvider(i){const{id:s,isRequired:o,isInvalid:a,isDisabled:tt,isReadOnly:_e,...st}=i,ot=reactExports.useId(),rt=s||`field-${ot}`,it=`${rt}-label`,j=`${rt}-feedback`,_=`${rt}-helptext`,[$,et]=reactExports.useState(!1),[nt,at]=reactExports.useState(!1),[ct,ht]=reactExports.useState(!1),ut=reactExports.useCallback((St={},xt=null)=>({id:_,...St,ref:mergeRefs(xt,yt=>{yt&&at(!0)})}),[_]),dt=reactExports.useCallback((St={},xt=null)=>({...St,ref:xt,"data-focus":dataAttr(ct),"data-disabled":dataAttr(tt),"data-invalid":dataAttr(a),"data-readonly":dataAttr(_e),id:St.id!==void 0?St.id:it,htmlFor:St.htmlFor!==void 0?St.htmlFor:rt}),[rt,tt,ct,a,_e,it]),mt=reactExports.useCallback((St={},xt=null)=>({id:j,...St,ref:mergeRefs(xt,yt=>{yt&&et(!0)}),"aria-live":"polite"}),[j]),gt=reactExports.useCallback((St={},xt=null)=>({...St,...st,ref:xt,role:"group","data-focus":dataAttr(ct),"data-disabled":dataAttr(tt),"data-invalid":dataAttr(a),"data-readonly":dataAttr(_e)}),[st,tt,ct,a,_e]),lt=reactExports.useCallback((St={},xt=null)=>({...St,ref:xt,role:"presentation","aria-hidden":!0,children:St.children||"*"}),[]);return{isRequired:!!o,isInvalid:!!a,isReadOnly:!!_e,isDisabled:!!tt,isFocused:!!ct,onFocus:()=>ht(!0),onBlur:()=>ht(!1),hasFeedbackText:$,setHasFeedbackText:et,hasHelpText:nt,setHasHelpText:at,id:rt,labelId:it,feedbackId:j,helpTextId:_,htmlProps:st,getHelpTextProps:ut,getErrorMessageProps:mt,getRootProps:gt,getLabelProps:dt,getRequiredIndicatorProps:lt}}const FormControl=forwardRef(function(s,o){const a=useMultiStyleConfig("Form",s),tt=omitThemingProps(s),{getRootProps:_e,htmlProps:st,...ot}=useFormControlProvider(tt),rt=cx("chakra-form-control",s.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:ot,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:a,children:jsxRuntimeExports.jsx(chakra.div,{..._e({},o),className:rt,__css:a.container})})})});FormControl.displayName="FormControl";const FormHelperText=forwardRef(function(s,o){const a=useFormControlContext(),tt=useFormControlStyles(),_e=cx("chakra-form__helper-text",s.className);return jsxRuntimeExports.jsx(chakra.div,{...a==null?void 0:a.getHelpTextProps(s,o),__css:tt.helperText,className:_e})});FormHelperText.displayName="FormHelperText";function useFormControl(i){const{isDisabled:s,isInvalid:o,isReadOnly:a,isRequired:tt,..._e}=useFormControlProps(i);return{..._e,disabled:s,readOnly:a,required:tt,"aria-invalid":ariaAttr(o),"aria-required":ariaAttr(tt),"aria-readonly":ariaAttr(a)}}function useFormControlProps(i){const s=useFormControlContext(),{id:o,disabled:a,readOnly:tt,required:_e,isRequired:st,isInvalid:ot,isReadOnly:rt,isDisabled:it,onFocus:j,onBlur:_,...$}=i,et=i["aria-describedby"]?[i["aria-describedby"]]:[];return s!=null&&s.hasFeedbackText&&(s!=null&&s.isInvalid)&&et.push(s.feedbackId),s!=null&&s.hasHelpText&&et.push(s.helpTextId),{...$,"aria-describedby":et.join(" ")||void 0,id:o??(s==null?void 0:s.id),isDisabled:a??it??(s==null?void 0:s.isDisabled),isReadOnly:tt??rt??(s==null?void 0:s.isReadOnly),isRequired:_e??st??(s==null?void 0:s.isRequired),isInvalid:ot??(s==null?void 0:s.isInvalid),onFocus:callAllHandlers(s==null?void 0:s.onFocus,j),onBlur:callAllHandlers(s==null?void 0:s.onBlur,_)}}const visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function useCheckbox(i={}){const s=useFormControlProps(i),{isDisabled:o,isReadOnly:a,isRequired:tt,isInvalid:_e,id:st,onBlur:ot,onFocus:rt,"aria-describedby":it}=s,{defaultChecked:j,isChecked:_,isFocusable:$,onChange:et,isIndeterminate:nt,name:at,value:ct,tabIndex:ht=void 0,"aria-label":ut,"aria-labelledby":dt,"aria-invalid":mt,...gt}=i,lt=omit(gt,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),St=useCallbackRef$1(et),xt=useCallbackRef$1(ot),yt=useCallbackRef$1(rt),[_t,kt]=reactExports.useState(!1),[Et,$t]=reactExports.useState(!1),[Tt,At]=reactExports.useState(!1),[Mt,Ot]=reactExports.useState(!1);reactExports.useEffect(()=>trackFocusVisible(kt),[]);const Pt=reactExports.useRef(null),[Ft,zt]=reactExports.useState(!0),[qt,Gt]=reactExports.useState(!!j),Wt=_!==void 0,Xt=Wt?_:qt,rr=reactExports.useCallback(Cr=>{if(a||o){Cr.preventDefault();return}Wt||Gt(Xt?Cr.currentTarget.checked:nt?!0:Cr.currentTarget.checked),St==null||St(Cr)},[a,o,Xt,Wt,nt,St]);useSafeLayoutEffect$1(()=>{Pt.current&&(Pt.current.indeterminate=!!nt)},[nt]),useUpdateEffect(()=>{o&&$t(!1)},[o,$t]),useSafeLayoutEffect$1(()=>{const Cr=Pt.current;if(!(Cr!=null&&Cr.form))return;const dr=()=>{Gt(!!j)};return Cr.form.addEventListener("reset",dr),()=>{var Wr;return(Wr=Cr.form)==null?void 0:Wr.removeEventListener("reset",dr)}},[]);const tr=o&&!$,mr=reactExports.useCallback(Cr=>{Cr.key===" "&&Ot(!0)},[Ot]),yr=reactExports.useCallback(Cr=>{Cr.key===" "&&Ot(!1)},[Ot]);useSafeLayoutEffect$1(()=>{if(!Pt.current)return;Pt.current.checked!==Xt&&Gt(Pt.current.checked)},[Pt.current]);const xr=reactExports.useCallback((Cr={},dr=null)=>{const Wr=Jr=>{Et&&Jr.preventDefault(),Ot(!0)};return{...Cr,ref:dr,"data-active":dataAttr(Mt),"data-hover":dataAttr(Tt),"data-checked":dataAttr(Xt),"data-focus":dataAttr(Et),"data-focus-visible":dataAttr(Et&&_t),"data-indeterminate":dataAttr(nt),"data-disabled":dataAttr(o),"data-invalid":dataAttr(_e),"data-readonly":dataAttr(a),"aria-hidden":!0,onMouseDown:callAllHandlers(Cr.onMouseDown,Wr),onMouseUp:callAllHandlers(Cr.onMouseUp,()=>Ot(!1)),onMouseEnter:callAllHandlers(Cr.onMouseEnter,()=>At(!0)),onMouseLeave:callAllHandlers(Cr.onMouseLeave,()=>At(!1))}},[Mt,Xt,o,Et,_t,Tt,nt,_e,a]),vr=reactExports.useCallback((Cr={},dr=null)=>({...Cr,ref:dr,"data-active":dataAttr(Mt),"data-hover":dataAttr(Tt),"data-checked":dataAttr(Xt),"data-focus":dataAttr(Et),"data-focus-visible":dataAttr(Et&&_t),"data-indeterminate":dataAttr(nt),"data-disabled":dataAttr(o),"data-invalid":dataAttr(_e),"data-readonly":dataAttr(a)}),[Mt,Xt,o,Et,_t,Tt,nt,_e,a]),ir=reactExports.useCallback((Cr={},dr=null)=>({...lt,...Cr,ref:mergeRefs(dr,Wr=>{Wr&&zt(Wr.tagName==="LABEL")}),onClick:callAllHandlers(Cr.onClick,()=>{var Wr;Ft||((Wr=Pt.current)==null||Wr.click(),requestAnimationFrame(()=>{var Jr;(Jr=Pt.current)==null||Jr.focus({preventScroll:!0})}))}),"data-disabled":dataAttr(o),"data-checked":dataAttr(Xt),"data-invalid":dataAttr(_e)}),[lt,o,Xt,_e,Ft]),sr=reactExports.useCallback((Cr={},dr=null)=>({...Cr,ref:mergeRefs(Pt,dr),type:"checkbox",name:at,value:ct,id:st,tabIndex:ht,onChange:callAllHandlers(Cr.onChange,rr),onBlur:callAllHandlers(Cr.onBlur,xt,()=>$t(!1)),onFocus:callAllHandlers(Cr.onFocus,yt,()=>$t(!0)),onKeyDown:callAllHandlers(Cr.onKeyDown,mr),onKeyUp:callAllHandlers(Cr.onKeyUp,yr),required:tt,checked:Xt,disabled:tr,readOnly:a,"aria-label":ut,"aria-labelledby":dt,"aria-invalid":mt?!!mt:_e,"aria-describedby":it,"aria-disabled":o,style:visuallyHiddenStyle}),[at,ct,st,rr,xt,yt,mr,yr,tt,Xt,tr,a,ut,dt,mt,_e,it,o,ht]),er=reactExports.useCallback((Cr={},dr=null)=>({...Cr,ref:dr,onMouseDown:callAllHandlers(Cr.onMouseDown,stopEvent),"data-disabled":dataAttr(o),"data-checked":dataAttr(Xt),"data-invalid":dataAttr(_e)}),[Xt,o,_e]);return{state:{isInvalid:_e,isFocused:Et,isChecked:Xt,isActive:Mt,isHovered:Tt,isIndeterminate:nt,isDisabled:o,isReadOnly:a,isRequired:tt},getRootProps:ir,getCheckboxProps:xr,getIndicatorProps:vr,getInputProps:sr,getLabelProps:er,htmlProps:lt}}function stopEvent(i){i.preventDefault(),i.stopPropagation()}function useInitialAnimationState(i){const[s,o]=reactExports.useState(i),[a,tt]=reactExports.useState(!1);return i!==s&&(tt(!0),o(i)),a}const controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(s,o){const a=useCheckboxGroupContext(),tt={...a,...s},_e=useMultiStyleConfig("Checkbox",tt),st=omitThemingProps(s),{spacing:ot="0.5rem",className:rt,children:it,iconColor:j,iconSize:_,icon:$=jsxRuntimeExports.jsx(CheckboxIcon,{}),isChecked:et,isDisabled:nt=a==null?void 0:a.isDisabled,onChange:at,inputProps:ct,...ht}=st;let ut=et;a!=null&&a.value&&st.value&&(ut=a.value.includes(st.value));let dt=at;a!=null&&a.onChange&&st.value&&(dt=callAll(a.onChange,at));const{state:mt,getInputProps:gt,getCheckboxProps:lt,getLabelProps:St,getRootProps:xt}=useCheckbox({...ht,isDisabled:nt,isChecked:ut,onChange:dt}),yt=useInitialAnimationState(mt.isChecked),_t=reactExports.useMemo(()=>({animation:yt?mt.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`:void 0,..._e.icon,...compact({fontSize:_,color:j})}),[j,_,yt,mt.isIndeterminate,_e.icon]),kt=reactExports.cloneElement($,{__css:_t,isIndeterminate:mt.isIndeterminate,isChecked:mt.isChecked});return jsxRuntimeExports.jsxs(chakra.label,{__css:{...rootStyles,..._e.container},className:cx("chakra-checkbox",rt),...xt(),children:[jsxRuntimeExports.jsx("input",{className:"chakra-checkbox__input",...gt(ct,o)}),jsxRuntimeExports.jsx(chakra.span,{__css:{...controlStyles,..._e.control},className:"chakra-checkbox__control",...lt(),children:kt}),it&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-checkbox__label",...St(),__css:{marginStart:ot,..._e.label},children:it})]})});Checkbox.displayName="Checkbox";const Code=forwardRef(function(s,o){const a=useStyleConfig("Code",s),{className:tt,..._e}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.code,{ref:o,className:cx("chakra-code",s.className),..._e,__css:{display:"inline-block",...a}})});Code.displayName="Code";const VALID_VALUES=new Set(["dark","light","system"]);function normalize(i){let s=i;return VALID_VALUES.has(s)||(s="light"),s}function getScriptSrc(i={}){const{initialColorMode:s="light",type:o="localStorage",storageKey:a="chakra-ui-color-mode"}=i,tt=normalize(s),_e=o==="cookie",st=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${tt}",r="${a}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,ot=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${tt}",e="${a}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${_e?st:ot}`.trim()}function ColorModeScript(i={}){const{nonce:s}=i;return jsxRuntimeExports.jsx("script",{id:"chakra-script",nonce:s,dangerouslySetInnerHTML:{__html:getScriptSrc(i)}})}function isFunction$1(i){return typeof i=="function"}function pipe(...i){return s=>i.reduce((o,a)=>a(o),s)}const createExtendTheme=i=>function(...o){let a=[...o],tt=o[o.length-1];return isChakraTheme(tt)&&a.length>1?a=a.slice(0,a.length-1):tt=i,pipe(...a.map(_e=>st=>isFunction$1(_e)?_e(st):mergeThemeOverride(st,_e)))(tt)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...i){return mergeWith({},...i,mergeThemeCustomizer)}function mergeThemeCustomizer(i,s,o,a){if((isFunction$1(i)||isFunction$1(s))&&Object.prototype.hasOwnProperty.call(a,o))return(...tt)=>{const _e=isFunction$1(i)?i(...tt):i,st=isFunction$1(s)?s(...tt):s;return mergeWith({},_e,st,mergeThemeCustomizer)};if(isArray$2(i)&&isArray$2(s))return[...i,...s];if(isArray$2(i)&&isObject$2(s))return s}function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var o={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(s.includes(a))continue;o[a]=i[a]}return o}function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)({}).hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends.apply(null,arguments)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(a,tt,_e,st,ot,rt){if(rt!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports,FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(i,s){return typeof i=="function"?i(s):i&&(i.current=s),i}function useCallbackRef(i,s){var o=reactExports.useState(function(){return{value:i,callback:s,facade:{get current(){return o.value},set current(a){var tt=o.value;tt!==a&&(o.value=a,o.callback(a,tt))}}}})[0];return o.callback=s,o.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(i,s){var o=useCallbackRef(null,function(a){return i.forEach(function(tt){return assignRef(tt,a)})});return useIsomorphicLayoutEffect$1(function(){var a=currentValues.get(o);if(a){var tt=new Set(a),_e=new Set(i),st=o.current;tt.forEach(function(ot){_e.has(ot)||assignRef(ot,null)}),_e.forEach(function(ot){tt.has(ot)||assignRef(ot,st)})}currentValues.set(o,i)},[i]),o}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},__assign$2=function(){return __assign$2=Object.assign||function(s){for(var o,a=1,tt=arguments.length;a<tt;a++){o=arguments[a];for(var _e in o)Object.prototype.hasOwnProperty.call(o,_e)&&(s[_e]=o[_e])}return s},__assign$2.apply(this,arguments)};function __rest(i,s){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,a=Object.getOwnPropertySymbols(i);tt<a.length;tt++)s.indexOf(a[tt])<0&&Object.prototype.propertyIsEnumerable.call(i,a[tt])&&(o[a[tt]]=i[a[tt]]);return o}function __spreadArray(i,s,o){if(o||arguments.length===2)for(var a=0,tt=s.length,_e;a<tt;a++)(_e||!(a in s))&&(_e||(_e=Array.prototype.slice.call(s,0,a)),_e[a]=s[a]);return i.concat(_e||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;function ItoI(i){return i}function innerCreateMedium(i,s){s===void 0&&(s=ItoI);var o=[],a=!1,tt={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:i},useMedium:function(_e){var st=s(_e,a);return o.push(st),function(){o=o.filter(function(ot){return ot!==st})}},assignSyncMedium:function(_e){for(a=!0;o.length;){var st=o;o=[],st.forEach(_e)}o={push:function(ot){return _e(ot)},filter:function(){return o}}},assignMedium:function(_e){a=!0;var st=[];if(o.length){var ot=o;o=[],ot.forEach(_e),st=o}var rt=function(){var j=st;st=[],j.forEach(_e)},it=function(){return Promise.resolve().then(rt)};it(),o={push:function(j){st.push(j),it()},filter:function(j){return st=st.filter(j),o}}}};return tt}function createMedium(i,s){return s===void 0&&(s=ItoI),innerCreateMedium(i,s)}function createSidecarMedium(i){i===void 0&&(i={});var s=innerCreateMedium(null);return s.options=__assign$2({async:!0,ssr:!1},i),s}var SideCar$1=function(i){var s=i.sideCar,o=__rest(i,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return reactExports.createElement(a,__assign$2({},o))};SideCar$1.isSideCarExport=!0;function exportSidecar(i,s){return i.useMedium(s),SideCar$1}var mediumFocus=createMedium({},function(i){var s=i.target,o=i.currentTarget;return{target:s,currentTarget:o}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0,ssr:typeof document<"u"}),focusScope=reactExports.createContext(void 0),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(s,o){var a,tt=reactExports.useState(),_e=tt[0],st=tt[1],ot=reactExports.useRef(),rt=reactExports.useRef(!1),it=reactExports.useRef(null),j=reactExports.useState({}),_=j[1],$=s.children,et=s.disabled,nt=et===void 0?!1:et,at=s.noFocusGuards,ct=at===void 0?!1:at,ht=s.persistentFocus,ut=ht===void 0?!1:ht,dt=s.crossFrame,mt=dt===void 0?!0:dt,gt=s.autoFocus,lt=gt===void 0?!0:gt;s.allowTextSelection;var St=s.group,xt=s.className,yt=s.whiteList,_t=s.hasPositiveIndices,kt=s.shards,Et=kt===void 0?emptyArray:kt,$t=s.as,Tt=$t===void 0?"div":$t,At=s.lockProps,Mt=At===void 0?{}:At,Ot=s.sideCar,Pt=s.returnFocus,Ft=Pt===void 0?!1:Pt,zt=s.focusOptions,qt=s.onActivation,Gt=s.onDeactivation,Wt=reactExports.useState({}),Xt=Wt[0],rr=reactExports.useCallback(function(dr){var Wr=dr.captureFocusRestore;if(!it.current){var Jr,nn=(Jr=document)==null?void 0:Jr.activeElement;it.current=nn,nn!==document.body&&(it.current=Wr(nn))}ot.current&&qt&&qt(ot.current),rt.current=!0,_()},[qt]),tr=reactExports.useCallback(function(){rt.current=!1,Gt&&Gt(ot.current),_()},[Gt]),mr=reactExports.useCallback(function(dr){var Wr=it.current;if(Wr){var Jr=(typeof Wr=="function"?Wr():Wr)||document.body,nn=typeof Ft=="function"?Ft(Jr):Ft;if(nn){var Cn=typeof nn=="object"?nn:void 0;it.current=null,dr?Promise.resolve().then(function(){return Jr.focus(Cn)}):Jr.focus(Cn)}}},[Ft]),yr=reactExports.useCallback(function(dr){rt.current&&mediumFocus.useMedium(dr)},[]),xr=mediumBlur.useMedium,vr=reactExports.useCallback(function(dr){ot.current!==dr&&(ot.current=dr,st(dr))},[]),ir=_extends((a={},a[FOCUS_DISABLED]=nt&&"disabled",a[FOCUS_GROUP]=St,a),Mt),sr=ct!==!0,er=sr&&ct!=="tail",Tr=useMergeRefs([o,vr]),Cr=reactExports.useMemo(function(){return{observed:ot,shards:Et,enabled:!nt,active:rt.current}},[nt,rt.current,Et,_e]);return reactExports.createElement(reactExports.Fragment,null,sr&&[reactExports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:nt?-1:0,style:hiddenGuard}),_t?reactExports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:nt?-1:1,style:hiddenGuard}):null],!nt&&reactExports.createElement(Ot,{id:Xt,sideCar:mediumSidecar,observed:_e,disabled:nt,persistentFocus:ut,crossFrame:mt,autoFocus:lt,whiteList:yt,shards:Et,onActivation:rr,onDeactivation:tr,returnFocus:mr,focusOptions:zt,noFocusGuards:ct}),reactExports.createElement(Tt,_extends({ref:Tr},ir,{className:xt,onBlur:xr,onFocus:yr}),reactExports.createElement(focusScope.Provider,{value:Cr},$)),er&&reactExports.createElement("div",{"data-focus-guard":!0,tabIndex:nt?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(i)}function toPrimitive(i,s){if(_typeof(i)!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var a=o.call(i,s||"default");if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function toPropertyKey(i){var s=toPrimitive(i,"string");return _typeof(s)=="symbol"?s:s+""}function _defineProperty(i,s,o){return(s=toPropertyKey(s))in i?Object.defineProperty(i,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[s]=o,i}function withSideEffect(i,s){function o(a){return a.displayName||a.name||"Component"}return function(tt){var _e=[],st;function ot(){st=i(_e.map(function(it){return it.props})),s(st)}var rt=function(it){_inheritsLoose(j,it);function j(){return it.apply(this,arguments)||this}j.peek=function(){return st};var _=j.prototype;return _.componentDidMount=function(){_e.push(this),ot()},_.componentDidUpdate=function(){ot()},_.componentWillUnmount=function(){var et=_e.indexOf(this);_e.splice(et,1),ot()},_.render=function(){return React$4.createElement(tt,this.props)},j}(reactExports.PureComponent);return _defineProperty(rt,"displayName","SideEffect("+o(tt)+")"),rt}}var toArray=function(i){for(var s=Array(i.length),o=0;o<i.length;++o)s[o]=i[o];return s},asArray=function(i){return Array.isArray(i)?i:[i]},getFirst=function(i){return Array.isArray(i)?i[0]:i},isElementHidden=function(i){if(i.nodeType!==Node.ELEMENT_NODE)return!1;var s=window.getComputedStyle(i,null);return!s||!s.getPropertyValue?!1:s.getPropertyValue("display")==="none"||s.getPropertyValue("visibility")==="hidden"},getParentNode=function(i){return i.parentNode&&i.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.parentNode.host:i.parentNode},isTopNode=function(i){return i===document||i&&i.nodeType===Node.DOCUMENT_NODE},isInert=function(i){return i.hasAttribute("inert")},isVisibleUncached=function(i,s){return!i||isTopNode(i)||!isElementHidden(i)&&!isInert(i)&&s(getParentNode(i))},isVisibleCached=function(i,s){var o=i.get(s);if(o!==void 0)return o;var a=isVisibleUncached(s,isVisibleCached.bind(void 0,i));return i.set(s,a),a},isAutoFocusAllowedUncached=function(i,s){return i&&!isTopNode(i)?isAutoFocusAllowed(i)?s(getParentNode(i)):!1:!0},isAutoFocusAllowedCached=function(i,s){var o=i.get(s);if(o!==void 0)return o;var a=isAutoFocusAllowedUncached(s,isAutoFocusAllowedCached.bind(void 0,i));return i.set(s,a),a},getDataset=function(i){return i.dataset},isHTMLButtonElement=function(i){return i.tagName==="BUTTON"},isHTMLInputElement=function(i){return i.tagName==="INPUT"},isRadioElement=function(i){return isHTMLInputElement(i)&&i.type==="radio"},notHiddenInput=function(i){return!((isHTMLInputElement(i)||isHTMLButtonElement(i))&&(i.type==="hidden"||i.disabled))},isAutoFocusAllowed=function(i){var s=i.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(s)},isGuard=function(i){var s;return!!(i&&(!((s=getDataset(i))===null||s===void 0)&&s.focusGuard))},isNotAGuard=function(i){return!isGuard(i)},isDefined=function(i){return!!i},tabSort=function(i,s){var o=Math.max(0,i.tabIndex),a=Math.max(0,s.tabIndex),tt=o-a,_e=i.index-s.index;if(tt){if(!o)return 1;if(!a)return-1}return tt||_e},getTabIndex=function(i){return i.tabIndex<0&&!i.hasAttribute("tabindex")?0:i.tabIndex},orderByTabIndex=function(i,s,o){return toArray(i).map(function(a,tt){var _e=getTabIndex(a);return{node:a,index:tt,tabIndex:o&&_e===-1?(a.dataset||{}).focusGuard?0:-1:_e}}).filter(function(a){return!s||a.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(i,s){return toArray((i.shadowRoot||i).children).reduce(function(o,a){return o.concat(a.matches(s?queryGuardTabbables:queryTabbables)?[a]:[],getFocusablesWithShadowDom(a))},[])},getFocusablesWithIFrame=function(i,s){var o;return i instanceof HTMLIFrameElement&&(!((o=i.contentDocument)===null||o===void 0)&&o.body)?getFocusables([i.contentDocument.body],s):[i]},getFocusables=function(i,s){return i.reduce(function(o,a){var tt,_e=getFocusablesWithShadowDom(a,s),st=(tt=[]).concat.apply(tt,_e.map(function(ot){return getFocusablesWithIFrame(ot,s)}));return o.concat(st,a.parentNode?toArray(a.parentNode.querySelectorAll(queryTabbables)).filter(function(ot){return ot===a}):[])},[])},getParentAutofocusables=function(i){var s=i.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(s).map(function(o){return getFocusables([o])}).reduce(function(o,a){return o.concat(a)},[])},filterFocusable=function(i,s){return toArray(i).filter(function(o){return isVisibleCached(s,o)}).filter(function(o){return notHiddenInput(o)})},filterAutoFocusable=function(i,s){return s===void 0&&(s=new Map),toArray(i).filter(function(o){return isAutoFocusAllowedCached(s,o)})},getTabbableNodes=function(i,s,o){return orderByTabIndex(filterFocusable(getFocusables(i,o),s),!0,o)},getFocusableNodes=function(i,s){return orderByTabIndex(filterFocusable(getFocusables(i),s),!1)},parentAutofocusables=function(i,s){return filterFocusable(getParentAutofocusables(i),s)},contains=function(i,s){return i.shadowRoot?contains(i.shadowRoot,s):Object.getPrototypeOf(i).contains!==void 0&&Object.getPrototypeOf(i).contains.call(i,s)?!0:toArray(i.children).some(function(o){var a;if(o instanceof HTMLIFrameElement){var tt=(a=o.contentDocument)===null||a===void 0?void 0:a.body;return tt?contains(tt,s):!1}return contains(o,s)})},filterNested=function(i){for(var s=new Set,o=i.length,a=0;a<o;a+=1)for(var tt=a+1;tt<o;tt+=1){var _e=i[a].compareDocumentPosition(i[tt]);(_e&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&s.add(tt),(_e&Node.DOCUMENT_POSITION_CONTAINS)>0&&s.add(a)}return i.filter(function(st,ot){return!s.has(ot)})},getTopParent=function(i){return i.parentNode?getTopParent(i.parentNode):i},getAllAffectedNodes=function(i){var s=asArray(i);return s.filter(Boolean).reduce(function(o,a){var tt=a.getAttribute(FOCUS_GROUP);return o.push.apply(o,tt?filterNested(toArray(getTopParent(a).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(tt,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[a]),o},[])},safeProbe=function(i){try{return i()}catch{return}},getActiveElement=function(i){if(i===void 0&&(i=document),!(!i||!i.activeElement)){var s=i.activeElement;return s.shadowRoot?getActiveElement(s.shadowRoot):s instanceof HTMLIFrameElement&&safeProbe(function(){return s.contentWindow.document})?getActiveElement(s.contentWindow.document):s}},focusInFrame=function(i,s){return i===s},focusInsideIframe=function(i,s){return!!toArray(i.querySelectorAll("iframe")).some(function(o){return focusInFrame(o,s)})},focusInside=function(i,s){return s===void 0&&(s=getActiveElement(getFirst(i).ownerDocument)),!s||s.dataset&&s.dataset.focusGuard?!1:getAllAffectedNodes(i).some(function(o){return contains(o,s)||focusInsideIframe(o,s)})},focusIsHidden=function(i){i===void 0&&(i=document);var s=getActiveElement(i);return s?toArray(i.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(o){return contains(o,s)}):!1},findSelectedRadio=function(i,s){return s.filter(isRadioElement).filter(function(o){return o.name===i.name}).filter(function(o){return o.checked})[0]||i},correctNode=function(i,s){return isRadioElement(i)&&i.name?findSelectedRadio(i,s):i},correctNodes=function(i){var s=new Set;return i.forEach(function(o){return s.add(correctNode(o,i))}),i.filter(function(o){return s.has(o)})},pickFirstFocus=function(i){return i[0]&&i.length>1?correctNode(i[0],i):i[0]},pickFocusable=function(i,s){return i.indexOf(correctNode(s,i))},NEW_FOCUS="NEW_FOCUS",newFocus=function(i,s,o,a,tt){var _e=i.length,st=i[0],ot=i[_e-1],rt=isGuard(a);if(!(a&&i.indexOf(a)>=0)){var it=a!==void 0?o.indexOf(a):-1,j=tt?o.indexOf(tt):it,_=tt?i.indexOf(tt):-1;if(it===-1)return _!==-1?_:NEW_FOCUS;if(_===-1)return NEW_FOCUS;var $=it-j,et=o.indexOf(st),nt=o.indexOf(ot),at=correctNodes(o),ct=a!==void 0?at.indexOf(a):-1,ht=ct-(tt?at.indexOf(tt):it);if(!$&&_>=0||s.length===0)return _;var ut=pickFocusable(i,s[0]),dt=pickFocusable(i,s[s.length-1]);if(it<=et&&rt&&Math.abs($)>1)return dt;if(it>=nt&&rt&&Math.abs($)>1)return ut;if($&&Math.abs(ht)>1)return _;if(it<=et)return dt;if(it>nt)return ut;if($)return Math.abs($)>1?_:(_e+_+$)%_e}},findAutoFocused=function(i){return function(s){var o,a=(o=getDataset(s))===null||o===void 0?void 0:o.autofocus;return s.autofocus||a!==void 0&&a!=="false"||i.indexOf(s)>=0}},pickAutofocus=function(i,s,o){var a=i.map(function(_e){var st=_e.node;return st}),tt=filterAutoFocusable(a.filter(findAutoFocused(o)));return tt&&tt.length?pickFirstFocus(tt):pickFirstFocus(filterAutoFocusable(s))},getParents=function(i,s){return s===void 0&&(s=[]),s.push(i),i.parentNode&&getParents(i.parentNode.host||i.parentNode,s),s},getCommonParent=function(i,s){for(var o=getParents(i),a=getParents(s),tt=0;tt<o.length;tt+=1){var _e=o[tt];if(a.indexOf(_e)>=0)return _e}return!1},getTopCommonParent=function(i,s,o){var a=asArray(i),tt=asArray(s),_e=a[0],st=!1;return tt.filter(Boolean).forEach(function(ot){st=getCommonParent(st||ot,ot)||st,o.filter(Boolean).forEach(function(rt){var it=getCommonParent(_e,rt);it&&(!st||contains(it,st)?st=it:st=getCommonParent(it,st))})}),st},allParentAutofocusables=function(i,s){return i.reduce(function(o,a){return o.concat(parentAutofocusables(a,s))},[])},reorderNodes=function(i,s){var o=new Map;return s.forEach(function(a){return o.set(a.node,a)}),i.map(function(a){return o.get(a)}).filter(isDefined)},focusSolver=function(i,s){var o=getActiveElement(asArray(i).length>0?document:getFirst(i).ownerDocument),a=getAllAffectedNodes(i).filter(isNotAGuard),tt=getTopCommonParent(o||i,i,a),_e=new Map,st=getFocusableNodes(a,_e),ot=st.filter(function(nt){var at=nt.node;return isNotAGuard(at)});if(ot[0]){var rt=getFocusableNodes([tt],_e).map(function(nt){var at=nt.node;return at}),it=reorderNodes(rt,ot),j=it.map(function(nt){var at=nt.node;return at}),_=it.filter(function(nt){var at=nt.tabIndex;return at>=0}).map(function(nt){var at=nt.node;return at}),$=newFocus(j,_,rt,o,s);if($===NEW_FOCUS){var et=pickAutofocus(st,_,allParentAutofocusables(a,_e))||pickAutofocus(st,j,allParentAutofocusables(a,_e));if(et)return{node:et};console.warn("focus-lock: cannot find any node to move focus into");return}return $===void 0?$:it[$]}},expandFocusableNodes=function(i){var s=getAllAffectedNodes(i).filter(isNotAGuard),o=getTopCommonParent(i,i,s),a=orderByTabIndex(getFocusables([o],!0),!0,!0),tt=getFocusables(s,!1);return a.map(function(_e){var st=_e.node,ot=_e.index;return{node:st,index:ot,lockItem:tt.indexOf(st)>=0,guard:isGuard(st)}})},focusOn=function(i,s){i&&("focus"in i&&i.focus(s),"contentWindow"in i&&i.contentWindow&&i.contentWindow.focus())},guardCount=0,lockDisabled=!1,moveFocusInside=function(i,s,o){o===void 0&&(o={});var a=focusSolver(i,s);if(!lockDisabled&&a){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(a.node,o.focusOptions),guardCount--}};function weakRef(i){if(!i)return null;if(typeof WeakRef>"u")return function(){return i||null};var s=i?new WeakRef(i):null;return function(){return(s==null?void 0:s.deref())||null}}var recordElementLocation=function(i){if(!i)return null;for(var s=[],o=i;o&&o!==document.body;)s.push({current:weakRef(o),parent:weakRef(o.parentElement),left:weakRef(o.previousElementSibling),right:weakRef(o.nextElementSibling)}),o=o.parentElement;return{element:weakRef(i),stack:s,ownerDocument:i.ownerDocument}},restoreFocusTo=function(i){var s,o,a,tt,_e;if(i)for(var st=i.stack,ot=i.ownerDocument,rt=new Map,it=0,j=st;it<j.length;it++){var _=j[it],$=(s=_.parent)===null||s===void 0?void 0:s.call(_);if($&&ot.contains($)){for(var et=(o=_.left)===null||o===void 0?void 0:o.call(_),nt=_.current(),at=$.contains(nt)?nt:void 0,ct=(a=_.right)===null||a===void 0?void 0:a.call(_),ht=getTabbableNodes([$],rt),ut=(_e=(tt=at??(et==null?void 0:et.nextElementSibling))!==null&&tt!==void 0?tt:ct)!==null&&_e!==void 0?_e:et;ut;){for(var dt=0,mt=ht;dt<mt.length;dt++){var gt=mt[dt];if(ut!=null&&ut.contains(gt.node))return gt.node}ut=ut.nextElementSibling}if(ht.length)return ht[0].node}}},captureFocusRestore=function(i){var s=recordElementLocation(i);return function(){return restoreFocusTo(s)}},getRelativeFocusable=function(i,s,o){if(!i||!s)return console.error("no element or scope given"),{};var a=asArray(s);if(a.every(function(st){return!contains(st,i)}))return console.error("Active element is not contained in the scope"),{};var tt=o?getTabbableNodes(a,new Map):getFocusableNodes(a,new Map),_e=tt.findIndex(function(st){var ot=st.node;return ot===i});if(_e!==-1)return{prev:tt[_e-1],next:tt[_e+1],first:tt[0],last:tt[tt.length-1]}},getBoundary=function(i,s){var o=s?getTabbableNodes(asArray(i),new Map):getFocusableNodes(asArray(i),new Map);return{first:o[0],last:o[o.length-1]}},defaultOptions=function(i){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},i)},moveFocus=function(i,s,o){s===void 0&&(s={});var a=defaultOptions(s),tt=getRelativeFocusable(i,a.scope,a.onlyTabbable);if(tt){var _e=o(tt,a.cycle);_e&&focusOn(_e.node,a.focusOptions)}},focusNextElement=function(i,s){s===void 0&&(s={}),moveFocus(i,s,function(o,a){var tt=o.next,_e=o.first;return tt||a&&_e})},focusPrevElement=function(i,s){s===void 0&&(s={}),moveFocus(i,s,function(o,a){var tt=o.prev,_e=o.last;return tt||a&&_e})},pickBoundary=function(i,s,o){var a,tt=getBoundary(i,(a=s.onlyTabbable)!==null&&a!==void 0?a:!0),_e=tt[o];_e&&focusOn(_e.node,s.focusOptions)},focusFirstElement=function(i,s){s===void 0&&(s={}),pickBoundary(i,s,"first")},focusLastElement=function(i,s){s===void 0&&(s={}),pickBoundary(i,s,"last")};function deferAction(i){setTimeout(i,1)}var extractRef$1=function(s){return s&&"current"in s?s.current:s},focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,tryRestoreFocus=function(){return null},lastPortaledElement=null,focusWasOutsideWindow=!1,windowFocused=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(s){return(lastActiveTrap.whiteList||defaultWhitelist)(s)},recordPortal=function(s,o){lastPortaledElement={observerNode:s,portaledElement:o}},focusIsPortaledPair=function(s){return lastPortaledElement&&lastPortaledElement.portaledElement===s};function autoGuard(i,s,o,a){var tt=null,_e=i;do{var st=a[_e];if(st.guard)st.node.dataset.focusAutoGuard&&(tt=st);else if(st.lockItem){if(_e!==i)return;tt=null}else break}while((_e+=o)!==s);tt&&(tt.node.tabIndex=0)}var focusWasOutside=function(s){return s?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function i(s,o,a){return o&&(o.host===s&&(!o.activeElement||a.contains(o.activeElement))||o.parentNode&&i(s,o.parentNode,a))},withinHost=function(s,o){return o.some(function(a){return checkInHost(s,a,a)})},getNodeFocusables=function(s){return getFocusableNodes(s,new Map)},isNotFocusable=function(s){return!getNodeFocusables([s.parentNode]).some(function(o){return o.node===s})},activateTrap=function(){var s=!1;if(lastActiveTrap){var o=lastActiveTrap,a=o.observed,tt=o.persistentFocus,_e=o.autoFocus,st=o.shards,ot=o.crossFrame,rt=o.focusOptions,it=o.noFocusGuards,j=a||lastPortaledElement&&lastPortaledElement.portaledElement;if(focusOnBody()&&lastActiveFocus&&(!document.body.contains(lastActiveFocus)||isNotFocusable(lastActiveFocus))){lastActiveFocus=null;var _=tryRestoreFocus();_&&_.focus()}var $=document&&document.activeElement;if(j){var et=[j].concat(st.map(extractRef$1).filter(Boolean)),nt=function(){if(!focusWasOutside(ot)||!it||!lastActiveFocus||windowFocused)return!1;var dt=getNodeFocusables(et),mt=dt.findIndex(function(gt){var lt=gt.node;return lt===lastActiveFocus});return mt===0||mt===dt.length-1};if((!$||focusWhitelisted($))&&(tt||nt()||!isFreeFocus()||!lastActiveFocus&&_e)&&(j&&!(focusInside(et)||$&&withinHost($,et)||focusIsPortaledPair($))&&(document&&!lastActiveFocus&&$&&!_e?($.blur&&$.blur(),document.body.focus()):(s=moveFocusInside(et,lastActiveFocus,{focusOptions:rt}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement,tryRestoreFocus=captureFocusRestore(lastActiveFocus)),document&&$!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var at=document&&document.activeElement,ct=expandFocusableNodes(et),ht=ct.map(function(ut){var dt=ut.node;return dt}).indexOf(at);ht>-1&&(ct.filter(function(ut){var dt=ut.guard,mt=ut.node;return dt&&mt.dataset.focusAutoGuard}).forEach(function(ut){var dt=ut.node;return dt.removeAttribute("tabIndex")}),autoGuard(ht,ct.length,1,ct),autoGuard(ht,-1,-1,ct))}}}return s},onTrap=function(s){activateTrap()&&s&&(s.stopPropagation(),s.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(s){var o=s.target,a=s.currentTarget;a.contains(o)||recordPortal(a,o)},FocusWatcher=function(){return null},onWindowFocus=function(){windowFocused=!0},onWindowBlur=function(){windowFocused=!1,focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(i){return i.filter(function(s){var o=s.disabled;return!o})}var focusLockAPI={moveFocusInside,focusInside,focusNextElement,focusPrevElement,focusFirstElement,focusLastElement,captureFocusRestore};function handleStateChangeOnClient(i){var s=i.slice(-1)[0];s&&!lastActiveTrap&&attachHandler();var o=lastActiveTrap,a=o&&s&&s.id===o.id;lastActiveTrap=s,o&&!a&&(o.onDeactivation(),i.filter(function(tt){var _e=tt.id;return _e===o.id}).length||o.returnFocus(!s)),s?(lastActiveFocus=null,(!a||o.observed!==s.observed)&&s.onActivation(focusLockAPI),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(i){return i(focusLockAPI)});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(s,o){return reactExports.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:o},s))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusTrap=FocusLockCombination.default??FocusLockCombination,FocusLock=i=>{const{initialFocusRef:s,finalFocusRef:o,contentRef:a,restoreFocus:tt,children:_e,isDisabled:st,autoFocus:ot,persistentFocus:rt,lockFocusAcrossFrames:it}=i,j=reactExports.useCallback(()=>{s!=null&&s.current?s.current.focus():a!=null&&a.current&&getAllFocusable(a.current).length===0&&requestAnimationFrame(()=>{var nt;(nt=a.current)==null||nt.focus()})},[s,a]),_=reactExports.useCallback(()=>{var et;(et=o==null?void 0:o.current)==null||et.focus()},[o]),$=tt&&!o;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:it,persistentFocus:rt,autoFocus:ot,disabled:st,onActivation:j,onDeactivation:_,returnFocus:$,children:_e})};FocusLock.displayName="FocusLock";const Grid=forwardRef(function(s,o){const{templateAreas:a,gap:tt,rowGap:_e,columnGap:st,column:ot,row:rt,autoFlow:it,autoRows:j,templateRows:_,autoColumns:$,templateColumns:et,...nt}=s,at={display:"grid",gridTemplateAreas:a,gridGap:tt,gridRowGap:_e,gridColumnGap:st,gridAutoColumns:$,gridColumn:ot,gridRow:rt,gridAutoFlow:it,gridAutoRows:j,gridTemplateRows:_,gridTemplateColumns:et};return jsxRuntimeExports.jsx(chakra.div,{ref:o,__css:at,...nt})});Grid.displayName="Grid";function spanFn(i){return mapResponsive(i,s=>s==="auto"?"auto":`span ${s}/span ${s}`)}const GridItem=forwardRef(function(s,o){const{area:a,colSpan:tt,colStart:_e,colEnd:st,rowEnd:ot,rowSpan:rt,rowStart:it,...j}=s,_=compact({gridArea:a,gridColumn:spanFn(tt),gridRow:spanFn(rt),gridColumnStart:_e,gridColumnEnd:st,gridRowStart:it,gridRowEnd:ot});return jsxRuntimeExports.jsx(chakra.div,{ref:o,__css:_,...j})});GridItem.displayName="GridItem";const SimpleGrid=forwardRef(function(s,o){const{columns:a,spacingX:tt,spacingY:_e,spacing:st,minChildWidth:ot,...rt}=s,it=useTheme(),j=ot?widthToColumns(ot,it):countToColumns(a);return jsxRuntimeExports.jsx(Grid,{ref:o,gap:st,columnGap:tt,rowGap:_e,templateColumns:j,...rt})});SimpleGrid.displayName="SimpleGrid";function toPx(i){return typeof i=="number"?`${i}px`:i}function widthToColumns(i,s){return mapResponsive(i,o=>{const a=getToken("sizes",o,toPx(o))(s);return o===null?null:`repeat(auto-fit, minmax(${a}, 1fr))`})}function countToColumns(i){return mapResponsive(i,s=>s===null?null:`repeat(${s}, minmax(0, 1fr))`)}function createIcon(i){const{viewBox:s="0 0 24 24",d:o,displayName:a,defaultProps:tt={}}=i,_e=reactExports.Children.toArray(i.path),st=forwardRef((ot,rt)=>jsxRuntimeExports.jsx(Icon,{ref:rt,viewBox:s,...tt,...ot,children:_e.length?_e:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:o})}));return st.displayName=a,st}const[ListStylesProvider,useListStyles]=createContext$1({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(s,o){const a=useMultiStyleConfig("List",s),{children:tt,styleType:_e="none",stylePosition:st,spacing:ot,...rt}=omitThemingProps(s),it=getValidChildren(tt),_=ot?{["& > *:not(style) ~ *:not(style)"]:{mt:ot}}:{};return jsxRuntimeExports.jsx(ListStylesProvider,{value:a,children:jsxRuntimeExports.jsx(chakra.ul,{ref:o,listStyleType:_e,listStylePosition:st,role:"list",__css:{...a.container,..._},...rt,children:it})})});List.displayName="List";const OrderedList=forwardRef((i,s)=>{const{as:o,...a}=i;return jsxRuntimeExports.jsx(List,{ref:s,as:"ol",styleType:"decimal",marginStart:"1em",...a})});OrderedList.displayName="OrderedList";const UnorderedList=forwardRef(function(s,o){const{as:a,...tt}=s;return jsxRuntimeExports.jsx(List,{ref:o,as:"ul",styleType:"initial",marginStart:"1em",...tt})});UnorderedList.displayName="UnorderedList";const ListItem=forwardRef(function(s,o){const a=useListStyles();return jsxRuntimeExports.jsx(chakra.li,{ref:o,...s,__css:a.item})});ListItem.displayName="ListItem";const ListIcon=forwardRef(function(s,o){const a=useListStyles();return jsxRuntimeExports.jsx(Icon,{ref:o,role:"presentation",...s,__css:a.icon})});ListIcon.displayName="ListIcon";var getDefaultParent=function(i){if(typeof document>"u")return null;var s=Array.isArray(i)?i[0]:i;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(i){return i&&(i.host||unwrapHost(i.parentNode))},correctTargets=function(i,s){return s.map(function(o){if(i.contains(o))return o;var a=unwrapHost(o);return a&&i.contains(a)?a:(console.error("aria-hidden",o,"in not contained inside",i,". Doing nothing"),null)}).filter(function(o){return!!o})},applyAttributeToOthers=function(i,s,o,a){var tt=correctTargets(s,Array.isArray(i)?i:[i]);markerMap[o]||(markerMap[o]=new WeakMap);var _e=markerMap[o],st=[],ot=new Set,rt=new Set(tt),it=function(_){!_||ot.has(_)||(ot.add(_),it(_.parentNode))};tt.forEach(it);var j=function(_){!_||rt.has(_)||Array.prototype.forEach.call(_.children,function($){if(ot.has($))j($);else try{var et=$.getAttribute(a),nt=et!==null&&et!=="false",at=(counterMap.get($)||0)+1,ct=(_e.get($)||0)+1;counterMap.set($,at),_e.set($,ct),st.push($),at===1&&nt&&uncontrolledNodes.set($,!0),ct===1&&$.setAttribute(o,"true"),nt||$.setAttribute(a,"true")}catch(ht){console.error("aria-hidden: cannot operate on ",$,ht)}})};return j(s),ot.clear(),lockCount++,function(){st.forEach(function(_){var $=counterMap.get(_)-1,et=_e.get(_)-1;counterMap.set(_,$),_e.set(_,et),$||(uncontrolledNodes.has(_)||_.removeAttribute(a),uncontrolledNodes.delete(_)),et||_.removeAttribute(o)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(i,s,o){o===void 0&&(o="data-aria-hidden");var a=Array.from(Array.isArray(i)?i:[i]),tt=getDefaultParent(i);return tt?(a.push.apply(a,Array.from(tt.querySelectorAll("[aria-live]"))),applyAttributeToOthers(a,tt,o,"aria-hidden")):function(){return null}},__defProp=Object.defineProperty,__defNormalProp=(i,s,o)=>s in i?__defProp(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,__publicField=(i,s,o)=>(__defNormalProp(i,s+"",o),o);class ModalManager{constructor(){__publicField(this,"modals"),this.modals=new Set}add(s){return this.modals.add(s),this.modals.size}remove(s){this.modals.delete(s)}isTopModal(s){if(!s)return!1;const o=Array.from(this.modals)[this.modals.size-1];return s===o}}const modalManager=new ModalManager;function useModalManager(i,s){const[o,a]=reactExports.useState(0);return reactExports.useEffect(()=>{const tt=i.current;if(tt){if(s){const _e=modalManager.add(tt);a(_e)}return()=>{modalManager.remove(tt),a(0)}}},[s,i]),o}function useModal(i){const{isOpen:s,onClose:o,id:a,closeOnOverlayClick:tt=!0,closeOnEsc:_e=!0,useInert:st=!0,onOverlayClick:ot,onEsc:rt}=i,it=reactExports.useRef(null),j=reactExports.useRef(null),[_,$,et]=useIds(a,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(it,s&&st);const nt=useModalManager(it,s),at=reactExports.useRef(null),ct=reactExports.useCallback(yt=>{at.current=yt.target},[]),ht=reactExports.useCallback(yt=>{yt.key==="Escape"&&(yt.stopPropagation(),_e&&(o==null||o()),rt==null||rt())},[_e,o,rt]),[ut,dt]=reactExports.useState(!1),[mt,gt]=reactExports.useState(!1),lt=reactExports.useCallback((yt={},_t=null)=>({role:"dialog",...yt,ref:mergeRefs(_t,it),id:_,tabIndex:-1,"aria-modal":!0,"aria-labelledby":ut?$:void 0,"aria-describedby":mt?et:void 0,onClick:callAllHandlers(yt.onClick,kt=>kt.stopPropagation())}),[et,mt,_,$,ut]),St=reactExports.useCallback(yt=>{yt.stopPropagation(),at.current===yt.target&&modalManager.isTopModal(it.current)&&(tt&&(o==null||o()),ot==null||ot())},[o,tt,ot]),xt=reactExports.useCallback((yt={},_t=null)=>({...yt,ref:mergeRefs(_t,j),onClick:callAllHandlers(yt.onClick,St),onKeyDown:callAllHandlers(yt.onKeyDown,ht),onMouseDown:callAllHandlers(yt.onMouseDown,ct)}),[ht,ct,St]);return{isOpen:s,onClose:o,headerId:$,bodyId:et,setBodyMounted:gt,setHeaderMounted:dt,dialogRef:it,overlayRef:j,getDialogProps:lt,getDialogContainerProps:xt,index:nt}}function useAriaHidden(i,s){const o=i.current;reactExports.useEffect(()=>{if(!(!i.current||!s))return hideOthers(i.current)},[s,i,o])}function useIds(i,...s){const o=reactExports.useId(),a=i||o;return reactExports.useMemo(()=>s.map(tt=>`${tt}-${a}`),[a,s])}const[ModalStylesProvider,useModalStyles]=createContext$1({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$1({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=i=>{const s={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...i,lockFocusAcrossFrames:i.lockFocusAcrossFrames||!0},{portalProps:o,children:a,autoFocus:tt,trapFocus:_e,initialFocusRef:st,finalFocusRef:ot,returnFocusOnClose:rt,blockScrollOnMount:it,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:et,animatePresenceProps:nt,onCloseComplete:at}=s,ct=useMultiStyleConfig("Modal",s),ut={...useModal(s),autoFocus:tt,trapFocus:_e,initialFocusRef:st,finalFocusRef:ot,returnFocusOnClose:rt,blockScrollOnMount:it,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:et};return jsxRuntimeExports.jsx(ModalContextProvider,{value:ut,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:ct,children:jsxRuntimeExports.jsx(AnimatePresence,{...nt,onExitComplete:at,children:ut.isOpen&&jsxRuntimeExports.jsx(Portal,{...o,children:a})})})})};Modal.displayName="Modal";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(i,s){var o=reactExports.useRef(null),a=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),tt=a[0],_e=a[1],st=i.forwardProps,ot=i.children,rt=i.className,it=i.removeScrollBar,j=i.enabled,_=i.shards,$=i.sideCar,et=i.noIsolation,nt=i.inert,at=i.allowPinchZoom,ct=i.as,ht=ct===void 0?"div":ct,ut=i.gapMode,dt=__rest(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),mt=$,gt=useMergeRefs([o,s]),lt=__assign$2(__assign$2({},dt),tt);return reactExports.createElement(reactExports.Fragment,null,j&&reactExports.createElement(mt,{sideCar:effectCar,removeScrollBar:it,shards:_,noIsolation:et,inert:nt,setCallbacks:_e,allowPinchZoom:!!at,lockRef:o,gapMode:ut}),st?reactExports.cloneElement(reactExports.Children.only(ot),__assign$2(__assign$2({},lt),{ref:gt})):reactExports.createElement(ht,__assign$2({},lt,{className:rt,ref:gt}),ot))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var s=getNonce();return s&&i.setAttribute("nonce",s),i}function injectStyles(i,s){i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}function insertStyleTag(i){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(i)}var stylesheetSingleton=function(){var i=0,s=null;return{add:function(o){i==0&&(s=makeStyleTag())&&(injectStyles(s,o),insertStyleTag(s)),i++},remove:function(){i--,!i&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var i=stylesheetSingleton();return function(s,o){reactExports.useEffect(function(){return i.add(s),function(){i.remove()}},[s&&o])}},styleSingleton=function(){var i=styleHookSingleton(),s=function(o){var a=o.styles,tt=o.dynamic;return i(a,tt),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(i){return parseInt(i||"",10)||0},getOffset=function(i){var s=window.getComputedStyle(document.body),o=s[i==="padding"?"paddingLeft":"marginLeft"],a=s[i==="padding"?"paddingTop":"marginTop"],tt=s[i==="padding"?"paddingRight":"marginRight"];return[parse$1(o),parse$1(a),parse$1(tt)]},getGapWidth=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zeroGap;var s=getOffset(i),o=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-o+s[2]-s[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(i,s,o,a){var tt=i.left,_e=i.top,st=i.right,ot=i.gap;return o===void 0&&(o="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(ot,"px ").concat(a,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),o==="margin"&&`
    padding-left: `.concat(tt,`px;
    padding-top: `).concat(_e,`px;
    padding-right: `).concat(st,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ot,"px ").concat(a,`;
    `),o==="padding"&&"padding-right: ".concat(ot,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ot,"px ").concat(a,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ot,"px ").concat(a,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(ot,`px;
  }
`)},getCurrentUseCounter=function(){var i=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(i)?i:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var i=getCurrentUseCounter()-1;i<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,i.toString())}},[])},RemoveScrollBar=function(i){var s=i.noRelative,o=i.noImportant,a=i.gapMode,tt=a===void 0?"margin":a;useLockAttribute();var _e=reactExports.useMemo(function(){return getGapWidth(tt)},[tt]);return reactExports.createElement(Style,{styles:getStyles(_e,!s,tt,o?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(i){return i.tagName==="TEXTAREA"},elementCanBeScrolled=function(i,s){if(!(i instanceof Element))return!1;var o=window.getComputedStyle(i);return o[s]!=="hidden"&&!(o.overflowY===o.overflowX&&!alwaysContainsScroll(i)&&o[s]==="visible")},elementCouldBeVScrolled=function(i){return elementCanBeScrolled(i,"overflowY")},elementCouldBeHScrolled=function(i){return elementCanBeScrolled(i,"overflowX")},locationCouldBeScrolled=function(i,s){var o=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var tt=elementCouldBeScrolled(i,a);if(tt){var _e=getScrollVariables(i,a),st=_e[1],ot=_e[2];if(st>ot)return!0}a=a.parentNode}while(a&&a!==o.body);return!1},getVScrollVariables=function(i){var s=i.scrollTop,o=i.scrollHeight,a=i.clientHeight;return[s,o,a]},getHScrollVariables=function(i){var s=i.scrollLeft,o=i.scrollWidth,a=i.clientWidth;return[s,o,a]},elementCouldBeScrolled=function(i,s){return i==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(i,s){return i==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(i,s){return i==="h"&&s==="rtl"?-1:1},handleScroll=function(i,s,o,a,tt){var _e=getDirectionFactor(i,window.getComputedStyle(s).direction),st=_e*a,ot=o.target,rt=s.contains(ot),it=!1,j=st>0,_=0,$=0;do{var et=getScrollVariables(i,ot),nt=et[0],at=et[1],ct=et[2],ht=at-ct-_e*nt;(nt||ht)&&elementCouldBeScrolled(i,ot)&&(_+=ht,$+=nt),ot instanceof ShadowRoot?ot=ot.host:ot=ot.parentNode}while(!rt&&ot!==document.body||rt&&(s.contains(ot)||s===ot));return(j&&(Math.abs(_)<1||!tt)||!j&&(Math.abs($)<1||!tt))&&(it=!0),it},getTouchXY=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(i){return[i.deltaX,i.deltaY]},extractRef=function(i){return i&&"current"in i?i.current:i},deltaCompare=function(i,s){return i[0]===s[0]&&i[1]===s[1]},generateStyle=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(i){var s=reactExports.useRef([]),o=reactExports.useRef([0,0]),a=reactExports.useRef(),tt=reactExports.useState(idCounter++)[0],_e=reactExports.useState(styleSingleton)[0],st=reactExports.useRef(i);reactExports.useEffect(function(){st.current=i},[i]),reactExports.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(tt));var at=__spreadArray([i.lockRef.current],(i.shards||[]).map(extractRef),!0).filter(Boolean);return at.forEach(function(ct){return ct.classList.add("allow-interactivity-".concat(tt))}),function(){document.body.classList.remove("block-interactivity-".concat(tt)),at.forEach(function(ct){return ct.classList.remove("allow-interactivity-".concat(tt))})}}},[i.inert,i.lockRef.current,i.shards]);var ot=reactExports.useCallback(function(at,ct){if("touches"in at&&at.touches.length===2||at.type==="wheel"&&at.ctrlKey)return!st.current.allowPinchZoom;var ht=getTouchXY(at),ut=o.current,dt="deltaX"in at?at.deltaX:ut[0]-ht[0],mt="deltaY"in at?at.deltaY:ut[1]-ht[1],gt,lt=at.target,St=Math.abs(dt)>Math.abs(mt)?"h":"v";if("touches"in at&&St==="h"&&lt.type==="range")return!1;var xt=locationCouldBeScrolled(St,lt);if(!xt)return!0;if(xt?gt=St:(gt=St==="v"?"h":"v",xt=locationCouldBeScrolled(St,lt)),!xt)return!1;if(!a.current&&"changedTouches"in at&&(dt||mt)&&(a.current=gt),!gt)return!0;var yt=a.current||gt;return handleScroll(yt,ct,at,yt==="h"?dt:mt,!0)},[]),rt=reactExports.useCallback(function(at){var ct=at;if(!(!lockStack.length||lockStack[lockStack.length-1]!==_e)){var ht="deltaY"in ct?getDeltaXY(ct):getTouchXY(ct),ut=s.current.filter(function(gt){return gt.name===ct.type&&(gt.target===ct.target||ct.target===gt.shadowParent)&&deltaCompare(gt.delta,ht)})[0];if(ut&&ut.should){ct.cancelable&&ct.preventDefault();return}if(!ut){var dt=(st.current.shards||[]).map(extractRef).filter(Boolean).filter(function(gt){return gt.contains(ct.target)}),mt=dt.length>0?ot(ct,dt[0]):!st.current.noIsolation;mt&&ct.cancelable&&ct.preventDefault()}}},[]),it=reactExports.useCallback(function(at,ct,ht,ut){var dt={name:at,delta:ct,target:ht,should:ut,shadowParent:getOutermostShadowParent(ht)};s.current.push(dt),setTimeout(function(){s.current=s.current.filter(function(mt){return mt!==dt})},1)},[]),j=reactExports.useCallback(function(at){o.current=getTouchXY(at),a.current=void 0},[]),_=reactExports.useCallback(function(at){it(at.type,getDeltaXY(at),at.target,ot(at,i.lockRef.current))},[]),$=reactExports.useCallback(function(at){it(at.type,getTouchXY(at),at.target,ot(at,i.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(_e),i.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:$}),document.addEventListener("wheel",rt,nonPassive),document.addEventListener("touchmove",rt,nonPassive),document.addEventListener("touchstart",j,nonPassive),function(){lockStack=lockStack.filter(function(at){return at!==_e}),document.removeEventListener("wheel",rt,nonPassive),document.removeEventListener("touchmove",rt,nonPassive),document.removeEventListener("touchstart",j,nonPassive)}},[]);var et=i.removeScrollBar,nt=i.inert;return reactExports.createElement(reactExports.Fragment,null,nt?reactExports.createElement(_e,{styles:generateStyle(tt)}):null,et?reactExports.createElement(RemoveScrollBar,{gapMode:i.gapMode}):null)}function getOutermostShadowParent(i){for(var s=null;i!==null;)i instanceof ShadowRoot&&(s=i.host,i=i.host),i=i.parentNode;return s}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(i,s){return reactExports.createElement(RemoveScroll,__assign$2({},i,{ref:s,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;function ModalFocusScope(i){const{autoFocus:s,trapFocus:o,dialogRef:a,initialFocusRef:tt,blockScrollOnMount:_e,allowPinchZoom:st,finalFocusRef:ot,returnFocusOnClose:rt,preserveScrollBarGap:it,lockFocusAcrossFrames:j,isOpen:_}=useModalContext(),[$,et]=usePresence();reactExports.useEffect(()=>{!$&&et&&setTimeout(et)},[$,et]);const nt=useModalManager(a,_);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:s,isDisabled:!o,initialFocusRef:tt,finalFocusRef:ot,restoreFocus:rt,contentRef:a,lockFocusAcrossFrames:j,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!it,allowPinchZoom:st,enabled:nt===1&&_e,forwardProps:!0,children:i.children})})}const variants$2={initial:({offsetX:i,offsetY:s,transition:o,transitionEnd:a,delay:tt})=>({opacity:0,x:i,y:s,transition:(o==null?void 0:o.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,tt),transitionEnd:a==null?void 0:a.exit}),enter:({transition:i,transitionEnd:s,delay:o})=>({opacity:1,x:0,y:0,transition:(i==null?void 0:i.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:s==null?void 0:s.enter}),exit:({offsetY:i,offsetX:s,transition:o,transitionEnd:a,reverse:tt,delay:_e})=>{const st={x:s,y:i};return{opacity:0,transition:(o==null?void 0:o.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,_e),...tt?{...st,transitionEnd:a==null?void 0:a.exit}:{transitionEnd:{...st,...a==null?void 0:a.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$2},SlideFade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:tt,reverse:_e=!0,className:st,offsetX:ot=0,offsetY:rt=8,transition:it,transitionEnd:j,delay:_,animatePresenceProps:$,...et}=s,nt=a?tt&&a:!0,at=tt||a?"enter":"exit",ct={offsetX:ot,offsetY:rt,reverse:_e,transition:it,transitionEnd:j,delay:_};return jsxRuntimeExports.jsx(AnimatePresence,{...$,custom:ct,children:nt&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-offset-slide",st),custom:ct,...slideFadeConfig,animate:at,...et})})});SlideFade.displayName="SlideFade";const variants$1={exit:({reverse:i,initialScale:s,transition:o,transitionEnd:a,delay:tt})=>({opacity:0,...i?{scale:s,transitionEnd:a==null?void 0:a.exit}:{transitionEnd:{scale:s,...a==null?void 0:a.exit}},transition:(o==null?void 0:o.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,tt)}),enter:({transitionEnd:i,transition:s,delay:o})=>({opacity:1,scale:1,transition:(s==null?void 0:s.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:i==null?void 0:i.enter})},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$1},ScaleFade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:tt,reverse:_e=!0,initialScale:st=.95,className:ot,transition:rt,transitionEnd:it,delay:j,animatePresenceProps:_,...$}=s,et=a?tt&&a:!0,nt=tt||a?"enter":"exit",at={initialScale:st,reverse:_e,transition:rt,transitionEnd:it,delay:j};return jsxRuntimeExports.jsx(AnimatePresence,{..._,custom:at,children:et&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-offset-slide",ot),...scaleFadeConfig,animate:nt,custom:at,...$})})});ScaleFade.displayName="ScaleFade";const transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=i=>transitions[i||"none"],ModalTransition=reactExports.forwardRef((i,s)=>{const{preset:o,motionProps:a=getMotionProps(o),...tt}=i;return jsxRuntimeExports.jsx(MotionSection,{ref:s,...a,...tt})});ModalTransition.displayName="ModalTransition";const ModalContent=forwardRef((i,s)=>{const{className:o,children:a,containerProps:tt,motionProps:_e,...st}=i,{getDialogProps:ot,getDialogContainerProps:rt}=useModalContext(),it=ot(st,s),j=rt(tt),_=cx("chakra-modal__content",o),$=useModalStyles(),et={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...$.dialog},nt={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...$.dialogContainer},{motionPreset:at}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...j,className:"chakra-modal__content-container",tabIndex:-1,__css:nt,children:jsxRuntimeExports.jsx(ModalTransition,{preset:at,motionProps:_e,className:_,...it,__css:et,children:a})})})});ModalContent.displayName="ModalContent";const ModalBody=forwardRef((i,s)=>{const{className:o,...a}=i,{bodyId:tt,setBodyMounted:_e}=useModalContext();reactExports.useEffect(()=>(_e(!0),()=>_e(!1)),[_e]);const st=cx("chakra-modal__body",o),ot=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:st,id:tt,...a,__css:ot.body})});ModalBody.displayName="ModalBody";const ModalCloseButton=forwardRef((i,s)=>{const{onClick:o,className:a,...tt}=i,{onClose:_e}=useModalContext(),st=cx("chakra-modal__close-btn",a),ot=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:s,__css:ot.closeButton,className:st,onClick:callAllHandlers(o,rt=>{rt.stopPropagation(),_e()}),...tt})});ModalCloseButton.displayName="ModalCloseButton";const ModalFooter=forwardRef((i,s)=>{const{className:o,...a}=i,tt=cx("chakra-modal__footer",o),_e=useModalStyles(),st={display:"flex",alignItems:"center",justifyContent:"flex-end",..._e.footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:s,...a,__css:st,className:tt})});ModalFooter.displayName="ModalFooter";const ModalHeader=forwardRef((i,s)=>{const{className:o,...a}=i,{headerId:tt,setHeaderMounted:_e}=useModalContext();reactExports.useEffect(()=>(_e(!0),()=>_e(!1)),[_e]);const st=cx("chakra-modal__header",o),ot=useModalStyles(),rt={flex:0,...ot.header};return jsxRuntimeExports.jsx(chakra.header,{ref:s,className:st,id:tt,...a,__css:rt})});ModalHeader.displayName="ModalHeader";const variants={enter:({transition:i,transitionEnd:s,delay:o}={})=>({opacity:1,transition:(i==null?void 0:i.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:s==null?void 0:s.enter}),exit:({transition:i,transitionEnd:s,delay:o}={})=>({opacity:0,transition:(i==null?void 0:i.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,o),transitionEnd:s==null?void 0:s.exit})},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants},Fade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:tt,className:_e,transition:st,transitionEnd:ot,delay:rt,animatePresenceProps:it,...j}=s,_=tt||a?"enter":"exit",$=a?tt&&a:!0,et={transition:st,transitionEnd:ot,delay:rt};return jsxRuntimeExports.jsx(AnimatePresence,{...it,custom:et,children:$&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-fade",_e),custom:et,...fadeConfig,animate:_,...j})})});Fade.displayName="Fade";const MotionDiv=chakra(motion.div),ModalOverlay=forwardRef((i,s)=>{const{className:o,transition:a,motionProps:tt,..._e}=i,st=cx("chakra-modal__overlay",o),rt={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:it}=useModalContext(),_=tt||(it==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv,{..._,__css:rt,ref:s,className:st,..._e})});ModalOverlay.displayName="ModalOverlay";const SelectField=forwardRef(function(s,o){const{children:a,placeholder:tt,className:_e,...st}=s;return jsxRuntimeExports.jsxs(chakra.select,{...st,ref:o,className:cx("chakra-select",_e),children:[tt&&jsxRuntimeExports.jsx("option",{value:"",children:tt}),a]})});SelectField.displayName="SelectField";const Select=forwardRef((i,s)=>{var dt;const o=useMultiStyleConfig("Select",i),{rootProps:a,placeholder:tt,icon:_e,color:st,height:ot,h:rt,minH:it,minHeight:j,iconColor:_,iconSize:$,...et}=omitThemingProps(i),[nt,at]=split$1(et,layoutPropNames),ct=useFormControl(at),ht={width:"100%",height:"fit-content",position:"relative",color:st},ut={paddingEnd:"2rem",...o.field,_focus:{zIndex:"unset",...(dt=o.field)==null?void 0:dt._focus}};return jsxRuntimeExports.jsxs(chakra.div,{className:"chakra-select__wrapper",__css:ht,...nt,...a,children:[jsxRuntimeExports.jsx(SelectField,{ref:s,height:rt??ot,minH:it??j,placeholder:tt,...ct,__css:ut,children:i.children}),jsxRuntimeExports.jsx(SelectIcon,{"data-disabled":dataAttr(ct.disabled),...(_||st)&&{color:_||st},__css:o.icon,...$&&{fontSize:$},children:_e})]})});Select.displayName="Select";const DefaultIcon=i=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=i=>{const{children:s=jsxRuntimeExports.jsx(DefaultIcon,{}),...o}=i,a=reactExports.cloneElement(s,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsxRuntimeExports.jsx(IconWrapper,{...o,className:"chakra-select__icon-wrapper",children:reactExports.isValidElement(s)?a:null})};SelectIcon.displayName="SelectIcon";const Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";const StackItem=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...i,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...i.__css}});StackItem.displayName="StackItem";function getDividerStyles(i){const{spacing:s,direction:o}=i,a={column:{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(o,tt=>a[tt])}}const Stack=forwardRef((i,s)=>{const{isInline:o,direction:a,align:tt,justify:_e,spacing:st="0.5rem",wrap:ot,children:rt,divider:it,className:j,shouldWrapChildren:_,...$}=i,et=o?"row":a??"column",nt=reactExports.useMemo(()=>getDividerStyles({spacing:st,direction:et}),[st,et]),at=!!it,ct=!_&&!at,ht=reactExports.useMemo(()=>{const dt=getValidChildren(rt);return ct?dt:dt.map((mt,gt)=>{const lt=typeof mt.key<"u"?mt.key:gt,St=gt+1===dt.length,yt=_?jsxRuntimeExports.jsx(StackItem,{children:mt},lt):mt;if(!at)return yt;const _t=reactExports.cloneElement(it,{__css:nt}),kt=St?null:_t;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[yt,kt]},lt)})},[it,nt,at,ct,_,rt]),ut=cx("chakra-stack",j);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:tt,justifyContent:_e,flexDirection:et,flexWrap:ot,gap:at?void 0:st,className:ut,...$,children:ht})});Stack.displayName="Stack";const HStack=forwardRef((i,s)=>jsxRuntimeExports.jsx(Stack,{align:"center",...i,direction:"row",ref:s}));HStack.displayName="HStack";const StackDivider=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__divider",...i,__css:{...i.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});StackDivider.displayName="StackDivider";const Heading=forwardRef(function(s,o){const a=useStyleConfig("Heading",s),{className:tt,..._e}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.h2,{ref:o,className:cx("chakra-heading",s.className),..._e,__css:a})});Heading.displayName="Heading";const Text=forwardRef(function(s,o){const a=useStyleConfig("Text",s),{className:tt,align:_e,decoration:st,casing:ot,...rt}=omitThemingProps(s),it=compact({textAlign:s.align,textDecoration:s.decoration,textTransform:s.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:o,className:cx("chakra-text",s.className),...it,...rt,__css:a})});Text.displayName="Text";var client={},m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;var withSelector={exports:{}},useSyncExternalStoreWithSelector_production_min={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=reactExports;function n(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var p=typeof Object.is=="function"?Object.is:n,q=g.useSyncExternalStore,r=g.useRef,t=g.useEffect,u=g.useMemo,v=g.useDebugValue;useSyncExternalStoreWithSelector_production_min.useSyncExternalStoreWithSelector=function(i,s,o,a,tt){var _e=r(null);if(_e.current===null){var st={hasValue:!1,value:null};_e.current=st}else st=_e.current;_e=u(function(){function rt(et){if(!it){if(it=!0,j=et,et=a(et),tt!==void 0&&st.hasValue){var nt=st.value;if(tt(nt,et))return _=nt}return _=et}if(nt=_,p(j,et))return nt;var at=a(et);return tt!==void 0&&tt(nt,at)?nt:(j=et,_=at)}var it=!1,j,_,$=o===void 0?null:o;return[function(){return rt(s())},$===null?void 0:function(){return rt($())}]},[s,o,a,tt]);var ot=q(i,_e[0],_e[1]);return t(function(){st.hasValue=!0,st.value=ot},[ot]),v(ot),ot};withSelector.exports=useSyncExternalStoreWithSelector_production_min;var withSelectorExports=withSelector.exports,React$3="default"in ReactOriginal?React$4:ReactOriginal,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!React$3.createContext)return{};const i=gT[ContextKey]??(gT[ContextKey]=new Map);let s=i.get(React$3.createContext);return s||(s=React$3.createContext(null),i.set(React$3.createContext,s)),s}var ReactReduxContext=getContext(),notInitialized=()=>{throw new Error("uSES not initialized!")};function createReduxContextHook(i=ReactReduxContext){return function(){return React$3.useContext(i)}}var useReduxContext=createReduxContextHook(),useSyncExternalStoreWithSelector=notInitialized,initializeUseSelector=i=>{useSyncExternalStoreWithSelector=i},refEquality=(i,s)=>i===s;function createSelectorHook(i=ReactReduxContext){const s=i===ReactReduxContext?useReduxContext:createReduxContextHook(i),o=(a,tt={})=>{const{equalityFn:_e=refEquality,devModeChecks:st={}}=typeof tt=="function"?{equalityFn:tt}:tt,{store:ot,subscription:rt,getServerState:it,stabilityCheck:j,identityFunctionCheck:_}=s();React$3.useRef(!0);const $=React$3.useCallback({[a.name](nt){return a(nt)}}[a.name],[a,j,st.stabilityCheck]),et=useSyncExternalStoreWithSelector(rt.addNestedSub,ot.getState,it||ot.getState,$,_e);return React$3.useDebugValue(et),et};return Object.assign(o,{withTypes:()=>o}),o}var useSelector=createSelectorHook();function defaultNoopBatch(i){i()}function createListenerCollection(){let i=null,s=null;return{clear(){i=null,s=null},notify(){defaultNoopBatch(()=>{let o=i;for(;o;)o.callback(),o=o.next})},get(){const o=[];let a=i;for(;a;)o.push(a),a=a.next;return o},subscribe(o){let a=!0;const tt=s={callback:o,next:null,prev:s};return tt.prev?tt.prev.next=tt:i=tt,function(){!a||i===null||(a=!1,tt.next?tt.next.prev=tt.prev:s=tt.prev,tt.prev?tt.prev.next=tt.next:i=tt.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(i,s){let o,a=nullListeners,tt=0,_e=!1;function st(at){j();const ct=a.subscribe(at);let ht=!1;return()=>{ht||(ht=!0,ct(),_())}}function ot(){a.notify()}function rt(){nt.onStateChange&&nt.onStateChange()}function it(){return _e}function j(){tt++,o||(o=i.subscribe(rt),a=createListenerCollection())}function _(){tt--,o&&tt===0&&(o(),o=void 0,a.clear(),a=nullListeners)}function $(){_e||(_e=!0,j())}function et(){_e&&(_e=!1,_())}const nt={addNestedSub:st,notifyNestedSubs:ot,handleChangeWrapper:rt,isSubscribed:it,trySubscribe:$,tryUnsubscribe:et,getListeners:()=>a};return nt}var canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative",useIsomorphicLayoutEffect=canUseDOM||isReactNative?React$3.useLayoutEffect:React$3.useEffect;function Provider({store:i,context:s,children:o,serverState:a,stabilityCheck:tt="once",identityFunctionCheck:_e="once"}){const st=React$3.useMemo(()=>{const it=createSubscription(i);return{store:i,subscription:it,getServerState:a?()=>a:void 0,stabilityCheck:tt,identityFunctionCheck:_e}},[i,a,tt,_e]),ot=React$3.useMemo(()=>i.getState(),[i]);useIsomorphicLayoutEffect(()=>{const{subscription:it}=st;return it.onStateChange=it.notifyNestedSubs,it.trySubscribe(),ot!==i.getState()&&it.notifyNestedSubs(),()=>{it.tryUnsubscribe(),it.onStateChange=void 0}},[st,ot]);const rt=s||ReactReduxContext;return React$3.createElement(rt.Provider,{value:st},o)}var Provider_default=Provider;function createStoreHook(i=ReactReduxContext){const s=i===ReactReduxContext?useReduxContext:createReduxContextHook(i),o=()=>{const{store:a}=s();return a};return Object.assign(o,{withTypes:()=>o}),o}var useStore=createStoreHook();function createDispatchHook(i=ReactReduxContext){const s=i===ReactReduxContext?useStore:createStoreHook(i),o=()=>s().dispatch;return Object.assign(o,{withTypes:()=>o}),o}var useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);const scriptRel="modulepreload",assetsURL=function(i){return"/seker/"+i},seen={},__vitePreload=function(s,o,a){let tt=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const st=document.querySelector("meta[property=csp-nonce]"),ot=(st==null?void 0:st.nonce)||(st==null?void 0:st.getAttribute("nonce"));tt=Promise.allSettled(o.map(rt=>{if(rt=assetsURL(rt),rt in seen)return;seen[rt]=!0;const it=rt.endsWith(".css"),j=it?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${rt}"]${j}`))return;const _=document.createElement("link");if(_.rel=it?"stylesheet":scriptRel,it||(_.as="script"),_.crossOrigin="",_.href=rt,ot&&_.setAttribute("nonce",ot),document.head.appendChild(_),it)return new Promise(($,et)=>{_.addEventListener("load",$),_.addEventListener("error",()=>et(new Error(`Unable to preload CSS for ${rt}`)))})}))}function _e(st){const ot=new Event("vite:preloadError",{cancelable:!0});if(ot.payload=st,window.dispatchEvent(ot),!ot.defaultPrevented)throw st}return tt.then(st=>{for(const ot of st||[])ot.status==="rejected"&&_e(ot.reason);return s().catch(_e)})};var lzString={exports:{}};lzString.exports;(function(i){var s=function(){var o=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",_e={};function st(rt,it){if(!_e[rt]){_e[rt]={};for(var j=0;j<rt.length;j++)_e[rt][rt.charAt(j)]=j}return _e[rt][it]}var ot={compressToBase64:function(rt){if(rt==null)return"";var it=ot._compress(rt,6,function(j){return a.charAt(j)});switch(it.length%4){default:case 0:return it;case 1:return it+"===";case 2:return it+"==";case 3:return it+"="}},decompressFromBase64:function(rt){return rt==null?"":rt==""?null:ot._decompress(rt.length,32,function(it){return st(a,rt.charAt(it))})},compressToUTF16:function(rt){return rt==null?"":ot._compress(rt,15,function(it){return o(it+32)})+" "},decompressFromUTF16:function(rt){return rt==null?"":rt==""?null:ot._decompress(rt.length,16384,function(it){return rt.charCodeAt(it)-32})},compressToUint8Array:function(rt){for(var it=ot.compress(rt),j=new Uint8Array(it.length*2),_=0,$=it.length;_<$;_++){var et=it.charCodeAt(_);j[_*2]=et>>>8,j[_*2+1]=et%256}return j},decompressFromUint8Array:function(rt){if(rt==null)return ot.decompress(rt);for(var it=new Array(rt.length/2),j=0,_=it.length;j<_;j++)it[j]=rt[j*2]*256+rt[j*2+1];var $=[];return it.forEach(function(et){$.push(o(et))}),ot.decompress($.join(""))},compressToEncodedURIComponent:function(rt){return rt==null?"":ot._compress(rt,6,function(it){return tt.charAt(it)})},decompressFromEncodedURIComponent:function(rt){return rt==null?"":rt==""?null:(rt=rt.replace(/ /g,"+"),ot._decompress(rt.length,32,function(it){return st(tt,rt.charAt(it))}))},compress:function(rt){return ot._compress(rt,16,function(it){return o(it)})},_compress:function(rt,it,j){if(rt==null)return"";var _,$,et={},nt={},at="",ct="",ht="",ut=2,dt=3,mt=2,gt=[],lt=0,St=0,xt;for(xt=0;xt<rt.length;xt+=1)if(at=rt.charAt(xt),Object.prototype.hasOwnProperty.call(et,at)||(et[at]=dt++,nt[at]=!0),ct=ht+at,Object.prototype.hasOwnProperty.call(et,ct))ht=ct;else{if(Object.prototype.hasOwnProperty.call(nt,ht)){if(ht.charCodeAt(0)<256){for(_=0;_<mt;_++)lt=lt<<1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++;for($=ht.charCodeAt(0),_=0;_<8;_++)lt=lt<<1|$&1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=$>>1}else{for($=1,_=0;_<mt;_++)lt=lt<<1|$,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=0;for($=ht.charCodeAt(0),_=0;_<16;_++)lt=lt<<1|$&1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=$>>1}ut--,ut==0&&(ut=Math.pow(2,mt),mt++),delete nt[ht]}else for($=et[ht],_=0;_<mt;_++)lt=lt<<1|$&1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=$>>1;ut--,ut==0&&(ut=Math.pow(2,mt),mt++),et[ct]=dt++,ht=String(at)}if(ht!==""){if(Object.prototype.hasOwnProperty.call(nt,ht)){if(ht.charCodeAt(0)<256){for(_=0;_<mt;_++)lt=lt<<1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++;for($=ht.charCodeAt(0),_=0;_<8;_++)lt=lt<<1|$&1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=$>>1}else{for($=1,_=0;_<mt;_++)lt=lt<<1|$,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=0;for($=ht.charCodeAt(0),_=0;_<16;_++)lt=lt<<1|$&1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=$>>1}ut--,ut==0&&(ut=Math.pow(2,mt),mt++),delete nt[ht]}else for($=et[ht],_=0;_<mt;_++)lt=lt<<1|$&1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=$>>1;ut--,ut==0&&(ut=Math.pow(2,mt),mt++)}for($=2,_=0;_<mt;_++)lt=lt<<1|$&1,St==it-1?(St=0,gt.push(j(lt)),lt=0):St++,$=$>>1;for(;;)if(lt=lt<<1,St==it-1){gt.push(j(lt));break}else St++;return gt.join("")},decompress:function(rt){return rt==null?"":rt==""?null:ot._decompress(rt.length,32768,function(it){return rt.charCodeAt(it)})},_decompress:function(rt,it,j){var _=[],$=4,et=4,nt=3,at="",ct=[],ht,ut,dt,mt,gt,lt,St,xt={val:j(0),position:it,index:1};for(ht=0;ht<3;ht+=1)_[ht]=ht;for(dt=0,gt=Math.pow(2,2),lt=1;lt!=gt;)mt=xt.val&xt.position,xt.position>>=1,xt.position==0&&(xt.position=it,xt.val=j(xt.index++)),dt|=(mt>0?1:0)*lt,lt<<=1;switch(dt){case 0:for(dt=0,gt=Math.pow(2,8),lt=1;lt!=gt;)mt=xt.val&xt.position,xt.position>>=1,xt.position==0&&(xt.position=it,xt.val=j(xt.index++)),dt|=(mt>0?1:0)*lt,lt<<=1;St=o(dt);break;case 1:for(dt=0,gt=Math.pow(2,16),lt=1;lt!=gt;)mt=xt.val&xt.position,xt.position>>=1,xt.position==0&&(xt.position=it,xt.val=j(xt.index++)),dt|=(mt>0?1:0)*lt,lt<<=1;St=o(dt);break;case 2:return""}for(_[3]=St,ut=St,ct.push(St);;){if(xt.index>rt)return"";for(dt=0,gt=Math.pow(2,nt),lt=1;lt!=gt;)mt=xt.val&xt.position,xt.position>>=1,xt.position==0&&(xt.position=it,xt.val=j(xt.index++)),dt|=(mt>0?1:0)*lt,lt<<=1;switch(St=dt){case 0:for(dt=0,gt=Math.pow(2,8),lt=1;lt!=gt;)mt=xt.val&xt.position,xt.position>>=1,xt.position==0&&(xt.position=it,xt.val=j(xt.index++)),dt|=(mt>0?1:0)*lt,lt<<=1;_[et++]=o(dt),St=et-1,$--;break;case 1:for(dt=0,gt=Math.pow(2,16),lt=1;lt!=gt;)mt=xt.val&xt.position,xt.position>>=1,xt.position==0&&(xt.position=it,xt.val=j(xt.index++)),dt|=(mt>0?1:0)*lt,lt<<=1;_[et++]=o(dt),St=et-1,$--;break;case 2:return ct.join("")}if($==0&&($=Math.pow(2,nt),nt++),_[St])at=_[St];else if(St===et)at=ut+ut.charAt(0);else return null;ct.push(at),_[et++]=ut+at.charAt(0),$--,ut=at,$==0&&($=Math.pow(2,nt),nt++)}}};return ot}();i!=null?i.exports=s:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return s})})(lzString);var lzStringExports=lzString.exports;const token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(i,s){try{return[decodeURIComponent(i.join(""))]}catch{}if(i.length===1)return i;s=s||1;const o=i.slice(0,s),a=i.slice(s);return Array.prototype.concat.call([],decodeComponents(o),decodeComponents(a))}function decode$1(i){try{return decodeURIComponent(i)}catch{let s=i.match(singleMatcher)||[];for(let o=1;o<s.length;o++)i=decodeComponents(s,o).join(""),s=i.match(singleMatcher)||[];return i}}function customDecodeURIComponent(i){const s={"%FE%FF":"","%FF%FE":""};let o=multiMatcher.exec(i);for(;o;){try{s[o[0]]=decodeURIComponent(o[0])}catch{const tt=decode$1(o[0]);tt!==o[0]&&(s[o[0]]=tt)}o=multiMatcher.exec(i)}s["%C2"]="";const a=Object.keys(s);for(const tt of a)i=i.replace(new RegExp(tt,"g"),s[tt]);return i}function decodeUriComponent(i){if(typeof i!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof i+"`");try{return decodeURIComponent(i)}catch{return customDecodeURIComponent(i)}}function includeKeys(i,s){const o={};if(Array.isArray(s))for(const a of s){const tt=Object.getOwnPropertyDescriptor(i,a);tt!=null&&tt.enumerable&&Object.defineProperty(o,a,tt)}else for(const a of Reflect.ownKeys(i)){const tt=Object.getOwnPropertyDescriptor(i,a);if(tt.enumerable){const _e=i[a];s(a,_e,i)&&Object.defineProperty(o,a,tt)}}return o}function splitOnFirst(i,s){if(!(typeof i=="string"&&typeof s=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(i===""||s==="")return[];const o=i.indexOf(s);return o===-1?[]:[i.slice(0,o),i.slice(o+s.length)]}const isNullOrUndefined=i=>i==null,strictUriEncode=i=>encodeURIComponent(i).replaceAll(/[!'()*]/g,s=>`%${s.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat(i){switch(i.arrayFormat){case"index":return s=>(o,a)=>{const tt=o.length;return a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),"[",tt,"]"].join("")]:[...o,[encode(s,i),"[",encode(tt,i),"]=",encode(a,i)].join("")]};case"bracket":return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),"[]"].join("")]:[...o,[encode(s,i),"[]=",encode(a,i)].join("")];case"colon-list-separator":return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),":list="].join("")]:[...o,[encode(s,i),":list=",encode(a,i)].join("")];case"comma":case"separator":case"bracket-separator":{const s=i.arrayFormat==="bracket-separator"?"[]=":"=";return o=>(a,tt)=>tt===void 0||i.skipNull&&tt===null||i.skipEmptyString&&tt===""?a:(tt=tt===null?"":tt,a.length===0?[[encode(o,i),s,encode(tt,i)].join("")]:[[a,encode(tt,i)].join(i.arrayFormatSeparator)])}default:return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,encode(s,i)]:[...o,[encode(s,i),"=",encode(a,i)].join("")]}}function parserForArrayFormat(i){let s;switch(i.arrayFormat){case"index":return(o,a,tt)=>{if(s=/\[(\d*)]$/.exec(o),o=o.replace(/\[\d*]$/,""),!s){tt[o]=a;return}tt[o]===void 0&&(tt[o]={}),tt[o][s[1]]=a};case"bracket":return(o,a,tt)=>{if(s=/(\[])$/.exec(o),o=o.replace(/\[]$/,""),!s){tt[o]=a;return}if(tt[o]===void 0){tt[o]=[a];return}tt[o]=[...tt[o],a]};case"colon-list-separator":return(o,a,tt)=>{if(s=/(:list)$/.exec(o),o=o.replace(/:list$/,""),!s){tt[o]=a;return}if(tt[o]===void 0){tt[o]=[a];return}tt[o]=[...tt[o],a]};case"comma":case"separator":return(o,a,tt)=>{const _e=typeof a=="string"&&a.includes(i.arrayFormatSeparator),st=typeof a=="string"&&!_e&&decode(a,i).includes(i.arrayFormatSeparator);a=st?decode(a,i):a;const ot=_e||st?a.split(i.arrayFormatSeparator).map(rt=>decode(rt,i)):a===null?a:decode(a,i);tt[o]=ot};case"bracket-separator":return(o,a,tt)=>{const _e=/(\[])$/.test(o);if(o=o.replace(/\[]$/,""),!_e){tt[o]=a&&decode(a,i);return}const st=a===null?[]:decode(a,i).split(i.arrayFormatSeparator);if(tt[o]===void 0){tt[o]=st;return}tt[o]=[...tt[o],...st]};default:return(o,a,tt)=>{if(tt[o]===void 0){tt[o]=a;return}tt[o]=[...[tt[o]].flat(),a]}}}function validateArrayFormatSeparator(i){if(typeof i!="string"||i.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(i,s){return s.encode?s.strict?strictUriEncode(i):encodeURIComponent(i):i}function decode(i,s){return s.decode?decodeUriComponent(i):i}function keysSorter(i){return Array.isArray(i)?i.sort():typeof i=="object"?keysSorter(Object.keys(i)).sort((s,o)=>Number(s)-Number(o)).map(s=>i[s]):i}function removeHash(i){const s=i.indexOf("#");return s!==-1&&(i=i.slice(0,s)),i}function getHash(i){let s="";const o=i.indexOf("#");return o!==-1&&(s=i.slice(o)),s}function parseValue(i,s,o){return o==="string"&&typeof i=="string"?i:typeof o=="function"&&typeof i=="string"?o(i):s.parseBooleans&&i!==null&&(i.toLowerCase()==="true"||i.toLowerCase()==="false")?i.toLowerCase()==="true":o==="number"&&!Number.isNaN(Number(i))&&typeof i=="string"&&i.trim()!==""||s.parseNumbers&&!Number.isNaN(Number(i))&&typeof i=="string"&&i.trim()!==""?Number(i):i}function extract(i){i=removeHash(i);const s=i.indexOf("?");return s===-1?"":i.slice(s+1)}function parse(i,s){s={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...s},validateArrayFormatSeparator(s.arrayFormatSeparator);const o=parserForArrayFormat(s),a=Object.create(null);if(typeof i!="string"||(i=i.trim().replace(/^[?#&]/,""),!i))return a;for(const tt of i.split("&")){if(tt==="")continue;const _e=s.decode?tt.replaceAll("+"," "):tt;let[st,ot]=splitOnFirst(_e,"=");st===void 0&&(st=_e),ot=ot===void 0?null:["comma","separator","bracket-separator"].includes(s.arrayFormat)?ot:decode(ot,s),o(decode(st,s),ot,a)}for(const[tt,_e]of Object.entries(a))if(typeof _e=="object"&&_e!==null&&s.types[tt]!=="string")for(const[st,ot]of Object.entries(_e)){const rt=s.types[tt]?s.types[tt].replace("[]",""):void 0;_e[st]=parseValue(ot,s,rt)}else typeof _e=="object"&&_e!==null&&s.types[tt]==="string"?a[tt]=Object.values(_e).join(s.arrayFormatSeparator):a[tt]=parseValue(_e,s,s.types[tt]);return s.sort===!1?a:(s.sort===!0?Object.keys(a).sort():Object.keys(a).sort(s.sort)).reduce((tt,_e)=>{const st=a[_e];return tt[_e]=st&&typeof st=="object"&&!Array.isArray(st)?keysSorter(st):st,tt},Object.create(null))}function stringify$3(i,s){if(!i)return"";s={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...s},validateArrayFormatSeparator(s.arrayFormatSeparator);const o=st=>s.skipNull&&isNullOrUndefined(i[st])||s.skipEmptyString&&i[st]==="",a=encoderForArrayFormat(s),tt={};for(const[st,ot]of Object.entries(i))o(st)||(tt[st]=ot);const _e=Object.keys(tt);return s.sort!==!1&&_e.sort(s.sort),_e.map(st=>{const ot=i[st];return ot===void 0?"":ot===null?encode(st,s):Array.isArray(ot)?ot.length===0&&s.arrayFormat==="bracket-separator"?encode(st,s)+"[]":ot.reduce(a(st),[]).join("&"):encode(st,s)+"="+encode(ot,s)}).filter(st=>st.length>0).join("&")}function parseUrl(i,s){var tt;s={decode:!0,...s};let[o,a]=splitOnFirst(i,"#");return o===void 0&&(o=i),{url:((tt=o==null?void 0:o.split("?"))==null?void 0:tt[0])??"",query:parse(extract(i),s),...s&&s.parseFragmentIdentifier&&a?{fragmentIdentifier:decode(a,s)}:{}}}function stringifyUrl(i,s){s={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,...s};const o=removeHash(i.url).split("?")[0]||"",a=extract(i.url),tt={...parse(a,{sort:!1}),...i.query};let _e=stringify$3(tt,s);_e&&(_e=`?${_e}`);let st=getHash(i.url);if(typeof i.fragmentIdentifier=="string"){const ot=new URL(o);ot.hash=i.fragmentIdentifier,st=s[encodeFragmentIdentifier]?ot.hash:`#${i.fragmentIdentifier}`}return`${o}${_e}${st}`}function pick(i,s,o){o={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...o};const{url:a,query:tt,fragmentIdentifier:_e}=parseUrl(i,o);return stringifyUrl({url:a,query:includeKeys(tt,s),fragmentIdentifier:_e},o)}function exclude(i,s,o){const a=Array.isArray(s)?tt=>!s.includes(tt):(tt,_e)=>!s(tt,_e);return pick(i,a,o)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse,parseUrl,pick,stringify:stringify$3,stringifyUrl},Symbol.toStringTag,{value:"Module"}));var lib$1={},ace$4={},ace$3={exports:{}};(function(i,s){(function(){var o="ace",a=function(){return this}();!a&&typeof window<"u"&&(a=window);var tt=function(j,_,$){if(typeof j!="string"){tt.original?tt.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&($=_),tt.modules[j]||(tt.payloads[j]=$,tt.modules[j]=null)};tt.modules={},tt.payloads={};var _e=function(j,_,$){if(typeof _=="string"){var et=rt(j,_);if(et!=null)return $&&$(),et}else if(Object.prototype.toString.call(_)==="[object Array]"){for(var nt=[],at=0,ct=_.length;at<ct;++at){var ht=rt(j,_[at]);if(ht==null&&st.original)return;nt.push(ht)}return $&&$.apply(null,nt)||!0}},st=function(j,_){var $=_e("",j,_);return $==null&&st.original?st.original.apply(this,arguments):$},ot=function(j,_){if(_.indexOf("!")!==-1){var $=_.split("!");return ot(j,$[0])+"!"+ot(j,$[1])}if(_.charAt(0)=="."){var et=j.split("/").slice(0,-1).join("/");for(_=et+"/"+_;_.indexOf(".")!==-1&&nt!=_;){var nt=_;_=_.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return _},rt=function(j,_){_=ot(j,_);var $=tt.modules[_];if(!$){if($=tt.payloads[_],typeof $=="function"){var et={},nt={id:_,uri:"",exports:et,packaged:!0},at=function(ht,ut){return _e(_,ht,ut)},ct=$(at,et,nt);et=ct||nt.exports,tt.modules[_]=et,delete tt.payloads[_]}$=tt.modules[_]=et||$}return $};function it(j){var _=a;a[j]||(a[j]={}),_=a[j],(!_.define||!_.define.packaged)&&(tt.original=_.define,_.define=tt,_.define.packaged=!0),(!_.require||!_.require.packaged)&&(st.original=_.require,_.require=st,_.require.packaged=!0)}it(o)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(o,a,tt){function _e(st,ot,rt){Object.defineProperty(st,ot,{value:rt,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||_e(String.prototype,"startsWith",function(st,ot){return ot=ot||0,this.lastIndexOf(st,ot)===ot}),String.prototype.endsWith||_e(String.prototype,"endsWith",function(st,ot){var rt=this;(ot===void 0||ot>rt.length)&&(ot=rt.length),ot-=st.length;var it=rt.indexOf(st,ot);return it!==-1&&it===ot}),String.prototype.repeat||_e(String.prototype,"repeat",function(st){for(var ot="",rt=this;st>0;)st&1&&(ot+=rt),(st>>=1)&&(rt+=rt);return ot}),String.prototype.includes||_e(String.prototype,"includes",function(st,ot){return this.indexOf(st,ot)!=-1}),Object.assign||(Object.assign=function(st){if(st==null)throw new TypeError("Cannot convert undefined or null to object");for(var ot=Object(st),rt=1;rt<arguments.length;rt++){var it=arguments[rt];it!=null&&Object.keys(it).forEach(function(j){ot[j]=it[j]})}return ot}),Object.values||(Object.values=function(st){return Object.keys(st).map(function(ot){return st[ot]})}),Array.prototype.find||_e(Array.prototype,"find",function(st){for(var ot=this.length,rt=arguments[1],it=0;it<ot;it++){var j=this[it];if(st.call(rt,j,it,this))return j}}),Array.prototype.findIndex||_e(Array.prototype,"findIndex",function(st){for(var ot=this.length,rt=arguments[1],it=0;it<ot;it++){var j=this[it];if(st.call(rt,j,it,this))return it}}),Array.prototype.includes||_e(Array.prototype,"includes",function(st,ot){return this.indexOf(st,ot)!=-1}),Array.prototype.fill||_e(Array.prototype,"fill",function(st){for(var ot=this,rt=ot.length>>>0,it=arguments[1],j=it>>0,_=j<0?Math.max(rt+j,0):Math.min(j,rt),$=arguments[2],et=$===void 0?rt:$>>0,nt=et<0?Math.max(rt+et,0):Math.min(et,rt);_<nt;)ot[_]=st,_++;return ot}),Array.of||_e(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(o,a,tt){o("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(o,a,tt){a.deepCopy=function _e(st){if(typeof st!="object"||!st)return st;var ot;if(Array.isArray(st)){ot=[];for(var rt=0;rt<st.length;rt++)ot[rt]=_e(st[rt]);return ot}if(Object.prototype.toString.call(st)!=="[object Object]")return st;ot={};for(var rt in st)ot[rt]=_e(st[rt]);return ot}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(o,a,tt){a.last=function(ot){return ot[ot.length-1]},a.stringReverse=function(ot){return ot.split("").reverse().join("")},a.stringRepeat=function(ot,rt){for(var it="";rt>0;)rt&1&&(it+=ot),(rt>>=1)&&(ot+=ot);return it};var _e=/^\s\s*/,st=/\s\s*$/;a.stringTrimLeft=function(ot){return ot.replace(_e,"")},a.stringTrimRight=function(ot){return ot.replace(st,"")},a.copyObject=function(ot){var rt={};for(var it in ot)rt[it]=ot[it];return rt},a.copyArray=function(ot){for(var rt=[],it=0,j=ot.length;it<j;it++)ot[it]&&typeof ot[it]=="object"?rt[it]=this.copyObject(ot[it]):rt[it]=ot[it];return rt},a.deepCopy=o("./deep_copy").deepCopy,a.arrayToMap=function(ot){for(var rt={},it=0;it<ot.length;it++)rt[ot[it]]=1;return rt},a.createMap=function(ot){var rt=Object.create(null);for(var it in ot)rt[it]=ot[it];return rt},a.arrayRemove=function(ot,rt){for(var it=0;it<=ot.length;it++)rt===ot[it]&&ot.splice(it,1)},a.escapeRegExp=function(ot){return ot.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},a.escapeHTML=function(ot){return(""+ot).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},a.getMatchOffsets=function(ot,rt){var it=[];return ot.replace(rt,function(j){it.push({offset:arguments[arguments.length-2],length:j.length})}),it},a.deferredCall=function(ot){var rt=null,it=function(){rt=null,ot()},j=function(_){return j.cancel(),rt=setTimeout(it,_||0),j};return j.schedule=j,j.call=function(){return this.cancel(),ot(),j},j.cancel=function(){return clearTimeout(rt),rt=null,j},j.isPending=function(){return rt},j},a.delayedCall=function(ot,rt){var it=null,j=function(){it=null,ot()},_=function($){it==null&&(it=setTimeout(j,$||rt))};return _.delay=function($){it&&clearTimeout(it),it=setTimeout(j,$||rt)},_.schedule=_,_.call=function(){this.cancel(),ot()},_.cancel=function(){it&&clearTimeout(it),it=null},_.isPending=function(){return it},_},a.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},a.skipEmptyMatch=function(ot,rt,it){return it&&ot.codePointAt(rt)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(o,a,tt){a.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},a.getOS=function(){return a.isMac?a.OS.MAC:a.isLinux?a.OS.LINUX:a.OS.WINDOWS};var _e=typeof navigator=="object"?navigator:{},st=(/mac|win|linux/i.exec(_e.platform)||["other"])[0].toLowerCase(),ot=_e.userAgent||"",rt=_e.appName||"";a.isWin=st=="win",a.isMac=st=="mac",a.isLinux=st=="linux",a.isIE=rt=="Microsoft Internet Explorer"||rt.indexOf("MSAppHost")>=0?parseFloat((ot.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ot.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),a.isOldIE=a.isIE&&a.isIE<9,a.isGecko=a.isMozilla=ot.match(/ Gecko\/\d+/),a.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",a.isWebKit=parseFloat(ot.split("WebKit/")[1])||void 0,a.isChrome=parseFloat(ot.split(" Chrome/")[1])||void 0,a.isSafari=parseFloat(ot.split(" Safari/")[1])&&!a.isChrome||void 0,a.isEdge=parseFloat(ot.split(" Edge/")[1])||void 0,a.isAIR=ot.indexOf("AdobeAIR")>=0,a.isAndroid=ot.indexOf("Android")>=0,a.isChromeOS=ot.indexOf(" CrOS ")>=0,a.isIOS=/iPad|iPhone|iPod/.test(ot)&&!window.MSStream,a.isIOS&&(a.isMac=!0),a.isMobile=a.isIOS||a.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(o,a,tt){var _e=o("./useragent"),st="http://www.w3.org/1999/xhtml";a.buildDom=function $(et,nt,at){if(typeof et=="string"&&et){var ct=document.createTextNode(et);return nt&&nt.appendChild(ct),ct}if(!Array.isArray(et))return et&&et.appendChild&&nt&&nt.appendChild(et),et;if(typeof et[0]!="string"||!et[0]){for(var ht=[],ut=0;ut<et.length;ut++){var dt=$(et[ut],nt,at);dt&&ht.push(dt)}return ht}var mt=document.createElement(et[0]),gt=et[1],lt=1;gt&&typeof gt=="object"&&!Array.isArray(gt)&&(lt=2);for(var ut=lt;ut<et.length;ut++)$(et[ut],mt,at);return lt==2&&Object.keys(gt).forEach(function(St){var xt=gt[St];St==="class"?mt.className=Array.isArray(xt)?xt.join(" "):xt:typeof xt=="function"||St=="value"||St[0]=="$"?mt[St]=xt:St==="ref"?at&&(at[xt]=mt):St==="style"?typeof xt=="string"&&(mt.style.cssText=xt):xt!=null&&mt.setAttribute(St,xt)}),nt&&nt.appendChild(mt),mt},a.getDocumentHead=function($){return $||($=document),$.head||$.getElementsByTagName("head")[0]||$.documentElement},a.createElement=function($,et){return document.createElementNS?document.createElementNS(et||st,$):document.createElement($)},a.removeChildren=function($){$.innerHTML=""},a.createTextNode=function($,et){var nt=et?et.ownerDocument:document;return nt.createTextNode($)},a.createFragment=function($){var et=$?$.ownerDocument:document;return et.createDocumentFragment()},a.hasCssClass=function($,et){var nt=($.className+"").split(/\s+/g);return nt.indexOf(et)!==-1},a.addCssClass=function($,et){a.hasCssClass($,et)||($.className+=" "+et)},a.removeCssClass=function($,et){for(var nt=$.className.split(/\s+/g);;){var at=nt.indexOf(et);if(at==-1)break;nt.splice(at,1)}$.className=nt.join(" ")},a.toggleCssClass=function($,et){for(var nt=$.className.split(/\s+/g),at=!0;;){var ct=nt.indexOf(et);if(ct==-1)break;at=!1,nt.splice(ct,1)}return at&&nt.push(et),$.className=nt.join(" "),at},a.setCssClass=function($,et,nt){nt?a.addCssClass($,et):a.removeCssClass($,et)},a.hasCssString=function($,et){var nt=0,at;if(et=et||document,at=et.querySelectorAll("style")){for(;nt<at.length;)if(at[nt++].id===$)return!0}},a.removeElementById=function($,et){et=et||document,et.getElementById($)&&et.getElementById($).remove()};var ot,rt=[];a.useStrictCSP=function($){ot=$,$==!1?it():rt||(rt=[])};function it(){var $=rt;rt=null,$&&$.forEach(function(et){j(et[0],et[1])})}function j($,et,nt){if(!(typeof document>"u")){if(rt){if(nt)it();else if(nt===!1)return rt.push([$,et])}if(!ot){var at=nt;!nt||!nt.getRootNode?at=document:(at=nt.getRootNode(),(!at||at==nt)&&(at=document));var ct=at.ownerDocument||at;if(et&&a.hasCssString(et,at))return null;et&&($+=`
/*# sourceURL=ace/css/`+et+" */");var ht=a.createElement("style");ht.appendChild(ct.createTextNode($)),et&&(ht.id=et),at==ct&&(at=a.getDocumentHead(ct)),at.insertBefore(ht,at.firstChild)}}}if(a.importCssString=j,a.importCssStylsheet=function($,et){a.buildDom(["link",{rel:"stylesheet",href:$}],a.getDocumentHead(et))},a.scrollbarWidth=function($){var et=a.createElement("ace_inner");et.style.width="100%",et.style.minWidth="0px",et.style.height="200px",et.style.display="block";var nt=a.createElement("ace_outer"),at=nt.style;at.position="absolute",at.left="-10000px",at.overflow="hidden",at.width="200px",at.minWidth="0px",at.height="150px",at.display="block",nt.appendChild(et);var ct=$&&$.documentElement||document&&document.documentElement;if(!ct)return 0;ct.appendChild(nt);var ht=et.offsetWidth;at.overflow="scroll";var ut=et.offsetWidth;return ht===ut&&(ut=nt.clientWidth),ct.removeChild(nt),ht-ut},a.computedStyle=function($,et){return window.getComputedStyle($,"")||{}},a.setStyle=function($,et,nt){$[et]!==nt&&($[et]=nt)},a.HAS_CSS_ANIMATION=!1,a.HAS_CSS_TRANSFORMS=!1,a.HI_DPI=_e.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,_e.isChromeOS&&(a.HI_DPI=!1),typeof document<"u"){var _=document.createElement("div");a.HI_DPI&&_.style.transform!==void 0&&(a.HAS_CSS_TRANSFORMS=!0),!_e.isEdge&&typeof _.style.animationName<"u"&&(a.HAS_CSS_ANIMATION=!0),_=null}a.HAS_CSS_TRANSFORMS?a.translate=function($,et,nt){$.style.transform="translate("+Math.round(et)+"px, "+Math.round(nt)+"px)"}:a.translate=function($,et,nt){$.style.top=Math.round(nt)+"px",$.style.left=Math.round(et)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(o,a,tt){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var _e=o("./dom");a.get=function(st,ot){var rt=new XMLHttpRequest;rt.open("GET",st,!0),rt.onreadystatechange=function(){rt.readyState===4&&ot(rt.responseText)},rt.send(null)},a.loadScript=function(st,ot){var rt=_e.getDocumentHead(),it=document.createElement("script");it.src=st,rt.appendChild(it),it.onload=it.onreadystatechange=function(j,_){(_||!it.readyState||it.readyState=="loaded"||it.readyState=="complete")&&(it=it.onload=it.onreadystatechange=null,_||ot())}},a.qualifyURL=function(st){var ot=document.createElement("a");return ot.href=st,ot.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(o,a,tt){a.inherits=function(_e,st){_e.super_=st,_e.prototype=Object.create(st.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}})},a.mixin=function(_e,st){for(var ot in st)_e[ot]=st[ot];return _e},a.implement=function(_e,st){a.mixin(_e,st)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(o,a,tt){var _e={},st=function(){this.propagationStopped=!0},ot=function(){this.defaultPrevented=!0};_e._emit=_e._dispatchEvent=function(rt,it){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var j=this._eventRegistry[rt]||[],_=this._defaultHandlers[rt];if(!(!j.length&&!_)){(typeof it!="object"||!it)&&(it={}),it.type||(it.type=rt),it.stopPropagation||(it.stopPropagation=st),it.preventDefault||(it.preventDefault=ot),j=j.slice();for(var $=0;$<j.length&&(j[$](it,this),!it.propagationStopped);$++);if(_&&!it.defaultPrevented)return _(it,this)}},_e._signal=function(rt,it){var j=(this._eventRegistry||{})[rt];if(j){j=j.slice();for(var _=0;_<j.length;_++)j[_](it,this)}},_e.once=function(rt,it){var j=this;if(this.on(rt,function _(){j.off(rt,_),it.apply(null,arguments)}),!it)return new Promise(function(_){it=_})},_e.setDefaultHandler=function(rt,it){var j=this._defaultHandlers;if(j||(j=this._defaultHandlers={_disabled_:{}}),j[rt]){var _=j[rt],$=j._disabled_[rt];$||(j._disabled_[rt]=$=[]),$.push(_);var et=$.indexOf(it);et!=-1&&$.splice(et,1)}j[rt]=it},_e.removeDefaultHandler=function(rt,it){var j=this._defaultHandlers;if(j){var _=j._disabled_[rt];if(j[rt]==it)_&&this.setDefaultHandler(rt,_.pop());else if(_){var $=_.indexOf(it);$!=-1&&_.splice($,1)}}},_e.on=_e.addEventListener=function(rt,it,j){this._eventRegistry=this._eventRegistry||{};var _=this._eventRegistry[rt];return _||(_=this._eventRegistry[rt]=[]),_.indexOf(it)==-1&&_[j?"unshift":"push"](it),it},_e.off=_e.removeListener=_e.removeEventListener=function(rt,it){this._eventRegistry=this._eventRegistry||{};var j=this._eventRegistry[rt];if(j){var _=j.indexOf(it);_!==-1&&j.splice(_,1)}},_e.removeAllListeners=function(rt){rt||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[rt]=void 0),this._defaultHandlers&&(this._defaultHandlers[rt]=void 0)},a.EventEmitter=_e}),ace.define("ace/lib/report_error",["require","exports","module"],function(o,a,tt){a.reportError=function(st,ot){var rt=new Error(st);rt.data=ot,typeof console=="object"&&console.error&&console.error(rt),setTimeout(function(){throw rt})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(o,a,tt){var _e={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};a.defaultEnglishMessages=_e}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(o,a,tt){"no use strict";var _e=o("./oop"),st=o("./event_emitter").EventEmitter,ot=o("./report_error").reportError,rt=o("./default_english_messages").defaultEnglishMessages,it={setOptions:function(nt){Object.keys(nt).forEach(function(at){this.setOption(at,nt[at])},this)},getOptions:function(nt){var at={};if(nt)Array.isArray(nt)||(at=nt,nt=Object.keys(at));else{var ct=this.$options;nt=Object.keys(ct).filter(function(ht){return!ct[ht].hidden})}return nt.forEach(function(ht){at[ht]=this.getOption(ht)},this),at},setOption:function(nt,at){if(this["$"+nt]!==at){var ct=this.$options[nt];if(!ct)return j('misspelled option "'+nt+'"');if(ct.forwardTo)return this[ct.forwardTo]&&this[ct.forwardTo].setOption(nt,at);ct.handlesSet||(this["$"+nt]=at),ct&&ct.set&&ct.set.call(this,at)}},getOption:function(nt){var at=this.$options[nt];return at?at.forwardTo?this[at.forwardTo]&&this[at.forwardTo].getOption(nt):at&&at.get?at.get.call(this):this["$"+nt]:j('misspelled option "'+nt+'"')}};function j(nt){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var _,$,et=function(){function nt(){this.$defaultOptions={},_=rt,$="dollarSigns"}return nt.prototype.defineOptions=function(at,ct,ht){return at.$options||(this.$defaultOptions[ct]=at.$options={}),Object.keys(ht).forEach(function(ut){var dt=ht[ut];typeof dt=="string"&&(dt={forwardTo:dt}),dt.name||(dt.name=ut),at.$options[dt.name]=dt,"initialValue"in dt&&(at["$"+dt.name]=dt.initialValue)}),_e.implement(at,it),this},nt.prototype.resetOptions=function(at){Object.keys(at.$options).forEach(function(ct){var ht=at.$options[ct];"value"in ht&&at.setOption(ct,ht.value)})},nt.prototype.setDefaultValue=function(at,ct,ht){if(!at){for(at in this.$defaultOptions)if(this.$defaultOptions[at][ct])break;if(!this.$defaultOptions[at][ct])return!1}var ut=this.$defaultOptions[at]||(this.$defaultOptions[at]={});ut[ct]&&(ut.forwardTo?this.setDefaultValue(ut.forwardTo,ct,ht):ut[ct].value=ht)},nt.prototype.setDefaultValues=function(at,ct){Object.keys(ct).forEach(function(ht){this.setDefaultValue(at,ht,ct[ht])},this)},nt.prototype.setMessages=function(at,ct){_=at,ct&&ct.placeholders&&($=ct.placeholders)},nt.prototype.nls=function(at,ct,ht){_[at]||(j("No message found for the key '"+at+"' in the provided messages, trying to find a translation for the default string '"+ct+"'."),_[ct]||j("No message found for the default string '"+ct+"' in the provided messages. Falling back to the default English message."));var ut=_[at]||_[ct]||ct;return ht&&($==="dollarSigns"&&(ut=ut.replace(/\$(\$|[\d]+)/g,function(dt,mt){return mt=="$"?"$":ht[mt]})),$==="curlyBrackets"&&(ut=ut.replace(/\{([^\}]+)\}/g,function(dt,mt){return ht[mt]}))),ut},nt}();et.prototype.warn=j,et.prototype.reportError=ot,_e.implement(et.prototype,st),a.AppConfig=et}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(o,a,tt){tt.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(o,a,tt){a.isDark=!1,a.cssClass="ace-tm",a.cssText=o("./textmate-css"),a.$id="ace/theme/textmate";var _e=o("../lib/dom");_e.importCssString(a.cssText,a.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(o,a,tt){"no use strict";var _e=o("./lib/lang"),st=o("./lib/net"),ot=o("./lib/dom"),rt=o("./lib/app_config").AppConfig;tt.exports=a=new rt;var it={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};a.get=function(et){if(!it.hasOwnProperty(et))throw new Error("Unknown config key: "+et);return it[et]},a.set=function(et,nt){if(it.hasOwnProperty(et))it[et]=nt;else if(this.setDefaultValue("",et,nt)==!1)throw new Error("Unknown config key: "+et);et=="useStrictCSP"&&ot.useStrictCSP(nt)},a.all=function(){return _e.copyObject(it)},a.$modes={},a.moduleUrl=function(et,nt){if(it.$moduleUrls[et])return it.$moduleUrls[et];var at=et.split("/");nt=nt||at[at.length-2]||"";var ct=nt=="snippets"?"/":"-",ht=at[at.length-1];if(nt=="worker"&&ct=="-"){var ut=new RegExp("^"+nt+"[\\-_]|[\\-_]"+nt+"$","g");ht=ht.replace(ut,"")}(!ht||ht==nt)&&at.length>1&&(ht=at[at.length-2]);var dt=it[nt+"Path"];return dt==null?dt=it.basePath:ct=="/"&&(nt=ct=""),dt&&dt.slice(-1)!="/"&&(dt+="/"),dt+nt+ct+ht+this.get("suffix")},a.setModuleUrl=function(et,nt){return it.$moduleUrls[et]=nt};var j=function(et,nt){if(et==="ace/theme/textmate"||et==="./theme/textmate")return nt(null,o("./theme/textmate"));if(_)return _(et,nt);console.error("loader is not configured")},_;a.setLoader=function(et){_=et},a.dynamicModules=Object.create(null),a.$loading={},a.$loaded={},a.loadModule=function(et,nt){var at;if(Array.isArray(et))var ct=et[0],ht=et[1];else if(typeof et=="string")var ht=et;var ut=function(dt){if(dt&&!a.$loading[ht])return nt&&nt(dt);if(a.$loading[ht]||(a.$loading[ht]=[]),a.$loading[ht].push(nt),!(a.$loading[ht].length>1)){var mt=function(){j(ht,function(gt,lt){lt&&(a.$loaded[ht]=lt),a._emit("load.module",{name:ht,module:lt});var St=a.$loading[ht];a.$loading[ht]=null,St.forEach(function(xt){xt&&xt(lt)})})};if(!a.get("packaged"))return mt();st.loadScript(a.moduleUrl(ht,ct),mt),$()}};if(a.dynamicModules[ht])a.dynamicModules[ht]().then(function(dt){dt.default?ut(dt.default):ut(dt)});else{try{at=this.$require(ht)}catch{}ut(at||a.$loaded[ht])}},a.$require=function(et){if(typeof tt.require=="function"){var nt="require";return tt[nt](et)}},a.setModuleLoader=function(et,nt){a.dynamicModules[et]=nt};var $=function(){!it.basePath&&!it.workerPath&&!it.modePath&&!it.themePath&&!Object.keys(it.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),$=function(){})};a.version="1.36.4"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(o,a,tt){o("./lib/fixoldbrowsers");var _e=o("./config");_e.setLoader(function(it,j){o([it],function(_){j(null,_)})});var st=function(){return this||typeof window<"u"&&window}();tt.exports=function(it){_e.init=ot,_e.$require=o,it.require=o},ot(!0);function ot(it){if(!(!st||!st.document)){_e.set("packaged",it||o.packaged||tt.packaged||st.define&&(void 0).packaged);var j={},_="",$=document.currentScript||document._currentScript,et=$&&$.ownerDocument||document;$&&$.src&&(_=$.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var nt=et.getElementsByTagName("script"),at=0;at<nt.length;at++){var ct=nt[at],ht=ct.src||ct.getAttribute("src");if(ht){for(var ut=ct.attributes,dt=0,mt=ut.length;dt<mt;dt++){var gt=ut[dt];gt.name.indexOf("data-ace-")===0&&(j[rt(gt.name.replace(/^data-ace-/,""))]=gt.value)}var lt=ht.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);lt&&(_=lt[1])}}_&&(j.base=j.base||_,j.packaged=!0),j.basePath=j.base,j.workerPath=j.workerPath||j.base,j.modePath=j.modePath||j.base,j.themePath=j.themePath||j.base,delete j.base;for(var St in j)typeof j[St]<"u"&&_e.set(St,j[St])}}function rt(it){return it.replace(/-(.)/g,function(j,_){return _.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(o,a,tt){var _e=function(){function st(ot,rt,it,j){this.start={row:ot,column:rt},this.end={row:it,column:j}}return st.prototype.isEqual=function(ot){return this.start.row===ot.start.row&&this.end.row===ot.end.row&&this.start.column===ot.start.column&&this.end.column===ot.end.column},st.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},st.prototype.contains=function(ot,rt){return this.compare(ot,rt)==0},st.prototype.compareRange=function(ot){var rt,it=ot.end,j=ot.start;return rt=this.compare(it.row,it.column),rt==1?(rt=this.compare(j.row,j.column),rt==1?2:rt==0?1:0):rt==-1?-2:(rt=this.compare(j.row,j.column),rt==-1?-1:rt==1?42:0)},st.prototype.comparePoint=function(ot){return this.compare(ot.row,ot.column)},st.prototype.containsRange=function(ot){return this.comparePoint(ot.start)==0&&this.comparePoint(ot.end)==0},st.prototype.intersects=function(ot){var rt=this.compareRange(ot);return rt==-1||rt==0||rt==1},st.prototype.isEnd=function(ot,rt){return this.end.row==ot&&this.end.column==rt},st.prototype.isStart=function(ot,rt){return this.start.row==ot&&this.start.column==rt},st.prototype.setStart=function(ot,rt){typeof ot=="object"?(this.start.column=ot.column,this.start.row=ot.row):(this.start.row=ot,this.start.column=rt)},st.prototype.setEnd=function(ot,rt){typeof ot=="object"?(this.end.column=ot.column,this.end.row=ot.row):(this.end.row=ot,this.end.column=rt)},st.prototype.inside=function(ot,rt){return this.compare(ot,rt)==0?!(this.isEnd(ot,rt)||this.isStart(ot,rt)):!1},st.prototype.insideStart=function(ot,rt){return this.compare(ot,rt)==0?!this.isEnd(ot,rt):!1},st.prototype.insideEnd=function(ot,rt){return this.compare(ot,rt)==0?!this.isStart(ot,rt):!1},st.prototype.compare=function(ot,rt){return!this.isMultiLine()&&ot===this.start.row?rt<this.start.column?-1:rt>this.end.column?1:0:ot<this.start.row?-1:ot>this.end.row?1:this.start.row===ot?rt>=this.start.column?0:-1:this.end.row===ot?rt<=this.end.column?0:1:0},st.prototype.compareStart=function(ot,rt){return this.start.row==ot&&this.start.column==rt?-1:this.compare(ot,rt)},st.prototype.compareEnd=function(ot,rt){return this.end.row==ot&&this.end.column==rt?1:this.compare(ot,rt)},st.prototype.compareInside=function(ot,rt){return this.end.row==ot&&this.end.column==rt?1:this.start.row==ot&&this.start.column==rt?-1:this.compare(ot,rt)},st.prototype.clipRows=function(ot,rt){if(this.end.row>rt)var it={row:rt+1,column:0};else if(this.end.row<ot)var it={row:ot,column:0};if(this.start.row>rt)var j={row:rt+1,column:0};else if(this.start.row<ot)var j={row:ot,column:0};return st.fromPoints(j||this.start,it||this.end)},st.prototype.extend=function(ot,rt){var it=this.compare(ot,rt);if(it==0)return this;if(it==-1)var j={row:ot,column:rt};else var _={row:ot,column:rt};return st.fromPoints(j||this.start,_||this.end)},st.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},st.prototype.isMultiLine=function(){return this.start.row!==this.end.row},st.prototype.clone=function(){return st.fromPoints(this.start,this.end)},st.prototype.collapseRows=function(){return this.end.column==0?new st(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new st(this.start.row,0,this.end.row,0)},st.prototype.toScreenRange=function(ot){var rt=ot.documentToScreenPosition(this.start),it=ot.documentToScreenPosition(this.end);return new st(rt.row,rt.column,it.row,it.column)},st.prototype.moveBy=function(ot,rt){this.start.row+=ot,this.start.column+=rt,this.end.row+=ot,this.end.column+=rt},st}();_e.fromPoints=function(st,ot){return new _e(st.row,st.column,ot.row,ot.column)},_e.comparePoints=function(st,ot){return st.row-ot.row||st.column-ot.column},a.Range=_e}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(o,a,tt){for(var _e=o("./oop"),st={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},ot={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},rt=0;rt<10;rt++)ot["Digit"+rt]=48+rt,ot["Numpad"+rt]=96+rt,st.PRINTABLE_KEYS[48+rt]=""+rt,st.FUNCTION_KEYS[96+rt]="Numpad"+rt;for(var rt=65;rt<91;rt++){var it=String.fromCharCode(rt+32);ot["Key"+it.toUpperCase()]=rt,st.PRINTABLE_KEYS[rt]=it}for(var rt=1;rt<13;rt++)ot["F"+rt]=111+rt,st.FUNCTION_KEYS[111+rt]="F"+rt;var j={Shift:16,Control:17,Alt:18,Meta:224};for(var _ in j)ot[_]=ot[_+"Left"]=ot[_+"Right"]=j[_];a.$codeToKeyCode=ot,st.PRINTABLE_KEYS[173]="-";for(var $ in st.FUNCTION_KEYS){var et=st.FUNCTION_KEYS[$].toLowerCase();st[et]=parseInt($,10)}for(var $ in st.PRINTABLE_KEYS){var et=st.PRINTABLE_KEYS[$].toLowerCase();st[et]=parseInt($,10)}_e.mixin(st,st.MODIFIER_KEYS),_e.mixin(st,st.PRINTABLE_KEYS),_e.mixin(st,st.FUNCTION_KEYS),st.enter=st.return,st.escape=st.esc,st.del=st.delete,function(){for(var nt=["cmd","ctrl","alt","shift"],at=Math.pow(2,nt.length);at--;)st.KEY_MODS[at]=nt.filter(function(ct){return at&st.KEY_MODS[ct]}).join("-")+"-"}(),st.KEY_MODS[0]="",st.KEY_MODS[-1]="input-",_e.mixin(a,st),a.default=a,a.keyCodeToString=function(nt){var at=st[nt];return typeof at!="string"&&(at=String.fromCharCode(nt)),at.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(o,a,tt){var _e=o("./keys"),st=o("./useragent"),ot=null,rt=0,it;function j(){it=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return it={passive:!1},!0}})}catch{}}function _(){return it==null&&j(),it}function $(dt,mt,gt){this.elem=dt,this.type=mt,this.callback=gt}$.prototype.destroy=function(){nt(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var et=a.addListener=function(dt,mt,gt,lt){dt.addEventListener(mt,gt,_()),lt&&lt.$toDestroy.push(new $(dt,mt,gt))},nt=a.removeListener=function(dt,mt,gt){dt.removeEventListener(mt,gt,_())};a.stopEvent=function(dt){return a.stopPropagation(dt),a.preventDefault(dt),!1},a.stopPropagation=function(dt){dt.stopPropagation&&dt.stopPropagation()},a.preventDefault=function(dt){dt.preventDefault&&dt.preventDefault()},a.getButton=function(dt){return dt.type=="dblclick"?0:dt.type=="contextmenu"||st.isMac&&dt.ctrlKey&&!dt.altKey&&!dt.shiftKey?2:dt.button},a.capture=function(dt,mt,gt){var lt=dt&&dt.ownerDocument||document;function St(xt){mt&&mt(xt),gt&&gt(xt),nt(lt,"mousemove",mt),nt(lt,"mouseup",St),nt(lt,"dragstart",St)}return et(lt,"mousemove",mt),et(lt,"mouseup",St),et(lt,"dragstart",St),St},a.addMouseWheelListener=function(dt,mt,gt){et(dt,"wheel",function(lt){var St=.15,xt=lt.deltaX||0,yt=lt.deltaY||0;switch(lt.deltaMode){case lt.DOM_DELTA_PIXEL:lt.wheelX=xt*St,lt.wheelY=yt*St;break;case lt.DOM_DELTA_LINE:var _t=15;lt.wheelX=xt*_t,lt.wheelY=yt*_t;break;case lt.DOM_DELTA_PAGE:var kt=150;lt.wheelX=xt*kt,lt.wheelY=yt*kt;break}mt(lt)},gt)},a.addMultiMouseDownListener=function(dt,mt,gt,lt,St){var xt=0,yt,_t,kt,Et={2:"dblclick",3:"tripleclick",4:"quadclick"};function $t(Tt){if(a.getButton(Tt)!==0?xt=0:Tt.detail>1?(xt++,xt>4&&(xt=1)):xt=1,st.isIE){var At=Math.abs(Tt.clientX-yt)>5||Math.abs(Tt.clientY-_t)>5;(!kt||At)&&(xt=1),kt&&clearTimeout(kt),kt=setTimeout(function(){kt=null},mt[xt-1]||600),xt==1&&(yt=Tt.clientX,_t=Tt.clientY)}if(Tt._clicks=xt,gt[lt]("mousedown",Tt),xt>4)xt=0;else if(xt>1)return gt[lt](Et[xt],Tt)}Array.isArray(dt)||(dt=[dt]),dt.forEach(function(Tt){et(Tt,"mousedown",$t,St)})};function at(dt){return 0|(dt.ctrlKey?1:0)|(dt.altKey?2:0)|(dt.shiftKey?4:0)|(dt.metaKey?8:0)}a.getModifierString=function(dt){return _e.KEY_MODS[at(dt)]};function ct(dt,mt,gt){var lt=at(mt);if(!gt&&mt.code&&(gt=_e.$codeToKeyCode[mt.code]||gt),!st.isMac&&ot){if(mt.getModifierState&&(mt.getModifierState("OS")||mt.getModifierState("Win"))&&(lt|=8),ot.altGr)if((3&lt)!=3)ot.altGr=0;else return;if(gt===18||gt===17){var St=mt.location;if(gt===17&&St===1)ot[gt]==1&&(rt=mt.timeStamp);else if(gt===18&&lt===3&&St===2){var xt=mt.timeStamp-rt;xt<50&&(ot.altGr=!0)}}}if(gt in _e.MODIFIER_KEYS&&(gt=-1),!(!lt&&gt===13&&mt.location===3&&(dt(mt,lt,-gt),mt.defaultPrevented))){if(st.isChromeOS&&lt&8){if(dt(mt,lt,gt),mt.defaultPrevented)return;lt&=-9}return!lt&&!(gt in _e.FUNCTION_KEYS)&&!(gt in _e.PRINTABLE_KEYS)?!1:dt(mt,lt,gt)}}a.addCommandKeyListener=function(dt,mt,gt){var lt=null;et(dt,"keydown",function(St){ot[St.keyCode]=(ot[St.keyCode]||0)+1;var xt=ct(mt,St,St.keyCode);return lt=St.defaultPrevented,xt},gt),et(dt,"keypress",function(St){lt&&(St.ctrlKey||St.altKey||St.shiftKey||St.metaKey)&&(a.stopEvent(St),lt=null)},gt),et(dt,"keyup",function(St){ot[St.keyCode]=null},gt),ot||(ht(),et(window,"focus",ht))};function ht(){ot=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!st.isOldIE){var ut=1;a.nextTick=function(dt,mt){mt=mt||window;var gt="zero-timeout-message-"+ut++,lt=function(St){St.data==gt&&(a.stopPropagation(St),nt(mt,"message",lt),dt())};et(mt,"message",lt),mt.postMessage(gt,"*")}}a.$idleBlocked=!1,a.onIdle=function(dt,mt){return setTimeout(function gt(){a.$idleBlocked?setTimeout(gt,100):dt()},mt)},a.$idleBlockId=null,a.blockIdle=function(dt){a.$idleBlockId&&clearTimeout(a.$idleBlockId),a.$idleBlocked=!0,a.$idleBlockId=setTimeout(function(){a.$idleBlocked=!1},dt||100)},a.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),a.nextFrame?a.nextFrame=a.nextFrame.bind(window):a.nextFrame=function(dt){setTimeout(dt,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(o,a,tt){var _e;tt.exports={lineMode:!1,pasteCancelled:function(){return _e&&_e>Date.now()-50?!0:_e=!1},cancel:function(){_e=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(o,a,tt){var _e=o("../lib/event"),st=o("../config").nls,ot=o("../lib/useragent"),rt=o("../lib/dom"),it=o("../lib/lang"),j=o("../clipboard"),_=ot.isChrome<18,$=ot.isIE,et=ot.isChrome>63,nt=400,at=o("../lib/keys"),ct=at.KEY_MODS,ht=ot.isIOS,ut=ht?/\s/:/\n/,dt=ot.isMobile,mt;mt=function(gt,lt){var St=rt.createElement("textarea");St.className="ace_text-input",St.setAttribute("wrap","off"),St.setAttribute("autocorrect","off"),St.setAttribute("autocapitalize","off"),St.setAttribute("spellcheck","false"),St.style.opacity="0",gt.insertBefore(St,gt.firstChild);var xt=!1,yt=!1,_t=!1,kt=!1,Et="";dt||(St.style.fontSize="1px");var $t=!1,Tt=!1,At="",Mt=0,Ot=0,Pt=0,Ft=Number.MAX_SAFE_INTEGER,zt=Number.MIN_SAFE_INTEGER,qt=0;try{var Gt=document.activeElement===St}catch{}this.setNumberOfExtraLines=function(wr){if(Ft=Number.MAX_SAFE_INTEGER,zt=Number.MIN_SAFE_INTEGER,wr<0){qt=0;return}qt=wr},this.setAriaLabel=function(){var wr="";if(lt.$textInputAriaLabel&&(wr+="".concat(lt.$textInputAriaLabel,", ")),lt.session){var zr=lt.session.selection.cursor.row;wr+=st("text-input.aria-label","Cursor at row $0",[zr+1])}St.setAttribute("aria-label",wr)},this.setAriaOptions=function(wr){wr.activeDescendant?(St.setAttribute("aria-haspopup","true"),St.setAttribute("aria-autocomplete",wr.inline?"both":"list"),St.setAttribute("aria-activedescendant",wr.activeDescendant)):(St.setAttribute("aria-haspopup","false"),St.setAttribute("aria-autocomplete","both"),St.removeAttribute("aria-activedescendant")),wr.role&&St.setAttribute("role",wr.role),wr.setLabel&&(St.setAttribute("aria-roledescription",st("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),_e.addListener(St,"blur",function(wr){Tt||(lt.onBlur(wr),Gt=!1)},lt),_e.addListener(St,"focus",function(wr){if(!Tt){if(Gt=!0,ot.isEdge)try{if(!document.hasFocus())return}catch{}lt.onFocus(wr),ot.isEdge?setTimeout(Xt):Xt()}},lt),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:lt.renderer.enableKeyboardAccessibility}),Et||et||this.$focusScroll=="browser")return St.focus({preventScroll:!0});var wr=St.style.top;St.style.position="fixed",St.style.top="0px";try{var zr=St.getBoundingClientRect().top!=0}catch{return}var $r=[];if(zr)for(var hn=St.parentElement;hn&&hn.nodeType==1;)$r.push(hn),hn.setAttribute("ace_nocontext","true"),!hn.parentElement&&hn.getRootNode?hn=hn.getRootNode().host:hn=hn.parentElement;St.focus({preventScroll:!0}),zr&&$r.forEach(function(Jt){Jt.removeAttribute("ace_nocontext")}),setTimeout(function(){St.style.position="",St.style.top=="0px"&&(St.style.top=wr)},0)},this.blur=function(){St.blur()},this.isFocused=function(){return Gt},lt.on("beforeEndOperation",function(){var wr=lt.curOp,zr=wr&&wr.command&&wr.command.name;if(zr!="insertstring"){var $r=zr&&(wr.docChanged||wr.selectionChanged);_t&&$r&&(At=St.value="",Jr()),Xt()}}),lt.on("changeSelection",this.setAriaLabel);var Wt=function(wr,zr){for(var $r=zr,hn=1;hn<=wr-Ft&&hn<2*qt+1;hn++)$r+=lt.session.getLine(wr-hn).length+1;return $r},Xt=ht?function(wr){if(!(!Gt||xt&&!wr||kt)){wr||(wr="");var zr=`
 ab`+wr+`cde fg
`;zr!=St.value&&(St.value=At=zr);var $r=4,hn=4+(wr.length||(lt.selection.isEmpty()?0:1));(Mt!=$r||Ot!=hn)&&St.setSelectionRange($r,hn),Mt=$r,Ot=hn}}:function(){if(!(_t||kt)&&!(!Gt&&!yr)){_t=!0;var wr=0,zr=0,$r="";if(lt.session){var hn=lt.selection,Jt=hn.getRange(),Kt=hn.cursor.row;Kt===zt+1?(Ft=zt+1,zt=Ft+2*qt):Kt===Ft-1?(zt=Ft-1,Ft=zt-2*qt):(Kt<Ft-1||Kt>zt+1)&&(Ft=Kt>qt?Kt-qt:0,zt=Kt>qt?Kt+qt:2*qt);for(var hr=[],Pr=Ft;Pr<=zt;Pr++)hr.push(lt.session.getLine(Pr));if($r=hr.join(`
`),wr=Wt(Jt.start.row,Jt.start.column),zr=Wt(Jt.end.row,Jt.end.column),Jt.start.row<Ft){var jr=lt.session.getLine(Ft-1);wr=Jt.start.row<Ft-1?0:wr,zr+=jr.length+1,$r=jr+`
`+$r}else if(Jt.end.row>zt){var kr=lt.session.getLine(zt+1);zr=Jt.end.row>zt+1?kr.length:Jt.end.column,zr+=$r.length+1,$r=$r+`
`+kr}else dt&&Kt>0&&($r=`
`+$r,zr+=1,wr+=1);$r.length>nt&&(wr<nt&&zr<nt?$r=$r.slice(0,nt):($r=`
`,wr==zr?wr=zr=0:(wr=0,zr=1)));var Ar=$r+`

`;Ar!=At&&(St.value=At=Ar,Mt=Ot=Ar.length)}if(yr&&(Mt=St.selectionStart,Ot=St.selectionEnd),Ot!=zr||Mt!=wr||St.selectionEnd!=Ot)try{St.setSelectionRange(wr,zr),Mt=wr,Ot=zr}catch{}_t=!1}};this.resetSelection=Xt,Gt&&lt.onFocus();var rr=function(wr){return wr.selectionStart===0&&wr.selectionEnd>=At.length&&wr.value===At&&At&&wr.selectionEnd!==Ot},tr=function(wr){_t||(xt?xt=!1:rr(St)?(lt.selectAll(),Xt()):dt&&St.selectionStart!=Mt&&Xt())},mr=null;this.setInputHandler=function(wr){mr=wr},this.getInputHandler=function(){return mr};var yr=!1,xr=function(wr,zr){if(yr&&(yr=!1),yt)return Xt(),wr&&lt.onPaste(wr),yt=!1,"";for(var $r=St.selectionStart,hn=St.selectionEnd,Jt=Mt,Kt=At.length-Ot,hr=wr,Pr=wr.length-$r,jr=wr.length-hn,kr=0;Jt>0&&At[kr]==wr[kr];)kr++,Jt--;for(hr=hr.slice(kr),kr=1;Kt>0&&At.length-kr>Mt-1&&At[At.length-kr]==wr[wr.length-kr];)kr++,Kt--;Pr-=kr-1,jr-=kr-1;var Ar=hr.length-kr+1;if(Ar<0&&(Jt=-Ar,Ar=0),hr=hr.slice(0,Ar),!zr&&!hr&&!Pr&&!Jt&&!Kt&&!jr)return"";kt=!0;var Yr=!1;return ot.isAndroid&&hr==". "&&(hr="  ",Yr=!0),hr&&!Jt&&!Kt&&!Pr&&!jr||$t?lt.onTextInput(hr):lt.onTextInput(hr,{extendLeft:Jt,extendRight:Kt,restoreStart:Pr,restoreEnd:jr}),kt=!1,At=wr,Mt=$r,Ot=hn,Pt=jr,Yr?`
`:hr},vr=function(wr){if(_t)return Wr();if(wr&&wr.inputType){if(wr.inputType=="historyUndo")return lt.execCommand("undo");if(wr.inputType=="historyRedo")return lt.execCommand("redo")}var zr=St.value,$r=xr(zr,!0);(zr.length>nt+100||ut.test($r)||dt&&Mt<1&&Mt==Ot)&&Xt()},ir=function(wr,zr,$r){var hn=wr.clipboardData||window.clipboardData;if(!(!hn||_)){var Jt=$||$r?"Text":"text/plain";try{return zr?hn.setData(Jt,zr)!==!1:hn.getData(Jt)}catch(Kt){if(!$r)return ir(Kt,zr,!0)}}},sr=function(wr,zr){var $r=lt.getCopyText();if(!$r)return _e.preventDefault(wr);ir(wr,$r)?(ht&&(Xt($r),xt=$r,setTimeout(function(){xt=!1},10)),zr?lt.onCut():lt.onCopy(),_e.preventDefault(wr)):(xt=!0,St.value=$r,St.select(),setTimeout(function(){xt=!1,Xt(),zr?lt.onCut():lt.onCopy()}))},er=function(wr){sr(wr,!0)},Tr=function(wr){sr(wr,!1)},Cr=function(wr){var zr=ir(wr);j.pasteCancelled()||(typeof zr=="string"?(zr&&lt.onPaste(zr,wr),ot.isIE&&setTimeout(Xt),_e.preventDefault(wr)):(St.value="",yt=!0))};_e.addCommandKeyListener(St,function(wr,zr,$r){if(!_t)return lt.onCommandKey(wr,zr,$r)},lt),_e.addListener(St,"select",tr,lt),_e.addListener(St,"input",vr,lt),_e.addListener(St,"cut",er,lt),_e.addListener(St,"copy",Tr,lt),_e.addListener(St,"paste",Cr,lt),(!("oncut"in St)||!("oncopy"in St)||!("onpaste"in St))&&_e.addListener(gt,"keydown",function(wr){if(!(ot.isMac&&!wr.metaKey||!wr.ctrlKey))switch(wr.keyCode){case 67:Tr(wr);break;case 86:Cr(wr);break;case 88:er(wr);break}},lt);var dr=function(wr){if(!(_t||!lt.onCompositionStart||lt.$readOnly)&&(_t={},!$t)){wr.data&&(_t.useTextareaForIME=!1),setTimeout(Wr,0),lt._signal("compositionStart"),lt.on("mousedown",nn);var zr=lt.getSelectionRange();zr.end.row=zr.start.row,zr.end.column=zr.start.column,_t.markerRange=zr,_t.selectionStart=Mt,lt.onCompositionStart(_t),_t.useTextareaForIME?(At=St.value="",Mt=0,Ot=0):(St.msGetInputContext&&(_t.context=St.msGetInputContext()),St.getInputContext&&(_t.context=St.getInputContext()))}},Wr=function(){if(!(!_t||!lt.onCompositionUpdate||lt.$readOnly)){if($t)return nn();if(_t.useTextareaForIME)lt.onCompositionUpdate(St.value);else{var wr=St.value;xr(wr),_t.markerRange&&(_t.context&&(_t.markerRange.start.column=_t.selectionStart=_t.context.compositionStartOffset),_t.markerRange.end.column=_t.markerRange.start.column+Ot-_t.selectionStart+Pt)}}},Jr=function(wr){!lt.onCompositionEnd||lt.$readOnly||(_t=!1,lt.onCompositionEnd(),lt.off("mousedown",nn),wr&&vr())};function nn(){Tt=!0,St.blur(),St.focus(),Tt=!1}var Cn=it.delayedCall(Wr,50).schedule.bind(null,null);function Vn(wr){wr.keyCode==27&&St.value.length<St.selectionStart&&(_t||(At=St.value),Mt=Ot=-1,Xt()),Cn()}_e.addListener(St,"compositionstart",dr,lt),_e.addListener(St,"compositionupdate",Wr,lt),_e.addListener(St,"keyup",Vn,lt),_e.addListener(St,"keydown",Cn,lt),_e.addListener(St,"compositionend",Jr,lt),this.getElement=function(){return St},this.setCommandMode=function(wr){$t=wr,St.readOnly=!1},this.setReadOnly=function(wr){$t||(St.readOnly=wr)},this.setCopyWithEmptySelection=function(wr){},this.onContextMenu=function(wr){yr=!0,Xt(),lt._emit("nativecontextmenu",{target:lt,domEvent:wr}),this.moveToMouse(wr,!0)},this.moveToMouse=function(wr,zr){Et||(Et=St.style.cssText),St.style.cssText=(zr?"z-index:100000;":"")+(ot.isIE?"opacity:0.1;":"")+"text-indent: -"+(Mt+Ot)*lt.renderer.characterWidth*.5+"px;";var $r=lt.container.getBoundingClientRect(),hn=rt.computedStyle(lt.container),Jt=$r.top+(parseInt(hn.borderTopWidth)||0),Kt=$r.left+(parseInt($r.borderLeftWidth)||0),hr=$r.bottom-Jt-St.clientHeight-2,Pr=function(jr){rt.translate(St,jr.clientX-Kt-2,Math.min(jr.clientY-Jt-2,hr))};Pr(wr),wr.type=="mousedown"&&(lt.renderer.$isMousePressed=!0,clearTimeout(An),ot.isWin&&_e.capture(lt.container,Pr,pn))},this.onContextMenuClose=pn;var An;function pn(){clearTimeout(An),An=setTimeout(function(){Et&&(St.style.cssText=Et,Et=""),lt.renderer.$isMousePressed=!1,lt.renderer.$keepTextAreaAtCursor&&lt.renderer.$moveTextAreaToCursor()},0)}var Kn=function(wr){lt.textInput.onContextMenu(wr),pn()};_e.addListener(St,"mouseup",Kn,lt),_e.addListener(St,"mousedown",function(wr){wr.preventDefault(),pn()},lt),_e.addListener(lt.renderer.scroller,"contextmenu",Kn,lt),_e.addListener(St,"contextmenu",Kn,lt),ht&&Pn(gt,lt,St);function Pn(wr,zr,$r){var hn=null,Jt=!1;$r.addEventListener("keydown",function(hr){hn&&clearTimeout(hn),Jt=!0},!0),$r.addEventListener("keyup",function(hr){hn=setTimeout(function(){Jt=!1},100)},!0);var Kt=function(hr){if(document.activeElement===$r&&!(Jt||_t||zr.$mouseHandler.isMousePressed)&&!xt){var Pr=$r.selectionStart,jr=$r.selectionEnd,kr=null,Ar=0;if(Pr==0?kr=at.up:Pr==1?kr=at.home:jr>Ot&&At[jr]==`
`?kr=at.end:Pr<Mt&&At[Pr-1]==" "?(kr=at.left,Ar=ct.option):Pr<Mt||Pr==Mt&&Ot!=Mt&&Pr==jr?kr=at.left:jr>Ot&&At.slice(0,jr).split(`
`).length>2?kr=at.down:jr>Ot&&At[jr-1]==" "?(kr=at.right,Ar=ct.option):(jr>Ot||jr==Ot&&Ot!=Mt&&Pr==jr)&&(kr=at.right),Pr!==jr&&(Ar|=ct.shift),kr){var Yr=zr.onCommandKey({},Ar,kr);if(!Yr&&zr.commands){kr=at.keyCodeToString(kr);var un=zr.commands.findKeyCommand(Ar,kr);un&&zr.execCommand(un)}Mt=Pr,Ot=jr,Xt("")}}};document.addEventListener("selectionchange",Kt),zr.on("destroy",function(){document.removeEventListener("selectionchange",Kt)})}this.destroy=function(){St.parentElement&&St.parentElement.removeChild(St)}},a.TextInput=mt,a.$setUserAgentForTests=function(gt,lt){dt=gt,ht=lt}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(o,a,tt){var _e=o("../lib/useragent"),st=0,ot=550,rt=function(){function _($){$.$clickSelection=null;var et=$.editor;et.setDefaultHandler("mousedown",this.onMouseDown.bind($)),et.setDefaultHandler("dblclick",this.onDoubleClick.bind($)),et.setDefaultHandler("tripleclick",this.onTripleClick.bind($)),et.setDefaultHandler("quadclick",this.onQuadClick.bind($)),et.setDefaultHandler("mousewheel",this.onMouseWheel.bind($));var nt=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];nt.forEach(function(at){$[at]=this[at]},this),$.selectByLines=this.extendSelectionBy.bind($,"getLineRange"),$.selectByWords=this.extendSelectionBy.bind($,"getWordRange")}return _.prototype.onMouseDown=function($){var et=$.inSelection(),nt=$.getDocumentPosition();this.mousedownEvent=$;var at=this.editor,ct=$.getButton();if(ct!==0){var ht=at.getSelectionRange(),ut=ht.isEmpty();(ut||ct==1)&&at.selection.moveToPosition(nt),ct==2&&(at.textInput.onContextMenu($.domEvent),_e.isMozilla||$.preventDefault());return}if(this.mousedownEvent.time=Date.now(),et&&!at.isFocused()&&(at.focus(),this.$focusTimeout&&!this.$clickSelection&&!at.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse($);return}return this.captureMouse($),this.startSelect(nt,$.domEvent._clicks>1),$.preventDefault()},_.prototype.startSelect=function($,et){$=$||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var nt=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?nt.selection.selectToPosition($):et||nt.selection.moveToPosition($),et||this.select(),nt.setStyle("ace_selecting"),this.setState("select"))},_.prototype.select=function(){var $,et=this.editor,nt=et.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var at=this.$clickSelection.comparePoint(nt);if(at==-1)$=this.$clickSelection.end;else if(at==1)$=this.$clickSelection.start;else{var ct=j(this.$clickSelection,nt);nt=ct.cursor,$=ct.anchor}et.selection.setSelectionAnchor($.row,$.column)}et.selection.selectToPosition(nt),et.renderer.scrollCursorIntoView()},_.prototype.extendSelectionBy=function($){var et,nt=this.editor,at=nt.renderer.screenToTextCoordinates(this.x,this.y),ct=nt.selection[$](at.row,at.column);if(this.$clickSelection){var ht=this.$clickSelection.comparePoint(ct.start),ut=this.$clickSelection.comparePoint(ct.end);if(ht==-1&&ut<=0)et=this.$clickSelection.end,(ct.end.row!=at.row||ct.end.column!=at.column)&&(at=ct.start);else if(ut==1&&ht>=0)et=this.$clickSelection.start,(ct.start.row!=at.row||ct.start.column!=at.column)&&(at=ct.end);else if(ht==-1&&ut==1)at=ct.end,et=ct.start;else{var dt=j(this.$clickSelection,at);at=dt.cursor,et=dt.anchor}nt.selection.setSelectionAnchor(et.row,et.column)}nt.selection.selectToPosition(at),nt.renderer.scrollCursorIntoView()},_.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},_.prototype.focusWait=function(){var $=it(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),et=Date.now();($>st||et-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},_.prototype.onDoubleClick=function($){var et=$.getDocumentPosition(),nt=this.editor,at=nt.session,ct=at.getBracketRange(et);ct?(ct.isEmpty()&&(ct.start.column--,ct.end.column++),this.setState("select")):(ct=nt.selection.getWordRange(et.row,et.column),this.setState("selectByWords")),this.$clickSelection=ct,this.select()},_.prototype.onTripleClick=function($){var et=$.getDocumentPosition(),nt=this.editor;this.setState("selectByLines");var at=nt.getSelectionRange();at.isMultiLine()&&at.contains(et.row,et.column)?(this.$clickSelection=nt.selection.getLineRange(at.start.row),this.$clickSelection.end=nt.selection.getLineRange(at.end.row).end):this.$clickSelection=nt.selection.getLineRange(et.row),this.select()},_.prototype.onQuadClick=function($){var et=this.editor;et.selectAll(),this.$clickSelection=et.getSelectionRange(),this.setState("selectAll")},_.prototype.onMouseWheel=function($){if(!$.getAccelKey()){$.getShiftKey()&&$.wheelY&&!$.wheelX&&($.wheelX=$.wheelY,$.wheelY=0);var et=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var nt=this.$lastScroll,at=$.domEvent.timeStamp,ct=at-nt.t,ht=ct?$.wheelX/ct:nt.vx,ut=ct?$.wheelY/ct:nt.vy;ct<ot&&(ht=(ht+nt.vx)/2,ut=(ut+nt.vy)/2);var dt=Math.abs(ht/ut),mt=!1;if(dt>=1&&et.renderer.isScrollableBy($.wheelX*$.speed,0)&&(mt=!0),dt<=1&&et.renderer.isScrollableBy(0,$.wheelY*$.speed)&&(mt=!0),mt)nt.allowed=at;else if(at-nt.allowed<ot){var gt=Math.abs(ht)<=1.5*Math.abs(nt.vx)&&Math.abs(ut)<=1.5*Math.abs(nt.vy);gt?(mt=!0,nt.allowed=at):nt.allowed=0}if(nt.t=at,nt.vx=ht,nt.vy=ut,mt)return et.renderer.scrollBy($.wheelX*$.speed,$.wheelY*$.speed),$.stop()}},_}();rt.prototype.selectEnd=rt.prototype.selectByLinesEnd,rt.prototype.selectAllEnd=rt.prototype.selectByLinesEnd,rt.prototype.selectByWordsEnd=rt.prototype.selectByLinesEnd,a.DefaultHandlers=rt;function it(_,$,et,nt){return Math.sqrt(Math.pow(et-_,2)+Math.pow(nt-$,2))}function j(_,$){if(_.start.row==_.end.row)var et=2*$.column-_.start.column-_.end.column;else if(_.start.row==_.end.row-1&&!_.start.column&&!_.end.column)var et=$.column-4;else var et=2*$.row-_.start.row-_.end.row;return et<0?{cursor:_.start,anchor:_.end}:{cursor:_.end,anchor:_.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(o,a,tt){a.preventParentScroll=function(st){st.stopPropagation();var ot=st.currentTarget,rt=ot.scrollHeight>ot.clientHeight;rt||st.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(o,a,tt){var _e=this&&this.__extends||function(){var at=function(ct,ht){return at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ut,dt){ut.__proto__=dt}||function(ut,dt){for(var mt in dt)Object.prototype.hasOwnProperty.call(dt,mt)&&(ut[mt]=dt[mt])},at(ct,ht)};return function(ct,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Class extends value "+String(ht)+" is not a constructor or null");at(ct,ht);function ut(){this.constructor=ct}ct.prototype=ht===null?Object.create(ht):(ut.prototype=ht.prototype,new ut)}}(),st=this&&this.__values||function(at){var ct=typeof Symbol=="function"&&Symbol.iterator,ht=ct&&at[ct],ut=0;if(ht)return ht.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&ut>=at.length&&(at=void 0),{value:at&&at[ut++],done:!at}}};throw new TypeError(ct?"Object is not iterable.":"Symbol.iterator is not defined.")},ot=o("./lib/dom");o("./lib/event");var rt=o("./range").Range,it=o("./lib/scroll").preventParentScroll,j="ace_tooltip",_=function(){function at(ct){this.isOpen=!1,this.$element=null,this.$parentNode=ct}return at.prototype.$init=function(){return this.$element=ot.createElement("div"),this.$element.className=j,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},at.prototype.getElement=function(){return this.$element||this.$init()},at.prototype.setText=function(ct){this.getElement().textContent=ct},at.prototype.setHtml=function(ct){this.getElement().innerHTML=ct},at.prototype.setPosition=function(ct,ht){this.getElement().style.left=ct+"px",this.getElement().style.top=ht+"px"},at.prototype.setClassName=function(ct){ot.addCssClass(this.getElement(),ct)},at.prototype.setTheme=function(ct){this.$element.className=j+" "+(ct.isDark?"ace_dark ":"")+(ct.cssClass||"")},at.prototype.show=function(ct,ht,ut){ct!=null&&this.setText(ct),ht!=null&&ut!=null&&this.setPosition(ht,ut),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},at.prototype.hide=function(ct){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=j,this.isOpen=!1)},at.prototype.getHeight=function(){return this.getElement().offsetHeight},at.prototype.getWidth=function(){return this.getElement().offsetWidth},at.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},at}(),$=function(){function at(){this.popups=[]}return at.prototype.addPopup=function(ct){this.popups.push(ct),this.updatePopups()},at.prototype.removePopup=function(ct){var ht=this.popups.indexOf(ct);ht!==-1&&(this.popups.splice(ht,1),this.updatePopups())},at.prototype.updatePopups=function(){var ct,ht,ut,dt;this.popups.sort(function(Et,$t){return $t.priority-Et.priority});var mt=[];try{for(var gt=st(this.popups),lt=gt.next();!lt.done;lt=gt.next()){var St=lt.value,xt=!0;try{for(var yt=(ut=void 0,st(mt)),_t=yt.next();!_t.done;_t=yt.next()){var kt=_t.value;if(this.doPopupsOverlap(kt,St)){xt=!1;break}}}catch(Et){ut={error:Et}}finally{try{_t&&!_t.done&&(dt=yt.return)&&dt.call(yt)}finally{if(ut)throw ut.error}}xt?mt.push(St):St.hide()}}catch(Et){ct={error:Et}}finally{try{lt&&!lt.done&&(ht=gt.return)&&ht.call(gt)}finally{if(ct)throw ct.error}}},at.prototype.doPopupsOverlap=function(ct,ht){var ut=ct.getElement().getBoundingClientRect(),dt=ht.getElement().getBoundingClientRect();return ut.left<dt.right&&ut.right>dt.left&&ut.top<dt.bottom&&ut.bottom>dt.top},at}(),et=new $;a.popupManager=et,a.Tooltip=_;var nt=function(at){_e(ct,at);function ct(ht){ht===void 0&&(ht=document.body);var ut=at.call(this,ht)||this;ut.timeout=void 0,ut.lastT=0,ut.idleTime=350,ut.lastEvent=void 0,ut.onMouseOut=ut.onMouseOut.bind(ut),ut.onMouseMove=ut.onMouseMove.bind(ut),ut.waitForHover=ut.waitForHover.bind(ut),ut.hide=ut.hide.bind(ut);var dt=ut.getElement();return dt.style.whiteSpace="pre-wrap",dt.style.pointerEvents="auto",dt.addEventListener("mouseout",ut.onMouseOut),dt.tabIndex=-1,dt.addEventListener("blur",(function(){dt.contains(document.activeElement)||this.hide()}).bind(ut)),dt.addEventListener("wheel",it),ut}return ct.prototype.addToEditor=function(ht){ht.on("mousemove",this.onMouseMove),ht.on("mousedown",this.hide),ht.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},ct.prototype.removeFromEditor=function(ht){ht.off("mousemove",this.onMouseMove),ht.off("mousedown",this.hide),ht.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},ct.prototype.onMouseMove=function(ht,ut){this.lastEvent=ht,this.lastT=Date.now();var dt=ut.$mouseHandler.isMousePressed;if(this.isOpen){var mt=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(mt.row,mt.column)||dt||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||dt||(this.lastEvent=ht,this.timeout=setTimeout(this.waitForHover,this.idleTime))},ct.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var ht=Date.now()-this.lastT;if(this.idleTime-ht>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-ht);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},ct.prototype.isOutsideOfText=function(ht){var ut=ht.editor,dt=ht.getDocumentPosition(),mt=ut.session.getLine(dt.row);if(dt.column==mt.length){var gt=ut.renderer.pixelToScreenCoordinates(ht.clientX,ht.clientY),lt=ut.session.documentToScreenPosition(dt.row,dt.column);if(lt.column!=gt.column||lt.row!=gt.row)return!0}return!1},ct.prototype.setDataProvider=function(ht){this.$gatherData=ht},ct.prototype.showForRange=function(ht,ut,dt,mt){var gt=10;if(!(mt&&mt!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var lt=ht.renderer;this.isOpen||(et.addPopup(this),this.$registerCloseEvents(),this.setTheme(lt.theme)),this.isOpen=!0,this.addMarker(ut,ht.session),this.range=rt.fromPoints(ut.start,ut.end);var St=lt.textToScreenCoordinates(ut.start.row,ut.start.column),xt=lt.scroller.getBoundingClientRect();St.pageX<xt.left&&(St.pageX=xt.left);var yt=this.getElement();yt.innerHTML="",yt.appendChild(dt),yt.style.maxHeight="",yt.style.display="block";var _t=yt.clientHeight,kt=yt.clientWidth,Et=window.innerHeight-St.pageY-lt.lineHeight,$t=!0;St.pageY-_t<0&&St.pageY<Et&&($t=!1),yt.style.maxHeight=($t?St.pageY:Et)-gt+"px",yt.style.top=$t?"":St.pageY+lt.lineHeight+"px",yt.style.bottom=$t?window.innerHeight-St.pageY+"px":"",yt.style.left=Math.min(St.pageX,window.innerWidth-kt-gt)+"px"}},ct.prototype.addMarker=function(ht,ut){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=ut,this.marker=ut&&ut.addMarker(ht,"ace_highlight-marker","text")},ct.prototype.hide=function(ht){!ht&&document.activeElement==this.getElement()||ht&&ht.target&&(ht.type!="keydown"||ht.ctrlKey||ht.metaKey)&&this.$element.contains(ht.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,et.removePopup(this)))},ct.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},ct.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},ct.prototype.onMouseOut=function(ht){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!ht.relatedTarget||this.getElement().contains(ht.relatedTarget)||ht&&ht.currentTarget.contains(ht.relatedTarget)||ht.relatedTarget.classList.contains("ace_content")||this.hide())},ct}(_);a.HoverTooltip=nt}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(o,a,tt){var _e=this&&this.__extends||function(){var et=function(nt,at){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ht){ct.__proto__=ht}||function(ct,ht){for(var ut in ht)Object.prototype.hasOwnProperty.call(ht,ut)&&(ct[ut]=ht[ut])},et(nt,at)};return function(nt,at){if(typeof at!="function"&&at!==null)throw new TypeError("Class extends value "+String(at)+" is not a constructor or null");et(nt,at);function ct(){this.constructor=nt}nt.prototype=at===null?Object.create(at):(ct.prototype=at.prototype,new ct)}}(),st=this&&this.__values||function(et){var nt=typeof Symbol=="function"&&Symbol.iterator,at=nt&&et[nt],ct=0;if(at)return at.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&ct>=et.length&&(et=void 0),{value:et&&et[ct++],done:!et}}};throw new TypeError(nt?"Object is not iterable.":"Symbol.iterator is not defined.")},ot=o("../lib/dom"),rt=o("../lib/event"),it=o("../tooltip").Tooltip,j=o("../config").nls;o("../lib/lang");function _(et){var nt=et.editor,at=nt.renderer.$gutterLayer,ct=new $(nt);et.editor.setDefaultHandler("guttermousedown",function(lt){if(!(!nt.isFocused()||lt.getButton()!=0)){var St=at.getRegion(lt);if(St!="foldWidgets"){var xt=lt.getDocumentPosition().row,yt=nt.session.selection;if(lt.getShiftKey())yt.selectTo(xt,0);else{if(lt.domEvent.detail==2)return nt.selectAll(),lt.preventDefault();et.$clickSelection=nt.selection.getLineRange(xt)}return et.setState("selectByLines"),et.captureMouse(lt),lt.preventDefault()}}});var ht,ut;function dt(){var lt=ut.getDocumentPosition().row,St=nt.session.getLength();if(lt==St){var xt=nt.renderer.pixelToScreenCoordinates(0,ut.y).row,yt=ut.$pos;if(xt>nt.session.documentToScreenRow(yt.row,yt.column))return mt()}if(ct.showTooltip(lt),!!ct.isOpen)if(nt.on("mousewheel",mt),et.$tooltipFollowsMouse)gt(ut);else{var _t=ut.getGutterRow(),kt=at.$lines.get(_t);if(kt){var Et=kt.element.querySelector(".ace_gutter_annotation"),$t=Et.getBoundingClientRect(),Tt=ct.getElement().style;Tt.left=$t.right+"px",Tt.top=$t.bottom+"px"}else gt(ut)}}function mt(){ht&&(ht=clearTimeout(ht)),ct.isOpen&&(ct.hideTooltip(),nt.off("mousewheel",mt))}function gt(lt){ct.setPosition(lt.x,lt.y)}et.editor.setDefaultHandler("guttermousemove",function(lt){var St=lt.domEvent.target||lt.domEvent.srcElement;if(ot.hasCssClass(St,"ace_fold-widget"))return mt();ct.isOpen&&et.$tooltipFollowsMouse&&gt(lt),ut=lt,!ht&&(ht=setTimeout(function(){ht=null,ut&&!et.isMousePressed?dt():mt()},50))}),rt.addListener(nt.renderer.$gutter,"mouseout",function(lt){ut=null,!(!ct.isOpen||ht)&&(ht=setTimeout(function(){ht=null,mt()},50))},nt),nt.on("changeSession",mt),nt.on("input",mt)}a.GutterHandler=_;var $=function(et){_e(nt,et);function nt(at){var ct=et.call(this,at.container)||this;return ct.editor=at,ct}return nt.prototype.setPosition=function(at,ct){var ht=window.innerWidth||document.documentElement.clientWidth,ut=window.innerHeight||document.documentElement.clientHeight,dt=this.getWidth(),mt=this.getHeight();at+=15,ct+=15,at+dt>ht&&(at-=at+dt-ht),ct+mt>ut&&(ct-=20+mt),it.prototype.setPosition.call(this,at,ct)},Object.defineProperty(nt,"annotationLabels",{get:function(){return{error:{singular:j("gutter-tooltip.aria-label.error.singular","error"),plural:j("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:j("gutter-tooltip.aria-label.security.singular","security finding"),plural:j("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:j("gutter-tooltip.aria-label.warning.singular","warning"),plural:j("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:j("gutter-tooltip.aria-label.info.singular","information message"),plural:j("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:j("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:j("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),nt.prototype.showTooltip=function(at){var ct,ht=this.editor.renderer.$gutterLayer,ut=ht.$annotations[at],dt;ut?dt={displayText:Array.from(ut.displayText),type:Array.from(ut.type)}:dt={displayText:[],type:[]};var mt=ht.session.getFoldLine(at);if(mt&&ht.$showFoldedAnnotations){for(var gt={error:[],security:[],warning:[],info:[],hint:[]},lt={error:1,security:2,warning:3,info:4,hint:5},St,xt=at+1;xt<=mt.end.row;xt++)if(ht.$annotations[xt])for(var yt=0;yt<ht.$annotations[xt].text.length;yt++){var _t=ht.$annotations[xt].type[yt];gt[_t].push(ht.$annotations[xt].text[yt]),(!St||lt[_t]<lt[St])&&(St=_t)}if(["error","security","warning"].includes(St)){var kt="".concat(nt.annotationsToSummaryString(gt)," in folded code.");dt.displayText.push(kt),dt.type.push(St+"_fold")}}if(dt.displayText.length===0)return this.hide();for(var Et={error:[],security:[],warning:[],info:[],hint:[]},$t=ht.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",xt=0;xt<dt.displayText.length;xt++){var Tt=ot.createElement("span"),At=ot.createElement("span");(ct=At.classList).add.apply(ct,["ace_".concat(dt.type[xt]),$t]),At.setAttribute("aria-label","".concat(nt.annotationLabels[dt.type[xt].replace("_fold","")].singular)),At.setAttribute("role","img"),At.appendChild(ot.createTextNode(" ")),Tt.appendChild(At),Tt.appendChild(ot.createTextNode(dt.displayText[xt])),Tt.appendChild(ot.createElement("br")),Et[dt.type[xt].replace("_fold","")].push(Tt)}var Mt=this.getElement();ot.removeChildren(Mt),Et.error.forEach(function(Ot){return Mt.appendChild(Ot)}),Et.security.forEach(function(Ot){return Mt.appendChild(Ot)}),Et.warning.forEach(function(Ot){return Mt.appendChild(Ot)}),Et.info.forEach(function(Ot){return Mt.appendChild(Ot)}),Et.hint.forEach(function(Ot){return Mt.appendChild(Ot)}),Mt.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},nt.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},nt.annotationsToSummaryString=function(at){var ct,ht,ut=[],dt=["error","security","warning","info","hint"];try{for(var mt=st(dt),gt=mt.next();!gt.done;gt=mt.next()){var lt=gt.value;if(at[lt].length){var St=at[lt].length===1?nt.annotationLabels[lt].singular:nt.annotationLabels[lt].plural;ut.push("".concat(at[lt].length," ").concat(St))}}}catch(xt){ct={error:xt}}finally{try{gt&&!gt.done&&(ht=mt.return)&&ht.call(mt)}finally{if(ct)throw ct.error}}return ut.join(", ")},nt}(it);a.GutterTooltip=$}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(o,a,tt){var _e=o("../lib/event"),st=o("../lib/useragent"),ot=function(){function rt(it,j){this.speed,this.wheelX,this.wheelY,this.domEvent=it,this.editor=j,this.x=this.clientX=it.clientX,this.y=this.clientY=it.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return rt.prototype.stopPropagation=function(){_e.stopPropagation(this.domEvent),this.propagationStopped=!0},rt.prototype.preventDefault=function(){_e.preventDefault(this.domEvent),this.defaultPrevented=!0},rt.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},rt.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},rt.prototype.getGutterRow=function(){var it=this.getDocumentPosition().row,j=this.editor.session.documentToScreenRow(it,0),_=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return j-_},rt.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var it=this.editor,j=it.getSelectionRange();if(j.isEmpty())this.$inSelection=!1;else{var _=this.getDocumentPosition();this.$inSelection=j.contains(_.row,_.column)}return this.$inSelection},rt.prototype.getButton=function(){return _e.getButton(this.domEvent)},rt.prototype.getShiftKey=function(){return this.domEvent.shiftKey},rt.prototype.getAccelKey=function(){return st.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},rt}();a.MouseEvent=ot}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(o,a,tt){var _e=o("../lib/dom"),st=o("../lib/event"),ot=o("../lib/useragent"),rt=200,it=200,j=5;function _(et){var nt=et.editor,at=_e.createElement("div");at.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",at.textContent="";var ct=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ct.forEach(function(Wt){et[Wt]=this[Wt]},this),nt.on("mousedown",this.onMouseDown.bind(et));var ht=nt.container,ut,dt,mt,gt,lt,St,xt=0,yt,_t,kt,Et,$t;this.onDragStart=function(Wt){if(this.cancelDrag||!ht.draggable){var Xt=this;return setTimeout(function(){Xt.startSelect(),Xt.captureMouse(Wt)},0),Wt.preventDefault()}lt=nt.getSelectionRange();var rr=Wt.dataTransfer;rr.effectAllowed=nt.getReadOnly()?"copy":"copyMove",nt.container.appendChild(at),rr.setDragImage&&rr.setDragImage(at,0,0),setTimeout(function(){nt.container.removeChild(at)}),rr.clearData(),rr.setData("Text",nt.session.getTextRange()),_t=!0,this.setState("drag")},this.onDragEnd=function(Wt){if(ht.draggable=!1,_t=!1,this.setState(null),!nt.getReadOnly()){var Xt=Wt.dataTransfer.dropEffect;!yt&&Xt=="move"&&nt.session.remove(nt.getSelectionRange()),nt.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Wt){if(!(nt.getReadOnly()||!qt(Wt.dataTransfer)))return dt=Wt.clientX,mt=Wt.clientY,ut||Ot(),xt++,Wt.dataTransfer.dropEffect=yt=Gt(Wt),st.preventDefault(Wt)},this.onDragOver=function(Wt){if(!(nt.getReadOnly()||!qt(Wt.dataTransfer)))return dt=Wt.clientX,mt=Wt.clientY,ut||(Ot(),xt++),Ft!==null&&(Ft=null),Wt.dataTransfer.dropEffect=yt=Gt(Wt),st.preventDefault(Wt)},this.onDragLeave=function(Wt){if(xt--,xt<=0&&ut)return Pt(),yt=null,st.preventDefault(Wt)},this.onDrop=function(Wt){if(St){var Xt=Wt.dataTransfer;if(_t)switch(yt){case"move":lt.contains(St.row,St.column)?lt={start:St,end:St}:lt=nt.moveText(lt,St);break;case"copy":lt=nt.moveText(lt,St,!0);break}else{var rr=Xt.getData("Text");lt={start:St,end:nt.session.insert(St,rr)},nt.focus(),yt=null}return Pt(),st.preventDefault(Wt)}},st.addListener(ht,"dragstart",this.onDragStart.bind(et),nt),st.addListener(ht,"dragend",this.onDragEnd.bind(et),nt),st.addListener(ht,"dragenter",this.onDragEnter.bind(et),nt),st.addListener(ht,"dragover",this.onDragOver.bind(et),nt),st.addListener(ht,"dragleave",this.onDragLeave.bind(et),nt),st.addListener(ht,"drop",this.onDrop.bind(et),nt);function Tt(Wt,Xt){var rr=Date.now(),tr=!Xt||Wt.row!=Xt.row,mr=!Xt||Wt.column!=Xt.column;if(!Et||tr||mr)nt.moveCursorToPosition(Wt),Et=rr,$t={x:dt,y:mt};else{var yr=$($t.x,$t.y,dt,mt);yr>j?Et=null:rr-Et>=it&&(nt.renderer.scrollCursorIntoView(),Et=null)}}function At(Wt,Xt){var rr=Date.now(),tr=nt.renderer.layerConfig.lineHeight,mr=nt.renderer.layerConfig.characterWidth,yr=nt.renderer.scroller.getBoundingClientRect(),xr={x:{left:dt-yr.left,right:yr.right-dt},y:{top:mt-yr.top,bottom:yr.bottom-mt}},vr=Math.min(xr.x.left,xr.x.right),ir=Math.min(xr.y.top,xr.y.bottom),sr={row:Wt.row,column:Wt.column};vr/mr<=2&&(sr.column+=xr.x.left<xr.x.right?-3:2),ir/tr<=1&&(sr.row+=xr.y.top<xr.y.bottom?-1:1);var er=Wt.row!=sr.row,Tr=Wt.column!=sr.column,Cr=!Xt||Wt.row!=Xt.row;er||Tr&&!Cr?kt?rr-kt>=rt&&nt.renderer.scrollCursorIntoView(sr):kt=rr:kt=null}function Mt(){var Wt=St;St=nt.renderer.screenToTextCoordinates(dt,mt),Tt(St,Wt),At(St,Wt)}function Ot(){lt=nt.selection.toOrientedRange(),ut=nt.session.addMarker(lt,"ace_selection",nt.getSelectionStyle()),nt.clearSelection(),nt.isFocused()&&nt.renderer.$cursorLayer.setBlinking(!1),clearInterval(gt),Mt(),gt=setInterval(Mt,20),xt=0,st.addListener(document,"mousemove",zt)}function Pt(){clearInterval(gt),nt.session.removeMarker(ut),ut=null,nt.selection.fromOrientedRange(lt),nt.isFocused()&&!_t&&nt.$resetCursorStyle(),lt=null,St=null,xt=0,kt=null,Et=null,st.removeListener(document,"mousemove",zt)}var Ft=null;function zt(){Ft==null&&(Ft=setTimeout(function(){Ft!=null&&ut&&Pt()},20))}function qt(Wt){var Xt=Wt.types;return!Xt||Array.prototype.some.call(Xt,function(rr){return rr=="text/plain"||rr=="Text"})}function Gt(Wt){var Xt=["copy","copymove","all","uninitialized"],rr=["move","copymove","linkmove","all","uninitialized"],tr=ot.isMac?Wt.altKey:Wt.ctrlKey,mr="uninitialized";try{mr=Wt.dataTransfer.effectAllowed.toLowerCase()}catch{}var yr="none";return tr&&Xt.indexOf(mr)>=0?yr="copy":rr.indexOf(mr)>=0?yr="move":Xt.indexOf(mr)>=0&&(yr="copy"),yr}}(function(){this.dragWait=function(){var et=Date.now()-this.mousedownEvent.time;et>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var et=this.editor.container;et.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(et){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var et=this.editor,nt=et.container;nt.draggable=!0,et.renderer.$cursorLayer.setBlinking(!1),et.setStyle("ace_dragging");var at=ot.isWin?"default":"move";et.renderer.setCursorStyle(at),this.setState("dragReady")},this.onMouseDrag=function(et){var nt=this.editor.container;if(ot.isIE&&this.state=="dragReady"){var at=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);at>3&&nt.dragDrop()}if(this.state==="dragWait"){var at=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);at>0&&(nt.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(et){if(this.$dragEnabled){this.mousedownEvent=et;var nt=this.editor,at=et.inSelection(),ct=et.getButton(),ht=et.domEvent.detail||1;if(ht===1&&ct===0&&at){if(et.editor.inMultiSelectMode&&(et.getAccelKey()||et.getShiftKey()))return;this.mousedownEvent.time=Date.now();var ut=et.domEvent.target||et.domEvent.srcElement;if("unselectable"in ut&&(ut.unselectable="on"),nt.getDragDelay()){if(ot.isWebKit){this.cancelDrag=!0;var dt=nt.container;dt.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(et,this.onMouseDrag.bind(this)),et.defaultPrevented=!0}}}}).call(_.prototype);function $(et,nt,at,ct){return Math.sqrt(Math.pow(at-et,2)+Math.pow(ct-nt,2))}a.DragdropHandler=_}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(o,a,tt){var _e=o("./mouse_event").MouseEvent,st=o("../lib/event"),ot=o("../lib/dom");a.addTouchListeners=function(rt,it){var j="scroll",_,$,et,nt,at,ct,ht=0,ut,dt=0,mt=0,gt=0,lt,St;function xt(){var Tt=window.navigator&&window.navigator.clipboard,At=!1,Mt=function(){var Ft=it.getCopyText(),zt=it.session.getUndoManager().hasUndo();St.replaceChild(ot.buildDom(At?["span",!Ft&&Ot("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Ft&&Ot("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Ft&&Ot("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],Tt&&Ot("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],zt&&Ot("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],Ot("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],Ot("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),St.firstChild)},Ot=function(Ft){return it.commands.canExecute(Ft,it)},Pt=function(Ft){var zt=Ft.target.getAttribute("action");if(zt=="more"||!At)return At=!At,Mt();zt=="paste"?Tt.readText().then(function(qt){it.execCommand(zt,qt)}):zt&&((zt=="cut"||zt=="copy")&&(Tt?Tt.writeText(it.getCopyText()):document.execCommand("copy")),it.execCommand(zt)),St.firstChild.style.display="none",At=!1,zt!="openCommandPalette"&&it.focus()};St=ot.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Ft){j="menu",Ft.stopPropagation(),Ft.preventDefault(),it.textInput.focus()},ontouchend:function(Ft){Ft.stopPropagation(),Ft.preventDefault(),Pt(Ft)},onclick:Pt},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],it.container)}function yt(){if(!it.getOption("enableMobileMenu")){St&&_t();return}St||xt();var Tt=it.selection.cursor,At=it.renderer.textToScreenCoordinates(Tt.row,Tt.column),Mt=it.renderer.textToScreenCoordinates(0,0).pageX,Ot=it.renderer.scrollLeft,Pt=it.container.getBoundingClientRect();St.style.top=At.pageY-Pt.top-3+"px",At.pageX-Pt.left<Pt.width-70?(St.style.left="",St.style.right="10px"):(St.style.right="",St.style.left=Mt+Ot-Pt.left+"px"),St.style.display="",St.firstChild.style.display="none",it.on("input",_t)}function _t(Tt){St&&(St.style.display="none"),it.off("input",_t)}function kt(){at=null,clearTimeout(at);var Tt=it.selection.getRange(),At=Tt.contains(ut.row,ut.column);(Tt.isEmpty()||!At)&&(it.selection.moveToPosition(ut),it.selection.selectWord()),j="wait",yt()}function Et(){at=null,clearTimeout(at),it.selection.moveToPosition(ut);var Tt=dt>=2?it.selection.getLineRange(ut.row):it.session.getBracketRange(ut);Tt&&!Tt.isEmpty()?it.selection.setRange(Tt):it.selection.selectWord(),j="wait"}st.addListener(rt,"contextmenu",function(Tt){if(lt){var At=it.textInput.getElement();At.focus()}},it),st.addListener(rt,"touchstart",function(Tt){var At=Tt.touches;if(at||At.length>1){clearTimeout(at),at=null,et=-1,j="zoom";return}lt=it.$mouseHandler.isMousePressed=!0;var Mt=it.renderer.layerConfig.lineHeight,Ot=it.renderer.layerConfig.lineHeight,Pt=Tt.timeStamp;nt=Pt;var Ft=At[0],zt=Ft.clientX,qt=Ft.clientY;Math.abs(_-zt)+Math.abs($-qt)>Mt&&(et=-1),_=Tt.clientX=zt,$=Tt.clientY=qt,mt=gt=0;var Gt=new _e(Tt,it);if(ut=Gt.getDocumentPosition(),Pt-et<500&&At.length==1&&!ht)dt++,Tt.preventDefault(),Tt.button=0,Et();else{dt=0;var Wt=it.selection.cursor,Xt=it.selection.isEmpty()?Wt:it.selection.anchor,rr=it.renderer.$cursorLayer.getPixelPosition(Wt,!0),tr=it.renderer.$cursorLayer.getPixelPosition(Xt,!0),mr=it.renderer.scroller.getBoundingClientRect(),yr=it.renderer.layerConfig.offset,xr=it.renderer.scrollLeft,vr=function(er,Tr){return er=er/Ot,Tr=Tr/Mt-.75,er*er+Tr*Tr};if(Tt.clientX<mr.left){j="zoom";return}var ir=vr(Tt.clientX-mr.left-rr.left+xr,Tt.clientY-mr.top-rr.top+yr),sr=vr(Tt.clientX-mr.left-tr.left+xr,Tt.clientY-mr.top-tr.top+yr);ir<3.5&&sr<3.5&&(j=ir>sr?"cursor":"anchor"),sr<3.5?j="anchor":ir<3.5?j="cursor":j="scroll",at=setTimeout(kt,450)}et=Pt},it),st.addListener(rt,"touchend",function(Tt){lt=it.$mouseHandler.isMousePressed=!1,ct&&clearInterval(ct),j=="zoom"?(j="",ht=0):at?(it.selection.moveToPosition(ut),ht=0,yt()):j=="scroll"?($t(),_t()):yt(),clearTimeout(at),at=null},it),st.addListener(rt,"touchmove",function(Tt){at&&(clearTimeout(at),at=null);var At=Tt.touches;if(!(At.length>1||j=="zoom")){var Mt=At[0],Ot=_-Mt.clientX,Pt=$-Mt.clientY;if(j=="wait")if(Ot*Ot+Pt*Pt>4)j="cursor";else return Tt.preventDefault();_=Mt.clientX,$=Mt.clientY,Tt.clientX=Mt.clientX,Tt.clientY=Mt.clientY;var Ft=Tt.timeStamp,zt=Ft-nt;if(nt=Ft,j=="scroll"){var qt=new _e(Tt,it);qt.speed=1,qt.wheelX=Ot,qt.wheelY=Pt,10*Math.abs(Ot)<Math.abs(Pt)&&(Ot=0),10*Math.abs(Pt)<Math.abs(Ot)&&(Pt=0),zt!=0&&(mt=Ot/zt,gt=Pt/zt),it._emit("mousewheel",qt),qt.propagationStopped||(mt=gt=0)}else{var Gt=new _e(Tt,it),Wt=Gt.getDocumentPosition();j=="cursor"?it.selection.moveCursorToPosition(Wt):j=="anchor"&&it.selection.setSelectionAnchor(Wt.row,Wt.column),it.renderer.scrollCursorIntoView(Wt),Tt.preventDefault()}}},it);function $t(){ht+=60,ct=setInterval(function(){ht--<=0&&(clearInterval(ct),ct=null),Math.abs(mt)<.01&&(mt=0),Math.abs(gt)<.01&&(gt=0),ht<20&&(mt=.9*mt),ht<20&&(gt=.9*gt);var Tt=it.session.getScrollTop();it.renderer.scrollBy(10*mt,10*gt),Tt==it.session.getScrollTop()&&(ht=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(o,a,tt){var _e=o("../lib/event"),st=o("../lib/useragent"),ot=o("./default_handlers").DefaultHandlers,rt=o("./default_gutter_handler").GutterHandler,it=o("./mouse_event").MouseEvent,j=o("./dragdrop_handler").DragdropHandler,_=o("./touch_handler").addTouchListeners,$=o("../config"),et=function(){function nt(at){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var ct=this;this.editor=at,new ot(this),new rt(this),new j(this);var ht=function(mt){var gt=!document.hasFocus||!document.hasFocus()||!at.isFocused()&&document.activeElement==(at.textInput&&at.textInput.getElement());gt&&window.focus(),at.focus(),setTimeout(function(){at.isFocused()||at.focus()})},ut=at.renderer.getMouseEventTarget();_e.addListener(ut,"click",this.onMouseEvent.bind(this,"click"),at),_e.addListener(ut,"mousemove",this.onMouseMove.bind(this,"mousemove"),at),_e.addMultiMouseDownListener([ut,at.renderer.scrollBarV&&at.renderer.scrollBarV.inner,at.renderer.scrollBarH&&at.renderer.scrollBarH.inner,at.textInput&&at.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",at),_e.addMouseWheelListener(at.container,this.onMouseWheel.bind(this,"mousewheel"),at),_(at.container,at);var dt=at.renderer.$gutter;_e.addListener(dt,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),at),_e.addListener(dt,"click",this.onMouseEvent.bind(this,"gutterclick"),at),_e.addListener(dt,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),at),_e.addListener(dt,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),at),_e.addListener(ut,"mousedown",ht,at),_e.addListener(dt,"mousedown",ht,at),st.isIE&&at.renderer.scrollBarV&&(_e.addListener(at.renderer.scrollBarV.element,"mousedown",ht,at),_e.addListener(at.renderer.scrollBarH.element,"mousedown",ht,at)),at.on("mousemove",function(mt){if(!(ct.state||ct.$dragDelay||!ct.$dragEnabled)){var gt=at.renderer.screenToTextCoordinates(mt.x,mt.y),lt=at.session.selection.getRange(),St=at.renderer;!lt.isEmpty()&&lt.insideStart(gt.row,gt.column)?St.setCursorStyle("default"):St.setCursorStyle("")}},at)}return nt.prototype.onMouseEvent=function(at,ct){this.editor.session&&this.editor._emit(at,new it(ct,this.editor))},nt.prototype.onMouseMove=function(at,ct){var ht=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!ht||!ht.length||this.editor._emit(at,new it(ct,this.editor))},nt.prototype.onMouseWheel=function(at,ct){var ht=new it(ct,this.editor);ht.speed=this.$scrollSpeed*2,ht.wheelX=ct.wheelX,ht.wheelY=ct.wheelY,this.editor._emit(at,ht)},nt.prototype.setState=function(at){this.state=at},nt.prototype.captureMouse=function(at,ct){this.x=at.x,this.y=at.y,this.isMousePressed=!0;var ht=this.editor,ut=this.editor.renderer;ut.$isMousePressed=!0;var dt=this,mt=function(yt){if(yt){if(st.isWebKit&&!yt.which&&dt.releaseMouse)return dt.releaseMouse();dt.x=yt.clientX,dt.y=yt.clientY,ct&&ct(yt),dt.mouseEvent=new it(yt,dt.editor),dt.$mouseMoved=!0}},gt=function(yt){ht.off("beforeEndOperation",St),clearInterval(xt),ht.session&&lt(),dt[dt.state+"End"]&&dt[dt.state+"End"](yt),dt.state="",dt.isMousePressed=ut.$isMousePressed=!1,ut.$keepTextAreaAtCursor&&ut.$moveTextAreaToCursor(),dt.$onCaptureMouseMove=dt.releaseMouse=null,yt&&dt.onMouseEvent("mouseup",yt),ht.endOperation()},lt=function(){dt[dt.state]&&dt[dt.state](),dt.$mouseMoved=!1};if(st.isOldIE&&at.domEvent.type=="dblclick")return setTimeout(function(){gt(at)});var St=function(yt){dt.releaseMouse&&ht.curOp.command.name&&ht.curOp.selectionChanged&&(dt[dt.state+"End"]&&dt[dt.state+"End"](),dt.state="",dt.releaseMouse())};ht.on("beforeEndOperation",St),ht.startOperation({command:{name:"mouse"}}),dt.$onCaptureMouseMove=mt,dt.releaseMouse=_e.capture(this.editor.container,mt,gt);var xt=setInterval(lt,20)},nt.prototype.cancelContextMenu=function(){var at=(function(ct){ct&&ct.domEvent&&ct.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",at),ct&&ct.domEvent&&_e.stopEvent(ct.domEvent))}).bind(this);setTimeout(at,10),this.editor.on("nativecontextmenu",at)},nt.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},nt}();et.prototype.releaseMouse=null,$.defineOptions(et.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:st.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),a.MouseHandler=et}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(o,a,tt){var _e=o("../lib/dom"),st=function(){function ot(rt){rt.on("click",function(it){var j=it.getDocumentPosition(),_=rt.session,$=_.getFoldAt(j.row,j.column,1);$&&(it.getAccelKey()?_.removeFold($):_.expandFold($),it.stop());var et=it.domEvent&&it.domEvent.target;et&&_e.hasCssClass(et,"ace_inline_button")&&_e.hasCssClass(et,"ace_toggle_wrap")&&(_.setOption("wrap",!_.getUseWrapMode()),rt.renderer.scrollCursorIntoView())}),rt.on("gutterclick",function(it){var j=rt.renderer.$gutterLayer.getRegion(it);if(j=="foldWidgets"){var _=it.getDocumentPosition().row,$=rt.session;$.foldWidgets&&$.foldWidgets[_]&&rt.session.onFoldWidgetClick(_,it),rt.isFocused()||rt.focus(),it.stop()}}),rt.on("gutterdblclick",function(it){var j=rt.renderer.$gutterLayer.getRegion(it);if(j=="foldWidgets"){var _=it.getDocumentPosition().row,$=rt.session,et=$.getParentFoldRangeData(_,!0),nt=et.range||et.firstRange;if(nt){_=nt.start.row;var at=$.getFoldAt(_,$.getLine(_).length,1);at?$.removeFold(at):($.addFold("...",nt),rt.renderer.scrollCursorIntoView({row:nt.start.row,column:0}))}it.stop()}})}return ot}();a.FoldHandler=st}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(o,a,tt){var _e=o("../lib/keys"),st=o("../lib/event"),ot=function(){function rt(it){this.$editor=it,this.$data={editor:it},this.$handlers=[],this.setDefaultHandler(it.commands)}return rt.prototype.setDefaultHandler=function(it){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=it,this.addKeyboardHandler(it,0)},rt.prototype.setKeyboardHandler=function(it){var j=this.$handlers;if(j[j.length-1]!=it){for(;j[j.length-1]&&j[j.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(j[j.length-1]);this.addKeyboardHandler(it,1)}},rt.prototype.addKeyboardHandler=function(it,j){if(it){typeof it=="function"&&!it.handleKeyboard&&(it.handleKeyboard=it);var _=this.$handlers.indexOf(it);_!=-1&&this.$handlers.splice(_,1),j==null?this.$handlers.push(it):this.$handlers.splice(j,0,it),_==-1&&it.attach&&it.attach(this.$editor)}},rt.prototype.removeKeyboardHandler=function(it){var j=this.$handlers.indexOf(it);return j==-1?!1:(this.$handlers.splice(j,1),it.detach&&it.detach(this.$editor),!0)},rt.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},rt.prototype.getStatusText=function(){var it=this.$data,j=it.editor;return this.$handlers.map(function(_){return _.getStatusText&&_.getStatusText(j,it)||""}).filter(Boolean).join(" ")},rt.prototype.$callKeyboardHandlers=function(it,j,_,$){for(var et,nt=!1,at=this.$editor.commands,ct=this.$handlers.length;ct--&&(et=this.$handlers[ct].handleKeyboard(this.$data,it,j,_,$),!(!(!et||!et.command)&&(et.command=="null"?nt=!0:nt=at.exec(et.command,this.$editor,et.args,$),nt&&$&&it!=-1&&et.passEvent!=!0&&et.command.passEvent!=!0&&st.stopEvent($),nt))););return!nt&&it==-1&&(et={command:"insertstring"},nt=at.exec("insertstring",this.$editor,j)),nt&&this.$editor._signal&&this.$editor._signal("keyboardActivity",et),nt},rt.prototype.onCommandKey=function(it,j,_){var $=_e.keyCodeToString(_);return this.$callKeyboardHandlers(j,$,_,it)},rt.prototype.onTextInput=function(it){return this.$callKeyboardHandlers(-1,it)},rt}();a.KeyBinding=ot}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(o,a,tt){var _e=0,st=0,ot=!1,rt=!1,it=!1,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],$=0,et=1,nt=0,at=1,ct=2,ht=3,ut=4,dt=5,mt=6,gt=7,lt=8,St=9,xt=10,yt=11,_t=12,kt=13,Et=14,$t=15,Tt=16,At=17,Mt=18,Ot=[Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,mt,dt,mt,lt,dt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,dt,dt,dt,mt,lt,ut,ut,yt,yt,yt,ut,ut,ut,ut,ut,xt,St,xt,St,St,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,St,ut,ut,ut,ut,ut,ut,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,ut,ut,ut,ut,ut,ut,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,ut,ut,ut,ut,Mt,Mt,Mt,Mt,Mt,Mt,dt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,St,ut,yt,yt,yt,yt,ut,ut,ut,ut,nt,ut,ut,Mt,ut,ut,yt,yt,ct,ct,ut,nt,ut,ut,ut,ct,nt,ut,ut,ut,ut,ut],Pt=[lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,Mt,Mt,Mt,nt,at,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,lt,dt,kt,Et,$t,Tt,At,St,yt,yt,yt,yt,yt,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,St,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,lt];function Ft(Wt,Xt,rr,tr){var mr=_e?_:j,yr=null,xr=null,vr=null,ir=0,sr=null,er=null,Tr=-1,Cr=null,dr=null,Wr=[];if(!tr)for(Cr=0,tr=[];Cr<rr;Cr++)tr[Cr]=Gt(Wt[Cr]);for(st=_e,ot=!1,rt=!1,it=!1,dr=0;dr<rr;dr++){if(yr=ir,Wr[dr]=xr=qt(Wt,tr,Wr,dr),ir=mr[yr][xr],sr=ir&240,ir&=15,Xt[dr]=vr=mr[ir][5],sr>0)if(sr==16){for(Cr=Tr;Cr<dr;Cr++)Xt[Cr]=1;Tr=-1}else Tr=-1;if(er=mr[ir][6],er)Tr==-1&&(Tr=dr);else if(Tr>-1){for(Cr=Tr;Cr<dr;Cr++)Xt[Cr]=vr;Tr=-1}tr[dr]==dt&&(Xt[dr]=0),st|=vr}if(it){for(Cr=0;Cr<rr;Cr++)if(tr[Cr]==mt){Xt[Cr]=_e;for(var Jr=Cr-1;Jr>=0&&tr[Jr]==lt;Jr--)Xt[Jr]=_e}}}function zt(Wt,Xt,rr){if(!(st<Wt)){if(Wt==1&&_e==et&&!rt){rr.reverse();return}for(var tr=rr.length,mr=0,yr,xr,vr,ir;mr<tr;){if(Xt[mr]>=Wt){for(yr=mr+1;yr<tr&&Xt[yr]>=Wt;)yr++;for(xr=mr,vr=yr-1;xr<vr;xr++,vr--)ir=rr[xr],rr[xr]=rr[vr],rr[vr]=ir;mr=yr}mr++}}}function qt(Wt,Xt,rr,tr){var mr=Xt[tr],yr,xr,vr,ir;switch(mr){case nt:case at:ot=!1;case ut:case ht:return mr;case ct:return ot?ht:ct;case gt:return ot=!0,at;case lt:return ut;case St:return tr<1||tr+1>=Xt.length||(yr=rr[tr-1])!=ct&&yr!=ht||(xr=Xt[tr+1])!=ct&&xr!=ht?ut:(ot&&(xr=ht),xr==yr?xr:ut);case xt:return yr=tr>0?rr[tr-1]:dt,yr==ct&&tr+1<Xt.length&&Xt[tr+1]==ct?ct:ut;case yt:if(tr>0&&rr[tr-1]==ct)return ct;if(ot)return ut;for(ir=tr+1,vr=Xt.length;ir<vr&&Xt[ir]==yt;)ir++;return ir<vr&&Xt[ir]==ct?ct:ut;case _t:for(vr=Xt.length,ir=tr+1;ir<vr&&Xt[ir]==_t;)ir++;if(ir<vr){var sr=Wt[tr],er=sr>=1425&&sr<=2303||sr==64286;if(yr=Xt[ir],er&&(yr==at||yr==gt))return at}return tr<1||(yr=Xt[tr-1])==dt?ut:rr[tr-1];case dt:return ot=!1,rt=!0,_e;case mt:return it=!0,ut;case kt:case Et:case Tt:case At:case $t:ot=!1;case Mt:return ut}}function Gt(Wt){var Xt=Wt.charCodeAt(0),rr=Xt>>8;return rr==0?Xt>191?nt:Ot[Xt]:rr==5?/[\u0591-\u05f4]/.test(Wt)?at:nt:rr==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Wt)?_t:/[\u0660-\u0669\u066b-\u066c]/.test(Wt)?ht:Xt==1642?yt:/[\u06f0-\u06f9]/.test(Wt)?ct:gt:rr==32&&Xt<=8287?Pt[Xt&255]:rr==254&&Xt>=65136?gt:ut}a.L=nt,a.R=at,a.EN=ct,a.ON_R=3,a.AN=4,a.R_H=5,a.B=6,a.RLE=7,a.DOT="",a.doBidiReorder=function(Wt,Xt,rr){if(Wt.length<2)return{};var tr=Wt.split(""),mr=new Array(tr.length),yr=new Array(tr.length),xr=[];_e=rr?et:$,Ft(tr,xr,tr.length,Xt);for(var vr=0;vr<mr.length;mr[vr]=vr,vr++);zt(2,xr,mr),zt(1,xr,mr);for(var vr=0;vr<mr.length-1;vr++)Xt[vr]===ht?xr[vr]=a.AN:xr[vr]===at&&(Xt[vr]>gt&&Xt[vr]<kt||Xt[vr]===ut||Xt[vr]===Mt)?xr[vr]=a.ON_R:vr>0&&tr[vr-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(tr[vr])&&(xr[vr-1]=xr[vr]=a.R_H,vr++);tr[tr.length-1]===a.DOT&&(xr[tr.length-1]=a.B),tr[0]===""&&(xr[0]=a.RLE);for(var vr=0;vr<mr.length;vr++)yr[vr]=xr[mr[vr]];return{logicalFromVisual:mr,bidiLevels:yr}},a.hasBidiCharacters=function(Wt,Xt){for(var rr=!1,tr=0;tr<Wt.length;tr++)Xt[tr]=Gt(Wt.charAt(tr)),!rr&&(Xt[tr]==at||Xt[tr]==gt||Xt[tr]==ht)&&(rr=!0);return rr},a.getVisualFromLogicalIdx=function(Wt,Xt){for(var rr=0;rr<Xt.logicalFromVisual.length;rr++)if(Xt.logicalFromVisual[rr]==Wt)return rr;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(o,a,tt){var _e=o("./lib/bidiutil"),st=o("./lib/lang"),ot=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,rt=function(){function it(j){this.session=j,this.bidiMap={},this.currentRow=null,this.bidiUtil=_e,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=ot.test(j.getValue())}return it.prototype.isBidiRow=function(j,_,$){return this.seenBidi?(j!==this.currentRow&&(this.currentRow=j,this.updateRowLine(_,$),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},it.prototype.onChange=function(j){this.seenBidi?this.currentRow=null:j.action=="insert"&&ot.test(j.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},it.prototype.getDocumentRow=function(){var j=0,_=this.session.$screenRowCache;if(_.length){var $=this.session.$getRowCacheIndex(_,this.currentRow);$>=0&&(j=this.session.$docRowCache[$])}return j},it.prototype.getSplitIndex=function(){var j=0,_=this.session.$screenRowCache;if(_.length)for(var $,et=this.session.$getRowCacheIndex(_,this.currentRow);this.currentRow-j>0&&($=this.session.$getRowCacheIndex(_,this.currentRow-j-1),$===et);)et=$,j++;else j=this.currentRow;return j},it.prototype.updateRowLine=function(j,_){j===void 0&&(j=this.getDocumentRow());var $=j===this.session.getLength()-1,et=$?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(j),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var nt=this.session.$wrapData[j];nt&&(_===void 0&&(_=this.getSplitIndex()),_>0&&nt.length?(this.wrapIndent=nt.indent,this.wrapOffset=this.wrapIndent*this.charWidths[_e.L],this.line=_<nt.length?this.line.substring(nt[_-1],nt[_]):this.line.substring(nt[nt.length-1])):this.line=this.line.substring(0,nt[_]),_==nt.length&&(this.line+=this.showInvisibles?et:_e.DOT))}else this.line+=this.showInvisibles?et:_e.DOT;var at=this.session,ct=0,ht;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(ut,dt){return ut==="	"||at.isFullWidth(ut.charCodeAt(0))?(ht=ut==="	"?at.getScreenTabSize(dt+ct):2,ct+=ht-1,st.stringRepeat(_e.DOT,ht)):ut}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==_e.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},it.prototype.updateBidiMap=function(){var j=[];_e.hasBidiCharacters(this.line,j)||this.isRtlDir?this.bidiMap=_e.doBidiReorder(this.line,j,this.isRtlDir):this.bidiMap={}},it.prototype.markAsDirty=function(){this.currentRow=null},it.prototype.updateCharacterWidths=function(j){if(this.characterWidth!==j.$characterSize.width){this.fontMetrics=j;var _=this.characterWidth=j.$characterSize.width,$=j.$measureCharWidth("");this.charWidths[_e.L]=this.charWidths[_e.EN]=this.charWidths[_e.ON_R]=_,this.charWidths[_e.R]=this.charWidths[_e.AN]=$,this.charWidths[_e.R_H]=$*.45,this.charWidths[_e.B]=this.charWidths[_e.RLE]=0,this.currentRow=null}},it.prototype.setShowInvisibles=function(j){this.showInvisibles=j,this.currentRow=null},it.prototype.setEolChar=function(j){this.EOL=j},it.prototype.setContentWidth=function(j){this.contentWidth=j},it.prototype.isRtlLine=function(j){return this.$isRtl?!0:j!=null?this.session.getLine(j).charAt(0)==this.RLE:this.isRtlDir},it.prototype.setRtlDirection=function(j,_){for(var $=j.getCursorPosition(),et=j.selection.getSelectionAnchor().row;et<=$.row;et++)!_&&j.session.getLine(et).charAt(0)===j.session.$bidiHandler.RLE?j.session.doc.removeInLine(et,0,1):_&&j.session.getLine(et).charAt(0)!==j.session.$bidiHandler.RLE&&j.session.doc.insert({column:0,row:et},j.session.$bidiHandler.RLE)},it.prototype.getPosLeft=function(j){j-=this.wrapIndent;var _=this.line.charAt(0)===this.RLE?1:0,$=j>_?this.session.getOverwrite()?j:j-1:_,et=_e.getVisualFromLogicalIdx($,this.bidiMap),nt=this.bidiMap.bidiLevels,at=0;!this.session.getOverwrite()&&j<=_&&nt[et]%2!==0&&et++;for(var ct=0;ct<et;ct++)at+=this.charWidths[nt[ct]];return!this.session.getOverwrite()&&j>_&&nt[et]%2===0&&(at+=this.charWidths[nt[et]]),this.wrapIndent&&(at+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(at+=this.rtlLineOffset),at},it.prototype.getSelections=function(j,_){var $=this.bidiMap,et=$.bidiLevels,nt,at=[],ct=0,ht=Math.min(j,_)-this.wrapIndent,ut=Math.max(j,_)-this.wrapIndent,dt=!1,mt=!1,gt=0;this.wrapIndent&&(ct+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var lt,St=0;St<et.length;St++)lt=$.logicalFromVisual[St],nt=et[St],dt=lt>=ht&&lt<ut,dt&&!mt?gt=ct:!dt&&mt&&at.push({left:gt,width:ct-gt}),ct+=this.charWidths[nt],mt=dt;if(dt&&St===et.length&&at.push({left:gt,width:ct-gt}),this.isRtlDir)for(var xt=0;xt<at.length;xt++)at[xt].left+=this.rtlLineOffset;return at},it.prototype.offsetToCol=function($){this.isRtlDir&&($-=this.rtlLineOffset);var _=0,$=Math.max($,0),et=0,nt=0,at=this.bidiMap.bidiLevels,ct=this.charWidths[at[nt]];for(this.wrapIndent&&($-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);$>et+ct/2;){if(et+=ct,nt===at.length-1){ct=0;break}ct=this.charWidths[at[++nt]]}return nt>0&&at[nt-1]%2!==0&&at[nt]%2===0?($<et&&nt--,_=this.bidiMap.logicalFromVisual[nt]):nt>0&&at[nt-1]%2===0&&at[nt]%2!==0?_=1+($>et?this.bidiMap.logicalFromVisual[nt]:this.bidiMap.logicalFromVisual[nt-1]):this.isRtlDir&&nt===at.length-1&&ct===0&&at[nt-1]%2===0||!this.isRtlDir&&nt===0&&at[nt]%2!==0?_=1+this.bidiMap.logicalFromVisual[nt]:(nt>0&&at[nt-1]%2!==0&&ct!==0&&nt--,_=this.bidiMap.logicalFromVisual[nt]),_===0&&this.isRtlDir&&_++,_+this.wrapIndent},it}();a.BidiHandler=rt}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(o,a,tt){var _e=o("./lib/oop"),st=o("./lib/lang"),ot=o("./lib/event_emitter").EventEmitter,rt=o("./range").Range,it=function(){function j(_){this.session=_,this.doc=_.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var $=this;this.cursor.on("change",function(et){$.$cursorChanged=!0,$.$silent||$._emit("changeCursor"),!$.$isEmpty&&!$.$silent&&$._emit("changeSelection"),!$.$keepDesiredColumnOnChange&&et.old.column!=et.value.column&&($.$desiredColumn=null)}),this.anchor.on("change",function(){$.$anchorChanged=!0,!$.$isEmpty&&!$.$silent&&$._emit("changeSelection")})}return j.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},j.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},j.prototype.getCursor=function(){return this.lead.getPosition()},j.prototype.setAnchor=function(_,$){this.$isEmpty=!1,this.anchor.setPosition(_,$)},j.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},j.prototype.getSelectionLead=function(){return this.lead.getPosition()},j.prototype.isBackwards=function(){var _=this.anchor,$=this.lead;return _.row>$.row||_.row==$.row&&_.column>$.column},j.prototype.getRange=function(){var _=this.anchor,$=this.lead;return this.$isEmpty?rt.fromPoints($,$):this.isBackwards()?rt.fromPoints($,_):rt.fromPoints(_,$)},j.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},j.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},j.prototype.setRange=function(_,$){var et=$?_.end:_.start,nt=$?_.start:_.end;this.$setSelection(et.row,et.column,nt.row,nt.column)},j.prototype.$setSelection=function(_,$,et,nt){if(!this.$silent){var at=this.$isEmpty,ct=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(_,$),this.cursor.setPosition(et,nt),this.$isEmpty=!rt.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||at!=this.$isEmpty||ct)&&this._emit("changeSelection")}},j.prototype.$moveSelection=function(_){var $=this.lead;this.$isEmpty&&this.setSelectionAnchor($.row,$.column),_.call(this)},j.prototype.selectTo=function(_,$){this.$moveSelection(function(){this.moveCursorTo(_,$)})},j.prototype.selectToPosition=function(_){this.$moveSelection(function(){this.moveCursorToPosition(_)})},j.prototype.moveTo=function(_,$){this.clearSelection(),this.moveCursorTo(_,$)},j.prototype.moveToPosition=function(_){this.clearSelection(),this.moveCursorToPosition(_)},j.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},j.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},j.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},j.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},j.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},j.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},j.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},j.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},j.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},j.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},j.prototype.getWordRange=function(_,$){if(typeof $>"u"){var et=_||this.lead;_=et.row,$=et.column}return this.session.getWordRange(_,$)},j.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},j.prototype.selectAWord=function(){var _=this.getCursor(),$=this.session.getAWordRange(_.row,_.column);this.setSelectionRange($)},j.prototype.getLineRange=function(_,$){var et=typeof _=="number"?_:this.lead.row,nt,at=this.session.getFoldLine(et);return at?(et=at.start.row,nt=at.end.row):nt=et,$===!0?new rt(et,0,nt,this.session.getLine(nt).length):new rt(et,0,nt+1,0)},j.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},j.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},j.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},j.prototype.wouldMoveIntoSoftTab=function(_,$,et){var nt=_.column,at=_.column+$;return et<0&&(nt=_.column-$,at=_.column),this.session.isTabStop(_)&&this.doc.getLine(_.row).slice(nt,at).split(" ").length-1==$},j.prototype.moveCursorLeft=function(){var _=this.lead.getPosition(),$;if($=this.session.getFoldAt(_.row,_.column,-1))this.moveCursorTo($.start.row,$.start.column);else if(_.column===0)_.row>0&&this.moveCursorTo(_.row-1,this.doc.getLine(_.row-1).length);else{var et=this.session.getTabSize();this.wouldMoveIntoSoftTab(_,et,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-et):this.moveCursorBy(0,-1)}},j.prototype.moveCursorRight=function(){var _=this.lead.getPosition(),$;if($=this.session.getFoldAt(_.row,_.column,1))this.moveCursorTo($.end.row,$.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var et=this.session.getTabSize(),_=this.lead;this.wouldMoveIntoSoftTab(_,et,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,et):this.moveCursorBy(0,1)}},j.prototype.moveCursorLineStart=function(){var _=this.lead.row,$=this.lead.column,et=this.session.documentToScreenRow(_,$),nt=this.session.screenToDocumentPosition(et,0),at=this.session.getDisplayLine(_,null,nt.row,nt.column),ct=at.match(/^\s*/);ct[0].length!=$&&!this.session.$useEmacsStyleLineStart&&(nt.column+=ct[0].length),this.moveCursorToPosition(nt)},j.prototype.moveCursorLineEnd=function(){var _=this.lead,$=this.session.getDocumentLastRowColumnPosition(_.row,_.column);if(this.lead.column==$.column){var et=this.session.getLine($.row);if($.column==et.length){var nt=et.search(/\s+$/);nt>0&&($.column=nt)}}this.moveCursorTo($.row,$.column)},j.prototype.moveCursorFileEnd=function(){var _=this.doc.getLength()-1,$=this.doc.getLine(_).length;this.moveCursorTo(_,$)},j.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},j.prototype.moveCursorLongWordRight=function(){var _=this.lead.row,$=this.lead.column,et=this.doc.getLine(_),nt=et.substring($);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var at=this.session.getFoldAt(_,$,1);if(at){this.moveCursorTo(at.end.row,at.end.column);return}if(this.session.nonTokenRe.exec(nt)&&($+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,nt=et.substring($)),$>=et.length){this.moveCursorTo(_,et.length),this.moveCursorRight(),_<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(nt)&&($+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(_,$)},j.prototype.moveCursorLongWordLeft=function(){var _=this.lead.row,$=this.lead.column,et;if(et=this.session.getFoldAt(_,$,-1)){this.moveCursorTo(et.start.row,et.start.column);return}var nt=this.session.getFoldStringAt(_,$,-1);nt==null&&(nt=this.doc.getLine(_).substring(0,$));var at=st.stringReverse(nt);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(at)&&($-=this.session.nonTokenRe.lastIndex,at=at.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),$<=0){this.moveCursorTo(_,0),this.moveCursorLeft(),_>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(at)&&($-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(_,$)},j.prototype.$shortWordEndIndex=function(_){var $=0,et,nt=/\s/,at=this.session.tokenRe;if(at.lastIndex=0,this.session.tokenRe.exec(_))$=this.session.tokenRe.lastIndex;else{for(;(et=_[$])&&nt.test(et);)$++;if($<1){for(at.lastIndex=0;(et=_[$])&&!at.test(et);)if(at.lastIndex=0,$++,nt.test(et))if($>2){$--;break}else{for(;(et=_[$])&&nt.test(et);)$++;if($>2)break}}}return at.lastIndex=0,$},j.prototype.moveCursorShortWordRight=function(){var _=this.lead.row,$=this.lead.column,et=this.doc.getLine(_),nt=et.substring($),at=this.session.getFoldAt(_,$,1);if(at)return this.moveCursorTo(at.end.row,at.end.column);if($==et.length){var ct=this.doc.getLength();do _++,nt=this.doc.getLine(_);while(_<ct&&/^\s*$/.test(nt));/^\s+/.test(nt)||(nt=""),$=0}var ht=this.$shortWordEndIndex(nt);this.moveCursorTo(_,$+ht)},j.prototype.moveCursorShortWordLeft=function(){var _=this.lead.row,$=this.lead.column,et;if(et=this.session.getFoldAt(_,$,-1))return this.moveCursorTo(et.start.row,et.start.column);var nt=this.session.getLine(_).substring(0,$);if($===0){do _--,nt=this.doc.getLine(_);while(_>0&&/^\s*$/.test(nt));$=nt.length,/\s+$/.test(nt)||(nt="")}var at=st.stringReverse(nt),ct=this.$shortWordEndIndex(at);return this.moveCursorTo(_,$-ct)},j.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},j.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},j.prototype.moveCursorBy=function(_,$){var et=this.session.documentToScreenPosition(this.lead.row,this.lead.column),nt;if($===0&&(_!==0&&(this.session.$bidiHandler.isBidiRow(et.row,this.lead.row)?(nt=this.session.$bidiHandler.getPosLeft(et.column),et.column=Math.round(nt/this.session.$bidiHandler.charWidths[0])):nt=et.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?et.column=this.$desiredColumn:this.$desiredColumn=et.column),_!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var at=this.session.lineWidgets[this.lead.row];_<0?_-=at.rowsAbove||0:_>0&&(_+=at.rowCount-(at.rowsAbove||0))}var ct=this.session.screenToDocumentPosition(et.row+_,et.column,nt);_!==0&&$===0&&ct.row===this.lead.row&&(ct.column,this.lead.column),this.moveCursorTo(ct.row,ct.column+$,$===0)},j.prototype.moveCursorToPosition=function(_){this.moveCursorTo(_.row,_.column)},j.prototype.moveCursorTo=function(_,$,et){var nt=this.session.getFoldAt(_,$,1);nt&&(_=nt.start.row,$=nt.start.column),this.$keepDesiredColumnOnChange=!0;var at=this.session.getLine(_);/[\uDC00-\uDFFF]/.test(at.charAt($))&&at.charAt($-1)&&(this.lead.row==_&&this.lead.column==$+1?$=$-1:$=$+1),this.lead.setPosition(_,$),this.$keepDesiredColumnOnChange=!1,et||(this.$desiredColumn=null)},j.prototype.moveCursorToScreen=function(_,$,et){var nt=this.session.screenToDocumentPosition(_,$);this.moveCursorTo(nt.row,nt.column,et)},j.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},j.prototype.fromOrientedRange=function(_){this.setSelectionRange(_,_.cursor==_.start),this.$desiredColumn=_.desiredColumn||this.$desiredColumn},j.prototype.toOrientedRange=function(_){var $=this.getRange();return _?(_.start.column=$.start.column,_.start.row=$.start.row,_.end.column=$.end.column,_.end.row=$.end.row):_=$,_.cursor=this.isBackwards()?_.start:_.end,_.desiredColumn=this.$desiredColumn,_},j.prototype.getRangeOfMovements=function(_){var $=this.getCursor();try{_(this);var et=this.getCursor();return rt.fromPoints($,et)}catch{return rt.fromPoints($,$)}finally{this.moveCursorToPosition($)}},j.prototype.toJSON=function(){if(this.rangeCount)var _=this.ranges.map(function($){var et=$.clone();return et.isBackwards=$.cursor==$.start,et});else{var _=this.getRange();_.isBackwards=this.isBackwards()}return _},j.prototype.fromJSON=function(_){if(_.start==null)if(this.rangeList&&_.length>1){this.toSingleRange(_[0]);for(var $=_.length;$--;){var et=rt.fromPoints(_[$].start,_[$].end);_[$].isBackwards&&(et.cursor=et.start),this.addRange(et,!0)}return}else _=_[0];this.rangeList&&this.toSingleRange(_),this.setSelectionRange(_,_.isBackwards)},j.prototype.isEqual=function(_){if((_.length||this.rangeCount)&&_.length!=this.rangeCount)return!1;if(!_.length||!this.ranges)return this.getRange().isEqual(_);for(var $=this.ranges.length;$--;)if(!this.ranges[$].isEqual(_[$]))return!1;return!0},j}();it.prototype.setSelectionAnchor=it.prototype.setAnchor,it.prototype.getSelectionAnchor=it.prototype.getAnchor,it.prototype.setSelectionRange=it.prototype.setRange,_e.implement(it.prototype,ot),a.Selection=it}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(o,a,tt){var _e=o("./lib/report_error").reportError,st=2e3,ot=function(){function rt(it){this.splitRegex,this.states=it,this.regExps={},this.matchMappings={};for(var j in this.states){for(var _=this.states[j],$=[],et=0,nt=this.matchMappings[j]={defaultToken:"text"},at="g",ct=[],ht=0;ht<_.length;ht++){var ut=_[ht];if(ut.defaultToken&&(nt.defaultToken=ut.defaultToken),ut.caseInsensitive&&at.indexOf("i")===-1&&(at+="i"),ut.unicode&&at.indexOf("u")===-1&&(at+="u"),ut.regex!=null){ut.regex instanceof RegExp&&(ut.regex=ut.regex.toString().slice(1,-1));var dt=ut.regex,mt=new RegExp("(?:("+dt+")|(.))").exec("a").length-2;Array.isArray(ut.token)?ut.token.length==1||mt==1?ut.token=ut.token[0]:mt-1!=ut.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:ut,groupCount:mt-1}),ut.token=ut.token[0]):(ut.tokenArray=ut.token,ut.token=null,ut.onMatch=this.$arrayTokens):typeof ut.token=="function"&&!ut.onMatch&&(mt>1?ut.onMatch=this.$applyToken:ut.onMatch=ut.token),mt>1&&(/\\\d/.test(ut.regex)?dt=ut.regex.replace(/\\([0-9]+)/g,function(gt,lt){return"\\"+(parseInt(lt,10)+et+1)}):(mt=1,dt=this.removeCapturingGroups(ut.regex)),!ut.splitRegex&&typeof ut.token!="string"&&ct.push(ut)),nt[et]=ht,et+=mt,$.push(dt),ut.onMatch||(ut.onMatch=null)}}$.length||(nt[0]=0,$.push("$")),ct.forEach(function(gt){gt.splitRegex=this.createSplitterRegexp(gt.regex,at)},this),this.regExps[j]=new RegExp("("+$.join(")|(")+")|($)",at)}}return rt.prototype.$setMaxTokenCount=function(it){st=it|0},rt.prototype.$applyToken=function(it){var j=this.splitRegex.exec(it).slice(1),_=this.token.apply(this,j);if(typeof _=="string")return[{type:_,value:it}];for(var $=[],et=0,nt=_.length;et<nt;et++)j[et]&&($[$.length]={type:_[et],value:j[et]});return $},rt.prototype.$arrayTokens=function(it){if(!it)return[];var j=this.splitRegex.exec(it);if(!j)return"text";for(var _=[],$=this.tokenArray,et=0,nt=$.length;et<nt;et++)j[et+1]&&(_[_.length]={type:$[et],value:j[et+1]});return _},rt.prototype.removeCapturingGroups=function(it){var j=it.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(_,$){return $?"(?:":_});return j},rt.prototype.createSplitterRegexp=function(it,j){if(it.indexOf("(?=")!=-1){var _=0,$=!1,et={};it.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(nt,at,ct,ht,ut,dt){return $?$=ut!="]":ut?$=!0:ht?(_==et.stack&&(et.end=dt+1,et.stack=-1),_--):ct&&(_++,ct.length!=1&&(et.stack=_,et.start=dt)),nt}),et.end!=null&&/^\)*$/.test(it.substr(et.end))&&(it=it.substring(0,et.start)+it.substr(et.end))}return it.charAt(0)!="^"&&(it="^"+it),it.charAt(it.length-1)!="$"&&(it+="$"),new RegExp(it,(j||"").replace("g",""))},rt.prototype.getLineTokens=function(it,j){if(j&&typeof j!="string"){var _=j.slice(0);j=_[0],j==="#tmp"&&(_.shift(),j=_.shift())}else var _=[];var $=j||"start",et=this.states[$];et||($="start",et=this.states[$]);var nt=this.matchMappings[$],at=this.regExps[$];at.lastIndex=0;for(var ct,ht=[],ut=0,dt=0,mt={type:null,value:""};ct=at.exec(it);){var gt=nt.defaultToken,lt=null,St=ct[0],xt=at.lastIndex;if(xt-St.length>ut){var yt=it.substring(ut,xt-St.length);mt.type==gt?mt.value+=yt:(mt.type&&ht.push(mt),mt={type:gt,value:yt})}for(var _t=0;_t<ct.length-2;_t++)if(ct[_t+1]!==void 0){lt=et[nt[_t]],lt.onMatch?gt=lt.onMatch(St,$,_,it):gt=lt.token,lt.next&&(typeof lt.next=="string"?$=lt.next:$=lt.next($,_),et=this.states[$],et||(this.reportError("state doesn't exist",$),$="start",et=this.states[$]),nt=this.matchMappings[$],ut=xt,at=this.regExps[$],at.lastIndex=xt),lt.consumeLineEnd&&(ut=xt);break}if(St){if(typeof gt=="string")(!lt||lt.merge!==!1)&&mt.type===gt?mt.value+=St:(mt.type&&ht.push(mt),mt={type:gt,value:St});else if(gt){mt.type&&ht.push(mt),mt={type:null,value:""};for(var _t=0;_t<gt.length;_t++)ht.push(gt[_t])}}if(ut==it.length)break;if(ut=xt,dt++>st){for(dt>2*it.length&&this.reportError("infinite loop with in ace tokenizer",{startState:j,line:it});ut<it.length;)mt.type&&ht.push(mt),mt={value:it.substring(ut,ut+=500),type:"overflow"};$="start",_=[];break}}return mt.type&&ht.push(mt),_.length>1&&_[0]!==$&&_.unshift("#tmp",$),{tokens:ht,state:_.length?_:$}},rt}();ot.prototype.reportError=_e,a.Tokenizer=ot}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(o,a,tt){var _e=o("../lib/deep_copy").deepCopy,st;st=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(it,j){if(!j){for(var _ in it)this.$rules[_]=it[_];return}for(var _ in it){for(var $=it[_],et=0;et<$.length;et++){var nt=$[et];(nt.next||nt.onMatch)&&(typeof nt.next=="string"&&nt.next.indexOf(j)!==0&&(nt.next=j+nt.next),nt.nextState&&nt.nextState.indexOf(j)!==0&&(nt.nextState=j+nt.nextState))}this.$rules[j+_]=$}},this.getRules=function(){return this.$rules},this.embedRules=function(it,j,_,$,et){var nt=typeof it=="function"?new it().getRules():it;if($)for(var at=0;at<$.length;at++)$[at]=j+$[at];else{$=[];for(var ct in nt)$.push(j+ct)}if(this.addRules(nt,j),_)for(var ht=Array.prototype[et?"push":"unshift"],at=0;at<$.length;at++)ht.apply(this.$rules[$[at]],_e(_));this.$embeds||(this.$embeds=[]),this.$embeds.push(j)},this.getEmbeds=function(){return this.$embeds};var ot=function(it,j){return(it!="start"||j.length)&&j.unshift(this.nextState,it),this.nextState},rt=function(it,j){return j.shift(),j.shift()||"start"};this.normalizeRules=function(){var it=0,j=this.$rules;function _($){var et=j[$];et.processed=!0;for(var nt=0;nt<et.length;nt++){var at=et[nt],ct=null;Array.isArray(at)&&(ct=at,at={}),!at.regex&&at.start&&(at.regex=at.start,at.next||(at.next=[]),at.next.push({defaultToken:at.token},{token:at.token+".end",regex:at.end||at.start,next:"pop"}),at.token=at.token+".start",at.push=!0);var ht=at.next||at.push;if(ht&&Array.isArray(ht)){var ut=at.stateName;ut||(ut=at.token,typeof ut!="string"&&(ut=ut[0]||""),j[ut]&&(ut+=it++)),j[ut]=ht,at.next=ut,_(ut)}else ht=="pop"&&(at.next=rt);if(at.push&&(at.nextState=at.next||at.push,at.next=ot,delete at.push),at.rules)for(var dt in at.rules)j[dt]?j[dt].push&&j[dt].push.apply(j[dt],at.rules[dt]):j[dt]=at.rules[dt];var mt=typeof at=="string"?at:at.include;if(mt&&(mt==="$self"&&(mt="start"),Array.isArray(mt)?ct=mt.map(function(lt){return j[lt]}):ct=j[mt]),ct){var gt=[nt,1].concat(ct);at.noEscape&&(gt=gt.filter(function(lt){return!lt.next})),et.splice.apply(et,gt),nt--}at.keywordMap&&(at.token=this.createKeywordMapper(at.keywordMap,at.defaultToken||"text",at.caseInsensitive),delete at.defaultToken)}}Object.keys(j).forEach(_,this)},this.createKeywordMapper=function(it,j,_,$){var et=Object.create(null);return this.$keywordList=[],Object.keys(it).forEach(function(nt){for(var at=it[nt],ct=at.split($||"|"),ht=ct.length;ht--;){var ut=ct[ht];this.$keywordList.push(ut),_&&(ut=ut.toLowerCase()),et[ut]=nt}},this),it=null,_?function(nt){return et[nt.toLowerCase()]||j}:function(nt){return et[nt]||j}},this.getKeywords=function(){return this.$keywords}}).call(st.prototype),a.TextHighlightRules=st}),ace.define("ace/mode/behaviour",["require","exports","module"],function(o,a,tt){var _e;_e=function(){this.$behaviours={}},(function(){this.add=function(st,ot,rt){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[st]:this.$behaviours[st]={}}this.$behaviours[st][ot]=rt},this.addBehaviours=function(st){for(var ot in st)for(var rt in st[ot])this.add(ot,rt,st[ot][rt])},this.remove=function(st){this.$behaviours&&this.$behaviours[st]&&delete this.$behaviours[st]},this.inherit=function(st,ot){if(typeof st=="function")var rt=new st().getBehaviours(ot);else var rt=st.getBehaviours(ot);this.addBehaviours(rt)},this.getBehaviours=function(st){if(st){for(var ot={},rt=0;rt<st.length;rt++)this.$behaviours[st[rt]]&&(ot[st[rt]]=this.$behaviours[st[rt]]);return ot}else return this.$behaviours}}).call(_e.prototype),a.Behaviour=_e}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(o,a,tt){var _e=o("./range").Range,st=function(){function ot(rt,it,j){this.$session=rt,this.$row=it,this.$rowTokens=rt.getTokens(it);var _=rt.getTokenAt(it,j);this.$tokenIndex=_?_.index:-1}return ot.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},ot.prototype.stepForward=function(){this.$tokenIndex+=1;for(var rt;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,rt||(rt=this.$session.getLength()),this.$row>=rt)return this.$row=rt-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},ot.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},ot.prototype.getCurrentTokenRow=function(){return this.$row},ot.prototype.getCurrentTokenColumn=function(){var rt=this.$rowTokens,it=this.$tokenIndex,j=rt[it].start;if(j!==void 0)return j;for(j=0;it>0;)it-=1,j+=rt[it].value.length;return j},ot.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},ot.prototype.getCurrentTokenRange=function(){var rt=this.$rowTokens[this.$tokenIndex],it=this.getCurrentTokenColumn();return new _e(this.$row,it,this.$row,it+rt.value.length)},ot}();a.TokenIterator=st}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(o,a,tt){var _e=o("../../lib/oop"),st=o("../behaviour").Behaviour,ot=o("../../token_iterator").TokenIterator,rt=o("../../lib/lang"),it=["text","paren.rparen","rparen","paren","punctuation.operator"],j=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],_,$={},et={'"':'"',"'":"'"},nt=function(ht){var ut=-1;if(ht.multiSelect&&(ut=ht.selection.index,$.rangeCount!=ht.multiSelect.rangeCount&&($={rangeCount:ht.multiSelect.rangeCount})),$[ut])return _=$[ut];_=$[ut]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},at=function(ht,ut,dt,mt){var gt=ht.end.row-ht.start.row;return{text:dt+ut+mt,selection:[0,ht.start.column+1,gt,ht.end.column+(gt?0:1)]}},ct;ct=function(ht){ht=ht||{},this.add("braces","insertion",function(ut,dt,mt,gt,lt){var St=mt.getCursorPosition(),xt=gt.doc.getLine(St.row);if(lt=="{"){nt(mt);var yt=mt.getSelectionRange(),_t=gt.doc.getTextRange(yt),kt=gt.getTokenAt(St.row,St.column);if(_t!==""&&_t!=="{"&&mt.getWrapBehavioursEnabled())return at(yt,_t,"{","}");if(kt&&/(?:string)\.quasi|\.xml/.test(kt.type)){var Et=[/tag\-(?:open|name)/,/attribute\-name/];return Et.some(function(Ft){return Ft.test(kt.type)})||/(string)\.quasi/.test(kt.type)&&kt.value[St.column-kt.start-1]!=="$"?void 0:(ct.recordAutoInsert(mt,gt,"}"),{text:"{}",selection:[1,1]})}else if(ct.isSaneInsertion(mt,gt))return/[\]\}\)]/.test(xt[St.column])||mt.inMultiSelectMode||ht.braces?(ct.recordAutoInsert(mt,gt,"}"),{text:"{}",selection:[1,1]}):(ct.recordMaybeInsert(mt,gt,"{"),{text:"{",selection:[1,1]})}else if(lt=="}"){nt(mt);var $t=xt.substring(St.column,St.column+1);if($t=="}"){var Tt=gt.$findOpeningBracket("}",{column:St.column+1,row:St.row});if(Tt!==null&&ct.isAutoInsertedClosing(St,xt,lt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(lt==`
`||lt==`\r
`){nt(mt);var At="";ct.isMaybeInsertedClosing(St,xt)&&(At=rt.stringRepeat("}",_.maybeInsertedBrackets),ct.clearMaybeInsertedClosing());var $t=xt.substring(St.column,St.column+1);if($t==="}"){var Mt=gt.findMatchingBracket({row:St.row,column:St.column+1},"}");if(!Mt)return null;var Ot=this.$getIndent(gt.getLine(Mt.row))}else if(At)var Ot=this.$getIndent(xt);else{ct.clearMaybeInsertedClosing();return}var Pt=Ot+gt.getTabString();return{text:`
`+Pt+`
`+Ot+At,selection:[1,Pt.length,1,Pt.length]}}else ct.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(ut,dt,mt,gt,lt){var St=gt.doc.getTextRange(lt);if(!lt.isMultiLine()&&St=="{"){nt(mt);var xt=gt.doc.getLine(lt.start.row),yt=xt.substring(lt.end.column,lt.end.column+1);if(yt=="}")return lt.end.column++,lt;_.maybeInsertedBrackets--}}),this.add("parens","insertion",function(ut,dt,mt,gt,lt){if(lt=="("){nt(mt);var St=mt.getSelectionRange(),xt=gt.doc.getTextRange(St);if(xt!==""&&mt.getWrapBehavioursEnabled())return at(St,xt,"(",")");if(ct.isSaneInsertion(mt,gt))return ct.recordAutoInsert(mt,gt,")"),{text:"()",selection:[1,1]}}else if(lt==")"){nt(mt);var yt=mt.getCursorPosition(),_t=gt.doc.getLine(yt.row),kt=_t.substring(yt.column,yt.column+1);if(kt==")"){var Et=gt.$findOpeningBracket(")",{column:yt.column+1,row:yt.row});if(Et!==null&&ct.isAutoInsertedClosing(yt,_t,lt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(ut,dt,mt,gt,lt){var St=gt.doc.getTextRange(lt);if(!lt.isMultiLine()&&St=="("){nt(mt);var xt=gt.doc.getLine(lt.start.row),yt=xt.substring(lt.start.column+1,lt.start.column+2);if(yt==")")return lt.end.column++,lt}}),this.add("brackets","insertion",function(ut,dt,mt,gt,lt){if(lt=="["){nt(mt);var St=mt.getSelectionRange(),xt=gt.doc.getTextRange(St);if(xt!==""&&mt.getWrapBehavioursEnabled())return at(St,xt,"[","]");if(ct.isSaneInsertion(mt,gt))return ct.recordAutoInsert(mt,gt,"]"),{text:"[]",selection:[1,1]}}else if(lt=="]"){nt(mt);var yt=mt.getCursorPosition(),_t=gt.doc.getLine(yt.row),kt=_t.substring(yt.column,yt.column+1);if(kt=="]"){var Et=gt.$findOpeningBracket("]",{column:yt.column+1,row:yt.row});if(Et!==null&&ct.isAutoInsertedClosing(yt,_t,lt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(ut,dt,mt,gt,lt){var St=gt.doc.getTextRange(lt);if(!lt.isMultiLine()&&St=="["){nt(mt);var xt=gt.doc.getLine(lt.start.row),yt=xt.substring(lt.start.column+1,lt.start.column+2);if(yt=="]")return lt.end.column++,lt}}),this.add("string_dquotes","insertion",function(ut,dt,mt,gt,lt){var St=gt.$mode.$quotes||et;if(lt.length==1&&St[lt]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(lt)!=-1)return;nt(mt);var xt=lt,yt=mt.getSelectionRange(),_t=gt.doc.getTextRange(yt);if(_t!==""&&(_t.length!=1||!St[_t])&&mt.getWrapBehavioursEnabled())return at(yt,_t,xt,xt);if(!_t){var kt=mt.getCursorPosition(),Et=gt.doc.getLine(kt.row),$t=Et.substring(kt.column-1,kt.column),Tt=Et.substring(kt.column,kt.column+1),At=gt.getTokenAt(kt.row,kt.column),Mt=gt.getTokenAt(kt.row,kt.column+1);if($t=="\\"&&At&&/escape/.test(At.type))return null;var Ot=At&&/string|escape/.test(At.type),Pt=!Mt||/string|escape/.test(Mt.type),Ft;if(Tt==xt)Ft=Ot!==Pt,Ft&&/string\.end/.test(Mt.type)&&(Ft=!1);else{if(Ot&&!Pt||Ot&&Pt)return null;var zt=gt.$mode.tokenRe;zt.lastIndex=0;var qt=zt.test($t);zt.lastIndex=0;var Gt=zt.test(Tt),Wt=gt.$mode.$pairQuotesAfter,Xt=Wt&&Wt[xt]&&Wt[xt].test($t);if(!Xt&&qt||Gt||Tt&&!/[\s;,.})\]\\]/.test(Tt))return null;var rr=Et[kt.column-2];if($t==xt&&(rr==xt||zt.test(rr)))return null;Ft=!0}return{text:Ft?xt+xt:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(ut,dt,mt,gt,lt){var St=gt.$mode.$quotes||et,xt=gt.doc.getTextRange(lt);if(!lt.isMultiLine()&&St.hasOwnProperty(xt)){nt(mt);var yt=gt.doc.getLine(lt.start.row),_t=yt.substring(lt.start.column+1,lt.start.column+2);if(_t==xt)return lt.end.column++,lt}}),ht.closeDocComment!==!1&&this.add("doc comment end","insertion",function(ut,dt,mt,gt,lt){if(ut==="doc-start"&&(lt===`
`||lt===`\r
`)&&mt.selection.isEmpty()){var St=mt.getCursorPosition();if(St.column===0)return;for(var xt=gt.doc.getLine(St.row),yt=gt.doc.getLine(St.row+1),_t=gt.getTokens(St.row),kt=0,Et=0;Et<_t.length;Et++){kt+=_t[Et].value.length;var $t=_t[Et];if(kt>=St.column){if(kt===St.column){if(!/\.doc/.test($t.type))return;if(/\*\//.test($t.value)){var Tt=_t[Et+1];if(!Tt||!/\.doc/.test(Tt.type))return}}var At=St.column-(kt-$t.value.length),Mt=$t.value.indexOf("*/"),Ot=$t.value.indexOf("/**",Mt>-1?Mt+2:0);if(Ot!==-1&&At>Ot&&At<Ot+3||Mt!==-1&&Ot!==-1&&At>=Mt&&At<=Ot||!/\.doc/.test($t.type))return;break}}var Pt=this.$getIndent(xt);if(/\s*\*/.test(yt))return/^\s*\*/.test(xt)?{text:lt+Pt+"* ",selection:[1,2+Pt.length,1,2+Pt.length]}:{text:lt+Pt+" * ",selection:[1,3+Pt.length,1,3+Pt.length]};if(/\/\*\*/.test(xt.substring(0,St.column)))return{text:lt+Pt+" * "+lt+" "+Pt+"*/",selection:[1,4+Pt.length,1,4+Pt.length]}}})},ct.isSaneInsertion=function(ht,ut){var dt=ht.getCursorPosition(),mt=new ot(ut,dt.row,dt.column);if(!this.$matchTokenType(mt.getCurrentToken()||"text",it)){if(/[)}\]]/.test(ht.session.getLine(dt.row)[dt.column]))return!0;var gt=new ot(ut,dt.row,dt.column+1);if(!this.$matchTokenType(gt.getCurrentToken()||"text",it))return!1}return mt.stepForward(),mt.getCurrentTokenRow()!==dt.row||this.$matchTokenType(mt.getCurrentToken()||"text",j)},ct.$matchTokenType=function(ht,ut){return ut.indexOf(ht.type||ht)>-1},ct.recordAutoInsert=function(ht,ut,dt){var mt=ht.getCursorPosition(),gt=ut.doc.getLine(mt.row);this.isAutoInsertedClosing(mt,gt,_.autoInsertedLineEnd[0])||(_.autoInsertedBrackets=0),_.autoInsertedRow=mt.row,_.autoInsertedLineEnd=dt+gt.substr(mt.column),_.autoInsertedBrackets++},ct.recordMaybeInsert=function(ht,ut,dt){var mt=ht.getCursorPosition(),gt=ut.doc.getLine(mt.row);this.isMaybeInsertedClosing(mt,gt)||(_.maybeInsertedBrackets=0),_.maybeInsertedRow=mt.row,_.maybeInsertedLineStart=gt.substr(0,mt.column)+dt,_.maybeInsertedLineEnd=gt.substr(mt.column),_.maybeInsertedBrackets++},ct.isAutoInsertedClosing=function(ht,ut,dt){return _.autoInsertedBrackets>0&&ht.row===_.autoInsertedRow&&dt===_.autoInsertedLineEnd[0]&&ut.substr(ht.column)===_.autoInsertedLineEnd},ct.isMaybeInsertedClosing=function(ht,ut){return _.maybeInsertedBrackets>0&&ht.row===_.maybeInsertedRow&&ut.substr(ht.column)===_.maybeInsertedLineEnd&&ut.substr(0,ht.column)==_.maybeInsertedLineStart},ct.popAutoInsertedClosing=function(){_.autoInsertedLineEnd=_.autoInsertedLineEnd.substr(1),_.autoInsertedBrackets--},ct.clearMaybeInsertedClosing=function(){_&&(_.maybeInsertedBrackets=0,_.maybeInsertedRow=-1)},_e.inherits(ct,st),a.CstyleBehaviour=ct}),ace.define("ace/unicode",["require","exports","module"],function(o,a,tt){for(var _e=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],st=0,ot=[],rt=0;rt<_e.length;rt+=2)ot.push(st+=_e[rt]),_e[rt+1]&&ot.push(45,st+=_e[rt+1]);a.wordChars=String.fromCharCode.apply(null,ot)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(o,a,tt){var _e=o("../config"),st=o("../tokenizer").Tokenizer,ot=o("./text_highlight_rules").TextHighlightRules,rt=o("./behaviour/cstyle").CstyleBehaviour,it=o("../unicode"),j=o("../lib/lang"),_=o("../token_iterator").TokenIterator,$=o("../range").Range,et;et=function(){this.HighlightRules=ot},(function(){this.$defaultBehaviour=new rt,this.tokenRe=new RegExp("^["+it.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+it.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new st(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(nt,at,ct,ht){var ut=at.doc,dt=!0,mt=!0,gt=1/0,lt=at.getTabSize(),St=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var _t=this.lineCommentStart.map(j.escapeRegExp).join("|"),xt=this.lineCommentStart[0];else var _t=j.escapeRegExp(this.lineCommentStart),xt=this.lineCommentStart;_t=new RegExp("^(\\s*)(?:"+_t+") ?"),St=at.getUseSoftTabs();var $t=function(Gt,Wt){var Xt=Gt.match(_t);if(Xt){var rr=Xt[1].length,tr=Xt[0].length;!Mt(Gt,rr,tr)&&Xt[0][tr-1]==" "&&tr--,ut.removeInLine(Wt,rr,tr)}},At=xt+" ",Et=function(Gt,Wt){(!dt||/\S/.test(Gt))&&(Mt(Gt,gt,gt)?ut.insertInLine({row:Wt,column:gt},At):ut.insertInLine({row:Wt,column:gt},xt))},Tt=function(Gt,Wt){return _t.test(Gt)},Mt=function(Gt,Wt,Xt){for(var rr=0;Wt--&&Gt.charAt(Wt)==" ";)rr++;if(rr%lt!=0)return!1;for(var rr=0;Gt.charAt(Xt++)==" ";)rr++;return lt>2?rr%lt!=lt-1:rr%lt==0}}else{if(!this.blockComment)return!1;var xt=this.blockComment.start,yt=this.blockComment.end,_t=new RegExp("^(\\s*)(?:"+j.escapeRegExp(xt)+")"),kt=new RegExp("(?:"+j.escapeRegExp(yt)+")\\s*$"),Et=function(Ft,zt){Tt(Ft,zt)||(!dt||/\S/.test(Ft))&&(ut.insertInLine({row:zt,column:Ft.length},yt),ut.insertInLine({row:zt,column:gt},xt))},$t=function(Ft,zt){var qt;(qt=Ft.match(kt))&&ut.removeInLine(zt,Ft.length-qt[0].length,Ft.length),(qt=Ft.match(_t))&&ut.removeInLine(zt,qt[1].length,qt[0].length)},Tt=function(Ft,zt){if(_t.test(Ft))return!0;for(var qt=at.getTokens(zt),Gt=0;Gt<qt.length;Gt++)if(qt[Gt].type==="comment")return!0}}function Ot(Ft){for(var zt=ct;zt<=ht;zt++)Ft(ut.getLine(zt),zt)}var Pt=1/0;Ot(function(Ft,zt){var qt=Ft.search(/\S/);qt!==-1?(qt<gt&&(gt=qt),mt&&!Tt(Ft,zt)&&(mt=!1)):Pt>Ft.length&&(Pt=Ft.length)}),gt==1/0&&(gt=Pt,dt=!1,mt=!1),St&&gt%lt!=0&&(gt=Math.floor(gt/lt)*lt),Ot(mt?$t:Et)},this.toggleBlockComment=function(nt,at,ct,ht){var ut=this.blockComment;if(ut){!ut.start&&ut[0]&&(ut=ut[0]);var dt=new _(at,ht.row,ht.column),mt=dt.getCurrentToken();at.selection;var gt=at.selection.toOrientedRange(),lt,St;if(mt&&/comment/.test(mt.type)){for(var xt,yt;mt&&/comment/.test(mt.type);){var _t=mt.value.indexOf(ut.start);if(_t!=-1){var kt=dt.getCurrentTokenRow(),Et=dt.getCurrentTokenColumn()+_t;xt=new $(kt,Et,kt,Et+ut.start.length);break}mt=dt.stepBackward()}for(var dt=new _(at,ht.row,ht.column),mt=dt.getCurrentToken();mt&&/comment/.test(mt.type);){var _t=mt.value.indexOf(ut.end);if(_t!=-1){var kt=dt.getCurrentTokenRow(),Et=dt.getCurrentTokenColumn()+_t;yt=new $(kt,Et,kt,Et+ut.end.length);break}mt=dt.stepForward()}yt&&at.remove(yt),xt&&(at.remove(xt),lt=xt.start.row,St=-ut.start.length)}else St=ut.start.length,lt=ct.start.row,at.insert(ct.end,ut.end),at.insert(ct.start,ut.start);gt.start.row==lt&&(gt.start.column+=St),gt.end.row==lt&&(gt.end.column+=St),at.selection.fromOrientedRange(gt)}},this.getNextLineIndent=function(nt,at,ct){return this.$getIndent(at)},this.checkOutdent=function(nt,at,ct){return!1},this.autoOutdent=function(nt,at,ct){},this.$getIndent=function(nt){return nt.match(/^\s*/)[0]},this.createWorker=function(nt){return null},this.createModeDelegates=function(nt){this.$embeds=[],this.$modes={};for(var at in nt)if(nt[at]){var ct=nt[at],ht=ct.prototype.$id,ut=_e.$modes[ht];ut||(_e.$modes[ht]=ut=new ct),_e.$modes[at]||(_e.$modes[at]=ut),this.$embeds.push(at),this.$modes[at]=ut}for(var dt=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],mt=function(lt){(function(St){var xt=dt[lt],yt=St[xt];St[dt[lt]]=function(){return this.$delegator(xt,arguments,yt)}})(gt)},gt=this,at=0;at<dt.length;at++)mt(at)},this.$delegator=function(nt,at,ct){var ht=at[0]||"start";if(typeof ht!="string"){if(Array.isArray(ht[2])){var ut=ht[2][ht[2].length-1],dt=this.$modes[ut];if(dt)return dt[nt].apply(dt,[ht[1]].concat([].slice.call(at,1)))}ht=ht[0]||"start"}for(var mt=0;mt<this.$embeds.length;mt++)if(this.$modes[this.$embeds[mt]]){var gt=ht.split(this.$embeds[mt]);if(!gt[0]&&gt[1]){at[0]=gt[1];var dt=this.$modes[this.$embeds[mt]];return dt[nt].apply(dt,at)}}var lt=ct.apply(this,at);return ct?lt:void 0},this.transformAction=function(nt,at,ct,ht,ut){if(this.$behaviour){var dt=this.$behaviour.getBehaviours();for(var mt in dt)if(dt[mt][at]){var gt=dt[mt][at].apply(this,arguments);if(gt)return gt}}},this.getKeywords=function(nt){if(!this.completionKeywords){var at=this.$tokenizer.rules,ct=[];for(var ht in at)for(var ut=at[ht],dt=0,mt=ut.length;dt<mt;dt++)if(typeof ut[dt].token=="string")/keyword|support|storage/.test(ut[dt].token)&&ct.push(ut[dt].regex);else if(typeof ut[dt].token=="object"){for(var gt=0,lt=ut[dt].token.length;gt<lt;gt++)if(/keyword|support|storage/.test(ut[dt].token[gt])){var ht=ut[dt].regex.match(/\(.+?\)/g)[gt];ct.push(ht.substr(1,ht.length-2))}}this.completionKeywords=ct}return nt?ct.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(nt,at,ct,ht){var ut=this.$keywordList||this.$createKeywordList();return ut.map(function(dt){return{name:dt,value:dt,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(et.prototype),a.Mode=et}),ace.define("ace/apply_delta",["require","exports","module"],function(o,a,tt){a.applyDelta=function(_e,st,ot){var rt=st.start.row,it=st.start.column,j=_e[rt]||"";switch(st.action){case"insert":var _=st.lines;if(_.length===1)_e[rt]=j.substring(0,it)+st.lines[0]+j.substring(it);else{var $=[rt,1].concat(st.lines);_e.splice.apply(_e,$),_e[rt]=j.substring(0,it)+_e[rt],_e[rt+st.lines.length-1]+=j.substring(it)}break;case"remove":var et=st.end.column,nt=st.end.row;rt===nt?_e[rt]=j.substring(0,it)+j.substring(et):_e.splice(rt,nt-rt+1,j.substring(0,it)+_e[nt].substring(et));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(o,a,tt){var _e=o("./lib/oop"),st=o("./lib/event_emitter").EventEmitter,ot=function(){function j(_,$,et){this.$onChange=this.onChange.bind(this),this.attach(_),typeof $!="number"?this.setPosition($.row,$.column):this.setPosition($,et)}return j.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},j.prototype.getDocument=function(){return this.document},j.prototype.onChange=function(_){if(!(_.start.row==_.end.row&&_.start.row!=this.row)&&!(_.start.row>this.row)){var $=it(_,{row:this.row,column:this.column},this.$insertRight);this.setPosition($.row,$.column,!0)}},j.prototype.setPosition=function(_,$,et){var nt;if(et?nt={row:_,column:$}:nt=this.$clipPositionToDocument(_,$),!(this.row==nt.row&&this.column==nt.column)){var at={row:this.row,column:this.column};this.row=nt.row,this.column=nt.column,this._signal("change",{old:at,value:nt})}},j.prototype.detach=function(){this.document.off("change",this.$onChange)},j.prototype.attach=function(_){this.document=_||this.document,this.document.on("change",this.$onChange)},j.prototype.$clipPositionToDocument=function(_,$){var et={};return _>=this.document.getLength()?(et.row=Math.max(0,this.document.getLength()-1),et.column=this.document.getLine(et.row).length):_<0?(et.row=0,et.column=0):(et.row=_,et.column=Math.min(this.document.getLine(et.row).length,Math.max(0,$))),$<0&&(et.column=0),et},j}();ot.prototype.$insertRight=!1,_e.implement(ot.prototype,st);function rt(j,_,$){var et=$?j.column<=_.column:j.column<_.column;return j.row<_.row||j.row==_.row&&et}function it(j,_,$){var et=j.action=="insert",nt=(et?1:-1)*(j.end.row-j.start.row),at=(et?1:-1)*(j.end.column-j.start.column),ct=j.start,ht=et?ct:j.end;return rt(_,ct,$)?{row:_.row,column:_.column}:rt(ht,_,!$)?{row:_.row+nt,column:_.column+(_.row==ht.row?at:0)}:{row:ct.row,column:ct.column}}a.Anchor=ot}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(o,a,tt){var _e=o("./lib/oop"),st=o("./apply_delta").applyDelta,ot=o("./lib/event_emitter").EventEmitter,rt=o("./range").Range,it=o("./anchor").Anchor,j=function(){function _($){this.$lines=[""],$.length===0?this.$lines=[""]:Array.isArray($)?this.insertMergedLines({row:0,column:0},$):this.insert({row:0,column:0},$)}return _.prototype.setValue=function($){var et=this.getLength()-1;this.remove(new rt(0,0,et,this.getLine(et).length)),this.insert({row:0,column:0},$||"")},_.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},_.prototype.createAnchor=function($,et){return new it(this,$,et)},_.prototype.$detectNewLine=function($){var et=$.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=et?et[1]:`
`,this._signal("changeNewLineMode")},_.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},_.prototype.setNewLineMode=function($){this.$newLineMode!==$&&(this.$newLineMode=$,this._signal("changeNewLineMode"))},_.prototype.getNewLineMode=function(){return this.$newLineMode},_.prototype.isNewLine=function($){return $==`\r
`||$=="\r"||$==`
`},_.prototype.getLine=function($){return this.$lines[$]||""},_.prototype.getLines=function($,et){return this.$lines.slice($,et+1)},_.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},_.prototype.getLength=function(){return this.$lines.length},_.prototype.getTextRange=function($){return this.getLinesForRange($).join(this.getNewLineCharacter())},_.prototype.getLinesForRange=function($){var et;if($.start.row===$.end.row)et=[this.getLine($.start.row).substring($.start.column,$.end.column)];else{et=this.getLines($.start.row,$.end.row),et[0]=(et[0]||"").substring($.start.column);var nt=et.length-1;$.end.row-$.start.row==nt&&(et[nt]=et[nt].substring(0,$.end.column))}return et},_.prototype.insertLines=function($,et){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines($,et)},_.prototype.removeLines=function($,et){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines($,et)},_.prototype.insertNewLine=function($){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines($,["",""])},_.prototype.insert=function($,et){return this.getLength()<=1&&this.$detectNewLine(et),this.insertMergedLines($,this.$split(et))},_.prototype.insertInLine=function($,et){var nt=this.clippedPos($.row,$.column),at=this.pos($.row,$.column+et.length);return this.applyDelta({start:nt,end:at,action:"insert",lines:[et]},!0),this.clonePos(at)},_.prototype.clippedPos=function($,et){var nt=this.getLength();$===void 0?$=nt:$<0?$=0:$>=nt&&($=nt-1,et=void 0);var at=this.getLine($);return et==null&&(et=at.length),et=Math.min(Math.max(et,0),at.length),{row:$,column:et}},_.prototype.clonePos=function($){return{row:$.row,column:$.column}},_.prototype.pos=function($,et){return{row:$,column:et}},_.prototype.$clipPosition=function($){var et=this.getLength();return $.row>=et?($.row=Math.max(0,et-1),$.column=this.getLine(et-1).length):($.row=Math.max(0,$.row),$.column=Math.min(Math.max($.column,0),this.getLine($.row).length)),$},_.prototype.insertFullLines=function($,et){$=Math.min(Math.max($,0),this.getLength());var nt=0;$<this.getLength()?(et=et.concat([""]),nt=0):(et=[""].concat(et),$--,nt=this.$lines[$].length),this.insertMergedLines({row:$,column:nt},et)},_.prototype.insertMergedLines=function($,et){var nt=this.clippedPos($.row,$.column),at={row:nt.row+et.length-1,column:(et.length==1?nt.column:0)+et[et.length-1].length};return this.applyDelta({start:nt,end:at,action:"insert",lines:et}),this.clonePos(at)},_.prototype.remove=function($){var et=this.clippedPos($.start.row,$.start.column),nt=this.clippedPos($.end.row,$.end.column);return this.applyDelta({start:et,end:nt,action:"remove",lines:this.getLinesForRange({start:et,end:nt})}),this.clonePos(et)},_.prototype.removeInLine=function($,et,nt){var at=this.clippedPos($,et),ct=this.clippedPos($,nt);return this.applyDelta({start:at,end:ct,action:"remove",lines:this.getLinesForRange({start:at,end:ct})},!0),this.clonePos(at)},_.prototype.removeFullLines=function($,et){$=Math.min(Math.max(0,$),this.getLength()-1),et=Math.min(Math.max(0,et),this.getLength()-1);var nt=et==this.getLength()-1&&$>0,at=et<this.getLength()-1,ct=nt?$-1:$,ht=nt?this.getLine(ct).length:0,ut=at?et+1:et,dt=at?0:this.getLine(ut).length,mt=new rt(ct,ht,ut,dt),gt=this.$lines.slice($,et+1);return this.applyDelta({start:mt.start,end:mt.end,action:"remove",lines:this.getLinesForRange(mt)}),gt},_.prototype.removeNewLine=function($){$<this.getLength()-1&&$>=0&&this.applyDelta({start:this.pos($,this.getLine($).length),end:this.pos($+1,0),action:"remove",lines:["",""]})},_.prototype.replace=function($,et){if($ instanceof rt||($=rt.fromPoints($.start,$.end)),et.length===0&&$.isEmpty())return $.start;if(et==this.getTextRange($))return $.end;this.remove($);var nt;return et?nt=this.insert($.start,et):nt=$.start,nt},_.prototype.applyDeltas=function($){for(var et=0;et<$.length;et++)this.applyDelta($[et])},_.prototype.revertDeltas=function($){for(var et=$.length-1;et>=0;et--)this.revertDelta($[et])},_.prototype.applyDelta=function($,et){var nt=$.action=="insert";(nt?$.lines.length<=1&&!$.lines[0]:!rt.comparePoints($.start,$.end))||(nt&&$.lines.length>2e4?this.$splitAndapplyLargeDelta($,2e4):(st(this.$lines,$,et),this._signal("change",$)))},_.prototype.$safeApplyDelta=function($){var et=this.$lines.length;($.action=="remove"&&$.start.row<et&&$.end.row<et||$.action=="insert"&&$.start.row<=et)&&this.applyDelta($)},_.prototype.$splitAndapplyLargeDelta=function($,et){for(var nt=$.lines,at=nt.length-et+1,ct=$.start.row,ht=$.start.column,ut=0,dt=0;ut<at;ut=dt){dt+=et-1;var mt=nt.slice(ut,dt);mt.push(""),this.applyDelta({start:this.pos(ct+ut,ht),end:this.pos(ct+dt,ht=0),action:$.action,lines:mt},!0)}$.lines=nt.slice(ut),$.start.row=ct+ut,$.start.column=ht,this.applyDelta($,!0)},_.prototype.revertDelta=function($){this.$safeApplyDelta({start:this.clonePos($.start),end:this.clonePos($.end),action:$.action=="insert"?"remove":"insert",lines:$.lines.slice()})},_.prototype.indexToPosition=function($,et){for(var nt=this.$lines||this.getAllLines(),at=this.getNewLineCharacter().length,ct=et||0,ht=nt.length;ct<ht;ct++)if($-=nt[ct].length+at,$<0)return{row:ct,column:$+nt[ct].length+at};return{row:ht-1,column:$+nt[ht-1].length+at}},_.prototype.positionToIndex=function($,et){for(var nt=this.$lines||this.getAllLines(),at=this.getNewLineCharacter().length,ct=0,ht=Math.min($.row,nt.length),ut=et||0;ut<ht;++ut)ct+=nt[ut].length+at;return ct+$.column},_.prototype.$split=function($){return $.split(/\r\n|\r|\n/)},_}();j.prototype.$autoNewLine="",j.prototype.$newLineMode="auto",_e.implement(j.prototype,ot),a.Document=j}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(o,a,tt){var _e=o("./lib/oop"),st=o("./lib/event_emitter").EventEmitter,ot=function(){function rt(it,j){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=it;var _=this;this.$worker=function(){if(_.running){for(var $=new Date,et=_.currentLine,nt=-1,at=_.doc,ct=et;_.lines[et];)et++;var ht=at.getLength(),ut=0;for(_.running=!1;et<ht;){_.$tokenizeRow(et),nt=et;do et++;while(_.lines[et]);if(ut++,ut%5===0&&new Date-$>20){_.running=setTimeout(_.$worker,20);break}}_.currentLine=et,nt==-1&&(nt=et),ct<=nt&&_.fireUpdateEvent(ct,nt)}}}return rt.prototype.setTokenizer=function(it){this.tokenizer=it,this.lines=[],this.states=[],this.start(0)},rt.prototype.setDocument=function(it){this.doc=it,this.lines=[],this.states=[],this.stop()},rt.prototype.fireUpdateEvent=function(it,j){var _={first:it,last:j};this._signal("update",{data:_})},rt.prototype.start=function(it){this.currentLine=Math.min(it||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},rt.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},rt.prototype.$updateOnChange=function(it){var j=it.start.row,_=it.end.row-j;if(_===0)this.lines[j]=null;else if(it.action=="remove")this.lines.splice(j,_+1,null),this.states.splice(j,_+1,null);else{var $=Array(_+1);$.unshift(j,1),this.lines.splice.apply(this.lines,$),this.states.splice.apply(this.states,$)}this.currentLine=Math.min(j,this.currentLine,this.doc.getLength()),this.stop()},rt.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},rt.prototype.getTokens=function(it){return this.lines[it]||this.$tokenizeRow(it)},rt.prototype.getState=function(it){return this.currentLine==it&&this.$tokenizeRow(it),this.states[it]||"start"},rt.prototype.$tokenizeRow=function(it){var j=this.doc.getLine(it),_=this.states[it-1],$=this.tokenizer.getLineTokens(j,_,it);return this.states[it]+""!=$.state+""?(this.states[it]=$.state,this.lines[it+1]=null,this.currentLine>it+1&&(this.currentLine=it+1)):this.currentLine==it&&(this.currentLine=it+1),this.lines[it]=$.tokens},rt.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},rt}();_e.implement(ot.prototype,st),a.BackgroundTokenizer=ot}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(o,a,tt){var _e=o("./lib/lang"),st=o("./range").Range,ot=function(){function rt(it,j,_){_===void 0&&(_="text"),this.setRegexp(it),this.clazz=j,this.type=_}return rt.prototype.setRegexp=function(it){this.regExp+""!=it+""&&(this.regExp=it,this.cache=[])},rt.prototype.update=function(it,j,_,$){if(this.regExp)for(var et=$.firstRow,nt=$.lastRow,at={},ct=et;ct<=nt;ct++){var ht=this.cache[ct];ht==null&&(ht=_e.getMatchOffsets(_.getLine(ct),this.regExp),ht.length>this.MAX_RANGES&&(ht=ht.slice(0,this.MAX_RANGES)),ht=ht.map(function(gt){return new st(ct,gt.offset,ct,gt.offset+gt.length)}),this.cache[ct]=ht.length?ht:"");for(var ut=ht.length;ut--;){var dt=ht[ut].toScreenRange(_),mt=dt.toString();at[mt]||(at[mt]=!0,j.drawSingleLineMarker(it,dt,this.clazz,$))}}},rt}();ot.prototype.MAX_RANGES=500,a.SearchHighlight=ot}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(o,a,tt){var _e=function(){function gt(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return gt.prototype.addSession=function(lt){this.$session=lt},gt.prototype.add=function(lt,St,xt){if(!this.$fromUndo&&lt!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),St===!1||!this.lastDeltas){this.lastDeltas=[];var yt=this.$undoStack.length;yt>this.$undoDepth-1&&this.$undoStack.splice(0,yt-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),lt.id=this.$rev=++this.$maxRev}(lt.action=="remove"||lt.action=="insert")&&(this.$lastDelta=lt),this.lastDeltas.push(lt)}},gt.prototype.addSelection=function(lt,St){this.selections.push({value:lt,rev:St||this.$rev})},gt.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},gt.prototype.markIgnored=function(lt,St){St==null&&(St=this.$rev+1);for(var xt=this.$undoStack,yt=xt.length;yt--;){var _t=xt[yt][0];if(_t.id<=lt)break;_t.id<St&&(_t.ignore=!0)}this.lastDeltas=null},gt.prototype.getSelection=function(lt,St){for(var xt=this.selections,yt=xt.length;yt--;){var _t=xt[yt];if(_t.rev<lt)return St&&(_t=xt[yt+1]),_t}},gt.prototype.getRevision=function(){return this.$rev},gt.prototype.getDeltas=function(lt,St){St==null&&(St=this.$rev+1);for(var xt=this.$undoStack,yt=null,_t=0,kt=xt.length;kt--;){var Et=xt[kt][0];if(Et.id<St&&!yt&&(yt=kt+1),Et.id<=lt){_t=kt+1;break}}return xt.slice(_t,yt)},gt.prototype.getChangedRanges=function(lt,St){St==null&&(St=this.$rev+1)},gt.prototype.getChangedLines=function(lt,St){St==null&&(St=this.$rev+1)},gt.prototype.undo=function(lt,St){this.lastDeltas=null;var xt=this.$undoStack;if(st(xt,xt.length)){lt||(lt=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var yt=xt.pop(),_t=null;return yt&&(_t=lt.undoChanges(yt,St),this.$redoStack.push(yt),this.$syncRev()),this.$fromUndo=!1,_t}},gt.prototype.redo=function(lt,St){if(this.lastDeltas=null,lt||(lt=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var xt=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);mt(this.$redoStack,xt),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(kt){kt[0].id=++this.$maxRev},this)}var yt=this.$redoStack.pop(),_t=null;return yt&&(_t=lt.redoChanges(yt,St),this.$undoStack.push(yt),this.$syncRev()),this.$fromUndo=!1,_t},gt.prototype.$syncRev=function(){var lt=this.$undoStack,St=lt[lt.length-1],xt=St&&St[0].id||0;this.$redoStackBaseRev=xt,this.$rev=xt},gt.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},gt.prototype.canUndo=function(){return this.$undoStack.length>0},gt.prototype.canRedo=function(){return this.$redoStack.length>0},gt.prototype.bookmark=function(lt){lt==null&&(lt=this.$rev),this.mark=lt},gt.prototype.isAtBookmark=function(){return this.$rev===this.mark},gt.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},gt.prototype.fromJSON=function(lt){this.reset(),this.$undoStack=lt.$undoStack,this.$redoStack=lt.$redoStack},gt.prototype.$prettyPrint=function(lt){return lt?_(lt):_(this.$undoStack)+`
---
`+_(this.$redoStack)},gt}();_e.prototype.hasUndo=_e.prototype.canUndo,_e.prototype.hasRedo=_e.prototype.canRedo,_e.prototype.isClean=_e.prototype.isAtBookmark,_e.prototype.markClean=_e.prototype.bookmark;function st(gt,lt){for(var St=lt;St--;){var xt=gt[St];if(xt&&!xt[0].ignore){for(;St<lt-1;){var yt=nt(gt[St],gt[St+1]);gt[St]=yt[0],gt[St+1]=yt[1],St++}return!0}}}var ot=o("./range").Range,rt=ot.comparePoints;ot.comparePoints;function it(gt){return{row:gt.row,column:gt.column}}function j(gt){return{start:it(gt.start),end:it(gt.end),action:gt.action,lines:gt.lines.slice()}}function _(gt){if(gt=gt||this,Array.isArray(gt))return gt.map(_).join(`
`);var lt="";return gt.action?(lt=gt.action=="insert"?"+":"-",lt+="["+gt.lines+"]"):gt.value&&(Array.isArray(gt.value)?lt=gt.value.map($).join(`
`):lt=$(gt.value)),gt.start&&(lt+=$(gt)),(gt.id||gt.rev)&&(lt+="	("+(gt.id||gt.rev)+")"),lt}function $(gt){return gt.start.row+":"+gt.start.column+"=>"+gt.end.row+":"+gt.end.column}function et(gt,lt){var St=gt.action=="insert",xt=lt.action=="insert";if(St&&xt)if(rt(lt.start,gt.end)>=0)ct(lt,gt,-1);else if(rt(lt.start,gt.start)<=0)ct(gt,lt,1);else return null;else if(St&&!xt)if(rt(lt.start,gt.end)>=0)ct(lt,gt,-1);else if(rt(lt.end,gt.start)<=0)ct(gt,lt,-1);else return null;else if(!St&&xt)if(rt(lt.start,gt.start)>=0)ct(lt,gt,1);else if(rt(lt.start,gt.start)<=0)ct(gt,lt,1);else return null;else if(!St&&!xt)if(rt(lt.start,gt.start)>=0)ct(lt,gt,1);else if(rt(lt.end,gt.start)<=0)ct(gt,lt,-1);else return null;return[lt,gt]}function nt(gt,lt){for(var St=gt.length;St--;)for(var xt=0;xt<lt.length;xt++)if(!et(gt[St],lt[xt])){for(;St<gt.length;){for(;xt--;)et(lt[xt],gt[St]);xt=lt.length,St++}return[gt,lt]}return gt.selectionBefore=lt.selectionBefore=gt.selectionAfter=lt.selectionAfter=null,[lt,gt]}function at(gt,lt){var St=gt.action=="insert",xt=lt.action=="insert";if(St&&xt)rt(gt.start,lt.start)<0?ct(lt,gt,1):ct(gt,lt,1);else if(St&&!xt)rt(gt.start,lt.end)>=0?ct(gt,lt,-1):(rt(gt.start,lt.start)<=0||ct(gt,ot.fromPoints(lt.start,gt.start),-1),ct(lt,gt,1));else if(!St&&xt)rt(lt.start,gt.end)>=0?ct(lt,gt,-1):(rt(lt.start,gt.start)<=0||ct(lt,ot.fromPoints(gt.start,lt.start),-1),ct(gt,lt,1));else if(!St&&!xt)if(rt(lt.start,gt.end)>=0)ct(lt,gt,-1);else if(rt(lt.end,gt.start)<=0)ct(gt,lt,-1);else{var yt,_t;return rt(gt.start,lt.start)<0&&(yt=gt,gt=ut(gt,lt.start)),rt(gt.end,lt.end)>0&&(_t=ut(gt,lt.end)),ht(lt.end,gt.start,gt.end,-1),_t&&!yt&&(gt.lines=_t.lines,gt.start=_t.start,gt.end=_t.end,_t=gt),[lt,yt,_t].filter(Boolean)}return[lt,gt]}function ct(gt,lt,St){ht(gt.start,lt.start,lt.end,St),ht(gt.end,lt.start,lt.end,St)}function ht(gt,lt,St,xt){gt.row==(xt==1?lt:St).row&&(gt.column+=xt*(St.column-lt.column)),gt.row+=xt*(St.row-lt.row)}function ut(gt,lt){var St=gt.lines,xt=gt.end;gt.end=it(lt);var yt=gt.end.row-gt.start.row,_t=St.splice(yt,St.length),kt=yt?lt.column:lt.column-gt.start.column;St.push(_t[0].substring(0,kt)),_t[0]=_t[0].substr(kt);var Et={start:it(lt),end:xt,lines:_t,action:gt.action};return Et}function dt(gt,lt){lt=j(lt);for(var St=gt.length;St--;){for(var xt=gt[St],yt=0;yt<xt.length;yt++){var _t=xt[yt],kt=at(_t,lt);lt=kt[0],kt.length!=2&&(kt[2]?(xt.splice(yt+1,1,kt[1],kt[2]),yt++):kt[1]||(xt.splice(yt,1),yt--))}xt.length||gt.splice(St,1)}return gt}function mt(gt,lt){for(var St=0;St<lt.length;St++)for(var xt=lt[St],yt=0;yt<xt.length;yt++)dt(gt,xt[yt])}a.UndoManager=_e}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(o,a,tt){var _e=o("../range").Range,st=function(){function ot(rt,it){this.foldData=rt,Array.isArray(it)?this.folds=it:it=this.folds=[it];var j=it[it.length-1];this.range=new _e(it[0].start.row,it[0].start.column,j.end.row,j.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(_){_.setFoldLine(this)},this)}return ot.prototype.shiftRow=function(rt){this.start.row+=rt,this.end.row+=rt,this.folds.forEach(function(it){it.start.row+=rt,it.end.row+=rt})},ot.prototype.addFold=function(rt){if(rt.sameRow){if(rt.start.row<this.startRow||rt.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(rt),this.folds.sort(function(it,j){return-it.range.compareEnd(j.start.row,j.start.column)}),this.range.compareEnd(rt.start.row,rt.start.column)>0?(this.end.row=rt.end.row,this.end.column=rt.end.column):this.range.compareStart(rt.end.row,rt.end.column)<0&&(this.start.row=rt.start.row,this.start.column=rt.start.column)}else if(rt.start.row==this.end.row)this.folds.push(rt),this.end.row=rt.end.row,this.end.column=rt.end.column;else if(rt.end.row==this.start.row)this.folds.unshift(rt),this.start.row=rt.start.row,this.start.column=rt.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");rt.foldLine=this},ot.prototype.containsRow=function(rt){return rt>=this.start.row&&rt<=this.end.row},ot.prototype.walk=function(rt,it,j){var _=0,$=this.folds,et,nt,at,ct=!0;it==null&&(it=this.end.row,j=this.end.column);for(var ht=0;ht<$.length;ht++){if(et=$[ht],nt=et.range.compareStart(it,j),nt==-1){rt(null,it,j,_,ct);return}if(at=rt(null,et.start.row,et.start.column,_,ct),at=!at&&rt(et.placeholder,et.start.row,et.start.column,_),at||nt===0)return;ct=!et.sameRow,_=et.end.column}rt(null,it,j,_,ct)},ot.prototype.getNextFoldTo=function(rt,it){for(var j,_,$=0;$<this.folds.length;$++){if(j=this.folds[$],_=j.range.compareEnd(rt,it),_==-1)return{fold:j,kind:"after"};if(_===0)return{fold:j,kind:"inside"}}return null},ot.prototype.addRemoveChars=function(rt,it,j){var _=this.getNextFoldTo(rt,it),$,et;if(_){if($=_.fold,_.kind=="inside"&&$.start.column!=it&&$.start.row!=rt)window.console&&window.console.log(rt,it,$);else if($.start.row==rt){et=this.folds;var nt=et.indexOf($);for(nt===0&&(this.start.column+=j),nt;nt<et.length;nt++){if($=et[nt],$.start.column+=j,!$.sameRow)return;$.end.column+=j}this.end.column+=j}}},ot.prototype.split=function(rt,it){var j=this.getNextFoldTo(rt,it);if(!j||j.kind=="inside")return null;var _=j.fold,$=this.folds,et=this.foldData,nt=$.indexOf(_),at=$[nt-1];this.end.row=at.end.row,this.end.column=at.end.column,$=$.splice(nt,$.length-nt);var ct=new ot(et,$);return et.splice(et.indexOf(this)+1,0,ct),ct},ot.prototype.merge=function(rt){for(var it=rt.folds,j=0;j<it.length;j++)this.addFold(it[j]);var _=this.foldData;_.splice(_.indexOf(rt),1)},ot.prototype.toString=function(){var rt=[this.range.toString()+": ["];return this.folds.forEach(function(it){rt.push("  "+it.toString())}),rt.push("]"),rt.join(`
`)},ot.prototype.idxToPosition=function(rt){for(var it=0,j=0;j<this.folds.length;j++){var _=this.folds[j];if(rt-=_.start.column-it,rt<0)return{row:_.start.row,column:_.start.column+rt};if(rt-=_.placeholder.length,rt<0)return _.start;it=_.end.column}return{row:this.end.row,column:this.end.column+rt}},ot}();a.FoldLine=st}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(o,a,tt){var _e=o("./range").Range,st=_e.comparePoints,ot=function(){function rt(){this.ranges=[],this.$bias=1}return rt.prototype.pointIndex=function(it,j,_){for(var $=this.ranges,et=_||0;et<$.length;et++){var nt=$[et],at=st(it,nt.end);if(!(at>0)){var ct=st(it,nt.start);return at===0?j&&ct!==0?-et-2:et:ct>0||ct===0&&!j?et:-et-1}}return-et-1},rt.prototype.add=function(it){var j=!it.isEmpty(),_=this.pointIndex(it.start,j);_<0&&(_=-_-1);var $=this.pointIndex(it.end,j,_);return $<0?$=-$-1:$++,this.ranges.splice(_,$-_,it)},rt.prototype.addList=function(it){for(var j=[],_=it.length;_--;)j.push.apply(j,this.add(it[_]));return j},rt.prototype.substractPoint=function(it){var j=this.pointIndex(it);if(j>=0)return this.ranges.splice(j,1)},rt.prototype.merge=function(){var it=[],j=this.ranges;j=j.sort(function(at,ct){return st(at.start,ct.start)});for(var _=j[0],$,et=1;et<j.length;et++){$=_,_=j[et];var nt=st($.end,_.start);nt<0||nt==0&&!$.isEmpty()&&!_.isEmpty()||(st($.end,_.end)<0&&($.end.row=_.end.row,$.end.column=_.end.column),j.splice(et,1),it.push(_),_=$,et--)}return this.ranges=j,it},rt.prototype.contains=function(it,j){return this.pointIndex({row:it,column:j})>=0},rt.prototype.containsPoint=function(it){return this.pointIndex(it)>=0},rt.prototype.rangeAtPoint=function(it){var j=this.pointIndex(it);if(j>=0)return this.ranges[j]},rt.prototype.clipRows=function(it,j){var _=this.ranges;if(_[0].start.row>j||_[_.length-1].start.row<it)return[];var $=this.pointIndex({row:it,column:0});$<0&&($=-$-1);var et=this.pointIndex({row:j,column:0},$);et<0&&(et=-et-1);for(var nt=[],at=$;at<et;at++)nt.push(_[at]);return nt},rt.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},rt.prototype.attach=function(it){this.session&&this.detach(),this.session=it,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},rt.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},rt.prototype.$onChange=function(it){for(var j=it.start,_=it.end,$=j.row,et=_.row,nt=this.ranges,at=0,ct=nt.length;at<ct;at++){var ht=nt[at];if(ht.end.row>=$)break}if(it.action=="insert")for(var ut=et-$,dt=-j.column+_.column;at<ct;at++){var ht=nt[at];if(ht.start.row>$)break;if(ht.start.row==$&&ht.start.column>=j.column&&(ht.start.column==j.column&&this.$bias<=0||(ht.start.column+=dt,ht.start.row+=ut)),ht.end.row==$&&ht.end.column>=j.column){if(ht.end.column==j.column&&this.$bias<0)continue;ht.end.column==j.column&&dt>0&&at<ct-1&&ht.end.column>ht.start.column&&ht.end.column==nt[at+1].start.column&&(ht.end.column-=dt),ht.end.column+=dt,ht.end.row+=ut}}else for(var ut=$-et,dt=j.column-_.column;at<ct;at++){var ht=nt[at];if(ht.start.row>et)break;ht.end.row<et&&($<ht.end.row||$==ht.end.row&&j.column<ht.end.column)?(ht.end.row=$,ht.end.column=j.column):ht.end.row==et?ht.end.column<=_.column?(ut||ht.end.column>j.column)&&(ht.end.column=j.column,ht.end.row=j.row):(ht.end.column+=dt,ht.end.row+=ut):ht.end.row>et&&(ht.end.row+=ut),ht.start.row<et&&($<ht.start.row||$==ht.start.row&&j.column<ht.start.column)?(ht.start.row=$,ht.start.column=j.column):ht.start.row==et?ht.start.column<=_.column?(ut||ht.start.column>j.column)&&(ht.start.column=j.column,ht.start.row=j.row):(ht.start.column+=dt,ht.start.row+=ut):ht.start.row>et&&(ht.start.row+=ut)}if(ut!=0&&at<ct)for(;at<ct;at++){var ht=nt[at];ht.start.row+=ut,ht.end.row+=ut}},rt}();ot.prototype.comparePoints=st,a.RangeList=ot}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(o,a,tt){var _e=this&&this.__extends||function(){var $=function(et,nt){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,ct){at.__proto__=ct}||function(at,ct){for(var ht in ct)Object.prototype.hasOwnProperty.call(ct,ht)&&(at[ht]=ct[ht])},$(et,nt)};return function(et,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Class extends value "+String(nt)+" is not a constructor or null");$(et,nt);function at(){this.constructor=et}et.prototype=nt===null?Object.create(nt):(at.prototype=nt.prototype,new at)}}(),st=o("../range_list").RangeList,ot=function($){_e(et,$);function et(nt,at){var ct=$.call(this)||this;return ct.foldLine=null,ct.placeholder=at,ct.range=nt,ct.start=nt.start,ct.end=nt.end,ct.sameRow=nt.start.row==nt.end.row,ct.subFolds=ct.ranges=[],ct}return et.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},et.prototype.setFoldLine=function(nt){this.foldLine=nt,this.subFolds.forEach(function(at){at.setFoldLine(nt)})},et.prototype.clone=function(){var nt=this.range.clone(),at=new et(nt,this.placeholder);return this.subFolds.forEach(function(ct){at.subFolds.push(ct.clone())}),at.collapseChildren=this.collapseChildren,at},et.prototype.addSubFold=function(nt){if(!this.range.isEqual(nt)){it(nt,this.start);for(var dt=nt.start.row,mt=nt.start.column,at=0,ct=-1;at<this.subFolds.length&&(ct=this.subFolds[at].range.compare(dt,mt),ct==1);at++);var ht=this.subFolds[at],ut=0;if(ct==0){if(ht.range.containsRange(nt))return ht.addSubFold(nt);ut=1}for(var dt=nt.range.end.row,mt=nt.range.end.column,gt=at,ct=-1;gt<this.subFolds.length&&(ct=this.subFolds[gt].range.compare(dt,mt),ct==1);gt++);ct==0&&gt++;for(var lt=this.subFolds.splice(at,gt-at,nt),St=ct==0?lt.length-1:lt.length,xt=ut;xt<St;xt++)nt.addSubFold(lt[xt]);return nt.setFoldLine(this.foldLine),nt}},et.prototype.restoreRange=function(nt){return _(nt,this.start)},et}(st);function rt($,et){$.row-=et.row,$.row==0&&($.column-=et.column)}function it($,et){rt($.start,et),rt($.end,et)}function j($,et){$.row==0&&($.column+=et.column),$.row+=et.row}function _($,et){j($.start,et),j($.end,et)}a.Fold=ot}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(o,a,tt){var _e=o("../range").Range,st=o("./fold_line").FoldLine,ot=o("./fold").Fold,rt=o("../token_iterator").TokenIterator,it=o("../mouse/mouse_event").MouseEvent;function j(){this.getFoldAt=function(_,$,et){var nt=this.getFoldLine(_);if(!nt)return null;for(var at=nt.folds,ct=0;ct<at.length;ct++){var ht=at[ct].range;if(ht.contains(_,$)){if(et==1&&ht.isEnd(_,$)&&!ht.isEmpty())continue;if(et==-1&&ht.isStart(_,$)&&!ht.isEmpty())continue;return at[ct]}}},this.getFoldsInRange=function(_){var $=_.start,et=_.end,nt=this.$foldData,at=[];$.column+=1,et.column-=1;for(var ct=0;ct<nt.length;ct++){var ht=nt[ct].range.compareRange(_);if(ht!=2){if(ht==-2)break;for(var ut=nt[ct].folds,dt=0;dt<ut.length;dt++){var mt=ut[dt];if(ht=mt.range.compareRange(_),ht==-2)break;if(ht==2)continue;if(ht==42)break;at.push(mt)}}}return $.column-=1,et.column+=1,at},this.getFoldsInRangeList=function(_){if(Array.isArray(_)){var $=[];_.forEach(function(et){$=$.concat(this.getFoldsInRange(et))},this)}else var $=this.getFoldsInRange(_);return $},this.getAllFolds=function(){for(var _=[],$=this.$foldData,et=0;et<$.length;et++)for(var nt=0;nt<$[et].folds.length;nt++)_.push($[et].folds[nt]);return _},this.getFoldStringAt=function(_,$,et,nt){if(nt=nt||this.getFoldLine(_),!nt)return null;for(var at={end:{column:0}},ct,ht,ut=0;ut<nt.folds.length;ut++){ht=nt.folds[ut];var dt=ht.range.compareEnd(_,$);if(dt==-1){ct=this.getLine(ht.start.row).substring(at.end.column,ht.start.column);break}else if(dt===0)return null;at=ht}return ct||(ct=this.getLine(ht.start.row).substring(at.end.column)),et==-1?ct.substring(0,$-at.end.column):et==1?ct.substring($-at.end.column):ct},this.getFoldLine=function(_,$){var et=this.$foldData,nt=0;for($&&(nt=et.indexOf($)),nt==-1&&(nt=0),nt;nt<et.length;nt++){var at=et[nt];if(at.start.row<=_&&at.end.row>=_)return at;if(at.end.row>_)return null}return null},this.getNextFoldLine=function(_,$){var et=this.$foldData,nt=0;for($&&(nt=et.indexOf($)),nt==-1&&(nt=0),nt;nt<et.length;nt++){var at=et[nt];if(at.end.row>=_)return at}return null},this.getFoldedRowCount=function(_,$){for(var et=this.$foldData,nt=$-_+1,at=0;at<et.length;at++){var ct=et[at],ht=ct.end.row,ut=ct.start.row;if(ht>=$){ut<$&&(ut>=_?nt-=$-ut:nt=0);break}else ht>=_&&(ut>=_?nt-=ht-ut:nt-=ht-_+1)}return nt},this.$addFoldLine=function(_){return this.$foldData.push(_),this.$foldData.sort(function($,et){return $.start.row-et.start.row}),_},this.addFold=function(_,$){var et=this.$foldData,nt=!1,at;_ instanceof ot?at=_:(at=new ot($,_),at.collapseChildren=$.collapseChildren),this.$clipRangeToDocument(at.range);var ct=at.start.row,ht=at.start.column,ut=at.end.row,dt=at.end.column,mt=this.getFoldAt(ct,ht,1),gt=this.getFoldAt(ut,dt,-1);if(mt&&gt==mt)return mt.addSubFold(at);mt&&!mt.range.isStart(ct,ht)&&this.removeFold(mt),gt&&!gt.range.isEnd(ut,dt)&&this.removeFold(gt);var lt=this.getFoldsInRange(at.range);lt.length>0&&(this.removeFolds(lt),at.collapseChildren||lt.forEach(function(_t){at.addSubFold(_t)}));for(var St=0;St<et.length;St++){var xt=et[St];if(ut==xt.start.row){xt.addFold(at),nt=!0;break}else if(ct==xt.end.row){if(xt.addFold(at),nt=!0,!at.sameRow){var yt=et[St+1];if(yt&&yt.start.row==ut){xt.merge(yt);break}}break}else if(ut<=xt.start.row)break}return nt||(xt=this.$addFoldLine(new st(this.$foldData,at))),this.$useWrapMode?this.$updateWrapData(xt.start.row,xt.start.row):this.$updateRowLengthCache(xt.start.row,xt.start.row),this.$modified=!0,this._signal("changeFold",{data:at,action:"add"}),at},this.addFolds=function(_){_.forEach(function($){this.addFold($)},this)},this.removeFold=function(_){var $=_.foldLine,et=$.start.row,nt=$.end.row,at=this.$foldData,ct=$.folds;if(ct.length==1)at.splice(at.indexOf($),1);else if($.range.isEnd(_.end.row,_.end.column))ct.pop(),$.end.row=ct[ct.length-1].end.row,$.end.column=ct[ct.length-1].end.column;else if($.range.isStart(_.start.row,_.start.column))ct.shift(),$.start.row=ct[0].start.row,$.start.column=ct[0].start.column;else if(_.sameRow)ct.splice(ct.indexOf(_),1);else{var ht=$.split(_.start.row,_.start.column);ct=ht.folds,ct.shift(),ht.start.row=ct[0].start.row,ht.start.column=ct[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(et,nt):this.$updateRowLengthCache(et,nt)),this.$modified=!0,this._signal("changeFold",{data:_,action:"remove"})},this.removeFolds=function(_){for(var $=[],et=0;et<_.length;et++)$.push(_[et]);$.forEach(function(nt){this.removeFold(nt)},this),this.$modified=!0},this.expandFold=function(_){this.removeFold(_),_.subFolds.forEach(function($){_.restoreRange($),this.addFold($)},this),_.collapseChildren>0&&this.foldAll(_.start.row+1,_.end.row,_.collapseChildren-1),_.subFolds=[]},this.expandFolds=function(_){_.forEach(function($){this.expandFold($)},this)},this.unfold=function(_,$){var et,nt;if(_==null)et=new _e(0,0,this.getLength(),0),$==null&&($=!0);else if(typeof _=="number")et=new _e(_,0,_,this.getLine(_).length);else if("row"in _)et=_e.fromPoints(_,_);else{if(Array.isArray(_))return nt=[],_.forEach(function(ct){nt=nt.concat(this.unfold(ct))},this),nt;et=_}nt=this.getFoldsInRangeList(et);for(var at=nt;nt.length==1&&_e.comparePoints(nt[0].start,et.start)<0&&_e.comparePoints(nt[0].end,et.end)>0;)this.expandFolds(nt),nt=this.getFoldsInRangeList(et);if($!=!1?this.removeFolds(nt):this.expandFolds(nt),at.length)return at},this.isRowFolded=function(_,$){return!!this.getFoldLine(_,$)},this.getRowFoldEnd=function(_,$){var et=this.getFoldLine(_,$);return et?et.end.row:_},this.getRowFoldStart=function(_,$){var et=this.getFoldLine(_,$);return et?et.start.row:_},this.getFoldDisplayLine=function(_,$,et,nt,at){nt==null&&(nt=_.start.row),at==null&&(at=0),$==null&&($=_.end.row),et==null&&(et=this.getLine($).length);var ct=this.doc,ht="";return _.walk(function(ut,dt,mt,gt){if(!(dt<nt)){if(dt==nt){if(mt<at)return;gt=Math.max(at,gt)}ut!=null?ht+=ut:ht+=ct.getLine(dt).substring(gt,mt)}},$,et),ht},this.getDisplayLine=function(_,$,et,nt){var at=this.getFoldLine(_);if(at)return this.getFoldDisplayLine(at,_,$,et,nt);var ct;return ct=this.doc.getLine(_),ct.substring(nt||0,$||ct.length)},this.$cloneFoldData=function(){var _=[];return _=this.$foldData.map(function($){var et=$.folds.map(function(nt){return nt.clone()});return new st(_,et)}),_},this.toggleFold=function(_){var $=this.selection,et=$.getRange(),nt,at;if(et.isEmpty()){var ct=et.start;if(nt=this.getFoldAt(ct.row,ct.column),nt){this.expandFold(nt);return}else(at=this.findMatchingBracket(ct))?et.comparePoint(at)==1?et.end=at:(et.start=at,et.start.column++,et.end.column--):(at=this.findMatchingBracket({row:ct.row,column:ct.column+1}))?(et.comparePoint(at)==1?et.end=at:et.start=at,et.start.column++):et=this.getCommentFoldRange(ct.row,ct.column)||et}else{var ht=this.getFoldsInRange(et);if(_&&ht.length){this.expandFolds(ht);return}else ht.length==1&&(nt=ht[0])}if(nt||(nt=this.getFoldAt(et.start.row,et.start.column)),nt&&nt.range.toString()==et.toString()){this.expandFold(nt);return}var ut="...";if(!et.isMultiLine()){if(ut=this.getTextRange(et),ut.length<4)return;ut=ut.trim().substring(0,2)+".."}this.addFold(ut,et)},this.getCommentFoldRange=function(_,$,et){var nt=new rt(this,_,$),at=nt.getCurrentToken(),ct=at&&at.type;if(at&&/^comment|string/.test(ct)){ct=ct.match(/comment|string/)[0],ct=="comment"&&(ct+="|doc-start|\\.doc");var ht=new RegExp(ct),ut=new _e;if(et!=1){do at=nt.stepBackward();while(at&&ht.test(at.type));at=nt.stepForward()}ut.start.row=nt.getCurrentTokenRow(),ut.start.column=nt.getCurrentTokenColumn()+at.value.length,nt=new rt(this,_,$);var dt=this.getState(nt.$row);if(et!=-1){var mt=-1;do if(at=nt.stepForward(),mt==-1){var gt=this.getState(nt.$row);dt.toString()!==gt.toString()&&(mt=nt.$row)}else if(nt.$row>mt)break;while(at&&ht.test(at.type));at=nt.stepBackward()}else at=nt.getCurrentToken();return ut.end.row=nt.getCurrentTokenRow(),ut.end.column=nt.getCurrentTokenColumn(),ut}},this.foldAll=function(_,$,et,nt){et==null&&(et=1e5);var at=this.foldWidgets;if(at){$=$||this.getLength(),_=_||0;for(var ct=_;ct<$;ct++)if(at[ct]==null&&(at[ct]=this.getFoldWidget(ct)),at[ct]=="start"&&!(nt&&!nt(ct))){var ht=this.getFoldWidgetRange(ct);ht&&ht.isMultiLine()&&ht.end.row<=$&&ht.start.row>=_&&(ct=ht.end.row,ht.collapseChildren=et,this.addFold("...",ht))}}},this.foldToLevel=function(_){for(this.foldAll();_-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var _=this;this.foldAll(null,null,null,function($){for(var et=_.getTokens($),nt=0;nt<et.length;nt++){var at=et[nt];if(!(at.type=="text"&&/^\s+$/.test(at.value)))return!!/comment/.test(at.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(_){if(!this.$foldStyles[_])throw new Error("invalid fold style: "+_+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=_){this.$foldStyle=_,_=="manual"&&this.unfold();var $=this.$foldMode;this.$setFolding(null),this.$setFolding($)}},this.$setFolding=function(_){if(this.$foldMode!=_){if(this.$foldMode=_,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!_||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=_.getFoldWidget.bind(_,this,this.$foldStyle),this.getFoldWidgetRange=_.getFoldWidgetRange.bind(_,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(_,$){var et=this.foldWidgets;if(!et||$&&et[_])return{};for(var nt=_-1,at;nt>=0;){var ct=et[nt];if(ct==null&&(ct=et[nt]=this.getFoldWidget(nt)),ct=="start"){var ht=this.getFoldWidgetRange(nt);if(at||(at=ht),ht&&ht.end.row>=_)break}nt--}return{range:nt!==-1&&ht,firstRange:at}},this.onFoldWidgetClick=function(_,$){$ instanceof it&&($=$.domEvent);var et={children:$.shiftKey,all:$.ctrlKey||$.metaKey,siblings:$.altKey},nt=this.$toggleFoldWidget(_,et);if(!nt){var at=$.target||$.srcElement;at&&/ace_fold-widget/.test(at.className)&&(at.className+=" ace_invalid")}},this.$toggleFoldWidget=function(_,$){if(this.getFoldWidget){var et=this.getFoldWidget(_),nt=this.getLine(_),at=et==="end"?-1:1,ct=this.getFoldAt(_,at===-1?0:nt.length,at);if(ct)return $.children||$.all?this.removeFold(ct):this.expandFold(ct),ct;var ht=this.getFoldWidgetRange(_,!0);if(ht&&!ht.isMultiLine()&&(ct=this.getFoldAt(ht.start.row,ht.start.column,1),ct&&ht.isEqual(ct.range)))return this.removeFold(ct),ct;if($.siblings){var ut=this.getParentFoldRangeData(_);if(ut.range)var dt=ut.range.start.row+1,mt=ut.range.end.row;this.foldAll(dt,mt,$.all?1e4:0)}else $.children?(mt=ht?ht.end.row:this.getLength(),this.foldAll(_+1,mt,$.all?1e4:0)):ht&&($.all&&(ht.collapseChildren=1e4),this.addFold("...",ht));return ht}},this.toggleFoldWidget=function(_){var $=this.selection.getCursor().row;$=this.getRowFoldStart($);var et=this.$toggleFoldWidget($,{});if(!et){var nt=this.getParentFoldRangeData($,!0);if(et=nt.range||nt.firstRange,et){$=et.start.row;var at=this.getFoldAt($,this.getLine($).length,1);at?this.removeFold(at):this.addFold("...",et)}}},this.updateFoldWidgets=function(_){var $=_.start.row,et=_.end.row-$;if(et===0)this.foldWidgets[$]=null;else if(_.action=="remove")this.foldWidgets.splice($,et+1,null);else{var nt=Array(et+1);nt.unshift($,1),this.foldWidgets.splice.apply(this.foldWidgets,nt)}},this.tokenizerUpdateFoldWidgets=function(_){var $=_.data;$.first!=$.last&&this.foldWidgets.length>$.first&&this.foldWidgets.splice($.first,this.foldWidgets.length)}}a.Folding=j}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(o,a,tt){var _e=o("../token_iterator").TokenIterator,st=o("../range").Range;function ot(){this.findMatchingBracket=function(rt,it){if(rt.column==0)return null;var j=it||this.getLine(rt.row).charAt(rt.column-1);if(j=="")return null;var _=j.match(/([\(\[\{])|([\)\]\}])/);return _?_[1]?this.$findClosingBracket(_[1],rt):this.$findOpeningBracket(_[2],rt):null},this.getBracketRange=function(rt){var it=this.getLine(rt.row),j=!0,_,$=it.charAt(rt.column-1),et=$&&$.match(/([\(\[\{])|([\)\]\}])/);if(et||($=it.charAt(rt.column),rt={row:rt.row,column:rt.column+1},et=$&&$.match(/([\(\[\{])|([\)\]\}])/),j=!1),!et)return null;if(et[1]){var nt=this.$findClosingBracket(et[1],rt);if(!nt)return null;_=st.fromPoints(rt,nt),j||(_.end.column++,_.start.column--),_.cursor=_.end}else{var nt=this.$findOpeningBracket(et[2],rt);if(!nt)return null;_=st.fromPoints(nt,rt),j||(_.start.column++,_.end.column--),_.cursor=_.start}return _},this.getMatchingBracketRanges=function(rt,it){var j=this.getLine(rt.row),_=/([\(\[\{])|([\)\]\}])/,$=!it&&j.charAt(rt.column-1),et=$&&$.match(_);if(et||($=(it===void 0||it)&&j.charAt(rt.column),rt={row:rt.row,column:rt.column+1},et=$&&$.match(_)),!et)return null;var nt=new st(rt.row,rt.column-1,rt.row,rt.column),at=et[1]?this.$findClosingBracket(et[1],rt):this.$findOpeningBracket(et[2],rt);if(!at)return[nt];var ct=new st(at.row,at.column,at.row,at.column+1);return[nt,ct]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(rt,it,j){var _=this.$brackets[rt],$=1,et=new _e(this,it.row,it.column),nt=et.getCurrentToken();if(nt||(nt=et.stepForward()),!!nt){j||(j=new RegExp("(\\.?"+nt.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var at=it.column-et.getCurrentTokenColumn()-2,ct=nt.value;;){for(;at>=0;){var ht=ct.charAt(at);if(ht==_){if($-=1,$==0)return{row:et.getCurrentTokenRow(),column:at+et.getCurrentTokenColumn()}}else ht==rt&&($+=1);at-=1}do nt=et.stepBackward();while(nt&&!j.test(nt.type));if(nt==null)break;ct=nt.value,at=ct.length-1}return null}},this.$findClosingBracket=function(rt,it,j){var _=this.$brackets[rt],$=1,et=new _e(this,it.row,it.column),nt=et.getCurrentToken();if(nt||(nt=et.stepForward()),!!nt){j||(j=new RegExp("(\\.?"+nt.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var at=it.column-et.getCurrentTokenColumn();;){for(var ct=nt.value,ht=ct.length;at<ht;){var ut=ct.charAt(at);if(ut==_){if($-=1,$==0)return{row:et.getCurrentTokenRow(),column:at+et.getCurrentTokenColumn()}}else ut==rt&&($+=1);at+=1}do nt=et.stepForward();while(nt&&!j.test(nt.type));if(nt==null)break;at=0}return null}},this.getMatchingTags=function(rt){var it=new _e(this,rt.row,rt.column),j=this.$findTagName(it);if(j){var _=it.stepBackward();return _.value==="<"?this.$findClosingTag(it,j):this.$findOpeningTag(it,j)}},this.$findTagName=function(rt){var it=rt.getCurrentToken(),j=!1,_=!1;if(it&&it.type.indexOf("tag-name")===-1)do _?it=rt.stepBackward():it=rt.stepForward(),it&&(it.value==="/>"?_=!0:it.type.indexOf("tag-name")!==-1&&(j=!0));while(it&&!j);return it},this.$findClosingTag=function(rt,it){var j,_=it.value,$=it.value,et=0,nt=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);it=rt.stepForward();var at=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+it.value.length),ct=!1;do{if(j=it,j.type.indexOf("tag-close")!==-1&&!ct){var ht=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);ct=!0}if(it=rt.stepForward(),it){if(it.value===">"&&!ct){var ht=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);ct=!0}if(it.type.indexOf("tag-name")!==-1){if(_=it.value,$===_){if(j.value==="<")et++;else if(j.value==="</"&&(et--,et<0)){rt.stepBackward();var ut=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+2);it=rt.stepForward();var dt=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+it.value.length);if(it.type.indexOf("tag-close")===-1&&(it=rt.stepForward()),it&&it.value===">")var mt=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);else return}}}else if($===_&&it.value==="/>"&&(et--,et<0))var ut=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+2),dt=ut,mt=dt,ht=new st(at.end.row,at.end.column,at.end.row,at.end.column+1)}}while(it&&et>=0);if(nt&&ht&&ut&&mt&&at&&dt)return{openTag:new st(nt.start.row,nt.start.column,ht.end.row,ht.end.column),closeTag:new st(ut.start.row,ut.start.column,mt.end.row,mt.end.column),openTagName:at,closeTagName:dt}},this.$findOpeningTag=function(rt,it){var j=rt.getCurrentToken(),_=it.value,$=0,et=rt.getCurrentTokenRow(),nt=rt.getCurrentTokenColumn(),at=nt+2,ct=new st(et,nt,et,at);rt.stepForward();var ht=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+it.value.length);if(it.type.indexOf("tag-close")===-1&&(it=rt.stepForward()),!(!it||it.value!==">")){var ut=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);rt.stepBackward(),rt.stepBackward();do if(it=j,et=rt.getCurrentTokenRow(),nt=rt.getCurrentTokenColumn(),at=nt+it.value.length,j=rt.stepBackward(),it){if(it.type.indexOf("tag-name")!==-1){if(_===it.value)if(j.value==="<"){if($++,$>0){var dt=new st(et,nt,et,at),mt=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);do it=rt.stepForward();while(it&&it.value!==">");var gt=new st(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1)}}else j.value==="</"&&$--}else if(it.value==="/>"){for(var lt=0,St=j;St;){if(St.type.indexOf("tag-name")!==-1&&St.value===_){$--;break}else if(St.value==="<")break;St=rt.stepBackward(),lt++}for(var xt=0;xt<lt;xt++)rt.stepForward()}}while(j&&$<=0);if(mt&&gt&&ct&&ut&&dt&&ht)return{openTag:new st(mt.start.row,mt.start.column,gt.end.row,gt.end.column),closeTag:new st(ct.start.row,ct.start.column,ut.end.row,ut.end.column),openTagName:dt,closeTagName:ht}}}}a.BracketMatch=ot}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(o,a,tt){var _e=o("./lib/oop"),st=o("./lib/lang"),ot=o("./bidihandler").BidiHandler,rt=o("./config"),it=o("./lib/event_emitter").EventEmitter,j=o("./selection").Selection,_=o("./mode/text").Mode,$=o("./range").Range,et=o("./document").Document,nt=o("./background_tokenizer").BackgroundTokenizer,at=o("./search_highlight").SearchHighlight,ct=o("./undomanager").UndoManager,ht=function(){function kt(Et,$t){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.prevOp={},this.$foldData=[],this.id="session"+ ++kt.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new nt(new _().getTokenizer(),this);var Tt=this;this.bgTokenizer.on("update",function(At){Tt._signal("tokenizerUpdate",At)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof Et!="object"||!Et.getLine)&&(Et=new et(Et)),this.setDocument(Et),this.selection=new j(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new ot(this),rt.resetOptions(this),this.setMode($t),rt._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return kt.prototype.$initOperationListeners=function(){var Et=this;this.curOp=null,this.on("change",function(){Et.curOp||(Et.startOperation(),Et.curOp.selectionBefore=Et.$lastSel),Et.curOp.docChanged=!0},!0),this.on("changeSelection",function(){Et.curOp||(Et.startOperation(),Et.curOp.selectionBefore=Et.$lastSel),Et.curOp.selectionChanged=!0},!0),this.$operationResetTimer=st.delayedCall(this.endOperation.bind(this,!0))},kt.prototype.startOperation=function(Et){if(this.curOp){if(!Et||this.curOp.command)return;this.prevOp=this.curOp}Et||(Et={}),this.$operationResetTimer.schedule(),this.curOp={command:Et.command||{},args:Et.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",Et)},kt.prototype.endOperation=function(Et){if(this.curOp){if(Et&&Et.returnValue===!1){this.curOp=null,this._signal("endOperation",Et);return}if(Et==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var $t=this.selection.toJSON();this.curOp.selectionAfter=$t,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection($t),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",Et)}},kt.prototype.setDocument=function(Et){this.doc&&this.doc.off("change",this.$onChange),this.doc=Et,Et.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},kt.prototype.getDocument=function(){return this.doc},kt.prototype.$resetRowCache=function(Et){if(!Et){this.$docRowCache=[],this.$screenRowCache=[];return}var $t=this.$docRowCache.length,Tt=this.$getRowCacheIndex(this.$docRowCache,Et)+1;$t>Tt&&(this.$docRowCache.splice(Tt,$t),this.$screenRowCache.splice(Tt,$t))},kt.prototype.$getRowCacheIndex=function(Et,$t){for(var Tt=0,At=Et.length-1;Tt<=At;){var Mt=Tt+At>>1,Ot=Et[Mt];if($t>Ot)Tt=Mt+1;else if($t<Ot)At=Mt-1;else return Mt}return Tt-1},kt.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},kt.prototype.onChangeFold=function(Et){var $t=Et.data;this.$resetRowCache($t.start.row)},kt.prototype.onChange=function(Et){this.$modified=!0,this.$bidiHandler.onChange(Et),this.$resetRowCache(Et.start.row);var $t=this.$updateInternalDataOnChange(Et);!this.$fromUndo&&this.$undoManager&&($t&&$t.length&&(this.$undoManager.add({action:"removeFolds",folds:$t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(Et,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(Et),this._signal("change",Et)},kt.prototype.onSelectionChange=function(){this._signal("changeSelection")},kt.prototype.setValue=function(Et){this.doc.setValue(Et),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},kt.fromJSON=function(Et){typeof Et=="string"&&(Et=JSON.parse(Et));var $t=new ct;$t.$undoStack=Et.history.undo,$t.$redoStack=Et.history.redo,$t.mark=Et.history.mark,$t.$rev=Et.history.rev;var Tt=new kt(Et.value);return Et.folds.forEach(function(At){Tt.addFold("...",$.fromPoints(At.start,At.end))}),Tt.setAnnotations(Et.annotations),Tt.setBreakpoints(Et.breakpoints),Tt.setMode(Et.mode),Tt.setScrollLeft(Et.scrollLeft),Tt.setScrollTop(Et.scrollTop),Tt.setUndoManager($t),Tt.selection.fromJSON(Et.selection),Tt},kt.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(Et){return Et.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},kt.prototype.toString=function(){return this.doc.getValue()},kt.prototype.getSelection=function(){return this.selection},kt.prototype.getState=function(Et){return this.bgTokenizer.getState(Et)},kt.prototype.getTokens=function(Et){return this.bgTokenizer.getTokens(Et)},kt.prototype.getTokenAt=function(Et,$t){var Tt=this.bgTokenizer.getTokens(Et),At,Mt=0;if($t==null){var Ot=Tt.length-1;Mt=this.getLine(Et).length}else for(var Ot=0;Ot<Tt.length&&(Mt+=Tt[Ot].value.length,!(Mt>=$t));Ot++);return At=Tt[Ot],At?(At.index=Ot,At.start=Mt-At.value.length,At):null},kt.prototype.setUndoManager=function(Et){if(this.$undoManager=Et,this.$informUndoManager&&this.$informUndoManager.cancel(),Et){var $t=this;Et.addSession(this),this.$syncInformUndoManager=function(){$t.$informUndoManager.cancel(),$t.mergeUndoDeltas=!1},this.$informUndoManager=st.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},kt.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},kt.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},kt.prototype.getTabString=function(){return this.getUseSoftTabs()?st.stringRepeat(" ",this.getTabSize()):"	"},kt.prototype.setUseSoftTabs=function(Et){this.setOption("useSoftTabs",Et)},kt.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},kt.prototype.setTabSize=function(Et){this.setOption("tabSize",Et)},kt.prototype.getTabSize=function(){return this.$tabSize},kt.prototype.isTabStop=function(Et){return this.$useSoftTabs&&Et.column%this.$tabSize===0},kt.prototype.setNavigateWithinSoftTabs=function(Et){this.setOption("navigateWithinSoftTabs",Et)},kt.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},kt.prototype.setOverwrite=function(Et){this.setOption("overwrite",Et)},kt.prototype.getOverwrite=function(){return this.$overwrite},kt.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},kt.prototype.addGutterDecoration=function(Et,$t){this.$decorations[Et]||(this.$decorations[Et]=""),this.$decorations[Et]+=" "+$t,this._signal("changeBreakpoint",{})},kt.prototype.removeGutterDecoration=function(Et,$t){this.$decorations[Et]=(this.$decorations[Et]||"").replace(" "+$t,""),this._signal("changeBreakpoint",{})},kt.prototype.getBreakpoints=function(){return this.$breakpoints},kt.prototype.setBreakpoints=function(Et){this.$breakpoints=[];for(var $t=0;$t<Et.length;$t++)this.$breakpoints[Et[$t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},kt.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},kt.prototype.setBreakpoint=function(Et,$t){$t===void 0&&($t="ace_breakpoint"),$t?this.$breakpoints[Et]=$t:delete this.$breakpoints[Et],this._signal("changeBreakpoint",{})},kt.prototype.clearBreakpoint=function(Et){delete this.$breakpoints[Et],this._signal("changeBreakpoint",{})},kt.prototype.addMarker=function(Et,$t,Tt,At){var Mt=this.$markerId++,Ot={range:Et,type:Tt||"line",renderer:typeof Tt=="function"?Tt:null,clazz:$t,inFront:!!At,id:Mt};return At?(this.$frontMarkers[Mt]=Ot,this._signal("changeFrontMarker")):(this.$backMarkers[Mt]=Ot,this._signal("changeBackMarker")),Mt},kt.prototype.addDynamicMarker=function(Et,$t){if(Et.update){var Tt=this.$markerId++;return Et.id=Tt,Et.inFront=!!$t,$t?(this.$frontMarkers[Tt]=Et,this._signal("changeFrontMarker")):(this.$backMarkers[Tt]=Et,this._signal("changeBackMarker")),Et}},kt.prototype.removeMarker=function(Et){var $t=this.$frontMarkers[Et]||this.$backMarkers[Et];if($t){var Tt=$t.inFront?this.$frontMarkers:this.$backMarkers;delete Tt[Et],this._signal($t.inFront?"changeFrontMarker":"changeBackMarker")}},kt.prototype.getMarkers=function(Et){return Et?this.$frontMarkers:this.$backMarkers},kt.prototype.highlight=function(Et){if(!this.$searchHighlight){var $t=new at(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker($t)}this.$searchHighlight.setRegexp(Et)},kt.prototype.highlightLines=function(Et,$t,Tt,At){typeof $t!="number"&&(Tt=$t,$t=Et),Tt||(Tt="ace_step");var Mt=new $(Et,0,$t,1/0);return Mt.id=this.addMarker(Mt,Tt,"fullLine",At),Mt},kt.prototype.setAnnotations=function(Et){this.$annotations=Et,this._signal("changeAnnotation",{})},kt.prototype.getAnnotations=function(){return this.$annotations||[]},kt.prototype.clearAnnotations=function(){this.setAnnotations([])},kt.prototype.$detectNewLine=function(Et){var $t=Et.match(/^.*?(\r?\n)/m);$t?this.$autoNewLine=$t[1]:this.$autoNewLine=`
`},kt.prototype.getWordRange=function(Et,$t){var Tt=this.getLine(Et),At=!1;if($t>0&&(At=!!Tt.charAt($t-1).match(this.tokenRe)),At||(At=!!Tt.charAt($t).match(this.tokenRe)),At)var Mt=this.tokenRe;else if(/^\s+$/.test(Tt.slice($t-1,$t+1)))var Mt=/\s/;else var Mt=this.nonTokenRe;var Ot=$t;if(Ot>0){do Ot--;while(Ot>=0&&Tt.charAt(Ot).match(Mt));Ot++}for(var Pt=$t;Pt<Tt.length&&Tt.charAt(Pt).match(Mt);)Pt++;return new $(Et,Ot,Et,Pt)},kt.prototype.getAWordRange=function(Et,$t){for(var Tt=this.getWordRange(Et,$t),At=this.getLine(Tt.end.row);At.charAt(Tt.end.column).match(/[ \t]/);)Tt.end.column+=1;return Tt},kt.prototype.setNewLineMode=function(Et){this.doc.setNewLineMode(Et)},kt.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},kt.prototype.setUseWorker=function(Et){this.setOption("useWorker",Et)},kt.prototype.getUseWorker=function(){return this.$useWorker},kt.prototype.onReloadTokenizer=function(Et){var $t=Et.data;this.bgTokenizer.start($t.first),this._signal("tokenizerUpdate",Et)},kt.prototype.setMode=function(Et,$t){if(Et&&typeof Et=="object"){if(Et.getTokenizer)return this.$onChangeMode(Et);var Tt=Et,At=Tt.path}else At=Et||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new _),this.$modes[At]&&!Tt){this.$onChangeMode(this.$modes[At]),$t&&$t();return}this.$modeId=At,rt.loadModule(["mode",At],(function(Mt){if(this.$modeId!==At)return $t&&$t();this.$modes[At]&&!Tt?this.$onChangeMode(this.$modes[At]):Mt&&Mt.Mode&&(Mt=new Mt.Mode(Tt),Tt||(this.$modes[At]=Mt,Mt.$id=At),this.$onChangeMode(Mt)),$t&&$t()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},kt.prototype.$onChangeMode=function(Et,$t){if($t||(this.$modeId=Et.$id),this.$mode!==Et){var Tt=this.$mode;this.$mode=Et,this.$stopWorker(),this.$useWorker&&this.$startWorker();var At=Et.getTokenizer();if(At.on!==void 0){var Mt=this.onReloadTokenizer.bind(this);At.on("update",Mt)}this.bgTokenizer.setTokenizer(At),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=Et.tokenRe,this.nonTokenRe=Et.nonTokenRe,$t||(Et.attachToSession&&Et.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(Et.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:Tt,mode:Et}))}},kt.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},kt.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(Et){rt.warn("Could not load worker",Et),this.$worker=null}},kt.prototype.getMode=function(){return this.$mode},kt.prototype.setScrollTop=function(Et){this.$scrollTop===Et||isNaN(Et)||(this.$scrollTop=Et,this._signal("changeScrollTop",Et))},kt.prototype.getScrollTop=function(){return this.$scrollTop},kt.prototype.setScrollLeft=function(Et){this.$scrollLeft===Et||isNaN(Et)||(this.$scrollLeft=Et,this._signal("changeScrollLeft",Et))},kt.prototype.getScrollLeft=function(){return this.$scrollLeft},kt.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},kt.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var Et=0;return this.lineWidgets.forEach(function($t){$t&&$t.screenWidth>Et&&(Et=$t.screenWidth)}),this.lineWidgetWidth=Et},kt.prototype.$computeWidth=function(Et){if(this.$modified||Et){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var $t=this.doc.getAllLines(),Tt=this.$rowLengthCache,At=0,Mt=0,Ot=this.$foldData[Mt],Pt=Ot?Ot.start.row:1/0,Ft=$t.length,zt=0;zt<Ft;zt++){if(zt>Pt){if(zt=Ot.end.row+1,zt>=Ft)break;Ot=this.$foldData[Mt++],Pt=Ot?Ot.start.row:1/0}Tt[zt]==null&&(Tt[zt]=this.$getStringScreenWidth($t[zt])[0]),Tt[zt]>At&&(At=Tt[zt])}this.screenWidth=At}},kt.prototype.getLine=function(Et){return this.doc.getLine(Et)},kt.prototype.getLines=function(Et,$t){return this.doc.getLines(Et,$t)},kt.prototype.getLength=function(){return this.doc.getLength()},kt.prototype.getTextRange=function(Et){return this.doc.getTextRange(Et||this.selection.getRange())},kt.prototype.insert=function(Et,$t){return this.doc.insert(Et,$t)},kt.prototype.remove=function(Et){return this.doc.remove(Et)},kt.prototype.removeFullLines=function(Et,$t){return this.doc.removeFullLines(Et,$t)},kt.prototype.undoChanges=function(Et,$t){if(Et.length){this.$fromUndo=!0;for(var Tt=Et.length-1;Tt!=-1;Tt--){var At=Et[Tt];At.action=="insert"||At.action=="remove"?this.doc.revertDelta(At):At.folds&&this.addFolds(At.folds)}!$t&&this.$undoSelect&&(Et.selectionBefore?this.selection.fromJSON(Et.selectionBefore):this.selection.setRange(this.$getUndoSelection(Et,!0))),this.$fromUndo=!1}},kt.prototype.redoChanges=function(Et,$t){if(Et.length){this.$fromUndo=!0;for(var Tt=0;Tt<Et.length;Tt++){var At=Et[Tt];(At.action=="insert"||At.action=="remove")&&this.doc.$safeApplyDelta(At)}!$t&&this.$undoSelect&&(Et.selectionAfter?this.selection.fromJSON(Et.selectionAfter):this.selection.setRange(this.$getUndoSelection(Et,!1))),this.$fromUndo=!1}},kt.prototype.setUndoSelect=function(Et){this.$undoSelect=Et},kt.prototype.$getUndoSelection=function(Et,$t){function Tt(Ft){return $t?Ft.action!=="insert":Ft.action==="insert"}for(var At,Mt,Ot=0;Ot<Et.length;Ot++){var Pt=Et[Ot];if(Pt.start){if(!At){Tt(Pt)?At=$.fromPoints(Pt.start,Pt.end):At=$.fromPoints(Pt.start,Pt.start);continue}Tt(Pt)?(Mt=Pt.start,At.compare(Mt.row,Mt.column)==-1&&At.setStart(Mt),Mt=Pt.end,At.compare(Mt.row,Mt.column)==1&&At.setEnd(Mt)):(Mt=Pt.start,At.compare(Mt.row,Mt.column)==-1&&(At=$.fromPoints(Pt.start,Pt.start)))}}return At},kt.prototype.replace=function(Et,$t){return this.doc.replace(Et,$t)},kt.prototype.moveText=function(Et,$t,Tt){var At=this.getTextRange(Et),Mt=this.getFoldsInRange(Et),Ot=$.fromPoints($t,$t);if(!Tt){this.remove(Et);var Pt=Et.start.row-Et.end.row,Ft=Pt?-Et.end.column:Et.start.column-Et.end.column;Ft&&(Ot.start.row==Et.end.row&&Ot.start.column>Et.end.column&&(Ot.start.column+=Ft),Ot.end.row==Et.end.row&&Ot.end.column>Et.end.column&&(Ot.end.column+=Ft)),Pt&&Ot.start.row>=Et.end.row&&(Ot.start.row+=Pt,Ot.end.row+=Pt)}if(Ot.end=this.insert(Ot.start,At),Mt.length){var zt=Et.start,qt=Ot.start,Pt=qt.row-zt.row,Ft=qt.column-zt.column;this.addFolds(Mt.map(function(Xt){return Xt=Xt.clone(),Xt.start.row==zt.row&&(Xt.start.column+=Ft),Xt.end.row==zt.row&&(Xt.end.column+=Ft),Xt.start.row+=Pt,Xt.end.row+=Pt,Xt}))}return Ot},kt.prototype.indentRows=function(Et,$t,Tt){Tt=Tt.replace(/\t/g,this.getTabString());for(var At=Et;At<=$t;At++)this.doc.insertInLine({row:At,column:0},Tt)},kt.prototype.outdentRows=function(Et){for(var $t=Et.collapseRows(),Tt=new $(0,0,0,0),At=this.getTabSize(),Mt=$t.start.row;Mt<=$t.end.row;++Mt){var Ot=this.getLine(Mt);Tt.start.row=Mt,Tt.end.row=Mt;for(var Pt=0;Pt<At&&Ot.charAt(Pt)==" ";++Pt);Pt<At&&Ot.charAt(Pt)=="	"?(Tt.start.column=Pt,Tt.end.column=Pt+1):(Tt.start.column=0,Tt.end.column=Pt),this.remove(Tt)}},kt.prototype.$moveLines=function(Et,$t,Tt){if(Et=this.getRowFoldStart(Et),$t=this.getRowFoldEnd($t),Tt<0){var At=this.getRowFoldStart(Et+Tt);if(At<0)return 0;var Mt=At-Et}else if(Tt>0){var At=this.getRowFoldEnd($t+Tt);if(At>this.doc.getLength()-1)return 0;var Mt=At-$t}else{Et=this.$clipRowToDocument(Et),$t=this.$clipRowToDocument($t);var Mt=$t-Et+1}var Ot=new $(Et,0,$t,Number.MAX_VALUE),Pt=this.getFoldsInRange(Ot).map(function(zt){return zt=zt.clone(),zt.start.row+=Mt,zt.end.row+=Mt,zt}),Ft=Tt==0?this.doc.getLines(Et,$t):this.doc.removeFullLines(Et,$t);return this.doc.insertFullLines(Et+Mt,Ft),Pt.length&&this.addFolds(Pt),Mt},kt.prototype.moveLinesUp=function(Et,$t){return this.$moveLines(Et,$t,-1)},kt.prototype.moveLinesDown=function(Et,$t){return this.$moveLines(Et,$t,1)},kt.prototype.duplicateLines=function(Et,$t){return this.$moveLines(Et,$t,0)},kt.prototype.$clipRowToDocument=function(Et){return Math.max(0,Math.min(Et,this.doc.getLength()-1))},kt.prototype.$clipColumnToRow=function(Et,$t){return $t<0?0:Math.min(this.doc.getLine(Et).length,$t)},kt.prototype.$clipPositionToDocument=function(Et,$t){if($t=Math.max(0,$t),Et<0)Et=0,$t=0;else{var Tt=this.doc.getLength();Et>=Tt?(Et=Tt-1,$t=this.doc.getLine(Tt-1).length):$t=Math.min(this.doc.getLine(Et).length,$t)}return{row:Et,column:$t}},kt.prototype.$clipRangeToDocument=function(Et){Et.start.row<0?(Et.start.row=0,Et.start.column=0):Et.start.column=this.$clipColumnToRow(Et.start.row,Et.start.column);var $t=this.doc.getLength()-1;return Et.end.row>$t?(Et.end.row=$t,Et.end.column=this.doc.getLine($t).length):Et.end.column=this.$clipColumnToRow(Et.end.row,Et.end.column),Et},kt.prototype.setUseWrapMode=function(Et){if(Et!=this.$useWrapMode){if(this.$useWrapMode=Et,this.$modified=!0,this.$resetRowCache(0),Et){var $t=this.getLength();this.$wrapData=Array($t),this.$updateWrapData(0,$t-1)}this._signal("changeWrapMode")}},kt.prototype.getUseWrapMode=function(){return this.$useWrapMode},kt.prototype.setWrapLimitRange=function(Et,$t){(this.$wrapLimitRange.min!==Et||this.$wrapLimitRange.max!==$t)&&(this.$wrapLimitRange={min:Et,max:$t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},kt.prototype.adjustWrapLimit=function(Et,$t){var Tt=this.$wrapLimitRange;Tt.max<0&&(Tt={min:$t,max:$t});var At=this.$constrainWrapLimit(Et,Tt.min,Tt.max);return At!=this.$wrapLimit&&At>1?(this.$wrapLimit=At,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},kt.prototype.$constrainWrapLimit=function(Et,$t,Tt){return $t&&(Et=Math.max($t,Et)),Tt&&(Et=Math.min(Tt,Et)),Et},kt.prototype.getWrapLimit=function(){return this.$wrapLimit},kt.prototype.setWrapLimit=function(Et){this.setWrapLimitRange(Et,Et)},kt.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},kt.prototype.$updateInternalDataOnChange=function(Et){var $t=this.$useWrapMode,Tt=Et.action,At=Et.start,Mt=Et.end,Ot=At.row,Pt=Mt.row,Ft=Pt-Ot,zt=null;if(this.$updating=!0,Ft!=0)if(Tt==="remove"){this[$t?"$wrapData":"$rowLengthCache"].splice(Ot,Ft);var qt=this.$foldData;zt=this.getFoldsInRange(Et),this.removeFolds(zt);var Gt=this.getFoldLine(Mt.row),Wt=0;if(Gt){Gt.addRemoveChars(Mt.row,Mt.column,At.column-Mt.column),Gt.shiftRow(-Ft);var Xt=this.getFoldLine(Ot);Xt&&Xt!==Gt&&(Xt.merge(Gt),Gt=Xt),Wt=qt.indexOf(Gt)+1}for(Wt;Wt<qt.length;Wt++){var Gt=qt[Wt];Gt.start.row>=Mt.row&&Gt.shiftRow(-Ft)}Pt=Ot}else{var rr=Array(Ft);rr.unshift(Ot,0);var tr=$t?this.$wrapData:this.$rowLengthCache;tr.splice.apply(tr,rr);var qt=this.$foldData,Gt=this.getFoldLine(Ot),Wt=0;if(Gt){var mr=Gt.range.compareInside(At.row,At.column);mr==0?(Gt=Gt.split(At.row,At.column),Gt&&(Gt.shiftRow(Ft),Gt.addRemoveChars(Pt,0,Mt.column-At.column))):mr==-1&&(Gt.addRemoveChars(Ot,0,Mt.column-At.column),Gt.shiftRow(Ft)),Wt=qt.indexOf(Gt)+1}for(Wt;Wt<qt.length;Wt++){var Gt=qt[Wt];Gt.start.row>=Ot&&Gt.shiftRow(Ft)}}else{Ft=Math.abs(Et.start.column-Et.end.column),Tt==="remove"&&(zt=this.getFoldsInRange(Et),this.removeFolds(zt),Ft=-Ft);var Gt=this.getFoldLine(Ot);Gt&&Gt.addRemoveChars(Ot,At.column,Ft)}return $t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,$t?this.$updateWrapData(Ot,Pt):this.$updateRowLengthCache(Ot,Pt),zt},kt.prototype.$updateRowLengthCache=function(Et,$t){this.$rowLengthCache[Et]=null,this.$rowLengthCache[$t]=null},kt.prototype.$updateWrapData=function(Et,$t){var Tt=this.doc.getAllLines(),At=this.getTabSize(),Mt=this.$wrapData,Ot=this.$wrapLimit,Pt,Ft,zt=Et;for($t=Math.min($t,Tt.length-1);zt<=$t;)Ft=this.getFoldLine(zt,Ft),Ft?(Pt=[],Ft.walk((function(qt,Gt,Wt,Xt){var rr;if(qt!=null){rr=this.$getDisplayTokens(qt,Pt.length),rr[0]=mt;for(var tr=1;tr<rr.length;tr++)rr[tr]=gt}else rr=this.$getDisplayTokens(Tt[Gt].substring(Xt,Wt),Pt.length);Pt=Pt.concat(rr)}).bind(this),Ft.end.row,Tt[Ft.end.row].length+1),Mt[Ft.start.row]=this.$computeWrapSplits(Pt,Ot,At),zt=Ft.end.row+1):(Pt=this.$getDisplayTokens(Tt[zt]),Mt[zt]=this.$computeWrapSplits(Pt,Ot,At),zt++)},kt.prototype.$computeWrapSplits=function(Et,$t,Tt){if(Et.length==0)return[];var At=[],Mt=Et.length,Ot=0,Pt=0,Ft=this.$wrapAsCode,zt=this.$indentedSoftWrap,qt=$t<=Math.max(2*Tt,8)||zt===!1?0:Math.floor($t/2);function Gt(){var mr=0;if(qt===0)return mr;if(zt)for(var yr=0;yr<Et.length;yr++){var xr=Et[yr];if(xr==St)mr+=1;else if(xr==xt)mr+=Tt;else{if(xr==yt)continue;break}}return Ft&&zt!==!1&&(mr+=Tt),Math.min(mr,qt)}function Wt(mr){for(var yr=mr-Ot,xr=Ot;xr<mr;xr++){var vr=Et[xr];(vr===12||vr===2)&&(yr-=1)}At.length||(Xt=Gt(),At.indent=Xt),Pt+=yr,At.push(Pt),Ot=mr}for(var Xt=0;Mt-Ot>$t-Xt;){var rr=Ot+$t-Xt;if(Et[rr-1]>=St&&Et[rr]>=St){Wt(rr);continue}if(Et[rr]==mt||Et[rr]==gt){for(rr;rr!=Ot-1&&Et[rr]!=mt;rr--);if(rr>Ot){Wt(rr);continue}for(rr=Ot+$t,rr;rr<Et.length&&Et[rr]==gt;rr++);if(rr==Et.length)break;Wt(rr);continue}for(var tr=Math.max(rr-($t-($t>>2)),Ot-1);rr>tr&&Et[rr]<mt;)rr--;if(Ft){for(;rr>tr&&Et[rr]<mt;)rr--;for(;rr>tr&&Et[rr]==lt;)rr--}else for(;rr>tr&&Et[rr]<St;)rr--;if(rr>tr){Wt(++rr);continue}rr=Ot+$t,Et[rr]==dt&&rr--,Wt(rr-Xt)}return At},kt.prototype.$getDisplayTokens=function(Et,$t){var Tt=[],At;$t=$t||0;for(var Mt=0;Mt<Et.length;Mt++){var Ot=Et.charCodeAt(Mt);if(Ot==9){At=this.getScreenTabSize(Tt.length+$t),Tt.push(xt);for(var Pt=1;Pt<At;Pt++)Tt.push(yt)}else Ot==32?Tt.push(St):Ot>39&&Ot<48||Ot>57&&Ot<64?Tt.push(lt):Ot>=4352&&_t(Ot)?Tt.push(ut,dt):Tt.push(ut)}return Tt},kt.prototype.$getStringScreenWidth=function(Et,$t,Tt){if($t==0)return[0,0];$t==null&&($t=1/0),Tt=Tt||0;var At,Mt;for(Mt=0;Mt<Et.length&&(At=Et.charCodeAt(Mt),At==9?Tt+=this.getScreenTabSize(Tt):At>=4352&&_t(At)?Tt+=2:Tt+=1,!(Tt>$t));Mt++);return[Tt,Mt]},kt.prototype.getRowLength=function(Et){var $t=1;return this.lineWidgets&&($t+=this.lineWidgets[Et]&&this.lineWidgets[Et].rowCount||0),!this.$useWrapMode||!this.$wrapData[Et]?$t:this.$wrapData[Et].length+$t},kt.prototype.getRowLineCount=function(Et){return!this.$useWrapMode||!this.$wrapData[Et]?1:this.$wrapData[Et].length+1},kt.prototype.getRowWrapIndent=function(Et){if(this.$useWrapMode){var $t=this.screenToDocumentPosition(Et,Number.MAX_VALUE),Tt=this.$wrapData[$t.row];return Tt.length&&Tt[0]<$t.column?Tt.indent:0}else return 0},kt.prototype.getScreenLastRowColumn=function(Et){var $t=this.screenToDocumentPosition(Et,Number.MAX_VALUE);return this.documentToScreenColumn($t.row,$t.column)},kt.prototype.getDocumentLastRowColumn=function(Et,$t){var Tt=this.documentToScreenRow(Et,$t);return this.getScreenLastRowColumn(Tt)},kt.prototype.getDocumentLastRowColumnPosition=function(Et,$t){var Tt=this.documentToScreenRow(Et,$t);return this.screenToDocumentPosition(Tt,Number.MAX_VALUE/10)},kt.prototype.getRowSplitData=function(Et){if(this.$useWrapMode)return this.$wrapData[Et]},kt.prototype.getScreenTabSize=function(Et){return this.$tabSize-(Et%this.$tabSize|0)},kt.prototype.screenToDocumentRow=function(Et,$t){return this.screenToDocumentPosition(Et,$t).row},kt.prototype.screenToDocumentColumn=function(Et,$t){return this.screenToDocumentPosition(Et,$t).column},kt.prototype.screenToDocumentPosition=function(Et,$t,Tt){if(Et<0)return{row:0,column:0};var At,Mt=0,Ot=0,Pt,Ft=0,zt=0,qt=this.$screenRowCache,Gt=this.$getRowCacheIndex(qt,Et),Wt=qt.length;if(Wt&&Gt>=0)var Ft=qt[Gt],Mt=this.$docRowCache[Gt],Xt=Et>qt[Wt-1];else var Xt=!Wt;for(var rr=this.getLength()-1,tr=this.getNextFoldLine(Mt),mr=tr?tr.start.row:1/0;Ft<=Et&&(zt=this.getRowLength(Mt),!(Ft+zt>Et||Mt>=rr));)Ft+=zt,Mt++,Mt>mr&&(Mt=tr.end.row+1,tr=this.getNextFoldLine(Mt,tr),mr=tr?tr.start.row:1/0),Xt&&(this.$docRowCache.push(Mt),this.$screenRowCache.push(Ft));if(tr&&tr.start.row<=Mt)At=this.getFoldDisplayLine(tr),Mt=tr.start.row;else{if(Ft+zt<=Et||Mt>rr)return{row:rr,column:this.getLine(rr).length};At=this.getLine(Mt),tr=null}var yr=0,xr=Math.floor(Et-Ft);if(this.$useWrapMode){var vr=this.$wrapData[Mt];vr&&(Pt=vr[xr],xr>0&&vr.length&&(yr=vr.indent,Ot=vr[xr-1]||vr[vr.length-1],At=At.substring(Ot)))}return Tt!==void 0&&this.$bidiHandler.isBidiRow(Ft+xr,Mt,xr)&&($t=this.$bidiHandler.offsetToCol(Tt)),Ot+=this.$getStringScreenWidth(At,$t-yr)[1],this.$useWrapMode&&Ot>=Pt&&(Ot=Pt-1),tr?tr.idxToPosition(Ot):{row:Mt,column:Ot}},kt.prototype.documentToScreenPosition=function(Et,$t){if(typeof $t>"u")var Tt=this.$clipPositionToDocument(Et.row,Et.column);else Tt=this.$clipPositionToDocument(Et,$t);Et=Tt.row,$t=Tt.column;var At=0,Mt=null,Ot=null;Ot=this.getFoldAt(Et,$t,1),Ot&&(Et=Ot.start.row,$t=Ot.start.column);var Pt,Ft=0,zt=this.$docRowCache,qt=this.$getRowCacheIndex(zt,Et),Gt=zt.length;if(Gt&&qt>=0)var Ft=zt[qt],At=this.$screenRowCache[qt],Wt=Et>zt[Gt-1];else var Wt=!Gt;for(var Xt=this.getNextFoldLine(Ft),rr=Xt?Xt.start.row:1/0;Ft<Et;){if(Ft>=rr){if(Pt=Xt.end.row+1,Pt>Et)break;Xt=this.getNextFoldLine(Pt,Xt),rr=Xt?Xt.start.row:1/0}else Pt=Ft+1;At+=this.getRowLength(Ft),Ft=Pt,Wt&&(this.$docRowCache.push(Ft),this.$screenRowCache.push(At))}var tr="";Xt&&Ft>=rr?(tr=this.getFoldDisplayLine(Xt,Et,$t),Mt=Xt.start.row):(tr=this.getLine(Et).substring(0,$t),Mt=Et);var mr=0;if(this.$useWrapMode){var yr=this.$wrapData[Mt];if(yr){for(var xr=0;tr.length>=yr[xr];)At++,xr++;tr=tr.substring(yr[xr-1]||0,tr.length),mr=xr>0?yr.indent:0}}return this.lineWidgets&&this.lineWidgets[Ft]&&this.lineWidgets[Ft].rowsAbove&&(At+=this.lineWidgets[Ft].rowsAbove),{row:At,column:mr+this.$getStringScreenWidth(tr)[0]}},kt.prototype.documentToScreenColumn=function(Et,$t){return this.documentToScreenPosition(Et,$t).column},kt.prototype.documentToScreenRow=function(Et,$t){return this.documentToScreenPosition(Et,$t).row},kt.prototype.getScreenLength=function(){var Et=0,$t=null;if(this.$useWrapMode)for(var Mt=this.$wrapData.length,Ot=0,At=0,$t=this.$foldData[At++],Pt=$t?$t.start.row:1/0;Ot<Mt;){var Ft=this.$wrapData[Ot];Et+=Ft?Ft.length+1:1,Ot++,Ot>Pt&&(Ot=$t.end.row+1,$t=this.$foldData[At++],Pt=$t?$t.start.row:1/0)}else{Et=this.getLength();for(var Tt=this.$foldData,At=0;At<Tt.length;At++)$t=Tt[At],Et-=$t.end.row-$t.start.row}return this.lineWidgets&&(Et+=this.$getWidgetScreenLength()),Et},kt.prototype.$setFontMetrics=function(Et){this.$enableVarChar&&(this.$getStringScreenWidth=function($t,Tt,At){if(Tt===0)return[0,0];Tt||(Tt=1/0),At=At||0;var Mt,Ot;for(Ot=0;Ot<$t.length&&(Mt=$t.charAt(Ot),Mt==="	"?At+=this.getScreenTabSize(At):At+=Et.getCharacterWidth(Mt),!(At>Tt));Ot++);return[At,Ot]})},kt.prototype.getPrecedingCharacter=function(){var Et=this.selection.getCursor();if(Et.column===0)return Et.row===0?"":this.doc.getNewLineCharacter();var $t=this.getLine(Et.row);return $t[Et.column-1]},kt.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},kt}();ht.$uid=0,ht.prototype.$modes=rt.$modes,ht.prototype.getValue=ht.prototype.toString,ht.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},ht.prototype.$overwrite=!1,ht.prototype.$mode=null,ht.prototype.$modeId=null,ht.prototype.$scrollTop=0,ht.prototype.$scrollLeft=0,ht.prototype.$wrapLimit=80,ht.prototype.$useWrapMode=!1,ht.prototype.$wrapLimitRange={min:null,max:null},ht.prototype.lineWidgets=null,ht.prototype.isFullWidth=_t,_e.implement(ht.prototype,it);var ut=1,dt=2,mt=3,gt=4,lt=9,St=10,xt=11,yt=12;function _t(kt){return kt<4352?!1:kt>=4352&&kt<=4447||kt>=4515&&kt<=4519||kt>=4602&&kt<=4607||kt>=9001&&kt<=9002||kt>=11904&&kt<=11929||kt>=11931&&kt<=12019||kt>=12032&&kt<=12245||kt>=12272&&kt<=12283||kt>=12288&&kt<=12350||kt>=12353&&kt<=12438||kt>=12441&&kt<=12543||kt>=12549&&kt<=12589||kt>=12593&&kt<=12686||kt>=12688&&kt<=12730||kt>=12736&&kt<=12771||kt>=12784&&kt<=12830||kt>=12832&&kt<=12871||kt>=12880&&kt<=13054||kt>=13056&&kt<=19903||kt>=19968&&kt<=42124||kt>=42128&&kt<=42182||kt>=43360&&kt<=43388||kt>=44032&&kt<=55203||kt>=55216&&kt<=55238||kt>=55243&&kt<=55291||kt>=63744&&kt<=64255||kt>=65040&&kt<=65049||kt>=65072&&kt<=65106||kt>=65108&&kt<=65126||kt>=65128&&kt<=65131||kt>=65281&&kt<=65376||kt>=65504&&kt<=65510}o("./edit_session/folding").Folding.call(ht.prototype),o("./edit_session/bracket_match").BracketMatch.call(ht.prototype),rt.defineOptions(ht.prototype,"session",{wrap:{set:function(kt){if(!kt||kt=="off"?kt=!1:kt=="free"?kt=!0:kt=="printMargin"?kt=-1:typeof kt=="string"&&(kt=parseInt(kt,10)||!1),this.$wrap!=kt)if(this.$wrap=kt,!kt)this.setUseWrapMode(!1);else{var Et=typeof kt=="number"?kt:null;this.setWrapLimitRange(Et,Et),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(kt){kt=kt=="auto"?this.$mode.type!="text":kt!="text",kt!=this.$wrapAsCode&&(this.$wrapAsCode=kt,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(kt){this.$useWorker=kt,this.$stopWorker(),kt&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(kt){kt=parseInt(kt),kt>0&&this.$tabSize!==kt&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=kt,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(kt){this.setFoldStyle(kt)},handlesSet:!0},overwrite:{set:function(kt){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(kt){this.doc.setNewLineMode(kt)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(kt){this.setMode(kt)},get:function(){return this.$modeId},handlesSet:!0}}),a.EditSession=ht}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(o,a,tt){var _e=o("./lib/lang"),st=o("./lib/oop"),ot=o("./range").Range,rt=function(){function j(){this.$options={}}return j.prototype.set=function(_){return st.mixin(this.$options,_),this},j.prototype.getOptions=function(){return _e.copyObject(this.$options)},j.prototype.setOptions=function(_){this.$options=_},j.prototype.find=function(_){var $=this.$options,et=this.$matchIterator(_,$);if(!et)return!1;var nt=null;return et.forEach(function(at,ct,ht,ut){return nt=new ot(at,ct,ht,ut),ct==ut&&$.start&&$.start.start&&$.skipCurrent!=!1&&nt.isEqual($.start)?(nt=null,!1):!0}),nt},j.prototype.findAll=function(_){var $=this.$options;if(!$.needle)return[];this.$assembleRegExp($);var et=$.range,nt=et?_.getLines(et.start.row,et.end.row):_.doc.getAllLines(),at=[],ct=$.re;if($.$isMultiLine){var ht=ct.length,ut=nt.length-ht,dt;e:for(var mt=ct.offset||0;mt<=ut;mt++){for(var gt=0;gt<ht;gt++)if(nt[mt+gt].search(ct[gt])==-1)continue e;var lt=nt[mt],St=nt[mt+ht-1],xt=lt.length-lt.match(ct[0])[0].length,yt=St.match(ct[ht-1])[0].length;dt&&dt.end.row===mt&&dt.end.column>xt||(at.push(dt=new ot(mt,xt,mt+ht-1,yt)),ht>2&&(mt=mt+ht-2))}}else for(var _t=0;_t<nt.length;_t++)for(var kt=_e.getMatchOffsets(nt[_t],ct),gt=0;gt<kt.length;gt++){var Et=kt[gt];at.push(new ot(_t,Et.offset,_t,Et.offset+Et.length))}if(et){for(var $t=et.start.column,Tt=et.end.column,_t=0,gt=at.length-1;_t<gt&&at[_t].start.column<$t&&at[_t].start.row==0;)_t++;for(var At=et.end.row-et.start.row;_t<gt&&at[gt].end.column>Tt&&at[gt].end.row==At;)gt--;for(at=at.slice(_t,gt+1),_t=0,gt=at.length;_t<gt;_t++)at[_t].start.row+=et.start.row,at[_t].end.row+=et.start.row}return at},j.prototype.replace=function(_,$){var et=this.$options,nt=this.$assembleRegExp(et);if(et.$isMultiLine)return $;if(nt){var at=nt.exec(_);if(!at||at[0].length!=_.length)return null;if(et.regExp||($=$.replace(/\$/g,"$$$$")),$=_.replace(nt,$),et.preserveCase){$=$.split("");for(var ct=Math.min(_.length,_.length);ct--;){var ht=_[ct];ht&&ht.toLowerCase()!=ht?$[ct]=$[ct].toUpperCase():$[ct]=$[ct].toLowerCase()}$=$.join("")}return $}},j.prototype.$assembleRegExp=function(_,$){if(_.needle instanceof RegExp)return _.re=_.needle;var et=_.needle;if(!_.needle)return _.re=!1;_.regExp||(et=_e.escapeRegExp(et));var nt=_.caseSensitive?"gm":"gmi";try{new RegExp(et,"u"),_.$supportsUnicodeFlag=!0,nt+="u"}catch{_.$supportsUnicodeFlag=!1}if(_.wholeWord&&(et=it(et,_)),_.$isMultiLine=!$&&/[\n\r]/.test(et),_.$isMultiLine)return _.re=this.$assembleMultilineRegExp(et,nt);try{var at=new RegExp(et,nt)}catch{at=!1}return _.re=at},j.prototype.$assembleMultilineRegExp=function(_,$){for(var et=_.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),nt=[],at=0;at<et.length;at++)try{nt.push(new RegExp(et[at],$))}catch{return!1}return nt},j.prototype.$matchIterator=function(_,$){var et=this.$assembleRegExp($);if(!et)return!1;var nt=$.backwards==!0,at=$.skipCurrent!=!1,ct=et.unicode,ht=$.range,ut=$.start;ut||(ut=ht?ht[nt?"end":"start"]:_.selection.getRange()),ut.start&&(ut=ut[at!=nt?"end":"start"]);var dt=ht?ht.start.row:0,mt=ht?ht.end.row:_.getLength()-1;if(nt)var gt=function(xt){var yt=ut.row;if(!St(yt,ut.column,xt)){for(yt--;yt>=dt;yt--)if(St(yt,Number.MAX_VALUE,xt))return;if($.wrap!=!1){for(yt=mt,dt=ut.row;yt>=dt;yt--)if(St(yt,Number.MAX_VALUE,xt))return}}};else var gt=function(yt){var _t=ut.row;if(!St(_t,ut.column,yt)){for(_t=_t+1;_t<=mt;_t++)if(St(_t,0,yt))return;if($.wrap!=!1){for(_t=dt,mt=ut.row;_t<=mt;_t++)if(St(_t,0,yt))return}}};if($.$isMultiLine)var lt=et.length,St=function(xt,yt,_t){var kt=nt?xt-lt+1:xt;if(!(kt<0||kt+lt>_.getLength())){var Et=_.getLine(kt),$t=Et.search(et[0]);if(!(!nt&&$t<yt||$t===-1)){for(var Tt=1;Tt<lt;Tt++)if(Et=_.getLine(kt+Tt),Et.search(et[Tt])==-1)return;var At=Et.match(et[lt-1])[0].length;if(!(nt&&At>yt)&&_t(kt,$t,kt+lt-1,At))return!0}}};else if(nt)var St=function(yt,_t,kt){var Et=_.getLine(yt),$t=[],Tt,At=0;for(et.lastIndex=0;Tt=et.exec(Et);){var Mt=Tt[0].length;if(At=Tt.index,!Mt){if(At>=Et.length)break;et.lastIndex=At+=_e.skipEmptyMatch(Et,At,ct)}if(Tt.index+Mt>_t)break;$t.push(Tt.index,Mt)}for(var Ot=$t.length-1;Ot>=0;Ot-=2){var Pt=$t[Ot-1],Mt=$t[Ot];if(kt(yt,Pt,yt,Pt+Mt))return!0}};else var St=function(yt,_t,kt){var Et=_.getLine(yt),$t,Tt;for(et.lastIndex=_t;Tt=et.exec(Et);){var At=Tt[0].length;if($t=Tt.index,kt(yt,$t,yt,$t+At))return!0;if(!At&&(et.lastIndex=$t+=_e.skipEmptyMatch(Et,$t,ct),$t>=Et.length))return!1}};return{forEach:gt}},j}();function it(j,_){var $=_e.supportsLookbehind();function et(ht,ut){ut===void 0&&(ut=!0);var dt=$&&_.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return dt.test(ht)||_.regExp?$&&_.$supportsUnicodeFlag?ut?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var nt=Array.from(j),at=nt[0],ct=nt[nt.length-1];return et(at)+j+et(ct,!1)}a.Search=rt}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(o,a,tt){var _e=this&&this.__extends||function(){var $=function(et,nt){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,ct){at.__proto__=ct}||function(at,ct){for(var ht in ct)Object.prototype.hasOwnProperty.call(ct,ht)&&(at[ht]=ct[ht])},$(et,nt)};return function(et,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Class extends value "+String(nt)+" is not a constructor or null");$(et,nt);function at(){this.constructor=et}et.prototype=nt===null?Object.create(nt):(at.prototype=nt.prototype,new at)}}(),st=o("../lib/keys"),ot=o("../lib/useragent"),rt=st.KEY_MODS,it=function(){function $(et,nt){this.$init(et,nt,!1)}return $.prototype.$init=function(et,nt,at){this.platform=nt||(ot.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(et),this.$singleCommand=at},$.prototype.addCommand=function(et){this.commands[et.name]&&this.removeCommand(et),this.commands[et.name]=et,et.bindKey&&this._buildKeyHash(et)},$.prototype.removeCommand=function(et,nt){var at=et&&(typeof et=="string"?et:et.name);et=this.commands[at],nt||delete this.commands[at];var ct=this.commandKeyBinding;for(var ht in ct){var ut=ct[ht];if(ut==et)delete ct[ht];else if(Array.isArray(ut)){var dt=ut.indexOf(et);dt!=-1&&(ut.splice(dt,1),ut.length==1&&(ct[ht]=ut[0]))}}},$.prototype.bindKey=function(et,nt,at){if(typeof et=="object"&&et&&(at==null&&(at=et.position),et=et[this.platform]),!!et){if(typeof nt=="function")return this.addCommand({exec:nt,bindKey:et,name:nt.name||et});et.split("|").forEach(function(ct){var ht="";if(ct.indexOf(" ")!=-1){var ut=ct.split(/\s+/);ct=ut.pop(),ut.forEach(function(gt){var lt=this.parseKeys(gt),St=rt[lt.hashId]+lt.key;ht+=(ht?" ":"")+St,this._addCommandToBinding(ht,"chainKeys")},this),ht+=" "}var dt=this.parseKeys(ct),mt=rt[dt.hashId]+dt.key;this._addCommandToBinding(ht+mt,nt,at)},this)}},$.prototype._addCommandToBinding=function(et,nt,at){var ct=this.commandKeyBinding,ht;if(!nt)delete ct[et];else if(!ct[et]||this.$singleCommand)ct[et]=nt;else{Array.isArray(ct[et])?(ht=ct[et].indexOf(nt))!=-1&&ct[et].splice(ht,1):ct[et]=[ct[et]],typeof at!="number"&&(at=j(nt));var ut=ct[et];for(ht=0;ht<ut.length;ht++){var dt=ut[ht],mt=j(dt);if(mt>at)break}ut.splice(ht,0,nt)}},$.prototype.addCommands=function(et){et&&Object.keys(et).forEach(function(nt){var at=et[nt];if(at){if(typeof at=="string")return this.bindKey(at,nt);typeof at=="function"&&(at={exec:at}),typeof at=="object"&&(at.name||(at.name=nt),this.addCommand(at))}},this)},$.prototype.removeCommands=function(et){Object.keys(et).forEach(function(nt){this.removeCommand(et[nt])},this)},$.prototype.bindKeys=function(et){Object.keys(et).forEach(function(nt){this.bindKey(nt,et[nt])},this)},$.prototype._buildKeyHash=function(et){this.bindKey(et.bindKey,et)},$.prototype.parseKeys=function(et){var nt=et.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(mt){return mt}),at=nt.pop(),ct=st[at];if(st.FUNCTION_KEYS[ct])at=st.FUNCTION_KEYS[ct].toLowerCase();else if(nt.length){if(nt.length==1&&nt[0]=="shift")return{key:at.toUpperCase(),hashId:-1}}else return{key:at,hashId:-1};for(var ht=0,ut=nt.length;ut--;){var dt=st.KEY_MODS[nt[ut]];if(dt==null)return typeof console<"u"&&console.error("invalid modifier "+nt[ut]+" in "+et),!1;ht|=dt}return{key:at,hashId:ht}},$.prototype.findKeyCommand=function(et,nt){var at=rt[et]+nt;return this.commandKeyBinding[at]},$.prototype.handleKeyboard=function(et,nt,at,ct){if(!(ct<0)){var ht=rt[nt]+at,ut=this.commandKeyBinding[ht];return et.$keyChain&&(et.$keyChain+=" "+ht,ut=this.commandKeyBinding[et.$keyChain]||ut),ut&&(ut=="chainKeys"||ut[ut.length-1]=="chainKeys")?(et.$keyChain=et.$keyChain||ht,{command:"null"}):(et.$keyChain&&((!nt||nt==4)&&at.length==1?et.$keyChain=et.$keyChain.slice(0,-ht.length-1):(nt==-1||ct>0)&&(et.$keyChain="")),{command:ut})}},$.prototype.getStatusText=function(et,nt){return nt.$keyChain||""},$}();function j($){return typeof $=="object"&&$.bindKey&&$.bindKey.position||($.isDefault?-100:0)}var _=function($){_e(et,$);function et(nt,at){var ct=$.call(this,nt,at)||this;return ct.$singleCommand=!0,ct}return et}(it);_.call=function($,et,nt){it.prototype.$init.call($,et,nt,!0)},it.call=function($,et,nt){it.prototype.$init.call($,et,nt,!1)},a.HashHandler=_,a.MultiHashHandler=it}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(o,a,tt){var _e=this&&this.__extends||function(){var j=function(_,$){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,nt){et.__proto__=nt}||function(et,nt){for(var at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&(et[at]=nt[at])},j(_,$)};return function(_,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");j(_,$);function et(){this.constructor=_}_.prototype=$===null?Object.create($):(et.prototype=$.prototype,new et)}}(),st=o("../lib/oop"),ot=o("../keyboard/hash_handler").MultiHashHandler,rt=o("../lib/event_emitter").EventEmitter,it=function(j){_e(_,j);function _($,et){var nt=j.call(this,et,$)||this;return nt.byName=nt.commands,nt.setDefaultHandler("exec",function(at){return at.args?at.command.exec(at.editor,at.args,at.event,!1):at.command.exec(at.editor,{},at.event,!0)}),nt}return _.prototype.exec=function($,et,nt){if(Array.isArray($)){for(var at=$.length;at--;)if(this.exec($[at],et,nt))return!0;return!1}if(typeof $=="string"&&($=this.commands[$]),!this.canExecute($,et))return!1;var ct={editor:et,command:$,args:nt};return ct.returnValue=this._emit("exec",ct),this._signal("afterExec",ct),ct.returnValue!==!1},_.prototype.canExecute=function($,et){return typeof $=="string"&&($=this.commands[$]),!(!$||et&&et.$readOnly&&!$.readOnly||this.$checkCommandState!=!1&&$.isAvailable&&!$.isAvailable(et))},_.prototype.toggleRecording=function($){if(!this.$inReplay)return $&&$._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(et){this.macro.push([et.command,et.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},_.prototype.replay=function($){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording($);try{this.$inReplay=!0,this.macro.forEach(function(et){typeof et=="string"?this.exec(et,$):this.exec(et[0],$,et[1])},this)}finally{this.$inReplay=!1}}},_.prototype.trimMacro=function($){return $.map(function(et){return typeof et[0]!="string"&&(et[0]=et[0].name),et[1]||(et=et[0]),et})},_}(ot);st.implement(it.prototype,rt),a.CommandManager=it}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(o,a,tt){var _e=o("../lib/lang"),st=o("../config"),ot=o("../range").Range;function rt(j,_){return{win:j,mac:_}}a.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:rt("Ctrl-,","Command-,"),exec:function(j){st.loadModule("ace/ext/settings_menu",function(_){_.init(j),j.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:rt("Alt-E","F4"),exec:function(j){st.loadModule("ace/ext/error_marker",function(_){_.showErrorMarker(j,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:rt("Alt-Shift-E","Shift-F4"),exec:function(j){st.loadModule("ace/ext/error_marker",function(_){_.showErrorMarker(j,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:rt("Ctrl-A","Command-A"),exec:function(j){j.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:rt(null,"Ctrl-L"),exec:function(j){j.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:rt("Ctrl-L","Command-L"),exec:function(j,_){typeof _=="number"&&!isNaN(_)&&j.gotoLine(_),j.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:rt("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(j){j.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:rt("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(j){j.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:rt("F2","F2"),exec:function(j){j.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:rt("Alt-F2","Alt-F2"),exec:function(j){j.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:rt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:rt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:rt("Alt-0","Command-Option-0"),exec:function(j){j.session.foldAll(),j.session.unfold(j.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:rt("Alt-Shift-0","Command-Option-Shift-0"),exec:function(j){j.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:rt("Ctrl-K","Command-G"),exec:function(j){j.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:rt("Ctrl-Shift-K","Command-Shift-G"),exec:function(j){j.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:rt("Alt-K","Ctrl-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:rt("Alt-Shift-K","Ctrl-Shift-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:rt("Ctrl-F","Command-F"),exec:function(j){st.loadModule("ace/ext/searchbox",function(_){_.Search(j)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(j){j.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:rt("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(j){j.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:rt("Ctrl-Home","Command-Home|Command-Up"),exec:function(j){j.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:rt("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(j){j.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:rt("Up","Up|Ctrl-P"),exec:function(j,_){j.navigateUp(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:rt("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(j){j.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:rt("Ctrl-End","Command-End|Command-Down"),exec:function(j){j.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:rt("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(j){j.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:rt("Down","Down|Ctrl-N"),exec:function(j,_){j.navigateDown(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:rt("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(j){j.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:rt("Ctrl-Left","Option-Left"),exec:function(j){j.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:rt("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:rt("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(j){j.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:rt("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(j){j.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:rt("Left","Left|Ctrl-B"),exec:function(j,_){j.navigateLeft(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:rt("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(j){j.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:rt("Ctrl-Right","Option-Right"),exec:function(j){j.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:rt("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:rt("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(j){j.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:rt("Shift-Right","Shift-Right"),exec:function(j){j.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:rt("Right","Right|Ctrl-F"),exec:function(j,_){j.navigateRight(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(j){j.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:rt(null,"Option-PageDown"),exec:function(j){j.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:rt("PageDown","PageDown|Ctrl-V"),exec:function(j){j.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(j){j.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:rt(null,"Option-PageUp"),exec:function(j){j.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(j){j.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:rt("Ctrl-Up",null),exec:function(j){j.renderer.scrollBy(0,-2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:rt("Ctrl-Down",null),exec:function(j){j.renderer.scrollBy(0,2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:rt("Ctrl-Alt-E","Command-Option-E"),exec:function(j){j.commands.toggleRecording(j)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:rt("Ctrl-Shift-E","Command-Shift-E"),exec:function(j){j.commands.replay(j)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:rt("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(j){j.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:rt("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(j){j.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:rt("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(j){j.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:rt(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(j){},readOnly:!0},{name:"cut",description:"Cut",exec:function(j){var _=j.$copyWithEmptySelection&&j.selection.isEmpty(),$=_?j.selection.getLineRange():j.selection.getRange();j._emit("cut",$),$.isEmpty()||j.session.remove($),j.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(j,_){j.$handlePaste(_)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:rt("Ctrl-D","Command-D"),exec:function(j){j.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:rt("Ctrl-Shift-D","Command-Shift-D"),exec:function(j){j.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:rt("Ctrl-Alt-S","Command-Alt-S"),exec:function(j){j.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:rt("Ctrl-/","Command-/"),exec:function(j){j.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:rt("Ctrl-Shift-/","Command-Shift-/"),exec:function(j){j.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:rt("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(j){j.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:rt("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(j){j.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:rt("Ctrl-H","Command-Option-F"),exec:function(j){st.loadModule("ace/ext/searchbox",function(_){_.Search(j,!0)})}},{name:"undo",description:"Undo",bindKey:rt("Ctrl-Z","Command-Z"),exec:function(j){j.undo()}},{name:"redo",description:"Redo",bindKey:rt("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(j){j.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:rt("Alt-Shift-Up","Command-Option-Up"),exec:function(j){j.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:rt("Alt-Up","Option-Up"),exec:function(j){j.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:rt("Alt-Shift-Down","Command-Option-Down"),exec:function(j){j.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:rt("Alt-Down","Option-Down"),exec:function(j){j.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:rt("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(j){j.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:rt("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(j){j.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:rt("Shift-Delete",null),exec:function(j){if(j.selection.isEmpty())j.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:rt("Alt-Backspace","Command-Backspace"),exec:function(j){j.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:rt("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(j){j.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:rt("Ctrl-Shift-Backspace",null),exec:function(j){var _=j.selection.getRange();_.start.column=0,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:rt("Ctrl-Shift-Delete",null),exec:function(j){var _=j.selection.getRange();_.end.column=Number.MAX_VALUE,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:rt("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(j){j.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:rt("Ctrl-Delete","Alt-Delete"),exec:function(j){j.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:rt("Shift-Tab","Shift-Tab"),exec:function(j){j.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:rt("Tab","Tab"),exec:function(j){j.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:rt("Ctrl-[","Ctrl-["),exec:function(j){j.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:rt("Ctrl-]","Ctrl-]"),exec:function(j){j.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(j,_){j.insert(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(j,_){j.insert(_e.stringRepeat(_.text||"",_.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:rt(null,"Ctrl-O"),exec:function(j){j.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:rt("Alt-Shift-X","Ctrl-T"),exec:function(j){j.transposeLetters()},multiSelectAction:function(j){j.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:rt("Ctrl-U","Ctrl-U"),exec:function(j){j.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:rt("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(j){j.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:rt(null,null),exec:function(j){j.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:rt("Ctrl-Shift-L","Command-Shift-L"),exec:function(j){var _=j.selection.getRange();_.start.column=_.end.column=0,_.end.row++,j.selection.setRange(_,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:rt("Ctrl+F3","F3"),exec:function(j){j.openLink()}},{name:"joinlines",description:"Join lines",bindKey:rt(null,null),exec:function(j){for(var _=j.selection.isBackwards(),$=_?j.selection.getSelectionLead():j.selection.getSelectionAnchor(),et=_?j.selection.getSelectionAnchor():j.selection.getSelectionLead(),nt=j.session.doc.getLine($.row).length,at=j.session.doc.getTextRange(j.selection.getRange()),ct=at.replace(/\n\s*/," ").length,ht=j.session.doc.getLine($.row),ut=$.row+1;ut<=et.row+1;ut++){var dt=_e.stringTrimLeft(_e.stringTrimRight(j.session.doc.getLine(ut)));dt.length!==0&&(dt=" "+dt),ht+=dt}et.row+1<j.session.doc.getLength()-1&&(ht+=j.session.doc.getNewLineCharacter()),j.clearSelection(),j.session.doc.replace(new ot($.row,0,et.row+2,0),ht),ct>0?(j.selection.moveCursorTo($.row,$.column),j.selection.selectTo($.row,$.column+ct)):(nt=j.session.doc.getLine($.row).length>nt?nt+1:nt,j.selection.moveCursorTo($.row,nt))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:rt(null,null),exec:function(j){var _=j.session.doc.getLength()-1,$=j.session.doc.getLine(_).length,et=j.selection.rangeList.ranges,nt=[];et.length<1&&(et=[j.selection.getRange()]);for(var at=0;at<et.length;at++)at==et.length-1&&(et[at].end.row===_&&et[at].end.column===$||nt.push(new ot(et[at].end.row,et[at].end.column,_,$))),at===0?et[at].start.row===0&&et[at].start.column===0||nt.push(new ot(0,0,et[at].start.row,et[at].start.column)):nt.push(new ot(et[at-1].end.row,et[at-1].end.column,et[at].start.row,et[at].start.column));j.exitMultiSelectMode(),j.clearSelection();for(var at=0;at<nt.length;at++)j.selection.addRange(nt[at],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(j){j.selection.clearSelection(),j.navigateLineEnd(),j.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(j){j.selection.clearSelection();var _=j.getCursorPosition();j.selection.moveTo(_.row-1,Number.MAX_VALUE),j.insert(`
`),_.row===0&&j.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(j){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),j.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:rt("F1","F1"),exec:function(j){j.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:rt(null,null),exec:function(j){j.prompt({$type:"modes"})},readOnly:!0}];for(var it=1;it<9;it++)a.commands.push({name:"foldToLevel"+it,description:"Fold To Level "+it,level:it,exec:function(j){j.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(o,a,tt){var _e=o("./lib/dom"),st=function(){function ot(rt){this.session=rt,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return ot.prototype.getRowLength=function(rt){var it;return this.lineWidgets?it=this.lineWidgets[rt]&&this.lineWidgets[rt].rowCount||0:it=0,!this.$useWrapMode||!this.$wrapData[rt]?1+it:this.$wrapData[rt].length+1+it},ot.prototype.$getWidgetScreenLength=function(){var rt=0;return this.lineWidgets.forEach(function(it){it&&it.rowCount&&!it.hidden&&(rt+=it.rowCount)}),rt},ot.prototype.$onChangeEditor=function(rt){this.attach(rt.editor)},ot.prototype.attach=function(rt){rt&&rt.widgetManager&&rt.widgetManager!=this&&rt.widgetManager.detach(),this.editor!=rt&&(this.detach(),this.editor=rt,rt&&(rt.widgetManager=this,rt.renderer.on("beforeRender",this.measureWidgets),rt.renderer.on("afterRender",this.renderWidgets)))},ot.prototype.detach=function(rt){var it=this.editor;if(it){this.editor=null,it.widgetManager=null,it.renderer.off("beforeRender",this.measureWidgets),it.renderer.off("afterRender",this.renderWidgets);var j=this.session.lineWidgets;j&&j.forEach(function(_){_&&_.el&&_.el.parentNode&&(_._inDocument=!1,_.el.parentNode.removeChild(_.el))})}},ot.prototype.updateOnFold=function(rt,it){var j=it.lineWidgets;if(!(!j||!rt.action)){for(var _=rt.data,$=_.start.row,et=_.end.row,nt=rt.action=="add",at=$+1;at<et;at++)j[at]&&(j[at].hidden=nt);j[et]&&(nt?j[$]?j[et].hidden=nt:j[$]=j[et]:(j[$]==j[et]&&(j[$]=void 0),j[et].hidden=nt))}},ot.prototype.updateOnChange=function(rt){var it=this.session.lineWidgets;if(it){var j=rt.start.row,_=rt.end.row-j;if(_!==0)if(rt.action=="remove"){var $=it.splice(j+1,_);!it[j]&&$[$.length-1]&&(it[j]=$.pop()),$.forEach(function(nt){nt&&this.removeLineWidget(nt)},this),this.$updateRows()}else{var et=new Array(_);it[j]&&it[j].column!=null&&rt.start.column>it[j].column&&j++,et.unshift(j,0),it.splice.apply(it,et),this.$updateRows()}}},ot.prototype.$updateRows=function(){var rt=this.session.lineWidgets;if(rt){var it=!0;rt.forEach(function(j,_){if(j)for(it=!1,j.row=_;j.$oldWidget;)j.$oldWidget.row=_,j=j.$oldWidget}),it&&(this.session.lineWidgets=null)}},ot.prototype.$registerLineWidget=function(rt){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var it=this.session.lineWidgets[rt.row];return it&&(rt.$oldWidget=it,it.el&&it.el.parentNode&&(it.el.parentNode.removeChild(it.el),it._inDocument=!1)),this.session.lineWidgets[rt.row]=rt,rt},ot.prototype.addLineWidget=function(rt){if(this.$registerLineWidget(rt),rt.session=this.session,!this.editor)return rt;var it=this.editor.renderer;rt.html&&!rt.el&&(rt.el=_e.createElement("div"),rt.el.innerHTML=rt.html),rt.text&&!rt.el&&(rt.el=_e.createElement("div"),rt.el.textContent=rt.text),rt.el&&(_e.addCssClass(rt.el,"ace_lineWidgetContainer"),rt.className&&_e.addCssClass(rt.el,rt.className),rt.el.style.position="absolute",rt.el.style.zIndex="5",it.container.appendChild(rt.el),rt._inDocument=!0,rt.coverGutter||(rt.el.style.zIndex="3"),rt.pixelHeight==null&&(rt.pixelHeight=rt.el.offsetHeight)),rt.rowCount==null&&(rt.rowCount=rt.pixelHeight/it.layerConfig.lineHeight);var j=this.session.getFoldAt(rt.row,0);if(rt.$fold=j,j){var _=this.session.lineWidgets;rt.row==j.end.row&&!_[j.start.row]?_[j.start.row]=rt:rt.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:rt.row}}}),this.$updateRows(),this.renderWidgets(null,it),this.onWidgetChanged(rt),rt},ot.prototype.removeLineWidget=function(rt){if(rt._inDocument=!1,rt.session=null,rt.el&&rt.el.parentNode&&rt.el.parentNode.removeChild(rt.el),rt.editor&&rt.editor.destroy)try{rt.editor.destroy()}catch{}if(this.session.lineWidgets){var it=this.session.lineWidgets[rt.row];if(it==rt)this.session.lineWidgets[rt.row]=rt.$oldWidget,rt.$oldWidget&&this.onWidgetChanged(rt.$oldWidget);else for(;it;){if(it.$oldWidget==rt){it.$oldWidget=rt.$oldWidget;break}it=it.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:rt.row}}}),this.$updateRows()},ot.prototype.getWidgetsAtRow=function(rt){for(var it=this.session.lineWidgets,j=it&&it[rt],_=[];j;)_.push(j),j=j.$oldWidget;return _},ot.prototype.onWidgetChanged=function(rt){this.session._changedWidgets.push(rt),this.editor&&this.editor.renderer.updateFull()},ot.prototype.measureWidgets=function(rt,it){var j=this.session._changedWidgets,_=it.layerConfig;if(!(!j||!j.length)){for(var $=1/0,et=0;et<j.length;et++){var nt=j[et];if(!(!nt||!nt.el)&&nt.session==this.session){if(!nt._inDocument){if(this.session.lineWidgets[nt.row]!=nt)continue;nt._inDocument=!0,it.container.appendChild(nt.el)}nt.h=nt.el.offsetHeight,nt.fixedWidth||(nt.w=nt.el.offsetWidth,nt.screenWidth=Math.ceil(nt.w/_.characterWidth));var at=nt.h/_.lineHeight;nt.coverLine&&(at-=this.session.getRowLineCount(nt.row),at<0&&(at=0)),nt.rowCount!=at&&(nt.rowCount=at,nt.row<$&&($=nt.row))}}$!=1/0&&(this.session._emit("changeFold",{data:{start:{row:$}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},ot.prototype.renderWidgets=function(rt,it){var j=it.layerConfig,_=this.session.lineWidgets;if(_){for(var $=Math.min(this.firstRow,j.firstRow),et=Math.max(this.lastRow,j.lastRow,_.length);$>0&&!_[$];)$--;this.firstRow=j.firstRow,this.lastRow=j.lastRow,it.$cursorLayer.config=j;for(var nt=$;nt<=et;nt++){var at=_[nt];if(!(!at||!at.el)){if(at.hidden){at.el.style.top=-100-(at.pixelHeight||0)+"px";continue}at._inDocument||(at._inDocument=!0,it.container.appendChild(at.el));var ct=it.$cursorLayer.getPixelPosition({row:nt,column:0},!0).top;at.coverLine||(ct+=j.lineHeight*this.session.getRowLineCount(at.row)),at.el.style.top=ct-j.offset+"px";var ht=at.coverGutter?0:it.gutterWidth;at.fixedWidth||(ht-=it.scrollLeft),at.el.style.left=ht+"px",at.fullWidth&&at.screenWidth&&(at.el.style.minWidth=j.width+2*j.padding+"px"),at.fixedWidth?at.el.style.right=it.scrollBar.getWidth()+"px":at.el.style.right=""}}}},ot}();a.LineWidgets=st}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(o,a,tt){var _e=o("../lib/keys"),st=o("../mouse/default_gutter_handler").GutterTooltip,ot=function(){function it(j){this.editor=j,this.gutterLayer=j.renderer.$gutterLayer,this.element=j.renderer.$gutter,this.lines=j.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new st(this.editor)}return it.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},it.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},it.prototype.$onGutterKeyDown=function(j){if(this.annotationTooltip.isOpen){j.preventDefault(),j.keyCode===_e.escape&&this.annotationTooltip.hideTooltip();return}if(j.target===this.element){if(j.keyCode!=_e.enter)return;j.preventDefault();var _=this.editor.getCursorPosition().row;this.editor.isRowVisible(_)||this.editor.scrollToLine(_,!0,!0),setTimeout((function(){var $=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),et=this.$findNearestFoldWidget($),nt=this.$findNearestAnnotation($);if(!(et===null&&nt===null)){if(et===null&&nt!==null){this.activeRowIndex=nt,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(et!==null&&nt===null){this.activeRowIndex=et,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(nt-$)<Math.abs(et-$)){this.activeRowIndex=nt,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=et,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(j),setTimeout((function(){this.editor._signal("gutterkeydown",new rt(j,this))}).bind(this),10)},it.prototype.$handleGutterKeyboardInteraction=function(j){if(j.keyCode===_e.tab){j.preventDefault();return}if(j.keyCode===_e.escape){j.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(j.keyCode===_e.up){switch(j.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(j.keyCode===_e.down){switch(j.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(j.keyCode===_e.left){j.preventDefault(),this.$switchLane("annotation");return}if(j.keyCode===_e.right){j.preventDefault(),this.$switchLane("fold");return}if(j.keyCode===_e.enter||j.keyCode===_e.space){switch(j.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var _=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),j),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==_&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(_),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var $=this.lines.cells[this.activeRowIndex].element.childNodes[2],et=$.getBoundingClientRect(),nt=this.annotationTooltip.getElement().style;nt.left=et.right+"px",nt.top=et.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},it.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},it.prototype.$isFoldWidgetVisible=function(j){var _=this.editor.isRowFullyVisible(this.$rowIndexToRow(j)),$=this.$getFoldWidget(j).style.display!=="none";return _&&$},it.prototype.$isAnnotationVisible=function(j){var _=this.editor.isRowFullyVisible(this.$rowIndexToRow(j)),$=this.$getAnnotation(j).style.display!=="none";return _&&$},it.prototype.$getFoldWidget=function(j){var _=this.lines.get(j),$=_.element;return $.childNodes[1]},it.prototype.$getAnnotation=function(j){var _=this.lines.get(j),$=_.element;return $.childNodes[2]},it.prototype.$findNearestFoldWidget=function(j){if(this.$isFoldWidgetVisible(j))return j;for(var _=0;j-_>0||j+_<this.lines.getLength()-1;){if(_++,j-_>=0&&this.$isFoldWidgetVisible(j-_))return j-_;if(j+_<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(j+_))return j+_}return null},it.prototype.$findNearestAnnotation=function(j){if(this.$isAnnotationVisible(j))return j;for(var _=0;j-_>0||j+_<this.lines.getLength()-1;){if(_++,j-_>=0&&this.$isAnnotationVisible(j-_))return j-_;if(j+_<=this.lines.getLength()-1&&this.$isAnnotationVisible(j+_))return j+_}return null},it.prototype.$focusFoldWidget=function(j){if(j!=null){var _=this.$getFoldWidget(j);_.classList.add(this.editor.renderer.keyboardFocusClassName),_.focus()}},it.prototype.$focusAnnotation=function(j){if(j!=null){var _=this.$getAnnotation(j);_.classList.add(this.editor.renderer.keyboardFocusClassName),_.focus()}},it.prototype.$blurFoldWidget=function(j){var _=this.$getFoldWidget(j);_.classList.remove(this.editor.renderer.keyboardFocusClassName),_.blur()},it.prototype.$blurAnnotation=function(j){var _=this.$getAnnotation(j);_.classList.remove(this.editor.renderer.keyboardFocusClassName),_.blur()},it.prototype.$moveFoldWidgetUp=function(){for(var j=this.activeRowIndex;j>0;)if(j--,this.$isFoldWidgetVisible(j)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=j,this.$focusFoldWidget(this.activeRowIndex);return}},it.prototype.$moveFoldWidgetDown=function(){for(var j=this.activeRowIndex;j<this.lines.getLength()-1;)if(j++,this.$isFoldWidgetVisible(j)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=j,this.$focusFoldWidget(this.activeRowIndex);return}},it.prototype.$moveAnnotationUp=function(){for(var j=this.activeRowIndex;j>0;)if(j--,this.$isAnnotationVisible(j)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=j,this.$focusAnnotation(this.activeRowIndex);return}},it.prototype.$moveAnnotationDown=function(){for(var j=this.activeRowIndex;j<this.lines.getLength()-1;)if(j++,this.$isAnnotationVisible(j)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=j,this.$focusAnnotation(this.activeRowIndex);return}},it.prototype.$switchLane=function(j){switch(j){case"annotation":if(this.activeLane==="annotation")break;var _=this.$findNearestAnnotation(this.activeRowIndex);if(_==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=_,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var $=this.$findNearestFoldWidget(this.activeRowIndex);if($==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=$,this.$focusFoldWidget(this.activeRowIndex);break}},it.prototype.$rowIndexToRow=function(j){var _=this.lines.get(j);return _?_.row:null},it.prototype.$rowToRowIndex=function(j){for(var _=0;_<this.lines.getLength();_++){var $=this.lines.get(_);if($.row==j)return _}return null},it}();a.GutterKeyboardHandler=ot;var rt=function(){function it(j,_){this.gutterKeyboardHandler=_,this.domEvent=j}return it.prototype.getKey=function(){return _e.keyCodeToString(this.domEvent.keyCode)},it.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},it.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},it.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},it}();a.GutterKeyboardEvent=rt}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(o,a,tt){var _e=this&&this.__values||function($t){var Tt=typeof Symbol=="function"&&Symbol.iterator,At=Tt&&$t[Tt],Mt=0;if(At)return At.call($t);if($t&&typeof $t.length=="number")return{next:function(){return $t&&Mt>=$t.length&&($t=void 0),{value:$t&&$t[Mt++],done:!$t}}};throw new TypeError(Tt?"Object is not iterable.":"Symbol.iterator is not defined.")},st=o("./lib/oop"),ot=o("./lib/dom"),rt=o("./lib/lang"),it=o("./lib/useragent"),j=o("./keyboard/textinput").TextInput,_=o("./mouse/mouse_handler").MouseHandler,$=o("./mouse/fold_handler").FoldHandler,et=o("./keyboard/keybinding").KeyBinding,nt=o("./edit_session").EditSession,at=o("./search").Search,ct=o("./range").Range,ht=o("./lib/event_emitter").EventEmitter,ut=o("./commands/command_manager").CommandManager,dt=o("./commands/default_commands").commands,mt=o("./config"),gt=o("./token_iterator").TokenIterator,lt=o("./line_widgets").LineWidgets,St=o("./keyboard/gutter_handler").GutterKeyboardHandler,xt=o("./config").nls,yt=o("./clipboard"),_t=o("./lib/keys"),kt=function(){function $t(Tt,At,Mt){this.session,this.$toDestroy=[];var Ot=Tt.getContainerElement();this.container=Ot,this.renderer=Tt,this.id="editor"+ ++$t.$uid,this.commands=new ut(it.isMac?"mac":"win",dt),typeof document=="object"&&(this.textInput=new j(Tt.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new _(this),new $(this)),this.keyBinding=new et(this),this.$search=new at().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=rt.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(Pt,Ft){Ft._$emitInputEvent.schedule(31)}),this.setSession(At||Mt&&Mt.session||new nt("")),mt.resetOptions(this),Mt&&this.setOptions(Mt),mt._signal("editor",this)}return $t.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},$t.prototype.startOperation=function(Tt){this.session.startOperation(Tt)},$t.prototype.endOperation=function(Tt){this.session.endOperation(Tt)},$t.prototype.onStartOperation=function(Tt){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,Tt||(this.previousCommand=null)},$t.prototype.onEndOperation=function(Tt){if(this.curOp&&this.session){if(Tt&&Tt.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var At=this.curOp.command,Mt=At&&At.scrollIntoView;if(Mt){switch(Mt){case"center-animate":Mt="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var Ot=this.selection.getRange(),Pt=this.renderer.layerConfig;(Ot.start.row>=Pt.lastRow||Ot.end.row<=Pt.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}Mt=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},$t.prototype.$historyTracker=function(Tt){if(this.$mergeUndoDeltas){var At=this.prevOp,Mt=this.$mergeableCommands,Ot=At.command&&Tt.command.name==At.command.name;if(Tt.command.name=="insertstring"){var Pt=Tt.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),Ot=Ot&&this.mergeNextCommand&&(!/\s/.test(Pt)||/\s/.test(At.args)),this.mergeNextCommand=!0}else Ot=Ot&&Mt.indexOf(Tt.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(Ot=!1),Ot?this.session.mergeUndoDeltas=!0:Mt.indexOf(Tt.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},$t.prototype.setKeyboardHandler=function(Tt,At){if(Tt&&typeof Tt=="string"&&Tt!="ace"){this.$keybindingId=Tt;var Mt=this;mt.loadModule(["keybinding",Tt],function(Ot){Mt.$keybindingId==Tt&&Mt.keyBinding.setKeyboardHandler(Ot&&Ot.handler),At&&At()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(Tt),At&&At()},$t.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},$t.prototype.setSession=function(Tt){if(this.session!=Tt){this.curOp&&this.endOperation(),this.curOp={};var At=this.session;if(At){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var Mt=this.session.getSelection();Mt.off("changeCursor",this.$onCursorChange),Mt.off("changeSelection",this.$onSelectionChange)}this.session=Tt,Tt?(this.$onDocumentChange=this.onDocumentChange.bind(this),Tt.on("change",this.$onDocumentChange),this.renderer.setSession(Tt),this.$onChangeMode=this.onChangeMode.bind(this),Tt.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),Tt.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),Tt.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),Tt.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),Tt.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),Tt.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=Tt.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(Tt)),this._signal("changeSession",{session:Tt,oldSession:At}),this.curOp=null,At&&At._signal("changeEditor",{oldEditor:this}),Tt&&Tt._signal("changeEditor",{editor:this}),Tt&&!Tt.destroyed&&Tt.bgTokenizer.scheduleStart()}},$t.prototype.getSession=function(){return this.session},$t.prototype.setValue=function(Tt,At){return this.session.doc.setValue(Tt),At?At==1?this.navigateFileEnd():At==-1&&this.navigateFileStart():this.selectAll(),Tt},$t.prototype.getValue=function(){return this.session.getValue()},$t.prototype.getSelection=function(){return this.selection},$t.prototype.resize=function(Tt){this.renderer.onResize(Tt)},$t.prototype.setTheme=function(Tt,At){this.renderer.setTheme(Tt,At)},$t.prototype.getTheme=function(){return this.renderer.getTheme()},$t.prototype.setStyle=function(Tt){this.renderer.setStyle(Tt)},$t.prototype.unsetStyle=function(Tt){this.renderer.unsetStyle(Tt)},$t.prototype.getFontSize=function(){return this.getOption("fontSize")||ot.computedStyle(this.container).fontSize},$t.prototype.setFontSize=function(Tt){this.setOption("fontSize",Tt)},$t.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var Tt=this;this.$highlightPending=!0,setTimeout(function(){Tt.$highlightPending=!1;var At=Tt.session;if(!(!At||At.destroyed)){At.$bracketHighlight&&(At.$bracketHighlight.markerIds.forEach(function(Xt){At.removeMarker(Xt)}),At.$bracketHighlight=null);var Mt=Tt.getCursorPosition(),Ot=Tt.getKeyboardHandler(),Pt=Ot&&Ot.$getDirectionForHighlight&&Ot.$getDirectionForHighlight(Tt),Ft=At.getMatchingBracketRanges(Mt,Pt);if(!Ft){var zt=new gt(At,Mt.row,Mt.column),qt=zt.getCurrentToken();if(qt&&/\b(?:tag-open|tag-name)/.test(qt.type)){var Gt=At.getMatchingTags(Mt);Gt&&(Ft=[Gt.openTagName.isEmpty()?Gt.openTag:Gt.openTagName,Gt.closeTagName.isEmpty()?Gt.closeTag:Gt.closeTagName])}}if(!Ft&&At.$mode.getMatching&&(Ft=At.$mode.getMatching(Tt.session)),!Ft){Tt.getHighlightIndentGuides()&&Tt.renderer.$textLayer.$highlightIndentGuide();return}var Wt="ace_bracket";Array.isArray(Ft)?Ft.length==1&&(Wt="ace_error_bracket"):Ft=[Ft],Ft.length==2&&(ct.comparePoints(Ft[0].end,Ft[1].start)==0?Ft=[ct.fromPoints(Ft[0].start,Ft[1].end)]:ct.comparePoints(Ft[0].start,Ft[1].end)==0&&(Ft=[ct.fromPoints(Ft[1].start,Ft[0].end)])),At.$bracketHighlight={ranges:Ft,markerIds:Ft.map(function(Xt){return At.addMarker(Xt,Wt,"text")})},Tt.getHighlightIndentGuides()&&Tt.renderer.$textLayer.$highlightIndentGuide()}},50)}},$t.prototype.focus=function(){this.textInput.focus()},$t.prototype.isFocused=function(){return this.textInput.isFocused()},$t.prototype.blur=function(){this.textInput.blur()},$t.prototype.onFocus=function(Tt){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",Tt))},$t.prototype.onBlur=function(Tt){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",Tt))},$t.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},$t.prototype.onDocumentChange=function(Tt){var At=this.session.$useWrapMode,Mt=Tt.start.row==Tt.end.row?Tt.end.row:1/0;this.renderer.updateLines(Tt.start.row,Mt,At),this._signal("change",Tt),this.$cursorChange()},$t.prototype.onTokenizerUpdate=function(Tt){var At=Tt.data;this.renderer.updateLines(At.first,At.last)},$t.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},$t.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},$t.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},$t.prototype.$updateHighlightActiveLine=function(){var Tt=this.getSession(),At;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(At=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(At=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(At=!1)),Tt.$highlightLineMarker&&!At)Tt.removeMarker(Tt.$highlightLineMarker.id),Tt.$highlightLineMarker=null;else if(!Tt.$highlightLineMarker&&At){var Mt=new ct(At.row,At.column,At.row,1/0);Mt.id=Tt.addMarker(Mt,"ace_active-line","screenLine"),Tt.$highlightLineMarker=Mt}else At&&(Tt.$highlightLineMarker.start.row=At.row,Tt.$highlightLineMarker.end.row=At.row,Tt.$highlightLineMarker.start.column=At.column,Tt._signal("changeBackMarker"))},$t.prototype.onSelectionChange=function(Tt){var At=this.session;if(At.$selectionMarker&&At.removeMarker(At.$selectionMarker),At.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var Mt=this.selection.getRange(),Ot=this.getSelectionStyle();At.$selectionMarker=At.addMarker(Mt,"ace_selection",Ot)}var Pt=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(Pt),this._signal("changeSelection")},$t.prototype.$getSelectionHighLightRegexp=function(){var Tt=this.session,At=this.getSelectionRange();if(!(At.isEmpty()||At.isMultiLine())){var Mt=At.start.column,Ot=At.end.column,Pt=Tt.getLine(At.start.row),Ft=Pt.substring(Mt,Ot);if(!(Ft.length>5e3||!/[\w\d]/.test(Ft))){var zt=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:Ft}),qt=Pt.substring(Mt-1,Ot+1);if(zt.test(qt))return zt}}},$t.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},$t.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},$t.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},$t.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},$t.prototype.onChangeMode=function(Tt){this.renderer.updateText(),this._emit("changeMode",Tt)},$t.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},$t.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},$t.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},$t.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},$t.prototype.getCopyText=function(){var Tt=this.getSelectedText(),At=this.session.doc.getNewLineCharacter(),Mt=!1;if(!Tt&&this.$copyWithEmptySelection){Mt=!0;for(var Ot=this.selection.getAllRanges(),Pt=0;Pt<Ot.length;Pt++){var Ft=Ot[Pt];Pt&&Ot[Pt-1].start.row==Ft.start.row||(Tt+=this.session.getLine(Ft.start.row)+At)}}var zt={text:Tt};return this._signal("copy",zt),yt.lineMode=Mt?zt.text:!1,zt.text},$t.prototype.onCopy=function(){this.commands.exec("copy",this)},$t.prototype.onCut=function(){this.commands.exec("cut",this)},$t.prototype.onPaste=function(Tt,At){var Mt={text:Tt,event:At};this.commands.exec("paste",this,Mt)},$t.prototype.$handlePaste=function(Tt){typeof Tt=="string"&&(Tt={text:Tt}),this._signal("paste",Tt);var At=Tt.text,Mt=At===yt.lineMode,Ot=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)Mt?Ot.insert({row:this.selection.lead.row,column:0},At):this.insert(At);else if(Mt)this.selection.rangeList.ranges.forEach(function(Wt){Ot.insert({row:Wt.start.row,column:0},At)});else{var Pt=At.split(/\r\n|\r|\n/),Ft=this.selection.rangeList.ranges,zt=Pt.length==2&&(!Pt[0]||!Pt[1]);if(Pt.length!=Ft.length||zt)return this.commands.exec("insertstring",this,At);for(var qt=Ft.length;qt--;){var Gt=Ft[qt];Gt.isEmpty()||Ot.remove(Gt),Ot.insert(Gt.start,Pt[qt])}}},$t.prototype.execCommand=function(Tt,At){return this.commands.exec(Tt,this,At)},$t.prototype.insert=function(Tt,At){var Mt=this.session,Ot=Mt.getMode(),Pt=this.getCursorPosition();if(this.getBehavioursEnabled()&&!At){var Ft=Ot.transformAction(Mt.getState(Pt.row),"insertion",this,Mt,Tt);Ft&&(Tt!==Ft.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),Tt=Ft.text)}if(Tt=="	"&&(Tt=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&Tt.indexOf(`
`)==-1){var zt=ct.fromPoints(Pt,Pt);zt.end.column+=Tt.length,this.session.remove(zt)}}else{var zt=this.getSelectionRange();Pt=this.session.remove(zt),this.clearSelection()}if(Tt==`
`||Tt==`\r
`){var Xt=Mt.getLine(Pt.row);if(Pt.column>Xt.search(/\S|$/)){var qt=Xt.substr(Pt.column).search(/\S|$/);Mt.doc.removeInLine(Pt.row,Pt.column,Pt.column+qt)}}this.clearSelection();var Gt=Pt.column,Wt=Mt.getState(Pt.row),Xt=Mt.getLine(Pt.row),rr=Ot.checkOutdent(Wt,Xt,Tt);if(Mt.insert(Pt,Tt),Ft&&Ft.selection&&(Ft.selection.length==2?this.selection.setSelectionRange(new ct(Pt.row,Gt+Ft.selection[0],Pt.row,Gt+Ft.selection[1])):this.selection.setSelectionRange(new ct(Pt.row+Ft.selection[0],Ft.selection[1],Pt.row+Ft.selection[2],Ft.selection[3]))),this.$enableAutoIndent){if(Mt.getDocument().isNewLine(Tt)){var tr=Ot.getNextLineIndent(Wt,Xt.slice(0,Pt.column),Mt.getTabString());Mt.insert({row:Pt.row+1,column:0},tr)}rr&&Ot.autoOutdent(Wt,Mt,Pt.row)}},$t.prototype.autoIndent=function(){for(var Tt=this.session,At=Tt.getMode(),Mt=this.selection.isEmpty()?[new ct(0,0,Tt.doc.getLength()-1,0)]:this.selection.getAllRanges(),Ot="",Pt="",Ft="",zt=Tt.getTabString(),qt=0;qt<Mt.length;qt++)for(var Gt=Mt[qt].start.row,Wt=Mt[qt].end.row,Xt=Gt;Xt<=Wt;Xt++){Xt>0&&(Ot=Tt.getState(Xt-1),Pt=Tt.getLine(Xt-1),Ft=At.getNextLineIndent(Ot,Pt,zt));var rr=Tt.getLine(Xt),tr=At.$getIndent(rr);if(Ft!==tr){if(tr.length>0){var mr=new ct(Xt,0,Xt,tr.length);Tt.remove(mr)}Ft.length>0&&Tt.insert({row:Xt,column:0},Ft)}At.autoOutdent(Ot,Tt,Xt)}},$t.prototype.onTextInput=function(Tt,At){if(!At)return this.keyBinding.onTextInput(Tt);this.startOperation({command:{name:"insertstring"}});var Mt=this.applyComposition.bind(this,Tt,At);this.selection.rangeCount?this.forEachSelection(Mt):Mt(),this.endOperation()},$t.prototype.applyComposition=function(Tt,At){if(At.extendLeft||At.extendRight){var Mt=this.selection.getRange();Mt.start.column-=At.extendLeft,Mt.end.column+=At.extendRight,Mt.start.column<0&&(Mt.start.row--,Mt.start.column+=this.session.getLine(Mt.start.row).length+1),this.selection.setRange(Mt),!Tt&&!Mt.isEmpty()&&this.remove()}if((Tt||!this.selection.isEmpty())&&this.insert(Tt,!0),At.restoreStart||At.restoreEnd){var Mt=this.selection.getRange();Mt.start.column-=At.restoreStart,Mt.end.column-=At.restoreEnd,this.selection.setRange(Mt)}},$t.prototype.onCommandKey=function(Tt,At,Mt){return this.keyBinding.onCommandKey(Tt,At,Mt)},$t.prototype.setOverwrite=function(Tt){this.session.setOverwrite(Tt)},$t.prototype.getOverwrite=function(){return this.session.getOverwrite()},$t.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},$t.prototype.setScrollSpeed=function(Tt){this.setOption("scrollSpeed",Tt)},$t.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},$t.prototype.setDragDelay=function(Tt){this.setOption("dragDelay",Tt)},$t.prototype.getDragDelay=function(){return this.getOption("dragDelay")},$t.prototype.setSelectionStyle=function(Tt){this.setOption("selectionStyle",Tt)},$t.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},$t.prototype.setHighlightActiveLine=function(Tt){this.setOption("highlightActiveLine",Tt)},$t.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},$t.prototype.setHighlightGutterLine=function(Tt){this.setOption("highlightGutterLine",Tt)},$t.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},$t.prototype.setHighlightSelectedWord=function(Tt){this.setOption("highlightSelectedWord",Tt)},$t.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},$t.prototype.setAnimatedScroll=function(Tt){this.renderer.setAnimatedScroll(Tt)},$t.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},$t.prototype.setShowInvisibles=function(Tt){this.renderer.setShowInvisibles(Tt)},$t.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},$t.prototype.setDisplayIndentGuides=function(Tt){this.renderer.setDisplayIndentGuides(Tt)},$t.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},$t.prototype.setHighlightIndentGuides=function(Tt){this.renderer.setHighlightIndentGuides(Tt)},$t.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},$t.prototype.setShowPrintMargin=function(Tt){this.renderer.setShowPrintMargin(Tt)},$t.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},$t.prototype.setPrintMarginColumn=function(Tt){this.renderer.setPrintMarginColumn(Tt)},$t.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},$t.prototype.setReadOnly=function(Tt){this.setOption("readOnly",Tt)},$t.prototype.getReadOnly=function(){return this.getOption("readOnly")},$t.prototype.setBehavioursEnabled=function(Tt){this.setOption("behavioursEnabled",Tt)},$t.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},$t.prototype.setWrapBehavioursEnabled=function(Tt){this.setOption("wrapBehavioursEnabled",Tt)},$t.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},$t.prototype.setShowFoldWidgets=function(Tt){this.setOption("showFoldWidgets",Tt)},$t.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},$t.prototype.setFadeFoldWidgets=function(Tt){this.setOption("fadeFoldWidgets",Tt)},$t.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},$t.prototype.remove=function(Tt){this.selection.isEmpty()&&(Tt=="left"?this.selection.selectLeft():this.selection.selectRight());var At=this.getSelectionRange();if(this.getBehavioursEnabled()){var Mt=this.session,Ot=Mt.getState(At.start.row),Pt=Mt.getMode().transformAction(Ot,"deletion",this,Mt,At);if(At.end.column===0){var Ft=Mt.getTextRange(At);if(Ft[Ft.length-1]==`
`){var zt=Mt.getLine(At.end.row);/^\s+$/.test(zt)&&(At.end.column=zt.length)}}Pt&&(At=Pt)}this.session.remove(At),this.clearSelection()},$t.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},$t.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},$t.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},$t.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var Tt=this.getSelectionRange();Tt.start.column==Tt.end.column&&Tt.start.row==Tt.end.row&&(Tt.end.column=0,Tt.end.row++),this.session.remove(Tt),this.clearSelection()},$t.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var Tt=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(Tt)},$t.prototype.setGhostText=function(Tt,At){this.session.widgetManager||(this.session.widgetManager=new lt(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(Tt,At)},$t.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},$t.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var Tt=this.getCursorPosition(),At=Tt.column;if(At!==0){var Mt=this.session.getLine(Tt.row),Ot,Pt;At<Mt.length?(Ot=Mt.charAt(At)+Mt.charAt(At-1),Pt=new ct(Tt.row,At-1,Tt.row,At+1)):(Ot=Mt.charAt(At-1)+Mt.charAt(At-2),Pt=new ct(Tt.row,At-2,Tt.row,At)),this.session.replace(Pt,Ot),this.session.selection.moveToPosition(Pt.end)}}},$t.prototype.toLowerCase=function(){var Tt=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var At=this.getSelectionRange(),Mt=this.session.getTextRange(At);this.session.replace(At,Mt.toLowerCase()),this.selection.setSelectionRange(Tt)},$t.prototype.toUpperCase=function(){var Tt=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var At=this.getSelectionRange(),Mt=this.session.getTextRange(At);this.session.replace(At,Mt.toUpperCase()),this.selection.setSelectionRange(Tt)},$t.prototype.indent=function(){var Tt=this.session,At=this.getSelectionRange();if(At.start.row<At.end.row){var Mt=this.$getSelectedRows();Tt.indentRows(Mt.first,Mt.last,"	");return}else if(At.start.column<At.end.column){var Ot=Tt.getTextRange(At);if(!/^\s+$/.test(Ot)){var Mt=this.$getSelectedRows();Tt.indentRows(Mt.first,Mt.last,"	");return}}var Pt=Tt.getLine(At.start.row),Ft=At.start,zt=Tt.getTabSize(),qt=Tt.documentToScreenColumn(Ft.row,Ft.column);if(this.session.getUseSoftTabs())var Gt=zt-qt%zt,Wt=rt.stringRepeat(" ",Gt);else{for(var Gt=qt%zt;Pt[At.start.column-1]==" "&&Gt;)At.start.column--,Gt--;this.selection.setSelectionRange(At),Wt="	"}return this.insert(Wt)},$t.prototype.blockIndent=function(){var Tt=this.$getSelectedRows();this.session.indentRows(Tt.first,Tt.last,"	")},$t.prototype.blockOutdent=function(){var Tt=this.session.getSelection();this.session.outdentRows(Tt.getRange())},$t.prototype.sortLines=function(){for(var Tt=this.$getSelectedRows(),At=this.session,Mt=[],Ot=Tt.first;Ot<=Tt.last;Ot++)Mt.push(At.getLine(Ot));Mt.sort(function(zt,qt){return zt.toLowerCase()<qt.toLowerCase()?-1:zt.toLowerCase()>qt.toLowerCase()?1:0});for(var Pt=new ct(0,0,0,0),Ot=Tt.first;Ot<=Tt.last;Ot++){var Ft=At.getLine(Ot);Pt.start.row=Ot,Pt.end.row=Ot,Pt.end.column=Ft.length,At.replace(Pt,Mt[Ot-Tt.first])}},$t.prototype.toggleCommentLines=function(){var Tt=this.session.getState(this.getCursorPosition().row),At=this.$getSelectedRows();this.session.getMode().toggleCommentLines(Tt,this.session,At.first,At.last)},$t.prototype.toggleBlockComment=function(){var Tt=this.getCursorPosition(),At=this.session.getState(Tt.row),Mt=this.getSelectionRange();this.session.getMode().toggleBlockComment(At,this.session,Mt,Tt)},$t.prototype.getNumberAt=function(Tt,At){var Mt=/[\-]?[0-9]+(?:\.[0-9]+)?/g;Mt.lastIndex=0;for(var Ot=this.session.getLine(Tt);Mt.lastIndex<At;){var Pt=Mt.exec(Ot);if(Pt.index<=At&&Pt.index+Pt[0].length>=At){var Ft={value:Pt[0],start:Pt.index,end:Pt.index+Pt[0].length};return Ft}}return null},$t.prototype.modifyNumber=function(Tt){var At=this.selection.getCursor().row,Mt=this.selection.getCursor().column,Ot=new ct(At,Mt-1,At,Mt),Pt=this.session.getTextRange(Ot);if(!isNaN(parseFloat(Pt))&&isFinite(Pt)){var Ft=this.getNumberAt(At,Mt);if(Ft){var zt=Ft.value.indexOf(".")>=0?Ft.start+Ft.value.indexOf(".")+1:Ft.end,qt=Ft.start+Ft.value.length-zt,Gt=parseFloat(Ft.value);Gt*=Math.pow(10,qt),zt!==Ft.end&&Mt<zt?Tt*=Math.pow(10,Ft.end-Mt-1):Tt*=Math.pow(10,Ft.end-Mt),Gt+=Tt,Gt/=Math.pow(10,qt);var Wt=Gt.toFixed(qt),Xt=new ct(At,Ft.start,At,Ft.end);this.session.replace(Xt,Wt),this.moveCursorTo(At,Math.max(Ft.start+1,Mt+Wt.length-Ft.value.length))}}else this.toggleWord()},$t.prototype.toggleWord=function(){var Tt=this.selection.getCursor().row,At=this.selection.getCursor().column;this.selection.selectWord();var Mt=this.getSelectedText(),Ot=this.selection.getWordRange().start.column,Pt=Mt.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),Ft=At-Ot-1;Ft<0&&(Ft=0);var zt=0,qt=0,Gt=this;Mt.match(/[A-Za-z0-9_]+/)&&Pt.forEach(function(ir,sr){qt=zt+ir.length,Ft>=zt&&Ft<=qt&&(Mt=ir,Gt.selection.clearSelection(),Gt.moveCursorTo(Tt,zt+Ot),Gt.selection.selectTo(Tt,qt+Ot)),zt=qt});for(var Wt=this.$toggleWordPairs,Xt,rr=0;rr<Wt.length;rr++)for(var tr=Wt[rr],mr=0;mr<=1;mr++){var yr=+!mr,xr=Mt.match(new RegExp("^\\s?_?("+rt.escapeRegExp(tr[mr])+")\\s?$","i"));if(xr){var vr=Mt.match(new RegExp("([_]|^|\\s)("+rt.escapeRegExp(xr[1])+")($|\\s)","g"));vr&&(Xt=Mt.replace(new RegExp(rt.escapeRegExp(tr[mr]),"i"),function(ir){var sr=tr[yr];return ir.toUpperCase()==ir?sr=sr.toUpperCase():ir.charAt(0).toUpperCase()==ir.charAt(0)&&(sr=sr.substr(0,0)+tr[yr].charAt(0).toUpperCase()+sr.substr(1)),sr}),this.insert(Xt),Xt="")}}},$t.prototype.findLinkAt=function(Tt,At){var Mt,Ot,Pt=this.session.getLine(Tt),Ft=Pt.split(/((?:https?|ftp):\/\/[\S]+)/),zt=At;zt<0&&(zt=0);var qt=0,Gt=0,Wt;try{for(var Xt=_e(Ft),rr=Xt.next();!rr.done;rr=Xt.next()){var tr=rr.value;if(Gt=qt+tr.length,zt>=qt&&zt<=Gt&&tr.match(/((?:https?|ftp):\/\/[\S]+)/)){Wt=tr.replace(/[\s:.,'";}\]]+$/,"");break}qt=Gt}}catch(mr){Mt={error:mr}}finally{try{rr&&!rr.done&&(Ot=Xt.return)&&Ot.call(Xt)}finally{if(Mt)throw Mt.error}}return Wt},$t.prototype.openLink=function(){var Tt=this.selection.getCursor(),At=this.findLinkAt(Tt.row,Tt.column);return At&&window.open(At,"_blank"),At!=null},$t.prototype.removeLines=function(){var Tt=this.$getSelectedRows();this.session.removeFullLines(Tt.first,Tt.last),this.clearSelection()},$t.prototype.duplicateSelection=function(){var Tt=this.selection,At=this.session,Mt=Tt.getRange(),Ot=Tt.isBackwards();if(Mt.isEmpty()){var Pt=Mt.start.row;At.duplicateLines(Pt,Pt)}else{var Ft=Ot?Mt.start:Mt.end,zt=At.insert(Ft,At.getTextRange(Mt));Mt.start=Ft,Mt.end=zt,Tt.setSelectionRange(Mt,Ot)}},$t.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},$t.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},$t.prototype.moveText=function(Tt,At,Mt){return this.session.moveText(Tt,At,Mt)},$t.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},$t.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},$t.prototype.$moveLines=function(Tt,At){var Mt,Ot,Pt=this.selection;if(!Pt.inMultiSelectMode||this.inVirtualSelectionMode){var Ft=Pt.toOrientedRange();Mt=this.$getSelectedRows(Ft),Ot=this.session.$moveLines(Mt.first,Mt.last,At?0:Tt),At&&Tt==-1&&(Ot=0),Ft.moveBy(Ot,0),Pt.fromOrientedRange(Ft)}else{var zt=Pt.rangeList.ranges;Pt.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var qt=0,Gt=0,Wt=zt.length,Xt=0;Xt<Wt;Xt++){var rr=Xt;zt[Xt].moveBy(qt,0),Mt=this.$getSelectedRows(zt[Xt]);for(var tr=Mt.first,mr=Mt.last;++Xt<Wt;){Gt&&zt[Xt].moveBy(Gt,0);var yr=this.$getSelectedRows(zt[Xt]);if(At&&yr.first!=mr)break;if(!At&&yr.first>mr+1)break;mr=yr.last}for(Xt--,qt=this.session.$moveLines(tr,mr,At?0:Tt),At&&Tt==-1&&(rr=Xt+1);rr<=Xt;)zt[rr].moveBy(qt,0),rr++;At||(qt=0),Gt+=qt}Pt.fromOrientedRange(Pt.ranges[0]),Pt.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},$t.prototype.$getSelectedRows=function(Tt){return Tt=(Tt||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(Tt.start.row),last:this.session.getRowFoldEnd(Tt.end.row)}},$t.prototype.onCompositionStart=function(Tt){this.renderer.showComposition(Tt)},$t.prototype.onCompositionUpdate=function(Tt){this.renderer.setCompositionText(Tt)},$t.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},$t.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},$t.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},$t.prototype.isRowVisible=function(Tt){return Tt>=this.getFirstVisibleRow()&&Tt<=this.getLastVisibleRow()},$t.prototype.isRowFullyVisible=function(Tt){return Tt>=this.renderer.getFirstFullyVisibleRow()&&Tt<=this.renderer.getLastFullyVisibleRow()},$t.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},$t.prototype.$moveByPage=function(Tt,At){var Mt=this.renderer,Ot=this.renderer.layerConfig,Pt=Tt*Math.floor(Ot.height/Ot.lineHeight);At===!0?this.selection.$moveSelection(function(){this.moveCursorBy(Pt,0)}):At===!1&&(this.selection.moveCursorBy(Pt,0),this.selection.clearSelection());var Ft=Mt.scrollTop;Mt.scrollBy(0,Pt*Ot.lineHeight),At!=null&&Mt.scrollCursorIntoView(null,.5),Mt.animateScrolling(Ft)},$t.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},$t.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},$t.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},$t.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},$t.prototype.scrollPageDown=function(){this.$moveByPage(1)},$t.prototype.scrollPageUp=function(){this.$moveByPage(-1)},$t.prototype.scrollToRow=function(Tt){this.renderer.scrollToRow(Tt)},$t.prototype.scrollToLine=function(Tt,At,Mt,Ot){this.renderer.scrollToLine(Tt,At,Mt,Ot)},$t.prototype.centerSelection=function(){var Tt=this.getSelectionRange(),At={row:Math.floor(Tt.start.row+(Tt.end.row-Tt.start.row)/2),column:Math.floor(Tt.start.column+(Tt.end.column-Tt.start.column)/2)};this.renderer.alignCursor(At,.5)},$t.prototype.getCursorPosition=function(){return this.selection.getCursor()},$t.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},$t.prototype.getSelectionRange=function(){return this.selection.getRange()},$t.prototype.selectAll=function(){this.selection.selectAll()},$t.prototype.clearSelection=function(){this.selection.clearSelection()},$t.prototype.moveCursorTo=function(Tt,At){this.selection.moveCursorTo(Tt,At)},$t.prototype.moveCursorToPosition=function(Tt){this.selection.moveCursorToPosition(Tt)},$t.prototype.jumpToMatching=function(Tt,At){var Mt=this.getCursorPosition(),Ot=new gt(this.session,Mt.row,Mt.column),Pt=Ot.getCurrentToken(),Ft=0;Pt&&Pt.type.indexOf("tag-name")!==-1&&(Pt=Ot.stepBackward());var zt=Pt||Ot.stepForward();if(zt){var qt,Gt=!1,Wt={},Xt=Mt.column-zt.start,rr,tr={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(zt.value.match(/[{}()\[\]]/g)){for(;Xt<zt.value.length&&!Gt;Xt++)if(tr[zt.value[Xt]])switch(rr=tr[zt.value[Xt]]+"."+zt.type.replace("rparen","lparen"),isNaN(Wt[rr])&&(Wt[rr]=0),zt.value[Xt]){case"(":case"[":case"{":Wt[rr]++;break;case")":case"]":case"}":Wt[rr]--,Wt[rr]===-1&&(qt="bracket",Gt=!0);break}}else zt.type.indexOf("tag-name")!==-1&&(isNaN(Wt[zt.value])&&(Wt[zt.value]=0),Pt.value==="<"&&Ft>1?Wt[zt.value]++:Pt.value==="</"&&Wt[zt.value]--,Wt[zt.value]===-1&&(qt="tag",Gt=!0));Gt||(Pt=zt,Ft++,zt=Ot.stepForward(),Xt=0)}while(zt&&!Gt);if(qt){var mr,yr;if(qt==="bracket")mr=this.session.getBracketRange(Mt),mr||(mr=new ct(Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()+Xt-1,Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()+Xt-1),yr=mr.start,(At||yr.row===Mt.row&&Math.abs(yr.column-Mt.column)<2)&&(mr=this.session.getBracketRange(yr)));else if(qt==="tag"){if(!zt||zt.type.indexOf("tag-name")===-1)return;if(mr=new ct(Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()-2,Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()-2),mr.compare(Mt.row,Mt.column)===0){var xr=this.session.getMatchingTags(Mt);xr&&(xr.openTag.contains(Mt.row,Mt.column)?(mr=xr.closeTag,yr=mr.start):(mr=xr.openTag,xr.closeTag.start.row===Mt.row&&xr.closeTag.start.column===Mt.column?yr=mr.end:yr=mr.start))}yr=yr||mr.start}yr=mr&&mr.cursor||yr,yr&&(Tt?mr&&At?this.selection.setRange(mr):mr&&mr.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(yr.row,yr.column):this.selection.moveTo(yr.row,yr.column))}}},$t.prototype.gotoLine=function(Tt,At,Mt){this.selection.clearSelection(),this.session.unfold({row:Tt-1,column:At||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(Tt-1,At||0),this.isRowFullyVisible(Tt-1)||this.scrollToLine(Tt-1,!0,Mt)},$t.prototype.navigateTo=function(Tt,At){this.selection.moveTo(Tt,At)},$t.prototype.navigateUp=function(Tt){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var At=this.selection.anchor.getPosition();return this.moveCursorToPosition(At)}this.selection.clearSelection(),this.selection.moveCursorBy(-Tt||-1,0)},$t.prototype.navigateDown=function(Tt){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var At=this.selection.anchor.getPosition();return this.moveCursorToPosition(At)}this.selection.clearSelection(),this.selection.moveCursorBy(Tt||1,0)},$t.prototype.navigateLeft=function(Tt){if(this.selection.isEmpty())for(Tt=Tt||1;Tt--;)this.selection.moveCursorLeft();else{var At=this.getSelectionRange().start;this.moveCursorToPosition(At)}this.clearSelection()},$t.prototype.navigateRight=function(Tt){if(this.selection.isEmpty())for(Tt=Tt||1;Tt--;)this.selection.moveCursorRight();else{var At=this.getSelectionRange().end;this.moveCursorToPosition(At)}this.clearSelection()},$t.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},$t.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},$t.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},$t.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},$t.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},$t.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},$t.prototype.replace=function(Tt,At){At&&this.$search.set(At);var Mt=this.$search.find(this.session),Ot=0;return Mt&&(this.$tryReplace(Mt,Tt)&&(Ot=1),this.selection.setSelectionRange(Mt),this.renderer.scrollSelectionIntoView(Mt.start,Mt.end)),Ot},$t.prototype.replaceAll=function(Tt,At){At&&this.$search.set(At);var Mt=this.$search.findAll(this.session),Ot=0;if(!Mt.length)return Ot;var Pt=this.getSelectionRange();this.selection.moveTo(0,0);for(var Ft=Mt.length-1;Ft>=0;--Ft)this.$tryReplace(Mt[Ft],Tt)&&Ot++;return this.selection.setSelectionRange(Pt),Ot},$t.prototype.$tryReplace=function(Tt,At){var Mt=this.session.getTextRange(Tt);return At=this.$search.replace(Mt,At),At!==null?(Tt.end=this.session.replace(Tt,At),Tt):null},$t.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},$t.prototype.find=function(Tt,At,Mt){At||(At={}),typeof Tt=="string"||Tt instanceof RegExp?At.needle=Tt:typeof Tt=="object"&&st.mixin(At,Tt);var Ot=this.selection.getRange();At.needle==null&&(Tt=this.session.getTextRange(Ot)||this.$search.$options.needle,Tt||(Ot=this.session.getWordRange(Ot.start.row,Ot.start.column),Tt=this.session.getTextRange(Ot)),this.$search.set({needle:Tt})),this.$search.set(At),At.start||this.$search.set({start:Ot});var Pt=this.$search.find(this.session);if(At.preventScroll)return Pt;if(Pt)return this.revealRange(Pt,Mt),Pt;At.backwards?Ot.start=Ot.end:Ot.end=Ot.start,this.selection.setRange(Ot)},$t.prototype.findNext=function(Tt,At){this.find({skipCurrent:!0,backwards:!1},Tt,At)},$t.prototype.findPrevious=function(Tt,At){this.find(Tt,{skipCurrent:!0,backwards:!0},At)},$t.prototype.revealRange=function(Tt,At){this.session.unfold(Tt),this.selection.setSelectionRange(Tt);var Mt=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(Tt.start,Tt.end,.5),At!==!1&&this.renderer.animateScrolling(Mt)},$t.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},$t.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},$t.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(Tt){Tt.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},$t.prototype.setAutoScrollEditorIntoView=function(Tt){if(Tt){var At,Mt=this,Ot=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var Pt=this.$scrollAnchor;Pt.style.cssText="position:absolute",this.container.insertBefore(Pt,this.container.firstChild);var Ft=this.on("changeSelection",function(){Ot=!0}),zt=this.renderer.on("beforeRender",function(){Ot&&(At=Mt.renderer.container.getBoundingClientRect())}),qt=this.renderer.on("afterRender",function(){if(Ot&&At&&(Mt.isFocused()||Mt.searchBox&&Mt.searchBox.isFocused())){var Gt=Mt.renderer,Wt=Gt.$cursorLayer.$pixelPos,Xt=Gt.layerConfig,rr=Wt.top-Xt.offset;Wt.top>=0&&rr+At.top<0?Ot=!0:Wt.top<Xt.height&&Wt.top+At.top+Xt.lineHeight>window.innerHeight?Ot=!1:Ot=null,Ot!=null&&(Pt.style.top=rr+"px",Pt.style.left=Wt.left+"px",Pt.style.height=Xt.lineHeight+"px",Pt.scrollIntoView(Ot)),Ot=At=null}});this.setAutoScrollEditorIntoView=function(Gt){Gt||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",Ft),this.renderer.off("afterRender",qt),this.renderer.off("beforeRender",zt))}}},$t.prototype.$resetCursorStyle=function(){var Tt=this.$cursorStyle||"ace",At=this.renderer.$cursorLayer;At&&(At.setSmoothBlinking(/smooth/.test(Tt)),At.isBlinking=!this.$readOnly&&Tt!="wide",ot.setCssClass(At.element,"ace_slim-cursors",/slim/.test(Tt)))},$t.prototype.prompt=function(Tt,At,Mt){var Ot=this;mt.loadModule("ace/ext/prompt",function(Pt){Pt.prompt(Ot,Tt,At,Mt)})},$t}();kt.$uid=0,kt.prototype.curOp=null,kt.prototype.prevOp={},kt.prototype.$mergeableCommands=["backspace","del","insertstring"],kt.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],st.implement(kt.prototype,ht),mt.defineOptions(kt.prototype,"editor",{selectionStyle:{set:function($t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:$t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function($t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function($t){this.textInput.setReadOnly($t),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function($t){this.textInput.setCopyWithEmptySelection($t)},initialValue:!1},cursorStyle:{set:function($t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function($t){this.setAutoScrollEditorIntoView($t)}},keyboardHandler:{set:function($t){this.setKeyboardHandler($t)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function($t){this.session.setValue($t)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function($t){this.setSession($t)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function($t){this.renderer.$gutterLayer.setShowLineNumbers($t),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),$t&&this.$relativeLineNumbers?Et.attach(this):Et.detach(this)},initialValue:!0},relativeLineNumbers:{set:function($t){this.$showLineNumbers&&$t?Et.attach(this):Et.detach(this)}},placeholder:{set:function($t){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var Tt=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(Tt&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),ot.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!Tt&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),ot.addCssClass(this.container,"ace_hasPlaceholder");var At=ot.createElement("div");At.className="ace_placeholder",At.textContent=this.$placeholder||"",this.renderer.placeholderNode=At,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!Tt&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function($t){var Tt={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(Ot){Ot.blur(),Ot.renderer.scroller.focus()},readOnly:!0},At=function(Ot){if(Ot.target==this.renderer.scroller&&Ot.keyCode===_t.enter){Ot.preventDefault();var Pt=this.getCursorPosition().row;this.isRowVisible(Pt)||this.scrollToLine(Pt,!0,!0),this.focus()}},Mt;$t?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(it.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",xt("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",xt("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",At.bind(this)),this.commands.addCommand(Tt),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",xt("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",xt("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),Mt||(Mt=new St(this)),Mt.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",At.bind(this)),this.commands.removeCommand(Tt),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),Mt&&Mt.removeListener())},initialValue:!1},textInputAriaLabel:{set:function($t){this.$textInputAriaLabel=$t},initialValue:""},enableMobileMenu:{set:function($t){this.$enableMobileMenu=$t},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var Et={getText:function($t,Tt){return(Math.abs($t.selection.lead.row-Tt)||Tt+1+(Tt<9?"":""))+""},getWidth:function($t,Tt,At){return Math.max(Tt.toString().length,(At.lastRow+1).toString().length,2)*At.characterWidth},update:function($t,Tt){Tt.renderer.$loop.schedule(Tt.renderer.CHANGE_GUTTER)},attach:function($t){$t.renderer.$gutterLayer.$renderer=this,$t.on("changeSelection",this.update),this.update(null,$t)},detach:function($t){$t.renderer.$gutterLayer.$renderer==this&&($t.renderer.$gutterLayer.$renderer=null),$t.off("changeSelection",this.update),this.update(null,$t)}};a.Editor=kt}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(o,a,tt){var _e=o("../lib/dom"),st=function(){function ot(rt,it){this.element=rt,this.canvasHeight=it||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return ot.prototype.moveContainer=function(rt){_e.translate(this.element,0,-(rt.firstRowScreen*rt.lineHeight%this.canvasHeight)-rt.offset*this.$offsetCoefficient)},ot.prototype.pageChanged=function(rt,it){return Math.floor(rt.firstRowScreen*rt.lineHeight/this.canvasHeight)!==Math.floor(it.firstRowScreen*it.lineHeight/this.canvasHeight)},ot.prototype.computeLineTop=function(rt,it,j){var _=it.firstRowScreen*it.lineHeight,$=Math.floor(_/this.canvasHeight),et=j.documentToScreenRow(rt,0)*it.lineHeight;return et-$*this.canvasHeight},ot.prototype.computeLineHeight=function(rt,it,j){return it.lineHeight*j.getRowLineCount(rt)},ot.prototype.getLength=function(){return this.cells.length},ot.prototype.get=function(rt){return this.cells[rt]},ot.prototype.shift=function(){this.$cacheCell(this.cells.shift())},ot.prototype.pop=function(){this.$cacheCell(this.cells.pop())},ot.prototype.push=function(rt){if(Array.isArray(rt)){this.cells.push.apply(this.cells,rt);for(var it=_e.createFragment(this.element),j=0;j<rt.length;j++)it.appendChild(rt[j].element);this.element.appendChild(it)}else this.cells.push(rt),this.element.appendChild(rt.element)},ot.prototype.unshift=function(rt){if(Array.isArray(rt)){this.cells.unshift.apply(this.cells,rt);for(var it=_e.createFragment(this.element),j=0;j<rt.length;j++)it.appendChild(rt[j].element);this.element.firstChild?this.element.insertBefore(it,this.element.firstChild):this.element.appendChild(it)}else this.cells.unshift(rt),this.element.insertAdjacentElement("afterbegin",rt.element)},ot.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},ot.prototype.$cacheCell=function(rt){rt&&(rt.element.remove(),this.cellCache.push(rt))},ot.prototype.createCell=function(rt,it,j,_){var $=this.cellCache.pop();if(!$){var et=_e.createElement("div");_&&_(et),this.element.appendChild(et),$={element:et,text:"",row:rt}}return $.row=rt,$},ot}();a.Lines=st}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(o,a,tt){var _e=o("../lib/dom"),st=o("../lib/oop"),ot=o("../lib/lang"),rt=o("../lib/event_emitter").EventEmitter,it=o("./lines").Lines,j=o("../config").nls,_=function(){function et(nt){this.element=_e.createElement("div"),this.element.className="ace_layer ace_gutter-layer",nt.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new it(this.element),this.$lines.$offsetCoefficient=1}return et.prototype.setSession=function(nt){this.session&&this.session.off("change",this.$updateAnnotations),this.session=nt,nt&&nt.on("change",this.$updateAnnotations)},et.prototype.addGutterDecoration=function(nt,at){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(nt,at)},et.prototype.removeGutterDecoration=function(nt,at){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(nt,at)},et.prototype.setAnnotations=function(nt){this.$annotations=[];for(var at=0;at<nt.length;at++){var ct=nt[at],ht=ct.row,ut=this.$annotations[ht];ut||(ut=this.$annotations[ht]={text:[],type:[],displayText:[]});var dt=ct.text,mt=ct.text,gt=ct.type;dt=dt?ot.escapeHTML(dt):ct.html||"",mt=mt||ct.html||"",ut.text.indexOf(dt)===-1&&(ut.text.push(dt),ut.type.push(gt),ut.displayText.push(mt));var lt=ct.className;lt?ut.className=lt:gt==="error"?ut.className=" ace_error":gt==="security"&&!/\bace_error\b/.test(ut.className)?ut.className=" ace_security":gt==="warning"&&!/\bace_(error|security)\b/.test(ut.className)?ut.className=" ace_warning":gt==="info"&&!ut.className?ut.className=" ace_info":gt==="hint"&&!ut.className&&(ut.className=" ace_hint")}},et.prototype.$updateAnnotations=function(nt){if(this.$annotations.length){var at=nt.start.row,ct=nt.end.row-at;if(ct!==0)if(nt.action=="remove")this.$annotations.splice(at,ct+1,null);else{var ht=new Array(ct+1);ht.unshift(at,1),this.$annotations.splice.apply(this.$annotations,ht)}}},et.prototype.update=function(nt){this.config=nt;var at=this.session,ct=nt.firstRow,ht=Math.min(nt.lastRow+nt.gutterOffset,at.getLength()-1);this.oldLastRow=ht,this.config=nt,this.$lines.moveContainer(nt),this.$updateCursorRow();for(var ut=at.getNextFoldLine(ct),dt=ut?ut.start.row:1/0,mt=null,gt=-1,lt=ct;;){if(lt>dt&&(lt=ut.end.row+1,ut=at.getNextFoldLine(lt,ut),dt=ut?ut.start.row:1/0),lt>ht){for(;this.$lines.getLength()>gt+1;)this.$lines.pop();break}mt=this.$lines.get(++gt),mt?mt.row=lt:(mt=this.$lines.createCell(lt,nt,this.session,$),this.$lines.push(mt)),this.$renderCell(mt,nt,ut,lt),lt++}this._signal("afterRender"),this.$updateGutterWidth(nt)},et.prototype.$updateGutterWidth=function(nt){var at=this.session,ct=at.gutterRenderer||this.$renderer,ht=at.$firstLineNumber,ut=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||at.$useWrapMode)&&(ut=at.getLength()+ht-1);var dt=ct?ct.getWidth(at,ut,nt):ut.toString().length*nt.characterWidth,mt=this.$padding||this.$computePadding();dt+=mt.left+mt.right,dt!==this.gutterWidth&&!isNaN(dt)&&(this.gutterWidth=dt,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",dt))},et.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var nt=this.session.selection.getCursor();this.$cursorRow!==nt.row&&(this.$cursorRow=nt.row)}},et.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var nt=this.session.selection.cursor.row;if(this.$cursorRow=nt,!(this.$cursorCell&&this.$cursorCell.row==nt)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var at=this.$lines.cells;this.$cursorCell=null;for(var ct=0;ct<at.length;ct++){var ht=at[ct];if(ht.row>=this.$cursorRow){if(ht.row>this.$cursorRow){var ut=this.session.getFoldLine(this.$cursorRow);if(ct>0&&ut&&ut.start.row==at[ct-1].row)ht=at[ct-1];else break}ht.element.className="ace_gutter-active-line "+ht.element.className,this.$cursorCell=ht;break}}}}},et.prototype.scrollLines=function(nt){var at=this.config;if(this.config=nt,this.$updateCursorRow(),this.$lines.pageChanged(at,nt))return this.update(nt);this.$lines.moveContainer(nt);var ct=Math.min(nt.lastRow+nt.gutterOffset,this.session.getLength()-1),ht=this.oldLastRow;if(this.oldLastRow=ct,!at||ht<nt.firstRow)return this.update(nt);if(ct<at.firstRow)return this.update(nt);if(at.firstRow<nt.firstRow)for(var ut=this.session.getFoldedRowCount(at.firstRow,nt.firstRow-1);ut>0;ut--)this.$lines.shift();if(ht>ct)for(var ut=this.session.getFoldedRowCount(ct+1,ht);ut>0;ut--)this.$lines.pop();nt.firstRow<at.firstRow&&this.$lines.unshift(this.$renderLines(nt,nt.firstRow,at.firstRow-1)),ct>ht&&this.$lines.push(this.$renderLines(nt,ht+1,ct)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(nt)},et.prototype.$renderLines=function(nt,at,ct){for(var ht=[],ut=at,dt=this.session.getNextFoldLine(ut),mt=dt?dt.start.row:1/0;ut>mt&&(ut=dt.end.row+1,dt=this.session.getNextFoldLine(ut,dt),mt=dt?dt.start.row:1/0),!(ut>ct);){var gt=this.$lines.createCell(ut,nt,this.session,$);this.$renderCell(gt,nt,dt,ut),ht.push(gt),ut++}return ht},et.prototype.$renderCell=function(nt,at,ct,ht){var ut=nt.element,dt=this.session,mt=ut.childNodes[0],gt=ut.childNodes[1],lt=ut.childNodes[2],St=lt.firstChild,xt=dt.$firstLineNumber,yt=dt.$breakpoints,_t=dt.$decorations,kt=dt.gutterRenderer||this.$renderer,Et=this.$showFoldWidgets&&dt.foldWidgets,$t=ct?ct.start.row:Number.MAX_VALUE,Tt=at.lineHeight+"px",At=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",Mt=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",Ot=(kt?kt.getText(dt,ht):ht+xt).toString();if(this.$highlightGutterLine&&(ht==this.$cursorRow||ct&&ht<this.$cursorRow&&ht>=$t&&this.$cursorRow<=ct.end.row)&&(At+="ace_gutter-active-line ",this.$cursorCell!=nt&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=nt)),yt[ht]&&(At+=yt[ht]),_t[ht]&&(At+=_t[ht]),this.$annotations[ht]&&ht!==$t&&(At+=this.$annotations[ht].className),Et){var Pt=Et[ht];Pt==null&&(Pt=Et[ht]=dt.getFoldWidget(ht))}if(Pt){var Ft="ace_fold-widget ace_"+Pt,zt=Pt=="start"&&ht==$t&&ht<ct.end.row;if(zt){Ft+=" ace_closed";for(var qt="",Gt=!1,Wt=ht+1;Wt<=ct.end.row;Wt++)if(this.$annotations[Wt]){if(this.$annotations[Wt].className===" ace_error"){Gt=!0,qt=" ace_error_fold";break}this.$annotations[Wt].className===" ace_security"?(Gt=!0,qt=" ace_security_fold"):this.$annotations[Wt].className===" ace_warning"&&qt!==" ace_security_fold"&&(Gt=!0,qt=" ace_warning_fold")}At+=qt}else Ft+=" ace_open";gt.className!=Ft&&(gt.className=Ft),_e.setStyle(gt.style,"height",Tt),_e.setStyle(gt.style,"display","inline-block"),gt.setAttribute("role","button"),gt.setAttribute("tabindex","-1");var Xt=dt.getFoldWidgetRange(ht);Xt?gt.setAttribute("aria-label",j("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[Xt.start.row+1,Xt.end.row+1])):ct?gt.setAttribute("aria-label",j("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[ct.start.row+1,ct.end.row+1])):gt.setAttribute("aria-label",j("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[ht+1])),zt?(gt.setAttribute("aria-expanded","false"),gt.setAttribute("title",j("gutter.code-folding.closed.title","Unfold code"))):(gt.setAttribute("aria-expanded","true"),gt.setAttribute("title",j("gutter.code-folding.open.title","Fold code")))}else gt&&(_e.setStyle(gt.style,"display","none"),gt.setAttribute("tabindex","0"),gt.removeAttribute("role"),gt.removeAttribute("aria-label"));if(Gt&&this.$showFoldedAnnotations){lt.className="ace_gutter_annotation",St.className=Mt,St.className+=qt,_e.setStyle(St.style,"height",Tt),_e.setStyle(lt.style,"display","block"),_e.setStyle(lt.style,"height",Tt);var rr;switch(qt){case" ace_error_fold":rr=j("gutter.annotation.aria-label.error","Error, read annotations row $0",[Ot]);break;case" ace_security_fold":rr=j("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[Ot]);break;case" ace_warning_fold":rr=j("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[Ot]);break}lt.setAttribute("aria-label",rr),lt.setAttribute("tabindex","-1"),lt.setAttribute("role","button")}else if(this.$annotations[ht]){lt.className="ace_gutter_annotation",St.className=Mt,this.$useSvgGutterIcons?St.className+=this.$annotations[ht].className:ut.classList.add(this.$annotations[ht].className.replace(" ","")),_e.setStyle(St.style,"height",Tt),_e.setStyle(lt.style,"display","block"),_e.setStyle(lt.style,"height",Tt);var rr;switch(this.$annotations[ht].className){case" ace_error":rr=j("gutter.annotation.aria-label.error","Error, read annotations row $0",[Ot]);break;case" ace_security":rr=j("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[Ot]);break;case" ace_warning":rr=j("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[Ot]);break;case" ace_info":rr=j("gutter.annotation.aria-label.info","Info, read annotations row $0",[Ot]);break;case" ace_hint":rr=j("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[Ot]);break}lt.setAttribute("aria-label",rr),lt.setAttribute("tabindex","-1"),lt.setAttribute("role","button")}else _e.setStyle(lt.style,"display","none"),lt.removeAttribute("aria-label"),lt.removeAttribute("role"),lt.setAttribute("tabindex","0");return Ot!==mt.data&&(mt.data=Ot),ut.className!=At&&(ut.className=At),_e.setStyle(nt.element.style,"height",this.$lines.computeLineHeight(ht,at,dt)+"px"),_e.setStyle(nt.element.style,"top",this.$lines.computeLineTop(ht,at,dt)+"px"),nt.text=Ot,lt.style.display==="none"&&gt.style.display==="none"?nt.element.setAttribute("aria-hidden",!0):nt.element.setAttribute("aria-hidden",!1),nt},et.prototype.setHighlightGutterLine=function(nt){this.$highlightGutterLine=nt},et.prototype.setShowLineNumbers=function(nt){this.$renderer=!nt&&{getWidth:function(){return 0},getText:function(){return""}}},et.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},et.prototype.setShowFoldWidgets=function(nt){nt?_e.addCssClass(this.element,"ace_folding-enabled"):_e.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=nt,this.$padding=null},et.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},et.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var nt=_e.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(nt.borderLeftWidth)||0)+(parseInt(nt.paddingLeft)||0)+1,this.$padding.right=(parseInt(nt.borderRightWidth)||0)+(parseInt(nt.paddingRight)||0),this.$padding},et.prototype.getRegion=function(nt){var at=this.$padding||this.$computePadding(),ct=this.element.getBoundingClientRect();if(nt.x<at.left+ct.left)return"markers";if(this.$showFoldWidgets&&nt.x>ct.right-at.right)return"foldWidgets"},et}();_.prototype.$fixedWidth=!1,_.prototype.$highlightGutterLine=!0,_.prototype.$renderer="",_.prototype.$showLineNumbers=!0,_.prototype.$showFoldWidgets=!0,st.implement(_.prototype,rt);function $(et){var nt=document.createTextNode("");et.appendChild(nt);var at=_e.createElement("span");et.appendChild(at);var ct=_e.createElement("span");et.appendChild(ct);var ht=_e.createElement("span");return ct.appendChild(ht),et}a.Gutter=_}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(o,a,tt){var _e=o("../range").Range,st=o("../lib/dom"),ot=function(){function it(j){this.element=st.createElement("div"),this.element.className="ace_layer ace_marker-layer",j.appendChild(this.element)}return it.prototype.setPadding=function(j){this.$padding=j},it.prototype.setSession=function(j){this.session=j},it.prototype.setMarkers=function(j){this.markers=j},it.prototype.elt=function(j,_){var $=this.i!=-1&&this.element.childNodes[this.i];$?this.i++:($=document.createElement("div"),this.element.appendChild($),this.i=-1),$.style.cssText=_,$.className=j},it.prototype.update=function(j){if(j){this.config=j,this.i=0;var _;for(var $ in this.markers){var et=this.markers[$];if(!et.range){et.update(_,this,this.session,j);continue}var nt=et.range.clipRows(j.firstRow,j.lastRow);if(!nt.isEmpty())if(nt=nt.toScreenRange(this.session),et.renderer){var at=this.$getTop(nt.start.row,j),ct=this.$padding+nt.start.column*j.characterWidth;et.renderer(_,nt,ct,at,j)}else et.type=="fullLine"?this.drawFullLineMarker(_,nt,et.clazz,j):et.type=="screenLine"?this.drawScreenLineMarker(_,nt,et.clazz,j):nt.isMultiLine()?et.type=="text"?this.drawTextMarker(_,nt,et.clazz,j):this.drawMultiLineMarker(_,nt,et.clazz,j):this.drawSingleLineMarker(_,nt,et.clazz+" ace_start ace_br15",j)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},it.prototype.$getTop=function(j,_){return(j-_.firstRowScreen)*_.lineHeight},it.prototype.drawTextMarker=function(j,_,$,et,nt){for(var at=this.session,ct=_.start.row,ht=_.end.row,ut=ct,dt=0,mt=0,gt=at.getScreenLastRowColumn(ut),lt=new _e(ut,_.start.column,ut,mt);ut<=ht;ut++)lt.start.row=lt.end.row=ut,lt.start.column=ut==ct?_.start.column:at.getRowWrapIndent(ut),lt.end.column=gt,dt=mt,mt=gt,gt=ut+1<ht?at.getScreenLastRowColumn(ut+1):ut==ht?0:_.end.column,this.drawSingleLineMarker(j,lt,$+(ut==ct?" ace_start":"")+" ace_br"+rt(ut==ct||ut==ct+1&&_.start.column,dt<mt,mt>gt,ut==ht),et,ut==ht?0:1,nt)},it.prototype.drawMultiLineMarker=function(j,_,$,et,nt){var at=this.$padding,ct=et.lineHeight,ht=this.$getTop(_.start.row,et),ut=at+_.start.column*et.characterWidth;if(nt=nt||"",this.session.$bidiHandler.isBidiRow(_.start.row)){var dt=_.clone();dt.end.row=dt.start.row,dt.end.column=this.session.getLine(dt.start.row).length,this.drawBidiSingleLineMarker(j,dt,$+" ace_br1 ace_start",et,null,nt)}else this.elt($+" ace_br1 ace_start","height:"+ct+"px;right:"+at+"px;top:"+ht+"px;left:"+ut+"px;"+(nt||""));if(this.session.$bidiHandler.isBidiRow(_.end.row)){var dt=_.clone();dt.start.row=dt.end.row,dt.start.column=0,this.drawBidiSingleLineMarker(j,dt,$+" ace_br12",et,null,nt)}else{ht=this.$getTop(_.end.row,et);var mt=_.end.column*et.characterWidth;this.elt($+" ace_br12","height:"+ct+"px;width:"+mt+"px;top:"+ht+"px;left:"+at+"px;"+(nt||""))}if(ct=(_.end.row-_.start.row-1)*et.lineHeight,!(ct<=0)){ht=this.$getTop(_.start.row+1,et);var gt=(_.start.column?1:0)|(_.end.column?0:8);this.elt($+(gt?" ace_br"+gt:""),"height:"+ct+"px;right:"+at+"px;top:"+ht+"px;left:"+at+"px;"+(nt||""))}},it.prototype.drawSingleLineMarker=function(j,_,$,et,nt,at){if(this.session.$bidiHandler.isBidiRow(_.start.row))return this.drawBidiSingleLineMarker(j,_,$,et,nt,at);var ct=et.lineHeight,ht=(_.end.column+(nt||0)-_.start.column)*et.characterWidth,ut=this.$getTop(_.start.row,et),dt=this.$padding+_.start.column*et.characterWidth;this.elt($,"height:"+ct+"px;width:"+ht+"px;top:"+ut+"px;left:"+dt+"px;"+(at||""))},it.prototype.drawBidiSingleLineMarker=function(j,_,$,et,nt,at){var ct=et.lineHeight,ht=this.$getTop(_.start.row,et),ut=this.$padding,dt=this.session.$bidiHandler.getSelections(_.start.column,_.end.column);dt.forEach(function(mt){this.elt($,"height:"+ct+"px;width:"+(mt.width+(nt||0))+"px;top:"+ht+"px;left:"+(ut+mt.left)+"px;"+(at||""))},this)},it.prototype.drawFullLineMarker=function(j,_,$,et,nt){var at=this.$getTop(_.start.row,et),ct=et.lineHeight;_.start.row!=_.end.row&&(ct+=this.$getTop(_.end.row,et)-at),this.elt($,"height:"+ct+"px;top:"+at+"px;left:0;right:0;"+(nt||""))},it.prototype.drawScreenLineMarker=function(j,_,$,et,nt){var at=this.$getTop(_.start.row,et),ct=et.lineHeight;this.elt($,"height:"+ct+"px;top:"+at+"px;left:0;right:0;"+(nt||""))},it}();ot.prototype.$padding=0;function rt(it,j,_,$){return(it?1:0)|(j?2:0)|(_?4:0)|($?8:0)}a.Marker=ot}),ace.define("ace/layer/text_util",["require","exports","module"],function(o,a,tt){var _e=new Set(["text","rparen","lparen"]);a.isTextToken=function(st){return _e.has(st)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(o,a,tt){var _e=o("../lib/oop"),st=o("../lib/dom"),ot=o("../lib/lang"),rt=o("./lines").Lines,it=o("../lib/event_emitter").EventEmitter,j=o("../config").nls,_=o("./text_util").isTextToken,$=function(){function et(nt){this.dom=st,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",nt.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new rt(this.element)}return et.prototype.$updateEolChar=function(){var nt=this.session.doc,at=nt.getNewLineCharacter()==`
`&&nt.getNewLineMode()!="windows",ct=at?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=ct)return this.EOL_CHAR=ct,!0},et.prototype.setPadding=function(nt){this.$padding=nt,this.element.style.margin="0 "+nt+"px"},et.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},et.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},et.prototype.$setFontMetrics=function(nt){this.$fontMetrics=nt,this.$fontMetrics.on("changeCharacterSize",(function(at){this._signal("changeCharacterSize",at)}).bind(this)),this.$pollSizeChanges()},et.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},et.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},et.prototype.setSession=function(nt){this.session=nt,nt&&this.$computeTabString()},et.prototype.setShowInvisibles=function(nt){return this.showInvisibles==nt?!1:(this.showInvisibles=nt,typeof nt=="string"?(this.showSpaces=/tab/i.test(nt),this.showTabs=/space/i.test(nt),this.showEOL=/eol/i.test(nt)):this.showSpaces=this.showTabs=this.showEOL=nt,this.$computeTabString(),!0)},et.prototype.setDisplayIndentGuides=function(nt){return this.displayIndentGuides==nt?!1:(this.displayIndentGuides=nt,this.$computeTabString(),!0)},et.prototype.setHighlightIndentGuides=function(nt){return this.$highlightIndentGuides===nt?!1:(this.$highlightIndentGuides=nt,nt)},et.prototype.$computeTabString=function(){var nt=this.session.getTabSize();this.tabSize=nt;for(var at=this.$tabStrings=[0],ct=1;ct<nt+1;ct++)if(this.showTabs){var ht=this.dom.createElement("span");ht.className="ace_invisible ace_invisible_tab",ht.textContent=ot.stringRepeat(this.TAB_CHAR,ct),at.push(ht)}else at.push(this.dom.createTextNode(ot.stringRepeat(" ",ct),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var ut="ace_indent-guide",dt=this.showSpaces?" ace_invisible ace_invisible_space":"",mt=this.showSpaces?ot.stringRepeat(this.SPACE_CHAR,this.tabSize):ot.stringRepeat(" ",this.tabSize),gt=this.showTabs?" ace_invisible ace_invisible_tab":"",lt=this.showTabs?ot.stringRepeat(this.TAB_CHAR,this.tabSize):mt,ht=this.dom.createElement("span");ht.className=ut+dt,ht.textContent=mt,this.$tabStrings[" "]=ht;var ht=this.dom.createElement("span");ht.className=ut+gt,ht.textContent=lt,this.$tabStrings["	"]=ht}},et.prototype.updateLines=function(nt,at,ct){if(this.config.lastRow!=nt.lastRow||this.config.firstRow!=nt.firstRow)return this.update(nt);this.config=nt;for(var ht=Math.max(at,nt.firstRow),ut=Math.min(ct,nt.lastRow),dt=this.element.childNodes,mt=0,lt=nt.firstRow;lt<ht;lt++){var St=this.session.getFoldLine(lt);if(St)if(St.containsRow(ht)){ht=St.start.row;break}else lt=St.end.row;mt++}for(var gt=!1,lt=ht,St=this.session.getNextFoldLine(lt),xt=St?St.start.row:1/0;lt>xt&&(lt=St.end.row+1,St=this.session.getNextFoldLine(lt,St),xt=St?St.start.row:1/0),!(lt>ut);){var yt=dt[mt++];if(yt){this.dom.removeChildren(yt),this.$renderLine(yt,lt,lt==xt?St:!1),gt&&(yt.style.top=this.$lines.computeLineTop(lt,nt,this.session)+"px");var _t=nt.lineHeight*this.session.getRowLength(lt)+"px";yt.style.height!=_t&&(gt=!0,yt.style.height=_t)}lt++}if(gt)for(;mt<this.$lines.cells.length;){var kt=this.$lines.cells[mt++];kt.element.style.top=this.$lines.computeLineTop(kt.row,nt,this.session)+"px"}},et.prototype.scrollLines=function(nt){var at=this.config;if(this.config=nt,this.$lines.pageChanged(at,nt))return this.update(nt);this.$lines.moveContainer(nt);var ct=nt.lastRow,ht=at?at.lastRow:-1;if(!at||ht<nt.firstRow)return this.update(nt);if(ct<at.firstRow)return this.update(nt);if(!at||at.lastRow<nt.firstRow)return this.update(nt);if(nt.lastRow<at.firstRow)return this.update(nt);if(at.firstRow<nt.firstRow)for(var ut=this.session.getFoldedRowCount(at.firstRow,nt.firstRow-1);ut>0;ut--)this.$lines.shift();if(at.lastRow>nt.lastRow)for(var ut=this.session.getFoldedRowCount(nt.lastRow+1,at.lastRow);ut>0;ut--)this.$lines.pop();nt.firstRow<at.firstRow&&this.$lines.unshift(this.$renderLinesFragment(nt,nt.firstRow,at.firstRow-1)),nt.lastRow>at.lastRow&&this.$lines.push(this.$renderLinesFragment(nt,at.lastRow+1,nt.lastRow)),this.$highlightIndentGuide()},et.prototype.$renderLinesFragment=function(nt,at,ct){for(var ht=[],ut=at,dt=this.session.getNextFoldLine(ut),mt=dt?dt.start.row:1/0;ut>mt&&(ut=dt.end.row+1,dt=this.session.getNextFoldLine(ut,dt),mt=dt?dt.start.row:1/0),!(ut>ct);){var gt=this.$lines.createCell(ut,nt,this.session),lt=gt.element;this.dom.removeChildren(lt),st.setStyle(lt.style,"height",this.$lines.computeLineHeight(ut,nt,this.session)+"px"),st.setStyle(lt.style,"top",this.$lines.computeLineTop(ut,nt,this.session)+"px"),this.$renderLine(lt,ut,ut==mt?dt:!1),this.$useLineGroups()?lt.className="ace_line_group":lt.className="ace_line",ht.push(gt),ut++}return ht},et.prototype.update=function(nt){this.$lines.moveContainer(nt),this.config=nt;for(var at=nt.firstRow,ct=nt.lastRow,ht=this.$lines;ht.getLength();)ht.pop();ht.push(this.$renderLinesFragment(nt,at,ct))},et.prototype.$renderToken=function(nt,at,ct,ht){for(var ut=this,dt=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,mt=this.dom.createFragment(this.element),gt,lt=0;gt=dt.exec(ht);){var St=gt[1],xt=gt[2],yt=gt[3],_t=gt[4],kt=gt[5];if(!(!ut.showSpaces&&xt)){var Et=lt!=gt.index?ht.slice(lt,gt.index):"";if(lt=gt.index+gt[0].length,Et&&mt.appendChild(this.dom.createTextNode(Et,this.element)),St){var $t=ut.session.getScreenTabSize(at+gt.index);mt.appendChild(ut.$tabStrings[$t].cloneNode(!0)),at+=$t-1}else if(xt)if(ut.showSpaces){var Tt=this.dom.createElement("span");Tt.className="ace_invisible ace_invisible_space",Tt.textContent=ot.stringRepeat(ut.SPACE_CHAR,xt.length),mt.appendChild(Tt)}else mt.appendChild(this.dom.createTextNode(xt,this.element));else if(yt){var Tt=this.dom.createElement("span");Tt.className="ace_invisible ace_invisible_space ace_invalid",Tt.textContent=ot.stringRepeat(ut.SPACE_CHAR,yt.length),mt.appendChild(Tt)}else if(_t){at+=1;var Tt=this.dom.createElement("span");Tt.style.width=ut.config.characterWidth*2+"px",Tt.className=ut.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",Tt.textContent=ut.showSpaces?ut.SPACE_CHAR:_t,mt.appendChild(Tt)}else if(kt){at+=1;var Tt=this.dom.createElement("span");Tt.style.width=ut.config.characterWidth*2+"px",Tt.className="ace_cjk",Tt.textContent=kt,mt.appendChild(Tt)}}}if(mt.appendChild(this.dom.createTextNode(lt?ht.slice(lt):ht,this.element)),_(ct.type))nt.appendChild(mt);else{var At="ace_"+ct.type.replace(/\./g," ace_"),Tt=this.dom.createElement("span");ct.type=="fold"&&(Tt.style.width=ct.value.length*this.config.characterWidth+"px",Tt.setAttribute("title",j("inline-fold.closed.title","Unfold code"))),Tt.className=At,Tt.appendChild(mt),nt.appendChild(Tt)}return at+ht.length},et.prototype.renderIndentGuide=function(nt,at,ct){var ht=at.search(this.$indentGuideRe);if(ht<=0||ht>=ct)return at;if(at[0]==" "){ht-=ht%this.tabSize;for(var ut=ht/this.tabSize,dt=0;dt<ut;dt++)nt.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),at.substr(ht)}else if(at[0]=="	"){for(var dt=0;dt<ht;dt++)nt.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),at.substr(ht)}return this.$highlightIndentGuide(),at},et.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var nt=this.session.doc.$lines;if(nt){var at=this.session.selection.getCursor(),ct=/^\s*/.exec(this.session.doc.getLine(at.row))[0].length,ht=Math.floor(ct/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:ht,start:at.row};var ut=this.session.$bracketHighlight;if(ut){for(var dt=this.session.$bracketHighlight.ranges,mt=0;mt<dt.length;mt++)if(at.row!==dt[mt].start.row){this.$highlightIndentGuideMarker.end=dt[mt].start.row,at.row>dt[mt].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&nt[at.row]!==""&&at.column===nt[at.row].length){this.$highlightIndentGuideMarker.dir=1;for(var mt=at.row+1;mt<nt.length;mt++){var gt=nt[mt],lt=/^\s*/.exec(gt)[0].length;if(gt!==""&&(this.$highlightIndentGuideMarker.end=mt,lt<=ct))break}}this.$renderHighlightIndentGuide()}}},et.prototype.$clearActiveIndentGuide=function(){for(var nt=this.$lines.cells,at=0;at<nt.length;at++){var ct=nt[at],ht=ct.element.childNodes;if(ht.length>0){for(var ut=0;ut<ht.length;ut++)if(ht[ut].classList&&ht[ut].classList.contains("ace_indent-guide-active")){ht[ut].classList.remove("ace_indent-guide-active");break}}}},et.prototype.$setIndentGuideActive=function(nt,at){var ct=this.session.doc.getLine(nt.row);if(ct!==""){var ht=nt.element.childNodes;if(ht){var ut=ht[at-1];ut&&ut.classList&&ut.classList.contains("ace_indent-guide")&&ut.classList.add("ace_indent-guide-active")}}},et.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var nt=this.$lines.cells;this.$clearActiveIndentGuide();var at=this.$highlightIndentGuideMarker.indentLevel;if(at!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var ct=0;ct<nt.length;ct++){var ht=nt[ct];if(this.$highlightIndentGuideMarker.end&&ht.row>=this.$highlightIndentGuideMarker.start+1){if(ht.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(ht,at)}}else for(var ct=nt.length-1;ct>=0;ct--){var ht=nt[ct];if(this.$highlightIndentGuideMarker.end&&ht.row<this.$highlightIndentGuideMarker.start){if(ht.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(ht,at)}}}},et.prototype.$createLineElement=function(nt){var at=this.dom.createElement("div");return at.className="ace_line",at.style.height=this.config.lineHeight+"px",at},et.prototype.$renderWrappedLine=function(nt,at,ct){var ht=0,ut=0,dt=ct[0],mt=0,gt=this.$createLineElement();nt.appendChild(gt);for(var lt=0;lt<at.length;lt++){var St=at[lt],xt=St.value;if(lt==0&&this.displayIndentGuides){if(ht=xt.length,xt=this.renderIndentGuide(gt,xt,dt),!xt)continue;ht-=xt.length}if(ht+xt.length<dt)mt=this.$renderToken(gt,mt,St,xt),ht+=xt.length;else{for(;ht+xt.length>=dt;)mt=this.$renderToken(gt,mt,St,xt.substring(0,dt-ht)),xt=xt.substring(dt-ht),ht=dt,gt=this.$createLineElement(),nt.appendChild(gt),gt.appendChild(this.dom.createTextNode(ot.stringRepeat("",ct.indent),this.element)),ut++,mt=0,dt=ct[ut]||Number.MAX_VALUE;xt.length!=0&&(ht+=xt.length,mt=this.$renderToken(gt,mt,St,xt))}}ct[ct.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(gt,mt,null,"",!0)},et.prototype.$renderSimpleLine=function(nt,at){for(var ct=0,ht=0;ht<at.length;ht++){var ut=at[ht],dt=ut.value;if(!(ht==0&&this.displayIndentGuides&&(dt=this.renderIndentGuide(nt,dt),!dt))){if(ct+dt.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(nt,ct,ut,dt);ct=this.$renderToken(nt,ct,ut,dt)}}},et.prototype.$renderOverflowMessage=function(nt,at,ct,ht,ut){ct&&this.$renderToken(nt,at,ct,ht.slice(0,this.MAX_LINE_LENGTH-at));var dt=this.dom.createElement("span");dt.className="ace_inline_button ace_keyword ace_toggle_wrap",dt.textContent=ut?"<hide>":"<click to see more...>",nt.appendChild(dt)},et.prototype.$renderLine=function(nt,at,ct){if(!ct&&ct!=!1&&(ct=this.session.getFoldLine(at)),ct)var ht=this.$getFoldLineTokens(at,ct);else var ht=this.session.getTokens(at);var ut=nt;if(ht.length){var dt=this.session.getRowSplitData(at);if(dt&&dt.length){this.$renderWrappedLine(nt,ht,dt);var ut=nt.lastChild}else{var ut=nt;this.$useLineGroups()&&(ut=this.$createLineElement(),nt.appendChild(ut)),this.$renderSimpleLine(ut,ht)}}else this.$useLineGroups()&&(ut=this.$createLineElement(),nt.appendChild(ut));if(this.showEOL&&ut){ct&&(at=ct.end.row);var mt=this.dom.createElement("span");mt.className="ace_invisible ace_invisible_eol",mt.textContent=at==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,ut.appendChild(mt)}},et.prototype.$getFoldLineTokens=function(nt,at){var ct=this.session,ht=[];function ut(mt,gt,lt){for(var St=0,xt=0;xt+mt[St].value.length<gt;)if(xt+=mt[St].value.length,St++,St==mt.length)return;if(xt!=gt){var yt=mt[St].value.substring(gt-xt);yt.length>lt-gt&&(yt=yt.substring(0,lt-gt)),ht.push({type:mt[St].type,value:yt}),xt=gt+yt.length,St+=1}for(;xt<lt&&St<mt.length;){var yt=mt[St].value;yt.length+xt>lt?ht.push({type:mt[St].type,value:yt.substring(0,lt-xt)}):ht.push(mt[St]),xt+=yt.length,St+=1}}var dt=ct.getTokens(nt);return at.walk(function(mt,gt,lt,St,xt){mt!=null?ht.push({type:"fold",value:mt}):(xt&&(dt=ct.getTokens(gt)),dt.length&&ut(dt,St,lt))},at.end.row,this.session.getLine(at.end.row).length),ht},et.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},et}();$.prototype.EOF_CHAR="",$.prototype.EOL_CHAR_LF="",$.prototype.EOL_CHAR_CRLF="",$.prototype.EOL_CHAR=$.prototype.EOL_CHAR_LF,$.prototype.TAB_CHAR="",$.prototype.SPACE_CHAR="",$.prototype.$padding=0,$.prototype.MAX_LINE_LENGTH=1e4,$.prototype.showInvisibles=!1,$.prototype.showSpaces=!1,$.prototype.showTabs=!1,$.prototype.showEOL=!1,$.prototype.displayIndentGuides=!0,$.prototype.$highlightIndentGuides=!0,$.prototype.$tabStrings=[],$.prototype.destroy={},$.prototype.onChangeTabSize=$.prototype.$computeTabString,_e.implement($.prototype,it),a.Text=$}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(o,a,tt){var _e=o("../lib/dom"),st=function(){function ot(rt){this.element=_e.createElement("div"),this.element.className="ace_layer ace_cursor-layer",rt.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),_e.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return ot.prototype.$updateOpacity=function(rt){for(var it=this.cursors,j=it.length;j--;)_e.setStyle(it[j].style,"opacity",rt?"":"0")},ot.prototype.$startCssAnimation=function(){for(var rt=this.cursors,it=rt.length;it--;)rt[it].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&_e.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},ot.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,_e.removeCssClass(this.element,"ace_animate-blinking")},ot.prototype.setPadding=function(rt){this.$padding=rt},ot.prototype.setSession=function(rt){this.session=rt},ot.prototype.setBlinking=function(rt){rt!=this.isBlinking&&(this.isBlinking=rt,this.restartTimer())},ot.prototype.setBlinkInterval=function(rt){rt!=this.blinkInterval&&(this.blinkInterval=rt,this.restartTimer())},ot.prototype.setSmoothBlinking=function(rt){rt!=this.smoothBlinking&&(this.smoothBlinking=rt,_e.setCssClass(this.element,"ace_smooth-blinking",rt),this.$updateCursors(!0),this.restartTimer())},ot.prototype.addCursor=function(){var rt=_e.createElement("div");return rt.className="ace_cursor",this.element.appendChild(rt),this.cursors.push(rt),rt},ot.prototype.removeCursor=function(){if(this.cursors.length>1){var rt=this.cursors.pop();return rt.parentNode.removeChild(rt),rt}},ot.prototype.hideCursor=function(){this.isVisible=!1,_e.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},ot.prototype.showCursor=function(){this.isVisible=!0,_e.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},ot.prototype.restartTimer=function(){var rt=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,_e.removeCssClass(this.element,"ace_smooth-blinking")),rt(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&_e.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),_e.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var it=(function(){this.timeoutId=setTimeout(function(){rt(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){rt(!0),it()},this.blinkInterval),it()}},ot.prototype.getPixelPosition=function(rt,it){if(!this.config||!this.session)return{left:0,top:0};rt||(rt=this.session.selection.getCursor());var j=this.session.documentToScreenPosition(rt),_=this.$padding+(this.session.$bidiHandler.isBidiRow(j.row,rt.row)?this.session.$bidiHandler.getPosLeft(j.column):j.column*this.config.characterWidth),$=(j.row-(it?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:_,top:$}},ot.prototype.isCursorInView=function(rt,it){return rt.top>=0&&rt.top<it.maxHeight},ot.prototype.update=function(rt){this.config=rt;var it=this.session.$selectionMarkers,j=0,_=0;(it===void 0||it.length===0)&&(it=[{cursor:null}]);for(var j=0,$=it.length;j<$;j++){var et=this.getPixelPosition(it[j].cursor,!0);if(!((et.top>rt.height+rt.offset||et.top<0)&&j>1)){var nt=this.cursors[_++]||this.addCursor(),at=nt.style;this.drawCursor?this.drawCursor(nt,et,rt,it[j],this.session):this.isCursorInView(et,rt)?(_e.setStyle(at,"display","block"),_e.translate(nt,et.left,et.top),_e.setStyle(at,"width",Math.round(rt.characterWidth)+"px"),_e.setStyle(at,"height",rt.lineHeight+"px")):_e.setStyle(at,"display","none")}}for(;this.cursors.length>_;)this.removeCursor();var ct=this.session.getOverwrite();this.$setOverwrite(ct),this.$pixelPos=et,this.restartTimer()},ot.prototype.$setOverwrite=function(rt){rt!=this.overwrite&&(this.overwrite=rt,rt?_e.addCssClass(this.element,"ace_overwrite-cursors"):_e.removeCssClass(this.element,"ace_overwrite-cursors"))},ot.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},ot}();st.prototype.$padding=0,st.prototype.drawCursor=null,a.Cursor=st}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(o,a,tt){var _e=this&&this.__extends||function(){var nt=function(at,ct){return nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,ut){ht.__proto__=ut}||function(ht,ut){for(var dt in ut)Object.prototype.hasOwnProperty.call(ut,dt)&&(ht[dt]=ut[dt])},nt(at,ct)};return function(at,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Class extends value "+String(ct)+" is not a constructor or null");nt(at,ct);function ht(){this.constructor=at}at.prototype=ct===null?Object.create(ct):(ht.prototype=ct.prototype,new ht)}}(),st=o("./lib/oop"),ot=o("./lib/dom"),rt=o("./lib/event"),it=o("./lib/event_emitter").EventEmitter,j=32768,_=function(){function nt(at,ct){this.element=ot.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+ct,this.inner=ot.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),at.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,rt.addListener(this.element,"scroll",this.onScroll.bind(this)),rt.addListener(this.element,"mousedown",rt.preventDefault)}return nt.prototype.setVisible=function(at){this.element.style.display=at?"":"none",this.isVisible=at,this.coeff=1},nt}();st.implement(_.prototype,it);var $=function(nt){_e(at,nt);function at(ct,ht){var ut=nt.call(this,ct,"-v")||this;return ut.scrollTop=0,ut.scrollHeight=0,ht.$scrollbarWidth=ut.width=ot.scrollbarWidth(ct.ownerDocument),ut.inner.style.width=ut.element.style.width=(ut.width||15)+5+"px",ut.$minWidth=0,ut}return at.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var ct=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-ct)/(this.coeff-ct)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},at.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},at.prototype.setHeight=function(ct){this.element.style.height=ct+"px"},at.prototype.setScrollHeight=function(ct){this.scrollHeight=ct,ct>j?(this.coeff=j/ct,ct=j):this.coeff!=1&&(this.coeff=1),this.inner.style.height=ct+"px"},at.prototype.setScrollTop=function(ct){this.scrollTop!=ct&&(this.skipEvent=!0,this.scrollTop=ct,this.element.scrollTop=ct*this.coeff)},at}(_);$.prototype.setInnerHeight=$.prototype.setScrollHeight;var et=function(nt){_e(at,nt);function at(ct,ht){var ut=nt.call(this,ct,"-h")||this;return ut.scrollLeft=0,ut.height=ht.$scrollbarWidth,ut.inner.style.height=ut.element.style.height=(ut.height||15)+5+"px",ut}return at.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},at.prototype.getHeight=function(){return this.isVisible?this.height:0},at.prototype.setWidth=function(ct){this.element.style.width=ct+"px"},at.prototype.setInnerWidth=function(ct){this.inner.style.width=ct+"px"},at.prototype.setScrollWidth=function(ct){this.inner.style.width=ct+"px"},at.prototype.setScrollLeft=function(ct){this.scrollLeft!=ct&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=ct)},at}(_);a.ScrollBar=$,a.ScrollBarV=$,a.ScrollBarH=et,a.VScrollBar=$,a.HScrollBar=et}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(o,a,tt){var _e=this&&this.__extends||function(){var et=function(nt,at){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ht){ct.__proto__=ht}||function(ct,ht){for(var ut in ht)Object.prototype.hasOwnProperty.call(ht,ut)&&(ct[ut]=ht[ut])},et(nt,at)};return function(nt,at){if(typeof at!="function"&&at!==null)throw new TypeError("Class extends value "+String(at)+" is not a constructor or null");et(nt,at);function ct(){this.constructor=nt}nt.prototype=at===null?Object.create(at):(ct.prototype=at.prototype,new ct)}}(),st=o("./lib/oop"),ot=o("./lib/dom"),rt=o("./lib/event"),it=o("./lib/event_emitter").EventEmitter;ot.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var j=function(){function et(nt,at){this.element=ot.createElement("div"),this.element.className="ace_sb"+at,this.inner=ot.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,nt.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,rt.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return et.prototype.setVisible=function(nt){this.element.style.display=nt?"":"none",this.isVisible=nt,this.coeff=1},et}();st.implement(j.prototype,it);var _=function(et){_e(nt,et);function nt(at,ct){var ht=et.call(this,at,"-v")||this;return ht.scrollTop=0,ht.scrollHeight=0,ht.parent=at,ht.width=ht.VScrollWidth,ht.renderer=ct,ht.inner.style.width=ht.element.style.width=(ht.width||15)+"px",ht.$minWidth=0,ht}return nt.prototype.onMouseDown=function(at,ct){if(at==="mousedown"&&!(rt.getButton(ct)!==0||ct.detail===2)){if(ct.target===this.inner){var ht=this,ut=ct.clientY,dt=function(_t){ut=_t.clientY},mt=function(){clearInterval(xt)},gt=ct.clientY,lt=this.thumbTop,St=function(){if(ut!==void 0){var _t=ht.scrollTopFromThumbTop(lt+ut-gt);_t!==ht.scrollTop&&ht._emit("scroll",{data:_t})}};rt.capture(this.inner,dt,mt);var xt=setInterval(St,20);return rt.preventDefault(ct)}var yt=ct.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(yt)}),rt.preventDefault(ct)}},nt.prototype.getHeight=function(){return this.height},nt.prototype.scrollTopFromThumbTop=function(at){var ct=at*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return ct=ct>>0,ct<0?ct=0:ct>this.pageHeight-this.viewHeight&&(ct=this.pageHeight-this.viewHeight),ct},nt.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},nt.prototype.setHeight=function(at){this.height=Math.max(0,at),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},nt.prototype.setScrollHeight=function(at,ct){this.pageHeight===at&&!ct||(this.pageHeight=at,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},nt.prototype.setScrollTop=function(at){this.scrollTop=at,at<0&&(at=0),this.thumbTop=at*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},nt}(j);_.prototype.setInnerHeight=_.prototype.setScrollHeight;var $=function(et){_e(nt,et);function nt(at,ct){var ht=et.call(this,at,"-h")||this;return ht.scrollLeft=0,ht.scrollWidth=0,ht.height=ht.HScrollHeight,ht.inner.style.height=ht.element.style.height=(ht.height||12)+"px",ht.renderer=ct,ht}return nt.prototype.onMouseDown=function(at,ct){if(at==="mousedown"&&!(rt.getButton(ct)!==0||ct.detail===2)){if(ct.target===this.inner){var ht=this,ut=ct.clientX,dt=function(_t){ut=_t.clientX},mt=function(){clearInterval(xt)},gt=ct.clientX,lt=this.thumbLeft,St=function(){if(ut!==void 0){var _t=ht.scrollLeftFromThumbLeft(lt+ut-gt);_t!==ht.scrollLeft&&ht._emit("scroll",{data:_t})}};rt.capture(this.inner,dt,mt);var xt=setInterval(St,20);return rt.preventDefault(ct)}var yt=ct.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(yt)}),rt.preventDefault(ct)}},nt.prototype.getHeight=function(){return this.isVisible?this.height:0},nt.prototype.scrollLeftFromThumbLeft=function(at){var ct=at*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return ct=ct>>0,ct<0?ct=0:ct>this.pageWidth-this.viewWidth&&(ct=this.pageWidth-this.viewWidth),ct},nt.prototype.setWidth=function(at){this.width=Math.max(0,at),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},nt.prototype.setScrollWidth=function(at,ct){this.pageWidth===at&&!ct||(this.pageWidth=at,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},nt.prototype.setScrollLeft=function(at){this.scrollLeft=at,at<0&&(at=0),this.thumbLeft=at*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},nt}(j);$.prototype.setInnerWidth=$.prototype.setScrollWidth,a.ScrollBar=_,a.ScrollBarV=_,a.ScrollBarH=$,a.VScrollBar=_,a.HScrollBar=$}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(o,a,tt){var _e=o("./lib/event"),st=function(){function ot(rt,it){this.onRender=rt,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=it||window;var j=this;this._flush=function(_){j.pending=!1;var $=j.changes;if($&&(_e.blockIdle(100),j.changes=0,j.onRender($)),j.changes){if(j.$recursionLimit--<0)return;j.schedule()}else j.$recursionLimit=2}}return ot.prototype.schedule=function(rt){this.changes=this.changes|rt,this.changes&&!this.pending&&(_e.nextFrame(this._flush),this.pending=!0)},ot.prototype.clear=function(rt){var it=this.changes;return this.changes=0,it},ot}();a.RenderLoop=st}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(o,a,tt){var _e=o("../lib/oop"),st=o("../lib/dom"),ot=o("../lib/lang"),rt=o("../lib/event"),it=o("../lib/useragent"),j=o("../lib/event_emitter").EventEmitter,_=512,$=typeof ResizeObserver=="function",et=200,nt=function(){function at(ct){this.el=st.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=st.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=st.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),ct.appendChild(this.el),this.$measureNode.textContent=ot.stringRepeat("X",_),this.$characterSize={width:0,height:0},$?this.$addObserver():this.checkForSizeChanges()}return at.prototype.$setMeasureNodeStyles=function(ct,ht){ct.width=ct.height="auto",ct.left=ct.top="0px",ct.visibility="hidden",ct.position="absolute",ct.whiteSpace="pre",it.isIE<8?ct["font-family"]="inherit":ct.font="inherit",ct.overflow=ht?"hidden":"visible"},at.prototype.checkForSizeChanges=function(ct){if(ct===void 0&&(ct=this.$measureSizes()),ct&&(this.$characterSize.width!==ct.width||this.$characterSize.height!==ct.height)){this.$measureNode.style.fontWeight="bold";var ht=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=ct,this.charSizes=Object.create(null),this.allowBoldFonts=ht&&ht.width===ct.width&&ht.height===ct.height,this._emit("changeCharacterSize",{data:ct})}},at.prototype.$addObserver=function(){var ct=this;this.$observer=new window.ResizeObserver(function(ht){ct.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},at.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var ct=this;return this.$pollSizeChangesTimer=rt.onIdle(function ht(){ct.checkForSizeChanges(),rt.onIdle(ht,500)},500)},at.prototype.setPolling=function(ct){ct?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},at.prototype.$measureSizes=function(ct){var ht={height:(ct||this.$measureNode).clientHeight,width:(ct||this.$measureNode).clientWidth/_};return ht.width===0||ht.height===0?null:ht},at.prototype.$measureCharWidth=function(ct){this.$main.textContent=ot.stringRepeat(ct,_);var ht=this.$main.getBoundingClientRect();return ht.width/_},at.prototype.getCharacterWidth=function(ct){var ht=this.charSizes[ct];return ht===void 0&&(ht=this.charSizes[ct]=this.$measureCharWidth(ct)/this.$characterSize.width),ht},at.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},at.prototype.$getZoom=function(ct){return!ct||!ct.parentElement?1:(Number(window.getComputedStyle(ct).zoom)||1)*this.$getZoom(ct.parentElement)},at.prototype.$initTransformMeasureNodes=function(){var ct=function(ht,ut){return["div",{style:"position: absolute;top:"+ht+"px;left:"+ut+"px;"}]};this.els=st.buildDom([ct(0,0),ct(et,0),ct(0,et),ct(et,et)],this.el)},at.prototype.transformCoordinates=function(ct,ht){if(ct){var ut=this.$getZoom(this.el);ct=lt(1/ut,ct)}function dt(zt,qt,Gt){var Wt=zt[1]*qt[0]-zt[0]*qt[1];return[(-qt[1]*Gt[0]+qt[0]*Gt[1])/Wt,(+zt[1]*Gt[0]-zt[0]*Gt[1])/Wt]}function mt(zt,qt){return[zt[0]-qt[0],zt[1]-qt[1]]}function gt(zt,qt){return[zt[0]+qt[0],zt[1]+qt[1]]}function lt(zt,qt){return[zt*qt[0],zt*qt[1]]}this.els||this.$initTransformMeasureNodes();function St(zt){var qt=zt.getBoundingClientRect();return[qt.left,qt.top]}var xt=St(this.els[0]),yt=St(this.els[1]),_t=St(this.els[2]),kt=St(this.els[3]),Et=dt(mt(kt,yt),mt(kt,_t),mt(gt(yt,_t),gt(kt,xt))),$t=lt(1+Et[0],mt(yt,xt)),Tt=lt(1+Et[1],mt(_t,xt));if(ht){var At=ht,Mt=Et[0]*At[0]/et+Et[1]*At[1]/et+1,Ot=gt(lt(At[0],$t),lt(At[1],Tt));return gt(lt(1/Mt/et,Ot),xt)}var Pt=mt(ct,xt),Ft=dt(mt($t,lt(Et[0],Pt)),mt(Tt,lt(Et[1],Pt)),Pt);return lt(et,Ft)},at}();nt.prototype.$characterSize={width:0,height:0},_e.implement(nt.prototype,j),a.FontMetrics=nt}),ace.define("ace/css/editor-css",["require","exports","module"],function(o,a,tt){tt.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(o,a,tt){var _e=o("../lib/dom"),st=o("../lib/oop"),ot=o("../lib/event_emitter").EventEmitter,rt=function(){function it(j,_){this.canvas=_e.createElement("canvas"),this.renderer=_,this.pixelRatio=1,this.maxHeight=_.layerConfig.maxHeight,this.lineHeight=_.layerConfig.lineHeight,this.canvasHeight=j.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=j.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},j.element.appendChild(this.canvas)}return it.prototype.$updateDecorators=function(j){var _=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(j){this.maxHeight=j.maxHeight,this.lineHeight=j.lineHeight,this.canvasHeight=j.height;var $=(j.lastRow+1)*this.lineHeight;$<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var et=this.canvas.getContext("2d");function nt(kt,Et){return kt.priority<Et.priority?-1:kt.priority>Et.priority?1:0}var at=this.renderer.session.$annotations;if(et.clearRect(0,0,this.canvas.width,this.canvas.height),at){var ct={info:1,warning:2,error:3};at.forEach(function(kt){kt.priority=ct[kt.type]||null}),at=at.sort(nt);for(var ht=this.renderer.session.$foldData,ut=0;ut<at.length;ut++){var dt=at[ut].row,mt=this.compensateFoldRows(dt,ht),gt=Math.round((dt-mt)*this.lineHeight*this.heightRatio),lt=Math.round((dt-mt)*this.lineHeight*this.heightRatio),St=Math.round(((dt-mt)*this.lineHeight+this.lineHeight)*this.heightRatio),xt=St-lt;if(xt<this.minDecorationHeight){var yt=(lt+St)/2|0;yt<this.halfMinDecorationHeight?yt=this.halfMinDecorationHeight:yt+this.halfMinDecorationHeight>this.canvasHeight&&(yt=this.canvasHeight-this.halfMinDecorationHeight),lt=Math.round(yt-this.halfMinDecorationHeight),St=Math.round(yt+this.halfMinDecorationHeight)}et.fillStyle=_[at[ut].type]||null,et.fillRect(0,gt,this.canvasWidth,St-lt)}}var _t=this.renderer.session.selection.getCursor();if(_t){var mt=this.compensateFoldRows(_t.row,ht),gt=Math.round((_t.row-mt)*this.lineHeight*this.heightRatio);et.fillStyle="rgba(0, 0, 0, 0.5)",et.fillRect(0,gt,this.canvasWidth,2)}},it.prototype.compensateFoldRows=function(j,_){var $=0;if(_&&_.length>0)for(var et=0;et<_.length;et++)j>_[et].start.row&&j<_[et].end.row?$+=j-_[et].start.row:j>=_[et].end.row&&($+=_[et].end.row-_[et].start.row);return $},it}();st.implement(rt.prototype,ot),a.Decorator=rt}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(o,a,tt){var _e=o("./lib/oop"),st=o("./lib/dom"),ot=o("./lib/lang"),rt=o("./config"),it=o("./layer/gutter").Gutter,j=o("./layer/marker").Marker,_=o("./layer/text").Text,$=o("./layer/cursor").Cursor,et=o("./scrollbar").HScrollBar,nt=o("./scrollbar").VScrollBar,at=o("./scrollbar_custom").HScrollBar,ct=o("./scrollbar_custom").VScrollBar,ht=o("./renderloop").RenderLoop,ut=o("./layer/font_metrics").FontMetrics,dt=o("./lib/event_emitter").EventEmitter,mt=o("./css/editor-css"),gt=o("./layer/decorators").Decorator,lt=o("./lib/useragent"),St=o("./layer/text_util").isTextToken;st.importCssString(mt,"ace_editor.css",!1);var xt=function(){function yt(_t,kt){var Et=this;this.container=_t||st.createElement("div"),st.addCssClass(this.container,"ace_editor"),st.HI_DPI&&st.addCssClass(this.container,"ace_hidpi"),this.setTheme(kt),rt.get("useStrictCSP")==null&&rt.set("useStrictCSP",!1),this.$gutter=st.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=st.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=st.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new it(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new j(this.content);var $t=this.$textLayer=new _(this.content);this.canvas=$t.element,this.$markerFront=new j(this.content),this.$cursorLayer=new $(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new nt(this.container,this),this.scrollBarH=new et(this.container,this),this.scrollBarV.on("scroll",function(Tt){Et.$scrollAnimation||Et.session.setScrollTop(Tt.data-Et.scrollMargin.top)}),this.scrollBarH.on("scroll",function(Tt){Et.$scrollAnimation||Et.session.setScrollLeft(Tt.data-Et.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new ut(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(Tt){Et.updateCharacterSize(),Et.onResize(!0,Et.gutterWidth,Et.$size.width,Et.$size.height),Et._signal("changeCharacterSize",Tt)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!lt.isIOS,this.$loop=new ht(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),rt.resetOptions(this),rt._signal("renderer",this)}return yt.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),st.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},yt.prototype.setSession=function(_t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=_t,_t&&this.scrollMargin.top&&_t.getScrollTop()<=0&&_t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(_t),this.$markerBack.setSession(_t),this.$markerFront.setSession(_t),this.$gutterLayer.setSession(_t),this.$textLayer.setSession(_t),_t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},yt.prototype.updateLines=function(_t,kt,Et){if(kt===void 0&&(kt=1/0),this.$changedLines?(this.$changedLines.firstRow>_t&&(this.$changedLines.firstRow=_t),this.$changedLines.lastRow<kt&&(this.$changedLines.lastRow=kt)):this.$changedLines={firstRow:_t,lastRow:kt},this.$changedLines.lastRow<this.layerConfig.firstRow)if(Et)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},yt.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},yt.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},yt.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},yt.prototype.updateFull=function(_t){_t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},yt.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},yt.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},yt.prototype.onResize=function(_t,kt,Et,$t){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=_t?1:0;var Tt=this.container;$t||($t=Tt.clientHeight||Tt.scrollHeight),!$t&&this.$maxLines&&this.lineHeight>1&&(!Tt.style.height||Tt.style.height=="0px")&&(Tt.style.height="1px",$t=Tt.clientHeight||Tt.scrollHeight),Et||(Et=Tt.clientWidth||Tt.scrollWidth);var At=this.$updateCachedSize(_t,kt,Et,$t);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!Et&&!$t)return this.resizing=0;_t&&(this.$gutterLayer.$padding=null),_t?this.$renderChanges(At|this.$changes,!0):this.$loop.schedule(At|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},yt.prototype.$updateCachedSize=function(_t,kt,Et,$t){$t-=this.$extraHeight||0;var Tt=0,At=this.$size,Mt={width:At.width,height:At.height,scrollerHeight:At.scrollerHeight,scrollerWidth:At.scrollerWidth};if($t&&(_t||At.height!=$t)&&(At.height=$t,Tt|=this.CHANGE_SIZE,At.scrollerHeight=At.height,this.$horizScroll&&(At.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(At.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",Tt=Tt|this.CHANGE_SCROLL),Et&&(_t||At.width!=Et)){Tt|=this.CHANGE_SIZE,At.width=Et,kt==null&&(kt=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=kt,st.setStyle(this.scrollBarH.element.style,"left",kt+"px"),st.setStyle(this.scroller.style,"left",kt+this.margin.left+"px"),At.scrollerWidth=Math.max(0,Et-kt-this.scrollBarV.getWidth()-this.margin.h),st.setStyle(this.$gutter.style,"left",this.margin.left+"px");var Ot=this.scrollBarV.getWidth()+"px";st.setStyle(this.scrollBarH.element.style,"right",Ot),st.setStyle(this.scroller.style,"right",Ot),st.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(At.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||_t)&&(Tt|=this.CHANGE_FULL)}return At.$dirty=!Et||!$t,Tt&&this._signal("resize",Mt),Tt},yt.prototype.onGutterResize=function(_t){var kt=this.$showGutter?_t:0;kt!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,kt,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},yt.prototype.adjustWrapLimit=function(){var _t=this.$size.scrollerWidth-this.$padding*2,kt=Math.floor(_t/this.characterWidth);return this.session.adjustWrapLimit(kt,this.$showPrintMargin&&this.$printMarginColumn)},yt.prototype.setAnimatedScroll=function(_t){this.setOption("animatedScroll",_t)},yt.prototype.getAnimatedScroll=function(){return this.$animatedScroll},yt.prototype.setShowInvisibles=function(_t){this.setOption("showInvisibles",_t),this.session.$bidiHandler.setShowInvisibles(_t)},yt.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},yt.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},yt.prototype.setDisplayIndentGuides=function(_t){this.setOption("displayIndentGuides",_t)},yt.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},yt.prototype.setHighlightIndentGuides=function(_t){this.setOption("highlightIndentGuides",_t)},yt.prototype.setShowPrintMargin=function(_t){this.setOption("showPrintMargin",_t)},yt.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},yt.prototype.setPrintMarginColumn=function(_t){this.setOption("printMarginColumn",_t)},yt.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},yt.prototype.getShowGutter=function(){return this.getOption("showGutter")},yt.prototype.setShowGutter=function(_t){return this.setOption("showGutter",_t)},yt.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},yt.prototype.setFadeFoldWidgets=function(_t){this.setOption("fadeFoldWidgets",_t)},yt.prototype.setHighlightGutterLine=function(_t){this.setOption("highlightGutterLine",_t)},yt.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},yt.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var _t=st.createElement("div");_t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=st.createElement("div"),this.$printMarginEl.className="ace_print-margin",_t.appendChild(this.$printMarginEl),this.content.insertBefore(_t,this.content.firstChild)}var kt=this.$printMarginEl.style;kt.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",kt.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},yt.prototype.getContainerElement=function(){return this.container},yt.prototype.getMouseEventTarget=function(){return this.scroller},yt.prototype.getTextAreaContainer=function(){return this.container},yt.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var _t=this.textarea.style,kt=this.$composition;if(!this.$keepTextAreaAtCursor&&!kt){st.translate(this.textarea,-100,0);return}var Et=this.$cursorLayer.$pixelPos;if(Et){kt&&kt.markerRange&&(Et=this.$cursorLayer.getPixelPosition(kt.markerRange.start,!0));var $t=this.layerConfig,Tt=Et.top,At=Et.left;Tt-=$t.offset;var Mt=kt&&kt.useTextareaForIME||lt.isMobile?this.lineHeight:1;if(Tt<0||Tt>$t.height-Mt){st.translate(this.textarea,0,0);return}var Ot=1,Pt=this.$size.height-Mt;if(!kt)Tt+=this.lineHeight;else if(kt.useTextareaForIME){var Ft=this.textarea.value;Ot=this.characterWidth*this.session.$getStringScreenWidth(Ft)[0]}else Tt+=this.lineHeight+2;At-=this.scrollLeft,At>this.$size.scrollerWidth-Ot&&(At=this.$size.scrollerWidth-Ot),At+=this.gutterWidth+this.margin.left,st.setStyle(_t,"height",Mt+"px"),st.setStyle(_t,"width",Ot+"px"),st.translate(this.textarea,Math.min(At,this.$size.scrollerWidth-Ot),Math.min(Tt,Pt))}}},yt.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},yt.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},yt.prototype.getLastFullyVisibleRow=function(){var _t=this.layerConfig,kt=_t.lastRow,Et=this.session.documentToScreenRow(kt,0)*_t.lineHeight;return Et-this.session.getScrollTop()>_t.height-_t.lineHeight?kt-1:kt},yt.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},yt.prototype.setPadding=function(_t){this.$padding=_t,this.$textLayer.setPadding(_t),this.$cursorLayer.setPadding(_t),this.$markerFront.setPadding(_t),this.$markerBack.setPadding(_t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},yt.prototype.setScrollMargin=function(_t,kt,Et,$t){var Tt=this.scrollMargin;Tt.top=_t|0,Tt.bottom=kt|0,Tt.right=$t|0,Tt.left=Et|0,Tt.v=Tt.top+Tt.bottom,Tt.h=Tt.left+Tt.right,Tt.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-Tt.top),this.updateFull()},yt.prototype.setMargin=function(_t,kt,Et,$t){var Tt=this.margin;Tt.top=_t|0,Tt.bottom=kt|0,Tt.right=$t|0,Tt.left=Et|0,Tt.v=Tt.top+Tt.bottom,Tt.h=Tt.left+Tt.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},yt.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},yt.prototype.setHScrollBarAlwaysVisible=function(_t){this.setOption("hScrollBarAlwaysVisible",_t)},yt.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},yt.prototype.setVScrollBarAlwaysVisible=function(_t){this.setOption("vScrollBarAlwaysVisible",_t)},yt.prototype.$updateScrollBarV=function(){var _t=this.layerConfig.maxHeight,kt=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(_t-=(kt-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>_t-kt&&(_t=this.scrollTop+kt,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(_t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},yt.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},yt.prototype.freeze=function(){this.$frozen=!0},yt.prototype.unfreeze=function(){this.$frozen=!1},yt.prototype.$renderChanges=function(_t,kt){if(this.$changes&&(_t|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!_t&&!kt){this.$changes|=_t;return}if(this.$size.$dirty)return this.$changes|=_t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",_t),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var Et=this.layerConfig;if(_t&this.CHANGE_FULL||_t&this.CHANGE_SIZE||_t&this.CHANGE_TEXT||_t&this.CHANGE_LINES||_t&this.CHANGE_SCROLL||_t&this.CHANGE_H_SCROLL){if(_t|=this.$computeLayerConfig()|this.$loop.clear(),Et.firstRow!=this.layerConfig.firstRow&&Et.firstRowScreen==this.layerConfig.firstRowScreen){var $t=this.scrollTop+(Et.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;$t>0&&(this.scrollTop=$t,_t=_t|this.CHANGE_SCROLL,_t|=this.$computeLayerConfig()|this.$loop.clear())}Et=this.layerConfig,this.$updateScrollBarV(),_t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),st.translate(this.content,-this.scrollLeft,-Et.offset);var Tt=Et.width+2*this.$padding+"px",At=Et.minHeight+"px";st.setStyle(this.content.style,"width",Tt),st.setStyle(this.content.style,"height",At)}if(_t&this.CHANGE_H_SCROLL&&(st.translate(this.content,-this.scrollLeft,-Et.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),_t&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(Et),this.$showGutter&&this.$gutterLayer.update(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et),this.$markerBack.update(Et),this.$markerFront.update(Et),this.$cursorLayer.update(Et),this.$moveTextAreaToCursor(),this._signal("afterRender",_t);return}if(_t&this.CHANGE_SCROLL){this.$changedLines=null,_t&this.CHANGE_TEXT||_t&this.CHANGE_LINES?this.$textLayer.update(Et):this.$textLayer.scrollLines(Et),this.$showGutter&&(_t&this.CHANGE_GUTTER||_t&this.CHANGE_LINES?this.$gutterLayer.update(Et):this.$gutterLayer.scrollLines(Et)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et),this.$markerBack.update(Et),this.$markerFront.update(Et),this.$cursorLayer.update(Et),this.$moveTextAreaToCursor(),this._signal("afterRender",_t);return}_t&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(Et),this.$showGutter&&this.$gutterLayer.update(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et)):_t&this.CHANGE_LINES?((this.$updateLines()||_t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et)):_t&this.CHANGE_TEXT||_t&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et)):_t&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(Et),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Et)),_t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(Et),this.$moveTextAreaToCursor()),_t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(Et),_t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(Et),this._signal("afterRender",_t)},yt.prototype.$autosize=function(){var _t=this.session.getScreenLength()*this.lineHeight,kt=this.$maxLines*this.lineHeight,Et=Math.min(kt,Math.max((this.$minLines||1)*this.lineHeight,_t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(Et+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&Et>this.$maxPixelHeight&&(Et=this.$maxPixelHeight);var $t=Et<=2*this.lineHeight,Tt=!$t&&_t>kt;if(Et!=this.desiredHeight||this.$size.height!=this.desiredHeight||Tt!=this.$vScroll){Tt!=this.$vScroll&&(this.$vScroll=Tt,this.scrollBarV.setVisible(Tt));var At=this.container.clientWidth;this.container.style.height=Et+"px",this.$updateCachedSize(!0,this.$gutterWidth,At,Et),this.desiredHeight=Et,this._signal("autosize")}},yt.prototype.$computeLayerConfig=function(){var _t=this.session,kt=this.$size,Et=kt.height<=2*this.lineHeight,$t=this.session.getScreenLength(),Tt=$t*this.lineHeight,At=this.$getLongestLine(),Mt=!Et&&(this.$hScrollBarAlwaysVisible||kt.scrollerWidth-At-2*this.$padding<0),Ot=this.$horizScroll!==Mt;Ot&&(this.$horizScroll=Mt,this.scrollBarH.setVisible(Mt));var Pt=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Ft=kt.scrollerHeight+this.lineHeight,zt=!this.$maxLines&&this.$scrollPastEnd?(kt.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;Tt+=zt;var qt=this.scrollMargin;this.session.setScrollTop(Math.max(-qt.top,Math.min(this.scrollTop,Tt-kt.scrollerHeight+qt.bottom))),this.session.setScrollLeft(Math.max(-qt.left,Math.min(this.scrollLeft,At+2*this.$padding-kt.scrollerWidth+qt.right)));var Gt=!Et&&(this.$vScrollBarAlwaysVisible||kt.scrollerHeight-Tt+zt<0||this.scrollTop>qt.top),Wt=Pt!==Gt;Wt&&(this.$vScroll=Gt,this.scrollBarV.setVisible(Gt));var Xt=this.scrollTop%this.lineHeight,rr=Math.ceil(Ft/this.lineHeight)-1,tr=Math.max(0,Math.round((this.scrollTop-Xt)/this.lineHeight)),mr=tr+rr,yr,xr,vr=this.lineHeight;tr=_t.screenToDocumentRow(tr,0);var ir=_t.getFoldLine(tr);ir&&(tr=ir.start.row),yr=_t.documentToScreenRow(tr,0),xr=_t.getRowLength(tr)*vr,mr=Math.min(_t.screenToDocumentRow(mr,0),_t.getLength()-1),Ft=kt.scrollerHeight+_t.getRowLength(mr)*vr+xr,Xt=this.scrollTop-yr*vr;var sr=0;return(this.layerConfig.width!=At||Ot)&&(sr=this.CHANGE_H_SCROLL),(Ot||Wt)&&(sr|=this.$updateCachedSize(!0,this.gutterWidth,kt.width,kt.height),this._signal("scrollbarVisibilityChanged"),Wt&&(At=this.$getLongestLine())),this.layerConfig={width:At,padding:this.$padding,firstRow:tr,firstRowScreen:yr,lastRow:mr,lineHeight:vr,characterWidth:this.characterWidth,minHeight:Ft,maxHeight:Tt,offset:Xt,gutterOffset:vr?Math.max(0,Math.ceil((Xt+kt.height-kt.scrollerHeight)/vr)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(At-this.$padding),sr},yt.prototype.$updateLines=function(){if(this.$changedLines){var _t=this.$changedLines.firstRow,kt=this.$changedLines.lastRow;this.$changedLines=null;var Et=this.layerConfig;if(!(_t>Et.lastRow+1)&&!(kt<Et.firstRow)){if(kt===1/0){this.$showGutter&&this.$gutterLayer.update(Et),this.$textLayer.update(Et);return}return this.$textLayer.updateLines(Et,_t,kt),!0}}},yt.prototype.$getLongestLine=function(){var _t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(_t+=1),this.$textLayer&&_t>this.$textLayer.MAX_LINE_LENGTH&&(_t=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(_t*this.characterWidth))},yt.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},yt.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},yt.prototype.addGutterDecoration=function(_t,kt){this.$gutterLayer.addGutterDecoration(_t,kt)},yt.prototype.removeGutterDecoration=function(_t,kt){this.$gutterLayer.removeGutterDecoration(_t,kt)},yt.prototype.updateBreakpoints=function(_t){this._rows=_t,this.$loop.schedule(this.CHANGE_GUTTER)},yt.prototype.setAnnotations=function(_t){this.$gutterLayer.setAnnotations(_t),this.$loop.schedule(this.CHANGE_GUTTER)},yt.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},yt.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},yt.prototype.showCursor=function(){this.$cursorLayer.showCursor()},yt.prototype.scrollSelectionIntoView=function(_t,kt,Et){this.scrollCursorIntoView(_t,Et),this.scrollCursorIntoView(kt,Et)},yt.prototype.scrollCursorIntoView=function(_t,kt,Et){if(this.$size.scrollerHeight!==0){var $t=this.$cursorLayer.getPixelPosition(_t),Tt=$t.left,At=$t.top,Mt=Et&&Et.top||0,Ot=Et&&Et.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var Pt=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;Pt+Mt>At?(kt&&Pt+Mt>At+this.lineHeight&&(At-=kt*this.$size.scrollerHeight),At===0&&(At=-this.scrollMargin.top),this.session.setScrollTop(At)):Pt+this.$size.scrollerHeight-Ot<At+this.lineHeight&&(kt&&Pt+this.$size.scrollerHeight-Ot<At-this.lineHeight&&(At+=kt*this.$size.scrollerHeight),this.session.setScrollTop(At+this.lineHeight+Ot-this.$size.scrollerHeight));var Ft=this.scrollLeft,zt=2*this.layerConfig.characterWidth;Tt-zt<Ft?(Tt-=zt,Tt<this.$padding+zt&&(Tt=-this.scrollMargin.left),this.session.setScrollLeft(Tt)):(Tt+=zt,Ft+this.$size.scrollerWidth<Tt+this.characterWidth?this.session.setScrollLeft(Math.round(Tt+this.characterWidth-this.$size.scrollerWidth)):Ft<=this.$padding&&Tt-Ft<this.characterWidth&&this.session.setScrollLeft(0))}},yt.prototype.getScrollTop=function(){return this.session.getScrollTop()},yt.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},yt.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},yt.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},yt.prototype.scrollToRow=function(_t){this.session.setScrollTop(_t*this.lineHeight)},yt.prototype.alignCursor=function(_t,kt){typeof _t=="number"&&(_t={row:_t,column:0});var Et=this.$cursorLayer.getPixelPosition(_t),$t=this.$size.scrollerHeight-this.lineHeight,Tt=Et.top-$t*(kt||0);return this.session.setScrollTop(Tt),Tt},yt.prototype.$calcSteps=function(_t,kt){var Et=0,$t=this.STEPS,Tt=[],At=function(Mt,Ot,Pt){return Pt*(Math.pow(Mt-1,3)+1)+Ot};for(Et=0;Et<$t;++Et)Tt.push(At(Et/this.STEPS,_t,kt-_t));return Tt},yt.prototype.scrollToLine=function(_t,kt,Et,$t){var Tt=this.$cursorLayer.getPixelPosition({row:_t,column:0}),At=Tt.top;kt&&(At-=this.$size.scrollerHeight/2);var Mt=this.scrollTop;this.session.setScrollTop(At),Et!==!1&&this.animateScrolling(Mt,$t)},yt.prototype.animateScrolling=function(_t,kt){var Et=this.scrollTop;if(!this.$animatedScroll)return;var $t=this;if(_t==Et)return;if(this.$scrollAnimation){var Tt=this.$scrollAnimation.steps;if(Tt.length&&(_t=Tt[0],_t==Et))return}var At=$t.$calcSteps(_t,Et);this.$scrollAnimation={from:_t,to:Et,steps:At},clearInterval(this.$timer),$t.session.setScrollTop(At.shift()),$t.session.$scrollTop=Et;function Mt(){$t.$timer=clearInterval($t.$timer),$t.$scrollAnimation=null,$t.$stopAnimation=!1,kt&&kt()}this.$timer=setInterval(function(){if($t.$stopAnimation){Mt();return}if(!$t.session)return clearInterval($t.$timer);At.length?($t.session.setScrollTop(At.shift()),$t.session.$scrollTop=Et):Et!=null?($t.session.$scrollTop=-1,$t.session.setScrollTop(Et),Et=null):Mt()},10)},yt.prototype.scrollToY=function(_t){this.scrollTop!==_t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=_t)},yt.prototype.scrollToX=function(_t){this.scrollLeft!==_t&&(this.scrollLeft=_t),this.$loop.schedule(this.CHANGE_H_SCROLL)},yt.prototype.scrollTo=function(_t,kt){this.session.setScrollTop(kt),this.session.setScrollLeft(_t)},yt.prototype.scrollBy=function(_t,kt){kt&&this.session.setScrollTop(this.session.getScrollTop()+kt),_t&&this.session.setScrollLeft(this.session.getScrollLeft()+_t)},yt.prototype.isScrollableBy=function(_t,kt){if(kt<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||kt>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||_t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||_t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},yt.prototype.pixelToScreenCoordinates=function(_t,kt){var Et;if(this.$hasCssTransforms){Et={top:0,left:0};var $t=this.$fontMetrics.transformCoordinates([_t,kt]);_t=$t[1]-this.gutterWidth-this.margin.left,kt=$t[0]}else Et=this.scroller.getBoundingClientRect();var Tt=_t+this.scrollLeft-Et.left-this.$padding,At=Tt/this.characterWidth,Mt=Math.floor((kt+this.scrollTop-Et.top)/this.lineHeight),Ot=this.$blockCursor?Math.floor(At):Math.round(At);return{row:Mt,column:Ot,side:At-Ot>0?1:-1,offsetX:Tt}},yt.prototype.screenToTextCoordinates=function(_t,kt){var Et;if(this.$hasCssTransforms){Et={top:0,left:0};var $t=this.$fontMetrics.transformCoordinates([_t,kt]);_t=$t[1]-this.gutterWidth-this.margin.left,kt=$t[0]}else Et=this.scroller.getBoundingClientRect();var Tt=_t+this.scrollLeft-Et.left-this.$padding,At=Tt/this.characterWidth,Mt=this.$blockCursor?Math.floor(At):Math.round(At),Ot=Math.floor((kt+this.scrollTop-Et.top)/this.lineHeight);return this.session.screenToDocumentPosition(Ot,Math.max(Mt,0),Tt)},yt.prototype.textToScreenCoordinates=function(_t,kt){var Et=this.scroller.getBoundingClientRect(),$t=this.session.documentToScreenPosition(_t,kt),Tt=this.$padding+(this.session.$bidiHandler.isBidiRow($t.row,_t)?this.session.$bidiHandler.getPosLeft($t.column):Math.round($t.column*this.characterWidth)),At=$t.row*this.lineHeight;return{pageX:Et.left+Tt-this.scrollLeft,pageY:Et.top+At-this.scrollTop}},yt.prototype.visualizeFocus=function(){st.addCssClass(this.container,"ace_focus")},yt.prototype.visualizeBlur=function(){st.removeCssClass(this.container,"ace_focus")},yt.prototype.showComposition=function(_t){this.$composition=_t,_t.cssText||(_t.cssText=this.textarea.style.cssText),_t.useTextareaForIME==null&&(_t.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(st.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):_t.markerId=this.session.addMarker(_t.markerRange,"ace_composition_marker","text")},yt.prototype.setCompositionText=function(_t){var kt=this.session.selection.cursor;this.addToken(_t,"composition_placeholder",kt.row,kt.column),this.$moveTextAreaToCursor()},yt.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),st.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var _t=this.session.selection.cursor;this.removeExtraToken(_t.row,_t.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},yt.prototype.setGhostText=function(_t,kt){var Et=this.session.selection.cursor,$t=kt||{row:Et.row,column:Et.column};this.removeGhostText();var Tt=this.$calculateWrappedTextChunks(_t,$t);this.addToken(Tt[0].text,"ghost_text",$t.row,$t.column),this.$ghostText={text:_t,position:{row:$t.row,column:$t.column}};var At=st.createElement("div");if(Tt.length>1){var Mt=this.hideTokensAfterPosition($t.row,$t.column),Ot;Tt.slice(1).forEach(function(Wt){var Xt=st.createElement("div"),rr=st.createElement("span");rr.className="ace_ghost_text",Wt.wrapped&&(Xt.className="ghost_text_line_wrapped"),Wt.text.length===0&&(Wt.text=" "),rr.appendChild(st.createTextNode(Wt.text)),Xt.appendChild(rr),At.appendChild(Xt),Ot=Xt}),Mt.forEach(function(Wt){var Xt=st.createElement("span");St(Wt.type)||(Xt.className="ace_"+Wt.type.replace(/\./g," ace_")),Xt.appendChild(st.createTextNode(Wt.value)),Ot.appendChild(Xt)}),this.$ghostTextWidget={el:At,row:$t.row,column:$t.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var Pt=this.$cursorLayer.getPixelPosition($t,!0),Ft=this.container,zt=Ft.getBoundingClientRect().height,qt=Tt.length*this.lineHeight,Gt=qt<zt-Pt.top;if(Gt)return;qt<zt?this.scrollBy(0,(Tt.length-1)*this.lineHeight):this.scrollToRow($t.row)}},yt.prototype.$calculateWrappedTextChunks=function(_t,kt){var Et=this.$size.scrollerWidth-this.$padding*2,$t=Math.floor(Et/this.characterWidth)-2;$t=$t<=0?60:$t;for(var Tt=_t.split(/\r?\n/),At=[],Mt=0;Mt<Tt.length;Mt++){var Ot=this.session.$getDisplayTokens(Tt[Mt],kt.column),Pt=this.session.$computeWrapSplits(Ot,$t,this.session.$tabSize);if(Pt.length>0){var Ft=0;Pt.push(Tt[Mt].length);for(var zt=0;zt<Pt.length;zt++){var qt=Tt[Mt].slice(Ft,Pt[zt]);At.push({text:qt,wrapped:!0}),Ft=Pt[zt]}}else At.push({text:Tt[Mt],wrapped:!1})}return At},yt.prototype.removeGhostText=function(){if(this.$ghostText){var _t=this.$ghostText.position;this.removeExtraToken(_t.row,_t.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},yt.prototype.addToken=function(_t,kt,Et,$t){var Tt=this.session;Tt.bgTokenizer.lines[Et]=null;var At={type:kt,value:_t},Mt=Tt.getTokens(Et);if($t==null||!Mt.length)Mt.push(At);else for(var Ot=0,Pt=0;Pt<Mt.length;Pt++){var Ft=Mt[Pt];if(Ot+=Ft.value.length,$t<=Ot){var zt=Ft.value.length-(Ot-$t),qt=Ft.value.slice(0,zt),Gt=Ft.value.slice(zt);Mt.splice(Pt,1,{type:Ft.type,value:qt},At,{type:Ft.type,value:Gt});break}}this.updateLines(Et,Et)},yt.prototype.hideTokensAfterPosition=function(_t,kt){for(var Et=this.session.getTokens(_t),$t=0,Tt=!1,At=[],Mt=0;Mt<Et.length;Mt++){var Ot=Et[Mt];if($t+=Ot.value.length,Ot.type!=="ghost_text"){if(Tt){At.push({type:Ot.type,value:Ot.value}),Ot.type="hidden_token";continue}$t===kt&&(Tt=!0)}}return this.updateLines(_t,_t),At},yt.prototype.removeExtraToken=function(_t,kt){this.session.bgTokenizer.lines[_t]=null,this.updateLines(_t,_t)},yt.prototype.setTheme=function(_t,kt){var Et=this;if(this.$themeId=_t,Et._dispatchEvent("themeChange",{theme:_t}),!_t||typeof _t=="string"){var $t=_t||this.$options.theme.initialValue;rt.loadModule(["theme",$t],Tt)}else Tt(_t);function Tt(At){if(Et.$themeId!=_t)return kt&&kt();if(!At||!At.cssClass)throw new Error("couldn't load module "+_t+" or it didn't call define");At.$id&&(Et.$themeId=At.$id),st.importCssString(At.cssText,At.cssClass,Et.container),Et.theme&&st.removeCssClass(Et.container,Et.theme.cssClass);var Mt="padding"in At?At.padding:"padding"in(Et.theme||{})?4:Et.$padding;Et.$padding&&Mt!=Et.$padding&&Et.setPadding(Mt),Et.$theme=At.cssClass,Et.theme=At,st.addCssClass(Et.container,At.cssClass),st.setCssClass(Et.container,"ace_dark",At.isDark),Et.$size&&(Et.$size.width=0,Et.$updateSizeAsync()),Et._dispatchEvent("themeLoaded",{theme:At}),kt&&kt(),lt.isSafari&&Et.scroller&&(Et.scroller.style.background="red",Et.scroller.style.background="")}},yt.prototype.getTheme=function(){return this.$themeId},yt.prototype.setStyle=function(_t,kt){st.setCssClass(this.container,_t,kt!==!1)},yt.prototype.unsetStyle=function(_t){st.removeCssClass(this.container,_t)},yt.prototype.setCursorStyle=function(_t){st.setStyle(this.scroller.style,"cursor",_t)},yt.prototype.setMouseCursor=function(_t){st.setStyle(this.scroller.style,"cursor",_t)},yt.prototype.attachToShadowRoot=function(){st.importCssString(mt,"ace_editor.css",this.container)},yt.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},yt.prototype.$updateCustomScrollbar=function(_t){var kt=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,_t===!0?(this.scrollBarV=new ct(this.container,this),this.scrollBarH=new at(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(Et){kt.$scrollAnimation||kt.session.setScrollTop(Et.data-kt.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(Et){kt.$scrollAnimation||kt.session.setScrollLeft(Et.data-kt.scrollMargin.left)}),this.$scrollDecorator=new gt(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new nt(this.container,this),this.scrollBarH=new et(this.container,this),this.scrollBarV.addEventListener("scroll",function(Et){kt.$scrollAnimation||kt.session.setScrollTop(Et.data-kt.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(Et){kt.$scrollAnimation||kt.session.setScrollLeft(Et.data-kt.scrollMargin.left)}))},yt.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var _t=this;this.$resizeTimer=ot.delayedCall(function(){_t.destroyed||_t.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(kt){var Et=kt[0].contentRect.width,$t=kt[0].contentRect.height;Math.abs(_t.$size.width-Et)>1||Math.abs(_t.$size.height-$t)>1?_t.$resizeTimer.delay():_t.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},yt}();xt.prototype.CHANGE_CURSOR=1,xt.prototype.CHANGE_MARKER=2,xt.prototype.CHANGE_GUTTER=4,xt.prototype.CHANGE_SCROLL=8,xt.prototype.CHANGE_LINES=16,xt.prototype.CHANGE_TEXT=32,xt.prototype.CHANGE_SIZE=64,xt.prototype.CHANGE_MARKER_BACK=128,xt.prototype.CHANGE_MARKER_FRONT=256,xt.prototype.CHANGE_FULL=512,xt.prototype.CHANGE_H_SCROLL=1024,xt.prototype.$changes=0,xt.prototype.$padding=null,xt.prototype.$frozen=!1,xt.prototype.STEPS=8,_e.implement(xt.prototype,dt),rt.defineOptions(xt.prototype,"renderer",{useResizeObserver:{set:function(yt){!yt&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):yt&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(yt){this.$textLayer.setShowInvisibles(yt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(yt){typeof yt=="number"&&(this.$printMarginColumn=yt),this.$showPrintMargin=!!yt,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(yt){this.$gutter.style.display=yt?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(yt){this.$gutterLayer.$useSvgGutterIcons=yt},initialValue:!1},showFoldedAnnotations:{set:function(yt){this.$gutterLayer.$showFoldedAnnotations=yt},initialValue:!1},fadeFoldWidgets:{set:function(yt){st.setCssClass(this.$gutter,"ace_fade-fold-widgets",yt)},initialValue:!1},showFoldWidgets:{set:function(yt){this.$gutterLayer.setShowFoldWidgets(yt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(yt){this.$textLayer.setDisplayIndentGuides(yt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(yt){this.$textLayer.setHighlightIndentGuides(yt)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(yt){this.$gutterLayer.setHighlightGutterLine(yt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(yt){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(yt){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(yt){typeof yt=="number"&&(yt=yt+"px"),this.container.style.fontSize=yt,this.updateFontSize()},initialValue:12},fontFamily:{set:function(yt){this.container.style.fontFamily=yt,this.updateFontSize()}},maxLines:{set:function(yt){this.updateFull()}},minLines:{set:function(yt){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(yt){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(yt){yt=+yt||0,this.$scrollPastEnd!=yt&&(this.$scrollPastEnd=yt,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(yt){this.$gutterLayer.$fixedWidth=!!yt,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(yt){this.$updateCustomScrollbar(yt)},initialValue:!1},theme:{set:function(yt){this.setTheme(yt)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!lt.isMobile&&!lt.isIE}}),a.VirtualRenderer=xt}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(o,a,tt){var _e=o("../lib/oop"),st=o("../lib/net"),ot=o("../lib/event_emitter").EventEmitter,rt=o("../config");function it(et){var nt="importScripts('"+st.qualifyURL(et)+"');";try{return new Blob([nt],{type:"application/javascript"})}catch{var at=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,ct=new at;return ct.append(nt),ct.getBlob("application/javascript")}}function j(et){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(rt.get("loadWorkerFromBlob")){var nt=it(et),at=window.URL||window.webkitURL,ct=at.createObjectURL(nt);return new Worker(ct)}return new Worker(et)}var _=function(et){et.postMessage||(et=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=et,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){_e.implement(this,ot),this.$createWorkerFromOldConfig=function(et,nt,at,ct,ht){if(o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl),rt.get("packaged")||!o.toUrl)ct=ct||rt.moduleUrl(nt,"worker");else{var ut=this.$normalizePath;ct=ct||ut(o.toUrl("ace/worker/worker.js",null,"_"));var dt={};et.forEach(function(mt){dt[mt]=ut(o.toUrl(mt,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=j(ct),ht&&this.send("importScripts",ht),this.$worker.postMessage({init:!0,tlns:dt,module:nt,classname:at}),this.$worker},this.onMessage=function(et){var nt=et.data;switch(nt.type){case"event":this._signal(nt.name,{data:nt.data});break;case"call":var at=this.callbacks[nt.id];at&&(at(nt.data),delete this.callbacks[nt.id]);break;case"error":this.reportError(nt.data);break;case"log":window.console&&console.log&&console.log.apply(console,nt.data);break}},this.reportError=function(et){window.console&&console.error&&console.error(et)},this.$normalizePath=function(et){return st.qualifyURL(et)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(et){et.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(et,nt){this.$worker.postMessage({command:et,args:nt})},this.call=function(et,nt,at){if(at){var ct=this.callbackId++;this.callbacks[ct]=at,nt.push(ct)}this.send(et,nt)},this.emit=function(et,nt){try{nt.data&&nt.data.err&&(nt.data.err={message:nt.data.err.message,stack:nt.data.err.stack,code:nt.data.err.code}),this.$worker&&this.$worker.postMessage({event:et,data:{data:nt.data}})}catch(at){console.error(at.stack)}},this.attachToDocument=function(et){this.$doc&&this.terminate(),this.$doc=et,this.call("setValue",[et.getValue()]),et.on("change",this.changeListener,!0)},this.changeListener=function(et){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),et.action=="insert"?this.deltaQueue.push(et.start,et.lines):this.deltaQueue.push(et.start,et.end)},this.$sendDeltaQueue=function(){var et=this.deltaQueue;et&&(this.deltaQueue=null,et.length>50&&et.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:et}))}}).call(_.prototype);var $=function(et,nt,at){var ct=null,ht=!1,ut=Object.create(ot),dt=[],mt=new _({messageBuffer:dt,terminate:function(){},postMessage:function(lt){dt.push(lt),ct&&(ht?setTimeout(gt):gt())}});mt.setEmitSync=function(lt){ht=lt};var gt=function(){var lt=dt.shift();lt.command?ct[lt.command].apply(ct,lt.args):lt.event&&ut._signal(lt.event,lt.data)};return ut.postMessage=function(lt){mt.onMessage({data:lt})},ut.callback=function(lt,St){this.postMessage({type:"call",id:St,data:lt})},ut.emit=function(lt,St){this.postMessage({type:"event",name:lt,data:St})},rt.loadModule(["worker",nt],function(lt){for(ct=new lt[at](ut);dt.length;)gt()}),mt};a.UIWorkerClient=$,a.WorkerClient=_,a.createWorker=j}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(o,a,tt){var _e=o("./range").Range,st=o("./lib/event_emitter").EventEmitter,ot=o("./lib/oop"),rt=function(){function it(j,_,$,et,nt,at){var ct=this;this.length=_,this.session=j,this.doc=j.getDocument(),this.mainClass=nt,this.othersClass=at,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=et,this.$onCursorChange=function(){setTimeout(function(){ct.onCursorChange()})},this.$pos=$;var ht=j.getUndoManager().$undoStack||j.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=ht.length,this.setup(),j.selection.on("changeCursor",this.$onCursorChange)}return it.prototype.setup=function(){var j=this,_=this.doc,$=this.session;this.selectionBefore=$.selection.toJSON(),$.selection.inMultiSelectMode&&$.selection.toSingleRange(),this.pos=_.createAnchor(this.$pos.row,this.$pos.column);var et=this.pos;et.$insertRight=!0,et.detach(),et.markerId=$.addMarker(new _e(et.row,et.column,et.row,et.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(nt){var at=_.createAnchor(nt.row,nt.column);at.$insertRight=!0,at.detach(),j.others.push(at)}),$.setUndoSelect(!1)},it.prototype.showOtherMarkers=function(){if(!this.othersActive){var j=this.session,_=this;this.othersActive=!0,this.others.forEach(function($){$.markerId=j.addMarker(new _e($.row,$.column,$.row,$.column+_.length),_.othersClass,null,!1)})}},it.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var j=0;j<this.others.length;j++)this.session.removeMarker(this.others[j].markerId)}},it.prototype.onUpdate=function(j){if(this.$updating)return this.updateAnchors(j);var _=j;if(_.start.row===_.end.row&&_.start.row===this.pos.row){this.$updating=!0;var $=j.action==="insert"?_.end.column-_.start.column:_.start.column-_.end.column,et=_.start.column>=this.pos.column&&_.start.column<=this.pos.column+this.length+1,nt=_.start.column-this.pos.column;if(this.updateAnchors(j),et&&(this.length+=$),et&&!this.session.$fromUndo){if(j.action==="insert")for(var at=this.others.length-1;at>=0;at--){var ct=this.others[at],ht={row:ct.row,column:ct.column+nt};this.doc.insertMergedLines(ht,j.lines)}else if(j.action==="remove")for(var at=this.others.length-1;at>=0;at--){var ct=this.others[at],ht={row:ct.row,column:ct.column+nt};this.doc.remove(new _e(ht.row,ht.column,ht.row,ht.column-$))}}this.$updating=!1,this.updateMarkers()}},it.prototype.updateAnchors=function(j){this.pos.onChange(j);for(var _=this.others.length;_--;)this.others[_].onChange(j);this.updateMarkers()},it.prototype.updateMarkers=function(){if(!this.$updating){var j=this,_=this.session,$=function(nt,at){_.removeMarker(nt.markerId),nt.markerId=_.addMarker(new _e(nt.row,nt.column,nt.row,nt.column+j.length),at,null,!1)};$(this.pos,this.mainClass);for(var et=this.others.length;et--;)$(this.others[et],this.othersClass)}},it.prototype.onCursorChange=function(j){if(!(this.$updating||!this.session)){var _=this.session.selection.getCursor();_.row===this.pos.row&&_.column>=this.pos.column&&_.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",j)):(this.hideOtherMarkers(),this._emit("cursorLeave",j))}},it.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},it.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var j=this.session.getUndoManager(),_=(j.$undoStack||j.$undostack).length-this.$undoStackDepth,$=0;$<_;$++)j.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},it}();ot.implement(rt.prototype,st),a.PlaceHolder=rt}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(o,a,tt){var _e=o("../lib/event"),st=o("../lib/useragent");function ot(it,j){return it.row==j.row&&it.column==j.column}function rt(it){var j=it.domEvent,_=j.altKey,$=j.shiftKey,et=j.ctrlKey,nt=it.getAccelKey(),at=it.getButton();if(et&&st.isMac&&(at=j.button),it.editor.inMultiSelectMode&&at==2){it.editor.textInput.onContextMenu(it.domEvent);return}if(!et&&!_&&!nt){at===0&&it.editor.inMultiSelectMode&&it.editor.exitMultiSelectMode();return}if(at===0){var ct=it.editor,ht=ct.selection,ut=ct.inMultiSelectMode,dt=it.getDocumentPosition(),mt=ht.getCursor(),gt=it.inSelection()||ht.isEmpty()&&ot(dt,mt),lt=it.x,St=it.y,xt=function(qt){lt=qt.clientX,St=qt.clientY},yt=ct.session,_t=ct.renderer.pixelToScreenCoordinates(lt,St),kt=_t,Et;if(ct.$mouseHandler.$enableJumpToDef)et&&_||nt&&_?Et=$?"block":"add":_&&ct.$blockSelectEnabled&&(Et="block");else if(nt&&!_){if(Et="add",!ut&&$)return}else _&&ct.$blockSelectEnabled&&(Et="block");if(Et&&st.isMac&&j.ctrlKey&&ct.$mouseHandler.cancelContextMenu(),Et=="add"){if(!ut&&gt)return;if(!ut){var $t=ht.toOrientedRange();ct.addSelectionMarker($t)}var Tt=ht.rangeList.rangeAtPoint(dt);ct.inVirtualSelectionMode=!0,$&&(Tt=null,$t=ht.ranges[0]||$t,ct.removeSelectionMarker($t)),ct.once("mouseup",function(){var qt=ht.toOrientedRange();Tt&&qt.isEmpty()&&ot(Tt.cursor,qt.cursor)?ht.substractPoint(qt.cursor):($?ht.substractPoint($t.cursor):$t&&(ct.removeSelectionMarker($t),ht.addRange($t)),ht.addRange(qt)),ct.inVirtualSelectionMode=!1})}else if(Et=="block"){it.stop(),ct.inVirtualSelectionMode=!0;var At,Mt=[],Ot=function(){var qt=ct.renderer.pixelToScreenCoordinates(lt,St),Gt=yt.screenToDocumentPosition(qt.row,qt.column,qt.offsetX);ot(kt,qt)&&ot(Gt,ht.lead)||(kt=qt,ct.selection.moveToPosition(Gt),ct.renderer.scrollCursorIntoView(),ct.removeSelectionMarkers(Mt),Mt=ht.rectangularRangeBlock(kt,_t),ct.$mouseHandler.$clickSelection&&Mt.length==1&&Mt[0].isEmpty()&&(Mt[0]=ct.$mouseHandler.$clickSelection.clone()),Mt.forEach(ct.addSelectionMarker,ct),ct.updateSelectionMarkers())};ut&&!nt?ht.toSingleRange():!ut&&nt&&(At=ht.toOrientedRange(),ct.addSelectionMarker(At)),$?_t=yt.documentToScreenPosition(ht.lead):ht.moveToPosition(dt),kt={row:-1,column:-1};var Pt=function(qt){Ot(),clearInterval(zt),ct.removeSelectionMarkers(Mt),Mt.length||(Mt=[ht.toOrientedRange()]),At&&(ct.removeSelectionMarker(At),ht.toSingleRange(At));for(var Gt=0;Gt<Mt.length;Gt++)ht.addRange(Mt[Gt]);ct.inVirtualSelectionMode=!1,ct.$mouseHandler.$clickSelection=null},Ft=Ot;_e.capture(ct.container,xt,Pt);var zt=setInterval(function(){Ft()},20);return it.preventDefault()}}}a.onMouseDown=rt}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(o,a,tt){a.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(st){st.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(st){st.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(st){st.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(st){st.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(st){st.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(st){st.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(st){st.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(st){st.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(st){st.multiSelect.rangeCount>1?st.multiSelect.joinSelections():st.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(st){st.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(st){st.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(st){st.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],a.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(st){st.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(st){return st&&st.inMultiSelectMode}}];var _e=o("../keyboard/hash_handler").HashHandler;a.keyboardHandler=new _e(a.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(o,a,tt){var _e=o("./range_list").RangeList,st=o("./range").Range,ot=o("./selection").Selection,rt=o("./mouse/multi_select_handler").onMouseDown,it=o("./lib/event"),j=o("./lib/lang"),_=o("./commands/multi_select_commands");a.commands=_.defaultCommands.concat(_.multiSelectCommands);var $=o("./search").Search,et=new $;function nt(mt,gt,lt){return et.$options.wrap=!0,et.$options.needle=gt,et.$options.backwards=lt==-1,et.find(mt)}var at=o("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(at.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(mt,gt){if(mt){if(!this.inMultiSelectMode&&this.rangeCount===0){var lt=this.toOrientedRange();if(this.rangeList.add(lt),this.rangeList.add(mt),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),gt||this.fromOrientedRange(mt);this.rangeList.removeAll(),this.rangeList.add(lt),this.$onAddRange(lt)}mt.cursor||(mt.cursor=mt.end);var St=this.rangeList.add(mt);return this.$onAddRange(mt),St.length&&this.$onRemoveRange(St),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),gt||this.fromOrientedRange(mt)}},this.toSingleRange=function(mt){mt=mt||this.ranges[0];var gt=this.rangeList.removeAll();gt.length&&this.$onRemoveRange(gt),mt&&this.fromOrientedRange(mt)},this.substractPoint=function(mt){var gt=this.rangeList.substractPoint(mt);if(gt)return this.$onRemoveRange(gt),gt[0]},this.mergeOverlappingRanges=function(){var mt=this.rangeList.merge();mt.length&&this.$onRemoveRange(mt)},this.$onAddRange=function(mt){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(mt),this._signal("addRange",{range:mt})},this.$onRemoveRange=function(mt){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var gt=this.rangeList.ranges.pop();mt.push(gt),this.rangeCount=0}for(var lt=mt.length;lt--;){var St=this.ranges.indexOf(mt[lt]);this.ranges.splice(St,1)}this._signal("removeRange",{ranges:mt}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),gt=gt||this.ranges[0],gt&&!gt.isEqual(this.getRange())&&this.fromOrientedRange(gt)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new _e,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var mt=this.ranges.length?this.ranges:[this.getRange()],gt=[],lt=0;lt<mt.length;lt++){var St=mt[lt],xt=St.start.row,yt=St.end.row;if(xt===yt)gt.push(St.clone());else{for(gt.push(new st(xt,St.start.column,xt,this.session.getLine(xt).length));++xt<yt;)gt.push(this.getLineRange(xt,!0));gt.push(new st(yt,0,yt,St.end.column))}lt==0&&!this.isBackwards()&&(gt=gt.reverse())}this.toSingleRange();for(var lt=gt.length;lt--;)this.addRange(gt[lt])},this.joinSelections=function(){var mt=this.rangeList.ranges,gt=mt[mt.length-1],lt=st.fromPoints(mt[0].start,gt.end);this.toSingleRange(),this.setSelectionRange(lt,gt.cursor==gt.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var mt=this.rangeList.ranges,gt=mt[mt.length-1],lt=st.fromPoints(mt[0].start,gt.end);this.toSingleRange(),this.setSelectionRange(lt,gt.cursor==gt.start)}else{var St=this.session.documentToScreenPosition(this.cursor),xt=this.session.documentToScreenPosition(this.anchor),yt=this.rectangularRangeBlock(St,xt);yt.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(mt,gt,lt){var St=[],xt=mt.column<gt.column;if(xt)var yt=mt.column,_t=gt.column,kt=mt.offsetX,Et=gt.offsetX;else var yt=gt.column,_t=mt.column,kt=gt.offsetX,Et=mt.offsetX;var $t=mt.row<gt.row;if($t)var Tt=mt.row,At=gt.row;else var Tt=gt.row,At=mt.row;yt<0&&(yt=0),Tt<0&&(Tt=0),Tt==At&&(lt=!0);for(var Mt,Ot=Tt;Ot<=At;Ot++){var Pt=st.fromPoints(this.session.screenToDocumentPosition(Ot,yt,kt),this.session.screenToDocumentPosition(Ot,_t,Et));if(Pt.isEmpty()){if(Mt&&ht(Pt.end,Mt))break;Mt=Pt.end}Pt.cursor=xt?Pt.start:Pt.end,St.push(Pt)}if($t&&St.reverse(),!lt){for(var Ft=St.length-1;St[Ft].isEmpty()&&Ft>0;)Ft--;if(Ft>0)for(var zt=0;St[zt].isEmpty();)zt++;for(var qt=Ft;qt>=zt;qt--)St[qt].isEmpty()&&St.splice(qt,1)}return St}}).call(ot.prototype);var ct=o("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(mt){mt.cursor||(mt.cursor=mt.end);var gt=this.getSelectionStyle();return mt.marker=this.session.addMarker(mt,"ace_selection",gt),this.session.$selectionMarkers.push(mt),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,mt},this.removeSelectionMarker=function(mt){if(mt.marker){this.session.removeMarker(mt.marker);var gt=this.session.$selectionMarkers.indexOf(mt);gt!=-1&&this.session.$selectionMarkers.splice(gt,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(mt){for(var gt=this.session.$selectionMarkers,lt=mt.length;lt--;){var St=mt[lt];if(St.marker){this.session.removeMarker(St.marker);var xt=gt.indexOf(St);xt!=-1&&gt.splice(xt,1)}}this.session.selectionMarkerCount=gt.length},this.$onAddRange=function(mt){this.addSelectionMarker(mt.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(mt){this.removeSelectionMarkers(mt.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(mt){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(_.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(mt){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(_.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(mt){var gt=mt.command,lt=mt.editor;if(lt.multiSelect){if(gt.multiSelectAction)gt.multiSelectAction=="forEach"?St=lt.forEachSelection(gt,mt.args):gt.multiSelectAction=="forEachLine"?St=lt.forEachSelection(gt,mt.args,!0):gt.multiSelectAction=="single"?(lt.exitMultiSelectMode(),St=gt.exec(lt,mt.args||{})):St=gt.multiSelectAction(lt,mt.args||{});else{var St=gt.exec(lt,mt.args||{});lt.multiSelect.addRange(lt.multiSelect.toOrientedRange()),lt.multiSelect.mergeOverlappingRanges()}return St}},this.forEachSelection=function(mt,gt,lt){if(!this.inVirtualSelectionMode){var St=lt&&lt.keepOrder,xt=lt==!0||lt&&lt.$byLines,yt=this.session,_t=this.selection,kt=_t.rangeList,Et=(St?_t:kt).ranges,$t;if(!Et.length)return mt.exec?mt.exec(this,gt||{}):mt(this,gt||{});var Tt=_t._eventRegistry;_t._eventRegistry={};var At=new ot(yt);this.inVirtualSelectionMode=!0;for(var Mt=Et.length;Mt--;){if(xt)for(;Mt>0&&Et[Mt].start.row==Et[Mt-1].end.row;)Mt--;At.fromOrientedRange(Et[Mt]),At.index=Mt,this.selection=yt.selection=At;var Ot=mt.exec?mt.exec(this,gt||{}):mt(this,gt||{});!$t&&Ot!==void 0&&($t=Ot),At.toOrientedRange(Et[Mt])}At.detach(),this.selection=yt.selection=_t,this.inVirtualSelectionMode=!1,_t._eventRegistry=Tt,_t.mergeOverlappingRanges(),_t.ranges[0]&&_t.fromOrientedRange(_t.ranges[0]);var Pt=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Pt&&Pt.from==Pt.to&&this.renderer.animateScrolling(Pt.from),$t}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var mt="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var gt=this.multiSelect.rangeList.ranges,lt=[],St=0;St<gt.length;St++)lt.push(this.session.getTextRange(gt[St]));var xt=this.session.getDocument().getNewLineCharacter();mt=lt.join(xt),mt.length==(lt.length-1)*xt.length&&(mt="")}else this.selection.isEmpty()||(mt=this.session.getTextRange(this.getSelectionRange()));return mt},this.$checkMultiselectChange=function(mt,gt){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var lt=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&gt==this.multiSelect.anchor)return;var St=gt==this.multiSelect.anchor?lt.cursor==lt.start?lt.end:lt.start:lt.cursor;St.row!=gt.row||this.session.$clipPositionToDocument(St.row,St.column).column!=gt.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(mt,gt,lt){if(gt=gt||{},gt.needle=mt||gt.needle,gt.needle==null){var St=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();gt.needle=this.session.getTextRange(St)}this.$search.set(gt);var xt=this.$search.findAll(this.session);if(!xt.length)return 0;var yt=this.multiSelect;lt||yt.toSingleRange(xt[0]);for(var _t=xt.length;_t--;)yt.addRange(xt[_t],!0);return St&&yt.rangeList.rangeAtPoint(St.start)&&yt.addRange(St,!0),xt.length},this.selectMoreLines=function(mt,gt){var lt=this.selection.toOrientedRange(),St=lt.cursor==lt.end,xt=this.session.documentToScreenPosition(lt.cursor);this.selection.$desiredColumn&&(xt.column=this.selection.$desiredColumn);var yt=this.session.screenToDocumentPosition(xt.row+mt,xt.column);if(lt.isEmpty())var kt=yt;else var _t=this.session.documentToScreenPosition(St?lt.end:lt.start),kt=this.session.screenToDocumentPosition(_t.row+mt,_t.column);if(St){var Et=st.fromPoints(yt,kt);Et.cursor=Et.start}else{var Et=st.fromPoints(kt,yt);Et.cursor=Et.end}if(Et.desiredColumn=xt.column,!this.selection.inMultiSelectMode)this.selection.addRange(lt);else if(gt)var $t=lt.cursor;this.selection.addRange(Et),$t&&this.selection.substractPoint($t)},this.transposeSelections=function(mt){for(var gt=this.session,lt=gt.multiSelect,St=lt.ranges,xt=St.length;xt--;){var yt=St[xt];if(yt.isEmpty()){var _t=gt.getWordRange(yt.start.row,yt.start.column);yt.start.row=_t.start.row,yt.start.column=_t.start.column,yt.end.row=_t.end.row,yt.end.column=_t.end.column}}lt.mergeOverlappingRanges();for(var kt=[],xt=St.length;xt--;){var yt=St[xt];kt.unshift(gt.getTextRange(yt))}mt<0?kt.unshift(kt.pop()):kt.push(kt.shift());for(var xt=St.length;xt--;){var yt=St[xt],Et=yt.clone();gt.replace(yt,kt[xt]),yt.start.row=Et.start.row,yt.start.column=Et.start.column}lt.fromOrientedRange(lt.ranges[0])},this.selectMore=function(mt,gt,lt){var St=this.session,xt=St.multiSelect,yt=xt.toOrientedRange();if(!(yt.isEmpty()&&(yt=St.getWordRange(yt.start.row,yt.start.column),yt.cursor=mt==-1?yt.start:yt.end,this.multiSelect.addRange(yt),lt))){var _t=St.getTextRange(yt),kt=nt(St,_t,mt);kt&&(kt.cursor=mt==-1?kt.start:kt.end,this.session.unfold(kt),this.multiSelect.addRange(kt),this.renderer.scrollCursorIntoView(null,.5)),gt&&this.multiSelect.substractPoint(yt.cursor)}},this.alignCursors=function(){var mt=this.session,gt=mt.multiSelect,lt=gt.ranges,St=-1,xt=lt.filter(function(Ft){if(Ft.cursor.row==St)return!0;St=Ft.cursor.row});if(!lt.length||xt.length==lt.length-1){var yt=this.selection.getRange(),_t=yt.start.row,kt=yt.end.row,Et=_t==kt;if(Et){var $t=this.session.getLength(),Tt;do Tt=this.session.getLine(kt);while(/[=:]/.test(Tt)&&++kt<$t);do Tt=this.session.getLine(_t);while(/[=:]/.test(Tt)&&--_t>0);_t<0&&(_t=0),kt>=$t&&(kt=$t-1)}var At=this.session.removeFullLines(_t,kt);At=this.$reAlignText(At,Et),this.session.insert({row:_t,column:0},At.join(`
`)+`
`),Et||(yt.start.column=0,yt.end.column=At[At.length-1].length),this.selection.setRange(yt)}else{xt.forEach(function(Ft){gt.substractPoint(Ft.cursor)});var Mt=0,Ot=1/0,Pt=lt.map(function(Ft){var zt=Ft.cursor,qt=mt.getLine(zt.row),Gt=qt.substr(zt.column).search(/\S/g);return Gt==-1&&(Gt=0),zt.column>Mt&&(Mt=zt.column),Gt<Ot&&(Ot=Gt),Gt});lt.forEach(function(Ft,zt){var qt=Ft.cursor,Gt=Mt-qt.column,Wt=Pt[zt]-Ot;Gt>Wt?mt.insert(qt,j.stringRepeat(" ",Gt-Wt)):mt.remove(new st(qt.row,qt.column,qt.row,qt.column-Gt+Wt)),Ft.start.column=Ft.end.column=Mt,Ft.start.row=Ft.end.row=qt.row,Ft.cursor=Ft.end}),gt.fromOrientedRange(lt[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(mt,gt){var lt=!0,St=!0,xt,yt,_t;return mt.map(function(At){var Mt=At.match(/(\s*)(.*?)(\s*)([=:].*)/);return Mt?xt==null?(xt=Mt[1].length,yt=Mt[2].length,_t=Mt[3].length,Mt):(xt+yt+_t!=Mt[1].length+Mt[2].length+Mt[3].length&&(St=!1),xt!=Mt[1].length&&(lt=!1),xt>Mt[1].length&&(xt=Mt[1].length),yt<Mt[2].length&&(yt=Mt[2].length),_t>Mt[3].length&&(_t=Mt[3].length),Mt):[At]}).map(gt?Et:lt?St?$t:Et:Tt);function kt(At){return j.stringRepeat(" ",At)}function Et(At){return At[2]?kt(xt)+At[2]+kt(yt-At[2].length+_t)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}function $t(At){return At[2]?kt(xt+yt-At[2].length)+At[2]+kt(_t)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}function Tt(At){return At[2]?kt(xt)+At[2]+kt(_t)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}}}).call(ct.prototype);function ht(mt,gt){return mt.row==gt.row&&mt.column==gt.column}a.onSessionChange=function(mt){var gt=mt.session;gt&&!gt.multiSelect&&(gt.$selectionMarkers=[],gt.selection.$initRangeList(),gt.multiSelect=gt.selection),this.multiSelect=gt&&gt.multiSelect;var lt=mt.oldSession;lt&&(lt.multiSelect.off("addRange",this.$onAddRange),lt.multiSelect.off("removeRange",this.$onRemoveRange),lt.multiSelect.off("multiSelect",this.$onMultiSelect),lt.multiSelect.off("singleSelect",this.$onSingleSelect),lt.multiSelect.lead.off("change",this.$checkMultiselectChange),lt.multiSelect.anchor.off("change",this.$checkMultiselectChange)),gt&&(gt.multiSelect.on("addRange",this.$onAddRange),gt.multiSelect.on("removeRange",this.$onRemoveRange),gt.multiSelect.on("multiSelect",this.$onMultiSelect),gt.multiSelect.on("singleSelect",this.$onSingleSelect),gt.multiSelect.lead.on("change",this.$checkMultiselectChange),gt.multiSelect.anchor.on("change",this.$checkMultiselectChange)),gt&&this.inMultiSelectMode!=gt.selection.inMultiSelectMode&&(gt.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function ut(mt){mt.$multiselectOnSessionChange||(mt.$onAddRange=mt.$onAddRange.bind(mt),mt.$onRemoveRange=mt.$onRemoveRange.bind(mt),mt.$onMultiSelect=mt.$onMultiSelect.bind(mt),mt.$onSingleSelect=mt.$onSingleSelect.bind(mt),mt.$multiselectOnSessionChange=a.onSessionChange.bind(mt),mt.$checkMultiselectChange=mt.$checkMultiselectChange.bind(mt),mt.$multiselectOnSessionChange(mt),mt.on("changeSession",mt.$multiselectOnSessionChange),mt.on("mousedown",rt),mt.commands.addCommands(_.defaultCommands),dt(mt))}function dt(mt){if(!mt.textInput)return;var gt=mt.textInput.getElement(),lt=!1;it.addListener(gt,"keydown",function(xt){var yt=xt.keyCode==18&&!(xt.ctrlKey||xt.shiftKey||xt.metaKey);mt.$blockSelectEnabled&&yt?lt||(mt.renderer.setMouseCursor("crosshair"),lt=!0):lt&&St()},mt),it.addListener(gt,"keyup",St,mt),it.addListener(gt,"blur",St,mt);function St(xt){lt&&(mt.renderer.setMouseCursor(""),lt=!1)}}a.MultiSelect=ut,o("./config").defineOptions(ct.prototype,"editor",{enableMultiselect:{set:function(mt){ut(this),mt?this.on("mousedown",rt):this.off("mousedown",rt)},value:!0},enableBlockSelect:{set:function(mt){this.$blockSelectEnabled=mt},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(o,a,tt){var _e=o("../../range").Range,st=a.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(ot,rt,it){var j=ot.getLine(it);return this.foldingStartMarker.test(j)?"start":rt=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(j)?"end":""},this.getFoldWidgetRange=function(ot,rt,it){return null},this.indentationBlock=function(ot,rt,it){var j=/\S/,_=ot.getLine(rt),$=_.search(j);if($!=-1){for(var et=it||_.length,nt=ot.getLength(),at=rt,ct=rt;++rt<nt;){var ht=ot.getLine(rt).search(j);if(ht!=-1){if(ht<=$){var ut=ot.getTokenAt(rt,0);if(!ut||ut.type!=="string")break}ct=rt}}if(ct>at){var dt=ot.getLine(ct).length;return new _e(at,et,ct,dt)}}},this.openingBracketBlock=function(ot,rt,it,j,_){var $={row:it,column:j+1},et=ot.$findClosingBracket(rt,$,_);if(et){var nt=ot.foldWidgets[et.row];return nt==null&&(nt=ot.getFoldWidget(et.row)),nt=="start"&&et.row>$.row&&(et.row--,et.column=ot.getLine(et.row).length),_e.fromPoints($,et)}},this.closingBracketBlock=function(ot,rt,it,j,_){var $={row:it,column:j},et=ot.$findOpeningBracket(rt,$);if(et)return et.column++,$.column--,_e.fromPoints(et,$)}}).call(st.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(o,a,tt){var _e=o("../line_widgets").LineWidgets,st=o("../lib/dom"),ot=o("../range").Range,rt=o("../config").nls;function it(_,$,et){for(var nt=0,at=_.length-1;nt<=at;){var ct=nt+at>>1,ht=et($,_[ct]);if(ht>0)nt=ct+1;else if(ht<0)at=ct-1;else return ct}return-(nt+1)}function j(_,$,et){var nt=_.getAnnotations().sort(ot.comparePoints);if(nt.length){var at=it(nt,{row:$,column:-1},ot.comparePoints);at<0&&(at=-at-1),at>=nt.length?at=et>0?0:nt.length-1:at===0&&et<0&&(at=nt.length-1);var ct=nt[at];if(!(!ct||!et)){if(ct.row===$){do ct=nt[at+=et];while(ct&&ct.row===$);if(!ct)return nt.slice()}var ht=[];$=ct.row;do ht[et<0?"unshift":"push"](ct),ct=nt[at+=et];while(ct&&ct.row==$);return ht.length&&ht}}}a.showErrorMarker=function(_,$){var et=_.session;et.widgetManager||(et.widgetManager=new _e(et),et.widgetManager.attach(_));var nt=_.getCursorPosition(),at=nt.row,ct=et.widgetManager.getWidgetsAtRow(at).filter(function(yt){return yt.type=="errorMarker"})[0];ct?ct.destroy():at-=$;var ht=j(et,at,$),ut;if(ht){var dt=ht[0];nt.column=(dt.pos&&typeof dt.column!="number"?dt.pos.sc:dt.column)||0,nt.row=dt.row,ut=_.renderer.$gutterLayer.$annotations[nt.row]}else{if(ct)return;ut={displayText:[rt("error-marker.good-state","Looks good!")],className:"ace_ok"}}_.session.unfold(nt.row),_.selection.moveToPosition(nt);var mt={row:nt.row,fixedWidth:!0,coverGutter:!0,el:st.createElement("div"),type:"errorMarker"},gt=mt.el.appendChild(st.createElement("div")),lt=mt.el.appendChild(st.createElement("div"));lt.className="error_widget_arrow "+ut.className;var St=_.renderer.$cursorLayer.getPixelPosition(nt).left;lt.style.left=St+_.renderer.gutterWidth-5+"px",mt.el.className="error_widget_wrapper",gt.className="error_widget "+ut.className,ut.displayText.forEach(function(yt,_t){gt.appendChild(st.createTextNode(yt)),_t<ut.displayText.length-1&&gt.appendChild(st.createElement("br"))}),gt.appendChild(st.createElement("div"));var xt=function(yt,_t,kt){if(_t===0&&(kt==="esc"||kt==="return"))return mt.destroy(),{command:"null"}};mt.destroy=function(){_.$mouseHandler.isMousePressed||(_.keyBinding.removeKeyboardHandler(xt),et.widgetManager.removeLineWidget(mt),_.off("changeSelection",mt.destroy),_.off("changeSession",mt.destroy),_.off("mouseup",mt.destroy),_.off("change",mt.destroy))},_.keyBinding.addKeyboardHandler(xt),_.on("changeSelection",mt.destroy),_.on("changeSession",mt.destroy),_.on("mouseup",mt.destroy),_.on("change",mt.destroy),_.session.widgetManager.addLineWidget(mt),mt.el.onmousedown=_.focus.bind(_),_.renderer.scrollCursorIntoView(null,.5,{bottom:mt.el.offsetHeight})},st.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(o,a,tt){o("./loader_build")(a);var _e=o("./lib/dom"),st=o("./range").Range,ot=o("./editor").Editor,rt=o("./edit_session").EditSession,it=o("./undomanager").UndoManager,j=o("./virtual_renderer").VirtualRenderer;o("./worker/worker_client"),o("./keyboard/hash_handler"),o("./placeholder"),o("./multi_select"),o("./mode/folding/fold_mode"),o("./theme/textmate"),o("./ext/error_marker"),a.config=o("./config"),a.edit=function($,et){if(typeof $=="string"){var nt=$;if($=document.getElementById(nt),!$)throw new Error("ace.edit can't find div #"+nt)}if($&&$.env&&$.env.editor instanceof ot)return $.env.editor;var at="";if($&&/input|textarea/i.test($.tagName)){var ct=$;at=ct.value,$=_e.createElement("pre"),ct.parentNode.replaceChild($,ct)}else $&&(at=$.textContent,$.innerHTML="");var ht=a.createEditSession(at),ut=new ot(new j($),ht,et),dt={document:ht,editor:ut,onResize:ut.resize.bind(ut,null)};return ct&&(dt.textarea=ct),ut.on("destroy",function(){dt.editor.container.env=null}),ut.container.env=ut.env=dt,ut},a.createEditSession=function($,et){var nt=new rt($,et);return nt.setUndoManager(new it),nt},a.Range=st,a.Editor=ot,a.EditSession=rt,a.UndoManager=it,a.VirtualRenderer=j;var _=a.config.version;a.version=_}),function(){ace.require(["ace/ace"],function(o){o&&(o.config.init(!0),o.define=ace.define);var a=function(){return this}();!a&&typeof window<"u"&&(a=window),!a&&typeof self<"u"&&(a=self),a.ace||(a.ace=o);for(var tt in o)o.hasOwnProperty(tt)&&(a.ace[tt]=o[tt]);a.ace.default=a.ace,i&&(i.exports=a.ace)})}()})(ace$3);var aceExports=ace$3.exports,lodash_isequal={exports:{}};lodash_isequal.exports;(function(i,s){var o=200,a="__lodash_hash_undefined__",tt=1,_e=2,st=9007199254740991,ot="[object Arguments]",rt="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",et="[object Function]",nt="[object GeneratorFunction]",at="[object Map]",ct="[object Number]",ht="[object Null]",ut="[object Object]",dt="[object Promise]",mt="[object Proxy]",gt="[object RegExp]",lt="[object Set]",St="[object String]",xt="[object Symbol]",yt="[object Undefined]",_t="[object WeakMap]",kt="[object ArrayBuffer]",Et="[object DataView]",$t="[object Float32Array]",Tt="[object Float64Array]",At="[object Int8Array]",Mt="[object Int16Array]",Ot="[object Int32Array]",Pt="[object Uint8Array]",Ft="[object Uint8ClampedArray]",zt="[object Uint16Array]",qt="[object Uint32Array]",Gt=/[\\^$.*+?()[\]{}|]/g,Wt=/^\[object .+?Constructor\]$/,Xt=/^(?:0|[1-9]\d*)$/,rr={};rr[$t]=rr[Tt]=rr[At]=rr[Mt]=rr[Ot]=rr[Pt]=rr[Ft]=rr[zt]=rr[qt]=!0,rr[ot]=rr[rt]=rr[kt]=rr[j]=rr[Et]=rr[_]=rr[$]=rr[et]=rr[at]=rr[ct]=rr[ut]=rr[gt]=rr[lt]=rr[St]=rr[_t]=!1;var tr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,mr=typeof self=="object"&&self&&self.Object===Object&&self,yr=tr||mr||Function("return this")(),xr=s&&!s.nodeType&&s,vr=xr&&!0&&i&&!i.nodeType&&i,ir=vr&&vr.exports===xr,sr=ir&&tr.process,er=function(){try{return sr&&sr.binding&&sr.binding("util")}catch{}}(),Tr=er&&er.isTypedArray;function Cr(ar,jt){for(var or=-1,pr=ar==null?0:ar.length,Hr=0,qr=[];++or<pr;){var fn=ar[or];jt(fn,or,ar)&&(qr[Hr++]=fn)}return qr}function dr(ar,jt){for(var or=-1,pr=jt.length,Hr=ar.length;++or<pr;)ar[Hr+or]=jt[or];return ar}function Wr(ar,jt){for(var or=-1,pr=ar==null?0:ar.length;++or<pr;)if(jt(ar[or],or,ar))return!0;return!1}function Jr(ar,jt){for(var or=-1,pr=Array(ar);++or<ar;)pr[or]=jt(or);return pr}function nn(ar){return function(jt){return ar(jt)}}function Cn(ar,jt){return ar.has(jt)}function Vn(ar,jt){return ar==null?void 0:ar[jt]}function An(ar){var jt=-1,or=Array(ar.size);return ar.forEach(function(pr,Hr){or[++jt]=[Hr,pr]}),or}function pn(ar,jt){return function(or){return ar(jt(or))}}function Kn(ar){var jt=-1,or=Array(ar.size);return ar.forEach(function(pr){or[++jt]=pr}),or}var Pn=Array.prototype,wr=Function.prototype,zr=Object.prototype,$r=yr["__core-js_shared__"],hn=wr.toString,Jt=zr.hasOwnProperty,Kt=function(){var ar=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||"");return ar?"Symbol(src)_1."+ar:""}(),hr=zr.toString,Pr=RegExp("^"+hn.call(Jt).replace(Gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jr=ir?yr.Buffer:void 0,kr=yr.Symbol,Ar=yr.Uint8Array,Yr=zr.propertyIsEnumerable,un=Pn.splice,Or=kr?kr.toStringTag:void 0,Xr=Object.getOwnPropertySymbols,Ur=jr?jr.isBuffer:void 0,Vr=pn(Object.keys,Object),ln=Jn(yr,"DataView"),Er=Jn(yr,"Map"),dn=Jn(yr,"Promise"),bs=Jn(yr,"Set"),Ss=Jn(yr,"WeakMap"),Yn=Jn(Object,"create"),Xn=ft(ln),Ds=ft(Er),es=ft(dn),Cs=ft(bs),Is=ft(Ss),Bs=kr?kr.prototype:void 0,cs=Bs?Bs.valueOf:void 0;function hs(ar){var jt=-1,or=ar==null?0:ar.length;for(this.clear();++jt<or;){var pr=ar[jt];this.set(pr[0],pr[1])}}function Ns(){this.__data__=Yn?Yn(null):{},this.size=0}function sn(ar){var jt=this.has(ar)&&delete this.__data__[ar];return this.size-=jt?1:0,jt}function ds(ar){var jt=this.__data__;if(Yn){var or=jt[ar];return or===a?void 0:or}return Jt.call(jt,ar)?jt[ar]:void 0}function zs(ar){var jt=this.__data__;return Yn?jt[ar]!==void 0:Jt.call(jt,ar)}function ks(ar,jt){var or=this.__data__;return this.size+=this.has(ar)?0:1,or[ar]=Yn&&jt===void 0?a:jt,this}hs.prototype.clear=Ns,hs.prototype.delete=sn,hs.prototype.get=ds,hs.prototype.has=zs,hs.prototype.set=ks;function rs(ar){var jt=-1,or=ar==null?0:ar.length;for(this.clear();++jt<or;){var pr=ar[jt];this.set(pr[0],pr[1])}}function qs(){this.__data__=[],this.size=0}function js(ar){var jt=this.__data__,or=Zt(jt,ar);if(or<0)return!1;var pr=jt.length-1;return or==pr?jt.pop():un.call(jt,or,1),--this.size,!0}function Qs(ar){var jt=this.__data__,or=Zt(jt,ar);return or<0?void 0:jt[or][1]}function Zs(ar){return Zt(this.__data__,ar)>-1}function Us(ar,jt){var or=this.__data__,pr=Zt(or,ar);return pr<0?(++this.size,or.push([ar,jt])):or[pr][1]=jt,this}rs.prototype.clear=qs,rs.prototype.delete=js,rs.prototype.get=Qs,rs.prototype.has=Zs,rs.prototype.set=Us;function fs(ar){var jt=-1,or=ar==null?0:ar.length;for(this.clear();++jt<or;){var pr=ar[jt];this.set(pr[0],pr[1])}}function $s(){this.size=0,this.__data__={hash:new hs,map:new(Er||rs),string:new hs}}function Rs(ar){var jt=ms(this,ar).delete(ar);return this.size-=jt?1:0,jt}function ws(ar){return ms(this,ar).get(ar)}function Ws(ar){return ms(this,ar).has(ar)}function ps(ar,jt){var or=ms(this,ar),pr=or.size;return or.set(ar,jt),this.size+=or.size==pr?0:1,this}fs.prototype.clear=$s,fs.prototype.delete=Rs,fs.prototype.get=ws,fs.prototype.has=Ws,fs.prototype.set=ps;function yn(ar){var jt=-1,or=ar==null?0:ar.length;for(this.__data__=new fs;++jt<or;)this.add(ar[jt])}function Qr(ar){return this.__data__.set(ar,a),this}function Kr(ar){return this.__data__.has(ar)}yn.prototype.add=yn.prototype.push=Qr,yn.prototype.has=Kr;function Qn(ar){var jt=this.__data__=new rs(ar);this.size=jt.size}function ns(){this.__data__=new rs,this.size=0}function po(ar){var jt=this.__data__,or=jt.delete(ar);return this.size=jt.size,or}function Js(ar){return this.__data__.get(ar)}function wt(ar){return this.__data__.has(ar)}function Lt(ar,jt){var or=this.__data__;if(or instanceof rs){var pr=or.__data__;if(!Er||pr.length<o-1)return pr.push([ar,jt]),this.size=++or.size,this;or=this.__data__=new fs(pr)}return or.set(ar,jt),this.size=or.size,this}Qn.prototype.clear=ns,Qn.prototype.delete=po,Qn.prototype.get=Js,Qn.prototype.has=wt,Qn.prototype.set=Lt;function Ut(ar,jt){var or=Vt(ar),pr=!or&&Dt(ar),Hr=!or&&!pr&&lr(ar),qr=!or&&!pr&&!Hr&&On(ar),fn=or||pr||Hr||qr,_n=fn?Jr(ar.length,String):[],en=_n.length;for(var mn in ar)Jt.call(ar,mn)&&!(fn&&(mn=="length"||Hr&&(mn=="offset"||mn=="parent")||qr&&(mn=="buffer"||mn=="byteLength"||mn=="byteOffset")||go(mn,en)))&&_n.push(mn);return _n}function Zt(ar,jt){for(var or=ar.length;or--;)if(Ct(ar[or][0],jt))return or;return-1}function ur(ar,jt,or){var pr=jt(ar);return Vt(ar)?pr:dr(pr,or(ar))}function _r(ar){return ar==null?ar===void 0?yt:ht:Or&&Or in Object(ar)?Sn(ar):Bt(ar)}function Rr(ar){return on(ar)&&_r(ar)==ot}function Gr(ar,jt,or,pr,Hr){return ar===jt?!0:ar==null||jt==null||!on(ar)&&!on(jt)?ar!==ar&&jt!==jt:rn(ar,jt,or,pr,Gr,Hr)}function rn(ar,jt,or,pr,Hr,qr){var fn=Vt(ar),_n=Vt(jt),en=fn?rt:gs(ar),mn=_n?rt:gs(jt);en=en==ot?ut:en,mn=mn==ot?ut:mn;var Fn=en==ut,Hn=mn==ut,qn=en==mn;if(qn&&lr(ar)){if(!lr(jt))return!1;fn=!0,Fn=!1}if(qn&&!Fn)return qr||(qr=new Qn),fn||On(ar)?os(ar,jt,or,pr,Hr,qr):as(ar,jt,en,or,pr,Hr,qr);if(!(or&tt)){var jn=Fn&&Jt.call(ar,"__wrapped__"),ys=Hn&&Jt.call(jt,"__wrapped__");if(jn||ys){var Hs=jn?ar.value():ar,so=ys?jt.value():jt;return qr||(qr=new Qn),Hr(Hs,so,or,pr,qr)}}return qn?(qr||(qr=new Qn),Ms(ar,jt,or,pr,Hr,qr)):!1}function kn(ar){if(!cn(ar)||vt(ar))return!1;var jt=Mr(ar)?Pr:Wt;return jt.test(ft(ar))}function Wn(ar){return on(ar)&&Fr(ar.length)&&!!rr[_r(ar)]}function ss(ar){if(!Rt(ar))return Vr(ar);var jt=[];for(var or in Object(ar))Jt.call(ar,or)&&or!="constructor"&&jt.push(or);return jt}function os(ar,jt,or,pr,Hr,qr){var fn=or&tt,_n=ar.length,en=jt.length;if(_n!=en&&!(fn&&en>_n))return!1;var mn=qr.get(ar);if(mn&&qr.get(jt))return mn==jt;var Fn=-1,Hn=!0,qn=or&_e?new yn:void 0;for(qr.set(ar,jt),qr.set(jt,ar);++Fn<_n;){var jn=ar[Fn],ys=jt[Fn];if(pr)var Hs=fn?pr(ys,jn,Fn,jt,ar,qr):pr(jn,ys,Fn,ar,jt,qr);if(Hs!==void 0){if(Hs)continue;Hn=!1;break}if(qn){if(!Wr(jt,function(so,wo){if(!Cn(qn,wo)&&(jn===so||Hr(jn,so,or,pr,qr)))return qn.push(wo)})){Hn=!1;break}}else if(!(jn===ys||Hr(jn,ys,or,pr,qr))){Hn=!1;break}}return qr.delete(ar),qr.delete(jt),Hn}function as(ar,jt,or,pr,Hr,qr,fn){switch(or){case Et:if(ar.byteLength!=jt.byteLength||ar.byteOffset!=jt.byteOffset)return!1;ar=ar.buffer,jt=jt.buffer;case kt:return!(ar.byteLength!=jt.byteLength||!qr(new Ar(ar),new Ar(jt)));case j:case _:case ct:return Ct(+ar,+jt);case $:return ar.name==jt.name&&ar.message==jt.message;case gt:case St:return ar==jt+"";case at:var _n=An;case lt:var en=pr&tt;if(_n||(_n=Kn),ar.size!=jt.size&&!en)return!1;var mn=fn.get(ar);if(mn)return mn==jt;pr|=_e,fn.set(ar,jt);var Fn=os(_n(ar),_n(jt),pr,Hr,qr,fn);return fn.delete(ar),Fn;case xt:if(cs)return cs.call(ar)==cs.call(jt)}return!1}function Ms(ar,jt,or,pr,Hr,qr){var fn=or&tt,_n=vn(ar),en=_n.length,mn=vn(jt),Fn=mn.length;if(en!=Fn&&!fn)return!1;for(var Hn=en;Hn--;){var qn=_n[Hn];if(!(fn?qn in jt:Jt.call(jt,qn)))return!1}var jn=qr.get(ar);if(jn&&qr.get(jt))return jn==jt;var ys=!0;qr.set(ar,jt),qr.set(jt,ar);for(var Hs=fn;++Hn<en;){qn=_n[Hn];var so=ar[qn],wo=jt[qn];if(pr)var Tl=fn?pr(wo,so,qn,jt,ar,qr):pr(so,wo,qn,ar,jt,qr);if(!(Tl===void 0?so===wo||Hr(so,wo,or,pr,qr):Tl)){ys=!1;break}Hs||(Hs=qn=="constructor")}if(ys&&!Hs){var Wo=ar.constructor,Es=jt.constructor;Wo!=Es&&"constructor"in ar&&"constructor"in jt&&!(typeof Wo=="function"&&Wo instanceof Wo&&typeof Es=="function"&&Es instanceof Es)&&(ys=!1)}return qr.delete(ar),qr.delete(jt),ys}function vn(ar){return ur(ar,_s,mo)}function ms(ar,jt){var or=ar.__data__;return yo(jt)?or[typeof jt=="string"?"string":"hash"]:or.map}function Jn(ar,jt){var or=Vn(ar,jt);return kn(or)?or:void 0}function Sn(ar){var jt=Jt.call(ar,Or),or=ar[Or];try{ar[Or]=void 0;var pr=!0}catch{}var Hr=hr.call(ar);return pr&&(jt?ar[Or]=or:delete ar[Or]),Hr}var mo=Xr?function(ar){return ar==null?[]:(ar=Object(ar),Cr(Xr(ar),function(jt){return Yr.call(ar,jt)}))}:$n,gs=_r;(ln&&gs(new ln(new ArrayBuffer(1)))!=Et||Er&&gs(new Er)!=at||dn&&gs(dn.resolve())!=dt||bs&&gs(new bs)!=lt||Ss&&gs(new Ss)!=_t)&&(gs=function(ar){var jt=_r(ar),or=jt==ut?ar.constructor:void 0,pr=or?ft(or):"";if(pr)switch(pr){case Xn:return Et;case Ds:return at;case es:return dt;case Cs:return lt;case Is:return _t}return jt});function go(ar,jt){return jt=jt??st,!!jt&&(typeof ar=="number"||Xt.test(ar))&&ar>-1&&ar%1==0&&ar<jt}function yo(ar){var jt=typeof ar;return jt=="string"||jt=="number"||jt=="symbol"||jt=="boolean"?ar!=="__proto__":ar===null}function vt(ar){return!!Kt&&Kt in ar}function Rt(ar){var jt=ar&&ar.constructor,or=typeof jt=="function"&&jt.prototype||zr;return ar===or}function Bt(ar){return hr.call(ar)}function ft(ar){if(ar!=null){try{return hn.call(ar)}catch{}try{return ar+""}catch{}}return""}function Ct(ar,jt){return ar===jt||ar!==ar&&jt!==jt}var Dt=Rr(function(){return arguments}())?Rr:function(ar){return on(ar)&&Jt.call(ar,"callee")&&!Yr.call(ar,"callee")},Vt=Array.isArray;function Yt(ar){return ar!=null&&Fr(ar.length)&&!Mr(ar)}var lr=Ur||wn;function gr(ar,jt){return Gr(ar,jt)}function Mr(ar){if(!cn(ar))return!1;var jt=_r(ar);return jt==et||jt==nt||jt==it||jt==mt}function Fr(ar){return typeof ar=="number"&&ar>-1&&ar%1==0&&ar<=st}function cn(ar){var jt=typeof ar;return ar!=null&&(jt=="object"||jt=="function")}function on(ar){return ar!=null&&typeof ar=="object"}var On=Tr?nn(Tr):Wn;function _s(ar){return Yt(ar)?Ut(ar):ss(ar)}function $n(){return[]}function wn(){return!1}i.exports=gr})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,editorOptions$1={};Object.defineProperty(editorOptions$1,"__esModule",{value:!0});editorOptions$1.getAceInstance=editorOptions$1.debounce=editorOptions$1.editorEvents=editorOptions$1.editorOptions=void 0;var editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];editorOptions$1.editorOptions=editorOptions;var editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];editorOptions$1.editorEvents=editorEvents;var getAceInstance=function(){var i;return typeof window>"u"?(commonjsGlobal.window={},i=aceExports,delete commonjsGlobal.window):window.ace?(i=window.ace,i.acequire=window.ace.require||window.ace.acequire):i=aceExports,i};editorOptions$1.getAceInstance=getAceInstance;var debounce=function(i,s){var o=null;return function(){var a=this,tt=arguments;clearTimeout(o),o=setTimeout(function(){i.apply(a,tt)},s)}};editorOptions$1.debounce=debounce;var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,tt){a.__proto__=tt}||function(a,tt){for(var _e in tt)Object.prototype.hasOwnProperty.call(tt,_e)&&(a[_e]=tt[_e])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(i){for(var s,o=1,a=arguments.length;o<a;o++){s=arguments[o];for(var tt in s)Object.prototype.hasOwnProperty.call(s,tt)&&(i[tt]=s[tt])}return i},__assign$1.apply(this,arguments)};Object.defineProperty(ace$4,"__esModule",{value:!0});var ace_builds_1$1=aceExports,PropTypes$2=propTypesExports,React$2=reactExports,isEqual$1=lodash_isequalExports,editorOptions_1$1=editorOptions$1,ace$2=(0,editorOptions_1$1.getAceInstance)(),ReactAce=function(i){__extends$2(s,i);function s(o){var a=i.call(this,o)||this;return editorOptions_1$1.editorEvents.forEach(function(tt){a[tt]=a[tt].bind(a)}),a.debounce=editorOptions_1$1.debounce,a}return s.prototype.isInShadow=function(o){for(var a=o&&o.parentNode;a;){if(a.toString()==="[object ShadowRoot]")return!0;a=a.parentNode}return!1},s.prototype.componentDidMount=function(){var o=this,a=this.props,tt=a.className,_e=a.onBeforeLoad,st=a.onValidate,ot=a.mode,rt=a.focus,it=a.theme,j=a.fontSize,_=a.lineHeight,$=a.value,et=a.defaultValue,nt=a.showGutter,at=a.wrapEnabled,ct=a.showPrintMargin,ht=a.scrollMargin,ut=ht===void 0?[0,0,0,0]:ht,dt=a.keyboardHandler,mt=a.onLoad,gt=a.commands,lt=a.annotations,St=a.markers,xt=a.placeholder;this.editor=ace$2.edit(this.refEditor),_e&&_e(ace$2);for(var yt=Object.keys(this.props.editorProps),_t=0;_t<yt.length;_t++)this.editor[yt[_t]]=this.props.editorProps[yt[_t]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(ut[0],ut[1],ut[2],ut[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof ot=="string"?"ace/mode/".concat(ot):ot),it&&it!==""&&this.editor.setTheme("ace/theme/".concat(it)),this.editor.setFontSize(typeof j=="number"?"".concat(j,"px"):j),_&&(this.editor.container.style.lineHeight=typeof _=="number"?"".concat(_,"px"):"".concat(_),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(et||$||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(nt),this.editor.getSession().setUseWrapMode(at),this.editor.setShowPrintMargin(ct),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),xt&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),st&&this.editor.getSession().on("changeAnnotation",function(){var Et=o.editor.getSession().getAnnotations();o.props.onValidate(Et)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(lt||[]),St&&St.length>0&&this.handleMarkers(St);var kt=this.editor.$options;editorOptions_1$1.editorOptions.forEach(function(Et){kt.hasOwnProperty(Et)?o.editor.setOption(Et,o.props[Et]):o.props[Et]&&console.warn("ReactAce: editor option ".concat(Et," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(gt)&&gt.forEach(function(Et){typeof Et.exec=="string"?o.editor.commands.bindKey(Et.bindKey,Et.exec):o.editor.commands.addCommand(Et)}),dt&&this.editor.setKeyboardHandler("ace/keyboard/"+dt),tt&&(this.refEditor.className+=" "+tt),mt&&mt(this.editor),this.editor.resize(),rt&&this.editor.focus()},s.prototype.componentDidUpdate=function(o){for(var a=o,tt=this.props,_e=0;_e<editorOptions_1$1.editorOptions.length;_e++){var st=editorOptions_1$1.editorOptions[_e];tt[st]!==a[st]&&this.editor.setOption(st,tt[st])}if(tt.className!==a.className){var ot=this.refEditor.className,rt=ot.trim().split(" "),it=a.className.trim().split(" ");it.forEach(function($){var et=rt.indexOf($);rt.splice(et,1)}),this.refEditor.className=" "+tt.className+" "+rt.join(" ")}var j=this.editor&&tt.value!=null&&this.editor.getValue()!==tt.value;if(j){this.silent=!0;var _=this.editor.session.selection.toJSON();this.editor.setValue(tt.value,tt.cursorStart),this.editor.session.selection.fromJSON(_),this.silent=!1}tt.placeholder!==a.placeholder&&this.updatePlaceholder(),tt.mode!==a.mode&&this.editor.getSession().setMode(typeof tt.mode=="string"?"ace/mode/".concat(tt.mode):tt.mode),tt.theme!==a.theme&&this.editor.setTheme("ace/theme/"+tt.theme),tt.keyboardHandler!==a.keyboardHandler&&(tt.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+tt.keyboardHandler):this.editor.setKeyboardHandler(null)),tt.fontSize!==a.fontSize&&this.editor.setFontSize(typeof tt.fontSize=="number"?"".concat(tt.fontSize,"px"):tt.fontSize),tt.lineHeight!==a.lineHeight&&(this.editor.container.style.lineHeight=typeof tt.lineHeight=="number"?"".concat(tt.lineHeight,"px"):tt.lineHeight,this.editor.renderer.updateFontSize()),tt.wrapEnabled!==a.wrapEnabled&&this.editor.getSession().setUseWrapMode(tt.wrapEnabled),tt.showPrintMargin!==a.showPrintMargin&&this.editor.setShowPrintMargin(tt.showPrintMargin),tt.showGutter!==a.showGutter&&this.editor.renderer.setShowGutter(tt.showGutter),isEqual$1(tt.setOptions,a.setOptions)||this.handleOptions(tt),(j||!isEqual$1(tt.annotations,a.annotations))&&this.editor.getSession().setAnnotations(tt.annotations||[]),!isEqual$1(tt.markers,a.markers)&&Array.isArray(tt.markers)&&this.handleMarkers(tt.markers),isEqual$1(tt.scrollMargin,a.scrollMargin)||this.handleScrollMargins(tt.scrollMargin),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!o.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(o){o===void 0&&(o=[0,0,0,0]),this.editor.renderer.setScrollMargin(o[0],o[1],o[2],o[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(o){if(this.editor&&this.props.onChange&&!this.silent){var a=this.editor.getValue();this.props.onChange(a,o)}},s.prototype.onSelectionChange=function(o){if(this.props.onSelectionChange){var a=this.editor.getSelection();this.props.onSelectionChange(a,o)}},s.prototype.onCursorChange=function(o){if(this.props.onCursorChange){var a=this.editor.getSelection();this.props.onCursorChange(a,o)}},s.prototype.onInput=function(o){this.props.onInput&&this.props.onInput(o),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(o){this.props.onFocus&&this.props.onFocus(o,this.editor)},s.prototype.onBlur=function(o){this.props.onBlur&&this.props.onBlur(o,this.editor)},s.prototype.onCopy=function(o){var a=o.text;this.props.onCopy&&this.props.onCopy(a)},s.prototype.onPaste=function(o){var a=o.text;this.props.onPaste&&this.props.onPaste(a)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(o){for(var a=Object.keys(o.setOptions),tt=0;tt<a.length;tt++)this.editor.setOption(a[tt],o.setOptions[a[tt]])},s.prototype.handleMarkers=function(o){var a=this,tt=this.editor.getSession().getMarkers(!0);for(var _e in tt)tt.hasOwnProperty(_e)&&this.editor.getSession().removeMarker(tt[_e].id);tt=this.editor.getSession().getMarkers(!1);for(var _e in tt)tt.hasOwnProperty(_e)&&tt[_e].clazz!=="ace_active-line"&&tt[_e].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(tt[_e].id);o.forEach(function(st){var ot=st.startRow,rt=st.startCol,it=st.endRow,j=st.endCol,_=st.className,$=st.type,et=st.inFront,nt=et===void 0?!1:et,at=new ace_builds_1$1.Range(ot,rt,it,j);a.editor.getSession().addMarker(at,_,$,nt)})},s.prototype.updatePlaceholder=function(){var o=this.editor,a=this.props.placeholder,tt=!o.session.getValue().length,_e=o.renderer.placeholderNode;!tt&&_e?(o.renderer.scroller.removeChild(o.renderer.placeholderNode),o.renderer.placeholderNode=null):tt&&!_e?(_e=o.renderer.placeholderNode=document.createElement("div"),_e.textContent=a||"",_e.className="ace_comment ace_placeholder",_e.style.padding="0 9px",_e.style.position="absolute",_e.style.zIndex="3",o.renderer.scroller.appendChild(_e)):tt&&_e&&(_e.textContent=a)},s.prototype.updateRef=function(o){this.refEditor=o},s.prototype.render=function(){var o=this.props,a=o.name,tt=o.width,_e=o.height,st=o.style,ot=__assign$1({width:tt,height:_e},st);return React$2.createElement("div",{ref:this.updateRef,id:a,style:ot})},s.propTypes={mode:PropTypes$2.oneOfType([PropTypes$2.string,PropTypes$2.object]),focus:PropTypes$2.bool,theme:PropTypes$2.string,name:PropTypes$2.string,className:PropTypes$2.string,height:PropTypes$2.string,width:PropTypes$2.string,fontSize:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),lineHeight:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),showGutter:PropTypes$2.bool,onChange:PropTypes$2.func,onCopy:PropTypes$2.func,onPaste:PropTypes$2.func,onFocus:PropTypes$2.func,onInput:PropTypes$2.func,onBlur:PropTypes$2.func,onScroll:PropTypes$2.func,value:PropTypes$2.string,defaultValue:PropTypes$2.string,onLoad:PropTypes$2.func,onSelectionChange:PropTypes$2.func,onCursorChange:PropTypes$2.func,onBeforeLoad:PropTypes$2.func,onValidate:PropTypes$2.func,minLines:PropTypes$2.number,maxLines:PropTypes$2.number,readOnly:PropTypes$2.bool,highlightActiveLine:PropTypes$2.bool,tabSize:PropTypes$2.number,showPrintMargin:PropTypes$2.bool,cursorStart:PropTypes$2.number,debounceChangePeriod:PropTypes$2.number,editorProps:PropTypes$2.object,setOptions:PropTypes$2.object,style:PropTypes$2.object,scrollMargin:PropTypes$2.array,annotations:PropTypes$2.array,markers:PropTypes$2.array,keyboardHandler:PropTypes$2.string,wrapEnabled:PropTypes$2.bool,enableSnippets:PropTypes$2.bool,enableBasicAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),enableLiveAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),navigateToFileEnd:PropTypes$2.bool,commands:PropTypes$2.array,placeholder:PropTypes$2.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s}(React$2.Component);ace$4.default=ReactAce;var diff={},split={},extSplit={exports:{}};(function(i,s){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(o,a,tt){var _e=o("./lib/oop");o("./lib/lang");var st=o("./lib/event_emitter").EventEmitter,ot=o("./editor").Editor,rt=o("./virtual_renderer").VirtualRenderer,it=o("./edit_session").EditSession,j;j=function(_,$,et){this.BELOW=1,this.BESIDE=0,this.$container=_,this.$theme=$,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(et||1),this.$cEditor=this.$editors[0],this.on("focus",(function(nt){this.$cEditor=nt}).bind(this))},(function(){_e.implement(this,st),this.$createEditor=function(){var _=document.createElement("div");_.className=this.$editorCSS,_.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(_);var $=new ot(new rt(_,this.$theme));return $.on("focus",(function(){this._emit("focus",$)}).bind(this)),this.$editors.push($),$.setFontSize(this.$fontSize),$},this.setSplits=function(_){var $;if(_<1)throw"The number of splits have to be > 0!";if(_!=this.$splits){if(_>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<_;)$=this.$editors[this.$splits],this.$container.appendChild($.container),$.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<_;)this.$createEditor(),this.$splits++}else for(;this.$splits>_;)$=this.$editors[this.$splits-1],this.$container.removeChild($.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(_){return this.$editors[_]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(_){this.$editors.forEach(function($){$.setTheme(_)})},this.setKeyboardHandler=function(_){this.$editors.forEach(function($){$.setKeyboardHandler(_)})},this.forEach=function(_,$){this.$editors.forEach(_,$)},this.$fontSize="",this.setFontSize=function(_){this.$fontSize=_,this.forEach(function($){$.setFontSize(_)})},this.$cloneSession=function(_){var $=new it(_.getDocument(),_.getMode()),et=_.getUndoManager();return $.setUndoManager(et),$.setTabSize(_.getTabSize()),$.setUseSoftTabs(_.getUseSoftTabs()),$.setOverwrite(_.getOverwrite()),$.setBreakpoints(_.getBreakpoints()),$.setUseWrapMode(_.getUseWrapMode()),$.setUseWorker(_.getUseWorker()),$.setWrapLimitRange(_.$wrapLimitRange.min,_.$wrapLimitRange.max),$.$foldData=_.$cloneFoldData(),$},this.setSession=function(_,$){var et;$==null?et=this.$cEditor:et=this.$editors[$];var nt=this.$editors.some(function(at){return at.session===_});return nt&&(_=this.$cloneSession(_)),et.setSession(_),_},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(_){this.$orientation!=_&&(this.$orientation=_,this.resize())},this.resize=function(){var _=this.$container.clientWidth,$=this.$container.clientHeight,et;if(this.$orientation==this.BESIDE)for(var nt=_/this.$splits,at=0;at<this.$splits;at++)et=this.$editors[at],et.container.style.width=nt+"px",et.container.style.top="0px",et.container.style.left=at*nt+"px",et.container.style.height=$+"px",et.resize();else for(var ct=$/this.$splits,at=0;at<this.$splits;at++)et=this.$editors[at],et.container.style.width=_+"px",et.container.style.top=at*ct+"px",et.container.style.left="0px",et.container.style.height=ct+"px",et.resize()}}).call(j.prototype),a.Split=j}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(o,a,tt){tt.exports=o("../split")}),function(){ace.require(["ace/ext/split"],function(o){i&&(i.exports=o)})}()})(extSplit);var extSplitExports=extSplit.exports,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(i,s){return i==null?void 0:i[s]}function isHostObject(i){var s=!1;if(i!=null&&typeof i.toString!="function")try{s=!!(i+"")}catch{}return s}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(i){return this.has(i)&&delete this.__data__[i]}function hashGet(i){var s=this.__data__;if(nativeCreate){var o=s[i];return o===HASH_UNDEFINED?void 0:o}return hasOwnProperty.call(s,i)?s[i]:void 0}function hashHas(i){var s=this.__data__;return nativeCreate?s[i]!==void 0:hasOwnProperty.call(s,i)}function hashSet(i,s){var o=this.__data__;return o[i]=nativeCreate&&s===void 0?HASH_UNDEFINED:s,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(i){var s=this.__data__,o=assocIndexOf(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():splice.call(s,o,1),!0}function listCacheGet(i){var s=this.__data__,o=assocIndexOf(s,i);return o<0?void 0:s[o][1]}function listCacheHas(i){return assocIndexOf(this.__data__,i)>-1}function listCacheSet(i,s){var o=this.__data__,a=assocIndexOf(o,i);return a<0?o.push([i,s]):o[a][1]=s,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(i){return getMapData(this,i).delete(i)}function mapCacheGet(i){return getMapData(this,i).get(i)}function mapCacheHas(i){return getMapData(this,i).has(i)}function mapCacheSet(i,s){return getMapData(this,i).set(i,s),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(i,s){for(var o=i.length;o--;)if(eq(i[o][0],s))return o;return-1}function baseGet(i,s){s=isKey(s,i)?[s]:castPath(s);for(var o=0,a=s.length;i!=null&&o<a;)i=i[toKey(s[o++])];return o&&o==a?i:void 0}function baseIsNative(i){if(!isObject$1(i)||isMasked(i))return!1;var s=isFunction(i)||isHostObject(i)?reIsNative:reIsHostCtor;return s.test(toSource(i))}function baseToString(i){if(typeof i=="string")return i;if(isSymbol(i))return symbolToString?symbolToString.call(i):"";var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function castPath(i){return isArray$1(i)?i:stringToPath(i)}function getMapData(i,s){var o=i.__data__;return isKeyable(s)?o[typeof s=="string"?"string":"hash"]:o.map}function getNative(i,s){var o=getValue(i,s);return baseIsNative(o)?o:void 0}function isKey(i,s){if(isArray$1(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||isSymbol(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||s!=null&&i in Object(s)}function isKeyable(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function isMasked(i){return!!maskSrcKey&&maskSrcKey in i}var stringToPath=memoize(function(i){i=toString(i);var s=[];return reLeadingDot.test(i)&&s.push(""),i.replace(rePropName,function(o,a,tt,_e){s.push(tt?_e.replace(reEscapeChar,"$1"):a||o)}),s});function toKey(i){if(typeof i=="string"||isSymbol(i))return i;var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function toSource(i){if(i!=null){try{return funcToString.call(i)}catch{}try{return i+""}catch{}}return""}function memoize(i,s){if(typeof i!="function"||s&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var o=function(){var a=arguments,tt=s?s.apply(this,a):a[0],_e=o.cache;if(_e.has(tt))return _e.get(tt);var st=i.apply(this,a);return o.cache=_e.set(tt,st),st};return o.cache=new(memoize.Cache||MapCache),o}memoize.Cache=MapCache;function eq(i,s){return i===s||i!==i&&s!==s}var isArray$1=Array.isArray;function isFunction(i){var s=isObject$1(i)?objectToString.call(i):"";return s==funcTag||s==genTag}function isObject$1(i){var s=typeof i;return!!i&&(s=="object"||s=="function")}function isObjectLike(i){return!!i&&typeof i=="object"}function isSymbol(i){return typeof i=="symbol"||isObjectLike(i)&&objectToString.call(i)==symbolTag}function toString(i){return i==null?"":baseToString(i)}function get$1(i,s,o){var a=i==null?void 0:baseGet(i,s);return a===void 0?o:a}var lodash_get=get$1,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,tt){a.__proto__=tt}||function(a,tt){for(var _e in tt)Object.prototype.hasOwnProperty.call(tt,_e)&&(a[_e]=tt[_e])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(i){for(var s,o=1,a=arguments.length;o<a;o++){s=arguments[o];for(var tt in s)Object.prototype.hasOwnProperty.call(s,tt)&&(i[tt]=s[tt])}return i},__assign.apply(this,arguments)};Object.defineProperty(split,"__esModule",{value:!0});var editorOptions_1=editorOptions$1,ace$1=(0,editorOptions_1.getAceInstance)(),ace_builds_1=aceExports,ext_split_1=extSplitExports,PropTypes$1=propTypesExports,React$1=reactExports,isEqual=lodash_isequalExports,get=lodash_get,SplitComponent=function(i){__extends$1(s,i);function s(o){var a=i.call(this,o)||this;return editorOptions_1.editorEvents.forEach(function(tt){a[tt]=a[tt].bind(a)}),a.debounce=editorOptions_1.debounce,a}return s.prototype.isInShadow=function(o){for(var a=o&&o.parentNode;a;){if(a.toString()==="[object ShadowRoot]")return!0;a=a.parentNode}return!1},s.prototype.componentDidMount=function(){var o=this,a=this.props,tt=a.className,_e=a.onBeforeLoad,st=a.mode,ot=a.focus,rt=a.theme,it=a.fontSize,j=a.value,_=a.defaultValue,$=a.cursorStart,et=a.showGutter,nt=a.wrapEnabled,at=a.showPrintMargin,ct=a.scrollMargin,ht=ct===void 0?[0,0,0,0]:ct,ut=a.keyboardHandler,dt=a.onLoad,mt=a.commands,gt=a.annotations,lt=a.markers,St=a.splits;this.editor=ace$1.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(rt)),_e&&_e(ace$1);var xt=Object.keys(this.props.editorProps),yt=new ext_split_1.Split(this.editor.container,"ace/theme/".concat(rt),St);this.editor.env.split=yt,this.splitEditor=yt.getEditor(0),this.split=yt,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var _t=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),yt.forEach(function(Et,$t){for(var Tt=0;Tt<xt.length;Tt++)Et[xt[Tt]]=o.props.editorProps[xt[Tt]];var At=get(_,$t),Mt=get(j,$t,"");Et.session.setUndoManager(new ace$1.UndoManager),Et.setTheme("ace/theme/".concat(rt)),Et.renderer.setScrollMargin(ht[0],ht[1],ht[2],ht[3]),Et.getSession().setMode("ace/mode/".concat(st)),Et.setFontSize(it),Et.renderer.setShowGutter(et),Et.getSession().setUseWrapMode(nt),Et.setShowPrintMargin(at),Et.on("focus",o.onFocus),Et.on("blur",o.onBlur),Et.on("input",o.onInput),Et.on("copy",o.onCopy),Et.on("paste",o.onPaste),Et.on("change",o.onChange),Et.getSession().selection.on("changeSelection",o.onSelectionChange),Et.getSession().selection.on("changeCursor",o.onCursorChange),Et.session.on("changeScrollTop",o.onScroll),Et.setValue(At===void 0?Mt:At,$);var Ot=get(gt,$t,[]),Pt=get(lt,$t,[]);Et.getSession().setAnnotations(Ot),Pt&&Pt.length>0&&o.handleMarkers(Pt,Et);for(var Tt=0;Tt<editorOptions_1.editorOptions.length;Tt++){var Ft=editorOptions_1.editorOptions[Tt];_t.hasOwnProperty(Ft)?Et.setOption(Ft,o.props[Ft]):o.props[Ft]&&console.warn("ReaceAce: editor option ".concat(Ft," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}o.handleOptions(o.props,Et),Array.isArray(mt)&&mt.forEach(function(zt){typeof zt.exec=="string"?Et.commands.bindKey(zt.bindKey,zt.exec):Et.commands.addCommand(zt)}),ut&&Et.setKeyboardHandler("ace/keyboard/"+ut)}),tt&&(this.refEditor.className+=" "+tt),ot&&this.splitEditor.focus();var kt=this.editor.env.split;kt.setOrientation(this.props.orientation==="below"?kt.BELOW:kt.BESIDE),kt.resize(!0),dt&&dt(kt)},s.prototype.componentDidUpdate=function(o){var a=this,tt=o,_e=this.props,st=this.editor.env.split;if(_e.splits!==tt.splits&&st.setSplits(_e.splits),_e.orientation!==tt.orientation&&st.setOrientation(_e.orientation==="below"?st.BELOW:st.BESIDE),st.forEach(function(j,_){_e.mode!==tt.mode&&j.getSession().setMode("ace/mode/"+_e.mode),_e.keyboardHandler!==tt.keyboardHandler&&(_e.keyboardHandler?j.setKeyboardHandler("ace/keyboard/"+_e.keyboardHandler):j.setKeyboardHandler(null)),_e.fontSize!==tt.fontSize&&j.setFontSize(_e.fontSize),_e.wrapEnabled!==tt.wrapEnabled&&j.getSession().setUseWrapMode(_e.wrapEnabled),_e.showPrintMargin!==tt.showPrintMargin&&j.setShowPrintMargin(_e.showPrintMargin),_e.showGutter!==tt.showGutter&&j.renderer.setShowGutter(_e.showGutter);for(var $=0;$<editorOptions_1.editorOptions.length;$++){var et=editorOptions_1.editorOptions[$];_e[et]!==tt[et]&&j.setOption(et,_e[et])}isEqual(_e.setOptions,tt.setOptions)||a.handleOptions(_e,j);var nt=get(_e.value,_,"");if(j.getValue()!==nt){a.silent=!0;var at=j.session.selection.toJSON();j.setValue(nt,_e.cursorStart),j.session.selection.fromJSON(at),a.silent=!1}var ct=get(_e.annotations,_,[]),ht=get(tt.annotations,_,[]);isEqual(ct,ht)||j.getSession().setAnnotations(ct);var ut=get(_e.markers,_,[]),dt=get(tt.markers,_,[]);!isEqual(ut,dt)&&Array.isArray(ut)&&a.handleMarkers(ut,j)}),_e.className!==tt.className){var ot=this.refEditor.className,rt=ot.trim().split(" "),it=tt.className.trim().split(" ");it.forEach(function(j){var _=rt.indexOf(j);rt.splice(_,1)}),this.refEditor.className=" "+_e.className+" "+rt.join(" ")}_e.theme!==tt.theme&&st.setTheme("ace/theme/"+_e.theme),_e.focus&&!tt.focus&&this.splitEditor.focus(),(_e.height!==this.props.height||_e.width!==this.props.width)&&this.editor.resize()},s.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},s.prototype.onChange=function(o){if(this.props.onChange&&!this.silent){var a=[];this.editor.env.split.forEach(function(tt){a.push(tt.getValue())}),this.props.onChange(a,o)}},s.prototype.onSelectionChange=function(o){if(this.props.onSelectionChange){var a=[];this.editor.env.split.forEach(function(tt){a.push(tt.getSelection())}),this.props.onSelectionChange(a,o)}},s.prototype.onCursorChange=function(o){if(this.props.onCursorChange){var a=[];this.editor.env.split.forEach(function(tt){a.push(tt.getSelection())}),this.props.onCursorChange(a,o)}},s.prototype.onFocus=function(o){this.props.onFocus&&this.props.onFocus(o)},s.prototype.onInput=function(o){this.props.onInput&&this.props.onInput(o)},s.prototype.onBlur=function(o){this.props.onBlur&&this.props.onBlur(o)},s.prototype.onCopy=function(o){this.props.onCopy&&this.props.onCopy(o)},s.prototype.onPaste=function(o){this.props.onPaste&&this.props.onPaste(o)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(o,a){for(var tt=Object.keys(o.setOptions),_e=0;_e<tt.length;_e++)a.setOption(tt[_e],o.setOptions[tt[_e]])},s.prototype.handleMarkers=function(o,a){var tt=a.getSession().getMarkers(!0);for(var _e in tt)tt.hasOwnProperty(_e)&&a.getSession().removeMarker(tt[_e].id);tt=a.getSession().getMarkers(!1);for(var _e in tt)tt.hasOwnProperty(_e)&&a.getSession().removeMarker(tt[_e].id);o.forEach(function(st){var ot=st.startRow,rt=st.startCol,it=st.endRow,j=st.endCol,_=st.className,$=st.type,et=st.inFront,nt=et===void 0?!1:et,at=new ace_builds_1.Range(ot,rt,it,j);a.getSession().addMarker(at,_,$,nt)})},s.prototype.updateRef=function(o){this.refEditor=o},s.prototype.render=function(){var o=this.props,a=o.name,tt=o.width,_e=o.height,st=o.style,ot=__assign({width:tt,height:_e},st);return React$1.createElement("div",{ref:this.updateRef,id:a,style:ot})},s.propTypes={className:PropTypes$1.string,debounceChangePeriod:PropTypes$1.number,defaultValue:PropTypes$1.arrayOf(PropTypes$1.string),focus:PropTypes$1.bool,fontSize:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),height:PropTypes$1.string,mode:PropTypes$1.string,name:PropTypes$1.string,onBlur:PropTypes$1.func,onChange:PropTypes$1.func,onCopy:PropTypes$1.func,onFocus:PropTypes$1.func,onInput:PropTypes$1.func,onLoad:PropTypes$1.func,onPaste:PropTypes$1.func,onScroll:PropTypes$1.func,orientation:PropTypes$1.string,showGutter:PropTypes$1.bool,splits:PropTypes$1.number,theme:PropTypes$1.string,value:PropTypes$1.arrayOf(PropTypes$1.string),width:PropTypes$1.string,onSelectionChange:PropTypes$1.func,onCursorChange:PropTypes$1.func,onBeforeLoad:PropTypes$1.func,minLines:PropTypes$1.number,maxLines:PropTypes$1.number,readOnly:PropTypes$1.bool,highlightActiveLine:PropTypes$1.bool,tabSize:PropTypes$1.number,showPrintMargin:PropTypes$1.bool,cursorStart:PropTypes$1.number,editorProps:PropTypes$1.object,setOptions:PropTypes$1.object,style:PropTypes$1.object,scrollMargin:PropTypes$1.array,annotations:PropTypes$1.array,markers:PropTypes$1.array,keyboardHandler:PropTypes$1.string,wrapEnabled:PropTypes$1.bool,enableBasicAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),enableLiveAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),commands:PropTypes$1.array},s.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},s}(React$1.Component);split.default=SplitComponent;var diffMatchPatch={exports:{}};(function(i){var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},o=-1,a=1,tt=0;s.Diff=function(_e,st){return[_e,st]},s.prototype.diff_main=function(_e,st,ot,rt){typeof rt>"u"&&(this.Diff_Timeout<=0?rt=Number.MAX_VALUE:rt=new Date().getTime()+this.Diff_Timeout*1e3);var it=rt;if(_e==null||st==null)throw new Error("Null input. (diff_main)");if(_e==st)return _e?[new s.Diff(tt,_e)]:[];typeof ot>"u"&&(ot=!0);var j=ot,_=this.diff_commonPrefix(_e,st),$=_e.substring(0,_);_e=_e.substring(_),st=st.substring(_),_=this.diff_commonSuffix(_e,st);var et=_e.substring(_e.length-_);_e=_e.substring(0,_e.length-_),st=st.substring(0,st.length-_);var nt=this.diff_compute_(_e,st,j,it);return $&&nt.unshift(new s.Diff(tt,$)),et&&nt.push(new s.Diff(tt,et)),this.diff_cleanupMerge(nt),nt},s.prototype.diff_compute_=function(_e,st,ot,rt){var it;if(!_e)return[new s.Diff(a,st)];if(!st)return[new s.Diff(o,_e)];var j=_e.length>st.length?_e:st,_=_e.length>st.length?st:_e,$=j.indexOf(_);if($!=-1)return it=[new s.Diff(a,j.substring(0,$)),new s.Diff(tt,_),new s.Diff(a,j.substring($+_.length))],_e.length>st.length&&(it[0][0]=it[2][0]=o),it;if(_.length==1)return[new s.Diff(o,_e),new s.Diff(a,st)];var et=this.diff_halfMatch_(_e,st);if(et){var nt=et[0],at=et[1],ct=et[2],ht=et[3],ut=et[4],dt=this.diff_main(nt,ct,ot,rt),mt=this.diff_main(at,ht,ot,rt);return dt.concat([new s.Diff(tt,ut)],mt)}return ot&&_e.length>100&&st.length>100?this.diff_lineMode_(_e,st,rt):this.diff_bisect_(_e,st,rt)},s.prototype.diff_lineMode_=function(_e,st,ot){var rt=this.diff_linesToChars_(_e,st);_e=rt.chars1,st=rt.chars2;var it=rt.lineArray,j=this.diff_main(_e,st,!1,ot);this.diff_charsToLines_(j,it),this.diff_cleanupSemantic(j),j.push(new s.Diff(tt,""));for(var _=0,$=0,et=0,nt="",at="";_<j.length;){switch(j[_][0]){case a:et++,at+=j[_][1];break;case o:$++,nt+=j[_][1];break;case tt:if($>=1&&et>=1){j.splice(_-$-et,$+et),_=_-$-et;for(var ct=this.diff_main(nt,at,!1,ot),ht=ct.length-1;ht>=0;ht--)j.splice(_,0,ct[ht]);_=_+ct.length}et=0,$=0,nt="",at="";break}_++}return j.pop(),j},s.prototype.diff_bisect_=function(_e,st,ot){for(var rt=_e.length,it=st.length,j=Math.ceil((rt+it)/2),_=j,$=2*j,et=new Array($),nt=new Array($),at=0;at<$;at++)et[at]=-1,nt[at]=-1;et[_+1]=0,nt[_+1]=0;for(var ct=rt-it,ht=ct%2!=0,ut=0,dt=0,mt=0,gt=0,lt=0;lt<j&&!(new Date().getTime()>ot);lt++){for(var St=-lt+ut;St<=lt-dt;St+=2){var xt=_+St,yt;St==-lt||St!=lt&&et[xt-1]<et[xt+1]?yt=et[xt+1]:yt=et[xt-1]+1;for(var _t=yt-St;yt<rt&&_t<it&&_e.charAt(yt)==st.charAt(_t);)yt++,_t++;if(et[xt]=yt,yt>rt)dt+=2;else if(_t>it)ut+=2;else if(ht){var kt=_+ct-St;if(kt>=0&&kt<$&&nt[kt]!=-1){var Et=rt-nt[kt];if(yt>=Et)return this.diff_bisectSplit_(_e,st,yt,_t,ot)}}}for(var $t=-lt+mt;$t<=lt-gt;$t+=2){var kt=_+$t,Et;$t==-lt||$t!=lt&&nt[kt-1]<nt[kt+1]?Et=nt[kt+1]:Et=nt[kt-1]+1;for(var Tt=Et-$t;Et<rt&&Tt<it&&_e.charAt(rt-Et-1)==st.charAt(it-Tt-1);)Et++,Tt++;if(nt[kt]=Et,Et>rt)gt+=2;else if(Tt>it)mt+=2;else if(!ht){var xt=_+ct-$t;if(xt>=0&&xt<$&&et[xt]!=-1){var yt=et[xt],_t=_+yt-xt;if(Et=rt-Et,yt>=Et)return this.diff_bisectSplit_(_e,st,yt,_t,ot)}}}}return[new s.Diff(o,_e),new s.Diff(a,st)]},s.prototype.diff_bisectSplit_=function(_e,st,ot,rt,it){var j=_e.substring(0,ot),_=st.substring(0,rt),$=_e.substring(ot),et=st.substring(rt),nt=this.diff_main(j,_,!1,it),at=this.diff_main($,et,!1,it);return nt.concat(at)},s.prototype.diff_linesToChars_=function(_e,st){var ot=[],rt={};ot[0]="";function it(et){for(var nt="",at=0,ct=-1,ht=ot.length;ct<et.length-1;){ct=et.indexOf(`
`,at),ct==-1&&(ct=et.length-1);var ut=et.substring(at,ct+1);(rt.hasOwnProperty?rt.hasOwnProperty(ut):rt[ut]!==void 0)?nt+=String.fromCharCode(rt[ut]):(ht==j&&(ut=et.substring(at),ct=et.length),nt+=String.fromCharCode(ht),rt[ut]=ht,ot[ht++]=ut),at=ct+1}return nt}var j=4e4,_=it(_e);j=65535;var $=it(st);return{chars1:_,chars2:$,lineArray:ot}},s.prototype.diff_charsToLines_=function(_e,st){for(var ot=0;ot<_e.length;ot++){for(var rt=_e[ot][1],it=[],j=0;j<rt.length;j++)it[j]=st[rt.charCodeAt(j)];_e[ot][1]=it.join("")}},s.prototype.diff_commonPrefix=function(_e,st){if(!_e||!st||_e.charAt(0)!=st.charAt(0))return 0;for(var ot=0,rt=Math.min(_e.length,st.length),it=rt,j=0;ot<it;)_e.substring(j,it)==st.substring(j,it)?(ot=it,j=ot):rt=it,it=Math.floor((rt-ot)/2+ot);return it},s.prototype.diff_commonSuffix=function(_e,st){if(!_e||!st||_e.charAt(_e.length-1)!=st.charAt(st.length-1))return 0;for(var ot=0,rt=Math.min(_e.length,st.length),it=rt,j=0;ot<it;)_e.substring(_e.length-it,_e.length-j)==st.substring(st.length-it,st.length-j)?(ot=it,j=ot):rt=it,it=Math.floor((rt-ot)/2+ot);return it},s.prototype.diff_commonOverlap_=function(_e,st){var ot=_e.length,rt=st.length;if(ot==0||rt==0)return 0;ot>rt?_e=_e.substring(ot-rt):ot<rt&&(st=st.substring(0,ot));var it=Math.min(ot,rt);if(_e==st)return it;for(var j=0,_=1;;){var $=_e.substring(it-_),et=st.indexOf($);if(et==-1)return j;_+=et,(et==0||_e.substring(it-_)==st.substring(0,_))&&(j=_,_++)}},s.prototype.diff_halfMatch_=function(_e,st){if(this.Diff_Timeout<=0)return null;var ot=_e.length>st.length?_e:st,rt=_e.length>st.length?st:_e;if(ot.length<4||rt.length*2<ot.length)return null;var it=this;function j(dt,mt,gt){for(var lt=dt.substring(gt,gt+Math.floor(dt.length/4)),St=-1,xt="",yt,_t,kt,Et;(St=mt.indexOf(lt,St+1))!=-1;){var $t=it.diff_commonPrefix(dt.substring(gt),mt.substring(St)),Tt=it.diff_commonSuffix(dt.substring(0,gt),mt.substring(0,St));xt.length<Tt+$t&&(xt=mt.substring(St-Tt,St)+mt.substring(St,St+$t),yt=dt.substring(0,gt-Tt),_t=dt.substring(gt+$t),kt=mt.substring(0,St-Tt),Et=mt.substring(St+$t))}return xt.length*2>=dt.length?[yt,_t,kt,Et,xt]:null}var _=j(ot,rt,Math.ceil(ot.length/4)),$=j(ot,rt,Math.ceil(ot.length/2)),et;if(!_&&!$)return null;$?_?et=_[4].length>$[4].length?_:$:et=$:et=_;var nt,at,ct,ht;_e.length>st.length?(nt=et[0],at=et[1],ct=et[2],ht=et[3]):(ct=et[0],ht=et[1],nt=et[2],at=et[3]);var ut=et[4];return[nt,at,ct,ht,ut]},s.prototype.diff_cleanupSemantic=function(_e){for(var st=!1,ot=[],rt=0,it=null,j=0,_=0,$=0,et=0,nt=0;j<_e.length;)_e[j][0]==tt?(ot[rt++]=j,_=et,$=nt,et=0,nt=0,it=_e[j][1]):(_e[j][0]==a?et+=_e[j][1].length:nt+=_e[j][1].length,it&&it.length<=Math.max(_,$)&&it.length<=Math.max(et,nt)&&(_e.splice(ot[rt-1],0,new s.Diff(o,it)),_e[ot[rt-1]+1][0]=a,rt--,rt--,j=rt>0?ot[rt-1]:-1,_=0,$=0,et=0,nt=0,it=null,st=!0)),j++;for(st&&this.diff_cleanupMerge(_e),this.diff_cleanupSemanticLossless(_e),j=1;j<_e.length;){if(_e[j-1][0]==o&&_e[j][0]==a){var at=_e[j-1][1],ct=_e[j][1],ht=this.diff_commonOverlap_(at,ct),ut=this.diff_commonOverlap_(ct,at);ht>=ut?(ht>=at.length/2||ht>=ct.length/2)&&(_e.splice(j,0,new s.Diff(tt,ct.substring(0,ht))),_e[j-1][1]=at.substring(0,at.length-ht),_e[j+1][1]=ct.substring(ht),j++):(ut>=at.length/2||ut>=ct.length/2)&&(_e.splice(j,0,new s.Diff(tt,at.substring(0,ut))),_e[j-1][0]=a,_e[j-1][1]=ct.substring(0,ct.length-ut),_e[j+1][0]=o,_e[j+1][1]=at.substring(ut),j++),j++}j++}},s.prototype.diff_cleanupSemanticLossless=function(_e){function st(ut,dt){if(!ut||!dt)return 6;var mt=ut.charAt(ut.length-1),gt=dt.charAt(0),lt=mt.match(s.nonAlphaNumericRegex_),St=gt.match(s.nonAlphaNumericRegex_),xt=lt&&mt.match(s.whitespaceRegex_),yt=St&&gt.match(s.whitespaceRegex_),_t=xt&&mt.match(s.linebreakRegex_),kt=yt&&gt.match(s.linebreakRegex_),Et=_t&&ut.match(s.blanklineEndRegex_),$t=kt&&dt.match(s.blanklineStartRegex_);return Et||$t?5:_t||kt?4:lt&&!xt&&yt?3:xt||yt?2:lt||St?1:0}for(var ot=1;ot<_e.length-1;){if(_e[ot-1][0]==tt&&_e[ot+1][0]==tt){var rt=_e[ot-1][1],it=_e[ot][1],j=_e[ot+1][1],_=this.diff_commonSuffix(rt,it);if(_){var $=it.substring(it.length-_);rt=rt.substring(0,rt.length-_),it=$+it.substring(0,it.length-_),j=$+j}for(var et=rt,nt=it,at=j,ct=st(rt,it)+st(it,j);it.charAt(0)===j.charAt(0);){rt+=it.charAt(0),it=it.substring(1)+j.charAt(0),j=j.substring(1);var ht=st(rt,it)+st(it,j);ht>=ct&&(ct=ht,et=rt,nt=it,at=j)}_e[ot-1][1]!=et&&(et?_e[ot-1][1]=et:(_e.splice(ot-1,1),ot--),_e[ot][1]=nt,at?_e[ot+1][1]=at:(_e.splice(ot+1,1),ot--))}ot++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function(_e){for(var st=!1,ot=[],rt=0,it=null,j=0,_=!1,$=!1,et=!1,nt=!1;j<_e.length;)_e[j][0]==tt?(_e[j][1].length<this.Diff_EditCost&&(et||nt)?(ot[rt++]=j,_=et,$=nt,it=_e[j][1]):(rt=0,it=null),et=nt=!1):(_e[j][0]==o?nt=!0:et=!0,it&&(_&&$&&et&&nt||it.length<this.Diff_EditCost/2&&_+$+et+nt==3)&&(_e.splice(ot[rt-1],0,new s.Diff(o,it)),_e[ot[rt-1]+1][0]=a,rt--,it=null,_&&$?(et=nt=!0,rt=0):(rt--,j=rt>0?ot[rt-1]:-1,et=nt=!1),st=!0)),j++;st&&this.diff_cleanupMerge(_e)},s.prototype.diff_cleanupMerge=function(_e){_e.push(new s.Diff(tt,""));for(var st=0,ot=0,rt=0,it="",j="",_;st<_e.length;)switch(_e[st][0]){case a:rt++,j+=_e[st][1],st++;break;case o:ot++,it+=_e[st][1],st++;break;case tt:ot+rt>1?(ot!==0&&rt!==0&&(_=this.diff_commonPrefix(j,it),_!==0&&(st-ot-rt>0&&_e[st-ot-rt-1][0]==tt?_e[st-ot-rt-1][1]+=j.substring(0,_):(_e.splice(0,0,new s.Diff(tt,j.substring(0,_))),st++),j=j.substring(_),it=it.substring(_)),_=this.diff_commonSuffix(j,it),_!==0&&(_e[st][1]=j.substring(j.length-_)+_e[st][1],j=j.substring(0,j.length-_),it=it.substring(0,it.length-_))),st-=ot+rt,_e.splice(st,ot+rt),it.length&&(_e.splice(st,0,new s.Diff(o,it)),st++),j.length&&(_e.splice(st,0,new s.Diff(a,j)),st++),st++):st!==0&&_e[st-1][0]==tt?(_e[st-1][1]+=_e[st][1],_e.splice(st,1)):st++,rt=0,ot=0,it="",j="";break}_e[_e.length-1][1]===""&&_e.pop();var $=!1;for(st=1;st<_e.length-1;)_e[st-1][0]==tt&&_e[st+1][0]==tt&&(_e[st][1].substring(_e[st][1].length-_e[st-1][1].length)==_e[st-1][1]?(_e[st][1]=_e[st-1][1]+_e[st][1].substring(0,_e[st][1].length-_e[st-1][1].length),_e[st+1][1]=_e[st-1][1]+_e[st+1][1],_e.splice(st-1,1),$=!0):_e[st][1].substring(0,_e[st+1][1].length)==_e[st+1][1]&&(_e[st-1][1]+=_e[st+1][1],_e[st][1]=_e[st][1].substring(_e[st+1][1].length)+_e[st+1][1],_e.splice(st+1,1),$=!0)),st++;$&&this.diff_cleanupMerge(_e)},s.prototype.diff_xIndex=function(_e,st){var ot=0,rt=0,it=0,j=0,_;for(_=0;_<_e.length&&(_e[_][0]!==a&&(ot+=_e[_][1].length),_e[_][0]!==o&&(rt+=_e[_][1].length),!(ot>st));_++)it=ot,j=rt;return _e.length!=_&&_e[_][0]===o?j:j+(st-it)},s.prototype.diff_prettyHtml=function(_e){for(var st=[],ot=/&/g,rt=/</g,it=/>/g,j=/\n/g,_=0;_<_e.length;_++){var $=_e[_][0],et=_e[_][1],nt=et.replace(ot,"&amp;").replace(rt,"&lt;").replace(it,"&gt;").replace(j,"&para;<br>");switch($){case a:st[_]='<ins style="background:#e6ffe6;">'+nt+"</ins>";break;case o:st[_]='<del style="background:#ffe6e6;">'+nt+"</del>";break;case tt:st[_]="<span>"+nt+"</span>";break}}return st.join("")},s.prototype.diff_text1=function(_e){for(var st=[],ot=0;ot<_e.length;ot++)_e[ot][0]!==a&&(st[ot]=_e[ot][1]);return st.join("")},s.prototype.diff_text2=function(_e){for(var st=[],ot=0;ot<_e.length;ot++)_e[ot][0]!==o&&(st[ot]=_e[ot][1]);return st.join("")},s.prototype.diff_levenshtein=function(_e){for(var st=0,ot=0,rt=0,it=0;it<_e.length;it++){var j=_e[it][0],_=_e[it][1];switch(j){case a:ot+=_.length;break;case o:rt+=_.length;break;case tt:st+=Math.max(ot,rt),ot=0,rt=0;break}}return st+=Math.max(ot,rt),st},s.prototype.diff_toDelta=function(_e){for(var st=[],ot=0;ot<_e.length;ot++)switch(_e[ot][0]){case a:st[ot]="+"+encodeURI(_e[ot][1]);break;case o:st[ot]="-"+_e[ot][1].length;break;case tt:st[ot]="="+_e[ot][1].length;break}return st.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function(_e,st){for(var ot=[],rt=0,it=0,j=st.split(/\t/g),_=0;_<j.length;_++){var $=j[_].substring(1);switch(j[_].charAt(0)){case"+":try{ot[rt++]=new s.Diff(a,decodeURI($))}catch{throw new Error("Illegal escape in diff_fromDelta: "+$)}break;case"-":case"=":var et=parseInt($,10);if(isNaN(et)||et<0)throw new Error("Invalid number in diff_fromDelta: "+$);var nt=_e.substring(it,it+=et);j[_].charAt(0)=="="?ot[rt++]=new s.Diff(tt,nt):ot[rt++]=new s.Diff(o,nt);break;default:if(j[_])throw new Error("Invalid diff operation in diff_fromDelta: "+j[_])}}if(it!=_e.length)throw new Error("Delta length ("+it+") does not equal source text length ("+_e.length+").");return ot},s.prototype.match_main=function(_e,st,ot){if(_e==null||st==null||ot==null)throw new Error("Null input. (match_main)");return ot=Math.max(0,Math.min(ot,_e.length)),_e==st?0:_e.length?_e.substring(ot,ot+st.length)==st?ot:this.match_bitap_(_e,st,ot):-1},s.prototype.match_bitap_=function(_e,st,ot){if(st.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var rt=this.match_alphabet_(st),it=this;function j(yt,_t){var kt=yt/st.length,Et=Math.abs(ot-_t);return it.Match_Distance?kt+Et/it.Match_Distance:Et?1:kt}var _=this.Match_Threshold,$=_e.indexOf(st,ot);$!=-1&&(_=Math.min(j(0,$),_),$=_e.lastIndexOf(st,ot+st.length),$!=-1&&(_=Math.min(j(0,$),_)));var et=1<<st.length-1;$=-1;for(var nt,at,ct=st.length+_e.length,ht,ut=0;ut<st.length;ut++){for(nt=0,at=ct;nt<at;)j(ut,ot+at)<=_?nt=at:ct=at,at=Math.floor((ct-nt)/2+nt);ct=at;var dt=Math.max(1,ot-at+1),mt=Math.min(ot+at,_e.length)+st.length,gt=Array(mt+2);gt[mt+1]=(1<<ut)-1;for(var lt=mt;lt>=dt;lt--){var St=rt[_e.charAt(lt-1)];if(ut===0?gt[lt]=(gt[lt+1]<<1|1)&St:gt[lt]=(gt[lt+1]<<1|1)&St|((ht[lt+1]|ht[lt])<<1|1)|ht[lt+1],gt[lt]&et){var xt=j(ut,lt-1);if(xt<=_)if(_=xt,$=lt-1,$>ot)dt=Math.max(1,2*ot-$);else break}}if(j(ut+1,ot)>_)break;ht=gt}return $},s.prototype.match_alphabet_=function(_e){for(var st={},ot=0;ot<_e.length;ot++)st[_e.charAt(ot)]=0;for(var ot=0;ot<_e.length;ot++)st[_e.charAt(ot)]|=1<<_e.length-ot-1;return st},s.prototype.patch_addContext_=function(_e,st){if(st.length!=0){if(_e.start2===null)throw Error("patch not initialized");for(var ot=st.substring(_e.start2,_e.start2+_e.length1),rt=0;st.indexOf(ot)!=st.lastIndexOf(ot)&&ot.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)rt+=this.Patch_Margin,ot=st.substring(_e.start2-rt,_e.start2+_e.length1+rt);rt+=this.Patch_Margin;var it=st.substring(_e.start2-rt,_e.start2);it&&_e.diffs.unshift(new s.Diff(tt,it));var j=st.substring(_e.start2+_e.length1,_e.start2+_e.length1+rt);j&&_e.diffs.push(new s.Diff(tt,j)),_e.start1-=it.length,_e.start2-=it.length,_e.length1+=it.length+j.length,_e.length2+=it.length+j.length}},s.prototype.patch_make=function(_e,st,ot){var rt,it;if(typeof _e=="string"&&typeof st=="string"&&typeof ot>"u")rt=_e,it=this.diff_main(rt,st,!0),it.length>2&&(this.diff_cleanupSemantic(it),this.diff_cleanupEfficiency(it));else if(_e&&typeof _e=="object"&&typeof st>"u"&&typeof ot>"u")it=_e,rt=this.diff_text1(it);else if(typeof _e=="string"&&st&&typeof st=="object"&&typeof ot>"u")rt=_e,it=st;else if(typeof _e=="string"&&typeof st=="string"&&ot&&typeof ot=="object")rt=_e,it=ot;else throw new Error("Unknown call format to patch_make.");if(it.length===0)return[];for(var j=[],_=new s.patch_obj,$=0,et=0,nt=0,at=rt,ct=rt,ht=0;ht<it.length;ht++){var ut=it[ht][0],dt=it[ht][1];switch(!$&&ut!==tt&&(_.start1=et,_.start2=nt),ut){case a:_.diffs[$++]=it[ht],_.length2+=dt.length,ct=ct.substring(0,nt)+dt+ct.substring(nt);break;case o:_.length1+=dt.length,_.diffs[$++]=it[ht],ct=ct.substring(0,nt)+ct.substring(nt+dt.length);break;case tt:dt.length<=2*this.Patch_Margin&&$&&it.length!=ht+1?(_.diffs[$++]=it[ht],_.length1+=dt.length,_.length2+=dt.length):dt.length>=2*this.Patch_Margin&&$&&(this.patch_addContext_(_,at),j.push(_),_=new s.patch_obj,$=0,at=ct,et=nt);break}ut!==a&&(et+=dt.length),ut!==o&&(nt+=dt.length)}return $&&(this.patch_addContext_(_,at),j.push(_)),j},s.prototype.patch_deepCopy=function(_e){for(var st=[],ot=0;ot<_e.length;ot++){var rt=_e[ot],it=new s.patch_obj;it.diffs=[];for(var j=0;j<rt.diffs.length;j++)it.diffs[j]=new s.Diff(rt.diffs[j][0],rt.diffs[j][1]);it.start1=rt.start1,it.start2=rt.start2,it.length1=rt.length1,it.length2=rt.length2,st[ot]=it}return st},s.prototype.patch_apply=function(_e,st){if(_e.length==0)return[st,[]];_e=this.patch_deepCopy(_e);var ot=this.patch_addPadding(_e);st=ot+st+ot,this.patch_splitMax(_e);for(var rt=0,it=[],j=0;j<_e.length;j++){var _=_e[j].start2+rt,$=this.diff_text1(_e[j].diffs),et,nt=-1;if($.length>this.Match_MaxBits?(et=this.match_main(st,$.substring(0,this.Match_MaxBits),_),et!=-1&&(nt=this.match_main(st,$.substring($.length-this.Match_MaxBits),_+$.length-this.Match_MaxBits),(nt==-1||et>=nt)&&(et=-1))):et=this.match_main(st,$,_),et==-1)it[j]=!1,rt-=_e[j].length2-_e[j].length1;else{it[j]=!0,rt=et-_;var at;if(nt==-1?at=st.substring(et,et+$.length):at=st.substring(et,nt+this.Match_MaxBits),$==at)st=st.substring(0,et)+this.diff_text2(_e[j].diffs)+st.substring(et+$.length);else{var ct=this.diff_main($,at,!1);if($.length>this.Match_MaxBits&&this.diff_levenshtein(ct)/$.length>this.Patch_DeleteThreshold)it[j]=!1;else{this.diff_cleanupSemanticLossless(ct);for(var ht=0,ut,dt=0;dt<_e[j].diffs.length;dt++){var mt=_e[j].diffs[dt];mt[0]!==tt&&(ut=this.diff_xIndex(ct,ht)),mt[0]===a?st=st.substring(0,et+ut)+mt[1]+st.substring(et+ut):mt[0]===o&&(st=st.substring(0,et+ut)+st.substring(et+this.diff_xIndex(ct,ht+mt[1].length))),mt[0]!==o&&(ht+=mt[1].length)}}}}}return st=st.substring(ot.length,st.length-ot.length),[st,it]},s.prototype.patch_addPadding=function(_e){for(var st=this.Patch_Margin,ot="",rt=1;rt<=st;rt++)ot+=String.fromCharCode(rt);for(var rt=0;rt<_e.length;rt++)_e[rt].start1+=st,_e[rt].start2+=st;var it=_e[0],j=it.diffs;if(j.length==0||j[0][0]!=tt)j.unshift(new s.Diff(tt,ot)),it.start1-=st,it.start2-=st,it.length1+=st,it.length2+=st;else if(st>j[0][1].length){var _=st-j[0][1].length;j[0][1]=ot.substring(j[0][1].length)+j[0][1],it.start1-=_,it.start2-=_,it.length1+=_,it.length2+=_}if(it=_e[_e.length-1],j=it.diffs,j.length==0||j[j.length-1][0]!=tt)j.push(new s.Diff(tt,ot)),it.length1+=st,it.length2+=st;else if(st>j[j.length-1][1].length){var _=st-j[j.length-1][1].length;j[j.length-1][1]+=ot.substring(0,_),it.length1+=_,it.length2+=_}return ot},s.prototype.patch_splitMax=function(_e){for(var st=this.Match_MaxBits,ot=0;ot<_e.length;ot++)if(!(_e[ot].length1<=st)){var rt=_e[ot];_e.splice(ot--,1);for(var it=rt.start1,j=rt.start2,_="";rt.diffs.length!==0;){var $=new s.patch_obj,et=!0;for($.start1=it-_.length,$.start2=j-_.length,_!==""&&($.length1=$.length2=_.length,$.diffs.push(new s.Diff(tt,_)));rt.diffs.length!==0&&$.length1<st-this.Patch_Margin;){var nt=rt.diffs[0][0],at=rt.diffs[0][1];nt===a?($.length2+=at.length,j+=at.length,$.diffs.push(rt.diffs.shift()),et=!1):nt===o&&$.diffs.length==1&&$.diffs[0][0]==tt&&at.length>2*st?($.length1+=at.length,it+=at.length,et=!1,$.diffs.push(new s.Diff(nt,at)),rt.diffs.shift()):(at=at.substring(0,st-$.length1-this.Patch_Margin),$.length1+=at.length,it+=at.length,nt===tt?($.length2+=at.length,j+=at.length):et=!1,$.diffs.push(new s.Diff(nt,at)),at==rt.diffs[0][1]?rt.diffs.shift():rt.diffs[0][1]=rt.diffs[0][1].substring(at.length))}_=this.diff_text2($.diffs),_=_.substring(_.length-this.Patch_Margin);var ct=this.diff_text1(rt.diffs).substring(0,this.Patch_Margin);ct!==""&&($.length1+=ct.length,$.length2+=ct.length,$.diffs.length!==0&&$.diffs[$.diffs.length-1][0]===tt?$.diffs[$.diffs.length-1][1]+=ct:$.diffs.push(new s.Diff(tt,ct))),et||_e.splice(++ot,0,$)}}},s.prototype.patch_toText=function(_e){for(var st=[],ot=0;ot<_e.length;ot++)st[ot]=_e[ot];return st.join("")},s.prototype.patch_fromText=function(_e){var st=[];if(!_e)return st;for(var ot=_e.split(`
`),rt=0,it=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;rt<ot.length;){var j=ot[rt].match(it);if(!j)throw new Error("Invalid patch string: "+ot[rt]);var _=new s.patch_obj;for(st.push(_),_.start1=parseInt(j[1],10),j[2]===""?(_.start1--,_.length1=1):j[2]=="0"?_.length1=0:(_.start1--,_.length1=parseInt(j[2],10)),_.start2=parseInt(j[3],10),j[4]===""?(_.start2--,_.length2=1):j[4]=="0"?_.length2=0:(_.start2--,_.length2=parseInt(j[4],10)),rt++;rt<ot.length;){var $=ot[rt].charAt(0);try{var et=decodeURI(ot[rt].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+et)}if($=="-")_.diffs.push(new s.Diff(o,et));else if($=="+")_.diffs.push(new s.Diff(a,et));else if($==" ")_.diffs.push(new s.Diff(tt,et));else{if($=="@")break;if($!=="")throw new Error('Invalid patch mode "'+$+'" in: '+et)}rt++}}return st},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var _e,st;this.length1===0?_e=this.start1+",0":this.length1==1?_e=this.start1+1:_e=this.start1+1+","+this.length1,this.length2===0?st=this.start2+",0":this.length2==1?st=this.start2+1:st=this.start2+1+","+this.length2;for(var ot=["@@ -"+_e+" +"+st+` @@
`],rt,it=0;it<this.diffs.length;it++){switch(this.diffs[it][0]){case a:rt="+";break;case o:rt="-";break;case tt:rt=" ";break}ot[it+1]=rt+encodeURI(this.diffs[it][1])+`
`}return ot.join("").replace(/%20/g," ")},i.exports=s,i.exports.diff_match_patch=s,i.exports.DIFF_DELETE=o,i.exports.DIFF_INSERT=a,i.exports.DIFF_EQUAL=tt})(diffMatchPatch);var diffMatchPatchExports=diffMatchPatch.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,tt){a.__proto__=tt}||function(a,tt){for(var _e in tt)Object.prototype.hasOwnProperty.call(tt,_e)&&(a[_e]=tt[_e])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}();Object.defineProperty(diff,"__esModule",{value:!0});var PropTypes=propTypesExports,React=reactExports,split_1$1=split,DiffMatchPatch=diffMatchPatchExports,DiffComponent=function(i){__extends(s,i);function s(o){var a=i.call(this,o)||this;return a.state={value:a.props.value},a.onChange=a.onChange.bind(a),a.diff=a.diff.bind(a),a}return s.prototype.componentDidUpdate=function(){var o=this.props.value;o!==this.state.value&&this.setState({value:o})},s.prototype.onChange=function(o){this.setState({value:o}),this.props.onChange&&this.props.onChange(o)},s.prototype.diff=function(){var o=new DiffMatchPatch,a=this.state.value[0],tt=this.state.value[1];if(a.length===0&&tt.length===0)return[];var _e=o.diff_main(a,tt);o.diff_cleanupSemantic(_e);var st=this.generateDiffedLines(_e),ot=this.setCodeMarkers(st);return ot},s.prototype.generateDiffedLines=function(o){var a={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},tt={left:[],right:[]},_e={left:1,right:1};return o.forEach(function(st){var ot=st[0],rt=st[1],it=rt.split(`
`).length-1;if(rt.length!==0){var j=rt[0],_=rt[rt.length-1],$=0;switch(ot){case a.DIFF_EQUAL:_e.left+=it,_e.right+=it;break;case a.DIFF_DELETE:j===`
`&&(_e.left++,it--),$=it,$===0&&tt.right.push({startLine:_e.right,endLine:_e.right}),_===`
`&&($-=1),tt.left.push({startLine:_e.left,endLine:_e.left+$}),_e.left+=it;break;case a.DIFF_INSERT:j===`
`&&(_e.right++,it--),$=it,$===0&&tt.left.push({startLine:_e.left,endLine:_e.left}),_===`
`&&($-=1),tt.right.push({startLine:_e.right,endLine:_e.right+$}),_e.right+=it;break;default:throw new Error("Diff type was not defined.")}}}),tt},s.prototype.setCodeMarkers=function(o){o===void 0&&(o={left:[],right:[]});for(var a=[],tt={left:[],right:[]},_e=0;_e<o.left.length;_e++){var st={startRow:o.left[_e].startLine-1,endRow:o.left[_e].endLine,type:"text",className:"codeMarker"};tt.left.push(st)}for(var _e=0;_e<o.right.length;_e++){var st={startRow:o.right[_e].startLine-1,endRow:o.right[_e].endLine,type:"text",className:"codeMarker"};tt.right.push(st)}return a[0]=tt.left,a[1]=tt.right,a},s.prototype.render=function(){var o=this.diff();return React.createElement(split_1$1.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:o})},s.propTypes={cursorStart:PropTypes.number,editorProps:PropTypes.object,enableBasicAutocompletion:PropTypes.bool,enableLiveAutocompletion:PropTypes.bool,focus:PropTypes.bool,fontSize:PropTypes.number,height:PropTypes.string,highlightActiveLine:PropTypes.bool,maxLines:PropTypes.number,minLines:PropTypes.number,mode:PropTypes.string,name:PropTypes.string,className:PropTypes.string,onLoad:PropTypes.func,onPaste:PropTypes.func,onScroll:PropTypes.func,onChange:PropTypes.func,orientation:PropTypes.string,readOnly:PropTypes.bool,scrollMargin:PropTypes.array,setOptions:PropTypes.object,showGutter:PropTypes.bool,showPrintMargin:PropTypes.bool,splits:PropTypes.number,style:PropTypes.object,tabSize:PropTypes.number,theme:PropTypes.string,value:PropTypes.array,width:PropTypes.string,wrapEnabled:PropTypes.bool},s.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},s}(React.Component);diff.default=DiffComponent;Object.defineProperty(lib$1,"__esModule",{value:!0});lib$1.diff=lib$1.split=void 0;var ace_1=ace$4,diff_1=diff;lib$1.diff=diff_1.default;var split_1=split;lib$1.split=split_1.default;var _default=lib$1.default=ace_1.default;const useTypedSelector=useSelector,useTypedDispatch=useDispatch,BAUD_RATE_SPIKE_PRIME=115200,KEYBOARD_INTERRUPT="",END_OF_TRANSMISSION="",RAW_MODE_ENTER="",RAW_MODE_COMPILE="",RAW_MODE_EXIT="";var Languages=(i=>(i.SOURCE_THREE_INTERPRETER="Source 3 (Legacy)",i.PYTHON="Python",i))(Languages||{});const supportedLanguages=["Python","Source 3 (Legacy)"],languageToModeMap=Object.freeze({Python:"python","Source 3 (Legacy)":"javascript"});var extLanguage_tools={exports:{}};(function(i,s){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(o,a,tt){var _e=o("./lib/dom"),st=o("./lib/oop"),ot=o("./lib/event_emitter").EventEmitter,rt=o("./lib/lang"),it=o("./range").Range,j=o("./range_list").RangeList,_=o("./keyboard/hash_handler").HashHandler,$=o("./tokenizer").Tokenizer,et=o("./clipboard"),nt={CURRENT_WORD:function(lt){return lt.session.getTextRange(lt.session.getWordRange())},SELECTION:function(lt,St,xt){var yt=lt.session.getTextRange();return xt?yt.replace(/\n\r?([ \t]*\S)/g,`
`+xt+"$1"):yt},CURRENT_LINE:function(lt){return lt.session.getLine(lt.getCursorPosition().row)},PREV_LINE:function(lt){return lt.session.getLine(lt.getCursorPosition().row-1)},LINE_INDEX:function(lt){return lt.getCursorPosition().row},LINE_NUMBER:function(lt){return lt.getCursorPosition().row+1},SOFT_TABS:function(lt){return lt.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(lt){return lt.session.getTabSize()},CLIPBOARD:function(lt){return et.getText&&et.getText()},FILENAME:function(lt){return/[^/\\]*$/.exec(this.FILEPATH(lt))[0]},FILENAME_BASE:function(lt){return/[^/\\]*$/.exec(this.FILEPATH(lt))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(lt){return this.FILEPATH(lt).replace(/[^/\\]*$/,"")},FILEPATH:function(lt){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(lt){var St=lt.session.$mode||{};return St.blockComment&&St.blockComment.start||""},BLOCK_COMMENT_END:function(lt){var St=lt.session.$mode||{};return St.blockComment&&St.blockComment.end||""},LINE_COMMENT:function(lt){var St=lt.session.$mode||{};return St.lineCommentStart||""},CURRENT_YEAR:at.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:at.bind(null,{year:"2-digit"}),CURRENT_MONTH:at.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:at.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:at.bind(null,{month:"short"}),CURRENT_DATE:at.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:at.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:at.bind(null,{weekday:"short"}),CURRENT_HOUR:at.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:at.bind(null,{minute:"2-digit"}),CURRENT_SECOND:at.bind(null,{second:"2-digit"})};nt.SELECTED_TEXT=nt.SELECTION;function at(lt){var St=new Date().toLocaleString("en-us",lt);return St.length==1?"0"+St:St}var ct=function(){function lt(){this.snippetMap={},this.snippetNameMap={},this.variables=nt}return lt.prototype.getTokenizer=function(){return lt.$tokenizer||this.createTokenizer()},lt.prototype.createTokenizer=function(){function St(_t){return _t=_t.substr(1),/^\d+$/.test(_t)?[{tabstopId:parseInt(_t,10)}]:[{text:_t}]}function xt(_t){return"(?:[^\\\\"+_t+"]|\\\\.)"}var yt={regex:"/("+xt("/")+"+)/",onMatch:function(_t,kt,Et){var $t=Et[0];return $t.fmtString=!0,$t.guard=_t.slice(1,-1),$t.flag="",""},next:"formatString"};return lt.$tokenizer=new $({start:[{regex:/\\./,onMatch:function(_t,kt,Et){var $t=_t[1];return($t=="}"&&Et.length||"`$\\".indexOf($t)!=-1)&&(_t=$t),[_t]}},{regex:/}/,onMatch:function(_t,kt,Et){return[Et.length?Et.shift():_t]}},{regex:/\$(?:\d+|\w+)/,onMatch:St},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(_t,kt,Et){var $t=St(_t.substr(1));return Et.unshift($t[0]),$t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+xt("\\|")+"*\\|",onMatch:function(_t,kt,Et){var $t=_t.slice(1,-1).replace(/\\[,|\\]|,/g,function(Tt){return Tt.length==2?Tt[1]:"\0"}).split("\0").map(function(Tt){return{value:Tt}});return Et[0].choices=$t,[$t[0]]},next:"start"},yt,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(_t,kt,Et){return Et.length&&Et[0].expectElse?(Et[0].expectElse=!1,Et[0].ifEnd={elseEnd:Et[0]},[Et[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(_t,kt,Et){var $t=_t[1];return $t=="}"&&Et.length||"`$\\".indexOf($t)!=-1?_t=$t:$t=="n"?_t=`
`:$t=="t"?_t="	":"ulULE".indexOf($t)!=-1&&(_t={changeCase:$t,local:$t>"a"}),[_t]}},{regex:"/\\w*}",onMatch:function(_t,kt,Et){var $t=Et.shift();return $t&&($t.flag=_t.slice(1,-1)),this.next=$t&&$t.tabstopId?"start":"",[$t||_t]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(_t,kt,Et){return[{text:_t.slice(1)}]}},{regex:/\${\w+/,onMatch:function(_t,kt,Et){var $t={text:_t.slice(2)};return Et.unshift($t),[$t]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(_t,kt,Et){var $t=Et.shift();return this.next=$t&&$t.tabstopId?"start":"",[$t||_t]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(_t,kt,Et){var $t=Et[0];return $t.formatFunction=_t.slice(2,-1),[Et.shift()]},next:"formatString"},yt,{regex:/:[\?\-+]?/,onMatch:function(_t,kt,Et){_t[1]=="+"&&(Et[0].ifEnd=Et[0]),_t[1]=="?"&&(Et[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),lt.$tokenizer},lt.prototype.tokenizeTmSnippet=function(St,xt){return this.getTokenizer().getLineTokens(St,xt).tokens.map(function(yt){return yt.value||yt})},lt.prototype.getVariableValue=function(St,xt,yt){if(/^\d+$/.test(xt))return(this.variables.__||{})[xt]||"";if(/^[A-Z]\d+$/.test(xt))return(this.variables[xt[0]+"__"]||{})[xt.substr(1)]||"";if(xt=xt.replace(/^TM_/,""),!this.variables.hasOwnProperty(xt))return"";var _t=this.variables[xt];return typeof _t=="function"&&(_t=this.variables[xt](St,xt,yt)),_t??""},lt.prototype.tmStrFormat=function(St,xt,yt){if(!xt.fmt)return St;var _t=xt.flag||"",kt=xt.guard;kt=new RegExp(kt,_t.replace(/[^gim]/g,""));var Et=typeof xt.fmt=="string"?this.tokenizeTmSnippet(xt.fmt,"formatString"):xt.fmt,$t=this,Tt=St.replace(kt,function(){var At=$t.variables.__;$t.variables.__=[].slice.call(arguments);for(var Mt=$t.resolveVariables(Et,yt),Ot="E",Pt=0;Pt<Mt.length;Pt++){var Ft=Mt[Pt];if(typeof Ft=="object")if(Mt[Pt]="",Ft.changeCase&&Ft.local){var zt=Mt[Pt+1];zt&&typeof zt=="string"&&(Ft.changeCase=="u"?Mt[Pt]=zt[0].toUpperCase():Mt[Pt]=zt[0].toLowerCase(),Mt[Pt+1]=zt.substr(1))}else Ft.changeCase&&(Ot=Ft.changeCase);else Ot=="U"?Mt[Pt]=Ft.toUpperCase():Ot=="L"&&(Mt[Pt]=Ft.toLowerCase())}return $t.variables.__=At,Mt.join("")});return Tt},lt.prototype.tmFormatFunction=function(St,xt,yt){return xt.formatFunction=="upcase"?St.toUpperCase():xt.formatFunction=="downcase"?St.toLowerCase():St},lt.prototype.resolveVariables=function(St,xt){for(var yt=[],_t="",kt=!0,Et=0;Et<St.length;Et++){var $t=St[Et];if(typeof $t=="string"){yt.push($t),$t==`
`?(kt=!0,_t=""):kt&&(_t=/^\t*/.exec($t)[0],kt=/\S/.test($t));continue}if($t){if(kt=!1,$t.fmtString){var Tt=St.indexOf($t,Et+1);Tt==-1&&(Tt=St.length),$t.fmt=St.slice(Et+1,Tt),Et=Tt}if($t.text){var At=this.getVariableValue(xt,$t.text,_t)+"";$t.fmtString&&(At=this.tmStrFormat(At,$t,xt)),$t.formatFunction&&(At=this.tmFormatFunction(At,$t,xt)),At&&!$t.ifEnd?(yt.push(At),Mt($t)):!At&&$t.ifEnd&&Mt($t.ifEnd)}else $t.elseEnd?Mt($t.elseEnd):($t.tabstopId!=null||$t.changeCase!=null)&&yt.push($t)}}function Mt(Ot){var Pt=St.indexOf(Ot,Et+1);Pt!=-1&&(Et=Pt)}return yt},lt.prototype.getDisplayTextForSnippet=function(St,xt){var yt=ht.call(this,St,xt);return yt.text},lt.prototype.insertSnippetForSelection=function(St,xt,yt){yt===void 0&&(yt={});var _t=ht.call(this,St,xt,yt),kt=St.getSelectionRange(),Et=St.session.replace(kt,_t.text),$t=new ut(St),Tt=St.inVirtualSelectionMode&&St.selection.index;$t.addTabstops(_t.tabstops,kt.start,Et,Tt)},lt.prototype.insertSnippet=function(St,xt,yt){yt===void 0&&(yt={});var _t=this;if(St.inVirtualSelectionMode)return _t.insertSnippetForSelection(St,xt,yt);St.forEachSelection(function(){_t.insertSnippetForSelection(St,xt,yt)},null,{keepOrder:!0}),St.tabstopManager&&St.tabstopManager.tabNext()},lt.prototype.$getScope=function(St){var xt=St.session.$mode.$id||"";if(xt=xt.split("/").pop(),xt==="html"||xt==="php"){xt==="php"&&!St.session.$mode.inlinePhp&&(xt="html");var yt=St.getCursorPosition(),_t=St.session.getState(yt.row);typeof _t=="object"&&(_t=_t[0]),_t.substring&&(_t.substring(0,3)=="js-"?xt="javascript":_t.substring(0,4)=="css-"?xt="css":_t.substring(0,4)=="php-"&&(xt="php"))}return xt},lt.prototype.getActiveScopes=function(St){var xt=this.$getScope(St),yt=[xt],_t=this.snippetMap;return _t[xt]&&_t[xt].includeScopes&&yt.push.apply(yt,_t[xt].includeScopes),yt.push("_"),yt},lt.prototype.expandWithTab=function(St,xt){var yt=this,_t=St.forEachSelection(function(){return yt.expandSnippetForSelection(St,xt)},null,{keepOrder:!0});return _t&&St.tabstopManager&&St.tabstopManager.tabNext(),_t},lt.prototype.expandSnippetForSelection=function(St,xt){var yt=St.getCursorPosition(),_t=St.session.getLine(yt.row),kt=_t.substring(0,yt.column),Et=_t.substr(yt.column),$t=this.snippetMap,Tt;return this.getActiveScopes(St).some(function(At){var Mt=$t[At];return Mt&&(Tt=this.findMatchingSnippet(Mt,kt,Et)),!!Tt},this),Tt?(xt&&xt.dryRun||(St.session.doc.removeInLine(yt.row,yt.column-Tt.replaceBefore.length,yt.column+Tt.replaceAfter.length),this.variables.M__=Tt.matchBefore,this.variables.T__=Tt.matchAfter,this.insertSnippetForSelection(St,Tt.content),this.variables.M__=this.variables.T__=null),!0):!1},lt.prototype.findMatchingSnippet=function(St,xt,yt){for(var _t=St.length;_t--;){var kt=St[_t];if(!(kt.startRe&&!kt.startRe.test(xt))&&!(kt.endRe&&!kt.endRe.test(yt))&&!(!kt.startRe&&!kt.endRe))return kt.matchBefore=kt.startRe?kt.startRe.exec(xt):[""],kt.matchAfter=kt.endRe?kt.endRe.exec(yt):[""],kt.replaceBefore=kt.triggerRe?kt.triggerRe.exec(xt)[0]:"",kt.replaceAfter=kt.endTriggerRe?kt.endTriggerRe.exec(yt)[0]:"",kt}},lt.prototype.register=function(St,xt){var yt=this.snippetMap,_t=this.snippetNameMap,kt=this;St||(St=[]);function Et(At){return At&&!/^\^?\(.*\)\$?$|^\\b$/.test(At)&&(At="(?:"+At+")"),At||""}function $t(At,Mt,Ot){return At=Et(At),Mt=Et(Mt),At=Mt+At,At&&At[At.length-1]!="$"&&(At=At+"$"),new RegExp(At)}function Tt(At){At.scope||(At.scope=xt||"_"),xt=At.scope,yt[xt]||(yt[xt]=[],_t[xt]={});var Mt=_t[xt];if(At.name){var Ot=Mt[At.name];Ot&&kt.unregister(Ot),Mt[At.name]=At}yt[xt].push(At),At.prefix&&(At.tabTrigger=At.prefix),!At.content&&At.body&&(At.content=Array.isArray(At.body)?At.body.join(`
`):At.body),At.tabTrigger&&!At.trigger&&(!At.guard&&/^\w/.test(At.tabTrigger)&&(At.guard="\\b"),At.trigger=rt.escapeRegExp(At.tabTrigger)),!(!At.trigger&&!At.guard&&!At.endTrigger&&!At.endGuard)&&(At.startRe=$t(At.trigger,At.guard),At.triggerRe=new RegExp(At.trigger),At.endRe=$t(At.endTrigger,At.endGuard),At.endTriggerRe=new RegExp(At.endTrigger))}Array.isArray(St)?St.forEach(Tt):Object.keys(St).forEach(function(At){Tt(St[At])}),this._signal("registerSnippets",{scope:xt})},lt.prototype.unregister=function(St,xt){var yt=this.snippetMap,_t=this.snippetNameMap;function kt(Et){var $t=_t[Et.scope||xt];if($t&&$t[Et.name]){delete $t[Et.name];var Tt=yt[Et.scope||xt],At=Tt&&Tt.indexOf(Et);At>=0&&Tt.splice(At,1)}}St.content?kt(St):Array.isArray(St)&&St.forEach(kt)},lt.prototype.parseSnippetFile=function(St){St=St.replace(/\r/g,"");for(var xt=[],yt={},_t=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,kt;kt=_t.exec(St);){if(kt[1])try{yt=JSON.parse(kt[1]),xt.push(yt)}catch{}if(kt[4])yt.content=kt[4].replace(/^\t/gm,""),xt.push(yt),yt={};else{var Et=kt[2],$t=kt[3];if(Et=="regex"){var Tt=/\/((?:[^\/\\]|\\.)*)|$/g;yt.guard=Tt.exec($t)[1],yt.trigger=Tt.exec($t)[1],yt.endTrigger=Tt.exec($t)[1],yt.endGuard=Tt.exec($t)[1]}else Et=="snippet"?(yt.tabTrigger=$t.match(/^\S*/)[0],yt.name||(yt.name=$t)):Et&&(yt[Et]=$t)}}return xt},lt.prototype.getSnippetByName=function(St,xt){var yt=this.snippetNameMap,_t;return this.getActiveScopes(xt).some(function(kt){var Et=yt[kt];return Et&&(_t=Et[St]),!!_t},this),_t},lt}();st.implement(ct.prototype,ot);var ht=function(lt,St,xt){xt===void 0&&(xt={});var yt=lt.getCursorPosition(),_t=lt.session.getLine(yt.row),kt=lt.session.getTabString(),Et=_t.match(/^\s*/)[0];yt.column<Et.length&&(Et=Et.slice(0,yt.column)),St=St.replace(/\r/g,"");var $t=this.tokenizeTmSnippet(St);$t=this.resolveVariables($t,lt),$t=$t.map(function(tr){return tr==`
`&&!xt.excludeExtraIndent?tr+Et:typeof tr=="string"?tr.replace(/\t/g,kt):tr});var Tt=[];$t.forEach(function(tr,mr){if(typeof tr=="object"){var yr=tr.tabstopId,xr=Tt[yr];if(xr||(xr=Tt[yr]=[],xr.index=yr,xr.value="",xr.parents={}),xr.indexOf(tr)===-1){tr.choices&&!xr.choices&&(xr.choices=tr.choices),xr.push(tr);var vr=$t.indexOf(tr,mr+1);if(vr!==-1){var ir=$t.slice(mr+1,vr),sr=ir.some(function(er){return typeof er=="object"});sr&&!xr.value?xr.value=ir:ir.length&&(!xr.value||typeof xr.value!="string")&&(xr.value=ir.join(""))}}}}),Tt.forEach(function(tr){tr.length=0});var At={};function Mt(tr){for(var mr=[],yr=0;yr<tr.length;yr++){var xr=tr[yr];if(typeof xr=="object"){if(At[xr.tabstopId])continue;var vr=tr.lastIndexOf(xr,yr-1);xr=mr[vr]||{tabstopId:xr.tabstopId}}mr[yr]=xr}return mr}for(var Ot=0;Ot<$t.length;Ot++){var Pt=$t[Ot];if(typeof Pt=="object"){var Ft=Pt.tabstopId,zt=Tt[Ft],qt=$t.indexOf(Pt,Ot+1);if(At[Ft]){At[Ft]===Pt&&(delete At[Ft],Object.keys(At).forEach(function(tr){zt.parents[tr]=!0}));continue}At[Ft]=Pt;var Gt=zt.value;typeof Gt!="string"?Gt=Mt(Gt):Pt.fmt&&(Gt=this.tmStrFormat(Gt,Pt,lt)),$t.splice.apply($t,[Ot+1,Math.max(0,qt-Ot)].concat(Gt,Pt)),zt.indexOf(Pt)===-1&&zt.push(Pt)}}var Wt=0,Xt=0,rr="";return $t.forEach(function(tr){if(typeof tr=="string"){var mr=tr.split(`
`);mr.length>1?(Xt=mr[mr.length-1].length,Wt+=mr.length-1):Xt+=tr.length,rr+=tr}else tr&&(tr.start?tr.end={row:Wt,column:Xt}:tr.start={row:Wt,column:Xt})}),{text:rr,tabstops:Tt,tokens:$t}},ut=function(){function lt(St){if(this.index=0,this.ranges=[],this.tabstops=[],St.tabstopManager)return St.tabstopManager;St.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=rt.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(St)}return lt.prototype.attach=function(St){this.$openTabstops=null,this.selectedTabstop=null,this.editor=St,this.session=St.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},lt.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},lt.prototype.onChange=function(St){for(var xt=St.action[0]=="r",yt=this.selectedTabstop||{},_t=yt.parents||{},kt=this.tabstops.slice(),Et=0;Et<kt.length;Et++){var $t=kt[Et],Tt=$t==yt||_t[$t.index];if($t.rangeList.$bias=Tt?0:1,St.action=="remove"&&$t!==yt){var At=$t.parents&&$t.parents[yt.index],Mt=$t.rangeList.pointIndex(St.start,At);Mt=Mt<0?-Mt-1:Mt+1;var Ot=$t.rangeList.pointIndex(St.end,At);Ot=Ot<0?-Ot-1:Ot-1;for(var Pt=$t.rangeList.ranges.slice(Mt,Ot),Ft=0;Ft<Pt.length;Ft++)this.removeRange(Pt[Ft])}$t.rangeList.$onChange(St)}var zt=this.session;!this.$inChange&&xt&&zt.getLength()==1&&!zt.getValue()&&this.detach()},lt.prototype.updateLinkedFields=function(){var St=this.selectedTabstop;if(!(!St||!St.hasLinkedRanges||!St.firstNonLinked)){this.$inChange=!0;for(var xt=this.session,yt=xt.getTextRange(St.firstNonLinked),_t=0;_t<St.length;_t++){var kt=St[_t];if(kt.linked){var Et=kt.original,$t=a.snippetManager.tmStrFormat(yt,Et,this.editor);xt.replace(kt,$t)}}this.$inChange=!1}},lt.prototype.onAfterExec=function(St){St.command&&!St.command.readOnly&&this.updateLinkedFields()},lt.prototype.onChangeSelection=function(){if(this.editor){for(var St=this.editor.selection.lead,xt=this.editor.selection.anchor,yt=this.editor.selection.isEmpty(),_t=0;_t<this.ranges.length;_t++)if(!this.ranges[_t].linked){var kt=this.ranges[_t].contains(St.row,St.column),Et=yt||this.ranges[_t].contains(xt.row,xt.column);if(kt&&Et)return}this.detach()}},lt.prototype.onChangeSession=function(){this.detach()},lt.prototype.tabNext=function(St){var xt=this.tabstops.length,yt=this.index+(St||1);yt=Math.min(Math.max(yt,1),xt),yt==xt&&(yt=0),this.selectTabstop(yt),this.updateTabstopMarkers(),yt===0&&this.detach()},lt.prototype.selectTabstop=function(St){this.$openTabstops=null;var xt=this.tabstops[this.index];if(xt&&this.addTabstopMarkers(xt),this.index=St,xt=this.tabstops[this.index],!(!xt||!xt.length)){this.selectedTabstop=xt;var yt=xt.firstNonLinked||xt;if(xt.choices&&(yt.cursor=yt.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(yt);else{var _t=this.editor.multiSelect;_t.toSingleRange(yt);for(var kt=0;kt<xt.length;kt++)xt.hasLinkedRanges&&xt[kt].linked||_t.addRange(xt[kt].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},lt.prototype.addTabstops=function(St,xt,yt){var _t=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!St[0]){var kt=it.fromPoints(yt,yt);mt(kt.start,xt),mt(kt.end,xt),St[0]=[kt],St[0].index=0}var Et=this.index,$t=[Et+1,0],Tt=this.ranges,At=this.snippetId=(this.snippetId||0)+1;St.forEach(function(Mt,Ot){var Pt=this.$openTabstops[Ot]||Mt;Pt.snippetId=At;for(var Ft=0;Ft<Mt.length;Ft++){var zt=Mt[Ft],qt=it.fromPoints(zt.start,zt.end||zt.start);dt(qt.start,xt),dt(qt.end,xt),qt.original=zt,qt.tabstop=Pt,Tt.push(qt),Pt!=Mt?Pt.unshift(qt):Pt[Ft]=qt,zt.fmtString||Pt.firstNonLinked&&_t?(qt.linked=!0,Pt.hasLinkedRanges=!0):Pt.firstNonLinked||(Pt.firstNonLinked=qt)}Pt.firstNonLinked||(Pt.hasLinkedRanges=!1),Pt===Mt&&($t.push(Pt),this.$openTabstops[Ot]=Pt),this.addTabstopMarkers(Pt),Pt.rangeList=Pt.rangeList||new j,Pt.rangeList.$bias=0,Pt.rangeList.addList(Pt)},this),$t.length>2&&(this.tabstops.length&&$t.push($t.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,$t))},lt.prototype.addTabstopMarkers=function(St){var xt=this.session;St.forEach(function(yt){yt.markerId||(yt.markerId=xt.addMarker(yt,"ace_snippet-marker","text"))})},lt.prototype.removeTabstopMarkers=function(St){var xt=this.session;St.forEach(function(yt){xt.removeMarker(yt.markerId),yt.markerId=null})},lt.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var St=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&St--,this.tabstops.forEach(function(xt){xt.snippetId===St?this.addTabstopMarkers(xt):this.removeTabstopMarkers(xt)},this)}},lt.prototype.removeRange=function(St){var xt=St.tabstop.indexOf(St);xt!=-1&&St.tabstop.splice(xt,1),xt=this.ranges.indexOf(St),xt!=-1&&this.ranges.splice(xt,1),xt=St.tabstop.rangeList.ranges.indexOf(St),xt!=-1&&St.tabstop.splice(xt,1),this.session.removeMarker(St.markerId),St.tabstop.length||(xt=this.tabstops.indexOf(St.tabstop),xt!=-1&&this.tabstops.splice(xt,1),this.tabstops.length||this.detach())},lt}();ut.prototype.keyboardHandler=new _,ut.prototype.keyboardHandler.bindKeys({Tab:function(lt){a.snippetManager&&a.snippetManager.expandWithTab(lt)||(lt.tabstopManager.tabNext(1),lt.renderer.scrollCursorIntoView())},"Shift-Tab":function(lt){lt.tabstopManager.tabNext(-1),lt.renderer.scrollCursorIntoView()},Esc:function(lt){lt.tabstopManager.detach()}});var dt=function(lt,St){lt.row==0&&(lt.column+=St.column),lt.row+=St.row},mt=function(lt,St){lt.row==St.row&&(lt.column-=St.column),lt.row-=St.row};_e.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),a.snippetManager=new ct;var gt=o("./editor").Editor;(function(){this.insertSnippet=function(lt,St){return a.snippetManager.insertSnippet(this,lt,St)},this.expandSnippet=function(lt){return a.snippetManager.expandWithTab(this,lt)}}).call(gt.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(o,a,tt){var _e=o("../virtual_renderer").VirtualRenderer,st=o("../editor").Editor,ot=o("../range").Range,rt=o("../lib/event"),it=o("../lib/lang"),j=o("../lib/dom"),_=o("../config").nls,$=o("./../lib/useragent"),et=function(dt){return"suggest-aria-id:".concat(dt)},nt=$.isSafari?"menu":"listbox",at=$.isSafari?"menuitem":"option",ct=$.isSafari?"aria-current":"aria-selected",ht=function(dt){var mt=new _e(dt);mt.$maxLines=4;var gt=new st(mt);return gt.setHighlightActiveLine(!1),gt.setShowPrintMargin(!1),gt.renderer.setShowGutter(!1),gt.renderer.setHighlightGutterLine(!1),gt.$mouseHandler.$focusTimeout=0,gt.$highlightTagPending=!0,gt},ut=function(){function dt(mt){var gt=j.createElement("div"),lt=ht(gt);mt&&mt.appendChild(gt),gt.style.display="none",lt.renderer.content.style.cursor="default",lt.renderer.setStyle("ace_autocomplete"),lt.renderer.$textLayer.element.setAttribute("role",nt),lt.renderer.$textLayer.element.setAttribute("aria-roledescription",_("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),lt.renderer.$textLayer.element.setAttribute("aria-label",_("autocomplete.popup.aria-label","Autocomplete suggestions")),lt.renderer.textarea.setAttribute("aria-hidden","true"),lt.setOption("displayIndentGuides",!1),lt.setOption("dragDelay",150);var St=function(){};lt.focus=St,lt.$isFocused=!0,lt.renderer.$cursorLayer.restartTimer=St,lt.renderer.$cursorLayer.element.style.opacity="0",lt.renderer.$maxLines=8,lt.renderer.$keepTextAreaAtCursor=!1,lt.setHighlightActiveLine(!1),lt.session.highlight(""),lt.session.$searchHighlight.clazz="ace_highlight-marker",lt.on("mousedown",function(Tt){var At=Tt.getDocumentPosition();lt.selection.moveToPosition(At),_t.start.row=_t.end.row=At.row,Tt.stop()});var xt,yt=new ot(-1,0,-1,1/0),_t=new ot(-1,0,-1,1/0);_t.id=lt.session.addMarker(_t,"ace_active-line","fullLine"),lt.setSelectOnHover=function(Tt){Tt?yt.id&&(lt.session.removeMarker(yt.id),yt.id=null):yt.id=lt.session.addMarker(yt,"ace_line-hover","fullLine")},lt.setSelectOnHover(!1),lt.on("mousemove",function(Tt){if(!xt){xt=Tt;return}if(!(xt.x==Tt.x&&xt.y==Tt.y)){xt=Tt,xt.scrollTop=lt.renderer.scrollTop,lt.isMouseOver=!0;var At=xt.getDocumentPosition().row;yt.start.row!=At&&(yt.id||lt.setRow(At),Et(At))}}),lt.renderer.on("beforeRender",function(){if(xt&&yt.start.row!=-1){xt.$pos=null;var Tt=xt.getDocumentPosition().row;yt.id||lt.setRow(Tt),Et(Tt,!0)}}),lt.renderer.on("afterRender",function(){var Tt=lt.getRow(),At=lt.renderer.$textLayer,Mt=At.element.childNodes[Tt-At.config.firstRow],Ot=document.activeElement;if(Mt!==lt.selectedNode&&lt.selectedNode&&(j.removeCssClass(lt.selectedNode,"ace_selected"),Ot.removeAttribute("aria-activedescendant"),lt.selectedNode.removeAttribute(ct),lt.selectedNode.removeAttribute("id")),lt.selectedNode=Mt,Mt){j.addCssClass(Mt,"ace_selected");var Pt=et(Tt);Mt.id=Pt,At.element.setAttribute("aria-activedescendant",Pt),Ot.setAttribute("aria-activedescendant",Pt),Mt.setAttribute("role",at),Mt.setAttribute("aria-roledescription",_("autocomplete.popup.item.aria-roledescription","item")),Mt.setAttribute("aria-label",lt.getData(Tt).caption||lt.getData(Tt).value),Mt.setAttribute("aria-setsize",lt.data.length),Mt.setAttribute("aria-posinset",Tt+1),Mt.setAttribute("aria-describedby","doc-tooltip"),Mt.setAttribute(ct,"true")}});var kt=function(){Et(-1)},Et=function(Tt,At){Tt!==yt.start.row&&(yt.start.row=yt.end.row=Tt,At||lt.session._emit("changeBackMarker"),lt._emit("changeHoverMarker"))};lt.getHoveredRow=function(){return yt.start.row},rt.addListener(lt.container,"mouseout",function(){lt.isMouseOver=!1,kt()}),lt.on("hide",kt),lt.on("changeSelection",kt),lt.session.doc.getLength=function(){return lt.data.length},lt.session.doc.getLine=function(Tt){var At=lt.data[Tt];return typeof At=="string"?At:At&&At.value||""};var $t=lt.session.bgTokenizer;return $t.$tokenizeRow=function(Tt){var At=lt.data[Tt],Mt=[];if(!At)return Mt;typeof At=="string"&&(At={value:At});var Ot=At.caption||At.value||At.name;function Pt(tr,mr){tr&&Mt.push({type:(At.className||"")+(mr||""),value:tr})}for(var Ft=Ot.toLowerCase(),zt=(lt.filterText||"").toLowerCase(),qt=0,Gt=0,Wt=0;Wt<=zt.length;Wt++)if(Wt!=Gt&&(At.matchMask&1<<Wt||Wt==zt.length)){var Xt=zt.slice(Gt,Wt);Gt=Wt;var rr=Ft.indexOf(Xt,qt);if(rr==-1)continue;Pt(Ot.slice(qt,rr),""),qt=rr+Xt.length,Pt(Ot.slice(rr,qt),"completion-highlight")}return Pt(Ot.slice(qt,Ot.length),""),Mt.push({type:"completion-spacer",value:" "}),At.meta&&Mt.push({type:"completion-meta",value:At.meta}),At.message&&Mt.push({type:"completion-message",value:At.message}),Mt},$t.$updateOnChange=St,$t.start=St,lt.session.$computeWidth=function(){return this.screenWidth=0},lt.isOpen=!1,lt.isTopdown=!1,lt.autoSelect=!0,lt.filterText="",lt.isMouseOver=!1,lt.data=[],lt.setData=function(Tt,At){lt.filterText=At||"",lt.setValue(it.stringRepeat(`
`,Tt.length),-1),lt.data=Tt||[],lt.setRow(0)},lt.getData=function(Tt){return lt.data[Tt]},lt.getRow=function(){return _t.start.row},lt.setRow=function(Tt){Tt=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,Tt)),_t.start.row!=Tt&&(lt.selection.clearSelection(),_t.start.row=_t.end.row=Tt||0,lt.session._emit("changeBackMarker"),lt.moveCursorTo(Tt||0,0),lt.isOpen&&lt._signal("select"))},lt.on("changeSelection",function(){lt.isOpen&&lt.setRow(lt.selection.lead.row),lt.renderer.scrollCursorIntoView()}),lt.hide=function(){this.container.style.display="none",lt.anchorPos=null,lt.anchor=null,lt.isOpen&&(lt.isOpen=!1,this._signal("hide"))},lt.tryShow=function(Tt,At,Mt,Ot){if(!Ot&&lt.isOpen&&lt.anchorPos&&lt.anchor&&lt.anchorPos.top===Tt.top&&lt.anchorPos.left===Tt.left&&lt.anchor===Mt)return!0;var Pt=this.container,Ft=window.innerHeight,zt=window.innerWidth,qt=this.renderer,Gt=qt.$maxLines*At*1.4,Wt={top:0,bottom:0,left:0},Xt=Ft-Tt.top-3*this.$borderSize-At,rr=Tt.top-3*this.$borderSize;Mt||(rr<=Xt||Xt>=Gt?Mt="bottom":Mt="top"),Mt==="top"?(Wt.bottom=Tt.top-this.$borderSize,Wt.top=Wt.bottom-Gt):Mt==="bottom"&&(Wt.top=Tt.top+At+this.$borderSize,Wt.bottom=Wt.top+Gt);var tr=Wt.top>=0&&Wt.bottom<=Ft;if(!Ot&&!tr)return!1;tr?qt.$maxPixelHeight=null:Mt==="top"?qt.$maxPixelHeight=rr:qt.$maxPixelHeight=Xt,Mt==="top"?(Pt.style.top="",Pt.style.bottom=Ft-Wt.bottom+"px",lt.isTopdown=!1):(Pt.style.top=Wt.top+"px",Pt.style.bottom="",lt.isTopdown=!0),Pt.style.display="";var mr=Tt.left;return mr+Pt.offsetWidth>zt&&(mr=zt-Pt.offsetWidth),Pt.style.left=mr+"px",Pt.style.right="",lt.isOpen||(lt.isOpen=!0,this._signal("show"),xt=null),lt.anchorPos=Tt,lt.anchor=Mt,!0},lt.show=function(Tt,At,Mt){this.tryShow(Tt,At,Mt?"bottom":void 0,!0)},lt.goTo=function(Tt){var At=this.getRow(),Mt=this.session.getLength()-1;switch(Tt){case"up":At=At<=0?Mt:At-1;break;case"down":At=At>=Mt?-1:At+1;break;case"start":At=0;break;case"end":At=Mt;break}this.setRow(At)},lt.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},lt.$imageSize=0,lt.$borderSize=1,lt}return dt}();j.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),a.AcePopup=ut,a.$singleLineEditor=ht,a.getAriaId=et}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(o,a,tt){var _e=function(){function st(ot){this.editor=ot,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return st.prototype.setScreenReaderContent=function(ot){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var it=this.popup.getRow(),j=this.popup.renderer.$textLayer,_=j.element.childNodes[it-j.config.firstRow];if(_){for(var $="doc-tooltip ",et=0;et<this._lines.length;et++)$+="ace-inline-screenreader-line-".concat(et," ");_.setAttribute("aria-describedby",$)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=ot.split(/\r\n|\r|\n/);var rt=this.createCodeBlock();this.screenReaderDiv.appendChild(rt)},st.prototype.destroy=function(){this.screenReaderDiv.remove()},st.prototype.createCodeBlock=function(){var ot=document.createElement("pre");ot.setAttribute("id","ace-inline-screenreader");for(var rt=0;rt<this._lines.length;rt++){var it=document.createElement("code");it.setAttribute("id","ace-inline-screenreader-line-".concat(rt));var j=document.createTextNode(this._lines[rt]);it.appendChild(j),ot.appendChild(it)}return ot},st}();a.AceInlineScreenReader=_e}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(o,a,tt){var _e=o("../snippets").snippetManager,st=o("./inline_screenreader").AceInlineScreenReader,ot=function(){function rt(){this.editor=null}return rt.prototype.show=function(it,j,_){if(_=_||"",it&&this.editor&&this.editor!==it&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!it||!j)return!1;this.inlineScreenReader||(this.inlineScreenReader=new st(it));var $=j.snippet?_e.getDisplayTextForSnippet(it,j.snippet):j.value;return j.hideInlinePreview||!$||!$.startsWith(_)?!1:(this.editor=it,this.inlineScreenReader.setScreenReaderContent($),$=$.slice(_.length),$===""?it.removeGhostText():it.setGhostText($),!0)},rt.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},rt.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},rt.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},rt}();a.AceInline=ot}),ace.define("ace/autocomplete/util",["require","exports","module"],function(o,a,tt){a.parForEach=function(st,ot,rt){var it=0,j=st.length;j===0&&rt();for(var _=0;_<j;_++)ot(st[_],function($,et){it++,it===j&&rt($,et)})};var _e=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;a.retrievePrecedingIdentifier=function(st,ot,rt){rt=rt||_e;for(var it=[],j=ot-1;j>=0&&rt.test(st[j]);j--)it.push(st[j]);return it.reverse().join("")},a.retrieveFollowingIdentifier=function(st,ot,rt){rt=rt||_e;for(var it=[],j=ot;j<st.length&&rt.test(st[j]);j++)it.push(st[j]);return it},a.getCompletionPrefix=function(st){var ot=st.getCursorPosition(),rt=st.session.getLine(ot.row),it;return st.completers.forEach((function(j){j.identifierRegexps&&j.identifierRegexps.forEach((function(_){!it&&_&&(it=this.retrievePrecedingIdentifier(rt,ot.column,_))}).bind(this))}).bind(this)),it||this.retrievePrecedingIdentifier(rt,ot.column)},a.triggerAutocomplete=function(st,rt){var rt=rt??st.session.getPrecedingCharacter();return st.completers.some(function(it){if(it.triggerCharacters&&Array.isArray(it.triggerCharacters))return it.triggerCharacters.includes(rt)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(o,a,tt){var _e=o("./keyboard/hash_handler").HashHandler,st=o("./autocomplete/popup").AcePopup,ot=o("./autocomplete/inline").AceInline,rt=o("./autocomplete/popup").getAriaId,it=o("./autocomplete/util"),j=o("./lib/lang"),_=o("./lib/dom"),$=o("./snippets").snippetManager,et=o("./config"),nt=o("./lib/event"),at=o("./lib/scroll").preventParentScroll,ct=function(mt,gt){gt.completer&&gt.completer.destroy()},ht=function(){function mt(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new _e,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=j.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=j.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=j.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=j.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=j.delayedCall((function(){var gt=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!gt||this.editor.completers.length===0||(this.completions=new dt(mt.completionsForLoading),this.openPopup(this.editor,gt.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(mt,"completionsForLoading",{get:function(){return[{caption:et.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),mt.prototype.$init=function(){return this.popup=new st(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(gt){this.insertMatch(),gt.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),nt.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},mt.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new ot,this.inlineRenderer},mt.prototype.getPopup=function(){return this.popup||this.$init()},mt.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},mt.prototype.$seen=function(gt){!this.hasSeen.has(gt)&&gt&&gt.completer&&gt.completer.onSeen&&typeof gt.completer.onSeen=="function"&&(gt.completer.onSeen(this.editor,gt),this.hasSeen.add(gt))},mt.prototype.$onPopupChange=function(gt){if(this.inlineRenderer&&this.inlineEnabled){var lt=gt?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(lt),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},mt.prototype.$updateGhostText=function(gt){var lt=this.base.row,St=this.base.column,xt=this.editor.getCursorPosition().column,yt=this.editor.session.getLine(lt).slice(St,xt);this.inlineRenderer.show(this.editor,gt,yt)?this.$seen(gt):this.inlineRenderer.hide()},mt.prototype.$onPopupRender=function(){var gt=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var lt=this.popup.getFirstVisibleRow();lt<=this.popup.getLastVisibleRow();lt++){var St=this.popup.getData(lt);St&&(!gt||St.hideInlinePreview)&&this.$seen(St)}},mt.prototype.$onPopupShow=function(gt){this.$onPopupChange(gt),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},mt.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var gt=this.editor.container.parentNode,lt=[];gt;)lt.push(gt),gt.addEventListener("scroll",this.onLayoutChange,{passive:!0}),gt=gt.parentNode;this.$elements=lt}},mt.prototype.unObserveLayoutChanges=function(){var gt=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(lt){lt.removeEventListener("scroll",gt.onLayoutChange,{passive:!0})}),this.$elements=null},mt.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},mt.prototype.$updatePopupPosition=function(){var gt=this.editor,lt=gt.renderer,St=lt.layerConfig.lineHeight,xt=lt.$cursorLayer.getPixelPosition(this.base,!0);xt.left-=this.popup.getTextLeftOffset();var yt=gt.container.getBoundingClientRect();xt.top+=yt.top-lt.layerConfig.offset,xt.left+=yt.left-gt.renderer.scrollLeft,xt.left+=lt.gutterWidth;var _t={top:xt.top,left:xt.left};lt.$ghostText&&lt.$ghostTextWidget&&this.base.row===lt.$ghostText.position.row&&(_t.top+=lt.$ghostTextWidget.el.offsetHeight);var kt=gt.container.getBoundingClientRect().bottom-St,Et=kt<_t.top?{top:kt,left:_t.left}:_t;this.popup.tryShow(Et,St,"bottom")||this.popup.tryShow(xt,St,"top")||this.popup.show(xt,St)},mt.prototype.openPopup=function(gt,lt,St){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var xt=this.popup.getRow(),yt=this.popup.data[xt];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:rt(this.popup.getRow()),inline:this.inlineEnabled}),gt.keyBinding.addKeyboardHandler(this.keyboardHandler);var _t;this.stickySelection&&(_t=this.popup.data.indexOf(yt)),(!_t||_t===-1)&&(_t=0),this.popup.setRow(this.autoSelect?_t:-1),_t===xt&&yt!==this.completions.filtered[_t]&&this.$onPopupChange();var kt=this.inlineRenderer&&this.inlineEnabled;if(_t===xt&&kt){var Et=this.popup.getData(this.popup.getRow());this.$updateGhostText(Et)}St||(this.popup.setTheme(gt.getTheme()),this.popup.setFontSize(gt.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},mt.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},mt.prototype.changeListener=function(gt){var lt=this.editor.selection.lead;(lt.row!=this.base.row||lt.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},mt.prototype.blurListener=function(gt){var lt=document.activeElement,St=this.editor.textInput.getElement(),xt=gt.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(gt.relatedTarget),yt=this.popup&&this.popup.container;lt!=St&&lt.parentNode!=yt&&!xt&&lt!=this.tooltipNode&&gt.relatedTarget!=St&&this.detach()},mt.prototype.mousedownListener=function(gt){this.detach()},mt.prototype.mousewheelListener=function(gt){this.popup&&!this.popup.isMouseOver&&this.detach()},mt.prototype.mouseOutListener=function(gt){this.popup.isOpen&&this.$updatePopupPosition()},mt.prototype.goTo=function(gt){this.popup.goTo(gt)},mt.prototype.insertMatch=function(gt,lt){if(gt||(gt=this.popup.getData(this.popup.getRow())),!gt)return!1;if(gt.value==="")return this.detach();var St=this.completions,xt=this.getCompletionProvider().insertMatch(this.editor,gt,St.filterText,lt);return this.completions==St&&this.detach(),xt},mt.prototype.showPopup=function(gt,lt){this.editor&&this.detach(),this.activated=!0,this.editor=gt,gt.completer!=this&&(gt.completer&&gt.completer.detach(),gt.completer=this),gt.on("changeSelection",this.changeListener),gt.on("blur",this.blurListener),gt.on("mousedown",this.mousedownListener),gt.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,lt)},mt.prototype.getCompletionProvider=function(gt){return this.completionProvider||(this.completionProvider=new ut(gt)),this.completionProvider},mt.prototype.gatherCompletions=function(gt,lt){return this.getCompletionProvider().gatherCompletions(gt,lt)},mt.prototype.updateCompletions=function(gt,lt){if(gt&&this.base&&this.completions){var xt=this.editor.getCursorPosition(),yt=this.editor.session.getTextRange({start:this.base,end:xt});if(yt==this.completions.filterText)return;if(this.completions.setFilter(yt),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==yt&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,yt,gt);return}if(lt&&lt.matches){var xt=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(xt.row,xt.column),this.base.$insertRight=!0,this.completions=new dt(lt.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",gt)}var St=this.editor.getSession(),xt=this.editor.getCursorPosition(),yt=it.getCompletionPrefix(this.editor);this.base=St.doc.createAnchor(xt.row,xt.column-yt.length),this.base.$insertRight=!0;var _t={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:yt,pos:xt}).provideCompletions(this.editor,_t,(function(kt,Et,$t){var Tt=Et.filtered,At=it.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),$t){if(!Tt.length){var Mt=!this.autoShown&&this.emptyMessage;if(typeof Mt=="function"&&(Mt=this.emptyMessage(At)),Mt){var Ot=[{caption:Mt,value:""}];this.completions=new dt(Ot),this.openPopup(this.editor,At,gt),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(Tt.length==1&&Tt[0].value==At&&!Tt[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&Tt.length==1)return this.insertMatch(Tt[0])}this.completions=!$t&&this.showLoadingState?new dt(mt.completionsForLoading.concat(Tt),Et.filterText):Et,this.openPopup(this.editor,At,gt),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!$t)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},mt.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},mt.prototype.updateDocTooltip=function(){var gt=this.popup,lt=this.completions.filtered,St=lt&&(lt[gt.getHoveredRow()]||lt[gt.getRow()]),xt=null;if(!St||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var yt=this.editor.completers.length,_t=0;_t<yt;_t++){var kt=this.editor.completers[_t];if(kt.getDocTooltip&&St.completerId===kt.id){xt=kt.getDocTooltip(St);break}}if(!xt&&typeof St!="string"&&(xt=St),typeof xt=="string"&&(xt={docText:xt}),!xt||!(xt.docHTML||xt.docText))return this.hideDocTooltip();this.showDocTooltip(xt)},mt.prototype.showDocTooltip=function(gt){this.tooltipNode||(this.tooltipNode=_.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",at));var lt=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(lt.isDark?"ace_dark ":"")+(lt.cssClass||"");var St=this.tooltipNode;gt.docHTML?St.innerHTML=gt.docHTML:gt.docText&&(St.textContent=gt.docText),St.parentNode||this.popup.container.appendChild(this.tooltipNode);var xt=this.popup,yt=xt.container.getBoundingClientRect();St.style.top=xt.container.style.top,St.style.bottom=xt.container.style.bottom,St.style.display="block",window.innerWidth-yt.right<320?yt.left<320?xt.isTopdown?(St.style.top=yt.bottom+"px",St.style.left=yt.left+"px",St.style.right="",St.style.bottom=""):(St.style.top=xt.container.offsetTop-St.offsetHeight+"px",St.style.left=yt.left+"px",St.style.right="",St.style.bottom=""):(St.style.right=window.innerWidth-yt.left+"px",St.style.left=""):(St.style.left=yt.right+1+"px",St.style.right="")},mt.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var gt=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==gt&&this.editor.focus(),this.tooltipNode=null,gt.parentNode&&gt.parentNode.removeChild(gt)}},mt.prototype.onTooltipClick=function(gt){for(var lt=gt.target;lt&&lt!=this.tooltipNode;){if(lt.nodeName=="A"&&lt.href){lt.rel="noreferrer",lt.target="_blank";break}lt=lt.parentNode}},mt.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var gt=this.popup.container;gt&&gt.parentNode&&gt.parentNode.removeChild(gt)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",ct),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},mt.for=function(gt){return gt.completer instanceof mt||(gt.completer&&(gt.completer.destroy(),gt.completer=null),et.get("sharedPopups")?(mt.$sharedInstance||(mt.$sharedInstance=new mt),gt.completer=mt.$sharedInstance):(gt.completer=new mt,gt.once("destroy",ct))),gt.completer},mt}();ht.prototype.commands={Up:function(mt){mt.completer.goTo("up")},Down:function(mt){mt.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(mt){mt.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(mt){mt.completer.goTo("end")},Esc:function(mt){mt.completer.detach()},Return:function(mt){return mt.completer.insertMatch()},"Shift-Return":function(mt){mt.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(mt){var gt=mt.completer.insertMatch();if(!gt&&!mt.tabstopManager)mt.completer.goTo("down");else return gt},Backspace:function(mt){mt.execCommand("backspace");var gt=it.getCompletionPrefix(mt);!gt&&mt.completer&&mt.completer.detach()},PageUp:function(mt){mt.completer.popup.gotoPageUp()},PageDown:function(mt){mt.completer.popup.gotoPageDown()}},ht.startCommand={name:"startAutocomplete",exec:function(mt,gt){var lt=ht.for(mt);lt.autoInsert=!1,lt.autoSelect=!0,lt.autoShown=!1,lt.showPopup(mt,gt),lt.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var ut=function(){function mt(gt){this.initialPosition=gt,this.active=!0}return mt.prototype.insertByIndex=function(gt,lt,St){return!this.completions||!this.completions.filtered?!1:this.insertMatch(gt,this.completions.filtered[lt],St)},mt.prototype.insertMatch=function(gt,lt,St){if(!lt)return!1;if(gt.startOperation({command:{name:"insertMatch"}}),lt.completer&&lt.completer.insertMatch)lt.completer.insertMatch(gt,lt);else{if(!this.completions)return!1;var xt=this.completions.filterText.length,yt=0;if(lt.range&&lt.range.start.row===lt.range.end.row&&(xt-=this.initialPosition.prefix.length,xt+=this.initialPosition.pos.column-lt.range.start.column,yt+=lt.range.end.column-this.initialPosition.pos.column),xt||yt){var _t;gt.selection.getAllRanges?_t=gt.selection.getAllRanges():_t=[gt.getSelectionRange()];for(var kt=0,Et;Et=_t[kt];kt++)Et.start.column-=xt,Et.end.column+=yt,gt.session.remove(Et)}lt.snippet?$.insertSnippet(gt,lt.snippet):this.$insertString(gt,lt),lt.completer&&lt.completer.onInsert&&typeof lt.completer.onInsert=="function"&&lt.completer.onInsert(gt,lt),lt.command&&lt.command==="startAutocomplete"&&gt.execCommand(lt.command)}return gt.endOperation(),!0},mt.prototype.$insertString=function(gt,lt){var St=lt.value||lt;gt.execCommand("insertstring",St)},mt.prototype.gatherCompletions=function(gt,lt){var St=gt.getSession(),xt=gt.getCursorPosition(),yt=it.getCompletionPrefix(gt),_t=[];this.completers=gt.completers;var kt=gt.completers.length;return gt.completers.forEach(function(Et,$t){Et.getCompletions(gt,St,xt,yt,function(Tt,At){Et.hideInlinePreview&&(At=At.map(function(Mt){return Object.assign(Mt,{hideInlinePreview:Et.hideInlinePreview})})),!Tt&&At&&(_t=_t.concat(At)),lt(null,{prefix:it.getCompletionPrefix(gt),matches:_t,finished:--kt===0})})}),!0},mt.prototype.provideCompletions=function(gt,lt,St){var xt=(function(Et){var $t=Et.prefix,Tt=Et.matches;this.completions=new dt(Tt),lt.exactMatch&&(this.completions.exactMatch=!0),lt.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter($t),(Et.finished||this.completions.filtered.length)&&St(null,this.completions,Et.finished)}).bind(this),yt=!0,_t=null;if(this.gatherCompletions(gt,(function(Et,$t){if(this.active){Et&&(St(Et,[],!0),this.detach());var Tt=$t.prefix;if(Tt.indexOf($t.prefix)===0){if(yt){_t=$t;return}xt($t)}}}).bind(this)),yt=!1,_t){var kt=_t;_t=null,xt(kt)}},mt.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(gt){typeof gt.cancel=="function"&&gt.cancel()})},mt}(),dt=function(){function mt(gt,lt){this.all=gt,this.filtered=gt,this.filterText=lt||"",this.exactMatch=!1,this.ignoreCaption=!1}return mt.prototype.setFilter=function(gt){if(gt.length>this.filterText&&gt.lastIndexOf(this.filterText,0)===0)var lt=this.filtered;else var lt=this.all;this.filterText=gt,lt=this.filterCompletions(lt,this.filterText),lt=lt.sort(function(xt,yt){return yt.exactMatch-xt.exactMatch||yt.$score-xt.$score||(xt.caption||xt.value).localeCompare(yt.caption||yt.value)});var St=null;lt=lt.filter(function(xt){var yt=xt.snippet||xt.caption||xt.value;return yt===St?!1:(St=yt,!0)}),this.filtered=lt},mt.prototype.filterCompletions=function(gt,lt){var St=[],xt=lt.toUpperCase(),yt=lt.toLowerCase();e:for(var _t=0,kt;kt=gt[_t];_t++){var Et=!this.ignoreCaption&&kt.caption||kt.value||kt.snippet;if(Et){var $t=-1,Tt=0,At=0,Mt,Ot;if(this.exactMatch){if(lt!==Et.substr(0,lt.length))continue e}else{var Pt=Et.toLowerCase().indexOf(yt);if(Pt>-1)At=Pt;else for(var Ft=0;Ft<lt.length;Ft++){var zt=Et.indexOf(yt[Ft],$t+1),qt=Et.indexOf(xt[Ft],$t+1);if(Mt=zt>=0&&(qt<0||zt<qt)?zt:qt,Mt<0)continue e;Ot=Mt-$t-1,Ot>0&&($t===-1&&(At+=10),At+=Ot,Tt=Tt|1<<Ft),$t=Mt}}kt.matchMask=Tt,kt.exactMatch=At?0:1,kt.$score=(kt.score||0)-At,St.push(kt)}}return St},mt}();a.Autocomplete=ht,a.CompletionProvider=ut,a.FilteredList=dt}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(o,a,tt){var _e=o("../range").Range,st=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function ot(it,j){var _=it.getTextRange(_e.fromPoints({row:0,column:0},j));return _.split(st).length-1}function rt(it,j){var _=ot(it,j),$=it.getValue().split(st),et=Object.create(null),nt=$[_];return $.forEach(function(at,ct){if(!(!at||at===nt)){var ht=Math.abs(_-ct),ut=$.length-ht;et[at]?et[at]=Math.max(ut,et[at]):et[at]=ut}}),et}a.getCompletions=function(it,j,_,$,et){var nt=rt(j,_),at=Object.keys(nt);et(null,at.map(function(ct){return{caption:ct,value:ct,score:nt[ct],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(o,a,tt){var _e=o("../snippets").snippetManager,st=o("../autocomplete").Autocomplete,ot=o("../config"),rt=o("../lib/lang"),it=o("../autocomplete/util"),j=o("../autocomplete/text_completer"),_={getCompletions:function(xt,yt,_t,kt,Et){if(yt.$mode.completer)return yt.$mode.completer.getCompletions(xt,yt,_t,kt,Et);var $t=xt.session.getState(_t.row),Tt=yt.$mode.getCompletions($t,yt,_t,kt);Tt=Tt.map(function(At){return At.completerId=_.id,At}),Et(null,Tt)},id:"keywordCompleter"},$=function(xt){var yt={};return xt.replace(/\${(\d+)(:(.*?))?}/g,function(_t,kt,Et,$t){return yt[kt]=$t||""}).replace(/\$(\d+?)/g,function(_t,kt){return yt[kt]})},et={getCompletions:function(xt,yt,_t,kt,Et){var $t=[],Tt=yt.getTokenAt(_t.row,_t.column);Tt&&Tt.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?$t.push("html-tag"):$t=_e.getActiveScopes(xt);var At=_e.snippetMap,Mt=[];$t.forEach(function(Ot){for(var Pt=At[Ot]||[],Ft=Pt.length;Ft--;){var zt=Pt[Ft],qt=zt.name||zt.tabTrigger;qt&&Mt.push({caption:qt,snippet:zt.content,meta:zt.tabTrigger&&!zt.name?zt.tabTrigger+" ":"snippet",completerId:et.id})}},this),Et(null,Mt)},getDocTooltip:function(xt){xt.snippet&&!xt.docHTML&&(xt.docHTML=["<b>",rt.escapeHTML(xt.caption),"</b>","<hr></hr>",rt.escapeHTML($(xt.snippet))].join(""))},id:"snippetCompleter"},nt=[et,j,_];a.setCompleters=function(xt){nt.length=0,xt&&nt.push.apply(nt,xt)},a.addCompleter=function(xt){nt.push(xt)},a.textCompleter=j,a.keyWordCompleter=_,a.snippetCompleter=et;var at={name:"expandSnippet",exec:function(xt){return _e.expandWithTab(xt)},bindKey:"Tab"},ct=function(xt,yt){ht(yt.session.$mode)},ht=function(xt){typeof xt=="string"&&(xt=ot.$modes[xt]),xt&&(_e.files||(_e.files={}),ut(xt.$id,xt.snippetFileId),xt.modes&&xt.modes.forEach(ht))},ut=function(xt,yt){!yt||!xt||_e.files[xt]||(_e.files[xt]={},ot.loadModule(yt,function(_t){_t&&(_e.files[xt]=_t,!_t.snippets&&_t.snippetText&&(_t.snippets=_e.parseSnippetFile(_t.snippetText)),_e.register(_t.snippets||[],_t.scope),_t.includeScopes&&(_e.snippetMap[_t.scope].includeScopes=_t.includeScopes,_t.includeScopes.forEach(function(kt){ht("ace/mode/"+kt)})))}))},dt=function(xt){var yt=xt.editor,_t=yt.completer&&yt.completer.activated;if(xt.command.name==="backspace")_t&&!it.getCompletionPrefix(yt)&&yt.completer.detach();else if(xt.command.name==="insertstring"&&!_t){mt=xt;var kt=xt.editor.$liveAutocompletionDelay;kt?gt.delay(kt):lt(xt)}},mt,gt=rt.delayedCall(function(){lt(mt)},0),lt=function(xt){var yt=xt.editor,_t=it.getCompletionPrefix(yt),kt=xt.args,Et=it.triggerAutocomplete(yt,kt);if(_t&&_t.length>=yt.$liveAutocompletionThreshold||Et){var $t=st.for(yt);$t.autoShown=!0,$t.showPopup(yt)}},St=o("../editor").Editor;o("../config").defineOptions(St.prototype,"editor",{enableBasicAutocompletion:{set:function(xt){xt?(this.completers||(this.completers=Array.isArray(xt)?xt:nt),this.commands.addCommand(st.startCommand)):this.commands.removeCommand(st.startCommand)},value:!1},enableLiveAutocompletion:{set:function(xt){xt?(this.completers||(this.completers=Array.isArray(xt)?xt:nt),this.commands.on("afterExec",dt)):this.commands.off("afterExec",dt)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(xt){xt?(this.commands.addCommand(at),this.on("changeMode",ct),ct(null,this)):(this.commands.removeCommand(at),this.off("changeMode",ct))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(o){i&&(i.exports=o)})}()})(extLanguage_tools);var modeJavascript={exports:{}};(function(i,s){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(o,a,tt){var _e=o("../lib/oop"),st=o("./text_highlight_rules").TextHighlightRules,ot=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},ot.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};_e.inherits(ot,st),ot.getTagRule=function(rt){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},ot.getStartRule=function(rt){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:rt}},ot.getEndRule=function(rt){return{token:"comment.doc",regex:"\\*\\/",next:rt}},a.JsDocCommentHighlightRules=ot}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(o,a,tt){var _e=o("../lib/oop"),st=o("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,ot=o("./text_highlight_rules").TextHighlightRules,rt="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",it=function($){var et={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},nt=this.createKeywordMapper(et,"identifier"),at="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",ct="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",ht="(function)(\\s*)(\\*?)",ut={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(et).join("|")+"\\b)"+rt+")(\\s*)(\\()"};this.$rules={no_regex:[st.getStartRule("doc-start"),_("no_regex"),ut,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+rt+")(\\s*)(=)(\\s*)"+ht+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+rt+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+rt+")(\\s*)(:)(\\s*)"+ht+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+ht+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+at+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:nt,regex:rt},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:ht+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:rt},{regex:"",token:"empty",next:"no_regex"}],start:[st.getStartRule("doc-start"),_("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[_("function_arguments"),{token:"variable.parameter",regex:rt},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:ct},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:ct},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!$||!$.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(dt,mt,gt){if(this.next=dt=="{"?this.nextState:"",dt=="{"&&gt.length)gt.unshift("start",mt);else if(dt=="}"&&gt.length&&(gt.shift(),this.next=gt.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return dt=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:ct},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+rt+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!$||$.jsx!=!1)&&j.call(this)),this.embedRules(st,"doc-",[st.getEndRule("no_regex")]),this.normalizeRules()};_e.inherits(it,ot);function j(){var $=rt.replace("\\d","\\d\\-"),et={onMatch:function(at,ct,ht){var ut=at.charAt(1)=="/"?2:1;return ut==1?(ct!=this.nextState?ht.unshift(this.next,this.nextState,0):ht.unshift(this.next),ht[2]++):ut==2&&ct==this.nextState&&(ht[1]--,(!ht[1]||ht[1]<0)&&(ht.shift(),ht.shift())),[{type:"meta.tag.punctuation."+(ut==1?"":"end-")+"tag-open.xml",value:at.slice(0,ut)},{type:"meta.tag.tag-name.xml",value:at.substr(ut)}]},regex:"</?(?:"+$+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(et);var nt={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[nt,et,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(at,ct,ht){return ct==ht[0]&&ht.shift(),at.length==2&&(ht[0]==this.nextState&&ht[1]--,(!ht[1]||ht[1]<0)&&ht.splice(0,2)),this.next=ht[0]||"start",[{type:this.token,value:at}]},nextState:"jsx"},nt,_("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:$},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},et],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function _($){return[{token:"comment",regex:/\/\*/,next:[st.getTagRule(),{token:"comment",regex:"\\*\\/",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[st.getTagRule(),{token:"comment",regex:"$|^",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}a.JavaScriptHighlightRules=it}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(o,a,tt){var _e=o("../range").Range,st=function(){};(function(){this.checkOutdent=function(ot,rt){return/^\s+$/.test(ot)?/^\s*\}/.test(rt):!1},this.autoOutdent=function(ot,rt){var it=ot.getLine(rt),j=it.match(/^(\s*\})/);if(!j)return 0;var _=j[1].length,$=ot.findMatchingBracket({row:rt,column:_});if(!$||$.row==rt)return 0;var et=this.$getIndent(ot.getLine($.row));ot.replace(new _e(rt,0,rt,_-1),et)},this.$getIndent=function(ot){return ot.match(/^\s*/)[0]}}).call(st.prototype),a.MatchingBraceOutdent=st}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(o,a,tt){var _e=o("../../lib/oop"),st=o("../behaviour").Behaviour,ot=o("../../token_iterator").TokenIterator;function rt(j,_){return j&&j.type.lastIndexOf(_+".xml")>-1}var it=function(){this.add("string_dquotes","insertion",function(j,_,$,et,nt){if(nt=='"'||nt=="'"){var at=nt,ct=et.doc.getTextRange($.getSelectionRange());if(ct!==""&&ct!=="'"&&ct!='"'&&$.getWrapBehavioursEnabled())return{text:at+ct+at,selection:!1};var ht=$.getCursorPosition(),ut=et.doc.getLine(ht.row),dt=ut.substring(ht.column,ht.column+1),mt=new ot(et,ht.row,ht.column),gt=mt.getCurrentToken();if(dt==at&&(rt(gt,"attribute-value")||rt(gt,"string")))return{text:"",selection:[1,1]};if(gt||(gt=mt.stepBackward()),!gt)return;for(;rt(gt,"tag-whitespace")||rt(gt,"whitespace");)gt=mt.stepBackward();var lt=!dt||dt.match(/\s/);if(rt(gt,"attribute-equals")&&(lt||dt==">")||rt(gt,"decl-attribute-equals")&&(lt||dt=="?"))return{text:at+at,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(j,_,$,et,nt){var at=et.doc.getTextRange(nt);if(!nt.isMultiLine()&&(at=='"'||at=="'")){var ct=et.doc.getLine(nt.start.row),ht=ct.substring(nt.start.column+1,nt.start.column+2);if(ht==at)return nt.end.column++,nt}}),this.add("autoclosing","insertion",function(j,_,$,et,nt){if(nt==">"){var at=$.getSelectionRange().start,ct=new ot(et,at.row,at.column),ht=ct.getCurrentToken()||ct.stepBackward();if(!ht||!(rt(ht,"tag-name")||rt(ht,"tag-whitespace")||rt(ht,"attribute-name")||rt(ht,"attribute-equals")||rt(ht,"attribute-value"))||rt(ht,"reference.attribute-value"))return;if(rt(ht,"attribute-value")){var ut=ct.getCurrentTokenColumn()+ht.value.length;if(at.column<ut)return;if(at.column==ut){var dt=ct.stepForward();if(dt&&rt(dt,"attribute-value"))return;ct.stepBackward()}}if(/^\s*>/.test(et.getLine(at.row).slice(at.column)))return;for(;!rt(ht,"tag-name");)if(ht=ct.stepBackward(),ht.value=="<"){ht=ct.stepForward();break}var mt=ct.getCurrentTokenRow(),gt=ct.getCurrentTokenColumn();if(rt(ct.stepBackward(),"end-tag-open"))return;var lt=ht.value;return mt==at.row&&(lt=lt.substring(0,at.column-gt)),this.voidElements&&this.voidElements.hasOwnProperty(lt.toLowerCase())?void 0:{text:"></"+lt+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(j,_,$,et,nt){if(nt==`
`){var at=$.getCursorPosition(),ct=et.getLine(at.row),ht=new ot(et,at.row,at.column),ut=ht.getCurrentToken();if(rt(ut,"")&&ut.type.indexOf("tag-close")!==-1){if(ut.value=="/>")return;for(;ut&&ut.type.indexOf("tag-name")===-1;)ut=ht.stepBackward();if(!ut)return;var dt=ut.value,mt=ht.getCurrentTokenRow();if(ut=ht.stepBackward(),!ut||ut.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[dt]||!this.voidElements){var gt=et.getTokenAt(at.row,at.column+1),ct=et.getLine(mt),lt=this.$getIndent(ct),St=lt+et.getTabString();return gt&&gt.value==="</"?{text:`
`+St+`
`+lt,selection:[1,St.length,1,St.length]}:{text:`
`+St}}}}})};_e.inherits(it,st),a.XmlBehaviour=it}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(o,a,tt){var _e=o("../../lib/oop"),st=o("../../token_iterator").TokenIterator,ot=o("../behaviour/cstyle").CstyleBehaviour,rt=o("../behaviour/xml").XmlBehaviour,it=function(){var j=new rt({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(j),this.inherit(ot),this.add("autoclosing-fragment","insertion",function(_,$,et,nt,at){if(at==">"){var ct=et.getSelectionRange().start,ht=new st(nt,ct.row,ct.column),ut=ht.getCurrentToken()||ht.stepBackward();if(!ut)return;if(ut.value=="<")return{text:"></>",selection:[1,1]}}})};_e.inherits(it,ot),a.JavaScriptBehaviour=it}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(o,a,tt){var _e=o("../../lib/oop"),st=o("../../range").Range,ot=o("./fold_mode").FoldMode,rt=a.FoldMode=function(_,$){ot.call(this),this.voidElements=_||{},this.optionalEndTags=_e.mixin({},this.voidElements),$&&_e.mixin(this.optionalEndTags,$)};_e.inherits(rt,ot);var it=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function j(_,$){return _.type.lastIndexOf($+".xml")>-1}(function(){this.getFoldWidget=function(_,$,et){var nt=this._getFirstTagInLine(_,et);return nt?nt.closing||!nt.tagName&&nt.selfClosing?$==="markbeginend"?"end":"":!nt.tagName||nt.selfClosing||this.voidElements.hasOwnProperty(nt.tagName.toLowerCase())||this._findEndTagInLine(_,et,nt.tagName,nt.end.column)?"":"start":this.getCommentFoldWidget(_,et)},this.getCommentFoldWidget=function(_,$){return/comment/.test(_.getState($))&&/<!-/.test(_.getLine($))?"start":""},this._getFirstTagInLine=function(_,$){for(var et=_.getTokens($),nt=new it,at=0;at<et.length;at++){var ct=et[at];if(j(ct,"tag-open")){if(nt.end.column=nt.start.column+ct.value.length,nt.closing=j(ct,"end-tag-open"),ct=et[++at],!ct)return null;if(nt.tagName=ct.value,ct.value===""){if(ct=et[++at],!ct)return null;nt.tagName=ct.value}for(nt.end.column+=ct.value.length,at++;at<et.length;at++)if(ct=et[at],nt.end.column+=ct.value.length,j(ct,"tag-close")){nt.selfClosing=ct.value=="/>";break}return nt}else if(j(ct,"tag-close"))return nt.selfClosing=ct.value=="/>",nt;nt.start.column+=ct.value.length}return null},this._findEndTagInLine=function(_,$,et,nt){for(var at=_.getTokens($),ct=0,ht=0;ht<at.length;ht++){var ut=at[ht];if(ct+=ut.value.length,!(ct<nt-1)&&j(ut,"end-tag-open")&&(ut=at[ht+1],j(ut,"tag-name")&&ut.value===""&&(ut=at[ht+2]),ut&&ut.value==et))return!0}return!1},this.getFoldWidgetRange=function(_,$,et){var nt=this._getFirstTagInLine(_,et);if(!nt)return this.getCommentFoldWidget(_,et)&&_.getCommentFoldRange(et,_.getLine(et).length);var at=_.getMatchingTags({row:et,column:0});if(at)return new st(at.openTag.end.row,at.openTag.end.column,at.closeTag.start.row,at.closeTag.start.column)}}).call(rt.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(o,a,tt){var _e=o("../../lib/oop"),st=o("../../range").Range,ot=o("./fold_mode").FoldMode,rt=a.FoldMode=function(it){it&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+it.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+it.end)))};_e.inherits(rt,ot),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(it,j,_){var $=it.getLine(_);if(this.singleLineBlockCommentRe.test($)&&!this.startRegionRe.test($)&&!this.tripleStarBlockCommentRe.test($))return"";var et=this._getFoldWidgetBase(it,j,_);return!et&&this.startRegionRe.test($)?"start":et},this.getFoldWidgetRange=function(it,j,_,$){var et=it.getLine(_);if(this.startRegionRe.test(et))return this.getCommentRegionBlock(it,et,_);var ct=et.match(this.foldingStartMarker);if(ct){var nt=ct.index;if(ct[1])return this.openingBracketBlock(it,ct[1],_,nt);var at=it.getCommentFoldRange(_,nt+ct[0].length,1);return at&&!at.isMultiLine()&&($?at=this.getSectionRange(it,_):j!="all"&&(at=null)),at}if(j!=="markbegin"){var ct=et.match(this.foldingStopMarker);if(ct){var nt=ct.index+ct[0].length;return ct[1]?this.closingBracketBlock(it,ct[1],_,nt):it.getCommentFoldRange(_,nt,-1)}}},this.getSectionRange=function(it,j){var _=it.getLine(j),$=_.search(/\S/),et=j,nt=_.length;j=j+1;for(var at=j,ct=it.getLength();++j<ct;){_=it.getLine(j);var ht=_.search(/\S/);if(ht!==-1){if($>ht)break;var ut=this.getFoldWidgetRange(it,"all",j);if(ut){if(ut.start.row<=et)break;if(ut.isMultiLine())j=ut.end.row;else if($==ht)break}at=j}}return new st(et,nt,at,it.getLine(at).length)},this.getCommentRegionBlock=function(it,j,_){for(var $=j.search(/\s*$/),et=it.getLength(),nt=_,at=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,ct=1;++_<et;){j=it.getLine(_);var ht=at.exec(j);if(ht&&(ht[1]?ct--:ct++,!ct))break}var ut=_;if(ut>nt)return new st(nt,$,ut,j.length)}}).call(rt.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(o,a,tt){var _e=o("../../lib/oop"),st=o("./xml").FoldMode,ot=o("./cstyle").FoldMode,rt=a.FoldMode=function(it){it&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+it.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+it.end))),this.xmlFoldMode=new st};_e.inherits(rt,ot),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(it,j,_){var $=this.getFoldWidgetBase(it,j,_);return $||this.xmlFoldMode.getFoldWidget(it,j,_)},this.getFoldWidgetRange=function(it,j,_,$){var et=this.getFoldWidgetRangeBase(it,j,_,$);return et||this.xmlFoldMode.getFoldWidgetRange(it,j,_)}}).call(rt.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(o,a,tt){var _e=o("../lib/oop"),st=o("./text").Mode,ot=o("./javascript_highlight_rules").JavaScriptHighlightRules,rt=o("./matching_brace_outdent").MatchingBraceOutdent,it=o("../worker/worker_client").WorkerClient,j=o("./behaviour/javascript").JavaScriptBehaviour,_=o("./folding/javascript").FoldMode,$=function(){this.HighlightRules=ot,this.$outdent=new rt,this.$behaviour=new j,this.foldingRules=new _};_e.inherits($,st),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(et,nt,at){var ct=this.$getIndent(nt),ht=this.getTokenizer().getLineTokens(nt,et),ut=ht.tokens,dt=ht.state;if(ut.length&&ut[ut.length-1].type=="comment")return ct;if(et=="start"||et=="no_regex"){var mt=nt.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);mt&&(ct+=at)}else if(et=="doc-start"&&(dt=="start"||dt=="no_regex"))return"";return ct},this.checkOutdent=function(et,nt,at){return this.$outdent.checkOutdent(nt,at)},this.autoOutdent=function(et,nt,at){this.$outdent.autoOutdent(nt,at)},this.createWorker=function(et){var nt=new it(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return nt.attachToDocument(et.getDocument()),nt.on("annotate",function(at){et.setAnnotations(at.data)}),nt.on("terminate",function(){et.clearAnnotations()}),nt},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call($.prototype),a.Mode=$}),function(){ace.require(["ace/mode/javascript"],function(o){i&&(i.exports=o)})}()})(modeJavascript);var modePython={exports:{}};(function(i,s){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(o,a,tt){var _e=o("../lib/oop"),st=o("./text_highlight_rules").TextHighlightRules,ot=function(){var rt="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",it="True|False|None|NotImplemented|Ellipsis|__debug__",j="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",_=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":j,"variable.language":"self|cls","constant.language":it,keyword:rt},"identifier"),$="[uU]?",et="[rR]",nt="[fF]",at="(?:[rR][fF]|[fF][rR])",ct="(?:(?:[1-9]\\d*)|(?:0))",ht="(?:0[oO]?[0-7]+)",ut="(?:0[xX][\\dA-Fa-f]+)",dt="(?:0[bB][01]+)",mt="(?:"+ct+"|"+ht+"|"+ut+"|"+dt+")",gt="(?:[eE][+-]?\\d+)",lt="(?:\\.\\d+)",St="(?:\\d+)",xt="(?:(?:"+St+"?"+lt+")|(?:"+St+"\\.))",yt="(?:(?:"+xt+"|"+St+")"+gt+")",_t="(?:"+yt+"|"+xt+")",kt=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:$+'"{3}',next:"qqstring3"},{token:"string",regex:$+'"(?=.)',next:"qqstring"},{token:"string",regex:$+"'{3}",next:"qstring3"},{token:"string",regex:$+"'(?=.)",next:"qstring"},{token:"string",regex:et+'"{3}',next:"rawqqstring3"},{token:"string",regex:et+'"(?=.)',next:"rawqqstring"},{token:"string",regex:et+"'{3}",next:"rawqstring3"},{token:"string",regex:et+"'(?=.)",next:"rawqstring"},{token:"string",regex:nt+'"{3}',next:"fqqstring3"},{token:"string",regex:nt+'"(?=.)',next:"fqqstring"},{token:"string",regex:nt+"'{3}",next:"fqstring3"},{token:"string",regex:nt+"'(?=.)",next:"fqstring"},{token:"string",regex:at+'"{3}',next:"rfqqstring3"},{token:"string",regex:at+'"(?=.)',next:"rfqqstring"},{token:"string",regex:at+"'{3}",next:"rfqstring3"},{token:"string",regex:at+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:kt},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:kt},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:kt},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:kt},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:kt},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:kt},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:kt},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:kt},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+_t+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:_t},{token:"constant.numeric",regex:mt+"[lL]\\b"},{token:"constant.numeric",regex:mt+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:_,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};_e.inherits(ot,st),a.PythonHighlightRules=ot}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(o,a,tt){var _e=o("../../lib/oop"),st=o("./fold_mode").FoldMode,ot=a.FoldMode=function(rt){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+rt+")(?:\\s*)(?:#.*)?$")};_e.inherits(ot,st),(function(){this.getFoldWidgetRange=function(rt,it,j){var _=rt.getLine(j),$=_.match(this.foldingStartMarker);if($)return $[1]?this.openingBracketBlock(rt,$[1],j,$.index):$[2]?this.indentationBlock(rt,j,$.index+$[2].length):this.indentationBlock(rt,j)}}).call(ot.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(o,a,tt){var _e=o("../lib/oop"),st=o("./text").Mode,ot=o("./python_highlight_rules").PythonHighlightRules,rt=o("./folding/pythonic").FoldMode,it=o("../range").Range,j=function(){this.HighlightRules=ot,this.foldingRules=new rt("\\:"),this.$behaviour=this.$defaultBehaviour};_e.inherits(j,st),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function($,et,nt){var at=this.$getIndent(et),ct=this.getTokenizer().getLineTokens(et,$),ht=ct.tokens;if(ht.length&&ht[ht.length-1].type=="comment")return at;if($=="start"){var ut=et.match(/^.*[\{\(\[:]\s*$/);ut&&(at+=nt)}return at};var _={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function($,et,nt){if(nt!==`\r
`&&nt!=="\r"&&nt!==`
`)return!1;var at=this.getTokenizer().getLineTokens(et.trim(),$).tokens;if(!at)return!1;do var ct=at.pop();while(ct&&(ct.type=="comment"||ct.type=="text"&&ct.value.match(/^\s+$/)));return ct?ct.type=="keyword"&&_[ct.value]:!1},this.autoOutdent=function($,et,nt){nt+=1;var at=this.$getIndent(et.getLine(nt)),ct=et.getTabString();at.slice(-ct.length)==ct&&et.remove(new it(nt,at.length-ct.length,nt,at.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(j.prototype),a.Mode=j}),function(){ace.require(["ace/mode/python"],function(o){i&&(i.exports=o)})}()})(modePython);var themeDracula={exports:{}};(function(i,s){ace.define("ace/theme/dracula-css",["require","exports","module"],function(o,a,tt){tt.exports=`/*
 * Copyright  2017 Zeno Rocha <hi@zenorocha.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

.ace-dracula .ace_gutter {
  background: #282a36;
  color: rgb(144,145,148)
}

.ace-dracula .ace_print-margin {
  width: 1px;
  background: #44475a
}

.ace-dracula {
  background-color: #282a36;
  color: #f8f8f2
}

.ace-dracula .ace_cursor {
  color: #f8f8f0
}

.ace-dracula .ace_marker-layer .ace_selection {
  background: #44475a
}

.ace-dracula.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #282a36;
  border-radius: 2px
}

.ace-dracula .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174)
}

.ace-dracula .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #a29709
}

.ace-dracula .ace_marker-layer .ace_active-line {
  background: #44475a
}

.ace-dracula .ace_gutter-active-line {
  background-color: #44475a
}

.ace-dracula .ace_marker-layer .ace_selected-word {
  box-shadow: 0px 0px 0px 1px #a29709;
  border-radius: 3px;
}

.ace-dracula .ace_fold {
  background-color: #50fa7b;
  border-color: #f8f8f2
}

.ace-dracula .ace_keyword {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_language {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_numeric {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character.ace_escape {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_other {
  color: #bd93f9
}

.ace-dracula .ace_support.ace_function {
  color: #8be9fd
}

.ace-dracula .ace_support.ace_constant {
  color: #6be5fd
}

.ace-dracula .ace_support.ace_class {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_support.ace_type {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_storage {
  color: #ff79c6
}

.ace-dracula .ace_storage.ace_type {
  font-style: italic;
  color: #8be9fd
}

.ace-dracula .ace_invalid {
  color: #F8F8F0;
  background-color: #ff79c6
}

.ace-dracula .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #bd93f9
}

.ace-dracula .ace_string {
  color: #f1fa8c
}

.ace-dracula .ace_comment {
  color: #6272a4
}

.ace-dracula .ace_variable {
  color: #50fa7b
}

.ace-dracula .ace_variable.ace_parameter {
  font-style: italic;
  color: #ffb86c
}

.ace-dracula .ace_entity.ace_other.ace_attribute-name {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_function {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_tag {
  color: #ff79c6
}
.ace-dracula .ace_invisible {
  color: #626680;
}

.ace-dracula .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-dracula .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEUAAADCwsK76u2xAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjYGBoAAAAhACBGFbxzQAAAABJRU5ErkJggg==") right repeat-y;
}
`}),ace.define("ace/theme/dracula",["require","exports","module","ace/theme/dracula-css","ace/lib/dom"],function(o,a,tt){a.isDark=!0,a.cssClass="ace-dracula",a.cssText=o("./dracula-css"),a.$selectionColorConflict=!0;var _e=o("../lib/dom");_e.importCssString(a.cssText,a.cssClass,!1)}),function(){ace.require(["ace/theme/dracula"],function(o){i&&(i.exports=o)})}()})(themeDracula);var themeTomorrow_night_eighties={exports:{}};(function(i,s){ace.define("ace/theme/tomorrow_night_eighties-css",["require","exports","module"],function(o,a,tt){tt.exports=`.ace-tomorrow-night-eighties .ace_gutter {
  background: #272727;
  color: #CCC
}

.ace-tomorrow-night-eighties .ace_print-margin {
  width: 1px;
  background: #272727
}

.ace-tomorrow-night-eighties {
  background-color: #2D2D2D;
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_other,
.ace-tomorrow-night-eighties .ace_cursor {
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {
  background: #515151
}

.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #2D2D2D;
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #6A6A6A
}

.ace-tomorrow-night-bright .ace_stack {
  background: rgb(66, 90, 44)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {
  background: #393939
}

.ace-tomorrow-night-eighties .ace_gutter-active-line {
  background-color: #393939
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {
  border: 1px solid #515151
}

.ace-tomorrow-night-eighties .ace_invisible {
  color: #6A6A6A
}

.ace-tomorrow-night-eighties .ace_keyword,
.ace-tomorrow-night-eighties .ace_meta,
.ace-tomorrow-night-eighties .ace_storage,
.ace-tomorrow-night-eighties .ace_storage.ace_type,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_keyword.ace_operator {
  color: #66CCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_character,
.ace-tomorrow-night-eighties .ace_constant.ace_language,
.ace-tomorrow-night-eighties .ace_constant.ace_numeric,
.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night-eighties .ace_support.ace_constant,
.ace-tomorrow-night-eighties .ace_variable.ace_parameter {
  color: #F99157
}

.ace-tomorrow-night-eighties .ace_invalid {
  color: #CDCDCD;
  background-color: #F2777A
}

.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {
  color: #CDCDCD;
  background-color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_fold {
  background-color: #6699CC;
  border-color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,
.ace-tomorrow-night-eighties .ace_support.ace_function,
.ace-tomorrow-night-eighties .ace_variable {
  color: #6699CC
}

.ace-tomorrow-night-eighties .ace_support.ace_class,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #FFCC66
}

.ace-tomorrow-night-eighties .ace_heading,
.ace-tomorrow-night-eighties .ace_markup.ace_heading,
.ace-tomorrow-night-eighties .ace_string {
  color: #99CC99
}

.ace-tomorrow-night-eighties .ace_comment {
  color: #999999
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night-eighties .ace_meta.ace_tag,
.ace-tomorrow-night-eighties .ace_variable {
  color: #F2777A
}

.ace-tomorrow-night-eighties .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night-eighties .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night_eighties",["require","exports","module","ace/theme/tomorrow_night_eighties-css","ace/lib/dom"],function(o,a,tt){a.isDark=!0,a.cssClass="ace-tomorrow-night-eighties",a.cssText=o("./tomorrow_night_eighties-css");var _e=o("../lib/dom");_e.importCssString(a.cssText,a.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night_eighties"],function(o){i&&(i.exports=o)})}()})(themeTomorrow_night_eighties);const Editor=i=>{const s=useTypedSelector(a=>a.workspace.currentLanguage),{colorMode:o}=useColorMode();return jsxRuntimeExports.jsx(_default,{mode:languageToModeMap[s],theme:o==="dark"?"dracula":"tomorrow_night_eighties",fontSize:15,width:"100%",...i})},JsonDisplay=({jsonProgram:i})=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardBody,{children:[jsxRuntimeExports.jsx(Text,{children:"JSON Code:"}),jsxRuntimeExports.jsx(Box,{overflowX:"scroll",children:jsxRuntimeExports.jsx(Code,{display:"block",whiteSpace:"pre",width:"max-content",children:i})})]})});function formatProdErrorMessage$1(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$1(i){if(typeof i!="object"||i===null)return!1;let s=i;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(i)===s||Object.getPrototypeOf(i)===null}function createStore(i,s,o){if(typeof i!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof s=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof s=="function"&&typeof o>"u"&&(o=s,s=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(formatProdErrorMessage$1(1));return o(createStore)(i,s)}let a=i,tt=s,_e=new Map,st=_e,ot=0,rt=!1;function it(){st===_e&&(st=new Map,_e.forEach((ct,ht)=>{st.set(ht,ct)}))}function j(){if(rt)throw new Error(formatProdErrorMessage$1(3));return tt}function _(ct){if(typeof ct!="function")throw new Error(formatProdErrorMessage$1(4));if(rt)throw new Error(formatProdErrorMessage$1(5));let ht=!0;it();const ut=ot++;return st.set(ut,ct),function(){if(ht){if(rt)throw new Error(formatProdErrorMessage$1(6));ht=!1,it(),st.delete(ut),_e=null}}}function $(ct){if(!isPlainObject$1(ct))throw new Error(formatProdErrorMessage$1(7));if(typeof ct.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof ct.type!="string")throw new Error(formatProdErrorMessage$1(17));if(rt)throw new Error(formatProdErrorMessage$1(9));try{rt=!0,tt=a(tt,ct)}finally{rt=!1}return(_e=st).forEach(ut=>{ut()}),ct}function et(ct){if(typeof ct!="function")throw new Error(formatProdErrorMessage$1(10));a=ct,$({type:actionTypes_default.REPLACE})}function nt(){const ct=_;return{subscribe(ht){if(typeof ht!="object"||ht===null)throw new Error(formatProdErrorMessage$1(11));function ut(){const mt=ht;mt.next&&mt.next(j())}return ut(),{unsubscribe:ct(ut)}},[symbol_observable_default](){return this}}}return $({type:actionTypes_default.INIT}),{dispatch:$,subscribe:_,getState:j,replaceReducer:et,[symbol_observable_default]:nt}}function assertReducerShape(i){Object.keys(i).forEach(s=>{const o=i[s];if(typeof o(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof o(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(i){const s=Object.keys(i),o={};for(let _e=0;_e<s.length;_e++){const st=s[_e];typeof i[st]=="function"&&(o[st]=i[st])}const a=Object.keys(o);let tt;try{assertReducerShape(o)}catch(_e){tt=_e}return function(st={},ot){if(tt)throw tt;let rt=!1;const it={};for(let j=0;j<a.length;j++){const _=a[j],$=o[_],et=st[_],nt=$(et,ot);if(typeof nt>"u")throw ot&&ot.type,new Error(formatProdErrorMessage$1(14));it[_]=nt,rt=rt||nt!==et}return rt=rt||a.length!==Object.keys(st).length,rt?it:st}}function compose(...i){return i.length===0?s=>s:i.length===1?i[0]:i.reduce((s,o)=>(...a)=>s(o(...a)))}function applyMiddleware(...i){return s=>(o,a)=>{const tt=s(o,a);let _e=()=>{throw new Error(formatProdErrorMessage$1(15))};const st={getState:tt.getState,dispatch:(rt,...it)=>_e(rt,...it)},ot=i.map(rt=>rt(st));return _e=compose(...ot)(tt.dispatch),{...tt,dispatch:_e}}}function isAction(i){return isPlainObject$1(i)&&"type"in i&&typeof i.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(i,...s){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(i){return!!i&&!!i[DRAFT_STATE]}function isDraftable(i){var s;return i?isPlainObject(i)||Array.isArray(i)||!!i[DRAFTABLE]||!!((s=i.constructor)!=null&&s[DRAFTABLE])||isMap(i)||isSet(i):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(i){if(!i||typeof i!="object")return!1;const s=getPrototypeOf(i);if(s===null)return!0;const o=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return o===Object?!0:typeof o=="function"&&Function.toString.call(o)===objectCtorString}function each(i,s){getArchtype(i)===0?Reflect.ownKeys(i).forEach(o=>{s(o,i[o],i)}):i.forEach((o,a)=>s(a,o,i))}function getArchtype(i){const s=i[DRAFT_STATE];return s?s.type_:Array.isArray(i)?1:isMap(i)?2:isSet(i)?3:0}function has(i,s){return getArchtype(i)===2?i.has(s):Object.prototype.hasOwnProperty.call(i,s)}function set(i,s,o){const a=getArchtype(i);a===2?i.set(s,o):a===3?i.add(o):i[s]=o}function is(i,s){return i===s?i!==0||1/i===1/s:i!==i&&s!==s}function isMap(i){return i instanceof Map}function isSet(i){return i instanceof Set}function latest(i){return i.copy_||i.base_}function shallowCopy(i,s){if(isMap(i))return new Map(i);if(isSet(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const o=isPlainObject(i);if(s===!0||s==="class_only"&&!o){const a=Object.getOwnPropertyDescriptors(i);delete a[DRAFT_STATE];let tt=Reflect.ownKeys(a);for(let _e=0;_e<tt.length;_e++){const st=tt[_e],ot=a[st];ot.writable===!1&&(ot.writable=!0,ot.configurable=!0),(ot.get||ot.set)&&(a[st]={configurable:!0,writable:!0,enumerable:ot.enumerable,value:i[st]})}return Object.create(getPrototypeOf(i),a)}else{const a=getPrototypeOf(i);if(a!==null&&o)return{...i};const tt=Object.create(a);return Object.assign(tt,i)}}function freeze(i,s=!1){return isFrozen(i)||isDraft(i)||!isDraftable(i)||(getArchtype(i)>1&&(i.set=i.add=i.clear=i.delete=dontMutateFrozenCollections),Object.freeze(i),s&&Object.entries(i).forEach(([o,a])=>freeze(a,!0))),i}function dontMutateFrozenCollections(){die(2)}function isFrozen(i){return Object.isFrozen(i)}var plugins={};function getPlugin(i){const s=plugins[i];return s||die(0,i),s}var currentScope;function getCurrentScope(){return currentScope}function createScope(i,s){return{drafts_:[],parent_:i,immer_:s,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(i,s){s&&(getPlugin("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=s)}function revokeScope(i){leaveScope(i),i.drafts_.forEach(revokeDraft),i.drafts_=null}function leaveScope(i){i===currentScope&&(currentScope=i.parent_)}function enterScope(i){return currentScope=createScope(currentScope,i)}function revokeDraft(i){const s=i[DRAFT_STATE];s.type_===0||s.type_===1?s.revoke_():s.revoked_=!0}function processResult(i,s){s.unfinalizedDrafts_=s.drafts_.length;const o=s.drafts_[0];return i!==void 0&&i!==o?(o[DRAFT_STATE].modified_&&(revokeScope(s),die(4)),isDraftable(i)&&(i=finalize(s,i),s.parent_||maybeFreeze(s,i)),s.patches_&&getPlugin("Patches").generateReplacementPatches_(o[DRAFT_STATE].base_,i,s.patches_,s.inversePatches_)):i=finalize(s,o,[]),revokeScope(s),s.patches_&&s.patchListener_(s.patches_,s.inversePatches_),i!==NOTHING?i:void 0}function finalize(i,s,o){if(isFrozen(s))return s;const a=s[DRAFT_STATE];if(!a)return each(s,(tt,_e)=>finalizeProperty(i,a,s,tt,_e,o)),s;if(a.scope_!==i)return s;if(!a.modified_)return maybeFreeze(i,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const tt=a.copy_;let _e=tt,st=!1;a.type_===3&&(_e=new Set(tt),tt.clear(),st=!0),each(_e,(ot,rt)=>finalizeProperty(i,a,tt,ot,rt,o,st)),maybeFreeze(i,tt,!1),o&&i.patches_&&getPlugin("Patches").generatePatches_(a,o,i.patches_,i.inversePatches_)}return a.copy_}function finalizeProperty(i,s,o,a,tt,_e,st){if(isDraft(tt)){const ot=_e&&s&&s.type_!==3&&!has(s.assigned_,a)?_e.concat(a):void 0,rt=finalize(i,tt,ot);if(set(o,a,rt),isDraft(rt))i.canAutoFreeze_=!1;else return}else st&&o.add(tt);if(isDraftable(tt)&&!isFrozen(tt)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;finalize(i,tt),(!s||!s.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(o,a)&&maybeFreeze(i,tt)}}function maybeFreeze(i,s,o=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&freeze(s,o)}function createProxyProxy(i,s){const o=Array.isArray(i),a={type_:o?1:0,scope_:s?s.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:s,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let tt=a,_e=objectTraps;o&&(tt=[a],_e=arrayTraps);const{revoke:st,proxy:ot}=Proxy.revocable(tt,_e);return a.draft_=ot,a.revoke_=st,ot}var objectTraps={get(i,s){if(s===DRAFT_STATE)return i;const o=latest(i);if(!has(o,s))return readPropFromProto(i,o,s);const a=o[s];return i.finalized_||!isDraftable(a)?a:a===peek(i.base_,s)?(prepareCopy(i),i.copy_[s]=createProxy(a,i)):a},has(i,s){return s in latest(i)},ownKeys(i){return Reflect.ownKeys(latest(i))},set(i,s,o){const a=getDescriptorFromProto(latest(i),s);if(a!=null&&a.set)return a.set.call(i.draft_,o),!0;if(!i.modified_){const tt=peek(latest(i),s),_e=tt==null?void 0:tt[DRAFT_STATE];if(_e&&_e.base_===o)return i.copy_[s]=o,i.assigned_[s]=!1,!0;if(is(o,tt)&&(o!==void 0||has(i.base_,s)))return!0;prepareCopy(i),markChanged(i)}return i.copy_[s]===o&&(o!==void 0||s in i.copy_)||Number.isNaN(o)&&Number.isNaN(i.copy_[s])||(i.copy_[s]=o,i.assigned_[s]=!0),!0},deleteProperty(i,s){return peek(i.base_,s)!==void 0||s in i.base_?(i.assigned_[s]=!1,prepareCopy(i),markChanged(i)):delete i.assigned_[s],i.copy_&&delete i.copy_[s],!0},getOwnPropertyDescriptor(i,s){const o=latest(i),a=Reflect.getOwnPropertyDescriptor(o,s);return a&&{writable:!0,configurable:i.type_!==1||s!=="length",enumerable:a.enumerable,value:o[s]}},defineProperty(){die(11)},getPrototypeOf(i){return getPrototypeOf(i.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(i,s)=>{arrayTraps[i]=function(){return arguments[0]=arguments[0][0],s.apply(this,arguments)}});arrayTraps.deleteProperty=function(i,s){return arrayTraps.set.call(this,i,s,void 0)};arrayTraps.set=function(i,s,o){return objectTraps.set.call(this,i[0],s,o,i[0])};function peek(i,s){const o=i[DRAFT_STATE];return(o?latest(o):i)[s]}function readPropFromProto(i,s,o){var tt;const a=getDescriptorFromProto(s,o);return a?"value"in a?a.value:(tt=a.get)==null?void 0:tt.call(i.draft_):void 0}function getDescriptorFromProto(i,s){if(!(s in i))return;let o=getPrototypeOf(i);for(;o;){const a=Object.getOwnPropertyDescriptor(o,s);if(a)return a;o=getPrototypeOf(o)}}function markChanged(i){i.modified_||(i.modified_=!0,i.parent_&&markChanged(i.parent_))}function prepareCopy(i){i.copy_||(i.copy_=shallowCopy(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(s,o,a)=>{if(typeof s=="function"&&typeof o!="function"){const _e=o;o=s;const st=this;return function(rt=_e,...it){return st.produce(rt,j=>o.call(this,j,...it))}}typeof o!="function"&&die(6),a!==void 0&&typeof a!="function"&&die(7);let tt;if(isDraftable(s)){const _e=enterScope(this),st=createProxy(s,void 0);let ot=!0;try{tt=o(st),ot=!1}finally{ot?revokeScope(_e):leaveScope(_e)}return usePatchesInScope(_e,a),processResult(tt,_e)}else if(!s||typeof s!="object"){if(tt=o(s),tt===void 0&&(tt=s),tt===NOTHING&&(tt=void 0),this.autoFreeze_&&freeze(tt,!0),a){const _e=[],st=[];getPlugin("Patches").generateReplacementPatches_(s,tt,_e,st),a(_e,st)}return tt}else die(1,s)},this.produceWithPatches=(s,o)=>{if(typeof s=="function")return(st,...ot)=>this.produceWithPatches(st,rt=>s(rt,...ot));let a,tt;return[this.produce(s,o,(st,ot)=>{a=st,tt=ot}),a,tt]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){isDraftable(i)||die(8),isDraft(i)&&(i=current(i));const s=enterScope(this),o=createProxy(i,void 0);return o[DRAFT_STATE].isManual_=!0,leaveScope(s),o}finishDraft(i,s){const o=i&&i[DRAFT_STATE];(!o||!o.isManual_)&&die(9);const{scope_:a}=o;return usePatchesInScope(a,s),processResult(void 0,a)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,s){let o;for(o=s.length-1;o>=0;o--){const tt=s[o];if(tt.path.length===0&&tt.op==="replace"){i=tt.value;break}}o>-1&&(s=s.slice(o+1));const a=getPlugin("Patches").applyPatches_;return isDraft(i)?a(i,s):this.produce(i,tt=>a(tt,s))}};function createProxy(i,s){const o=isMap(i)?getPlugin("MapSet").proxyMap_(i,s):isSet(i)?getPlugin("MapSet").proxySet_(i,s):createProxyProxy(i,s);return(s?s.scope_:getCurrentScope()).drafts_.push(o),o}function current(i){return isDraft(i)||die(10,i),currentImpl(i)}function currentImpl(i){if(!isDraftable(i)||isFrozen(i))return i;const s=i[DRAFT_STATE];let o;if(s){if(!s.modified_)return s.base_;s.finalized_=!0,o=shallowCopy(i,s.scope_.immer_.useStrictShallowCopy_)}else o=shallowCopy(i,!0);return each(o,(a,tt)=>{set(o,a,currentImpl(tt))}),s&&(s.finalized_=!1),o}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function createThunkMiddleware(i){return({dispatch:o,getState:a})=>tt=>_e=>typeof _e=="function"?_e(o,a,i):tt(_e)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function createAction(i,s){function o(...a){if(s){let tt=s(...a);if(!tt)throw new Error(formatProdErrorMessage(0));return{type:i,payload:tt.payload,..."meta"in tt&&{meta:tt.meta},..."error"in tt&&{error:tt.error}}}return{type:i,payload:a[0]}}return o.toString=()=>`${i}`,o.type=i,o.match=a=>isAction(a)&&a.type===i,o}var Tuple=class Ul extends Array{constructor(...s){super(...s),Object.setPrototypeOf(this,Ul.prototype)}static get[Symbol.species](){return Ul}concat(...s){return super.concat.apply(this,s)}prepend(...s){return s.length===1&&Array.isArray(s[0])?new Ul(...s[0].concat(this)):new Ul(...s.concat(this))}};function freezeDraftable(i){return isDraftable(i)?produce(i,()=>{}):i}function emplace(i,s,o){if(i.has(s)){let tt=i.get(s);return o.update&&(tt=o.update(tt,s,i),i.set(s,tt)),tt}if(!o.insert)throw new Error(formatProdErrorMessage(10));const a=o.insert(s,i);return i.set(s,a),a}function isBoolean(i){return typeof i=="boolean"}var buildGetDefaultMiddleware=()=>function(s){const{thunk:o=!0,immutableCheck:a=!0,serializableCheck:tt=!0,actionCreatorCheck:_e=!0}=s??{};let st=new Tuple;return o&&(isBoolean(o)?st.push(thunk):st.push(withExtraArgument(o.extraArgument))),st},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=i=>s=>{setTimeout(s,i)},rAF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10),autoBatchEnhancer=(i={type:"raf"})=>s=>(...o)=>{const a=s(...o);let tt=!0,_e=!1,st=!1;const ot=new Set,rt=i.type==="tick"?queueMicrotask:i.type==="raf"?rAF:i.type==="callback"?i.queueNotification:createQueueWithTimer(i.timeout),it=()=>{st=!1,_e&&(_e=!1,ot.forEach(j=>j()))};return Object.assign({},a,{subscribe(j){const _=()=>tt&&j(),$=a.subscribe(_);return ot.add(j),()=>{$(),ot.delete(j)}},dispatch(j){var _;try{return tt=!((_=j==null?void 0:j.meta)!=null&&_[SHOULD_AUTOBATCH]),_e=!tt,_e&&(st||(st=!0,rt(it))),a.dispatch(j)}finally{tt=!0}}})},buildGetDefaultEnhancers=i=>function(o){const{autoBatch:a=!0}=o??{};let tt=new Tuple(i);return a&&tt.push(autoBatchEnhancer(typeof a=="object"?a:void 0)),tt};function configureStore(i){const s=buildGetDefaultMiddleware(),{reducer:o=void 0,middleware:a,devTools:tt=!0,preloadedState:_e=void 0,enhancers:st=void 0}=i||{};let ot;if(typeof o=="function")ot=o;else if(isPlainObject$1(o))ot=combineReducers(o);else throw new Error(formatProdErrorMessage(1));let rt;typeof a=="function"?rt=a(s):rt=s();let it=compose;tt&&(it=composeWithDevTools({trace:!1,...typeof tt=="object"&&tt}));const j=applyMiddleware(...rt),_=buildGetDefaultEnhancers(j);let $=typeof st=="function"?st(_):_();const et=it(...$);return createStore(ot,_e,et)}function executeReducerBuilderCallback(i){const s={},o=[];let a;const tt={addCase(_e,st){const ot=typeof _e=="string"?_e:_e.type;if(!ot)throw new Error(formatProdErrorMessage(28));if(ot in s)throw new Error(formatProdErrorMessage(29));return s[ot]=st,tt},addMatcher(_e,st){return o.push({matcher:_e,reducer:st}),tt},addDefaultCase(_e){return a=_e,tt}};return i(tt),[s,o,a]}function isStateFunction(i){return typeof i=="function"}function createReducer(i,s){let[o,a,tt]=executeReducerBuilderCallback(s),_e;if(isStateFunction(i))_e=()=>freezeDraftable(i());else{const ot=freezeDraftable(i);_e=()=>ot}function st(ot=_e(),rt){let it=[o[rt.type],...a.filter(({matcher:j})=>j(rt)).map(({reducer:j})=>j)];return it.filter(j=>!!j).length===0&&(it=[tt]),it.reduce((j,_)=>{if(_)if(isDraft(j)){const et=_(j,rt);return et===void 0?j:et}else{if(isDraftable(j))return produce(j,$=>_($,rt));{const $=_(j,rt);if($===void 0){if(j===null)return j;throw Error("A case reducer on a non-draftable value must not return undefined")}return $}}return j},ot)}return st.getInitialState=_e,st}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(i,s){return`${i}/${s}`}function buildCreateSlice({creators:i}={}){var o;const s=(o=i==null?void 0:i.asyncThunk)==null?void 0:o[asyncThunkSymbol];return function(tt){const{name:_e,reducerPath:st=_e}=tt;if(!_e)throw new Error(formatProdErrorMessage(11));typeof process<"u";const ot=(typeof tt.reducers=="function"?tt.reducers(buildReducerCreators()):tt.reducers)||{},rt=Object.keys(ot),it={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},j={addCase(dt,mt){const gt=typeof dt=="string"?dt:dt.type;if(!gt)throw new Error(formatProdErrorMessage(12));if(gt in it.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return it.sliceCaseReducersByType[gt]=mt,j},addMatcher(dt,mt){return it.sliceMatchers.push({matcher:dt,reducer:mt}),j},exposeAction(dt,mt){return it.actionCreators[dt]=mt,j},exposeCaseReducer(dt,mt){return it.sliceCaseReducersByName[dt]=mt,j}};rt.forEach(dt=>{const mt=ot[dt],gt={reducerName:dt,type:getType(_e,dt),createNotation:typeof tt.reducers=="function"};isAsyncThunkSliceReducerDefinition(mt)?handleThunkCaseReducerDefinition(gt,mt,j,s):handleNormalReducerDefinition(gt,mt,j)});function _(){const[dt={},mt=[],gt=void 0]=typeof tt.extraReducers=="function"?executeReducerBuilderCallback(tt.extraReducers):[tt.extraReducers],lt={...dt,...it.sliceCaseReducersByType};return createReducer(tt.initialState,St=>{for(let xt in lt)St.addCase(xt,lt[xt]);for(let xt of it.sliceMatchers)St.addMatcher(xt.matcher,xt.reducer);for(let xt of mt)St.addMatcher(xt.matcher,xt.reducer);gt&&St.addDefaultCase(gt)})}const $=dt=>dt,et=new Map;let nt;function at(dt,mt){return nt||(nt=_()),nt(dt,mt)}function ct(){return nt||(nt=_()),nt.getInitialState()}function ht(dt,mt=!1){function gt(St){let xt=St[dt];return typeof xt>"u"&&mt&&(xt=ct()),xt}function lt(St=$){const xt=emplace(et,mt,{insert:()=>new WeakMap});return emplace(xt,St,{insert:()=>{const yt={};for(const[_t,kt]of Object.entries(tt.selectors??{}))yt[_t]=wrapSelector(kt,St,ct,mt);return yt}})}return{reducerPath:dt,getSelectors:lt,get selectors(){return lt(gt)},selectSlice:gt}}const ut={name:_e,reducer:at,actions:it.actionCreators,caseReducers:it.sliceCaseReducersByName,getInitialState:ct,...ht(st),injectInto(dt,{reducerPath:mt,...gt}={}){const lt=mt??st;return dt.inject({reducerPath:lt,reducer:at},gt),{...ut,...ht(lt,!0)}}};return ut}}function wrapSelector(i,s,o,a){function tt(_e,...st){let ot=s(_e);return typeof ot>"u"&&a&&(ot=o()),i(ot,...st)}return tt.unwrapped=i,tt}var createSlice=buildCreateSlice();function buildReducerCreators(){function i(s,o){return{_reducerDefinitionType:"asyncThunk",payloadCreator:s,...o}}return i.withTypes=()=>i,{reducer(s){return Object.assign({[s.name](...o){return s(...o)}}[s.name],{_reducerDefinitionType:"reducer"})},preparedReducer(s,o){return{_reducerDefinitionType:"reducerWithPrepare",prepare:s,reducer:o}},asyncThunk:i}}function handleNormalReducerDefinition({type:i,reducerName:s,createNotation:o},a,tt){let _e,st;if("reducer"in a){if(o&&!isCaseReducerWithPrepareDefinition(a))throw new Error(formatProdErrorMessage(17));_e=a.reducer,st=a.prepare}else _e=a;tt.addCase(i,_e).exposeCaseReducer(s,_e).exposeAction(s,st?createAction(i,st):createAction(i))}function isAsyncThunkSliceReducerDefinition(i){return i._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(i){return i._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:i,reducerName:s},o,a,tt){if(!tt)throw new Error(formatProdErrorMessage(18));const{payloadCreator:_e,fulfilled:st,pending:ot,rejected:rt,settled:it,options:j}=o,_=tt(i,_e,j);a.exposeAction(s,_),st&&a.addCase(_.fulfilled,st),ot&&a.addCase(_.pending,ot),rt&&a.addCase(_.rejected,rt),it&&a.addMatcher(_.settled,it),a.exposeCaseReducer(s,{fulfilled:st||noop,pending:ot||noop,rejected:rt||noop,settled:it||noop})}function noop(){}function formatProdErrorMessage(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const loadSamplePythonPrograms=async()=>(await __vitePreload(async()=>{const{samplePythonPrograms:i}=await import("./index-CxR4alL1.js");return{samplePythonPrograms:i}},[])).samplePythonPrograms,loadSampleSourceThreePrograms=async()=>(await __vitePreload(async()=>{const{sampleSourceThreePrograms:i}=await import("./index-OcF0Dhf2.js");return{sampleSourceThreePrograms:i}},[])).sampleSourceThreePrograms;let samplePythonPrograms,sampleSourceThreePrograms;const sampleProgramLoader=async i=>{switch(i){case Languages.PYTHON:return samplePythonPrograms===void 0&&(samplePythonPrograms=await loadSamplePythonPrograms()),samplePythonPrograms;case Languages.SOURCE_THREE_INTERPRETER:return sampleSourceThreePrograms===void 0&&(sampleSourceThreePrograms=await loadSampleSourceThreePrograms()),sampleSourceThreePrograms}},defaultPrograms=Object.freeze({[Languages.PYTHON]:`# Write your Python program here!
`,[Languages.SOURCE_THREE_INTERPRETER]:`// Write your Source 3 program here!
`}),initialState={currentLanguage:Languages.PYTHON,editorValue:{...defaultPrograms}},WorkspaceSlice=createSlice({name:"workspace",initialState,reducers:{setCurrentLanguage:(i,s)=>{i.currentLanguage=s.payload},setEditorValue:(i,s)=>{i.editorValue[i.currentLanguage]=s.payload},resetEditorValues:(i,s)=>{const o=s.payload;o!==void 0?i.editorValue[o]=defaultPrograms[o]:i.editorValue={...defaultPrograms}}}}),WorkspaceActions=WorkspaceSlice.actions,workspace=WorkspaceSlice.reducer,{setCurrentLanguage:setCurrentLanguage$1}=WorkspaceActions,LanguageSelector=()=>{const i=useTypedSelector(o=>o.workspace.currentLanguage),s=useTypedDispatch();return jsxRuntimeExports.jsx(Select,{size:"sm",variant:"filled",width:"fit-content",name:"languageMode",id:"languagemode",value:i,onChange:o=>s(setCurrentLanguage$1(o.target.value)),children:supportedLanguages.map(o=>jsxRuntimeExports.jsx("option",{value:o,children:o},o))})},UserGuide=()=>{const{isOpen:i,onOpen:s,onClose:o}=useDisclosure();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"link",onClick:s,fontWeight:"normal",children:"View User Guide"}),jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:o,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:"User Guide"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{paddingBottom:0,children:jsxRuntimeExports.jsxs(OrderedList,{children:[jsxRuntimeExports.jsxs(ListItem,{children:["Connect your SPIKE Prime to your computer via USB.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," You can also connect via Bluetooth but reliability will not be guaranteed."]})]}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the appropriate language mode:"," ",Languages.SOURCE_THREE_INTERPRETER," or ",Languages.PYTHON]}),jsxRuntimeExports.jsx(ListItem,{children:'After finishing your code, click the "Run on Device" button.'}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the correct port from the pop-up that is shown.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," SEKER only supports Chromium-based browsers version 89 and onwards. If you do not see a pop-up, this means your browser is not supported."]})]}),jsxRuntimeExports.jsx(ListItem,{children:"The SPIKE Prime should start running your code."})]})}),jsxRuntimeExports.jsx(ModalFooter,{paddingTop:0})]})]})]})},ArrowForwardIcon=createIcon({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"}),SampleProgramListItem=({label:i,onClick:s})=>jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"link",fontWeight:"normal",width:"full",iconSpacing:"auto",rightIcon:jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Text,{children:"Load"}),jsxRuntimeExports.jsx(ArrowForwardIcon,{})]}),onClick:s,children:i})}),{setEditorValue:setEditorValue$1}=WorkspaceActions,SampleProgramSidebar=()=>{const[i,s]=reactExports.useState(),o=useTypedSelector(tt=>tt.workspace.currentLanguage),a=useTypedDispatch();return reactExports.useEffect(()=>{s(void 0),sampleProgramLoader(o).then(s)},[o]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Sample ",o," Programs"]}),jsxRuntimeExports.jsx(Text,{children:"Click on a program below to load them into the editor."})]})}),jsxRuntimeExports.jsx(CardBody,{paddingTop:0,children:jsxRuntimeExports.jsx(Stack,{divider:jsxRuntimeExports.jsx(StackDivider,{}),children:i===void 0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"Loading sample programs"}):i.length==0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"No sample programs found."}):i.map((tt,_e)=>jsxRuntimeExports.jsx(SampleProgramListItem,{label:`Sample Program ${_e+1}`,onClick:()=>a(setEditorValue$1(tt))},_e))})})]})};var sicp={},createContext={},constants={},types={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Variant=i.Chapter=i.ErrorSeverity=i.ErrorType=void 0,function(s){s.SYNTAX="Syntax",s.TYPE="Type",s.RUNTIME="Runtime"}(i.ErrorType||(i.ErrorType={})),function(s){s.WARNING="Warning",s.ERROR="Error"}(i.ErrorSeverity||(i.ErrorSeverity={})),function(s){s[s.SOURCE_1=1]="SOURCE_1",s[s.SOURCE_2=2]="SOURCE_2",s[s.SOURCE_3=3]="SOURCE_3",s[s.SOURCE_4=4]="SOURCE_4",s[s.FULL_JS=-1]="FULL_JS",s[s.HTML=-2]="HTML",s[s.LIBRARY_PARSER=100]="LIBRARY_PARSER"}(i.Chapter||(i.Chapter={})),function(s){s.DEFAULT="default",s.NATIVE="native",s.WASM="wasm",s.LAZY="lazy",s.NON_DET="non-det",s.CONCURRENT="concurrent",s.GPU="gpu"}(i.Variant||(i.Variant={}))})(types);Object.defineProperty(constants,"__esModule",{value:!0});constants.ACORN_PARSE_OPTIONS=constants.sourceLanguages=constants.JSSLANG_PROPERTIES=constants.UNKNOWN_LOCATION=constants.MAX_LIST_DISPLAY_LENGTH=constants.MODULE_CONTEXTS_ID=constants.MODULE_PARAMS_ID=constants.NATIVE_STORAGE_ID=constants.GLOBAL=constants.TRY_AGAIN=constants.CUT=void 0;const types_1$m=types;constants.CUT="cut";constants.TRY_AGAIN="retry";constants.GLOBAL=typeof window>"u"?commonjsGlobal:window;constants.NATIVE_STORAGE_ID="nativeStorage";constants.MODULE_PARAMS_ID="moduleParams";constants.MODULE_CONTEXTS_ID="moduleContexts";constants.MAX_LIST_DISPLAY_LENGTH=100;constants.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}};constants.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10};constants.sourceLanguages=[{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.WASM},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.CONCURRENT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.NON_DET},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.GPU}];constants.ACORN_PARSE_OPTIONS={ecmaVersion:2015};var lib={},acorn$1={exports:{}};(function(i,s){(function(o,a){a(s)})(commonjsGlobal,function(o){var a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],tt=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],_e="-----------------------------------------------------------------------------------------------------------------------------------------------------",st="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",ot={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},rt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",it={5:rt,"5module":rt+" export import",6:rt+" const class extends export import super"},j=/^in(stanceof)?$/,_=new RegExp("["+st+"]"),$=new RegExp("["+st+_e+"]");function et(vt,Rt){for(var Bt=65536,ft=0;ft<Rt.length;ft+=2){if(Bt+=Rt[ft],Bt>vt)return!1;if(Bt+=Rt[ft+1],Bt>=vt)return!0}return!1}function nt(vt,Rt){return vt<65?vt===36:vt<91?!0:vt<97?vt===95:vt<123?!0:vt<=65535?vt>=170&&_.test(String.fromCharCode(vt)):Rt===!1?!1:et(vt,tt)}function at(vt,Rt){return vt<48?vt===36:vt<58?!0:vt<65?!1:vt<91?!0:vt<97?vt===95:vt<123?!0:vt<=65535?vt>=170&&$.test(String.fromCharCode(vt)):Rt===!1?!1:et(vt,tt)||et(vt,a)}var ct=function(Rt,Bt){Bt===void 0&&(Bt={}),this.label=Rt,this.keyword=Bt.keyword,this.beforeExpr=!!Bt.beforeExpr,this.startsExpr=!!Bt.startsExpr,this.isLoop=!!Bt.isLoop,this.isAssign=!!Bt.isAssign,this.prefix=!!Bt.prefix,this.postfix=!!Bt.postfix,this.binop=Bt.binop||null,this.updateContext=null};function ht(vt,Rt){return new ct(vt,{beforeExpr:!0,binop:Rt})}var ut={beforeExpr:!0},dt={startsExpr:!0},mt={};function gt(vt,Rt){return Rt===void 0&&(Rt={}),Rt.keyword=vt,mt[vt]=new ct(vt,Rt)}var lt={num:new ct("num",dt),regexp:new ct("regexp",dt),string:new ct("string",dt),name:new ct("name",dt),privateId:new ct("privateId",dt),eof:new ct("eof"),bracketL:new ct("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ct("]"),braceL:new ct("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ct("}"),parenL:new ct("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ct(")"),comma:new ct(",",ut),semi:new ct(";",ut),colon:new ct(":",ut),dot:new ct("."),question:new ct("?",ut),questionDot:new ct("?."),arrow:new ct("=>",ut),template:new ct("template"),invalidTemplate:new ct("invalidTemplate"),ellipsis:new ct("...",ut),backQuote:new ct("`",dt),dollarBraceL:new ct("${",{beforeExpr:!0,startsExpr:!0}),eq:new ct("=",{beforeExpr:!0,isAssign:!0}),assign:new ct("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ct("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ct("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ht("||",1),logicalAND:ht("&&",2),bitwiseOR:ht("|",3),bitwiseXOR:ht("^",4),bitwiseAND:ht("&",5),equality:ht("==/!=/===/!==",6),relational:ht("</>/<=/>=",7),bitShift:ht("<</>>/>>>",8),plusMin:new ct("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ht("%",10),star:ht("*",10),slash:ht("/",10),starstar:new ct("**",{beforeExpr:!0}),coalesce:ht("??",1),_break:gt("break"),_case:gt("case",ut),_catch:gt("catch"),_continue:gt("continue"),_debugger:gt("debugger"),_default:gt("default",ut),_do:gt("do",{isLoop:!0,beforeExpr:!0}),_else:gt("else",ut),_finally:gt("finally"),_for:gt("for",{isLoop:!0}),_function:gt("function",dt),_if:gt("if"),_return:gt("return",ut),_switch:gt("switch"),_throw:gt("throw",ut),_try:gt("try"),_var:gt("var"),_const:gt("const"),_while:gt("while",{isLoop:!0}),_with:gt("with"),_new:gt("new",{beforeExpr:!0,startsExpr:!0}),_this:gt("this",dt),_super:gt("super",dt),_class:gt("class",dt),_extends:gt("extends",ut),_export:gt("export"),_import:gt("import",dt),_null:gt("null",dt),_true:gt("true",dt),_false:gt("false",dt),_in:gt("in",{beforeExpr:!0,binop:7}),_instanceof:gt("instanceof",{beforeExpr:!0,binop:7}),_typeof:gt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:gt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:gt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},St=/\r\n?|\n|\u2028|\u2029/,xt=new RegExp(St.source,"g");function yt(vt){return vt===10||vt===13||vt===8232||vt===8233}function _t(vt,Rt,Bt){Bt===void 0&&(Bt=vt.length);for(var ft=Rt;ft<Bt;ft++){var Ct=vt.charCodeAt(ft);if(yt(Ct))return ft<Bt-1&&Ct===13&&vt.charCodeAt(ft+1)===10?ft+2:ft+1}return-1}var kt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Et=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,$t=Object.prototype,Tt=$t.hasOwnProperty,At=$t.toString,Mt=Object.hasOwn||function(vt,Rt){return Tt.call(vt,Rt)},Ot=Array.isArray||function(vt){return At.call(vt)==="[object Array]"},Pt=Object.create(null);function Ft(vt){return Pt[vt]||(Pt[vt]=new RegExp("^(?:"+vt.replace(/ /g,"|")+")$"))}function zt(vt){return vt<=65535?String.fromCharCode(vt):(vt-=65536,String.fromCharCode((vt>>10)+55296,(vt&1023)+56320))}var qt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Gt=function(Rt,Bt){this.line=Rt,this.column=Bt};Gt.prototype.offset=function(Rt){return new Gt(this.line,this.column+Rt)};var Wt=function(Rt,Bt,ft){this.start=Bt,this.end=ft,Rt.sourceFile!==null&&(this.source=Rt.sourceFile)};function Xt(vt,Rt){for(var Bt=1,ft=0;;){var Ct=_t(vt,ft,Rt);if(Ct<0)return new Gt(Bt,Rt-ft);++Bt,ft=Ct}}var rr={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},tr=!1;function mr(vt){var Rt={};for(var Bt in rr)Rt[Bt]=vt&&Mt(vt,Bt)?vt[Bt]:rr[Bt];if(Rt.ecmaVersion==="latest"?Rt.ecmaVersion=1e8:Rt.ecmaVersion==null?(!tr&&typeof console=="object"&&console.warn&&(tr=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),Rt.ecmaVersion=11):Rt.ecmaVersion>=2015&&(Rt.ecmaVersion-=2009),Rt.allowReserved==null&&(Rt.allowReserved=Rt.ecmaVersion<5),(!vt||vt.allowHashBang==null)&&(Rt.allowHashBang=Rt.ecmaVersion>=14),Ot(Rt.onToken)){var ft=Rt.onToken;Rt.onToken=function(Ct){return ft.push(Ct)}}return Ot(Rt.onComment)&&(Rt.onComment=yr(Rt,Rt.onComment)),Rt}function yr(vt,Rt){return function(Bt,ft,Ct,Dt,Vt,Yt){var lr={type:Bt?"Block":"Line",value:ft,start:Ct,end:Dt};vt.locations&&(lr.loc=new Wt(this,Vt,Yt)),vt.ranges&&(lr.range=[Ct,Dt]),Rt.push(lr)}}var xr=1,vr=2,ir=4,sr=8,er=16,Tr=32,Cr=64,dr=128,Wr=256,Jr=xr|vr|Wr;function nn(vt,Rt){return vr|(vt?ir:0)|(Rt?sr:0)}var Cn=0,Vn=1,An=2,pn=3,Kn=4,Pn=5,wr=function(Rt,Bt,ft){this.options=Rt=mr(Rt),this.sourceFile=Rt.sourceFile,this.keywords=Ft(it[Rt.ecmaVersion>=6?6:Rt.sourceType==="module"?"5module":5]);var Ct="";Rt.allowReserved!==!0&&(Ct=ot[Rt.ecmaVersion>=6?6:Rt.ecmaVersion===5?5:3],Rt.sourceType==="module"&&(Ct+=" await")),this.reservedWords=Ft(Ct);var Dt=(Ct?Ct+" ":"")+ot.strict;this.reservedWordsStrict=Ft(Dt),this.reservedWordsStrictBind=Ft(Dt+" "+ot.strictBind),this.input=String(Bt),this.containsEsc=!1,ft?(this.pos=ft,this.lineStart=this.input.lastIndexOf(`
`,ft-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(St).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=lt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Rt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Rt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(xr),this.regexpState=null,this.privateNameStack=[]},zr={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};wr.prototype.parse=function(){var Rt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Rt)},zr.inFunction.get=function(){return(this.currentVarScope().flags&vr)>0},zr.inGenerator.get=function(){return(this.currentVarScope().flags&sr)>0&&!this.currentVarScope().inClassFieldInit},zr.inAsync.get=function(){return(this.currentVarScope().flags&ir)>0&&!this.currentVarScope().inClassFieldInit},zr.canAwait.get=function(){for(var vt=this.scopeStack.length-1;vt>=0;vt--){var Rt=this.scopeStack[vt];if(Rt.inClassFieldInit||Rt.flags&Wr)return!1;if(Rt.flags&vr)return(Rt.flags&ir)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},zr.allowSuper.get=function(){var vt=this.currentThisScope(),Rt=vt.flags,Bt=vt.inClassFieldInit;return(Rt&Cr)>0||Bt||this.options.allowSuperOutsideMethod},zr.allowDirectSuper.get=function(){return(this.currentThisScope().flags&dr)>0},zr.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},zr.allowNewDotTarget.get=function(){var vt=this.currentThisScope(),Rt=vt.flags,Bt=vt.inClassFieldInit;return(Rt&(vr|Wr))>0||Bt},zr.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Wr)>0},wr.extend=function(){for(var Rt=[],Bt=arguments.length;Bt--;)Rt[Bt]=arguments[Bt];for(var ft=this,Ct=0;Ct<Rt.length;Ct++)ft=Rt[Ct](ft);return ft},wr.parse=function(Rt,Bt){return new this(Bt,Rt).parse()},wr.parseExpressionAt=function(Rt,Bt,ft){var Ct=new this(ft,Rt,Bt);return Ct.nextToken(),Ct.parseExpression()},wr.tokenizer=function(Rt,Bt){return new this(Bt,Rt)},Object.defineProperties(wr.prototype,zr);var $r=wr.prototype,hn=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;$r.strictDirective=function(vt){if(this.options.ecmaVersion<5)return!1;for(;;){Et.lastIndex=vt,vt+=Et.exec(this.input)[0].length;var Rt=hn.exec(this.input.slice(vt));if(!Rt)return!1;if((Rt[1]||Rt[2])==="use strict"){Et.lastIndex=vt+Rt[0].length;var Bt=Et.exec(this.input),ft=Bt.index+Bt[0].length,Ct=this.input.charAt(ft);return Ct===";"||Ct==="}"||St.test(Bt[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Ct)||Ct==="!"&&this.input.charAt(ft+1)==="=")}vt+=Rt[0].length,Et.lastIndex=vt,vt+=Et.exec(this.input)[0].length,this.input[vt]===";"&&vt++}},$r.eat=function(vt){return this.type===vt?(this.next(),!0):!1},$r.isContextual=function(vt){return this.type===lt.name&&this.value===vt&&!this.containsEsc},$r.eatContextual=function(vt){return this.isContextual(vt)?(this.next(),!0):!1},$r.expectContextual=function(vt){this.eatContextual(vt)||this.unexpected()},$r.canInsertSemicolon=function(){return this.type===lt.eof||this.type===lt.braceR||St.test(this.input.slice(this.lastTokEnd,this.start))},$r.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},$r.semicolon=function(){!this.eat(lt.semi)&&!this.insertSemicolon()&&this.unexpected()},$r.afterTrailingComma=function(vt,Rt){if(this.type===vt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Rt||this.next(),!0},$r.expect=function(vt){this.eat(vt)||this.unexpected()},$r.unexpected=function(vt){this.raise(vt??this.start,"Unexpected token")};var Jt=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};$r.checkPatternErrors=function(vt,Rt){if(vt){vt.trailingComma>-1&&this.raiseRecoverable(vt.trailingComma,"Comma is not permitted after the rest element");var Bt=Rt?vt.parenthesizedAssign:vt.parenthesizedBind;Bt>-1&&this.raiseRecoverable(Bt,Rt?"Assigning to rvalue":"Parenthesized pattern")}},$r.checkExpressionErrors=function(vt,Rt){if(!vt)return!1;var Bt=vt.shorthandAssign,ft=vt.doubleProto;if(!Rt)return Bt>=0||ft>=0;Bt>=0&&this.raise(Bt,"Shorthand property assignments are valid only in destructuring patterns"),ft>=0&&this.raiseRecoverable(ft,"Redefinition of __proto__ property")},$r.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},$r.isSimpleAssignTarget=function(vt){return vt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(vt.expression):vt.type==="Identifier"||vt.type==="MemberExpression"};var Kt=wr.prototype;Kt.parseTopLevel=function(vt){var Rt=Object.create(null);for(vt.body||(vt.body=[]);this.type!==lt.eof;){var Bt=this.parseStatement(null,!0,Rt);vt.body.push(Bt)}if(this.inModule)for(var ft=0,Ct=Object.keys(this.undefinedExports);ft<Ct.length;ft+=1){var Dt=Ct[ft];this.raiseRecoverable(this.undefinedExports[Dt].start,"Export '"+Dt+"' is not defined")}return this.adaptDirectivePrologue(vt.body),this.next(),vt.sourceType=this.options.sourceType,this.finishNode(vt,"Program")};var hr={kind:"loop"},Pr={kind:"switch"};Kt.isLet=function(vt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Et.lastIndex=this.pos;var Rt=Et.exec(this.input),Bt=this.pos+Rt[0].length,ft=this.input.charCodeAt(Bt);if(ft===91||ft===92)return!0;if(vt)return!1;if(ft===123||ft>55295&&ft<56320)return!0;if(nt(ft,!0)){for(var Ct=Bt+1;at(ft=this.input.charCodeAt(Ct),!0);)++Ct;if(ft===92||ft>55295&&ft<56320)return!0;var Dt=this.input.slice(Bt,Ct);if(!j.test(Dt))return!0}return!1},Kt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Et.lastIndex=this.pos;var vt=Et.exec(this.input),Rt=this.pos+vt[0].length,Bt;return!St.test(this.input.slice(this.pos,Rt))&&this.input.slice(Rt,Rt+8)==="function"&&(Rt+8===this.input.length||!(at(Bt=this.input.charCodeAt(Rt+8))||Bt>55295&&Bt<56320))},Kt.parseStatement=function(vt,Rt,Bt){var ft=this.type,Ct=this.startNode(),Dt;switch(this.isLet(vt)&&(ft=lt._var,Dt="let"),ft){case lt._break:case lt._continue:return this.parseBreakContinueStatement(Ct,ft.keyword);case lt._debugger:return this.parseDebuggerStatement(Ct);case lt._do:return this.parseDoStatement(Ct);case lt._for:return this.parseForStatement(Ct);case lt._function:return vt&&(this.strict||vt!=="if"&&vt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Ct,!1,!vt);case lt._class:return vt&&this.unexpected(),this.parseClass(Ct,!0);case lt._if:return this.parseIfStatement(Ct);case lt._return:return this.parseReturnStatement(Ct);case lt._switch:return this.parseSwitchStatement(Ct);case lt._throw:return this.parseThrowStatement(Ct);case lt._try:return this.parseTryStatement(Ct);case lt._const:case lt._var:return Dt=Dt||this.value,vt&&Dt!=="var"&&this.unexpected(),this.parseVarStatement(Ct,Dt);case lt._while:return this.parseWhileStatement(Ct);case lt._with:return this.parseWithStatement(Ct);case lt.braceL:return this.parseBlock(!0,Ct);case lt.semi:return this.parseEmptyStatement(Ct);case lt._export:case lt._import:if(this.options.ecmaVersion>10&&ft===lt._import){Et.lastIndex=this.pos;var Vt=Et.exec(this.input),Yt=this.pos+Vt[0].length,lr=this.input.charCodeAt(Yt);if(lr===40||lr===46)return this.parseExpressionStatement(Ct,this.parseExpression())}return this.options.allowImportExportEverywhere||(Rt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),ft===lt._import?this.parseImport(Ct):this.parseExport(Ct,Bt);default:if(this.isAsyncFunction())return vt&&this.unexpected(),this.next(),this.parseFunctionStatement(Ct,!0,!vt);var gr=this.value,Mr=this.parseExpression();return ft===lt.name&&Mr.type==="Identifier"&&this.eat(lt.colon)?this.parseLabeledStatement(Ct,gr,Mr,vt):this.parseExpressionStatement(Ct,Mr)}},Kt.parseBreakContinueStatement=function(vt,Rt){var Bt=Rt==="break";this.next(),this.eat(lt.semi)||this.insertSemicolon()?vt.label=null:this.type!==lt.name?this.unexpected():(vt.label=this.parseIdent(),this.semicolon());for(var ft=0;ft<this.labels.length;++ft){var Ct=this.labels[ft];if((vt.label==null||Ct.name===vt.label.name)&&(Ct.kind!=null&&(Bt||Ct.kind==="loop")||vt.label&&Bt))break}return ft===this.labels.length&&this.raise(vt.start,"Unsyntactic "+Rt),this.finishNode(vt,Bt?"BreakStatement":"ContinueStatement")},Kt.parseDebuggerStatement=function(vt){return this.next(),this.semicolon(),this.finishNode(vt,"DebuggerStatement")},Kt.parseDoStatement=function(vt){return this.next(),this.labels.push(hr),vt.body=this.parseStatement("do"),this.labels.pop(),this.expect(lt._while),vt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(lt.semi):this.semicolon(),this.finishNode(vt,"DoWhileStatement")},Kt.parseForStatement=function(vt){this.next();var Rt=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(hr),this.enterScope(0),this.expect(lt.parenL),this.type===lt.semi)return Rt>-1&&this.unexpected(Rt),this.parseFor(vt,null);var Bt=this.isLet();if(this.type===lt._var||this.type===lt._const||Bt){var ft=this.startNode(),Ct=Bt?"let":this.value;return this.next(),this.parseVar(ft,!0,Ct),this.finishNode(ft,"VariableDeclaration"),(this.type===lt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&ft.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===lt._in?Rt>-1&&this.unexpected(Rt):vt.await=Rt>-1),this.parseForIn(vt,ft)):(Rt>-1&&this.unexpected(Rt),this.parseFor(vt,ft))}var Dt=this.isContextual("let"),Vt=!1,Yt=new Jt,lr=this.parseExpression(Rt>-1?"await":!0,Yt);return this.type===lt._in||(Vt=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===lt._in?Rt>-1&&this.unexpected(Rt):vt.await=Rt>-1),Dt&&Vt&&this.raise(lr.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(lr,!1,Yt),this.checkLValPattern(lr),this.parseForIn(vt,lr)):(this.checkExpressionErrors(Yt,!0),Rt>-1&&this.unexpected(Rt),this.parseFor(vt,lr))},Kt.parseFunctionStatement=function(vt,Rt,Bt){return this.next(),this.parseFunction(vt,kr|(Bt?0:Ar),!1,Rt)},Kt.parseIfStatement=function(vt){return this.next(),vt.test=this.parseParenExpression(),vt.consequent=this.parseStatement("if"),vt.alternate=this.eat(lt._else)?this.parseStatement("if"):null,this.finishNode(vt,"IfStatement")},Kt.parseReturnStatement=function(vt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(lt.semi)||this.insertSemicolon()?vt.argument=null:(vt.argument=this.parseExpression(),this.semicolon()),this.finishNode(vt,"ReturnStatement")},Kt.parseSwitchStatement=function(vt){this.next(),vt.discriminant=this.parseParenExpression(),vt.cases=[],this.expect(lt.braceL),this.labels.push(Pr),this.enterScope(0);for(var Rt,Bt=!1;this.type!==lt.braceR;)if(this.type===lt._case||this.type===lt._default){var ft=this.type===lt._case;Rt&&this.finishNode(Rt,"SwitchCase"),vt.cases.push(Rt=this.startNode()),Rt.consequent=[],this.next(),ft?Rt.test=this.parseExpression():(Bt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Bt=!0,Rt.test=null),this.expect(lt.colon)}else Rt||this.unexpected(),Rt.consequent.push(this.parseStatement(null));return this.exitScope(),Rt&&this.finishNode(Rt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(vt,"SwitchStatement")},Kt.parseThrowStatement=function(vt){return this.next(),St.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),vt.argument=this.parseExpression(),this.semicolon(),this.finishNode(vt,"ThrowStatement")};var jr=[];Kt.parseCatchClauseParam=function(){var vt=this.parseBindingAtom(),Rt=vt.type==="Identifier";return this.enterScope(Rt?Tr:0),this.checkLValPattern(vt,Rt?Kn:An),this.expect(lt.parenR),vt},Kt.parseTryStatement=function(vt){if(this.next(),vt.block=this.parseBlock(),vt.handler=null,this.type===lt._catch){var Rt=this.startNode();this.next(),this.eat(lt.parenL)?Rt.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),Rt.param=null,this.enterScope(0)),Rt.body=this.parseBlock(!1),this.exitScope(),vt.handler=this.finishNode(Rt,"CatchClause")}return vt.finalizer=this.eat(lt._finally)?this.parseBlock():null,!vt.handler&&!vt.finalizer&&this.raise(vt.start,"Missing catch or finally clause"),this.finishNode(vt,"TryStatement")},Kt.parseVarStatement=function(vt,Rt,Bt){return this.next(),this.parseVar(vt,!1,Rt,Bt),this.semicolon(),this.finishNode(vt,"VariableDeclaration")},Kt.parseWhileStatement=function(vt){return this.next(),vt.test=this.parseParenExpression(),this.labels.push(hr),vt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(vt,"WhileStatement")},Kt.parseWithStatement=function(vt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),vt.object=this.parseParenExpression(),vt.body=this.parseStatement("with"),this.finishNode(vt,"WithStatement")},Kt.parseEmptyStatement=function(vt){return this.next(),this.finishNode(vt,"EmptyStatement")},Kt.parseLabeledStatement=function(vt,Rt,Bt,ft){for(var Ct=0,Dt=this.labels;Ct<Dt.length;Ct+=1){var Vt=Dt[Ct];Vt.name===Rt&&this.raise(Bt.start,"Label '"+Rt+"' is already declared")}for(var Yt=this.type.isLoop?"loop":this.type===lt._switch?"switch":null,lr=this.labels.length-1;lr>=0;lr--){var gr=this.labels[lr];if(gr.statementStart===vt.start)gr.statementStart=this.start,gr.kind=Yt;else break}return this.labels.push({name:Rt,kind:Yt,statementStart:this.start}),vt.body=this.parseStatement(ft?ft.indexOf("label")===-1?ft+"label":ft:"label"),this.labels.pop(),vt.label=Bt,this.finishNode(vt,"LabeledStatement")},Kt.parseExpressionStatement=function(vt,Rt){return vt.expression=Rt,this.semicolon(),this.finishNode(vt,"ExpressionStatement")},Kt.parseBlock=function(vt,Rt,Bt){for(vt===void 0&&(vt=!0),Rt===void 0&&(Rt=this.startNode()),Rt.body=[],this.expect(lt.braceL),vt&&this.enterScope(0);this.type!==lt.braceR;){var ft=this.parseStatement(null);Rt.body.push(ft)}return Bt&&(this.strict=!1),this.next(),vt&&this.exitScope(),this.finishNode(Rt,"BlockStatement")},Kt.parseFor=function(vt,Rt){return vt.init=Rt,this.expect(lt.semi),vt.test=this.type===lt.semi?null:this.parseExpression(),this.expect(lt.semi),vt.update=this.type===lt.parenR?null:this.parseExpression(),this.expect(lt.parenR),vt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(vt,"ForStatement")},Kt.parseForIn=function(vt,Rt){var Bt=this.type===lt._in;return this.next(),Rt.type==="VariableDeclaration"&&Rt.declarations[0].init!=null&&(!Bt||this.options.ecmaVersion<8||this.strict||Rt.kind!=="var"||Rt.declarations[0].id.type!=="Identifier")&&this.raise(Rt.start,(Bt?"for-in":"for-of")+" loop variable declaration may not have an initializer"),vt.left=Rt,vt.right=Bt?this.parseExpression():this.parseMaybeAssign(),this.expect(lt.parenR),vt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(vt,Bt?"ForInStatement":"ForOfStatement")},Kt.parseVar=function(vt,Rt,Bt,ft){for(vt.declarations=[],vt.kind=Bt;;){var Ct=this.startNode();if(this.parseVarId(Ct,Bt),this.eat(lt.eq)?Ct.init=this.parseMaybeAssign(Rt):!ft&&Bt==="const"&&!(this.type===lt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!ft&&Ct.id.type!=="Identifier"&&!(Rt&&(this.type===lt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Ct.init=null,vt.declarations.push(this.finishNode(Ct,"VariableDeclarator")),!this.eat(lt.comma))break}return vt},Kt.parseVarId=function(vt,Rt){vt.id=this.parseBindingAtom(),this.checkLValPattern(vt.id,Rt==="var"?Vn:An,!1)};var kr=1,Ar=2,Yr=4;Kt.parseFunction=function(vt,Rt,Bt,ft,Ct){this.initFunction(vt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!ft)&&(this.type===lt.star&&Rt&Ar&&this.unexpected(),vt.generator=this.eat(lt.star)),this.options.ecmaVersion>=8&&(vt.async=!!ft),Rt&kr&&(vt.id=Rt&Yr&&this.type!==lt.name?null:this.parseIdent(),vt.id&&!(Rt&Ar)&&this.checkLValSimple(vt.id,this.strict||vt.generator||vt.async?this.treatFunctionsAsVar?Vn:An:pn));var Dt=this.yieldPos,Vt=this.awaitPos,Yt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(nn(vt.async,vt.generator)),Rt&kr||(vt.id=this.type===lt.name?this.parseIdent():null),this.parseFunctionParams(vt),this.parseFunctionBody(vt,Bt,!1,Ct),this.yieldPos=Dt,this.awaitPos=Vt,this.awaitIdentPos=Yt,this.finishNode(vt,Rt&kr?"FunctionDeclaration":"FunctionExpression")},Kt.parseFunctionParams=function(vt){this.expect(lt.parenL),vt.params=this.parseBindingList(lt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Kt.parseClass=function(vt,Rt){this.next();var Bt=this.strict;this.strict=!0,this.parseClassId(vt,Rt),this.parseClassSuper(vt);var ft=this.enterClassBody(),Ct=this.startNode(),Dt=!1;for(Ct.body=[],this.expect(lt.braceL);this.type!==lt.braceR;){var Vt=this.parseClassElement(vt.superClass!==null);Vt&&(Ct.body.push(Vt),Vt.type==="MethodDefinition"&&Vt.kind==="constructor"?(Dt&&this.raiseRecoverable(Vt.start,"Duplicate constructor in the same class"),Dt=!0):Vt.key&&Vt.key.type==="PrivateIdentifier"&&un(ft,Vt)&&this.raiseRecoverable(Vt.key.start,"Identifier '#"+Vt.key.name+"' has already been declared"))}return this.strict=Bt,this.next(),vt.body=this.finishNode(Ct,"ClassBody"),this.exitClassBody(),this.finishNode(vt,Rt?"ClassDeclaration":"ClassExpression")},Kt.parseClassElement=function(vt){if(this.eat(lt.semi))return null;var Rt=this.options.ecmaVersion,Bt=this.startNode(),ft="",Ct=!1,Dt=!1,Vt="method",Yt=!1;if(this.eatContextual("static")){if(Rt>=13&&this.eat(lt.braceL))return this.parseClassStaticBlock(Bt),Bt;this.isClassElementNameStart()||this.type===lt.star?Yt=!0:ft="static"}if(Bt.static=Yt,!ft&&Rt>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===lt.star)&&!this.canInsertSemicolon()?Dt=!0:ft="async"),!ft&&(Rt>=9||!Dt)&&this.eat(lt.star)&&(Ct=!0),!ft&&!Dt&&!Ct){var lr=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Vt=lr:ft=lr)}if(ft?(Bt.computed=!1,Bt.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Bt.key.name=ft,this.finishNode(Bt.key,"Identifier")):this.parseClassElementName(Bt),Rt<13||this.type===lt.parenL||Vt!=="method"||Ct||Dt){var gr=!Bt.static&&Or(Bt,"constructor"),Mr=gr&&vt;gr&&Vt!=="method"&&this.raise(Bt.key.start,"Constructor can't have get/set modifier"),Bt.kind=gr?"constructor":Vt,this.parseClassMethod(Bt,Ct,Dt,Mr)}else this.parseClassField(Bt);return Bt},Kt.isClassElementNameStart=function(){return this.type===lt.name||this.type===lt.privateId||this.type===lt.num||this.type===lt.string||this.type===lt.bracketL||this.type.keyword},Kt.parseClassElementName=function(vt){this.type===lt.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),vt.computed=!1,vt.key=this.parsePrivateIdent()):this.parsePropertyName(vt)},Kt.parseClassMethod=function(vt,Rt,Bt,ft){var Ct=vt.key;vt.kind==="constructor"?(Rt&&this.raise(Ct.start,"Constructor can't be a generator"),Bt&&this.raise(Ct.start,"Constructor can't be an async method")):vt.static&&Or(vt,"prototype")&&this.raise(Ct.start,"Classes may not have a static property named prototype");var Dt=vt.value=this.parseMethod(Rt,Bt,ft);return vt.kind==="get"&&Dt.params.length!==0&&this.raiseRecoverable(Dt.start,"getter should have no params"),vt.kind==="set"&&Dt.params.length!==1&&this.raiseRecoverable(Dt.start,"setter should have exactly one param"),vt.kind==="set"&&Dt.params[0].type==="RestElement"&&this.raiseRecoverable(Dt.params[0].start,"Setter cannot use rest params"),this.finishNode(vt,"MethodDefinition")},Kt.parseClassField=function(vt){if(Or(vt,"constructor")?this.raise(vt.key.start,"Classes can't have a field named 'constructor'"):vt.static&&Or(vt,"prototype")&&this.raise(vt.key.start,"Classes can't have a static field named 'prototype'"),this.eat(lt.eq)){var Rt=this.currentThisScope(),Bt=Rt.inClassFieldInit;Rt.inClassFieldInit=!0,vt.value=this.parseMaybeAssign(),Rt.inClassFieldInit=Bt}else vt.value=null;return this.semicolon(),this.finishNode(vt,"PropertyDefinition")},Kt.parseClassStaticBlock=function(vt){vt.body=[];var Rt=this.labels;for(this.labels=[],this.enterScope(Wr|Cr);this.type!==lt.braceR;){var Bt=this.parseStatement(null);vt.body.push(Bt)}return this.next(),this.exitScope(),this.labels=Rt,this.finishNode(vt,"StaticBlock")},Kt.parseClassId=function(vt,Rt){this.type===lt.name?(vt.id=this.parseIdent(),Rt&&this.checkLValSimple(vt.id,An,!1)):(Rt===!0&&this.unexpected(),vt.id=null)},Kt.parseClassSuper=function(vt){vt.superClass=this.eat(lt._extends)?this.parseExprSubscripts(null,!1):null},Kt.enterClassBody=function(){var vt={declared:Object.create(null),used:[]};return this.privateNameStack.push(vt),vt.declared},Kt.exitClassBody=function(){var vt=this.privateNameStack.pop(),Rt=vt.declared,Bt=vt.used;if(this.options.checkPrivateFields)for(var ft=this.privateNameStack.length,Ct=ft===0?null:this.privateNameStack[ft-1],Dt=0;Dt<Bt.length;++Dt){var Vt=Bt[Dt];Mt(Rt,Vt.name)||(Ct?Ct.used.push(Vt):this.raiseRecoverable(Vt.start,"Private field '#"+Vt.name+"' must be declared in an enclosing class"))}};function un(vt,Rt){var Bt=Rt.key.name,ft=vt[Bt],Ct="true";return Rt.type==="MethodDefinition"&&(Rt.kind==="get"||Rt.kind==="set")&&(Ct=(Rt.static?"s":"i")+Rt.kind),ft==="iget"&&Ct==="iset"||ft==="iset"&&Ct==="iget"||ft==="sget"&&Ct==="sset"||ft==="sset"&&Ct==="sget"?(vt[Bt]="true",!1):ft?!0:(vt[Bt]=Ct,!1)}function Or(vt,Rt){var Bt=vt.computed,ft=vt.key;return!Bt&&(ft.type==="Identifier"&&ft.name===Rt||ft.type==="Literal"&&ft.value===Rt)}Kt.parseExportAllDeclaration=function(vt,Rt){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(vt.exported=this.parseModuleExportName(),this.checkExport(Rt,vt.exported,this.lastTokStart)):vt.exported=null),this.expectContextual("from"),this.type!==lt.string&&this.unexpected(),vt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(vt,"ExportAllDeclaration")},Kt.parseExport=function(vt,Rt){if(this.next(),this.eat(lt.star))return this.parseExportAllDeclaration(vt,Rt);if(this.eat(lt._default))return this.checkExport(Rt,"default",this.lastTokStart),vt.declaration=this.parseExportDefaultDeclaration(),this.finishNode(vt,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())vt.declaration=this.parseExportDeclaration(vt),vt.declaration.type==="VariableDeclaration"?this.checkVariableExport(Rt,vt.declaration.declarations):this.checkExport(Rt,vt.declaration.id,vt.declaration.id.start),vt.specifiers=[],vt.source=null;else{if(vt.declaration=null,vt.specifiers=this.parseExportSpecifiers(Rt),this.eatContextual("from"))this.type!==lt.string&&this.unexpected(),vt.source=this.parseExprAtom();else{for(var Bt=0,ft=vt.specifiers;Bt<ft.length;Bt+=1){var Ct=ft[Bt];this.checkUnreserved(Ct.local),this.checkLocalExport(Ct.local),Ct.local.type==="Literal"&&this.raise(Ct.local.start,"A string literal cannot be used as an exported binding without `from`.")}vt.source=null}this.semicolon()}return this.finishNode(vt,"ExportNamedDeclaration")},Kt.parseExportDeclaration=function(vt){return this.parseStatement(null)},Kt.parseExportDefaultDeclaration=function(){var vt;if(this.type===lt._function||(vt=this.isAsyncFunction())){var Rt=this.startNode();return this.next(),vt&&this.next(),this.parseFunction(Rt,kr|Yr,!1,vt)}else if(this.type===lt._class){var Bt=this.startNode();return this.parseClass(Bt,"nullableID")}else{var ft=this.parseMaybeAssign();return this.semicolon(),ft}},Kt.checkExport=function(vt,Rt,Bt){vt&&(typeof Rt!="string"&&(Rt=Rt.type==="Identifier"?Rt.name:Rt.value),Mt(vt,Rt)&&this.raiseRecoverable(Bt,"Duplicate export '"+Rt+"'"),vt[Rt]=!0)},Kt.checkPatternExport=function(vt,Rt){var Bt=Rt.type;if(Bt==="Identifier")this.checkExport(vt,Rt,Rt.start);else if(Bt==="ObjectPattern")for(var ft=0,Ct=Rt.properties;ft<Ct.length;ft+=1){var Dt=Ct[ft];this.checkPatternExport(vt,Dt)}else if(Bt==="ArrayPattern")for(var Vt=0,Yt=Rt.elements;Vt<Yt.length;Vt+=1){var lr=Yt[Vt];lr&&this.checkPatternExport(vt,lr)}else Bt==="Property"?this.checkPatternExport(vt,Rt.value):Bt==="AssignmentPattern"?this.checkPatternExport(vt,Rt.left):Bt==="RestElement"&&this.checkPatternExport(vt,Rt.argument)},Kt.checkVariableExport=function(vt,Rt){if(vt)for(var Bt=0,ft=Rt;Bt<ft.length;Bt+=1){var Ct=ft[Bt];this.checkPatternExport(vt,Ct.id)}},Kt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Kt.parseExportSpecifier=function(vt){var Rt=this.startNode();return Rt.local=this.parseModuleExportName(),Rt.exported=this.eatContextual("as")?this.parseModuleExportName():Rt.local,this.checkExport(vt,Rt.exported,Rt.exported.start),this.finishNode(Rt,"ExportSpecifier")},Kt.parseExportSpecifiers=function(vt){var Rt=[],Bt=!0;for(this.expect(lt.braceL);!this.eat(lt.braceR);){if(Bt)Bt=!1;else if(this.expect(lt.comma),this.afterTrailingComma(lt.braceR))break;Rt.push(this.parseExportSpecifier(vt))}return Rt},Kt.parseImport=function(vt){return this.next(),this.type===lt.string?(vt.specifiers=jr,vt.source=this.parseExprAtom()):(vt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),vt.source=this.type===lt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(vt,"ImportDeclaration")},Kt.parseImportSpecifier=function(){var vt=this.startNode();return vt.imported=this.parseModuleExportName(),this.eatContextual("as")?vt.local=this.parseIdent():(this.checkUnreserved(vt.imported),vt.local=vt.imported),this.checkLValSimple(vt.local,An),this.finishNode(vt,"ImportSpecifier")},Kt.parseImportDefaultSpecifier=function(){var vt=this.startNode();return vt.local=this.parseIdent(),this.checkLValSimple(vt.local,An),this.finishNode(vt,"ImportDefaultSpecifier")},Kt.parseImportNamespaceSpecifier=function(){var vt=this.startNode();return this.next(),this.expectContextual("as"),vt.local=this.parseIdent(),this.checkLValSimple(vt.local,An),this.finishNode(vt,"ImportNamespaceSpecifier")},Kt.parseImportSpecifiers=function(){var vt=[],Rt=!0;if(this.type===lt.name&&(vt.push(this.parseImportDefaultSpecifier()),!this.eat(lt.comma)))return vt;if(this.type===lt.star)return vt.push(this.parseImportNamespaceSpecifier()),vt;for(this.expect(lt.braceL);!this.eat(lt.braceR);){if(Rt)Rt=!1;else if(this.expect(lt.comma),this.afterTrailingComma(lt.braceR))break;vt.push(this.parseImportSpecifier())}return vt},Kt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===lt.string){var vt=this.parseLiteral(this.value);return qt.test(vt.value)&&this.raise(vt.start,"An export name cannot include a lone surrogate."),vt}return this.parseIdent(!0)},Kt.adaptDirectivePrologue=function(vt){for(var Rt=0;Rt<vt.length&&this.isDirectiveCandidate(vt[Rt]);++Rt)vt[Rt].directive=vt[Rt].expression.raw.slice(1,-1)},Kt.isDirectiveCandidate=function(vt){return this.options.ecmaVersion>=5&&vt.type==="ExpressionStatement"&&vt.expression.type==="Literal"&&typeof vt.expression.value=="string"&&(this.input[vt.start]==='"'||this.input[vt.start]==="'")};var Xr=wr.prototype;Xr.toAssignable=function(vt,Rt,Bt){if(this.options.ecmaVersion>=6&&vt)switch(vt.type){case"Identifier":this.inAsync&&vt.name==="await"&&this.raise(vt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":vt.type="ObjectPattern",Bt&&this.checkPatternErrors(Bt,!0);for(var ft=0,Ct=vt.properties;ft<Ct.length;ft+=1){var Dt=Ct[ft];this.toAssignable(Dt,Rt),Dt.type==="RestElement"&&(Dt.argument.type==="ArrayPattern"||Dt.argument.type==="ObjectPattern")&&this.raise(Dt.argument.start,"Unexpected token")}break;case"Property":vt.kind!=="init"&&this.raise(vt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(vt.value,Rt);break;case"ArrayExpression":vt.type="ArrayPattern",Bt&&this.checkPatternErrors(Bt,!0),this.toAssignableList(vt.elements,Rt);break;case"SpreadElement":vt.type="RestElement",this.toAssignable(vt.argument,Rt),vt.argument.type==="AssignmentPattern"&&this.raise(vt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":vt.operator!=="="&&this.raise(vt.left.end,"Only '=' operator can be used for specifying default value."),vt.type="AssignmentPattern",delete vt.operator,this.toAssignable(vt.left,Rt);break;case"ParenthesizedExpression":this.toAssignable(vt.expression,Rt,Bt);break;case"ChainExpression":this.raiseRecoverable(vt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Rt)break;default:this.raise(vt.start,"Assigning to rvalue")}else Bt&&this.checkPatternErrors(Bt,!0);return vt},Xr.toAssignableList=function(vt,Rt){for(var Bt=vt.length,ft=0;ft<Bt;ft++){var Ct=vt[ft];Ct&&this.toAssignable(Ct,Rt)}if(Bt){var Dt=vt[Bt-1];this.options.ecmaVersion===6&&Rt&&Dt&&Dt.type==="RestElement"&&Dt.argument.type!=="Identifier"&&this.unexpected(Dt.argument.start)}return vt},Xr.parseSpread=function(vt){var Rt=this.startNode();return this.next(),Rt.argument=this.parseMaybeAssign(!1,vt),this.finishNode(Rt,"SpreadElement")},Xr.parseRestBinding=function(){var vt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==lt.name&&this.unexpected(),vt.argument=this.parseBindingAtom(),this.finishNode(vt,"RestElement")},Xr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case lt.bracketL:var vt=this.startNode();return this.next(),vt.elements=this.parseBindingList(lt.bracketR,!0,!0),this.finishNode(vt,"ArrayPattern");case lt.braceL:return this.parseObj(!0)}return this.parseIdent()},Xr.parseBindingList=function(vt,Rt,Bt,ft){for(var Ct=[],Dt=!0;!this.eat(vt);)if(Dt?Dt=!1:this.expect(lt.comma),Rt&&this.type===lt.comma)Ct.push(null);else{if(Bt&&this.afterTrailingComma(vt))break;if(this.type===lt.ellipsis){var Vt=this.parseRestBinding();this.parseBindingListItem(Vt),Ct.push(Vt),this.type===lt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(vt);break}else Ct.push(this.parseAssignableListItem(ft))}return Ct},Xr.parseAssignableListItem=function(vt){var Rt=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Rt),Rt},Xr.parseBindingListItem=function(vt){return vt},Xr.parseMaybeDefault=function(vt,Rt,Bt){if(Bt=Bt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(lt.eq))return Bt;var ft=this.startNodeAt(vt,Rt);return ft.left=Bt,ft.right=this.parseMaybeAssign(),this.finishNode(ft,"AssignmentPattern")},Xr.checkLValSimple=function(vt,Rt,Bt){Rt===void 0&&(Rt=Cn);var ft=Rt!==Cn;switch(vt.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(vt.name)&&this.raiseRecoverable(vt.start,(ft?"Binding ":"Assigning to ")+vt.name+" in strict mode"),ft&&(Rt===An&&vt.name==="let"&&this.raiseRecoverable(vt.start,"let is disallowed as a lexically bound name"),Bt&&(Mt(Bt,vt.name)&&this.raiseRecoverable(vt.start,"Argument name clash"),Bt[vt.name]=!0),Rt!==Pn&&this.declareName(vt.name,Rt,vt.start));break;case"ChainExpression":this.raiseRecoverable(vt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":ft&&this.raiseRecoverable(vt.start,"Binding member expression");break;case"ParenthesizedExpression":return ft&&this.raiseRecoverable(vt.start,"Binding parenthesized expression"),this.checkLValSimple(vt.expression,Rt,Bt);default:this.raise(vt.start,(ft?"Binding":"Assigning to")+" rvalue")}},Xr.checkLValPattern=function(vt,Rt,Bt){switch(Rt===void 0&&(Rt=Cn),vt.type){case"ObjectPattern":for(var ft=0,Ct=vt.properties;ft<Ct.length;ft+=1){var Dt=Ct[ft];this.checkLValInnerPattern(Dt,Rt,Bt)}break;case"ArrayPattern":for(var Vt=0,Yt=vt.elements;Vt<Yt.length;Vt+=1){var lr=Yt[Vt];lr&&this.checkLValInnerPattern(lr,Rt,Bt)}break;default:this.checkLValSimple(vt,Rt,Bt)}},Xr.checkLValInnerPattern=function(vt,Rt,Bt){switch(Rt===void 0&&(Rt=Cn),vt.type){case"Property":this.checkLValInnerPattern(vt.value,Rt,Bt);break;case"AssignmentPattern":this.checkLValPattern(vt.left,Rt,Bt);break;case"RestElement":this.checkLValPattern(vt.argument,Rt,Bt);break;default:this.checkLValPattern(vt,Rt,Bt)}};var Ur=function(Rt,Bt,ft,Ct,Dt){this.token=Rt,this.isExpr=!!Bt,this.preserveSpace=!!ft,this.override=Ct,this.generator=!!Dt},Vr={b_stat:new Ur("{",!1),b_expr:new Ur("{",!0),b_tmpl:new Ur("${",!1),p_stat:new Ur("(",!1),p_expr:new Ur("(",!0),q_tmpl:new Ur("`",!0,!0,function(vt){return vt.tryReadTemplateToken()}),f_stat:new Ur("function",!1),f_expr:new Ur("function",!0),f_expr_gen:new Ur("function",!0,!1,null,!0),f_gen:new Ur("function",!1,!1,null,!0)},ln=wr.prototype;ln.initialContext=function(){return[Vr.b_stat]},ln.curContext=function(){return this.context[this.context.length-1]},ln.braceIsBlock=function(vt){var Rt=this.curContext();return Rt===Vr.f_expr||Rt===Vr.f_stat?!0:vt===lt.colon&&(Rt===Vr.b_stat||Rt===Vr.b_expr)?!Rt.isExpr:vt===lt._return||vt===lt.name&&this.exprAllowed?St.test(this.input.slice(this.lastTokEnd,this.start)):vt===lt._else||vt===lt.semi||vt===lt.eof||vt===lt.parenR||vt===lt.arrow?!0:vt===lt.braceL?Rt===Vr.b_stat:vt===lt._var||vt===lt._const||vt===lt.name?!1:!this.exprAllowed},ln.inGeneratorContext=function(){for(var vt=this.context.length-1;vt>=1;vt--){var Rt=this.context[vt];if(Rt.token==="function")return Rt.generator}return!1},ln.updateContext=function(vt){var Rt,Bt=this.type;Bt.keyword&&vt===lt.dot?this.exprAllowed=!1:(Rt=Bt.updateContext)?Rt.call(this,vt):this.exprAllowed=Bt.beforeExpr},ln.overrideContext=function(vt){this.curContext()!==vt&&(this.context[this.context.length-1]=vt)},lt.parenR.updateContext=lt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var vt=this.context.pop();vt===Vr.b_stat&&this.curContext().token==="function"&&(vt=this.context.pop()),this.exprAllowed=!vt.isExpr},lt.braceL.updateContext=function(vt){this.context.push(this.braceIsBlock(vt)?Vr.b_stat:Vr.b_expr),this.exprAllowed=!0},lt.dollarBraceL.updateContext=function(){this.context.push(Vr.b_tmpl),this.exprAllowed=!0},lt.parenL.updateContext=function(vt){var Rt=vt===lt._if||vt===lt._for||vt===lt._with||vt===lt._while;this.context.push(Rt?Vr.p_stat:Vr.p_expr),this.exprAllowed=!0},lt.incDec.updateContext=function(){},lt._function.updateContext=lt._class.updateContext=function(vt){vt.beforeExpr&&vt!==lt._else&&!(vt===lt.semi&&this.curContext()!==Vr.p_stat)&&!(vt===lt._return&&St.test(this.input.slice(this.lastTokEnd,this.start)))&&!((vt===lt.colon||vt===lt.braceL)&&this.curContext()===Vr.b_stat)?this.context.push(Vr.f_expr):this.context.push(Vr.f_stat),this.exprAllowed=!1},lt.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},lt.backQuote.updateContext=function(){this.curContext()===Vr.q_tmpl?this.context.pop():this.context.push(Vr.q_tmpl),this.exprAllowed=!1},lt.star.updateContext=function(vt){if(vt===lt._function){var Rt=this.context.length-1;this.context[Rt]===Vr.f_expr?this.context[Rt]=Vr.f_expr_gen:this.context[Rt]=Vr.f_gen}this.exprAllowed=!0},lt.name.updateContext=function(vt){var Rt=!1;this.options.ecmaVersion>=6&&vt!==lt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Rt=!0),this.exprAllowed=Rt};var Er=wr.prototype;Er.checkPropClash=function(vt,Rt,Bt){if(!(this.options.ecmaVersion>=9&&vt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(vt.computed||vt.method||vt.shorthand))){var ft=vt.key,Ct;switch(ft.type){case"Identifier":Ct=ft.name;break;case"Literal":Ct=String(ft.value);break;default:return}var Dt=vt.kind;if(this.options.ecmaVersion>=6){Ct==="__proto__"&&Dt==="init"&&(Rt.proto&&(Bt?Bt.doubleProto<0&&(Bt.doubleProto=ft.start):this.raiseRecoverable(ft.start,"Redefinition of __proto__ property")),Rt.proto=!0);return}Ct="$"+Ct;var Vt=Rt[Ct];if(Vt){var Yt;Dt==="init"?Yt=this.strict&&Vt.init||Vt.get||Vt.set:Yt=Vt.init||Vt[Dt],Yt&&this.raiseRecoverable(ft.start,"Redefinition of property")}else Vt=Rt[Ct]={init:!1,get:!1,set:!1};Vt[Dt]=!0}},Er.parseExpression=function(vt,Rt){var Bt=this.start,ft=this.startLoc,Ct=this.parseMaybeAssign(vt,Rt);if(this.type===lt.comma){var Dt=this.startNodeAt(Bt,ft);for(Dt.expressions=[Ct];this.eat(lt.comma);)Dt.expressions.push(this.parseMaybeAssign(vt,Rt));return this.finishNode(Dt,"SequenceExpression")}return Ct},Er.parseMaybeAssign=function(vt,Rt,Bt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(vt);this.exprAllowed=!1}var ft=!1,Ct=-1,Dt=-1,Vt=-1;Rt?(Ct=Rt.parenthesizedAssign,Dt=Rt.trailingComma,Vt=Rt.doubleProto,Rt.parenthesizedAssign=Rt.trailingComma=-1):(Rt=new Jt,ft=!0);var Yt=this.start,lr=this.startLoc;(this.type===lt.parenL||this.type===lt.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=vt==="await");var gr=this.parseMaybeConditional(vt,Rt);if(Bt&&(gr=Bt.call(this,gr,Yt,lr)),this.type.isAssign){var Mr=this.startNodeAt(Yt,lr);return Mr.operator=this.value,this.type===lt.eq&&(gr=this.toAssignable(gr,!1,Rt)),ft||(Rt.parenthesizedAssign=Rt.trailingComma=Rt.doubleProto=-1),Rt.shorthandAssign>=gr.start&&(Rt.shorthandAssign=-1),this.type===lt.eq?this.checkLValPattern(gr):this.checkLValSimple(gr),Mr.left=gr,this.next(),Mr.right=this.parseMaybeAssign(vt),Vt>-1&&(Rt.doubleProto=Vt),this.finishNode(Mr,"AssignmentExpression")}else ft&&this.checkExpressionErrors(Rt,!0);return Ct>-1&&(Rt.parenthesizedAssign=Ct),Dt>-1&&(Rt.trailingComma=Dt),gr},Er.parseMaybeConditional=function(vt,Rt){var Bt=this.start,ft=this.startLoc,Ct=this.parseExprOps(vt,Rt);if(this.checkExpressionErrors(Rt))return Ct;if(this.eat(lt.question)){var Dt=this.startNodeAt(Bt,ft);return Dt.test=Ct,Dt.consequent=this.parseMaybeAssign(),this.expect(lt.colon),Dt.alternate=this.parseMaybeAssign(vt),this.finishNode(Dt,"ConditionalExpression")}return Ct},Er.parseExprOps=function(vt,Rt){var Bt=this.start,ft=this.startLoc,Ct=this.parseMaybeUnary(Rt,!1,!1,vt);return this.checkExpressionErrors(Rt)||Ct.start===Bt&&Ct.type==="ArrowFunctionExpression"?Ct:this.parseExprOp(Ct,Bt,ft,-1,vt)},Er.parseExprOp=function(vt,Rt,Bt,ft,Ct){var Dt=this.type.binop;if(Dt!=null&&(!Ct||this.type!==lt._in)&&Dt>ft){var Vt=this.type===lt.logicalOR||this.type===lt.logicalAND,Yt=this.type===lt.coalesce;Yt&&(Dt=lt.logicalAND.binop);var lr=this.value;this.next();var gr=this.start,Mr=this.startLoc,Fr=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Ct),gr,Mr,Dt,Ct),cn=this.buildBinary(Rt,Bt,vt,Fr,lr,Vt||Yt);return(Vt&&this.type===lt.coalesce||Yt&&(this.type===lt.logicalOR||this.type===lt.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(cn,Rt,Bt,ft,Ct)}return vt},Er.buildBinary=function(vt,Rt,Bt,ft,Ct,Dt){ft.type==="PrivateIdentifier"&&this.raise(ft.start,"Private identifier can only be left side of binary expression");var Vt=this.startNodeAt(vt,Rt);return Vt.left=Bt,Vt.operator=Ct,Vt.right=ft,this.finishNode(Vt,Dt?"LogicalExpression":"BinaryExpression")},Er.parseMaybeUnary=function(vt,Rt,Bt,ft){var Ct=this.start,Dt=this.startLoc,Vt;if(this.isContextual("await")&&this.canAwait)Vt=this.parseAwait(ft),Rt=!0;else if(this.type.prefix){var Yt=this.startNode(),lr=this.type===lt.incDec;Yt.operator=this.value,Yt.prefix=!0,this.next(),Yt.argument=this.parseMaybeUnary(null,!0,lr,ft),this.checkExpressionErrors(vt,!0),lr?this.checkLValSimple(Yt.argument):this.strict&&Yt.operator==="delete"&&Yt.argument.type==="Identifier"?this.raiseRecoverable(Yt.start,"Deleting local variable in strict mode"):Yt.operator==="delete"&&dn(Yt.argument)?this.raiseRecoverable(Yt.start,"Private fields can not be deleted"):Rt=!0,Vt=this.finishNode(Yt,lr?"UpdateExpression":"UnaryExpression")}else if(!Rt&&this.type===lt.privateId)(ft||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Vt=this.parsePrivateIdent(),this.type!==lt._in&&this.unexpected();else{if(Vt=this.parseExprSubscripts(vt,ft),this.checkExpressionErrors(vt))return Vt;for(;this.type.postfix&&!this.canInsertSemicolon();){var gr=this.startNodeAt(Ct,Dt);gr.operator=this.value,gr.prefix=!1,gr.argument=Vt,this.checkLValSimple(Vt),this.next(),Vt=this.finishNode(gr,"UpdateExpression")}}if(!Bt&&this.eat(lt.starstar))if(Rt)this.unexpected(this.lastTokStart);else return this.buildBinary(Ct,Dt,Vt,this.parseMaybeUnary(null,!1,!1,ft),"**",!1);else return Vt};function dn(vt){return vt.type==="MemberExpression"&&vt.property.type==="PrivateIdentifier"||vt.type==="ChainExpression"&&dn(vt.expression)}Er.parseExprSubscripts=function(vt,Rt){var Bt=this.start,ft=this.startLoc,Ct=this.parseExprAtom(vt,Rt);if(Ct.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Ct;var Dt=this.parseSubscripts(Ct,Bt,ft,!1,Rt);return vt&&Dt.type==="MemberExpression"&&(vt.parenthesizedAssign>=Dt.start&&(vt.parenthesizedAssign=-1),vt.parenthesizedBind>=Dt.start&&(vt.parenthesizedBind=-1),vt.trailingComma>=Dt.start&&(vt.trailingComma=-1)),Dt},Er.parseSubscripts=function(vt,Rt,Bt,ft,Ct){for(var Dt=this.options.ecmaVersion>=8&&vt.type==="Identifier"&&vt.name==="async"&&this.lastTokEnd===vt.end&&!this.canInsertSemicolon()&&vt.end-vt.start===5&&this.potentialArrowAt===vt.start,Vt=!1;;){var Yt=this.parseSubscript(vt,Rt,Bt,ft,Dt,Vt,Ct);if(Yt.optional&&(Vt=!0),Yt===vt||Yt.type==="ArrowFunctionExpression"){if(Vt){var lr=this.startNodeAt(Rt,Bt);lr.expression=Yt,Yt=this.finishNode(lr,"ChainExpression")}return Yt}vt=Yt}},Er.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(lt.arrow)},Er.parseSubscriptAsyncArrow=function(vt,Rt,Bt,ft){return this.parseArrowExpression(this.startNodeAt(vt,Rt),Bt,!0,ft)},Er.parseSubscript=function(vt,Rt,Bt,ft,Ct,Dt,Vt){var Yt=this.options.ecmaVersion>=11,lr=Yt&&this.eat(lt.questionDot);ft&&lr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var gr=this.eat(lt.bracketL);if(gr||lr&&this.type!==lt.parenL&&this.type!==lt.backQuote||this.eat(lt.dot)){var Mr=this.startNodeAt(Rt,Bt);Mr.object=vt,gr?(Mr.property=this.parseExpression(),this.expect(lt.bracketR)):this.type===lt.privateId&&vt.type!=="Super"?Mr.property=this.parsePrivateIdent():Mr.property=this.parseIdent(this.options.allowReserved!=="never"),Mr.computed=!!gr,Yt&&(Mr.optional=lr),vt=this.finishNode(Mr,"MemberExpression")}else if(!ft&&this.eat(lt.parenL)){var Fr=new Jt,cn=this.yieldPos,on=this.awaitPos,On=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var _s=this.parseExprList(lt.parenR,this.options.ecmaVersion>=8,!1,Fr);if(Ct&&!lr&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Fr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=cn,this.awaitPos=on,this.awaitIdentPos=On,this.parseSubscriptAsyncArrow(Rt,Bt,_s,Vt);this.checkExpressionErrors(Fr,!0),this.yieldPos=cn||this.yieldPos,this.awaitPos=on||this.awaitPos,this.awaitIdentPos=On||this.awaitIdentPos;var $n=this.startNodeAt(Rt,Bt);$n.callee=vt,$n.arguments=_s,Yt&&($n.optional=lr),vt=this.finishNode($n,"CallExpression")}else if(this.type===lt.backQuote){(lr||Dt)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var wn=this.startNodeAt(Rt,Bt);wn.tag=vt,wn.quasi=this.parseTemplate({isTagged:!0}),vt=this.finishNode(wn,"TaggedTemplateExpression")}return vt},Er.parseExprAtom=function(vt,Rt,Bt){this.type===lt.slash&&this.readRegexp();var ft,Ct=this.potentialArrowAt===this.start;switch(this.type){case lt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),ft=this.startNode(),this.next(),this.type===lt.parenL&&!this.allowDirectSuper&&this.raise(ft.start,"super() call outside constructor of a subclass"),this.type!==lt.dot&&this.type!==lt.bracketL&&this.type!==lt.parenL&&this.unexpected(),this.finishNode(ft,"Super");case lt._this:return ft=this.startNode(),this.next(),this.finishNode(ft,"ThisExpression");case lt.name:var Dt=this.start,Vt=this.startLoc,Yt=this.containsEsc,lr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Yt&&lr.name==="async"&&!this.canInsertSemicolon()&&this.eat(lt._function))return this.overrideContext(Vr.f_expr),this.parseFunction(this.startNodeAt(Dt,Vt),0,!1,!0,Rt);if(Ct&&!this.canInsertSemicolon()){if(this.eat(lt.arrow))return this.parseArrowExpression(this.startNodeAt(Dt,Vt),[lr],!1,Rt);if(this.options.ecmaVersion>=8&&lr.name==="async"&&this.type===lt.name&&!Yt&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return lr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(lt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Dt,Vt),[lr],!0,Rt)}return lr;case lt.regexp:var gr=this.value;return ft=this.parseLiteral(gr.value),ft.regex={pattern:gr.pattern,flags:gr.flags},ft;case lt.num:case lt.string:return this.parseLiteral(this.value);case lt._null:case lt._true:case lt._false:return ft=this.startNode(),ft.value=this.type===lt._null?null:this.type===lt._true,ft.raw=this.type.keyword,this.next(),this.finishNode(ft,"Literal");case lt.parenL:var Mr=this.start,Fr=this.parseParenAndDistinguishExpression(Ct,Rt);return vt&&(vt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Fr)&&(vt.parenthesizedAssign=Mr),vt.parenthesizedBind<0&&(vt.parenthesizedBind=Mr)),Fr;case lt.bracketL:return ft=this.startNode(),this.next(),ft.elements=this.parseExprList(lt.bracketR,!0,!0,vt),this.finishNode(ft,"ArrayExpression");case lt.braceL:return this.overrideContext(Vr.b_expr),this.parseObj(!1,vt);case lt._function:return ft=this.startNode(),this.next(),this.parseFunction(ft,0);case lt._class:return this.parseClass(this.startNode(),!1);case lt._new:return this.parseNew();case lt.backQuote:return this.parseTemplate();case lt._import:return this.options.ecmaVersion>=11?this.parseExprImport(Bt):this.unexpected();default:return this.parseExprAtomDefault()}},Er.parseExprAtomDefault=function(){this.unexpected()},Er.parseExprImport=function(vt){var Rt=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===lt.parenL&&!vt)return this.parseDynamicImport(Rt);if(this.type===lt.dot){var Bt=this.startNodeAt(Rt.start,Rt.loc&&Rt.loc.start);return Bt.name="import",Rt.meta=this.finishNode(Bt,"Identifier"),this.parseImportMeta(Rt)}else this.unexpected()},Er.parseDynamicImport=function(vt){if(this.next(),vt.source=this.parseMaybeAssign(),!this.eat(lt.parenR)){var Rt=this.start;this.eat(lt.comma)&&this.eat(lt.parenR)?this.raiseRecoverable(Rt,"Trailing comma is not allowed in import()"):this.unexpected(Rt)}return this.finishNode(vt,"ImportExpression")},Er.parseImportMeta=function(vt){this.next();var Rt=this.containsEsc;return vt.property=this.parseIdent(!0),vt.property.name!=="meta"&&this.raiseRecoverable(vt.property.start,"The only valid meta property for import is 'import.meta'"),Rt&&this.raiseRecoverable(vt.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(vt.start,"Cannot use 'import.meta' outside a module"),this.finishNode(vt,"MetaProperty")},Er.parseLiteral=function(vt){var Rt=this.startNode();return Rt.value=vt,Rt.raw=this.input.slice(this.start,this.end),Rt.raw.charCodeAt(Rt.raw.length-1)===110&&(Rt.bigint=Rt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(Rt,"Literal")},Er.parseParenExpression=function(){this.expect(lt.parenL);var vt=this.parseExpression();return this.expect(lt.parenR),vt},Er.shouldParseArrow=function(vt){return!this.canInsertSemicolon()},Er.parseParenAndDistinguishExpression=function(vt,Rt){var Bt=this.start,ft=this.startLoc,Ct,Dt=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Vt=this.start,Yt=this.startLoc,lr=[],gr=!0,Mr=!1,Fr=new Jt,cn=this.yieldPos,on=this.awaitPos,On;for(this.yieldPos=0,this.awaitPos=0;this.type!==lt.parenR;)if(gr?gr=!1:this.expect(lt.comma),Dt&&this.afterTrailingComma(lt.parenR,!0)){Mr=!0;break}else if(this.type===lt.ellipsis){On=this.start,lr.push(this.parseParenItem(this.parseRestBinding())),this.type===lt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else lr.push(this.parseMaybeAssign(!1,Fr,this.parseParenItem));var _s=this.lastTokEnd,$n=this.lastTokEndLoc;if(this.expect(lt.parenR),vt&&this.shouldParseArrow(lr)&&this.eat(lt.arrow))return this.checkPatternErrors(Fr,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=cn,this.awaitPos=on,this.parseParenArrowList(Bt,ft,lr,Rt);(!lr.length||Mr)&&this.unexpected(this.lastTokStart),On&&this.unexpected(On),this.checkExpressionErrors(Fr,!0),this.yieldPos=cn||this.yieldPos,this.awaitPos=on||this.awaitPos,lr.length>1?(Ct=this.startNodeAt(Vt,Yt),Ct.expressions=lr,this.finishNodeAt(Ct,"SequenceExpression",_s,$n)):Ct=lr[0]}else Ct=this.parseParenExpression();if(this.options.preserveParens){var wn=this.startNodeAt(Bt,ft);return wn.expression=Ct,this.finishNode(wn,"ParenthesizedExpression")}else return Ct},Er.parseParenItem=function(vt){return vt},Er.parseParenArrowList=function(vt,Rt,Bt,ft){return this.parseArrowExpression(this.startNodeAt(vt,Rt),Bt,!1,ft)};var bs=[];Er.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var vt=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===lt.dot){var Rt=this.startNodeAt(vt.start,vt.loc&&vt.loc.start);Rt.name="new",vt.meta=this.finishNode(Rt,"Identifier"),this.next();var Bt=this.containsEsc;return vt.property=this.parseIdent(!0),vt.property.name!=="target"&&this.raiseRecoverable(vt.property.start,"The only valid meta property for new is 'new.target'"),Bt&&this.raiseRecoverable(vt.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(vt.start,"'new.target' can only be used in functions and class static block"),this.finishNode(vt,"MetaProperty")}var ft=this.start,Ct=this.startLoc;return vt.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),ft,Ct,!0,!1),this.eat(lt.parenL)?vt.arguments=this.parseExprList(lt.parenR,this.options.ecmaVersion>=8,!1):vt.arguments=bs,this.finishNode(vt,"NewExpression")},Er.parseTemplateElement=function(vt){var Rt=vt.isTagged,Bt=this.startNode();return this.type===lt.invalidTemplate?(Rt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Bt.value={raw:this.value,cooked:null}):Bt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Bt.tail=this.type===lt.backQuote,this.finishNode(Bt,"TemplateElement")},Er.parseTemplate=function(vt){vt===void 0&&(vt={});var Rt=vt.isTagged;Rt===void 0&&(Rt=!1);var Bt=this.startNode();this.next(),Bt.expressions=[];var ft=this.parseTemplateElement({isTagged:Rt});for(Bt.quasis=[ft];!ft.tail;)this.type===lt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(lt.dollarBraceL),Bt.expressions.push(this.parseExpression()),this.expect(lt.braceR),Bt.quasis.push(ft=this.parseTemplateElement({isTagged:Rt}));return this.next(),this.finishNode(Bt,"TemplateLiteral")},Er.isAsyncProp=function(vt){return!vt.computed&&vt.key.type==="Identifier"&&vt.key.name==="async"&&(this.type===lt.name||this.type===lt.num||this.type===lt.string||this.type===lt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===lt.star)&&!St.test(this.input.slice(this.lastTokEnd,this.start))},Er.parseObj=function(vt,Rt){var Bt=this.startNode(),ft=!0,Ct={};for(Bt.properties=[],this.next();!this.eat(lt.braceR);){if(ft)ft=!1;else if(this.expect(lt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(lt.braceR))break;var Dt=this.parseProperty(vt,Rt);vt||this.checkPropClash(Dt,Ct,Rt),Bt.properties.push(Dt)}return this.finishNode(Bt,vt?"ObjectPattern":"ObjectExpression")},Er.parseProperty=function(vt,Rt){var Bt=this.startNode(),ft,Ct,Dt,Vt;if(this.options.ecmaVersion>=9&&this.eat(lt.ellipsis))return vt?(Bt.argument=this.parseIdent(!1),this.type===lt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(Bt,"RestElement")):(Bt.argument=this.parseMaybeAssign(!1,Rt),this.type===lt.comma&&Rt&&Rt.trailingComma<0&&(Rt.trailingComma=this.start),this.finishNode(Bt,"SpreadElement"));this.options.ecmaVersion>=6&&(Bt.method=!1,Bt.shorthand=!1,(vt||Rt)&&(Dt=this.start,Vt=this.startLoc),vt||(ft=this.eat(lt.star)));var Yt=this.containsEsc;return this.parsePropertyName(Bt),!vt&&!Yt&&this.options.ecmaVersion>=8&&!ft&&this.isAsyncProp(Bt)?(Ct=!0,ft=this.options.ecmaVersion>=9&&this.eat(lt.star),this.parsePropertyName(Bt)):Ct=!1,this.parsePropertyValue(Bt,vt,ft,Ct,Dt,Vt,Rt,Yt),this.finishNode(Bt,"Property")},Er.parseGetterSetter=function(vt){vt.kind=vt.key.name,this.parsePropertyName(vt),vt.value=this.parseMethod(!1);var Rt=vt.kind==="get"?0:1;if(vt.value.params.length!==Rt){var Bt=vt.value.start;vt.kind==="get"?this.raiseRecoverable(Bt,"getter should have no params"):this.raiseRecoverable(Bt,"setter should have exactly one param")}else vt.kind==="set"&&vt.value.params[0].type==="RestElement"&&this.raiseRecoverable(vt.value.params[0].start,"Setter cannot use rest params")},Er.parsePropertyValue=function(vt,Rt,Bt,ft,Ct,Dt,Vt,Yt){(Bt||ft)&&this.type===lt.colon&&this.unexpected(),this.eat(lt.colon)?(vt.value=Rt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Vt),vt.kind="init"):this.options.ecmaVersion>=6&&this.type===lt.parenL?(Rt&&this.unexpected(),vt.kind="init",vt.method=!0,vt.value=this.parseMethod(Bt,ft)):!Rt&&!Yt&&this.options.ecmaVersion>=5&&!vt.computed&&vt.key.type==="Identifier"&&(vt.key.name==="get"||vt.key.name==="set")&&this.type!==lt.comma&&this.type!==lt.braceR&&this.type!==lt.eq?((Bt||ft)&&this.unexpected(),this.parseGetterSetter(vt)):this.options.ecmaVersion>=6&&!vt.computed&&vt.key.type==="Identifier"?((Bt||ft)&&this.unexpected(),this.checkUnreserved(vt.key),vt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Ct),vt.kind="init",Rt?vt.value=this.parseMaybeDefault(Ct,Dt,this.copyNode(vt.key)):this.type===lt.eq&&Vt?(Vt.shorthandAssign<0&&(Vt.shorthandAssign=this.start),vt.value=this.parseMaybeDefault(Ct,Dt,this.copyNode(vt.key))):vt.value=this.copyNode(vt.key),vt.shorthand=!0):this.unexpected()},Er.parsePropertyName=function(vt){if(this.options.ecmaVersion>=6){if(this.eat(lt.bracketL))return vt.computed=!0,vt.key=this.parseMaybeAssign(),this.expect(lt.bracketR),vt.key;vt.computed=!1}return vt.key=this.type===lt.num||this.type===lt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Er.initFunction=function(vt){vt.id=null,this.options.ecmaVersion>=6&&(vt.generator=vt.expression=!1),this.options.ecmaVersion>=8&&(vt.async=!1)},Er.parseMethod=function(vt,Rt,Bt){var ft=this.startNode(),Ct=this.yieldPos,Dt=this.awaitPos,Vt=this.awaitIdentPos;return this.initFunction(ft),this.options.ecmaVersion>=6&&(ft.generator=vt),this.options.ecmaVersion>=8&&(ft.async=!!Rt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(nn(Rt,ft.generator)|Cr|(Bt?dr:0)),this.expect(lt.parenL),ft.params=this.parseBindingList(lt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(ft,!1,!0,!1),this.yieldPos=Ct,this.awaitPos=Dt,this.awaitIdentPos=Vt,this.finishNode(ft,"FunctionExpression")},Er.parseArrowExpression=function(vt,Rt,Bt,ft){var Ct=this.yieldPos,Dt=this.awaitPos,Vt=this.awaitIdentPos;return this.enterScope(nn(Bt,!1)|er),this.initFunction(vt),this.options.ecmaVersion>=8&&(vt.async=!!Bt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,vt.params=this.toAssignableList(Rt,!0),this.parseFunctionBody(vt,!0,!1,ft),this.yieldPos=Ct,this.awaitPos=Dt,this.awaitIdentPos=Vt,this.finishNode(vt,"ArrowFunctionExpression")},Er.parseFunctionBody=function(vt,Rt,Bt,ft){var Ct=Rt&&this.type!==lt.braceL,Dt=this.strict,Vt=!1;if(Ct)vt.body=this.parseMaybeAssign(ft),vt.expression=!0,this.checkParams(vt,!1);else{var Yt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(vt.params);(!Dt||Yt)&&(Vt=this.strictDirective(this.end),Vt&&Yt&&this.raiseRecoverable(vt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var lr=this.labels;this.labels=[],Vt&&(this.strict=!0),this.checkParams(vt,!Dt&&!Vt&&!Rt&&!Bt&&this.isSimpleParamList(vt.params)),this.strict&&vt.id&&this.checkLValSimple(vt.id,Pn),vt.body=this.parseBlock(!1,void 0,Vt&&!Dt),vt.expression=!1,this.adaptDirectivePrologue(vt.body.body),this.labels=lr}this.exitScope()},Er.isSimpleParamList=function(vt){for(var Rt=0,Bt=vt;Rt<Bt.length;Rt+=1){var ft=Bt[Rt];if(ft.type!=="Identifier")return!1}return!0},Er.checkParams=function(vt,Rt){for(var Bt=Object.create(null),ft=0,Ct=vt.params;ft<Ct.length;ft+=1){var Dt=Ct[ft];this.checkLValInnerPattern(Dt,Vn,Rt?null:Bt)}},Er.parseExprList=function(vt,Rt,Bt,ft){for(var Ct=[],Dt=!0;!this.eat(vt);){if(Dt)Dt=!1;else if(this.expect(lt.comma),Rt&&this.afterTrailingComma(vt))break;var Vt=void 0;Bt&&this.type===lt.comma?Vt=null:this.type===lt.ellipsis?(Vt=this.parseSpread(ft),ft&&this.type===lt.comma&&ft.trailingComma<0&&(ft.trailingComma=this.start)):Vt=this.parseMaybeAssign(!1,ft),Ct.push(Vt)}return Ct},Er.checkUnreserved=function(vt){var Rt=vt.start,Bt=vt.end,ft=vt.name;if(this.inGenerator&&ft==="yield"&&this.raiseRecoverable(Rt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&ft==="await"&&this.raiseRecoverable(Rt,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&ft==="arguments"&&this.raiseRecoverable(Rt,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(ft==="arguments"||ft==="await")&&this.raise(Rt,"Cannot use "+ft+" in class static initialization block"),this.keywords.test(ft)&&this.raise(Rt,"Unexpected keyword '"+ft+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Rt,Bt).indexOf("\\")!==-1)){var Ct=this.strict?this.reservedWordsStrict:this.reservedWords;Ct.test(ft)&&(!this.inAsync&&ft==="await"&&this.raiseRecoverable(Rt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Rt,"The keyword '"+ft+"' is reserved"))}},Er.parseIdent=function(vt){var Rt=this.parseIdentNode();return this.next(!!vt),this.finishNode(Rt,"Identifier"),vt||(this.checkUnreserved(Rt),Rt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Rt.start)),Rt},Er.parseIdentNode=function(){var vt=this.startNode();return this.type===lt.name?vt.name=this.value:this.type.keyword?(vt.name=this.type.keyword,(vt.name==="class"||vt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=lt.name):this.unexpected(),vt},Er.parsePrivateIdent=function(){var vt=this.startNode();return this.type===lt.privateId?vt.name=this.value:this.unexpected(),this.next(),this.finishNode(vt,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(vt.start,"Private field '#"+vt.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(vt)),vt},Er.parseYield=function(vt){this.yieldPos||(this.yieldPos=this.start);var Rt=this.startNode();return this.next(),this.type===lt.semi||this.canInsertSemicolon()||this.type!==lt.star&&!this.type.startsExpr?(Rt.delegate=!1,Rt.argument=null):(Rt.delegate=this.eat(lt.star),Rt.argument=this.parseMaybeAssign(vt)),this.finishNode(Rt,"YieldExpression")},Er.parseAwait=function(vt){this.awaitPos||(this.awaitPos=this.start);var Rt=this.startNode();return this.next(),Rt.argument=this.parseMaybeUnary(null,!0,!1,vt),this.finishNode(Rt,"AwaitExpression")};var Ss=wr.prototype;Ss.raise=function(vt,Rt){var Bt=Xt(this.input,vt);Rt+=" ("+Bt.line+":"+Bt.column+")";var ft=new SyntaxError(Rt);throw ft.pos=vt,ft.loc=Bt,ft.raisedAt=this.pos,ft},Ss.raiseRecoverable=Ss.raise,Ss.curPosition=function(){if(this.options.locations)return new Gt(this.curLine,this.pos-this.lineStart)};var Yn=wr.prototype,Xn=function(Rt){this.flags=Rt,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Yn.enterScope=function(vt){this.scopeStack.push(new Xn(vt))},Yn.exitScope=function(){this.scopeStack.pop()},Yn.treatFunctionsAsVarInScope=function(vt){return vt.flags&vr||!this.inModule&&vt.flags&xr},Yn.declareName=function(vt,Rt,Bt){var ft=!1;if(Rt===An){var Ct=this.currentScope();ft=Ct.lexical.indexOf(vt)>-1||Ct.functions.indexOf(vt)>-1||Ct.var.indexOf(vt)>-1,Ct.lexical.push(vt),this.inModule&&Ct.flags&xr&&delete this.undefinedExports[vt]}else if(Rt===Kn){var Dt=this.currentScope();Dt.lexical.push(vt)}else if(Rt===pn){var Vt=this.currentScope();this.treatFunctionsAsVar?ft=Vt.lexical.indexOf(vt)>-1:ft=Vt.lexical.indexOf(vt)>-1||Vt.var.indexOf(vt)>-1,Vt.functions.push(vt)}else for(var Yt=this.scopeStack.length-1;Yt>=0;--Yt){var lr=this.scopeStack[Yt];if(lr.lexical.indexOf(vt)>-1&&!(lr.flags&Tr&&lr.lexical[0]===vt)||!this.treatFunctionsAsVarInScope(lr)&&lr.functions.indexOf(vt)>-1){ft=!0;break}if(lr.var.push(vt),this.inModule&&lr.flags&xr&&delete this.undefinedExports[vt],lr.flags&Jr)break}ft&&this.raiseRecoverable(Bt,"Identifier '"+vt+"' has already been declared")},Yn.checkLocalExport=function(vt){this.scopeStack[0].lexical.indexOf(vt.name)===-1&&this.scopeStack[0].var.indexOf(vt.name)===-1&&(this.undefinedExports[vt.name]=vt)},Yn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Yn.currentVarScope=function(){for(var vt=this.scopeStack.length-1;;vt--){var Rt=this.scopeStack[vt];if(Rt.flags&Jr)return Rt}},Yn.currentThisScope=function(){for(var vt=this.scopeStack.length-1;;vt--){var Rt=this.scopeStack[vt];if(Rt.flags&Jr&&!(Rt.flags&er))return Rt}};var Ds=function(Rt,Bt,ft){this.type="",this.start=Bt,this.end=0,Rt.options.locations&&(this.loc=new Wt(Rt,ft)),Rt.options.directSourceFile&&(this.sourceFile=Rt.options.directSourceFile),Rt.options.ranges&&(this.range=[Bt,0])},es=wr.prototype;es.startNode=function(){return new Ds(this,this.start,this.startLoc)},es.startNodeAt=function(vt,Rt){return new Ds(this,vt,Rt)};function Cs(vt,Rt,Bt,ft){return vt.type=Rt,vt.end=Bt,this.options.locations&&(vt.loc.end=ft),this.options.ranges&&(vt.range[1]=Bt),vt}es.finishNode=function(vt,Rt){return Cs.call(this,vt,Rt,this.lastTokEnd,this.lastTokEndLoc)},es.finishNodeAt=function(vt,Rt,Bt,ft){return Cs.call(this,vt,Rt,Bt,ft)},es.copyNode=function(vt){var Rt=new Ds(this,vt.start,this.startLoc);for(var Bt in vt)Rt[Bt]=vt[Bt];return Rt};var Is="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Bs=Is+" Extended_Pictographic",cs=Bs,hs=cs+" EBase EComp EMod EPres ExtPict",Ns=hs,sn=Ns,ds={9:Is,10:Bs,11:cs,12:hs,13:Ns,14:sn},zs="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",ks={9:"",10:"",11:"",12:"",13:"",14:zs},rs="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",qs="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",js=qs+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Qs=js+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Zs=Qs+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Us=Zs+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",fs=Us+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",$s={9:qs,10:js,11:Qs,12:Zs,13:Us,14:fs},Rs={};function ws(vt){var Rt=Rs[vt]={binary:Ft(ds[vt]+" "+rs),binaryOfStrings:Ft(ks[vt]),nonBinary:{General_Category:Ft(rs),Script:Ft($s[vt])}};Rt.nonBinary.Script_Extensions=Rt.nonBinary.Script,Rt.nonBinary.gc=Rt.nonBinary.General_Category,Rt.nonBinary.sc=Rt.nonBinary.Script,Rt.nonBinary.scx=Rt.nonBinary.Script_Extensions}for(var Ws=0,ps=[9,10,11,12,13,14];Ws<ps.length;Ws+=1){var yn=ps[Ws];ws(yn)}var Qr=wr.prototype,Kr=function(Rt){this.parser=Rt,this.validFlags="gim"+(Rt.options.ecmaVersion>=6?"uy":"")+(Rt.options.ecmaVersion>=9?"s":"")+(Rt.options.ecmaVersion>=13?"d":"")+(Rt.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Rs[Rt.options.ecmaVersion>=14?14:Rt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Kr.prototype.reset=function(Rt,Bt,ft){var Ct=ft.indexOf("v")!==-1,Dt=ft.indexOf("u")!==-1;this.start=Rt|0,this.source=Bt+"",this.flags=ft,Ct&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=Dt&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Dt&&this.parser.options.ecmaVersion>=9)},Kr.prototype.raise=function(Rt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Rt)},Kr.prototype.at=function(Rt,Bt){Bt===void 0&&(Bt=!1);var ft=this.source,Ct=ft.length;if(Rt>=Ct)return-1;var Dt=ft.charCodeAt(Rt);if(!(Bt||this.switchU)||Dt<=55295||Dt>=57344||Rt+1>=Ct)return Dt;var Vt=ft.charCodeAt(Rt+1);return Vt>=56320&&Vt<=57343?(Dt<<10)+Vt-56613888:Dt},Kr.prototype.nextIndex=function(Rt,Bt){Bt===void 0&&(Bt=!1);var ft=this.source,Ct=ft.length;if(Rt>=Ct)return Ct;var Dt=ft.charCodeAt(Rt),Vt;return!(Bt||this.switchU)||Dt<=55295||Dt>=57344||Rt+1>=Ct||(Vt=ft.charCodeAt(Rt+1))<56320||Vt>57343?Rt+1:Rt+2},Kr.prototype.current=function(Rt){return Rt===void 0&&(Rt=!1),this.at(this.pos,Rt)},Kr.prototype.lookahead=function(Rt){return Rt===void 0&&(Rt=!1),this.at(this.nextIndex(this.pos,Rt),Rt)},Kr.prototype.advance=function(Rt){Rt===void 0&&(Rt=!1),this.pos=this.nextIndex(this.pos,Rt)},Kr.prototype.eat=function(Rt,Bt){return Bt===void 0&&(Bt=!1),this.current(Bt)===Rt?(this.advance(Bt),!0):!1},Kr.prototype.eatChars=function(Rt,Bt){Bt===void 0&&(Bt=!1);for(var ft=this.pos,Ct=0,Dt=Rt;Ct<Dt.length;Ct+=1){var Vt=Dt[Ct],Yt=this.at(ft,Bt);if(Yt===-1||Yt!==Vt)return!1;ft=this.nextIndex(ft,Bt)}return this.pos=ft,!0},Qr.validateRegExpFlags=function(vt){for(var Rt=vt.validFlags,Bt=vt.flags,ft=!1,Ct=!1,Dt=0;Dt<Bt.length;Dt++){var Vt=Bt.charAt(Dt);Rt.indexOf(Vt)===-1&&this.raise(vt.start,"Invalid regular expression flag"),Bt.indexOf(Vt,Dt+1)>-1&&this.raise(vt.start,"Duplicate regular expression flag"),Vt==="u"&&(ft=!0),Vt==="v"&&(Ct=!0)}this.options.ecmaVersion>=15&&ft&&Ct&&this.raise(vt.start,"Invalid regular expression flag")},Qr.validateRegExpPattern=function(vt){this.regexp_pattern(vt),!vt.switchN&&this.options.ecmaVersion>=9&&vt.groupNames.length>0&&(vt.switchN=!0,this.regexp_pattern(vt))},Qr.regexp_pattern=function(vt){vt.pos=0,vt.lastIntValue=0,vt.lastStringValue="",vt.lastAssertionIsQuantifiable=!1,vt.numCapturingParens=0,vt.maxBackReference=0,vt.groupNames.length=0,vt.backReferenceNames.length=0,this.regexp_disjunction(vt),vt.pos!==vt.source.length&&(vt.eat(41)&&vt.raise("Unmatched ')'"),(vt.eat(93)||vt.eat(125))&&vt.raise("Lone quantifier brackets")),vt.maxBackReference>vt.numCapturingParens&&vt.raise("Invalid escape");for(var Rt=0,Bt=vt.backReferenceNames;Rt<Bt.length;Rt+=1){var ft=Bt[Rt];vt.groupNames.indexOf(ft)===-1&&vt.raise("Invalid named capture referenced")}},Qr.regexp_disjunction=function(vt){for(this.regexp_alternative(vt);vt.eat(124);)this.regexp_alternative(vt);this.regexp_eatQuantifier(vt,!0)&&vt.raise("Nothing to repeat"),vt.eat(123)&&vt.raise("Lone quantifier brackets")},Qr.regexp_alternative=function(vt){for(;vt.pos<vt.source.length&&this.regexp_eatTerm(vt););},Qr.regexp_eatTerm=function(vt){return this.regexp_eatAssertion(vt)?(vt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(vt)&&vt.switchU&&vt.raise("Invalid quantifier"),!0):(vt.switchU?this.regexp_eatAtom(vt):this.regexp_eatExtendedAtom(vt))?(this.regexp_eatQuantifier(vt),!0):!1},Qr.regexp_eatAssertion=function(vt){var Rt=vt.pos;if(vt.lastAssertionIsQuantifiable=!1,vt.eat(94)||vt.eat(36))return!0;if(vt.eat(92)){if(vt.eat(66)||vt.eat(98))return!0;vt.pos=Rt}if(vt.eat(40)&&vt.eat(63)){var Bt=!1;if(this.options.ecmaVersion>=9&&(Bt=vt.eat(60)),vt.eat(61)||vt.eat(33))return this.regexp_disjunction(vt),vt.eat(41)||vt.raise("Unterminated group"),vt.lastAssertionIsQuantifiable=!Bt,!0}return vt.pos=Rt,!1},Qr.regexp_eatQuantifier=function(vt,Rt){return Rt===void 0&&(Rt=!1),this.regexp_eatQuantifierPrefix(vt,Rt)?(vt.eat(63),!0):!1},Qr.regexp_eatQuantifierPrefix=function(vt,Rt){return vt.eat(42)||vt.eat(43)||vt.eat(63)||this.regexp_eatBracedQuantifier(vt,Rt)},Qr.regexp_eatBracedQuantifier=function(vt,Rt){var Bt=vt.pos;if(vt.eat(123)){var ft=0,Ct=-1;if(this.regexp_eatDecimalDigits(vt)&&(ft=vt.lastIntValue,vt.eat(44)&&this.regexp_eatDecimalDigits(vt)&&(Ct=vt.lastIntValue),vt.eat(125)))return Ct!==-1&&Ct<ft&&!Rt&&vt.raise("numbers out of order in {} quantifier"),!0;vt.switchU&&!Rt&&vt.raise("Incomplete quantifier"),vt.pos=Bt}return!1},Qr.regexp_eatAtom=function(vt){return this.regexp_eatPatternCharacters(vt)||vt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(vt)||this.regexp_eatCharacterClass(vt)||this.regexp_eatUncapturingGroup(vt)||this.regexp_eatCapturingGroup(vt)},Qr.regexp_eatReverseSolidusAtomEscape=function(vt){var Rt=vt.pos;if(vt.eat(92)){if(this.regexp_eatAtomEscape(vt))return!0;vt.pos=Rt}return!1},Qr.regexp_eatUncapturingGroup=function(vt){var Rt=vt.pos;if(vt.eat(40)){if(vt.eat(63)&&vt.eat(58)){if(this.regexp_disjunction(vt),vt.eat(41))return!0;vt.raise("Unterminated group")}vt.pos=Rt}return!1},Qr.regexp_eatCapturingGroup=function(vt){if(vt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(vt):vt.current()===63&&vt.raise("Invalid group"),this.regexp_disjunction(vt),vt.eat(41))return vt.numCapturingParens+=1,!0;vt.raise("Unterminated group")}return!1},Qr.regexp_eatExtendedAtom=function(vt){return vt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(vt)||this.regexp_eatCharacterClass(vt)||this.regexp_eatUncapturingGroup(vt)||this.regexp_eatCapturingGroup(vt)||this.regexp_eatInvalidBracedQuantifier(vt)||this.regexp_eatExtendedPatternCharacter(vt)},Qr.regexp_eatInvalidBracedQuantifier=function(vt){return this.regexp_eatBracedQuantifier(vt,!0)&&vt.raise("Nothing to repeat"),!1},Qr.regexp_eatSyntaxCharacter=function(vt){var Rt=vt.current();return Qn(Rt)?(vt.lastIntValue=Rt,vt.advance(),!0):!1};function Qn(vt){return vt===36||vt>=40&&vt<=43||vt===46||vt===63||vt>=91&&vt<=94||vt>=123&&vt<=125}Qr.regexp_eatPatternCharacters=function(vt){for(var Rt=vt.pos,Bt=0;(Bt=vt.current())!==-1&&!Qn(Bt);)vt.advance();return vt.pos!==Rt},Qr.regexp_eatExtendedPatternCharacter=function(vt){var Rt=vt.current();return Rt!==-1&&Rt!==36&&!(Rt>=40&&Rt<=43)&&Rt!==46&&Rt!==63&&Rt!==91&&Rt!==94&&Rt!==124?(vt.advance(),!0):!1},Qr.regexp_groupSpecifier=function(vt){if(vt.eat(63)){if(this.regexp_eatGroupName(vt)){vt.groupNames.indexOf(vt.lastStringValue)!==-1&&vt.raise("Duplicate capture group name"),vt.groupNames.push(vt.lastStringValue);return}vt.raise("Invalid group")}},Qr.regexp_eatGroupName=function(vt){if(vt.lastStringValue="",vt.eat(60)){if(this.regexp_eatRegExpIdentifierName(vt)&&vt.eat(62))return!0;vt.raise("Invalid capture group name")}return!1},Qr.regexp_eatRegExpIdentifierName=function(vt){if(vt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(vt)){for(vt.lastStringValue+=zt(vt.lastIntValue);this.regexp_eatRegExpIdentifierPart(vt);)vt.lastStringValue+=zt(vt.lastIntValue);return!0}return!1},Qr.regexp_eatRegExpIdentifierStart=function(vt){var Rt=vt.pos,Bt=this.options.ecmaVersion>=11,ft=vt.current(Bt);return vt.advance(Bt),ft===92&&this.regexp_eatRegExpUnicodeEscapeSequence(vt,Bt)&&(ft=vt.lastIntValue),ns(ft)?(vt.lastIntValue=ft,!0):(vt.pos=Rt,!1)};function ns(vt){return nt(vt,!0)||vt===36||vt===95}Qr.regexp_eatRegExpIdentifierPart=function(vt){var Rt=vt.pos,Bt=this.options.ecmaVersion>=11,ft=vt.current(Bt);return vt.advance(Bt),ft===92&&this.regexp_eatRegExpUnicodeEscapeSequence(vt,Bt)&&(ft=vt.lastIntValue),po(ft)?(vt.lastIntValue=ft,!0):(vt.pos=Rt,!1)};function po(vt){return at(vt,!0)||vt===36||vt===95||vt===8204||vt===8205}Qr.regexp_eatAtomEscape=function(vt){return this.regexp_eatBackReference(vt)||this.regexp_eatCharacterClassEscape(vt)||this.regexp_eatCharacterEscape(vt)||vt.switchN&&this.regexp_eatKGroupName(vt)?!0:(vt.switchU&&(vt.current()===99&&vt.raise("Invalid unicode escape"),vt.raise("Invalid escape")),!1)},Qr.regexp_eatBackReference=function(vt){var Rt=vt.pos;if(this.regexp_eatDecimalEscape(vt)){var Bt=vt.lastIntValue;if(vt.switchU)return Bt>vt.maxBackReference&&(vt.maxBackReference=Bt),!0;if(Bt<=vt.numCapturingParens)return!0;vt.pos=Rt}return!1},Qr.regexp_eatKGroupName=function(vt){if(vt.eat(107)){if(this.regexp_eatGroupName(vt))return vt.backReferenceNames.push(vt.lastStringValue),!0;vt.raise("Invalid named reference")}return!1},Qr.regexp_eatCharacterEscape=function(vt){return this.regexp_eatControlEscape(vt)||this.regexp_eatCControlLetter(vt)||this.regexp_eatZero(vt)||this.regexp_eatHexEscapeSequence(vt)||this.regexp_eatRegExpUnicodeEscapeSequence(vt,!1)||!vt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(vt)||this.regexp_eatIdentityEscape(vt)},Qr.regexp_eatCControlLetter=function(vt){var Rt=vt.pos;if(vt.eat(99)){if(this.regexp_eatControlLetter(vt))return!0;vt.pos=Rt}return!1},Qr.regexp_eatZero=function(vt){return vt.current()===48&&!Wn(vt.lookahead())?(vt.lastIntValue=0,vt.advance(),!0):!1},Qr.regexp_eatControlEscape=function(vt){var Rt=vt.current();return Rt===116?(vt.lastIntValue=9,vt.advance(),!0):Rt===110?(vt.lastIntValue=10,vt.advance(),!0):Rt===118?(vt.lastIntValue=11,vt.advance(),!0):Rt===102?(vt.lastIntValue=12,vt.advance(),!0):Rt===114?(vt.lastIntValue=13,vt.advance(),!0):!1},Qr.regexp_eatControlLetter=function(vt){var Rt=vt.current();return Js(Rt)?(vt.lastIntValue=Rt%32,vt.advance(),!0):!1};function Js(vt){return vt>=65&&vt<=90||vt>=97&&vt<=122}Qr.regexp_eatRegExpUnicodeEscapeSequence=function(vt,Rt){Rt===void 0&&(Rt=!1);var Bt=vt.pos,ft=Rt||vt.switchU;if(vt.eat(117)){if(this.regexp_eatFixedHexDigits(vt,4)){var Ct=vt.lastIntValue;if(ft&&Ct>=55296&&Ct<=56319){var Dt=vt.pos;if(vt.eat(92)&&vt.eat(117)&&this.regexp_eatFixedHexDigits(vt,4)){var Vt=vt.lastIntValue;if(Vt>=56320&&Vt<=57343)return vt.lastIntValue=(Ct-55296)*1024+(Vt-56320)+65536,!0}vt.pos=Dt,vt.lastIntValue=Ct}return!0}if(ft&&vt.eat(123)&&this.regexp_eatHexDigits(vt)&&vt.eat(125)&&wt(vt.lastIntValue))return!0;ft&&vt.raise("Invalid unicode escape"),vt.pos=Bt}return!1};function wt(vt){return vt>=0&&vt<=1114111}Qr.regexp_eatIdentityEscape=function(vt){if(vt.switchU)return this.regexp_eatSyntaxCharacter(vt)?!0:vt.eat(47)?(vt.lastIntValue=47,!0):!1;var Rt=vt.current();return Rt!==99&&(!vt.switchN||Rt!==107)?(vt.lastIntValue=Rt,vt.advance(),!0):!1},Qr.regexp_eatDecimalEscape=function(vt){vt.lastIntValue=0;var Rt=vt.current();if(Rt>=49&&Rt<=57){do vt.lastIntValue=10*vt.lastIntValue+(Rt-48),vt.advance();while((Rt=vt.current())>=48&&Rt<=57);return!0}return!1};var Lt=0,Ut=1,Zt=2;Qr.regexp_eatCharacterClassEscape=function(vt){var Rt=vt.current();if(ur(Rt))return vt.lastIntValue=-1,vt.advance(),Ut;var Bt=!1;if(vt.switchU&&this.options.ecmaVersion>=9&&((Bt=Rt===80)||Rt===112)){vt.lastIntValue=-1,vt.advance();var ft;if(vt.eat(123)&&(ft=this.regexp_eatUnicodePropertyValueExpression(vt))&&vt.eat(125))return Bt&&ft===Zt&&vt.raise("Invalid property name"),ft;vt.raise("Invalid property name")}return Lt};function ur(vt){return vt===100||vt===68||vt===115||vt===83||vt===119||vt===87}Qr.regexp_eatUnicodePropertyValueExpression=function(vt){var Rt=vt.pos;if(this.regexp_eatUnicodePropertyName(vt)&&vt.eat(61)){var Bt=vt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(vt)){var ft=vt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(vt,Bt,ft),Ut}}if(vt.pos=Rt,this.regexp_eatLoneUnicodePropertyNameOrValue(vt)){var Ct=vt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(vt,Ct)}return Lt},Qr.regexp_validateUnicodePropertyNameAndValue=function(vt,Rt,Bt){Mt(vt.unicodeProperties.nonBinary,Rt)||vt.raise("Invalid property name"),vt.unicodeProperties.nonBinary[Rt].test(Bt)||vt.raise("Invalid property value")},Qr.regexp_validateUnicodePropertyNameOrValue=function(vt,Rt){if(vt.unicodeProperties.binary.test(Rt))return Ut;if(vt.switchV&&vt.unicodeProperties.binaryOfStrings.test(Rt))return Zt;vt.raise("Invalid property name")},Qr.regexp_eatUnicodePropertyName=function(vt){var Rt=0;for(vt.lastStringValue="";_r(Rt=vt.current());)vt.lastStringValue+=zt(Rt),vt.advance();return vt.lastStringValue!==""};function _r(vt){return Js(vt)||vt===95}Qr.regexp_eatUnicodePropertyValue=function(vt){var Rt=0;for(vt.lastStringValue="";Rr(Rt=vt.current());)vt.lastStringValue+=zt(Rt),vt.advance();return vt.lastStringValue!==""};function Rr(vt){return _r(vt)||Wn(vt)}Qr.regexp_eatLoneUnicodePropertyNameOrValue=function(vt){return this.regexp_eatUnicodePropertyValue(vt)},Qr.regexp_eatCharacterClass=function(vt){if(vt.eat(91)){var Rt=vt.eat(94),Bt=this.regexp_classContents(vt);return vt.eat(93)||vt.raise("Unterminated character class"),Rt&&Bt===Zt&&vt.raise("Negated character class may contain strings"),!0}return!1},Qr.regexp_classContents=function(vt){return vt.current()===93?Ut:vt.switchV?this.regexp_classSetExpression(vt):(this.regexp_nonEmptyClassRanges(vt),Ut)},Qr.regexp_nonEmptyClassRanges=function(vt){for(;this.regexp_eatClassAtom(vt);){var Rt=vt.lastIntValue;if(vt.eat(45)&&this.regexp_eatClassAtom(vt)){var Bt=vt.lastIntValue;vt.switchU&&(Rt===-1||Bt===-1)&&vt.raise("Invalid character class"),Rt!==-1&&Bt!==-1&&Rt>Bt&&vt.raise("Range out of order in character class")}}},Qr.regexp_eatClassAtom=function(vt){var Rt=vt.pos;if(vt.eat(92)){if(this.regexp_eatClassEscape(vt))return!0;if(vt.switchU){var Bt=vt.current();(Bt===99||as(Bt))&&vt.raise("Invalid class escape"),vt.raise("Invalid escape")}vt.pos=Rt}var ft=vt.current();return ft!==93?(vt.lastIntValue=ft,vt.advance(),!0):!1},Qr.regexp_eatClassEscape=function(vt){var Rt=vt.pos;if(vt.eat(98))return vt.lastIntValue=8,!0;if(vt.switchU&&vt.eat(45))return vt.lastIntValue=45,!0;if(!vt.switchU&&vt.eat(99)){if(this.regexp_eatClassControlLetter(vt))return!0;vt.pos=Rt}return this.regexp_eatCharacterClassEscape(vt)||this.regexp_eatCharacterEscape(vt)},Qr.regexp_classSetExpression=function(vt){var Rt=Ut,Bt;if(!this.regexp_eatClassSetRange(vt))if(Bt=this.regexp_eatClassSetOperand(vt)){Bt===Zt&&(Rt=Zt);for(var ft=vt.pos;vt.eatChars([38,38]);){if(vt.current()!==38&&(Bt=this.regexp_eatClassSetOperand(vt))){Bt!==Zt&&(Rt=Ut);continue}vt.raise("Invalid character in character class")}if(ft!==vt.pos)return Rt;for(;vt.eatChars([45,45]);)this.regexp_eatClassSetOperand(vt)||vt.raise("Invalid character in character class");if(ft!==vt.pos)return Rt}else vt.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(vt)){if(Bt=this.regexp_eatClassSetOperand(vt),!Bt)return Rt;Bt===Zt&&(Rt=Zt)}},Qr.regexp_eatClassSetRange=function(vt){var Rt=vt.pos;if(this.regexp_eatClassSetCharacter(vt)){var Bt=vt.lastIntValue;if(vt.eat(45)&&this.regexp_eatClassSetCharacter(vt)){var ft=vt.lastIntValue;return Bt!==-1&&ft!==-1&&Bt>ft&&vt.raise("Range out of order in character class"),!0}vt.pos=Rt}return!1},Qr.regexp_eatClassSetOperand=function(vt){return this.regexp_eatClassSetCharacter(vt)?Ut:this.regexp_eatClassStringDisjunction(vt)||this.regexp_eatNestedClass(vt)},Qr.regexp_eatNestedClass=function(vt){var Rt=vt.pos;if(vt.eat(91)){var Bt=vt.eat(94),ft=this.regexp_classContents(vt);if(vt.eat(93))return Bt&&ft===Zt&&vt.raise("Negated character class may contain strings"),ft;vt.pos=Rt}if(vt.eat(92)){var Ct=this.regexp_eatCharacterClassEscape(vt);if(Ct)return Ct;vt.pos=Rt}return null},Qr.regexp_eatClassStringDisjunction=function(vt){var Rt=vt.pos;if(vt.eatChars([92,113])){if(vt.eat(123)){var Bt=this.regexp_classStringDisjunctionContents(vt);if(vt.eat(125))return Bt}else vt.raise("Invalid escape");vt.pos=Rt}return null},Qr.regexp_classStringDisjunctionContents=function(vt){for(var Rt=this.regexp_classString(vt);vt.eat(124);)this.regexp_classString(vt)===Zt&&(Rt=Zt);return Rt},Qr.regexp_classString=function(vt){for(var Rt=0;this.regexp_eatClassSetCharacter(vt);)Rt++;return Rt===1?Ut:Zt},Qr.regexp_eatClassSetCharacter=function(vt){var Rt=vt.pos;if(vt.eat(92))return this.regexp_eatCharacterEscape(vt)||this.regexp_eatClassSetReservedPunctuator(vt)?!0:vt.eat(98)?(vt.lastIntValue=8,!0):(vt.pos=Rt,!1);var Bt=vt.current();return Bt<0||Bt===vt.lookahead()&&Gr(Bt)||rn(Bt)?!1:(vt.advance(),vt.lastIntValue=Bt,!0)};function Gr(vt){return vt===33||vt>=35&&vt<=38||vt>=42&&vt<=44||vt===46||vt>=58&&vt<=64||vt===94||vt===96||vt===126}function rn(vt){return vt===40||vt===41||vt===45||vt===47||vt>=91&&vt<=93||vt>=123&&vt<=125}Qr.regexp_eatClassSetReservedPunctuator=function(vt){var Rt=vt.current();return kn(Rt)?(vt.lastIntValue=Rt,vt.advance(),!0):!1};function kn(vt){return vt===33||vt===35||vt===37||vt===38||vt===44||vt===45||vt>=58&&vt<=62||vt===64||vt===96||vt===126}Qr.regexp_eatClassControlLetter=function(vt){var Rt=vt.current();return Wn(Rt)||Rt===95?(vt.lastIntValue=Rt%32,vt.advance(),!0):!1},Qr.regexp_eatHexEscapeSequence=function(vt){var Rt=vt.pos;if(vt.eat(120)){if(this.regexp_eatFixedHexDigits(vt,2))return!0;vt.switchU&&vt.raise("Invalid escape"),vt.pos=Rt}return!1},Qr.regexp_eatDecimalDigits=function(vt){var Rt=vt.pos,Bt=0;for(vt.lastIntValue=0;Wn(Bt=vt.current());)vt.lastIntValue=10*vt.lastIntValue+(Bt-48),vt.advance();return vt.pos!==Rt};function Wn(vt){return vt>=48&&vt<=57}Qr.regexp_eatHexDigits=function(vt){var Rt=vt.pos,Bt=0;for(vt.lastIntValue=0;ss(Bt=vt.current());)vt.lastIntValue=16*vt.lastIntValue+os(Bt),vt.advance();return vt.pos!==Rt};function ss(vt){return vt>=48&&vt<=57||vt>=65&&vt<=70||vt>=97&&vt<=102}function os(vt){return vt>=65&&vt<=70?10+(vt-65):vt>=97&&vt<=102?10+(vt-97):vt-48}Qr.regexp_eatLegacyOctalEscapeSequence=function(vt){if(this.regexp_eatOctalDigit(vt)){var Rt=vt.lastIntValue;if(this.regexp_eatOctalDigit(vt)){var Bt=vt.lastIntValue;Rt<=3&&this.regexp_eatOctalDigit(vt)?vt.lastIntValue=Rt*64+Bt*8+vt.lastIntValue:vt.lastIntValue=Rt*8+Bt}else vt.lastIntValue=Rt;return!0}return!1},Qr.regexp_eatOctalDigit=function(vt){var Rt=vt.current();return as(Rt)?(vt.lastIntValue=Rt-48,vt.advance(),!0):(vt.lastIntValue=0,!1)};function as(vt){return vt>=48&&vt<=55}Qr.regexp_eatFixedHexDigits=function(vt,Rt){var Bt=vt.pos;vt.lastIntValue=0;for(var ft=0;ft<Rt;++ft){var Ct=vt.current();if(!ss(Ct))return vt.pos=Bt,!1;vt.lastIntValue=16*vt.lastIntValue+os(Ct),vt.advance()}return!0};var Ms=function(Rt){this.type=Rt.type,this.value=Rt.value,this.start=Rt.start,this.end=Rt.end,Rt.options.locations&&(this.loc=new Wt(Rt,Rt.startLoc,Rt.endLoc)),Rt.options.ranges&&(this.range=[Rt.start,Rt.end])},vn=wr.prototype;vn.next=function(vt){!vt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ms(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},vn.getToken=function(){return this.next(),new Ms(this)},typeof Symbol<"u"&&(vn[Symbol.iterator]=function(){var vt=this;return{next:function(){var Rt=vt.getToken();return{done:Rt.type===lt.eof,value:Rt}}}}),vn.nextToken=function(){var vt=this.curContext();if((!vt||!vt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(lt.eof);if(vt.override)return vt.override(this);this.readToken(this.fullCharCodeAtPos())},vn.readToken=function(vt){return nt(vt,this.options.ecmaVersion>=6)||vt===92?this.readWord():this.getTokenFromCode(vt)},vn.fullCharCodeAtPos=function(){var vt=this.input.charCodeAt(this.pos);if(vt<=55295||vt>=56320)return vt;var Rt=this.input.charCodeAt(this.pos+1);return Rt<=56319||Rt>=57344?vt:(vt<<10)+Rt-56613888},vn.skipBlockComment=function(){var vt=this.options.onComment&&this.curPosition(),Rt=this.pos,Bt=this.input.indexOf("*/",this.pos+=2);if(Bt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Bt+2,this.options.locations)for(var ft=void 0,Ct=Rt;(ft=_t(this.input,Ct,this.pos))>-1;)++this.curLine,Ct=this.lineStart=ft;this.options.onComment&&this.options.onComment(!0,this.input.slice(Rt+2,Bt),Rt,this.pos,vt,this.curPosition())},vn.skipLineComment=function(vt){for(var Rt=this.pos,Bt=this.options.onComment&&this.curPosition(),ft=this.input.charCodeAt(this.pos+=vt);this.pos<this.input.length&&!yt(ft);)ft=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Rt+vt,this.pos),Rt,this.pos,Bt,this.curPosition())},vn.skipSpace=function(){e:for(;this.pos<this.input.length;){var vt=this.input.charCodeAt(this.pos);switch(vt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(vt>8&&vt<14||vt>=5760&&kt.test(String.fromCharCode(vt)))++this.pos;else break e}}},vn.finishToken=function(vt,Rt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Bt=this.type;this.type=vt,this.value=Rt,this.updateContext(Bt)},vn.readToken_dot=function(){var vt=this.input.charCodeAt(this.pos+1);if(vt>=48&&vt<=57)return this.readNumber(!0);var Rt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&vt===46&&Rt===46?(this.pos+=3,this.finishToken(lt.ellipsis)):(++this.pos,this.finishToken(lt.dot))},vn.readToken_slash=function(){var vt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):vt===61?this.finishOp(lt.assign,2):this.finishOp(lt.slash,1)},vn.readToken_mult_modulo_exp=function(vt){var Rt=this.input.charCodeAt(this.pos+1),Bt=1,ft=vt===42?lt.star:lt.modulo;return this.options.ecmaVersion>=7&&vt===42&&Rt===42&&(++Bt,ft=lt.starstar,Rt=this.input.charCodeAt(this.pos+2)),Rt===61?this.finishOp(lt.assign,Bt+1):this.finishOp(ft,Bt)},vn.readToken_pipe_amp=function(vt){var Rt=this.input.charCodeAt(this.pos+1);if(Rt===vt){if(this.options.ecmaVersion>=12){var Bt=this.input.charCodeAt(this.pos+2);if(Bt===61)return this.finishOp(lt.assign,3)}return this.finishOp(vt===124?lt.logicalOR:lt.logicalAND,2)}return Rt===61?this.finishOp(lt.assign,2):this.finishOp(vt===124?lt.bitwiseOR:lt.bitwiseAND,1)},vn.readToken_caret=function(){var vt=this.input.charCodeAt(this.pos+1);return vt===61?this.finishOp(lt.assign,2):this.finishOp(lt.bitwiseXOR,1)},vn.readToken_plus_min=function(vt){var Rt=this.input.charCodeAt(this.pos+1);return Rt===vt?Rt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||St.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(lt.incDec,2):Rt===61?this.finishOp(lt.assign,2):this.finishOp(lt.plusMin,1)},vn.readToken_lt_gt=function(vt){var Rt=this.input.charCodeAt(this.pos+1),Bt=1;return Rt===vt?(Bt=vt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Bt)===61?this.finishOp(lt.assign,Bt+1):this.finishOp(lt.bitShift,Bt)):Rt===33&&vt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Rt===61&&(Bt=2),this.finishOp(lt.relational,Bt))},vn.readToken_eq_excl=function(vt){var Rt=this.input.charCodeAt(this.pos+1);return Rt===61?this.finishOp(lt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):vt===61&&Rt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(lt.arrow)):this.finishOp(vt===61?lt.eq:lt.prefix,1)},vn.readToken_question=function(){var vt=this.options.ecmaVersion;if(vt>=11){var Rt=this.input.charCodeAt(this.pos+1);if(Rt===46){var Bt=this.input.charCodeAt(this.pos+2);if(Bt<48||Bt>57)return this.finishOp(lt.questionDot,2)}if(Rt===63){if(vt>=12){var ft=this.input.charCodeAt(this.pos+2);if(ft===61)return this.finishOp(lt.assign,3)}return this.finishOp(lt.coalesce,2)}}return this.finishOp(lt.question,1)},vn.readToken_numberSign=function(){var vt=this.options.ecmaVersion,Rt=35;if(vt>=13&&(++this.pos,Rt=this.fullCharCodeAtPos(),nt(Rt,!0)||Rt===92))return this.finishToken(lt.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+zt(Rt)+"'")},vn.getTokenFromCode=function(vt){switch(vt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(lt.parenL);case 41:return++this.pos,this.finishToken(lt.parenR);case 59:return++this.pos,this.finishToken(lt.semi);case 44:return++this.pos,this.finishToken(lt.comma);case 91:return++this.pos,this.finishToken(lt.bracketL);case 93:return++this.pos,this.finishToken(lt.bracketR);case 123:return++this.pos,this.finishToken(lt.braceL);case 125:return++this.pos,this.finishToken(lt.braceR);case 58:return++this.pos,this.finishToken(lt.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(lt.backQuote);case 48:var Rt=this.input.charCodeAt(this.pos+1);if(Rt===120||Rt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Rt===111||Rt===79)return this.readRadixNumber(8);if(Rt===98||Rt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(vt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(vt);case 124:case 38:return this.readToken_pipe_amp(vt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(vt);case 60:case 62:return this.readToken_lt_gt(vt);case 61:case 33:return this.readToken_eq_excl(vt);case 63:return this.readToken_question();case 126:return this.finishOp(lt.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+zt(vt)+"'")},vn.finishOp=function(vt,Rt){var Bt=this.input.slice(this.pos,this.pos+Rt);return this.pos+=Rt,this.finishToken(vt,Bt)},vn.readRegexp=function(){for(var vt,Rt,Bt=this.pos;;){this.pos>=this.input.length&&this.raise(Bt,"Unterminated regular expression");var ft=this.input.charAt(this.pos);if(St.test(ft)&&this.raise(Bt,"Unterminated regular expression"),vt)vt=!1;else{if(ft==="[")Rt=!0;else if(ft==="]"&&Rt)Rt=!1;else if(ft==="/"&&!Rt)break;vt=ft==="\\"}++this.pos}var Ct=this.input.slice(Bt,this.pos);++this.pos;var Dt=this.pos,Vt=this.readWord1();this.containsEsc&&this.unexpected(Dt);var Yt=this.regexpState||(this.regexpState=new Kr(this));Yt.reset(Bt,Ct,Vt),this.validateRegExpFlags(Yt),this.validateRegExpPattern(Yt);var lr=null;try{lr=new RegExp(Ct,Vt)}catch{}return this.finishToken(lt.regexp,{pattern:Ct,flags:Vt,value:lr})},vn.readInt=function(vt,Rt,Bt){for(var ft=this.options.ecmaVersion>=12&&Rt===void 0,Ct=Bt&&this.input.charCodeAt(this.pos)===48,Dt=this.pos,Vt=0,Yt=0,lr=0,gr=Rt??1/0;lr<gr;++lr,++this.pos){var Mr=this.input.charCodeAt(this.pos),Fr=void 0;if(ft&&Mr===95){Ct&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Yt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),lr===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Yt=Mr;continue}if(Mr>=97?Fr=Mr-97+10:Mr>=65?Fr=Mr-65+10:Mr>=48&&Mr<=57?Fr=Mr-48:Fr=1/0,Fr>=vt)break;Yt=Mr,Vt=Vt*vt+Fr}return ft&&Yt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===Dt||Rt!=null&&this.pos-Dt!==Rt?null:Vt};function ms(vt,Rt){return Rt?parseInt(vt,8):parseFloat(vt.replace(/_/g,""))}function Jn(vt){return typeof BigInt!="function"?null:BigInt(vt.replace(/_/g,""))}vn.readRadixNumber=function(vt){var Rt=this.pos;this.pos+=2;var Bt=this.readInt(vt);return Bt==null&&this.raise(this.start+2,"Expected number in radix "+vt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Bt=Jn(this.input.slice(Rt,this.pos)),++this.pos):nt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(lt.num,Bt)},vn.readNumber=function(vt){var Rt=this.pos;!vt&&this.readInt(10,void 0,!0)===null&&this.raise(Rt,"Invalid number");var Bt=this.pos-Rt>=2&&this.input.charCodeAt(Rt)===48;Bt&&this.strict&&this.raise(Rt,"Invalid number");var ft=this.input.charCodeAt(this.pos);if(!Bt&&!vt&&this.options.ecmaVersion>=11&&ft===110){var Ct=Jn(this.input.slice(Rt,this.pos));return++this.pos,nt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(lt.num,Ct)}Bt&&/[89]/.test(this.input.slice(Rt,this.pos))&&(Bt=!1),ft===46&&!Bt&&(++this.pos,this.readInt(10),ft=this.input.charCodeAt(this.pos)),(ft===69||ft===101)&&!Bt&&(ft=this.input.charCodeAt(++this.pos),(ft===43||ft===45)&&++this.pos,this.readInt(10)===null&&this.raise(Rt,"Invalid number")),nt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Dt=ms(this.input.slice(Rt,this.pos),Bt);return this.finishToken(lt.num,Dt)},vn.readCodePoint=function(){var vt=this.input.charCodeAt(this.pos),Rt;if(vt===123){this.options.ecmaVersion<6&&this.unexpected();var Bt=++this.pos;Rt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Rt>1114111&&this.invalidStringToken(Bt,"Code point out of bounds")}else Rt=this.readHexChar(4);return Rt},vn.readString=function(vt){for(var Rt="",Bt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var ft=this.input.charCodeAt(this.pos);if(ft===vt)break;ft===92?(Rt+=this.input.slice(Bt,this.pos),Rt+=this.readEscapedChar(!1),Bt=this.pos):ft===8232||ft===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(yt(ft)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Rt+=this.input.slice(Bt,this.pos++),this.finishToken(lt.string,Rt)};var Sn={};vn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(vt){if(vt===Sn)this.readInvalidTemplateToken();else throw vt}this.inTemplateElement=!1},vn.invalidStringToken=function(vt,Rt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Sn;this.raise(vt,Rt)},vn.readTmplToken=function(){for(var vt="",Rt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Bt=this.input.charCodeAt(this.pos);if(Bt===96||Bt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===lt.template||this.type===lt.invalidTemplate)?Bt===36?(this.pos+=2,this.finishToken(lt.dollarBraceL)):(++this.pos,this.finishToken(lt.backQuote)):(vt+=this.input.slice(Rt,this.pos),this.finishToken(lt.template,vt));if(Bt===92)vt+=this.input.slice(Rt,this.pos),vt+=this.readEscapedChar(!0),Rt=this.pos;else if(yt(Bt)){switch(vt+=this.input.slice(Rt,this.pos),++this.pos,Bt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:vt+=`
`;break;default:vt+=String.fromCharCode(Bt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Rt=this.pos}else++this.pos}},vn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(lt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},vn.readEscapedChar=function(vt){var Rt=this.input.charCodeAt(++this.pos);switch(++this.pos,Rt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return zt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),vt){var Bt=this.pos-1;this.invalidStringToken(Bt,"Invalid escape sequence in template string")}default:if(Rt>=48&&Rt<=55){var ft=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Ct=parseInt(ft,8);return Ct>255&&(ft=ft.slice(0,-1),Ct=parseInt(ft,8)),this.pos+=ft.length-1,Rt=this.input.charCodeAt(this.pos),(ft!=="0"||Rt===56||Rt===57)&&(this.strict||vt)&&this.invalidStringToken(this.pos-1-ft.length,vt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Ct)}return yt(Rt)?"":String.fromCharCode(Rt)}},vn.readHexChar=function(vt){var Rt=this.pos,Bt=this.readInt(16,vt);return Bt===null&&this.invalidStringToken(Rt,"Bad character escape sequence"),Bt},vn.readWord1=function(){this.containsEsc=!1;for(var vt="",Rt=!0,Bt=this.pos,ft=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Ct=this.fullCharCodeAtPos();if(at(Ct,ft))this.pos+=Ct<=65535?1:2;else if(Ct===92){this.containsEsc=!0,vt+=this.input.slice(Bt,this.pos);var Dt=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Vt=this.readCodePoint();(Rt?nt:at)(Vt,ft)||this.invalidStringToken(Dt,"Invalid Unicode escape"),vt+=zt(Vt),Bt=this.pos}else break;Rt=!1}return vt+this.input.slice(Bt,this.pos)},vn.readWord=function(){var vt=this.readWord1(),Rt=lt.name;return this.keywords.test(vt)&&(Rt=mt[vt]),this.finishToken(Rt,vt)};var mo="8.11.3";wr.acorn={Parser:wr,version:mo,defaultOptions:rr,Position:Gt,SourceLocation:Wt,getLineInfo:Xt,Node:Ds,TokenType:ct,tokTypes:lt,keywordTypes:mt,TokContext:Ur,tokContexts:Vr,isIdentifierChar:at,isIdentifierStart:nt,Token:Ms,isNewLine:yt,lineBreak:St,lineBreakG:xt,nonASCIIwhitespace:kt};function gs(vt,Rt){return wr.parse(vt,Rt)}function go(vt,Rt,Bt){return wr.parseExpressionAt(vt,Rt,Bt)}function yo(vt,Rt){return wr.tokenizer(vt,Rt)}o.Node=Ds,o.Parser=wr,o.Position=Gt,o.SourceLocation=Wt,o.TokContext=Ur,o.Token=Ms,o.TokenType=ct,o.defaultOptions=rr,o.getLineInfo=Xt,o.isIdentifierChar=at,o.isIdentifierStart=nt,o.isNewLine=yt,o.keywordTypes=mt,o.lineBreak=St,o.lineBreakG=xt,o.nonASCIIwhitespace=kt,o.parse=gs,o.parseExpressionAt=go,o.tokContexts=Vr,o.tokTypes=lt,o.tokenizer=yo,o.version=mo})})(acorn$1,acorn$1.exports);var acornExports=acorn$1.exports,astring={};Object.defineProperty(astring,"__esModule",{value:!0});astring.generate=generate;astring.baseGenerator=astring.GENERATOR=astring.EXPRESSIONS_PRECEDENCE=astring.NEEDS_PARENTHESES=void 0;function _classCallCheck(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}function _createClass(i,s,o){return s&&_defineProperties(i.prototype,s),i}var stringify$2=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var OPERATOR_PRECEDENCE={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17;astring.NEEDS_PARENTHESES=NEEDS_PARENTHESES;var EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};astring.EXPRESSIONS_PRECEDENCE=EXPRESSIONS_PRECEDENCE;function formatSequence(i,s){var o=i.generator;if(i.write("("),s!=null&&s.length>0){o[s[0].type](s[0],i);for(var a=s.length,tt=1;tt<a;tt++){var _e=s[tt];i.write(", "),o[_e.type](_e,i)}}i.write(")")}function expressionNeedsParenthesis(i,s,o,a){var tt=i.expressionsPrecedence[s.type];if(tt===NEEDS_PARENTHESES)return!0;var _e=i.expressionsPrecedence[o.type];return tt!==_e?!a&&tt===15&&_e===14&&o.operator==="**"||tt<_e:tt!==13&&tt!==14?!1:s.operator==="**"&&o.operator==="**"?!a:tt===13&&_e===13&&(s.operator==="??"||o.operator==="??")?!0:a?OPERATOR_PRECEDENCE[s.operator]<=OPERATOR_PRECEDENCE[o.operator]:OPERATOR_PRECEDENCE[s.operator]<OPERATOR_PRECEDENCE[o.operator]}function formatExpression(i,s,o,a){var tt=i.generator;expressionNeedsParenthesis(i,s,o,a)?(i.write("("),tt[s.type](s,i),i.write(")")):tt[s.type](s,i)}function reindent(i,s,o,a){var tt=s.split(`
`),_e=tt.length-1;if(i.write(tt[0].trim()),_e>0){i.write(a);for(var st=1;st<_e;st++)i.write(o+tt[st].trim()+a);i.write(o+tt[_e].trim())}}function formatComments(i,s,o,a){for(var tt=s.length,_e=0;_e<tt;_e++){var st=s[_e];i.write(o),st.type[0]==="L"?i.write("// "+st.value.trim()+`
`,st):(i.write("/*"),reindent(i,st.value,o,a),i.write("*/"+a))}}function hasCallExpression(i){for(var s=i;s!=null;){var o=s,a=o.type;if(a[0]==="C"&&a[1]==="a")return!0;if(a[0]==="M"&&a[1]==="e"&&a[2]==="m")s=s.object;else return!1}}function formatVariableDeclaration(i,s){var o=i.generator,a=s.declarations;i.write(s.kind+" ");var tt=a.length;if(tt>0){o.VariableDeclarator(a[0],i);for(var _e=1;_e<tt;_e++)i.write(", "),o.VariableDeclarator(a[_e],i)}}var ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement,GENERATOR={Program:function(s,o){var a=o.indent.repeat(o.indentLevel),tt=o.lineEnd,_e=o.writeComments;_e&&s.comments!=null&&formatComments(o,s.comments,a,tt);for(var st=s.body,ot=st.length,rt=0;rt<ot;rt++){var it=st[rt];_e&&it.comments!=null&&formatComments(o,it.comments,a,tt),o.write(a),this[it.type](it,o),o.write(tt)}_e&&s.trailingComments!=null&&formatComments(o,s.trailingComments,a,tt)},BlockStatement:BlockStatement=function(s,o){var a=o.indent.repeat(o.indentLevel++),tt=o.lineEnd,_e=o.writeComments,st=a+o.indent;o.write("{");var ot=s.body;if(ot!=null&&ot.length>0){o.write(tt),_e&&s.comments!=null&&formatComments(o,s.comments,st,tt);for(var rt=ot.length,it=0;it<rt;it++){var j=ot[it];_e&&j.comments!=null&&formatComments(o,j.comments,st,tt),o.write(st),this[j.type](j,o),o.write(tt)}o.write(a)}else _e&&s.comments!=null&&(o.write(tt),formatComments(o,s.comments,st,tt),o.write(a));_e&&s.trailingComments!=null&&formatComments(o,s.trailingComments,st,tt),o.write("}"),o.indentLevel--},ClassBody:BlockStatement,StaticBlock:function(s,o){o.write("static "),this.BlockStatement(s,o)},EmptyStatement:function(s,o){o.write(";")},ExpressionStatement:function(s,o){var a=o.expressionsPrecedence[s.expression.type];a===NEEDS_PARENTHESES||a===3&&s.expression.left.type[0]==="O"?(o.write("("),this[s.expression.type](s.expression,o),o.write(")")):this[s.expression.type](s.expression,o),o.write(";")},IfStatement:function(s,o){o.write("if ("),this[s.test.type](s.test,o),o.write(") "),this[s.consequent.type](s.consequent,o),s.alternate!=null&&(o.write(" else "),this[s.alternate.type](s.alternate,o))},LabeledStatement:function(s,o){this[s.label.type](s.label,o),o.write(": "),this[s.body.type](s.body,o)},BreakStatement:function(s,o){o.write("break"),s.label!=null&&(o.write(" "),this[s.label.type](s.label,o)),o.write(";")},ContinueStatement:function(s,o){o.write("continue"),s.label!=null&&(o.write(" "),this[s.label.type](s.label,o)),o.write(";")},WithStatement:function(s,o){o.write("with ("),this[s.object.type](s.object,o),o.write(") "),this[s.body.type](s.body,o)},SwitchStatement:function(s,o){var a=o.indent.repeat(o.indentLevel++),tt=o.lineEnd,_e=o.writeComments;o.indentLevel++;var st=a+o.indent,ot=st+o.indent;o.write("switch ("),this[s.discriminant.type](s.discriminant,o),o.write(") {"+tt);for(var rt=s.cases,it=rt.length,j=0;j<it;j++){var _=rt[j];_e&&_.comments!=null&&formatComments(o,_.comments,st,tt),_.test?(o.write(st+"case "),this[_.test.type](_.test,o),o.write(":"+tt)):o.write(st+"default:"+tt);for(var $=_.consequent,et=$.length,nt=0;nt<et;nt++){var at=$[nt];_e&&at.comments!=null&&formatComments(o,at.comments,ot,tt),o.write(ot),this[at.type](at,o),o.write(tt)}}o.indentLevel-=2,o.write(a+"}")},ReturnStatement:function(s,o){o.write("return"),s.argument&&(o.write(" "),this[s.argument.type](s.argument,o)),o.write(";")},ThrowStatement:function(s,o){o.write("throw "),this[s.argument.type](s.argument,o),o.write(";")},TryStatement:function(s,o){if(o.write("try "),this[s.block.type](s.block,o),s.handler){var a=s.handler;a.param==null?o.write(" catch "):(o.write(" catch ("),this[a.param.type](a.param,o),o.write(") ")),this[a.body.type](a.body,o)}s.finalizer&&(o.write(" finally "),this[s.finalizer.type](s.finalizer,o))},WhileStatement:function(s,o){o.write("while ("),this[s.test.type](s.test,o),o.write(") "),this[s.body.type](s.body,o)},DoWhileStatement:function(s,o){o.write("do "),this[s.body.type](s.body,o),o.write(" while ("),this[s.test.type](s.test,o),o.write(");")},ForStatement:function(s,o){if(o.write("for ("),s.init!=null){var a=s.init;a.type[0]==="V"?formatVariableDeclaration(o,a):this[a.type](a,o)}o.write("; "),s.test&&this[s.test.type](s.test,o),o.write("; "),s.update&&this[s.update.type](s.update,o),o.write(") "),this[s.body.type](s.body,o)},ForInStatement:ForInStatement=function(s,o){o.write("for ".concat(s.await?"await ":"","("));var a=s.left;a.type[0]==="V"?formatVariableDeclaration(o,a):this[a.type](a,o),o.write(s.type[3]==="I"?" in ":" of "),this[s.right.type](s.right,o),o.write(") "),this[s.body.type](s.body,o)},ForOfStatement:ForInStatement,DebuggerStatement:function(s,o){o.write("debugger;",s)},FunctionDeclaration:FunctionDeclaration=function(s,o){o.write((s.async?"async ":"")+(s.generator?"function* ":"function ")+(s.id?s.id.name:""),s),formatSequence(o,s.params),o.write(" "),this[s.body.type](s.body,o)},FunctionExpression:FunctionDeclaration,VariableDeclaration:function(s,o){formatVariableDeclaration(o,s),o.write(";")},VariableDeclarator:function(s,o){this[s.id.type](s.id,o),s.init!=null&&(o.write(" = "),this[s.init.type](s.init,o))},ClassDeclaration:function(s,o){if(o.write("class "+(s.id?"".concat(s.id.name," "):""),s),s.superClass){o.write("extends ");var a=s.superClass,tt=a.type,_e=o.expressionsPrecedence[tt];(tt[0]!=="C"||tt[1]!=="l"||tt[5]!=="E")&&(_e===NEEDS_PARENTHESES||_e<o.expressionsPrecedence.ClassExpression)?(o.write("("),this[s.superClass.type](a,o),o.write(")")):this[a.type](a,o),o.write(" ")}this.ClassBody(s.body,o)},ImportDeclaration:function(s,o){o.write("import ");var a=s.specifiers,tt=s.attributes,_e=a.length,st=0;if(_e>0){for(;st<_e;){st>0&&o.write(", ");var ot=a[st],rt=ot.type[6];if(rt==="D")o.write(ot.local.name,ot),st++;else if(rt==="N")o.write("* as "+ot.local.name,ot),st++;else break}if(st<_e){for(o.write("{");;){var it=a[st],j=it.imported.name;if(o.write(j,it),j!==it.local.name&&o.write(" as "+it.local.name),++st<_e)o.write(", ");else break}o.write("}")}o.write(" from ")}if(this.Literal(s.source,o),tt&&tt.length>0){o.write(" with { ");for(var _=0;_<tt.length;_++)this.ImportAttribute(tt[_],o),_<tt.length-1&&o.write(", ");o.write(" }")}o.write(";")},ImportAttribute:function(s,o){this.Identifier(s.key,o),o.write(": "),this.Literal(s.value,o)},ImportExpression:function(s,o){o.write("import("),this[s.source.type](s.source,o),o.write(")")},ExportDefaultDeclaration:function(s,o){o.write("export default "),this[s.declaration.type](s.declaration,o),o.expressionsPrecedence[s.declaration.type]!=null&&s.declaration.type[0]!=="F"&&o.write(";")},ExportNamedDeclaration:function(s,o){if(o.write("export "),s.declaration)this[s.declaration.type](s.declaration,o);else{o.write("{");var a=s.specifiers,tt=a.length;if(tt>0)for(var _e=0;;){var st=a[_e],ot=st.local.name;if(o.write(ot,st),ot!==st.exported.name&&o.write(" as "+st.exported.name),++_e<tt)o.write(", ");else break}if(o.write("}"),s.source&&(o.write(" from "),this.Literal(s.source,o)),s.attributes&&s.attributes.length>0){o.write(" with { ");for(var rt=0;rt<s.attributes.length;rt++)this.ImportAttribute(s.attributes[rt],o),rt<s.attributes.length-1&&o.write(", ");o.write(" }")}o.write(";")}},ExportAllDeclaration:function(s,o){if(s.exported!=null?o.write("export * as "+s.exported.name+" from "):o.write("export * from "),this.Literal(s.source,o),s.attributes&&s.attributes.length>0){o.write(" with { ");for(var a=0;a<s.attributes.length;a++)this.ImportAttribute(s.attributes[a],o),a<s.attributes.length-1&&o.write(", ");o.write(" }")}o.write(";")},MethodDefinition:function(s,o){s.static&&o.write("static ");var a=s.kind[0];(a==="g"||a==="s")&&o.write(s.kind+" "),s.value.async&&o.write("async "),s.value.generator&&o.write("*"),s.computed?(o.write("["),this[s.key.type](s.key,o),o.write("]")):this[s.key.type](s.key,o),formatSequence(o,s.value.params),o.write(" "),this[s.value.body.type](s.value.body,o)},ClassExpression:function(s,o){this.ClassDeclaration(s,o)},ArrowFunctionExpression:function(s,o){o.write(s.async?"async ":"",s);var a=s.params;a!=null&&(a.length===1&&a[0].type[0]==="I"?o.write(a[0].name,a[0]):formatSequence(o,s.params)),o.write(" => "),s.body.type[0]==="O"?(o.write("("),this.ObjectExpression(s.body,o),o.write(")")):this[s.body.type](s.body,o)},ThisExpression:function(s,o){o.write("this",s)},Super:function(s,o){o.write("super",s)},RestElement:RestElement=function(s,o){o.write("..."),this[s.argument.type](s.argument,o)},SpreadElement:RestElement,YieldExpression:function(s,o){o.write(s.delegate?"yield*":"yield"),s.argument&&(o.write(" "),this[s.argument.type](s.argument,o))},AwaitExpression:function(s,o){o.write("await ",s),formatExpression(o,s.argument,s)},TemplateLiteral:function(s,o){var a=s.quasis,tt=s.expressions;o.write("`");for(var _e=tt.length,st=0;st<_e;st++){var ot=tt[st],rt=a[st];o.write(rt.value.raw,rt),o.write("${"),this[ot.type](ot,o),o.write("}")}var it=a[a.length-1];o.write(it.value.raw,it),o.write("`")},TemplateElement:function(s,o){o.write(s.value.raw,s)},TaggedTemplateExpression:function(s,o){formatExpression(o,s.tag,s),this[s.quasi.type](s.quasi,o)},ArrayExpression:ArrayExpression=function(s,o){if(o.write("["),s.elements.length>0)for(var a=s.elements,tt=a.length,_e=0;;){var st=a[_e];if(st!=null&&this[st.type](st,o),++_e<tt)o.write(", ");else{st==null&&o.write(", ");break}}o.write("]")},ArrayPattern:ArrayExpression,ObjectExpression:function(s,o){var a=o.indent.repeat(o.indentLevel++),tt=o.lineEnd,_e=o.writeComments,st=a+o.indent;if(o.write("{"),s.properties.length>0){o.write(tt),_e&&s.comments!=null&&formatComments(o,s.comments,st,tt);for(var ot=","+tt,rt=s.properties,it=rt.length,j=0;;){var _=rt[j];if(_e&&_.comments!=null&&formatComments(o,_.comments,st,tt),o.write(st),this[_.type](_,o),++j<it)o.write(ot);else break}o.write(tt),_e&&s.trailingComments!=null&&formatComments(o,s.trailingComments,st,tt),o.write(a+"}")}else _e?s.comments!=null?(o.write(tt),formatComments(o,s.comments,st,tt),s.trailingComments!=null&&formatComments(o,s.trailingComments,st,tt),o.write(a+"}")):s.trailingComments!=null?(o.write(tt),formatComments(o,s.trailingComments,st,tt),o.write(a+"}")):o.write("}"):o.write("}");o.indentLevel--},Property:function(s,o){s.method||s.kind[0]!=="i"?this.MethodDefinition(s,o):(s.shorthand||(s.computed?(o.write("["),this[s.key.type](s.key,o),o.write("]")):this[s.key.type](s.key,o),o.write(": ")),this[s.value.type](s.value,o))},PropertyDefinition:function(s,o){if(s.static&&o.write("static "),s.computed&&o.write("["),this[s.key.type](s.key,o),s.computed&&o.write("]"),s.value==null){s.key.type[0]!=="F"&&o.write(";");return}o.write(" = "),this[s.value.type](s.value,o),o.write(";")},ObjectPattern:function(s,o){if(o.write("{"),s.properties.length>0)for(var a=s.properties,tt=a.length,_e=0;this[a[_e].type](a[_e],o),++_e<tt;)o.write(", ");o.write("}")},SequenceExpression:function(s,o){formatSequence(o,s.expressions)},UnaryExpression:function(s,o){if(s.prefix){var a=s.operator,tt=s.argument,_e=s.argument.type;o.write(a);var st=expressionNeedsParenthesis(o,tt,s);!st&&(a.length>1||_e[0]==="U"&&(_e[1]==="n"||_e[1]==="p")&&tt.prefix&&tt.operator[0]===a&&(a==="+"||a==="-"))&&o.write(" "),st?(o.write(a.length>1?" (":"("),this[_e](tt,o),o.write(")")):this[_e](tt,o)}else this[s.argument.type](s.argument,o),o.write(s.operator)},UpdateExpression:function(s,o){s.prefix?(o.write(s.operator),this[s.argument.type](s.argument,o)):(this[s.argument.type](s.argument,o),o.write(s.operator))},AssignmentExpression:function(s,o){this[s.left.type](s.left,o),o.write(" "+s.operator+" "),this[s.right.type](s.right,o)},AssignmentPattern:function(s,o){this[s.left.type](s.left,o),o.write(" = "),this[s.right.type](s.right,o)},BinaryExpression:BinaryExpression=function(s,o){var a=s.operator==="in";a&&o.write("("),formatExpression(o,s.left,s,!1),o.write(" "+s.operator+" "),formatExpression(o,s.right,s,!0),a&&o.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression:function(s,o){var a=s.test,tt=o.expressionsPrecedence[a.type];tt===NEEDS_PARENTHESES||tt<=o.expressionsPrecedence.ConditionalExpression?(o.write("("),this[a.type](a,o),o.write(")")):this[a.type](a,o),o.write(" ? "),this[s.consequent.type](s.consequent,o),o.write(" : "),this[s.alternate.type](s.alternate,o)},NewExpression:function(s,o){o.write("new ");var a=o.expressionsPrecedence[s.callee.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.CallExpression||hasCallExpression(s.callee)?(o.write("("),this[s.callee.type](s.callee,o),o.write(")")):this[s.callee.type](s.callee,o),formatSequence(o,s.arguments)},CallExpression:function(s,o){var a=o.expressionsPrecedence[s.callee.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.CallExpression?(o.write("("),this[s.callee.type](s.callee,o),o.write(")")):this[s.callee.type](s.callee,o),s.optional&&o.write("?."),formatSequence(o,s.arguments)},ChainExpression:function(s,o){this[s.expression.type](s.expression,o)},MemberExpression:function(s,o){var a=o.expressionsPrecedence[s.object.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.MemberExpression?(o.write("("),this[s.object.type](s.object,o),o.write(")")):this[s.object.type](s.object,o),s.computed?(s.optional&&o.write("?."),o.write("["),this[s.property.type](s.property,o),o.write("]")):(s.optional?o.write("?."):o.write("."),this[s.property.type](s.property,o))},MetaProperty:function(s,o){o.write(s.meta.name+"."+s.property.name,s)},Identifier:function(s,o){o.write(s.name,s)},PrivateIdentifier:function(s,o){o.write("#".concat(s.name),s)},Literal:function(s,o){s.raw!=null?o.write(s.raw,s):s.regex!=null?this.RegExpLiteral(s,o):s.bigint!=null?o.write(s.bigint+"n",s):o.write(stringify$2(s.value),s)},RegExpLiteral:function(s,o){var a=s.regex;o.write("/".concat(a.pattern,"/").concat(a.flags),s)}};astring.GENERATOR=GENERATOR;var EMPTY_OBJECT={},baseGenerator=GENERATOR;astring.baseGenerator=baseGenerator;var State=function(){function i(s){_classCallCheck(this,i);var o=s??EMPTY_OBJECT;this.output="",o.output!=null?(this.output=o.output,this.write=this.writeToStream):this.output="",this.generator=o.generator!=null?o.generator:GENERATOR,this.expressionsPrecedence=o.expressionsPrecedence!=null?o.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=o.indent!=null?o.indent:"  ",this.lineEnd=o.lineEnd!=null?o.lineEnd:`
`,this.indentLevel=o.startingIndentLevel!=null?o.startingIndentLevel:0,this.writeComments=o.comments?o.comments:!1,o.sourceMap!=null&&(this.write=o.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=o.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:o.sourceMap.file||o.sourceMap._file})}return _createClass(i,[{key:"write",value:function(o){this.output+=o}},{key:"writeToStream",value:function(o){this.output.write(o)}},{key:"writeAndMap",value:function(o,a){this.output+=o,this.map(o,a)}},{key:"writeToStreamAndMap",value:function(o,a){this.output.write(o),this.map(o,a)}},{key:"map",value:function(o,a){if(a!=null){var tt=a.type;if(tt[0]==="L"&&tt[2]==="n"){this.column=0,this.line++;return}if(a.loc!=null){var _e=this.mapping;_e.original=a.loc.start,_e.name=a.name,this.sourceMap.addMapping(_e)}if(tt[0]==="T"&&tt[8]==="E"||tt[0]==="L"&&tt[1]==="i"&&typeof a.value=="string"){for(var st=o.length,ot=this.column,rt=this.line,it=0;it<st;it++)o[it]===`
`?(ot=0,rt++):ot++;this.column=ot,this.line=rt;return}}var j=o.length,_=this.lineEnd;j>0&&(this.lineEndSize>0&&(_.length===1?o[j-1]===_:o.endsWith(_))?(this.line+=this.lineEndSize,this.column=0):this.column+=j)}},{key:"toString",value:function(){return this.output}}]),i}();function generate(i,s){var o=new State(s);return o.generator[i.type](i,o),o.output}function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gpuBrowser={exports:{}};/**
 * gpu.js
 * http://gpu.rocks/
 *
 * GPU Accelerated JavaScript
 *
 * @version 2.16.0
 * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)
 *
 * @license MIT
 * The MIT License
 *
 * Copyright (c) 2022 gpu.js Team
 */(function(i,s){(function(o){i.exports=o()})(function(){return function(){function o(a,tt,_e){function st(it,j){if(!tt[it]){if(!a[it]){var _=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&_)return _(it,!0);if(ot)return ot(it,!0);var $=new Error("Cannot find module '"+it+"'");throw $.code="MODULE_NOT_FOUND",$}var et=tt[it]={exports:{}};a[it][0].call(et.exports,function(nt){var at=a[it][1][nt];return st(at||nt)},et,et.exports,o,a,tt,_e)}return tt[it].exports}for(var ot=typeof commonjsRequire=="function"&&commonjsRequire,rt=0;rt<_e.length;rt++)st(_e[rt]);return st}return o}()({1:[function(o,a,tt){(function(_e,st){typeof tt=="object"&&typeof a<"u"?st(tt):(_e=_e||self,st(_e.acorn={}))})(this,function(_e){var st={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ot="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",rt={5:ot,"5module":ot+" export import",6:ot+" const class extends export import super"},it=/^in(stanceof)?$/,j="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",_="--------------------------------------------------------------------------------------------------------------------------------------------------",$=new RegExp("["+j+"]"),et=new RegExp("["+j+_+"]");j=_=null;var nt=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],at=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function ct(wt,Lt){for(var Ut=65536,Zt=0;Zt<Lt.length;Zt+=2){if(Ut+=Lt[Zt],Ut>wt)return!1;if(Ut+=Lt[Zt+1],Ut>=wt)return!0}}function ht(wt,Lt){return wt<65?wt===36:wt<91?!0:wt<97?wt===95:wt<123?!0:wt<=65535?wt>=170&&$.test(String.fromCharCode(wt)):Lt===!1?!1:ct(wt,nt)}function ut(wt,Lt){return wt<48?wt===36:wt<58?!0:wt<65?!1:wt<91?!0:wt<97?wt===95:wt<123?!0:wt<=65535?wt>=170&&et.test(String.fromCharCode(wt)):Lt===!1?!1:ct(wt,nt)||ct(wt,at)}var dt=function(Lt,Ut){Ut===void 0&&(Ut={}),this.label=Lt,this.keyword=Ut.keyword,this.beforeExpr=!!Ut.beforeExpr,this.startsExpr=!!Ut.startsExpr,this.isLoop=!!Ut.isLoop,this.isAssign=!!Ut.isAssign,this.prefix=!!Ut.prefix,this.postfix=!!Ut.postfix,this.binop=Ut.binop||null,this.updateContext=null};function mt(wt,Lt){return new dt(wt,{beforeExpr:!0,binop:Lt})}var gt={beforeExpr:!0},lt={startsExpr:!0},St={};function xt(wt,Lt){return Lt===void 0&&(Lt={}),Lt.keyword=wt,St[wt]=new dt(wt,Lt)}var yt={num:new dt("num",lt),regexp:new dt("regexp",lt),string:new dt("string",lt),name:new dt("name",lt),eof:new dt("eof"),bracketL:new dt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new dt("]"),braceL:new dt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new dt("}"),parenL:new dt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new dt(")"),comma:new dt(",",gt),semi:new dt(";",gt),colon:new dt(":",gt),dot:new dt("."),question:new dt("?",gt),arrow:new dt("=>",gt),template:new dt("template"),invalidTemplate:new dt("invalidTemplate"),ellipsis:new dt("...",gt),backQuote:new dt("`",lt),dollarBraceL:new dt("${",{beforeExpr:!0,startsExpr:!0}),eq:new dt("=",{beforeExpr:!0,isAssign:!0}),assign:new dt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new dt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new dt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:mt("||",1),logicalAND:mt("&&",2),bitwiseOR:mt("|",3),bitwiseXOR:mt("^",4),bitwiseAND:mt("&",5),equality:mt("==/!=/===/!==",6),relational:mt("</>/<=/>=",7),bitShift:mt("<</>>/>>>",8),plusMin:new dt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:mt("%",10),star:mt("*",10),slash:mt("/",10),starstar:new dt("**",{beforeExpr:!0}),_break:xt("break"),_case:xt("case",gt),_catch:xt("catch"),_continue:xt("continue"),_debugger:xt("debugger"),_default:xt("default",gt),_do:xt("do",{isLoop:!0,beforeExpr:!0}),_else:xt("else",gt),_finally:xt("finally"),_for:xt("for",{isLoop:!0}),_function:xt("function",lt),_if:xt("if"),_return:xt("return",gt),_switch:xt("switch"),_throw:xt("throw",gt),_try:xt("try"),_var:xt("var"),_const:xt("const"),_while:xt("while",{isLoop:!0}),_with:xt("with"),_new:xt("new",{beforeExpr:!0,startsExpr:!0}),_this:xt("this",lt),_super:xt("super",lt),_class:xt("class",lt),_extends:xt("extends",gt),_export:xt("export"),_import:xt("import",lt),_null:xt("null",lt),_true:xt("true",lt),_false:xt("false",lt),_in:xt("in",{beforeExpr:!0,binop:7}),_instanceof:xt("instanceof",{beforeExpr:!0,binop:7}),_typeof:xt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:xt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:xt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},_t=/\r\n?|\n|\u2028|\u2029/,kt=new RegExp(_t.source,"g");function Et(wt,Lt){return wt===10||wt===13||!Lt&&(wt===8232||wt===8233)}var $t=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,At=Object.prototype,Mt=At.hasOwnProperty,Ot=At.toString;function Pt(wt,Lt){return Mt.call(wt,Lt)}var Ft=Array.isArray||function(wt){return Ot.call(wt)==="[object Array]"};function zt(wt){return new RegExp("^(?:"+wt.replace(/ /g,"|")+")$")}var qt=function(Lt,Ut){this.line=Lt,this.column=Ut};qt.prototype.offset=function(Lt){return new qt(this.line,this.column+Lt)};var Gt=function(Lt,Ut,Zt){this.start=Ut,this.end=Zt,Lt.sourceFile!==null&&(this.source=Lt.sourceFile)};function Wt(wt,Lt){for(var Ut=1,Zt=0;;){kt.lastIndex=Zt;var ur=kt.exec(wt);if(ur&&ur.index<Lt)++Ut,Zt=ur.index+ur[0].length;else return new qt(Ut,Lt-Zt)}}var Xt={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function rr(wt){var Lt={};for(var Ut in Xt)Lt[Ut]=wt&&Pt(wt,Ut)?wt[Ut]:Xt[Ut];if(Lt.ecmaVersion>=2015&&(Lt.ecmaVersion-=2009),Lt.allowReserved==null&&(Lt.allowReserved=Lt.ecmaVersion<5),Ft(Lt.onToken)){var Zt=Lt.onToken;Lt.onToken=function(ur){return Zt.push(ur)}}return Ft(Lt.onComment)&&(Lt.onComment=tr(Lt,Lt.onComment)),Lt}function tr(wt,Lt){return function(Ut,Zt,ur,_r,Rr,Gr){var rn={type:Ut?"Block":"Line",value:Zt,start:ur,end:_r};wt.locations&&(rn.loc=new Gt(this,Rr,Gr)),wt.ranges&&(rn.range=[ur,_r]),Lt.push(rn)}}var mr=1,yr=2,xr=mr|yr,vr=4,ir=8,sr=16,er=32,Tr=64,Cr=128;function dr(wt,Lt){return yr|(wt?vr:0)|(Lt?ir:0)}var Wr=0,Jr=1,nn=2,Cn=3,Vn=4,An=5,pn=function(Lt,Ut,Zt){this.options=Lt=rr(Lt),this.sourceFile=Lt.sourceFile,this.keywords=zt(rt[Lt.ecmaVersion>=6?6:Lt.sourceType==="module"?"5module":5]);var ur="";if(Lt.allowReserved!==!0){for(var _r=Lt.ecmaVersion;!(ur=st[_r]);_r--);Lt.sourceType==="module"&&(ur+=" await")}this.reservedWords=zt(ur);var Rr=(ur?ur+" ":"")+st.strict;this.reservedWordsStrict=zt(Rr),this.reservedWordsStrictBind=zt(Rr+" "+st.strictBind),this.input=String(Ut),this.containsEsc=!1,Zt?(this.pos=Zt,this.lineStart=this.input.lastIndexOf(`
`,Zt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(_t).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=yt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Lt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&Lt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(mr),this.regexpState=null},Kn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};pn.prototype.parse=function(){var Lt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Lt)},Kn.inFunction.get=function(){return(this.currentVarScope().flags&yr)>0},Kn.inGenerator.get=function(){return(this.currentVarScope().flags&ir)>0},Kn.inAsync.get=function(){return(this.currentVarScope().flags&vr)>0},Kn.allowSuper.get=function(){return(this.currentThisScope().flags&Tr)>0},Kn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Cr)>0},Kn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},pn.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&yr)>0},pn.extend=function(){for(var Lt=[],Ut=arguments.length;Ut--;)Lt[Ut]=arguments[Ut];for(var Zt=this,ur=0;ur<Lt.length;ur++)Zt=Lt[ur](Zt);return Zt},pn.parse=function(Lt,Ut){return new this(Ut,Lt).parse()},pn.parseExpressionAt=function(Lt,Ut,Zt){var ur=new this(Zt,Lt,Ut);return ur.nextToken(),ur.parseExpression()},pn.tokenizer=function(Lt,Ut){return new this(Ut,Lt)},Object.defineProperties(pn.prototype,Kn);var Pn=pn.prototype,wr=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;Pn.strictDirective=function(wt){for(;;){Tt.lastIndex=wt,wt+=Tt.exec(this.input)[0].length;var Lt=wr.exec(this.input.slice(wt));if(!Lt)return!1;if((Lt[1]||Lt[2])==="use strict")return!0;wt+=Lt[0].length,Tt.lastIndex=wt,wt+=Tt.exec(this.input)[0].length,this.input[wt]===";"&&wt++}},Pn.eat=function(wt){return this.type===wt?(this.next(),!0):!1},Pn.isContextual=function(wt){return this.type===yt.name&&this.value===wt&&!this.containsEsc},Pn.eatContextual=function(wt){return this.isContextual(wt)?(this.next(),!0):!1},Pn.expectContextual=function(wt){this.eatContextual(wt)||this.unexpected()},Pn.canInsertSemicolon=function(){return this.type===yt.eof||this.type===yt.braceR||_t.test(this.input.slice(this.lastTokEnd,this.start))},Pn.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Pn.semicolon=function(){!this.eat(yt.semi)&&!this.insertSemicolon()&&this.unexpected()},Pn.afterTrailingComma=function(wt,Lt){if(this.type===wt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Lt||this.next(),!0},Pn.expect=function(wt){this.eat(wt)||this.unexpected()},Pn.unexpected=function(wt){this.raise(wt??this.start,"Unexpected token")};function zr(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}Pn.checkPatternErrors=function(wt,Lt){if(wt){wt.trailingComma>-1&&this.raiseRecoverable(wt.trailingComma,"Comma is not permitted after the rest element");var Ut=Lt?wt.parenthesizedAssign:wt.parenthesizedBind;Ut>-1&&this.raiseRecoverable(Ut,"Parenthesized pattern")}},Pn.checkExpressionErrors=function(wt,Lt){if(!wt)return!1;var Ut=wt.shorthandAssign,Zt=wt.doubleProto;if(!Lt)return Ut>=0||Zt>=0;Ut>=0&&this.raise(Ut,"Shorthand property assignments are valid only in destructuring patterns"),Zt>=0&&this.raiseRecoverable(Zt,"Redefinition of __proto__ property")},Pn.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Pn.isSimpleAssignTarget=function(wt){return wt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(wt.expression):wt.type==="Identifier"||wt.type==="MemberExpression"};var $r=pn.prototype;$r.parseTopLevel=function(wt){var Lt={};for(wt.body||(wt.body=[]);this.type!==yt.eof;){var Ut=this.parseStatement(null,!0,Lt);wt.body.push(Ut)}if(this.inModule)for(var Zt=0,ur=Object.keys(this.undefinedExports);Zt<ur.length;Zt+=1){var _r=ur[Zt];this.raiseRecoverable(this.undefinedExports[_r].start,"Export '"+_r+"' is not defined")}return this.adaptDirectivePrologue(wt.body),this.next(),wt.sourceType=this.options.sourceType,this.finishNode(wt,"Program")};var hn={kind:"loop"},Jt={kind:"switch"};$r.isLet=function(wt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Tt.lastIndex=this.pos;var Lt=Tt.exec(this.input),Ut=this.pos+Lt[0].length,Zt=this.input.charCodeAt(Ut);if(Zt===91)return!0;if(wt)return!1;if(Zt===123)return!0;if(ht(Zt,!0)){for(var ur=Ut+1;ut(this.input.charCodeAt(ur),!0);)++ur;var _r=this.input.slice(Ut,ur);if(!it.test(_r))return!0}return!1},$r.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Tt.lastIndex=this.pos;var wt=Tt.exec(this.input),Lt=this.pos+wt[0].length;return!_t.test(this.input.slice(this.pos,Lt))&&this.input.slice(Lt,Lt+8)==="function"&&(Lt+8===this.input.length||!ut(this.input.charAt(Lt+8)))},$r.parseStatement=function(wt,Lt,Ut){var Zt=this.type,ur=this.startNode(),_r;switch(this.isLet(wt)&&(Zt=yt._var,_r="let"),Zt){case yt._break:case yt._continue:return this.parseBreakContinueStatement(ur,Zt.keyword);case yt._debugger:return this.parseDebuggerStatement(ur);case yt._do:return this.parseDoStatement(ur);case yt._for:return this.parseForStatement(ur);case yt._function:return wt&&(this.strict||wt!=="if"&&wt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(ur,!1,!wt);case yt._class:return wt&&this.unexpected(),this.parseClass(ur,!0);case yt._if:return this.parseIfStatement(ur);case yt._return:return this.parseReturnStatement(ur);case yt._switch:return this.parseSwitchStatement(ur);case yt._throw:return this.parseThrowStatement(ur);case yt._try:return this.parseTryStatement(ur);case yt._const:case yt._var:return _r=_r||this.value,wt&&_r!=="var"&&this.unexpected(),this.parseVarStatement(ur,_r);case yt._while:return this.parseWhileStatement(ur);case yt._with:return this.parseWithStatement(ur);case yt.braceL:return this.parseBlock(!0,ur);case yt.semi:return this.parseEmptyStatement(ur);case yt._export:case yt._import:if(this.options.ecmaVersion>10&&Zt===yt._import){Tt.lastIndex=this.pos;var Rr=Tt.exec(this.input),Gr=this.pos+Rr[0].length,rn=this.input.charCodeAt(Gr);if(rn===40)return this.parseExpressionStatement(ur,this.parseExpression())}return this.options.allowImportExportEverywhere||(Lt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Zt===yt._import?this.parseImport(ur):this.parseExport(ur,Ut);default:if(this.isAsyncFunction())return wt&&this.unexpected(),this.next(),this.parseFunctionStatement(ur,!0,!wt);var kn=this.value,Wn=this.parseExpression();return Zt===yt.name&&Wn.type==="Identifier"&&this.eat(yt.colon)?this.parseLabeledStatement(ur,kn,Wn,wt):this.parseExpressionStatement(ur,Wn)}},$r.parseBreakContinueStatement=function(wt,Lt){var Ut=Lt==="break";this.next(),this.eat(yt.semi)||this.insertSemicolon()?wt.label=null:this.type!==yt.name?this.unexpected():(wt.label=this.parseIdent(),this.semicolon());for(var Zt=0;Zt<this.labels.length;++Zt){var ur=this.labels[Zt];if((wt.label==null||ur.name===wt.label.name)&&(ur.kind!=null&&(Ut||ur.kind==="loop")||wt.label&&Ut))break}return Zt===this.labels.length&&this.raise(wt.start,"Unsyntactic "+Lt),this.finishNode(wt,Ut?"BreakStatement":"ContinueStatement")},$r.parseDebuggerStatement=function(wt){return this.next(),this.semicolon(),this.finishNode(wt,"DebuggerStatement")},$r.parseDoStatement=function(wt){return this.next(),this.labels.push(hn),wt.body=this.parseStatement("do"),this.labels.pop(),this.expect(yt._while),wt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(yt.semi):this.semicolon(),this.finishNode(wt,"DoWhileStatement")},$r.parseForStatement=function(wt){this.next();var Lt=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(hn),this.enterScope(0),this.expect(yt.parenL),this.type===yt.semi)return Lt>-1&&this.unexpected(Lt),this.parseFor(wt,null);var Ut=this.isLet();if(this.type===yt._var||this.type===yt._const||Ut){var Zt=this.startNode(),ur=Ut?"let":this.value;return this.next(),this.parseVar(Zt,!0,ur),this.finishNode(Zt,"VariableDeclaration"),(this.type===yt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Zt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===yt._in?Lt>-1&&this.unexpected(Lt):wt.await=Lt>-1),this.parseForIn(wt,Zt)):(Lt>-1&&this.unexpected(Lt),this.parseFor(wt,Zt))}var _r=new zr,Rr=this.parseExpression(!0,_r);return this.type===yt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===yt._in?Lt>-1&&this.unexpected(Lt):wt.await=Lt>-1),this.toAssignable(Rr,!1,_r),this.checkLVal(Rr),this.parseForIn(wt,Rr)):(this.checkExpressionErrors(_r,!0),Lt>-1&&this.unexpected(Lt),this.parseFor(wt,Rr))},$r.parseFunctionStatement=function(wt,Lt,Ut){return this.next(),this.parseFunction(wt,hr|(Ut?0:Pr),!1,Lt)},$r.parseIfStatement=function(wt){return this.next(),wt.test=this.parseParenExpression(),wt.consequent=this.parseStatement("if"),wt.alternate=this.eat(yt._else)?this.parseStatement("if"):null,this.finishNode(wt,"IfStatement")},$r.parseReturnStatement=function(wt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(yt.semi)||this.insertSemicolon()?wt.argument=null:(wt.argument=this.parseExpression(),this.semicolon()),this.finishNode(wt,"ReturnStatement")},$r.parseSwitchStatement=function(wt){this.next(),wt.discriminant=this.parseParenExpression(),wt.cases=[],this.expect(yt.braceL),this.labels.push(Jt),this.enterScope(0);for(var Lt,Ut=!1;this.type!==yt.braceR;)if(this.type===yt._case||this.type===yt._default){var Zt=this.type===yt._case;Lt&&this.finishNode(Lt,"SwitchCase"),wt.cases.push(Lt=this.startNode()),Lt.consequent=[],this.next(),Zt?Lt.test=this.parseExpression():(Ut&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Ut=!0,Lt.test=null),this.expect(yt.colon)}else Lt||this.unexpected(),Lt.consequent.push(this.parseStatement(null));return this.exitScope(),Lt&&this.finishNode(Lt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(wt,"SwitchStatement")},$r.parseThrowStatement=function(wt){return this.next(),_t.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),wt.argument=this.parseExpression(),this.semicolon(),this.finishNode(wt,"ThrowStatement")};var Kt=[];$r.parseTryStatement=function(wt){if(this.next(),wt.block=this.parseBlock(),wt.handler=null,this.type===yt._catch){var Lt=this.startNode();if(this.next(),this.eat(yt.parenL)){Lt.param=this.parseBindingAtom();var Ut=Lt.param.type==="Identifier";this.enterScope(Ut?er:0),this.checkLVal(Lt.param,Ut?Vn:nn),this.expect(yt.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),Lt.param=null,this.enterScope(0);Lt.body=this.parseBlock(!1),this.exitScope(),wt.handler=this.finishNode(Lt,"CatchClause")}return wt.finalizer=this.eat(yt._finally)?this.parseBlock():null,!wt.handler&&!wt.finalizer&&this.raise(wt.start,"Missing catch or finally clause"),this.finishNode(wt,"TryStatement")},$r.parseVarStatement=function(wt,Lt){return this.next(),this.parseVar(wt,!1,Lt),this.semicolon(),this.finishNode(wt,"VariableDeclaration")},$r.parseWhileStatement=function(wt){return this.next(),wt.test=this.parseParenExpression(),this.labels.push(hn),wt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(wt,"WhileStatement")},$r.parseWithStatement=function(wt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),wt.object=this.parseParenExpression(),wt.body=this.parseStatement("with"),this.finishNode(wt,"WithStatement")},$r.parseEmptyStatement=function(wt){return this.next(),this.finishNode(wt,"EmptyStatement")},$r.parseLabeledStatement=function(wt,Lt,Ut,Zt){for(var ur=0,_r=this.labels;ur<_r.length;ur+=1){var Rr=_r[ur];Rr.name===Lt&&this.raise(Ut.start,"Label '"+Lt+"' is already declared")}for(var Gr=this.type.isLoop?"loop":this.type===yt._switch?"switch":null,rn=this.labels.length-1;rn>=0;rn--){var kn=this.labels[rn];if(kn.statementStart===wt.start)kn.statementStart=this.start,kn.kind=Gr;else break}return this.labels.push({name:Lt,kind:Gr,statementStart:this.start}),wt.body=this.parseStatement(Zt?Zt.indexOf("label")===-1?Zt+"label":Zt:"label"),this.labels.pop(),wt.label=Ut,this.finishNode(wt,"LabeledStatement")},$r.parseExpressionStatement=function(wt,Lt){return wt.expression=Lt,this.semicolon(),this.finishNode(wt,"ExpressionStatement")},$r.parseBlock=function(wt,Lt){for(wt===void 0&&(wt=!0),Lt===void 0&&(Lt=this.startNode()),Lt.body=[],this.expect(yt.braceL),wt&&this.enterScope(0);!this.eat(yt.braceR);){var Ut=this.parseStatement(null);Lt.body.push(Ut)}return wt&&this.exitScope(),this.finishNode(Lt,"BlockStatement")},$r.parseFor=function(wt,Lt){return wt.init=Lt,this.expect(yt.semi),wt.test=this.type===yt.semi?null:this.parseExpression(),this.expect(yt.semi),wt.update=this.type===yt.parenR?null:this.parseExpression(),this.expect(yt.parenR),wt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(wt,"ForStatement")},$r.parseForIn=function(wt,Lt){var Ut=this.type===yt._in;return this.next(),Lt.type==="VariableDeclaration"&&Lt.declarations[0].init!=null&&(!Ut||this.options.ecmaVersion<8||this.strict||Lt.kind!=="var"||Lt.declarations[0].id.type!=="Identifier")?this.raise(Lt.start,(Ut?"for-in":"for-of")+" loop variable declaration may not have an initializer"):Lt.type==="AssignmentPattern"&&this.raise(Lt.start,"Invalid left-hand side in for-loop"),wt.left=Lt,wt.right=Ut?this.parseExpression():this.parseMaybeAssign(),this.expect(yt.parenR),wt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(wt,Ut?"ForInStatement":"ForOfStatement")},$r.parseVar=function(wt,Lt,Ut){for(wt.declarations=[],wt.kind=Ut;;){var Zt=this.startNode();if(this.parseVarId(Zt,Ut),this.eat(yt.eq)?Zt.init=this.parseMaybeAssign(Lt):Ut==="const"&&!(this.type===yt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Zt.id.type!=="Identifier"&&!(Lt&&(this.type===yt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Zt.init=null,wt.declarations.push(this.finishNode(Zt,"VariableDeclarator")),!this.eat(yt.comma))break}return wt},$r.parseVarId=function(wt,Lt){wt.id=this.parseBindingAtom(),this.checkLVal(wt.id,Lt==="var"?Jr:nn,!1)};var hr=1,Pr=2,jr=4;$r.parseFunction=function(wt,Lt,Ut,Zt){this.initFunction(wt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Zt)&&(this.type===yt.star&&Lt&Pr&&this.unexpected(),wt.generator=this.eat(yt.star)),this.options.ecmaVersion>=8&&(wt.async=!!Zt),Lt&hr&&(wt.id=Lt&jr&&this.type!==yt.name?null:this.parseIdent(),wt.id&&!(Lt&Pr)&&this.checkLVal(wt.id,this.strict||wt.generator||wt.async?this.treatFunctionsAsVar?Jr:nn:Cn));var ur=this.yieldPos,_r=this.awaitPos,Rr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(dr(wt.async,wt.generator)),Lt&hr||(wt.id=this.type===yt.name?this.parseIdent():null),this.parseFunctionParams(wt),this.parseFunctionBody(wt,Ut,!1),this.yieldPos=ur,this.awaitPos=_r,this.awaitIdentPos=Rr,this.finishNode(wt,Lt&hr?"FunctionDeclaration":"FunctionExpression")},$r.parseFunctionParams=function(wt){this.expect(yt.parenL),wt.params=this.parseBindingList(yt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},$r.parseClass=function(wt,Lt){this.next();var Ut=this.strict;this.strict=!0,this.parseClassId(wt,Lt),this.parseClassSuper(wt);var Zt=this.startNode(),ur=!1;for(Zt.body=[],this.expect(yt.braceL);!this.eat(yt.braceR);){var _r=this.parseClassElement(wt.superClass!==null);_r&&(Zt.body.push(_r),_r.type==="MethodDefinition"&&_r.kind==="constructor"&&(ur&&this.raise(_r.start,"Duplicate constructor in the same class"),ur=!0))}return wt.body=this.finishNode(Zt,"ClassBody"),this.strict=Ut,this.finishNode(wt,Lt?"ClassDeclaration":"ClassExpression")},$r.parseClassElement=function(wt){var Lt=this;if(this.eat(yt.semi))return null;var Ut=this.startNode(),Zt=function(rn,kn){kn===void 0&&(kn=!1);var Wn=Lt.start,ss=Lt.startLoc;return Lt.eatContextual(rn)?Lt.type!==yt.parenL&&(!kn||!Lt.canInsertSemicolon())?!0:(Ut.key&&Lt.unexpected(),Ut.computed=!1,Ut.key=Lt.startNodeAt(Wn,ss),Ut.key.name=rn,Lt.finishNode(Ut.key,"Identifier"),!1):!1};Ut.kind="method",Ut.static=Zt("static");var ur=this.eat(yt.star),_r=!1;ur||(this.options.ecmaVersion>=8&&Zt("async",!0)?(_r=!0,ur=this.options.ecmaVersion>=9&&this.eat(yt.star)):Zt("get")?Ut.kind="get":Zt("set")&&(Ut.kind="set")),Ut.key||this.parsePropertyName(Ut);var Rr=Ut.key,Gr=!1;return!Ut.computed&&!Ut.static&&(Rr.type==="Identifier"&&Rr.name==="constructor"||Rr.type==="Literal"&&Rr.value==="constructor")?(Ut.kind!=="method"&&this.raise(Rr.start,"Constructor can't have get/set modifier"),ur&&this.raise(Rr.start,"Constructor can't be a generator"),_r&&this.raise(Rr.start,"Constructor can't be an async method"),Ut.kind="constructor",Gr=wt):Ut.static&&Rr.type==="Identifier"&&Rr.name==="prototype"&&this.raise(Rr.start,"Classes may not have a static property named prototype"),this.parseClassMethod(Ut,ur,_r,Gr),Ut.kind==="get"&&Ut.value.params.length!==0&&this.raiseRecoverable(Ut.value.start,"getter should have no params"),Ut.kind==="set"&&Ut.value.params.length!==1&&this.raiseRecoverable(Ut.value.start,"setter should have exactly one param"),Ut.kind==="set"&&Ut.value.params[0].type==="RestElement"&&this.raiseRecoverable(Ut.value.params[0].start,"Setter cannot use rest params"),Ut},$r.parseClassMethod=function(wt,Lt,Ut,Zt){return wt.value=this.parseMethod(Lt,Ut,Zt),this.finishNode(wt,"MethodDefinition")},$r.parseClassId=function(wt,Lt){this.type===yt.name?(wt.id=this.parseIdent(),Lt&&this.checkLVal(wt.id,nn,!1)):(Lt===!0&&this.unexpected(),wt.id=null)},$r.parseClassSuper=function(wt){wt.superClass=this.eat(yt._extends)?this.parseExprSubscripts():null},$r.parseExport=function(wt,Lt){if(this.next(),this.eat(yt.star))return this.expectContextual("from"),this.type!==yt.string&&this.unexpected(),wt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(wt,"ExportAllDeclaration");if(this.eat(yt._default)){this.checkExport(Lt,"default",this.lastTokStart);var Ut;if(this.type===yt._function||(Ut=this.isAsyncFunction())){var Zt=this.startNode();this.next(),Ut&&this.next(),wt.declaration=this.parseFunction(Zt,hr|jr,!1,Ut)}else if(this.type===yt._class){var ur=this.startNode();wt.declaration=this.parseClass(ur,"nullableID")}else wt.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(wt,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())wt.declaration=this.parseStatement(null),wt.declaration.type==="VariableDeclaration"?this.checkVariableExport(Lt,wt.declaration.declarations):this.checkExport(Lt,wt.declaration.id.name,wt.declaration.id.start),wt.specifiers=[],wt.source=null;else{if(wt.declaration=null,wt.specifiers=this.parseExportSpecifiers(Lt),this.eatContextual("from"))this.type!==yt.string&&this.unexpected(),wt.source=this.parseExprAtom();else{for(var _r=0,Rr=wt.specifiers;_r<Rr.length;_r+=1){var Gr=Rr[_r];this.checkUnreserved(Gr.local),this.checkLocalExport(Gr.local)}wt.source=null}this.semicolon()}return this.finishNode(wt,"ExportNamedDeclaration")},$r.checkExport=function(wt,Lt,Ut){wt&&(Pt(wt,Lt)&&this.raiseRecoverable(Ut,"Duplicate export '"+Lt+"'"),wt[Lt]=!0)},$r.checkPatternExport=function(wt,Lt){var Ut=Lt.type;if(Ut==="Identifier")this.checkExport(wt,Lt.name,Lt.start);else if(Ut==="ObjectPattern")for(var Zt=0,ur=Lt.properties;Zt<ur.length;Zt+=1){var _r=ur[Zt];this.checkPatternExport(wt,_r)}else if(Ut==="ArrayPattern")for(var Rr=0,Gr=Lt.elements;Rr<Gr.length;Rr+=1){var rn=Gr[Rr];rn&&this.checkPatternExport(wt,rn)}else Ut==="Property"?this.checkPatternExport(wt,Lt.value):Ut==="AssignmentPattern"?this.checkPatternExport(wt,Lt.left):Ut==="RestElement"?this.checkPatternExport(wt,Lt.argument):Ut==="ParenthesizedExpression"&&this.checkPatternExport(wt,Lt.expression)},$r.checkVariableExport=function(wt,Lt){if(wt)for(var Ut=0,Zt=Lt;Ut<Zt.length;Ut+=1){var ur=Zt[Ut];this.checkPatternExport(wt,ur.id)}},$r.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},$r.parseExportSpecifiers=function(wt){var Lt=[],Ut=!0;for(this.expect(yt.braceL);!this.eat(yt.braceR);){if(Ut)Ut=!1;else if(this.expect(yt.comma),this.afterTrailingComma(yt.braceR))break;var Zt=this.startNode();Zt.local=this.parseIdent(!0),Zt.exported=this.eatContextual("as")?this.parseIdent(!0):Zt.local,this.checkExport(wt,Zt.exported.name,Zt.exported.start),Lt.push(this.finishNode(Zt,"ExportSpecifier"))}return Lt},$r.parseImport=function(wt){return this.next(),this.type===yt.string?(wt.specifiers=Kt,wt.source=this.parseExprAtom()):(wt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),wt.source=this.type===yt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(wt,"ImportDeclaration")},$r.parseImportSpecifiers=function(){var wt=[],Lt=!0;if(this.type===yt.name){var Ut=this.startNode();if(Ut.local=this.parseIdent(),this.checkLVal(Ut.local,nn),wt.push(this.finishNode(Ut,"ImportDefaultSpecifier")),!this.eat(yt.comma))return wt}if(this.type===yt.star){var Zt=this.startNode();return this.next(),this.expectContextual("as"),Zt.local=this.parseIdent(),this.checkLVal(Zt.local,nn),wt.push(this.finishNode(Zt,"ImportNamespaceSpecifier")),wt}for(this.expect(yt.braceL);!this.eat(yt.braceR);){if(Lt)Lt=!1;else if(this.expect(yt.comma),this.afterTrailingComma(yt.braceR))break;var ur=this.startNode();ur.imported=this.parseIdent(!0),this.eatContextual("as")?ur.local=this.parseIdent():(this.checkUnreserved(ur.imported),ur.local=ur.imported),this.checkLVal(ur.local,nn),wt.push(this.finishNode(ur,"ImportSpecifier"))}return wt},$r.adaptDirectivePrologue=function(wt){for(var Lt=0;Lt<wt.length&&this.isDirectiveCandidate(wt[Lt]);++Lt)wt[Lt].directive=wt[Lt].expression.raw.slice(1,-1)},$r.isDirectiveCandidate=function(wt){return wt.type==="ExpressionStatement"&&wt.expression.type==="Literal"&&typeof wt.expression.value=="string"&&(this.input[wt.start]==='"'||this.input[wt.start]==="'")};var kr=pn.prototype;kr.toAssignable=function(wt,Lt,Ut){if(this.options.ecmaVersion>=6&&wt)switch(wt.type){case"Identifier":this.inAsync&&wt.name==="await"&&this.raise(wt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":wt.type="ObjectPattern",Ut&&this.checkPatternErrors(Ut,!0);for(var Zt=0,ur=wt.properties;Zt<ur.length;Zt+=1){var _r=ur[Zt];this.toAssignable(_r,Lt),_r.type==="RestElement"&&(_r.argument.type==="ArrayPattern"||_r.argument.type==="ObjectPattern")&&this.raise(_r.argument.start,"Unexpected token")}break;case"Property":wt.kind!=="init"&&this.raise(wt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(wt.value,Lt);break;case"ArrayExpression":wt.type="ArrayPattern",Ut&&this.checkPatternErrors(Ut,!0),this.toAssignableList(wt.elements,Lt);break;case"SpreadElement":wt.type="RestElement",this.toAssignable(wt.argument,Lt),wt.argument.type==="AssignmentPattern"&&this.raise(wt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":wt.operator!=="="&&this.raise(wt.left.end,"Only '=' operator can be used for specifying default value."),wt.type="AssignmentPattern",delete wt.operator,this.toAssignable(wt.left,Lt);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(wt.expression,Lt,Ut);break;case"MemberExpression":if(!Lt)break;default:this.raise(wt.start,"Assigning to rvalue")}else Ut&&this.checkPatternErrors(Ut,!0);return wt},kr.toAssignableList=function(wt,Lt){for(var Ut=wt.length,Zt=0;Zt<Ut;Zt++){var ur=wt[Zt];ur&&this.toAssignable(ur,Lt)}if(Ut){var _r=wt[Ut-1];this.options.ecmaVersion===6&&Lt&&_r&&_r.type==="RestElement"&&_r.argument.type!=="Identifier"&&this.unexpected(_r.argument.start)}return wt},kr.parseSpread=function(wt){var Lt=this.startNode();return this.next(),Lt.argument=this.parseMaybeAssign(!1,wt),this.finishNode(Lt,"SpreadElement")},kr.parseRestBinding=function(){var wt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==yt.name&&this.unexpected(),wt.argument=this.parseBindingAtom(),this.finishNode(wt,"RestElement")},kr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case yt.bracketL:var wt=this.startNode();return this.next(),wt.elements=this.parseBindingList(yt.bracketR,!0,!0),this.finishNode(wt,"ArrayPattern");case yt.braceL:return this.parseObj(!0)}return this.parseIdent()},kr.parseBindingList=function(wt,Lt,Ut){for(var Zt=[],ur=!0;!this.eat(wt);)if(ur?ur=!1:this.expect(yt.comma),Lt&&this.type===yt.comma)Zt.push(null);else{if(Ut&&this.afterTrailingComma(wt))break;if(this.type===yt.ellipsis){var _r=this.parseRestBinding();this.parseBindingListItem(_r),Zt.push(_r),this.type===yt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(wt);break}else{var Rr=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(Rr),Zt.push(Rr)}}return Zt},kr.parseBindingListItem=function(wt){return wt},kr.parseMaybeDefault=function(wt,Lt,Ut){if(Ut=Ut||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(yt.eq))return Ut;var Zt=this.startNodeAt(wt,Lt);return Zt.left=Ut,Zt.right=this.parseMaybeAssign(),this.finishNode(Zt,"AssignmentPattern")},kr.checkLVal=function(wt,Lt,Ut){switch(Lt===void 0&&(Lt=Wr),wt.type){case"Identifier":Lt===nn&&wt.name==="let"&&this.raiseRecoverable(wt.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(wt.name)&&this.raiseRecoverable(wt.start,(Lt?"Binding ":"Assigning to ")+wt.name+" in strict mode"),Ut&&(Pt(Ut,wt.name)&&this.raiseRecoverable(wt.start,"Argument name clash"),Ut[wt.name]=!0),Lt!==Wr&&Lt!==An&&this.declareName(wt.name,Lt,wt.start);break;case"MemberExpression":Lt&&this.raiseRecoverable(wt.start,"Binding member expression");break;case"ObjectPattern":for(var Zt=0,ur=wt.properties;Zt<ur.length;Zt+=1){var _r=ur[Zt];this.checkLVal(_r,Lt,Ut)}break;case"Property":this.checkLVal(wt.value,Lt,Ut);break;case"ArrayPattern":for(var Rr=0,Gr=wt.elements;Rr<Gr.length;Rr+=1){var rn=Gr[Rr];rn&&this.checkLVal(rn,Lt,Ut)}break;case"AssignmentPattern":this.checkLVal(wt.left,Lt,Ut);break;case"RestElement":this.checkLVal(wt.argument,Lt,Ut);break;case"ParenthesizedExpression":this.checkLVal(wt.expression,Lt,Ut);break;default:this.raise(wt.start,(Lt?"Binding":"Assigning to")+" rvalue")}};var Ar=pn.prototype;Ar.checkPropClash=function(wt,Lt,Ut){if(!(this.options.ecmaVersion>=9&&wt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(wt.computed||wt.method||wt.shorthand))){var Zt=wt.key,ur;switch(Zt.type){case"Identifier":ur=Zt.name;break;case"Literal":ur=String(Zt.value);break;default:return}var _r=wt.kind;if(this.options.ecmaVersion>=6){ur==="__proto__"&&_r==="init"&&(Lt.proto&&(Ut?Ut.doubleProto<0&&(Ut.doubleProto=Zt.start):this.raiseRecoverable(Zt.start,"Redefinition of __proto__ property")),Lt.proto=!0);return}ur="$"+ur;var Rr=Lt[ur];if(Rr){var Gr;_r==="init"?Gr=this.strict&&Rr.init||Rr.get||Rr.set:Gr=Rr.init||Rr[_r],Gr&&this.raiseRecoverable(Zt.start,"Redefinition of property")}else Rr=Lt[ur]={init:!1,get:!1,set:!1};Rr[_r]=!0}},Ar.parseExpression=function(wt,Lt){var Ut=this.start,Zt=this.startLoc,ur=this.parseMaybeAssign(wt,Lt);if(this.type===yt.comma){var _r=this.startNodeAt(Ut,Zt);for(_r.expressions=[ur];this.eat(yt.comma);)_r.expressions.push(this.parseMaybeAssign(wt,Lt));return this.finishNode(_r,"SequenceExpression")}return ur},Ar.parseMaybeAssign=function(wt,Lt,Ut){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(wt);this.exprAllowed=!1}var Zt=!1,ur=-1,_r=-1;Lt?(ur=Lt.parenthesizedAssign,_r=Lt.trailingComma,Lt.parenthesizedAssign=Lt.trailingComma=-1):(Lt=new zr,Zt=!0);var Rr=this.start,Gr=this.startLoc;(this.type===yt.parenL||this.type===yt.name)&&(this.potentialArrowAt=this.start);var rn=this.parseMaybeConditional(wt,Lt);if(Ut&&(rn=Ut.call(this,rn,Rr,Gr)),this.type.isAssign){var kn=this.startNodeAt(Rr,Gr);return kn.operator=this.value,kn.left=this.type===yt.eq?this.toAssignable(rn,!1,Lt):rn,Zt||(Lt.parenthesizedAssign=Lt.trailingComma=Lt.doubleProto=-1),Lt.shorthandAssign>=kn.left.start&&(Lt.shorthandAssign=-1),this.checkLVal(rn),this.next(),kn.right=this.parseMaybeAssign(wt),this.finishNode(kn,"AssignmentExpression")}else Zt&&this.checkExpressionErrors(Lt,!0);return ur>-1&&(Lt.parenthesizedAssign=ur),_r>-1&&(Lt.trailingComma=_r),rn},Ar.parseMaybeConditional=function(wt,Lt){var Ut=this.start,Zt=this.startLoc,ur=this.parseExprOps(wt,Lt);if(this.checkExpressionErrors(Lt))return ur;if(this.eat(yt.question)){var _r=this.startNodeAt(Ut,Zt);return _r.test=ur,_r.consequent=this.parseMaybeAssign(),this.expect(yt.colon),_r.alternate=this.parseMaybeAssign(wt),this.finishNode(_r,"ConditionalExpression")}return ur},Ar.parseExprOps=function(wt,Lt){var Ut=this.start,Zt=this.startLoc,ur=this.parseMaybeUnary(Lt,!1);return this.checkExpressionErrors(Lt)||ur.start===Ut&&ur.type==="ArrowFunctionExpression"?ur:this.parseExprOp(ur,Ut,Zt,-1,wt)},Ar.parseExprOp=function(wt,Lt,Ut,Zt,ur){var _r=this.type.binop;if(_r!=null&&(!ur||this.type!==yt._in)&&_r>Zt){var Rr=this.type===yt.logicalOR||this.type===yt.logicalAND,Gr=this.value;this.next();var rn=this.start,kn=this.startLoc,Wn=this.parseExprOp(this.parseMaybeUnary(null,!1),rn,kn,_r,ur),ss=this.buildBinary(Lt,Ut,wt,Wn,Gr,Rr);return this.parseExprOp(ss,Lt,Ut,Zt,ur)}return wt},Ar.buildBinary=function(wt,Lt,Ut,Zt,ur,_r){var Rr=this.startNodeAt(wt,Lt);return Rr.left=Ut,Rr.operator=ur,Rr.right=Zt,this.finishNode(Rr,_r?"LogicalExpression":"BinaryExpression")},Ar.parseMaybeUnary=function(wt,Lt){var Ut=this.start,Zt=this.startLoc,ur;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))ur=this.parseAwait(),Lt=!0;else if(this.type.prefix){var _r=this.startNode(),Rr=this.type===yt.incDec;_r.operator=this.value,_r.prefix=!0,this.next(),_r.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(wt,!0),Rr?this.checkLVal(_r.argument):this.strict&&_r.operator==="delete"&&_r.argument.type==="Identifier"?this.raiseRecoverable(_r.start,"Deleting local variable in strict mode"):Lt=!0,ur=this.finishNode(_r,Rr?"UpdateExpression":"UnaryExpression")}else{if(ur=this.parseExprSubscripts(wt),this.checkExpressionErrors(wt))return ur;for(;this.type.postfix&&!this.canInsertSemicolon();){var Gr=this.startNodeAt(Ut,Zt);Gr.operator=this.value,Gr.prefix=!1,Gr.argument=ur,this.checkLVal(ur),this.next(),ur=this.finishNode(Gr,"UpdateExpression")}}return!Lt&&this.eat(yt.starstar)?this.buildBinary(Ut,Zt,ur,this.parseMaybeUnary(null,!1),"**",!1):ur},Ar.parseExprSubscripts=function(wt){var Lt=this.start,Ut=this.startLoc,Zt=this.parseExprAtom(wt);if(Zt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Zt;var ur=this.parseSubscripts(Zt,Lt,Ut);return wt&&ur.type==="MemberExpression"&&(wt.parenthesizedAssign>=ur.start&&(wt.parenthesizedAssign=-1),wt.parenthesizedBind>=ur.start&&(wt.parenthesizedBind=-1)),ur},Ar.parseSubscripts=function(wt,Lt,Ut,Zt){for(var ur=this.options.ecmaVersion>=8&&wt.type==="Identifier"&&wt.name==="async"&&this.lastTokEnd===wt.end&&!this.canInsertSemicolon()&&this.input.slice(wt.start,wt.end)==="async";;){var _r=this.parseSubscript(wt,Lt,Ut,Zt,ur);if(_r===wt||_r.type==="ArrowFunctionExpression")return _r;wt=_r}},Ar.parseSubscript=function(wt,Lt,Ut,Zt,ur){var _r=this.eat(yt.bracketL);if(_r||this.eat(yt.dot)){var Rr=this.startNodeAt(Lt,Ut);Rr.object=wt,Rr.property=_r?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),Rr.computed=!!_r,_r&&this.expect(yt.bracketR),wt=this.finishNode(Rr,"MemberExpression")}else if(!Zt&&this.eat(yt.parenL)){var Gr=new zr,rn=this.yieldPos,kn=this.awaitPos,Wn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ss=this.parseExprList(yt.parenR,this.options.ecmaVersion>=8,!1,Gr);if(ur&&!this.canInsertSemicolon()&&this.eat(yt.arrow))return this.checkPatternErrors(Gr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=rn,this.awaitPos=kn,this.awaitIdentPos=Wn,this.parseArrowExpression(this.startNodeAt(Lt,Ut),ss,!0);this.checkExpressionErrors(Gr,!0),this.yieldPos=rn||this.yieldPos,this.awaitPos=kn||this.awaitPos,this.awaitIdentPos=Wn||this.awaitIdentPos;var os=this.startNodeAt(Lt,Ut);os.callee=wt,os.arguments=ss,wt=this.finishNode(os,"CallExpression")}else if(this.type===yt.backQuote){var as=this.startNodeAt(Lt,Ut);as.tag=wt,as.quasi=this.parseTemplate({isTagged:!0}),wt=this.finishNode(as,"TaggedTemplateExpression")}return wt},Ar.parseExprAtom=function(wt){this.type===yt.slash&&this.readRegexp();var Lt,Ut=this.potentialArrowAt===this.start;switch(this.type){case yt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Lt=this.startNode(),this.next(),this.type===yt.parenL&&!this.allowDirectSuper&&this.raise(Lt.start,"super() call outside constructor of a subclass"),this.type!==yt.dot&&this.type!==yt.bracketL&&this.type!==yt.parenL&&this.unexpected(),this.finishNode(Lt,"Super");case yt._this:return Lt=this.startNode(),this.next(),this.finishNode(Lt,"ThisExpression");case yt.name:var Zt=this.start,ur=this.startLoc,_r=this.containsEsc,Rr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!_r&&Rr.name==="async"&&!this.canInsertSemicolon()&&this.eat(yt._function))return this.parseFunction(this.startNodeAt(Zt,ur),0,!1,!0);if(Ut&&!this.canInsertSemicolon()){if(this.eat(yt.arrow))return this.parseArrowExpression(this.startNodeAt(Zt,ur),[Rr],!1);if(this.options.ecmaVersion>=8&&Rr.name==="async"&&this.type===yt.name&&!_r)return Rr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(yt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Zt,ur),[Rr],!0)}return Rr;case yt.regexp:var Gr=this.value;return Lt=this.parseLiteral(Gr.value),Lt.regex={pattern:Gr.pattern,flags:Gr.flags},Lt;case yt.num:case yt.string:return this.parseLiteral(this.value);case yt._null:case yt._true:case yt._false:return Lt=this.startNode(),Lt.value=this.type===yt._null?null:this.type===yt._true,Lt.raw=this.type.keyword,this.next(),this.finishNode(Lt,"Literal");case yt.parenL:var rn=this.start,kn=this.parseParenAndDistinguishExpression(Ut);return wt&&(wt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(kn)&&(wt.parenthesizedAssign=rn),wt.parenthesizedBind<0&&(wt.parenthesizedBind=rn)),kn;case yt.bracketL:return Lt=this.startNode(),this.next(),Lt.elements=this.parseExprList(yt.bracketR,!0,!0,wt),this.finishNode(Lt,"ArrayExpression");case yt.braceL:return this.parseObj(!1,wt);case yt._function:return Lt=this.startNode(),this.next(),this.parseFunction(Lt,0);case yt._class:return this.parseClass(this.startNode(),!1);case yt._new:return this.parseNew();case yt.backQuote:return this.parseTemplate();case yt._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Ar.parseExprImport=function(){var wt=this.startNode();switch(this.next(),this.type){case yt.parenL:return this.parseDynamicImport(wt);default:this.unexpected()}},Ar.parseDynamicImport=function(wt){if(this.next(),wt.source=this.parseMaybeAssign(),!this.eat(yt.parenR)){var Lt=this.start;this.eat(yt.comma)&&this.eat(yt.parenR)?this.raiseRecoverable(Lt,"Trailing comma is not allowed in import()"):this.unexpected(Lt)}return this.finishNode(wt,"ImportExpression")},Ar.parseLiteral=function(wt){var Lt=this.startNode();return Lt.value=wt,Lt.raw=this.input.slice(this.start,this.end),Lt.raw.charCodeAt(Lt.raw.length-1)===110&&(Lt.bigint=Lt.raw.slice(0,-1)),this.next(),this.finishNode(Lt,"Literal")},Ar.parseParenExpression=function(){this.expect(yt.parenL);var wt=this.parseExpression();return this.expect(yt.parenR),wt},Ar.parseParenAndDistinguishExpression=function(wt){var Lt=this.start,Ut=this.startLoc,Zt,ur=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var _r=this.start,Rr=this.startLoc,Gr=[],rn=!0,kn=!1,Wn=new zr,ss=this.yieldPos,os=this.awaitPos,as;for(this.yieldPos=0,this.awaitPos=0;this.type!==yt.parenR;)if(rn?rn=!1:this.expect(yt.comma),ur&&this.afterTrailingComma(yt.parenR,!0)){kn=!0;break}else if(this.type===yt.ellipsis){as=this.start,Gr.push(this.parseParenItem(this.parseRestBinding())),this.type===yt.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else Gr.push(this.parseMaybeAssign(!1,Wn,this.parseParenItem));var Ms=this.start,vn=this.startLoc;if(this.expect(yt.parenR),wt&&!this.canInsertSemicolon()&&this.eat(yt.arrow))return this.checkPatternErrors(Wn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=ss,this.awaitPos=os,this.parseParenArrowList(Lt,Ut,Gr);(!Gr.length||kn)&&this.unexpected(this.lastTokStart),as&&this.unexpected(as),this.checkExpressionErrors(Wn,!0),this.yieldPos=ss||this.yieldPos,this.awaitPos=os||this.awaitPos,Gr.length>1?(Zt=this.startNodeAt(_r,Rr),Zt.expressions=Gr,this.finishNodeAt(Zt,"SequenceExpression",Ms,vn)):Zt=Gr[0]}else Zt=this.parseParenExpression();if(this.options.preserveParens){var ms=this.startNodeAt(Lt,Ut);return ms.expression=Zt,this.finishNode(ms,"ParenthesizedExpression")}else return Zt},Ar.parseParenItem=function(wt){return wt},Ar.parseParenArrowList=function(wt,Lt,Ut){return this.parseArrowExpression(this.startNodeAt(wt,Lt),Ut)};var Yr=[];Ar.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var wt=this.startNode(),Lt=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(yt.dot)){wt.meta=Lt;var Ut=this.containsEsc;return wt.property=this.parseIdent(!0),(wt.property.name!=="target"||Ut)&&this.raiseRecoverable(wt.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(wt.start,"new.target can only be used in functions"),this.finishNode(wt,"MetaProperty")}var Zt=this.start,ur=this.startLoc,_r=this.type===yt._import;return wt.callee=this.parseSubscripts(this.parseExprAtom(),Zt,ur,!0),_r&&wt.callee.type==="ImportExpression"&&this.raise(Zt,"Cannot use new with import()"),this.eat(yt.parenL)?wt.arguments=this.parseExprList(yt.parenR,this.options.ecmaVersion>=8,!1):wt.arguments=Yr,this.finishNode(wt,"NewExpression")},Ar.parseTemplateElement=function(wt){var Lt=wt.isTagged,Ut=this.startNode();return this.type===yt.invalidTemplate?(Lt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Ut.value={raw:this.value,cooked:null}):Ut.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Ut.tail=this.type===yt.backQuote,this.finishNode(Ut,"TemplateElement")},Ar.parseTemplate=function(wt){wt===void 0&&(wt={});var Lt=wt.isTagged;Lt===void 0&&(Lt=!1);var Ut=this.startNode();this.next(),Ut.expressions=[];var Zt=this.parseTemplateElement({isTagged:Lt});for(Ut.quasis=[Zt];!Zt.tail;)this.type===yt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(yt.dollarBraceL),Ut.expressions.push(this.parseExpression()),this.expect(yt.braceR),Ut.quasis.push(Zt=this.parseTemplateElement({isTagged:Lt}));return this.next(),this.finishNode(Ut,"TemplateLiteral")},Ar.isAsyncProp=function(wt){return!wt.computed&&wt.key.type==="Identifier"&&wt.key.name==="async"&&(this.type===yt.name||this.type===yt.num||this.type===yt.string||this.type===yt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===yt.star)&&!_t.test(this.input.slice(this.lastTokEnd,this.start))},Ar.parseObj=function(wt,Lt){var Ut=this.startNode(),Zt=!0,ur={};for(Ut.properties=[],this.next();!this.eat(yt.braceR);){if(Zt)Zt=!1;else if(this.expect(yt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(yt.braceR))break;var _r=this.parseProperty(wt,Lt);wt||this.checkPropClash(_r,ur,Lt),Ut.properties.push(_r)}return this.finishNode(Ut,wt?"ObjectPattern":"ObjectExpression")},Ar.parseProperty=function(wt,Lt){var Ut=this.startNode(),Zt,ur,_r,Rr;if(this.options.ecmaVersion>=9&&this.eat(yt.ellipsis))return wt?(Ut.argument=this.parseIdent(!1),this.type===yt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Ut,"RestElement")):(this.type===yt.parenL&&Lt&&(Lt.parenthesizedAssign<0&&(Lt.parenthesizedAssign=this.start),Lt.parenthesizedBind<0&&(Lt.parenthesizedBind=this.start)),Ut.argument=this.parseMaybeAssign(!1,Lt),this.type===yt.comma&&Lt&&Lt.trailingComma<0&&(Lt.trailingComma=this.start),this.finishNode(Ut,"SpreadElement"));this.options.ecmaVersion>=6&&(Ut.method=!1,Ut.shorthand=!1,(wt||Lt)&&(_r=this.start,Rr=this.startLoc),wt||(Zt=this.eat(yt.star)));var Gr=this.containsEsc;return this.parsePropertyName(Ut),!wt&&!Gr&&this.options.ecmaVersion>=8&&!Zt&&this.isAsyncProp(Ut)?(ur=!0,Zt=this.options.ecmaVersion>=9&&this.eat(yt.star),this.parsePropertyName(Ut,Lt)):ur=!1,this.parsePropertyValue(Ut,wt,Zt,ur,_r,Rr,Lt,Gr),this.finishNode(Ut,"Property")},Ar.parsePropertyValue=function(wt,Lt,Ut,Zt,ur,_r,Rr,Gr){if((Ut||Zt)&&this.type===yt.colon&&this.unexpected(),this.eat(yt.colon))wt.value=Lt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Rr),wt.kind="init";else if(this.options.ecmaVersion>=6&&this.type===yt.parenL)Lt&&this.unexpected(),wt.kind="init",wt.method=!0,wt.value=this.parseMethod(Ut,Zt);else if(!Lt&&!Gr&&this.options.ecmaVersion>=5&&!wt.computed&&wt.key.type==="Identifier"&&(wt.key.name==="get"||wt.key.name==="set")&&this.type!==yt.comma&&this.type!==yt.braceR){(Ut||Zt)&&this.unexpected(),wt.kind=wt.key.name,this.parsePropertyName(wt),wt.value=this.parseMethod(!1);var rn=wt.kind==="get"?0:1;if(wt.value.params.length!==rn){var kn=wt.value.start;wt.kind==="get"?this.raiseRecoverable(kn,"getter should have no params"):this.raiseRecoverable(kn,"setter should have exactly one param")}else wt.kind==="set"&&wt.value.params[0].type==="RestElement"&&this.raiseRecoverable(wt.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!wt.computed&&wt.key.type==="Identifier"?((Ut||Zt)&&this.unexpected(),this.checkUnreserved(wt.key),wt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ur),wt.kind="init",Lt?wt.value=this.parseMaybeDefault(ur,_r,wt.key):this.type===yt.eq&&Rr?(Rr.shorthandAssign<0&&(Rr.shorthandAssign=this.start),wt.value=this.parseMaybeDefault(ur,_r,wt.key)):wt.value=wt.key,wt.shorthand=!0):this.unexpected()},Ar.parsePropertyName=function(wt){if(this.options.ecmaVersion>=6){if(this.eat(yt.bracketL))return wt.computed=!0,wt.key=this.parseMaybeAssign(),this.expect(yt.bracketR),wt.key;wt.computed=!1}return wt.key=this.type===yt.num||this.type===yt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Ar.initFunction=function(wt){wt.id=null,this.options.ecmaVersion>=6&&(wt.generator=wt.expression=!1),this.options.ecmaVersion>=8&&(wt.async=!1)},Ar.parseMethod=function(wt,Lt,Ut){var Zt=this.startNode(),ur=this.yieldPos,_r=this.awaitPos,Rr=this.awaitIdentPos;return this.initFunction(Zt),this.options.ecmaVersion>=6&&(Zt.generator=wt),this.options.ecmaVersion>=8&&(Zt.async=!!Lt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(dr(Lt,Zt.generator)|Tr|(Ut?Cr:0)),this.expect(yt.parenL),Zt.params=this.parseBindingList(yt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Zt,!1,!0),this.yieldPos=ur,this.awaitPos=_r,this.awaitIdentPos=Rr,this.finishNode(Zt,"FunctionExpression")},Ar.parseArrowExpression=function(wt,Lt,Ut){var Zt=this.yieldPos,ur=this.awaitPos,_r=this.awaitIdentPos;return this.enterScope(dr(Ut,!1)|sr),this.initFunction(wt),this.options.ecmaVersion>=8&&(wt.async=!!Ut),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,wt.params=this.toAssignableList(Lt,!0),this.parseFunctionBody(wt,!0,!1),this.yieldPos=Zt,this.awaitPos=ur,this.awaitIdentPos=_r,this.finishNode(wt,"ArrowFunctionExpression")},Ar.parseFunctionBody=function(wt,Lt,Ut){var Zt=Lt&&this.type!==yt.braceL,ur=this.strict,_r=!1;if(Zt)wt.body=this.parseMaybeAssign(),wt.expression=!0,this.checkParams(wt,!1);else{var Rr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(wt.params);(!ur||Rr)&&(_r=this.strictDirective(this.end),_r&&Rr&&this.raiseRecoverable(wt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Gr=this.labels;this.labels=[],_r&&(this.strict=!0),this.checkParams(wt,!ur&&!_r&&!Lt&&!Ut&&this.isSimpleParamList(wt.params)),wt.body=this.parseBlock(!1),wt.expression=!1,this.adaptDirectivePrologue(wt.body.body),this.labels=Gr}this.exitScope(),this.strict&&wt.id&&this.checkLVal(wt.id,An),this.strict=ur},Ar.isSimpleParamList=function(wt){for(var Lt=0,Ut=wt;Lt<Ut.length;Lt+=1){var Zt=Ut[Lt];if(Zt.type!=="Identifier")return!1}return!0},Ar.checkParams=function(wt,Lt){for(var Ut={},Zt=0,ur=wt.params;Zt<ur.length;Zt+=1){var _r=ur[Zt];this.checkLVal(_r,Jr,Lt?null:Ut)}},Ar.parseExprList=function(wt,Lt,Ut,Zt){for(var ur=[],_r=!0;!this.eat(wt);){if(_r)_r=!1;else if(this.expect(yt.comma),Lt&&this.afterTrailingComma(wt))break;var Rr=void 0;Ut&&this.type===yt.comma?Rr=null:this.type===yt.ellipsis?(Rr=this.parseSpread(Zt),Zt&&this.type===yt.comma&&Zt.trailingComma<0&&(Zt.trailingComma=this.start)):Rr=this.parseMaybeAssign(!1,Zt),ur.push(Rr)}return ur},Ar.checkUnreserved=function(wt){var Lt=wt.start,Ut=wt.end,Zt=wt.name;if(this.inGenerator&&Zt==="yield"&&this.raiseRecoverable(Lt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Zt==="await"&&this.raiseRecoverable(Lt,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Zt)&&this.raise(Lt,"Unexpected keyword '"+Zt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Lt,Ut).indexOf("\\")!==-1)){var ur=this.strict?this.reservedWordsStrict:this.reservedWords;ur.test(Zt)&&(!this.inAsync&&Zt==="await"&&this.raiseRecoverable(Lt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Lt,"The keyword '"+Zt+"' is reserved"))}},Ar.parseIdent=function(wt,Lt){var Ut=this.startNode();return this.type===yt.name?Ut.name=this.value:this.type.keyword?(Ut.name=this.type.keyword,(Ut.name==="class"||Ut.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!wt),this.finishNode(Ut,"Identifier"),wt||(this.checkUnreserved(Ut),Ut.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Ut.start)),Ut},Ar.parseYield=function(wt){this.yieldPos||(this.yieldPos=this.start);var Lt=this.startNode();return this.next(),this.type===yt.semi||this.canInsertSemicolon()||this.type!==yt.star&&!this.type.startsExpr?(Lt.delegate=!1,Lt.argument=null):(Lt.delegate=this.eat(yt.star),Lt.argument=this.parseMaybeAssign(wt)),this.finishNode(Lt,"YieldExpression")},Ar.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var wt=this.startNode();return this.next(),wt.argument=this.parseMaybeUnary(null,!1),this.finishNode(wt,"AwaitExpression")};var un=pn.prototype;un.raise=function(wt,Lt){var Ut=Wt(this.input,wt);Lt+=" ("+Ut.line+":"+Ut.column+")";var Zt=new SyntaxError(Lt);throw Zt.pos=wt,Zt.loc=Ut,Zt.raisedAt=this.pos,Zt},un.raiseRecoverable=un.raise,un.curPosition=function(){if(this.options.locations)return new qt(this.curLine,this.pos-this.lineStart)};var Or=pn.prototype,Xr=function(Lt){this.flags=Lt,this.var=[],this.lexical=[],this.functions=[]};Or.enterScope=function(wt){this.scopeStack.push(new Xr(wt))},Or.exitScope=function(){this.scopeStack.pop()},Or.treatFunctionsAsVarInScope=function(wt){return wt.flags&yr||!this.inModule&&wt.flags&mr},Or.declareName=function(wt,Lt,Ut){var Zt=!1;if(Lt===nn){var ur=this.currentScope();Zt=ur.lexical.indexOf(wt)>-1||ur.functions.indexOf(wt)>-1||ur.var.indexOf(wt)>-1,ur.lexical.push(wt),this.inModule&&ur.flags&mr&&delete this.undefinedExports[wt]}else if(Lt===Vn){var _r=this.currentScope();_r.lexical.push(wt)}else if(Lt===Cn){var Rr=this.currentScope();this.treatFunctionsAsVar?Zt=Rr.lexical.indexOf(wt)>-1:Zt=Rr.lexical.indexOf(wt)>-1||Rr.var.indexOf(wt)>-1,Rr.functions.push(wt)}else for(var Gr=this.scopeStack.length-1;Gr>=0;--Gr){var rn=this.scopeStack[Gr];if(rn.lexical.indexOf(wt)>-1&&!(rn.flags&er&&rn.lexical[0]===wt)||!this.treatFunctionsAsVarInScope(rn)&&rn.functions.indexOf(wt)>-1){Zt=!0;break}if(rn.var.push(wt),this.inModule&&rn.flags&mr&&delete this.undefinedExports[wt],rn.flags&xr)break}Zt&&this.raiseRecoverable(Ut,"Identifier '"+wt+"' has already been declared")},Or.checkLocalExport=function(wt){this.scopeStack[0].lexical.indexOf(wt.name)===-1&&this.scopeStack[0].var.indexOf(wt.name)===-1&&(this.undefinedExports[wt.name]=wt)},Or.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Or.currentVarScope=function(){for(var wt=this.scopeStack.length-1;;wt--){var Lt=this.scopeStack[wt];if(Lt.flags&xr)return Lt}},Or.currentThisScope=function(){for(var wt=this.scopeStack.length-1;;wt--){var Lt=this.scopeStack[wt];if(Lt.flags&xr&&!(Lt.flags&sr))return Lt}};var Ur=function(Lt,Ut,Zt){this.type="",this.start=Ut,this.end=0,Lt.options.locations&&(this.loc=new Gt(Lt,Zt)),Lt.options.directSourceFile&&(this.sourceFile=Lt.options.directSourceFile),Lt.options.ranges&&(this.range=[Ut,0])},Vr=pn.prototype;Vr.startNode=function(){return new Ur(this,this.start,this.startLoc)},Vr.startNodeAt=function(wt,Lt){return new Ur(this,wt,Lt)};function ln(wt,Lt,Ut,Zt){return wt.type=Lt,wt.end=Ut,this.options.locations&&(wt.loc.end=Zt),this.options.ranges&&(wt.range[1]=Ut),wt}Vr.finishNode=function(wt,Lt){return ln.call(this,wt,Lt,this.lastTokEnd,this.lastTokEndLoc)},Vr.finishNodeAt=function(wt,Lt,Ut,Zt){return ln.call(this,wt,Lt,Ut,Zt)};var Er=function(Lt,Ut,Zt,ur,_r){this.token=Lt,this.isExpr=!!Ut,this.preserveSpace=!!Zt,this.override=ur,this.generator=!!_r},dn={b_stat:new Er("{",!1),b_expr:new Er("{",!0),b_tmpl:new Er("${",!1),p_stat:new Er("(",!1),p_expr:new Er("(",!0),q_tmpl:new Er("`",!0,!0,function(wt){return wt.tryReadTemplateToken()}),f_stat:new Er("function",!1),f_expr:new Er("function",!0),f_expr_gen:new Er("function",!0,!1,null,!0),f_gen:new Er("function",!1,!1,null,!0)},bs=pn.prototype;bs.initialContext=function(){return[dn.b_stat]},bs.braceIsBlock=function(wt){var Lt=this.curContext();return Lt===dn.f_expr||Lt===dn.f_stat?!0:wt===yt.colon&&(Lt===dn.b_stat||Lt===dn.b_expr)?!Lt.isExpr:wt===yt._return||wt===yt.name&&this.exprAllowed?_t.test(this.input.slice(this.lastTokEnd,this.start)):wt===yt._else||wt===yt.semi||wt===yt.eof||wt===yt.parenR||wt===yt.arrow?!0:wt===yt.braceL?Lt===dn.b_stat:wt===yt._var||wt===yt._const||wt===yt.name?!1:!this.exprAllowed},bs.inGeneratorContext=function(){for(var wt=this.context.length-1;wt>=1;wt--){var Lt=this.context[wt];if(Lt.token==="function")return Lt.generator}return!1},bs.updateContext=function(wt){var Lt,Ut=this.type;Ut.keyword&&wt===yt.dot?this.exprAllowed=!1:(Lt=Ut.updateContext)?Lt.call(this,wt):this.exprAllowed=Ut.beforeExpr},yt.parenR.updateContext=yt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var wt=this.context.pop();wt===dn.b_stat&&this.curContext().token==="function"&&(wt=this.context.pop()),this.exprAllowed=!wt.isExpr},yt.braceL.updateContext=function(wt){this.context.push(this.braceIsBlock(wt)?dn.b_stat:dn.b_expr),this.exprAllowed=!0},yt.dollarBraceL.updateContext=function(){this.context.push(dn.b_tmpl),this.exprAllowed=!0},yt.parenL.updateContext=function(wt){var Lt=wt===yt._if||wt===yt._for||wt===yt._with||wt===yt._while;this.context.push(Lt?dn.p_stat:dn.p_expr),this.exprAllowed=!0},yt.incDec.updateContext=function(){},yt._function.updateContext=yt._class.updateContext=function(wt){wt.beforeExpr&&wt!==yt.semi&&wt!==yt._else&&!(wt===yt._return&&_t.test(this.input.slice(this.lastTokEnd,this.start)))&&!((wt===yt.colon||wt===yt.braceL)&&this.curContext()===dn.b_stat)?this.context.push(dn.f_expr):this.context.push(dn.f_stat),this.exprAllowed=!1},yt.backQuote.updateContext=function(){this.curContext()===dn.q_tmpl?this.context.pop():this.context.push(dn.q_tmpl),this.exprAllowed=!1},yt.star.updateContext=function(wt){if(wt===yt._function){var Lt=this.context.length-1;this.context[Lt]===dn.f_expr?this.context[Lt]=dn.f_expr_gen:this.context[Lt]=dn.f_gen}this.exprAllowed=!0},yt.name.updateContext=function(wt){var Lt=!1;this.options.ecmaVersion>=6&&wt!==yt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Lt=!0),this.exprAllowed=Lt};var Ss="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Yn=Ss+" Extended_Pictographic",Xn=Yn,Ds={9:Ss,10:Yn,11:Xn},es="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Cs="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Is=Cs+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Bs=Is+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",cs={9:Cs,10:Is,11:Bs},hs={};function Ns(wt){var Lt=hs[wt]={binary:zt(Ds[wt]+" "+es),nonBinary:{General_Category:zt(es),Script:zt(cs[wt])}};Lt.nonBinary.Script_Extensions=Lt.nonBinary.Script,Lt.nonBinary.gc=Lt.nonBinary.General_Category,Lt.nonBinary.sc=Lt.nonBinary.Script,Lt.nonBinary.scx=Lt.nonBinary.Script_Extensions}Ns(9),Ns(10),Ns(11);var sn=pn.prototype,ds=function(Lt){this.parser=Lt,this.validFlags="gim"+(Lt.options.ecmaVersion>=6?"uy":"")+(Lt.options.ecmaVersion>=9?"s":""),this.unicodeProperties=hs[Lt.options.ecmaVersion>=11?11:Lt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};ds.prototype.reset=function(Lt,Ut,Zt){var ur=Zt.indexOf("u")!==-1;this.start=Lt|0,this.source=Ut+"",this.flags=Zt,this.switchU=ur&&this.parser.options.ecmaVersion>=6,this.switchN=ur&&this.parser.options.ecmaVersion>=9},ds.prototype.raise=function(Lt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Lt)},ds.prototype.at=function(Lt){var Ut=this.source,Zt=Ut.length;if(Lt>=Zt)return-1;var ur=Ut.charCodeAt(Lt);if(!this.switchU||ur<=55295||ur>=57344||Lt+1>=Zt)return ur;var _r=Ut.charCodeAt(Lt+1);return _r>=56320&&_r<=57343?(ur<<10)+_r-56613888:ur},ds.prototype.nextIndex=function(Lt){var Ut=this.source,Zt=Ut.length;if(Lt>=Zt)return Zt;var ur=Ut.charCodeAt(Lt),_r;return!this.switchU||ur<=55295||ur>=57344||Lt+1>=Zt||(_r=Ut.charCodeAt(Lt+1))<56320||_r>57343?Lt+1:Lt+2},ds.prototype.current=function(){return this.at(this.pos)},ds.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},ds.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},ds.prototype.eat=function(Lt){return this.current()===Lt?(this.advance(),!0):!1};function zs(wt){return wt<=65535?String.fromCharCode(wt):(wt-=65536,String.fromCharCode((wt>>10)+55296,(wt&1023)+56320))}sn.validateRegExpFlags=function(wt){for(var Lt=wt.validFlags,Ut=wt.flags,Zt=0;Zt<Ut.length;Zt++){var ur=Ut.charAt(Zt);Lt.indexOf(ur)===-1&&this.raise(wt.start,"Invalid regular expression flag"),Ut.indexOf(ur,Zt+1)>-1&&this.raise(wt.start,"Duplicate regular expression flag")}},sn.validateRegExpPattern=function(wt){this.regexp_pattern(wt),!wt.switchN&&this.options.ecmaVersion>=9&&wt.groupNames.length>0&&(wt.switchN=!0,this.regexp_pattern(wt))},sn.regexp_pattern=function(wt){wt.pos=0,wt.lastIntValue=0,wt.lastStringValue="",wt.lastAssertionIsQuantifiable=!1,wt.numCapturingParens=0,wt.maxBackReference=0,wt.groupNames.length=0,wt.backReferenceNames.length=0,this.regexp_disjunction(wt),wt.pos!==wt.source.length&&(wt.eat(41)&&wt.raise("Unmatched ')'"),(wt.eat(93)||wt.eat(125))&&wt.raise("Lone quantifier brackets")),wt.maxBackReference>wt.numCapturingParens&&wt.raise("Invalid escape");for(var Lt=0,Ut=wt.backReferenceNames;Lt<Ut.length;Lt+=1){var Zt=Ut[Lt];wt.groupNames.indexOf(Zt)===-1&&wt.raise("Invalid named capture referenced")}},sn.regexp_disjunction=function(wt){for(this.regexp_alternative(wt);wt.eat(124);)this.regexp_alternative(wt);this.regexp_eatQuantifier(wt,!0)&&wt.raise("Nothing to repeat"),wt.eat(123)&&wt.raise("Lone quantifier brackets")},sn.regexp_alternative=function(wt){for(;wt.pos<wt.source.length&&this.regexp_eatTerm(wt););},sn.regexp_eatTerm=function(wt){return this.regexp_eatAssertion(wt)?(wt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(wt)&&wt.switchU&&wt.raise("Invalid quantifier"),!0):(wt.switchU?this.regexp_eatAtom(wt):this.regexp_eatExtendedAtom(wt))?(this.regexp_eatQuantifier(wt),!0):!1},sn.regexp_eatAssertion=function(wt){var Lt=wt.pos;if(wt.lastAssertionIsQuantifiable=!1,wt.eat(94)||wt.eat(36))return!0;if(wt.eat(92)){if(wt.eat(66)||wt.eat(98))return!0;wt.pos=Lt}if(wt.eat(40)&&wt.eat(63)){var Ut=!1;if(this.options.ecmaVersion>=9&&(Ut=wt.eat(60)),wt.eat(61)||wt.eat(33))return this.regexp_disjunction(wt),wt.eat(41)||wt.raise("Unterminated group"),wt.lastAssertionIsQuantifiable=!Ut,!0}return wt.pos=Lt,!1},sn.regexp_eatQuantifier=function(wt,Lt){return Lt===void 0&&(Lt=!1),this.regexp_eatQuantifierPrefix(wt,Lt)?(wt.eat(63),!0):!1},sn.regexp_eatQuantifierPrefix=function(wt,Lt){return wt.eat(42)||wt.eat(43)||wt.eat(63)||this.regexp_eatBracedQuantifier(wt,Lt)},sn.regexp_eatBracedQuantifier=function(wt,Lt){var Ut=wt.pos;if(wt.eat(123)){var Zt=0,ur=-1;if(this.regexp_eatDecimalDigits(wt)&&(Zt=wt.lastIntValue,wt.eat(44)&&this.regexp_eatDecimalDigits(wt)&&(ur=wt.lastIntValue),wt.eat(125)))return ur!==-1&&ur<Zt&&!Lt&&wt.raise("numbers out of order in {} quantifier"),!0;wt.switchU&&!Lt&&wt.raise("Incomplete quantifier"),wt.pos=Ut}return!1},sn.regexp_eatAtom=function(wt){return this.regexp_eatPatternCharacters(wt)||wt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(wt)||this.regexp_eatCharacterClass(wt)||this.regexp_eatUncapturingGroup(wt)||this.regexp_eatCapturingGroup(wt)},sn.regexp_eatReverseSolidusAtomEscape=function(wt){var Lt=wt.pos;if(wt.eat(92)){if(this.regexp_eatAtomEscape(wt))return!0;wt.pos=Lt}return!1},sn.regexp_eatUncapturingGroup=function(wt){var Lt=wt.pos;if(wt.eat(40)){if(wt.eat(63)&&wt.eat(58)){if(this.regexp_disjunction(wt),wt.eat(41))return!0;wt.raise("Unterminated group")}wt.pos=Lt}return!1},sn.regexp_eatCapturingGroup=function(wt){if(wt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(wt):wt.current()===63&&wt.raise("Invalid group"),this.regexp_disjunction(wt),wt.eat(41))return wt.numCapturingParens+=1,!0;wt.raise("Unterminated group")}return!1},sn.regexp_eatExtendedAtom=function(wt){return wt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(wt)||this.regexp_eatCharacterClass(wt)||this.regexp_eatUncapturingGroup(wt)||this.regexp_eatCapturingGroup(wt)||this.regexp_eatInvalidBracedQuantifier(wt)||this.regexp_eatExtendedPatternCharacter(wt)},sn.regexp_eatInvalidBracedQuantifier=function(wt){return this.regexp_eatBracedQuantifier(wt,!0)&&wt.raise("Nothing to repeat"),!1},sn.regexp_eatSyntaxCharacter=function(wt){var Lt=wt.current();return ks(Lt)?(wt.lastIntValue=Lt,wt.advance(),!0):!1};function ks(wt){return wt===36||wt>=40&&wt<=43||wt===46||wt===63||wt>=91&&wt<=94||wt>=123&&wt<=125}sn.regexp_eatPatternCharacters=function(wt){for(var Lt=wt.pos,Ut=0;(Ut=wt.current())!==-1&&!ks(Ut);)wt.advance();return wt.pos!==Lt},sn.regexp_eatExtendedPatternCharacter=function(wt){var Lt=wt.current();return Lt!==-1&&Lt!==36&&!(Lt>=40&&Lt<=43)&&Lt!==46&&Lt!==63&&Lt!==91&&Lt!==94&&Lt!==124?(wt.advance(),!0):!1},sn.regexp_groupSpecifier=function(wt){if(wt.eat(63)){if(this.regexp_eatGroupName(wt)){wt.groupNames.indexOf(wt.lastStringValue)!==-1&&wt.raise("Duplicate capture group name"),wt.groupNames.push(wt.lastStringValue);return}wt.raise("Invalid group")}},sn.regexp_eatGroupName=function(wt){if(wt.lastStringValue="",wt.eat(60)){if(this.regexp_eatRegExpIdentifierName(wt)&&wt.eat(62))return!0;wt.raise("Invalid capture group name")}return!1},sn.regexp_eatRegExpIdentifierName=function(wt){if(wt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(wt)){for(wt.lastStringValue+=zs(wt.lastIntValue);this.regexp_eatRegExpIdentifierPart(wt);)wt.lastStringValue+=zs(wt.lastIntValue);return!0}return!1},sn.regexp_eatRegExpIdentifierStart=function(wt){var Lt=wt.pos,Ut=wt.current();return wt.advance(),Ut===92&&this.regexp_eatRegExpUnicodeEscapeSequence(wt)&&(Ut=wt.lastIntValue),rs(Ut)?(wt.lastIntValue=Ut,!0):(wt.pos=Lt,!1)};function rs(wt){return ht(wt,!0)||wt===36||wt===95}sn.regexp_eatRegExpIdentifierPart=function(wt){var Lt=wt.pos,Ut=wt.current();return wt.advance(),Ut===92&&this.regexp_eatRegExpUnicodeEscapeSequence(wt)&&(Ut=wt.lastIntValue),qs(Ut)?(wt.lastIntValue=Ut,!0):(wt.pos=Lt,!1)};function qs(wt){return ut(wt,!0)||wt===36||wt===95||wt===8204||wt===8205}sn.regexp_eatAtomEscape=function(wt){return this.regexp_eatBackReference(wt)||this.regexp_eatCharacterClassEscape(wt)||this.regexp_eatCharacterEscape(wt)||wt.switchN&&this.regexp_eatKGroupName(wt)?!0:(wt.switchU&&(wt.current()===99&&wt.raise("Invalid unicode escape"),wt.raise("Invalid escape")),!1)},sn.regexp_eatBackReference=function(wt){var Lt=wt.pos;if(this.regexp_eatDecimalEscape(wt)){var Ut=wt.lastIntValue;if(wt.switchU)return Ut>wt.maxBackReference&&(wt.maxBackReference=Ut),!0;if(Ut<=wt.numCapturingParens)return!0;wt.pos=Lt}return!1},sn.regexp_eatKGroupName=function(wt){if(wt.eat(107)){if(this.regexp_eatGroupName(wt))return wt.backReferenceNames.push(wt.lastStringValue),!0;wt.raise("Invalid named reference")}return!1},sn.regexp_eatCharacterEscape=function(wt){return this.regexp_eatControlEscape(wt)||this.regexp_eatCControlLetter(wt)||this.regexp_eatZero(wt)||this.regexp_eatHexEscapeSequence(wt)||this.regexp_eatRegExpUnicodeEscapeSequence(wt)||!wt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(wt)||this.regexp_eatIdentityEscape(wt)},sn.regexp_eatCControlLetter=function(wt){var Lt=wt.pos;if(wt.eat(99)){if(this.regexp_eatControlLetter(wt))return!0;wt.pos=Lt}return!1},sn.regexp_eatZero=function(wt){return wt.current()===48&&!$s(wt.lookahead())?(wt.lastIntValue=0,wt.advance(),!0):!1},sn.regexp_eatControlEscape=function(wt){var Lt=wt.current();return Lt===116?(wt.lastIntValue=9,wt.advance(),!0):Lt===110?(wt.lastIntValue=10,wt.advance(),!0):Lt===118?(wt.lastIntValue=11,wt.advance(),!0):Lt===102?(wt.lastIntValue=12,wt.advance(),!0):Lt===114?(wt.lastIntValue=13,wt.advance(),!0):!1},sn.regexp_eatControlLetter=function(wt){var Lt=wt.current();return js(Lt)?(wt.lastIntValue=Lt%32,wt.advance(),!0):!1};function js(wt){return wt>=65&&wt<=90||wt>=97&&wt<=122}sn.regexp_eatRegExpUnicodeEscapeSequence=function(wt){var Lt=wt.pos;if(wt.eat(117)){if(this.regexp_eatFixedHexDigits(wt,4)){var Ut=wt.lastIntValue;if(wt.switchU&&Ut>=55296&&Ut<=56319){var Zt=wt.pos;if(wt.eat(92)&&wt.eat(117)&&this.regexp_eatFixedHexDigits(wt,4)){var ur=wt.lastIntValue;if(ur>=56320&&ur<=57343)return wt.lastIntValue=(Ut-55296)*1024+(ur-56320)+65536,!0}wt.pos=Zt,wt.lastIntValue=Ut}return!0}if(wt.switchU&&wt.eat(123)&&this.regexp_eatHexDigits(wt)&&wt.eat(125)&&Qs(wt.lastIntValue))return!0;wt.switchU&&wt.raise("Invalid unicode escape"),wt.pos=Lt}return!1};function Qs(wt){return wt>=0&&wt<=1114111}sn.regexp_eatIdentityEscape=function(wt){if(wt.switchU)return this.regexp_eatSyntaxCharacter(wt)?!0:wt.eat(47)?(wt.lastIntValue=47,!0):!1;var Lt=wt.current();return Lt!==99&&(!wt.switchN||Lt!==107)?(wt.lastIntValue=Lt,wt.advance(),!0):!1},sn.regexp_eatDecimalEscape=function(wt){wt.lastIntValue=0;var Lt=wt.current();if(Lt>=49&&Lt<=57){do wt.lastIntValue=10*wt.lastIntValue+(Lt-48),wt.advance();while((Lt=wt.current())>=48&&Lt<=57);return!0}return!1},sn.regexp_eatCharacterClassEscape=function(wt){var Lt=wt.current();if(Zs(Lt))return wt.lastIntValue=-1,wt.advance(),!0;if(wt.switchU&&this.options.ecmaVersion>=9&&(Lt===80||Lt===112)){if(wt.lastIntValue=-1,wt.advance(),wt.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(wt)&&wt.eat(125))return!0;wt.raise("Invalid property name")}return!1};function Zs(wt){return wt===100||wt===68||wt===115||wt===83||wt===119||wt===87}sn.regexp_eatUnicodePropertyValueExpression=function(wt){var Lt=wt.pos;if(this.regexp_eatUnicodePropertyName(wt)&&wt.eat(61)){var Ut=wt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(wt)){var Zt=wt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(wt,Ut,Zt),!0}}if(wt.pos=Lt,this.regexp_eatLoneUnicodePropertyNameOrValue(wt)){var ur=wt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(wt,ur),!0}return!1},sn.regexp_validateUnicodePropertyNameAndValue=function(wt,Lt,Ut){Pt(wt.unicodeProperties.nonBinary,Lt)||wt.raise("Invalid property name"),wt.unicodeProperties.nonBinary[Lt].test(Ut)||wt.raise("Invalid property value")},sn.regexp_validateUnicodePropertyNameOrValue=function(wt,Lt){wt.unicodeProperties.binary.test(Lt)||wt.raise("Invalid property name")},sn.regexp_eatUnicodePropertyName=function(wt){var Lt=0;for(wt.lastStringValue="";Us(Lt=wt.current());)wt.lastStringValue+=zs(Lt),wt.advance();return wt.lastStringValue!==""};function Us(wt){return js(wt)||wt===95}sn.regexp_eatUnicodePropertyValue=function(wt){var Lt=0;for(wt.lastStringValue="";fs(Lt=wt.current());)wt.lastStringValue+=zs(Lt),wt.advance();return wt.lastStringValue!==""};function fs(wt){return Us(wt)||$s(wt)}sn.regexp_eatLoneUnicodePropertyNameOrValue=function(wt){return this.regexp_eatUnicodePropertyValue(wt)},sn.regexp_eatCharacterClass=function(wt){if(wt.eat(91)){if(wt.eat(94),this.regexp_classRanges(wt),wt.eat(93))return!0;wt.raise("Unterminated character class")}return!1},sn.regexp_classRanges=function(wt){for(;this.regexp_eatClassAtom(wt);){var Lt=wt.lastIntValue;if(wt.eat(45)&&this.regexp_eatClassAtom(wt)){var Ut=wt.lastIntValue;wt.switchU&&(Lt===-1||Ut===-1)&&wt.raise("Invalid character class"),Lt!==-1&&Ut!==-1&&Lt>Ut&&wt.raise("Range out of order in character class")}}},sn.regexp_eatClassAtom=function(wt){var Lt=wt.pos;if(wt.eat(92)){if(this.regexp_eatClassEscape(wt))return!0;if(wt.switchU){var Ut=wt.current();(Ut===99||Ws(Ut))&&wt.raise("Invalid class escape"),wt.raise("Invalid escape")}wt.pos=Lt}var Zt=wt.current();return Zt!==93?(wt.lastIntValue=Zt,wt.advance(),!0):!1},sn.regexp_eatClassEscape=function(wt){var Lt=wt.pos;if(wt.eat(98))return wt.lastIntValue=8,!0;if(wt.switchU&&wt.eat(45))return wt.lastIntValue=45,!0;if(!wt.switchU&&wt.eat(99)){if(this.regexp_eatClassControlLetter(wt))return!0;wt.pos=Lt}return this.regexp_eatCharacterClassEscape(wt)||this.regexp_eatCharacterEscape(wt)},sn.regexp_eatClassControlLetter=function(wt){var Lt=wt.current();return $s(Lt)||Lt===95?(wt.lastIntValue=Lt%32,wt.advance(),!0):!1},sn.regexp_eatHexEscapeSequence=function(wt){var Lt=wt.pos;if(wt.eat(120)){if(this.regexp_eatFixedHexDigits(wt,2))return!0;wt.switchU&&wt.raise("Invalid escape"),wt.pos=Lt}return!1},sn.regexp_eatDecimalDigits=function(wt){var Lt=wt.pos,Ut=0;for(wt.lastIntValue=0;$s(Ut=wt.current());)wt.lastIntValue=10*wt.lastIntValue+(Ut-48),wt.advance();return wt.pos!==Lt};function $s(wt){return wt>=48&&wt<=57}sn.regexp_eatHexDigits=function(wt){var Lt=wt.pos,Ut=0;for(wt.lastIntValue=0;Rs(Ut=wt.current());)wt.lastIntValue=16*wt.lastIntValue+ws(Ut),wt.advance();return wt.pos!==Lt};function Rs(wt){return wt>=48&&wt<=57||wt>=65&&wt<=70||wt>=97&&wt<=102}function ws(wt){return wt>=65&&wt<=70?10+(wt-65):wt>=97&&wt<=102?10+(wt-97):wt-48}sn.regexp_eatLegacyOctalEscapeSequence=function(wt){if(this.regexp_eatOctalDigit(wt)){var Lt=wt.lastIntValue;if(this.regexp_eatOctalDigit(wt)){var Ut=wt.lastIntValue;Lt<=3&&this.regexp_eatOctalDigit(wt)?wt.lastIntValue=Lt*64+Ut*8+wt.lastIntValue:wt.lastIntValue=Lt*8+Ut}else wt.lastIntValue=Lt;return!0}return!1},sn.regexp_eatOctalDigit=function(wt){var Lt=wt.current();return Ws(Lt)?(wt.lastIntValue=Lt-48,wt.advance(),!0):(wt.lastIntValue=0,!1)};function Ws(wt){return wt>=48&&wt<=55}sn.regexp_eatFixedHexDigits=function(wt,Lt){var Ut=wt.pos;wt.lastIntValue=0;for(var Zt=0;Zt<Lt;++Zt){var ur=wt.current();if(!Rs(ur))return wt.pos=Ut,!1;wt.lastIntValue=16*wt.lastIntValue+ws(ur),wt.advance()}return!0};var ps=function(Lt){this.type=Lt.type,this.value=Lt.value,this.start=Lt.start,this.end=Lt.end,Lt.options.locations&&(this.loc=new Gt(Lt,Lt.startLoc,Lt.endLoc)),Lt.options.ranges&&(this.range=[Lt.start,Lt.end])},yn=pn.prototype;yn.next=function(wt){!wt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ps(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},yn.getToken=function(){return this.next(),new ps(this)},typeof Symbol<"u"&&(yn[Symbol.iterator]=function(){var wt=this;return{next:function(){var Lt=wt.getToken();return{done:Lt.type===yt.eof,value:Lt}}}}),yn.curContext=function(){return this.context[this.context.length-1]},yn.nextToken=function(){var wt=this.curContext();if((!wt||!wt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(yt.eof);if(wt.override)return wt.override(this);this.readToken(this.fullCharCodeAtPos())},yn.readToken=function(wt){return ht(wt,this.options.ecmaVersion>=6)||wt===92?this.readWord():this.getTokenFromCode(wt)},yn.fullCharCodeAtPos=function(){var wt=this.input.charCodeAt(this.pos);if(wt<=55295||wt>=57344)return wt;var Lt=this.input.charCodeAt(this.pos+1);return(wt<<10)+Lt-56613888},yn.skipBlockComment=function(){var wt=this.options.onComment&&this.curPosition(),Lt=this.pos,Ut=this.input.indexOf("*/",this.pos+=2);if(Ut===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Ut+2,this.options.locations){kt.lastIndex=Lt;for(var Zt;(Zt=kt.exec(this.input))&&Zt.index<this.pos;)++this.curLine,this.lineStart=Zt.index+Zt[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(Lt+2,Ut),Lt,this.pos,wt,this.curPosition())},yn.skipLineComment=function(wt){for(var Lt=this.pos,Ut=this.options.onComment&&this.curPosition(),Zt=this.input.charCodeAt(this.pos+=wt);this.pos<this.input.length&&!Et(Zt);)Zt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Lt+wt,this.pos),Lt,this.pos,Ut,this.curPosition())},yn.skipSpace=function(){e:for(;this.pos<this.input.length;){var wt=this.input.charCodeAt(this.pos);switch(wt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(wt>8&&wt<14||wt>=5760&&$t.test(String.fromCharCode(wt)))++this.pos;else break e}}},yn.finishToken=function(wt,Lt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Ut=this.type;this.type=wt,this.value=Lt,this.updateContext(Ut)},yn.readToken_dot=function(){var wt=this.input.charCodeAt(this.pos+1);if(wt>=48&&wt<=57)return this.readNumber(!0);var Lt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&wt===46&&Lt===46?(this.pos+=3,this.finishToken(yt.ellipsis)):(++this.pos,this.finishToken(yt.dot))},yn.readToken_slash=function(){var wt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):wt===61?this.finishOp(yt.assign,2):this.finishOp(yt.slash,1)},yn.readToken_mult_modulo_exp=function(wt){var Lt=this.input.charCodeAt(this.pos+1),Ut=1,Zt=wt===42?yt.star:yt.modulo;return this.options.ecmaVersion>=7&&wt===42&&Lt===42&&(++Ut,Zt=yt.starstar,Lt=this.input.charCodeAt(this.pos+2)),Lt===61?this.finishOp(yt.assign,Ut+1):this.finishOp(Zt,Ut)},yn.readToken_pipe_amp=function(wt){var Lt=this.input.charCodeAt(this.pos+1);return Lt===wt?this.finishOp(wt===124?yt.logicalOR:yt.logicalAND,2):Lt===61?this.finishOp(yt.assign,2):this.finishOp(wt===124?yt.bitwiseOR:yt.bitwiseAND,1)},yn.readToken_caret=function(){var wt=this.input.charCodeAt(this.pos+1);return wt===61?this.finishOp(yt.assign,2):this.finishOp(yt.bitwiseXOR,1)},yn.readToken_plus_min=function(wt){var Lt=this.input.charCodeAt(this.pos+1);return Lt===wt?Lt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||_t.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(yt.incDec,2):Lt===61?this.finishOp(yt.assign,2):this.finishOp(yt.plusMin,1)},yn.readToken_lt_gt=function(wt){var Lt=this.input.charCodeAt(this.pos+1),Ut=1;return Lt===wt?(Ut=wt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Ut)===61?this.finishOp(yt.assign,Ut+1):this.finishOp(yt.bitShift,Ut)):Lt===33&&wt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Lt===61&&(Ut=2),this.finishOp(yt.relational,Ut))},yn.readToken_eq_excl=function(wt){var Lt=this.input.charCodeAt(this.pos+1);return Lt===61?this.finishOp(yt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):wt===61&&Lt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(yt.arrow)):this.finishOp(wt===61?yt.eq:yt.prefix,1)},yn.getTokenFromCode=function(wt){switch(wt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(yt.parenL);case 41:return++this.pos,this.finishToken(yt.parenR);case 59:return++this.pos,this.finishToken(yt.semi);case 44:return++this.pos,this.finishToken(yt.comma);case 91:return++this.pos,this.finishToken(yt.bracketL);case 93:return++this.pos,this.finishToken(yt.bracketR);case 123:return++this.pos,this.finishToken(yt.braceL);case 125:return++this.pos,this.finishToken(yt.braceR);case 58:return++this.pos,this.finishToken(yt.colon);case 63:return++this.pos,this.finishToken(yt.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(yt.backQuote);case 48:var Lt=this.input.charCodeAt(this.pos+1);if(Lt===120||Lt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Lt===111||Lt===79)return this.readRadixNumber(8);if(Lt===98||Lt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(wt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(wt);case 124:case 38:return this.readToken_pipe_amp(wt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(wt);case 60:case 62:return this.readToken_lt_gt(wt);case 61:case 33:return this.readToken_eq_excl(wt);case 126:return this.finishOp(yt.prefix,1)}this.raise(this.pos,"Unexpected character '"+Qr(wt)+"'")},yn.finishOp=function(wt,Lt){var Ut=this.input.slice(this.pos,this.pos+Lt);return this.pos+=Lt,this.finishToken(wt,Ut)},yn.readRegexp=function(){for(var wt,Lt,Ut=this.pos;;){this.pos>=this.input.length&&this.raise(Ut,"Unterminated regular expression");var Zt=this.input.charAt(this.pos);if(_t.test(Zt)&&this.raise(Ut,"Unterminated regular expression"),wt)wt=!1;else{if(Zt==="[")Lt=!0;else if(Zt==="]"&&Lt)Lt=!1;else if(Zt==="/"&&!Lt)break;wt=Zt==="\\"}++this.pos}var ur=this.input.slice(Ut,this.pos);++this.pos;var _r=this.pos,Rr=this.readWord1();this.containsEsc&&this.unexpected(_r);var Gr=this.regexpState||(this.regexpState=new ds(this));Gr.reset(Ut,ur,Rr),this.validateRegExpFlags(Gr),this.validateRegExpPattern(Gr);var rn=null;try{rn=new RegExp(ur,Rr)}catch{}return this.finishToken(yt.regexp,{pattern:ur,flags:Rr,value:rn})},yn.readInt=function(wt,Lt){for(var Ut=this.pos,Zt=0,ur=0,_r=Lt??1/0;ur<_r;++ur){var Rr=this.input.charCodeAt(this.pos),Gr=void 0;if(Rr>=97?Gr=Rr-97+10:Rr>=65?Gr=Rr-65+10:Rr>=48&&Rr<=57?Gr=Rr-48:Gr=1/0,Gr>=wt)break;++this.pos,Zt=Zt*wt+Gr}return this.pos===Ut||Lt!=null&&this.pos-Ut!==Lt?null:Zt},yn.readRadixNumber=function(wt){var Lt=this.pos;this.pos+=2;var Ut=this.readInt(wt);return Ut==null&&this.raise(this.start+2,"Expected number in radix "+wt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Ut=typeof BigInt<"u"?BigInt(this.input.slice(Lt,this.pos)):null,++this.pos):ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(yt.num,Ut)},yn.readNumber=function(wt){var Lt=this.pos;!wt&&this.readInt(10)===null&&this.raise(Lt,"Invalid number");var Ut=this.pos-Lt>=2&&this.input.charCodeAt(Lt)===48;Ut&&this.strict&&this.raise(Lt,"Invalid number");var Zt=this.input.charCodeAt(this.pos);if(!Ut&&!wt&&this.options.ecmaVersion>=11&&Zt===110){var ur=this.input.slice(Lt,this.pos),_r=typeof BigInt<"u"?BigInt(ur):null;return++this.pos,ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(yt.num,_r)}Ut&&/[89]/.test(this.input.slice(Lt,this.pos))&&(Ut=!1),Zt===46&&!Ut&&(++this.pos,this.readInt(10),Zt=this.input.charCodeAt(this.pos)),(Zt===69||Zt===101)&&!Ut&&(Zt=this.input.charCodeAt(++this.pos),(Zt===43||Zt===45)&&++this.pos,this.readInt(10)===null&&this.raise(Lt,"Invalid number")),ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Rr=this.input.slice(Lt,this.pos),Gr=Ut?parseInt(Rr,8):parseFloat(Rr);return this.finishToken(yt.num,Gr)},yn.readCodePoint=function(){var wt=this.input.charCodeAt(this.pos),Lt;if(wt===123){this.options.ecmaVersion<6&&this.unexpected();var Ut=++this.pos;Lt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Lt>1114111&&this.invalidStringToken(Ut,"Code point out of bounds")}else Lt=this.readHexChar(4);return Lt};function Qr(wt){return wt<=65535?String.fromCharCode(wt):(wt-=65536,String.fromCharCode((wt>>10)+55296,(wt&1023)+56320))}yn.readString=function(wt){for(var Lt="",Ut=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Zt=this.input.charCodeAt(this.pos);if(Zt===wt)break;Zt===92?(Lt+=this.input.slice(Ut,this.pos),Lt+=this.readEscapedChar(!1),Ut=this.pos):(Et(Zt,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Lt+=this.input.slice(Ut,this.pos++),this.finishToken(yt.string,Lt)};var Kr={};yn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(wt){if(wt===Kr)this.readInvalidTemplateToken();else throw wt}this.inTemplateElement=!1},yn.invalidStringToken=function(wt,Lt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Kr;this.raise(wt,Lt)},yn.readTmplToken=function(){for(var wt="",Lt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Ut=this.input.charCodeAt(this.pos);if(Ut===96||Ut===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===yt.template||this.type===yt.invalidTemplate)?Ut===36?(this.pos+=2,this.finishToken(yt.dollarBraceL)):(++this.pos,this.finishToken(yt.backQuote)):(wt+=this.input.slice(Lt,this.pos),this.finishToken(yt.template,wt));if(Ut===92)wt+=this.input.slice(Lt,this.pos),wt+=this.readEscapedChar(!0),Lt=this.pos;else if(Et(Ut)){switch(wt+=this.input.slice(Lt,this.pos),++this.pos,Ut){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:wt+=`
`;break;default:wt+=String.fromCharCode(Ut);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Lt=this.pos}else++this.pos}},yn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(yt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},yn.readEscapedChar=function(wt){var Lt=this.input.charCodeAt(++this.pos);switch(++this.pos,Lt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Qr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(wt){var Ut=this.pos-1;return this.invalidStringToken(Ut,"Invalid escape sequence in template string"),null}default:if(Lt>=48&&Lt<=55){var Zt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],ur=parseInt(Zt,8);return ur>255&&(Zt=Zt.slice(0,-1),ur=parseInt(Zt,8)),this.pos+=Zt.length-1,Lt=this.input.charCodeAt(this.pos),(Zt!=="0"||Lt===56||Lt===57)&&(this.strict||wt)&&this.invalidStringToken(this.pos-1-Zt.length,wt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(ur)}return Et(Lt)?"":String.fromCharCode(Lt)}},yn.readHexChar=function(wt){var Lt=this.pos,Ut=this.readInt(16,wt);return Ut===null&&this.invalidStringToken(Lt,"Bad character escape sequence"),Ut},yn.readWord1=function(){this.containsEsc=!1;for(var wt="",Lt=!0,Ut=this.pos,Zt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ur=this.fullCharCodeAtPos();if(ut(ur,Zt))this.pos+=ur<=65535?1:2;else if(ur===92){this.containsEsc=!0,wt+=this.input.slice(Ut,this.pos);var _r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Rr=this.readCodePoint();(Lt?ht:ut)(Rr,Zt)||this.invalidStringToken(_r,"Invalid Unicode escape"),wt+=Qr(Rr),Ut=this.pos}else break;Lt=!1}return wt+this.input.slice(Ut,this.pos)},yn.readWord=function(){var wt=this.readWord1(),Lt=yt.name;return this.keywords.test(wt)&&(Lt=St[wt]),this.finishToken(Lt,wt)};var Qn="7.1.0";pn.acorn={Parser:pn,version:Qn,defaultOptions:Xt,Position:qt,SourceLocation:Gt,getLineInfo:Wt,Node:Ur,TokenType:dt,tokTypes:yt,keywordTypes:St,TokContext:Er,tokContexts:dn,isIdentifierChar:ut,isIdentifierStart:ht,Token:ps,isNewLine:Et,lineBreak:_t,lineBreakG:kt,nonASCIIwhitespace:$t};function ns(wt,Lt){return pn.parse(wt,Lt)}function po(wt,Lt,Ut){return pn.parseExpressionAt(wt,Lt,Ut)}function Js(wt,Lt){return pn.tokenizer(wt,Lt)}_e.Node=Ur,_e.Parser=pn,_e.Position=qt,_e.SourceLocation=Gt,_e.TokContext=Er,_e.Token=ps,_e.TokenType=dt,_e.defaultOptions=Xt,_e.getLineInfo=Wt,_e.isIdentifierChar=ut,_e.isIdentifierStart=ht,_e.isNewLine=Et,_e.keywordTypes=St,_e.lineBreak=_t,_e.lineBreakG=kt,_e.nonASCIIwhitespace=$t,_e.parse=ns,_e.parseExpressionAt=po,_e.tokContexts=dn,_e.tokTypes=yt,_e.tokenizer=Js,_e.version=Qn,Object.defineProperty(_e,"__esModule",{value:!0})})},{}],2:[function(o,a,tt){},{}],3:[function(o,a,tt){function _e(j,_={}){const{contextName:$="gl",throwGetError:et,useTrackablePrimitives:nt,readPixelsFile:at,recording:ct=[],variables:ht={},onReadPixels:ut,onUnrecognizedArgumentLookup:dt}=_,mt=new Proxy(j,{get:_t}),gt=[],lt={};let St=0,xt="",yt;return mt;function _t(Wt,Xt){switch(Xt){case"addComment":return Pt;case"checkThrowError":return Ft;case"getReadPixelsVariableName":return yt;case"insertVariable":return $t;case"reset":return Et;case"setIndent":return At;case"toString":return kt;case"getContextVariableName":return Gt}return typeof j[Xt]=="function"?function(){switch(Xt){case"getError":return et?ct.push(`${xt}if (${$}.getError() !== ${$}.NONE) throw new Error('error');`):ct.push(`${xt}${$}.getError();`),j.getError();case"getExtension":{const xr=`${$}Variables${gt.length}`;ct.push(`${xt}const ${xr} = ${$}.getExtension('${arguments[0]}');`);const vr=j.getExtension(arguments[0]);if(vr&&typeof vr=="object"){const ir=st(vr,{getEntity:Tt,useTrackablePrimitives:nt,recording:ct,contextName:xr,contextVariables:gt,variables:ht,indent:xt,onUnrecognizedArgumentLookup:dt});return gt.push(ir),ir}else gt.push(null);return vr}case"readPixels":const tr=gt.indexOf(arguments[6]);let mr;if(tr===-1){const xr=qt(arguments[6]);xr?(mr=xr,ct.push(`${xt}${xr}`)):(mr=`${$}Variable${gt.length}`,gt.push(arguments[6]),ct.push(`${xt}const ${mr} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else mr=`${$}Variable${tr}`;yt=mr;const yr=[arguments[0],arguments[1],arguments[2],arguments[3],Tt(arguments[4]),Tt(arguments[5]),mr];return ct.push(`${xt}${$}.readPixels(${yr.join(", ")});`),at&&Ot(arguments[2],arguments[3]),ut&&ut(mr,yr),j.readPixels.apply(j,arguments);case"drawBuffers":return ct.push(`${xt}${$}.drawBuffers([${ot(arguments[0],{contextName:$,contextVariables:gt,getEntity:Tt,addVariable:Mt,variables:ht,onUnrecognizedArgumentLookup:dt})}]);`),j.drawBuffers(arguments[0])}let rr=j[Xt].apply(j,arguments);switch(typeof rr){case"undefined":ct.push(`${xt}${zt(Xt,arguments)};`);return;case"number":case"boolean":if(nt&&gt.indexOf(it(rr))===-1){ct.push(`${xt}const ${$}Variable${gt.length} = ${zt(Xt,arguments)};`),gt.push(rr=it(rr));break}default:rr===null?ct.push(`${zt(Xt,arguments)};`):ct.push(`${xt}const ${$}Variable${gt.length} = ${zt(Xt,arguments)};`),gt.push(rr)}return rr}:(lt[j[Xt]]=Xt,j[Xt])}function kt(){return ct.join(`
`)}function Et(){for(;ct.length>0;)ct.pop()}function $t(Wt,Xt){ht[Wt]=Xt}function Tt(Wt){const Xt=lt[Wt];return Xt?$+"."+Xt:Wt}function At(Wt){xt=" ".repeat(Wt)}function Mt(Wt,Xt){const rr=`${$}Variable${gt.length}`;return ct.push(`${xt}const ${rr} = ${Xt};`),gt.push(Wt),rr}function Ot(Wt,Xt){const rr=`${$}Variable${gt.length}`,tr=`imageDatum${St}`;ct.push(`${xt}let ${tr} = ["P3\\n# ${at}.ppm\\n", ${Wt}, ' ', ${Xt}, "\\n255\\n"].join("");`),ct.push(`${xt}for (let i = 0; i < ${tr}.length; i += 4) {`),ct.push(`${xt}  ${tr} += ${rr}[i] + ' ' + ${rr}[i + 1] + ' ' + ${rr}[i + 2] + ' ';`),ct.push(`${xt}}`),ct.push(`${xt}if (typeof require !== "undefined") {`),ct.push(`${xt}  require('fs').writeFileSync('./${at}.ppm', ${tr});`),ct.push(`${xt}}`),St++}function Pt(Wt){ct.push(`${xt}// ${Wt}`)}function Ft(){ct.push(`${xt}(() => {
${xt}const error = ${$}.getError();
${xt}if (error !== ${$}.NONE) {
${xt}  const names = Object.getOwnPropertyNames(gl);
${xt}  for (let i = 0; i < names.length; i++) {
${xt}    const name = names[i];
${xt}    if (${$}[name] === error) {
${xt}      throw new Error('${$} threw ' + name);
${xt}    }
${xt}  }
${xt}}
${xt}})();`)}function zt(Wt,Xt){return`${$}.${Wt}(${ot(Xt,{contextName:$,contextVariables:gt,getEntity:Tt,addVariable:Mt,variables:ht,onUnrecognizedArgumentLookup:dt})})`}function qt(Wt){if(ht){for(const Xt in ht)if(ht[Xt]===Wt)return Xt}return null}function Gt(Wt){const Xt=gt.indexOf(Wt);return Xt!==-1?`${$}Variable${Xt}`:null}}function st(j,_){const $=new Proxy(j,{get:lt}),et={},{contextName:nt,contextVariables:at,getEntity:ct,useTrackablePrimitives:ht,recording:ut,variables:dt,indent:mt,onUnrecognizedArgumentLookup:gt}=_;return $;function lt(_t,kt){return typeof _t[kt]=="function"?function(){switch(kt){case"drawBuffersWEBGL":return ut.push(`${mt}${nt}.drawBuffersWEBGL([${ot(arguments[0],{contextName:nt,contextVariables:at,getEntity:St,addVariable:yt,variables:dt,onUnrecognizedArgumentLookup:gt})}]);`),j.drawBuffersWEBGL(arguments[0])}let Et=j[kt].apply(j,arguments);switch(typeof Et){case"undefined":ut.push(`${mt}${xt(kt,arguments)};`);return;case"number":case"boolean":ht&&at.indexOf(it(Et))===-1?(ut.push(`${mt}const ${nt}Variable${at.length} = ${xt(kt,arguments)};`),at.push(Et=it(Et))):(ut.push(`${mt}const ${nt}Variable${at.length} = ${xt(kt,arguments)};`),at.push(Et));break;default:Et===null?ut.push(`${xt(kt,arguments)};`):ut.push(`${mt}const ${nt}Variable${at.length} = ${xt(kt,arguments)};`),at.push(Et)}return Et}:(et[j[kt]]=kt,j[kt])}function St(_t){return et.hasOwnProperty(_t)?`${nt}.${et[_t]}`:ct(_t)}function xt(_t,kt){return`${nt}.${_t}(${ot(kt,{contextName:nt,contextVariables:at,getEntity:St,addVariable:yt,variables:dt,onUnrecognizedArgumentLookup:gt})})`}function yt(_t,kt){const Et=`${nt}Variable${at.length}`;return at.push(_t),ut.push(`${mt}const ${Et} = ${kt};`),Et}}function ot(j,_){const{variables:$,onUnrecognizedArgumentLookup:et}=_;return Array.from(j).map(at=>{const ct=nt(at);return ct||rt(at,_)}).join(", ");function nt(at){if($){for(const ct in $)if($.hasOwnProperty(ct)&&$[ct]===at)return ct}return et?et(at):null}}function rt(j,_){const{contextName:$,contextVariables:et,getEntity:nt,addVariable:at,onUnrecognizedArgumentLookup:ct}=_;if(typeof j>"u")return"undefined";if(j===null)return"null";const ht=et.indexOf(j);if(ht>-1)return`${$}Variable${ht}`;switch(j.constructor.name){case"String":const ut=/\n/.test(j),dt=/'/.test(j),mt=/"/.test(j);return ut?"`"+j+"`":dt&&!mt?'"'+j+'"':"'"+j+"'";case"Number":return nt(j);case"Boolean":return nt(j);case"Array":return at(j,`new ${j.constructor.name}([${Array.from(j).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return at(j,`new ${j.constructor.name}(${JSON.stringify(Array.from(j))})`);default:if(ct){const gt=ct(j);if(gt)return gt}throw new Error(`unrecognized argument type ${j.constructor.name}`)}}function it(j){return new j.constructor(j)}typeof a<"u"&&(a.exports={glWiretap:_e,glExtensionWiretap:st}),typeof window<"u"&&(_e.glExtensionWiretap=st,window.glWiretap=_e)},{}],4:[function(o,a,tt){function _e(at){const ct=new Array(at.length);for(let ht=0;ht<at.length;ht++){const ut=at[ht];ut.toArray?ct[ht]=ut.toArray():ct[ht]=ut}return ct}function st(){const at=_e(arguments),ct=new Float32Array(this.output.x);for(let ht=0;ht<this.output.x;ht++)this.thread.x=ht,this.thread.y=0,this.thread.z=0,ct[ht]=this._fn.apply(this,at);return ct}function ot(){const at=_e(arguments),ct=new Array(this.output.y);for(let ht=0;ht<this.output.y;ht++){const ut=new Float32Array(this.output.x);for(let dt=0;dt<this.output.x;dt++)this.thread.x=dt,this.thread.y=ht,this.thread.z=0,ut[dt]=this._fn.apply(this,at);ct[ht]=ut}return ct}function rt(){const at=_e(arguments);for(let ct=0;ct<this.output.y;ct++)for(let ht=0;ht<this.output.x;ht++)this.thread.x=ht,this.thread.y=ct,this.thread.z=0,this._fn.apply(this,at)}function it(){const at=_e(arguments),ct=new Array(this.output.z);for(let ht=0;ht<this.output.z;ht++){const ut=new Array(this.output.y);for(let dt=0;dt<this.output.y;dt++){const mt=new Float32Array(this.output.x);for(let gt=0;gt<this.output.x;gt++)this.thread.x=gt,this.thread.y=dt,this.thread.z=ht,mt[gt]=this._fn.apply(this,at);ut[dt]=mt}ct[ht]=ut}return ct}function j(at){at.setOutput=ut=>{at.output=$(ut),at.graphical&&_(at)},at.toJSON=()=>{throw new Error("Not usable with gpuMock")},at.setConstants=ut=>(at.constants=ut,at),at.setGraphical=ut=>(at.graphical=ut,at),at.setCanvas=ut=>(at.canvas=ut,at),at.setContext=ut=>(at.context=ut,at),at.destroy=()=>{},at.validateSettings=()=>{},at.graphical&&at.output&&_(at),at.exec=function(){return new Promise((ut,dt)=>{try{ut(at.apply(at,arguments))}catch(mt){dt(mt)}})},at.getPixels=ut=>{const{x:dt,y:mt}=at.output;return ut?nt(at._imageData.data,dt,mt):at._imageData.data.slice(0)},at.color=function(ut,dt,mt,gt){typeof gt>"u"&&(gt=1),ut=Math.floor(ut*255),dt=Math.floor(dt*255),mt=Math.floor(mt*255),gt=Math.floor(gt*255);const lt=at.output.x,St=at.output.y,xt=at.thread.x,yt=St-at.thread.y-1,_t=xt+yt*lt;at._colorData[_t*4+0]=ut,at._colorData[_t*4+1]=dt,at._colorData[_t*4+2]=mt,at._colorData[_t*4+3]=gt};const ct=()=>at,ht=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let ut=0;ut<ht.length;ut++)at[ht[ut]]=ct;return at}function _(at){const{x:ct,y:ht}=at.output;if(at.context&&at.context.createImageData){const ut=new Uint8ClampedArray(ct*ht*4);at._imageData=at.context.createImageData(ct,ht),at._colorData=ut}else{const ut=new Uint8ClampedArray(ct*ht*4);at._imageData={data:ut},at._colorData=ut}}function $(at){let ct=null;if(at.length)if(at.length===3){const[ht,ut,dt]=at;ct={x:ht,y:ut,z:dt}}else if(at.length===2){const[ht,ut]=at;ct={x:ht,y:ut}}else{const[ht]=at;ct={x:ht}}else ct=at;return ct}function et(at,ct={}){const ht=ct.output?$(ct.output):null;function ut(){return ut.output.z?it.apply(ut,arguments):ut.output.y?ut.graphical?rt.apply(ut,arguments):ot.apply(ut,arguments):st.apply(ut,arguments)}return ut._fn=at,ut.constants=ct.constants||null,ut.context=ct.context||null,ut.canvas=ct.canvas||null,ut.graphical=ct.graphical||!1,ut._imageData=null,ut._colorData=null,ut.output=ht,ut.thread={x:0,y:0,z:0},j(ut)}function nt(at,ct,ht){const ut=ht/2|0,dt=ct*4,mt=new Uint8ClampedArray(ct*4),gt=at.slice(0);for(let lt=0;lt<ut;++lt){const St=lt*dt,xt=(ht-lt-1)*dt;mt.set(gt.subarray(St,St+dt)),gt.copyWithin(St,xt,xt+dt),gt.set(mt,xt)}return gt}a.exports={gpuMock:et}},{}],5:[function(o,a,tt){const{utils:_e}=o("./utils");function st(ot,rt){const it=rt.toString();return new Function(`return function ${ot} (${_e.getArgumentNamesFromString(it).join(", ")}) {
  ${_e.getFunctionBodyFromString(it)}
}`)()}a.exports={alias:st}},{"./utils":114}],6:[function(o,a,tt){const{FunctionNode:_e}=o("../function-node");class st extends _e{astFunction(rt,it){if(!this.isRootKernel){it.push("function"),it.push(" "),it.push(this.name),it.push("(");for(let j=0;j<this.argumentNames.length;++j){const _=this.argumentNames[j];j>0&&it.push(", "),it.push("user_"),it.push(_)}it.push(`) {
`)}for(let j=0;j<rt.body.body.length;++j)this.astGeneric(rt.body.body[j],it),it.push(`
`);return this.isRootKernel||it.push(`}
`),it}astReturnStatement(rt,it){const j=this.returnType||this.getType(rt.argument);return this.returnType||(this.returnType=j),this.isRootKernel?(it.push(this.leadingReturnStatement),this.astGeneric(rt.argument,it),it.push(`;
`),it.push(this.followingReturnStatement),it.push(`continue;
`)):this.isSubKernel?(it.push(`subKernelResult_${this.name} = `),this.astGeneric(rt.argument,it),it.push(";"),it.push(`return subKernelResult_${this.name};`)):(it.push("return "),this.astGeneric(rt.argument,it),it.push(";")),it}astLiteral(rt,it){if(isNaN(rt.value))throw this.astErrorOutput("Non-numeric literal not supported : "+rt.value,rt);return it.push(rt.value),it}astBinaryExpression(rt,it){return it.push("("),this.astGeneric(rt.left,it),it.push(rt.operator),this.astGeneric(rt.right,it),it.push(")"),it}astIdentifierExpression(rt,it){if(rt.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",rt);switch(rt.name){case"Infinity":it.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(rt.name)?it.push("constants_"+rt.name):it.push("user_"+rt.name)}return it}astForStatement(rt,it){if(rt.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",rt);const j=[],_=[],$=[],et=[];let nt=null;if(rt.init){this.pushState("in-for-loop-init"),this.astGeneric(rt.init,j);for(let at=0;at<j.length;at++)j[at].includes&&j[at].includes(",")&&(nt=!1);this.popState("in-for-loop-init")}else nt=!1;if(rt.test?this.astGeneric(rt.test,_):nt=!1,rt.update?this.astGeneric(rt.update,$):nt=!1,rt.body&&(this.pushState("loop-body"),this.astGeneric(rt.body,et),this.popState("loop-body")),nt===null&&(nt=this.isSafe(rt.init)&&this.isSafe(rt.test)),nt)it.push(`for (${j.join("")};${_.join("")};${$.join("")}){
`),it.push(et.join("")),it.push(`}
`);else{const at=this.getInternalVariableName("safeI");j.length>0&&it.push(j.join(""),`;
`),it.push(`for (let ${at}=0;${at}<LOOP_MAX;${at}++){
`),_.length>0&&it.push(`if (!${_.join("")}) break;
`),it.push(et.join("")),it.push(`
${$.join("")};`),it.push(`}
`)}return it}astWhileStatement(rt,it){if(rt.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",rt);return it.push("for (let i = 0; i < LOOP_MAX; i++) {"),it.push("if ("),this.astGeneric(rt.test,it),it.push(`) {
`),this.astGeneric(rt.body,it),it.push(`} else {
`),it.push(`break;
`),it.push(`}
`),it.push(`}
`),it}astDoWhileStatement(rt,it){if(rt.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",rt);return it.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(rt.body,it),it.push("if (!"),this.astGeneric(rt.test,it),it.push(`) {
`),it.push(`break;
`),it.push(`}
`),it.push(`}
`),it}astAssignmentExpression(rt,it){const j=this.getDeclaration(rt.left);if(j&&!j.assignable)throw this.astErrorOutput(`Variable ${rt.left.name} is not assignable here`,rt);return this.astGeneric(rt.left,it),it.push(rt.operator),this.astGeneric(rt.right,it),it}astBlockStatement(rt,it){if(this.isState("loop-body")){this.pushState("block-body");for(let j=0;j<rt.body.length;j++)this.astGeneric(rt.body[j],it);this.popState("block-body")}else{it.push(`{
`);for(let j=0;j<rt.body.length;j++)this.astGeneric(rt.body[j],it);it.push(`}
`)}return it}astVariableDeclaration(rt,it){it.push(`${rt.kind} `);const{declarations:j}=rt;for(let _=0;_<j.length;_++){_>0&&it.push(",");const $=j[_],et=this.getDeclaration($.id);et.valueType||(et.valueType=this.getType($.init)),this.astGeneric($,it)}return this.isState("in-for-loop-init")||it.push(";"),it}astIfStatement(rt,it){return it.push("if ("),this.astGeneric(rt.test,it),it.push(")"),rt.consequent.type==="BlockStatement"?this.astGeneric(rt.consequent,it):(it.push(` {
`),this.astGeneric(rt.consequent,it),it.push(`
}
`)),rt.alternate&&(it.push("else "),rt.alternate.type==="BlockStatement"||rt.alternate.type==="IfStatement"?this.astGeneric(rt.alternate,it):(it.push(` {
`),this.astGeneric(rt.alternate,it),it.push(`
}
`))),it}astSwitchStatement(rt,it){const{discriminant:j,cases:_}=rt;it.push("switch ("),this.astGeneric(j,it),it.push(`) {
`);for(let $=0;$<_.length;$++){if(_[$].test===null){it.push(`default:
`),this.astGeneric(_[$].consequent,it),_[$].consequent&&_[$].consequent.length>0&&it.push(`break;
`);continue}it.push("case "),this.astGeneric(_[$].test,it),it.push(`:
`),_[$].consequent&&_[$].consequent.length>0&&(this.astGeneric(_[$].consequent,it),it.push(`break;
`))}it.push(`
}`)}astThisExpression(rt,it){return it.push("_this"),it}astMemberExpression(rt,it){const{signature:j,type:_,property:$,xProperty:et,yProperty:nt,zProperty:at,name:ct,origin:ht}=this.getMemberExpressionDetails(rt);switch(j){case"this.thread.value":return it.push(`_this.thread.${ct}`),it;case"this.output.value":switch(ct){case"x":it.push("outputX");break;case"y":it.push("outputY");break;case"z":it.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",rt)}return it;case"value":throw this.astErrorOutput("Unexpected expression",rt);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(ht==="Math")return it.push(Math[ct]),it;switch($){case"r":return it.push(`user_${ct}[0]`),it;case"g":return it.push(`user_${ct}[1]`),it;case"b":return it.push(`user_${ct}[2]`),it;case"a":return it.push(`user_${ct}[3]`),it}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(rt.object,it),it.push("["),this.astGeneric(rt.property,it),it.push("]"),it;case"fn()[][]":return this.astGeneric(rt.object.object,it),it.push("["),this.astGeneric(rt.object.property,it),it.push("]"),it.push("["),this.astGeneric(rt.property,it),it.push("]"),it;default:throw this.astErrorOutput("Unexpected expression",rt)}if(!rt.computed)switch(_){case"Number":case"Integer":case"Float":case"Boolean":return it.push(`${ht}_${ct}`),it}const ut=`${ht}_${ct}`;switch(_){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let dt,mt;if(ht==="constants"){const gt=this.constants[ct];mt=this.constantTypes[ct]==="Input",dt=mt?gt.size:null}else mt=this.isInput(ct),dt=mt?this.argumentSizes[this.argumentNames.indexOf(ct)]:null;it.push(`${ut}`),at&&nt?mt?(it.push("[("),this.astGeneric(at,it),it.push(`*${this.dynamicArguments?"(outputY * outputX)":dt[1]*dt[0]})+(`),this.astGeneric(nt,it),it.push(`*${this.dynamicArguments?"outputX":dt[0]})+`),this.astGeneric(et,it),it.push("]")):(it.push("["),this.astGeneric(at,it),it.push("]"),it.push("["),this.astGeneric(nt,it),it.push("]"),it.push("["),this.astGeneric(et,it),it.push("]")):nt?mt?(it.push("[("),this.astGeneric(nt,it),it.push(`*${this.dynamicArguments?"outputX":dt[0]})+`),this.astGeneric(et,it),it.push("]")):(it.push("["),this.astGeneric(nt,it),it.push("]"),it.push("["),this.astGeneric(et,it),it.push("]")):typeof et<"u"&&(it.push("["),this.astGeneric(et,it),it.push("]"))}return it}astCallExpression(rt,it){if(rt.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",rt);let j=this.astMemberExpressionUnroll(rt.callee);this.calledFunctions.indexOf(j)<0&&this.calledFunctions.push(j),this.isAstMathFunction(rt),this.onFunctionCall&&this.onFunctionCall(this.name,j,rt.arguments),it.push(j),it.push("(");const _=this.lookupFunctionArgumentTypes(j)||[];for(let $=0;$<rt.arguments.length;++$){const et=rt.arguments[$];let nt=this.getType(et);_[$]||this.triggerImplyArgumentType(j,$,nt,this),$>0&&it.push(", "),this.astGeneric(et,it)}return it.push(")"),it}astArrayExpression(rt,it){const j=this.getType(rt),_=rt.elements.length,$=[];for(let et=0;et<_;++et){const nt=[];this.astGeneric(rt.elements[et],nt),$.push(nt.join(""))}switch(j){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":it.push(`[${$.join(", ")}]`);break;default:it.push(`new Float32Array([${$.join(", ")}])`)}return it}astDebuggerStatement(rt,it){return it.push("debugger;"),it}}a.exports={CPUFunctionNode:st}},{"../function-node":10}],7:[function(o,a,tt){const{utils:_e}=o("../../utils");function st(rt,it){const j=[];for(const _ in it){if(!it.hasOwnProperty(_))continue;const $=it[_],et=rt[_];switch($){case"Number":case"Integer":case"Float":case"Boolean":j.push(`${_}:${et}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":j.push(`${_}:new ${et.constructor.name}(${JSON.stringify(Array.from(et))})`);break}}return`{ ${j.join()} }`}function ot(rt,it){const j=[],_=[],$=[],et=!/^function/.test(rt.color.toString());if(j.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(rt.output))});`,`  const _constantTypes = ${JSON.stringify(rt.constantTypes)};`,`  const _constants = ${st(rt.constants,rt.constantTypes)};`),_.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),rt.graphical){j.push(`  const _imageData = context.createImageData(${rt.output[0]}, ${rt.output[1]});`),j.push(`  const _colorData = new Uint8ClampedArray(${rt.output[0]} * ${rt.output[1]} * 4);`);const ct=_e.flattenFunctionToString((et?"function ":"")+rt.color.toString(),{thisLookup:ut=>{switch(ut){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(rt[ut])},findDependency:(ut,dt)=>null}),ht=_e.flattenFunctionToString((et?"function ":"")+rt.getPixels.toString(),{thisLookup:ut=>{switch(ut){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(rt[ut])},findDependency:()=>null});_.push("    _imageData,","    _colorData,",`    color: ${ct},`),$.push(`  kernel.getPixels = ${ht};`)}const nt=[],at=Object.keys(rt.constantTypes);for(let ct=0;ct<at.length;ct++)nt.push(rt.constantTypes[at]);if(rt.argumentTypes.indexOf("HTMLImageArray")!==-1||nt.indexOf("HTMLImageArray")!==-1){const ct=_e.flattenFunctionToString((et?"function ":"")+rt._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(ht,ut)=>ht==="this"?(et?"function ":"")+rt[ut].toString():null,thisLookup:ht=>{switch(ht){case"canvas":return;case"context":return"context"}}});$.push(ct),_.push("    _mediaTo2DArray,"),_.push("    _imageTo3DArray,")}else if(rt.argumentTypes.indexOf("HTMLImage")!==-1||nt.indexOf("HTMLImage")!==-1){const ct=_e.flattenFunctionToString((et?"function ":"")+rt._mediaTo2DArray.toString(),{findDependency:(ht,ut)=>null,thisLookup:ht=>{switch(ht){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});$.push(ct),_.push("    _mediaTo2DArray,")}return`function(settings) {
${j.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${rt._kernelString}
  })
    .apply({ ${_.join(`
`)} });
  ${$.join(`
`)}
  return kernel;
}`}a.exports={cpuKernelString:ot}},{"../../utils":114}],8:[function(o,a,tt){const{Kernel:_e}=o("../kernel"),{FunctionBuilder:st}=o("../function-builder"),{CPUFunctionNode:ot}=o("./function-node"),{utils:rt}=o("../../utils"),{cpuKernelString:it}=o("./kernel-string");class j extends _e{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch($){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels($){return $}static getSignature($,et){return"cpu"+(et.length>0?":"+et.join(","):"")}constructor($,et){super($,et),this.mergeSettings($.settings||et),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins($){return[]}validateSettings($){if(!this.output||this.output.length===0){if($.length!==1)throw new Error("Auto output only supported for kernels with only one input");const et=rt.getVariableType($[0],this.strictIntegers);if(et==="Array")this.output=rt.getDimensions(et);else if(et==="NumberTexture"||et==="ArrayTexture(4)")this.output=$[0].output;else throw new Error("Auto output not supported for input type: "+et)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const et=[];for(let nt=0;nt<this.subKernels.length;nt++){const{name:at}=this.subKernels[nt];et.push(this.output.length>1?`resultX_${at}[x] = subKernelResult_${at};
`:`result_${at}[x] = subKernelResult_${at};
`)}this.followingReturnStatement=et.join("")}const $=st.fromKernel(this,ot);this.translatedSources=$.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=$.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:et,output:nt}=this;if(!et)throw new Error("no canvas available for using graphical output");const at=nt[0],ct=nt[1]||1;et.width=at,et.height=ct,this._imageData=this.context.createImageData(at,ct),this._colorData=new Uint8ClampedArray(at*ct*4)}const $=this.getKernelString();this.kernelString=$,this.debug&&(console.log("Function output:"),console.log($));try{this.run=new Function([],$).bind(this)()}catch(et){console.error("An error occurred compiling the javascript: ",et)}this.buildSignature(arguments),this.built=!0}color($,et,nt,at){typeof at>"u"&&(at=1),$=Math.floor($*255),et=Math.floor(et*255),nt=Math.floor(nt*255),at=Math.floor(at*255);const ct=this.output[0],ht=this.output[1],ut=this.thread.x,dt=ht-this.thread.y-1,mt=ut+dt*ct;this._colorData[mt*4+0]=$,this._colorData[mt*4+1]=et,this._colorData[mt*4+2]=nt,this._colorData[mt*4+3]=at}getKernelString(){if(this._kernelString!==null)return this._kernelString;let $=null,{translatedSources:et}=this;return et.length>1?et=et.filter(nt=>/^function/.test(nt)?nt:($=nt,!1)):$=et.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(nt=>"user_"+nt).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody($):this._resultKernelBody($)}
    ${et.length>0?et.join(`
`):""}
  };`}toString(){return it(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const $=[];for(let et in this.constants)switch(this.constantTypes[et]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    const constants_${et} = this._mediaTo2DArray(this.constants.${et});
`);break;case"HTMLImageArray":$.push(`    const constants_${et} = this._imageTo3DArray(this.constants.${et});
`);break;case"Input":$.push(`    const constants_${et} = this.constants.${et}.value;
`);break;default:$.push(`    const constants_${et} = this.constants.${et};
`)}return $.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const $=[];for(let nt=0;nt<this.argumentTypes.length;nt++)this.argumentTypes[nt]==="Array"&&$.push(this.argumentNames[nt]);if($.length===0)return"";const et=[];for(let nt=0;nt<$.length;nt++){const at=$[nt],ct=this._mapSubKernels(ht=>`user_${at} === result_${ht.name}`).join(" || ");et.push(`user_${at} === result${ct?` || ${ct}`:""}`)}return`if (${et.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const $=[];for(let et=0;et<this.argumentTypes.length;et++){const nt=`user_${this.argumentNames[et]}`;switch(this.argumentTypes[et]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    ${nt} = this._mediaTo2DArray(${nt});
`);break;case"HTMLImageArray":$.push(`    ${nt} = this._imageTo3DArray(${nt});
`);break;case"Input":$.push(`    ${nt} = ${nt}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":$.push(`
    if (${nt}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${nt});
      if (textureIndex !== -1) {
        ${nt} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${nt});
        ${nt} = ${nt}.toArray();
        _this.arrayCache.push(${nt});
      }
    }`);break}}return $.join("")}_mediaTo2DArray($){const et=this.canvas,nt=$.width>0?$.width:$.videoWidth,at=$.height>0?$.height:$.videoHeight;et.width<nt&&(et.width=nt),et.height<at&&(et.height=at);const ct=this.context;let ht;$.constructor===ImageData?ht=$.data:(ct.drawImage($,0,0,nt,at),ht=ct.getImageData(0,0,nt,at).data);const ut=new Array(at);let dt=0;for(let mt=at-1;mt>=0;mt--){const gt=ut[mt]=new Array(nt);for(let lt=0;lt<nt;lt++){const St=new Float32Array(4);St[0]=ht[dt++]/255,St[1]=ht[dt++]/255,St[2]=ht[dt++]/255,St[3]=ht[dt++]/255,gt[lt]=St}}return ut}getPixels($){const[et,nt]=this.output;return $?rt.flipPixels(this._imageData.data,et,nt):this._imageData.data.slice(0)}_imageTo3DArray($){const et=new Array($.length);for(let nt=0;nt<$.length;nt++)et[nt]=this._mediaTo2DArray($[nt]);return et}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody($){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop($):this._resultImmutableKernel1DLoop($))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop($):this._resultImmutableKernel2DLoop($))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop($):this._resultImmutableKernel3DLoop($))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody($){switch(this.output.length){case 2:return this._graphicalKernel2DLoop($)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${et}(outputX);
    ${this._mapSubKernels(nt=>`const result_${nt.name} = new ${et}(outputX);
`).join("    ")}
    ${this._mapSubKernels(nt=>`let subKernelResult_${nt.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_mutableKernel1DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${$}(outputX);
    ${this._mapSubKernels(et=>`const result_${et.name} = new ${$}(outputX);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}`}_resultMutableKernel1DLoop($){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_resultImmutableKernel2DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(nt=>`const result_${nt.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(nt=>`let subKernelResult_${nt.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${et}(outputX);
      ${this._mapSubKernels(nt=>`const resultX_${nt.name} = result_${nt.name}[y] = new ${et}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_mutableKernel2DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(et=>`const result_${et.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${$}(outputX);
      ${this._mapSubKernels(et=>`const resultX_${et.name} = result_${et.name}[y] = new ${$}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(nt=>`const resultX_${nt.name} = result_${nt.name}[y] = new ${et}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_graphicalKernel2DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_resultImmutableKernel3DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(nt=>`const result_${nt.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(nt=>`let subKernelResult_${nt.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(nt=>`const resultY_${nt.name} = result_${nt.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${et}(outputX);
        ${this._mapSubKernels(nt=>`const resultX_${nt.name} = resultY_${nt.name}[y] = new ${et}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_mutableKernel3DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(et=>`const result_${et.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(et=>`const resultY_${et.name} = result_${et.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${$}(outputX);
        ${this._mapSubKernels(et=>`const resultX_${et.name} = resultY_${et.name}[y] = new ${$}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map($=>`${$.property}: result_${$.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels($){return this.subKernels===null?[""]:this.subKernels.map($)}destroy($){$&&delete this.canvas}static destroyContext($){}toJSON(){const $=super.toJSON();return $.functionNodes=st.fromKernel(this,ot).toJSON(),$}setOutput($){super.setOutput($);const[et,nt]=this.output;this.graphical&&(this._imageData=this.context.createImageData(et,nt),this._colorData=new Uint8ClampedArray(et*nt*4))}prependString($){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push($)}hasPrependString($){return this._prependedString.indexOf($)>-1}}a.exports={CPUKernel:j}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(o,a,tt){class _e{static fromKernel(ot,rt,it){const{kernelArguments:j,kernelConstants:_,argumentNames:$,argumentSizes:et,argumentBitRatios:nt,constants:at,constantBitRatios:ct,debug:ht,loopMaxIterations:ut,nativeFunctions:dt,output:mt,optimizeFloatMemory:gt,precision:lt,plugins:St,source:xt,subKernels:yt,functions:_t,leadingReturnStatement:kt,followingReturnStatement:Et,dynamicArguments:$t,dynamicOutput:Tt}=ot,At=new Array(j.length),Mt={};for(let er=0;er<j.length;er++)At[er]=j[er].type;for(let er=0;er<_.length;er++){const Tr=_[er];Mt[Tr.name]=Tr.type}const Ot=(er,Tr)=>sr.needsArgumentType(er,Tr),Pt=(er,Tr,Cr)=>{sr.assignArgumentType(er,Tr,Cr)},Ft=(er,Tr,Cr)=>sr.lookupReturnType(er,Tr,Cr),zt=er=>sr.lookupFunctionArgumentTypes(er),qt=(er,Tr)=>sr.lookupFunctionArgumentName(er,Tr),Gt=(er,Tr)=>sr.lookupFunctionArgumentBitRatio(er,Tr),Wt=(er,Tr,Cr,dr)=>{sr.assignArgumentType(er,Tr,Cr,dr)},Xt=(er,Tr,Cr,dr)=>{sr.assignArgumentBitRatio(er,Tr,Cr,dr)},rr=(er,Tr,Cr)=>{sr.trackFunctionCall(er,Tr,Cr)},tr=(er,Tr)=>{const Cr=[];for(let Wr=0;Wr<er.params.length;Wr++)Cr.push(er.params[Wr].name);const dr=new rt(Tr,Object.assign({},mr,{returnType:null,ast:er,name:er.id.name,argumentNames:Cr,lookupReturnType:Ft,lookupFunctionArgumentTypes:zt,lookupFunctionArgumentName:qt,lookupFunctionArgumentBitRatio:Gt,needsArgumentType:Ot,assignArgumentType:Pt,triggerImplyArgumentType:Wt,triggerImplyArgumentBitRatio:Xt,onFunctionCall:rr}));dr.traceFunctionAST(er),sr.addFunctionNode(dr)},mr=Object.assign({isRootKernel:!1,onNestedFunction:tr,lookupReturnType:Ft,lookupFunctionArgumentTypes:zt,lookupFunctionArgumentName:qt,lookupFunctionArgumentBitRatio:Gt,needsArgumentType:Ot,assignArgumentType:Pt,triggerImplyArgumentType:Wt,triggerImplyArgumentBitRatio:Xt,onFunctionCall:rr,optimizeFloatMemory:gt,precision:lt,constants:at,constantTypes:Mt,constantBitRatios:ct,debug:ht,loopMaxIterations:ut,output:mt,plugins:St,dynamicArguments:$t,dynamicOutput:Tt},it||{}),yr=Object.assign({},mr,{isRootKernel:!0,name:"kernel",argumentNames:$,argumentTypes:At,argumentSizes:et,argumentBitRatios:nt,leadingReturnStatement:kt,followingReturnStatement:Et});if(typeof xt=="object"&&xt.functionNodes)return new _e().fromJSON(xt.functionNodes,rt);const xr=new rt(xt,yr);let vr=null;_t&&(vr=_t.map(er=>new rt(er.source,{returnType:er.returnType,argumentTypes:er.argumentTypes,output:mt,plugins:St,constants:at,constantTypes:Mt,constantBitRatios:ct,optimizeFloatMemory:gt,precision:lt,lookupReturnType:Ft,lookupFunctionArgumentTypes:zt,lookupFunctionArgumentName:qt,lookupFunctionArgumentBitRatio:Gt,needsArgumentType:Ot,assignArgumentType:Pt,triggerImplyArgumentType:Wt,triggerImplyArgumentBitRatio:Xt,onFunctionCall:rr,onNestedFunction:tr})));let ir=null;yt&&(ir=yt.map(er=>{const{name:Tr,source:Cr}=er;return new rt(Cr,Object.assign({},mr,{name:Tr,isSubKernel:!0,isRootKernel:!1}))}));const sr=new _e({kernel:ot,rootNode:xr,functionNodes:vr,nativeFunctions:dt,subKernelNodes:ir});return sr}constructor(ot){if(ot=ot||{},this.kernel=ot.kernel,this.rootNode=ot.rootNode,this.functionNodes=ot.functionNodes||[],this.subKernelNodes=ot.subKernelNodes||[],this.nativeFunctions=ot.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let rt=0;rt<this.functionNodes.length;rt++)this.functionMap[this.functionNodes[rt].name]=this.functionNodes[rt];if(this.subKernelNodes)for(let rt=0;rt<this.subKernelNodes.length;rt++)this.functionMap[this.subKernelNodes[rt].name]=this.subKernelNodes[rt];if(this.nativeFunctions)for(let rt=0;rt<this.nativeFunctions.length;rt++){const it=this.nativeFunctions[rt];this.nativeFunctionNames.push(it.name)}}addFunctionNode(ot){if(!ot.name)throw new Error("functionNode.name needs set");this.functionMap[ot.name]=ot,ot.isRootKernel&&(this.rootNode=ot)}traceFunctionCalls(ot,rt){if(ot=ot||"kernel",rt=rt||[],this.nativeFunctionNames.indexOf(ot)>-1){const j=rt.indexOf(ot);if(j===-1)rt.push(ot);else{const _=rt.splice(j,1)[0];rt.push(_)}return rt}const it=this.functionMap[ot];if(it){const j=rt.indexOf(ot);if(j===-1){rt.push(ot),it.toString();for(let _=0;_<it.calledFunctions.length;++_)this.traceFunctionCalls(it.calledFunctions[_],rt)}else{const _=rt.splice(j,1)[0];rt.push(_)}}return rt}getPrototypeString(ot){return this.getPrototypes(ot).join(`
`)}getPrototypes(ot){return this.rootNode&&this.rootNode.toString(),ot?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(ot,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(ot){const rt=[];for(let it=0;it<ot.length;++it)this.functionMap[ot[it]]&&rt.push(this.functionMap[ot[it]].toString());return rt.join(`
`)}getPrototypesFromFunctionNames(ot){const rt=[];for(let it=0;it<ot.length;++it){const j=ot[it],_=this.nativeFunctionNames.indexOf(j);if(_>-1){rt.push(this.nativeFunctions[_].source);continue}const $=this.functionMap[j];$&&rt.push($.toString())}return rt}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(ot=>{const rt=this.nativeFunctions.indexOf(ot);if(rt>-1)return{name:ot,source:this.nativeFunctions[rt].source};if(this.functionMap[ot])return this.functionMap[ot].toJSON();throw new Error(`function ${ot} not found`)})}fromJSON(ot,rt){this.functionMap={};for(let it=0;it<ot.length;it++){const j=ot[it];this.functionMap[j.settings.name]=new rt(j.ast,j.settings)}return this}getString(ot){return ot?this.getStringFromFunctionNames(this.traceFunctionCalls(ot).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(ot,rt,it){if(rt.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${rt.type}`);if(this._isNativeFunction(ot))return this._lookupNativeFunctionReturnType(ot);if(this._isFunction(ot)){const j=this._getFunction(ot);if(j.returnType)return j.returnType;{for(let $=0;$<this.lookupChain.length;$++)if(this.lookupChain[$].ast===rt){if(j.argumentTypes.length===0&&rt.arguments.length>0){const et=rt.arguments;for(let nt=0;nt<et.length;nt++)this.lookupChain.push({name:it.name,ast:et[$],requestingNode:it}),j.argumentTypes[nt]=it.getType(et[nt]),this.lookupChain.pop();return j.returnType=j.getType(j.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:it.name,ast:rt,requestingNode:it});const _=j.getType(j.getJsAST());return this.lookupChain.pop(),j.returnType=_}}return null}_getFunction(ot){return this._isFunction(ot),this.functionMap[ot]}_isFunction(ot){return!!this.functionMap[ot]}_getNativeFunction(ot){for(let rt=0;rt<this.nativeFunctions.length;rt++)if(this.nativeFunctions[rt].name===ot)return this.nativeFunctions[rt];return null}_isNativeFunction(ot){return!!this._getNativeFunction(ot)}_lookupNativeFunctionReturnType(ot){let rt=this._getNativeFunction(ot);if(rt)return rt.returnType;throw new Error(`Native function ${ot} not found`)}lookupFunctionArgumentTypes(ot){return this._isNativeFunction(ot)?this._getNativeFunction(ot).argumentTypes:this._isFunction(ot)?this._getFunction(ot).argumentTypes:null}lookupFunctionArgumentName(ot,rt){return this._getFunction(ot).argumentNames[rt]}lookupFunctionArgumentBitRatio(ot,rt){if(!this._isFunction(ot))throw new Error("function not found");if(this.rootNode.name===ot){const $=this.rootNode.argumentNames.indexOf(rt);if($!==-1)return this.rootNode.argumentBitRatios[$]}const it=this._getFunction(ot),j=it.argumentNames.indexOf(rt);if(j===-1)throw new Error("argument not found");const _=it.argumentBitRatios[j];if(typeof _!="number")throw new Error("argument bit ratio not found");return _}needsArgumentType(ot,rt){return this._isFunction(ot)?!this._getFunction(ot).argumentTypes[rt]:!1}assignArgumentType(ot,rt,it,j){if(!this._isFunction(ot))return;const _=this._getFunction(ot);_.argumentTypes[rt]||(_.argumentTypes[rt]=it)}assignArgumentBitRatio(ot,rt,it,j){const _=this._getFunction(ot);if(this._isNativeFunction(it))return null;const $=this._getFunction(it),et=_.argumentNames.indexOf(rt);if(et===-1)throw new Error(`Argument ${rt} not found in arguments from function ${ot}`);const nt=_.argumentBitRatios[et];if(typeof nt!="number")throw new Error(`Bit ratio for argument ${rt} not found in function ${ot}`);$.argumentBitRatios||($.argumentBitRatios=new Array($.argumentNames.length));const at=$.argumentBitRatios[et];if(typeof at=="number"){if(at!==nt)throw new Error(`Incompatible bit ratio found at function ${ot} at argument ${rt}`);return at}return $.argumentBitRatios[et]=nt,nt}trackFunctionCall(ot,rt,it){this.functionNodeDependencies[ot]||(this.functionNodeDependencies[ot]=new Set,this.functionCalls[ot]=[]),this.functionNodeDependencies[ot].add(rt),this.functionCalls[ot].push(it)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(ot){const rt=this.subKernelNodes[ot];let it=!1;for(let j=0;j<this.rootNode.functionCalls.length;j++)this.rootNode.functionCalls[j].ast.callee.name===rt.name&&(it=!0);if(!it)throw new Error(`SubKernel ${rt.name} never called by kernel`);return rt.returnType||rt.getType(rt.getJsAST())}getReturnTypes(){const ot={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},rt=this.traceFunctionCalls(this.rootNode.name);for(let it=0;it<rt.length;it++){const j=rt[it],_=this.functionMap[j];ot[j]=_.getType(_.ast)}return ot}}a.exports={FunctionBuilder:_e}},{}],10:[function(o,a,tt){const _e=o("acorn"),{utils:st}=o("../utils"),{FunctionTracer:ot}=o("./function-tracer");class rt{constructor(_,$){if(!_&&!$.ast)throw new Error("source parameter is missing");if($=$||{},this.source=_,this.ast=null,this.name=typeof _=="string"?$.isRootKernel?"kernel":$.name||st.getFunctionNameFromString(_):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?st.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,$)for(const et in $)$.hasOwnProperty(et)&&this.hasOwnProperty(et)&&(this[et]=$[et]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!st.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(_){return this.constants?this.constants.hasOwnProperty(_):!1}isInput(_){return this.argumentTypes[this.argumentNames.indexOf(_)]==="Input"}pushState(_){this.states.push(_)}popState(_){if(this.state!==_)throw new Error(`Cannot popState ${_} when in ${this.state}`);this.states.pop()}isState(_){return this.state===_}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(_){if(_.type==="Identifier")return _.name;if(_.type==="ThisExpression")return"this";if(_.type==="MemberExpression"&&_.object&&_.property)return _.object.hasOwnProperty("name")&&_.object.name!=="Math"?this.astMemberExpressionUnroll(_.property):this.astMemberExpressionUnroll(_.object)+"."+this.astMemberExpressionUnroll(_.property);if(_.hasOwnProperty("expressions")){const $=_.expressions[0];if($.type==="Literal"&&$.value===0&&_.expressions.length===2)return this.astMemberExpressionUnroll(_.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",_)}getJsAST(_){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(_=_||_e,_===null)throw new Error("Missing JS to AST parser");const $=Object.freeze(_.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),et=$.body[0].declarations[0].init;if(this.traceFunctionAST(et),!$)throw new Error("Failed to parse JS code");return this.ast=et}traceFunctionAST(_){const{contexts:$,declarations:et,functions:nt,identifiers:at,functionCalls:ct}=new ot(_);this.contexts=$,this.identifiers=at,this.functionCalls=ct,this.functions=nt;for(let ht=0;ht<et.length;ht++){const ut=et[ht],{ast:dt,inForLoopInit:mt,inForLoopTest:gt}=ut,{init:lt}=dt,St=this.getDependencies(lt);let xt=null;if(mt&&gt)xt="Integer";else if(lt){const yt=this.getType(lt);switch(yt){case"Integer":case"Float":case"Number":lt.type==="MemberExpression"?xt=yt:xt="Number";break;case"LiteralInteger":xt="Number";break;default:xt=yt}}ut.valueType=xt,ut.dependencies=St,ut.isSafe=this.isSafeDependencies(St)}for(let ht=0;ht<nt.length;ht++)this.onNestedFunction(nt[ht],this.source)}getDeclaration(_){for(let $=0;$<this.identifiers.length;$++){const et=this.identifiers[$];if(_===et.ast)return et.declaration}return null}getVariableType(_){if(_.type!=="Identifier")throw new Error(`ast of ${_.type} not "Identifier"`);let $=null;const et=this.argumentNames.indexOf(_.name);if(et===-1){const nt=this.getDeclaration(_);if(nt)return nt.valueType}else{const nt=this.argumentTypes[et];nt&&($=nt)}if(!$&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return $}getLookupType(_){if(!it.hasOwnProperty(_))throw new Error(`unknown typeLookupMap ${_}`);return it[_]}getConstantType(_){if(this.constantTypes[_]){const $=this.constantTypes[_];return $==="Float"?"Number":$}throw new Error(`Type for constant "${_}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const _={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:_}}getType(_){if(Array.isArray(_))return this.getType(_[_.length-1]);switch(_.type){case"BlockStatement":return this.getType(_.body);case"ArrayExpression":switch(this.getType(_.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${_.elements.length})`}return`Array(${_.elements.length})`;case"Literal":const et=this.astKey(_);return this.literalTypes[et]?this.literalTypes[et]:Number.isInteger(_.value)?"LiteralInteger":_.value===!0||_.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(_.left);case"CallExpression":if(this.isAstMathFunction(_))return"Number";if(!_.callee||!_.callee.name){if(_.callee.type==="SequenceExpression"&&_.callee.expressions[_.callee.expressions.length-1].property.name){const ut=_.callee.expressions[_.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}if(this.getVariableSignature(_.callee,!0)==="this.color")return null;if(_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.property&&_.callee.property.name&&_.arguments){const ut=_.callee.property.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}throw this.astErrorOutput("Unknown call expression",_)}if(_.callee&&_.callee.name){const ut=_.callee.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(_.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const nt=this.getType(_.left);if(this.isState("skip-literal-correction"))return nt;if(nt==="LiteralInteger"){const ut=this.getType(_.right);return ut==="LiteralInteger"?_.left.value%1===0?"Integer":"Float":ut}return it[nt]||nt;case"UpdateExpression":return this.getType(_.argument);case"UnaryExpression":return _.operator==="~"?"Integer":this.getType(_.argument);case"VariableDeclaration":{const ut=_.declarations;let dt;for(let mt=0;mt<ut.length;mt++){const gt=ut[mt];dt=this.getType(gt)}if(!dt)throw this.astErrorOutput("Unable to find type for declaration",_);return dt}case"VariableDeclarator":const at=this.getDeclaration(_.id);if(!at)throw this.astErrorOutput("Unable to find declarator",_);if(!at.valueType)throw this.astErrorOutput("Unable to find declarator valueType",_);return at.valueType;case"Identifier":if(_.name==="Infinity")return"Number";if(this.isAstVariable(_)&&this.getVariableSignature(_)==="value")return this.getCheckVariableType(_);const ct=this.findIdentifierOrigin(_);return ct&&ct.init?this.getType(ct.init):null;case"ReturnStatement":return this.getType(_.argument);case"MemberExpression":if(this.isAstMathFunction(_)){switch(_.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(_)){switch(this.getVariableSignature(_)){case"value[]":return this.getLookupType(this.getCheckVariableType(_.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(_.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(_.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(_.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(_.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(_.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(_.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(_.object));case"value.value":if(this.isAstMathVariable(_))return"Number";switch(_.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(_.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",_)}throw this.astErrorOutput("Unhandled getType MemberExpression",_);case"ConditionalExpression":return this.getType(_.consequent);case"FunctionDeclaration":case"FunctionExpression":const ht=this.findLastReturn(_.body);return ht?this.getType(ht):null;case"IfStatement":return this.getType(_.consequent);case"SequenceExpression":return this.getType(_.expressions[_.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_)}}getCheckVariableType(_){const $=this.getVariableType(_);if(!$)throw this.astErrorOutput(`${_.type} is not defined`,_);return $}inferArgumentTypesIfNeeded(_,$){for(let et=0;et<$.length;et++){if(!this.needsArgumentType(_,et))continue;const nt=this.getType($[et]);if(!nt)throw this.astErrorOutput(`Unable to infer argument ${et}`,$[et]);this.assignArgumentType(_,et,nt)}}isAstMathVariable(_){const $=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return _.type==="MemberExpression"&&_.object&&_.object.type==="Identifier"&&_.object.name==="Math"&&_.property&&_.property.type==="Identifier"&&$.indexOf(_.property.name)>-1}isAstMathFunction(_){const $=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return _.type==="CallExpression"&&_.callee&&_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.object.type==="Identifier"&&_.callee.object.name==="Math"&&_.callee.property&&_.callee.property.type==="Identifier"&&$.indexOf(_.callee.property.name)>-1}isAstVariable(_){return _.type==="Identifier"||_.type==="MemberExpression"}isSafe(_){return this.isSafeDependencies(this.getDependencies(_))}isSafeDependencies(_){return _&&_.every?_.every($=>$.isSafe):!0}getDependencies(_,$,et){if($||($=[]),!_)return null;if(Array.isArray(_)){for(let nt=0;nt<_.length;nt++)this.getDependencies(_[nt],$,et);return $}switch(_.type){case"AssignmentExpression":return this.getDependencies(_.left,$,et),this.getDependencies(_.right,$,et),$;case"ConditionalExpression":return this.getDependencies(_.test,$,et),this.getDependencies(_.alternate,$,et),this.getDependencies(_.consequent,$,et),$;case"Literal":$.push({origin:"literal",value:_.value,isSafe:et===!0?!1:_.value>-1/0&&_.value<1/0&&!isNaN(_.value)});break;case"VariableDeclarator":return this.getDependencies(_.init,$,et);case"Identifier":const nt=this.getDeclaration(_);if(nt)$.push({name:_.name,origin:"declaration",isSafe:et?!1:this.isSafeDependencies(nt.dependencies)});else if(this.argumentNames.indexOf(_.name)>-1)$.push({name:_.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${_.name}"`);break;case"FunctionDeclaration":return this.getDependencies(_.body.body[_.body.body.length-1],$,et);case"ReturnStatement":return this.getDependencies(_.argument,$);case"BinaryExpression":case"LogicalExpression":return et=_.operator==="/"||_.operator==="*",this.getDependencies(_.left,$,et),this.getDependencies(_.right,$,et),$;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(_.argument,$,et);case"VariableDeclaration":return this.getDependencies(_.declarations,$,et);case"ArrayExpression":return $.push({origin:"declaration",isSafe:!0}),$;case"CallExpression":return $.push({origin:"function",isSafe:!0}),$;case"MemberExpression":const at=this.getMemberExpressionDetails(_);switch(at.signature){case"value[]":this.getDependencies(_.object,$,et);break;case"value[][]":this.getDependencies(_.object.object,$,et);break;case"value[][][]":this.getDependencies(_.object.object.object,$,et);break;case"this.output.value":this.dynamicOutput&&$.push({name:at.name,origin:"output",isSafe:!1});break}if(at)return at.property&&this.getDependencies(at.property,$,et),at.xProperty&&this.getDependencies(at.xProperty,$,et),at.yProperty&&this.getDependencies(at.yProperty,$,et),at.zProperty&&this.getDependencies(at.zProperty,$,et),$;case"SequenceExpression":return this.getDependencies(_.expressions,$,et);default:throw this.astErrorOutput(`Unhandled type ${_.type} in getDependencies`,_)}return $}getVariableSignature(_,$){if(!this.isAstVariable(_))throw new Error(`ast of type "${_.type}" is not a variable signature`);if(_.type==="Identifier")return"value";const et=[];for(;_;)_.computed?et.push("[]"):_.type==="ThisExpression"?et.unshift("this"):_.property&&_.property.name?_.property.name==="x"||_.property.name==="y"||_.property.name==="z"?et.unshift($?"."+_.property.name:".value"):_.property.name==="constants"||_.property.name==="thread"||_.property.name==="output"?et.unshift("."+_.property.name):et.unshift($?"."+_.property.name:".value"):_.name?et.unshift($?_.name:"value"):_.callee&&_.callee.name?et.unshift($?_.callee.name+"()":"fn()"):_.elements?et.unshift("[]"):et.unshift("unknown"),_=_.object;const nt=et.join("");return $||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(nt)>-1?nt:null}build(){return this.toString().length>0}astGeneric(_,$){if(_===null)throw this.astErrorOutput("NULL ast",_);if(Array.isArray(_)){for(let et=0;et<_.length;et++)this.astGeneric(_[et],$);return $}switch(_.type){case"FunctionDeclaration":return this.astFunctionDeclaration(_,$);case"FunctionExpression":return this.astFunctionExpression(_,$);case"ReturnStatement":return this.astReturnStatement(_,$);case"Literal":return this.astLiteral(_,$);case"BinaryExpression":return this.astBinaryExpression(_,$);case"Identifier":return this.astIdentifierExpression(_,$);case"AssignmentExpression":return this.astAssignmentExpression(_,$);case"ExpressionStatement":return this.astExpressionStatement(_,$);case"EmptyStatement":return this.astEmptyStatement(_,$);case"BlockStatement":return this.astBlockStatement(_,$);case"IfStatement":return this.astIfStatement(_,$);case"SwitchStatement":return this.astSwitchStatement(_,$);case"BreakStatement":return this.astBreakStatement(_,$);case"ContinueStatement":return this.astContinueStatement(_,$);case"ForStatement":return this.astForStatement(_,$);case"WhileStatement":return this.astWhileStatement(_,$);case"DoWhileStatement":return this.astDoWhileStatement(_,$);case"VariableDeclaration":return this.astVariableDeclaration(_,$);case"VariableDeclarator":return this.astVariableDeclarator(_,$);case"ThisExpression":return this.astThisExpression(_,$);case"SequenceExpression":return this.astSequenceExpression(_,$);case"UnaryExpression":return this.astUnaryExpression(_,$);case"UpdateExpression":return this.astUpdateExpression(_,$);case"LogicalExpression":return this.astLogicalExpression(_,$);case"MemberExpression":return this.astMemberExpression(_,$);case"CallExpression":return this.astCallExpression(_,$);case"ArrayExpression":return this.astArrayExpression(_,$);case"DebuggerStatement":return this.astDebuggerStatement(_,$);case"ConditionalExpression":return this.astConditionalExpression(_,$)}throw this.astErrorOutput("Unknown ast type : "+_.type,_)}astErrorOutput(_,$){if(typeof this.source!="string")return new Error(_);const et=st.getAstString(this.source,$),at=this.source.substr($.start).split(/\n/),ct=at.length>0?at[at.length-1]:0;return new Error(`${_} on line ${at.length}, position ${ct.length}:
 ${et}`)}astDebuggerStatement(_,$){return $}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);return $.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$}astFunction(_,$){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}astFunctionExpression(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}isChildFunction(_){for(let $=0;$<this.functions.length;$++)if(this.functions[$]===_)return!0;return!1}astReturnStatement(_,$){return $}astLiteral(_,$){return this.literalTypes[this.astKey(_)]="Number",$}astBinaryExpression(_,$){return $}astIdentifierExpression(_,$){return $}astAssignmentExpression(_,$){return $}astExpressionStatement(_,$){return this.astGeneric(_.expression,$),$.push(";"),$}astEmptyStatement(_,$){return $}astBlockStatement(_,$){return $}astIfStatement(_,$){return $}astSwitchStatement(_,$){return $}astBreakStatement(_,$){return $.push("break;"),$}astContinueStatement(_,$){return $.push(`continue;
`),$}astForStatement(_,$){return $}astWhileStatement(_,$){return $}astDoWhileStatement(_,$){return $}astVariableDeclarator(_,$){return this.astGeneric(_.id,$),_.init!==null&&($.push("="),this.astGeneric(_.init,$)),$}astThisExpression(_,$){return $}astSequenceExpression(_,$){const{expressions:et}=_,nt=[];for(let at=0;at<et.length;at++){const ct=et[at],ht=[];this.astGeneric(ct,ht),nt.push(ht.join(""))}return nt.length>1?$.push("(",nt.join(","),")"):$.push(nt[0]),$}astUnaryExpression(_,$){return this.checkAndUpconvertBitwiseUnary(_,$)||(_.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator))),$}checkAndUpconvertBitwiseUnary(_,$){}astUpdateExpression(_,$){return _.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator)),$}astLogicalExpression(_,$){return $.push("("),this.astGeneric(_.left,$),$.push(_.operator),this.astGeneric(_.right,$),$.push(")"),$}astMemberExpression(_,$){return $}astCallExpression(_,$){return $}astArrayExpression(_,$){return $}getMemberExpressionDetails(_){if(_.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${_.type} not a MemberExpression`,_);let $=null,et=null;const nt=this.getVariableSignature(_);switch(nt){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:nt,type:"Integer",name:_.property.name};case"value[]":if(typeof _.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.name,{name:$,origin:"user",signature:nt,type:this.getVariableType(_.object),xProperty:_.property};case"value[][]":if(typeof _.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.name,{name:$,origin:"user",signature:nt,type:this.getVariableType(_.object.object),yProperty:_.object.property,xProperty:_.property};case"value[][][]":if(typeof _.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.name,{name:$,origin:"user",signature:nt,type:this.getVariableType(_.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value[][][][]":if(typeof _.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.object.name,{name:$,origin:"user",signature:nt,type:this.getVariableType(_.object.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if(this.isAstMathVariable(_))return $=_.property.name,{name:$,origin:"Math",type:"Number",signature:nt};switch(_.property.name){case"r":case"g":case"b":case"a":return $=_.object.name,{name:$,property:_.property.name,origin:"user",signature:nt,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",_)}case"this.constants.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:nt};case"this.constants.value[]":if(typeof _.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:nt,xProperty:_.property};case"this.constants.value[][]":{if(typeof _.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:nt,yProperty:_.object.property,xProperty:_.property}}case"this.constants.value[][][]":{if(typeof _.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:nt,zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:nt,property:_.property};default:throw this.astErrorOutput("Unexpected expression",_)}}findIdentifierOrigin(_){const $=[this.ast];for(;$.length>0;){const et=$[0];if(et.type==="VariableDeclarator"&&et.id&&et.id.name&&et.id.name===_.name)return et;if($.shift(),et.argument)$.push(et.argument);else if(et.body)$.push(et.body);else if(et.declarations)$.push(et.declarations);else if(Array.isArray(et))for(let nt=0;nt<et.length;nt++)$.push(et[nt])}return null}findLastReturn(_){const $=[_||this.ast];for(;$.length>0;){const et=$.pop();if(et.type==="ReturnStatement")return et;if(et.type!=="FunctionDeclaration")if(et.argument)$.push(et.argument);else if(et.body)$.push(et.body);else if(et.declarations)$.push(et.declarations);else if(Array.isArray(et))for(let nt=0;nt<et.length;nt++)$.push(et[nt]);else et.consequent?$.push(et.consequent):et.cases&&$.push(et.cases)}return null}getInternalVariableName(_){return this._internalVariableNames.hasOwnProperty(_)||(this._internalVariableNames[_]=0),this._internalVariableNames[_]++,this._internalVariableNames[_]===1?_:_+this._internalVariableNames[_]}astKey(_,$=","){if(!_.start||!_.end)throw new Error("AST start and end needed");return`${_.start}${$}${_.end}`}}const it={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};a.exports={FunctionNode:rt}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(o,a,tt){const{utils:_e}=o("../utils");function st(it){return it.length>0?it[it.length-1]:null}const ot={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class rt{constructor(j){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(j)}isState(j){return this.states[this.states.length-1]===j}hasState(j){return this.states.indexOf(j)>-1}pushState(j){this.states.push(j)}popState(j){if(this.isState(j))this.states.pop();else throw new Error(`Cannot pop the non-active state "${j}"`)}get currentFunctionContext(){return st(this.functionContexts)}get currentContext(){return st(this.runningContexts)}newFunctionContext(){const j={"@contextType":"function"};this.contexts.push(j),this.functionContexts.push(j)}newContext(j){const _=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(_),this.runningContexts.push(_),j();const{currentFunctionContext:$}=this;for(const et in $)!$.hasOwnProperty(et)||_.hasOwnProperty(et)||(_[et]=$[et]);return this.runningContexts.pop(),_}useFunctionContext(j){const _=st(this.functionContexts);this.runningContexts.push(_),j(),this.runningContexts.pop()}getIdentifiers(j){const _=this.trackedIdentifiers=[];return this.pushState(ot.trackIdentifiers),j(),this.trackedIdentifiers=null,this.popState(ot.trackIdentifiers),_}getDeclaration(j){const{currentContext:_,currentFunctionContext:$,runningContexts:et}=this,nt=_[j]||$[j]||null;if(!nt&&_===$&&et.length>0){const at=et[et.length-2];if(at[j])return at[j]}return nt}scan(j){if(j){if(Array.isArray(j)){for(let _=0;_<j.length;_++)this.scan(j[_]);return}switch(j.type){case"Program":this.useFunctionContext(()=>{this.scan(j.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(j.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan(j.left),this.scan(j.right);break;case"BinaryExpression":this.scan(j.left),this.scan(j.right);break;case"UpdateExpression":if(j.operator==="++"){const _=this.getDeclaration(j.argument.name);_&&(_.suggestedType="Integer")}this.scan(j.argument);break;case"UnaryExpression":this.scan(j.argument);break;case"VariableDeclaration":j.kind==="var"?this.useFunctionContext(()=>{j.declarations=_e.normalizeDeclarations(j),this.scan(j.declarations)}):(j.declarations=_e.normalizeDeclarations(j),this.scan(j.declarations));break;case"VariableDeclarator":{const{currentContext:_}=this,$=this.hasState(ot.inForLoopInit),et={ast:j,context:_,name:j.id.name,origin:"declaration",inForLoopInit:$,inForLoopTest:null,assignable:_===this.currentFunctionContext||!$&&!_.hasOwnProperty(j.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};_[j.id.name]||(_[j.id.name]=et),this.declarations.push(et),this.scan(j.id),this.scan(j.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan(j.body):this.functions.push(j);break;case"IfStatement":this.scan(j.test),this.scan(j.consequent),j.alternate&&this.scan(j.alternate);break;case"ForStatement":{let _;const $=this.newContext(()=>{this.pushState(ot.inForLoopInit),this.scan(j.init),this.popState(ot.inForLoopInit),_=this.getIdentifiers(()=>{this.scan(j.test)}),this.scan(j.update),this.newContext(()=>{this.scan(j.body)})});if(_)for(const et in $)et!=="@contextType"&&_.indexOf(et)>-1&&($[et].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(j.body),this.scan(j.test)});break;case"Identifier":{this.isState(ot.trackIdentifiers)&&this.trackedIdentifiers.push(j.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(j.name),ast:j});break}case"ReturnStatement":this.returnStatements.push(j),this.scan(j.argument);break;case"MemberExpression":this.pushState(ot.memberExpression),this.scan(j.object),this.scan(j.property),this.popState(ot.memberExpression);break;case"ExpressionStatement":this.scan(j.expression);break;case"SequenceExpression":this.scan(j.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:j}),this.scan(j.arguments);break;case"ArrayExpression":this.scan(j.elements);break;case"ConditionalExpression":this.scan(j.test),this.scan(j.alternate),this.scan(j.consequent);break;case"SwitchStatement":this.scan(j.discriminant),this.scan(j.cases);break;case"SwitchCase":this.scan(j.test),this.scan(j.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${j.type}"`)}}}}a.exports={FunctionTracer:rt}},{"../utils":114}],12:[function(o,a,tt){const{glWiretap:_e}=o("gl-wiretap"),{utils:st}=o("../../utils");function ot(et){return et.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function rt(et,nt,at,ct,ht){at.built||at.build.apply(at,nt),nt=nt?Array.from(nt).map(yr=>{switch(typeof yr){case"boolean":return new Boolean(yr);case"number":return new Number(yr);default:return yr}}):null;const ut=[],dt=_e(at.context,{useTrackablePrimitives:!0,onReadPixels:yr=>{if(rr.subKernels){if(!mt)ut.push(`    const result = { result: ${it(yr,rr)} };`),mt=!0;else{const xr=rr.subKernels[gt++].property;ut.push(`    result${isNaN(xr)?"."+xr:`[${xr}]`} = ${it(yr,rr)};`)}gt===rr.subKernels.length&&ut.push("    return result;");return}yr?ut.push(`    return ${it(yr,rr)};`):ut.push("    return null;")},onUnrecognizedArgumentLookup:yr=>{const xr=$(yr,rr.kernelArguments,[],dt);if(xr)return xr;const vr=$(yr,rr.kernelConstants,Et?Object.keys(Et).map(ir=>Et[ir]):[],dt);return vr||null}});let mt=!1,gt=0;const{source:lt,canvas:St,output:xt,pipeline:yt,graphical:_t,loopMaxIterations:kt,constants:Et,optimizeFloatMemory:$t,precision:Tt,fixIntegerDivisionAccuracy:At,functions:Mt,nativeFunctions:Ot,subKernels:Pt,immutable:Ft,argumentTypes:zt,constantTypes:qt,kernelArguments:Gt,kernelConstants:Wt,tactic:Xt}=at,rr=new et(lt,{canvas:St,context:dt,checkContext:!1,output:xt,pipeline:yt,graphical:_t,loopMaxIterations:kt,constants:Et,optimizeFloatMemory:$t,precision:Tt,fixIntegerDivisionAccuracy:At,functions:Mt,nativeFunctions:Ot,subKernels:Pt,immutable:Ft,argumentTypes:zt,constantTypes:qt,tactic:Xt});let tr=[];if(dt.setIndent(2),rr.build.apply(rr,nt),tr.push(dt.toString()),dt.reset(),rr.kernelArguments.forEach((yr,xr)=>{switch(yr.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":dt.insertVariable(`uploadValue_${yr.name}`,yr.uploadValue);break;case"HTMLImageArray":for(let vr=0;vr<nt[xr].length;vr++){const ir=nt[xr];dt.insertVariable(`uploadValue_${yr.name}[${vr}]`,ir[vr])}break;case"Input":dt.insertVariable(`uploadValue_${yr.name}`,yr.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":dt.insertVariable(`uploadValue_${yr.name}`,nt[xr].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${yr.type}`)}}),tr.push("/** start of injected functions **/"),tr.push(`function ${ot(st.flattenTo)}`),tr.push(`function ${ot(st.flatten2dArrayTo)}`),tr.push(`function ${ot(st.flatten3dArrayTo)}`),tr.push(`function ${ot(st.flatten4dArrayTo)}`),tr.push(`function ${ot(st.isArray)}`),rr.renderOutput!==rr.renderTexture&&rr.formatValues&&tr.push(`  const renderOutput = function ${ot(rr.formatValues)};`),tr.push("/** end of injected functions **/"),tr.push(`  const innerKernel = function (${rr.kernelArguments.map(yr=>yr.varName).join(", ")}) {`),dt.setIndent(4),rr.run.apply(rr,nt),rr.renderKernels?rr.renderKernels():rr.renderOutput&&rr.renderOutput(),tr.push("    /** start setup uploads for kernel values **/"),rr.kernelArguments.forEach(yr=>{tr.push("    "+yr.getStringValueHandler().split(`
`).join(`
    `))}),tr.push("    /** end setup uploads for kernel values **/"),tr.push(dt.toString()),rr.renderOutput===rr.renderTexture){dt.reset();const yr=dt.getContextVariableName(rr.framebuffer);if(rr.renderKernels){const xr=rr.renderKernels(),vr=dt.getContextVariableName(rr.texture.texture);tr.push(`    return {
      result: {
        texture: ${vr},
        type: '${xr.result.type}',
        toArray: ${_(xr.result,vr,yr)}
      },`);const{subKernels:ir,mappedTextures:sr}=rr;for(let er=0;er<ir.length;er++){const Tr=sr[er],Cr=ir[er],dr=xr[Cr.property],Wr=dt.getContextVariableName(Tr.texture);tr.push(`
      ${Cr.property}: {
        texture: ${Wr},
        type: '${dr.type}',
        toArray: ${_(dr,Wr,yr)}
      },`)}tr.push("    };")}else{const xr=rr.renderOutput(),vr=dt.getContextVariableName(rr.texture.texture);tr.push(`    return {
        texture: ${vr},
        type: '${xr.type}',
        toArray: ${_(xr,vr,yr)}
      };`)}}tr.push(`    ${ht?`
`+ht+"    ":""}`),tr.push(ut.join(`
`)),tr.push("  };"),rr.graphical&&(tr.push(j(rr)),tr.push("  innerKernel.getPixels = getPixels;")),tr.push("  return innerKernel;");let mr=[];return Wt.forEach(yr=>{mr.push(`${yr.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${mr.join("")}
  ${ct||""}
${tr.join(`
`)}
}`}function it(et,nt){const at=nt.precision==="single"?et:`new Float32Array(${et}.buffer)`;return nt.output[2]?`renderOutput(${at}, ${nt.output[0]}, ${nt.output[1]}, ${nt.output[2]})`:nt.output[1]?`renderOutput(${at}, ${nt.output[0]}, ${nt.output[1]})`:`renderOutput(${at}, ${nt.output[0]})`}function j(et){const nt=et.getPixels.toString(),at=!/^function/.test(nt);return st.flattenFunctionToString(`${at?"function ":""}${nt}`,{findDependency:(ct,ht)=>ct==="utils"?`const ${ht} = ${st[ht].toString()};`:null,thisLookup:ct=>{if(ct==="context")return null;if(et.hasOwnProperty(ct))return JSON.stringify(et[ct]);throw new Error(`unhandled thisLookup ${ct}`)}})}function _(et,nt,at){const ct=et.toArray.toString(),ht=!/^function/.test(ct),ut=st.flattenFunctionToString(`${ht?"function ":""}${ct}`,{findDependency:(dt,mt)=>{if(dt==="utils")return`const ${mt} = ${st[mt].toString()};`;if(dt==="this")return mt==="framebuffer"?"":`${ht?"function ":""}${et[mt].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(dt,mt)=>{if(dt==="texture")return nt;if(dt==="context")return mt?null:"gl";if(et.hasOwnProperty(dt))return JSON.stringify(et[dt]);throw new Error(`unhandled thisLookup ${dt}`)}});return`() => {
  function framebuffer() { return ${at}; };
  ${ut}
  return toArray();
  }`}function $(et,nt,at,ct,ht){if(et===null||nt===null)return null;switch(typeof et){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement)for(let ut=0;ut<nt.length;ut++){const dt=nt[ut];if(dt.type!=="HTMLImageArray"&&dt||dt.uploadValue!==et)continue;const mt=at[ut].indexOf(et);if(mt===-1)continue;const gt=`uploadValue_${dt.name}[${mt}]`;return ct.insertVariable(gt,et),gt}for(let ut=0;ut<nt.length;ut++){const dt=nt[ut];if(et!==dt.uploadValue)continue;const mt=`uploadValue_${dt.name}`;return ct.insertVariable(mt,dt),mt}return null}a.exports={glKernelString:rt}},{"../../utils":114,"gl-wiretap":3}],13:[function(o,a,tt){const{Kernel:_e}=o("../kernel"),{utils:st}=o("../../utils"),{GLTextureArray2Float:ot}=o("./texture/array-2-float"),{GLTextureArray2Float2D:rt}=o("./texture/array-2-float-2d"),{GLTextureArray2Float3D:it}=o("./texture/array-2-float-3d"),{GLTextureArray3Float:j}=o("./texture/array-3-float"),{GLTextureArray3Float2D:_}=o("./texture/array-3-float-2d"),{GLTextureArray3Float3D:$}=o("./texture/array-3-float-3d"),{GLTextureArray4Float:et}=o("./texture/array-4-float"),{GLTextureArray4Float2D:nt}=o("./texture/array-4-float-2d"),{GLTextureArray4Float3D:at}=o("./texture/array-4-float-3d"),{GLTextureFloat:ct}=o("./texture/float"),{GLTextureFloat2D:ht}=o("./texture/float-2d"),{GLTextureFloat3D:ut}=o("./texture/float-3d"),{GLTextureMemoryOptimized:dt}=o("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:mt}=o("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:gt}=o("./texture/memory-optimized-3d"),{GLTextureUnsigned:lt}=o("./texture/unsigned"),{GLTextureUnsigned2D:St}=o("./texture/unsigned-2d"),{GLTextureUnsigned3D:xt}=o("./texture/unsigned-3d"),{GLTextureGraphical:yt}=o("./texture/graphical");class _t extends _e{static get mode(){return"gpu"}static getIsFloatRead(){const $t=`function kernelFunction() {
      return 1;
    }`,Tt=new this($t,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});Tt.build(),Tt.run();const At=Tt.renderOutput();return Tt.destroy(!0),At[0]===1}static getIsIntegerDivisionAccurate(){function $t(Ot,Pt){return Ot[this.thread.x]/Pt[this.thread.x]}const Tt=new this($t.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),At=[[6,6030401],[3,3991]];Tt.build.apply(Tt,At),Tt.run.apply(Tt,At);const Mt=Tt.renderOutput();return Tt.destroy(!0),Mt[0]===2&&Mt[1]===1511}static getIsSpeedTacticSupported(){function $t(Ot){return Ot[this.thread.x]}const Tt=new this($t.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),At=[[0,1,2,3]];Tt.build.apply(Tt,At),Tt.run.apply(Tt,At);const Mt=Tt.renderOutput();return Tt.destroy(!0),Math.round(Mt[0])===0&&Math.round(Mt[1])===1&&Math.round(Mt[2])===2&&Math.round(Mt[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const $t=this.testContext,Tt=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:Tt,kernelMap:Tt,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:$t.getShaderPrecisionFormat($t.FRAGMENT_SHADER,$t.LOW_INT),lowFloatPrecision:$t.getShaderPrecisionFormat($t.FRAGMENT_SHADER,$t.LOW_FLOAT),mediumIntPrecision:$t.getShaderPrecisionFormat($t.FRAGMENT_SHADER,$t.MEDIUM_INT),mediumFloatPrecision:$t.getShaderPrecisionFormat($t.FRAGMENT_SHADER,$t.MEDIUM_FLOAT),highIntPrecision:$t.getShaderPrecisionFormat($t.FRAGMENT_SHADER,$t.HIGH_INT),highFloatPrecision:$t.getShaderPrecisionFormat($t.FRAGMENT_SHADER,$t.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature($t,Tt){return $t.getVariablePrecisionString()+(Tt.length>0?":"+Tt.join(","):"")}setFixIntegerDivisionAccuracy($t){return this.fixIntegerDivisionAccuracy=$t,this}setPrecision($t){return this.precision=$t,this}setFloatTextures($t){return st.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=$t,this}static nativeFunctionArguments($t){const Tt=[],At=[],Mt=[],Ot=/^[a-zA-Z_]/,Pt=/[a-zA-Z_0-9]/;let Ft=0,zt=null,qt=null;for(;Ft<$t.length;){const Gt=$t[Ft],Wt=$t[Ft+1],Xt=Mt.length>0?Mt[Mt.length-1]:null;if(Xt==="FUNCTION_ARGUMENTS"&&Gt==="/"&&Wt==="*"){Mt.push("MULTI_LINE_COMMENT"),Ft+=2;continue}else if(Xt==="MULTI_LINE_COMMENT"&&Gt==="*"&&Wt==="/"){Mt.pop(),Ft+=2;continue}else if(Xt==="FUNCTION_ARGUMENTS"&&Gt==="/"&&Wt==="/"){Mt.push("COMMENT"),Ft+=2;continue}else if(Xt==="COMMENT"&&Gt===`
`){Mt.pop(),Ft++;continue}else if(Xt===null&&Gt==="("){Mt.push("FUNCTION_ARGUMENTS"),Ft++;continue}else if(Xt==="FUNCTION_ARGUMENTS"){if(Gt===")"){Mt.pop();break}if(Gt==="f"&&Wt==="l"&&$t[Ft+2]==="o"&&$t[Ft+3]==="a"&&$t[Ft+4]==="t"&&$t[Ft+5]===" "){Mt.push("DECLARE_VARIABLE"),qt="float",zt="",Ft+=6;continue}else if(Gt==="i"&&Wt==="n"&&$t[Ft+2]==="t"&&$t[Ft+3]===" "){Mt.push("DECLARE_VARIABLE"),qt="int",zt="",Ft+=4;continue}else if(Gt==="v"&&Wt==="e"&&$t[Ft+2]==="c"&&$t[Ft+3]==="2"&&$t[Ft+4]===" "){Mt.push("DECLARE_VARIABLE"),qt="vec2",zt="",Ft+=5;continue}else if(Gt==="v"&&Wt==="e"&&$t[Ft+2]==="c"&&$t[Ft+3]==="3"&&$t[Ft+4]===" "){Mt.push("DECLARE_VARIABLE"),qt="vec3",zt="",Ft+=5;continue}else if(Gt==="v"&&Wt==="e"&&$t[Ft+2]==="c"&&$t[Ft+3]==="4"&&$t[Ft+4]===" "){Mt.push("DECLARE_VARIABLE"),qt="vec4",zt="",Ft+=5;continue}}else if(Xt==="DECLARE_VARIABLE"){if(zt===""){if(Gt===" "){Ft++;continue}if(!Ot.test(Gt))throw new Error("variable name is not expected string")}zt+=Gt,Pt.test(Wt)||(Mt.pop(),At.push(zt),Tt.push(kt[qt]))}Ft++}if(Mt.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:At,argumentTypes:Tt}}static nativeFunctionReturnType($t){return kt[$t.match(/int|float|vec[2-4]/)[0]]}static combineKernels($t,Tt){$t.apply(null,arguments);const{texSize:At,context:Mt,threadDim:Ot}=Tt.texSize;let Pt;if(Tt.precision==="single"){const Ft=At[0],zt=Math.ceil(At[1]/4);Pt=new Float32Array(Ft*zt*4*4),Mt.readPixels(0,0,Ft,zt*4,Mt.RGBA,Mt.FLOAT,Pt)}else{const Ft=new Uint8Array(At[0]*At[1]*4);Mt.readPixels(0,0,At[0],At[1],Mt.RGBA,Mt.UNSIGNED_BYTE,Ft),Pt=new Float32Array(Ft.buffer)}if(Pt=Pt.subarray(0,Ot[0]*Ot[1]*Ot[2]),Tt.output.length===1)return Pt;if(Tt.output.length===2)return st.splitArray(Pt,Tt.output[0]);if(Tt.output.length===3)return st.splitArray(Pt,Tt.output[0]*Tt.output[1]).map(function(zt){return st.splitArray(zt,Tt.output[0])})}constructor($t,Tt){super($t,Tt),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:$t}=this.constructor;if(this.texSize[0]>$t.maxTextureSize||this.texSize[1]>$t.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${$t.maxTextureSize},${$t.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy($t){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=Tt=>Tt,this.TextureConstructor=yt,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=xt,null):this.output[1]>0?(this.TextureConstructor=St,null):(this.TextureConstructor=lt,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback($t)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=xt,this.formatValues=st.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=St,this.formatValues=st.erect2DPackedFloat,null):(this.TextureConstructor=lt,this.formatValues=st.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback($t)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=gt,null):this.output[1]>0?(this.TextureConstructor=mt,null):(this.TextureConstructor=dt,null):this.output[2]>0?(this.TextureConstructor=ut,null):this.output[1]>0?(this.TextureConstructor=ht,null):(this.TextureConstructor=ct,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,null):this.output[1]>0?(this.TextureConstructor=rt,null):(this.TextureConstructor=ot,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,null):this.output[1]>0?(this.TextureConstructor=_,null):(this.TextureConstructor=j,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=at,null):this.output[1]>0?(this.TextureConstructor=nt,null):(this.TextureConstructor=et,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=gt,this.formatValues=st.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=mt,this.formatValues=st.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=dt,this.formatValues=st.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,this.formatValues=st.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=rt,this.formatValues=st.erect2DArray2,null):(this.TextureConstructor=ot,this.formatValues=st.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=st.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=st.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=st.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=at,this.formatValues=st.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=nt,this.formatValues=st.erect2DArray4,null):(this.TextureConstructor=et,this.formatValues=st.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=ut,this.formatValues=st.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=ht,this.formatValues=st.erect2DFloat,null):(this.TextureConstructor=ct,this.formatValues=st.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,this.formatValues=st.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=rt,this.formatValues=st.erect2DArray2,null):(this.TextureConstructor=ot,this.formatValues=st.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=st.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=st.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=st.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=at,this.formatValues=st.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=nt,this.formatValues=st.erect2DArray4,null):(this.TextureConstructor=et,this.formatValues=st.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return st.linesToString(this.getMainResultKernelNumberTexture())+st.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return st.linesToString(this.getMainResultKernelArray2Texture())+st.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return st.linesToString(this.getMainResultKernelArray3Texture())+st.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return st.linesToString(this.getMainResultKernelArray4Texture())+st.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:$t,context:Tt}=this,At=new Uint8Array($t[0]*$t[1]*4);return Tt.readPixels(0,0,$t[0],$t[1],Tt.RGBA,Tt.UNSIGNED_BYTE,At),At}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:$t,context:Tt}=this,At=$t[0],Mt=$t[1],Ot=new Float32Array(At*Mt*4);return Tt.readPixels(0,0,At,Mt,Tt.RGBA,Tt.FLOAT,Ot),Ot}getPixels($t){const{context:Tt,output:At}=this,[Mt,Ot]=At,Pt=new Uint8Array(Mt*Ot*4);return Tt.readPixels(0,0,Mt,Ot,Tt.RGBA,Tt.UNSIGNED_BYTE,Pt),new Uint8ClampedArray(($t?Pt:st.flipPixels(Pt,Mt,Ot)).buffer)}renderKernelsToArrays(){const $t={result:this.renderOutput()};for(let Tt=0;Tt<this.subKernels.length;Tt++)$t[this.subKernels[Tt].property]=this.mappedTextures[Tt].toArray();return $t}renderKernelsToTextures(){const $t={result:this.renderOutput()};if(this.immutable)for(let Tt=0;Tt<this.subKernels.length;Tt++)$t[this.subKernels[Tt].property]=this.mappedTextures[Tt].clone();else for(let Tt=0;Tt<this.subKernels.length;Tt++)$t[this.subKernels[Tt].property]=this.mappedTextures[Tt];return $t}resetSwitchingKernels(){const $t=this.switchingKernels;return this.switchingKernels=null,$t}setOutput($t){const Tt=this.toKernelOutput($t);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const At=[Tt[0],Tt[1]||1,Tt[2]||1],Mt=st.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},At),Ot=this.texSize;if(Ot){const Ft=this.getVariablePrecisionString(Ot,this.tactic),zt=this.getVariablePrecisionString(Mt,this.tactic);if(Ft!==zt){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:zt,needed:$t});return}}this.output=Tt,this.threadDim=At,this.texSize=Mt;const{context:Pt}=this;if(Pt.bindFramebuffer(Pt.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],Pt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let Ft=0;Ft<this.mappedTextures.length;Ft++)this.mappedTextures[Ft].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=Tt;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels($t){this.switchingKernels?this.switchingKernels.push($t):this.switchingKernels=[$t]}getVariablePrecisionString($t=this.texSize,Tt=this.tactic,At=!1){if(!Tt){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const Mt=this.constructor.features[At?"lowIntPrecision":"lowFloatPrecision"],Ot=this.constructor.features[At?"mediumIntPrecision":"mediumFloatPrecision"],Pt=this.constructor.features[At?"highIntPrecision":"highFloatPrecision"],Ft=Math.log2($t[0]*$t[1]);if(Ft<=Mt.rangeMax)return"lowp";if(Ft<=Ot.rangeMax)return"mediump";if(Ft<=Pt.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(Tt){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${Tt}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs($t,Tt){if(this.immutable){if(this.texture.texture===Tt.texture){const{prevArg:At}=$t;At&&(At.texture._refs===1&&(this.texture.delete(),this.texture=At.clone(),this._textureSwitched=!0),At.delete()),$t.prevArg=Tt.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:At}=this;for(let Mt=0;Mt<At.length;Mt++){const Ot=At[Mt];if(Ot.texture===Tt.texture){const{prevArg:Pt}=$t;Pt&&(Pt.texture._refs===1&&(Ot.delete(),At[Mt]=Pt.clone(),this._mappedTextureSwitched[Mt]=!0),Pt.delete()),$t.prevArg=Tt.clone();return}}}}}onActivate($t){if(this._textureSwitched=!0,this.texture=$t.texture,this.mappedTextures){for(let Tt=0;Tt<this.mappedTextures.length;Tt++)this._mappedTextureSwitched[Tt]=!0;this.mappedTextures=$t.mappedTextures}}initCanvas(){}}const kt={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};a.exports={GLKernel:_t}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return _e.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray2Float2D:ot}},{"../../../utils":114,"./float":25}],15:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return _e.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray2Float3D:ot}},{"../../../utils":114,"./float":25}],16:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return _e.erectArray2(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray2Float:ot}},{"../../../utils":114,"./float":25}],17:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return _e.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray3Float2D:ot}},{"../../../utils":114,"./float":25}],18:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return _e.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray3Float3D:ot}},{"../../../utils":114,"./float":25}],19:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return _e.erectArray3(this.renderValues(),this.output[0])}}a.exports={GLTextureArray3Float:ot}},{"../../../utils":114,"./float":25}],20:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return _e.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray4Float2D:ot}},{"../../../utils":114,"./float":25}],21:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return _e.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray4Float3D:ot}},{"../../../utils":114,"./float":25}],22:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return _e.erectArray4(this.renderValues(),this.output[0])}}a.exports={GLTextureArray4Float:ot}},{"../../../utils":114,"./float":25}],23:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(1)"}toArray(){return _e.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureFloat2D:ot}},{"../../../utils":114,"./float":25}],24:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="ArrayTexture(1)"}toArray(){return _e.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureFloat3D:ot}},{"../../../utils":114,"./float":25}],25:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTexture:st}=o("./index");class ot extends st{get textureType(){return this.context.FLOAT}constructor(it){super(it),this.type="ArrayTexture(1)"}renderRawOutput(){const it=this.context,j=this.size;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,this.texture,0);const _=new Float32Array(j[0]*j[1]*4);return it.readPixels(0,0,j[0],j[1],it.RGBA,it.FLOAT,_),_}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return _e.erectFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureFloat:ot}},{"../../../utils":114,"./index":27}],26:[function(o,a,tt){const{GLTextureUnsigned:_e}=o("./unsigned");class st extends _e{constructor(rt){super(rt),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}a.exports={GLTextureGraphical:st}},{"./unsigned":33}],27:[function(o,a,tt){const{Texture:_e}=o("../../../texture");class st extends _e{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:it,size:j,texture:_,kernel:$}=this;$.debug&&console.warn("cloning internal texture"),it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),ot(it,_),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,_,0);const et=it.createTexture();ot(it,et),it.texImage2D(it.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,0,0,j[0],j[1]),et._refs=1,this.texture=et}newTexture(){this.texture._refs--;const it=this.context,j=this.size;this.kernel.debug&&console.warn("new internal texture");const $=it.createTexture();ot(it,$),it.texImage2D(it.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),$._refs=1,this.texture=$}clear(){if(this.texture._refs){this.texture._refs--;const _=this.context,$=this.texture=_.createTexture();ot(_,$);const et=this.size;$._refs=1,_.texImage2D(_.TEXTURE_2D,0,this.internalFormat,et[0],et[1],0,this.textureFormat,this.textureType,null)}const{context:it,texture:j}=this;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.bindTexture(it.TEXTURE_2D,j),ot(it,j),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,j,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT|it.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function ot(rt,it){rt.activeTexture(rt.TEXTURE15),rt.bindTexture(rt.TEXTURE_2D,it),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MIN_FILTER,rt.NEAREST),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MAG_FILTER,rt.NEAREST)}a.exports={GLTexture:st}},{"../../../texture":113}],28:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return _e.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureMemoryOptimized2D:ot}},{"../../../utils":114,"./float":25}],29:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return _e.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureMemoryOptimized3D:ot}},{"../../../utils":114,"./float":25}],30:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureFloat:st}=o("./float");class ot extends st{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return _e.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureMemoryOptimized:ot}},{"../../../utils":114,"./float":25}],31:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureUnsigned:st}=o("./unsigned");class ot extends st{constructor(it){super(it),this.type="NumberTexture"}toArray(){return _e.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureUnsigned2D:ot}},{"../../../utils":114,"./unsigned":33}],32:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTextureUnsigned:st}=o("./unsigned");class ot extends st{constructor(it){super(it),this.type="NumberTexture"}toArray(){return _e.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureUnsigned3D:ot}},{"../../../utils":114,"./unsigned":33}],33:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{GLTexture:st}=o("./index");class ot extends st{get textureType(){return this.context.UNSIGNED_BYTE}constructor(it){super(it),this.type="NumberTexture"}renderRawOutput(){const{context:it}=this;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,this.texture,0);const j=new Uint8Array(this.size[0]*this.size[1]*4);return it.readPixels(0,0,this.size[0],this.size[1],it.RGBA,it.UNSIGNED_BYTE,j),j}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return _e.erectPackedFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureUnsigned:ot}},{"../../../utils":114,"./index":27}],34:[function(o,a,tt){const _e=o("gl"),{WebGLKernel:st}=o("../web-gl/kernel"),{glKernelString:ot}=o("../gl/kernel-string");let rt=null,it=null,j=null,_=null,$=null;class et extends st{static get isSupported(){return rt!==null||(this.setupFeatureChecks(),rt=j!==null),rt}static setupFeatureChecks(){if(it=null,_=null,typeof _e=="function")try{if(j=_e(2,2,{preserveDrawingBuffer:!0}),!j||!j.getExtension)return;_={STACKGL_resize_drawingbuffer:j.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:j.getExtension("STACKGL_destroy_context"),OES_texture_float:j.getExtension("OES_texture_float"),OES_texture_float_linear:j.getExtension("OES_texture_float_linear"),OES_element_index_uint:j.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:j.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:j.getExtension("WEBGL_color_buffer_float")},$=this.getFeatures()}catch(at){console.warn(at)}}static isContextMatch(at){try{return at.getParameter(at.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return!!_.OES_texture_float}static getIsDrawBuffers(){return!!_.WEBGL_draw_buffers}static getChannelCount(){return _.WEBGL_draw_buffers?j.getParameter(_.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return j.getParameter(j.MAX_TEXTURE_SIZE)}static get testCanvas(){return it}static get testContext(){return j}static get features(){return $}initCanvas(){return{}}initContext(){return _e(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(at){const ct=at.getExtension("STACKGL_destroy_context");ct&&ct.destroy&&ct.destroy()}toString(){return ot(this.constructor,arguments,this,`const gl = context || require('gl')(1, 1);
`,`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`)}setOutput(at){return super.setOutput(at),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}a.exports={HeadlessGLKernel:et}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(o,a,tt){class _e{constructor(ot,rt){const{name:it,kernel:j,context:_,checkContext:$,onRequestContextHandle:et,onUpdateValueMismatch:nt,origin:at,strictIntegers:ct,type:ht,tactic:ut}=rt;if(!it)throw new Error("name not set");if(!ht)throw new Error("type not set");if(!at)throw new Error("origin not set");if(at!=="user"&&at!=="constants")throw new Error(`origin must be "user" or "constants" value is "${at}"`);if(!et)throw new Error("onRequestContextHandle is not set");this.name=it,this.origin=at,this.tactic=ut,this.varName=at==="constants"?`constants.${it}`:it,this.kernel=j,this.strictIntegers=ct,this.type=ot.type||ht,this.size=ot.size||null,this.index=null,this.context=_,this.checkContext=$??!0,this.contextHandle=null,this.onRequestContextHandle=et,this.onUpdateValueMismatch=nt,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(ot){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}a.exports={KernelValue:_e}},{}],36:[function(o,a,tt){const{utils:_e}=o("../utils"),{Input:st}=o("../input");class ot{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(j){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(j){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(j,_){if(typeof j!="object"){if(typeof j!="string")throw new Error("source not a string");if(!_e.isFunctionString(j))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof j=="string"?_e.getArgumentNamesFromString(j):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=j,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(j){for(let _ in j)if(!(!j.hasOwnProperty(_)||!this.hasOwnProperty(_))){switch(_){case"output":if(!Array.isArray(j.output)){this.setOutput(j.output);continue}break;case"functions":this.functions=[];for(let $=0;$<j.functions.length;$++)this.addFunction(j.functions[$]);continue;case"graphical":j[_]&&!j.hasOwnProperty("precision")&&(this.precision="unsigned"),this[_]=j[_];continue;case"nativeFunctions":if(!j.nativeFunctions)continue;this.nativeFunctions=[];for(let $=0;$<j.nativeFunctions.length;$++){const et=j.nativeFunctions[$],{name:nt,source:at}=et;this.addNativeFunction(nt,at,et)}continue}this[_]=j[_]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(j))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(j){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(j,_={}){if(j.name&&j.source&&j.argumentTypes&&"returnType"in j)this.functions.push(j);else if("settings"in j&&"source"in j)this.functions.push(this.functionToIGPUFunction(j.source,j.settings));else if(typeof j=="string"||typeof j=="function")this.functions.push(this.functionToIGPUFunction(j,_));else throw new Error("function not properly defined");return this}addNativeFunction(j,_,$={}){const{argumentTypes:et,argumentNames:nt}=$.argumentTypes?rt($.argumentTypes):this.constructor.nativeFunctionArguments(_)||{};return this.nativeFunctions.push({name:j,source:_,settings:$,argumentTypes:et,argumentNames:nt,returnType:$.returnType||this.constructor.nativeFunctionReturnType(_)}),this}setupArguments(j){if(this.kernelArguments=[],this.argumentTypes)for(let _=0;_<this.argumentTypes.length;_++)this.kernelArguments.push({type:this.argumentTypes[_]});else if(!this.argumentTypes){this.argumentTypes=[];for(let _=0;_<j.length;_++){const $=_e.getVariableType(j[_],this.strictIntegers),et=$==="Integer"?"Number":$;this.argumentTypes.push(et),this.kernelArguments.push({type:et})}}this.argumentSizes=new Array(j.length),this.argumentBitRatios=new Int32Array(j.length);for(let _=0;_<j.length;_++){const $=j[_];this.argumentSizes[_]=$.constructor===st?$.size:null,this.argumentBitRatios[_]=this.getBitRatio($)}if(this.argumentNames.length!==j.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let j=this.constantTypes===null;if(j&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let _ in this.constants){if(j){const $=_e.getVariableType(this.constants[_],this.strictIntegers);this.constantTypes[_]=$,this.kernelConstants.push({name:_,type:$})}else this.kernelConstants.push({name:_,type:this.constantTypes[_]});this.constantBitRatios[_]=this.getBitRatio(this.constants[_])}}setOptimizeFloatMemory(j){return this.optimizeFloatMemory=j,this}toKernelOutput(j){return j.hasOwnProperty("x")?j.hasOwnProperty("y")?j.hasOwnProperty("z")?[j.x,j.y,j.z]:[j.x,j.y]:[j.x]:j}setOutput(j){return this.output=this.toKernelOutput(j),this}setDebug(j){return this.debug=j,this}setGraphical(j){return this.graphical=j,this.precision="unsigned",this}setLoopMaxIterations(j){return this.loopMaxIterations=j,this}setConstants(j){return this.constants=j,this}setConstantTypes(j){return this.constantTypes=j,this}setFunctions(j){for(let _=0;_<j.length;_++)this.addFunction(j[_]);return this}setNativeFunctions(j){for(let _=0;_<j.length;_++){const $=j[_],{name:et,source:nt}=$;this.addNativeFunction(et,nt,$)}return this}setInjectedNative(j){return this.injectedNative=j,this}setPipeline(j){return this.pipeline=j,this}setPrecision(j){return this.precision=j,this}setDimensions(j){return _e.warnDeprecated("method","setDimensions","setOutput"),this.output=j,this}setOutputToTexture(j){return _e.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=j,this}setImmutable(j){return this.immutable=j,this}setCanvas(j){return this.canvas=j,this}setStrictIntegers(j){return this.strictIntegers=j,this}setDynamicOutput(j){return this.dynamicOutput=j,this}setHardcodeConstants(j){return _e.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(j),this.setDynamicArguments(j),this}setDynamicArguments(j){return this.dynamicArguments=j,this}setUseLegacyEncoder(j){return this.useLegacyEncoder=j,this}setWarnVarUsage(j){return _e.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return _e.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return _e.warnDeprecated("method","getWebGl"),this.context}setContext(j){return this.context=j,this}setArgumentTypes(j){if(Array.isArray(j))this.argumentTypes=j;else{this.argumentTypes=[];for(const _ in j){if(!j.hasOwnProperty(_))continue;const $=this.argumentNames.indexOf(_);if($===-1)throw new Error(`unable to find argument ${_}`);this.argumentTypes[$]=j[_]}}return this}setTactic(j){return this.tactic=j,this}requestFallback(j){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(j)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(j){if(this.subKernels===null&&(this.subKernels=[]),!j.source)throw new Error('subKernel missing "source" property');if(!j.property&&isNaN(j.property))throw new Error('subKernel missing "property" property');if(!j.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(j),this}destroy(j){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(j){if(this.precision==="single")return 4;if(Array.isArray(j[0]))return this.getBitRatio(j[0]);if(j.constructor===st)return this.getBitRatio(j.value);switch(j.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(j){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!_e.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let j=0;j<this.output.length;j++)if(isNaN(this.output[j])||this.output[j]<1)throw new Error(`${this.constructor.name}.output[${j}] incorrectly defined as \`${this.output[j]}\`, needs to be numeric, and greater than 0`)}prependString(j){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(j){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(j=>j.name):null,returnType:this.returnType}}}buildSignature(j){const _=this.constructor;this.signature=_.getSignature(this,_.getArgumentTypes(this,j))}static getArgumentTypes(j,_){const $=new Array(_.length);for(let et=0;et<_.length;et++){const nt=_[et],at=j.argumentTypes[et];if(nt.type)$[et]=nt.type;else switch(at){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":$[et]=_e.getVariableType(nt);break;default:$[et]=at}}return $}static getSignature(j,_){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(j,_={}){if(typeof j!="string"&&typeof j!="function")throw new Error("source not a string or function");const $=typeof j=="string"?j:j.toString();let et=[];return Array.isArray(_.argumentTypes)?et=_.argumentTypes:typeof _.argumentTypes=="object"?et=_e.getArgumentNamesFromString($).map(nt=>_.argumentTypes[nt])||[]:et=_.argumentTypes||[],{name:_e.getFunctionNameFromString($)||null,source:$,argumentTypes:et,returnType:_.returnType||null}}onActivate(j){}}function rt(it){const j=Object.keys(it),_=[];for(let $=0;$<j.length;$++){const et=j[$];_.push(it[et])}return{argumentTypes:_,argumentNames:j}}a.exports={Kernel:ot}},{"../input":110,"../utils":114}],37:[function(o,a,tt){const _e=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;a.exports={fragmentShader:_e}},{}],38:[function(o,a,tt){const{utils:_e}=o("../../utils"),{FunctionNode:st}=o("../function-node");class ot extends st{constructor(_,$){super(_,$),$&&$.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=$.fixIntegerDivisionAccuracy)}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);const et=this.getType(_.consequent),nt=this.getType(_.alternate);return et===null&&nt===null?($.push("if ("),this.astGeneric(_.test,$),$.push(") {"),this.astGeneric(_.consequent,$),$.push(";"),$.push("} else {"),this.astGeneric(_.alternate,$),$.push(";"),$.push("}"),$):($.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$)}astFunction(_,$){if(this.isRootKernel)$.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(_.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:et}=this;if(!et)$.push("void");else{const nt=rt[et];if(!nt)throw new Error(`unknown type ${et}`);$.push(nt)}}if($.push(" "),$.push(this.name),$.push("("),!this.isRootKernel)for(let et=0;et<this.argumentNames.length;++et){const nt=this.argumentNames[et];et>0&&$.push(", ");let at=this.argumentTypes[this.argumentNames.indexOf(nt)];if(!at)throw this.astErrorOutput(`Unknown argument ${nt} type`,_);at==="LiteralInteger"&&(this.argumentTypes[et]=at="Number");const ct=rt[at];if(!ct)throw this.astErrorOutput("Unexpected expression",_);const ht=_e.sanitizeName(nt);ct==="sampler2D"||ct==="sampler2DArray"?$.push(`${ct} user_${ht},ivec2 user_${ht}Size,ivec3 user_${ht}Dim`):$.push(`${ct} user_${ht}`)}$.push(`) {
`);for(let et=0;et<_.body.body.length;++et)this.astGeneric(_.body.body[et],$),$.push(`
`);return $.push(`}
`),$}astReturnStatement(_,$){if(!_.argument)throw this.astErrorOutput("Unexpected return statement",_);this.pushState("skip-literal-correction");const et=this.getType(_.argument);this.popState("skip-literal-correction");const nt=[];switch(this.returnType||(et==="LiteralInteger"||et==="Integer"?this.returnType="Number":this.returnType=et),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(et){case"Integer":nt.push("float("),this.astGeneric(_.argument,nt),nt.push(")");break;case"LiteralInteger":this.castLiteralToFloat(_.argument,nt),this.getType(_)==="Integer"&&(nt.unshift("float("),nt.push(")"));break;default:this.astGeneric(_.argument,nt)}break;case"Integer":switch(et){case"Float":case"Number":this.castValueToInteger(_.argument,nt);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,nt);break;default:this.astGeneric(_.argument,nt)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(_.argument,nt);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,_)}return this.isRootKernel?($.push(`kernelResult = ${nt.join("")};`),$.push("return;")):this.isSubKernel?($.push(`subKernelResult_${this.name} = ${nt.join("")};`),$.push(`return subKernelResult_${this.name};`)):$.push(`return ${nt.join("")};`),$}astLiteral(_,$){if(isNaN(_.value))throw this.astErrorOutput("Non-numeric literal not supported : "+_.value,_);const et=this.astKey(_);return Number.isInteger(_.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[et]="Integer",$.push(`${_.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[et]="Number",$.push(`${_.value}.0`)):(this.literalTypes[et]="Number",$.push(`${_.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[et]="Integer",$.push(Math.round(_.value))):(this.literalTypes[et]="Number",$.push(`${_.value}`)),$}astBinaryExpression(_,$){if(this.checkAndUpconvertOperator(_,$))return $;if(this.fixIntegerDivisionAccuracy&&_.operator==="/"){switch($.push("divWithIntCheck("),this.pushState("building-float"),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(", "),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return this.popState("building-float"),$.push(")"),$}$.push("(");const et=this.getType(_.left)||"Number",nt=this.getType(_.right)||"Number";if(!et||!nt)throw this.astErrorOutput("Unhandled binary expression",_);const at=et+" & "+nt;switch(at){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((_.operator===">"||_.operator==="<"&&_.right.type==="Literal")&&!Number.isInteger(_.right.value)){this.pushState("building-float"),this.castValueToFloat(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.pushState("casting-to-integer"),_.right.type==="Literal"){const ct=[];if(this.astGeneric(_.right,ct),this.getType(_.right)==="Integer")$.push(ct.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",_)}else $.push("int("),this.astGeneric(_.right,$),$.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToInteger(_.right,$),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToInteger(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.pushState("casting-to-float"),this.astGeneric(_.right,$),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${at}`,_)}return $.push(")"),$}checkAndUpconvertOperator(_,$){const et=this.checkAndUpconvertBitwiseOperators(_,$);if(et)return et;const at={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[_.operator];if(!at)return null;switch($.push(at),$.push("("),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseOperators(_,$){const nt={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[_.operator];if(!nt)return null;switch($.push(nt),$.push("("),this.getType(_.left)){case"Number":case"Float":this.castValueToInteger(_.left,$);break;case"LiteralInteger":this.castLiteralToInteger(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Number":case"Float":this.castValueToInteger(_.right,$);break;case"LiteralInteger":this.castLiteralToInteger(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseUnary(_,$){const nt={"~":"bitwiseNot"}[_.operator];if(!nt)return null;switch($.push(nt),$.push("("),this.getType(_.argument)){case"Number":case"Float":this.castValueToInteger(_.argument,$);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,$);break;default:this.astGeneric(_.argument,$)}return $.push(")"),$}castLiteralToInteger(_,$){return this.pushState("casting-to-integer"),this.astGeneric(_,$),this.popState("casting-to-integer"),$}castLiteralToFloat(_,$){return this.pushState("casting-to-float"),this.astGeneric(_,$),this.popState("casting-to-float"),$}castValueToInteger(_,$){return this.pushState("casting-to-integer"),$.push("int("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-integer"),$}castValueToFloat(_,$){return this.pushState("casting-to-float"),$.push("float("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-float"),$}astIdentifierExpression(_,$){if(_.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",_);const et=this.getType(_),nt=_e.sanitizeName(_.name);return _.name==="Infinity"?$.push("3.402823466e+38"):et==="Boolean"?this.argumentNames.indexOf(nt)>-1?$.push(`bool(user_${nt})`):$.push(`user_${nt}`):$.push(`user_${nt}`),$}astForStatement(_,$){if(_.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",_);const et=[],nt=[],at=[],ct=[];let ht=null;if(_.init){const{declarations:ut}=_.init;ut.length>1&&(ht=!1),this.astGeneric(_.init,et);for(let dt=0;dt<ut.length;dt++)ut[dt].init&&ut[dt].init.type!=="Literal"&&(ht=!1)}else ht=!1;if(_.test?this.astGeneric(_.test,nt):ht=!1,_.update?this.astGeneric(_.update,at):ht=!1,_.body&&(this.pushState("loop-body"),this.astGeneric(_.body,ct),this.popState("loop-body")),ht===null&&(ht=this.isSafe(_.init)&&this.isSafe(_.test)),ht){const ut=et.join(""),dt=ut[ut.length-1]!==";";$.push(`for (${ut}${dt?";":""}${nt.join("")};${at.join("")}){
`),$.push(ct.join("")),$.push(`}
`)}else{const ut=this.getInternalVariableName("safeI");et.length>0&&$.push(et.join(""),`
`),$.push(`for (int ${ut}=0;${ut}<LOOP_MAX;${ut}++){
`),nt.length>0&&$.push(`if (!${nt.join("")}) break;
`),$.push(ct.join("")),$.push(`
${at.join("")};`),$.push(`}
`)}return $}astWhileStatement(_,$){if(_.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",_);const et=this.getInternalVariableName("safeI");return $.push(`for (int ${et}=0;${et}<LOOP_MAX;${et}++){
`),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),this.astGeneric(_.body,$),$.push(`}
`),$}astDoWhileStatement(_,$){if(_.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",_);const et=this.getInternalVariableName("safeI");return $.push(`for (int ${et}=0;${et}<LOOP_MAX;${et}++){
`),this.astGeneric(_.body,$),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),$.push(`}
`),$}astAssignmentExpression(_,$){if(_.operator==="%=")this.astGeneric(_.left,$),$.push("="),$.push("mod("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else if(_.operator==="**=")this.astGeneric(_.left,$),$.push("="),$.push("pow("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else{const et=this.getType(_.left),nt=this.getType(_.right);return this.astGeneric(_.left,$),$.push(_.operator),et!=="Integer"&&nt==="Integer"?($.push("float("),this.astGeneric(_.right,$),$.push(")")):this.astGeneric(_.right,$),$}}astBlockStatement(_,$){if(this.isState("loop-body")){this.pushState("block-body");for(let et=0;et<_.body.length;et++)this.astGeneric(_.body[et],$);this.popState("block-body")}else{$.push(`{
`);for(let et=0;et<_.body.length;et++)this.astGeneric(_.body[et],$);$.push(`}
`)}return $}astVariableDeclaration(_,$){const et=_.declarations;if(!et||!et[0]||!et[0].init)throw this.astErrorOutput("Unexpected expression",_);const nt=[];let at=null;const ct=[];let ht=[];for(let ut=0;ut<et.length;ut++){const dt=et[ut],mt=dt.init,gt=this.getDeclaration(dt.id),lt=this.getType(dt.init);let St=lt;St==="LiteralInteger"&&(gt.suggestedType==="Integer"?St="Integer":St="Number");const xt=rt[St];if(!xt)throw this.astErrorOutput(`Markup type ${St} not handled`,_);const yt=[];if(lt==="Integer"&&St==="Integer"){if(gt.valueType="Number",ut===0||at===null)yt.push("float ");else if(St!==at)throw new Error("Unhandled declaration");at=St,yt.push(`user_${_e.sanitizeName(dt.id.name)}=`),yt.push("float("),this.astGeneric(mt,yt),yt.push(")")}else gt.valueType=St,ut===0||at===null?yt.push(`${xt} `):St!==at&&(ct.push(ht.join(",")),ht=[],yt.push(`${xt} `)),at=St,yt.push(`user_${_e.sanitizeName(dt.id.name)}=`),lt==="Number"&&St==="Integer"?mt.left&&mt.left.type==="Literal"?this.astGeneric(mt,yt):(yt.push("int("),this.astGeneric(mt,yt),yt.push(")")):lt==="LiteralInteger"&&St==="Integer"?this.castLiteralToInteger(mt,yt):this.astGeneric(mt,yt);ht.push(yt.join(""))}return ht.length>0&&ct.push(ht.join(",")),nt.push(ct.join(";")),$.push(nt.join("")),$.push(";"),$}astIfStatement(_,$){return $.push("if ("),this.astGeneric(_.test,$),$.push(")"),_.consequent.type==="BlockStatement"?this.astGeneric(_.consequent,$):($.push(` {
`),this.astGeneric(_.consequent,$),$.push(`
}
`)),_.alternate&&($.push("else "),_.alternate.type==="BlockStatement"||_.alternate.type==="IfStatement"?this.astGeneric(_.alternate,$):($.push(` {
`),this.astGeneric(_.alternate,$),$.push(`
}
`))),$}astSwitchStatement(_,$){if(_.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",_);const{discriminant:et,cases:nt}=_,at=this.getType(et),ct=`switchDiscriminant${this.astKey(_,"_")}`;switch(at){case"Float":case"Number":$.push(`float ${ct} = `),this.astGeneric(et,$),$.push(`;
`);break;case"Integer":$.push(`int ${ct} = `),this.astGeneric(et,$),$.push(`;
`);break}if(nt.length===1&&!nt[0].test)return this.astGeneric(nt[0].consequent,$),$;let ht=!1,ut=[],dt=!1,mt=!1;for(let gt=0;gt<nt.length;gt++){if(nt[gt].test){if(gt===0||!mt?(mt=!0,$.push(`if (${ct} == `)):ht?($.push(`${ct} == `),ht=!1):$.push(` else if (${ct} == `),at==="Integer")switch(this.getType(nt[gt].test)){case"Number":case"Float":this.castValueToInteger(nt[gt].test,$);break;case"LiteralInteger":this.castLiteralToInteger(nt[gt].test,$);break}else if(at==="Float")switch(this.getType(nt[gt].test)){case"LiteralInteger":this.castLiteralToFloat(nt[gt].test,$);break;case"Integer":this.castValueToFloat(nt[gt].test,$);break}else throw new Error("unhanlded");if(!nt[gt].consequent||nt[gt].consequent.length===0){ht=!0,$.push(" || ");continue}$.push(`) {
`)}else if(nt.length>gt+1){dt=!0,this.astGeneric(nt[gt].consequent,ut);continue}else $.push(` else {
`);this.astGeneric(nt[gt].consequent,$),$.push(`
}`)}return dt&&($.push(" else {"),$.push(ut.join("")),$.push("}")),$}astThisExpression(_,$){return $.push("this"),$}astMemberExpression(_,$){const{property:et,name:nt,signature:at,origin:ct,type:ht,xProperty:ut,yProperty:dt,zProperty:mt}=this.getMemberExpressionDetails(_);switch(at){case"value.thread.value":case"this.thread.value":if(nt!=="x"&&nt!=="y"&&nt!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",_);return $.push(`threadId.${nt}`),$;case"this.output.value":if(this.dynamicOutput)switch(nt){case"x":this.isState("casting-to-float")?$.push("float(uOutputDim.x)"):$.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?$.push("float(uOutputDim.y)"):$.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?$.push("float(uOutputDim.z)"):$.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",_)}else switch(nt){case"x":this.isState("casting-to-integer")?$.push(this.output[0]):$.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?$.push(this.output[1]):$.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?$.push(this.output[2]):$.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",_)}return $;case"value":throw this.astErrorOutput("Unexpected expression",_);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(ct==="Math")return $.push(Math[nt]),$;const lt=_e.sanitizeName(nt);switch(et){case"r":return $.push(`user_${lt}.r`),$;case"g":return $.push(`user_${lt}.g`),$;case"b":return $.push(`user_${lt}.b`),$;case"a":return $.push(`user_${lt}.a`),$}break;case"this.constants.value":if(typeof ut>"u")switch(ht){case"Array(2)":case"Array(3)":case"Array(4)":return $.push(`constants_${_e.sanitizeName(nt)}`),$}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(et)),$.push("]"),$;case"fn()[][]":return this.astCallExpression(_.object.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.object.property)),$.push("]"),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.property)),$.push("]"),$;case"[][]":return this.astArrayExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(et)),$.push("]"),$;default:throw this.astErrorOutput("Unexpected expression",_)}if(_.computed===!1)switch(ht){case"Number":case"Integer":case"Float":case"Boolean":return $.push(`${ct}_${_e.sanitizeName(nt)}`),$}const gt=`${ct}_${_e.sanitizeName(nt)}`;switch(ht){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(ut)),$.push("]");break;case"HTMLImageArray":$.push(`getImage3D(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"ArrayTexture(1)":$.push(`getFloatFromSampler2D(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":$.push(`getMemoryOptimizedVec2(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"ArrayTexture(2)":$.push(`getVec2FromSampler2D(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":$.push(`getMemoryOptimizedVec3(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"ArrayTexture(3)":$.push(`getVec3FromSampler2D(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":$.push(`getMemoryOptimizedVec4(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`getVec4FromSampler2D(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")$.push(`getMemoryOptimized32(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");else{const lt=ct==="user"?this.lookupFunctionArgumentBitRatio(this.name,nt):this.constantBitRatios[nt];switch(lt){case 1:$.push(`get8(${gt}, ${gt}Size, ${gt}Dim, `);break;case 2:$.push(`get16(${gt}, ${gt}Size, ${gt}Dim, `);break;case 4:case 0:$.push(`get32(${gt}, ${gt}Size, ${gt}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${lt}`)}this.memberExpressionXYZ(ut,dt,mt,$),$.push(")")}break;case"MemoryOptimizedNumberTexture":$.push(`getMemoryOptimized32(${gt}, ${gt}Size, ${gt}Dim, `),this.memberExpressionXYZ(ut,dt,mt,$),$.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`${gt}[${this.memberExpressionPropertyMarkup(dt)}]`),dt&&$.push(`[${this.memberExpressionPropertyMarkup(ut)}]`);break;default:throw new Error(`unhandled member expression "${ht}"`)}return $}astCallExpression(_,$){if(!_.callee)throw this.astErrorOutput("Unknown CallExpression",_);let et=null;const nt=this.isAstMathFunction(_);if(nt||_.callee.object&&_.callee.object.type==="ThisExpression"?et=_.callee.property.name:_.callee.type==="SequenceExpression"&&_.callee.expressions[0].type==="Literal"&&!isNaN(_.callee.expressions[0].raw)?et=_.callee.expressions[1].property.name:et=_.callee.name,!et)throw this.astErrorOutput("Unhandled function, couldn't find name",_);switch(et){case"pow":et="_pow";break;case"round":et="_round";break}if(this.calledFunctions.indexOf(et)<0&&this.calledFunctions.push(et),et==="random"&&this.plugins&&this.plugins.length>0)for(let at=0;at<this.plugins.length;at++){const ct=this.plugins[at];if(ct.functionMatch==="Math.random()"&&ct.functionReplace)return $.push(ct.functionReplace),$}if(this.onFunctionCall&&this.onFunctionCall(this.name,et,_.arguments),$.push(et),$.push("("),nt)for(let at=0;at<_.arguments.length;++at){const ct=_.arguments[at],ht=this.getType(ct);switch(at>0&&$.push(", "),ht){case"Integer":this.castValueToFloat(ct,$);break;default:this.astGeneric(ct,$);break}}else{const at=this.lookupFunctionArgumentTypes(et)||[];for(let ct=0;ct<_.arguments.length;++ct){const ht=_.arguments[ct];let ut=at[ct];ct>0&&$.push(", ");const dt=this.getType(ht);switch(ut||(this.triggerImplyArgumentType(et,ct,dt,this),ut=dt),dt){case"Boolean":this.astGeneric(ht,$);continue;case"Number":case"Float":if(ut==="Integer"){$.push("int("),this.astGeneric(ht,$),$.push(")");continue}else if(ut==="Number"||ut==="Float"){this.astGeneric(ht,$);continue}else if(ut==="LiteralInteger"){this.castLiteralToFloat(ht,$);continue}break;case"Integer":if(ut==="Number"||ut==="Float"){$.push("float("),this.astGeneric(ht,$),$.push(")");continue}else if(ut==="Integer"){this.astGeneric(ht,$);continue}break;case"LiteralInteger":if(ut==="Integer"){this.castLiteralToInteger(ht,$);continue}else if(ut==="Number"||ut==="Float"){this.castLiteralToFloat(ht,$);continue}else if(ut==="LiteralInteger"){this.astGeneric(ht,$);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(ut===dt){if(ht.type==="Identifier")$.push(`user_${_e.sanitizeName(ht.name)}`);else if(ht.type==="ArrayExpression"||ht.type==="MemberExpression"||ht.type==="CallExpression")this.astGeneric(ht,$);else throw this.astErrorOutput(`Unhandled argument type ${ht.type}`,_);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(ut===dt){if(ht.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${ht.type}`,_);this.triggerImplyArgumentBitRatio(this.name,ht.name,et,ct);const mt=_e.sanitizeName(ht.name);$.push(`user_${mt},user_${mt}Size,user_${mt}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${dt} and ${ut} for argument named "${ht.name}"`,_)}}return $.push(")"),$}astArrayExpression(_,$){const et=this.getType(_),nt=_.elements.length;switch(et){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`mat${nt}(`);break;default:$.push(`vec${nt}(`)}for(let at=0;at<nt;++at){at>0&&$.push(", ");const ct=_.elements[at];this.astGeneric(ct,$)}return $.push(")"),$}memberExpressionXYZ(_,$,et,nt){return et?nt.push(this.memberExpressionPropertyMarkup(et),", "):nt.push("0, "),$?nt.push(this.memberExpressionPropertyMarkup($),", "):nt.push("0, "),nt.push(this.memberExpressionPropertyMarkup(_)),nt}memberExpressionPropertyMarkup(_){if(!_)throw new Error("Property not set");const $=this.getType(_),et=[];switch($){case"Number":case"Float":this.castValueToInteger(_,et);break;case"LiteralInteger":this.castLiteralToInteger(_,et);break;default:this.astGeneric(_,et)}return et.join("")}}const rt={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},it={"===":"==","!==":"!="};a.exports={WebGLFunctionNode:ot}},{"../../utils":114,"../function-node":10}],39:[function(o,a,tt){const{WebGLKernelValueBoolean:_e}=o("./kernel-value/boolean"),{WebGLKernelValueFloat:st}=o("./kernel-value/float"),{WebGLKernelValueInteger:ot}=o("./kernel-value/integer"),{WebGLKernelValueHTMLImage:rt}=o("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:it}=o("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:j}=o("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:_}=o("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:$}=o("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:et}=o("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:nt}=o("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:at}=o("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:ct}=o("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ht}=o("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:ut}=o("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:dt}=o("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:mt}=o("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:gt}=o("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:lt}=o("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:St}=o("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:xt}=o("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:yt}=o("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:_t}=o("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:kt}=o("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:Et}=o("./kernel-value/array2"),{WebGLKernelValueArray3:$t}=o("./kernel-value/array3"),{WebGLKernelValueArray4:Tt}=o("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:At}=o("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:Mt}=o("./kernel-value/dynamic-unsigned-array"),Ot={unsigned:{dynamic:{Boolean:_e,Integer:ot,Float:st,Array:Mt,"Array(2)":Et,"Array(3)":$t,"Array(4)":Tt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:at,NumberTexture:dt,"ArrayTexture(1)":dt,"ArrayTexture(2)":dt,"ArrayTexture(3)":dt,"ArrayTexture(4)":dt,MemoryOptimizedNumberTexture:ht,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:_e,Float:st,Integer:ot,Array:At,"Array(2)":Et,"Array(3)":$t,"Array(4)":Tt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:nt,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ct,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:!1,HTMLVideo:j}},single:{dynamic:{Boolean:_e,Integer:ot,Float:st,Array:gt,"Array(2)":Et,"Array(3)":$t,"Array(4)":Tt,"Array1D(2)":St,"Array1D(3)":St,"Array1D(4)":St,"Array2D(2)":yt,"Array2D(3)":yt,"Array2D(4)":yt,"Array3D(2)":kt,"Array3D(3)":kt,"Array3D(4)":kt,Input:et,NumberTexture:dt,"ArrayTexture(1)":dt,"ArrayTexture(2)":dt,"ArrayTexture(3)":dt,"ArrayTexture(4)":dt,MemoryOptimizedNumberTexture:ht,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:_e,Float:st,Integer:ot,Array:mt,"Array(2)":Et,"Array(3)":$t,"Array(4)":Tt,"Array1D(2)":lt,"Array1D(3)":lt,"Array1D(4)":lt,"Array2D(2)":xt,"Array2D(3)":xt,"Array2D(4)":xt,"Array3D(2)":_t,"Array3D(3)":_t,"Array3D(4)":_t,Input:$,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ct,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:!1,HTMLVideo:j}}};function Pt(Ft,zt,qt,Gt){if(!Ft)throw new Error("type missing");if(!zt)throw new Error("dynamic missing");if(!qt)throw new Error("precision missing");Gt.type&&(Ft=Gt.type);const Wt=Ot[qt][zt];if(Wt[Ft]===!1)return null;if(Wt[Ft]===void 0)throw new Error(`Could not find a KernelValue for ${Ft}`);return Wt[Ft]}a.exports={lookupKernelValueType:Pt,kernelValueMaps:Ot}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(o,a,tt){const{WebGLKernelValue:_e}=o("./index"),{Input:st}=o("../../../input");class ot extends _e{checkSize(it,j){if(!this.kernel.validate)return;const{maxTextureSize:_}=this.kernel.constructor.features;if(it>_||j>_)throw it>j?new Error(`Argument texture width of ${it} larger than maximum size of ${_} for your GPU`):it<j?new Error(`Argument texture height of ${j} larger than maximum size of ${_} for your GPU`):new Error(`Argument texture height and width of ${j} larger than maximum size of ${_} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:it}=this;it.activeTexture(this.contextHandle),it.bindTexture(it.TEXTURE_2D,this.texture),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_S,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_T,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MIN_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MAG_FILTER,it.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(it){if(Array.isArray(it[0]))return this.getBitRatio(it[0]);if(it.constructor===st)return this.getBitRatio(it.value);switch(it.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}a.exports={WebGLKernelArray:ot}},{"../../../input":110,"./index":59}],41:[function(o,a,tt){const{WebGLKernelValue:_e}=o("./index");class st extends _e{constructor(rt,it){super(rt,it),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${rt[0]},${rt[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueArray2:st}},{"./index":59}],42:[function(o,a,tt){const{WebGLKernelValue:_e}=o("./index");class st extends _e{constructor(rt,it){super(rt,it),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${rt[0]},${rt[1]},${rt[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueArray3:st}},{"./index":59}],43:[function(o,a,tt){const{WebGLKernelValue:_e}=o("./index");class st extends _e{constructor(rt,it){super(rt,it),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${rt[0]},${rt[1]},${rt[2]},${rt[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueArray4:st}},{"./index":59}],44:[function(o,a,tt){o("../../../utils");const{WebGLKernelValue:_e}=o("./index");class st extends _e{constructor(rt,it){super(rt,it),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const bool ${this.id} = ${rt};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueBoolean:st}},{"../../../utils":114,"./index":59}],45:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueHTMLImage:st}=o("./html-image");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){const{width:j,height:_}=it;this.checkSize(j,_),this.dimensions=[j,_,1],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicHTMLImage:ot}},{"../../../utils":114,"./html-image":57}],46:[function(o,a,tt){const{WebGLKernelValueDynamicHTMLImage:_e}=o("./dynamic-html-image");class st extends _e{}a.exports={WebGLKernelValueDynamicHTMLVideo:st}},{"./dynamic-html-image":45}],47:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:st}=o("./memory-optimized-number-texture");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=it.dimensions,this.checkSize(it.size[0],it.size[1]),this.textureSize=it.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueNumberTexture:st}=o("./number-texture");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=it.dimensions,this.checkSize(it.size[0],it.size[1]),this.textureSize=it.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicNumberTexture:ot}},{"../../../utils":114,"./number-texture":62}],49:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleArray:st}=o("./single-array");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=_e.getDimensions(it,!0),this.textureSize=_e.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray:ot}},{"../../../utils":114,"./single-array":63}],50:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleArray1DI:st}=o("./single-array1d-i");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray1DI:ot}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleArray2DI:st}=o("./single-array2d-i");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray2DI:ot}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleArray3DI:st}=o("./single-array3d-i");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray3DI:ot}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleInput:st}=o("./single-input");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=_e.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleInput:ot}},{"../../../utils":114,"./single-input":67}],54:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueUnsignedArray:st}=o("./unsigned-array");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=_e.getDimensions(it,!0),this.textureSize=_e.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const j=this.getTransferArrayType(it);this.preUploadValue=new j(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicUnsignedArray:ot}},{"../../../utils":114,"./unsigned-array":68}],55:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueUnsignedInput:st}=o("./unsigned-input");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=_e.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const et=this.getTransferArrayType(it.value);this.preUploadValue=new et(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicUnsignedInput:ot}},{"../../../utils":114,"./unsigned-input":69}],56:[function(o,a,tt){o("../../../utils");const{WebGLKernelValue:_e}=o("./index");class st extends _e{constructor(rt,it){super(rt,it),this.uploadValue=rt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(rt){return this.origin==="constants"?Number.isInteger(rt)?`const float ${this.id} = ${rt}.0;
`:`const float ${this.id} = ${rt};
`:`uniform float ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueFloat:st}},{"../../../utils":114,"./index":59}],57:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array");class ot extends st{constructor(it,j){super(it,j);const{width:_,height:$}=it;this.checkSize(_,$),this.dimensions=[_,$,1],this.textureSize=[_,$],this.uploadValue=it}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=it),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueHTMLImage:ot}},{"../../../utils":114,"./array":40}],58:[function(o,a,tt){const{WebGLKernelValueHTMLImage:_e}=o("./html-image");class st extends _e{}a.exports={WebGLKernelValueHTMLVideo:st}},{"./html-image":57}],59:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{KernelValue:st}=o("../../kernel-value");class ot extends st{constructor(it,j){super(it,j),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=it.constructor,this.onRequestTexture=j.onRequestTexture,this.onRequestIndex=j.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${_e.sanitizeName(this.name)}`}setup(){}getTransferArrayType(it){if(Array.isArray(it[0]))return this.getTransferArrayType(it[0]);switch(it.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return it.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),it.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}a.exports={WebGLKernelValue:ot}},{"../../../utils":114,"../../kernel-value":35}],60:[function(o,a,tt){o("../../../utils");const{WebGLKernelValue:_e}=o("./index");class st extends _e{constructor(rt,it){super(rt,it),this.uploadValue=rt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(rt){return this.origin==="constants"?`const int ${this.id} = ${parseInt(rt)};
`:`uniform int ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}a.exports={WebGLKernelValueInteger:st}},{"../../../utils":114,"./index":59}],61:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array"),ot="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class rt extends st{constructor(j,_){super(j,_);const[$,et]=j.size;this.checkSize($,et),this.dimensions=j.dimensions,this.textureSize=j.size,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(ot);if(_.mappedTextures){const{mappedTextures:et}=_;for(let nt=0;nt<et.length;nt++)if(et[nt].texture===j.texture)throw new Error(ot)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueMemoryOptimizedNumberTexture:rt,sameError:ot}},{"../../../utils":114,"./array":40}],62:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array"),{sameError:ot}=o("./memory-optimized-number-texture");class rt extends st{constructor(j,_){super(j,_);const[$,et]=j.size;this.checkSize($,et);const{size:nt,dimensions:at}=j;this.bitRatio=this.getBitRatio(j),this.dimensions=at,this.textureSize=nt,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(ot);if(_.mappedTextures){const{mappedTextures:et}=_;for(let nt=0;nt<et.length;nt++)if(et[nt].texture===j.texture)throw new Error(ot)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueNumberTexture:rt}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array");class ot extends st{constructor(it,j){super(it,j),this.bitRatio=4,this.dimensions=_e.getDimensions(it,!0),this.textureSize=_e.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return _e.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray:ot}},{"../../../utils":114,"./array":40}],64:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array");class ot extends st{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=_e.getDimensions(it,!0);this.textureSize=_e.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return _e.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flatten2dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray1DI:ot}},{"../../../utils":114,"./array":40}],65:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array");class ot extends st{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=_e.getDimensions(it,!0);this.textureSize=_e.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return _e.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flatten3dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray2DI:ot}},{"../../../utils":114,"./array":40}],66:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array");class ot extends st{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=_e.getDimensions(it,!0);this.textureSize=_e.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],j[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return _e.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flatten4dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray3DI:ot}},{"../../../utils":114,"./array":40}],67:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array");class ot extends st{constructor(it,j){super(it,j),this.bitRatio=4;let[_,$,et]=it.size;this.dimensions=new Int32Array([_||1,$||1,et||1]),this.textureSize=_e.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return _e.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flattenTo(it.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleInput:ot}},{"../../../utils":114,"./array":40}],68:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array");class ot extends st{constructor(it,j){super(it,j),this.bitRatio=this.getBitRatio(it),this.dimensions=_e.getDimensions(it,!0),this.textureSize=_e.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(it),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return _e.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flattenTo(it,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueUnsignedArray:ot}},{"../../../utils":114,"./array":40}],69:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("./array");class ot extends st{constructor(it,j){super(it,j),this.bitRatio=this.getBitRatio(it);const[_,$,et]=it.size;this.dimensions=new Int32Array([_||1,$||1,et||1]),this.textureSize=_e.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(it.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return _e.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:j}=this;_e.flattenTo(it.value,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueUnsignedInput:ot}},{"../../../utils":114,"./array":40}],70:[function(o,a,tt){const{GLKernel:_e}=o("../gl/kernel"),{FunctionBuilder:st}=o("../function-builder"),{WebGLFunctionNode:ot}=o("./function-node"),{utils:rt}=o("../../utils"),it=o("../../plugins/math-random-uniformly-distributed"),{fragmentShader:j}=o("./fragment-shader"),{vertexShader:_}=o("./vertex-shader"),{glKernelString:$}=o("../gl/kernel-string"),{lookupKernelValueType:et}=o("./kernel-value-maps");let nt=null,at=null,ct=null,ht=null,ut=null;const dt=[it],mt=[],gt={};class lt extends _e{static get isSupported(){return nt!==null||(this.setupFeatureChecks(),nt=this.isContextMatch(ct)),nt}static setupFeatureChecks(){typeof document<"u"?at=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(at=new OffscreenCanvas(0,0)),at&&(ct=at.getContext("webgl")||at.getContext("experimental-webgl"),!(!ct||!ct.getExtension)&&(ht={OES_texture_float:ct.getExtension("OES_texture_float"),OES_texture_float_linear:ct.getExtension("OES_texture_float_linear"),OES_element_index_uint:ct.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:ct.getExtension("WEBGL_draw_buffers")},ut=this.getFeatures()))}static isContextMatch(xt){return typeof WebGLRenderingContext<"u"?xt instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return!!ht.OES_texture_float}static getIsDrawBuffers(){return!!ht.WEBGL_draw_buffers}static getChannelCount(){return ht.WEBGL_draw_buffers?ct.getParameter(ht.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return ct.getParameter(ct.MAX_TEXTURE_SIZE)}static lookupKernelValueType(xt,yt,_t,kt){return et(xt,yt,_t,kt)}static get testCanvas(){return at}static get testContext(){return ct}static get features(){return ut}static get fragmentShader(){return j}static get vertexShader(){return _}constructor(xt,yt){super(xt,yt),this.program=null,this.pipeline=yt.pipeline,this.endianness=rt.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(xt.settings||yt),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const xt=document.createElement("canvas");return xt.width=2,xt.height=2,xt}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const xt={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",xt)||this.canvas.getContext("experimental-webgl",xt)}initPlugins(xt){const yt=[],{source:_t}=this;if(typeof _t=="string")for(let kt=0;kt<dt.length;kt++){const Et=dt[kt];_t.match(Et.functionMatch)&&yt.push(Et)}else if(typeof _t=="object"&&xt.pluginNames)for(let kt=0;kt<dt.length;kt++){const Et=dt[kt];xt.pluginNames.some(Tt=>Tt===Et.name)&&yt.push(Et)}return yt}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(xt){if(!this.validate){this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:yt}=this.constructor;if(this.optimizeFloatMemory===!0&&!yt.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!yt.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&yt.isTextureFloat&&(this.precision=yt.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!yt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&yt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(xt.length!==1)throw new Error("Auto output only supported for kernels with only one input");const _t=rt.getVariableType(xt[0],this.strictIntegers);switch(_t){case"Array":this.output=rt.getDimensions(_t);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=xt[0].output;break;default:throw new Error("Auto output not supported for input type: "+_t)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=rt.clone(this.output);return}else this.precision===null&&yt.isTextureFloat&&(this.precision="single");this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:xt,canvas:yt}=this;if(this.maxTexSize===null){let _t=mt.indexOf(yt);_t===-1&&(_t=mt.length,mt.push(yt),gt[_t]=[xt[0],xt[1]]),this.maxTexSize=gt[_t]}this.maxTexSize[0]<xt[0]&&(this.maxTexSize[0]=xt[0]),this.maxTexSize[1]<xt[1]&&(this.maxTexSize[1]=xt[1])}setupArguments(xt){this.kernelArguments=[],this.argumentTextureCount=0;const yt=this.argumentTypes===null;if(yt&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],xt.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(xt.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:_t}=this;let kt=0;const Et=()=>this.createTexture(),$t=()=>this.constantTextureCount+kt++,Tt=Mt=>{this.switchKernels({type:"argumentMismatch",needed:Mt})},At=()=>_t.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let Mt=0;Mt<xt.length;Mt++){const Ot=xt[Mt],Pt=this.argumentNames[Mt];let Ft;yt?(Ft=rt.getVariableType(Ot,this.strictIntegers),this.argumentTypes.push(Ft)):Ft=this.argumentTypes[Mt];const zt=this.constructor.lookupKernelValueType(Ft,this.dynamicArguments?"dynamic":"static",this.precision,xt[Mt]);if(zt===null)return this.requestFallback(xt);const qt=new zt(Ot,{name:Pt,type:Ft,tactic:this.tactic,origin:"user",context:_t,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:Et,onRequestIndex:$t,onUpdateValueMismatch:Tt,onRequestContextHandle:At});this.kernelArguments.push(qt),qt.setup(),this.argumentSizes.push(qt.textureSize),this.argumentBitRatios[Mt]=qt.bitRatio}}createTexture(){const xt=this.context.createTexture();return this.textureCache.push(xt),xt}setupConstants(xt){const{context:yt}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let _t=this.constantTypes===null;_t&&(this.constantTypes={}),this.constantBitRatios={};let kt=0;for(const Et in this.constants){const $t=this.constants[Et];let Tt;_t?(Tt=rt.getVariableType($t,this.strictIntegers),this.constantTypes[Et]=Tt):Tt=this.constantTypes[Et];const At=this.constructor.lookupKernelValueType(Tt,"static",this.precision,$t);if(At===null)return this.requestFallback(xt);const Mt=new At($t,{name:Et,type:Tt,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>kt++,onRequestContextHandle:()=>yt.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[Et]=Mt.bitRatio,this.kernelConstants.push(Mt),Mt.setup(),Mt.forceUploadEachRun&&this.forceUploadKernelConstants.push(Mt)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const xt=this.pickRenderStrategy(arguments);if(xt)return xt;const{texSize:yt,context:_t,canvas:kt}=this;_t.enable(_t.SCISSOR_TEST),this.pipeline&&this.precision==="single"?(_t.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),kt.width=this.maxTexSize[0],kt.height=this.maxTexSize[1]):(_t.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),kt.width=this.maxTexSize[0],kt.height=this.maxTexSize[1]);const Et=this.threadDim=Array.from(this.output);for(;Et.length<3;)Et.push(1);const $t=this.getVertexShader(arguments),Tt=_t.createShader(_t.VERTEX_SHADER);_t.shaderSource(Tt,$t),_t.compileShader(Tt),this.vertShader=Tt;const At=this.getFragmentShader(arguments),Mt=_t.createShader(_t.FRAGMENT_SHADER);if(_t.shaderSource(Mt,At),_t.compileShader(Mt),this.fragShader=Mt,this.debug&&(console.log("GLSL Shader Output:"),console.log(At)),!_t.getShaderParameter(Tt,_t.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+_t.getShaderInfoLog(Tt));if(!_t.getShaderParameter(Mt,_t.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+_t.getShaderInfoLog(Mt));const Ot=this.program=_t.createProgram();_t.attachShader(Ot,Tt),_t.attachShader(Ot,Mt),_t.linkProgram(Ot),this.framebuffer=_t.createFramebuffer(),this.framebuffer.width=yt[0],this.framebuffer.height=yt[1],this.rawValueFramebuffers={};const Pt=new Float32Array([-1,-1,1,-1,-1,1,1,1]),Ft=new Float32Array([0,0,1,0,0,1,1,1]),zt=Pt.byteLength;let qt=this.buffer;qt?_t.bindBuffer(_t.ARRAY_BUFFER,qt):(qt=this.buffer=_t.createBuffer(),_t.bindBuffer(_t.ARRAY_BUFFER,qt),_t.bufferData(_t.ARRAY_BUFFER,Pt.byteLength+Ft.byteLength,_t.STATIC_DRAW)),_t.bufferSubData(_t.ARRAY_BUFFER,0,Pt),_t.bufferSubData(_t.ARRAY_BUFFER,zt,Ft);const Gt=_t.getAttribLocation(this.program,"aPos");_t.enableVertexAttribArray(Gt),_t.vertexAttribPointer(Gt,2,_t.FLOAT,!1,0,0);const Wt=_t.getAttribLocation(this.program,"aTexCoord");_t.enableVertexAttribArray(Wt),_t.vertexAttribPointer(Wt,2,_t.FLOAT,!1,0,zt),_t.bindFramebuffer(_t.FRAMEBUFFER,this.framebuffer);let Xt=0;_t.useProgram(this.program);for(let rr in this.constants)this.kernelConstants[Xt++].updateValue(this.constants[rr]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const xt=st.fromKernel(this,ot,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=xt.getPrototypeString("kernel"),this.setupReturnTypes(xt)}setupReturnTypes(xt){if(!this.graphical&&!this.returnType&&(this.returnType=xt.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let yt=0;yt<this.subKernels.length;yt++){const _t=this.subKernels[yt];_t.returnType||(_t.returnType=xt.getSubKernelResultType(yt))}}run(){const{kernelArguments:xt,texSize:yt,forceUploadKernelConstants:_t,context:kt}=this;kt.useProgram(this.program),kt.scissor(0,0,yt[0],yt[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",yt)),this.setUniform2f("ratio",yt[0]/this.maxTexSize[0],yt[1]/this.maxTexSize[1]);for(let Et=0;Et<_t.length;Et++){const $t=_t[Et];if($t.updateValue(this.constants[$t.name]),this.switchingKernels)return}for(let Et=0;Et<xt.length;Et++)if(xt[Et].updateValue(arguments[Et]),this.switchingKernels)return;if(this.plugins)for(let Et=0;Et<this.plugins.length;Et++){const $t=this.plugins[Et];$t.onBeforeRun&&$t.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return kt.bindRenderbuffer(kt.RENDERBUFFER,null),kt.bindFramebuffer(kt.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),kt.drawArrays(kt.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;kt.bindRenderbuffer(kt.RENDERBUFFER,null),kt.bindFramebuffer(kt.FRAMEBUFFER,null),kt.drawArrays(kt.TRIANGLE_STRIP,0,4);return}kt.bindFramebuffer(kt.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),kt.drawArrays(kt.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:xt}=this;switch(this.getInternalFormat()){case xt.RGBA:return xt.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const xt=this.context;xt.framebufferTexture2D(xt.FRAMEBUFFER,xt.COLOR_ATTACHMENT0,xt.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const xt=this.context,yt=this.texSize;if(this.texture){xt.framebufferTexture2D(xt.FRAMEBUFFER,xt.COLOR_ATTACHMENT0,xt.TEXTURE_2D,this.texture.texture,0);return}const _t=this.createTexture();xt.activeTexture(xt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),xt.bindTexture(xt.TEXTURE_2D,_t),xt.texParameteri(xt.TEXTURE_2D,xt.TEXTURE_WRAP_S,xt.CLAMP_TO_EDGE),xt.texParameteri(xt.TEXTURE_2D,xt.TEXTURE_WRAP_T,xt.CLAMP_TO_EDGE),xt.texParameteri(xt.TEXTURE_2D,xt.TEXTURE_MIN_FILTER,xt.NEAREST),xt.texParameteri(xt.TEXTURE_2D,xt.TEXTURE_MAG_FILTER,xt.NEAREST);const kt=this.getInternalFormat();this.precision==="single"?xt.texImage2D(xt.TEXTURE_2D,0,kt,yt[0],yt[1],0,xt.RGBA,xt.FLOAT,null):xt.texImage2D(xt.TEXTURE_2D,0,kt,yt[0],yt[1],0,kt,xt.UNSIGNED_BYTE,null),xt.framebufferTexture2D(xt.FRAMEBUFFER,xt.COLOR_ATTACHMENT0,xt.TEXTURE_2D,_t,0),this.texture=new this.TextureConstructor({texture:_t,size:yt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const xt=this.context;for(let yt=0;yt<this.mappedTextures.length;yt++){const _t=this.mappedTextures[yt];(_t.beforeMutate()||this._mappedTextureSwitched[yt])&&(xt.framebufferTexture2D(xt.FRAMEBUFFER,xt.COLOR_ATTACHMENT0+yt+1,xt.TEXTURE_2D,_t.texture,0),this._mappedTextureSwitched[yt]=!1)}}_setupSubOutputTextures(){const xt=this.context;if(this.mappedTextures){for(let _t=0;_t<this.subKernels.length;_t++)xt.framebufferTexture2D(xt.FRAMEBUFFER,xt.COLOR_ATTACHMENT0+_t+1,xt.TEXTURE_2D,this.mappedTextures[_t].texture,0);return}const yt=this.texSize;this.drawBuffersMap=[xt.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let _t=0;_t<this.subKernels.length;_t++){const kt=this.createTexture();this.drawBuffersMap.push(xt.COLOR_ATTACHMENT0+_t+1),xt.activeTexture(xt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+_t),xt.bindTexture(xt.TEXTURE_2D,kt),xt.texParameteri(xt.TEXTURE_2D,xt.TEXTURE_WRAP_S,xt.CLAMP_TO_EDGE),xt.texParameteri(xt.TEXTURE_2D,xt.TEXTURE_WRAP_T,xt.CLAMP_TO_EDGE),xt.texParameteri(xt.TEXTURE_2D,xt.TEXTURE_MIN_FILTER,xt.NEAREST),xt.texParameteri(xt.TEXTURE_2D,xt.TEXTURE_MAG_FILTER,xt.NEAREST),this.precision==="single"?xt.texImage2D(xt.TEXTURE_2D,0,xt.RGBA,yt[0],yt[1],0,xt.RGBA,xt.FLOAT,null):xt.texImage2D(xt.TEXTURE_2D,0,xt.RGBA,yt[0],yt[1],0,xt.RGBA,xt.UNSIGNED_BYTE,null),xt.framebufferTexture2D(xt.FRAMEBUFFER,xt.COLOR_ATTACHMENT0+_t+1,xt.TEXTURE_2D,kt,0),this.mappedTextures.push(new this.TextureConstructor({texture:kt,size:yt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(xt,yt){if(this.uniform1fCache.hasOwnProperty(xt)){const kt=this.uniform1fCache[xt];if(yt===kt)return}this.uniform1fCache[xt]=yt;const _t=this.getUniformLocation(xt);this.context.uniform1f(_t,yt)}setUniform1i(xt,yt){if(this.uniform1iCache.hasOwnProperty(xt)){const kt=this.uniform1iCache[xt];if(yt===kt)return}this.uniform1iCache[xt]=yt;const _t=this.getUniformLocation(xt);this.context.uniform1i(_t,yt)}setUniform2f(xt,yt,_t){if(this.uniform2fCache.hasOwnProperty(xt)){const Et=this.uniform2fCache[xt];if(yt===Et[0]&&_t===Et[1])return}this.uniform2fCache[xt]=[yt,_t];const kt=this.getUniformLocation(xt);this.context.uniform2f(kt,yt,_t)}setUniform2fv(xt,yt){if(this.uniform2fvCache.hasOwnProperty(xt)){const kt=this.uniform2fvCache[xt];if(yt[0]===kt[0]&&yt[1]===kt[1])return}this.uniform2fvCache[xt]=yt;const _t=this.getUniformLocation(xt);this.context.uniform2fv(_t,yt)}setUniform2iv(xt,yt){if(this.uniform2ivCache.hasOwnProperty(xt)){const kt=this.uniform2ivCache[xt];if(yt[0]===kt[0]&&yt[1]===kt[1])return}this.uniform2ivCache[xt]=yt;const _t=this.getUniformLocation(xt);this.context.uniform2iv(_t,yt)}setUniform3fv(xt,yt){if(this.uniform3fvCache.hasOwnProperty(xt)){const kt=this.uniform3fvCache[xt];if(yt[0]===kt[0]&&yt[1]===kt[1]&&yt[2]===kt[2])return}this.uniform3fvCache[xt]=yt;const _t=this.getUniformLocation(xt);this.context.uniform3fv(_t,yt)}setUniform3iv(xt,yt){if(this.uniform3ivCache.hasOwnProperty(xt)){const kt=this.uniform3ivCache[xt];if(yt[0]===kt[0]&&yt[1]===kt[1]&&yt[2]===kt[2])return}this.uniform3ivCache[xt]=yt;const _t=this.getUniformLocation(xt);this.context.uniform3iv(_t,yt)}setUniform4fv(xt,yt){if(this.uniform4fvCache.hasOwnProperty(xt)){const kt=this.uniform4fvCache[xt];if(yt[0]===kt[0]&&yt[1]===kt[1]&&yt[2]===kt[2]&&yt[3]===kt[3])return}this.uniform4fvCache[xt]=yt;const _t=this.getUniformLocation(xt);this.context.uniform4fv(_t,yt)}setUniform4iv(xt,yt){if(this.uniform4ivCache.hasOwnProperty(xt)){const kt=this.uniform4ivCache[xt];if(yt[0]===kt[0]&&yt[1]===kt[1]&&yt[2]===kt[2]&&yt[3]===kt[3])return}this.uniform4ivCache[xt]=yt;const _t=this.getUniformLocation(xt);this.context.uniform4iv(_t,yt)}getUniformLocation(xt){return this.programUniformLocationCache.hasOwnProperty(xt)?this.programUniformLocationCache[xt]:this.programUniformLocationCache[xt]=this.context.getUniformLocation(this.program,xt)}_getFragShaderArtifactMap(xt){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(xt),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(xt){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(xt=>xt.source&&this.source.match(xt.functionMatch)?xt.source:"").join(`
`):`
`}_getConstantsString(){const xt=[],{threadDim:yt,texSize:_t}=this;return this.dynamicOutput?xt.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):xt.push(`ivec3 uOutputDim = ivec3(${yt[0]}, ${yt[1]}, ${yt[2]})`,`ivec2 uTexSize = ivec2(${_t[0]}, ${_t[1]})`),rt.linesToString(xt)}_getTextureCoordinate(){const xt=this.subKernels;return xt===null||xt.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(xt){const yt=[],{argumentNames:_t}=this;for(let kt=0;kt<_t.length;kt++)yt.push(this.kernelArguments[kt].getSource(xt[kt]));return yt.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const xt=[],{constants:yt}=this;if(yt){let _t=0;for(const kt in yt)this.constants.hasOwnProperty(kt)&&xt.push(this.kernelConstants[_t++].getSource(this.constants[kt]))}return xt.join("")}getRawValueFramebuffer(xt,yt){if(this.rawValueFramebuffers[xt]||(this.rawValueFramebuffers[xt]={}),!this.rawValueFramebuffers[xt][yt]){const _t=this.context.createFramebuffer();_t.width=xt,_t.height=yt,this.rawValueFramebuffers[xt][yt]=_t}return this.rawValueFramebuffers[xt][yt]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const xt=[this.getKernelResultDeclaration()],{subKernels:yt}=this;if(yt!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let _t=0;_t<yt.length;_t++){const kt=yt[_t];xt.push(kt.returnType==="Integer"?`int subKernelResult_${kt.name} = 0`:`float subKernelResult_${kt.name} = 0.0`)}break;case"Array(2)":for(let _t=0;_t<yt.length;_t++)xt.push(`vec2 subKernelResult_${yt[_t].name}`);break;case"Array(3)":for(let _t=0;_t<yt.length;_t++)xt.push(`vec3 subKernelResult_${yt[_t].name}`);break;case"Array(4)":for(let _t=0;_t<yt.length;_t++)xt.push(`vec4 subKernelResult_${yt[_t].name}`);break}return rt.linesToString(xt)+this.translatedSource}getMainResultGraphical(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const xt=[];if(!this.subKernels)return"";for(let yt=0;yt<this.subKernels.length;yt++)this.subKernels[yt].returnType==="Integer"?xt.push(`  gl_FragData[${yt+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[yt].name}))`):xt.push(`  gl_FragData[${yt+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[yt].name})`);return rt.linesToString(xt)}getMainResultMemoryOptimizedFloats(){const xt=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const yt=["r","g","b","a"];for(let _t=0;_t<yt.length;_t++){const kt=yt[_t];this.getMainResultKernelMemoryOptimizedFloats(xt,kt),this.getMainResultSubKernelMemoryOptimizedFloats(xt,kt),_t+1<yt.length&&xt.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return rt.linesToString(xt)}getMainResultKernelMemoryOptimizedFloats(xt,yt){xt.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${yt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(xt,yt){if(!this.subKernels)return xt;for(let _t=0;_t<this.subKernels.length;_t++)this.subKernels[_t].returnType==="Integer"?xt.push(`  gl_FragData[${_t+1}].${yt} = float(subKernelResult_${this.subKernels[_t].name})`):xt.push(`  gl_FragData[${_t+1}].${yt} = subKernelResult_${this.subKernels[_t].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const xt=[];if(!this.subKernels)return xt;for(let yt=0;yt<this.subKernels.length;++yt){const _t=this.subKernels[yt];_t.returnType==="Integer"?xt.push(`  gl_FragData[${yt+1}][0] = float(subKernelResult_${_t.name})`):xt.push(`  gl_FragData[${yt+1}][0] = subKernelResult_${_t.name}`)}return xt}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const xt=[];if(!this.subKernels)return xt;for(let yt=0;yt<this.subKernels.length;++yt)xt.push(`  gl_FragData[${yt+1}][0] = subKernelResult_${this.subKernels[yt].name}[0]`,`  gl_FragData[${yt+1}][1] = subKernelResult_${this.subKernels[yt].name}[1]`);return xt}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const xt=[];if(!this.subKernels)return xt;for(let yt=0;yt<this.subKernels.length;++yt)xt.push(`  gl_FragData[${yt+1}][0] = subKernelResult_${this.subKernels[yt].name}[0]`,`  gl_FragData[${yt+1}][1] = subKernelResult_${this.subKernels[yt].name}[1]`,`  gl_FragData[${yt+1}][2] = subKernelResult_${this.subKernels[yt].name}[2]`);return xt}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const xt=[];if(!this.subKernels)return xt;switch(this.returnType){case"Number":case"Float":case"Integer":for(let yt=0;yt<this.subKernels.length;++yt)this.subKernels[yt].returnType==="Integer"?xt.push(`  gl_FragData[${yt+1}] = float(subKernelResult_${this.subKernels[yt].name})`):xt.push(`  gl_FragData[${yt+1}] = subKernelResult_${this.subKernels[yt].name}`);break;case"Array(2)":for(let yt=0;yt<this.subKernels.length;++yt)xt.push(`  gl_FragData[${yt+1}][0] = subKernelResult_${this.subKernels[yt].name}[0]`,`  gl_FragData[${yt+1}][1] = subKernelResult_${this.subKernels[yt].name}[1]`);break;case"Array(3)":for(let yt=0;yt<this.subKernels.length;++yt)xt.push(`  gl_FragData[${yt+1}][0] = subKernelResult_${this.subKernels[yt].name}[0]`,`  gl_FragData[${yt+1}][1] = subKernelResult_${this.subKernels[yt].name}[1]`,`  gl_FragData[${yt+1}][2] = subKernelResult_${this.subKernels[yt].name}[2]`);break;case"Array(4)":for(let yt=0;yt<this.subKernels.length;++yt)xt.push(`  gl_FragData[${yt+1}][0] = subKernelResult_${this.subKernels[yt].name}[0]`,`  gl_FragData[${yt+1}][1] = subKernelResult_${this.subKernels[yt].name}[1]`,`  gl_FragData[${yt+1}][2] = subKernelResult_${this.subKernels[yt].name}[2]`,`  gl_FragData[${yt+1}][3] = subKernelResult_${this.subKernels[yt].name}[3]`);break}return xt}replaceArtifacts(xt,yt){return xt.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(_t,kt)=>{if(yt.hasOwnProperty(kt))return yt[kt];throw`unhandled artifact ${kt}`})}getFragmentShader(xt){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(xt))}getVertexShader(xt){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(xt))}toString(){const xt=rt.linesToString(["const gl = context"]);return $(this.constructor,arguments,this,xt)}destroy(xt){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const _t in this.rawValueFramebuffers){for(const kt in this.rawValueFramebuffers[_t])this.context.deleteFramebuffer(this.rawValueFramebuffers[_t][kt]),delete this.rawValueFramebuffers[_t][kt];delete this.rawValueFramebuffers[_t]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const _t=this.textureCache.indexOf(this.texture.texture);_t>-1&&this.textureCache.splice(_t,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let _t=0;_t<this.mappedTextures.length;_t++){const kt=this.mappedTextures[_t];kt.delete();const Et=this.textureCache.indexOf(kt.texture);Et>-1&&this.textureCache.splice(Et,1)}this.mappedTextures=null}if(this.kernelArguments)for(let _t=0;_t<this.kernelArguments.length;_t++)this.kernelArguments[_t].destroy();if(this.kernelConstants)for(let _t=0;_t<this.kernelConstants.length;_t++)this.kernelConstants[_t].destroy();for(;this.textureCache.length>0;){const _t=this.textureCache.pop();this.context.deleteTexture(_t)}if(xt){const _t=mt.indexOf(this.canvas);_t>=0&&(mt[_t]=null,gt[_t]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const yt=this.gpu.kernels.indexOf(this);yt!==-1&&this.gpu.kernels.splice(yt,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(xt){const yt=xt.getExtension("WEBGL_lose_context");yt&&yt.loseContext()}toJSON(){const xt=super.toJSON();return xt.functionNodes=st.fromKernel(this,ot).toJSON(),xt.settings.threadDim=this.threadDim,xt}}a.exports={WebGLKernel:lt}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(o,a,tt){const _e=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;a.exports={vertexShader:_e}},{}],72:[function(o,a,tt){const _e=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;a.exports={fragmentShader:_e}},{}],73:[function(o,a,tt){const{utils:_e}=o("../../utils"),{WebGLFunctionNode:st}=o("../web-gl/function-node");class ot extends st{astIdentifierExpression(it,j){if(it.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",it);const _=this.getType(it),$=_e.sanitizeName(it.name);return it.name==="Infinity"?j.push("intBitsToFloat(2139095039)"):_==="Boolean"?this.argumentNames.indexOf($)>-1?j.push(`bool(user_${$})`):j.push(`user_${$}`):j.push(`user_${$}`),j}}a.exports={WebGL2FunctionNode:ot}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(o,a,tt){const{WebGL2KernelValueBoolean:_e}=o("./kernel-value/boolean"),{WebGL2KernelValueFloat:st}=o("./kernel-value/float"),{WebGL2KernelValueInteger:ot}=o("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:rt}=o("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:it}=o("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:j}=o("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:_}=o("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:$}=o("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:et}=o("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:nt}=o("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:at}=o("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:ct}=o("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:ht}=o("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:ut}=o("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:dt}=o("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:mt}=o("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:gt}=o("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:lt}=o("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:St}=o("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:xt}=o("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:yt}=o("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:_t}=o("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:kt}=o("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:Et}=o("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:$t}=o("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:Tt}=o("./kernel-value/array2"),{WebGL2KernelValueArray3:At}=o("./kernel-value/array3"),{WebGL2KernelValueArray4:Mt}=o("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:Ot}=o("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:Pt}=o("./kernel-value/dynamic-unsigned-array"),Ft={unsigned:{dynamic:{Boolean:_e,Integer:ot,Float:st,Array:Pt,"Array(2)":Tt,"Array(3)":At,"Array(4)":Mt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ht,NumberTexture:gt,"ArrayTexture(1)":gt,"ArrayTexture(2)":gt,"ArrayTexture(3)":gt,"ArrayTexture(4)":gt,MemoryOptimizedNumberTexture:dt,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:_,HTMLVideo:et},static:{Boolean:_e,Float:st,Integer:ot,Array:Ot,"Array(2)":Tt,"Array(3)":At,"Array(4)":Mt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ct,NumberTexture:mt,"ArrayTexture(1)":mt,"ArrayTexture(2)":mt,"ArrayTexture(3)":mt,"ArrayTexture(4)":mt,MemoryOptimizedNumberTexture:dt,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:j,HTMLVideo:$}},single:{dynamic:{Boolean:_e,Integer:ot,Float:st,Array:St,"Array(2)":Tt,"Array(3)":At,"Array(4)":Mt,"Array1D(2)":yt,"Array1D(3)":yt,"Array1D(4)":yt,"Array2D(2)":kt,"Array2D(3)":kt,"Array2D(4)":kt,"Array3D(2)":$t,"Array3D(3)":$t,"Array3D(4)":$t,Input:at,NumberTexture:gt,"ArrayTexture(1)":gt,"ArrayTexture(2)":gt,"ArrayTexture(3)":gt,"ArrayTexture(4)":gt,MemoryOptimizedNumberTexture:dt,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:_,HTMLVideo:et},static:{Boolean:_e,Float:st,Integer:ot,Array:lt,"Array(2)":Tt,"Array(3)":At,"Array(4)":Mt,"Array1D(2)":xt,"Array1D(3)":xt,"Array1D(4)":xt,"Array2D(2)":_t,"Array2D(3)":_t,"Array2D(4)":_t,"Array3D(2)":Et,"Array3D(3)":Et,"Array3D(4)":Et,Input:nt,NumberTexture:mt,"ArrayTexture(1)":mt,"ArrayTexture(2)":mt,"ArrayTexture(3)":mt,"ArrayTexture(4)":mt,MemoryOptimizedNumberTexture:ut,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:j,HTMLVideo:$}}};function zt(qt,Gt,Wt,Xt){if(!qt)throw new Error("type missing");if(!Gt)throw new Error("dynamic missing");if(!Wt)throw new Error("precision missing");Xt.type&&(qt=Xt.type);const rr=Ft[Wt][Gt];if(rr[qt]===!1)return null;if(rr[qt]===void 0)throw new Error(`Could not find a KernelValue for ${qt}`);return rr[qt]}a.exports={kernelValueMaps:Ft,lookupKernelValueType:zt}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(o,a,tt){const{WebGLKernelValueArray2:_e}=o("../../web-gl/kernel-value/array2");class st extends _e{}a.exports={WebGL2KernelValueArray2:st}},{"../../web-gl/kernel-value/array2":41}],76:[function(o,a,tt){const{WebGLKernelValueArray3:_e}=o("../../web-gl/kernel-value/array3");class st extends _e{}a.exports={WebGL2KernelValueArray3:st}},{"../../web-gl/kernel-value/array3":42}],77:[function(o,a,tt){const{WebGLKernelValueArray4:_e}=o("../../web-gl/kernel-value/array4");class st extends _e{}a.exports={WebGL2KernelValueArray4:st}},{"../../web-gl/kernel-value/array4":43}],78:[function(o,a,tt){const{WebGLKernelValueBoolean:_e}=o("../../web-gl/kernel-value/boolean");class st extends _e{}a.exports={WebGL2KernelValueBoolean:st}},{"../../web-gl/kernel-value/boolean":44}],79:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGL2KernelValueHTMLImageArray:st}=o("./html-image-array");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2DArray ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){const{width:j,height:_}=it[0];this.checkSize(j,_),this.dimensions=[j,_,it.length],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicHTMLImageArray:ot}},{"../../../utils":114,"./html-image-array":92}],80:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueDynamicHTMLImage:st}=o("../../web-gl/kernel-value/dynamic-html-image");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicHTMLImage:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(o,a,tt){o("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:_e}=o("./dynamic-html-image");class st extends _e{}a.exports={WebGL2KernelValueDynamicHTMLVideo:st}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:st}=o("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class ot extends st{getSource(){return _e.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueDynamicNumberTexture:st}=o("../../web-gl/kernel-value/dynamic-number-texture");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGL2KernelValueSingleArray:st}=o("../../web-gl2/kernel-value/single-array");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=_e.getDimensions(it,!0),this.textureSize=_e.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGL2KernelValueSingleArray1DI:st}=o("../../web-gl2/kernel-value/single-array1d-i");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray1DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGL2KernelValueSingleArray2DI:st}=o("../../web-gl2/kernel-value/single-array2d-i");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray2DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGL2KernelValueSingleArray3DI:st}=o("../../web-gl2/kernel-value/single-array3d-i");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray3DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGL2KernelValueSingleInput:st}=o("../../web-gl2/kernel-value/single-input");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=_e.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleInput:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:st}=o("../../web-gl/kernel-value/dynamic-unsigned-array");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicUnsignedArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:st}=o("../../web-gl/kernel-value/dynamic-unsigned-input");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicUnsignedInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(o,a,tt){o("../../../utils");const{WebGLKernelValueFloat:_e}=o("../../web-gl/kernel-value/float");class st extends _e{}a.exports={WebGL2KernelValueFloat:st}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelArray:st}=o("../../web-gl/kernel-value/array");class ot extends st{constructor(it,j){super(it,j),this.checkSize(it[0].width,it[0].height),this.dimensions=[it[0].width,it[0].height,it.length],this.textureSize=[it[0].width,it[0].height]}defineTexture(){const{context:it}=this;it.activeTexture(this.contextHandle),it.bindTexture(it.TEXTURE_2D_ARRAY,this.texture),it.texParameteri(it.TEXTURE_2D_ARRAY,it.TEXTURE_MAG_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D_ARRAY,it.TEXTURE_MIN_FILTER,it.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2DArray ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D_ARRAY,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage3D(j.TEXTURE_2D_ARRAY,0,j.RGBA,it[0].width,it[0].height,it.length,0,j.RGBA,j.UNSIGNED_BYTE,null);for(let _=0;_<it.length;_++)j.texSubImage3D(j.TEXTURE_2D_ARRAY,0,0,0,_,it[_].width,it[_].height,1,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=it[_]);this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueHTMLImageArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueHTMLImage:st}=o("../../web-gl/kernel-value/html-image");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueHTMLImage:ot}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(o,a,tt){o("../../../utils");const{WebGL2KernelValueHTMLImage:_e}=o("./html-image");class st extends _e{}a.exports={WebGL2KernelValueHTMLVideo:st}},{"../../../utils":114,"./html-image":93}],95:[function(o,a,tt){const{WebGLKernelValueInteger:_e}=o("../../web-gl/kernel-value/integer");class st extends _e{getSource(rt){const it=this.getVariablePrecisionString();return this.origin==="constants"?`const ${it} int ${this.id} = ${parseInt(rt)};
`:`uniform ${it} int ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}a.exports={WebGL2KernelValueInteger:st}},{"../../web-gl/kernel-value/integer":60}],96:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:st}=o("../../web-gl/kernel-value/memory-optimized-number-texture");class ot extends st{getSource(){const{id:it,sizeId:j,textureSize:_,dimensionsId:$,dimensions:et}=this,nt=this.getVariablePrecisionString();return _e.linesToString([`uniform sampler2D ${it}`,`${nt} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${nt} ivec3 ${$} = ivec3(${et[0]}, ${et[1]}, ${et[2]})`])}}a.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueNumberTexture:st}=o("../../web-gl/kernel-value/number-texture");class ot extends st{getSource(){const{id:it,sizeId:j,textureSize:_,dimensionsId:$,dimensions:et}=this,nt=this.getVariablePrecisionString();return _e.linesToString([`uniform ${nt} sampler2D ${it}`,`${nt} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${nt} ivec3 ${$} = ivec3(${et[0]}, ${et[1]}, ${et[2]})`])}}a.exports={WebGL2KernelValueNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleArray:st}=o("../../web-gl/kernel-value/single-array");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleArray1DI:st}=o("../../web-gl/kernel-value/single-array1d-i");class ot extends st{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray1DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleArray2DI:st}=o("../../web-gl/kernel-value/single-array2d-i");class ot extends st{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray2DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleArray3DI:st}=o("../../web-gl/kernel-value/single-array3d-i");class ot extends st{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;_e.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray3DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueSingleInput:st}=o("../../web-gl/kernel-value/single-input");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){const{context:j}=this;_e.flattenTo(it.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueUnsignedArray:st}=o("../../web-gl/kernel-value/unsigned-array");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueUnsignedArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(o,a,tt){const{utils:_e}=o("../../../utils"),{WebGLKernelValueUnsignedInput:st}=o("../../web-gl/kernel-value/unsigned-input");class ot extends st{getSource(){const it=this.getVariablePrecisionString();return _e.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueUnsignedInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(o,a,tt){const{WebGLKernel:_e}=o("../web-gl/kernel"),{WebGL2FunctionNode:st}=o("./function-node"),{FunctionBuilder:ot}=o("../function-builder"),{utils:rt}=o("../../utils"),{fragmentShader:it}=o("./fragment-shader"),{vertexShader:j}=o("./vertex-shader"),{lookupKernelValueType:_}=o("./kernel-value-maps");let $=null,et=null,nt=null,at=null;class ct extends _e{static get isSupported(){return $!==null||(this.setupFeatureChecks(),$=this.isContextMatch(nt)),$}static setupFeatureChecks(){typeof document<"u"?et=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(et=new OffscreenCanvas(0,0)),et&&(nt=et.getContext("webgl2"),!(!nt||!nt.getExtension)&&(nt.getExtension("EXT_color_buffer_float"),nt.getExtension("OES_texture_float_linear"),at=this.getFeatures()))}static isContextMatch(ut){return typeof WebGL2RenderingContext<"u"?ut instanceof WebGL2RenderingContext:!1}static getFeatures(){const ut=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.LOW_INT),lowFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.LOW_FLOAT),mediumIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_INT),mediumFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_FLOAT),highIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_INT),highFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return nt.getParameter(nt.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return nt.getParameter(nt.MAX_TEXTURE_SIZE)}static lookupKernelValueType(ut,dt,mt,gt){return _(ut,dt,mt,gt)}static get testCanvas(){return et}static get testContext(){return nt}static get features(){return at}static get fragmentShader(){return it}static get vertexShader(){return j}initContext(){const ut={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",ut)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(ut){if(!this.validate){this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:dt}=this.constructor;if(this.precision==="single"&&!dt.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=dt.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!dt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&dt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(ut.length!==1)throw new Error("Auto output only supported for kernels with only one input");const mt=rt.getVariableType(ut[0],this.strictIntegers);switch(mt){case"Array":this.output=rt.getDimensions(mt);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=ut[0].output;break;default:throw new Error("Auto output not supported for input type: "+mt)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=rt.clone(this.output);return}else!this.graphical&&this.precision===null&&dt.isTextureFloat&&(this.precision="single");this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const ut=ot.fromKernel(this,st,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=ut.getPrototypeString("kernel"),this.setupReturnTypes(ut)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:ut}=this;switch(this.getInternalFormat()){case ut.R32F:return ut.RED;case ut.RG32F:return ut.RG;case ut.RGBA32F:return ut.RGBA;case ut.RGBA:return ut.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:ut}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?ut.RGBA32F:ut.R32F;case"Array(2)":return ut.RG32F;case"Array(3)":case"Array(4)":return ut.RGBA32F;default:throw new Error("Unhandled return type")}return ut.RGBA32F}return ut.RGBA}_setupOutputTexture(){const ut=this.context;if(this.texture){ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,this.texture.texture,0);return}ut.bindFramebuffer(ut.FRAMEBUFFER,this.framebuffer);const dt=ut.createTexture(),mt=this.texSize;ut.activeTexture(ut.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),ut.bindTexture(ut.TEXTURE_2D,dt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.REPEAT),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.REPEAT),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST);const gt=this.getInternalFormat();this.precision==="single"?ut.texStorage2D(ut.TEXTURE_2D,1,gt,mt[0],mt[1]):ut.texImage2D(ut.TEXTURE_2D,0,gt,mt[0],mt[1],0,gt,ut.UNSIGNED_BYTE,null),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,dt,0),this.texture=new this.TextureConstructor({texture:dt,size:mt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const ut=this.context;if(this.mappedTextures){for(let mt=0;mt<this.subKernels.length;mt++)ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+mt+1,ut.TEXTURE_2D,this.mappedTextures[mt].texture,0);return}const dt=this.texSize;this.drawBuffersMap=[ut.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let mt=0;mt<this.subKernels.length;mt++){const gt=this.createTexture();this.drawBuffersMap.push(ut.COLOR_ATTACHMENT0+mt+1),ut.activeTexture(ut.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+mt),ut.bindTexture(ut.TEXTURE_2D,gt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST);const lt=this.getInternalFormat();this.precision==="single"?ut.texStorage2D(ut.TEXTURE_2D,1,lt,dt[0],dt[1]):ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,dt[0],dt[1],0,ut.RGBA,ut.UNSIGNED_BYTE,null),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+mt+1,ut.TEXTURE_2D,gt,0),this.mappedTextures.push(new this.TextureConstructor({texture:gt,size:dt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const ut=this.subKernels,dt=this.getVariablePrecisionString(this.texSize,this.tactic);return ut===null||ut.length<1?`in ${dt} vec2 vTexCoord;
`:`out ${dt} vec2 vTexCoord;
`}_getMainArgumentsString(ut){const dt=[],mt=this.argumentNames;for(let gt=0;gt<mt.length;gt++)dt.push(this.kernelArguments[gt].getSource(ut[gt]));return dt.join("")}getKernelString(){const ut=[this.getKernelResultDeclaration()],dt=this.subKernels;if(dt!==null)switch(ut.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let mt=0;mt<dt.length;mt++){const gt=dt[mt];ut.push(gt.returnType==="Integer"?`int subKernelResult_${gt.name} = 0`:`float subKernelResult_${gt.name} = 0.0`,`layout(location = ${mt+1}) out vec4 data${mt+1}`)}break;case"Array(2)":for(let mt=0;mt<dt.length;mt++)ut.push(`vec2 subKernelResult_${dt[mt].name}`,`layout(location = ${mt+1}) out vec4 data${mt+1}`);break;case"Array(3)":for(let mt=0;mt<dt.length;mt++)ut.push(`vec3 subKernelResult_${dt[mt].name}`,`layout(location = ${mt+1}) out vec4 data${mt+1}`);break;case"Array(4)":for(let mt=0;mt<dt.length;mt++)ut.push(`vec4 subKernelResult_${dt[mt].name}`,`layout(location = ${mt+1}) out vec4 data${mt+1}`);break}else ut.push("out vec4 data0");return rt.linesToString(ut)+this.translatedSource}getMainResultGraphical(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const ut=[];if(!this.subKernels)return"";for(let dt=0;dt<this.subKernels.length;dt++)this.subKernels[dt].returnType==="Integer"?ut.push(`  data${dt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[dt].name}))`):ut.push(`  data${dt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[dt].name})`);return rt.linesToString(ut)}getMainResultKernelMemoryOptimizedFloats(ut,dt){ut.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${dt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(ut,dt){if(!this.subKernels)return ut;for(let mt=0;mt<this.subKernels.length;mt++){const gt=this.subKernels[mt];gt.returnType==="Integer"?ut.push(`  data${mt+1}.${dt} = float(subKernelResult_${gt.name})`):ut.push(`  data${mt+1}.${dt} = subKernelResult_${gt.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const ut=[];if(!this.subKernels)return ut;for(let dt=0;dt<this.subKernels.length;++dt){const mt=this.subKernels[dt];mt.returnType==="Integer"?ut.push(`  data${dt+1}[0] = float(subKernelResult_${mt.name})`):ut.push(`  data${dt+1}[0] = subKernelResult_${mt.name}`)}return ut}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const ut=[];if(!this.subKernels)return ut;for(let dt=0;dt<this.subKernels.length;++dt){const mt=this.subKernels[dt];ut.push(`  data${dt+1}[0] = subKernelResult_${mt.name}[0]`,`  data${dt+1}[1] = subKernelResult_${mt.name}[1]`)}return ut}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const ut=[];if(!this.subKernels)return ut;for(let dt=0;dt<this.subKernels.length;++dt){const mt=this.subKernels[dt];ut.push(`  data${dt+1}[0] = subKernelResult_${mt.name}[0]`,`  data${dt+1}[1] = subKernelResult_${mt.name}[1]`,`  data${dt+1}[2] = subKernelResult_${mt.name}[2]`)}return ut}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const ut=[];if(!this.subKernels)return ut;for(let dt=0;dt<this.subKernels.length;++dt)ut.push(`  data${dt+1} = subKernelResult_${this.subKernels[dt].name}`);return ut}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const ut=super.toJSON();return ut.functionNodes=ot.fromKernel(this,st).toJSON(),ut.settings.threadDim=this.threadDim,ut}}a.exports={WebGL2Kernel:ct}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(o,a,tt){const _e=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;a.exports={vertexShader:_e}},{}],107:[function(o,a,tt){const _e=o("./index"),st=_e.GPU;for(const rt in _e)_e.hasOwnProperty(rt)&&rt!=="GPU"&&(st[rt]=_e[rt]);typeof window<"u"&&ot(window),typeof self<"u"&&ot(self);function ot(rt){rt.GPU||Object.defineProperty(rt,"GPU",{get(){return st}})}a.exports=_e},{"./index":109}],108:[function(o,a,tt){const{gpuMock:_e}=o("gpu-mock.js"),{utils:st}=o("./utils");o("./backend/kernel");const{CPUKernel:ot}=o("./backend/cpu/kernel"),{HeadlessGLKernel:rt}=o("./backend/headless-gl/kernel"),{WebGL2Kernel:it}=o("./backend/web-gl2/kernel"),{WebGLKernel:j}=o("./backend/web-gl/kernel"),{kernelRunShortcut:_}=o("./kernel-run-shortcut"),$=[rt,it,j],et=["gpu","cpu"],nt={headlessgl:rt,webgl2:it,webgl:j};let at=!0;class ct{static disableValidation(){at=!1}static enableValidation(){at=!0}static get isGPUSupported(){return $.some(dt=>dt.isSupported)}static get isKernelMapSupported(){return $.some(dt=>dt.isSupported&&dt.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return j.isSupported}static get isWebGL2Supported(){return it.isSupported}static get isHeadlessGLSupported(){return rt.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return it.isSupported}static get isSinglePrecisionSupported(){return $.some(dt=>dt.isSupported&&dt.features.isFloatRead&&dt.features.isTextureFloat)}constructor(dt){if(dt=dt||{},this.canvas=dt.canvas||null,this.context=dt.context||null,this.mode=dt.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),dt.functions)for(let mt=0;mt<dt.functions.length;mt++)this.addFunction(dt.functions[mt]);if(dt.nativeFunctions)for(const mt in dt.nativeFunctions){if(!dt.nativeFunctions.hasOwnProperty(mt))continue;const gt=dt.nativeFunctions[mt],{name:lt,source:St}=gt;this.addNativeFunction(lt,St,gt)}}}chooseKernel(){if(this.Kernel)return;let dt=null;if(this.context){for(let mt=0;mt<$.length;mt++){const gt=$[mt];if(gt.isContextMatch(this.context)){if(!gt.isSupported)throw new Error(`Kernel type ${gt.name} not supported`);dt=gt;break}}if(dt===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in nt)(!at||nt[this.mode].isSupported)&&(dt=nt[this.mode]);else if(this.mode==="gpu"){for(let mt=0;mt<$.length;mt++)if($[mt].isSupported){dt=$[mt];break}}else this.mode==="cpu"&&(dt=ot);if(!dt)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let mt=0;mt<$.length;mt++)if($[mt].isSupported){dt=$[mt];break}dt||(dt=ot)}this.mode||(this.mode=dt.mode),this.Kernel=dt}createKernel(dt,mt){if(typeof dt>"u")throw new Error("Missing source parameter");if(typeof dt!="object"&&!st.isFunction(dt)&&typeof dt!="string")throw new Error("source parameter not a function");const gt=this.kernels;if(this.mode==="dev"){const $t=_e(dt,ht(mt));return gt.push($t),$t}dt=typeof dt=="function"?dt.toString():dt;const lt={},St=ht(mt)||{};mt&&typeof mt.argumentTypes=="object"&&(St.argumentTypes=Object.keys(mt.argumentTypes).map($t=>mt.argumentTypes[$t]));function xt($t){console.warn("Falling back to CPU");const Tt=new ot(dt,{argumentTypes:Et.argumentTypes,constantTypes:Et.constantTypes,graphical:Et.graphical,loopMaxIterations:Et.loopMaxIterations,constants:Et.constants,dynamicOutput:Et.dynamicOutput,dynamicArgument:Et.dynamicArguments,output:Et.output,precision:Et.precision,pipeline:Et.pipeline,immutable:Et.immutable,optimizeFloatMemory:Et.optimizeFloatMemory,fixIntegerDivisionAccuracy:Et.fixIntegerDivisionAccuracy,functions:Et.functions,nativeFunctions:Et.nativeFunctions,injectedNative:Et.injectedNative,subKernels:Et.subKernels,strictIntegers:Et.strictIntegers,debug:Et.debug});Tt.build.apply(Tt,$t);const At=Tt.run.apply(Tt,$t);return Et.replaceKernel(Tt),At}function yt($t,Tt,At){At.debug&&console.warn("Switching kernels");let Mt=null;if(At.signature&&!lt[At.signature]&&(lt[At.signature]=At),At.dynamicOutput)for(let Gt=$t.length-1;Gt>=0;Gt--){const Wt=$t[Gt];Wt.type==="outputPrecisionMismatch"&&(Mt=Wt.needed)}const Ot=At.constructor,Pt=Ot.getArgumentTypes(At,Tt),Ft=Ot.getSignature(At,Pt),zt=lt[Ft];if(zt)return zt.onActivate(At),zt;const qt=lt[Ft]=new Ot(dt,{argumentTypes:Pt,constantTypes:At.constantTypes,graphical:At.graphical,loopMaxIterations:At.loopMaxIterations,constants:At.constants,dynamicOutput:At.dynamicOutput,dynamicArgument:At.dynamicArguments,context:At.context,canvas:At.canvas,output:Mt||At.output,precision:At.precision,pipeline:At.pipeline,immutable:At.immutable,optimizeFloatMemory:At.optimizeFloatMemory,fixIntegerDivisionAccuracy:At.fixIntegerDivisionAccuracy,functions:At.functions,nativeFunctions:At.nativeFunctions,injectedNative:At.injectedNative,subKernels:At.subKernels,strictIntegers:At.strictIntegers,debug:At.debug,gpu:At.gpu,validate:at,returnType:At.returnType,tactic:At.tactic,onRequestFallback:xt,onRequestSwitchKernel:yt,texture:At.texture,mappedTextures:At.mappedTextures,drawBuffersMap:At.drawBuffersMap});return qt.build.apply(qt,Tt),Et.replaceKernel(qt),gt.push(qt),qt}const _t=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:at,onRequestFallback:xt,onRequestSwitchKernel:yt},St),kt=new this.Kernel(dt,_t),Et=_(kt);return this.canvas||(this.canvas=kt.canvas),this.context||(this.context=kt.context),gt.push(kt),Et}createKernelMap(){let dt,mt;const gt=typeof arguments[arguments.length-2];if(gt==="function"||gt==="string"?(dt=arguments[arguments.length-2],mt=arguments[arguments.length-1]):dt=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&et.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const lt=ht(mt);if(mt&&typeof mt.argumentTypes=="object"&&(lt.argumentTypes=Object.keys(mt.argumentTypes).map(St=>mt.argumentTypes[St])),Array.isArray(arguments[0])){lt.subKernels=[];const St=arguments[0];for(let xt=0;xt<St.length;xt++){const yt=St[xt].toString(),_t=st.getFunctionNameFromString(yt);lt.subKernels.push({name:_t,source:yt,property:xt})}}else{lt.subKernels=[];const St=arguments[0];for(let xt in St){if(!St.hasOwnProperty(xt))continue;const yt=St[xt].toString(),_t=st.getFunctionNameFromString(yt);lt.subKernels.push({name:_t||xt,source:yt,property:xt})}}return this.createKernel(dt,lt)}combineKernels(){const dt=arguments[0],mt=arguments[arguments.length-1];if(dt.kernel.constructor.mode==="cpu")return mt;const gt=arguments[0].canvas,lt=arguments[0].context,St=arguments.length-1;for(let xt=0;xt<St;xt++)arguments[xt].setCanvas(gt).setContext(lt).setPipeline(!0);return function(){const xt=mt.apply(this,arguments);return xt.toArray?xt.toArray():xt}}setFunctions(dt){return this.functions=dt,this}setNativeFunctions(dt){return this.nativeFunctions=dt,this}addFunction(dt,mt){return this.functions.push({source:dt,settings:mt}),this}addNativeFunction(dt,mt,gt){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:dt,source:mt},gt)),this}injectNative(dt){return this.injectedNative=dt,this}destroy(){return new Promise((dt,mt)=>{this.kernels||dt(),setTimeout(()=>{try{for(let lt=0;lt<this.kernels.length;lt++)this.kernels[lt].destroy(!0);let gt=this.kernels[0];gt&&(gt.kernel&&(gt=gt.kernel),gt.constructor.destroyContext&&gt.constructor.destroyContext(this.context))}catch(gt){mt(gt)}dt()},0)})}}function ht(ut){if(!ut)return{};const dt=Object.assign({},ut);return ut.hasOwnProperty("floatOutput")&&(st.warnDeprecated("setting","floatOutput","precision"),dt.precision=ut.floatOutput?"single":"unsigned"),ut.hasOwnProperty("outputToTexture")&&(st.warnDeprecated("setting","outputToTexture","pipeline"),dt.pipeline=!!ut.outputToTexture),ut.hasOwnProperty("outputImmutable")&&(st.warnDeprecated("setting","outputImmutable","immutable"),dt.immutable=!!ut.outputImmutable),ut.hasOwnProperty("floatTextures")&&(st.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),dt.optimizeFloatMemory=!!ut.floatTextures),dt}a.exports={GPU:ct,kernelOrder:$,kernelTypes:et}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(o,a,tt){const{GPU:_e}=o("./gpu"),{alias:st}=o("./alias"),{utils:ot}=o("./utils"),{Input:rt,input:it}=o("./input"),{Texture:j}=o("./texture"),{FunctionBuilder:_}=o("./backend/function-builder"),{FunctionNode:$}=o("./backend/function-node"),{CPUFunctionNode:et}=o("./backend/cpu/function-node"),{CPUKernel:nt}=o("./backend/cpu/kernel"),{HeadlessGLKernel:at}=o("./backend/headless-gl/kernel"),{WebGLFunctionNode:ct}=o("./backend/web-gl/function-node"),{WebGLKernel:ht}=o("./backend/web-gl/kernel"),{kernelValueMaps:ut}=o("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:dt}=o("./backend/web-gl2/function-node"),{WebGL2Kernel:mt}=o("./backend/web-gl2/kernel"),{kernelValueMaps:gt}=o("./backend/web-gl2/kernel-value-maps"),{GLKernel:lt}=o("./backend/gl/kernel"),{Kernel:St}=o("./backend/kernel"),{FunctionTracer:xt}=o("./backend/function-tracer"),yt=o("./plugins/math-random-uniformly-distributed");a.exports={alias:st,CPUFunctionNode:et,CPUKernel:nt,GPU:_e,FunctionBuilder:_,FunctionNode:$,HeadlessGLKernel:at,Input:rt,input:it,Texture:j,utils:ot,WebGL2FunctionNode:dt,WebGL2Kernel:mt,webGL2KernelValueMaps:gt,WebGLFunctionNode:ct,WebGLKernel:ht,webGLKernelValueMaps:ut,GLKernel:lt,Kernel:St,FunctionTracer:xt,plugins:{mathRandom:yt}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(o,a,tt){class _e{constructor(rt,it){this.value=rt,Array.isArray(it)?this.size=it:(this.size=new Int32Array(3),it.z?this.size=new Int32Array([it.x,it.y,it.z]):it.y?this.size=new Int32Array([it.x,it.y]):this.size=new Int32Array([it.x]));const[j,_,$]=this.size;if($){if(this.value.length!==j*_*$)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} * ${$} = ${_*j*$}`)}else if(_){if(this.value.length!==j*_)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} = ${_*j}`)}else if(this.value.length!==j)throw new Error(`Input size ${this.value.length} does not match ${j}`)}toArray(){const{utils:rt}=o("./utils"),[it,j,_]=this.size;return _?rt.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),it,j,_):j?rt.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),it,j):this.value}}function st(ot,rt){return new _e(ot,rt)}a.exports={Input:_e,input:st}},{"./utils":114}],111:[function(o,a,tt){const{utils:_e}=o("./utils");function st(rt){let it=function(){return rt.build.apply(rt,arguments),it=function(){let _=rt.run.apply(rt,arguments);if(rt.switchingKernels){const $=rt.resetSwitchingKernels(),et=rt.onRequestSwitchKernel($,arguments,rt);j.kernel=rt=et,_=et.run.apply(et,arguments)}return rt.renderKernels?rt.renderKernels():rt.renderOutput?rt.renderOutput():_},it.apply(rt,arguments)};const j=function(){return it.apply(rt,arguments)};return j.exec=function(){return new Promise((_,$)=>{try{_(it.apply(this,arguments))}catch(et){$(et)}})},j.replaceKernel=function(_){rt=_,ot(rt,j)},ot(rt,j),j}function ot(rt,it){if(it.kernel){it.kernel=rt;return}const j=_e.allPropertiesOf(rt);for(let _=0;_<j.length;_++){const $=j[_];$[0]==="_"&&$[1]==="_"||(typeof rt[$]=="function"?$.substring(0,3)==="add"||$.substring(0,3)==="set"?it[$]=function(){return it.kernel[$].apply(it.kernel,arguments),it}:it[$]=function(){return it.kernel[$].apply(it.kernel,arguments)}:(it.__defineGetter__($,()=>it.kernel[$]),it.__defineSetter__($,et=>{it.kernel[$]=et})))}it.kernel=rt}a.exports={kernelRunShortcut:st}},{"./utils":114}],112:[function(o,a,tt){const _={name:"math-random-uniformly-distributed",onBeforeRun:$=>{$.setUniform1f("randomSeed1",Math.random()),$.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};a.exports=_},{}],113:[function(o,a,tt){class _e{constructor(ot){const{texture:rt,size:it,dimensions:j,output:_,context:$,type:et="NumberTexture",kernel:nt,internalFormat:at,textureFormat:ct}=ot;if(!_)throw new Error('settings property "output" required.');if(!$)throw new Error('settings property "context" required.');if(!rt)throw new Error('settings property "texture" required.');if(!nt)throw new Error('settings property "kernel" required.');this.texture=rt,rt._refs?rt._refs++:rt._refs=1,this.size=it,this.dimensions=j,this.output=_,this.context=$,this.kernel=nt,this.type=et,this._deleted=!1,this.internalFormat=at,this.textureFormat=ct}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}a.exports={Texture:_e}},{}],114:[function(o,a,tt){const _e=o("acorn"),{Input:st}=o("./input"),{Texture:ot}=o("./texture"),rt=/function ([^(]*)/,it=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,j=/([^\s,]+)/g,_={systemEndianness(){return at},getSystemEndianness(){const ct=new ArrayBuffer(4),ht=new Uint32Array(ct),ut=new Uint8Array(ct);if(ht[0]=3735928559,ut[0]===239)return"LE";if(ut[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(ct){return typeof ct=="function"},isFunctionString(ct){return typeof ct=="string"?ct.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(ct){const ht=rt.exec(ct);return!ht||ht.length===0?null:ht[1].trim()},getFunctionBodyFromString(ct){return ct.substring(ct.indexOf("{")+1,ct.lastIndexOf("}"))},getArgumentNamesFromString(ct){const ht=ct.replace(it,"");let ut=ht.slice(ht.indexOf("(")+1,ht.indexOf(")")).match(j);return ut===null&&(ut=[]),ut},clone(ct){if(ct===null||typeof ct!="object"||ct.hasOwnProperty("isActiveClone"))return ct;const ht=ct.constructor();for(let ut in ct)Object.prototype.hasOwnProperty.call(ct,ut)&&(ct.isActiveClone=null,ht[ut]=_.clone(ct[ut]),delete ct.isActiveClone);return ht},isArray(ct){return!isNaN(ct.length)},getVariableType(ct,ht){if(_.isArray(ct))return ct.length>0&&ct[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(ct.constructor){case Boolean:return"Boolean";case Number:return ht&&Number.isInteger(ct)?"Integer":"Float";case ot:return ct.type;case st:return"Input"}if("nodeName"in ct)switch(ct.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(ct.hasOwnProperty("type"))return ct.type;if(typeof OffscreenCanvas<"u"&&ct instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&ct instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&ct instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(ct,ht){let[ut,dt,mt]=ht,gt=(ut||1)*(dt||1)*(mt||1);return ct.optimizeFloatMemory&&ct.precision==="single"&&(ut=gt=Math.ceil(gt/4)),dt>1&&ut*dt===gt?new Int32Array([ut,dt]):_.closestSquareDimensions(gt)},closestSquareDimensions(ct){const ht=Math.sqrt(ct);let ut=Math.ceil(ht),dt=Math.floor(ht);for(;ut*dt<ct;)ut--,dt=Math.ceil(ct/ut);return new Int32Array([dt,Math.ceil(ct/dt)])},getMemoryOptimizedFloatTextureSize(ct,ht){const dt=_.roundTo((ct[0]||1)*(ct[1]||1)*(ct[2]||1)*(ct[3]||1),4)/ht;return _.closestSquareDimensions(dt)},getMemoryOptimizedPackedTextureSize(ct,ht){const[ut,dt,mt]=ct,lt=_.roundTo((ut||1)*(dt||1)*(mt||1),4)/(4/ht);return _.closestSquareDimensions(lt)},roundTo(ct,ht){return Math.floor((ct+ht-1)/ht)*ht},getDimensions(ct,ht){let ut;if(_.isArray(ct)){const dt=[];let mt=ct;for(;_.isArray(mt);)dt.push(mt.length),mt=mt[0];ut=dt.reverse()}else if(ct instanceof ot)ut=ct.output;else if(ct instanceof st)ut=ct.size;else throw new Error(`Unknown dimensions of ${ct}`);if(ht)for(ut=Array.from(ut);ut.length<3;)ut.push(1);return new Int32Array(ut)},flatten2dArrayTo(ct,ht){let ut=0;for(let dt=0;dt<ct.length;dt++)ht.set(ct[dt],ut),ut+=ct[dt].length},flatten3dArrayTo(ct,ht){let ut=0;for(let dt=0;dt<ct.length;dt++)for(let mt=0;mt<ct[dt].length;mt++)ht.set(ct[dt][mt],ut),ut+=ct[dt][mt].length},flatten4dArrayTo(ct,ht){let ut=0;for(let dt=0;dt<ct.length;dt++)for(let mt=0;mt<ct[dt].length;mt++)for(let gt=0;gt<ct[dt][mt].length;gt++)ht.set(ct[dt][mt][gt],ut),ut+=ct[dt][mt][gt].length},flattenTo(ct,ht){_.isArray(ct[0])?_.isArray(ct[0][0])?_.isArray(ct[0][0][0])?_.flatten4dArrayTo(ct,ht):_.flatten3dArrayTo(ct,ht):_.flatten2dArrayTo(ct,ht):ht.set(ct)},splitArray(ct,ht){const ut=[];for(let dt=0;dt<ct.length;dt+=ht)ut.push(new ct.constructor(ct.buffer,dt*4+ct.byteOffset,ht));return ut},getAstString(ct,ht){const ut=Array.isArray(ct)?ct:ct.split(/\r?\n/g),dt=ht.loc.start,mt=ht.loc.end,gt=[];if(dt.line===mt.line)gt.push(ut[dt.line-1].substring(dt.column,mt.column));else{gt.push(ut[dt.line-1].slice(dt.column));for(let lt=dt.line;lt<mt.line;lt++)gt.push(ut[lt]);gt.push(ut[mt.line-1].slice(0,mt.column))}return gt.join(`
`)},allPropertiesOf(ct){const ht=[];do ht.push.apply(ht,Object.getOwnPropertyNames(ct));while(ct=Object.getPrototypeOf(ct));return ht},linesToString(ct){return ct.length>0?ct.join(`;
`)+`;
`:`
`},warnDeprecated(ct,ht,ut){console.warn(ut?`You are using a deprecated ${ct} "${ht}". It has been replaced with "${ut}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${ct} "${ht}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(ct,ht,ut)=>{const dt=ut/2|0,mt=ht*4,gt=new Uint8ClampedArray(ht*4),lt=ct.slice(0);for(let St=0;St<dt;++St){const xt=St*mt,yt=(ut-St-1)*mt;gt.set(lt.subarray(xt,xt+mt)),lt.copyWithin(xt,yt,yt+mt),lt.set(gt,yt)}return lt},erectPackedFloat:(ct,ht)=>ct.subarray(0,ht),erect2DPackedFloat:(ct,ht,ut)=>{const dt=new Array(ut);for(let mt=0;mt<ut;mt++){const gt=mt*ht,lt=gt+ht;dt[mt]=ct.subarray(gt,lt)}return dt},erect3DPackedFloat:(ct,ht,ut,dt)=>{const mt=new Array(dt);for(let gt=0;gt<dt;gt++){const lt=new Array(ut);for(let St=0;St<ut;St++){const xt=gt*ut*ht+St*ht,yt=xt+ht;lt[St]=ct.subarray(xt,yt)}mt[gt]=lt}return mt},erectMemoryOptimizedFloat:(ct,ht)=>ct.subarray(0,ht),erectMemoryOptimized2DFloat:(ct,ht,ut)=>{const dt=new Array(ut);for(let mt=0;mt<ut;mt++){const gt=mt*ht;dt[mt]=ct.subarray(gt,gt+ht)}return dt},erectMemoryOptimized3DFloat:(ct,ht,ut,dt)=>{const mt=new Array(dt);for(let gt=0;gt<dt;gt++){const lt=new Array(ut);for(let St=0;St<ut;St++){const xt=gt*ut*ht+St*ht;lt[St]=ct.subarray(xt,xt+ht)}mt[gt]=lt}return mt},erectFloat:(ct,ht)=>{const ut=new Float32Array(ht);let dt=0;for(let mt=0;mt<ht;mt++)ut[mt]=ct[dt],dt+=4;return ut},erect2DFloat:(ct,ht,ut)=>{const dt=new Array(ut);let mt=0;for(let gt=0;gt<ut;gt++){const lt=new Float32Array(ht);for(let St=0;St<ht;St++)lt[St]=ct[mt],mt+=4;dt[gt]=lt}return dt},erect3DFloat:(ct,ht,ut,dt)=>{const mt=new Array(dt);let gt=0;for(let lt=0;lt<dt;lt++){const St=new Array(ut);for(let xt=0;xt<ut;xt++){const yt=new Float32Array(ht);for(let _t=0;_t<ht;_t++)yt[_t]=ct[gt],gt+=4;St[xt]=yt}mt[lt]=St}return mt},erectArray2:(ct,ht)=>{const ut=new Array(ht),dt=ht*4;let mt=0;for(let gt=0;gt<dt;gt+=4)ut[mt++]=ct.subarray(gt,gt+2);return ut},erect2DArray2:(ct,ht,ut)=>{const dt=new Array(ut),mt=ht*4;for(let gt=0;gt<ut;gt++){const lt=new Array(ht),St=gt*mt;let xt=0;for(let yt=0;yt<mt;yt+=4)lt[xt++]=ct.subarray(yt+St,yt+St+2);dt[gt]=lt}return dt},erect3DArray2:(ct,ht,ut,dt)=>{const mt=ht*4,gt=new Array(dt);for(let lt=0;lt<dt;lt++){const St=new Array(ut);for(let xt=0;xt<ut;xt++){const yt=new Array(ht),_t=lt*mt*ut+xt*mt;let kt=0;for(let Et=0;Et<mt;Et+=4)yt[kt++]=ct.subarray(Et+_t,Et+_t+2);St[xt]=yt}gt[lt]=St}return gt},erectArray3:(ct,ht)=>{const ut=new Array(ht),dt=ht*4;let mt=0;for(let gt=0;gt<dt;gt+=4)ut[mt++]=ct.subarray(gt,gt+3);return ut},erect2DArray3:(ct,ht,ut)=>{const dt=ht*4,mt=new Array(ut);for(let gt=0;gt<ut;gt++){const lt=new Array(ht),St=gt*dt;let xt=0;for(let yt=0;yt<dt;yt+=4)lt[xt++]=ct.subarray(yt+St,yt+St+3);mt[gt]=lt}return mt},erect3DArray3:(ct,ht,ut,dt)=>{const mt=ht*4,gt=new Array(dt);for(let lt=0;lt<dt;lt++){const St=new Array(ut);for(let xt=0;xt<ut;xt++){const yt=new Array(ht),_t=lt*mt*ut+xt*mt;let kt=0;for(let Et=0;Et<mt;Et+=4)yt[kt++]=ct.subarray(Et+_t,Et+_t+3);St[xt]=yt}gt[lt]=St}return gt},erectArray4:(ct,ht)=>{const ut=new Array(ct),dt=ht*4;let mt=0;for(let gt=0;gt<dt;gt+=4)ut[mt++]=ct.subarray(gt,gt+4);return ut},erect2DArray4:(ct,ht,ut)=>{const dt=ht*4,mt=new Array(ut);for(let gt=0;gt<ut;gt++){const lt=new Array(ht),St=gt*dt;let xt=0;for(let yt=0;yt<dt;yt+=4)lt[xt++]=ct.subarray(yt+St,yt+St+4);mt[gt]=lt}return mt},erect3DArray4:(ct,ht,ut,dt)=>{const mt=ht*4,gt=new Array(dt);for(let lt=0;lt<dt;lt++){const St=new Array(ut);for(let xt=0;xt<ut;xt++){const yt=new Array(ht),_t=lt*mt*ut+xt*mt;let kt=0;for(let Et=0;Et<mt;Et+=4)yt[kt++]=ct.subarray(Et+_t,Et+_t+4);St[xt]=yt}gt[lt]=St}return gt},flattenFunctionToString:(ct,ht)=>{const{findDependency:ut,thisLookup:dt,doNotDefine:mt}=ht;let gt=ht.flattened;gt||(gt=ht.flattened={});const lt=_e.parse(ct),St=[];let xt=0;function yt(kt){if(Array.isArray(kt)){const Et=[];for(let $t=0;$t<kt.length;$t++)Et.push(yt(kt[$t]));return Et.join("")}switch(kt.type){case"Program":return yt(kt.body)+(kt.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${kt.id.name}(${kt.params.map(yt).join(", ")}) ${yt(kt.body)}`;case"BlockStatement":{const $t=[];xt+=2;for(let Tt=0;Tt<kt.body.length;Tt++){const At=yt(kt.body[Tt]);At&&$t.push(" ".repeat(xt)+At,`;
`)}return xt-=2,`{
${$t.join("")}}`}case"VariableDeclaration":const Et=_.normalizeDeclarations(kt).map(yt).filter($t=>$t!==null);return Et.length<1?"":`${kt.kind} ${Et.join(",")}`;case"VariableDeclarator":return kt.init.object&&kt.init.object.type==="ThisExpression"?dt(kt.init.property.name,!0)?`${kt.id.name} = ${yt(kt.init)}`:null:`${kt.id.name} = ${yt(kt.init)}`;case"CallExpression":{if(kt.callee.property.name==="subarray")return`${yt(kt.callee.object)}.${yt(kt.callee.property)}(${kt.arguments.map($t=>yt($t)).join(", ")})`;if(kt.callee.object.name==="gl"||kt.callee.object.name==="context")return`${yt(kt.callee.object)}.${yt(kt.callee.property)}(${kt.arguments.map($t=>yt($t)).join(", ")})`;if(kt.callee.object.type==="ThisExpression")return St.push(ut("this",kt.callee.property.name)),`${kt.callee.property.name}(${kt.arguments.map($t=>yt($t)).join(", ")})`;if(kt.callee.object.name){const $t=ut(kt.callee.object.name,kt.callee.property.name);return $t===null?`${kt.callee.object.name}.${kt.callee.property.name}(${kt.arguments.map(Tt=>yt(Tt)).join(", ")})`:(St.push($t),`${kt.callee.property.name}(${kt.arguments.map(Tt=>yt(Tt)).join(", ")})`)}else{if(kt.callee.object.type==="MemberExpression")return`${yt(kt.callee.object)}.${kt.callee.property.name}(${kt.arguments.map($t=>yt($t)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${yt(kt.argument)}`;case"BinaryExpression":return`(${yt(kt.left)}${kt.operator}${yt(kt.right)})`;case"UnaryExpression":return kt.prefix?`${kt.operator} ${yt(kt.argument)}`:`${yt(kt.argument)} ${kt.operator}`;case"ExpressionStatement":return`${yt(kt.expression)}`;case"SequenceExpression":return`(${yt(kt.expressions)})`;case"ArrowFunctionExpression":return`(${kt.params.map(yt).join(", ")}) => ${yt(kt.body)}`;case"Literal":return kt.raw;case"Identifier":return kt.name;case"MemberExpression":return kt.object.type==="ThisExpression"?dt(kt.property.name):kt.computed?`${yt(kt.object)}[${yt(kt.property)}]`:yt(kt.object)+"."+yt(kt.property);case"ThisExpression":return"this";case"NewExpression":return`new ${yt(kt.callee)}(${kt.arguments.map($t=>yt($t)).join(", ")})`;case"ForStatement":return`for (${yt(kt.init)};${yt(kt.test)};${yt(kt.update)}) ${yt(kt.body)}`;case"AssignmentExpression":return`${yt(kt.left)}${kt.operator}${yt(kt.right)}`;case"UpdateExpression":return`${yt(kt.argument)}${kt.operator}`;case"IfStatement":return`if (${yt(kt.test)}) ${yt(kt.consequent)}`;case"ThrowStatement":return`throw ${yt(kt.argument)}`;case"ObjectPattern":return kt.properties.map(yt).join(", ");case"ArrayPattern":return kt.elements.map(yt).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${yt(kt.test)}?${yt(kt.consequent)}:${yt(kt.alternate)}`;case"Property":if(kt.kind==="init")return yt(kt.key)}throw new Error(`unhandled ast.type of ${kt.type}`)}const _t=yt(lt);if(St.length>0){const kt=[];for(let Et=0;Et<St.length;Et++){const $t=St[Et];gt[$t]||(gt[$t]=!0),$t&&kt.push(_.flattenFunctionToString($t,ht)+`
`)}return kt.join("")+_t}return _t},normalizeDeclarations:ct=>{if(ct.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const ht=[];for(let ut=0;ut<ct.declarations.length;ut++){const dt=ct.declarations[ut];if(dt.id&&dt.id.type==="ObjectPattern"&&dt.id.properties){const{properties:mt}=dt.id;for(let gt=0;gt<mt.length;gt++){const lt=mt[gt];if(lt.value.type==="ObjectPattern"&&lt.value.properties)for(let St=0;St<lt.value.properties.length;St++){const xt=lt.value.properties[St];if(xt.type==="Property")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:xt.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:dt.init,property:{type:"Identifier",name:lt.key.name},computed:!1},property:{type:"Identifier",name:xt.key.name},computed:!1}});else throw new Error("unexpected state")}else if(lt.value.type==="Identifier")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:lt.value&&lt.value.name?lt.value.name:lt.key.name},init:{type:"MemberExpression",object:dt.init,property:{type:"Identifier",name:lt.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(dt.id&&dt.id.type==="ArrayPattern"&&dt.id.elements){const{elements:mt}=dt.id;for(let gt=0;gt<mt.length;gt++){const lt=mt[gt];if(lt.type==="Identifier")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:lt.name},init:{type:"MemberExpression",object:dt.init,property:{type:"Literal",value:gt,raw:gt.toString(),start:lt.start,end:lt.end},computed:!0}});else throw new Error("unexpected state")}}else ht.push(dt)}return ht},splitHTMLImageToRGB:(ct,ht)=>{const ut=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].r*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),dt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].g*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),mt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].b*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),gt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].a*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),lt=[ut(ht),dt(ht),mt(ht),gt(ht)];return lt.rKernel=ut,lt.gKernel=dt,lt.bKernel=mt,lt.aKernel=gt,lt.gpu=ct,lt},splitRGBAToCanvases:(ct,ht,ut,dt)=>{const mt=ct.createKernel(function(xt){const yt=xt[this.thread.y][this.thread.x];this.color(yt.r/255,0,0,255)},{output:[ut,dt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});mt(ht);const gt=ct.createKernel(function(xt){const yt=xt[this.thread.y][this.thread.x];this.color(0,yt.g/255,0,255)},{output:[ut,dt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});gt(ht);const lt=ct.createKernel(function(xt){const yt=xt[this.thread.y][this.thread.x];this.color(0,0,yt.b/255,255)},{output:[ut,dt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});lt(ht);const St=ct.createKernel(function(xt){const yt=xt[this.thread.y][this.thread.x];this.color(255,255,255,yt.a/255)},{output:[ut,dt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return St(ht),[mt.canvas,gt.canvas,lt.canvas,St.canvas]},getMinifySafeName:ct=>{try{const ht=_e.parse(`const value = ${ct.toString()}`),{init:ut}=ht.body[0].declarations[0];return ut.body.name||ut.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(ct){return $.test(ct)&&(ct=ct.replace($,"S_S")),et.test(ct)?ct=ct.replace(et,"U_U"):nt.test(ct)&&(ct=ct.replace(nt,"u_u")),ct}},$=/\$/,et=/__/,nt=/_/,at=_.getSystemEndianness();a.exports={utils:_}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})})(gpuBrowser);var gpuBrowserExports=gpuBrowser.exports,rttc={},runtimeSourceError={};Object.defineProperty(runtimeSourceError,"__esModule",{value:!0});runtimeSourceError.RuntimeSourceError=void 0;const constants_1$1=constants,types_1$l=types;class RuntimeSourceError{constructor(s){this.type=types_1$l.ErrorType.RUNTIME,this.severity=types_1$l.ErrorSeverity.ERROR,this.location=s?s.loc:constants_1$1.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}runtimeSourceError.RuntimeSourceError=RuntimeSourceError;Object.defineProperty(rttc,"__esModule",{value:!0});rttc.isIdentifier=rttc.checkMemberAccess=rttc.checkIfStatement=rttc.checkBinaryExpression=rttc.checkUnaryExpression=rttc.TypeError=void 0;const runtimeSourceError_1$1=runtimeSourceError,types_1$k=types,LHS=" on left hand side of operation",RHS=" on right hand side of operation";let TypeError$1=class extends runtimeSourceError_1$1.RuntimeSourceError{constructor(s,o,a,tt,_e=types_1$k.Chapter.SOURCE_4){super(s),this.side=o,this.expected=a,this.got=tt,this.chapter=_e,this.type=types_1$k.ErrorType.RUNTIME,this.severity=types_1$k.ErrorSeverity.ERROR}explain(){const s=this.got==="array"?this.chapter<=2?"pair":"compound data":this.got;return`Expected ${this.expected}${this.side}, got ${s}.`}elaborate(){return this.explain()}};rttc.TypeError=TypeError$1;const typeOf=i=>i===null?"null":Array.isArray(i)?"array":typeof i,isNumber=i=>typeOf(i)==="number",isArrayIndex=i=>isNumber(i)&&i>>>0===i&&i<2**32-1,isString=i=>typeOf(i)==="string",isBool=i=>typeOf(i)==="boolean",isObject=i=>typeOf(i)==="object",isArray=i=>typeOf(i)==="array",checkUnaryExpression=(i,s,o,a=types_1$k.Chapter.SOURCE_4)=>(s==="+"||s==="-")&&!isNumber(o)?new TypeError$1(i,"","number",typeOf(o),a):s==="!"&&!isBool(o)?new TypeError$1(i,"","boolean",typeOf(o),a):void 0;rttc.checkUnaryExpression=checkUnaryExpression;const checkBinaryExpression=(i,s,o,a,tt)=>{switch(s){case"-":case"*":case"/":case"%":return isNumber(a)?isNumber(tt)?void 0:new TypeError$1(i,RHS,"number",typeOf(tt),o):new TypeError$1(i,LHS,"number",typeOf(a),o);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":return o>2&&(s==="==="||s==="!==")?void 0:isNumber(a)?isNumber(tt)?void 0:new TypeError$1(i,RHS,"number",typeOf(tt),o):isString(a)?isString(tt)?void 0:new TypeError$1(i,RHS,"string",typeOf(tt),o):new TypeError$1(i,LHS,"string or number",typeOf(a),o);default:return}};rttc.checkBinaryExpression=checkBinaryExpression;const checkIfStatement=(i,s,o=types_1$k.Chapter.SOURCE_4)=>isBool(s)?void 0:new TypeError$1(i," as condition","boolean",typeOf(s),o);rttc.checkIfStatement=checkIfStatement;const checkMemberAccess=(i,s,o)=>isObject(s)?isString(o)?void 0:new TypeError$1(i," as prop","string",typeOf(o)):isArray(s)?isArrayIndex(o)?void 0:isNumber(o)?new TypeError$1(i," as prop","array index","other number"):new TypeError$1(i," as prop","array index",typeOf(o)):new TypeError$1(i,"","object or array",typeOf(s));rttc.checkMemberAccess=checkMemberAccess;const isIdentifier=i=>i.name!==void 0;rttc.isIdentifier=isIdentifier;var transfomer={},astCreator={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.whileStatement=i.ifStatement=i.variableDeclarator=i.variableDeclaration=i.arrowFunctionExpression=i.blockExpression=i.functionDeclaration=i.functionDeclarationExpression=i.primitive=i.unaryExpression=i.binaryExpression=i.assignmentExpression=i.arrayExpression=i.conditionalExpression=i.mutateToConditionalExpression=i.logicalExpression=i.mutateToMemberExpression=i.mutateToReturnStatement=i.mutateToExpressionStatement=i.mutateToAssignmentExpression=i.mutateToCallExpression=i.objectExpression=i.property=i.returnStatement=i.program=i.blockStatement=i.functionExpression=i.blockArrowFunction=i.expressionStatement=i.callExpression=i.constantDeclaration=i.declaration=i.memberExpression=i.literal=i.identifier=i.locationDummyNode=i.getVariableDecarationName=void 0;const s=Gt=>Gt.declarations[0].id.name;i.getVariableDecarationName=s;const o=(Gt,Wt)=>(0,i.literal)("Dummy",{start:{line:Gt,column:Wt},end:{line:Gt,column:Wt}});i.locationDummyNode=o;const a=(Gt,Wt)=>({type:"Identifier",name:Gt,loc:Wt});i.identifier=a;const tt=(Gt,Wt)=>({type:"Literal",value:Gt,loc:Wt});i.literal=tt;const _e=(Gt,Wt)=>({type:"MemberExpression",object:Gt,computed:typeof Wt=="number",optional:!1,property:typeof Wt=="number"?(0,i.literal)(Wt):(0,i.identifier)(Wt)});i.memberExpression=_e;const st=(Gt,Wt,Xt,rr)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:(0,i.identifier)(Gt),init:Xt}],kind:Wt,loc:rr});i.declaration=st;const ot=(Gt,Wt,Xt)=>(0,i.declaration)(Gt,"const",Wt,Xt);i.constantDeclaration=ot;const rt=(Gt,Wt,Xt)=>({type:"CallExpression",callee:Gt,arguments:Wt,optional:!1,loc:Xt});i.callExpression=rt;const it=Gt=>({type:"ExpressionStatement",expression:Gt});i.expressionStatement=it;const j=(Gt,Wt,Xt)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:Gt,body:Array.isArray(Wt)?(0,i.blockStatement)(Wt):Wt,loc:Xt});i.blockArrowFunction=j;const _=(Gt,Wt,Xt)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:Gt,body:Array.isArray(Wt)?(0,i.blockStatement)(Wt):Wt,loc:Xt});i.functionExpression=_;const $=Gt=>({type:"BlockStatement",body:Gt});i.blockStatement=$;const et=Gt=>({type:"Program",sourceType:"module",body:Gt});i.program=et;const nt=(Gt,Wt)=>({type:"ReturnStatement",argument:Gt,loc:Wt});i.returnStatement=nt;const at=(Gt,Wt)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,i.identifier)(Gt),value:Wt,kind:"init"});i.property=at;const ct=Gt=>({type:"ObjectExpression",properties:Gt});i.objectExpression=ct;const ht=(Gt,Wt,Xt)=>{Gt.type="CallExpression",Gt=Gt,Gt.callee=Wt,Gt.arguments=Xt};i.mutateToCallExpression=ht;const ut=(Gt,Wt,Xt)=>{Gt.type="AssignmentExpression",Gt=Gt,Gt.operator="=",Gt.left=Wt,Gt.right=Xt};i.mutateToAssignmentExpression=ut;const dt=(Gt,Wt)=>{Gt.type="ExpressionStatement",Gt=Gt,Gt.expression=Wt};i.mutateToExpressionStatement=dt;const mt=(Gt,Wt)=>{Gt.type="ReturnStatement",Gt=Gt,Gt.argument=Wt};i.mutateToReturnStatement=mt;const gt=(Gt,Wt,Xt)=>{Gt.type="MemberExpression",Gt=Gt,Gt.object=Wt,Gt.property=Xt,Gt.computed=!1};i.mutateToMemberExpression=gt;const lt=(Gt,Wt,Xt,rr)=>({type:"LogicalExpression",operator:Gt,left:Wt,right:Xt,loc:rr});i.logicalExpression=lt;const St=(Gt,Wt,Xt,rr)=>{Gt.type="ConditionalExpression",Gt=Gt,Gt.test=Wt,Gt.consequent=Xt,Gt.alternate=rr};i.mutateToConditionalExpression=St;const xt=(Gt,Wt,Xt,rr)=>({type:"ConditionalExpression",test:Gt,consequent:Wt,alternate:Xt,loc:rr});i.conditionalExpression=xt;const yt=Gt=>({type:"ArrayExpression",elements:Gt});i.arrayExpression=yt;const _t=(Gt,Wt)=>({type:"AssignmentExpression",operator:"=",left:Gt,right:Wt});i.assignmentExpression=_t;const kt=(Gt,Wt,Xt,rr)=>({type:"BinaryExpression",operator:Gt,left:Wt,right:Xt,loc:rr});i.binaryExpression=kt;const Et=(Gt,Wt,Xt)=>({type:"UnaryExpression",operator:Gt,prefix:!0,argument:Wt,loc:Xt});i.unaryExpression=Et;const $t=Gt=>Gt===void 0?(0,i.identifier)("undefined"):(0,i.literal)(Gt);i.primitive=$t;const Tt=(Gt,Wt,Xt,rr)=>({type:"FunctionExpression",id:Gt,params:Wt,body:Xt,loc:rr});i.functionDeclarationExpression=Tt;const At=(Gt,Wt,Xt,rr)=>({type:"FunctionDeclaration",id:Gt,params:Wt,body:Xt,loc:rr});i.functionDeclaration=At;const Mt=(Gt,Wt)=>({type:"BlockExpression",body:Gt,loc:Wt});i.blockExpression=Mt;const Ot=(Gt,Wt,Xt)=>({type:"ArrowFunctionExpression",expression:Wt.type!=="BlockStatement",generator:!1,params:Gt,body:Wt,loc:Xt});i.arrowFunctionExpression=Ot;const Pt=(Gt,Wt)=>({type:"VariableDeclaration",kind:"const",declarations:Gt,loc:Wt});i.variableDeclaration=Pt;const Ft=(Gt,Wt,Xt)=>({type:"VariableDeclarator",id:Gt,init:Wt,loc:Xt});i.variableDeclarator=Ft;const zt=(Gt,Wt,Xt,rr)=>({type:"IfStatement",test:Gt,consequent:Wt,alternate:Xt,loc:rr});i.ifStatement=zt;const qt=(Gt,Wt,Xt)=>({type:"WhileStatement",test:Wt,body:Gt,loc:Xt});i.whileStatement=qt})(astCreator);var walkers$1={},walk={exports:{}};(function(i,s){(function(o,a){a(s)})(commonjsGlobal,function(o){function a(ut,dt,mt,gt,lt){mt||(mt=ht),function St(xt,yt,_t){var kt=_t||xt.type;mt[kt](xt,yt,St),dt[kt]&&dt[kt](xt,yt)}(ut,gt,lt)}function tt(ut,dt,mt,gt,lt){var St=[];mt||(mt=ht),function xt(yt,_t,kt){var Et=kt||yt.type,$t=yt!==St[St.length-1];$t&&St.push(yt),mt[Et](yt,_t,xt),dt[Et]&&dt[Et](yt,_t||St,St),$t&&St.pop()}(ut,gt,lt)}function _e(ut,dt,mt,gt,lt){var St=mt?nt(mt,gt||void 0):gt;(function xt(yt,_t,kt){St[kt||yt.type](yt,_t,xt)})(ut,dt,lt)}function st(ut){return typeof ut=="string"?function(dt){return dt===ut}:ut||function(){return!0}}var ot=function(dt,mt){this.node=dt,this.state=mt};function rt(ut,dt,mt,gt,lt){mt||(mt=ht);var St;(function xt(yt,_t,kt){var Et=kt||yt.type;mt[Et](yt,_t,xt),St!==yt&&(dt(yt,_t,Et),St=yt)})(ut,gt,lt)}function it(ut,dt,mt,gt){mt||(mt=ht);var lt=[],St;(function xt(yt,_t,kt){var Et=kt||yt.type,$t=yt!==lt[lt.length-1];$t&&lt.push(yt),mt[Et](yt,_t,xt),St!==yt&&(dt(yt,_t||lt,lt,Et),St=yt),$t&&lt.pop()})(ut,gt)}function j(ut,dt,mt,gt,lt,St){lt||(lt=ht),gt=st(gt);try{(function xt(yt,_t,kt){var Et=kt||yt.type;if((dt==null||yt.start<=dt)&&(mt==null||yt.end>=mt)&&lt[Et](yt,_t,xt),(dt==null||yt.start===dt)&&(mt==null||yt.end===mt)&&gt(Et,yt))throw new ot(yt,_t)})(ut,St)}catch(xt){if(xt instanceof ot)return xt;throw xt}}function _(ut,dt,mt,gt,lt){mt=st(mt),gt||(gt=ht);try{(function St(xt,yt,_t){var kt=_t||xt.type;if(!(xt.start>dt||xt.end<dt)&&(gt[kt](xt,yt,St),mt(kt,xt)))throw new ot(xt,yt)})(ut,lt)}catch(St){if(St instanceof ot)return St;throw St}}function $(ut,dt,mt,gt,lt){mt=st(mt),gt||(gt=ht);try{(function St(xt,yt,_t){if(!(xt.end<dt)){var kt=_t||xt.type;if(xt.start>=dt&&mt(kt,xt))throw new ot(xt,yt);gt[kt](xt,yt,St)}})(ut,lt)}catch(St){if(St instanceof ot)return St;throw St}}function et(ut,dt,mt,gt,lt){mt=st(mt),gt||(gt=ht);var St;return function xt(yt,_t,kt){if(!(yt.start>dt)){var Et=kt||yt.type;yt.end<=dt&&(!St||St.node.end<yt.end)&&mt(Et,yt)&&(St=new ot(yt,_t)),gt[Et](yt,_t,xt)}}(ut,lt),St}function nt(ut,dt){var mt=Object.create(dt||ht);for(var gt in ut)mt[gt]=ut[gt];return mt}function at(ut,dt,mt){mt(ut,dt)}function ct(ut,dt,mt){}var ht={};ht.Program=ht.BlockStatement=ht.StaticBlock=function(ut,dt,mt){for(var gt=0,lt=ut.body;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt,"Statement")}},ht.Statement=at,ht.EmptyStatement=ct,ht.ExpressionStatement=ht.ParenthesizedExpression=ht.ChainExpression=function(ut,dt,mt){return mt(ut.expression,dt,"Expression")},ht.IfStatement=function(ut,dt,mt){mt(ut.test,dt,"Expression"),mt(ut.consequent,dt,"Statement"),ut.alternate&&mt(ut.alternate,dt,"Statement")},ht.LabeledStatement=function(ut,dt,mt){return mt(ut.body,dt,"Statement")},ht.BreakStatement=ht.ContinueStatement=ct,ht.WithStatement=function(ut,dt,mt){mt(ut.object,dt,"Expression"),mt(ut.body,dt,"Statement")},ht.SwitchStatement=function(ut,dt,mt){mt(ut.discriminant,dt,"Expression");for(var gt=0,lt=ut.cases;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt)}},ht.SwitchCase=function(ut,dt,mt){ut.test&&mt(ut.test,dt,"Expression");for(var gt=0,lt=ut.consequent;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt,"Statement")}},ht.ReturnStatement=ht.YieldExpression=ht.AwaitExpression=function(ut,dt,mt){ut.argument&&mt(ut.argument,dt,"Expression")},ht.ThrowStatement=ht.SpreadElement=function(ut,dt,mt){return mt(ut.argument,dt,"Expression")},ht.TryStatement=function(ut,dt,mt){mt(ut.block,dt,"Statement"),ut.handler&&mt(ut.handler,dt),ut.finalizer&&mt(ut.finalizer,dt,"Statement")},ht.CatchClause=function(ut,dt,mt){ut.param&&mt(ut.param,dt,"Pattern"),mt(ut.body,dt,"Statement")},ht.WhileStatement=ht.DoWhileStatement=function(ut,dt,mt){mt(ut.test,dt,"Expression"),mt(ut.body,dt,"Statement")},ht.ForStatement=function(ut,dt,mt){ut.init&&mt(ut.init,dt,"ForInit"),ut.test&&mt(ut.test,dt,"Expression"),ut.update&&mt(ut.update,dt,"Expression"),mt(ut.body,dt,"Statement")},ht.ForInStatement=ht.ForOfStatement=function(ut,dt,mt){mt(ut.left,dt,"ForInit"),mt(ut.right,dt,"Expression"),mt(ut.body,dt,"Statement")},ht.ForInit=function(ut,dt,mt){ut.type==="VariableDeclaration"?mt(ut,dt):mt(ut,dt,"Expression")},ht.DebuggerStatement=ct,ht.FunctionDeclaration=function(ut,dt,mt){return mt(ut,dt,"Function")},ht.VariableDeclaration=function(ut,dt,mt){for(var gt=0,lt=ut.declarations;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt)}},ht.VariableDeclarator=function(ut,dt,mt){mt(ut.id,dt,"Pattern"),ut.init&&mt(ut.init,dt,"Expression")},ht.Function=function(ut,dt,mt){ut.id&&mt(ut.id,dt,"Pattern");for(var gt=0,lt=ut.params;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt,"Pattern")}mt(ut.body,dt,ut.expression?"Expression":"Statement")},ht.Pattern=function(ut,dt,mt){ut.type==="Identifier"?mt(ut,dt,"VariablePattern"):ut.type==="MemberExpression"?mt(ut,dt,"MemberPattern"):mt(ut,dt)},ht.VariablePattern=ct,ht.MemberPattern=at,ht.RestElement=function(ut,dt,mt){return mt(ut.argument,dt,"Pattern")},ht.ArrayPattern=function(ut,dt,mt){for(var gt=0,lt=ut.elements;gt<lt.length;gt+=1){var St=lt[gt];St&&mt(St,dt,"Pattern")}},ht.ObjectPattern=function(ut,dt,mt){for(var gt=0,lt=ut.properties;gt<lt.length;gt+=1){var St=lt[gt];St.type==="Property"?(St.computed&&mt(St.key,dt,"Expression"),mt(St.value,dt,"Pattern")):St.type==="RestElement"&&mt(St.argument,dt,"Pattern")}},ht.Expression=at,ht.ThisExpression=ht.Super=ht.MetaProperty=ct,ht.ArrayExpression=function(ut,dt,mt){for(var gt=0,lt=ut.elements;gt<lt.length;gt+=1){var St=lt[gt];St&&mt(St,dt,"Expression")}},ht.ObjectExpression=function(ut,dt,mt){for(var gt=0,lt=ut.properties;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt)}},ht.FunctionExpression=ht.ArrowFunctionExpression=ht.FunctionDeclaration,ht.SequenceExpression=function(ut,dt,mt){for(var gt=0,lt=ut.expressions;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt,"Expression")}},ht.TemplateLiteral=function(ut,dt,mt){for(var gt=0,lt=ut.quasis;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt)}for(var xt=0,yt=ut.expressions;xt<yt.length;xt+=1){var _t=yt[xt];mt(_t,dt,"Expression")}},ht.TemplateElement=ct,ht.UnaryExpression=ht.UpdateExpression=function(ut,dt,mt){mt(ut.argument,dt,"Expression")},ht.BinaryExpression=ht.LogicalExpression=function(ut,dt,mt){mt(ut.left,dt,"Expression"),mt(ut.right,dt,"Expression")},ht.AssignmentExpression=ht.AssignmentPattern=function(ut,dt,mt){mt(ut.left,dt,"Pattern"),mt(ut.right,dt,"Expression")},ht.ConditionalExpression=function(ut,dt,mt){mt(ut.test,dt,"Expression"),mt(ut.consequent,dt,"Expression"),mt(ut.alternate,dt,"Expression")},ht.NewExpression=ht.CallExpression=function(ut,dt,mt){if(mt(ut.callee,dt,"Expression"),ut.arguments)for(var gt=0,lt=ut.arguments;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt,"Expression")}},ht.MemberExpression=function(ut,dt,mt){mt(ut.object,dt,"Expression"),ut.computed&&mt(ut.property,dt,"Expression")},ht.ExportNamedDeclaration=ht.ExportDefaultDeclaration=function(ut,dt,mt){ut.declaration&&mt(ut.declaration,dt,ut.type==="ExportNamedDeclaration"||ut.declaration.id?"Statement":"Expression"),ut.source&&mt(ut.source,dt,"Expression")},ht.ExportAllDeclaration=function(ut,dt,mt){ut.exported&&mt(ut.exported,dt),mt(ut.source,dt,"Expression")},ht.ImportDeclaration=function(ut,dt,mt){for(var gt=0,lt=ut.specifiers;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt)}mt(ut.source,dt,"Expression")},ht.ImportExpression=function(ut,dt,mt){mt(ut.source,dt,"Expression")},ht.ImportSpecifier=ht.ImportDefaultSpecifier=ht.ImportNamespaceSpecifier=ht.Identifier=ht.PrivateIdentifier=ht.Literal=ct,ht.TaggedTemplateExpression=function(ut,dt,mt){mt(ut.tag,dt,"Expression"),mt(ut.quasi,dt,"Expression")},ht.ClassDeclaration=ht.ClassExpression=function(ut,dt,mt){return mt(ut,dt,"Class")},ht.Class=function(ut,dt,mt){ut.id&&mt(ut.id,dt,"Pattern"),ut.superClass&&mt(ut.superClass,dt,"Expression"),mt(ut.body,dt)},ht.ClassBody=function(ut,dt,mt){for(var gt=0,lt=ut.body;gt<lt.length;gt+=1){var St=lt[gt];mt(St,dt)}},ht.MethodDefinition=ht.PropertyDefinition=ht.Property=function(ut,dt,mt){ut.computed&&mt(ut.key,dt,"Expression"),ut.value&&mt(ut.value,dt,"Expression")},o.ancestor=tt,o.base=ht,o.findNodeAfter=$,o.findNodeAround=_,o.findNodeAt=j,o.findNodeBefore=et,o.full=rt,o.fullAncestor=it,o.make=nt,o.recursive=_e,o.simple=a})})(walk,walk.exports);var walkExports=walk.exports;Object.defineProperty(walkers$1,"__esModule",{value:!0});walkers$1.base=walkers$1.findNodeAfter=walkers$1.findNodeAround=walkers$1.findNodeAt=walkers$1.make=walkers$1.fullAncestor=walkers$1.full=walkers$1.recursive=walkers$1.ancestor=walkers$1.simple=void 0;const walkers=walkExports;walkers$1.simple=walkers.simple;walkers$1.ancestor=walkers.ancestor;walkers$1.recursive=walkers.recursive;walkers$1.full=walkers.full;walkers$1.fullAncestor=walkers.fullAncestor;walkers$1.make=walkers.make;walkers$1.findNodeAt=walkers.findNodeAt;walkers$1.findNodeAround=walkers.findNodeAround;walkers$1.findNodeAfter=walkers.findNodeAfter;walkers$1.base=walkers.base;var bodyVerifier={};Object.defineProperty(bodyVerifier,"__esModule",{value:!0});const walkers_1$1=walkers$1;class GPUBodyVerifier{constructor(s,o,a){this.checkBody=tt=>{let _e=!0;if((0,walkers_1$1.simple)(tt,{FunctionDeclaration(){_e=!1},ArrowFunctionExpression(){_e=!1},ReturnStatement(){_e=!1},BreakStatement(){_e=!1},ContinueStatement(){_e=!1}}),!_e)return;const st=new RegExp(/^math_[a-z]+$/);if((0,walkers_1$1.simple)(tt,{CallExpression(et){if(et.callee.type!=="Identifier"){_e=!1;return}const nt=et.callee.name;if(!st.test(nt)){_e=!1;return}}}),!_e)return;const ot=new Set;(0,walkers_1$1.simple)(tt,{VariableDeclaration(et){et.declarations[0].id.type==="Identifier"&&ot.add(et.declarations[0].id.name)}}),this.localVar=ot;const rt=[],it=this.getArrayName;if((0,walkers_1$1.simple)(tt,{AssignmentExpression(et){if(!(et.left.type==="Identifier"&&ot.has(et.left.name))){if(et.left.type==="MemberExpression"){const nt=it(et.left);if(ot.has(nt.name))return}rt.push(et)}}}),rt.length!==1||rt[0].left.type!=="MemberExpression")return;const j=this.getPropertyAccess(rt[0].left);if(j.length===0||j.length>this.counters.length)return;const _=this.getPropertyAccess,$=this.outputArray;if((0,walkers_1$1.simple)(tt,{MemberExpression(et){if(it(et).name!==$.name)return;const at=_(et);JSON.stringify(at)!==JSON.stringify(j)&&(_e=!1)}},(0,walkers_1$1.make)({MemberExpression:()=>{}})),!!_e){for(let et=0;et<this.counters.length&&j[et]===this.counters[et];et++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=tt=>{let _e=tt;for(;_e.type==="MemberExpression";)_e=_e.object;return _e},this.getPropertyAccess=tt=>{const _e=[];let st=!0,ot=tt;for(;ot.type==="MemberExpression";){if(ot.property.type!=="Identifier"){st=!1;break}_e.push(ot.property.name),ot=ot.object}return st?(this.outputArray=ot,_e.reverse()):[]},this.program=s,this.node=o,this.counters=a,this.state=0,this.checkBody(o)}}bodyVerifier.default=GPUBodyVerifier;var loopVerifier={};Object.defineProperty(loopVerifier,"__esModule",{value:!0});class GPULoopVerifier{constructor(s){this.forLoopTransform=o=>{!o.init||!o.update||!o.test||(this.ok=this.hasCounter(o.init)&&this.hasCondition(o.test)&&this.hasUpdate(o.update))},this.hasCounter=o=>{if(!o||o.type!=="VariableDeclaration"||o.kind!=="let")return!1;const a=o.declarations;if(a.length>1)return!1;const tt=a[0];if(tt.id.type!=="Identifier"||!tt.init)return!1;this.counter=tt.id.name;const _e=tt.init;return!(!_e||_e.type!=="Literal"||_e.value!==0)},this.hasCondition=o=>{if(o.type!=="BinaryExpression"||!(o.operator==="<"||o.operator==="<="))return!1;const a=o.left;if(a.type!=="Identifier"||a.name!==this.counter)return!1;const tt=o.right;return tt.type==="Identifier"||tt.type==="Literal"?(this.end=tt,!0):!1},this.hasUpdate=o=>{if(o.type!=="AssignmentExpression"||o.operator!=="="||o.left.type!=="Identifier"||o.left.name!==this.counter||o.right.type!=="BinaryExpression")return!1;const a=o.right;if(a.operator!=="+")return!1;const tt=a.left.type==="Identifier"&&a.left.name===this.counter,_e=a.right.type==="Identifier"&&a.right.name===this.counter,st=a.left.type==="Literal"&&a.left.value===1,ot=a.right.type==="Literal"&&a.right.value===1;return tt&&ot||_e&&st},this.node=s,this.forLoopTransform(this.node)}}loopVerifier.default=GPULoopVerifier;Object.defineProperty(transfomer,"__esModule",{value:!0});transfomer.gpuRuntimeTranspile=void 0;const create=astCreator,walkers_1=walkers$1,bodyVerifier_1=bodyVerifier,loopVerifier_1=loopVerifier;let currentKernelId=0;class GPUTransformer{constructor(s,o){this.transform=()=>{const a=this.gpuTranspile,tt=[];return(0,walkers_1.simple)(this.program,{ForStatement(_e){const st=a(_e);st>0&&_e.loc&&tt.push([_e.loc.start.line,st])}},(0,walkers_1.make)({ForStatement:()=>{}})),tt},this.gpuTranspile=a=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(a),this.counters.length===0||new Set(this.counters).size!==this.counters.length)return 0;const tt=new bodyVerifier_1.default(this.program,this.innerBody,this.counters);if(tt.state===0)return 0;this.state=tt.state,this.outputArray=tt.outputArray,this.localVar=tt.localVar,this.getOuterVariables(),this.getTargetBody(a);const _e=[];for(const _ in this.outerVariables)if(this.outerVariables.hasOwnProperty(_)){const $=this.outerVariables[_];_e.push([create.literal(_),JSON.parse(JSON.stringify($))])}const st=tt.getArrayName,ot=this.localVar;(0,walkers_1.ancestor)(this.targetBody,{AssignmentExpression(_,$){if(_.left.type==="Identifier"||_.left.type!=="MemberExpression")return;const et=st(_.left);if(ot.has(et.name))return;const nt=$.length;create.mutateToReturnStatement($[nt-2],_.right)}});const rt=[];for(let _=0;_<this.state;_++)rt.push(create.identifier(this.counters[_]));const it=create.blockArrowFunction(this.counters.map(_=>create.identifier(_)),this.targetBody),j=create.callExpression(this.globalIds.__createKernelSource,[create.arrayExpression(this.end),create.arrayExpression(_e.map(create.arrayExpression)),create.arrayExpression(Array.from(ot.values()).map(_=>create.literal(_))),this.outputArray,it,create.literal(currentKernelId++)],a.loc);return create.mutateToExpressionStatement(a,j),this.state},this.checkOuterLoops=a=>{let tt=a;for(;tt.type==="ForStatement";){const _e=new loopVerifier_1.default(tt);if(!_e.ok||(this.innerBody=tt.body,this.counters.push(_e.counter),this.end.push(_e.end),this.innerBody.type!=="BlockStatement")||this.innerBody.body.length>1||this.innerBody.body.length===0)break;tt=this.innerBody.body[0]}},this.program=s,this.globalIds={__createKernelSource:o}}getTargetBody(s){let o=this.state;for(this.targetBody=s;o>1;)this.targetBody=this.targetBody.body.body[0],o--;this.targetBody=this.targetBody.body}getOuterVariables(){const s=this.innerBody,o=this.localVar,a=this.counters,tt=this.outputArray.name,_e={};(0,walkers_1.simple)(s,{Identifier(st){o.has(st.name)||a.includes(st.name)||st.name===tt||st.name.startsWith("math_")||(_e[st.name]=st)}}),this.outerVariables=_e}}function gpuRuntimeTranspile(i,s){const o=i.params.map(ot=>ot.name),a=i.body;(0,walkers_1.simple)(a,{CallExpression(ot){if(ot.callee.type!=="Identifier")return;const it=ot.callee.name.split("_")[1],j=ot.arguments;create.mutateToCallExpression(ot,create.memberExpression(create.identifier("Math"),it),j)}});const tt=new Set([...o,"Math"]);(0,walkers_1.simple)(a,{Identifier(ot){tt.has(ot.name)||s.has(ot.name)||create.mutateToMemberExpression(ot,create.memberExpression(create.identifier("this"),"constants"),create.identifier(ot.name))}});let _e=["x"];o.length===2&&(_e=["y","x"]),o.length===3&&(_e=["z","y","x"]);const st=o.slice();return(0,walkers_1.simple)(a,{Identifier(ot){let rt=-1;for(let j=0;j<st.length;j=j+1)if(ot.name===st[j]){rt=j;break}if(rt===-1)return;const it=_e[rt];create.mutateToMemberExpression(ot,create.memberExpression(create.identifier("this"),"thread"),create.identifier(it))}}),a}transfomer.gpuRuntimeTranspile=gpuRuntimeTranspile;transfomer.default=GPUTransformer;Object.defineProperty(lib,"__esModule",{value:!0});lib.__createKernelSource=lib.__clearKernelCache=lib.__createKernel=void 0;const acorn_1=acornExports,astring_1$8=astring,gpu_js_1=gpuBrowserExports,constants_1=constants,rttc_1=rttc,transfomer_1=transfomer,MAX_SIZE=200;function buildArray(i,s,o){for(let a=0;a<s[0];a++)o[a]=prettyOutput(i[a])}function build2DArray(i,s,o){for(let a=0;a<s[0];a++)for(let tt=0;tt<s[1];tt++)o[a][tt]=prettyOutput(i[a][tt])}function build3DArray(i,s,o){for(let a=0;a<s[0];a++)for(let tt=0;tt<s[1];tt++)for(let _e=0;_e<s[2];_e++)o[a][tt][_e]=prettyOutput(i[a][tt][_e])}function prettyOutput(i){if(!(i instanceof Float32Array))return i;const s=i.map(o=>prettyOutput(o));return Array.from(s)}function checkArray(i){return Array.isArray(i)}function checkArray2D(i,s){for(let o=0;o<s[0];o=o+1)if(!Array.isArray(i[o]))return!1;return!0}function checkArray3D(i,s){for(let o=0;o<s[0];o=o+1){if(!Array.isArray(i[o]))return!1;for(let a=0;a<s[1];a=a+1)if(!Array.isArray(i[o][a]))return!1}return!0}function checkValidGPU(i,s){let o;if(s.length===1&&(o=i(0)),s.length===2&&(o=i(0,0)),s.length===3&&(o=i(0,0,0)),typeof o!="number")return!1;let a=1;for(const tt of s)a=a*tt;return a>MAX_SIZE}function manualRun(i,s,o){function a(){for(let st=0;st<s[0];st++)o[st]=i(st)}function tt(){for(let st=0;st<s[0];st=st+1)for(let ot=0;ot<s[1];ot=ot+1)o[st][ot]=i(st,ot)}function _e(){for(let st=0;st<s[0];st=st+1)for(let ot=0;ot<s[1];ot=ot+1)for(let rt=0;rt<s[2];rt=rt+1)o[st][ot][rt]=i(st,ot,rt)}return s.length===1?a():s.length===2?tt():_e()}function __createKernel(i,s,o,a,tt){const _e=new gpu_js_1.GPU;let st=checkArray(a),ot="";if(st||(ot=typeof a),i.length>1&&(st=st&&checkArray2D(a,i),st||(ot="undefined")),i.length>2&&(st=st&&checkArray3D(a,i),st||(ot="undefined")),!st)throw new rttc_1.TypeError(a,"","object or array",ot);if(st=checkValidGPU(tt,i),!st){manualRun(tt,i,a);return}const rt=[];for(let $=i.length-1;$>=0;$--)rt.push(i[$]);const it={constants:{}};it.constants=s;const _=_e.createKernel(o,it).setOutput(rt)();i.length===1&&buildArray(_,i,a),i.length===2&&build2DArray(_,i,a),i.length===3&&build3DArray(_,i,a)}lib.__createKernel=__createKernel;function entriesToObject(i){const s={};return i.forEach(([o,a])=>s[o]=a),s}const kernels=new Map;function __clearKernelCache(){kernels.clear()}lib.__clearKernelCache=__clearKernelCache;function __createKernelSource(i,s,o,a,tt,_e){const st=entriesToObject(s),ot=kernels.get(_e);if(ot!==void 0)return __createKernel(i,st,ot,a,tt);const rt=tt.toString(),j=(0,acorn_1.parse)(rt,constants_1.ACORN_PARSE_OPTIONS).body[0].expression,_=(0,transfomer_1.gpuRuntimeTranspile)(j,new Set(o)),$=new Function((0,astring_1$8.generate)(_));return kernels.set(_e,$),__createKernel(i,st,$,a,tt)}lib.__createKernelSource=__createKernelSource;var schedulers={},errors={},stringify$1={},closure={},interpreter={},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,s){(function(){var o,a="4.17.21",tt=200,_e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",ot="Invalid `variable` option passed into `_.template`",rt="__lodash_hash_undefined__",it=500,j="__lodash_placeholder__",_=1,$=2,et=4,nt=1,at=2,ct=1,ht=2,ut=4,dt=8,mt=16,gt=32,lt=64,St=128,xt=256,yt=512,_t=30,kt="...",Et=800,$t=16,Tt=1,At=2,Mt=3,Ot=1/0,Pt=9007199254740991,Ft=17976931348623157e292,zt=NaN,qt=4294967295,Gt=qt-1,Wt=qt>>>1,Xt=[["ary",St],["bind",ct],["bindKey",ht],["curry",dt],["curryRight",mt],["flip",yt],["partial",gt],["partialRight",lt],["rearg",xt]],rr="[object Arguments]",tr="[object Array]",mr="[object AsyncFunction]",yr="[object Boolean]",xr="[object Date]",vr="[object DOMException]",ir="[object Error]",sr="[object Function]",er="[object GeneratorFunction]",Tr="[object Map]",Cr="[object Number]",dr="[object Null]",Wr="[object Object]",Jr="[object Promise]",nn="[object Proxy]",Cn="[object RegExp]",Vn="[object Set]",An="[object String]",pn="[object Symbol]",Kn="[object Undefined]",Pn="[object WeakMap]",wr="[object WeakSet]",zr="[object ArrayBuffer]",$r="[object DataView]",hn="[object Float32Array]",Jt="[object Float64Array]",Kt="[object Int8Array]",hr="[object Int16Array]",Pr="[object Int32Array]",jr="[object Uint8Array]",kr="[object Uint8ClampedArray]",Ar="[object Uint16Array]",Yr="[object Uint32Array]",un=/\b__p \+= '';/g,Or=/\b(__p \+=) '' \+/g,Xr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ur=/&(?:amp|lt|gt|quot|#39);/g,Vr=/[&<>"']/g,ln=RegExp(Ur.source),Er=RegExp(Vr.source),dn=/<%-([\s\S]+?)%>/g,bs=/<%([\s\S]+?)%>/g,Ss=/<%=([\s\S]+?)%>/g,Yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xn=/^\w*$/,Ds=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,es=/[\\^$.*+?()[\]{}|]/g,Cs=RegExp(es.source),Is=/^\s+/,Bs=/\s/,cs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hs=/\{\n\/\* \[wrapped with (.+)\] \*/,Ns=/,? & /,sn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ds=/[()=,{}\[\]\/\s]/,zs=/\\(\\)?/g,ks=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rs=/\w*$/,qs=/^[-+]0x[0-9a-f]+$/i,js=/^0b[01]+$/i,Qs=/^\[object .+?Constructor\]$/,Zs=/^0o[0-7]+$/i,Us=/^(?:0|[1-9]\d*)$/,fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$s=/($^)/,Rs=/['\n\r\u2028\u2029\\]/g,ws="\\ud800-\\udfff",Ws="\\u0300-\\u036f",ps="\\ufe20-\\ufe2f",yn="\\u20d0-\\u20ff",Qr=Ws+ps+yn,Kr="\\u2700-\\u27bf",Qn="a-z\\xdf-\\xf6\\xf8-\\xff",ns="\\xac\\xb1\\xd7\\xf7",po="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Js="\\u2000-\\u206f",wt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ut="\\ufe0e\\ufe0f",Zt=ns+po+Js+wt,ur="[']",_r="["+ws+"]",Rr="["+Zt+"]",Gr="["+Qr+"]",rn="\\d+",kn="["+Kr+"]",Wn="["+Qn+"]",ss="[^"+ws+Zt+rn+Kr+Qn+Lt+"]",os="\\ud83c[\\udffb-\\udfff]",as="(?:"+Gr+"|"+os+")",Ms="[^"+ws+"]",vn="(?:\\ud83c[\\udde6-\\uddff]){2}",ms="[\\ud800-\\udbff][\\udc00-\\udfff]",Jn="["+Lt+"]",Sn="\\u200d",mo="(?:"+Wn+"|"+ss+")",gs="(?:"+Jn+"|"+ss+")",go="(?:"+ur+"(?:d|ll|m|re|s|t|ve))?",yo="(?:"+ur+"(?:D|LL|M|RE|S|T|VE))?",vt=as+"?",Rt="["+Ut+"]?",Bt="(?:"+Sn+"(?:"+[Ms,vn,ms].join("|")+")"+Rt+vt+")*",ft="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ct="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dt=Rt+vt+Bt,Vt="(?:"+[kn,vn,ms].join("|")+")"+Dt,Yt="(?:"+[Ms+Gr+"?",Gr,vn,ms,_r].join("|")+")",lr=RegExp(ur,"g"),gr=RegExp(Gr,"g"),Mr=RegExp(os+"(?="+os+")|"+Yt+Dt,"g"),Fr=RegExp([Jn+"?"+Wn+"+"+go+"(?="+[Rr,Jn,"$"].join("|")+")",gs+"+"+yo+"(?="+[Rr,Jn+mo,"$"].join("|")+")",Jn+"?"+mo+"+"+go,Jn+"+"+yo,Ct,ft,rn,Vt].join("|"),"g"),cn=RegExp("["+Sn+ws+Qr+Ut+"]"),on=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,On=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_s=-1,$n={};$n[hn]=$n[Jt]=$n[Kt]=$n[hr]=$n[Pr]=$n[jr]=$n[kr]=$n[Ar]=$n[Yr]=!0,$n[rr]=$n[tr]=$n[zr]=$n[yr]=$n[$r]=$n[xr]=$n[ir]=$n[sr]=$n[Tr]=$n[Cr]=$n[Wr]=$n[Cn]=$n[Vn]=$n[An]=$n[Pn]=!1;var wn={};wn[rr]=wn[tr]=wn[zr]=wn[$r]=wn[yr]=wn[xr]=wn[hn]=wn[Jt]=wn[Kt]=wn[hr]=wn[Pr]=wn[Tr]=wn[Cr]=wn[Wr]=wn[Cn]=wn[Vn]=wn[An]=wn[pn]=wn[jr]=wn[kr]=wn[Ar]=wn[Yr]=!0,wn[ir]=wn[sr]=wn[Pn]=!1;var ar={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},or={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hr=parseFloat,qr=parseInt,fn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_n=typeof self=="object"&&self&&self.Object===Object&&self,en=fn||_n||Function("return this")(),mn=s&&!s.nodeType&&s,Fn=mn&&!0&&i&&!i.nodeType&&i,Hn=Fn&&Fn.exports===mn,qn=Hn&&fn.process,jn=function(){try{var br=Fn&&Fn.require&&Fn.require("util").types;return br||qn&&qn.binding&&qn.binding("util")}catch{}}(),ys=jn&&jn.isArrayBuffer,Hs=jn&&jn.isDate,so=jn&&jn.isMap,wo=jn&&jn.isRegExp,Tl=jn&&jn.isSet,Wo=jn&&jn.isTypedArray;function Es(br,Lr,Ir){switch(Ir.length){case 0:return br.call(Lr);case 1:return br.call(Lr,Ir[0]);case 2:return br.call(Lr,Ir[0],Ir[1]);case 3:return br.call(Lr,Ir[0],Ir[1],Ir[2])}return br.apply(Lr,Ir)}function Wy(br,Lr,Ir,tn){for(var En=-1,Bn=br==null?0:br.length;++En<Bn;){var vs=br[En];Lr(tn,vs,Ir(vs),br)}return tn}function oo(br,Lr){for(var Ir=-1,tn=br==null?0:br.length;++Ir<tn&&Lr(br[Ir],Ir,br)!==!1;);return br}function Hy(br,Lr){for(var Ir=br==null?0:br.length;Ir--&&Lr(br[Ir],Ir,br)!==!1;);return br}function Ip(br,Lr){for(var Ir=-1,tn=br==null?0:br.length;++Ir<tn;)if(!Lr(br[Ir],Ir,br))return!1;return!0}function Do(br,Lr){for(var Ir=-1,tn=br==null?0:br.length,En=0,Bn=[];++Ir<tn;){var vs=br[Ir];Lr(vs,Ir,br)&&(Bn[En++]=vs)}return Bn}function Wl(br,Lr){var Ir=br==null?0:br.length;return!!Ir&&Jo(br,Lr,0)>-1}function Iu(br,Lr,Ir){for(var tn=-1,En=br==null?0:br.length;++tn<En;)if(Ir(Lr,br[tn]))return!0;return!1}function Zn(br,Lr){for(var Ir=-1,tn=br==null?0:br.length,En=Array(tn);++Ir<tn;)En[Ir]=Lr(br[Ir],Ir,br);return En}function No(br,Lr){for(var Ir=-1,tn=Lr.length,En=br.length;++Ir<tn;)br[En+Ir]=Lr[Ir];return br}function Ru(br,Lr,Ir,tn){var En=-1,Bn=br==null?0:br.length;for(tn&&Bn&&(Ir=br[++En]);++En<Bn;)Ir=Lr(Ir,br[En],En,br);return Ir}function Gy(br,Lr,Ir,tn){var En=br==null?0:br.length;for(tn&&En&&(Ir=br[--En]);En--;)Ir=Lr(Ir,br[En],En,br);return Ir}function Mu(br,Lr){for(var Ir=-1,tn=br==null?0:br.length;++Ir<tn;)if(Lr(br[Ir],Ir,br))return!0;return!1}var Ky=Lu("length");function Yy(br){return br.split("")}function Xy(br){return br.match(sn)||[]}function Rp(br,Lr,Ir){var tn;return Ir(br,function(En,Bn,vs){if(Lr(En,Bn,vs))return tn=Bn,!1}),tn}function Hl(br,Lr,Ir,tn){for(var En=br.length,Bn=Ir+(tn?1:-1);tn?Bn--:++Bn<En;)if(Lr(br[Bn],Bn,br))return Bn;return-1}function Jo(br,Lr,Ir){return Lr===Lr?av(br,Lr,Ir):Hl(br,Mp,Ir)}function qy(br,Lr,Ir,tn){for(var En=Ir-1,Bn=br.length;++En<Bn;)if(tn(br[En],Lr))return En;return-1}function Mp(br){return br!==br}function Lp(br,Lr){var Ir=br==null?0:br.length;return Ir?Du(br,Lr)/Ir:zt}function Lu(br){return function(Lr){return Lr==null?o:Lr[br]}}function Pu(br){return function(Lr){return br==null?o:br[Lr]}}function Pp(br,Lr,Ir,tn,En){return En(br,function(Bn,vs,Gn){Ir=tn?(tn=!1,Bn):Lr(Ir,Bn,vs,Gn)}),Ir}function Qy(br,Lr){var Ir=br.length;for(br.sort(Lr);Ir--;)br[Ir]=br[Ir].value;return br}function Du(br,Lr){for(var Ir,tn=-1,En=br.length;++tn<En;){var Bn=Lr(br[tn]);Bn!==o&&(Ir=Ir===o?Bn:Ir+Bn)}return Ir}function Nu(br,Lr){for(var Ir=-1,tn=Array(br);++Ir<br;)tn[Ir]=Lr(Ir);return tn}function Zy(br,Lr){return Zn(Lr,function(Ir){return[Ir,br[Ir]]})}function Dp(br){return br&&br.slice(0,Vp(br)+1).replace(Is,"")}function eo(br){return function(Lr){return br(Lr)}}function Ou(br,Lr){return Zn(Lr,function(Ir){return br[Ir]})}function Cl(br,Lr){return br.has(Lr)}function Np(br,Lr){for(var Ir=-1,tn=br.length;++Ir<tn&&Jo(Lr,br[Ir],0)>-1;);return Ir}function Op(br,Lr){for(var Ir=br.length;Ir--&&Jo(Lr,br[Ir],0)>-1;);return Ir}function Jy(br,Lr){for(var Ir=br.length,tn=0;Ir--;)br[Ir]===Lr&&++tn;return tn}var ev=Pu(ar),tv=Pu(jt);function rv(br){return"\\"+pr[br]}function nv(br,Lr){return br==null?o:br[Lr]}function na(br){return cn.test(br)}function iv(br){return on.test(br)}function sv(br){for(var Lr,Ir=[];!(Lr=br.next()).done;)Ir.push(Lr.value);return Ir}function Fu(br){var Lr=-1,Ir=Array(br.size);return br.forEach(function(tn,En){Ir[++Lr]=[En,tn]}),Ir}function Fp(br,Lr){return function(Ir){return br(Lr(Ir))}}function Oo(br,Lr){for(var Ir=-1,tn=br.length,En=0,Bn=[];++Ir<tn;){var vs=br[Ir];(vs===Lr||vs===j)&&(br[Ir]=j,Bn[En++]=Ir)}return Bn}function Gl(br){var Lr=-1,Ir=Array(br.size);return br.forEach(function(tn){Ir[++Lr]=tn}),Ir}function ov(br){var Lr=-1,Ir=Array(br.size);return br.forEach(function(tn){Ir[++Lr]=[tn,tn]}),Ir}function av(br,Lr,Ir){for(var tn=Ir-1,En=br.length;++tn<En;)if(br[tn]===Lr)return tn;return-1}function lv(br,Lr,Ir){for(var tn=Ir+1;tn--;)if(br[tn]===Lr)return tn;return tn}function ga(br){return na(br)?cv(br):Ky(br)}function vo(br){return na(br)?hv(br):Yy(br)}function Vp(br){for(var Lr=br.length;Lr--&&Bs.test(br.charAt(Lr)););return Lr}var uv=Pu(or);function cv(br){for(var Lr=Mr.lastIndex=0;Mr.test(br);)++Lr;return Lr}function hv(br){return br.match(Mr)||[]}function fv(br){return br.match(Fr)||[]}var pv=function br(Lr){Lr=Lr==null?en:xa.defaults(en.Object(),Lr,xa.pick(en,On));var Ir=Lr.Array,tn=Lr.Date,En=Lr.Error,Bn=Lr.Function,vs=Lr.Math,Gn=Lr.Object,Vu=Lr.RegExp,dv=Lr.String,ao=Lr.TypeError,Kl=Ir.prototype,mv=Bn.prototype,ba=Gn.prototype,Yl=Lr["__core-js_shared__"],Xl=mv.toString,Un=ba.hasOwnProperty,gv=0,Bp=function(){var pt=/[^.]+$/.exec(Yl&&Yl.keys&&Yl.keys.IE_PROTO||"");return pt?"Symbol(src)_1."+pt:""}(),Ql=ba.toString,yv=Xl.call(Gn),vv=en._,xv=Vu("^"+Xl.call(Un).replace(es,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zl=Hn?Lr.Buffer:o,Fo=Lr.Symbol,Jl=Lr.Uint8Array,zp=Zl?Zl.allocUnsafe:o,eu=Fp(Gn.getPrototypeOf,Gn),jp=Gn.create,Up=ba.propertyIsEnumerable,tu=Kl.splice,Wp=Fo?Fo.isConcatSpreadable:o,$l=Fo?Fo.iterator:o,Ho=Fo?Fo.toStringTag:o,ru=function(){try{var pt=qo(Gn,"defineProperty");return pt({},"",{}),pt}catch{}}(),bv=Lr.clearTimeout!==en.clearTimeout&&Lr.clearTimeout,Sv=tn&&tn.now!==en.Date.now&&tn.now,wv=Lr.setTimeout!==en.setTimeout&&Lr.setTimeout,nu=vs.ceil,iu=vs.floor,Bu=Gn.getOwnPropertySymbols,_v=Zl?Zl.isBuffer:o,Hp=Lr.isFinite,Ev=Kl.join,Tv=Fp(Gn.keys,Gn),xs=vs.max,Ls=vs.min,Cv=tn.now,kv=Lr.parseInt,Gp=vs.random,$v=Kl.reverse,zu=qo(Lr,"DataView"),Al=qo(Lr,"Map"),ju=qo(Lr,"Promise"),_a=qo(Lr,"Set"),Il=qo(Lr,"WeakMap"),Rl=qo(Gn,"create"),su=Il&&new Il,$a={},Av=Qo(zu),Iv=Qo(Al),Rv=Qo(ju),Mv=Qo(_a),Lv=Qo(Il),ou=Fo?Fo.prototype:o,Ml=ou?ou.valueOf:o,Kp=ou?ou.toString:o;function Qt(pt){if(ts(pt)&&!Tn(pt)&&!(pt instanceof Dn)){if(pt instanceof lo)return pt;if(Un.call(pt,"__wrapped__"))return Km(pt)}return new lo(pt)}var yl=function(){function pt(){}return function(bt){if(!_i(bt))return{};if(jp)return jp(bt);pt.prototype=bt;var It=new pt;return pt.prototype=o,It}}();function au(){}function lo(pt,bt){this.__wrapped__=pt,this.__actions__=[],this.__chain__=!!bt,this.__index__=0,this.__values__=o}Qt.templateSettings={escape:dn,evaluate:bs,interpolate:Ss,variable:"",imports:{_:Qt}},Qt.prototype=au.prototype,Qt.prototype.constructor=Qt,lo.prototype=yl(au.prototype),lo.prototype.constructor=lo;function Dn(pt){this.__wrapped__=pt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qt,this.__views__=[]}function Pv(){var pt=new Dn(this.__wrapped__);return pt.__actions__=Gs(this.__actions__),pt.__dir__=this.__dir__,pt.__filtered__=this.__filtered__,pt.__iteratees__=Gs(this.__iteratees__),pt.__takeCount__=this.__takeCount__,pt.__views__=Gs(this.__views__),pt}function Dv(){if(this.__filtered__){var pt=new Dn(this);pt.__dir__=-1,pt.__filtered__=!0}else pt=this.clone(),pt.__dir__*=-1;return pt}function Nv(){var pt=this.__wrapped__.value(),bt=this.__dir__,It=Tn(pt),Nt=bt<0,Ht=It?pt.length:0,nr=Y0(0,Ht,this.__views__),cr=nr.start,fr=nr.end,Sr=fr-cr,Dr=Nt?fr:cr-1,Nr=this.__iteratees__,Br=Nr.length,Zr=0,an=Ls(Sr,this.__takeCount__);if(!It||!Nt&&Ht==Sr&&an==Sr)return gm(pt,this.__actions__);var xn=[];e:for(;Sr--&&Zr<an;){Dr+=bt;for(var Rn=-1,bn=pt[Dr];++Rn<Br;){var Ln=Nr[Rn],Nn=Ln.iteratee,no=Ln.type,Vs=Nn(bn);if(no==At)bn=Vs;else if(!Vs){if(no==Tt)continue e;break e}}xn[Zr++]=bn}return xn}Dn.prototype=yl(au.prototype),Dn.prototype.constructor=Dn;function Go(pt){var bt=-1,It=pt==null?0:pt.length;for(this.clear();++bt<It;){var Nt=pt[bt];this.set(Nt[0],Nt[1])}}function Ov(){this.__data__=Rl?Rl(null):{},this.size=0}function Fv(pt){var bt=this.has(pt)&&delete this.__data__[pt];return this.size-=bt?1:0,bt}function Vv(pt){var bt=this.__data__;if(Rl){var It=bt[pt];return It===rt?o:It}return Un.call(bt,pt)?bt[pt]:o}function Bv(pt){var bt=this.__data__;return Rl?bt[pt]!==o:Un.call(bt,pt)}function zv(pt,bt){var It=this.__data__;return this.size+=this.has(pt)?0:1,It[pt]=Rl&&bt===o?rt:bt,this}Go.prototype.clear=Ov,Go.prototype.delete=Fv,Go.prototype.get=Vv,Go.prototype.has=Bv,Go.prototype.set=zv;function Co(pt){var bt=-1,It=pt==null?0:pt.length;for(this.clear();++bt<It;){var Nt=pt[bt];this.set(Nt[0],Nt[1])}}function jv(){this.__data__=[],this.size=0}function Uv(pt){var bt=this.__data__,It=lu(bt,pt);if(It<0)return!1;var Nt=bt.length-1;return It==Nt?bt.pop():tu.call(bt,It,1),--this.size,!0}function Wv(pt){var bt=this.__data__,It=lu(bt,pt);return It<0?o:bt[It][1]}function Hv(pt){return lu(this.__data__,pt)>-1}function Gv(pt,bt){var It=this.__data__,Nt=lu(It,pt);return Nt<0?(++this.size,It.push([pt,bt])):It[Nt][1]=bt,this}Co.prototype.clear=jv,Co.prototype.delete=Uv,Co.prototype.get=Wv,Co.prototype.has=Hv,Co.prototype.set=Gv;function ko(pt){var bt=-1,It=pt==null?0:pt.length;for(this.clear();++bt<It;){var Nt=pt[bt];this.set(Nt[0],Nt[1])}}function Kv(){this.size=0,this.__data__={hash:new Go,map:new(Al||Co),string:new Go}}function Yv(pt){var bt=bu(this,pt).delete(pt);return this.size-=bt?1:0,bt}function Xv(pt){return bu(this,pt).get(pt)}function qv(pt){return bu(this,pt).has(pt)}function Qv(pt,bt){var It=bu(this,pt),Nt=It.size;return It.set(pt,bt),this.size+=It.size==Nt?0:1,this}ko.prototype.clear=Kv,ko.prototype.delete=Yv,ko.prototype.get=Xv,ko.prototype.has=qv,ko.prototype.set=Qv;function Ko(pt){var bt=-1,It=pt==null?0:pt.length;for(this.__data__=new ko;++bt<It;)this.add(pt[bt])}function Zv(pt){return this.__data__.set(pt,rt),this}function Jv(pt){return this.__data__.has(pt)}Ko.prototype.add=Ko.prototype.push=Zv,Ko.prototype.has=Jv;function xo(pt){var bt=this.__data__=new Co(pt);this.size=bt.size}function e0(){this.__data__=new Co,this.size=0}function t0(pt){var bt=this.__data__,It=bt.delete(pt);return this.size=bt.size,It}function r0(pt){return this.__data__.get(pt)}function n0(pt){return this.__data__.has(pt)}function i0(pt,bt){var It=this.__data__;if(It instanceof Co){var Nt=It.__data__;if(!Al||Nt.length<tt-1)return Nt.push([pt,bt]),this.size=++It.size,this;It=this.__data__=new ko(Nt)}return It.set(pt,bt),this.size=It.size,this}xo.prototype.clear=e0,xo.prototype.delete=t0,xo.prototype.get=r0,xo.prototype.has=n0,xo.prototype.set=i0;function Yp(pt,bt){var It=Tn(pt),Nt=!It&&Zo(pt),Ht=!It&&!Nt&&Uo(pt),nr=!It&&!Nt&&!Ht&&_l(pt),cr=It||Nt||Ht||nr,fr=cr?Nu(pt.length,dv):[],Sr=fr.length;for(var Dr in pt)(bt||Un.call(pt,Dr))&&!(cr&&(Dr=="length"||Ht&&(Dr=="offset"||Dr=="parent")||nr&&(Dr=="buffer"||Dr=="byteLength"||Dr=="byteOffset")||Ro(Dr,Sr)))&&fr.push(Dr);return fr}function Xp(pt){var bt=pt.length;return bt?pt[Ju(0,bt-1)]:o}function s0(pt,bt){return Su(Gs(pt),Yo(bt,0,pt.length))}function o0(pt){return Su(Gs(pt))}function Uu(pt,bt,It){(It!==o&&!bo(pt[bt],It)||It===o&&!(bt in pt))&&$o(pt,bt,It)}function Ll(pt,bt,It){var Nt=pt[bt];(!(Un.call(pt,bt)&&bo(Nt,It))||It===o&&!(bt in pt))&&$o(pt,bt,It)}function lu(pt,bt){for(var It=pt.length;It--;)if(bo(pt[It][0],bt))return It;return-1}function a0(pt,bt,It,Nt){return Vo(pt,function(Ht,nr,cr){bt(Nt,Ht,It(Ht),cr)}),Nt}function qp(pt,bt){return pt&&Eo(bt,Ts(bt),pt)}function l0(pt,bt){return pt&&Eo(bt,Ys(bt),pt)}function $o(pt,bt,It){bt=="__proto__"&&ru?ru(pt,bt,{configurable:!0,enumerable:!0,value:It,writable:!0}):pt[bt]=It}function Wu(pt,bt){for(var It=-1,Nt=bt.length,Ht=Ir(Nt),nr=pt==null;++It<Nt;)Ht[It]=nr?o:Sp(pt,bt[It]);return Ht}function Yo(pt,bt,It){return pt===pt&&(It!==o&&(pt=pt<=It?pt:It),bt!==o&&(pt=pt>=bt?pt:bt)),pt}function uo(pt,bt,It,Nt,Ht,nr){var cr,fr=bt&_,Sr=bt&$,Dr=bt&et;if(It&&(cr=Ht?It(pt,Nt,Ht,nr):It(pt)),cr!==o)return cr;if(!_i(pt))return pt;var Nr=Tn(pt);if(Nr){if(cr=q0(pt),!fr)return Gs(pt,cr)}else{var Br=Ps(pt),Zr=Br==sr||Br==er;if(Uo(pt))return xm(pt,fr);if(Br==Wr||Br==rr||Zr&&!Ht){if(cr=Sr||Zr?{}:Fm(pt),!fr)return Sr?V0(pt,l0(cr,pt)):F0(pt,qp(cr,pt))}else{if(!wn[Br])return Ht?pt:{};cr=Q0(pt,Br,fr)}}nr||(nr=new xo);var an=nr.get(pt);if(an)return an;nr.set(pt,cr),fy(pt)?pt.forEach(function(bn){cr.add(uo(bn,bt,It,bn,pt,nr))}):cy(pt)&&pt.forEach(function(bn,Ln){cr.set(Ln,uo(bn,bt,It,Ln,pt,nr))});var xn=Dr?Sr?ap:op:Sr?Ys:Ts,Rn=Nr?o:xn(pt);return oo(Rn||pt,function(bn,Ln){Rn&&(Ln=bn,bn=pt[Ln]),Ll(cr,Ln,uo(bn,bt,It,Ln,pt,nr))}),cr}function u0(pt){var bt=Ts(pt);return function(It){return Qp(It,pt,bt)}}function Qp(pt,bt,It){var Nt=It.length;if(pt==null)return!Nt;for(pt=Gn(pt);Nt--;){var Ht=It[Nt],nr=bt[Ht],cr=pt[Ht];if(cr===o&&!(Ht in pt)||!nr(cr))return!1}return!0}function Zp(pt,bt,It){if(typeof pt!="function")throw new ao(st);return Bl(function(){pt.apply(o,It)},bt)}function Pl(pt,bt,It,Nt){var Ht=-1,nr=Wl,cr=!0,fr=pt.length,Sr=[],Dr=bt.length;if(!fr)return Sr;It&&(bt=Zn(bt,eo(It))),Nt?(nr=Iu,cr=!1):bt.length>=tt&&(nr=Cl,cr=!1,bt=new Ko(bt));e:for(;++Ht<fr;){var Nr=pt[Ht],Br=It==null?Nr:It(Nr);if(Nr=Nt||Nr!==0?Nr:0,cr&&Br===Br){for(var Zr=Dr;Zr--;)if(bt[Zr]===Br)continue e;Sr.push(Nr)}else nr(bt,Br,Nt)||Sr.push(Nr)}return Sr}var Vo=Em(_o),Jp=Em(Gu,!0);function c0(pt,bt){var It=!0;return Vo(pt,function(Nt,Ht,nr){return It=!!bt(Nt,Ht,nr),It}),It}function uu(pt,bt,It){for(var Nt=-1,Ht=pt.length;++Nt<Ht;){var nr=pt[Nt],cr=bt(nr);if(cr!=null&&(fr===o?cr===cr&&!ro(cr):It(cr,fr)))var fr=cr,Sr=nr}return Sr}function h0(pt,bt,It,Nt){var Ht=pt.length;for(It=In(It),It<0&&(It=-It>Ht?0:Ht+It),Nt=Nt===o||Nt>Ht?Ht:In(Nt),Nt<0&&(Nt+=Ht),Nt=It>Nt?0:dy(Nt);It<Nt;)pt[It++]=bt;return pt}function _d(pt,bt){var It=[];return Vo(pt,function(Nt,Ht,nr){bt(Nt,Ht,nr)&&It.push(Nt)}),It}function As(pt,bt,It,Nt,Ht){var nr=-1,cr=pt.length;for(It||(It=J0),Ht||(Ht=[]);++nr<cr;){var fr=pt[nr];bt>0&&It(fr)?bt>1?As(fr,bt-1,It,Nt,Ht):No(Ht,fr):Nt||(Ht[Ht.length]=fr)}return Ht}var Hu=Tm(),em=Tm(!0);function _o(pt,bt){return pt&&Hu(pt,bt,Ts)}function Gu(pt,bt){return pt&&em(pt,bt,Ts)}function cu(pt,bt){return Do(bt,function(It){return Mo(pt[It])})}function Xo(pt,bt){bt=zo(bt,pt);for(var It=0,Nt=bt.length;pt!=null&&It<Nt;)pt=pt[To(bt[It++])];return It&&It==Nt?pt:o}function tm(pt,bt,It){var Nt=bt(pt);return Tn(pt)?Nt:No(Nt,It(pt))}function Os(pt){return pt==null?pt===o?Kn:dr:Ho&&Ho in Gn(pt)?K0(pt):ox(pt)}function Ku(pt,bt){return pt>bt}function f0(pt,bt){return pt!=null&&Un.call(pt,bt)}function p0(pt,bt){return pt!=null&&bt in Gn(pt)}function d0(pt,bt,It){return pt>=Ls(bt,It)&&pt<xs(bt,It)}function Yu(pt,bt,It){for(var Nt=It?Iu:Wl,Ht=pt[0].length,nr=pt.length,cr=nr,fr=Ir(nr),Sr=1/0,Dr=[];cr--;){var Nr=pt[cr];cr&&bt&&(Nr=Zn(Nr,eo(bt))),Sr=Ls(Nr.length,Sr),fr[cr]=!It&&(bt||Ht>=120&&Nr.length>=120)?new Ko(cr&&Nr):o}Nr=pt[0];var Br=-1,Zr=fr[0];e:for(;++Br<Ht&&Dr.length<Sr;){var an=Nr[Br],xn=bt?bt(an):an;if(an=It||an!==0?an:0,!(Zr?Cl(Zr,xn):Nt(Dr,xn,It))){for(cr=nr;--cr;){var Rn=fr[cr];if(!(Rn?Cl(Rn,xn):Nt(pt[cr],xn,It)))continue e}Zr&&Zr.push(xn),Dr.push(an)}}return Dr}function m0(pt,bt,It,Nt){return _o(pt,function(Ht,nr,cr){bt(Nt,It(Ht),nr,cr)}),Nt}function Dl(pt,bt,It){bt=zo(bt,pt),pt=jm(pt,bt);var Nt=pt==null?pt:pt[To(ho(bt))];return Nt==null?o:Es(Nt,pt,It)}function rm(pt){return ts(pt)&&Os(pt)==rr}function g0(pt){return ts(pt)&&Os(pt)==zr}function y0(pt){return ts(pt)&&Os(pt)==xr}function Nl(pt,bt,It,Nt,Ht){return pt===bt?!0:pt==null||bt==null||!ts(pt)&&!ts(bt)?pt!==pt&&bt!==bt:v0(pt,bt,It,Nt,Nl,Ht)}function v0(pt,bt,It,Nt,Ht,nr){var cr=Tn(pt),fr=Tn(bt),Sr=cr?tr:Ps(pt),Dr=fr?tr:Ps(bt);Sr=Sr==rr?Wr:Sr,Dr=Dr==rr?Wr:Dr;var Nr=Sr==Wr,Br=Dr==Wr,Zr=Sr==Dr;if(Zr&&Uo(pt)){if(!Uo(bt))return!1;cr=!0,Nr=!1}if(Zr&&!Nr)return nr||(nr=new xo),cr||_l(pt)?Dm(pt,bt,It,Nt,Ht,nr):H0(pt,bt,Sr,It,Nt,Ht,nr);if(!(It&nt)){var an=Nr&&Un.call(pt,"__wrapped__"),xn=Br&&Un.call(bt,"__wrapped__");if(an||xn){var Rn=an?pt.value():pt,bn=xn?bt.value():bt;return nr||(nr=new xo),Ht(Rn,bn,It,Nt,nr)}}return Zr?(nr||(nr=new xo),G0(pt,bt,It,Nt,Ht,nr)):!1}function x0(pt){return ts(pt)&&Ps(pt)==Tr}function Xu(pt,bt,It,Nt){var Ht=It.length,nr=Ht,cr=!Nt;if(pt==null)return!nr;for(pt=Gn(pt);Ht--;){var fr=It[Ht];if(cr&&fr[2]?fr[1]!==pt[fr[0]]:!(fr[0]in pt))return!1}for(;++Ht<nr;){fr=It[Ht];var Sr=fr[0],Dr=pt[Sr],Nr=fr[1];if(cr&&fr[2]){if(Dr===o&&!(Sr in pt))return!1}else{var Br=new xo;if(Nt)var Zr=Nt(Dr,Nr,Sr,pt,bt,Br);if(!(Zr===o?Nl(Nr,Dr,nt|at,Nt,Br):Zr))return!1}}return!0}function nm(pt){if(!_i(pt)||tx(pt))return!1;var bt=Mo(pt)?xv:Qs;return bt.test(Qo(pt))}function b0(pt){return ts(pt)&&Os(pt)==Cn}function S0(pt){return ts(pt)&&Ps(pt)==Vn}function w0(pt){return ts(pt)&&ku(pt.length)&&!!$n[Os(pt)]}function im(pt){return typeof pt=="function"?pt:pt==null?Xs:typeof pt=="object"?Tn(pt)?am(pt[0],pt[1]):om(pt):Ty(pt)}function qu(pt){if(!Vl(pt))return Tv(pt);var bt=[];for(var It in Gn(pt))Un.call(pt,It)&&It!="constructor"&&bt.push(It);return bt}function _0(pt){if(!_i(pt))return sx(pt);var bt=Vl(pt),It=[];for(var Nt in pt)Nt=="constructor"&&(bt||!Un.call(pt,Nt))||It.push(Nt);return It}function Qu(pt,bt){return pt<bt}function sm(pt,bt){var It=-1,Nt=Ks(pt)?Ir(pt.length):[];return Vo(pt,function(Ht,nr,cr){Nt[++It]=bt(Ht,nr,cr)}),Nt}function om(pt){var bt=up(pt);return bt.length==1&&bt[0][2]?Bm(bt[0][0],bt[0][1]):function(It){return It===pt||Xu(It,pt,bt)}}function am(pt,bt){return hp(pt)&&Vm(bt)?Bm(To(pt),bt):function(It){var Nt=Sp(It,pt);return Nt===o&&Nt===bt?wp(It,pt):Nl(bt,Nt,nt|at)}}function hu(pt,bt,It,Nt,Ht){pt!==bt&&Hu(bt,function(nr,cr){if(Ht||(Ht=new xo),_i(nr))E0(pt,bt,cr,It,hu,Nt,Ht);else{var fr=Nt?Nt(pp(pt,cr),nr,cr+"",pt,bt,Ht):o;fr===o&&(fr=nr),Uu(pt,cr,fr)}},Ys)}function E0(pt,bt,It,Nt,Ht,nr,cr){var fr=pp(pt,It),Sr=pp(bt,It),Dr=cr.get(Sr);if(Dr){Uu(pt,It,Dr);return}var Nr=nr?nr(fr,Sr,It+"",pt,bt,cr):o,Br=Nr===o;if(Br){var Zr=Tn(Sr),an=!Zr&&Uo(Sr),xn=!Zr&&!an&&_l(Sr);Nr=Sr,Zr||an||xn?Tn(fr)?Nr=fr:ls(fr)?Nr=Gs(fr):an?(Br=!1,Nr=xm(Sr,!0)):xn?(Br=!1,Nr=bm(Sr,!0)):Nr=[]:zl(Sr)||Zo(Sr)?(Nr=fr,Zo(fr)?Nr=my(fr):(!_i(fr)||Mo(fr))&&(Nr=Fm(Sr))):Br=!1}Br&&(cr.set(Sr,Nr),Ht(Nr,Sr,Nt,nr,cr),cr.delete(Sr)),Uu(pt,It,Nr)}function lm(pt,bt){var It=pt.length;if(It)return bt+=bt<0?It:0,Ro(bt,It)?pt[bt]:o}function um(pt,bt,It){bt.length?bt=Zn(bt,function(nr){return Tn(nr)?function(cr){return Xo(cr,nr.length===1?nr[0]:nr)}:nr}):bt=[Xs];var Nt=-1;bt=Zn(bt,eo(gn()));var Ht=sm(pt,function(nr,cr,fr){var Sr=Zn(bt,function(Dr){return Dr(nr)});return{criteria:Sr,index:++Nt,value:nr}});return Qy(Ht,function(nr,cr){return O0(nr,cr,It)})}function T0(pt,bt){return cm(pt,bt,function(It,Nt){return wp(pt,Nt)})}function cm(pt,bt,It){for(var Nt=-1,Ht=bt.length,nr={};++Nt<Ht;){var cr=bt[Nt],fr=Xo(pt,cr);It(fr,cr)&&Ol(nr,zo(cr,pt),fr)}return nr}function C0(pt){return function(bt){return Xo(bt,pt)}}function Zu(pt,bt,It,Nt){var Ht=Nt?qy:Jo,nr=-1,cr=bt.length,fr=pt;for(pt===bt&&(bt=Gs(bt)),It&&(fr=Zn(pt,eo(It)));++nr<cr;)for(var Sr=0,Dr=bt[nr],Nr=It?It(Dr):Dr;(Sr=Ht(fr,Nr,Sr,Nt))>-1;)fr!==pt&&tu.call(fr,Sr,1),tu.call(pt,Sr,1);return pt}function hm(pt,bt){for(var It=pt?bt.length:0,Nt=It-1;It--;){var Ht=bt[It];if(It==Nt||Ht!==nr){var nr=Ht;Ro(Ht)?tu.call(pt,Ht,1):_f(pt,Ht)}}return pt}function Ju(pt,bt){return pt+iu(Gp()*(bt-pt+1))}function k0(pt,bt,It,Nt){for(var Ht=-1,nr=xs(nu((bt-pt)/(It||1)),0),cr=Ir(nr);nr--;)cr[Nt?nr:++Ht]=pt,pt+=It;return cr}function _c(pt,bt){var It="";if(!pt||bt<1||bt>Pt)return It;do bt%2&&(It+=pt),bt=iu(bt/2),bt&&(pt+=pt);while(bt);return It}function Mn(pt,bt){return dp(zm(pt,bt,Xs),pt+"")}function $0(pt){return Xp(El(pt))}function A0(pt,bt){var It=El(pt);return Su(It,Yo(bt,0,It.length))}function Ol(pt,bt,It,Nt){if(!_i(pt))return pt;bt=zo(bt,pt);for(var Ht=-1,nr=bt.length,cr=nr-1,fr=pt;fr!=null&&++Ht<nr;){var Sr=To(bt[Ht]),Dr=It;if(Sr==="__proto__"||Sr==="constructor"||Sr==="prototype")return pt;if(Ht!=cr){var Nr=fr[Sr];Dr=Nt?Nt(Nr,Sr,fr):o,Dr===o&&(Dr=_i(Nr)?Nr:Ro(bt[Ht+1])?[]:{})}Ll(fr,Sr,Dr),fr=fr[Sr]}return pt}var fm=su?function(pt,bt){return su.set(pt,bt),pt}:Xs,I0=ru?function(pt,bt){return ru(pt,"toString",{configurable:!0,enumerable:!1,value:Ep(bt),writable:!0})}:Xs;function R0(pt){return Su(El(pt))}function co(pt,bt,It){var Nt=-1,Ht=pt.length;bt<0&&(bt=-bt>Ht?0:Ht+bt),It=It>Ht?Ht:It,It<0&&(It+=Ht),Ht=bt>It?0:It-bt>>>0,bt>>>=0;for(var nr=Ir(Ht);++Nt<Ht;)nr[Nt]=pt[Nt+bt];return nr}function M0(pt,bt){var It;return Vo(pt,function(Nt,Ht,nr){return It=bt(Nt,Ht,nr),!It}),!!It}function fu(pt,bt,It){var Nt=0,Ht=pt==null?Nt:pt.length;if(typeof bt=="number"&&bt===bt&&Ht<=Wt){for(;Nt<Ht;){var nr=Nt+Ht>>>1,cr=pt[nr];cr!==null&&!ro(cr)&&(It?cr<=bt:cr<bt)?Nt=nr+1:Ht=nr}return Ht}return _h(pt,bt,Xs,It)}function _h(pt,bt,It,Nt){var Ht=0,nr=pt==null?0:pt.length;if(nr===0)return 0;bt=It(bt);for(var cr=bt!==bt,fr=bt===null,Sr=ro(bt),Dr=bt===o;Ht<nr;){var Nr=iu((Ht+nr)/2),Br=It(pt[Nr]),Zr=Br!==o,an=Br===null,xn=Br===Br,Rn=ro(Br);if(cr)var bn=Nt||xn;else Dr?bn=xn&&(Nt||Zr):fr?bn=xn&&Zr&&(Nt||!an):Sr?bn=xn&&Zr&&!an&&(Nt||!Rn):an||Rn?bn=!1:bn=Nt?Br<=bt:Br<bt;bn?Ht=Nr+1:nr=Nr}return Ls(nr,Gt)}function pm(pt,bt){for(var It=-1,Nt=pt.length,Ht=0,nr=[];++It<Nt;){var cr=pt[It],fr=bt?bt(cr):cr;if(!It||!bo(fr,Sr)){var Sr=fr;nr[Ht++]=cr===0?0:cr}}return nr}function dm(pt){return typeof pt=="number"?pt:ro(pt)?zt:+pt}function to(pt){if(typeof pt=="string")return pt;if(Tn(pt))return Zn(pt,to)+"";if(ro(pt))return Kp?Kp.call(pt):"";var bt=pt+"";return bt=="0"&&1/pt==-Ot?"-0":bt}function Bo(pt,bt,It){var Nt=-1,Ht=Wl,nr=pt.length,cr=!0,fr=[],Sr=fr;if(It)cr=!1,Ht=Iu;else if(nr>=tt){var Dr=bt?null:U0(pt);if(Dr)return Gl(Dr);cr=!1,Ht=Cl,Sr=new Ko}else Sr=bt?[]:fr;e:for(;++Nt<nr;){var Nr=pt[Nt],Br=bt?bt(Nr):Nr;if(Nr=It||Nr!==0?Nr:0,cr&&Br===Br){for(var Zr=Sr.length;Zr--;)if(Sr[Zr]===Br)continue e;bt&&Sr.push(Br),fr.push(Nr)}else Ht(Sr,Br,It)||(Sr!==fr&&Sr.push(Br),fr.push(Nr))}return fr}function _f(pt,bt){return bt=zo(bt,pt),pt=jm(pt,bt),pt==null||delete pt[To(ho(bt))]}function mm(pt,bt,It,Nt){return Ol(pt,bt,It(Xo(pt,bt)),Nt)}function pu(pt,bt,It,Nt){for(var Ht=pt.length,nr=Nt?Ht:-1;(Nt?nr--:++nr<Ht)&&bt(pt[nr],nr,pt););return It?co(pt,Nt?0:nr,Nt?nr+1:Ht):co(pt,Nt?nr+1:0,Nt?Ht:nr)}function gm(pt,bt){var It=pt;return It instanceof Dn&&(It=It.value()),Ru(bt,function(Nt,Ht){return Ht.func.apply(Ht.thisArg,No([Nt],Ht.args))},It)}function ep(pt,bt,It){var Nt=pt.length;if(Nt<2)return Nt?Bo(pt[0]):[];for(var Ht=-1,nr=Ir(Nt);++Ht<Nt;)for(var cr=pt[Ht],fr=-1;++fr<Nt;)fr!=Ht&&(nr[Ht]=Pl(nr[Ht]||cr,pt[fr],bt,It));return Bo(As(nr,1),bt,It)}function ym(pt,bt,It){for(var Nt=-1,Ht=pt.length,nr=bt.length,cr={};++Nt<Ht;){var fr=Nt<nr?bt[Nt]:o;It(cr,pt[Nt],fr)}return cr}function tp(pt){return ls(pt)?pt:[]}function rp(pt){return typeof pt=="function"?pt:Xs}function zo(pt,bt){return Tn(pt)?pt:hp(pt,bt)?[pt]:Gm(zn(pt))}var L0=Mn;function jo(pt,bt,It){var Nt=pt.length;return It=It===o?Nt:It,!bt&&It>=Nt?pt:co(pt,bt,It)}var vm=bv||function(pt){return en.clearTimeout(pt)};function xm(pt,bt){if(bt)return pt.slice();var It=pt.length,Nt=zp?zp(It):new pt.constructor(It);return pt.copy(Nt),Nt}function np(pt){var bt=new pt.constructor(pt.byteLength);return new Jl(bt).set(new Jl(pt)),bt}function P0(pt,bt){var It=bt?np(pt.buffer):pt.buffer;return new pt.constructor(It,pt.byteOffset,pt.byteLength)}function D0(pt){var bt=new pt.constructor(pt.source,rs.exec(pt));return bt.lastIndex=pt.lastIndex,bt}function N0(pt){return Ml?Gn(Ml.call(pt)):{}}function bm(pt,bt){var It=bt?np(pt.buffer):pt.buffer;return new pt.constructor(It,pt.byteOffset,pt.length)}function Sm(pt,bt){if(pt!==bt){var It=pt!==o,Nt=pt===null,Ht=pt===pt,nr=ro(pt),cr=bt!==o,fr=bt===null,Sr=bt===bt,Dr=ro(bt);if(!fr&&!Dr&&!nr&&pt>bt||nr&&cr&&Sr&&!fr&&!Dr||Nt&&cr&&Sr||!It&&Sr||!Ht)return 1;if(!Nt&&!nr&&!Dr&&pt<bt||Dr&&It&&Ht&&!Nt&&!nr||fr&&It&&Ht||!cr&&Ht||!Sr)return-1}return 0}function O0(pt,bt,It){for(var Nt=-1,Ht=pt.criteria,nr=bt.criteria,cr=Ht.length,fr=It.length;++Nt<cr;){var Sr=Sm(Ht[Nt],nr[Nt]);if(Sr){if(Nt>=fr)return Sr;var Dr=It[Nt];return Sr*(Dr=="desc"?-1:1)}}return pt.index-bt.index}function wm(pt,bt,It,Nt){for(var Ht=-1,nr=pt.length,cr=It.length,fr=-1,Sr=bt.length,Dr=xs(nr-cr,0),Nr=Ir(Sr+Dr),Br=!Nt;++fr<Sr;)Nr[fr]=bt[fr];for(;++Ht<cr;)(Br||Ht<nr)&&(Nr[It[Ht]]=pt[Ht]);for(;Dr--;)Nr[fr++]=pt[Ht++];return Nr}function _m(pt,bt,It,Nt){for(var Ht=-1,nr=pt.length,cr=-1,fr=It.length,Sr=-1,Dr=bt.length,Nr=xs(nr-fr,0),Br=Ir(Nr+Dr),Zr=!Nt;++Ht<Nr;)Br[Ht]=pt[Ht];for(var an=Ht;++Sr<Dr;)Br[an+Sr]=bt[Sr];for(;++cr<fr;)(Zr||Ht<nr)&&(Br[an+It[cr]]=pt[Ht++]);return Br}function Gs(pt,bt){var It=-1,Nt=pt.length;for(bt||(bt=Ir(Nt));++It<Nt;)bt[It]=pt[It];return bt}function Eo(pt,bt,It,Nt){var Ht=!It;It||(It={});for(var nr=-1,cr=bt.length;++nr<cr;){var fr=bt[nr],Sr=Nt?Nt(It[fr],pt[fr],fr,It,pt):o;Sr===o&&(Sr=pt[fr]),Ht?$o(It,fr,Sr):Ll(It,fr,Sr)}return It}function F0(pt,bt){return Eo(pt,cp(pt),bt)}function V0(pt,bt){return Eo(pt,Nm(pt),bt)}function du(pt,bt){return function(It,Nt){var Ht=Tn(It)?Wy:a0,nr=bt?bt():{};return Ht(It,pt,gn(Nt,2),nr)}}function xl(pt){return Mn(function(bt,It){var Nt=-1,Ht=It.length,nr=Ht>1?It[Ht-1]:o,cr=Ht>2?It[2]:o;for(nr=pt.length>3&&typeof nr=="function"?(Ht--,nr):o,cr&&Fs(It[0],It[1],cr)&&(nr=Ht<3?o:nr,Ht=1),bt=Gn(bt);++Nt<Ht;){var fr=It[Nt];fr&&pt(bt,fr,Nt,nr)}return bt})}function Em(pt,bt){return function(It,Nt){if(It==null)return It;if(!Ks(It))return pt(It,Nt);for(var Ht=It.length,nr=bt?Ht:-1,cr=Gn(It);(bt?nr--:++nr<Ht)&&Nt(cr[nr],nr,cr)!==!1;);return It}}function Tm(pt){return function(bt,It,Nt){for(var Ht=-1,nr=Gn(bt),cr=Nt(bt),fr=cr.length;fr--;){var Sr=cr[pt?fr:++Ht];if(It(nr[Sr],Sr,nr)===!1)break}return bt}}function B0(pt,bt,It){var Nt=bt&ct,Ht=Fl(pt);function nr(){var cr=this&&this!==en&&this instanceof nr?Ht:pt;return cr.apply(Nt?It:this,arguments)}return nr}function Cm(pt){return function(bt){bt=zn(bt);var It=na(bt)?vo(bt):o,Nt=It?It[0]:bt.charAt(0),Ht=It?jo(It,1).join(""):bt.slice(1);return Nt[pt]()+Ht}}function Sl(pt){return function(bt){return Ru(_y(wy(bt).replace(lr,"")),pt,"")}}function Fl(pt){return function(){var bt=arguments;switch(bt.length){case 0:return new pt;case 1:return new pt(bt[0]);case 2:return new pt(bt[0],bt[1]);case 3:return new pt(bt[0],bt[1],bt[2]);case 4:return new pt(bt[0],bt[1],bt[2],bt[3]);case 5:return new pt(bt[0],bt[1],bt[2],bt[3],bt[4]);case 6:return new pt(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]);case 7:return new pt(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6])}var It=yl(pt.prototype),Nt=pt.apply(It,bt);return _i(Nt)?Nt:It}}function z0(pt,bt,It){var Nt=Fl(pt);function Ht(){for(var nr=arguments.length,cr=Ir(nr),fr=nr,Sr=wl(Ht);fr--;)cr[fr]=arguments[fr];var Dr=nr<3&&cr[0]!==Sr&&cr[nr-1]!==Sr?[]:Oo(cr,Sr);if(nr-=Dr.length,nr<It)return Rm(pt,bt,mu,Ht.placeholder,o,cr,Dr,o,o,It-nr);var Nr=this&&this!==en&&this instanceof Ht?Nt:pt;return Es(Nr,this,cr)}return Ht}function km(pt){return function(bt,It,Nt){var Ht=Gn(bt);if(!Ks(bt)){var nr=gn(It,3);bt=Ts(bt),It=function(fr){return nr(Ht[fr],fr,Ht)}}var cr=pt(bt,It,Nt);return cr>-1?Ht[nr?bt[cr]:cr]:o}}function $m(pt){return Io(function(bt){var It=bt.length,Nt=It,Ht=lo.prototype.thru;for(pt&&bt.reverse();Nt--;){var nr=bt[Nt];if(typeof nr!="function")throw new ao(st);if(Ht&&!cr&&xu(nr)=="wrapper")var cr=new lo([],!0)}for(Nt=cr?Nt:It;++Nt<It;){nr=bt[Nt];var fr=xu(nr),Sr=fr=="wrapper"?lp(nr):o;Sr&&fp(Sr[0])&&Sr[1]==(St|dt|gt|xt)&&!Sr[4].length&&Sr[9]==1?cr=cr[xu(Sr[0])].apply(cr,Sr[3]):cr=nr.length==1&&fp(nr)?cr[fr]():cr.thru(nr)}return function(){var Dr=arguments,Nr=Dr[0];if(cr&&Dr.length==1&&Tn(Nr))return cr.plant(Nr).value();for(var Br=0,Zr=It?bt[Br].apply(this,Dr):Nr;++Br<It;)Zr=bt[Br].call(this,Zr);return Zr}})}function mu(pt,bt,It,Nt,Ht,nr,cr,fr,Sr,Dr){var Nr=bt&St,Br=bt&ct,Zr=bt&ht,an=bt&(dt|mt),xn=bt&yt,Rn=Zr?o:Fl(pt);function bn(){for(var Ln=arguments.length,Nn=Ir(Ln),no=Ln;no--;)Nn[no]=arguments[no];if(an)var Vs=wl(bn),io=Jy(Nn,Vs);if(Nt&&(Nn=wm(Nn,Nt,Ht,an)),nr&&(Nn=_m(Nn,nr,cr,an)),Ln-=io,an&&Ln<Dr){var us=Oo(Nn,Vs);return Rm(pt,bt,mu,bn.placeholder,It,Nn,us,fr,Sr,Dr-Ln)}var So=Br?It:this,Po=Zr?So[pt]:pt;return Ln=Nn.length,fr?Nn=ax(Nn,fr):xn&&Ln>1&&Nn.reverse(),Nr&&Sr<Ln&&(Nn.length=Sr),this&&this!==en&&this instanceof bn&&(Po=Rn||Fl(Po)),Po.apply(So,Nn)}return bn}function Am(pt,bt){return function(It,Nt){return m0(It,pt,bt(Nt),{})}}function gu(pt,bt){return function(It,Nt){var Ht;if(It===o&&Nt===o)return bt;if(It!==o&&(Ht=It),Nt!==o){if(Ht===o)return Nt;typeof It=="string"||typeof Nt=="string"?(It=to(It),Nt=to(Nt)):(It=dm(It),Nt=dm(Nt)),Ht=pt(It,Nt)}return Ht}}function ip(pt){return Io(function(bt){return bt=Zn(bt,eo(gn())),Mn(function(It){var Nt=this;return pt(bt,function(Ht){return Es(Ht,Nt,It)})})})}function yu(pt,bt){bt=bt===o?" ":to(bt);var It=bt.length;if(It<2)return It?_c(bt,pt):bt;var Nt=_c(bt,nu(pt/ga(bt)));return na(bt)?jo(vo(Nt),0,pt).join(""):Nt.slice(0,pt)}function j0(pt,bt,It,Nt){var Ht=bt&ct,nr=Fl(pt);function cr(){for(var fr=-1,Sr=arguments.length,Dr=-1,Nr=Nt.length,Br=Ir(Nr+Sr),Zr=this&&this!==en&&this instanceof cr?nr:pt;++Dr<Nr;)Br[Dr]=Nt[Dr];for(;Sr--;)Br[Dr++]=arguments[++fr];return Es(Zr,Ht?It:this,Br)}return cr}function Im(pt){return function(bt,It,Nt){return Nt&&typeof Nt!="number"&&Fs(bt,It,Nt)&&(It=Nt=o),bt=Lo(bt),It===o?(It=bt,bt=0):It=Lo(It),Nt=Nt===o?bt<It?1:-1:Lo(Nt),k0(bt,It,Nt,pt)}}function vu(pt){return function(bt,It){return typeof bt=="string"&&typeof It=="string"||(bt=fo(bt),It=fo(It)),pt(bt,It)}}function Rm(pt,bt,It,Nt,Ht,nr,cr,fr,Sr,Dr){var Nr=bt&dt,Br=Nr?cr:o,Zr=Nr?o:cr,an=Nr?nr:o,xn=Nr?o:nr;bt|=Nr?gt:lt,bt&=~(Nr?lt:gt),bt&ut||(bt&=~(ct|ht));var Rn=[pt,bt,Ht,an,Br,xn,Zr,fr,Sr,Dr],bn=It.apply(o,Rn);return fp(pt)&&Um(bn,Rn),bn.placeholder=Nt,Wm(bn,pt,bt)}function sp(pt){var bt=vs[pt];return function(It,Nt){if(It=fo(It),Nt=Nt==null?0:Ls(In(Nt),292),Nt&&Hp(It)){var Ht=(zn(It)+"e").split("e"),nr=bt(Ht[0]+"e"+(+Ht[1]+Nt));return Ht=(zn(nr)+"e").split("e"),+(Ht[0]+"e"+(+Ht[1]-Nt))}return bt(It)}}var U0=_a&&1/Gl(new _a([,-0]))[1]==Ot?function(pt){return new _a(pt)}:kp;function Mm(pt){return function(bt){var It=Ps(bt);return It==Tr?Fu(bt):It==Vn?ov(bt):Zy(bt,pt(bt))}}function Ao(pt,bt,It,Nt,Ht,nr,cr,fr){var Sr=bt&ht;if(!Sr&&typeof pt!="function")throw new ao(st);var Dr=Nt?Nt.length:0;if(Dr||(bt&=~(gt|lt),Nt=Ht=o),cr=cr===o?cr:xs(In(cr),0),fr=fr===o?fr:In(fr),Dr-=Ht?Ht.length:0,bt&lt){var Nr=Nt,Br=Ht;Nt=Ht=o}var Zr=Sr?o:lp(pt),an=[pt,bt,It,Nt,Ht,Nr,Br,nr,cr,fr];if(Zr&&ix(an,Zr),pt=an[0],bt=an[1],It=an[2],Nt=an[3],Ht=an[4],fr=an[9]=an[9]===o?Sr?0:pt.length:xs(an[9]-Dr,0),!fr&&bt&(dt|mt)&&(bt&=~(dt|mt)),!bt||bt==ct)var xn=B0(pt,bt,It);else bt==dt||bt==mt?xn=z0(pt,bt,fr):(bt==gt||bt==(ct|gt))&&!Ht.length?xn=j0(pt,bt,It,Nt):xn=mu.apply(o,an);var Rn=Zr?fm:Um;return Wm(Rn(xn,an),pt,bt)}function Lm(pt,bt,It,Nt){return pt===o||bo(pt,ba[It])&&!Un.call(Nt,It)?bt:pt}function Pm(pt,bt,It,Nt,Ht,nr){return _i(pt)&&_i(bt)&&(nr.set(bt,pt),hu(pt,bt,o,Pm,nr),nr.delete(bt)),pt}function W0(pt){return zl(pt)?o:pt}function Dm(pt,bt,It,Nt,Ht,nr){var cr=It&nt,fr=pt.length,Sr=bt.length;if(fr!=Sr&&!(cr&&Sr>fr))return!1;var Dr=nr.get(pt),Nr=nr.get(bt);if(Dr&&Nr)return Dr==bt&&Nr==pt;var Br=-1,Zr=!0,an=It&at?new Ko:o;for(nr.set(pt,bt),nr.set(bt,pt);++Br<fr;){var xn=pt[Br],Rn=bt[Br];if(Nt)var bn=cr?Nt(Rn,xn,Br,bt,pt,nr):Nt(xn,Rn,Br,pt,bt,nr);if(bn!==o){if(bn)continue;Zr=!1;break}if(an){if(!Mu(bt,function(Ln,Nn){if(!Cl(an,Nn)&&(xn===Ln||Ht(xn,Ln,It,Nt,nr)))return an.push(Nn)})){Zr=!1;break}}else if(!(xn===Rn||Ht(xn,Rn,It,Nt,nr))){Zr=!1;break}}return nr.delete(pt),nr.delete(bt),Zr}function H0(pt,bt,It,Nt,Ht,nr,cr){switch(It){case $r:if(pt.byteLength!=bt.byteLength||pt.byteOffset!=bt.byteOffset)return!1;pt=pt.buffer,bt=bt.buffer;case zr:return!(pt.byteLength!=bt.byteLength||!nr(new Jl(pt),new Jl(bt)));case yr:case xr:case Cr:return bo(+pt,+bt);case ir:return pt.name==bt.name&&pt.message==bt.message;case Cn:case An:return pt==bt+"";case Tr:var fr=Fu;case Vn:var Sr=Nt&nt;if(fr||(fr=Gl),pt.size!=bt.size&&!Sr)return!1;var Dr=cr.get(pt);if(Dr)return Dr==bt;Nt|=at,cr.set(pt,bt);var Nr=Dm(fr(pt),fr(bt),Nt,Ht,nr,cr);return cr.delete(pt),Nr;case pn:if(Ml)return Ml.call(pt)==Ml.call(bt)}return!1}function G0(pt,bt,It,Nt,Ht,nr){var cr=It&nt,fr=op(pt),Sr=fr.length,Dr=op(bt),Nr=Dr.length;if(Sr!=Nr&&!cr)return!1;for(var Br=Sr;Br--;){var Zr=fr[Br];if(!(cr?Zr in bt:Un.call(bt,Zr)))return!1}var an=nr.get(pt),xn=nr.get(bt);if(an&&xn)return an==bt&&xn==pt;var Rn=!0;nr.set(pt,bt),nr.set(bt,pt);for(var bn=cr;++Br<Sr;){Zr=fr[Br];var Ln=pt[Zr],Nn=bt[Zr];if(Nt)var no=cr?Nt(Nn,Ln,Zr,bt,pt,nr):Nt(Ln,Nn,Zr,pt,bt,nr);if(!(no===o?Ln===Nn||Ht(Ln,Nn,It,Nt,nr):no)){Rn=!1;break}bn||(bn=Zr=="constructor")}if(Rn&&!bn){var Vs=pt.constructor,io=bt.constructor;Vs!=io&&"constructor"in pt&&"constructor"in bt&&!(typeof Vs=="function"&&Vs instanceof Vs&&typeof io=="function"&&io instanceof io)&&(Rn=!1)}return nr.delete(pt),nr.delete(bt),Rn}function Io(pt){return dp(zm(pt,o,qm),pt+"")}function op(pt){return tm(pt,Ts,cp)}function ap(pt){return tm(pt,Ys,Nm)}var lp=su?function(pt){return su.get(pt)}:kp;function xu(pt){for(var bt=pt.name+"",It=$a[bt],Nt=Un.call($a,bt)?It.length:0;Nt--;){var Ht=It[Nt],nr=Ht.func;if(nr==null||nr==pt)return Ht.name}return bt}function wl(pt){var bt=Un.call(Qt,"placeholder")?Qt:pt;return bt.placeholder}function gn(){var pt=Qt.iteratee||Tp;return pt=pt===Tp?im:pt,arguments.length?pt(arguments[0],arguments[1]):pt}function bu(pt,bt){var It=pt.__data__;return ex(bt)?It[typeof bt=="string"?"string":"hash"]:It.map}function up(pt){for(var bt=Ts(pt),It=bt.length;It--;){var Nt=bt[It],Ht=pt[Nt];bt[It]=[Nt,Ht,Vm(Ht)]}return bt}function qo(pt,bt){var It=nv(pt,bt);return nm(It)?It:o}function K0(pt){var bt=Un.call(pt,Ho),It=pt[Ho];try{pt[Ho]=o;var Nt=!0}catch{}var Ht=Ql.call(pt);return Nt&&(bt?pt[Ho]=It:delete pt[Ho]),Ht}var cp=Bu?function(pt){return pt==null?[]:(pt=Gn(pt),Do(Bu(pt),function(bt){return Up.call(pt,bt)}))}:$p,Nm=Bu?function(pt){for(var bt=[];pt;)No(bt,cp(pt)),pt=eu(pt);return bt}:$p,Ps=Os;(zu&&Ps(new zu(new ArrayBuffer(1)))!=$r||Al&&Ps(new Al)!=Tr||ju&&Ps(ju.resolve())!=Jr||_a&&Ps(new _a)!=Vn||Il&&Ps(new Il)!=Pn)&&(Ps=function(pt){var bt=Os(pt),It=bt==Wr?pt.constructor:o,Nt=It?Qo(It):"";if(Nt)switch(Nt){case Av:return $r;case Iv:return Tr;case Rv:return Jr;case Mv:return Vn;case Lv:return Pn}return bt});function Y0(pt,bt,It){for(var Nt=-1,Ht=It.length;++Nt<Ht;){var nr=It[Nt],cr=nr.size;switch(nr.type){case"drop":pt+=cr;break;case"dropRight":bt-=cr;break;case"take":bt=Ls(bt,pt+cr);break;case"takeRight":pt=xs(pt,bt-cr);break}}return{start:pt,end:bt}}function X0(pt){var bt=pt.match(hs);return bt?bt[1].split(Ns):[]}function Om(pt,bt,It){bt=zo(bt,pt);for(var Nt=-1,Ht=bt.length,nr=!1;++Nt<Ht;){var cr=To(bt[Nt]);if(!(nr=pt!=null&&It(pt,cr)))break;pt=pt[cr]}return nr||++Nt!=Ht?nr:(Ht=pt==null?0:pt.length,!!Ht&&ku(Ht)&&Ro(cr,Ht)&&(Tn(pt)||Zo(pt)))}function q0(pt){var bt=pt.length,It=new pt.constructor(bt);return bt&&typeof pt[0]=="string"&&Un.call(pt,"index")&&(It.index=pt.index,It.input=pt.input),It}function Fm(pt){return typeof pt.constructor=="function"&&!Vl(pt)?yl(eu(pt)):{}}function Q0(pt,bt,It){var Nt=pt.constructor;switch(bt){case zr:return np(pt);case yr:case xr:return new Nt(+pt);case $r:return P0(pt,It);case hn:case Jt:case Kt:case hr:case Pr:case jr:case kr:case Ar:case Yr:return bm(pt,It);case Tr:return new Nt;case Cr:case An:return new Nt(pt);case Cn:return D0(pt);case Vn:return new Nt;case pn:return N0(pt)}}function Z0(pt,bt){var It=bt.length;if(!It)return pt;var Nt=It-1;return bt[Nt]=(It>1?"& ":"")+bt[Nt],bt=bt.join(It>2?", ":" "),pt.replace(cs,`{
/* [wrapped with `+bt+`] */
`)}function J0(pt){return Tn(pt)||Zo(pt)||!!(Wp&&pt&&pt[Wp])}function Ro(pt,bt){var It=typeof pt;return bt=bt??Pt,!!bt&&(It=="number"||It!="symbol"&&Us.test(pt))&&pt>-1&&pt%1==0&&pt<bt}function Fs(pt,bt,It){if(!_i(It))return!1;var Nt=typeof bt;return(Nt=="number"?Ks(It)&&Ro(bt,It.length):Nt=="string"&&bt in It)?bo(It[bt],pt):!1}function hp(pt,bt){if(Tn(pt))return!1;var It=typeof pt;return It=="number"||It=="symbol"||It=="boolean"||pt==null||ro(pt)?!0:Xn.test(pt)||!Yn.test(pt)||bt!=null&&pt in Gn(bt)}function ex(pt){var bt=typeof pt;return bt=="string"||bt=="number"||bt=="symbol"||bt=="boolean"?pt!=="__proto__":pt===null}function fp(pt){var bt=xu(pt),It=Qt[bt];if(typeof It!="function"||!(bt in Dn.prototype))return!1;if(pt===It)return!0;var Nt=lp(It);return!!Nt&&pt===Nt[0]}function tx(pt){return!!Bp&&Bp in pt}var rx=Yl?Mo:Ap;function Vl(pt){var bt=pt&&pt.constructor,It=typeof bt=="function"&&bt.prototype||ba;return pt===It}function Vm(pt){return pt===pt&&!_i(pt)}function Bm(pt,bt){return function(It){return It==null?!1:It[pt]===bt&&(bt!==o||pt in Gn(It))}}function nx(pt){var bt=Tu(pt,function(Nt){return It.size===it&&It.clear(),Nt}),It=bt.cache;return bt}function ix(pt,bt){var It=pt[1],Nt=bt[1],Ht=It|Nt,nr=Ht<(ct|ht|St),cr=Nt==St&&It==dt||Nt==St&&It==xt&&pt[7].length<=bt[8]||Nt==(St|xt)&&bt[7].length<=bt[8]&&It==dt;if(!(nr||cr))return pt;Nt&ct&&(pt[2]=bt[2],Ht|=It&ct?0:ut);var fr=bt[3];if(fr){var Sr=pt[3];pt[3]=Sr?wm(Sr,fr,bt[4]):fr,pt[4]=Sr?Oo(pt[3],j):bt[4]}return fr=bt[5],fr&&(Sr=pt[5],pt[5]=Sr?_m(Sr,fr,bt[6]):fr,pt[6]=Sr?Oo(pt[5],j):bt[6]),fr=bt[7],fr&&(pt[7]=fr),Nt&St&&(pt[8]=pt[8]==null?bt[8]:Ls(pt[8],bt[8])),pt[9]==null&&(pt[9]=bt[9]),pt[0]=bt[0],pt[1]=Ht,pt}function sx(pt){var bt=[];if(pt!=null)for(var It in Gn(pt))bt.push(It);return bt}function ox(pt){return Ql.call(pt)}function zm(pt,bt,It){return bt=xs(bt===o?pt.length-1:bt,0),function(){for(var Nt=arguments,Ht=-1,nr=xs(Nt.length-bt,0),cr=Ir(nr);++Ht<nr;)cr[Ht]=Nt[bt+Ht];Ht=-1;for(var fr=Ir(bt+1);++Ht<bt;)fr[Ht]=Nt[Ht];return fr[bt]=It(cr),Es(pt,this,fr)}}function jm(pt,bt){return bt.length<2?pt:Xo(pt,co(bt,0,-1))}function ax(pt,bt){for(var It=pt.length,Nt=Ls(bt.length,It),Ht=Gs(pt);Nt--;){var nr=bt[Nt];pt[Nt]=Ro(nr,It)?Ht[nr]:o}return pt}function pp(pt,bt){if(!(bt==="constructor"&&typeof pt[bt]=="function")&&bt!="__proto__")return pt[bt]}var Um=Hm(fm),Bl=wv||function(pt,bt){return en.setTimeout(pt,bt)},dp=Hm(I0);function Wm(pt,bt,It){var Nt=bt+"";return dp(pt,Z0(Nt,lx(X0(Nt),It)))}function Hm(pt){var bt=0,It=0;return function(){var Nt=Cv(),Ht=$t-(Nt-It);if(It=Nt,Ht>0){if(++bt>=Et)return arguments[0]}else bt=0;return pt.apply(o,arguments)}}function Su(pt,bt){var It=-1,Nt=pt.length,Ht=Nt-1;for(bt=bt===o?Nt:bt;++It<bt;){var nr=Ju(It,Ht),cr=pt[nr];pt[nr]=pt[It],pt[It]=cr}return pt.length=bt,pt}var Gm=nx(function(pt){var bt=[];return pt.charCodeAt(0)===46&&bt.push(""),pt.replace(Ds,function(It,Nt,Ht,nr){bt.push(Ht?nr.replace(zs,"$1"):Nt||It)}),bt});function To(pt){if(typeof pt=="string"||ro(pt))return pt;var bt=pt+"";return bt=="0"&&1/pt==-Ot?"-0":bt}function Qo(pt){if(pt!=null){try{return Xl.call(pt)}catch{}try{return pt+""}catch{}}return""}function lx(pt,bt){return oo(Xt,function(It){var Nt="_."+It[0];bt&It[1]&&!Wl(pt,Nt)&&pt.push(Nt)}),pt.sort()}function Km(pt){if(pt instanceof Dn)return pt.clone();var bt=new lo(pt.__wrapped__,pt.__chain__);return bt.__actions__=Gs(pt.__actions__),bt.__index__=pt.__index__,bt.__values__=pt.__values__,bt}function ux(pt,bt,It){(It?Fs(pt,bt,It):bt===o)?bt=1:bt=xs(In(bt),0);var Nt=pt==null?0:pt.length;if(!Nt||bt<1)return[];for(var Ht=0,nr=0,cr=Ir(nu(Nt/bt));Ht<Nt;)cr[nr++]=co(pt,Ht,Ht+=bt);return cr}function hx(pt){for(var bt=-1,It=pt==null?0:pt.length,Nt=0,Ht=[];++bt<It;){var nr=pt[bt];nr&&(Ht[Nt++]=nr)}return Ht}function fx(){var pt=arguments.length;if(!pt)return[];for(var bt=Ir(pt-1),It=arguments[0],Nt=pt;Nt--;)bt[Nt-1]=arguments[Nt];return No(Tn(It)?Gs(It):[It],As(bt,1))}var dx=Mn(function(pt,bt){return ls(pt)?Pl(pt,As(bt,1,ls,!0)):[]}),mx=Mn(function(pt,bt){var It=ho(bt);return ls(It)&&(It=o),ls(pt)?Pl(pt,As(bt,1,ls,!0),gn(It,2)):[]}),gx=Mn(function(pt,bt){var It=ho(bt);return ls(It)&&(It=o),ls(pt)?Pl(pt,As(bt,1,ls,!0),o,It):[]});function yx(pt,bt,It){var Nt=pt==null?0:pt.length;return Nt?(bt=It||bt===o?1:In(bt),co(pt,bt<0?0:bt,Nt)):[]}function vx(pt,bt,It){var Nt=pt==null?0:pt.length;return Nt?(bt=It||bt===o?1:In(bt),bt=Nt-bt,co(pt,0,bt<0?0:bt)):[]}function xx(pt,bt){return pt&&pt.length?pu(pt,gn(bt,3),!0,!0):[]}function bx(pt,bt){return pt&&pt.length?pu(pt,gn(bt,3),!0):[]}function Sx(pt,bt,It,Nt){var Ht=pt==null?0:pt.length;return Ht?(It&&typeof It!="number"&&Fs(pt,bt,It)&&(It=0,Nt=Ht),h0(pt,bt,It,Nt)):[]}function Ym(pt,bt,It){var Nt=pt==null?0:pt.length;if(!Nt)return-1;var Ht=It==null?0:In(It);return Ht<0&&(Ht=xs(Nt+Ht,0)),Hl(pt,gn(bt,3),Ht)}function Xm(pt,bt,It){var Nt=pt==null?0:pt.length;if(!Nt)return-1;var Ht=Nt-1;return It!==o&&(Ht=In(It),Ht=It<0?xs(Nt+Ht,0):Ls(Ht,Nt-1)),Hl(pt,gn(bt,3),Ht,!0)}function qm(pt){var bt=pt==null?0:pt.length;return bt?As(pt,1):[]}function wx(pt){var bt=pt==null?0:pt.length;return bt?As(pt,Ot):[]}function _x(pt,bt){var It=pt==null?0:pt.length;return It?(bt=bt===o?1:In(bt),As(pt,bt)):[]}function Ex(pt){for(var bt=-1,It=pt==null?0:pt.length,Nt={};++bt<It;){var Ht=pt[bt];Nt[Ht[0]]=Ht[1]}return Nt}function Qm(pt){return pt&&pt.length?pt[0]:o}function Tx(pt,bt,It){var Nt=pt==null?0:pt.length;if(!Nt)return-1;var Ht=It==null?0:In(It);return Ht<0&&(Ht=xs(Nt+Ht,0)),Jo(pt,bt,Ht)}function Cx(pt){var bt=pt==null?0:pt.length;return bt?co(pt,0,-1):[]}var kx=Mn(function(pt){var bt=Zn(pt,tp);return bt.length&&bt[0]===pt[0]?Yu(bt):[]}),$x=Mn(function(pt){var bt=ho(pt),It=Zn(pt,tp);return bt===ho(It)?bt=o:It.pop(),It.length&&It[0]===pt[0]?Yu(It,gn(bt,2)):[]}),Ax=Mn(function(pt){var bt=ho(pt),It=Zn(pt,tp);return bt=typeof bt=="function"?bt:o,bt&&It.pop(),It.length&&It[0]===pt[0]?Yu(It,o,bt):[]});function Ix(pt,bt){return pt==null?"":Ev.call(pt,bt)}function ho(pt){var bt=pt==null?0:pt.length;return bt?pt[bt-1]:o}function Rx(pt,bt,It){var Nt=pt==null?0:pt.length;if(!Nt)return-1;var Ht=Nt;return It!==o&&(Ht=In(It),Ht=Ht<0?xs(Nt+Ht,0):Ls(Ht,Nt-1)),bt===bt?lv(pt,bt,Ht):Hl(pt,Mp,Ht,!0)}function Mx(pt,bt){return pt&&pt.length?lm(pt,In(bt)):o}var Lx=Mn(Zm);function Zm(pt,bt){return pt&&pt.length&&bt&&bt.length?Zu(pt,bt):pt}function Px(pt,bt,It){return pt&&pt.length&&bt&&bt.length?Zu(pt,bt,gn(It,2)):pt}function Dx(pt,bt,It){return pt&&pt.length&&bt&&bt.length?Zu(pt,bt,o,It):pt}var Nx=Io(function(pt,bt){var It=pt==null?0:pt.length,Nt=Wu(pt,bt);return hm(pt,Zn(bt,function(Ht){return Ro(Ht,It)?+Ht:Ht}).sort(Sm)),Nt});function Ox(pt,bt){var It=[];if(!(pt&&pt.length))return It;var Nt=-1,Ht=[],nr=pt.length;for(bt=gn(bt,3);++Nt<nr;){var cr=pt[Nt];bt(cr,Nt,pt)&&(It.push(cr),Ht.push(Nt))}return hm(pt,Ht),It}function mp(pt){return pt==null?pt:$v.call(pt)}function Fx(pt,bt,It){var Nt=pt==null?0:pt.length;return Nt?(It&&typeof It!="number"&&Fs(pt,bt,It)?(bt=0,It=Nt):(bt=bt==null?0:In(bt),It=It===o?Nt:In(It)),co(pt,bt,It)):[]}function Vx(pt,bt){return fu(pt,bt)}function Bx(pt,bt,It){return _h(pt,bt,gn(It,2))}function zx(pt,bt){var It=pt==null?0:pt.length;if(It){var Nt=fu(pt,bt);if(Nt<It&&bo(pt[Nt],bt))return Nt}return-1}function jx(pt,bt){return fu(pt,bt,!0)}function Ux(pt,bt,It){return _h(pt,bt,gn(It,2),!0)}function Wx(pt,bt){var It=pt==null?0:pt.length;if(It){var Nt=fu(pt,bt,!0)-1;if(bo(pt[Nt],bt))return Nt}return-1}function Hx(pt){return pt&&pt.length?pm(pt):[]}function Gx(pt,bt){return pt&&pt.length?pm(pt,gn(bt,2)):[]}function Kx(pt){var bt=pt==null?0:pt.length;return bt?co(pt,1,bt):[]}function Yx(pt,bt,It){return pt&&pt.length?(bt=It||bt===o?1:In(bt),co(pt,0,bt<0?0:bt)):[]}function Xx(pt,bt,It){var Nt=pt==null?0:pt.length;return Nt?(bt=It||bt===o?1:In(bt),bt=Nt-bt,co(pt,bt<0?0:bt,Nt)):[]}function qx(pt,bt){return pt&&pt.length?pu(pt,gn(bt,3),!1,!0):[]}function Qx(pt,bt){return pt&&pt.length?pu(pt,gn(bt,3)):[]}var Zx=Mn(function(pt){return Bo(As(pt,1,ls,!0))}),Jx=Mn(function(pt){var bt=ho(pt);return ls(bt)&&(bt=o),Bo(As(pt,1,ls,!0),gn(bt,2))}),_b=Mn(function(pt){var bt=ho(pt);return bt=typeof bt=="function"?bt:o,Bo(As(pt,1,ls,!0),o,bt)});function e1(pt){return pt&&pt.length?Bo(pt):[]}function t1(pt,bt){return pt&&pt.length?Bo(pt,gn(bt,2)):[]}function r1(pt,bt){return bt=typeof bt=="function"?bt:o,pt&&pt.length?Bo(pt,o,bt):[]}function gp(pt){if(!(pt&&pt.length))return[];var bt=0;return pt=Do(pt,function(It){if(ls(It))return bt=xs(It.length,bt),!0}),Nu(bt,function(It){return Zn(pt,Lu(It))})}function Jm(pt,bt){if(!(pt&&pt.length))return[];var It=gp(pt);return bt==null?It:Zn(It,function(Nt){return Es(bt,o,Nt)})}var n1=Mn(function(pt,bt){return ls(pt)?Pl(pt,bt):[]}),i1=Mn(function(pt){return ep(Do(pt,ls))}),s1=Mn(function(pt){var bt=ho(pt);return ls(bt)&&(bt=o),ep(Do(pt,ls),gn(bt,2))}),o1=Mn(function(pt){var bt=ho(pt);return bt=typeof bt=="function"?bt:o,ep(Do(pt,ls),o,bt)}),a1=Mn(gp);function l1(pt,bt){return ym(pt||[],bt||[],Ll)}function u1(pt,bt){return ym(pt||[],bt||[],Ol)}var c1=Mn(function(pt){var bt=pt.length,It=bt>1?pt[bt-1]:o;return It=typeof It=="function"?(pt.pop(),It):o,Jm(pt,It)});function _g(pt){var bt=Qt(pt);return bt.__chain__=!0,bt}function h1(pt,bt){return bt(pt),pt}function wu(pt,bt){return bt(pt)}var f1=Io(function(pt){var bt=pt.length,It=bt?pt[0]:0,Nt=this.__wrapped__,Ht=function(nr){return Wu(nr,pt)};return bt>1||this.__actions__.length||!(Nt instanceof Dn)||!Ro(It)?this.thru(Ht):(Nt=Nt.slice(It,+It+(bt?1:0)),Nt.__actions__.push({func:wu,args:[Ht],thisArg:o}),new lo(Nt,this.__chain__).thru(function(nr){return bt&&!nr.length&&nr.push(o),nr}))});function p1(){return _g(this)}function d1(){return new lo(this.value(),this.__chain__)}function m1(){this.__values__===o&&(this.__values__=py(this.value()));var pt=this.__index__>=this.__values__.length,bt=pt?o:this.__values__[this.__index__++];return{done:pt,value:bt}}function g1(){return this}function y1(pt){for(var bt,It=this;It instanceof au;){var Nt=Km(It);Nt.__index__=0,Nt.__values__=o,bt?Ht.__wrapped__=Nt:bt=Nt;var Ht=Nt;It=It.__wrapped__}return Ht.__wrapped__=pt,bt}function v1(){var pt=this.__wrapped__;if(pt instanceof Dn){var bt=pt;return this.__actions__.length&&(bt=new Dn(this)),bt=bt.reverse(),bt.__actions__.push({func:wu,args:[mp],thisArg:o}),new lo(bt,this.__chain__)}return this.thru(mp)}function x1(){return gm(this.__wrapped__,this.__actions__)}var b1=du(function(pt,bt,It){Un.call(pt,It)?++pt[It]:$o(pt,It,1)});function S1(pt,bt,It){var Nt=Tn(pt)?Ip:c0;return It&&Fs(pt,bt,It)&&(bt=o),Nt(pt,gn(bt,3))}function w1(pt,bt){var It=Tn(pt)?Do:_d;return It(pt,gn(bt,3))}var _1=km(Ym),E1=km(Xm);function T1(pt,bt){return As(_u(pt,bt),1)}function C1(pt,bt){return As(_u(pt,bt),Ot)}function k1(pt,bt,It){return It=It===o?1:In(It),As(_u(pt,bt),It)}function ey(pt,bt){var It=Tn(pt)?oo:Vo;return It(pt,gn(bt,3))}function ty(pt,bt){var It=Tn(pt)?Hy:Jp;return It(pt,gn(bt,3))}var $1=du(function(pt,bt,It){Un.call(pt,It)?pt[It].push(bt):$o(pt,It,[bt])});function A1(pt,bt,It,Nt){pt=Ks(pt)?pt:El(pt),It=It&&!Nt?In(It):0;var Ht=pt.length;return It<0&&(It=xs(Ht+It,0)),$u(pt)?It<=Ht&&pt.indexOf(bt,It)>-1:!!Ht&&Jo(pt,bt,It)>-1}var I1=Mn(function(pt,bt,It){var Nt=-1,Ht=typeof bt=="function",nr=Ks(pt)?Ir(pt.length):[];return Vo(pt,function(cr){nr[++Nt]=Ht?Es(bt,cr,It):Dl(cr,bt,It)}),nr}),R1=du(function(pt,bt,It){$o(pt,It,bt)});function _u(pt,bt){var It=Tn(pt)?Zn:sm;return It(pt,gn(bt,3))}function M1(pt,bt,It,Nt){return pt==null?[]:(Tn(bt)||(bt=bt==null?[]:[bt]),It=Nt?o:It,Tn(It)||(It=It==null?[]:[It]),um(pt,bt,It))}var L1=du(function(pt,bt,It){pt[It?0:1].push(bt)},function(){return[[],[]]});function P1(pt,bt,It){var Nt=Tn(pt)?Ru:Pp,Ht=arguments.length<3;return Nt(pt,gn(bt,4),It,Ht,Vo)}function D1(pt,bt,It){var Nt=Tn(pt)?Gy:Pp,Ht=arguments.length<3;return Nt(pt,gn(bt,4),It,Ht,Jp)}function N1(pt,bt){var It=Tn(pt)?Do:_d;return It(pt,Cu(gn(bt,3)))}function O1(pt){var bt=Tn(pt)?Xp:$0;return bt(pt)}function F1(pt,bt,It){(It?Fs(pt,bt,It):bt===o)?bt=1:bt=In(bt);var Nt=Tn(pt)?s0:A0;return Nt(pt,bt)}function V1(pt){var bt=Tn(pt)?o0:R0;return bt(pt)}function B1(pt){if(pt==null)return 0;if(Ks(pt))return $u(pt)?ga(pt):pt.length;var bt=Ps(pt);return bt==Tr||bt==Vn?pt.size:qu(pt).length}function z1(pt,bt,It){var Nt=Tn(pt)?Mu:M0;return It&&Fs(pt,bt,It)&&(bt=o),Nt(pt,gn(bt,3))}var j1=Mn(function(pt,bt){if(pt==null)return[];var It=bt.length;return It>1&&Fs(pt,bt[0],bt[1])?bt=[]:It>2&&Fs(bt[0],bt[1],bt[2])&&(bt=[bt[0]]),um(pt,As(bt,1),[])}),Eu=Sv||function(){return en.Date.now()};function U1(pt,bt){if(typeof bt!="function")throw new ao(st);return pt=In(pt),function(){if(--pt<1)return bt.apply(this,arguments)}}function ry(pt,bt,It){return bt=It?o:bt,bt=pt&&bt==null?pt.length:bt,Ao(pt,St,o,o,o,o,bt)}function ny(pt,bt){var It;if(typeof bt!="function")throw new ao(st);return pt=In(pt),function(){return--pt>0&&(It=bt.apply(this,arguments)),pt<=1&&(bt=o),It}}var yp=Mn(function(pt,bt,It){var Nt=ct;if(It.length){var Ht=Oo(It,wl(yp));Nt|=gt}return Ao(pt,Nt,bt,It,Ht)}),iy=Mn(function(pt,bt,It){var Nt=ct|ht;if(It.length){var Ht=Oo(It,wl(iy));Nt|=gt}return Ao(bt,Nt,pt,It,Ht)});function sy(pt,bt,It){bt=It?o:bt;var Nt=Ao(pt,dt,o,o,o,o,o,bt);return Nt.placeholder=sy.placeholder,Nt}function oy(pt,bt,It){bt=It?o:bt;var Nt=Ao(pt,mt,o,o,o,o,o,bt);return Nt.placeholder=oy.placeholder,Nt}function ay(pt,bt,It){var Nt,Ht,nr,cr,fr,Sr,Dr=0,Nr=!1,Br=!1,Zr=!0;if(typeof pt!="function")throw new ao(st);bt=fo(bt)||0,_i(It)&&(Nr=!!It.leading,Br="maxWait"in It,nr=Br?xs(fo(It.maxWait)||0,bt):nr,Zr="trailing"in It?!!It.trailing:Zr);function an(us){var So=Nt,Po=Ht;return Nt=Ht=o,Dr=us,cr=pt.apply(Po,So),cr}function xn(us){return Dr=us,fr=Bl(Ln,bt),Nr?an(us):cr}function Rn(us){var So=us-Sr,Po=us-Dr,Cy=bt-So;return Br?Ls(Cy,nr-Po):Cy}function bn(us){var So=us-Sr,Po=us-Dr;return Sr===o||So>=bt||So<0||Br&&Po>=nr}function Ln(){var us=Eu();if(bn(us))return Nn(us);fr=Bl(Ln,Rn(us))}function Nn(us){return fr=o,Zr&&Nt?an(us):(Nt=Ht=o,cr)}function no(){fr!==o&&vm(fr),Dr=0,Nt=Sr=Ht=fr=o}function Vs(){return fr===o?cr:Nn(Eu())}function io(){var us=Eu(),So=bn(us);if(Nt=arguments,Ht=this,Sr=us,So){if(fr===o)return xn(Sr);if(Br)return vm(fr),fr=Bl(Ln,bt),an(Sr)}return fr===o&&(fr=Bl(Ln,bt)),cr}return io.cancel=no,io.flush=Vs,io}var W1=Mn(function(pt,bt){return Zp(pt,1,bt)}),H1=Mn(function(pt,bt,It){return Zp(pt,fo(bt)||0,It)});function G1(pt){return Ao(pt,yt)}function Tu(pt,bt){if(typeof pt!="function"||bt!=null&&typeof bt!="function")throw new ao(st);var It=function(){var Nt=arguments,Ht=bt?bt.apply(this,Nt):Nt[0],nr=It.cache;if(nr.has(Ht))return nr.get(Ht);var cr=pt.apply(this,Nt);return It.cache=nr.set(Ht,cr)||nr,cr};return It.cache=new(Tu.Cache||ko),It}Tu.Cache=ko;function Cu(pt){if(typeof pt!="function")throw new ao(st);return function(){var bt=arguments;switch(bt.length){case 0:return!pt.call(this);case 1:return!pt.call(this,bt[0]);case 2:return!pt.call(this,bt[0],bt[1]);case 3:return!pt.call(this,bt[0],bt[1],bt[2])}return!pt.apply(this,bt)}}function K1(pt){return ny(2,pt)}var Y1=L0(function(pt,bt){bt=bt.length==1&&Tn(bt[0])?Zn(bt[0],eo(gn())):Zn(As(bt,1),eo(gn()));var It=bt.length;return Mn(function(Nt){for(var Ht=-1,nr=Ls(Nt.length,It);++Ht<nr;)Nt[Ht]=bt[Ht].call(this,Nt[Ht]);return Es(pt,this,Nt)})}),vp=Mn(function(pt,bt){var It=Oo(bt,wl(vp));return Ao(pt,gt,o,bt,It)}),ly=Mn(function(pt,bt){var It=Oo(bt,wl(ly));return Ao(pt,lt,o,bt,It)}),X1=Io(function(pt,bt){return Ao(pt,xt,o,o,o,bt)});function q1(pt,bt){if(typeof pt!="function")throw new ao(st);return bt=bt===o?bt:In(bt),Mn(pt,bt)}function Q1(pt,bt){if(typeof pt!="function")throw new ao(st);return bt=bt==null?0:xs(In(bt),0),Mn(function(It){var Nt=It[bt],Ht=jo(It,0,bt);return Nt&&No(Ht,Nt),Es(pt,this,Ht)})}function Z1(pt,bt,It){var Nt=!0,Ht=!0;if(typeof pt!="function")throw new ao(st);return _i(It)&&(Nt="leading"in It?!!It.leading:Nt,Ht="trailing"in It?!!It.trailing:Ht),ay(pt,bt,{leading:Nt,maxWait:bt,trailing:Ht})}function J1(pt){return ry(pt,1)}function eS(pt,bt){return vp(rp(bt),pt)}function tS(){if(!arguments.length)return[];var pt=arguments[0];return Tn(pt)?pt:[pt]}function rS(pt){return uo(pt,et)}function nS(pt,bt){return bt=typeof bt=="function"?bt:o,uo(pt,et,bt)}function iS(pt){return uo(pt,_|et)}function sS(pt,bt){return bt=typeof bt=="function"?bt:o,uo(pt,_|et,bt)}function oS(pt,bt){return bt==null||Qp(pt,bt,Ts(bt))}function bo(pt,bt){return pt===bt||pt!==pt&&bt!==bt}var aS=vu(Ku),lS=vu(function(pt,bt){return pt>=bt}),Zo=rm(function(){return arguments}())?rm:function(pt){return ts(pt)&&Un.call(pt,"callee")&&!Up.call(pt,"callee")},Tn=Ir.isArray,uS=ys?eo(ys):g0;function Ks(pt){return pt!=null&&ku(pt.length)&&!Mo(pt)}function ls(pt){return ts(pt)&&Ks(pt)}function cS(pt){return pt===!0||pt===!1||ts(pt)&&Os(pt)==yr}var Uo=_v||Ap,hS=Hs?eo(Hs):y0;function fS(pt){return ts(pt)&&pt.nodeType===1&&!zl(pt)}function pS(pt){if(pt==null)return!0;if(Ks(pt)&&(Tn(pt)||typeof pt=="string"||typeof pt.splice=="function"||Uo(pt)||_l(pt)||Zo(pt)))return!pt.length;var bt=Ps(pt);if(bt==Tr||bt==Vn)return!pt.size;if(Vl(pt))return!qu(pt).length;for(var It in pt)if(Un.call(pt,It))return!1;return!0}function dS(pt,bt){return Nl(pt,bt)}function mS(pt,bt,It){It=typeof It=="function"?It:o;var Nt=It?It(pt,bt):o;return Nt===o?Nl(pt,bt,o,It):!!Nt}function xp(pt){if(!ts(pt))return!1;var bt=Os(pt);return bt==ir||bt==vr||typeof pt.message=="string"&&typeof pt.name=="string"&&!zl(pt)}function gS(pt){return typeof pt=="number"&&Hp(pt)}function Mo(pt){if(!_i(pt))return!1;var bt=Os(pt);return bt==sr||bt==er||bt==mr||bt==nn}function uy(pt){return typeof pt=="number"&&pt==In(pt)}function ku(pt){return typeof pt=="number"&&pt>-1&&pt%1==0&&pt<=Pt}function _i(pt){var bt=typeof pt;return pt!=null&&(bt=="object"||bt=="function")}function ts(pt){return pt!=null&&typeof pt=="object"}var cy=so?eo(so):x0;function yS(pt,bt){return pt===bt||Xu(pt,bt,up(bt))}function vS(pt,bt,It){return It=typeof It=="function"?It:o,Xu(pt,bt,up(bt),It)}function xS(pt){return hy(pt)&&pt!=+pt}function bS(pt){if(rx(pt))throw new En(_e);return nm(pt)}function SS(pt){return pt===null}function wS(pt){return pt==null}function hy(pt){return typeof pt=="number"||ts(pt)&&Os(pt)==Cr}function zl(pt){if(!ts(pt)||Os(pt)!=Wr)return!1;var bt=eu(pt);if(bt===null)return!0;var It=Un.call(bt,"constructor")&&bt.constructor;return typeof It=="function"&&It instanceof It&&Xl.call(It)==yv}var bp=wo?eo(wo):b0;function _S(pt){return uy(pt)&&pt>=-Pt&&pt<=Pt}var fy=Tl?eo(Tl):S0;function $u(pt){return typeof pt=="string"||!Tn(pt)&&ts(pt)&&Os(pt)==An}function ro(pt){return typeof pt=="symbol"||ts(pt)&&Os(pt)==pn}var _l=Wo?eo(Wo):w0;function ES(pt){return pt===o}function TS(pt){return ts(pt)&&Ps(pt)==Pn}function CS(pt){return ts(pt)&&Os(pt)==wr}var kS=vu(Qu),$S=vu(function(pt,bt){return pt<=bt});function py(pt){if(!pt)return[];if(Ks(pt))return $u(pt)?vo(pt):Gs(pt);if($l&&pt[$l])return sv(pt[$l]());var bt=Ps(pt),It=bt==Tr?Fu:bt==Vn?Gl:El;return It(pt)}function Lo(pt){if(!pt)return pt===0?pt:0;if(pt=fo(pt),pt===Ot||pt===-Ot){var bt=pt<0?-1:1;return bt*Ft}return pt===pt?pt:0}function In(pt){var bt=Lo(pt),It=bt%1;return bt===bt?It?bt-It:bt:0}function dy(pt){return pt?Yo(In(pt),0,qt):0}function fo(pt){if(typeof pt=="number")return pt;if(ro(pt))return zt;if(_i(pt)){var bt=typeof pt.valueOf=="function"?pt.valueOf():pt;pt=_i(bt)?bt+"":bt}if(typeof pt!="string")return pt===0?pt:+pt;pt=Dp(pt);var It=js.test(pt);return It||Zs.test(pt)?qr(pt.slice(2),It?2:8):qs.test(pt)?zt:+pt}function my(pt){return Eo(pt,Ys(pt))}function AS(pt){return pt?Yo(In(pt),-Pt,Pt):pt===0?pt:0}function zn(pt){return pt==null?"":to(pt)}var IS=xl(function(pt,bt){if(Vl(bt)||Ks(bt)){Eo(bt,Ts(bt),pt);return}for(var It in bt)Un.call(bt,It)&&Ll(pt,It,bt[It])}),gy=xl(function(pt,bt){Eo(bt,Ys(bt),pt)}),Au=xl(function(pt,bt,It,Nt){Eo(bt,Ys(bt),pt,Nt)}),RS=xl(function(pt,bt,It,Nt){Eo(bt,Ts(bt),pt,Nt)}),LS=Io(Wu);function PS(pt,bt){var It=yl(pt);return bt==null?It:qp(It,bt)}var DS=Mn(function(pt,bt){pt=Gn(pt);var It=-1,Nt=bt.length,Ht=Nt>2?bt[2]:o;for(Ht&&Fs(bt[0],bt[1],Ht)&&(Nt=1);++It<Nt;)for(var nr=bt[It],cr=Ys(nr),fr=-1,Sr=cr.length;++fr<Sr;){var Dr=cr[fr],Nr=pt[Dr];(Nr===o||bo(Nr,ba[Dr])&&!Un.call(pt,Dr))&&(pt[Dr]=nr[Dr])}return pt}),NS=Mn(function(pt){return pt.push(o,Pm),Es(yy,o,pt)});function OS(pt,bt){return Rp(pt,gn(bt,3),_o)}function FS(pt,bt){return Rp(pt,gn(bt,3),Gu)}function VS(pt,bt){return pt==null?pt:Hu(pt,gn(bt,3),Ys)}function BS(pt,bt){return pt==null?pt:em(pt,gn(bt,3),Ys)}function zS(pt,bt){return pt&&_o(pt,gn(bt,3))}function jS(pt,bt){return pt&&Gu(pt,gn(bt,3))}function US(pt){return pt==null?[]:cu(pt,Ts(pt))}function WS(pt){return pt==null?[]:cu(pt,Ys(pt))}function Sp(pt,bt,It){var Nt=pt==null?o:Xo(pt,bt);return Nt===o?It:Nt}function HS(pt,bt){return pt!=null&&Om(pt,bt,f0)}function wp(pt,bt){return pt!=null&&Om(pt,bt,p0)}var GS=Am(function(pt,bt,It){bt!=null&&typeof bt.toString!="function"&&(bt=Ql.call(bt)),pt[bt]=It},Ep(Xs)),KS=Am(function(pt,bt,It){bt!=null&&typeof bt.toString!="function"&&(bt=Ql.call(bt)),Un.call(pt,bt)?pt[bt].push(It):pt[bt]=[It]},gn),YS=Mn(Dl);function Ts(pt){return Ks(pt)?Yp(pt):qu(pt)}function Ys(pt){return Ks(pt)?Yp(pt,!0):_0(pt)}function XS(pt,bt){var It={};return bt=gn(bt,3),_o(pt,function(Nt,Ht,nr){$o(It,bt(Nt,Ht,nr),Nt)}),It}function qS(pt,bt){var It={};return bt=gn(bt,3),_o(pt,function(Nt,Ht,nr){$o(It,Ht,bt(Nt,Ht,nr))}),It}var QS=xl(function(pt,bt,It){hu(pt,bt,It)}),yy=xl(function(pt,bt,It,Nt){hu(pt,bt,It,Nt)}),ZS=Io(function(pt,bt){var It={};if(pt==null)return It;var Nt=!1;bt=Zn(bt,function(nr){return nr=zo(nr,pt),Nt||(Nt=nr.length>1),nr}),Eo(pt,ap(pt),It),Nt&&(It=uo(It,_|$|et,W0));for(var Ht=bt.length;Ht--;)_f(It,bt[Ht]);return It});function JS(pt,bt){return vy(pt,Cu(gn(bt)))}var ew=Io(function(pt,bt){return pt==null?{}:T0(pt,bt)});function vy(pt,bt){if(pt==null)return{};var It=Zn(ap(pt),function(Nt){return[Nt]});return bt=gn(bt),cm(pt,It,function(Nt,Ht){return bt(Nt,Ht[0])})}function tw(pt,bt,It){bt=zo(bt,pt);var Nt=-1,Ht=bt.length;for(Ht||(Ht=1,pt=o);++Nt<Ht;){var nr=pt==null?o:pt[To(bt[Nt])];nr===o&&(Nt=Ht,nr=It),pt=Mo(nr)?nr.call(pt):nr}return pt}function rw(pt,bt,It){return pt==null?pt:Ol(pt,bt,It)}function nw(pt,bt,It,Nt){return Nt=typeof Nt=="function"?Nt:o,pt==null?pt:Ol(pt,bt,It,Nt)}var xy=Mm(Ts),by=Mm(Ys);function iw(pt,bt,It){var Nt=Tn(pt),Ht=Nt||Uo(pt)||_l(pt);if(bt=gn(bt,4),It==null){var nr=pt&&pt.constructor;Ht?It=Nt?new nr:[]:_i(pt)?It=Mo(nr)?yl(eu(pt)):{}:It={}}return(Ht?oo:_o)(pt,function(cr,fr,Sr){return bt(It,cr,fr,Sr)}),It}function sw(pt,bt){return pt==null?!0:_f(pt,bt)}function ow(pt,bt,It){return pt==null?pt:mm(pt,bt,rp(It))}function aw(pt,bt,It,Nt){return Nt=typeof Nt=="function"?Nt:o,pt==null?pt:mm(pt,bt,rp(It),Nt)}function El(pt){return pt==null?[]:Ou(pt,Ts(pt))}function lw(pt){return pt==null?[]:Ou(pt,Ys(pt))}function uw(pt,bt,It){return It===o&&(It=bt,bt=o),It!==o&&(It=fo(It),It=It===It?It:0),bt!==o&&(bt=fo(bt),bt=bt===bt?bt:0),Yo(fo(pt),bt,It)}function cw(pt,bt,It){return bt=Lo(bt),It===o?(It=bt,bt=0):It=Lo(It),pt=fo(pt),d0(pt,bt,It)}function hw(pt,bt,It){if(It&&typeof It!="boolean"&&Fs(pt,bt,It)&&(bt=It=o),It===o&&(typeof bt=="boolean"?(It=bt,bt=o):typeof pt=="boolean"&&(It=pt,pt=o)),pt===o&&bt===o?(pt=0,bt=1):(pt=Lo(pt),bt===o?(bt=pt,pt=0):bt=Lo(bt)),pt>bt){var Nt=pt;pt=bt,bt=Nt}if(It||pt%1||bt%1){var Ht=Gp();return Ls(pt+Ht*(bt-pt+Hr("1e-"+((Ht+"").length-1))),bt)}return Ju(pt,bt)}var fw=Sl(function(pt,bt,It){return bt=bt.toLowerCase(),pt+(It?Sy(bt):bt)});function Sy(pt){return _p(zn(pt).toLowerCase())}function wy(pt){return pt=zn(pt),pt&&pt.replace(fs,ev).replace(gr,"")}function pw(pt,bt,It){pt=zn(pt),bt=to(bt);var Nt=pt.length;It=It===o?Nt:Yo(In(It),0,Nt);var Ht=It;return It-=bt.length,It>=0&&pt.slice(It,Ht)==bt}function dw(pt){return pt=zn(pt),pt&&Er.test(pt)?pt.replace(Vr,tv):pt}function mw(pt){return pt=zn(pt),pt&&Cs.test(pt)?pt.replace(es,"\\$&"):pt}var gw=Sl(function(pt,bt,It){return pt+(It?"-":"")+bt.toLowerCase()}),yw=Sl(function(pt,bt,It){return pt+(It?" ":"")+bt.toLowerCase()}),xw=Cm("toLowerCase");function bw(pt,bt,It){pt=zn(pt),bt=In(bt);var Nt=bt?ga(pt):0;if(!bt||Nt>=bt)return pt;var Ht=(bt-Nt)/2;return yu(iu(Ht),It)+pt+yu(nu(Ht),It)}function Sw(pt,bt,It){pt=zn(pt),bt=In(bt);var Nt=bt?ga(pt):0;return bt&&Nt<bt?pt+yu(bt-Nt,It):pt}function ww(pt,bt,It){pt=zn(pt),bt=In(bt);var Nt=bt?ga(pt):0;return bt&&Nt<bt?yu(bt-Nt,It)+pt:pt}function _w(pt,bt,It){return It||bt==null?bt=0:bt&&(bt=+bt),kv(zn(pt).replace(Is,""),bt||0)}function Ew(pt,bt,It){return(It?Fs(pt,bt,It):bt===o)?bt=1:bt=In(bt),_c(zn(pt),bt)}function Tw(){var pt=arguments,bt=zn(pt[0]);return pt.length<3?bt:bt.replace(pt[1],pt[2])}var Cw=Sl(function(pt,bt,It){return pt+(It?"_":"")+bt.toLowerCase()});function kw(pt,bt,It){return It&&typeof It!="number"&&Fs(pt,bt,It)&&(bt=It=o),It=It===o?qt:It>>>0,It?(pt=zn(pt),pt&&(typeof bt=="string"||bt!=null&&!bp(bt))&&(bt=to(bt),!bt&&na(pt))?jo(vo(pt),0,It):pt.split(bt,It)):[]}var $w=Sl(function(pt,bt,It){return pt+(It?" ":"")+_p(bt)});function Aw(pt,bt,It){return pt=zn(pt),It=It==null?0:Yo(In(It),0,pt.length),bt=to(bt),pt.slice(It,It+bt.length)==bt}function Iw(pt,bt,It){var Nt=Qt.templateSettings;It&&Fs(pt,bt,It)&&(bt=o),pt=zn(pt),bt=Au({},bt,Nt,Lm);var Ht=Au({},bt.imports,Nt.imports,Lm),nr=Ts(Ht),cr=Ou(Ht,nr),fr,Sr,Dr=0,Nr=bt.interpolate||$s,Br="__p += '",Zr=Vu((bt.escape||$s).source+"|"+Nr.source+"|"+(Nr===Ss?ks:$s).source+"|"+(bt.evaluate||$s).source+"|$","g"),an="//# sourceURL="+(Un.call(bt,"sourceURL")?(bt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_s+"]")+`
`;pt.replace(Zr,function(bn,Ln,Nn,no,Vs,io){return Nn||(Nn=no),Br+=pt.slice(Dr,io).replace(Rs,rv),Ln&&(fr=!0,Br+=`' +
__e(`+Ln+`) +
'`),Vs&&(Sr=!0,Br+=`';
`+Vs+`;
__p += '`),Nn&&(Br+=`' +
((__t = (`+Nn+`)) == null ? '' : __t) +
'`),Dr=io+bn.length,bn}),Br+=`';
`;var xn=Un.call(bt,"variable")&&bt.variable;if(!xn)Br=`with (obj) {
`+Br+`
}
`;else if(ds.test(xn))throw new En(ot);Br=(Sr?Br.replace(un,""):Br).replace(Or,"$1").replace(Xr,"$1;"),Br="function("+(xn||"obj")+`) {
`+(xn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fr?", __e = _.escape":"")+(Sr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Br+`return __p
}`;var Rn=Ey(function(){return Bn(nr,an+"return "+Br).apply(o,cr)});if(Rn.source=Br,xp(Rn))throw Rn;return Rn}function Rw(pt){return zn(pt).toLowerCase()}function Mw(pt){return zn(pt).toUpperCase()}function Lw(pt,bt,It){if(pt=zn(pt),pt&&(It||bt===o))return Dp(pt);if(!pt||!(bt=to(bt)))return pt;var Nt=vo(pt),Ht=vo(bt),nr=Np(Nt,Ht),cr=Op(Nt,Ht)+1;return jo(Nt,nr,cr).join("")}function Pw(pt,bt,It){if(pt=zn(pt),pt&&(It||bt===o))return pt.slice(0,Vp(pt)+1);if(!pt||!(bt=to(bt)))return pt;var Nt=vo(pt),Ht=Op(Nt,vo(bt))+1;return jo(Nt,0,Ht).join("")}function Dw(pt,bt,It){if(pt=zn(pt),pt&&(It||bt===o))return pt.replace(Is,"");if(!pt||!(bt=to(bt)))return pt;var Nt=vo(pt),Ht=Np(Nt,vo(bt));return jo(Nt,Ht).join("")}function Nw(pt,bt){var It=_t,Nt=kt;if(_i(bt)){var Ht="separator"in bt?bt.separator:Ht;It="length"in bt?In(bt.length):It,Nt="omission"in bt?to(bt.omission):Nt}pt=zn(pt);var nr=pt.length;if(na(pt)){var cr=vo(pt);nr=cr.length}if(It>=nr)return pt;var fr=It-ga(Nt);if(fr<1)return Nt;var Sr=cr?jo(cr,0,fr).join(""):pt.slice(0,fr);if(Ht===o)return Sr+Nt;if(cr&&(fr+=Sr.length-fr),bp(Ht)){if(pt.slice(fr).search(Ht)){var Dr,Nr=Sr;for(Ht.global||(Ht=Vu(Ht.source,zn(rs.exec(Ht))+"g")),Ht.lastIndex=0;Dr=Ht.exec(Nr);)var Br=Dr.index;Sr=Sr.slice(0,Br===o?fr:Br)}}else if(pt.indexOf(to(Ht),fr)!=fr){var Zr=Sr.lastIndexOf(Ht);Zr>-1&&(Sr=Sr.slice(0,Zr))}return Sr+Nt}function Ow(pt){return pt=zn(pt),pt&&ln.test(pt)?pt.replace(Ur,uv):pt}var Fw=Sl(function(pt,bt,It){return pt+(It?" ":"")+bt.toUpperCase()}),_p=Cm("toUpperCase");function _y(pt,bt,It){return pt=zn(pt),bt=It?o:bt,bt===o?iv(pt)?fv(pt):Xy(pt):pt.match(bt)||[]}var Ey=Mn(function(pt,bt){try{return Es(pt,o,bt)}catch(It){return xp(It)?It:new En(It)}}),Vw=Io(function(pt,bt){return oo(bt,function(It){It=To(It),$o(pt,It,yp(pt[It],pt))}),pt});function Bw(pt){var bt=pt==null?0:pt.length,It=gn();return pt=bt?Zn(pt,function(Nt){if(typeof Nt[1]!="function")throw new ao(st);return[It(Nt[0]),Nt[1]]}):[],Mn(function(Nt){for(var Ht=-1;++Ht<bt;){var nr=pt[Ht];if(Es(nr[0],this,Nt))return Es(nr[1],this,Nt)}})}function zw(pt){return u0(uo(pt,_))}function Ep(pt){return function(){return pt}}function jw(pt,bt){return pt==null||pt!==pt?bt:pt}var Uw=$m(),Ww=$m(!0);function Xs(pt){return pt}function Tp(pt){return im(typeof pt=="function"?pt:uo(pt,_))}function Hw(pt){return om(uo(pt,_))}function Gw(pt,bt){return am(pt,uo(bt,_))}var Kw=Mn(function(pt,bt){return function(It){return Dl(It,pt,bt)}}),Yw=Mn(function(pt,bt){return function(It){return Dl(pt,It,bt)}});function Cp(pt,bt,It){var Nt=Ts(bt),Ht=cu(bt,Nt);It==null&&!(_i(bt)&&(Ht.length||!Nt.length))&&(It=bt,bt=pt,pt=this,Ht=cu(bt,Ts(bt)));var nr=!(_i(It)&&"chain"in It)||!!It.chain,cr=Mo(pt);return oo(Ht,function(fr){var Sr=bt[fr];pt[fr]=Sr,cr&&(pt.prototype[fr]=function(){var Dr=this.__chain__;if(nr||Dr){var Nr=pt(this.__wrapped__),Br=Nr.__actions__=Gs(this.__actions__);return Br.push({func:Sr,args:arguments,thisArg:pt}),Nr.__chain__=Dr,Nr}return Sr.apply(pt,No([this.value()],arguments))})}),pt}function Xw(){return en._===this&&(en._=vv),this}function kp(){}function qw(pt){return pt=In(pt),Mn(function(bt){return lm(bt,pt)})}var Qw=ip(Zn),Zw=ip(Ip),Jw=ip(Mu);function Ty(pt){return hp(pt)?Lu(To(pt)):C0(pt)}function e_(pt){return function(bt){return pt==null?o:Xo(pt,bt)}}var t_=Im(),r_=Im(!0);function $p(){return[]}function Ap(){return!1}function n_(){return{}}function i_(){return""}function s_(){return!0}function o_(pt,bt){if(pt=In(pt),pt<1||pt>Pt)return[];var It=qt,Nt=Ls(pt,qt);bt=gn(bt),pt-=qt;for(var Ht=Nu(Nt,bt);++It<pt;)bt(It);return Ht}function a_(pt){return Tn(pt)?Zn(pt,To):ro(pt)?[pt]:Gs(Gm(zn(pt)))}function l_(pt){var bt=++gv;return zn(pt)+bt}var u_=gu(function(pt,bt){return pt+bt},0),c_=sp("ceil"),h_=gu(function(pt,bt){return pt/bt},1),f_=sp("floor");function p_(pt){return pt&&pt.length?uu(pt,Xs,Ku):o}function d_(pt,bt){return pt&&pt.length?uu(pt,gn(bt,2),Ku):o}function m_(pt){return Lp(pt,Xs)}function g_(pt,bt){return Lp(pt,gn(bt,2))}function y_(pt){return pt&&pt.length?uu(pt,Xs,Qu):o}function v_(pt,bt){return pt&&pt.length?uu(pt,gn(bt,2),Qu):o}var x_=gu(function(pt,bt){return pt*bt},1),b_=sp("round"),S_=gu(function(pt,bt){return pt-bt},0);function w_(pt){return pt&&pt.length?Du(pt,Xs):0}function __(pt,bt){return pt&&pt.length?Du(pt,gn(bt,2)):0}return Qt.after=U1,Qt.ary=ry,Qt.assign=IS,Qt.assignIn=gy,Qt.assignInWith=Au,Qt.assignWith=RS,Qt.at=LS,Qt.before=ny,Qt.bind=yp,Qt.bindAll=Vw,Qt.bindKey=iy,Qt.castArray=tS,Qt.chain=_g,Qt.chunk=ux,Qt.compact=hx,Qt.concat=fx,Qt.cond=Bw,Qt.conforms=zw,Qt.constant=Ep,Qt.countBy=b1,Qt.create=PS,Qt.curry=sy,Qt.curryRight=oy,Qt.debounce=ay,Qt.defaults=DS,Qt.defaultsDeep=NS,Qt.defer=W1,Qt.delay=H1,Qt.difference=dx,Qt.differenceBy=mx,Qt.differenceWith=gx,Qt.drop=yx,Qt.dropRight=vx,Qt.dropRightWhile=xx,Qt.dropWhile=bx,Qt.fill=Sx,Qt.filter=w1,Qt.flatMap=T1,Qt.flatMapDeep=C1,Qt.flatMapDepth=k1,Qt.flatten=qm,Qt.flattenDeep=wx,Qt.flattenDepth=_x,Qt.flip=G1,Qt.flow=Uw,Qt.flowRight=Ww,Qt.fromPairs=Ex,Qt.functions=US,Qt.functionsIn=WS,Qt.groupBy=$1,Qt.initial=Cx,Qt.intersection=kx,Qt.intersectionBy=$x,Qt.intersectionWith=Ax,Qt.invert=GS,Qt.invertBy=KS,Qt.invokeMap=I1,Qt.iteratee=Tp,Qt.keyBy=R1,Qt.keys=Ts,Qt.keysIn=Ys,Qt.map=_u,Qt.mapKeys=XS,Qt.mapValues=qS,Qt.matches=Hw,Qt.matchesProperty=Gw,Qt.memoize=Tu,Qt.merge=QS,Qt.mergeWith=yy,Qt.method=Kw,Qt.methodOf=Yw,Qt.mixin=Cp,Qt.negate=Cu,Qt.nthArg=qw,Qt.omit=ZS,Qt.omitBy=JS,Qt.once=K1,Qt.orderBy=M1,Qt.over=Qw,Qt.overArgs=Y1,Qt.overEvery=Zw,Qt.overSome=Jw,Qt.partial=vp,Qt.partialRight=ly,Qt.partition=L1,Qt.pick=ew,Qt.pickBy=vy,Qt.property=Ty,Qt.propertyOf=e_,Qt.pull=Lx,Qt.pullAll=Zm,Qt.pullAllBy=Px,Qt.pullAllWith=Dx,Qt.pullAt=Nx,Qt.range=t_,Qt.rangeRight=r_,Qt.rearg=X1,Qt.reject=N1,Qt.remove=Ox,Qt.rest=q1,Qt.reverse=mp,Qt.sampleSize=F1,Qt.set=rw,Qt.setWith=nw,Qt.shuffle=V1,Qt.slice=Fx,Qt.sortBy=j1,Qt.sortedUniq=Hx,Qt.sortedUniqBy=Gx,Qt.split=kw,Qt.spread=Q1,Qt.tail=Kx,Qt.take=Yx,Qt.takeRight=Xx,Qt.takeRightWhile=qx,Qt.takeWhile=Qx,Qt.tap=h1,Qt.throttle=Z1,Qt.thru=wu,Qt.toArray=py,Qt.toPairs=xy,Qt.toPairsIn=by,Qt.toPath=a_,Qt.toPlainObject=my,Qt.transform=iw,Qt.unary=J1,Qt.union=Zx,Qt.unionBy=Jx,Qt.unionWith=_b,Qt.uniq=e1,Qt.uniqBy=t1,Qt.uniqWith=r1,Qt.unset=sw,Qt.unzip=gp,Qt.unzipWith=Jm,Qt.update=ow,Qt.updateWith=aw,Qt.values=El,Qt.valuesIn=lw,Qt.without=n1,Qt.words=_y,Qt.wrap=eS,Qt.xor=i1,Qt.xorBy=s1,Qt.xorWith=o1,Qt.zip=a1,Qt.zipObject=l1,Qt.zipObjectDeep=u1,Qt.zipWith=c1,Qt.entries=xy,Qt.entriesIn=by,Qt.extend=gy,Qt.extendWith=Au,Cp(Qt,Qt),Qt.add=u_,Qt.attempt=Ey,Qt.camelCase=fw,Qt.capitalize=Sy,Qt.ceil=c_,Qt.clamp=uw,Qt.clone=rS,Qt.cloneDeep=iS,Qt.cloneDeepWith=sS,Qt.cloneWith=nS,Qt.conformsTo=oS,Qt.deburr=wy,Qt.defaultTo=jw,Qt.divide=h_,Qt.endsWith=pw,Qt.eq=bo,Qt.escape=dw,Qt.escapeRegExp=mw,Qt.every=S1,Qt.find=_1,Qt.findIndex=Ym,Qt.findKey=OS,Qt.findLast=E1,Qt.findLastIndex=Xm,Qt.findLastKey=FS,Qt.floor=f_,Qt.forEach=ey,Qt.forEachRight=ty,Qt.forIn=VS,Qt.forInRight=BS,Qt.forOwn=zS,Qt.forOwnRight=jS,Qt.get=Sp,Qt.gt=aS,Qt.gte=lS,Qt.has=HS,Qt.hasIn=wp,Qt.head=Qm,Qt.identity=Xs,Qt.includes=A1,Qt.indexOf=Tx,Qt.inRange=cw,Qt.invoke=YS,Qt.isArguments=Zo,Qt.isArray=Tn,Qt.isArrayBuffer=uS,Qt.isArrayLike=Ks,Qt.isArrayLikeObject=ls,Qt.isBoolean=cS,Qt.isBuffer=Uo,Qt.isDate=hS,Qt.isElement=fS,Qt.isEmpty=pS,Qt.isEqual=dS,Qt.isEqualWith=mS,Qt.isError=xp,Qt.isFinite=gS,Qt.isFunction=Mo,Qt.isInteger=uy,Qt.isLength=ku,Qt.isMap=cy,Qt.isMatch=yS,Qt.isMatchWith=vS,Qt.isNaN=xS,Qt.isNative=bS,Qt.isNil=wS,Qt.isNull=SS,Qt.isNumber=hy,Qt.isObject=_i,Qt.isObjectLike=ts,Qt.isPlainObject=zl,Qt.isRegExp=bp,Qt.isSafeInteger=_S,Qt.isSet=fy,Qt.isString=$u,Qt.isSymbol=ro,Qt.isTypedArray=_l,Qt.isUndefined=ES,Qt.isWeakMap=TS,Qt.isWeakSet=CS,Qt.join=Ix,Qt.kebabCase=gw,Qt.last=ho,Qt.lastIndexOf=Rx,Qt.lowerCase=yw,Qt.lowerFirst=xw,Qt.lt=kS,Qt.lte=$S,Qt.max=p_,Qt.maxBy=d_,Qt.mean=m_,Qt.meanBy=g_,Qt.min=y_,Qt.minBy=v_,Qt.stubArray=$p,Qt.stubFalse=Ap,Qt.stubObject=n_,Qt.stubString=i_,Qt.stubTrue=s_,Qt.multiply=x_,Qt.nth=Mx,Qt.noConflict=Xw,Qt.noop=kp,Qt.now=Eu,Qt.pad=bw,Qt.padEnd=Sw,Qt.padStart=ww,Qt.parseInt=_w,Qt.random=hw,Qt.reduce=P1,Qt.reduceRight=D1,Qt.repeat=Ew,Qt.replace=Tw,Qt.result=tw,Qt.round=b_,Qt.runInContext=br,Qt.sample=O1,Qt.size=B1,Qt.snakeCase=Cw,Qt.some=z1,Qt.sortedIndex=Vx,Qt.sortedIndexBy=Bx,Qt.sortedIndexOf=zx,Qt.sortedLastIndex=jx,Qt.sortedLastIndexBy=Ux,Qt.sortedLastIndexOf=Wx,Qt.startCase=$w,Qt.startsWith=Aw,Qt.subtract=S_,Qt.sum=w_,Qt.sumBy=__,Qt.template=Iw,Qt.times=o_,Qt.toFinite=Lo,Qt.toInteger=In,Qt.toLength=dy,Qt.toLower=Rw,Qt.toNumber=fo,Qt.toSafeInteger=AS,Qt.toString=zn,Qt.toUpper=Mw,Qt.trim=Lw,Qt.trimEnd=Pw,Qt.trimStart=Dw,Qt.truncate=Nw,Qt.unescape=Ow,Qt.uniqueId=l_,Qt.upperCase=Fw,Qt.upperFirst=_p,Qt.each=ey,Qt.eachRight=ty,Qt.first=Qm,Cp(Qt,function(){var pt={};return _o(Qt,function(bt,It){Un.call(Qt.prototype,It)||(pt[It]=bt)}),pt}(),{chain:!1}),Qt.VERSION=a,oo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(pt){Qt[pt].placeholder=Qt}),oo(["drop","take"],function(pt,bt){Dn.prototype[pt]=function(It){It=It===o?1:xs(In(It),0);var Nt=this.__filtered__&&!bt?new Dn(this):this.clone();return Nt.__filtered__?Nt.__takeCount__=Ls(It,Nt.__takeCount__):Nt.__views__.push({size:Ls(It,qt),type:pt+(Nt.__dir__<0?"Right":"")}),Nt},Dn.prototype[pt+"Right"]=function(It){return this.reverse()[pt](It).reverse()}}),oo(["filter","map","takeWhile"],function(pt,bt){var It=bt+1,Nt=It==Tt||It==Mt;Dn.prototype[pt]=function(Ht){var nr=this.clone();return nr.__iteratees__.push({iteratee:gn(Ht,3),type:It}),nr.__filtered__=nr.__filtered__||Nt,nr}}),oo(["head","last"],function(pt,bt){var It="take"+(bt?"Right":"");Dn.prototype[pt]=function(){return this[It](1).value()[0]}}),oo(["initial","tail"],function(pt,bt){var It="drop"+(bt?"":"Right");Dn.prototype[pt]=function(){return this.__filtered__?new Dn(this):this[It](1)}}),Dn.prototype.compact=function(){return this.filter(Xs)},Dn.prototype.find=function(pt){return this.filter(pt).head()},Dn.prototype.findLast=function(pt){return this.reverse().find(pt)},Dn.prototype.invokeMap=Mn(function(pt,bt){return typeof pt=="function"?new Dn(this):this.map(function(It){return Dl(It,pt,bt)})}),Dn.prototype.reject=function(pt){return this.filter(Cu(gn(pt)))},Dn.prototype.slice=function(pt,bt){pt=In(pt);var It=this;return It.__filtered__&&(pt>0||bt<0)?new Dn(It):(pt<0?It=It.takeRight(-pt):pt&&(It=It.drop(pt)),bt!==o&&(bt=In(bt),It=bt<0?It.dropRight(-bt):It.take(bt-pt)),It)},Dn.prototype.takeRightWhile=function(pt){return this.reverse().takeWhile(pt).reverse()},Dn.prototype.toArray=function(){return this.take(qt)},_o(Dn.prototype,function(pt,bt){var It=/^(?:filter|find|map|reject)|While$/.test(bt),Nt=/^(?:head|last)$/.test(bt),Ht=Qt[Nt?"take"+(bt=="last"?"Right":""):bt],nr=Nt||/^find/.test(bt);Ht&&(Qt.prototype[bt]=function(){var cr=this.__wrapped__,fr=Nt?[1]:arguments,Sr=cr instanceof Dn,Dr=fr[0],Nr=Sr||Tn(cr),Br=function(Ln){var Nn=Ht.apply(Qt,No([Ln],fr));return Nt&&Zr?Nn[0]:Nn};Nr&&It&&typeof Dr=="function"&&Dr.length!=1&&(Sr=Nr=!1);var Zr=this.__chain__,an=!!this.__actions__.length,xn=nr&&!Zr,Rn=Sr&&!an;if(!nr&&Nr){cr=Rn?cr:new Dn(this);var bn=pt.apply(cr,fr);return bn.__actions__.push({func:wu,args:[Br],thisArg:o}),new lo(bn,Zr)}return xn&&Rn?pt.apply(this,fr):(bn=this.thru(Br),xn?Nt?bn.value()[0]:bn.value():bn)})}),oo(["pop","push","shift","sort","splice","unshift"],function(pt){var bt=Kl[pt],It=/^(?:push|sort|unshift)$/.test(pt)?"tap":"thru",Nt=/^(?:pop|shift)$/.test(pt);Qt.prototype[pt]=function(){var Ht=arguments;if(Nt&&!this.__chain__){var nr=this.value();return bt.apply(Tn(nr)?nr:[],Ht)}return this[It](function(cr){return bt.apply(Tn(cr)?cr:[],Ht)})}}),_o(Dn.prototype,function(pt,bt){var It=Qt[bt];if(It){var Nt=It.name+"";Un.call($a,Nt)||($a[Nt]=[]),$a[Nt].push({name:bt,func:It})}}),$a[mu(o,ht).name]=[{name:"wrapper",func:o}],Dn.prototype.clone=Pv,Dn.prototype.reverse=Dv,Dn.prototype.value=Nv,Qt.prototype.at=f1,Qt.prototype.chain=p1,Qt.prototype.commit=d1,Qt.prototype.next=m1,Qt.prototype.plant=y1,Qt.prototype.reverse=v1,Qt.prototype.toJSON=Qt.prototype.valueOf=Qt.prototype.value=x1,Qt.prototype.first=Qt.prototype.head,$l&&(Qt.prototype[$l]=g1),Qt},xa=pv();Fn?((Fn.exports=xa)._=xa,mn._=xa):en._=xa}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports,moduleLoader={},xmlhttprequestTs_umd={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);(function(i,s){(function(o,a){a(s,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6)})(commonjsGlobal,function(o,a,tt,_e,st,ot,rt,it){/**
 * @license xmlhttprequest-ts
 * MIT license
 */var j=function(){function _(){this.UNSENT=_.UNSENT,this.OPENED=_.OPENED,this.HEADERS_RECEIVED=_.HEADERS_RECEIVED,this.LOADING=_.LOADING,this.DONE=_.DONE,this.disableHeaderCheck=!1,this.readyState=_.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return _.prototype.open=function($,et,nt,at,ct){if(nt===void 0&&(nt=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod($))throw new Error("SecurityError: Request method not allowed");this.settings={method:$,url:et,async:typeof nt!="boolean"?!0:nt,user:at,password:ct},this.setState(this.OPENED)},_.prototype.setDisableHeaderCheck=function($){this.disableHeaderCheck=$},_.prototype.setRequestHeader=function($,et){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!this.isAllowedHttpHeader($)){console.warn('Refused to set unsafe header "'+$+'"');return}if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");$=this.headersLowerCase[$.toLowerCase()]||$,this.headersLowerCase[$.toLowerCase()]=$,this.headers[$]=this.headers[$]?this.headers[$]+", "+et:et},_.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var $="";if(this.response){for(var et in this.response.headers)if(et!=="set-cookie"&&et!=="set-cookie2"){var nt=this.response.headers[et];typeof nt=="string"?$+=et+": "+nt+`\r
`:Array.isArray(nt)?$+=et+": "+nt.join(", ")+`\r
`:$+=et+`:\r
`}}return $.substr(0,$.length-2)},_.prototype.getResponseHeader=function($){if(typeof $=="string"&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[$.toLowerCase()]&&!this.errorFlag){var et=this.response.headers[$.toLowerCase()];if(typeof et=="string")return et;if(Array.isArray(et))return et.join(", ")}return null},_.prototype.getRequestHeader=function($){if(typeof $=="string"&&this.headersLowerCase[$.toLowerCase()])return this.headers[this.headersLowerCase[$.toLowerCase()]]},_.prototype.send=function($){var et=this,nt=this;if(this.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var at=!1,ct=!1,ht=st.parse(this.settings.url),ut;switch(ht.protocol){case"https:":at=!0;case"http:":ut=ht.hostname;break;case"file:":ct=!0;break;case void 0:case null:case"":ut="localhost";break;default:throw new Error("Protocol not supported.")}if(ct){if(this.settings.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)a.readFile(unescape(ht.pathname||"/"),"utf8",function(Pt,Ft){Pt?nt.handleError(Pt):(nt.status=200,nt.responseText=Ft,nt.setState(nt.DONE))});else try{this.responseText=a.readFileSync(unescape(ht.pathname||"/"),"utf8"),this.status=200,this.setState(nt.DONE)}catch(Pt){this.handleError(Pt)}return}var dt=ht.port||(at?443:80),mt=ht.pathname+(ht.search?ht.search:"");for(var gt in this.defaultHeaders)this.headersLowerCase[gt.toLowerCase()]||(this.headers[gt]=this.defaultHeaders[gt]);if(ut&&(this.headers.Host=ut),ht.host&&ht.host[0]==="["&&(this.headers.Host="["+this.headers.Host+"]"),at&&dt===443||dt===80||(this.headers.Host+=":"+ht.port),this.settings.user){typeof this.settings.password>"u"&&(this.settings.password="");var lt=Buffer.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+lt.toString("base64")}this.settings.method==="GET"||this.settings.method==="HEAD"?$=null:$?(this.headers["Content-Length"]=""+(Buffer.isBuffer($)?$.length:Buffer.byteLength($)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):this.settings.method==="POST"&&(this.headers["Content-Length"]="0");var St={host:ut,port:dt,path:mt,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout(function(){et.readyState!==et.DONE&&nt.handleTimeout(new Error("request timed out after "+et.timeout+"ms"))},this.timeout));var xt=at?_e.request:tt.request;this.sendFlag=!0,nt.dispatchEvent("readystatechange");var yt=function(Pt){nt.handleError(Pt)},_t=0,kt=function(Pt){if(nt.response=Pt,nt.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(nt.response.headers.location&&(nt.response.statusCode===301||nt.response.statusCode===302||nt.response.statusCode===303||nt.response.statusCode===307)){if(_t++,_t>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");nt.settings.url=nt.response.headers.location;var Ft=st.parse(nt.settings.url);ut=Ft.hostname,ut&&(nt.headers.Host=ut);var zt={hostname:Ft.hostname,port:Ft.port,path:Ft.path,method:nt.response.statusCode===303?"GET":nt.settings.method,headers:nt.headers,withCredentials:nt.withCredentials};at=ht.protocol==="https:",xt=at?_e.request:tt.request,nt.request=xt(zt,kt).on("error",yt),nt.request.end();return}nt.response.setEncoding("utf8"),nt.setState(nt.HEADERS_RECEIVED),nt.status=nt.response.statusCode||0,nt.response.on("data",function(qt){qt&&(nt.responseText+=qt),nt.sendFlag&&nt.setState(nt.LOADING)}),nt.response.on("end",function(){nt.sendFlag&&(nt.setState(nt.DONE),nt.sendFlag=!1)}),nt.response.on("error",function(qt){nt.handleError(qt)})};nt.request=xt(St,kt).on("error",yt),$&&nt.request.write($),nt.request.end(),nt.dispatchEvent("loadstart")}else{var Et=new Date().getTime(),$t=ot.tmpdir()+rt.sep+"ts-xmlhttprequest-content-"+process.pid,Tt=ot.tmpdir()+rt.sep+"ts-xmlhttprequest-sync-"+process.pid;a.writeFileSync(Tt,"","utf8");var At="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(at?"s":"")+".request;let options = "+JSON.stringify(St)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+$t+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+Tt+"');});response.on('error', function(error) {fs.writeFileSync('"+$t+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Tt+"');});}).on('error', function(error) {fs.writeFileSync('"+$t+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Tt+"');});"+($?"req.write('"+JSON.stringify($).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";nt.dispatchEvent("loadstart"),this.setState(nt.LOADING);var Mt=it.spawn(process.argv[0],["-e",At]);for(Mt.on("exit",function(Pt,Ft){try{a.unlinkSync(Tt)}catch{}try{a.unlinkSync($t)}catch{}});a.existsSync(Tt);)if(this.timeout!==0&&new Date().getTime()>=Et+this.timeout)return Mt.stdin.end(),Mt.kill(),nt.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));Mt.stdin.end(),Mt.kill();var Ot=JSON.parse(a.readFileSync($t,"utf8"));a.unlinkSync($t),Ot.err?nt.handleError(Ot.err):(nt.response=Ot.data,nt.status=Ot.data.statusCode,nt.responseText=Ot.data.text,nt.setState(nt.DONE))}},_.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||this.sendFlag)&&this.readyState!==this.DONE&&(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},_.prototype.addEventListener=function($,et){$ in this.listeners||(this.listeners[$]=[]),this.listeners[$].push(et)},_.prototype.removeEventListener=function($,et){$ in this.listeners&&(this.listeners[$]=this.listeners[$].filter(function(nt){return nt!==et}))},_.prototype.dispatchEvent=function($,et){var nt="on"+$;if(typeof this[nt]=="function"&&this[nt](et),$ in this.listeners)for(var at=0,ct=this.listeners[$].length;at<ct;at++)this.listeners[$][at].call(this,et)},_.prototype.setState=function($){($===this.LOADING||this.readyState!==$)&&(this.readyState=$,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},_.prototype.handleTimeout=function($){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",$),this.setState(this.DONE)},_.prototype.handleError=function($){this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("error",$),this.setState(this.DONE)},_.prototype.isAllowedHttpHeader=function($){return(this.disableHeaderCheck||$&&this.forbiddenRequestHeaders.indexOf($.toLowerCase())===-1)===!0},_.prototype.isAllowedHttpMethod=function($){return($&&this.forbiddenRequestMethods.indexOf($)===-1)===!0},_.UNSENT=0,_.OPENED=1,_.HEADERS_RECEIVED=2,_.LOADING=3,_.DONE=4,_}();o.XMLHttpRequest=j,Object.defineProperty(o,"__esModule",{value:!0})})})(xmlhttprequestTs_umd,xmlhttprequestTs_umd.exports);var xmlhttprequestTs_umdExports=xmlhttprequestTs_umd.exports,moduleErrors={};Object.defineProperty(moduleErrors,"__esModule",{value:!0});moduleErrors.ModuleInternalError=moduleErrors.ModuleNotFoundError=moduleErrors.ModuleConnectionError=void 0;const runtimeSourceError_1=runtimeSourceError;class ModuleConnectionError extends runtimeSourceError_1.RuntimeSourceError{constructor(s){super(s)}explain(){return ModuleConnectionError.message}elaborate(){return ModuleConnectionError.elaboration}}moduleErrors.ModuleConnectionError=ModuleConnectionError;ModuleConnectionError.message="Unable to get modules.";ModuleConnectionError.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";class ModuleNotFoundError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,o){super(o),this.moduleName=s}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return`
      You should check your import declarations, and ensure that all are valid modules.
    `}}moduleErrors.ModuleNotFoundError=ModuleNotFoundError;class ModuleInternalError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,o){super(o),this.moduleName=s}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return`
      You may need to contact with the author for this module to fix this error.
    `}}moduleErrors.ModuleInternalError=ModuleInternalError;(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadModuleDocs=exports.memoizedloadModuleDocs=exports.loadModuleTabs=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;const lodash_1=lodashExports,xmlhttprequest_ts_1=xmlhttprequestTs_umdExports,moduleErrors_1=moduleErrors,newHttpRequest=()=>typeof window>"u"?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules";function setModulesStaticURL(i){exports.MODULES_STATIC_URL=i}exports.setModulesStaticURL=setModulesStaticURL;function httpGet(i){const s=(0,exports.newHttpRequest)();try{typeof window>"u"&&(s.timeout=1e4),s.open("GET",i,!1),s.send(null)}catch(o){if(!(o instanceof DOMException))throw o}if(s.status!==200&&s.status!==304)throw new moduleErrors_1.ModuleConnectionError;return s.responseText}exports.httpGet=httpGet,exports.memoizedGetModuleManifest=(0,lodash_1.memoize)(getModuleManifest);function getModuleManifest(){const i=httpGet(`${exports.MODULES_STATIC_URL}/modules.json`);return JSON.parse(i)}const memoizedGetModuleFileInternal=(0,lodash_1.memoize)(getModuleFile),memoizedGetModuleFile=(i,s)=>memoizedGetModuleFileInternal({name:i,type:s});exports.memoizedGetModuleFile=memoizedGetModuleFile;function getModuleFile({name:i,type:s}){return httpGet(`${exports.MODULES_STATIC_URL}/${s}s/${i}.js${s==="json"?"on":""}`)}function loadModuleBundle(path,context,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=(0,exports.memoizedGetModuleFile)(path,"bundle");try{const moduleBundle=eval(moduleText);return moduleBundle({context})}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}}exports.loadModuleBundle=loadModuleBundle;function loadModuleTabs(path,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map(path=>{const rawTabFile=(0,exports.memoizedGetModuleFile)(path,"tab");try{return eval(rawTabFile)}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}})}exports.loadModuleTabs=loadModuleTabs,exports.memoizedloadModuleDocs=(0,lodash_1.memoize)(loadModuleDocs);function loadModuleDocs(i,s){try{const o=(0,exports.memoizedGetModuleManifest)();if(!Object.keys(o).includes(i))throw new moduleErrors_1.ModuleNotFoundError(i,s);const tt=getModuleFile({name:i,type:"json"});return JSON.parse(tt)}catch{return console.warn("Failed to load module documentation"),null}}exports.loadModuleDocs=loadModuleDocs})(moduleLoader);var inspector={};Object.defineProperty(inspector,"__esModule",{value:!0});inspector.areBreakpointsSet=inspector.checkEditorBreakpoints=inspector.manualToggleDebugger=inspector.setBreakpointAtLine=inspector.saveState=void 0;const saveState=(i,s,o)=>{i.debugger.state.it=s,i.debugger.state.scheduler=o};inspector.saveState=saveState;const setBreakpointAtLine=i=>{breakpoints=i};inspector.setBreakpointAtLine=setBreakpointAtLine;const manualToggleDebugger=i=>(i.runtime.break=!0,{status:"suspended",scheduler:i.debugger.state.scheduler,it:i.debugger.state.it,context:i});inspector.manualToggleDebugger=manualToggleDebugger;let breakpoints=[],moved=!0,prevStoppedLine=-1;const checkEditorBreakpoints=(i,s)=>{if(s.loc){const o=s.loc.start.line-1;!moved&&o!==prevStoppedLine&&(moved=!0),i.runtime.debuggerOn&&breakpoints[o]!==void 0&&moved&&(moved=!1,prevStoppedLine=o,i.runtime.break=!0)}};inspector.checkEditorBreakpoints=checkEditorBreakpoints;const areBreakpointsSet=()=>breakpoints.length>0;inspector.areBreakpointsSet=areBreakpointsSet;var operators={},timeoutErrors={},formatters={};Object.defineProperty(formatters,"__esModule",{value:!0});formatters.simplify=formatters.stripIndent=formatters.oneLine=void 0;function templateToString(i,s){return typeof i=="string"?i:s.reduce((o,a,tt)=>o+a+i[tt+1],i[0])}function oneLine(i,...s){return templateToString(i,s).replace(/(?:\n(?:\s*))+/g," ").trim()}formatters.oneLine=oneLine;function stripIndent(i,...s){const o=templateToString(i,s),a=o.match(/^[^\S\n]*(?=\S)/gm),tt=a&&Math.min(...a.map(_e=>_e.length));return tt?o.replace(new RegExp(`^.{${tt}}`,"gm"),"").trim():o.trim()}formatters.stripIndent=stripIndent;function simplify(i,s=15,o="..."){if(i.length<s)return i;const a=Math.ceil(s-o.length/2);return i.slice(0,a)+" ... "+i.slice(a)}formatters.simplify=simplify;var hasRequiredTimeoutErrors;function requireTimeoutErrors(){if(hasRequiredTimeoutErrors)return timeoutErrors;hasRequiredTimeoutErrors=1,Object.defineProperty(timeoutErrors,"__esModule",{value:!0}),timeoutErrors.PotentialInfiniteRecursionError=timeoutErrors.PotentialInfiniteLoopError=timeoutErrors.TimeoutError=void 0;const i=constants,s=types,o=formatters,a=requireStringify(),tt=runtimeSourceError;function _e(it){const j=it/1e3,_=j*i.JSSLANG_PROPERTIES.factorToIncreaseBy;return(0,o.stripIndent)`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${j} to ${_} seconds.
      This page may be unresponsive for up to ${_} seconds if you do so.`}class st extends tt.RuntimeSourceError{}timeoutErrors.TimeoutError=st;class ot extends st{constructor(j,_){super(j),this.maxExecTime=_,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return(0,o.stripIndent)`${"Potential infinite loop detected"}.
    ${_e(this.maxExecTime)}`}elaborate(){return this.explain()}}timeoutErrors.PotentialInfiniteLoopError=ot;class rt extends st{constructor(j,_,$){super(j),this.calls=_,this.maxExecTime=$,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const j=this.calls.map(([_,$])=>`${_}(${$.map(et=>(0,a.stringify)(et)).join(", ")})`);return(0,o.stripIndent)`${"Potential infinite recursion detected"}: ${j.join(" ... ")}.
      ${_e(this.maxExecTime)}`}elaborate(){return this.explain()}}return timeoutErrors.PotentialInfiniteRecursionError=rt,timeoutErrors}var makeWrapper$1={};Object.defineProperty(makeWrapper$1,"__esModule",{value:!0});makeWrapper$1.makeWrapper=void 0;function makeWrapper(i,s){for(const o in i)i.hasOwnProperty(o)&&Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o));for(const o of["length","name"])i.hasOwnProperty(o)&&Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o))}makeWrapper$1.makeWrapper=makeWrapper;var hasRequiredOperators;function requireOperators(){return hasRequiredOperators||(hasRequiredOperators=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.getProp=i.setProp=i.wrap=i.callIteratively=i.evaluateBinaryExpression=i.binaryOp=i.evaluateUnaryExpression=i.unaryOp=i.boolOrErr=i.callIfFuncAndRightArgs=i.makeLazyFunction=i.wrapLazyCallee=i.delayIt=i.forceIt=i.throwIfTimeout=void 0;const s=requireCreateContext(),o=requireErrors(),a=runtimeSourceError,tt=requireTimeoutErrors(),_e=astCreator,st=astCreator,ot=makeWrapper$1,rt=rttc;function it(xt,yt,_t,kt,Et){if(_t-yt>xt.maxExecTime)throw new tt.PotentialInfiniteLoopError(st.locationDummyNode(kt,Et),xt.maxExecTime)}i.throwIfTimeout=it;function j(xt){if(xt!=null&&xt.isMemoized!==void 0){if(xt.isMemoized)return xt.memoizedValue;const yt=j(xt.f());return xt.isMemoized=!0,xt.memoizedValue=yt,yt}else return xt}i.forceIt=j;function _(xt){return{isMemoized:!1,value:void 0,f:xt}}i.delayIt=_;function $(xt){if(xt=j(xt),typeof xt=="function"){const yt=(..._t)=>xt(..._t.map(j));return(0,ot.makeWrapper)(xt,yt),yt[Symbol.toStringTag]=()=>xt.toString(),yt.toString=()=>xt.toString(),yt}else if(xt instanceof s.LazyBuiltIn)if(xt.evaluateArgs){const yt=(..._t)=>xt.func(..._t.map(j));return(0,ot.makeWrapper)(xt.func,yt),yt[Symbol.toStringTag]=()=>xt.toString(),yt.toString=()=>xt.toString(),yt}else return xt;return xt}i.wrapLazyCallee=$;function et(xt){return new s.LazyBuiltIn(xt,!1)}i.makeLazyFunction=et;function nt(xt,yt,_t,...kt){const Et=st.callExpression(st.locationDummyNode(yt,_t),kt,{start:{line:yt,column:_t},end:{line:yt,column:_t}});if(typeof xt=="function"){const $t=xt;xt.transformedFunction!==void 0&&(xt=xt.transformedFunction);const Tt=xt.length,At=kt.length,Mt=xt.minArgsNeeded!==void 0;if(Mt?xt.minArgsNeeded>At:Tt!==At)throw new o.InvalidNumberOfArguments(Et,Mt?xt.minArgsNeeded:Tt,At,Mt);try{const Ot=kt.map(j);return $t(...Ot)}catch(Ot){throw Ot instanceof a.RuntimeSourceError||Ot instanceof o.ExceptionError?Ot:new o.ExceptionError(Ot,Et.loc)}}else if(xt instanceof s.LazyBuiltIn)try{return xt.evaluateArgs&&(kt=kt.map(j)),xt.func(...kt)}catch($t){throw $t instanceof a.RuntimeSourceError||$t instanceof o.ExceptionError?$t:new o.ExceptionError($t,Et.loc)}else throw new o.CallingNonFunctionValue(xt,Et)}i.callIfFuncAndRightArgs=nt;function at(xt,yt,_t){xt=j(xt);const kt=rt.checkIfStatement(st.locationDummyNode(yt,_t),xt);if(kt===void 0)return xt;throw kt}i.boolOrErr=at;function ct(xt,yt,_t,kt){yt=j(yt);const Et=rt.checkUnaryExpression(st.locationDummyNode(_t,kt),xt,yt);if(Et===void 0)return ht(xt,yt);throw Et}i.unaryOp=ct;function ht(xt,yt){return xt==="!"?!yt:xt==="-"?-yt:+yt}i.evaluateUnaryExpression=ht;function ut(xt,yt,_t,kt,Et,$t){_t=j(_t),kt=j(kt);const Tt=rt.checkBinaryExpression(st.locationDummyNode(Et,$t),xt,yt,_t,kt);if(Tt===void 0)return dt(xt,_t,kt);throw Tt}i.binaryOp=ut;function dt(xt,yt,_t){switch(xt){case"+":return yt+_t;case"-":return yt-_t;case"*":return yt*_t;case"/":return yt/_t;case"%":return yt%_t;case"===":return yt===_t;case"!==":return yt!==_t;case"<=":return yt<=_t;case"<":return yt<_t;case">":return yt>_t;case">=":return yt>=_t;default:return}}i.evaluateBinaryExpression=dt;const mt=(xt,yt,..._t)=>{let kt=-1,Et=-1;const $t=Date.now(),Tt=[];for(;;){const At=(0,_e.locationDummyNode)(kt,Et);if(xt=j(xt),typeof xt=="function"){xt.transformedFunction!==void 0&&(xt=xt.transformedFunction);const Ot=xt.length,Pt=_t.length,Ft=xt.minArgsNeeded!==void 0;if(Ft?xt.minArgsNeeded>Pt:Ot!==Pt)throw new o.InvalidNumberOfArguments((0,_e.callExpression)(At,_t,{start:{line:kt,column:Et},end:{line:kt,column:Et}}),Ft?xt.minArgsNeeded:Ot,Pt,Ft)}else if(xt instanceof s.LazyBuiltIn)xt.evaluateArgs&&(_t=_t.map(j)),xt=xt.func;else throw new o.CallingNonFunctionValue(xt,At);let Mt;try{if(Mt=xt(..._t),Date.now()-$t>yt.maxExecTime)throw new tt.PotentialInfiniteRecursionError(At,Tt,yt.maxExecTime)}catch(Ot){throw Ot instanceof a.RuntimeSourceError||Ot instanceof o.ExceptionError?Ot:new o.ExceptionError(Ot,At.loc)}if(Mt==null)return Mt;if(Mt.isTail===!0)xt=Mt.function,_t=Mt.arguments,kt=Mt.line,Et=Mt.column,Tt.push([Mt.functionName,_t]);else return Mt.isTail===!1?Mt.value:Mt}};i.callIteratively=mt;const gt=(xt,yt,_t,kt)=>{_t&&(xt.minArgsNeeded=xt.length);const Et=(...$t)=>(0,i.callIteratively)(xt,kt,...$t);return(0,ot.makeWrapper)(xt,Et),Et.transformedFunction=xt,Et[Symbol.toStringTag]=()=>yt,Et.toString=()=>yt,Et};i.wrap=gt;const lt=(xt,yt,_t,kt,Et)=>{const $t=(0,_e.locationDummyNode)(kt,Et),Tt=rt.checkMemberAccess($t,xt,yt);if(Tt===void 0)return xt[yt]=_t;throw Tt};i.setProp=lt;const St=(xt,yt,_t,kt)=>{const Et=(0,_e.locationDummyNode)(_t,kt),$t=rt.checkMemberAccess(Et,xt,yt);if($t===void 0){if(xt[yt]!==void 0&&!xt.hasOwnProperty(yt))throw new o.GetInheritedPropertyError(Et,xt,yt);return xt[yt]}else throw $t};i.getProp=St}(operators)),operators}var hasRequiredInterpreter;function requireInterpreter(){return hasRequiredInterpreter||(hasRequiredInterpreter=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.apply=i.evaluate=i.evaluators=i.pushEnvironment=i.createBlockEnvironment=i.actualValue=void 0;const s=lodashExports,o=constants,a=requireCreateContext(),tt=requireErrors(),_e=runtimeSourceError,st=moduleLoader,ot=inspector,rt=types,it=astCreator,j=requireOperators(),_=rttc,$=requireClosure();class et{}class nt{}class at{constructor(sr){this.value=sr}}class ct{constructor(sr,er,Tr){this.callee=sr,this.args=er,this.node=Tr}}class ht{constructor(sr,er){this.exp=sr,this.env=er,this.isMemoized=!1,this.value=null}}const ut=(ir,sr)=>new ht(ir,sr);function*dt(ir,sr){if(ir instanceof ht){if(ir.isMemoized)return ir.value;(0,i.pushEnvironment)(sr,ir.env);const er=yield*mt(ir.exp,sr);return Pt(sr),ir.value=er,ir.isMemoized=!0,er}else return ir}function*mt(ir,sr){const er=yield*xr(ir,sr);return yield*dt(er,sr)}i.actualValue=mt;const gt=(ir,sr,er)=>{const Tr={name:ir.functionName,tail:ir.environment,head:{},id:(0,s.uniqueId)()};return er&&(Tr.callExpression=Object.assign(Object.assign({},er),{arguments:sr.map(it.primitive)})),ir.node.params.forEach((Cr,dr)=>{Cr.type==="RestElement"?Tr.head[Cr.argument.name]=sr.slice(dr):Tr.head[Cr.name]=sr[dr]}),Tr},lt=(ir,sr="blockEnvironment",er={})=>({name:sr,tail:Mt(ir),head:er,id:(0,s.uniqueId)()});i.createBlockEnvironment=lt;const St=(ir,sr)=>{throw ir.errors.push(sr),ir.runtime.environments=ir.runtime.environments.slice(-ir.numberOfOuterEnvironments),sr},xt=Symbol("Used to implement hoisting");function yt(ir,sr,er){const Tr=Mt(ir);if(Tr.head.hasOwnProperty(sr)){const Cr=Object.getOwnPropertyDescriptors(Tr.head);return St(ir,new tt.VariableRedeclaration(er,sr,Cr[sr].writable))}return Tr.head[sr]=xt,Tr}function _t(ir,sr){for(const er of sr.declarations)yt(ir,er.id.name,sr)}function kt(ir,sr){for(const er of sr.specifiers)yt(ir,er.local.name,sr)}function Et(ir,sr){for(const er of sr.body)switch(er.type){case"VariableDeclaration":_t(ir,er);break;case"FunctionDeclaration":yt(ir,er.id.name,er);break}}function $t(ir,sr,er,Tr=!1){const Cr=Mt(ir);return Cr.head[sr]!==xt?St(ir,new tt.VariableRedeclaration(ir.runtime.nodes[0],sr,!Tr)):(Object.defineProperty(Cr.head,sr,{value:er,writable:!Tr,enumerable:!0}),Cr)}function*Tt(ir,sr){(0,ot.checkEditorBreakpoints)(ir,sr),ir.runtime.nodes.unshift(sr),yield ir}function*At(ir){ir.runtime.break=!1,ir.runtime.nodes.shift(),yield ir}const Mt=ir=>ir.runtime.environments[0],Ot=(ir,sr)=>{ir.runtime.environments[0]=sr,ir.runtime.environmentTree.insert(sr)},Pt=ir=>ir.runtime.environments.shift(),Ft=(ir,sr)=>{ir.runtime.environments.unshift(sr),ir.runtime.environmentTree.insert(sr)};i.pushEnvironment=Ft;const zt=(ir,sr)=>{let er=Mt(ir);for(;er;){if(er.head.hasOwnProperty(sr))return er.head[sr]===xt?St(ir,new tt.UnassignedVariable(sr,ir.runtime.nodes[0])):er.head[sr];er=er.tail}return St(ir,new tt.UndefinedVariable(sr,ir.runtime.nodes[0]))},qt=(ir,sr,er)=>{let Tr=Mt(ir);for(;Tr;)if(Tr.head.hasOwnProperty(sr)){if(Tr.head[sr]===xt)break;if(Object.getOwnPropertyDescriptors(Tr.head)[sr].writable){Tr.head[sr]=er;return}return St(ir,new tt.ConstAssignment(ir.runtime.nodes[0],sr))}else Tr=Tr.tail;return St(ir,new tt.UndefinedVariable(sr,ir.runtime.nodes[0]))},Gt=(ir,sr,er,Tr)=>{var Cr;if(sr instanceof $.default){const dr=sr.node.params,Wr=((Cr=dr[dr.length-1])===null||Cr===void 0?void 0:Cr.type)==="RestElement";if(Wr?dr.length-1>er.length:dr.length!==er.length)return St(ir,new tt.InvalidNumberOfArguments(Tr,Wr?dr.length-1:dr.length,er.length,Wr))}else{const dr=sr.minArgsNeeded!=null;if(dr?sr.minArgsNeeded>er.length:sr.length!==er.length)return St(ir,new tt.InvalidNumberOfArguments(Tr,dr?sr.minArgsNeeded:sr.length,er.length,dr))}};function*Wt(ir,sr){const er=[];for(const Tr of sr.arguments)ir.variant===rt.Variant.LAZY?er.push(ut(Tr,Mt(ir))):Tr.type==="SpreadElement"?er.push(...yield*mt(Tr.argument,ir)):er.push(yield*mt(Tr,ir));return er}function Xt(ir){return ir.operator==="&&"?(0,it.conditionalExpression)(ir.left,ir.right,(0,it.literal)(!1),ir.loc):(0,it.conditionalExpression)(ir.left,(0,it.literal)(!0),ir.right,ir.loc)}function*rr(ir,sr){const er=yield*mt(ir.test,sr),Tr=_.checkIfStatement(ir,er,sr.chapter);return Tr?St(sr,Tr):er?ir.consequent:ir.alternate}function*tr(ir,sr){Et(ir,sr);let er;for(const Tr of sr.body)if(er=yield*xr(Tr,ir),er instanceof at||er instanceof ct||er instanceof et||er instanceof nt)break;return er}i.evaluators={Literal:function*(ir,sr){return ir.value},TemplateLiteral:function*(ir){return ir.quasis[0].value.cooked},ThisExpression:function*(ir,sr){return Mt(sr).thisContext},ArrayExpression:function*(ir,sr){const er=[];for(const Tr of ir.elements)er.push(yield*xr(Tr,sr));return er},DebuggerStatement:function*(ir,sr){sr.runtime.break=!0,yield},FunctionExpression:function*(ir,sr){return new $.default(ir,Mt(sr),sr)},ArrowFunctionExpression:function*(ir,sr){return $.default.makeFromArrowFunction(ir,Mt(sr),sr)},Identifier:function*(ir,sr){return zt(sr,ir.name)},CallExpression:function*(ir,sr){const er=yield*mt(ir.callee,sr),Tr=yield*Wt(sr,ir);let Cr;return ir.callee.type==="MemberExpression"&&(Cr=yield*mt(ir.callee.object,sr)),yield*vr(sr,er,Tr,ir,Cr)},NewExpression:function*(ir,sr){const er=yield*xr(ir.callee,sr),Tr=[];for(const dr of ir.arguments)Tr.push(yield*xr(dr,sr));const Cr={};return er instanceof $.default?(Cr.__proto__=er.fun.prototype,er.fun.apply(Cr,Tr)):(Cr.__proto__=er.prototype,er.apply(Cr,Tr)),Cr},UnaryExpression:function*(ir,sr){const er=yield*mt(ir.argument,sr),Tr=_.checkUnaryExpression(ir,ir.operator,er,sr.chapter);return Tr?St(sr,Tr):(0,j.evaluateUnaryExpression)(ir.operator,er)},BinaryExpression:function*(ir,sr){const er=yield*mt(ir.left,sr),Tr=yield*mt(ir.right,sr),Cr=_.checkBinaryExpression(ir,ir.operator,sr.chapter,er,Tr);return Cr?St(sr,Cr):(0,j.evaluateBinaryExpression)(ir.operator,er,Tr)},ConditionalExpression:function*(ir,sr){return yield*this.IfStatement(ir,sr)},LogicalExpression:function*(ir,sr){return yield*this.ConditionalExpression(Xt(ir),sr)},VariableDeclaration:function*(ir,sr){const er=ir.declarations[0],Tr=ir.kind==="const",Cr=er.id,dr=yield*xr(er.init,sr);$t(sr,Cr.name,dr,Tr)},ContinueStatement:function*(ir,sr){return new nt},BreakStatement:function*(ir,sr){return new et},ForStatement:function*(ir,sr){const er=(0,i.createBlockEnvironment)(sr,"forLoopEnvironment");(0,i.pushEnvironment)(sr,er);const Tr=ir.init,Cr=ir.test,dr=ir.update;Tr.type==="VariableDeclaration"&&_t(sr,Tr),yield*mt(Tr,sr);let Wr;for(;yield*mt(Cr,sr);){const Jr=(0,i.createBlockEnvironment)(sr,"forBlockEnvironment");(0,i.pushEnvironment)(sr,Jr);for(const nn in er.head)er.head.hasOwnProperty(nn)&&(yt(sr,nn,ir),$t(sr,nn,er.head[nn],!0));if(Wr=yield*mt(ir.body,sr),Pt(sr),Wr instanceof nt&&(Wr=void 0),Wr instanceof et){Wr=void 0;break}if(Wr instanceof at||Wr instanceof ct)break;yield*mt(dr,sr)}return Pt(sr),Wr},MemberExpression:function*(ir,sr){let er=yield*mt(ir.object,sr);er instanceof $.default&&(er=er.fun);let Tr;ir.computed?Tr=yield*mt(ir.property,sr):Tr=ir.property.name;const Cr=_.checkMemberAccess(ir,er,Tr);if(Cr)return St(sr,Cr);if(er!=null&&typeof er[Tr]<"u"&&!er.hasOwnProperty(Tr))return St(sr,new tt.GetInheritedPropertyError(ir,er,Tr));try{return er[Tr]}catch{return St(sr,new tt.GetPropertyError(ir,er,Tr))}},AssignmentExpression:function*(ir,sr){if(ir.left.type==="MemberExpression"){const Cr=ir.left,dr=yield*mt(Cr.object,sr);let Wr;Cr.computed?Wr=yield*mt(Cr.property,sr):Wr=Cr.property.name;const Jr=_.checkMemberAccess(ir,dr,Wr);if(Jr)return St(sr,Jr);const nn=yield*xr(ir.right,sr);try{dr[Wr]=nn}catch{return St(sr,new tt.SetPropertyError(ir,dr,Wr))}return nn}const er=ir.left,Tr=yield*xr(ir.right,sr);return qt(sr,er.name,Tr),Tr},FunctionDeclaration:function*(ir,sr){const er=ir.id,Tr=new $.default(ir,Mt(sr),sr);$t(sr,er.name,Tr,!0)},IfStatement:function*(ir,sr){const er=yield*rr(ir,sr);if(er!==null)return yield*xr(er,sr)},ExpressionStatement:function*(ir,sr){return yield*xr(ir.expression,sr)},ReturnStatement:function*(ir,sr){let er=ir.argument;for(;er.type==="LogicalExpression"||er.type==="ConditionalExpression";)er.type==="LogicalExpression"&&(er=Xt(er)),er=yield*rr(er,sr);if(er.type==="CallExpression"&&sr.variant!==rt.Variant.LAZY){const Tr=yield*mt(er.callee,sr),Cr=yield*Wt(sr,er);return new ct(Tr,Cr,er)}else return new at(yield*xr(er,sr))},WhileStatement:function*(ir,sr){let er;for(;(yield*mt(ir.test,sr))&&!(er instanceof at)&&!(er instanceof et)&&!(er instanceof ct);)er=yield*mt(ir.body,sr);if(!(er instanceof et))return er},ObjectExpression:function*(ir,sr){const er={};for(const Tr of ir.properties){const Cr=Tr;let dr;Cr.key.type==="Identifier"?dr=Cr.key.name:dr=yield*xr(Cr.key,sr),er[dr]=yield*xr(Cr.value,sr)}return er},BlockStatement:function*(ir,sr){const er=(0,i.createBlockEnvironment)(sr,"blockEnvironment");(0,i.pushEnvironment)(sr,er);const Tr=yield*tr(sr,ir);return Pt(sr),Tr},ImportDeclaration:function*(ir,sr){try{const er=ir.source.value,Tr=ir.specifiers.map(dr=>{if(dr.type!=="ImportSpecifier")throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${dr.type}.`);return{imported:dr.imported.name,local:dr.local.name}});er in sr.moduleContexts||(sr.moduleContexts[er]={state:null,tabs:(0,st.loadModuleTabs)(er,ir)});const Cr=(0,st.loadModuleBundle)(er,sr,ir);kt(sr,ir);for(const dr of Tr)$t(sr,dr.local,Cr[dr.imported],!0);return}catch(er){return St(sr,er)}},Program:function*(ir,sr){sr.numberOfOuterEnvironments+=1;const er=(0,i.createBlockEnvironment)(sr,"programEnvironment");return(0,i.pushEnvironment)(sr,er),yield*dt(yield*tr(sr,ir),sr)}};function mr(ir){return(0,s.isEmpty)(ir.head)}function yr(ir){if(mr(ir)){const sr=ir.tail;return sr===null?ir:yr(sr)}else return ir}function*xr(ir,sr){yield*Tt(sr,ir);const er=yield*i.evaluators[ir.type](ir,sr);return yield*At(sr),er instanceof $.default&&Object.defineProperty(yr(Mt(sr)).head,(0,s.uniqueId)(),{value:er,writable:!1,enumerable:!0}),er}i.evaluate=xr;function*vr(ir,sr,er,Tr,Cr){let dr,Wr=0;for(;!(dr instanceof at);)if(sr instanceof $.default){Gt(ir,sr,er,Tr);const Jr=gt(sr,er,Tr);dr instanceof ct?Ot(ir,Jr):((0,i.pushEnvironment)(ir,Jr),Wr++);const nn=(0,i.createBlockEnvironment)(ir,"functionBodyEnvironment");nn.thisContext=Cr,(0,i.pushEnvironment)(ir,nn),dr=yield*tr(ir,sr.node.body),Pt(ir),dr instanceof ct?(sr=dr.callee,Tr=dr.node,er=dr.args):dr instanceof at||(dr=new at(void 0))}else if(sr instanceof a.LazyBuiltIn)try{let Jr=er;if(sr.evaluateArgs){Jr=[];for(const nn of er)Jr.push(yield*dt(nn,ir))}dr=sr.func.apply(Cr,Jr);break}catch(Jr){ir.runtime.environments=ir.runtime.environments.slice(-ir.numberOfOuterEnvironments);const nn=Tr?Tr.loc:o.UNKNOWN_LOCATION;if(!(Jr instanceof _e.RuntimeSourceError||Jr instanceof tt.ExceptionError))return St(ir,new tt.ExceptionError(Jr,nn));throw dr=void 0,Jr}else if(typeof sr=="function"){Gt(ir,sr,er,Tr);try{const Jr=[];for(const nn of er)Jr.push(yield*dt(nn,ir));dr=sr.apply(Cr,Jr);break}catch(Jr){ir.runtime.environments=ir.runtime.environments.slice(-ir.numberOfOuterEnvironments);const nn=Tr?Tr.loc:o.UNKNOWN_LOCATION;if(!(Jr instanceof _e.RuntimeSourceError||Jr instanceof tt.ExceptionError))return St(ir,new tt.ExceptionError(Jr,nn));throw dr=void 0,Jr}}else return St(ir,new tt.CallingNonFunctionValue(sr,Tr));dr instanceof at&&(dr=dr.value);for(let Jr=1;Jr<=Wr;Jr++)Pt(ir);return dr}i.apply=vr}(interpreter)),interpreter}var hasRequiredClosure;function requireClosure(){if(hasRequiredClosure)return closure;hasRequiredClosure=1,Object.defineProperty(closure,"__esModule",{value:!0});const i=astring,s=astCreator,o=requireInterpreter(),a=(st,ot,rt)=>{function it(){const j=Array.prototype.slice.call(arguments),_=(0,o.apply)(ot,st,j,(0,s.callExpression)((0,s.identifier)(rt),j),this);let $=_.next();for(;!$.done;)$=_.next();return $.value}return Object.defineProperty(it,"name",{value:rt}),Object.setPrototypeOf(it,()=>{}),Object.defineProperty(it,"Inherits",{value:j=>{it.prototype=Object.create(j.prototype),it.prototype.constructor=it}}),it.toString=()=>(0,i.generate)(st.originalNode),it.call=(j,..._)=>it.apply(j,_),it};class tt extends Function{constructor(ot){return super(),Object.setPrototypeOf(ot,new.target.prototype)}}class _e extends tt{constructor(ot,rt,it){super(function(..._){return j.apply(this,_)}),this.node=ot,this.environment=rt,this.originalNode=ot,this.node.type==="FunctionDeclaration"&&this.node.id!==null?this.functionName=this.node.id.name:this.functionName=(this.node.params.length===1?"":"(")+this.node.params.map(_=>_.name).join(", ")+(this.node.params.length===1?"":")")+" => ...";const j=a(this,it,this.functionName);this.fun=j}static makeFromArrowFunction(ot,rt,it){function j(et){return et.type!=="BlockStatement"}const _=j(ot.body)?[(0,s.returnStatement)(ot.body,ot.body.loc)]:ot.body,$=new _e((0,s.blockArrowFunction)(ot.params,_,ot.loc),rt,it);return $.originalNode=ot,$}toString(){return(0,i.generate)(this.originalNode)}}return closure.default=_e,closure}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1,Object.defineProperty(stringify$1,"__esModule",{value:!0}),stringify$1.lineTreeToString=stringify$1.stringDagToSingleLine=stringify$1.stringDagToLineTree=stringify$1.valueToStringDag=stringify$1.typeToString=stringify$1.stringify=void 0;const i=constants,s=requireClosure(),o=requireOperators();function a(_){return typeof _.replPrefix=="string"&&typeof _.replSuffix=="string"&&typeof _.replArrayContents=="function"}const tt=(_,$=2,et=80)=>{if(_=(0,o.forceIt)(_),typeof $=="string")throw"stringify with arbitrary indent string not supported";let nt=$;return $>10&&(nt=10),j(rt(ot(_),nt,et))};stringify$1.stringify=tt;function _e(_){return st(_)}stringify$1.typeToString=_e;function st(_,$={_next:0}){function et(nt){return st(nt,$)}switch(_.kind){case"primitive":return _.name;case"variable":return _.constraint&&_.constraint!=="none"?_.constraint:(_.name in $||($[_.name]="T"+$._next++),$[_.name]);case"list":return`List<${et(_.elementType)}>`;case"array":return`Array<${et(_.elementType)}>`;case"pair":const nt=et(_.headType);return _.tailType.kind==="list"&&nt===et(_.tailType.elementType)?`List<${nt}>`:`[${et(_.headType)}, ${et(_.tailType)}]`;case"function":let at=_.parameterTypes.map(et).join(", ");return(_.parameterTypes.length!==1||_.parameterTypes[0].kind==="function")&&(at=`(${at})`),`${at} -> ${et(_.returnType)}`;default:return"Unable to infer type"}}function ot(_){const $=new Map,et=new Map;function nt(dt){const mt=et.get(dt);if(mt!==void 0)return[mt,!1];$.set(dt,$.size);const gt=dt,[lt,St]=ut(gt[0]),[xt,yt]=ut(gt[1]),_t=St||yt;$.delete(dt);const kt={type:"pair",head:lt,tail:xt,length:lt.length+xt.length+4};return _t||et.set(dt,kt),[kt,_t]}function at(dt,mt,gt,lt){const St=et.get(dt);if(St!==void 0)return[St,!1];$.set(dt,$.size);const xt=mt.map(ut);let yt=gt.length+lt.length+Math.max(0,xt.length-1)*2,_t=!1;for(let Et=0;Et<xt.length;Et++)xt[Et]==null&&(xt[Et]=ut(void 0)),yt+=xt[Et][0].length,_t||(_t=xt[Et][1]);$.delete(dt);const kt={type:"arraylike",elems:xt.map(Et=>Et[0]),prefix:gt,suffix:lt,length:yt};return _t||et.set(dt,kt),[kt,_t]}function ct(dt){const mt=et.get(dt);if(mt!==void 0)return[mt,!1];$.set(dt,$.size);const gt=Object.entries(dt),lt=gt.map(kt=>ut(kt[1]));let St=2+Math.max(0,gt.length-1)*2+gt.length*2,xt=!1;const yt=[];for(let kt=0;kt<lt.length;kt++)St+=gt[kt][0].length,St+=lt[kt].length,xt||(xt=lt[kt][1]),yt.push({type:"kvpair",key:gt[kt][0],value:lt[kt][0],length:lt[kt][0].length+gt[kt][0].length});$.delete(dt);const _t={type:"arraylike",elems:yt,prefix:"{",suffix:"}",length:St};return xt||et.set(dt,_t),[_t,xt]}function ht(dt){const mt=dt.split(`
`);return mt.length===1?[{type:"terminal",str:mt[0],length:mt[0].length},!1]:[{type:"multiline",lines:mt,length:1/0},!1]}function ut(dt){if(dt===null)return[{type:"terminal",str:"null",length:4},!1];if(dt===void 0)return[{type:"terminal",str:"undefined",length:9},!1];if($.has(dt))return[{type:"terminal",str:"...<circular>",length:13},!0];if(dt instanceof s.default)return ht(dt.toString());if(typeof dt=="string"){const mt=JSON.stringify(dt);return[{type:"terminal",str:mt,length:mt.length},!1]}else return typeof dt!="object"?ht(dt.toString()):$.size>i.MAX_LIST_DISPLAY_LENGTH?[{type:"terminal",str:"...<truncated>",length:14},!1]:typeof dt.toReplString=="function"?ht(dt.toReplString()):Array.isArray(dt)?dt.length===2?nt(dt):at(dt,dt,"[","]"):a(dt)?at(dt,dt.replArrayContents(),dt.replPrefix,dt.replSuffix):Object.getPrototypeOf(dt)===Object.prototype?ct(dt):ht(dt.toString())}return ut(_)[0]}stringify$1.valueToStringDag=ot;function rt(_,$,et){const at="["+" ".repeat(Math.max(0,$-1)),ct=new Map;function ht(ut){const dt=ct.get(ut);if(dt!==void 0)return dt;let mt;if(ut.type==="terminal")mt={type:"line",line:ut};else if(ut.type==="multiline")mt={type:"block",prefixFirst:"",prefixRest:"",block:ut.lines.map(gt=>({type:"line",line:{type:"terminal",str:gt,length:gt.length}})),suffixRest:"",suffixLast:""};else if(ut.type==="pair"){const gt=ht(ut.head),lt=ht(ut.tail);ut.length-2>et||gt.type!=="line"||lt.type!=="line"?mt={type:"block",prefixFirst:at,prefixRest:"",block:[gt,lt],suffixRest:",",suffixLast:"]"}:mt={type:"line",line:ut}}else if(ut.type==="arraylike"){const gt=ut.elems.map(ht);ut.length-ut.prefix.length-ut.suffix.length>et||gt.some(lt=>lt.type!=="line")?mt={type:"block",prefixFirst:ut.prefix+" ".repeat(Math.max(0,$-ut.prefix.length)),prefixRest:" ".repeat(Math.max(ut.prefix.length,$)),block:gt,suffixRest:",",suffixLast:ut.suffix}:mt={type:"line",line:ut}}else if(ut.type==="kvpair"){const gt=ht(ut.value);ut.length>et||gt.type!=="line"?mt={type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(ut.key),length:0}},gt],suffixRest:":",suffixLast:""}:mt={type:"line",line:ut}}else throw"up";return ct.set(ut,mt),mt}return ht(_)}stringify$1.stringDagToLineTree=rt;function it(_){function $(et,nt){if(et.type==="multiline")throw"Tried to format multiline string as single line string";if(et.type==="terminal")nt.push(et.str);else if(et.type==="pair")nt.push("["),$(et.head,nt),nt.push(", "),$(et.tail,nt),nt.push("]");else if(et.type==="kvpair")nt.push(JSON.stringify(et.key)),nt.push(": "),$(et.value,nt);else if(et.type==="arraylike"){nt.push(et.prefix),et.elems.length>0&&$(et.elems[0],nt);for(let at=1;at<et.elems.length;at++)nt.push(", "),$(et.elems[at],nt);nt.push(et.suffix)}return nt}return $(_,[]).join("")}stringify$1.stringDagToSingleLine=it;function j(_){let $="";const et=new Map,nt=new Map;function at(ct,ht){const ut=nt.get(ct);if(ut!==void 0){const gt=ut.get(ht.length);if(gt!==void 0){$+=$.substring(gt[0],gt[1]);return}}const dt=$.length;if(ct.type==="line")et.has(ct.line)||et.set(ct.line,it(ct.line)),$+=et.get(ct.line);else if(ct.type==="block"){$+=ct.prefixFirst;const gt=ht+" ".repeat(ct.prefixFirst.length),lt=ht+ct.prefixRest;at(ct.block[0],gt);for(let St=1;St<ct.block.length;St++)$+=ct.suffixRest,$+=lt,at(ct.block[St],lt);$+=ct.suffixLast}const mt=$.length;if(ut===void 0){const gt=new Map;gt.set(ht.length,[dt,mt]),nt.set(ct,gt)}else ut.set(ht.length,[dt,mt])}return at(_,`
`),$}return stringify$1.lineTreeToString=j,stringify$1}var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.SetPropertyError=errors.GetInheritedPropertyError=errors.GetPropertyError=errors.ConstAssignment=errors.VariableRedeclaration=errors.InvalidNumberOfArguments=errors.UnassignedVariable=errors.UndefinedVariable=errors.CallingNonFunctionValue=errors.MaximumStackLimitExceeded=errors.ExceptionError=errors.InterruptedError=void 0;const i=astring,s=types,o=requireStringify(),a=runtimeSourceError;class tt extends a.RuntimeSourceError{constructor(ht){super(ht)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}}errors.InterruptedError=tt;class _e{constructor(ht,ut){this.error=ht,this.location=ut,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}}errors.ExceptionError=_e;class st extends a.RuntimeSourceError{constructor(ht,ut){super(ht),this.calls=ut,this.customGenerator=Object.assign(Object.assign({},i.baseGenerator),{CallExpression(dt,mt){mt.write((0,i.generate)(dt.callee)),mt.write("(");const gt=dt.arguments.map(lt=>(0,o.stringify)(lt.value));mt.write(gt.join(", ")),mt.write(")")}})}explain(){const ht=ut=>(0,i.generate)(ut,{generator:this.customGenerator});return`Maximum call stack size exceeded
  `+this.calls.map(ut=>ht(ut)+"..").join("  ")}elaborate(){return"TODO"}}errors.MaximumStackLimitExceeded=st,st.MAX_CALLS_TO_SHOW=3;class ot extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.callee=ht,this.node=ut}explain(){return`Calling non-function value ${(0,o.stringify)(this.callee)}.`}elaborate(){const ht=this.callee,ut=(0,o.stringify)(ht);let dt="";dt=this.node.arguments.map(i.generate).join(", ");const gt=`Because ${ut} is not a function, you cannot run ${ut}(${dt}).`,lt=`If you were planning to perform multiplication by ${ut}, you need to use the * operator.`;return Number.isFinite(ht)?`${gt} ${lt}`:gt}}errors.CallingNonFunctionValue=ot;class rt extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.name=ht}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}}errors.UndefinedVariable=rt;class it extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.name=ht}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}}errors.UnassignedVariable=it;class j extends a.RuntimeSourceError{constructor(ht,ut,dt,mt=!1){super(ht),this.expected=ut,this.got=dt,this.hasVarArgs=mt,this.calleeStr=(0,i.generate)(ht.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){const ht=this.calleeStr,ut=this.expected===1?"":"s";return`Try calling function ${ht} again, but with ${this.expected} argument${ut} instead. Remember that arguments are separated by a ',' (comma).`}}errors.InvalidNumberOfArguments=j;class _ extends a.RuntimeSourceError{constructor(ht,ut,dt){super(ht),this.node=ht,this.name=ut,this.writable=dt}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(this.writable===!0){const ht=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let ut="";return this.node.type==="FunctionDeclaration"?ut="("+this.node.params.map(i.generate).join(",")+") => {...":this.node.type==="VariableDeclaration"&&(ut=(0,i.generate)(this.node.declarations[0].init)),`${ht} As such, you can just do

	${this.name} = ${ut};
`}else return this.writable===!1?`You will need to declare another variable, as ${this.name} is read-only.`:""}}errors.VariableRedeclaration=_;class $ extends a.RuntimeSourceError{constructor(ht,ut){super(ht),this.name=ut}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}}errors.ConstAssignment=$;class et extends a.RuntimeSourceError{constructor(ht,ut,dt){super(ht),this.obj=ut,this.prop=dt}explain(){return`Cannot read property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetPropertyError=et;class nt extends a.RuntimeSourceError{constructor(ht,ut,dt){super(ht),this.obj=ut,this.prop=dt,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.location=ht.loc}explain(){return`Cannot read inherited property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetInheritedPropertyError=nt;class at extends a.RuntimeSourceError{constructor(ht,ut,dt){super(ht),this.obj=ut,this.prop=dt}explain(){return`Cannot assign property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}return errors.SetPropertyError=at,errors}var hasRequiredSchedulers;function requireSchedulers(){if(hasRequiredSchedulers)return schedulers;hasRequiredSchedulers=1,Object.defineProperty(schedulers,"__esModule",{value:!0}),schedulers.PreemptiveScheduler=schedulers.NonDetScheduler=schedulers.AsyncScheduler=void 0;const i=requireErrors(),s=inspector;class o{run(ot,rt){return new Promise((it,j)=>{rt.runtime.isRunning=!0;let _=ot.next();try{for(;!_.done;)_=ot.next(),rt.runtime.break&&((0,s.saveState)(rt,ot,this),_.done=!0)}catch{it({status:"error"})}finally{rt.runtime.isRunning=!1}rt.runtime.break?it({status:"suspended",it:ot,scheduler:this,context:rt}):it({status:"finished",context:rt,value:_.value})})}}schedulers.AsyncScheduler=o;class a{run(ot,rt){return new Promise((it,j)=>{try{const _=ot.next();_.done?it({status:"finished",context:rt,value:_.value}):it({status:"suspended-non-det",it:ot,scheduler:this,context:rt,value:_.value})}catch(_){_e(_,rt),it({status:"error"})}finally{rt.runtime.isRunning=!1}})}}schedulers.NonDetScheduler=a;class tt{constructor(ot){this.steps=ot}run(ot,rt){return new Promise((it,j)=>{rt.runtime.isRunning=!0;let _=!1,$=ot.next();const et=setInterval(()=>{let nt=0;try{for(;!$.done&&nt<this.steps;)nt++,$=ot.next(),_=rt.runtime.break&&rt.runtime.debuggerOn,_&&($.done=!0);(0,s.saveState)(rt,ot,this)}catch(at){_e(at,rt),rt.runtime.isRunning=!1,clearInterval(et),it({status:"error"})}$.done&&(rt.runtime.isRunning=!1,clearInterval(et),it(_?{status:"suspended",it:ot,scheduler:this,context:rt}:{status:"finished",context:rt,value:$.value}))})})}}schedulers.PreemptiveScheduler=tt;function _e(st,ot){if(/Maximum call stack/.test(st.toString())){const rt=ot.runtime.environments,it=[];let j=0;for(let _=0;j<i.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&_<rt.length;_++)rt[_].callExpression&&(it.unshift(rt[_].callExpression),j++);ot.errors.push(new i.MaximumStackLimitExceeded(ot.runtime.nodes[0],it))}}return schedulers}var lazyList_prelude={};Object.defineProperty(lazyList_prelude,"__esModule",{value:!0});lazyList_prelude.lazyListPrelude=void 0;lazyList_prelude.lazyListPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
    return is_pair(xs)
        ? (is_pair(ys) &&
           equal(head(xs), head(ys)) &&
           equal(tail(xs), tail(ys)))
        : is_null(xs)
        ? is_null(ys)
        : is_number(xs)
        ? (is_number(ys) && xs === ys)
        : is_string(xs)
        ? (is_string(ys) && xs === ys)
        :  xs === ys;
}

// returns the length of a given argument list
// assumes that the argument is a list

function length(xs) {
  return is_null(xs) ? 0 : 1 + length(tail(xs));
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function map(f, xs) {
  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));
}

// build_list takes a nonnegative integer n as first argument,
// and a function fun as second argument.
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function build_list(fun, n) {
  function build(i, fun, already_built) {
    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));
  }
  return build(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function list_to_string(xs) {
    return is_null(xs)
        ? "null"
        : is_pair(xs)
            ? "[" + list_to_string(head(xs)) + "," +
                list_to_string(tail(xs)) + "]"
            : stringify(xs);
}

// reverse reverses the argument, assumed to be a list

function reverse(xs) {
  function rev(original, reversed) {
    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));
  }
  return rev(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function append(xs, ys) {
  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function remove(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));
}

// Similar to remove, but removes all instances of v
// instead of just the first

function remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? remove_all(v, tail(xs))
    : pair(head(xs), remove_all(v, tail(xs)));
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function filter(pred, xs) {
  return is_null(xs)
    ? xs
    : pred(head(xs))
    ? pair(head(xs), filter(pred, tail(xs)))
    : filter(pred, tail(xs));
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function enum_list(start, end) {
  const newStart = start + 1;
  return start > end ? null : pair(start, enum_list(newStart, end));
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  const rest = tail(xs);
  return n === 0 ? head(xs) : list_ref(rest, n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function accumulate(f, initial, xs) {
  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));
}
`;var list$1={},hasRequiredList;function requireList(){if(hasRequiredList)return list$1;hasRequiredList=1,Object.defineProperty(list$1,"__esModule",{value:!0}),list$1.rawDisplayList=list$1.set_tail=list$1.set_head=list$1.vector_to_list=list$1.list_to_vector=list$1.is_list=list$1.list=list$1.is_null=list$1.tail=list$1.head=list$1.is_pair=list$1.pair=void 0;const i=requireStringify();function s(nt){return Array.isArray===void 0?nt instanceof Array:Array.isArray(nt)}function o(nt,at){return[nt,at]}list$1.pair=o;function a(nt){return s(nt)&&nt.length===2}list$1.is_pair=a;function tt(nt){if(a(nt))return nt[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(nt))}list$1.head=tt;function _e(nt){if(a(nt))return nt[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(nt))}list$1.tail=_e;function st(nt){return nt===null}list$1.is_null=st;function ot(...nt){let at=null;for(let ct=nt.length-1;ct>=0;ct-=1)at=o(nt[ct],at);return at}list$1.list=ot;function rt(nt){for(;a(nt);)nt=_e(nt);return st(nt)}list$1.is_list=rt;function it(nt){const at=[];for(;!st(nt);)at.push(tt(nt)),nt=_e(nt);return at}list$1.list_to_vector=it;function j(nt){return ot(...nt)}list$1.vector_to_list=j;function _(nt,at){if(a(nt)){nt[0]=at;return}else throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(nt))}list$1.set_head=_;function $(nt,at){if(a(nt)){nt[1]=at;return}else throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(nt))}list$1.set_tail=$;function et(nt,at,ct){const ht=new Set,ut=new Map;class dt{constructor(xt){this.replPrefix="list(",this.replSuffix=")",this.listNode=xt}replArrayContents(){const xt=[];let yt=this.listNode;for(;yt!==null;)xt.push(tt(yt)),yt=_e(yt);return xt}}function mt(St){return ut.get(St)||St}const gt=[];let lt=0;for(gt.push(at);lt<gt.length;){const St=gt[lt];lt++,!ht.has(St)&&(ht.add(St),a(St)&&gt.push(tt(St),_e(St)))}for(;gt.length>0;){const St=gt.pop();if(!a(St))continue;const xt=tt(St),yt=_e(St),_t=mt(yt),kt=st(_t)||_t instanceof dt?new dt(o(xt,yt)):o(xt,yt);ut.set(St,kt)}for(const St of ut.values())if(a(St))_(St,mt(tt(St))),$(St,mt(_e(St)));else if(St instanceof dt){_(St.listNode,mt(tt(St.listNode)));let xt=mt(_e(St.listNode));xt instanceof dt&&(xt=xt.listNode),$(St.listNode,xt)}return nt(mt(at),ct),at}return list$1.rawDisplayList=et,list$1}var list_prelude={};Object.defineProperty(list_prelude,"__esModule",{value:!0});list_prelude.listPrelude=void 0;list_prelude.listPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
  return is_pair(xs)
  ? (is_pair(ys) &&
    equal(head(xs), head(ys)) &&
    equal(tail(xs), tail(ys)))
  : is_null(xs)
  ? is_null(ys)
  : is_number(xs)
  ? (is_number(ys) && xs === ys)
  : is_boolean(xs)
  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))
  : is_string(xs)
  ? (is_string(ys) && xs === ys)
  : is_undefined(xs)
  ? is_undefined(ys)
  : is_function(xs)
    // we know now that xs is a function,
    // but we use an if check anyway to make use of the type predicate
  ? (is_function(ys) && xs === ys)
  : false;
}


// returns the length of a given argument list
// assumes that the argument is a list

function $length(xs, acc) {
    return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function $map(f, xs, acc) {
    return is_null(xs)
           ? reverse(acc)
           : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
    return $map(f, xs, null);
}

// build_list takes a a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function $build_list(i, fun, already_built) {
    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));
}

function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function $list_to_string(xs, cont) {
    return is_null(xs)
        ? cont("null")
        : is_pair(xs)
        ? $list_to_string(
              head(xs),
              x => $list_to_string(
                       tail(xs),
                       y => cont("[" + x + "," + y + "]")))
        : cont(stringify(xs));
}

function list_to_string(xs) {
    return $list_to_string(xs, x => x);
}

// reverse reverses the argument, assumed to be a list

function $reverse(original, reversed) {
    return is_null(original)
           ? reversed
           : $reverse(tail(original), pair(head(original), reversed));
}

function reverse(xs) {
    return $reverse(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function $append(xs, ys, cont) {
    return is_null(xs)
           ? cont(ys)
           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));
}

function append(xs, ys) {
    return $append(xs, ys, xs => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs)
         ? null
	 : v === head(xs)
	 ? xs
	 : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? app(rev(acc), tail(xs))
         : $remove(v, tail(xs), pair(head(xs), acc));
}

function remove(v, xs) {
    return $remove(v, xs, null);
}

// Similar to remove, but removes all instances of v
// instead of just the first

function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? $remove_all(v, tail(xs), acc)
         : $remove_all(v, tail(xs), pair(head(xs), acc));
}

function remove_all(v, xs) {
    return $remove_all(v, xs, null);
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}

function filter(pred, xs) {
    return $filter(pred, xs, null);
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end
         ? rev(acc)
         : $enum_list(start + 1, end, pair(start, acc));
}

function enum_list(start, end) {
    return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  return n === 0
         ? head(xs)
         : list_ref(tail(xs), n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function $accumulate(f, initial, xs, cont) {
    return is_null(xs)
           ? cont(initial)
           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));
}

function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, x => x);
}
`;var misc={},hasRequiredMisc;function requireMisc(){if(hasRequiredMisc)return misc;hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.get_time=misc.arity=misc.char_at=misc.parse_int=misc.array_length=misc.is_array=misc.has_own_property=misc.is_NaN=misc.is_function=misc.is_object=misc.is_boolean=misc.is_string=misc.is_undefined=misc.is_number=misc.timed=misc.error_message=misc.rawDisplay=void 0;const i=requireClosure(),s=requireStringify();function o(dt,mt,gt){return console.log((mt===void 0?"":mt+" ")+dt.toString()),dt}misc.rawDisplay=o;function a(dt,...mt){const gt=(mt[0]===void 0?"":mt[0]+" ")+(0,s.stringify)(dt);throw new Error(gt)}misc.error_message=a;function tt(dt,mt,gt,lt){return(...St)=>{const xt=ut(),yt=mt(...St),_t=ut()-xt;return lt("Duration: "+Math.round(_t)+"ms","",gt),yt}}misc.timed=tt;function _e(dt){return typeof dt=="number"}misc.is_number=_e;function st(dt){return typeof dt>"u"}misc.is_undefined=st;function ot(dt){return typeof dt=="string"}misc.is_string=ot;function rt(dt){return typeof dt=="boolean"}misc.is_boolean=rt;function it(dt){return typeof dt=="object"||j(dt)}misc.is_object=it;function j(dt){return typeof dt=="function"}misc.is_function=j;function _(dt){return _e(dt)&&isNaN(dt)}misc.is_NaN=_;function $(dt,mt){return dt.hasOwnProperty(mt)}misc.has_own_property=$;function et(dt){return dt instanceof Array}misc.is_array=et;function nt(dt){return dt.length}misc.array_length=nt;function at(dt,mt){if(typeof dt=="string"&&typeof mt=="number"&&Number.isInteger(mt)&&2<=mt&&mt<=36)return parseInt(dt,mt);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")}misc.parse_int=at;function ct(dt,mt){if(typeof dt!="string")throw new Error("char_at expects the first argument to be a string.");if(typeof mt!="number"||!Number.isInteger(mt)||mt<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return dt[mt]}misc.char_at=ct;function ht(dt){var mt;if(dt instanceof i.default){const gt=dt.node.params;return((mt=gt[gt.length-1])===null||mt===void 0?void 0:mt.type)==="RestElement"?gt.length-1:gt.length}else{if(typeof dt=="function")return dt.length;throw new Error("arity expects a function as argument")}}misc.arity=ht;function ut(){return new Date().getTime()}return misc.get_time=ut,misc}var nonDet_prelude={};Object.defineProperty(nonDet_prelude,"__esModule",{value:!0});nonDet_prelude.nonDetPrelude=void 0;nonDet_prelude.nonDetPrelude=`
    function require(predicate) {
        return predicate ? "Satisfied require" : amb();
    }

    function an_element_of(items) {
        require(!is_null(items));
        return amb(head(items), an_element_of(tail(items)));
    }

    function an_integer_between(low, high) {
        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));
    }

    /* Material Conditional */
    /* if P, then Q */
    /* P --> Q */
    function implication(P, Q) {
        return !P || Q;
    }

    /* Material Biconditional */
    /* (if P, then Q) AND (if Q, then P) */
    /* P <--> Q */
    function bi_implication(P, Q) {
        return implication(P, Q) && implication(Q, P);
    }
`;var parser$1={},parser={},acornLoose={exports:{}},acorn={exports:{}},hasRequiredAcorn;function requireAcorn(){return hasRequiredAcorn||(hasRequiredAcorn=1,function(i,s){(function(o,a){a(s)})(commonjsGlobal,function(o){var a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],tt=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],_e="-----------------------------------------------------------------------------------------------------------------------------------------------------",st="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",ot={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},rt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",it={5:rt,"5module":rt+" export import",6:rt+" const class extends export import super"},j=/^in(stanceof)?$/,_=new RegExp("["+st+"]"),$=new RegExp("["+st+_e+"]");function et(ft,Ct){for(var Dt=65536,Vt=0;Vt<Ct.length;Vt+=2){if(Dt+=Ct[Vt],Dt>ft)return!1;if(Dt+=Ct[Vt+1],Dt>=ft)return!0}return!1}function nt(ft,Ct){return ft<65?ft===36:ft<91?!0:ft<97?ft===95:ft<123?!0:ft<=65535?ft>=170&&_.test(String.fromCharCode(ft)):Ct===!1?!1:et(ft,tt)}function at(ft,Ct){return ft<48?ft===36:ft<58?!0:ft<65?!1:ft<91?!0:ft<97?ft===95:ft<123?!0:ft<=65535?ft>=170&&$.test(String.fromCharCode(ft)):Ct===!1?!1:et(ft,tt)||et(ft,a)}var ct=function(Ct,Dt){Dt===void 0&&(Dt={}),this.label=Ct,this.keyword=Dt.keyword,this.beforeExpr=!!Dt.beforeExpr,this.startsExpr=!!Dt.startsExpr,this.isLoop=!!Dt.isLoop,this.isAssign=!!Dt.isAssign,this.prefix=!!Dt.prefix,this.postfix=!!Dt.postfix,this.binop=Dt.binop||null,this.updateContext=null};function ht(ft,Ct){return new ct(ft,{beforeExpr:!0,binop:Ct})}var ut={beforeExpr:!0},dt={startsExpr:!0},mt={};function gt(ft,Ct){return Ct===void 0&&(Ct={}),Ct.keyword=ft,mt[ft]=new ct(ft,Ct)}var lt={num:new ct("num",dt),regexp:new ct("regexp",dt),string:new ct("string",dt),name:new ct("name",dt),privateId:new ct("privateId",dt),eof:new ct("eof"),bracketL:new ct("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ct("]"),braceL:new ct("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ct("}"),parenL:new ct("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ct(")"),comma:new ct(",",ut),semi:new ct(";",ut),colon:new ct(":",ut),dot:new ct("."),question:new ct("?",ut),questionDot:new ct("?."),arrow:new ct("=>",ut),template:new ct("template"),invalidTemplate:new ct("invalidTemplate"),ellipsis:new ct("...",ut),backQuote:new ct("`",dt),dollarBraceL:new ct("${",{beforeExpr:!0,startsExpr:!0}),eq:new ct("=",{beforeExpr:!0,isAssign:!0}),assign:new ct("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ct("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ct("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ht("||",1),logicalAND:ht("&&",2),bitwiseOR:ht("|",3),bitwiseXOR:ht("^",4),bitwiseAND:ht("&",5),equality:ht("==/!=/===/!==",6),relational:ht("</>/<=/>=",7),bitShift:ht("<</>>/>>>",8),plusMin:new ct("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ht("%",10),star:ht("*",10),slash:ht("/",10),starstar:new ct("**",{beforeExpr:!0}),coalesce:ht("??",1),_break:gt("break"),_case:gt("case",ut),_catch:gt("catch"),_continue:gt("continue"),_debugger:gt("debugger"),_default:gt("default",ut),_do:gt("do",{isLoop:!0,beforeExpr:!0}),_else:gt("else",ut),_finally:gt("finally"),_for:gt("for",{isLoop:!0}),_function:gt("function",dt),_if:gt("if"),_return:gt("return",ut),_switch:gt("switch"),_throw:gt("throw",ut),_try:gt("try"),_var:gt("var"),_const:gt("const"),_while:gt("while",{isLoop:!0}),_with:gt("with"),_new:gt("new",{beforeExpr:!0,startsExpr:!0}),_this:gt("this",dt),_super:gt("super",dt),_class:gt("class",dt),_extends:gt("extends",ut),_export:gt("export"),_import:gt("import",dt),_null:gt("null",dt),_true:gt("true",dt),_false:gt("false",dt),_in:gt("in",{beforeExpr:!0,binop:7}),_instanceof:gt("instanceof",{beforeExpr:!0,binop:7}),_typeof:gt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:gt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:gt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},St=/\r\n?|\n|\u2028|\u2029/,xt=new RegExp(St.source,"g");function yt(ft){return ft===10||ft===13||ft===8232||ft===8233}function _t(ft,Ct,Dt){Dt===void 0&&(Dt=ft.length);for(var Vt=Ct;Vt<Dt;Vt++){var Yt=ft.charCodeAt(Vt);if(yt(Yt))return Vt<Dt-1&&Yt===13&&ft.charCodeAt(Vt+1)===10?Vt+2:Vt+1}return-1}var kt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Et=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,$t=Object.prototype,Tt=$t.hasOwnProperty,At=$t.toString,Mt=Object.hasOwn||function(ft,Ct){return Tt.call(ft,Ct)},Ot=Array.isArray||function(ft){return At.call(ft)==="[object Array]"},Pt=Object.create(null);function Ft(ft){return Pt[ft]||(Pt[ft]=new RegExp("^(?:"+ft.replace(/ /g,"|")+")$"))}function zt(ft){return ft<=65535?String.fromCharCode(ft):(ft-=65536,String.fromCharCode((ft>>10)+55296,(ft&1023)+56320))}var qt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Gt=function(Ct,Dt){this.line=Ct,this.column=Dt};Gt.prototype.offset=function(Ct){return new Gt(this.line,this.column+Ct)};var Wt=function(Ct,Dt,Vt){this.start=Dt,this.end=Vt,Ct.sourceFile!==null&&(this.source=Ct.sourceFile)};function Xt(ft,Ct){for(var Dt=1,Vt=0;;){var Yt=_t(ft,Vt,Ct);if(Yt<0)return new Gt(Dt,Ct-Vt);++Dt,Vt=Yt}}var rr={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},tr=!1;function mr(ft){var Ct={};for(var Dt in rr)Ct[Dt]=ft&&Mt(ft,Dt)?ft[Dt]:rr[Dt];if(Ct.ecmaVersion==="latest"?Ct.ecmaVersion=1e8:Ct.ecmaVersion==null?(!tr&&typeof console=="object"&&console.warn&&(tr=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),Ct.ecmaVersion=11):Ct.ecmaVersion>=2015&&(Ct.ecmaVersion-=2009),Ct.allowReserved==null&&(Ct.allowReserved=Ct.ecmaVersion<5),(!ft||ft.allowHashBang==null)&&(Ct.allowHashBang=Ct.ecmaVersion>=14),Ot(Ct.onToken)){var Vt=Ct.onToken;Ct.onToken=function(Yt){return Vt.push(Yt)}}return Ot(Ct.onComment)&&(Ct.onComment=yr(Ct,Ct.onComment)),Ct}function yr(ft,Ct){return function(Dt,Vt,Yt,lr,gr,Mr){var Fr={type:Dt?"Block":"Line",value:Vt,start:Yt,end:lr};ft.locations&&(Fr.loc=new Wt(this,gr,Mr)),ft.ranges&&(Fr.range=[Yt,lr]),Ct.push(Fr)}}var xr=1,vr=2,ir=4,sr=8,er=16,Tr=32,Cr=64,dr=128,Wr=256,Jr=xr|vr|Wr;function nn(ft,Ct){return vr|(ft?ir:0)|(Ct?sr:0)}var Cn=0,Vn=1,An=2,pn=3,Kn=4,Pn=5,wr=function(Ct,Dt,Vt){this.options=Ct=mr(Ct),this.sourceFile=Ct.sourceFile,this.keywords=Ft(it[Ct.ecmaVersion>=6?6:Ct.sourceType==="module"?"5module":5]);var Yt="";Ct.allowReserved!==!0&&(Yt=ot[Ct.ecmaVersion>=6?6:Ct.ecmaVersion===5?5:3],Ct.sourceType==="module"&&(Yt+=" await")),this.reservedWords=Ft(Yt);var lr=(Yt?Yt+" ":"")+ot.strict;this.reservedWordsStrict=Ft(lr),this.reservedWordsStrictBind=Ft(lr+" "+ot.strictBind),this.input=String(Dt),this.containsEsc=!1,Vt?(this.pos=Vt,this.lineStart=this.input.lastIndexOf(`
`,Vt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(St).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=lt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Ct.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Ct.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(xr),this.regexpState=null,this.privateNameStack=[]},zr={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};wr.prototype.parse=function(){var Ct=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Ct)},zr.inFunction.get=function(){return(this.currentVarScope().flags&vr)>0},zr.inGenerator.get=function(){return(this.currentVarScope().flags&sr)>0&&!this.currentVarScope().inClassFieldInit},zr.inAsync.get=function(){return(this.currentVarScope().flags&ir)>0&&!this.currentVarScope().inClassFieldInit},zr.canAwait.get=function(){for(var ft=this.scopeStack.length-1;ft>=0;ft--){var Ct=this.scopeStack[ft];if(Ct.inClassFieldInit||Ct.flags&Wr)return!1;if(Ct.flags&vr)return(Ct.flags&ir)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},zr.allowSuper.get=function(){var ft=this.currentThisScope(),Ct=ft.flags,Dt=ft.inClassFieldInit;return(Ct&Cr)>0||Dt||this.options.allowSuperOutsideMethod},zr.allowDirectSuper.get=function(){return(this.currentThisScope().flags&dr)>0},zr.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},zr.allowNewDotTarget.get=function(){var ft=this.currentThisScope(),Ct=ft.flags,Dt=ft.inClassFieldInit;return(Ct&(vr|Wr))>0||Dt},zr.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Wr)>0},wr.extend=function(){for(var Ct=[],Dt=arguments.length;Dt--;)Ct[Dt]=arguments[Dt];for(var Vt=this,Yt=0;Yt<Ct.length;Yt++)Vt=Ct[Yt](Vt);return Vt},wr.parse=function(Ct,Dt){return new this(Dt,Ct).parse()},wr.parseExpressionAt=function(Ct,Dt,Vt){var Yt=new this(Vt,Ct,Dt);return Yt.nextToken(),Yt.parseExpression()},wr.tokenizer=function(Ct,Dt){return new this(Dt,Ct)},Object.defineProperties(wr.prototype,zr);var $r=wr.prototype,hn=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;$r.strictDirective=function(ft){if(this.options.ecmaVersion<5)return!1;for(;;){Et.lastIndex=ft,ft+=Et.exec(this.input)[0].length;var Ct=hn.exec(this.input.slice(ft));if(!Ct)return!1;if((Ct[1]||Ct[2])==="use strict"){Et.lastIndex=ft+Ct[0].length;var Dt=Et.exec(this.input),Vt=Dt.index+Dt[0].length,Yt=this.input.charAt(Vt);return Yt===";"||Yt==="}"||St.test(Dt[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Yt)||Yt==="!"&&this.input.charAt(Vt+1)==="=")}ft+=Ct[0].length,Et.lastIndex=ft,ft+=Et.exec(this.input)[0].length,this.input[ft]===";"&&ft++}},$r.eat=function(ft){return this.type===ft?(this.next(),!0):!1},$r.isContextual=function(ft){return this.type===lt.name&&this.value===ft&&!this.containsEsc},$r.eatContextual=function(ft){return this.isContextual(ft)?(this.next(),!0):!1},$r.expectContextual=function(ft){this.eatContextual(ft)||this.unexpected()},$r.canInsertSemicolon=function(){return this.type===lt.eof||this.type===lt.braceR||St.test(this.input.slice(this.lastTokEnd,this.start))},$r.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},$r.semicolon=function(){!this.eat(lt.semi)&&!this.insertSemicolon()&&this.unexpected()},$r.afterTrailingComma=function(ft,Ct){if(this.type===ft)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Ct||this.next(),!0},$r.expect=function(ft){this.eat(ft)||this.unexpected()},$r.unexpected=function(ft){this.raise(ft??this.start,"Unexpected token")};var Jt=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};$r.checkPatternErrors=function(ft,Ct){if(ft){ft.trailingComma>-1&&this.raiseRecoverable(ft.trailingComma,"Comma is not permitted after the rest element");var Dt=Ct?ft.parenthesizedAssign:ft.parenthesizedBind;Dt>-1&&this.raiseRecoverable(Dt,Ct?"Assigning to rvalue":"Parenthesized pattern")}},$r.checkExpressionErrors=function(ft,Ct){if(!ft)return!1;var Dt=ft.shorthandAssign,Vt=ft.doubleProto;if(!Ct)return Dt>=0||Vt>=0;Dt>=0&&this.raise(Dt,"Shorthand property assignments are valid only in destructuring patterns"),Vt>=0&&this.raiseRecoverable(Vt,"Redefinition of __proto__ property")},$r.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},$r.isSimpleAssignTarget=function(ft){return ft.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(ft.expression):ft.type==="Identifier"||ft.type==="MemberExpression"};var Kt=wr.prototype;Kt.parseTopLevel=function(ft){var Ct=Object.create(null);for(ft.body||(ft.body=[]);this.type!==lt.eof;){var Dt=this.parseStatement(null,!0,Ct);ft.body.push(Dt)}if(this.inModule)for(var Vt=0,Yt=Object.keys(this.undefinedExports);Vt<Yt.length;Vt+=1){var lr=Yt[Vt];this.raiseRecoverable(this.undefinedExports[lr].start,"Export '"+lr+"' is not defined")}return this.adaptDirectivePrologue(ft.body),this.next(),ft.sourceType=this.options.sourceType,this.finishNode(ft,"Program")};var hr={kind:"loop"},Pr={kind:"switch"};Kt.isLet=function(ft){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Et.lastIndex=this.pos;var Ct=Et.exec(this.input),Dt=this.pos+Ct[0].length,Vt=this.input.charCodeAt(Dt);if(Vt===91||Vt===92)return!0;if(ft)return!1;if(Vt===123||Vt>55295&&Vt<56320)return!0;if(nt(Vt,!0)){for(var Yt=Dt+1;at(Vt=this.input.charCodeAt(Yt),!0);)++Yt;if(Vt===92||Vt>55295&&Vt<56320)return!0;var lr=this.input.slice(Dt,Yt);if(!j.test(lr))return!0}return!1},Kt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Et.lastIndex=this.pos;var ft=Et.exec(this.input),Ct=this.pos+ft[0].length,Dt;return!St.test(this.input.slice(this.pos,Ct))&&this.input.slice(Ct,Ct+8)==="function"&&(Ct+8===this.input.length||!(at(Dt=this.input.charCodeAt(Ct+8))||Dt>55295&&Dt<56320))},Kt.parseStatement=function(ft,Ct,Dt){var Vt=this.type,Yt=this.startNode(),lr;switch(this.isLet(ft)&&(Vt=lt._var,lr="let"),Vt){case lt._break:case lt._continue:return this.parseBreakContinueStatement(Yt,Vt.keyword);case lt._debugger:return this.parseDebuggerStatement(Yt);case lt._do:return this.parseDoStatement(Yt);case lt._for:return this.parseForStatement(Yt);case lt._function:return ft&&(this.strict||ft!=="if"&&ft!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Yt,!1,!ft);case lt._class:return ft&&this.unexpected(),this.parseClass(Yt,!0);case lt._if:return this.parseIfStatement(Yt);case lt._return:return this.parseReturnStatement(Yt);case lt._switch:return this.parseSwitchStatement(Yt);case lt._throw:return this.parseThrowStatement(Yt);case lt._try:return this.parseTryStatement(Yt);case lt._const:case lt._var:return lr=lr||this.value,ft&&lr!=="var"&&this.unexpected(),this.parseVarStatement(Yt,lr);case lt._while:return this.parseWhileStatement(Yt);case lt._with:return this.parseWithStatement(Yt);case lt.braceL:return this.parseBlock(!0,Yt);case lt.semi:return this.parseEmptyStatement(Yt);case lt._export:case lt._import:if(this.options.ecmaVersion>10&&Vt===lt._import){Et.lastIndex=this.pos;var gr=Et.exec(this.input),Mr=this.pos+gr[0].length,Fr=this.input.charCodeAt(Mr);if(Fr===40||Fr===46)return this.parseExpressionStatement(Yt,this.parseExpression())}return this.options.allowImportExportEverywhere||(Ct||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Vt===lt._import?this.parseImport(Yt):this.parseExport(Yt,Dt);default:if(this.isAsyncFunction())return ft&&this.unexpected(),this.next(),this.parseFunctionStatement(Yt,!0,!ft);var cn=this.value,on=this.parseExpression();return Vt===lt.name&&on.type==="Identifier"&&this.eat(lt.colon)?this.parseLabeledStatement(Yt,cn,on,ft):this.parseExpressionStatement(Yt,on)}},Kt.parseBreakContinueStatement=function(ft,Ct){var Dt=Ct==="break";this.next(),this.eat(lt.semi)||this.insertSemicolon()?ft.label=null:this.type!==lt.name?this.unexpected():(ft.label=this.parseIdent(),this.semicolon());for(var Vt=0;Vt<this.labels.length;++Vt){var Yt=this.labels[Vt];if((ft.label==null||Yt.name===ft.label.name)&&(Yt.kind!=null&&(Dt||Yt.kind==="loop")||ft.label&&Dt))break}return Vt===this.labels.length&&this.raise(ft.start,"Unsyntactic "+Ct),this.finishNode(ft,Dt?"BreakStatement":"ContinueStatement")},Kt.parseDebuggerStatement=function(ft){return this.next(),this.semicolon(),this.finishNode(ft,"DebuggerStatement")},Kt.parseDoStatement=function(ft){return this.next(),this.labels.push(hr),ft.body=this.parseStatement("do"),this.labels.pop(),this.expect(lt._while),ft.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(lt.semi):this.semicolon(),this.finishNode(ft,"DoWhileStatement")},Kt.parseForStatement=function(ft){this.next();var Ct=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(hr),this.enterScope(0),this.expect(lt.parenL),this.type===lt.semi)return Ct>-1&&this.unexpected(Ct),this.parseFor(ft,null);var Dt=this.isLet();if(this.type===lt._var||this.type===lt._const||Dt){var Vt=this.startNode(),Yt=Dt?"let":this.value;return this.next(),this.parseVar(Vt,!0,Yt),this.finishNode(Vt,"VariableDeclaration"),(this.type===lt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Vt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===lt._in?Ct>-1&&this.unexpected(Ct):ft.await=Ct>-1),this.parseForIn(ft,Vt)):(Ct>-1&&this.unexpected(Ct),this.parseFor(ft,Vt))}var lr=this.isContextual("let"),gr=!1,Mr=this.containsEsc,Fr=new Jt,cn=this.start,on=Ct>-1?this.parseExprSubscripts(Fr,"await"):this.parseExpression(!0,Fr);return this.type===lt._in||(gr=this.options.ecmaVersion>=6&&this.isContextual("of"))?(Ct>-1?(this.type===lt._in&&this.unexpected(Ct),ft.await=!0):gr&&this.options.ecmaVersion>=8&&(on.start===cn&&!Mr&&on.type==="Identifier"&&on.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(ft.await=!1)),lr&&gr&&this.raise(on.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(on,!1,Fr),this.checkLValPattern(on),this.parseForIn(ft,on)):(this.checkExpressionErrors(Fr,!0),Ct>-1&&this.unexpected(Ct),this.parseFor(ft,on))},Kt.parseFunctionStatement=function(ft,Ct,Dt){return this.next(),this.parseFunction(ft,kr|(Dt?0:Ar),!1,Ct)},Kt.parseIfStatement=function(ft){return this.next(),ft.test=this.parseParenExpression(),ft.consequent=this.parseStatement("if"),ft.alternate=this.eat(lt._else)?this.parseStatement("if"):null,this.finishNode(ft,"IfStatement")},Kt.parseReturnStatement=function(ft){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(lt.semi)||this.insertSemicolon()?ft.argument=null:(ft.argument=this.parseExpression(),this.semicolon()),this.finishNode(ft,"ReturnStatement")},Kt.parseSwitchStatement=function(ft){this.next(),ft.discriminant=this.parseParenExpression(),ft.cases=[],this.expect(lt.braceL),this.labels.push(Pr),this.enterScope(0);for(var Ct,Dt=!1;this.type!==lt.braceR;)if(this.type===lt._case||this.type===lt._default){var Vt=this.type===lt._case;Ct&&this.finishNode(Ct,"SwitchCase"),ft.cases.push(Ct=this.startNode()),Ct.consequent=[],this.next(),Vt?Ct.test=this.parseExpression():(Dt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Dt=!0,Ct.test=null),this.expect(lt.colon)}else Ct||this.unexpected(),Ct.consequent.push(this.parseStatement(null));return this.exitScope(),Ct&&this.finishNode(Ct,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(ft,"SwitchStatement")},Kt.parseThrowStatement=function(ft){return this.next(),St.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),ft.argument=this.parseExpression(),this.semicolon(),this.finishNode(ft,"ThrowStatement")};var jr=[];Kt.parseCatchClauseParam=function(){var ft=this.parseBindingAtom(),Ct=ft.type==="Identifier";return this.enterScope(Ct?Tr:0),this.checkLValPattern(ft,Ct?Kn:An),this.expect(lt.parenR),ft},Kt.parseTryStatement=function(ft){if(this.next(),ft.block=this.parseBlock(),ft.handler=null,this.type===lt._catch){var Ct=this.startNode();this.next(),this.eat(lt.parenL)?Ct.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),Ct.param=null,this.enterScope(0)),Ct.body=this.parseBlock(!1),this.exitScope(),ft.handler=this.finishNode(Ct,"CatchClause")}return ft.finalizer=this.eat(lt._finally)?this.parseBlock():null,!ft.handler&&!ft.finalizer&&this.raise(ft.start,"Missing catch or finally clause"),this.finishNode(ft,"TryStatement")},Kt.parseVarStatement=function(ft,Ct,Dt){return this.next(),this.parseVar(ft,!1,Ct,Dt),this.semicolon(),this.finishNode(ft,"VariableDeclaration")},Kt.parseWhileStatement=function(ft){return this.next(),ft.test=this.parseParenExpression(),this.labels.push(hr),ft.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(ft,"WhileStatement")},Kt.parseWithStatement=function(ft){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),ft.object=this.parseParenExpression(),ft.body=this.parseStatement("with"),this.finishNode(ft,"WithStatement")},Kt.parseEmptyStatement=function(ft){return this.next(),this.finishNode(ft,"EmptyStatement")},Kt.parseLabeledStatement=function(ft,Ct,Dt,Vt){for(var Yt=0,lr=this.labels;Yt<lr.length;Yt+=1){var gr=lr[Yt];gr.name===Ct&&this.raise(Dt.start,"Label '"+Ct+"' is already declared")}for(var Mr=this.type.isLoop?"loop":this.type===lt._switch?"switch":null,Fr=this.labels.length-1;Fr>=0;Fr--){var cn=this.labels[Fr];if(cn.statementStart===ft.start)cn.statementStart=this.start,cn.kind=Mr;else break}return this.labels.push({name:Ct,kind:Mr,statementStart:this.start}),ft.body=this.parseStatement(Vt?Vt.indexOf("label")===-1?Vt+"label":Vt:"label"),this.labels.pop(),ft.label=Dt,this.finishNode(ft,"LabeledStatement")},Kt.parseExpressionStatement=function(ft,Ct){return ft.expression=Ct,this.semicolon(),this.finishNode(ft,"ExpressionStatement")},Kt.parseBlock=function(ft,Ct,Dt){for(ft===void 0&&(ft=!0),Ct===void 0&&(Ct=this.startNode()),Ct.body=[],this.expect(lt.braceL),ft&&this.enterScope(0);this.type!==lt.braceR;){var Vt=this.parseStatement(null);Ct.body.push(Vt)}return Dt&&(this.strict=!1),this.next(),ft&&this.exitScope(),this.finishNode(Ct,"BlockStatement")},Kt.parseFor=function(ft,Ct){return ft.init=Ct,this.expect(lt.semi),ft.test=this.type===lt.semi?null:this.parseExpression(),this.expect(lt.semi),ft.update=this.type===lt.parenR?null:this.parseExpression(),this.expect(lt.parenR),ft.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(ft,"ForStatement")},Kt.parseForIn=function(ft,Ct){var Dt=this.type===lt._in;return this.next(),Ct.type==="VariableDeclaration"&&Ct.declarations[0].init!=null&&(!Dt||this.options.ecmaVersion<8||this.strict||Ct.kind!=="var"||Ct.declarations[0].id.type!=="Identifier")&&this.raise(Ct.start,(Dt?"for-in":"for-of")+" loop variable declaration may not have an initializer"),ft.left=Ct,ft.right=Dt?this.parseExpression():this.parseMaybeAssign(),this.expect(lt.parenR),ft.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(ft,Dt?"ForInStatement":"ForOfStatement")},Kt.parseVar=function(ft,Ct,Dt,Vt){for(ft.declarations=[],ft.kind=Dt;;){var Yt=this.startNode();if(this.parseVarId(Yt,Dt),this.eat(lt.eq)?Yt.init=this.parseMaybeAssign(Ct):!Vt&&Dt==="const"&&!(this.type===lt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!Vt&&Yt.id.type!=="Identifier"&&!(Ct&&(this.type===lt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Yt.init=null,ft.declarations.push(this.finishNode(Yt,"VariableDeclarator")),!this.eat(lt.comma))break}return ft},Kt.parseVarId=function(ft,Ct){ft.id=this.parseBindingAtom(),this.checkLValPattern(ft.id,Ct==="var"?Vn:An,!1)};var kr=1,Ar=2,Yr=4;Kt.parseFunction=function(ft,Ct,Dt,Vt,Yt){this.initFunction(ft),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Vt)&&(this.type===lt.star&&Ct&Ar&&this.unexpected(),ft.generator=this.eat(lt.star)),this.options.ecmaVersion>=8&&(ft.async=!!Vt),Ct&kr&&(ft.id=Ct&Yr&&this.type!==lt.name?null:this.parseIdent(),ft.id&&!(Ct&Ar)&&this.checkLValSimple(ft.id,this.strict||ft.generator||ft.async?this.treatFunctionsAsVar?Vn:An:pn));var lr=this.yieldPos,gr=this.awaitPos,Mr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(nn(ft.async,ft.generator)),Ct&kr||(ft.id=this.type===lt.name?this.parseIdent():null),this.parseFunctionParams(ft),this.parseFunctionBody(ft,Dt,!1,Yt),this.yieldPos=lr,this.awaitPos=gr,this.awaitIdentPos=Mr,this.finishNode(ft,Ct&kr?"FunctionDeclaration":"FunctionExpression")},Kt.parseFunctionParams=function(ft){this.expect(lt.parenL),ft.params=this.parseBindingList(lt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Kt.parseClass=function(ft,Ct){this.next();var Dt=this.strict;this.strict=!0,this.parseClassId(ft,Ct),this.parseClassSuper(ft);var Vt=this.enterClassBody(),Yt=this.startNode(),lr=!1;for(Yt.body=[],this.expect(lt.braceL);this.type!==lt.braceR;){var gr=this.parseClassElement(ft.superClass!==null);gr&&(Yt.body.push(gr),gr.type==="MethodDefinition"&&gr.kind==="constructor"?(lr&&this.raiseRecoverable(gr.start,"Duplicate constructor in the same class"),lr=!0):gr.key&&gr.key.type==="PrivateIdentifier"&&un(Vt,gr)&&this.raiseRecoverable(gr.key.start,"Identifier '#"+gr.key.name+"' has already been declared"))}return this.strict=Dt,this.next(),ft.body=this.finishNode(Yt,"ClassBody"),this.exitClassBody(),this.finishNode(ft,Ct?"ClassDeclaration":"ClassExpression")},Kt.parseClassElement=function(ft){if(this.eat(lt.semi))return null;var Ct=this.options.ecmaVersion,Dt=this.startNode(),Vt="",Yt=!1,lr=!1,gr="method",Mr=!1;if(this.eatContextual("static")){if(Ct>=13&&this.eat(lt.braceL))return this.parseClassStaticBlock(Dt),Dt;this.isClassElementNameStart()||this.type===lt.star?Mr=!0:Vt="static"}if(Dt.static=Mr,!Vt&&Ct>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===lt.star)&&!this.canInsertSemicolon()?lr=!0:Vt="async"),!Vt&&(Ct>=9||!lr)&&this.eat(lt.star)&&(Yt=!0),!Vt&&!lr&&!Yt){var Fr=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?gr=Fr:Vt=Fr)}if(Vt?(Dt.computed=!1,Dt.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Dt.key.name=Vt,this.finishNode(Dt.key,"Identifier")):this.parseClassElementName(Dt),Ct<13||this.type===lt.parenL||gr!=="method"||Yt||lr){var cn=!Dt.static&&Or(Dt,"constructor"),on=cn&&ft;cn&&gr!=="method"&&this.raise(Dt.key.start,"Constructor can't have get/set modifier"),Dt.kind=cn?"constructor":gr,this.parseClassMethod(Dt,Yt,lr,on)}else this.parseClassField(Dt);return Dt},Kt.isClassElementNameStart=function(){return this.type===lt.name||this.type===lt.privateId||this.type===lt.num||this.type===lt.string||this.type===lt.bracketL||this.type.keyword},Kt.parseClassElementName=function(ft){this.type===lt.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),ft.computed=!1,ft.key=this.parsePrivateIdent()):this.parsePropertyName(ft)},Kt.parseClassMethod=function(ft,Ct,Dt,Vt){var Yt=ft.key;ft.kind==="constructor"?(Ct&&this.raise(Yt.start,"Constructor can't be a generator"),Dt&&this.raise(Yt.start,"Constructor can't be an async method")):ft.static&&Or(ft,"prototype")&&this.raise(Yt.start,"Classes may not have a static property named prototype");var lr=ft.value=this.parseMethod(Ct,Dt,Vt);return ft.kind==="get"&&lr.params.length!==0&&this.raiseRecoverable(lr.start,"getter should have no params"),ft.kind==="set"&&lr.params.length!==1&&this.raiseRecoverable(lr.start,"setter should have exactly one param"),ft.kind==="set"&&lr.params[0].type==="RestElement"&&this.raiseRecoverable(lr.params[0].start,"Setter cannot use rest params"),this.finishNode(ft,"MethodDefinition")},Kt.parseClassField=function(ft){if(Or(ft,"constructor")?this.raise(ft.key.start,"Classes can't have a field named 'constructor'"):ft.static&&Or(ft,"prototype")&&this.raise(ft.key.start,"Classes can't have a static field named 'prototype'"),this.eat(lt.eq)){var Ct=this.currentThisScope(),Dt=Ct.inClassFieldInit;Ct.inClassFieldInit=!0,ft.value=this.parseMaybeAssign(),Ct.inClassFieldInit=Dt}else ft.value=null;return this.semicolon(),this.finishNode(ft,"PropertyDefinition")},Kt.parseClassStaticBlock=function(ft){ft.body=[];var Ct=this.labels;for(this.labels=[],this.enterScope(Wr|Cr);this.type!==lt.braceR;){var Dt=this.parseStatement(null);ft.body.push(Dt)}return this.next(),this.exitScope(),this.labels=Ct,this.finishNode(ft,"StaticBlock")},Kt.parseClassId=function(ft,Ct){this.type===lt.name?(ft.id=this.parseIdent(),Ct&&this.checkLValSimple(ft.id,An,!1)):(Ct===!0&&this.unexpected(),ft.id=null)},Kt.parseClassSuper=function(ft){ft.superClass=this.eat(lt._extends)?this.parseExprSubscripts(null,!1):null},Kt.enterClassBody=function(){var ft={declared:Object.create(null),used:[]};return this.privateNameStack.push(ft),ft.declared},Kt.exitClassBody=function(){var ft=this.privateNameStack.pop(),Ct=ft.declared,Dt=ft.used;if(this.options.checkPrivateFields)for(var Vt=this.privateNameStack.length,Yt=Vt===0?null:this.privateNameStack[Vt-1],lr=0;lr<Dt.length;++lr){var gr=Dt[lr];Mt(Ct,gr.name)||(Yt?Yt.used.push(gr):this.raiseRecoverable(gr.start,"Private field '#"+gr.name+"' must be declared in an enclosing class"))}};function un(ft,Ct){var Dt=Ct.key.name,Vt=ft[Dt],Yt="true";return Ct.type==="MethodDefinition"&&(Ct.kind==="get"||Ct.kind==="set")&&(Yt=(Ct.static?"s":"i")+Ct.kind),Vt==="iget"&&Yt==="iset"||Vt==="iset"&&Yt==="iget"||Vt==="sget"&&Yt==="sset"||Vt==="sset"&&Yt==="sget"?(ft[Dt]="true",!1):Vt?!0:(ft[Dt]=Yt,!1)}function Or(ft,Ct){var Dt=ft.computed,Vt=ft.key;return!Dt&&(Vt.type==="Identifier"&&Vt.name===Ct||Vt.type==="Literal"&&Vt.value===Ct)}Kt.parseExportAllDeclaration=function(ft,Ct){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(ft.exported=this.parseModuleExportName(),this.checkExport(Ct,ft.exported,this.lastTokStart)):ft.exported=null),this.expectContextual("from"),this.type!==lt.string&&this.unexpected(),ft.source=this.parseExprAtom(),this.semicolon(),this.finishNode(ft,"ExportAllDeclaration")},Kt.parseExport=function(ft,Ct){if(this.next(),this.eat(lt.star))return this.parseExportAllDeclaration(ft,Ct);if(this.eat(lt._default))return this.checkExport(Ct,"default",this.lastTokStart),ft.declaration=this.parseExportDefaultDeclaration(),this.finishNode(ft,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())ft.declaration=this.parseExportDeclaration(ft),ft.declaration.type==="VariableDeclaration"?this.checkVariableExport(Ct,ft.declaration.declarations):this.checkExport(Ct,ft.declaration.id,ft.declaration.id.start),ft.specifiers=[],ft.source=null;else{if(ft.declaration=null,ft.specifiers=this.parseExportSpecifiers(Ct),this.eatContextual("from"))this.type!==lt.string&&this.unexpected(),ft.source=this.parseExprAtom();else{for(var Dt=0,Vt=ft.specifiers;Dt<Vt.length;Dt+=1){var Yt=Vt[Dt];this.checkUnreserved(Yt.local),this.checkLocalExport(Yt.local),Yt.local.type==="Literal"&&this.raise(Yt.local.start,"A string literal cannot be used as an exported binding without `from`.")}ft.source=null}this.semicolon()}return this.finishNode(ft,"ExportNamedDeclaration")},Kt.parseExportDeclaration=function(ft){return this.parseStatement(null)},Kt.parseExportDefaultDeclaration=function(){var ft;if(this.type===lt._function||(ft=this.isAsyncFunction())){var Ct=this.startNode();return this.next(),ft&&this.next(),this.parseFunction(Ct,kr|Yr,!1,ft)}else if(this.type===lt._class){var Dt=this.startNode();return this.parseClass(Dt,"nullableID")}else{var Vt=this.parseMaybeAssign();return this.semicolon(),Vt}},Kt.checkExport=function(ft,Ct,Dt){ft&&(typeof Ct!="string"&&(Ct=Ct.type==="Identifier"?Ct.name:Ct.value),Mt(ft,Ct)&&this.raiseRecoverable(Dt,"Duplicate export '"+Ct+"'"),ft[Ct]=!0)},Kt.checkPatternExport=function(ft,Ct){var Dt=Ct.type;if(Dt==="Identifier")this.checkExport(ft,Ct,Ct.start);else if(Dt==="ObjectPattern")for(var Vt=0,Yt=Ct.properties;Vt<Yt.length;Vt+=1){var lr=Yt[Vt];this.checkPatternExport(ft,lr)}else if(Dt==="ArrayPattern")for(var gr=0,Mr=Ct.elements;gr<Mr.length;gr+=1){var Fr=Mr[gr];Fr&&this.checkPatternExport(ft,Fr)}else Dt==="Property"?this.checkPatternExport(ft,Ct.value):Dt==="AssignmentPattern"?this.checkPatternExport(ft,Ct.left):Dt==="RestElement"&&this.checkPatternExport(ft,Ct.argument)},Kt.checkVariableExport=function(ft,Ct){if(ft)for(var Dt=0,Vt=Ct;Dt<Vt.length;Dt+=1){var Yt=Vt[Dt];this.checkPatternExport(ft,Yt.id)}},Kt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Kt.parseExportSpecifier=function(ft){var Ct=this.startNode();return Ct.local=this.parseModuleExportName(),Ct.exported=this.eatContextual("as")?this.parseModuleExportName():Ct.local,this.checkExport(ft,Ct.exported,Ct.exported.start),this.finishNode(Ct,"ExportSpecifier")},Kt.parseExportSpecifiers=function(ft){var Ct=[],Dt=!0;for(this.expect(lt.braceL);!this.eat(lt.braceR);){if(Dt)Dt=!1;else if(this.expect(lt.comma),this.afterTrailingComma(lt.braceR))break;Ct.push(this.parseExportSpecifier(ft))}return Ct},Kt.parseImport=function(ft){return this.next(),this.type===lt.string?(ft.specifiers=jr,ft.source=this.parseExprAtom()):(ft.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),ft.source=this.type===lt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(ft,"ImportDeclaration")},Kt.parseImportSpecifier=function(){var ft=this.startNode();return ft.imported=this.parseModuleExportName(),this.eatContextual("as")?ft.local=this.parseIdent():(this.checkUnreserved(ft.imported),ft.local=ft.imported),this.checkLValSimple(ft.local,An),this.finishNode(ft,"ImportSpecifier")},Kt.parseImportDefaultSpecifier=function(){var ft=this.startNode();return ft.local=this.parseIdent(),this.checkLValSimple(ft.local,An),this.finishNode(ft,"ImportDefaultSpecifier")},Kt.parseImportNamespaceSpecifier=function(){var ft=this.startNode();return this.next(),this.expectContextual("as"),ft.local=this.parseIdent(),this.checkLValSimple(ft.local,An),this.finishNode(ft,"ImportNamespaceSpecifier")},Kt.parseImportSpecifiers=function(){var ft=[],Ct=!0;if(this.type===lt.name&&(ft.push(this.parseImportDefaultSpecifier()),!this.eat(lt.comma)))return ft;if(this.type===lt.star)return ft.push(this.parseImportNamespaceSpecifier()),ft;for(this.expect(lt.braceL);!this.eat(lt.braceR);){if(Ct)Ct=!1;else if(this.expect(lt.comma),this.afterTrailingComma(lt.braceR))break;ft.push(this.parseImportSpecifier())}return ft},Kt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===lt.string){var ft=this.parseLiteral(this.value);return qt.test(ft.value)&&this.raise(ft.start,"An export name cannot include a lone surrogate."),ft}return this.parseIdent(!0)},Kt.adaptDirectivePrologue=function(ft){for(var Ct=0;Ct<ft.length&&this.isDirectiveCandidate(ft[Ct]);++Ct)ft[Ct].directive=ft[Ct].expression.raw.slice(1,-1)},Kt.isDirectiveCandidate=function(ft){return this.options.ecmaVersion>=5&&ft.type==="ExpressionStatement"&&ft.expression.type==="Literal"&&typeof ft.expression.value=="string"&&(this.input[ft.start]==='"'||this.input[ft.start]==="'")};var Xr=wr.prototype;Xr.toAssignable=function(ft,Ct,Dt){if(this.options.ecmaVersion>=6&&ft)switch(ft.type){case"Identifier":this.inAsync&&ft.name==="await"&&this.raise(ft.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":ft.type="ObjectPattern",Dt&&this.checkPatternErrors(Dt,!0);for(var Vt=0,Yt=ft.properties;Vt<Yt.length;Vt+=1){var lr=Yt[Vt];this.toAssignable(lr,Ct),lr.type==="RestElement"&&(lr.argument.type==="ArrayPattern"||lr.argument.type==="ObjectPattern")&&this.raise(lr.argument.start,"Unexpected token")}break;case"Property":ft.kind!=="init"&&this.raise(ft.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(ft.value,Ct);break;case"ArrayExpression":ft.type="ArrayPattern",Dt&&this.checkPatternErrors(Dt,!0),this.toAssignableList(ft.elements,Ct);break;case"SpreadElement":ft.type="RestElement",this.toAssignable(ft.argument,Ct),ft.argument.type==="AssignmentPattern"&&this.raise(ft.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":ft.operator!=="="&&this.raise(ft.left.end,"Only '=' operator can be used for specifying default value."),ft.type="AssignmentPattern",delete ft.operator,this.toAssignable(ft.left,Ct);break;case"ParenthesizedExpression":this.toAssignable(ft.expression,Ct,Dt);break;case"ChainExpression":this.raiseRecoverable(ft.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Ct)break;default:this.raise(ft.start,"Assigning to rvalue")}else Dt&&this.checkPatternErrors(Dt,!0);return ft},Xr.toAssignableList=function(ft,Ct){for(var Dt=ft.length,Vt=0;Vt<Dt;Vt++){var Yt=ft[Vt];Yt&&this.toAssignable(Yt,Ct)}if(Dt){var lr=ft[Dt-1];this.options.ecmaVersion===6&&Ct&&lr&&lr.type==="RestElement"&&lr.argument.type!=="Identifier"&&this.unexpected(lr.argument.start)}return ft},Xr.parseSpread=function(ft){var Ct=this.startNode();return this.next(),Ct.argument=this.parseMaybeAssign(!1,ft),this.finishNode(Ct,"SpreadElement")},Xr.parseRestBinding=function(){var ft=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==lt.name&&this.unexpected(),ft.argument=this.parseBindingAtom(),this.finishNode(ft,"RestElement")},Xr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case lt.bracketL:var ft=this.startNode();return this.next(),ft.elements=this.parseBindingList(lt.bracketR,!0,!0),this.finishNode(ft,"ArrayPattern");case lt.braceL:return this.parseObj(!0)}return this.parseIdent()},Xr.parseBindingList=function(ft,Ct,Dt,Vt){for(var Yt=[],lr=!0;!this.eat(ft);)if(lr?lr=!1:this.expect(lt.comma),Ct&&this.type===lt.comma)Yt.push(null);else{if(Dt&&this.afterTrailingComma(ft))break;if(this.type===lt.ellipsis){var gr=this.parseRestBinding();this.parseBindingListItem(gr),Yt.push(gr),this.type===lt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(ft);break}else Yt.push(this.parseAssignableListItem(Vt))}return Yt},Xr.parseAssignableListItem=function(ft){var Ct=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Ct),Ct},Xr.parseBindingListItem=function(ft){return ft},Xr.parseMaybeDefault=function(ft,Ct,Dt){if(Dt=Dt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(lt.eq))return Dt;var Vt=this.startNodeAt(ft,Ct);return Vt.left=Dt,Vt.right=this.parseMaybeAssign(),this.finishNode(Vt,"AssignmentPattern")},Xr.checkLValSimple=function(ft,Ct,Dt){Ct===void 0&&(Ct=Cn);var Vt=Ct!==Cn;switch(ft.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(ft.name)&&this.raiseRecoverable(ft.start,(Vt?"Binding ":"Assigning to ")+ft.name+" in strict mode"),Vt&&(Ct===An&&ft.name==="let"&&this.raiseRecoverable(ft.start,"let is disallowed as a lexically bound name"),Dt&&(Mt(Dt,ft.name)&&this.raiseRecoverable(ft.start,"Argument name clash"),Dt[ft.name]=!0),Ct!==Pn&&this.declareName(ft.name,Ct,ft.start));break;case"ChainExpression":this.raiseRecoverable(ft.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":Vt&&this.raiseRecoverable(ft.start,"Binding member expression");break;case"ParenthesizedExpression":return Vt&&this.raiseRecoverable(ft.start,"Binding parenthesized expression"),this.checkLValSimple(ft.expression,Ct,Dt);default:this.raise(ft.start,(Vt?"Binding":"Assigning to")+" rvalue")}},Xr.checkLValPattern=function(ft,Ct,Dt){switch(Ct===void 0&&(Ct=Cn),ft.type){case"ObjectPattern":for(var Vt=0,Yt=ft.properties;Vt<Yt.length;Vt+=1){var lr=Yt[Vt];this.checkLValInnerPattern(lr,Ct,Dt)}break;case"ArrayPattern":for(var gr=0,Mr=ft.elements;gr<Mr.length;gr+=1){var Fr=Mr[gr];Fr&&this.checkLValInnerPattern(Fr,Ct,Dt)}break;default:this.checkLValSimple(ft,Ct,Dt)}},Xr.checkLValInnerPattern=function(ft,Ct,Dt){switch(Ct===void 0&&(Ct=Cn),ft.type){case"Property":this.checkLValInnerPattern(ft.value,Ct,Dt);break;case"AssignmentPattern":this.checkLValPattern(ft.left,Ct,Dt);break;case"RestElement":this.checkLValPattern(ft.argument,Ct,Dt);break;default:this.checkLValPattern(ft,Ct,Dt)}};var Ur=function(Ct,Dt,Vt,Yt,lr){this.token=Ct,this.isExpr=!!Dt,this.preserveSpace=!!Vt,this.override=Yt,this.generator=!!lr},Vr={b_stat:new Ur("{",!1),b_expr:new Ur("{",!0),b_tmpl:new Ur("${",!1),p_stat:new Ur("(",!1),p_expr:new Ur("(",!0),q_tmpl:new Ur("`",!0,!0,function(ft){return ft.tryReadTemplateToken()}),f_stat:new Ur("function",!1),f_expr:new Ur("function",!0),f_expr_gen:new Ur("function",!0,!1,null,!0),f_gen:new Ur("function",!1,!1,null,!0)},ln=wr.prototype;ln.initialContext=function(){return[Vr.b_stat]},ln.curContext=function(){return this.context[this.context.length-1]},ln.braceIsBlock=function(ft){var Ct=this.curContext();return Ct===Vr.f_expr||Ct===Vr.f_stat?!0:ft===lt.colon&&(Ct===Vr.b_stat||Ct===Vr.b_expr)?!Ct.isExpr:ft===lt._return||ft===lt.name&&this.exprAllowed?St.test(this.input.slice(this.lastTokEnd,this.start)):ft===lt._else||ft===lt.semi||ft===lt.eof||ft===lt.parenR||ft===lt.arrow?!0:ft===lt.braceL?Ct===Vr.b_stat:ft===lt._var||ft===lt._const||ft===lt.name?!1:!this.exprAllowed},ln.inGeneratorContext=function(){for(var ft=this.context.length-1;ft>=1;ft--){var Ct=this.context[ft];if(Ct.token==="function")return Ct.generator}return!1},ln.updateContext=function(ft){var Ct,Dt=this.type;Dt.keyword&&ft===lt.dot?this.exprAllowed=!1:(Ct=Dt.updateContext)?Ct.call(this,ft):this.exprAllowed=Dt.beforeExpr},ln.overrideContext=function(ft){this.curContext()!==ft&&(this.context[this.context.length-1]=ft)},lt.parenR.updateContext=lt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var ft=this.context.pop();ft===Vr.b_stat&&this.curContext().token==="function"&&(ft=this.context.pop()),this.exprAllowed=!ft.isExpr},lt.braceL.updateContext=function(ft){this.context.push(this.braceIsBlock(ft)?Vr.b_stat:Vr.b_expr),this.exprAllowed=!0},lt.dollarBraceL.updateContext=function(){this.context.push(Vr.b_tmpl),this.exprAllowed=!0},lt.parenL.updateContext=function(ft){var Ct=ft===lt._if||ft===lt._for||ft===lt._with||ft===lt._while;this.context.push(Ct?Vr.p_stat:Vr.p_expr),this.exprAllowed=!0},lt.incDec.updateContext=function(){},lt._function.updateContext=lt._class.updateContext=function(ft){ft.beforeExpr&&ft!==lt._else&&!(ft===lt.semi&&this.curContext()!==Vr.p_stat)&&!(ft===lt._return&&St.test(this.input.slice(this.lastTokEnd,this.start)))&&!((ft===lt.colon||ft===lt.braceL)&&this.curContext()===Vr.b_stat)?this.context.push(Vr.f_expr):this.context.push(Vr.f_stat),this.exprAllowed=!1},lt.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},lt.backQuote.updateContext=function(){this.curContext()===Vr.q_tmpl?this.context.pop():this.context.push(Vr.q_tmpl),this.exprAllowed=!1},lt.star.updateContext=function(ft){if(ft===lt._function){var Ct=this.context.length-1;this.context[Ct]===Vr.f_expr?this.context[Ct]=Vr.f_expr_gen:this.context[Ct]=Vr.f_gen}this.exprAllowed=!0},lt.name.updateContext=function(ft){var Ct=!1;this.options.ecmaVersion>=6&&ft!==lt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Ct=!0),this.exprAllowed=Ct};var Er=wr.prototype;Er.checkPropClash=function(ft,Ct,Dt){if(!(this.options.ecmaVersion>=9&&ft.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(ft.computed||ft.method||ft.shorthand))){var Vt=ft.key,Yt;switch(Vt.type){case"Identifier":Yt=Vt.name;break;case"Literal":Yt=String(Vt.value);break;default:return}var lr=ft.kind;if(this.options.ecmaVersion>=6){Yt==="__proto__"&&lr==="init"&&(Ct.proto&&(Dt?Dt.doubleProto<0&&(Dt.doubleProto=Vt.start):this.raiseRecoverable(Vt.start,"Redefinition of __proto__ property")),Ct.proto=!0);return}Yt="$"+Yt;var gr=Ct[Yt];if(gr){var Mr;lr==="init"?Mr=this.strict&&gr.init||gr.get||gr.set:Mr=gr.init||gr[lr],Mr&&this.raiseRecoverable(Vt.start,"Redefinition of property")}else gr=Ct[Yt]={init:!1,get:!1,set:!1};gr[lr]=!0}},Er.parseExpression=function(ft,Ct){var Dt=this.start,Vt=this.startLoc,Yt=this.parseMaybeAssign(ft,Ct);if(this.type===lt.comma){var lr=this.startNodeAt(Dt,Vt);for(lr.expressions=[Yt];this.eat(lt.comma);)lr.expressions.push(this.parseMaybeAssign(ft,Ct));return this.finishNode(lr,"SequenceExpression")}return Yt},Er.parseMaybeAssign=function(ft,Ct,Dt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(ft);this.exprAllowed=!1}var Vt=!1,Yt=-1,lr=-1,gr=-1;Ct?(Yt=Ct.parenthesizedAssign,lr=Ct.trailingComma,gr=Ct.doubleProto,Ct.parenthesizedAssign=Ct.trailingComma=-1):(Ct=new Jt,Vt=!0);var Mr=this.start,Fr=this.startLoc;(this.type===lt.parenL||this.type===lt.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=ft==="await");var cn=this.parseMaybeConditional(ft,Ct);if(Dt&&(cn=Dt.call(this,cn,Mr,Fr)),this.type.isAssign){var on=this.startNodeAt(Mr,Fr);return on.operator=this.value,this.type===lt.eq&&(cn=this.toAssignable(cn,!1,Ct)),Vt||(Ct.parenthesizedAssign=Ct.trailingComma=Ct.doubleProto=-1),Ct.shorthandAssign>=cn.start&&(Ct.shorthandAssign=-1),this.type===lt.eq?this.checkLValPattern(cn):this.checkLValSimple(cn),on.left=cn,this.next(),on.right=this.parseMaybeAssign(ft),gr>-1&&(Ct.doubleProto=gr),this.finishNode(on,"AssignmentExpression")}else Vt&&this.checkExpressionErrors(Ct,!0);return Yt>-1&&(Ct.parenthesizedAssign=Yt),lr>-1&&(Ct.trailingComma=lr),cn},Er.parseMaybeConditional=function(ft,Ct){var Dt=this.start,Vt=this.startLoc,Yt=this.parseExprOps(ft,Ct);if(this.checkExpressionErrors(Ct))return Yt;if(this.eat(lt.question)){var lr=this.startNodeAt(Dt,Vt);return lr.test=Yt,lr.consequent=this.parseMaybeAssign(),this.expect(lt.colon),lr.alternate=this.parseMaybeAssign(ft),this.finishNode(lr,"ConditionalExpression")}return Yt},Er.parseExprOps=function(ft,Ct){var Dt=this.start,Vt=this.startLoc,Yt=this.parseMaybeUnary(Ct,!1,!1,ft);return this.checkExpressionErrors(Ct)||Yt.start===Dt&&Yt.type==="ArrowFunctionExpression"?Yt:this.parseExprOp(Yt,Dt,Vt,-1,ft)},Er.parseExprOp=function(ft,Ct,Dt,Vt,Yt){var lr=this.type.binop;if(lr!=null&&(!Yt||this.type!==lt._in)&&lr>Vt){var gr=this.type===lt.logicalOR||this.type===lt.logicalAND,Mr=this.type===lt.coalesce;Mr&&(lr=lt.logicalAND.binop);var Fr=this.value;this.next();var cn=this.start,on=this.startLoc,On=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Yt),cn,on,lr,Yt),_s=this.buildBinary(Ct,Dt,ft,On,Fr,gr||Mr);return(gr&&this.type===lt.coalesce||Mr&&(this.type===lt.logicalOR||this.type===lt.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(_s,Ct,Dt,Vt,Yt)}return ft},Er.buildBinary=function(ft,Ct,Dt,Vt,Yt,lr){Vt.type==="PrivateIdentifier"&&this.raise(Vt.start,"Private identifier can only be left side of binary expression");var gr=this.startNodeAt(ft,Ct);return gr.left=Dt,gr.operator=Yt,gr.right=Vt,this.finishNode(gr,lr?"LogicalExpression":"BinaryExpression")},Er.parseMaybeUnary=function(ft,Ct,Dt,Vt){var Yt=this.start,lr=this.startLoc,gr;if(this.isContextual("await")&&this.canAwait)gr=this.parseAwait(Vt),Ct=!0;else if(this.type.prefix){var Mr=this.startNode(),Fr=this.type===lt.incDec;Mr.operator=this.value,Mr.prefix=!0,this.next(),Mr.argument=this.parseMaybeUnary(null,!0,Fr,Vt),this.checkExpressionErrors(ft,!0),Fr?this.checkLValSimple(Mr.argument):this.strict&&Mr.operator==="delete"&&dn(Mr.argument)?this.raiseRecoverable(Mr.start,"Deleting local variable in strict mode"):Mr.operator==="delete"&&bs(Mr.argument)?this.raiseRecoverable(Mr.start,"Private fields can not be deleted"):Ct=!0,gr=this.finishNode(Mr,Fr?"UpdateExpression":"UnaryExpression")}else if(!Ct&&this.type===lt.privateId)(Vt||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),gr=this.parsePrivateIdent(),this.type!==lt._in&&this.unexpected();else{if(gr=this.parseExprSubscripts(ft,Vt),this.checkExpressionErrors(ft))return gr;for(;this.type.postfix&&!this.canInsertSemicolon();){var cn=this.startNodeAt(Yt,lr);cn.operator=this.value,cn.prefix=!1,cn.argument=gr,this.checkLValSimple(gr),this.next(),gr=this.finishNode(cn,"UpdateExpression")}}if(!Dt&&this.eat(lt.starstar))if(Ct)this.unexpected(this.lastTokStart);else return this.buildBinary(Yt,lr,gr,this.parseMaybeUnary(null,!1,!1,Vt),"**",!1);else return gr};function dn(ft){return ft.type==="Identifier"||ft.type==="ParenthesizedExpression"&&dn(ft.expression)}function bs(ft){return ft.type==="MemberExpression"&&ft.property.type==="PrivateIdentifier"||ft.type==="ChainExpression"&&bs(ft.expression)||ft.type==="ParenthesizedExpression"&&bs(ft.expression)}Er.parseExprSubscripts=function(ft,Ct){var Dt=this.start,Vt=this.startLoc,Yt=this.parseExprAtom(ft,Ct);if(Yt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Yt;var lr=this.parseSubscripts(Yt,Dt,Vt,!1,Ct);return ft&&lr.type==="MemberExpression"&&(ft.parenthesizedAssign>=lr.start&&(ft.parenthesizedAssign=-1),ft.parenthesizedBind>=lr.start&&(ft.parenthesizedBind=-1),ft.trailingComma>=lr.start&&(ft.trailingComma=-1)),lr},Er.parseSubscripts=function(ft,Ct,Dt,Vt,Yt){for(var lr=this.options.ecmaVersion>=8&&ft.type==="Identifier"&&ft.name==="async"&&this.lastTokEnd===ft.end&&!this.canInsertSemicolon()&&ft.end-ft.start===5&&this.potentialArrowAt===ft.start,gr=!1;;){var Mr=this.parseSubscript(ft,Ct,Dt,Vt,lr,gr,Yt);if(Mr.optional&&(gr=!0),Mr===ft||Mr.type==="ArrowFunctionExpression"){if(gr){var Fr=this.startNodeAt(Ct,Dt);Fr.expression=Mr,Mr=this.finishNode(Fr,"ChainExpression")}return Mr}ft=Mr}},Er.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(lt.arrow)},Er.parseSubscriptAsyncArrow=function(ft,Ct,Dt,Vt){return this.parseArrowExpression(this.startNodeAt(ft,Ct),Dt,!0,Vt)},Er.parseSubscript=function(ft,Ct,Dt,Vt,Yt,lr,gr){var Mr=this.options.ecmaVersion>=11,Fr=Mr&&this.eat(lt.questionDot);Vt&&Fr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var cn=this.eat(lt.bracketL);if(cn||Fr&&this.type!==lt.parenL&&this.type!==lt.backQuote||this.eat(lt.dot)){var on=this.startNodeAt(Ct,Dt);on.object=ft,cn?(on.property=this.parseExpression(),this.expect(lt.bracketR)):this.type===lt.privateId&&ft.type!=="Super"?on.property=this.parsePrivateIdent():on.property=this.parseIdent(this.options.allowReserved!=="never"),on.computed=!!cn,Mr&&(on.optional=Fr),ft=this.finishNode(on,"MemberExpression")}else if(!Vt&&this.eat(lt.parenL)){var On=new Jt,_s=this.yieldPos,$n=this.awaitPos,wn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ar=this.parseExprList(lt.parenR,this.options.ecmaVersion>=8,!1,On);if(Yt&&!Fr&&this.shouldParseAsyncArrow())return this.checkPatternErrors(On,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=_s,this.awaitPos=$n,this.awaitIdentPos=wn,this.parseSubscriptAsyncArrow(Ct,Dt,ar,gr);this.checkExpressionErrors(On,!0),this.yieldPos=_s||this.yieldPos,this.awaitPos=$n||this.awaitPos,this.awaitIdentPos=wn||this.awaitIdentPos;var jt=this.startNodeAt(Ct,Dt);jt.callee=ft,jt.arguments=ar,Mr&&(jt.optional=Fr),ft=this.finishNode(jt,"CallExpression")}else if(this.type===lt.backQuote){(Fr||lr)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var or=this.startNodeAt(Ct,Dt);or.tag=ft,or.quasi=this.parseTemplate({isTagged:!0}),ft=this.finishNode(or,"TaggedTemplateExpression")}return ft},Er.parseExprAtom=function(ft,Ct,Dt){this.type===lt.slash&&this.readRegexp();var Vt,Yt=this.potentialArrowAt===this.start;switch(this.type){case lt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Vt=this.startNode(),this.next(),this.type===lt.parenL&&!this.allowDirectSuper&&this.raise(Vt.start,"super() call outside constructor of a subclass"),this.type!==lt.dot&&this.type!==lt.bracketL&&this.type!==lt.parenL&&this.unexpected(),this.finishNode(Vt,"Super");case lt._this:return Vt=this.startNode(),this.next(),this.finishNode(Vt,"ThisExpression");case lt.name:var lr=this.start,gr=this.startLoc,Mr=this.containsEsc,Fr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Mr&&Fr.name==="async"&&!this.canInsertSemicolon()&&this.eat(lt._function))return this.overrideContext(Vr.f_expr),this.parseFunction(this.startNodeAt(lr,gr),0,!1,!0,Ct);if(Yt&&!this.canInsertSemicolon()){if(this.eat(lt.arrow))return this.parseArrowExpression(this.startNodeAt(lr,gr),[Fr],!1,Ct);if(this.options.ecmaVersion>=8&&Fr.name==="async"&&this.type===lt.name&&!Mr&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Fr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(lt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(lr,gr),[Fr],!0,Ct)}return Fr;case lt.regexp:var cn=this.value;return Vt=this.parseLiteral(cn.value),Vt.regex={pattern:cn.pattern,flags:cn.flags},Vt;case lt.num:case lt.string:return this.parseLiteral(this.value);case lt._null:case lt._true:case lt._false:return Vt=this.startNode(),Vt.value=this.type===lt._null?null:this.type===lt._true,Vt.raw=this.type.keyword,this.next(),this.finishNode(Vt,"Literal");case lt.parenL:var on=this.start,On=this.parseParenAndDistinguishExpression(Yt,Ct);return ft&&(ft.parenthesizedAssign<0&&!this.isSimpleAssignTarget(On)&&(ft.parenthesizedAssign=on),ft.parenthesizedBind<0&&(ft.parenthesizedBind=on)),On;case lt.bracketL:return Vt=this.startNode(),this.next(),Vt.elements=this.parseExprList(lt.bracketR,!0,!0,ft),this.finishNode(Vt,"ArrayExpression");case lt.braceL:return this.overrideContext(Vr.b_expr),this.parseObj(!1,ft);case lt._function:return Vt=this.startNode(),this.next(),this.parseFunction(Vt,0);case lt._class:return this.parseClass(this.startNode(),!1);case lt._new:return this.parseNew();case lt.backQuote:return this.parseTemplate();case lt._import:return this.options.ecmaVersion>=11?this.parseExprImport(Dt):this.unexpected();default:return this.parseExprAtomDefault()}},Er.parseExprAtomDefault=function(){this.unexpected()},Er.parseExprImport=function(ft){var Ct=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===lt.parenL&&!ft)return this.parseDynamicImport(Ct);if(this.type===lt.dot){var Dt=this.startNodeAt(Ct.start,Ct.loc&&Ct.loc.start);return Dt.name="import",Ct.meta=this.finishNode(Dt,"Identifier"),this.parseImportMeta(Ct)}else this.unexpected()},Er.parseDynamicImport=function(ft){if(this.next(),ft.source=this.parseMaybeAssign(),!this.eat(lt.parenR)){var Ct=this.start;this.eat(lt.comma)&&this.eat(lt.parenR)?this.raiseRecoverable(Ct,"Trailing comma is not allowed in import()"):this.unexpected(Ct)}return this.finishNode(ft,"ImportExpression")},Er.parseImportMeta=function(ft){this.next();var Ct=this.containsEsc;return ft.property=this.parseIdent(!0),ft.property.name!=="meta"&&this.raiseRecoverable(ft.property.start,"The only valid meta property for import is 'import.meta'"),Ct&&this.raiseRecoverable(ft.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(ft.start,"Cannot use 'import.meta' outside a module"),this.finishNode(ft,"MetaProperty")},Er.parseLiteral=function(ft){var Ct=this.startNode();return Ct.value=ft,Ct.raw=this.input.slice(this.start,this.end),Ct.raw.charCodeAt(Ct.raw.length-1)===110&&(Ct.bigint=Ct.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(Ct,"Literal")},Er.parseParenExpression=function(){this.expect(lt.parenL);var ft=this.parseExpression();return this.expect(lt.parenR),ft},Er.shouldParseArrow=function(ft){return!this.canInsertSemicolon()},Er.parseParenAndDistinguishExpression=function(ft,Ct){var Dt=this.start,Vt=this.startLoc,Yt,lr=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var gr=this.start,Mr=this.startLoc,Fr=[],cn=!0,on=!1,On=new Jt,_s=this.yieldPos,$n=this.awaitPos,wn;for(this.yieldPos=0,this.awaitPos=0;this.type!==lt.parenR;)if(cn?cn=!1:this.expect(lt.comma),lr&&this.afterTrailingComma(lt.parenR,!0)){on=!0;break}else if(this.type===lt.ellipsis){wn=this.start,Fr.push(this.parseParenItem(this.parseRestBinding())),this.type===lt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Fr.push(this.parseMaybeAssign(!1,On,this.parseParenItem));var ar=this.lastTokEnd,jt=this.lastTokEndLoc;if(this.expect(lt.parenR),ft&&this.shouldParseArrow(Fr)&&this.eat(lt.arrow))return this.checkPatternErrors(On,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=_s,this.awaitPos=$n,this.parseParenArrowList(Dt,Vt,Fr,Ct);(!Fr.length||on)&&this.unexpected(this.lastTokStart),wn&&this.unexpected(wn),this.checkExpressionErrors(On,!0),this.yieldPos=_s||this.yieldPos,this.awaitPos=$n||this.awaitPos,Fr.length>1?(Yt=this.startNodeAt(gr,Mr),Yt.expressions=Fr,this.finishNodeAt(Yt,"SequenceExpression",ar,jt)):Yt=Fr[0]}else Yt=this.parseParenExpression();if(this.options.preserveParens){var or=this.startNodeAt(Dt,Vt);return or.expression=Yt,this.finishNode(or,"ParenthesizedExpression")}else return Yt},Er.parseParenItem=function(ft){return ft},Er.parseParenArrowList=function(ft,Ct,Dt,Vt){return this.parseArrowExpression(this.startNodeAt(ft,Ct),Dt,!1,Vt)};var Ss=[];Er.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var ft=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===lt.dot){var Ct=this.startNodeAt(ft.start,ft.loc&&ft.loc.start);Ct.name="new",ft.meta=this.finishNode(Ct,"Identifier"),this.next();var Dt=this.containsEsc;return ft.property=this.parseIdent(!0),ft.property.name!=="target"&&this.raiseRecoverable(ft.property.start,"The only valid meta property for new is 'new.target'"),Dt&&this.raiseRecoverable(ft.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(ft.start,"'new.target' can only be used in functions and class static block"),this.finishNode(ft,"MetaProperty")}var Vt=this.start,Yt=this.startLoc;return ft.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),Vt,Yt,!0,!1),this.eat(lt.parenL)?ft.arguments=this.parseExprList(lt.parenR,this.options.ecmaVersion>=8,!1):ft.arguments=Ss,this.finishNode(ft,"NewExpression")},Er.parseTemplateElement=function(ft){var Ct=ft.isTagged,Dt=this.startNode();return this.type===lt.invalidTemplate?(Ct||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Dt.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):Dt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Dt.tail=this.type===lt.backQuote,this.finishNode(Dt,"TemplateElement")},Er.parseTemplate=function(ft){ft===void 0&&(ft={});var Ct=ft.isTagged;Ct===void 0&&(Ct=!1);var Dt=this.startNode();this.next(),Dt.expressions=[];var Vt=this.parseTemplateElement({isTagged:Ct});for(Dt.quasis=[Vt];!Vt.tail;)this.type===lt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(lt.dollarBraceL),Dt.expressions.push(this.parseExpression()),this.expect(lt.braceR),Dt.quasis.push(Vt=this.parseTemplateElement({isTagged:Ct}));return this.next(),this.finishNode(Dt,"TemplateLiteral")},Er.isAsyncProp=function(ft){return!ft.computed&&ft.key.type==="Identifier"&&ft.key.name==="async"&&(this.type===lt.name||this.type===lt.num||this.type===lt.string||this.type===lt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===lt.star)&&!St.test(this.input.slice(this.lastTokEnd,this.start))},Er.parseObj=function(ft,Ct){var Dt=this.startNode(),Vt=!0,Yt={};for(Dt.properties=[],this.next();!this.eat(lt.braceR);){if(Vt)Vt=!1;else if(this.expect(lt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(lt.braceR))break;var lr=this.parseProperty(ft,Ct);ft||this.checkPropClash(lr,Yt,Ct),Dt.properties.push(lr)}return this.finishNode(Dt,ft?"ObjectPattern":"ObjectExpression")},Er.parseProperty=function(ft,Ct){var Dt=this.startNode(),Vt,Yt,lr,gr;if(this.options.ecmaVersion>=9&&this.eat(lt.ellipsis))return ft?(Dt.argument=this.parseIdent(!1),this.type===lt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(Dt,"RestElement")):(Dt.argument=this.parseMaybeAssign(!1,Ct),this.type===lt.comma&&Ct&&Ct.trailingComma<0&&(Ct.trailingComma=this.start),this.finishNode(Dt,"SpreadElement"));this.options.ecmaVersion>=6&&(Dt.method=!1,Dt.shorthand=!1,(ft||Ct)&&(lr=this.start,gr=this.startLoc),ft||(Vt=this.eat(lt.star)));var Mr=this.containsEsc;return this.parsePropertyName(Dt),!ft&&!Mr&&this.options.ecmaVersion>=8&&!Vt&&this.isAsyncProp(Dt)?(Yt=!0,Vt=this.options.ecmaVersion>=9&&this.eat(lt.star),this.parsePropertyName(Dt)):Yt=!1,this.parsePropertyValue(Dt,ft,Vt,Yt,lr,gr,Ct,Mr),this.finishNode(Dt,"Property")},Er.parseGetterSetter=function(ft){ft.kind=ft.key.name,this.parsePropertyName(ft),ft.value=this.parseMethod(!1);var Ct=ft.kind==="get"?0:1;if(ft.value.params.length!==Ct){var Dt=ft.value.start;ft.kind==="get"?this.raiseRecoverable(Dt,"getter should have no params"):this.raiseRecoverable(Dt,"setter should have exactly one param")}else ft.kind==="set"&&ft.value.params[0].type==="RestElement"&&this.raiseRecoverable(ft.value.params[0].start,"Setter cannot use rest params")},Er.parsePropertyValue=function(ft,Ct,Dt,Vt,Yt,lr,gr,Mr){(Dt||Vt)&&this.type===lt.colon&&this.unexpected(),this.eat(lt.colon)?(ft.value=Ct?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,gr),ft.kind="init"):this.options.ecmaVersion>=6&&this.type===lt.parenL?(Ct&&this.unexpected(),ft.kind="init",ft.method=!0,ft.value=this.parseMethod(Dt,Vt)):!Ct&&!Mr&&this.options.ecmaVersion>=5&&!ft.computed&&ft.key.type==="Identifier"&&(ft.key.name==="get"||ft.key.name==="set")&&this.type!==lt.comma&&this.type!==lt.braceR&&this.type!==lt.eq?((Dt||Vt)&&this.unexpected(),this.parseGetterSetter(ft)):this.options.ecmaVersion>=6&&!ft.computed&&ft.key.type==="Identifier"?((Dt||Vt)&&this.unexpected(),this.checkUnreserved(ft.key),ft.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Yt),ft.kind="init",Ct?ft.value=this.parseMaybeDefault(Yt,lr,this.copyNode(ft.key)):this.type===lt.eq&&gr?(gr.shorthandAssign<0&&(gr.shorthandAssign=this.start),ft.value=this.parseMaybeDefault(Yt,lr,this.copyNode(ft.key))):ft.value=this.copyNode(ft.key),ft.shorthand=!0):this.unexpected()},Er.parsePropertyName=function(ft){if(this.options.ecmaVersion>=6){if(this.eat(lt.bracketL))return ft.computed=!0,ft.key=this.parseMaybeAssign(),this.expect(lt.bracketR),ft.key;ft.computed=!1}return ft.key=this.type===lt.num||this.type===lt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Er.initFunction=function(ft){ft.id=null,this.options.ecmaVersion>=6&&(ft.generator=ft.expression=!1),this.options.ecmaVersion>=8&&(ft.async=!1)},Er.parseMethod=function(ft,Ct,Dt){var Vt=this.startNode(),Yt=this.yieldPos,lr=this.awaitPos,gr=this.awaitIdentPos;return this.initFunction(Vt),this.options.ecmaVersion>=6&&(Vt.generator=ft),this.options.ecmaVersion>=8&&(Vt.async=!!Ct),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(nn(Ct,Vt.generator)|Cr|(Dt?dr:0)),this.expect(lt.parenL),Vt.params=this.parseBindingList(lt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Vt,!1,!0,!1),this.yieldPos=Yt,this.awaitPos=lr,this.awaitIdentPos=gr,this.finishNode(Vt,"FunctionExpression")},Er.parseArrowExpression=function(ft,Ct,Dt,Vt){var Yt=this.yieldPos,lr=this.awaitPos,gr=this.awaitIdentPos;return this.enterScope(nn(Dt,!1)|er),this.initFunction(ft),this.options.ecmaVersion>=8&&(ft.async=!!Dt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,ft.params=this.toAssignableList(Ct,!0),this.parseFunctionBody(ft,!0,!1,Vt),this.yieldPos=Yt,this.awaitPos=lr,this.awaitIdentPos=gr,this.finishNode(ft,"ArrowFunctionExpression")},Er.parseFunctionBody=function(ft,Ct,Dt,Vt){var Yt=Ct&&this.type!==lt.braceL,lr=this.strict,gr=!1;if(Yt)ft.body=this.parseMaybeAssign(Vt),ft.expression=!0,this.checkParams(ft,!1);else{var Mr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(ft.params);(!lr||Mr)&&(gr=this.strictDirective(this.end),gr&&Mr&&this.raiseRecoverable(ft.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Fr=this.labels;this.labels=[],gr&&(this.strict=!0),this.checkParams(ft,!lr&&!gr&&!Ct&&!Dt&&this.isSimpleParamList(ft.params)),this.strict&&ft.id&&this.checkLValSimple(ft.id,Pn),ft.body=this.parseBlock(!1,void 0,gr&&!lr),ft.expression=!1,this.adaptDirectivePrologue(ft.body.body),this.labels=Fr}this.exitScope()},Er.isSimpleParamList=function(ft){for(var Ct=0,Dt=ft;Ct<Dt.length;Ct+=1){var Vt=Dt[Ct];if(Vt.type!=="Identifier")return!1}return!0},Er.checkParams=function(ft,Ct){for(var Dt=Object.create(null),Vt=0,Yt=ft.params;Vt<Yt.length;Vt+=1){var lr=Yt[Vt];this.checkLValInnerPattern(lr,Vn,Ct?null:Dt)}},Er.parseExprList=function(ft,Ct,Dt,Vt){for(var Yt=[],lr=!0;!this.eat(ft);){if(lr)lr=!1;else if(this.expect(lt.comma),Ct&&this.afterTrailingComma(ft))break;var gr=void 0;Dt&&this.type===lt.comma?gr=null:this.type===lt.ellipsis?(gr=this.parseSpread(Vt),Vt&&this.type===lt.comma&&Vt.trailingComma<0&&(Vt.trailingComma=this.start)):gr=this.parseMaybeAssign(!1,Vt),Yt.push(gr)}return Yt},Er.checkUnreserved=function(ft){var Ct=ft.start,Dt=ft.end,Vt=ft.name;if(this.inGenerator&&Vt==="yield"&&this.raiseRecoverable(Ct,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Vt==="await"&&this.raiseRecoverable(Ct,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&Vt==="arguments"&&this.raiseRecoverable(Ct,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(Vt==="arguments"||Vt==="await")&&this.raise(Ct,"Cannot use "+Vt+" in class static initialization block"),this.keywords.test(Vt)&&this.raise(Ct,"Unexpected keyword '"+Vt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Ct,Dt).indexOf("\\")!==-1)){var Yt=this.strict?this.reservedWordsStrict:this.reservedWords;Yt.test(Vt)&&(!this.inAsync&&Vt==="await"&&this.raiseRecoverable(Ct,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Ct,"The keyword '"+Vt+"' is reserved"))}},Er.parseIdent=function(ft){var Ct=this.parseIdentNode();return this.next(!!ft),this.finishNode(Ct,"Identifier"),ft||(this.checkUnreserved(Ct),Ct.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Ct.start)),Ct},Er.parseIdentNode=function(){var ft=this.startNode();return this.type===lt.name?ft.name=this.value:this.type.keyword?(ft.name=this.type.keyword,(ft.name==="class"||ft.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=lt.name):this.unexpected(),ft},Er.parsePrivateIdent=function(){var ft=this.startNode();return this.type===lt.privateId?ft.name=this.value:this.unexpected(),this.next(),this.finishNode(ft,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(ft.start,"Private field '#"+ft.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(ft)),ft},Er.parseYield=function(ft){this.yieldPos||(this.yieldPos=this.start);var Ct=this.startNode();return this.next(),this.type===lt.semi||this.canInsertSemicolon()||this.type!==lt.star&&!this.type.startsExpr?(Ct.delegate=!1,Ct.argument=null):(Ct.delegate=this.eat(lt.star),Ct.argument=this.parseMaybeAssign(ft)),this.finishNode(Ct,"YieldExpression")},Er.parseAwait=function(ft){this.awaitPos||(this.awaitPos=this.start);var Ct=this.startNode();return this.next(),Ct.argument=this.parseMaybeUnary(null,!0,!1,ft),this.finishNode(Ct,"AwaitExpression")};var Yn=wr.prototype;Yn.raise=function(ft,Ct){var Dt=Xt(this.input,ft);Ct+=" ("+Dt.line+":"+Dt.column+")";var Vt=new SyntaxError(Ct);throw Vt.pos=ft,Vt.loc=Dt,Vt.raisedAt=this.pos,Vt},Yn.raiseRecoverable=Yn.raise,Yn.curPosition=function(){if(this.options.locations)return new Gt(this.curLine,this.pos-this.lineStart)};var Xn=wr.prototype,Ds=function(Ct){this.flags=Ct,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Xn.enterScope=function(ft){this.scopeStack.push(new Ds(ft))},Xn.exitScope=function(){this.scopeStack.pop()},Xn.treatFunctionsAsVarInScope=function(ft){return ft.flags&vr||!this.inModule&&ft.flags&xr},Xn.declareName=function(ft,Ct,Dt){var Vt=!1;if(Ct===An){var Yt=this.currentScope();Vt=Yt.lexical.indexOf(ft)>-1||Yt.functions.indexOf(ft)>-1||Yt.var.indexOf(ft)>-1,Yt.lexical.push(ft),this.inModule&&Yt.flags&xr&&delete this.undefinedExports[ft]}else if(Ct===Kn){var lr=this.currentScope();lr.lexical.push(ft)}else if(Ct===pn){var gr=this.currentScope();this.treatFunctionsAsVar?Vt=gr.lexical.indexOf(ft)>-1:Vt=gr.lexical.indexOf(ft)>-1||gr.var.indexOf(ft)>-1,gr.functions.push(ft)}else for(var Mr=this.scopeStack.length-1;Mr>=0;--Mr){var Fr=this.scopeStack[Mr];if(Fr.lexical.indexOf(ft)>-1&&!(Fr.flags&Tr&&Fr.lexical[0]===ft)||!this.treatFunctionsAsVarInScope(Fr)&&Fr.functions.indexOf(ft)>-1){Vt=!0;break}if(Fr.var.push(ft),this.inModule&&Fr.flags&xr&&delete this.undefinedExports[ft],Fr.flags&Jr)break}Vt&&this.raiseRecoverable(Dt,"Identifier '"+ft+"' has already been declared")},Xn.checkLocalExport=function(ft){this.scopeStack[0].lexical.indexOf(ft.name)===-1&&this.scopeStack[0].var.indexOf(ft.name)===-1&&(this.undefinedExports[ft.name]=ft)},Xn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Xn.currentVarScope=function(){for(var ft=this.scopeStack.length-1;;ft--){var Ct=this.scopeStack[ft];if(Ct.flags&Jr)return Ct}},Xn.currentThisScope=function(){for(var ft=this.scopeStack.length-1;;ft--){var Ct=this.scopeStack[ft];if(Ct.flags&Jr&&!(Ct.flags&er))return Ct}};var es=function(Ct,Dt,Vt){this.type="",this.start=Dt,this.end=0,Ct.options.locations&&(this.loc=new Wt(Ct,Vt)),Ct.options.directSourceFile&&(this.sourceFile=Ct.options.directSourceFile),Ct.options.ranges&&(this.range=[Dt,0])},Cs=wr.prototype;Cs.startNode=function(){return new es(this,this.start,this.startLoc)},Cs.startNodeAt=function(ft,Ct){return new es(this,ft,Ct)};function Is(ft,Ct,Dt,Vt){return ft.type=Ct,ft.end=Dt,this.options.locations&&(ft.loc.end=Vt),this.options.ranges&&(ft.range[1]=Dt),ft}Cs.finishNode=function(ft,Ct){return Is.call(this,ft,Ct,this.lastTokEnd,this.lastTokEndLoc)},Cs.finishNodeAt=function(ft,Ct,Dt,Vt){return Is.call(this,ft,Ct,Dt,Vt)},Cs.copyNode=function(ft){var Ct=new es(this,ft.start,this.startLoc);for(var Dt in ft)Ct[Dt]=ft[Dt];return Ct};var Bs="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",cs=Bs+" Extended_Pictographic",hs=cs,Ns=hs+" EBase EComp EMod EPres ExtPict",sn=Ns,ds=sn,zs={9:Bs,10:cs,11:hs,12:Ns,13:sn,14:ds},ks="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",rs={9:"",10:"",11:"",12:"",13:"",14:ks},qs="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",js="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Qs=js+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Zs=Qs+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Us=Zs+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",fs=Us+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",$s=fs+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Rs={9:js,10:Qs,11:Zs,12:Us,13:fs,14:$s},ws={};function Ws(ft){var Ct=ws[ft]={binary:Ft(zs[ft]+" "+qs),binaryOfStrings:Ft(rs[ft]),nonBinary:{General_Category:Ft(qs),Script:Ft(Rs[ft])}};Ct.nonBinary.Script_Extensions=Ct.nonBinary.Script,Ct.nonBinary.gc=Ct.nonBinary.General_Category,Ct.nonBinary.sc=Ct.nonBinary.Script,Ct.nonBinary.scx=Ct.nonBinary.Script_Extensions}for(var ps=0,yn=[9,10,11,12,13,14];ps<yn.length;ps+=1){var Qr=yn[ps];Ws(Qr)}var Kr=wr.prototype,Qn=function(Ct,Dt){this.parent=Ct,this.base=Dt||this};Qn.prototype.separatedFrom=function(Ct){for(var Dt=this;Dt;Dt=Dt.parent)for(var Vt=Ct;Vt;Vt=Vt.parent)if(Dt.base===Vt.base&&Dt!==Vt)return!0;return!1},Qn.prototype.sibling=function(){return new Qn(this.parent,this.base)};var ns=function(Ct){this.parser=Ct,this.validFlags="gim"+(Ct.options.ecmaVersion>=6?"uy":"")+(Ct.options.ecmaVersion>=9?"s":"")+(Ct.options.ecmaVersion>=13?"d":"")+(Ct.options.ecmaVersion>=15?"v":""),this.unicodeProperties=ws[Ct.options.ecmaVersion>=14?14:Ct.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};ns.prototype.reset=function(Ct,Dt,Vt){var Yt=Vt.indexOf("v")!==-1,lr=Vt.indexOf("u")!==-1;this.start=Ct|0,this.source=Dt+"",this.flags=Vt,Yt&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=lr&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=lr&&this.parser.options.ecmaVersion>=9)},ns.prototype.raise=function(Ct){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Ct)},ns.prototype.at=function(Ct,Dt){Dt===void 0&&(Dt=!1);var Vt=this.source,Yt=Vt.length;if(Ct>=Yt)return-1;var lr=Vt.charCodeAt(Ct);if(!(Dt||this.switchU)||lr<=55295||lr>=57344||Ct+1>=Yt)return lr;var gr=Vt.charCodeAt(Ct+1);return gr>=56320&&gr<=57343?(lr<<10)+gr-56613888:lr},ns.prototype.nextIndex=function(Ct,Dt){Dt===void 0&&(Dt=!1);var Vt=this.source,Yt=Vt.length;if(Ct>=Yt)return Yt;var lr=Vt.charCodeAt(Ct),gr;return!(Dt||this.switchU)||lr<=55295||lr>=57344||Ct+1>=Yt||(gr=Vt.charCodeAt(Ct+1))<56320||gr>57343?Ct+1:Ct+2},ns.prototype.current=function(Ct){return Ct===void 0&&(Ct=!1),this.at(this.pos,Ct)},ns.prototype.lookahead=function(Ct){return Ct===void 0&&(Ct=!1),this.at(this.nextIndex(this.pos,Ct),Ct)},ns.prototype.advance=function(Ct){Ct===void 0&&(Ct=!1),this.pos=this.nextIndex(this.pos,Ct)},ns.prototype.eat=function(Ct,Dt){return Dt===void 0&&(Dt=!1),this.current(Dt)===Ct?(this.advance(Dt),!0):!1},ns.prototype.eatChars=function(Ct,Dt){Dt===void 0&&(Dt=!1);for(var Vt=this.pos,Yt=0,lr=Ct;Yt<lr.length;Yt+=1){var gr=lr[Yt],Mr=this.at(Vt,Dt);if(Mr===-1||Mr!==gr)return!1;Vt=this.nextIndex(Vt,Dt)}return this.pos=Vt,!0},Kr.validateRegExpFlags=function(ft){for(var Ct=ft.validFlags,Dt=ft.flags,Vt=!1,Yt=!1,lr=0;lr<Dt.length;lr++){var gr=Dt.charAt(lr);Ct.indexOf(gr)===-1&&this.raise(ft.start,"Invalid regular expression flag"),Dt.indexOf(gr,lr+1)>-1&&this.raise(ft.start,"Duplicate regular expression flag"),gr==="u"&&(Vt=!0),gr==="v"&&(Yt=!0)}this.options.ecmaVersion>=15&&Vt&&Yt&&this.raise(ft.start,"Invalid regular expression flag")};function po(ft){for(var Ct in ft)return!0;return!1}Kr.validateRegExpPattern=function(ft){this.regexp_pattern(ft),!ft.switchN&&this.options.ecmaVersion>=9&&po(ft.groupNames)&&(ft.switchN=!0,this.regexp_pattern(ft))},Kr.regexp_pattern=function(ft){ft.pos=0,ft.lastIntValue=0,ft.lastStringValue="",ft.lastAssertionIsQuantifiable=!1,ft.numCapturingParens=0,ft.maxBackReference=0,ft.groupNames=Object.create(null),ft.backReferenceNames.length=0,ft.branchID=null,this.regexp_disjunction(ft),ft.pos!==ft.source.length&&(ft.eat(41)&&ft.raise("Unmatched ')'"),(ft.eat(93)||ft.eat(125))&&ft.raise("Lone quantifier brackets")),ft.maxBackReference>ft.numCapturingParens&&ft.raise("Invalid escape");for(var Ct=0,Dt=ft.backReferenceNames;Ct<Dt.length;Ct+=1){var Vt=Dt[Ct];ft.groupNames[Vt]||ft.raise("Invalid named capture referenced")}},Kr.regexp_disjunction=function(ft){var Ct=this.options.ecmaVersion>=16;for(Ct&&(ft.branchID=new Qn(ft.branchID,null)),this.regexp_alternative(ft);ft.eat(124);)Ct&&(ft.branchID=ft.branchID.sibling()),this.regexp_alternative(ft);Ct&&(ft.branchID=ft.branchID.parent),this.regexp_eatQuantifier(ft,!0)&&ft.raise("Nothing to repeat"),ft.eat(123)&&ft.raise("Lone quantifier brackets")},Kr.regexp_alternative=function(ft){for(;ft.pos<ft.source.length&&this.regexp_eatTerm(ft););},Kr.regexp_eatTerm=function(ft){return this.regexp_eatAssertion(ft)?(ft.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(ft)&&ft.switchU&&ft.raise("Invalid quantifier"),!0):(ft.switchU?this.regexp_eatAtom(ft):this.regexp_eatExtendedAtom(ft))?(this.regexp_eatQuantifier(ft),!0):!1},Kr.regexp_eatAssertion=function(ft){var Ct=ft.pos;if(ft.lastAssertionIsQuantifiable=!1,ft.eat(94)||ft.eat(36))return!0;if(ft.eat(92)){if(ft.eat(66)||ft.eat(98))return!0;ft.pos=Ct}if(ft.eat(40)&&ft.eat(63)){var Dt=!1;if(this.options.ecmaVersion>=9&&(Dt=ft.eat(60)),ft.eat(61)||ft.eat(33))return this.regexp_disjunction(ft),ft.eat(41)||ft.raise("Unterminated group"),ft.lastAssertionIsQuantifiable=!Dt,!0}return ft.pos=Ct,!1},Kr.regexp_eatQuantifier=function(ft,Ct){return Ct===void 0&&(Ct=!1),this.regexp_eatQuantifierPrefix(ft,Ct)?(ft.eat(63),!0):!1},Kr.regexp_eatQuantifierPrefix=function(ft,Ct){return ft.eat(42)||ft.eat(43)||ft.eat(63)||this.regexp_eatBracedQuantifier(ft,Ct)},Kr.regexp_eatBracedQuantifier=function(ft,Ct){var Dt=ft.pos;if(ft.eat(123)){var Vt=0,Yt=-1;if(this.regexp_eatDecimalDigits(ft)&&(Vt=ft.lastIntValue,ft.eat(44)&&this.regexp_eatDecimalDigits(ft)&&(Yt=ft.lastIntValue),ft.eat(125)))return Yt!==-1&&Yt<Vt&&!Ct&&ft.raise("numbers out of order in {} quantifier"),!0;ft.switchU&&!Ct&&ft.raise("Incomplete quantifier"),ft.pos=Dt}return!1},Kr.regexp_eatAtom=function(ft){return this.regexp_eatPatternCharacters(ft)||ft.eat(46)||this.regexp_eatReverseSolidusAtomEscape(ft)||this.regexp_eatCharacterClass(ft)||this.regexp_eatUncapturingGroup(ft)||this.regexp_eatCapturingGroup(ft)},Kr.regexp_eatReverseSolidusAtomEscape=function(ft){var Ct=ft.pos;if(ft.eat(92)){if(this.regexp_eatAtomEscape(ft))return!0;ft.pos=Ct}return!1},Kr.regexp_eatUncapturingGroup=function(ft){var Ct=ft.pos;if(ft.eat(40)){if(ft.eat(63)&&ft.eat(58)){if(this.regexp_disjunction(ft),ft.eat(41))return!0;ft.raise("Unterminated group")}ft.pos=Ct}return!1},Kr.regexp_eatCapturingGroup=function(ft){if(ft.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(ft):ft.current()===63&&ft.raise("Invalid group"),this.regexp_disjunction(ft),ft.eat(41))return ft.numCapturingParens+=1,!0;ft.raise("Unterminated group")}return!1},Kr.regexp_eatExtendedAtom=function(ft){return ft.eat(46)||this.regexp_eatReverseSolidusAtomEscape(ft)||this.regexp_eatCharacterClass(ft)||this.regexp_eatUncapturingGroup(ft)||this.regexp_eatCapturingGroup(ft)||this.regexp_eatInvalidBracedQuantifier(ft)||this.regexp_eatExtendedPatternCharacter(ft)},Kr.regexp_eatInvalidBracedQuantifier=function(ft){return this.regexp_eatBracedQuantifier(ft,!0)&&ft.raise("Nothing to repeat"),!1},Kr.regexp_eatSyntaxCharacter=function(ft){var Ct=ft.current();return Js(Ct)?(ft.lastIntValue=Ct,ft.advance(),!0):!1};function Js(ft){return ft===36||ft>=40&&ft<=43||ft===46||ft===63||ft>=91&&ft<=94||ft>=123&&ft<=125}Kr.regexp_eatPatternCharacters=function(ft){for(var Ct=ft.pos,Dt=0;(Dt=ft.current())!==-1&&!Js(Dt);)ft.advance();return ft.pos!==Ct},Kr.regexp_eatExtendedPatternCharacter=function(ft){var Ct=ft.current();return Ct!==-1&&Ct!==36&&!(Ct>=40&&Ct<=43)&&Ct!==46&&Ct!==63&&Ct!==91&&Ct!==94&&Ct!==124?(ft.advance(),!0):!1},Kr.regexp_groupSpecifier=function(ft){if(ft.eat(63)){this.regexp_eatGroupName(ft)||ft.raise("Invalid group");var Ct=this.options.ecmaVersion>=16,Dt=ft.groupNames[ft.lastStringValue];if(Dt)if(Ct)for(var Vt=0,Yt=Dt;Vt<Yt.length;Vt+=1){var lr=Yt[Vt];lr.separatedFrom(ft.branchID)||ft.raise("Duplicate capture group name")}else ft.raise("Duplicate capture group name");Ct?(Dt||(ft.groupNames[ft.lastStringValue]=[])).push(ft.branchID):ft.groupNames[ft.lastStringValue]=!0}},Kr.regexp_eatGroupName=function(ft){if(ft.lastStringValue="",ft.eat(60)){if(this.regexp_eatRegExpIdentifierName(ft)&&ft.eat(62))return!0;ft.raise("Invalid capture group name")}return!1},Kr.regexp_eatRegExpIdentifierName=function(ft){if(ft.lastStringValue="",this.regexp_eatRegExpIdentifierStart(ft)){for(ft.lastStringValue+=zt(ft.lastIntValue);this.regexp_eatRegExpIdentifierPart(ft);)ft.lastStringValue+=zt(ft.lastIntValue);return!0}return!1},Kr.regexp_eatRegExpIdentifierStart=function(ft){var Ct=ft.pos,Dt=this.options.ecmaVersion>=11,Vt=ft.current(Dt);return ft.advance(Dt),Vt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(ft,Dt)&&(Vt=ft.lastIntValue),wt(Vt)?(ft.lastIntValue=Vt,!0):(ft.pos=Ct,!1)};function wt(ft){return nt(ft,!0)||ft===36||ft===95}Kr.regexp_eatRegExpIdentifierPart=function(ft){var Ct=ft.pos,Dt=this.options.ecmaVersion>=11,Vt=ft.current(Dt);return ft.advance(Dt),Vt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(ft,Dt)&&(Vt=ft.lastIntValue),Lt(Vt)?(ft.lastIntValue=Vt,!0):(ft.pos=Ct,!1)};function Lt(ft){return at(ft,!0)||ft===36||ft===95||ft===8204||ft===8205}Kr.regexp_eatAtomEscape=function(ft){return this.regexp_eatBackReference(ft)||this.regexp_eatCharacterClassEscape(ft)||this.regexp_eatCharacterEscape(ft)||ft.switchN&&this.regexp_eatKGroupName(ft)?!0:(ft.switchU&&(ft.current()===99&&ft.raise("Invalid unicode escape"),ft.raise("Invalid escape")),!1)},Kr.regexp_eatBackReference=function(ft){var Ct=ft.pos;if(this.regexp_eatDecimalEscape(ft)){var Dt=ft.lastIntValue;if(ft.switchU)return Dt>ft.maxBackReference&&(ft.maxBackReference=Dt),!0;if(Dt<=ft.numCapturingParens)return!0;ft.pos=Ct}return!1},Kr.regexp_eatKGroupName=function(ft){if(ft.eat(107)){if(this.regexp_eatGroupName(ft))return ft.backReferenceNames.push(ft.lastStringValue),!0;ft.raise("Invalid named reference")}return!1},Kr.regexp_eatCharacterEscape=function(ft){return this.regexp_eatControlEscape(ft)||this.regexp_eatCControlLetter(ft)||this.regexp_eatZero(ft)||this.regexp_eatHexEscapeSequence(ft)||this.regexp_eatRegExpUnicodeEscapeSequence(ft,!1)||!ft.switchU&&this.regexp_eatLegacyOctalEscapeSequence(ft)||this.regexp_eatIdentityEscape(ft)},Kr.regexp_eatCControlLetter=function(ft){var Ct=ft.pos;if(ft.eat(99)){if(this.regexp_eatControlLetter(ft))return!0;ft.pos=Ct}return!1},Kr.regexp_eatZero=function(ft){return ft.current()===48&&!as(ft.lookahead())?(ft.lastIntValue=0,ft.advance(),!0):!1},Kr.regexp_eatControlEscape=function(ft){var Ct=ft.current();return Ct===116?(ft.lastIntValue=9,ft.advance(),!0):Ct===110?(ft.lastIntValue=10,ft.advance(),!0):Ct===118?(ft.lastIntValue=11,ft.advance(),!0):Ct===102?(ft.lastIntValue=12,ft.advance(),!0):Ct===114?(ft.lastIntValue=13,ft.advance(),!0):!1},Kr.regexp_eatControlLetter=function(ft){var Ct=ft.current();return Ut(Ct)?(ft.lastIntValue=Ct%32,ft.advance(),!0):!1};function Ut(ft){return ft>=65&&ft<=90||ft>=97&&ft<=122}Kr.regexp_eatRegExpUnicodeEscapeSequence=function(ft,Ct){Ct===void 0&&(Ct=!1);var Dt=ft.pos,Vt=Ct||ft.switchU;if(ft.eat(117)){if(this.regexp_eatFixedHexDigits(ft,4)){var Yt=ft.lastIntValue;if(Vt&&Yt>=55296&&Yt<=56319){var lr=ft.pos;if(ft.eat(92)&&ft.eat(117)&&this.regexp_eatFixedHexDigits(ft,4)){var gr=ft.lastIntValue;if(gr>=56320&&gr<=57343)return ft.lastIntValue=(Yt-55296)*1024+(gr-56320)+65536,!0}ft.pos=lr,ft.lastIntValue=Yt}return!0}if(Vt&&ft.eat(123)&&this.regexp_eatHexDigits(ft)&&ft.eat(125)&&Zt(ft.lastIntValue))return!0;Vt&&ft.raise("Invalid unicode escape"),ft.pos=Dt}return!1};function Zt(ft){return ft>=0&&ft<=1114111}Kr.regexp_eatIdentityEscape=function(ft){if(ft.switchU)return this.regexp_eatSyntaxCharacter(ft)?!0:ft.eat(47)?(ft.lastIntValue=47,!0):!1;var Ct=ft.current();return Ct!==99&&(!ft.switchN||Ct!==107)?(ft.lastIntValue=Ct,ft.advance(),!0):!1},Kr.regexp_eatDecimalEscape=function(ft){ft.lastIntValue=0;var Ct=ft.current();if(Ct>=49&&Ct<=57){do ft.lastIntValue=10*ft.lastIntValue+(Ct-48),ft.advance();while((Ct=ft.current())>=48&&Ct<=57);return!0}return!1};var ur=0,_r=1,Rr=2;Kr.regexp_eatCharacterClassEscape=function(ft){var Ct=ft.current();if(Gr(Ct))return ft.lastIntValue=-1,ft.advance(),_r;var Dt=!1;if(ft.switchU&&this.options.ecmaVersion>=9&&((Dt=Ct===80)||Ct===112)){ft.lastIntValue=-1,ft.advance();var Vt;if(ft.eat(123)&&(Vt=this.regexp_eatUnicodePropertyValueExpression(ft))&&ft.eat(125))return Dt&&Vt===Rr&&ft.raise("Invalid property name"),Vt;ft.raise("Invalid property name")}return ur};function Gr(ft){return ft===100||ft===68||ft===115||ft===83||ft===119||ft===87}Kr.regexp_eatUnicodePropertyValueExpression=function(ft){var Ct=ft.pos;if(this.regexp_eatUnicodePropertyName(ft)&&ft.eat(61)){var Dt=ft.lastStringValue;if(this.regexp_eatUnicodePropertyValue(ft)){var Vt=ft.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(ft,Dt,Vt),_r}}if(ft.pos=Ct,this.regexp_eatLoneUnicodePropertyNameOrValue(ft)){var Yt=ft.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(ft,Yt)}return ur},Kr.regexp_validateUnicodePropertyNameAndValue=function(ft,Ct,Dt){Mt(ft.unicodeProperties.nonBinary,Ct)||ft.raise("Invalid property name"),ft.unicodeProperties.nonBinary[Ct].test(Dt)||ft.raise("Invalid property value")},Kr.regexp_validateUnicodePropertyNameOrValue=function(ft,Ct){if(ft.unicodeProperties.binary.test(Ct))return _r;if(ft.switchV&&ft.unicodeProperties.binaryOfStrings.test(Ct))return Rr;ft.raise("Invalid property name")},Kr.regexp_eatUnicodePropertyName=function(ft){var Ct=0;for(ft.lastStringValue="";rn(Ct=ft.current());)ft.lastStringValue+=zt(Ct),ft.advance();return ft.lastStringValue!==""};function rn(ft){return Ut(ft)||ft===95}Kr.regexp_eatUnicodePropertyValue=function(ft){var Ct=0;for(ft.lastStringValue="";kn(Ct=ft.current());)ft.lastStringValue+=zt(Ct),ft.advance();return ft.lastStringValue!==""};function kn(ft){return rn(ft)||as(ft)}Kr.regexp_eatLoneUnicodePropertyNameOrValue=function(ft){return this.regexp_eatUnicodePropertyValue(ft)},Kr.regexp_eatCharacterClass=function(ft){if(ft.eat(91)){var Ct=ft.eat(94),Dt=this.regexp_classContents(ft);return ft.eat(93)||ft.raise("Unterminated character class"),Ct&&Dt===Rr&&ft.raise("Negated character class may contain strings"),!0}return!1},Kr.regexp_classContents=function(ft){return ft.current()===93?_r:ft.switchV?this.regexp_classSetExpression(ft):(this.regexp_nonEmptyClassRanges(ft),_r)},Kr.regexp_nonEmptyClassRanges=function(ft){for(;this.regexp_eatClassAtom(ft);){var Ct=ft.lastIntValue;if(ft.eat(45)&&this.regexp_eatClassAtom(ft)){var Dt=ft.lastIntValue;ft.switchU&&(Ct===-1||Dt===-1)&&ft.raise("Invalid character class"),Ct!==-1&&Dt!==-1&&Ct>Dt&&ft.raise("Range out of order in character class")}}},Kr.regexp_eatClassAtom=function(ft){var Ct=ft.pos;if(ft.eat(92)){if(this.regexp_eatClassEscape(ft))return!0;if(ft.switchU){var Dt=ft.current();(Dt===99||ms(Dt))&&ft.raise("Invalid class escape"),ft.raise("Invalid escape")}ft.pos=Ct}var Vt=ft.current();return Vt!==93?(ft.lastIntValue=Vt,ft.advance(),!0):!1},Kr.regexp_eatClassEscape=function(ft){var Ct=ft.pos;if(ft.eat(98))return ft.lastIntValue=8,!0;if(ft.switchU&&ft.eat(45))return ft.lastIntValue=45,!0;if(!ft.switchU&&ft.eat(99)){if(this.regexp_eatClassControlLetter(ft))return!0;ft.pos=Ct}return this.regexp_eatCharacterClassEscape(ft)||this.regexp_eatCharacterEscape(ft)},Kr.regexp_classSetExpression=function(ft){var Ct=_r,Dt;if(!this.regexp_eatClassSetRange(ft))if(Dt=this.regexp_eatClassSetOperand(ft)){Dt===Rr&&(Ct=Rr);for(var Vt=ft.pos;ft.eatChars([38,38]);){if(ft.current()!==38&&(Dt=this.regexp_eatClassSetOperand(ft))){Dt!==Rr&&(Ct=_r);continue}ft.raise("Invalid character in character class")}if(Vt!==ft.pos)return Ct;for(;ft.eatChars([45,45]);)this.regexp_eatClassSetOperand(ft)||ft.raise("Invalid character in character class");if(Vt!==ft.pos)return Ct}else ft.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(ft)){if(Dt=this.regexp_eatClassSetOperand(ft),!Dt)return Ct;Dt===Rr&&(Ct=Rr)}},Kr.regexp_eatClassSetRange=function(ft){var Ct=ft.pos;if(this.regexp_eatClassSetCharacter(ft)){var Dt=ft.lastIntValue;if(ft.eat(45)&&this.regexp_eatClassSetCharacter(ft)){var Vt=ft.lastIntValue;return Dt!==-1&&Vt!==-1&&Dt>Vt&&ft.raise("Range out of order in character class"),!0}ft.pos=Ct}return!1},Kr.regexp_eatClassSetOperand=function(ft){return this.regexp_eatClassSetCharacter(ft)?_r:this.regexp_eatClassStringDisjunction(ft)||this.regexp_eatNestedClass(ft)},Kr.regexp_eatNestedClass=function(ft){var Ct=ft.pos;if(ft.eat(91)){var Dt=ft.eat(94),Vt=this.regexp_classContents(ft);if(ft.eat(93))return Dt&&Vt===Rr&&ft.raise("Negated character class may contain strings"),Vt;ft.pos=Ct}if(ft.eat(92)){var Yt=this.regexp_eatCharacterClassEscape(ft);if(Yt)return Yt;ft.pos=Ct}return null},Kr.regexp_eatClassStringDisjunction=function(ft){var Ct=ft.pos;if(ft.eatChars([92,113])){if(ft.eat(123)){var Dt=this.regexp_classStringDisjunctionContents(ft);if(ft.eat(125))return Dt}else ft.raise("Invalid escape");ft.pos=Ct}return null},Kr.regexp_classStringDisjunctionContents=function(ft){for(var Ct=this.regexp_classString(ft);ft.eat(124);)this.regexp_classString(ft)===Rr&&(Ct=Rr);return Ct},Kr.regexp_classString=function(ft){for(var Ct=0;this.regexp_eatClassSetCharacter(ft);)Ct++;return Ct===1?_r:Rr},Kr.regexp_eatClassSetCharacter=function(ft){var Ct=ft.pos;if(ft.eat(92))return this.regexp_eatCharacterEscape(ft)||this.regexp_eatClassSetReservedPunctuator(ft)?!0:ft.eat(98)?(ft.lastIntValue=8,!0):(ft.pos=Ct,!1);var Dt=ft.current();return Dt<0||Dt===ft.lookahead()&&Wn(Dt)||ss(Dt)?!1:(ft.advance(),ft.lastIntValue=Dt,!0)};function Wn(ft){return ft===33||ft>=35&&ft<=38||ft>=42&&ft<=44||ft===46||ft>=58&&ft<=64||ft===94||ft===96||ft===126}function ss(ft){return ft===40||ft===41||ft===45||ft===47||ft>=91&&ft<=93||ft>=123&&ft<=125}Kr.regexp_eatClassSetReservedPunctuator=function(ft){var Ct=ft.current();return os(Ct)?(ft.lastIntValue=Ct,ft.advance(),!0):!1};function os(ft){return ft===33||ft===35||ft===37||ft===38||ft===44||ft===45||ft>=58&&ft<=62||ft===64||ft===96||ft===126}Kr.regexp_eatClassControlLetter=function(ft){var Ct=ft.current();return as(Ct)||Ct===95?(ft.lastIntValue=Ct%32,ft.advance(),!0):!1},Kr.regexp_eatHexEscapeSequence=function(ft){var Ct=ft.pos;if(ft.eat(120)){if(this.regexp_eatFixedHexDigits(ft,2))return!0;ft.switchU&&ft.raise("Invalid escape"),ft.pos=Ct}return!1},Kr.regexp_eatDecimalDigits=function(ft){var Ct=ft.pos,Dt=0;for(ft.lastIntValue=0;as(Dt=ft.current());)ft.lastIntValue=10*ft.lastIntValue+(Dt-48),ft.advance();return ft.pos!==Ct};function as(ft){return ft>=48&&ft<=57}Kr.regexp_eatHexDigits=function(ft){var Ct=ft.pos,Dt=0;for(ft.lastIntValue=0;Ms(Dt=ft.current());)ft.lastIntValue=16*ft.lastIntValue+vn(Dt),ft.advance();return ft.pos!==Ct};function Ms(ft){return ft>=48&&ft<=57||ft>=65&&ft<=70||ft>=97&&ft<=102}function vn(ft){return ft>=65&&ft<=70?10+(ft-65):ft>=97&&ft<=102?10+(ft-97):ft-48}Kr.regexp_eatLegacyOctalEscapeSequence=function(ft){if(this.regexp_eatOctalDigit(ft)){var Ct=ft.lastIntValue;if(this.regexp_eatOctalDigit(ft)){var Dt=ft.lastIntValue;Ct<=3&&this.regexp_eatOctalDigit(ft)?ft.lastIntValue=Ct*64+Dt*8+ft.lastIntValue:ft.lastIntValue=Ct*8+Dt}else ft.lastIntValue=Ct;return!0}return!1},Kr.regexp_eatOctalDigit=function(ft){var Ct=ft.current();return ms(Ct)?(ft.lastIntValue=Ct-48,ft.advance(),!0):(ft.lastIntValue=0,!1)};function ms(ft){return ft>=48&&ft<=55}Kr.regexp_eatFixedHexDigits=function(ft,Ct){var Dt=ft.pos;ft.lastIntValue=0;for(var Vt=0;Vt<Ct;++Vt){var Yt=ft.current();if(!Ms(Yt))return ft.pos=Dt,!1;ft.lastIntValue=16*ft.lastIntValue+vn(Yt),ft.advance()}return!0};var Jn=function(Ct){this.type=Ct.type,this.value=Ct.value,this.start=Ct.start,this.end=Ct.end,Ct.options.locations&&(this.loc=new Wt(Ct,Ct.startLoc,Ct.endLoc)),Ct.options.ranges&&(this.range=[Ct.start,Ct.end])},Sn=wr.prototype;Sn.next=function(ft){!ft&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Jn(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Sn.getToken=function(){return this.next(),new Jn(this)},typeof Symbol<"u"&&(Sn[Symbol.iterator]=function(){var ft=this;return{next:function(){var Ct=ft.getToken();return{done:Ct.type===lt.eof,value:Ct}}}}),Sn.nextToken=function(){var ft=this.curContext();if((!ft||!ft.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(lt.eof);if(ft.override)return ft.override(this);this.readToken(this.fullCharCodeAtPos())},Sn.readToken=function(ft){return nt(ft,this.options.ecmaVersion>=6)||ft===92?this.readWord():this.getTokenFromCode(ft)},Sn.fullCharCodeAtPos=function(){var ft=this.input.charCodeAt(this.pos);if(ft<=55295||ft>=56320)return ft;var Ct=this.input.charCodeAt(this.pos+1);return Ct<=56319||Ct>=57344?ft:(ft<<10)+Ct-56613888},Sn.skipBlockComment=function(){var ft=this.options.onComment&&this.curPosition(),Ct=this.pos,Dt=this.input.indexOf("*/",this.pos+=2);if(Dt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Dt+2,this.options.locations)for(var Vt=void 0,Yt=Ct;(Vt=_t(this.input,Yt,this.pos))>-1;)++this.curLine,Yt=this.lineStart=Vt;this.options.onComment&&this.options.onComment(!0,this.input.slice(Ct+2,Dt),Ct,this.pos,ft,this.curPosition())},Sn.skipLineComment=function(ft){for(var Ct=this.pos,Dt=this.options.onComment&&this.curPosition(),Vt=this.input.charCodeAt(this.pos+=ft);this.pos<this.input.length&&!yt(Vt);)Vt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Ct+ft,this.pos),Ct,this.pos,Dt,this.curPosition())},Sn.skipSpace=function(){e:for(;this.pos<this.input.length;){var ft=this.input.charCodeAt(this.pos);switch(ft){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(ft>8&&ft<14||ft>=5760&&kt.test(String.fromCharCode(ft)))++this.pos;else break e}}},Sn.finishToken=function(ft,Ct){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Dt=this.type;this.type=ft,this.value=Ct,this.updateContext(Dt)},Sn.readToken_dot=function(){var ft=this.input.charCodeAt(this.pos+1);if(ft>=48&&ft<=57)return this.readNumber(!0);var Ct=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&ft===46&&Ct===46?(this.pos+=3,this.finishToken(lt.ellipsis)):(++this.pos,this.finishToken(lt.dot))},Sn.readToken_slash=function(){var ft=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):ft===61?this.finishOp(lt.assign,2):this.finishOp(lt.slash,1)},Sn.readToken_mult_modulo_exp=function(ft){var Ct=this.input.charCodeAt(this.pos+1),Dt=1,Vt=ft===42?lt.star:lt.modulo;return this.options.ecmaVersion>=7&&ft===42&&Ct===42&&(++Dt,Vt=lt.starstar,Ct=this.input.charCodeAt(this.pos+2)),Ct===61?this.finishOp(lt.assign,Dt+1):this.finishOp(Vt,Dt)},Sn.readToken_pipe_amp=function(ft){var Ct=this.input.charCodeAt(this.pos+1);if(Ct===ft){if(this.options.ecmaVersion>=12){var Dt=this.input.charCodeAt(this.pos+2);if(Dt===61)return this.finishOp(lt.assign,3)}return this.finishOp(ft===124?lt.logicalOR:lt.logicalAND,2)}return Ct===61?this.finishOp(lt.assign,2):this.finishOp(ft===124?lt.bitwiseOR:lt.bitwiseAND,1)},Sn.readToken_caret=function(){var ft=this.input.charCodeAt(this.pos+1);return ft===61?this.finishOp(lt.assign,2):this.finishOp(lt.bitwiseXOR,1)},Sn.readToken_plus_min=function(ft){var Ct=this.input.charCodeAt(this.pos+1);return Ct===ft?Ct===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||St.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(lt.incDec,2):Ct===61?this.finishOp(lt.assign,2):this.finishOp(lt.plusMin,1)},Sn.readToken_lt_gt=function(ft){var Ct=this.input.charCodeAt(this.pos+1),Dt=1;return Ct===ft?(Dt=ft===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Dt)===61?this.finishOp(lt.assign,Dt+1):this.finishOp(lt.bitShift,Dt)):Ct===33&&ft===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Ct===61&&(Dt=2),this.finishOp(lt.relational,Dt))},Sn.readToken_eq_excl=function(ft){var Ct=this.input.charCodeAt(this.pos+1);return Ct===61?this.finishOp(lt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):ft===61&&Ct===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(lt.arrow)):this.finishOp(ft===61?lt.eq:lt.prefix,1)},Sn.readToken_question=function(){var ft=this.options.ecmaVersion;if(ft>=11){var Ct=this.input.charCodeAt(this.pos+1);if(Ct===46){var Dt=this.input.charCodeAt(this.pos+2);if(Dt<48||Dt>57)return this.finishOp(lt.questionDot,2)}if(Ct===63){if(ft>=12){var Vt=this.input.charCodeAt(this.pos+2);if(Vt===61)return this.finishOp(lt.assign,3)}return this.finishOp(lt.coalesce,2)}}return this.finishOp(lt.question,1)},Sn.readToken_numberSign=function(){var ft=this.options.ecmaVersion,Ct=35;if(ft>=13&&(++this.pos,Ct=this.fullCharCodeAtPos(),nt(Ct,!0)||Ct===92))return this.finishToken(lt.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+zt(Ct)+"'")},Sn.getTokenFromCode=function(ft){switch(ft){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(lt.parenL);case 41:return++this.pos,this.finishToken(lt.parenR);case 59:return++this.pos,this.finishToken(lt.semi);case 44:return++this.pos,this.finishToken(lt.comma);case 91:return++this.pos,this.finishToken(lt.bracketL);case 93:return++this.pos,this.finishToken(lt.bracketR);case 123:return++this.pos,this.finishToken(lt.braceL);case 125:return++this.pos,this.finishToken(lt.braceR);case 58:return++this.pos,this.finishToken(lt.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(lt.backQuote);case 48:var Ct=this.input.charCodeAt(this.pos+1);if(Ct===120||Ct===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Ct===111||Ct===79)return this.readRadixNumber(8);if(Ct===98||Ct===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(ft);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(ft);case 124:case 38:return this.readToken_pipe_amp(ft);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(ft);case 60:case 62:return this.readToken_lt_gt(ft);case 61:case 33:return this.readToken_eq_excl(ft);case 63:return this.readToken_question();case 126:return this.finishOp(lt.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+zt(ft)+"'")},Sn.finishOp=function(ft,Ct){var Dt=this.input.slice(this.pos,this.pos+Ct);return this.pos+=Ct,this.finishToken(ft,Dt)},Sn.readRegexp=function(){for(var ft,Ct,Dt=this.pos;;){this.pos>=this.input.length&&this.raise(Dt,"Unterminated regular expression");var Vt=this.input.charAt(this.pos);if(St.test(Vt)&&this.raise(Dt,"Unterminated regular expression"),ft)ft=!1;else{if(Vt==="[")Ct=!0;else if(Vt==="]"&&Ct)Ct=!1;else if(Vt==="/"&&!Ct)break;ft=Vt==="\\"}++this.pos}var Yt=this.input.slice(Dt,this.pos);++this.pos;var lr=this.pos,gr=this.readWord1();this.containsEsc&&this.unexpected(lr);var Mr=this.regexpState||(this.regexpState=new ns(this));Mr.reset(Dt,Yt,gr),this.validateRegExpFlags(Mr),this.validateRegExpPattern(Mr);var Fr=null;try{Fr=new RegExp(Yt,gr)}catch{}return this.finishToken(lt.regexp,{pattern:Yt,flags:gr,value:Fr})},Sn.readInt=function(ft,Ct,Dt){for(var Vt=this.options.ecmaVersion>=12&&Ct===void 0,Yt=Dt&&this.input.charCodeAt(this.pos)===48,lr=this.pos,gr=0,Mr=0,Fr=0,cn=Ct??1/0;Fr<cn;++Fr,++this.pos){var on=this.input.charCodeAt(this.pos),On=void 0;if(Vt&&on===95){Yt&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Mr===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Fr===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Mr=on;continue}if(on>=97?On=on-97+10:on>=65?On=on-65+10:on>=48&&on<=57?On=on-48:On=1/0,On>=ft)break;Mr=on,gr=gr*ft+On}return Vt&&Mr===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===lr||Ct!=null&&this.pos-lr!==Ct?null:gr};function mo(ft,Ct){return Ct?parseInt(ft,8):parseFloat(ft.replace(/_/g,""))}function gs(ft){return typeof BigInt!="function"?null:BigInt(ft.replace(/_/g,""))}Sn.readRadixNumber=function(ft){var Ct=this.pos;this.pos+=2;var Dt=this.readInt(ft);return Dt==null&&this.raise(this.start+2,"Expected number in radix "+ft),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Dt=gs(this.input.slice(Ct,this.pos)),++this.pos):nt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(lt.num,Dt)},Sn.readNumber=function(ft){var Ct=this.pos;!ft&&this.readInt(10,void 0,!0)===null&&this.raise(Ct,"Invalid number");var Dt=this.pos-Ct>=2&&this.input.charCodeAt(Ct)===48;Dt&&this.strict&&this.raise(Ct,"Invalid number");var Vt=this.input.charCodeAt(this.pos);if(!Dt&&!ft&&this.options.ecmaVersion>=11&&Vt===110){var Yt=gs(this.input.slice(Ct,this.pos));return++this.pos,nt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(lt.num,Yt)}Dt&&/[89]/.test(this.input.slice(Ct,this.pos))&&(Dt=!1),Vt===46&&!Dt&&(++this.pos,this.readInt(10),Vt=this.input.charCodeAt(this.pos)),(Vt===69||Vt===101)&&!Dt&&(Vt=this.input.charCodeAt(++this.pos),(Vt===43||Vt===45)&&++this.pos,this.readInt(10)===null&&this.raise(Ct,"Invalid number")),nt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var lr=mo(this.input.slice(Ct,this.pos),Dt);return this.finishToken(lt.num,lr)},Sn.readCodePoint=function(){var ft=this.input.charCodeAt(this.pos),Ct;if(ft===123){this.options.ecmaVersion<6&&this.unexpected();var Dt=++this.pos;Ct=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Ct>1114111&&this.invalidStringToken(Dt,"Code point out of bounds")}else Ct=this.readHexChar(4);return Ct},Sn.readString=function(ft){for(var Ct="",Dt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Vt=this.input.charCodeAt(this.pos);if(Vt===ft)break;Vt===92?(Ct+=this.input.slice(Dt,this.pos),Ct+=this.readEscapedChar(!1),Dt=this.pos):Vt===8232||Vt===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(yt(Vt)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Ct+=this.input.slice(Dt,this.pos++),this.finishToken(lt.string,Ct)};var go={};Sn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(ft){if(ft===go)this.readInvalidTemplateToken();else throw ft}this.inTemplateElement=!1},Sn.invalidStringToken=function(ft,Ct){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw go;this.raise(ft,Ct)},Sn.readTmplToken=function(){for(var ft="",Ct=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Dt=this.input.charCodeAt(this.pos);if(Dt===96||Dt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===lt.template||this.type===lt.invalidTemplate)?Dt===36?(this.pos+=2,this.finishToken(lt.dollarBraceL)):(++this.pos,this.finishToken(lt.backQuote)):(ft+=this.input.slice(Ct,this.pos),this.finishToken(lt.template,ft));if(Dt===92)ft+=this.input.slice(Ct,this.pos),ft+=this.readEscapedChar(!0),Ct=this.pos;else if(yt(Dt)){switch(ft+=this.input.slice(Ct,this.pos),++this.pos,Dt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:ft+=`
`;break;default:ft+=String.fromCharCode(Dt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Ct=this.pos}else++this.pos}},Sn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(lt.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Sn.readEscapedChar=function(ft){var Ct=this.input.charCodeAt(++this.pos);switch(++this.pos,Ct){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return zt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),ft){var Dt=this.pos-1;this.invalidStringToken(Dt,"Invalid escape sequence in template string")}default:if(Ct>=48&&Ct<=55){var Vt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Yt=parseInt(Vt,8);return Yt>255&&(Vt=Vt.slice(0,-1),Yt=parseInt(Vt,8)),this.pos+=Vt.length-1,Ct=this.input.charCodeAt(this.pos),(Vt!=="0"||Ct===56||Ct===57)&&(this.strict||ft)&&this.invalidStringToken(this.pos-1-Vt.length,ft?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Yt)}return yt(Ct)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(Ct)}},Sn.readHexChar=function(ft){var Ct=this.pos,Dt=this.readInt(16,ft);return Dt===null&&this.invalidStringToken(Ct,"Bad character escape sequence"),Dt},Sn.readWord1=function(){this.containsEsc=!1;for(var ft="",Ct=!0,Dt=this.pos,Vt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Yt=this.fullCharCodeAtPos();if(at(Yt,Vt))this.pos+=Yt<=65535?1:2;else if(Yt===92){this.containsEsc=!0,ft+=this.input.slice(Dt,this.pos);var lr=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var gr=this.readCodePoint();(Ct?nt:at)(gr,Vt)||this.invalidStringToken(lr,"Invalid Unicode escape"),ft+=zt(gr),Dt=this.pos}else break;Ct=!1}return ft+this.input.slice(Dt,this.pos)},Sn.readWord=function(){var ft=this.readWord1(),Ct=lt.name;return this.keywords.test(ft)&&(Ct=mt[ft]),this.finishToken(Ct,ft)};var yo="8.12.1";wr.acorn={Parser:wr,version:yo,defaultOptions:rr,Position:Gt,SourceLocation:Wt,getLineInfo:Xt,Node:es,TokenType:ct,tokTypes:lt,keywordTypes:mt,TokContext:Ur,tokContexts:Vr,isIdentifierChar:at,isIdentifierStart:nt,Token:Jn,isNewLine:yt,lineBreak:St,lineBreakG:xt,nonASCIIwhitespace:kt};function vt(ft,Ct){return wr.parse(ft,Ct)}function Rt(ft,Ct,Dt){return wr.parseExpressionAt(ft,Ct,Dt)}function Bt(ft,Ct){return wr.tokenizer(ft,Ct)}o.Node=es,o.Parser=wr,o.Position=Gt,o.SourceLocation=Wt,o.TokContext=Ur,o.Token=Jn,o.TokenType=ct,o.defaultOptions=rr,o.getLineInfo=Xt,o.isIdentifierChar=at,o.isIdentifierStart=nt,o.isNewLine=yt,o.keywordTypes=mt,o.lineBreak=St,o.lineBreakG=xt,o.nonASCIIwhitespace=kt,o.parse=vt,o.parseExpressionAt=Rt,o.tokContexts=Vr,o.tokTypes=lt,o.tokenizer=Bt,o.version=yo})}(acorn,acorn.exports)),acorn.exports}(function(i,s){(function(o,a){a(s,requireAcorn())})(commonjsGlobal,function(o,a){var tt="";function _e(et){return et.name===tt}function st(){}var ot=function(nt,at){if(at===void 0&&(at={}),this.toks=this.constructor.BaseParser.tokenizer(nt,at),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:a.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=st,this.tok.validateRegExpPattern=st,this.options.locations){var ct=this.toks.curPosition();this.tok.loc=new a.SourceLocation(this.toks,ct,ct)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};ot.prototype.startNode=function(){return new a.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},ot.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},ot.prototype.startNodeAt=function(nt){return this.options.locations?new a.Node(this.toks,nt[0],nt[1]):new a.Node(this.toks,nt)},ot.prototype.finishNode=function(nt,at){return nt.type=at,nt.end=this.last.end,this.options.locations&&(nt.loc.end=this.last.loc.end),this.options.ranges&&(nt.range[1]=this.last.end),nt},ot.prototype.dummyNode=function(nt){var at=this.startNode();return at.type=nt,at.end=at.start,this.options.locations&&(at.loc.end=at.loc.start),this.options.ranges&&(at.range[1]=at.start),this.last={type:a.tokTypes.name,start:at.start,end:at.start,loc:at.loc},at},ot.prototype.dummyIdent=function(){var nt=this.dummyNode("Identifier");return nt.name=tt,nt},ot.prototype.dummyString=function(){var nt=this.dummyNode("Literal");return nt.value=nt.raw=tt,nt},ot.prototype.eat=function(nt){return this.tok.type===nt?(this.next(),!0):!1},ot.prototype.isContextual=function(nt){return this.tok.type===a.tokTypes.name&&this.tok.value===nt},ot.prototype.eatContextual=function(nt){return this.tok.value===nt&&this.eat(a.tokTypes.name)},ot.prototype.canInsertSemicolon=function(){return this.tok.type===a.tokTypes.eof||this.tok.type===a.tokTypes.braceR||a.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},ot.prototype.semicolon=function(){return this.eat(a.tokTypes.semi)},ot.prototype.expect=function(nt){if(this.eat(nt))return!0;for(var at=1;at<=2;at++)if(this.lookAhead(at).type===nt){for(var ct=0;ct<at;ct++)this.next();return!0}},ot.prototype.pushCx=function(){this.context.push(this.curIndent)},ot.prototype.popCx=function(){this.curIndent=this.context.pop()},ot.prototype.lineEnd=function(nt){for(;nt<this.input.length&&!a.isNewLine(this.input.charCodeAt(nt));)++nt;return nt},ot.prototype.indentationAfter=function(nt){for(var at=0;;++nt){var ct=this.input.charCodeAt(nt);if(ct===32)++at;else if(ct===9)at+=this.options.tabSize;else return at}},ot.prototype.closes=function(nt,at,ct,ht){return this.tok.type===nt||this.tok.type===a.tokTypes.eof?!0:ct!==this.curLineStart&&this.curIndent<at&&this.tokenStartsLine()&&(!ht||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<at)},ot.prototype.tokenStartsLine=function(){for(var nt=this.tok.start-1;nt>=this.curLineStart;--nt){var at=this.input.charCodeAt(nt);if(at!==9&&at!==32)return!1}return!0},ot.prototype.extend=function(nt,at){this[nt]=at(this[nt])},ot.prototype.parse=function(){return this.next(),this.parseTopLevel()},ot.extend=function(){for(var nt=[],at=arguments.length;at--;)nt[at]=arguments[at];for(var ct=this,ht=0;ht<nt.length;ht++)ct=nt[ht](ct);return ct},ot.parse=function(nt,at){return new this(nt,at).parse()},ot.BaseParser=a.Parser;var rt=ot.prototype;function it(et){return et<14&&et>8||et===32||et===160||a.isNewLine(et)}rt.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},rt.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===a.tokTypes.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=a.tokTypes.ellipsis),new a.Token(this.toks)}catch(ut){if(!(ut instanceof SyntaxError))throw ut;var et=ut.message,nt=ut.raisedAt,at=!0;if(/unterminated/i.test(et))if(nt=this.lineEnd(ut.pos+1),/string/.test(et))at={start:ut.pos,end:nt,type:a.tokTypes.string,value:this.input.slice(ut.pos+1,nt)};else if(/regular expr/i.test(et)){var ct=this.input.slice(ut.pos,nt);try{ct=new RegExp(ct)}catch{}at={start:ut.pos,end:nt,type:a.tokTypes.regexp,value:ct}}else/template/.test(et)?at={start:ut.pos,end:nt,type:a.tokTypes.template,value:this.input.slice(ut.pos,nt)}:at=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(et))for(;nt<this.input.length&&!it(this.input.charCodeAt(nt));)++nt;else if(/character escape|expected hexadecimal/i.test(et))for(;nt<this.input.length;){var ht=this.input.charCodeAt(nt++);if(ht===34||ht===39||a.isNewLine(ht))break}else if(/unexpected character/i.test(et))nt++,at=!1;else if(/regular expression/i.test(et))at=!0;else throw ut;if(this.resetTo(nt),at===!0&&(at={start:nt,end:nt,type:a.tokTypes.name,value:tt}),at)return this.options.locations&&(at.loc=new a.SourceLocation(this.toks,a.getLineInfo(this.input,at.start),a.getLineInfo(this.input,at.end))),at}},rt.resetTo=function(et){this.toks.pos=et,this.toks.containsEsc=!1;var nt=this.input.charAt(et-1);if(this.toks.exprAllowed=!nt||/[[{(,;:?/*=+\-~!|&%^<>]/.test(nt)||/[enwfd]/.test(nt)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(et-10,et)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=a.lineBreakG.lastIndex=0;for(var at;(at=a.lineBreakG.exec(this.input))&&at.index<et;)++this.toks.curLine,this.toks.lineStart=at.index+at[0].length}},rt.lookAhead=function(et){for(;et>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[et-1]};var j=ot.prototype;j.parseTopLevel=function(){var et=this.startNodeAt(this.options.locations?[0,a.getLineInfo(this.input,0)]:0);for(et.body=[];this.tok.type!==a.tokTypes.eof;)et.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(et.body),this.last=this.tok,et.sourceType=this.options.sourceType,this.finishNode(et,"Program")},j.parseStatement=function(){var et=this.tok.type,nt=this.startNode(),at;switch(this.toks.isLet()&&(et=a.tokTypes._var,at="let"),et){case a.tokTypes._break:case a.tokTypes._continue:this.next();var ct=et===a.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?nt.label=null:(nt.label=this.tok.type===a.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(nt,ct?"BreakStatement":"ContinueStatement");case a.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(nt,"DebuggerStatement");case a.tokTypes._do:return this.next(),nt.body=this.parseStatement(),nt.test=this.eat(a.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(nt,"DoWhileStatement");case a.tokTypes._for:this.next();var ht=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(a.tokTypes.parenL),this.tok.type===a.tokTypes.semi)return this.parseFor(nt,null);var ut=this.toks.isLet();if(ut||this.tok.type===a.tokTypes._var||this.tok.type===a.tokTypes._const){var dt=this.parseVar(this.startNode(),!0,ut?"let":this.tok.value);return dt.declarations.length===1&&(this.tok.type===a.tokTypes._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(nt.await=ht),this.parseForIn(nt,dt)):this.parseFor(nt,dt)}var mt=this.parseExpression(!0);return this.tok.type===a.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(nt.await=ht),this.parseForIn(nt,this.toAssignable(mt))):this.parseFor(nt,mt);case a.tokTypes._function:return this.next(),this.parseFunction(nt,!0);case a.tokTypes._if:return this.next(),nt.test=this.parseParenExpression(),nt.consequent=this.parseStatement(),nt.alternate=this.eat(a.tokTypes._else)?this.parseStatement():null,this.finishNode(nt,"IfStatement");case a.tokTypes._return:return this.next(),this.eat(a.tokTypes.semi)||this.canInsertSemicolon()?nt.argument=null:(nt.argument=this.parseExpression(),this.semicolon()),this.finishNode(nt,"ReturnStatement");case a.tokTypes._switch:var gt=this.curIndent,lt=this.curLineStart;this.next(),nt.discriminant=this.parseParenExpression(),nt.cases=[],this.pushCx(),this.expect(a.tokTypes.braceL);for(var St;!this.closes(a.tokTypes.braceR,gt,lt,!0);)if(this.tok.type===a.tokTypes._case||this.tok.type===a.tokTypes._default){var xt=this.tok.type===a.tokTypes._case;St&&this.finishNode(St,"SwitchCase"),nt.cases.push(St=this.startNode()),St.consequent=[],this.next(),xt?St.test=this.parseExpression():St.test=null,this.expect(a.tokTypes.colon)}else St||(nt.cases.push(St=this.startNode()),St.consequent=[],St.test=null),St.consequent.push(this.parseStatement());return St&&this.finishNode(St,"SwitchCase"),this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(nt,"SwitchStatement");case a.tokTypes._throw:return this.next(),nt.argument=this.parseExpression(),this.semicolon(),this.finishNode(nt,"ThrowStatement");case a.tokTypes._try:if(this.next(),nt.block=this.parseBlock(),nt.handler=null,this.tok.type===a.tokTypes._catch){var yt=this.startNode();this.next(),this.eat(a.tokTypes.parenL)?(yt.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(a.tokTypes.parenR)):yt.param=null,yt.body=this.parseBlock(),nt.handler=this.finishNode(yt,"CatchClause")}return nt.finalizer=this.eat(a.tokTypes._finally)?this.parseBlock():null,!nt.handler&&!nt.finalizer?nt.block:this.finishNode(nt,"TryStatement");case a.tokTypes._var:case a.tokTypes._const:return this.parseVar(nt,!1,at||this.tok.value);case a.tokTypes._while:return this.next(),nt.test=this.parseParenExpression(),nt.body=this.parseStatement(),this.finishNode(nt,"WhileStatement");case a.tokTypes._with:return this.next(),nt.object=this.parseParenExpression(),nt.body=this.parseStatement(),this.finishNode(nt,"WithStatement");case a.tokTypes.braceL:return this.parseBlock();case a.tokTypes.semi:return this.next(),this.finishNode(nt,"EmptyStatement");case a.tokTypes._class:return this.parseClass(!0);case a.tokTypes._import:if(this.options.ecmaVersion>10){var _t=this.lookAhead(1).type;if(_t===a.tokTypes.parenL||_t===a.tokTypes.dot)return nt.expression=this.parseExpression(),this.semicolon(),this.finishNode(nt,"ExpressionStatement")}return this.parseImport();case a.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(nt,!0,!0);var kt=this.parseExpression();return _e(kt)?(this.next(),this.tok.type===a.tokTypes.eof?this.finishNode(nt,"EmptyStatement"):this.parseStatement()):et===a.tokTypes.name&&kt.type==="Identifier"&&this.eat(a.tokTypes.colon)?(nt.body=this.parseStatement(),nt.label=kt,this.finishNode(nt,"LabeledStatement")):(nt.expression=kt,this.semicolon(),this.finishNode(nt,"ExpressionStatement"))}},j.parseBlock=function(){var et=this.startNode();this.pushCx(),this.expect(a.tokTypes.braceL);var nt=this.curIndent,at=this.curLineStart;for(et.body=[];!this.closes(a.tokTypes.braceR,nt,at,!0);)et.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(et,"BlockStatement")},j.parseFor=function(et,nt){return et.init=nt,et.test=et.update=null,this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.semi&&(et.test=this.parseExpression()),this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.parenR&&(et.update=this.parseExpression()),this.popCx(),this.expect(a.tokTypes.parenR),et.body=this.parseStatement(),this.finishNode(et,"ForStatement")},j.parseForIn=function(et,nt){var at=this.tok.type===a.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),et.left=nt,et.right=this.parseExpression(),this.popCx(),this.expect(a.tokTypes.parenR),et.body=this.parseStatement(),this.finishNode(et,at)},j.parseVar=function(et,nt,at){et.kind=at,this.next(),et.declarations=[];do{var ct=this.startNode();ct.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),ct.init=this.eat(a.tokTypes.eq)?this.parseMaybeAssign(nt):null,et.declarations.push(this.finishNode(ct,"VariableDeclarator"))}while(this.eat(a.tokTypes.comma));if(!et.declarations.length){var ht=this.startNode();ht.id=this.dummyIdent(),et.declarations.push(this.finishNode(ht,"VariableDeclarator"))}return nt||this.semicolon(),this.finishNode(et,"VariableDeclaration")},j.parseClass=function(et){var nt=this.startNode();this.next(),this.tok.type===a.tokTypes.name?nt.id=this.parseIdent():et===!0?nt.id=this.dummyIdent():nt.id=null,nt.superClass=this.eat(a.tokTypes._extends)?this.parseExpression():null,nt.body=this.startNode(),nt.body.body=[],this.pushCx();var at=this.curIndent+1,ct=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<at&&(at=this.curIndent,ct=this.curLineStart);!this.closes(a.tokTypes.braceR,at,ct);){var ht=this.parseClassElement();ht&&nt.body.body.push(ht)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(nt.body,"ClassBody"),this.finishNode(nt,et?"ClassDeclaration":"ClassExpression")},j.parseClassElement=function(){if(this.eat(a.tokTypes.semi))return null;var et=this.options,nt=et.ecmaVersion,at=et.locations,ct=this.curIndent,ht=this.curLineStart,ut=this.startNode(),dt="",mt=!1,gt=!1,lt="method",St=!1;if(this.eatContextual("static")){if(nt>=13&&this.eat(a.tokTypes.braceL))return this.parseClassStaticBlock(ut),ut;this.isClassElementNameStart()||this.toks.type===a.tokTypes.star?St=!0:dt="static"}if(ut.static=St,!dt&&nt>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===a.tokTypes.star)&&!this.canInsertSemicolon()?gt=!0:dt="async"),!dt){mt=this.eat(a.tokTypes.star);var xt=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?lt=xt:dt=xt)}if(dt)ut.computed=!1,ut.key=this.startNodeAt(at?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),ut.key.name=dt,this.finishNode(ut.key,"Identifier");else if(this.parseClassElementName(ut),_e(ut.key))return _e(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma),null;if(nt<13||this.toks.type===a.tokTypes.parenL||lt!=="method"||mt||gt){var yt=!ut.computed&&!ut.static&&!mt&&!gt&&lt==="method"&&(ut.key.type==="Identifier"&&ut.key.name==="constructor"||ut.key.type==="Literal"&&ut.key.value==="constructor");ut.kind=yt?"constructor":lt,ut.value=this.parseMethod(mt,gt),this.finishNode(ut,"MethodDefinition")}else{if(this.eat(a.tokTypes.eq))if(this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine())ut.value=null;else{var _t=this.inAsync,kt=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,ut.value=this.parseMaybeAssign(),this.inAsync=_t,this.inGenerator=kt}else ut.value=null;this.semicolon(),this.finishNode(ut,"PropertyDefinition")}return ut},j.parseClassStaticBlock=function(et){var nt=this.curIndent,at=this.curLineStart;for(et.body=[],this.pushCx();!this.closes(a.tokTypes.braceR,nt,at,!0);)et.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(et,"StaticBlock")},j.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},j.parseClassElementName=function(et){this.toks.type===a.tokTypes.privateId?(et.computed=!1,et.key=this.parsePrivateIdent()):this.parsePropertyName(et)},j.parseFunction=function(et,nt,at){var ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(et),this.options.ecmaVersion>=6&&(et.generator=this.eat(a.tokTypes.star)),this.options.ecmaVersion>=8&&(et.async=!!at),this.tok.type===a.tokTypes.name?et.id=this.parseIdent():nt===!0&&(et.id=this.dummyIdent()),this.inAsync=et.async,this.inGenerator=et.generator,this.inFunction=!0,et.params=this.parseFunctionParams(),et.body=this.parseBlock(),this.toks.adaptDirectivePrologue(et.body.body),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(et,nt?"FunctionDeclaration":"FunctionExpression")},j.parseExport=function(){var et=this.startNode();if(this.next(),this.eat(a.tokTypes.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?et.exported=this.parseExprAtom():et.exported=null),et.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(et,"ExportAllDeclaration");if(this.eat(a.tokTypes._default)){var nt;if(this.tok.type===a.tokTypes._function||(nt=this.toks.isAsyncFunction())){var at=this.startNode();this.next(),nt&&this.next(),et.declaration=this.parseFunction(at,"nullableID",nt)}else this.tok.type===a.tokTypes._class?et.declaration=this.parseClass("nullableID"):(et.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(et,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(et.declaration=this.parseStatement(),et.specifiers=[],et.source=null):(et.declaration=null,et.specifiers=this.parseExportSpecifierList(),et.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(et,"ExportNamedDeclaration")},j.parseImport=function(){var et=this.startNode();if(this.next(),this.tok.type===a.tokTypes.string)et.specifiers=[],et.source=this.parseExprAtom();else{var nt;this.tok.type===a.tokTypes.name&&this.tok.value!=="from"&&(nt=this.startNode(),nt.local=this.parseIdent(),this.finishNode(nt,"ImportDefaultSpecifier"),this.eat(a.tokTypes.comma)),et.specifiers=this.parseImportSpecifiers(),et.source=this.eatContextual("from")&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.dummyString(),nt&&et.specifiers.unshift(nt)}return this.semicolon(),this.finishNode(et,"ImportDeclaration")},j.parseImportSpecifiers=function(){var et=[];if(this.tok.type===a.tokTypes.star){var nt=this.startNode();this.next(),nt.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),et.push(this.finishNode(nt,"ImportNamespaceSpecifier"))}else{var at=this.curIndent,ct=this.curLineStart,ht=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>ht&&(ht=this.curLineStart);!this.closes(a.tokTypes.braceR,at+(this.curLineStart<=ht?1:0),ct);){var ut=this.startNode();if(this.eat(a.tokTypes.star))ut.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(ut,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(ut.imported=this.parseModuleExportName(),_e(ut.imported)))break;ut.local=this.eatContextual("as")?this.parseModuleExportName():ut.imported,this.finishNode(ut,"ImportSpecifier")}et.push(ut),this.eat(a.tokTypes.comma)}this.eat(a.tokTypes.braceR),this.popCx()}return et},j.parseExportSpecifierList=function(){var et=[],nt=this.curIndent,at=this.curLineStart,ct=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>ct&&(ct=this.curLineStart);!this.closes(a.tokTypes.braceR,nt+(this.curLineStart<=ct?1:0),at)&&!this.isContextual("from");){var ht=this.startNode();if(ht.local=this.parseModuleExportName(),_e(ht.local))break;ht.exported=this.eatContextual("as")?this.parseModuleExportName():ht.local,this.finishNode(ht,"ExportSpecifier"),et.push(ht),this.eat(a.tokTypes.comma)}return this.eat(a.tokTypes.braceR),this.popCx(),et},j.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent()};var _=ot.prototype;_.checkLVal=function(et){if(!et)return et;switch(et.type){case"Identifier":case"MemberExpression":return et;case"ParenthesizedExpression":return et.expression=this.checkLVal(et.expression),et;default:return this.dummyIdent()}},_.parseExpression=function(et){var nt=this.storeCurrentPos(),at=this.parseMaybeAssign(et);if(this.tok.type===a.tokTypes.comma){var ct=this.startNodeAt(nt);for(ct.expressions=[at];this.eat(a.tokTypes.comma);)ct.expressions.push(this.parseMaybeAssign(et));return this.finishNode(ct,"SequenceExpression")}return at},_.parseParenExpression=function(){this.pushCx(),this.expect(a.tokTypes.parenL);var et=this.parseExpression();return this.popCx(),this.expect(a.tokTypes.parenR),et},_.parseMaybeAssign=function(et){if(this.inGenerator&&this.toks.isContextual("yield")){var nt=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==a.tokTypes.star&&!this.tok.type.startsExpr?(nt.delegate=!1,nt.argument=null):(nt.delegate=this.eat(a.tokTypes.star),nt.argument=this.parseMaybeAssign()),this.finishNode(nt,"YieldExpression")}var at=this.storeCurrentPos(),ct=this.parseMaybeConditional(et);if(this.tok.type.isAssign){var ht=this.startNodeAt(at);return ht.operator=this.tok.value,ht.left=this.tok.type===a.tokTypes.eq?this.toAssignable(ct):this.checkLVal(ct),this.next(),ht.right=this.parseMaybeAssign(et),this.finishNode(ht,"AssignmentExpression")}return ct},_.parseMaybeConditional=function(et){var nt=this.storeCurrentPos(),at=this.parseExprOps(et);if(this.eat(a.tokTypes.question)){var ct=this.startNodeAt(nt);return ct.test=at,ct.consequent=this.parseMaybeAssign(),ct.alternate=this.expect(a.tokTypes.colon)?this.parseMaybeAssign(et):this.dummyIdent(),this.finishNode(ct,"ConditionalExpression")}return at},_.parseExprOps=function(et){var nt=this.storeCurrentPos(),at=this.curIndent,ct=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),nt,-1,et,at,ct)},_.parseExprOp=function(et,nt,at,ct,ht,ut){if(this.curLineStart!==ut&&this.curIndent<ht&&this.tokenStartsLine())return et;var dt=this.tok.type.binop;if(dt!=null&&(!ct||this.tok.type!==a.tokTypes._in)&&dt>at){var mt=this.startNodeAt(nt);if(mt.left=et,mt.operator=this.tok.value,this.next(),this.curLineStart!==ut&&this.curIndent<ht&&this.tokenStartsLine())mt.right=this.dummyIdent();else{var gt=this.storeCurrentPos();mt.right=this.parseExprOp(this.parseMaybeUnary(!1),gt,dt,ct,ht,ut)}return this.finishNode(mt,/&&|\|\||\?\?/.test(mt.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(mt,nt,at,ct,ht,ut)}return et},_.parseMaybeUnary=function(et){var nt=this.storeCurrentPos(),at;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))at=this.parseAwait(),et=!0;else if(this.tok.type.prefix){var ct=this.startNode(),ht=this.tok.type===a.tokTypes.incDec;ht||(et=!0),ct.operator=this.tok.value,ct.prefix=!0,this.next(),ct.argument=this.parseMaybeUnary(!0),ht&&(ct.argument=this.checkLVal(ct.argument)),at=this.finishNode(ct,ht?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===a.tokTypes.ellipsis){var ut=this.startNode();this.next(),ut.argument=this.parseMaybeUnary(et),at=this.finishNode(ut,"SpreadElement")}else if(!et&&this.tok.type===a.tokTypes.privateId)at=this.parsePrivateIdent();else for(at=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var dt=this.startNodeAt(nt);dt.operator=this.tok.value,dt.prefix=!1,dt.argument=this.checkLVal(at),this.next(),at=this.finishNode(dt,"UpdateExpression")}if(!et&&this.eat(a.tokTypes.starstar)){var mt=this.startNodeAt(nt);return mt.operator="**",mt.left=at,mt.right=this.parseMaybeUnary(!1),this.finishNode(mt,"BinaryExpression")}return at},_.parseExprSubscripts=function(){var et=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),et,!1,this.curIndent,this.curLineStart)},_.parseSubscripts=function(et,nt,at,ct,ht){for(var ut=this.options.ecmaVersion>=11,dt=!1;;){if(this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine())if(this.tok.type===a.tokTypes.dot&&this.curIndent===ct)--ct;else break;var mt=et.type==="Identifier"&&et.name==="async"&&!this.canInsertSemicolon(),gt=ut&&this.eat(a.tokTypes.questionDot);if(gt&&(dt=!0),gt&&this.tok.type!==a.tokTypes.parenL&&this.tok.type!==a.tokTypes.bracketL&&this.tok.type!==a.tokTypes.backQuote||this.eat(a.tokTypes.dot)){var lt=this.startNodeAt(nt);lt.object=et,this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine()?lt.property=this.dummyIdent():lt.property=this.parsePropertyAccessor()||this.dummyIdent(),lt.computed=!1,ut&&(lt.optional=gt),et=this.finishNode(lt,"MemberExpression")}else if(this.tok.type===a.tokTypes.bracketL){this.pushCx(),this.next();var St=this.startNodeAt(nt);St.object=et,St.property=this.parseExpression(),St.computed=!0,ut&&(St.optional=gt),this.popCx(),this.expect(a.tokTypes.bracketR),et=this.finishNode(St,"MemberExpression")}else if(!at&&this.tok.type===a.tokTypes.parenL){var xt=this.parseExprList(a.tokTypes.parenR);if(mt&&this.eat(a.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(nt),xt,!0);var yt=this.startNodeAt(nt);yt.callee=et,yt.arguments=xt,ut&&(yt.optional=gt),et=this.finishNode(yt,"CallExpression")}else if(this.tok.type===a.tokTypes.backQuote){var _t=this.startNodeAt(nt);_t.tag=et,_t.quasi=this.parseTemplate(),et=this.finishNode(_t,"TaggedTemplateExpression")}else break}if(dt){var kt=this.startNodeAt(nt);kt.expression=et,et=this.finishNode(kt,"ChainExpression")}return et},_.parseExprAtom=function(){var et;switch(this.tok.type){case a.tokTypes._this:case a.tokTypes._super:var nt=this.tok.type===a.tokTypes._this?"ThisExpression":"Super";return et=this.startNode(),this.next(),this.finishNode(et,nt);case a.tokTypes.name:var at=this.storeCurrentPos(),ct=this.parseIdent(),ht=!1;if(ct.name==="async"&&!this.canInsertSemicolon()){if(this.eat(a.tokTypes._function))return this.toks.overrideContext(a.tokContexts.f_expr),this.parseFunction(this.startNodeAt(at),!1,!0);this.tok.type===a.tokTypes.name&&(ct=this.parseIdent(),ht=!0)}return this.eat(a.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(at),[ct],ht):ct;case a.tokTypes.regexp:et=this.startNode();var ut=this.tok.value;return et.regex={pattern:ut.pattern,flags:ut.flags},et.value=ut.value,et.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(et,"Literal");case a.tokTypes.num:case a.tokTypes.string:return et=this.startNode(),et.value=this.tok.value,et.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===a.tokTypes.num&&et.raw.charCodeAt(et.raw.length-1)===110&&(et.bigint=et.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(et,"Literal");case a.tokTypes._null:case a.tokTypes._true:case a.tokTypes._false:return et=this.startNode(),et.value=this.tok.type===a.tokTypes._null?null:this.tok.type===a.tokTypes._true,et.raw=this.tok.type.keyword,this.next(),this.finishNode(et,"Literal");case a.tokTypes.parenL:var dt=this.storeCurrentPos();this.next();var mt=this.parseExpression();if(this.expect(a.tokTypes.parenR),this.eat(a.tokTypes.arrow)){var gt=mt.expressions||[mt];return gt.length&&_e(gt[gt.length-1])&&gt.pop(),this.parseArrowExpression(this.startNodeAt(dt),gt)}if(this.options.preserveParens){var lt=this.startNodeAt(dt);lt.expression=mt,mt=this.finishNode(lt,"ParenthesizedExpression")}return mt;case a.tokTypes.bracketL:return et=this.startNode(),et.elements=this.parseExprList(a.tokTypes.bracketR,!0),this.finishNode(et,"ArrayExpression");case a.tokTypes.braceL:return this.toks.overrideContext(a.tokContexts.b_expr),this.parseObj();case a.tokTypes._class:return this.parseClass(!1);case a.tokTypes._function:return et=this.startNode(),this.next(),this.parseFunction(et,!1);case a.tokTypes._new:return this.parseNew();case a.tokTypes.backQuote:return this.parseTemplate();case a.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},_.parseExprImport=function(){var et=this.startNode(),nt=this.parseIdent(!0);switch(this.tok.type){case a.tokTypes.parenL:return this.parseDynamicImport(et);case a.tokTypes.dot:return et.meta=nt,this.parseImportMeta(et);default:return et.name="import",this.finishNode(et,"Identifier")}},_.parseDynamicImport=function(et){return et.source=this.parseExprList(a.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(et,"ImportExpression")},_.parseImportMeta=function(et){return this.next(),et.property=this.parseIdent(!0),this.finishNode(et,"MetaProperty")},_.parseNew=function(){var et=this.startNode(),nt=this.curIndent,at=this.curLineStart,ct=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(a.tokTypes.dot))return et.meta=ct,et.property=this.parseIdent(!0),this.finishNode(et,"MetaProperty");var ht=this.storeCurrentPos();return et.callee=this.parseSubscripts(this.parseExprAtom(),ht,!0,nt,at),this.tok.type===a.tokTypes.parenL?et.arguments=this.parseExprList(a.tokTypes.parenR):et.arguments=[],this.finishNode(et,"NewExpression")},_.parseTemplateElement=function(){var et=this.startNode();return this.tok.type===a.tokTypes.invalidTemplate?et.value={raw:this.tok.value,cooked:null}:et.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),et.tail=this.tok.type===a.tokTypes.backQuote,this.finishNode(et,"TemplateElement")},_.parseTemplate=function(){var et=this.startNode();this.next(),et.expressions=[];var nt=this.parseTemplateElement();for(et.quasis=[nt];!nt.tail;)this.next(),et.expressions.push(this.parseExpression()),this.expect(a.tokTypes.braceR)?nt=this.parseTemplateElement():(nt=this.startNode(),nt.value={cooked:"",raw:""},nt.tail=!0,this.finishNode(nt,"TemplateElement")),et.quasis.push(nt);return this.expect(a.tokTypes.backQuote),this.finishNode(et,"TemplateLiteral")},_.parseObj=function(){var et=this.startNode();et.properties=[],this.pushCx();var nt=this.curIndent+1,at=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<nt&&(nt=this.curIndent,at=this.curLineStart);!this.closes(a.tokTypes.braceR,nt,at);){var ct=this.startNode(),ht=void 0,ut=void 0,dt=void 0;if(this.options.ecmaVersion>=9&&this.eat(a.tokTypes.ellipsis)){ct.argument=this.parseMaybeAssign(),et.properties.push(this.finishNode(ct,"SpreadElement")),this.eat(a.tokTypes.comma);continue}if(this.options.ecmaVersion>=6&&(dt=this.storeCurrentPos(),ct.method=!1,ct.shorthand=!1,ht=this.eat(a.tokTypes.star)),this.parsePropertyName(ct),this.toks.isAsyncProp(ct)?(ut=!0,ht=this.options.ecmaVersion>=9&&this.eat(a.tokTypes.star),this.parsePropertyName(ct)):ut=!1,_e(ct.key)){_e(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma);continue}if(this.eat(a.tokTypes.colon))ct.kind="init",ct.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===a.tokTypes.parenL||this.tok.type===a.tokTypes.braceL))ct.kind="init",ct.method=!0,ct.value=this.parseMethod(ht,ut);else if(this.options.ecmaVersion>=5&&ct.key.type==="Identifier"&&!ct.computed&&(ct.key.name==="get"||ct.key.name==="set")&&this.tok.type!==a.tokTypes.comma&&this.tok.type!==a.tokTypes.braceR&&this.tok.type!==a.tokTypes.eq)ct.kind=ct.key.name,this.parsePropertyName(ct),ct.value=this.parseMethod(!1);else{if(ct.kind="init",this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.eq)){var mt=this.startNodeAt(dt);mt.operator="=",mt.left=ct.key,mt.right=this.parseMaybeAssign(),ct.value=this.finishNode(mt,"AssignmentExpression")}else ct.value=ct.key;else ct.value=this.dummyIdent();ct.shorthand=!0}et.properties.push(this.finishNode(ct,"Property")),this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(et,"ObjectExpression")},_.parsePropertyName=function(et){if(this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.bracketL)){et.computed=!0,et.key=this.parseExpression(),this.expect(a.tokTypes.bracketR);return}else et.computed=!1;var nt=this.tok.type===a.tokTypes.num||this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent();et.key=nt||this.dummyIdent()},_.parsePropertyAccessor=function(){if(this.tok.type===a.tokTypes.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===a.tokTypes.privateId)return this.parsePrivateIdent()},_.parseIdent=function(){var et=this.tok.type===a.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!et)return this.dummyIdent();this.tok.type.keyword&&(this.toks.type=a.tokTypes.name);var nt=this.startNode();return this.next(),nt.name=et,this.finishNode(nt,"Identifier")},_.parsePrivateIdent=function(){var et=this.startNode();return et.name=this.tok.value,this.next(),this.finishNode(et,"PrivateIdentifier")},_.initFunction=function(et){et.id=null,et.params=[],this.options.ecmaVersion>=6&&(et.generator=!1,et.expression=!1),this.options.ecmaVersion>=8&&(et.async=!1)},_.toAssignable=function(et,nt){if(!(!et||et.type==="Identifier"||et.type==="MemberExpression"&&!nt))if(et.type==="ParenthesizedExpression")this.toAssignable(et.expression,nt);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(et.type==="ObjectExpression"){et.type="ObjectPattern";for(var at=0,ct=et.properties;at<ct.length;at+=1){var ht=ct[at];this.toAssignable(ht,nt)}}else if(et.type==="ArrayExpression")et.type="ArrayPattern",this.toAssignableList(et.elements,nt);else if(et.type==="Property")this.toAssignable(et.value,nt);else if(et.type==="SpreadElement")et.type="RestElement",this.toAssignable(et.argument,nt);else if(et.type==="AssignmentExpression")et.type="AssignmentPattern",delete et.operator;else return this.dummyIdent()}return et},_.toAssignableList=function(et,nt){for(var at=0,ct=et;at<ct.length;at+=1){var ht=ct[at];this.toAssignable(ht,nt)}return et},_.parseFunctionParams=function(et){return et=this.parseExprList(a.tokTypes.parenR),this.toAssignableList(et,!0)},_.parseMethod=function(et,nt){var at=this.startNode(),ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(at),this.options.ecmaVersion>=6&&(at.generator=!!et),this.options.ecmaVersion>=8&&(at.async=!!nt),this.inAsync=at.async,this.inGenerator=at.generator,this.inFunction=!0,at.params=this.parseFunctionParams(),at.body=this.parseBlock(),this.toks.adaptDirectivePrologue(at.body.body),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(at,"FunctionExpression")},_.parseArrowExpression=function(et,nt,at){var ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(et),this.options.ecmaVersion>=8&&(et.async=!!at),this.inAsync=et.async,this.inGenerator=!1,this.inFunction=!0,et.params=this.toAssignableList(nt,!0),et.expression=this.tok.type!==a.tokTypes.braceL,et.expression?et.body=this.parseMaybeAssign():(et.body=this.parseBlock(),this.toks.adaptDirectivePrologue(et.body.body)),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(et,"ArrowFunctionExpression")},_.parseExprList=function(et,nt){this.pushCx();var at=this.curIndent,ct=this.curLineStart,ht=[];for(this.next();!this.closes(et,at+1,ct);){if(this.eat(a.tokTypes.comma)){ht.push(nt?null:this.dummyIdent());continue}var ut=this.parseMaybeAssign();if(_e(ut)){if(this.closes(et,at,ct))break;this.next()}else ht.push(ut);this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(et)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),ht},_.parseAwait=function(){var et=this.startNode();return this.next(),et.argument=this.parseMaybeUnary(),this.finishNode(et,"AwaitExpression")},a.defaultOptions.tabSize=4;function $(et,nt){return ot.parse(et,nt)}o.LooseParser=ot,o.isDummy=_e,o.parse=$})})(acornLoose,acornLoose.exports);var acornLooseExports=acornLoose.exports,validator={},validityErrors={};Object.defineProperty(validityErrors,"__esModule",{value:!0});validityErrors.NoAssignmentToForVariable=void 0;const types_1$j=types;class NoAssignmentToForVariable{constructor(s){this.node=s,this.type=types_1$j.ErrorType.SYNTAX,this.severity=types_1$j.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}validityErrors.NoAssignmentToForVariable=NoAssignmentToForVariable;var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1,Object.defineProperty(validator,"__esModule",{value:!0}),validator.validateAndAnnotate=void 0;const i=requireErrors(),s=validityErrors,o=astCreator,a=walkers$1;class tt{constructor(ot){this.isConstant=ot,this.accessedBeforeDeclaration=!1}}function _e(st,ot){const rt=new Map,it=new Map;function j(nt){const at=new Map;for(const ct of nt.body)ct.type==="VariableDeclaration"?at.set((0,o.getVariableDecarationName)(ct),new tt(ct.kind==="const")):ct.type==="FunctionDeclaration"&&at.set(ct.id.name,new tt(!0));it.set(nt,!1),rt.set(nt,at)}function _(nt){rt.set(nt,new Map(nt.params.map(at=>[at.name,new tt(!1)]))),it.set(nt,!1)}(0,a.ancestor)(st,{Program:j,BlockStatement:j,FunctionDeclaration:_,ArrowFunctionExpression:_,ForStatement(nt,at){const ct=nt.init;ct.type==="VariableDeclaration"&&(rt.set(nt,new Map([[(0,o.getVariableDecarationName)(ct),new tt(ct.kind==="const")]])),it.set(nt,!1))}});function $(nt,at){const ct=nt.name,ht=at[at.length-2];for(let ut=at.length-1;ut>=0;ut--){const dt=at[ut],mt=rt.get(dt);if(mt!=null&&mt.has(ct)){mt.get(ct).accessedBeforeDeclaration=!0,ht.type==="AssignmentExpression"&&ht.left===nt&&(mt.get(ct).isConstant&&ot.errors.push(new i.ConstAssignment(ht,ct)),dt.type==="ForStatement"&&dt.init!==ht&&dt.update!==ht&&ot.errors.push(new s.NoAssignmentToForVariable(ht)));break}}}const et=Object.assign(Object.assign({},a.base),{VariableDeclarator(nt,at,ct){nt.init&&ct(nt.init,at,"Expression")}});return(0,a.ancestor)(st,{VariableDeclaration(nt,at){const ct=at[at.length-2],ht=(0,o.getVariableDecarationName)(nt),ut=rt.get(ct).get(ht).accessedBeforeDeclaration;nt.typability=ut?"Untypable":"NotYetTyped"},Identifier:$,FunctionDeclaration(nt,at){const ct=at[at.length-2];nt.typability=it.get(ct)?"Untypable":"NotYetTyped"},Pattern(nt,at){nt.type==="Identifier"?$(nt,at):nt.type==="MemberExpression"&&nt.object.type==="Identifier"&&$(nt.object,at)},CallExpression(nt,at){for(let ct=at.length-1;ct>=0;ct--){const ht=at[ct];if(it.has(ht)){it.set(ht,!0);break}}}},et),st}return validator.validateAndAnnotate=_e,validator}var rules$1={},bracesAroundFor$1={};Object.defineProperty(bracesAroundFor$1,"__esModule",{value:!0});bracesAroundFor$1.BracesAroundForError=void 0;const astring_1$7=astring,types_1$i=types;class BracesAroundForError{constructor(s){this.node=s,this.type=types_1$i.ErrorType.SYNTAX,this.severity=types_1$i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){const s=(0,astring_1$7.generate)(this.node.init),o=(0,astring_1$7.generate)(this.node.test),a=(0,astring_1$7.generate)(this.node.update);return`Remember to enclose your "for" block with braces:

 ${`	for (${s} ${o}; ${a}) {
		//code goes here
	}`}`}}bracesAroundFor$1.BracesAroundForError=BracesAroundForError;const bracesAroundFor={name:"braces-around-for",checkers:{ForStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundForError(i)]:[]}}};bracesAroundFor$1.default=bracesAroundFor;var bracesAroundIfElse$1={};Object.defineProperty(bracesAroundIfElse$1,"__esModule",{value:!0});bracesAroundIfElse$1.BracesAroundIfElseError=void 0;const astring_1$6=astring,types_1$h=types,formatters_1$5=formatters;class BracesAroundIfElseError{constructor(s,o){this.node=s,this.branch=o,this.type=types_1$h.ErrorType.SYNTAX,this.severity=types_1$h.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return this.branch==="consequent"?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let s,o,a;return this.branch==="consequent"?(s="if",o=`if (${(0,astring_1$6.generate)(this.node.test)})`,a=this.node.consequent):(s=o="else",a=this.node.alternate),(0,formatters_1$5.stripIndent)`
      ${s} block need to be enclosed with a pair of curly braces.

      ${o} {
        ${(0,astring_1$6.generate)(a)}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `}}bracesAroundIfElse$1.BracesAroundIfElseError=BracesAroundIfElseError;const bracesAroundIfElse={name:"braces-around-if-else",checkers:{IfStatement(i,s){const o=[];if(i.consequent&&i.consequent.type!=="BlockStatement"&&o.push(new BracesAroundIfElseError(i,"consequent")),i.alternate){const a=i.alternate.type!=="BlockStatement",tt=i.alternate.type!=="IfStatement";a&&tt&&o.push(new BracesAroundIfElseError(i,"alternate"))}return o}}};bracesAroundIfElse$1.default=bracesAroundIfElse;var bracesAroundWhile$1={};Object.defineProperty(bracesAroundWhile$1,"__esModule",{value:!0});bracesAroundWhile$1.BracesAroundWhileError=void 0;const astring_1$5=astring,types_1$g=types;class BracesAroundWhileError{constructor(s){this.node=s,this.type=types_1$g.ErrorType.SYNTAX,this.severity=types_1$g.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:

 ${`	while (${(0,astring_1$5.generate)(this.node.test)}) {
		//code goes here
	}`}`}}bracesAroundWhile$1.BracesAroundWhileError=BracesAroundWhileError;const bracesAroundWhile={name:"braces-around-while",checkers:{WhileStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundWhileError(i)]:[]}}};bracesAroundWhile$1.default=bracesAroundWhile;var forStatementMustHaveAllParts$1={};Object.defineProperty(forStatementMustHaveAllParts$1,"__esModule",{value:!0});forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=void 0;const types_1$f=types,formatters_1$4=formatters;class ForStatmentMustHaveAllParts{constructor(s,o){this.node=s,this.missingParts=o,this.type=types_1$f.ErrorType.SYNTAX,this.severity=types_1$f.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${this.missingParts.length===1?"":"s"} in for statement.`}elaborate(){return(0,formatters_1$4.stripIndent)`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `}}forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=ForStatmentMustHaveAllParts;const forStatementMustHaveAllParts={name:"for-statement-must-have-all-parts",checkers:{ForStatement(i){const s=["init","test","update"].filter(o=>i[o]===null);return s.length>0?[new ForStatmentMustHaveAllParts(i,s)]:[]}}};forStatementMustHaveAllParts$1.default=forStatementMustHaveAllParts;var noDeclareMutable$1={};Object.defineProperty(noDeclareMutable$1,"__esModule",{value:!0});noDeclareMutable$1.NoDeclareMutableError=void 0;const astring_1$4=astring,types_1$e=types,mutableDeclarators=["let","var"];class NoDeclareMutableError{constructor(s){this.node=s,this.type=types_1$e.ErrorType.SYNTAX,this.severity=types_1$e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){const s=this.node.declarations[0].id.name,o=(0,astring_1$4.generate)(this.node.declarations[0].init);return`Use keyword "const" instead, to declare a constant:

	const ${s} = ${o};`}}noDeclareMutable$1.NoDeclareMutableError=NoDeclareMutableError;const noDeclareMutable={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration(i,s){return mutableDeclarators.includes(i.kind)?[new NoDeclareMutableError(i)]:[]}}};noDeclareMutable$1.default=noDeclareMutable;var noDotAbbreviation$1={};Object.defineProperty(noDotAbbreviation$1,"__esModule",{value:!0});noDotAbbreviation$1.NoDotAbbreviationError=void 0;const types_1$d=types;class NoDotAbbreviationError{constructor(s){this.node=s,this.type=types_1$d.ErrorType.SYNTAX,this.severity=types_1$d.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}noDotAbbreviation$1.NoDotAbbreviationError=NoDotAbbreviationError;const noDotAbbreviation={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression(i,s){return i.computed?[]:[new NoDotAbbreviationError(i)]}}};noDotAbbreviation$1.default=noDotAbbreviation;var noEval$1={};Object.defineProperty(noEval$1,"__esModule",{value:!0});noEval$1.NoEval=void 0;const types_1$c=types;class NoEval{constructor(s){this.node=s,this.type=types_1$c.ErrorType.SYNTAX,this.severity=types_1$c.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}noEval$1.NoEval=NoEval;const noEval={name:"no-eval",checkers:{Identifier(i,s){return i.name==="eval"?[new NoEval(i)]:[]}}};noEval$1.default=noEval;var noHolesInArrays$1={};Object.defineProperty(noHolesInArrays$1,"__esModule",{value:!0});noHolesInArrays$1.NoHolesInArrays=void 0;const types_1$b=types,formatters_1$3=formatters;class NoHolesInArrays{constructor(s){this.node=s,this.type=types_1$b.ErrorType.SYNTAX,this.severity=types_1$b.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return(0,formatters_1$3.stripIndent)`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `}}noHolesInArrays$1.NoHolesInArrays=NoHolesInArrays;const noHolesInArrays={name:"no-holes-in-arrays",checkers:{ArrayExpression(i){return i.elements.some(s=>s===null)?[new NoHolesInArrays(i)]:[]}}};noHolesInArrays$1.default=noHolesInArrays;var noIfWithoutElse$1={};Object.defineProperty(noIfWithoutElse$1,"__esModule",{value:!0});noIfWithoutElse$1.NoIfWithoutElseError=void 0;const astring_1$3=astring,types_1$a=types,formatters_1$2=formatters;class NoIfWithoutElseError{constructor(s){this.node=s,this.type=types_1$a.ErrorType.SYNTAX,this.severity=types_1$a.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return(0,formatters_1$2.stripIndent)`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${(0,astring_1$3.generate)(this.node.test)} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `}}noIfWithoutElse$1.NoIfWithoutElseError=NoIfWithoutElseError;const noIfWithoutElse={name:"no-if-without-else",disableOn:3,checkers:{IfStatement(i,s){return i.alternate?[]:[new NoIfWithoutElseError(i)]}}};noIfWithoutElse$1.default=noIfWithoutElse;var noImplicitDeclareUndefined$1={};Object.defineProperty(noImplicitDeclareUndefined$1,"__esModule",{value:!0});noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=void 0;const types_1$9=types,formatters_1$1=formatters;class NoImplicitDeclareUndefinedError{constructor(s){this.node=s,this.type=types_1$9.ErrorType.SYNTAX,this.severity=types_1$9.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return(0,formatters_1$1.stripIndent)`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${this.node.name}, you can write:

        let ${this.node.name} = 20;

        ${this.node.name} + ${this.node.name}; // 40
    `}}noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=NoImplicitDeclareUndefinedError;const noImplicitDeclareUndefined={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(i,s){const o=[];for(const a of i.declarations)a.init||o.push(new NoImplicitDeclareUndefinedError(a.id));return o}}};noImplicitDeclareUndefined$1.default=noImplicitDeclareUndefined;var noImplicitReturnUndefined$1={};Object.defineProperty(noImplicitReturnUndefined$1,"__esModule",{value:!0});noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=void 0;const types_1$8=types,formatters_1=formatters;class NoImplicitReturnUndefinedError{constructor(s){this.node=s,this.type=types_1$8.ErrorType.SYNTAX,this.severity=types_1$8.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return(0,formatters_1.stripIndent)`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `}}noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=NoImplicitReturnUndefinedError;const noImplicitReturnUndefined={name:"no-implicit-return-undefined",checkers:{ReturnStatement(i,s){return i.argument?[]:[new NoImplicitReturnUndefinedError(i)]}}};noImplicitReturnUndefined$1.default=noImplicitReturnUndefined;var noNull$1={};Object.defineProperty(noNull$1,"__esModule",{value:!0});noNull$1.NoNullError=void 0;const types_1$7=types;class NoNullError{constructor(s){this.node=s,this.type=types_1$7.ErrorType.SYNTAX,this.severity=types_1$7.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source 1 specs."}}noNull$1.NoNullError=NoNullError;const noNull={name:"no-null",disableOn:2,checkers:{Literal(i,s){return i.value===null?[new NoNullError(i)]:[]}}};noNull$1.default=noNull;var noSpreadInArray$1={};Object.defineProperty(noSpreadInArray$1,"__esModule",{value:!0});noSpreadInArray$1.NoSpreadInArray=void 0;const types_1$6=types;class NoSpreadInArray{constructor(s){this.node=s,this.type=types_1$6.ErrorType.SYNTAX,this.severity=types_1$6.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}noSpreadInArray$1.NoSpreadInArray=NoSpreadInArray;const noSpreadInArray={name:"no-assignment-expression",checkers:{SpreadElement(i,s){return s[s.length-2].type==="CallExpression"?[]:[new NoSpreadInArray(i)]}}};noSpreadInArray$1.default=noSpreadInArray;var noTemplateExpression$1={};Object.defineProperty(noTemplateExpression$1,"__esModule",{value:!0});noTemplateExpression$1.NoTemplateExpressionError=void 0;const types_1$5=types;class NoTemplateExpressionError{constructor(s){this.node=s,this.type=types_1$5.ErrorType.SYNTAX,this.severity=types_1$5.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}noTemplateExpression$1.NoTemplateExpressionError=NoTemplateExpressionError;const noTemplateExpression={name:"no-template-expression",checkers:{TemplateLiteral(i,s){return i.expressions.length>0?[new NoTemplateExpressionError(i)]:[]}}};noTemplateExpression$1.default=noTemplateExpression;var noUnspecifiedLiteral$1={};Object.defineProperty(noUnspecifiedLiteral$1,"__esModule",{value:!0});noUnspecifiedLiteral$1.NoUnspecifiedLiteral=void 0;const types_1$4=types,specifiedLiterals=["boolean","string","number"];class NoUnspecifiedLiteral{constructor(s){this.node=s,this.type=types_1$4.ErrorType.SYNTAX,this.severity=types_1$4.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}noUnspecifiedLiteral$1.NoUnspecifiedLiteral=NoUnspecifiedLiteral;const noUnspecifiedLiteral={name:"no-unspecified-literal",checkers:{Literal(i,s){return i.value!==null&&!specifiedLiterals.includes(typeof i.value)?[new NoUnspecifiedLiteral(i)]:[]}}};noUnspecifiedLiteral$1.default=noUnspecifiedLiteral;var noUnspecifiedOperator$1={};Object.defineProperty(noUnspecifiedOperator$1,"__esModule",{value:!0});noUnspecifiedOperator$1.NoUnspecifiedOperatorError=void 0;const types_1$3=types;class NoUnspecifiedOperatorError{constructor(s){this.node=s,this.type=types_1$3.ErrorType.SYNTAX,this.severity=types_1$3.ErrorSeverity.ERROR,this.unspecifiedOperator=s.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}noUnspecifiedOperator$1.NoUnspecifiedOperatorError=NoUnspecifiedOperatorError;const noUnspecifiedOperator={name:"no-unspecified-operator",checkers:{BinaryExpression(i,s){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]},UnaryExpression(i){return["-","!"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]}}};noUnspecifiedOperator$1.default=noUnspecifiedOperator;var noUpdateAssignment$1={};Object.defineProperty(noUpdateAssignment$1,"__esModule",{value:!0});noUpdateAssignment$1.NoUpdateAssignment=void 0;const astring_1$2=astring,types_1$2=types;class NoUpdateAssignment{constructor(s){this.node=s,this.type=types_1$2.ErrorType.SYNTAX,this.severity=types_1$2.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const s=(0,astring_1$2.generate)(this.node.left),o=(0,astring_1$2.generate)(this.node.right),a=this.node.operator.slice(0,-1);return a==="+"||a==="-"||a==="/"||a==="*"?`
	${s} = ${s} ${a} ${o};`:""}}noUpdateAssignment$1.NoUpdateAssignment=NoUpdateAssignment;const noUpdateAssignment={name:"no-update-assignment",checkers:{AssignmentExpression(i,s){return i.operator!=="="?[new NoUpdateAssignment(i)]:[]}}};noUpdateAssignment$1.default=noUpdateAssignment;var noVar$1={};Object.defineProperty(noVar$1,"__esModule",{value:!0});noVar$1.NoVarError=void 0;const astring_1$1=astring,types_1$1=types;class NoVarError{constructor(s){this.node=s,this.type=types_1$1.ErrorType.SYNTAX,this.severity=types_1$1.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){const s=this.node.declarations[0].id.name,o=(0,astring_1$1.generate)(this.node.declarations[0].init);return`Use keyword "let" instead, to declare a variable:

	let ${s} = ${o};`}}noVar$1.NoVarError=NoVarError;const noVar={name:"no-var",checkers:{VariableDeclaration(i,s){return i.kind==="var"?[new NoVarError(i)]:[]}}};noVar$1.default=noVar;var singleVariableDeclaration$1={};Object.defineProperty(singleVariableDeclaration$1,"__esModule",{value:!0});singleVariableDeclaration$1.MultipleDeclarationsError=void 0;const astring_1=astring,types_1=types;class MultipleDeclarationsError{constructor(s){this.node=s,this.type=types_1.ErrorType.SYNTAX,this.severity=types_1.ErrorSeverity.ERROR,this.fixs=s.declarations.map(o=>({type:"VariableDeclaration",kind:"let",loc:o.loc,declarations:[o]}))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return`Split the variable declaration into multiple lines as follows

`+this.fixs.map(o=>"	"+(0,astring_1.generate)(o)).join(`
`)+`
`}}singleVariableDeclaration$1.MultipleDeclarationsError=MultipleDeclarationsError;const singleVariableDeclaration={name:"single-variable-declaration",checkers:{VariableDeclaration(i,s){return i.declarations.length>1?[new MultipleDeclarationsError(i)]:[]}}};singleVariableDeclaration$1.default=singleVariableDeclaration;Object.defineProperty(rules$1,"__esModule",{value:!0});const bracesAroundFor_1=bracesAroundFor$1,bracesAroundIfElse_1=bracesAroundIfElse$1,bracesAroundWhile_1=bracesAroundWhile$1,forStatementMustHaveAllParts_1=forStatementMustHaveAllParts$1,noDeclareMutable_1=noDeclareMutable$1,noDotAbbreviation_1=noDotAbbreviation$1,noEval_1=noEval$1,noHolesInArrays_1=noHolesInArrays$1,noIfWithoutElse_1=noIfWithoutElse$1,noImplicitDeclareUndefined_1=noImplicitDeclareUndefined$1,noImplicitReturnUndefined_1=noImplicitReturnUndefined$1,noNull_1=noNull$1,noSpreadInArray_1=noSpreadInArray$1,noTemplateExpression_1=noTemplateExpression$1,noUnspecifiedLiteral_1=noUnspecifiedLiteral$1,noUnspecifiedOperator_1=noUnspecifiedOperator$1,noUpdateAssignment_1=noUpdateAssignment$1,noVar_1=noVar$1,singleVariableDeclaration_1=singleVariableDeclaration$1,rules=[bracesAroundFor_1.default,bracesAroundIfElse_1.default,bracesAroundWhile_1.default,forStatementMustHaveAllParts_1.default,noDeclareMutable_1.default,noDotAbbreviation_1.default,noIfWithoutElse_1.default,noImplicitDeclareUndefined_1.default,noImplicitReturnUndefined_1.default,noNull_1.default,noUnspecifiedLiteral_1.default,noUnspecifiedOperator_1.default,noUpdateAssignment_1.default,noVar_1.default,singleVariableDeclaration_1.default,noEval_1.default,noHolesInArrays_1.default,noTemplateExpression_1.default,noSpreadInArray_1.default];rules$1.default=rules;var syntaxBlacklist={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.libraryParserLanguage=void 0,i.libraryParserLanguage=100;const s={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:i.libraryParserLanguage,NewExpression:i.libraryParserLanguage,TryStatement:i.libraryParserLanguage,CatchClause:i.libraryParserLanguage,ThrowStatement:i.libraryParserLanguage,ThisExpression:i.libraryParserLanguage,Super:i.libraryParserLanguage,ClassDeclaration:i.libraryParserLanguage,ClassExpression:i.libraryParserLanguage,Class:i.libraryParserLanguage,ClassBody:i.libraryParserLanguage,MethodDefinition:i.libraryParserLanguage,FunctionExpression:i.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0};i.default=s})(syntaxBlacklist);var hasRequiredParser$1;function requireParser$1(){return hasRequiredParser$1||(hasRequiredParser$1=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.typedParse=i.looseParse=i.parseWithComments=i.createAcornParserOptions=i.tokenize=i.parse=i.parseAt=i.TrailingCommaError=i.MissingSemicolonError=i.FatalSyntaxError=i.DisallowedConstructError=void 0;const s=acornExports,o=acornLooseExports,a=constants,tt=types,_e=formatters,st=walkers$1,ot=requireValidator(),rt=rules$1,it=syntaxBlacklist;class j{constructor(yt){this.node=yt,this.type=tt.ErrorType.SYNTAX,this.severity=tt.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return(0,_e.stripIndent)`
      You are trying to use ${this.nodeType}, which is not allowed (yet).
    `}formatNodeType(yt){switch(yt){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return yt.split(/(?=[A-Z])/).map((kt,Et)=>Et===0?kt:kt.toLowerCase()).join(" ")+"s"}}}i.DisallowedConstructError=j;class _{constructor(yt,_t){this.location=yt,this.message=_t,this.type=tt.ErrorType.SYNTAX,this.severity=tt.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}i.FatalSyntaxError=_;class ${constructor(yt){this.location=yt,this.type=tt.ErrorType.SYNTAX,this.severity=tt.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}i.MissingSemicolonError=$;class et{constructor(yt){this.location=yt}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}i.TrailingCommaError=et;function nt(xt,yt){let _t;try{_t=(0,s.parseExpressionAt)(xt,yt,a.ACORN_PARSE_OPTIONS)}catch{return}return _t}i.parseAt=nt;function at(xt,yt){let _t;try{_t=(0,s.parse)(xt,(0,i.createAcornParserOptions)(yt)),(0,st.ancestor)(_t,St,void 0,yt)}catch(Et){if(Et instanceof SyntaxError){const $t=Et.loc,Tt={start:{line:$t.line,column:$t.column},end:{line:$t.line,column:$t.column+1}};yt.errors.push(new _(Tt,Et.toString()))}else throw Et}const kt=yt.errors.find(Et=>Et.severity===tt.ErrorSeverity.ERROR);if(_t&&!kt)return _t}i.parse=at;function ct(xt,yt){return[...(0,s.tokenizer)(xt,(0,i.createAcornParserOptions)(yt))]}i.tokenize=ct;const ht=xt=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(yt,_t){xt.errors.push(new $({end:{line:_t.line,column:_t.column+1},start:_t}))},onTrailingComma(yt,_t){xt.errors.push(new et({end:{line:_t.line,column:_t.column+1},start:_t}))}});i.createAcornParserOptions=ht;function ut(xt){let yt=[];const _t={sourceType:"module",ecmaVersion:6,locations:!0,onComment:yt};let kt;try{kt=(0,s.parse)(xt,_t)}catch{yt=[],kt=(0,o.parse)(xt,_t)}return[kt,yt]}i.parseWithComments=ut;function dt(xt,yt){return(0,o.parse)(xt,(0,i.createAcornParserOptions)(yt))}i.looseParse=dt;function mt(xt,yt){const _t=dt(xt,yt);return _t===void 0?null:(0,ot.validateAndAnnotate)(_t,yt)}i.typedParse=mt;function gt(xt,yt){const _t=new Map,kt=new Set;return Object.entries(xt).map($t=>{const Tt=$t[0];_t.set(Tt,(At,Mt,Ot)=>{kt.has(At)||(kt.add(At),Mt.chapter<xt[At.type]&&Mt.errors.push(new j(At)))})}),yt.forEach($t=>{const Tt=$t.checkers;Object.entries(Tt).forEach(Mt=>{const Ot=Mt[0],Pt=Mt[1],Ft=_t.get(Ot),zt=(qt,Gt,Wt)=>{if(typeof $t.disableOn<"u"&&Gt.chapter>=$t.disableOn)return;Pt(qt,Wt).forEach(rr=>Gt.errors.push(rr))};_t.set(Ot,(qt,Gt,Wt)=>{Ft(qt,Gt,Wt),zt(qt,Gt,Wt)})})}),lt(_t)}const lt=xt=>Array.from(xt).reduce((yt,[_t,kt])=>Object.assign(yt,{[_t]:kt}),{}),St=gt(it.default,rt.default)}(parser)),parser}var hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1,Object.defineProperty(parser$1,"__esModule",{value:!0}),parser$1.tokenize=parser$1.parse=void 0;const i=requireParser$1(),s=syntaxBlacklist,o=formatters,a=requireList();class tt extends Error{constructor(nt){super(nt),this.name="ParseError"}}function _e(){console.error((0,o.oneLine)`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)}function st(et){return et.length===1?j(et[0]):(0,a.vector_to_list)(["sequence",(0,a.vector_to_list)(et.map(j))])}function ot(et){return rt(et)?(0,a.vector_to_list)(["block",st(et)]):st(et)}function rt(et){return et.reduce((nt,at)=>nt||at.type==="VariableDeclaration"||at.type==="FunctionDeclaration",!1)}const it=new Map([["Program",et=>(et=et,st(et.body))],["BlockStatement",et=>ot(et.body)],["ExpressionStatement",et=>j(et.expression)],["IfStatement",et=>(0,a.vector_to_list)(["conditional_statement",j(et.test),j(et.consequent),et.alternate===null?st([]):j(et.alternate)])],["FunctionDeclaration",et=>(0,a.vector_to_list)(["function_declaration",j(et.id),(0,a.vector_to_list)(et.params.map(j)),ot(et.body.body)])],["VariableDeclaration",et=>{if(et.kind==="let")return(0,a.vector_to_list)(["variable_declaration",j(et.declarations[0].id),j(et.declarations[0].init)]);if(et.kind==="const")return(0,a.vector_to_list)(["constant_declaration",j(et.declarations[0].id),j(et.declarations[0].init)]);throw _e(),new tt("Invalid declaration kind")}],["ReturnStatement",et=>(0,a.vector_to_list)(["return_statement",j(et.argument)])],["CallExpression",et=>(0,a.vector_to_list)(["application",j(et.callee),(0,a.vector_to_list)(et.arguments.map(j))])],["UnaryExpression",et=>(0,a.vector_to_list)(["unary_operator_combination",et.operator==="-"?"-unary":et.operator,j(et.argument)])],["BinaryExpression",et=>(0,a.vector_to_list)(["binary_operator_combination",et.operator,j(et.left),j(et.right)])],["LogicalExpression",et=>(0,a.vector_to_list)(["logical_composition",et.operator,j(et.left),j(et.right)])],["ConditionalExpression",et=>(0,a.vector_to_list)(["conditional_expression",j(et.test),j(et.consequent),j(et.alternate)])],["ArrowFunctionExpression",et=>(0,a.vector_to_list)(["lambda_expression",(0,a.vector_to_list)(et.params.map(j)),et.body.type==="BlockStatement"?ot(et.body.body):(0,a.vector_to_list)(["return_statement",j(et.body)])])],["Identifier",et=>(0,a.vector_to_list)(["name",et.name])],["Literal",et=>(0,a.vector_to_list)(["literal",et.value])],["ArrayExpression",et=>(0,a.vector_to_list)(["array_expression",(0,a.vector_to_list)(et.elements.map(j))])],["AssignmentExpression",et=>{if(et.left.type==="Identifier")return(0,a.vector_to_list)(["assignment",j(et.left),j(et.right)]);if(et.left.type==="MemberExpression")return(0,a.vector_to_list)(["object_assignment",j(et.left),j(et.right)]);throw _e(),new tt("Invalid assignment")}],["ForStatement",et=>(0,a.vector_to_list)(["for_loop",j(et.init),j(et.test),j(et.update),j(et.body)])],["WhileStatement",et=>(0,a.vector_to_list)(["while_loop",j(et.test),j(et.body)])],["BreakStatement",et=>(0,a.vector_to_list)(["break_statement"])],["ContinueStatement",et=>(0,a.vector_to_list)(["continue_statement"])],["ObjectExpression",et=>(0,a.vector_to_list)(["object_expression",(0,a.vector_to_list)(et.properties.map(j))])],["MemberExpression",et=>(0,a.vector_to_list)(["object_access",j(et.object),!et.computed&&et.property.type==="Identifier"?(0,a.vector_to_list)(["property",et.property.name]):j(et.property)])],["Property",et=>(0,a.vector_to_list)(["key_value_pair",et.key.type==="Identifier"?(0,a.vector_to_list)(["property",et.key.name]):j(et.key),j(et.value)])],["ImportDeclaration",et=>(0,a.vector_to_list)(["import_declaration",(0,a.vector_to_list)(et.specifiers.map(j)),et.source.value])],["ImportSpecifier",et=>(0,a.vector_to_list)(["name",et.imported.name])],["ClassDeclaration",et=>(0,a.vector_to_list)(["class_declaration",(0,a.vector_to_list)(["name",et.id===null?null:et.id.name,et.superClass===null||et.superClass===void 0?null:j(et.superClass),et.body.body.map(j)])])],["NewExpression",et=>(0,a.vector_to_list)(["new_expression",j(et.callee),(0,a.vector_to_list)(et.arguments.map(j))])],["MethodDefinition",et=>(0,a.vector_to_list)(["method_definition",et.kind,et.static,j(et.key),j(et.value)])],["FunctionExpression",et=>(0,a.vector_to_list)(["lambda_expression",(0,a.vector_to_list)(et.params.map(j)),ot(et.body.body)])],["ThisExpression",et=>(0,a.vector_to_list)(["this_expression"])],["Super",et=>(0,a.vector_to_list)(["super_expression"])],["TryStatement",et=>(0,a.vector_to_list)(["try_statement",j(et.block),et.handler===null||et.handler===void 0?null:(0,a.vector_to_list)(["name",et.handler.param.name]),et.handler===null||et.handler===void 0?null:j(et.handler.body)])],["ThrowStatement",et=>(0,a.vector_to_list)(["throw_statement",j(et.argument)])],["SpreadElement",et=>(0,a.vector_to_list)(["spread_element",j(et.argument)])],["RestElement",et=>(0,a.vector_to_list)(["rest_element",j(et.argument)])]]);function j(et){if(it.has(et.type)){const at=it.get(et.type)(et);return at!=null&&typeof at=="object"&&at.tag!==void 0&&(at.loc=et.loc),at}else throw _e(),new tt("Cannot transform unknown type: "+et.type)}function _(et,nt){nt.chapter=s.libraryParserLanguage;const at=(0,i.parse)(et,nt);if(nt.errors.length>0)throw new tt(nt.errors[0].explain());if(at!==void 0)return j(at);throw _e(),new tt("Invalid parse")}parser$1.parse=_;function $(et,nt){const at=(0,i.tokenize)(et,nt).map(ct=>et.substring(ct.start,ct.end));return(0,a.vector_to_list)(at)}return parser$1.tokenize=$,parser$1}var stream={},hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream;hasRequiredStream=1,Object.defineProperty(stream,"__esModule",{value:!0}),stream.list_to_stream=stream.stream=stream.stream_tail=void 0;const i=requireList();function s(tt){let _e;if((0,i.is_pair)(tt))_e=tt[1];else throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+tt);if(typeof _e=="function")return _e();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+_e)}stream.stream_tail=s;function o(...tt){return a((0,i.list)(...tt))}stream.stream=o;function a(tt){return(0,i.is_null)(tt)?null:(0,i.pair)((0,i.head)(tt),()=>a((0,i.tail)(tt)))}return stream.list_to_stream=a,stream}var stream_prelude={};Object.defineProperty(stream_prelude,"__esModule",{value:!0});stream_prelude.streamPrelude=void 0;stream_prelude.streamPrelude=`

// Supporting streams in the Scheme style, following
// "stream discipline"

// is_stream recurses down the stream and checks that it ends with the
// empty list null

function is_stream(xs) {
  return is_null(xs) ||
    (is_pair(xs) &&
    is_function(tail(xs)) &&
    arity(tail(xs)) === 0 &&
    is_stream(stream_tail(xs)));
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.

function list_to_stream(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs),
      () => list_to_stream(tail(xs)));
}

// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs)
    ? 0
    : 1 + stream_length(stream_tail(xs));
}

// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)),
      () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n
      ? null
      : pair(fun(i),
        () => build(i + 1));
  }
  return build(0);
}

// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(stream_tail(original),
        pair(head(original), () => reversed));
  }
  return rev(xs, null);
}

// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs),
      () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
      ? s
      : stream_member(x, stream_tail(s));
}

// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_tail(xs)
      : pair(head(xs),
        () => stream_remove(v, stream_tail(xs)));
}

// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_remove_all(v, stream_tail(xs))
      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}

// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
      ? pair(head(s),
        () => stream_filter(p, stream_tail(s)))
      : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end
    ? null
    : pair(start,
      () => enum_stream(start + 1, end));
}

// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n,
    () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
    function es(s, n) {
        return n === 1 
               ? list(head(s))
               : pair(head(s), 
                      es(stream_tail(s), n - 1));
    }
    return n === 0 
           ? null
           : es(s, n);
}

// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0
    ? head(s)
    : stream_ref(stream_tail(s), n - 1);
}
`;var typeChecker={},typeErrors={},hasRequiredTypeErrors;function requireTypeErrors(){if(hasRequiredTypeErrors)return typeErrors;hasRequiredTypeErrors=1,Object.defineProperty(typeErrors,"__esModule",{value:!0}),typeErrors.InconsistentPredicateTestError=typeErrors.CallingNonFunctionType=typeErrors.ConsequentAlternateMismatchError=typeErrors.UndefinedIdentifierError=typeErrors.InvalidTestConditionError=typeErrors.InvalidArgumentTypesError=typeErrors.DifferentNumberArgumentsError=typeErrors.CyclicReferenceError=typeErrors.DifferentAssignmentError=typeErrors.ReassignConstError=typeErrors.ArrayAssignmentError=typeErrors.InvalidArrayIndexType=void 0;const i=astring,s=types,o=formatters,a=requireStringify();class tt{constructor(mt,gt){this.node=mt,this.receivedType=gt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${(0,a.typeToString)(this.receivedType)} instead`}elaborate(){return this.explain()}}typeErrors.InvalidArrayIndexType=tt;class _e{constructor(mt,gt,lt){this.node=mt,this.arrayType=gt,this.receivedType=lt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`Expected array type: ${(0,a.typeToString)(this.arrayType)}
    but got: ${(0,a.typeToString)(this.receivedType)}`}elaborate(){return this.explain()}}typeErrors.ArrayAssignmentError=_e;class st{constructor(mt){this.node=mt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[mt]=rt(this.node);return`Reassignment of constant ${mt}`}elaborate(){return this.explain()}}typeErrors.ReassignConstError=st;class ot{constructor(mt,gt,lt){this.node=mt,this.expectedType=gt,this.receivedType=lt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[mt,gt]=rt(this.node);return(0,o.stripIndent)`
    Expected assignment of ${mt}:
      ${gt}
    to get a value of type:
      ${(0,a.typeToString)(this.expectedType)}
    but got a value of type:
      ${(0,a.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.DifferentAssignmentError=ot;function rt(dt){const mt=dt.left,gt=(0,o.simplify)((0,i.generate)(dt.right));return[mt.name,gt]}class it{constructor(mt){this.node=mt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${j(this.node)} contains cyclic reference to itself`}elaborate(){return this.explain()}}typeErrors.CyclicReferenceError=it;function j(dt){var mt;return["VariableDeclaration","FunctionDeclaration"].includes(dt.type)?dt.type==="VariableDeclaration"?dt.declarations[0].id.name:(mt=dt.id)===null||mt===void 0?void 0:mt.name:dt.type==="Identifier"?dt.name:JSON.stringify(dt)}class _{constructor(mt,gt,lt){this.node=mt,this.numExpectedArgs=gt,this.numReceived=lt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}}typeErrors.DifferentNumberArgumentsError=_;class ${constructor(mt,gt,lt,St){this.node=mt,this.args=gt,this.expectedTypes=lt,this.receivedTypes=St,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const mt=this.args.map(St=>(0,o.simplify)((0,i.generate)(St)));if("operator"in this.node){const St=this.node.operator;return this.expectedTypes.length===2?(0,o.stripIndent)`
        A type mismatch was detected in the binary expression:
          ${mt[0]} ${St} ${mt[1]}
        The binary operator (${St}) expected two operands with types:
          ${(0,a.typeToString)(this.expectedTypes[0])} ${St} ${(0,a.typeToString)(this.expectedTypes[1])}
        but instead it received two operands of types:
          ${(0,a.typeToString)(this.receivedTypes[0])} ${St} ${(0,a.typeToString)(this.receivedTypes[1])}
        `:(0,o.stripIndent)`
        A type mismatch was detected in the unary expression:
          ${St} ${mt[0]}
        The unary operator (${St}) expected its operand to be of type:
          ${(0,a.typeToString)(this.expectedTypes[0])}
        but instead it received an operand of type:
          ${(0,a.typeToString)(this.receivedTypes[0])}
        `}const gt=(0,o.simplify)((0,i.generate)(this.node));function lt(St){switch(St.length){case 1:return`an argument of type:
      ${(0,a.typeToString)(St[0])}`;default:return`${St.length} arguments of types:
      ${St.map(a.typeToString).join(", ")}`}}return(0,o.stripIndent)`
    A type mismatch was detected in the function call:
      ${gt}
    The function expected ${lt(this.expectedTypes)}
    but instead received ${lt(this.receivedTypes)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidArgumentTypesError=$;function et(dt){let mt=(0,o.simplify)((0,i.generate)(dt.test)),gt;switch(dt.type){case"IfStatement":{mt=`if (${mt}) { ... } else { ... }`,gt="if statement";break}case"ConditionalExpression":{mt=`${mt} ? ... : ...`,gt="conditional expression";break}case"WhileStatement":{mt=`while (${mt}) { ... }`,gt="while statement";break}case"ForStatement":mt=`for (...; ${mt}; ...) { ... }`,gt="for statement"}return{exprString:mt,kind:gt}}class nt{constructor(mt,gt){this.node=mt,this.receivedType=gt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:mt,kind:gt}=et(this.node);return(0,o.stripIndent)`
    Expected the test part of the ${gt}:
      ${mt}
    to have type boolean, but instead it is type:
      ${(0,a.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidTestConditionError=nt;class at{constructor(mt,gt){this.node=mt,this.name=gt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`
    One or more undeclared names detected (e.g. '${this.name}').
    If there aren't actually any undeclared names, then is either a Source or misconfiguration bug.
    Please report this to the administrators!
    `}elaborate(){return this.explain()}}typeErrors.UndefinedIdentifierError=at;class ct{constructor(mt,gt,lt){this.node=mt,this.consequentType=gt,this.alternateType=lt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:mt,kind:gt}=et(this.node);return(0,o.stripIndent)`
    The two branches of the ${gt}:
      ${mt}
    produce different types!
    The true branch has type:
      ${(0,a.typeToString)(this.consequentType)}
    but the false branch has type:
      ${(0,a.typeToString)(this.alternateType)}
    `}elaborate(){return this.explain()}}typeErrors.ConsequentAlternateMismatchError=ct;class ht{constructor(mt,gt){this.node=mt,this.callerType=gt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`
    In
      ${(0,o.simplify)((0,i.generate)(this.node))}
    expected
      ${(0,o.simplify)((0,i.generate)(this.node.callee))}
    to be a function type, but instead it is type:
      ${(0,a.typeToString)(this.callerType)}
    `}elaborate(){return this.explain()}}typeErrors.CallingNonFunctionType=ht;class ut{constructor(mt,gt,lt,St){this.node=mt,this.argVarName=gt,this.preUnifyType=lt,this.predicateType=St,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const mt=(0,i.generate)(this.node);return(0,o.stripIndent)`
    Inconsistent type constraints when trying to apply the predicate test
      ${mt}
    It is inconsistent with the predicate tests applied before it.
    The variable ${this.argVarName} has type
      ${(0,a.typeToString)(this.preUnifyType)}
    but could not unify with type
      ${(0,a.typeToString)(this.predicateType)}
    `}elaborate(){return this.explain()}}return typeErrors.InconsistentPredicateTestError=ut,typeErrors}var internalTypeErrors={},hasRequiredInternalTypeErrors;function requireInternalTypeErrors(){if(hasRequiredInternalTypeErrors)return internalTypeErrors;hasRequiredInternalTypeErrors=1,Object.defineProperty(internalTypeErrors,"__esModule",{value:!0}),internalTypeErrors.InternalCyclicReferenceError=internalTypeErrors.InternalDifferentNumberArgumentsError=internalTypeErrors.UnifyError=internalTypeErrors.InternalTypeError=internalTypeErrors.TypeError=void 0;const i=types,s=requireStringify();class o{constructor(rt,it){this.node=rt,this.message=it,this.type=i.ErrorType.TYPE,this.severity=i.ErrorSeverity.WARNING,rt.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}}internalTypeErrors.TypeError=o;class a extends Error{constructor(rt){super(),this.message=rt}}internalTypeErrors.InternalTypeError=a;class tt extends a{constructor(rt,it){super(`Failed to unify LHS: ${(0,s.typeToString)(rt)}, RHS: ${(0,s.typeToString)(it)}`),this.LHS=rt,this.RHS=it}}internalTypeErrors.UnifyError=tt;class _e extends a{constructor(rt,it){super(`Expected ${rt} args, got ${it}`),this.numExpectedArgs=rt,this.numReceived=it}}internalTypeErrors.InternalDifferentNumberArgumentsError=_e;class st extends a{constructor(rt){super("contains a cyclic reference to itself"),this.name=rt}}return internalTypeErrors.InternalCyclicReferenceError=st,internalTypeErrors}var hasRequiredTypeChecker;function requireTypeChecker(){if(hasRequiredTypeChecker)return typeChecker;hasRequiredTypeChecker=1,Object.defineProperty(typeChecker,"__esModule",{value:!0}),typeChecker.createTypeEnvironment=typeChecker.tForAll=typeChecker.tVar=typeChecker.typeCheck=void 0;const i=requireTypeErrors(),s=requireParser$1(),o=requireStringify(),a=requireInternalTypeErrors(),tt="-_1";let _e=0;function st(Jt,Kt){if(Jt!==null){if(Kt&&Jt.typability!=="Untypable")try{Jt.inferredType=mt(Jt.inferredType,Kt),Jt.typability="Typed"}catch(hr){j(hr)&&!(hr instanceof a.InternalCyclicReferenceError)&&et(new a.TypeError(Jt,hr))}else Jt.inferredType=tr(_e),_e++;switch(Jt.type){case"Program":{Jt.body.forEach(hr=>{st(hr,Kt)});break}case"UnaryExpression":{st(Jt.argument,Kt);break}case"LogicalExpression":case"BinaryExpression":{st(Jt.left,Kt),st(Jt.right,Kt);break}case"ExpressionStatement":{st(Jt.expression,Kt);break}case"BlockStatement":{Jt.body.forEach(hr=>{st(hr,Kt)});break}case"WhileStatement":{st(Jt.test,Kt),st(Jt.body,Kt);break}case"ForStatement":{st(Jt.init,Kt),st(Jt.test,Kt),st(Jt.update,Kt),st(Jt.body,Kt);break}case"ConditionalExpression":case"IfStatement":{st(Jt.test,Kt),st(Jt.consequent,Kt),Jt.alternate&&st(Jt.alternate,Kt);break}case"CallExpression":{st(Jt.callee,Kt),Jt.arguments.forEach(hr=>{st(hr,Kt)});break}case"ReturnStatement":{const hr=Jt.argument;st(hr,Kt);break}case"VariableDeclaration":{const hr=Jt.declarations[0].init;st(hr,Kt);break}case"ArrowFunctionExpression":{Jt.params.forEach(hr=>{st(hr,Kt)}),st(Jt.body,Kt);break}case"FunctionDeclaration":{const hr=Jt;if(Kt)try{hr.functionInferredType=mt(hr.functionInferredType,Kt)}catch(Pr){Pr instanceof a.InternalCyclicReferenceError?et(new i.CyclicReferenceError(Jt)):j(Pr)&&et(new a.TypeError(Jt,Pr))}else hr.functionInferredType=tr(_e);_e++,hr.params.forEach(Pr=>{st(Pr,Kt)}),st(hr.body,Kt);break}case"AssignmentExpression":st(Jt.left,Kt),st(Jt.right,Kt);break;case"ArrayExpression":Jt.elements.forEach(hr=>st(hr,Kt));break;case"MemberExpression":st(Jt.object,Kt),st(Jt.property,Kt);break;default:return}}}function ot(Jt){return Jt.kind==="pair"}function rt(Jt){return Jt.kind==="list"}function it(Jt){return rt(Jt)?Jt.elementType:null}function j(Jt){return Jt instanceof a.InternalTypeError}let _=!1,$=[];function et(Jt){Jt instanceof i.UndefinedIdentifierError&&_||(_=!0,$.push(Jt))}function nt(Jt,Kt){function hr(Pr){_e=0,_=!1,$=[];const jr=Kt.typeEnvironment;if(Kt.chapter>=3&&jr.length===3){const Ar=jr[2].typeMap;for(const[Yr,un]of $r)Ar.set(Yr,un)}const kr=[];st(Pr);try{Wt(Pr,jr,kr,!0)}catch(Ar){j(Ar)?et(new a.TypeError(Pr,`Uncaught internal type error during typechecking, report this to the adminstrators!
`+Ar.message)):et(new a.TypeError(Pr,`Uncaught error during typechecking, report this to the adminstrators!
`+Ar.message))}return st(Pr,kr),[Pr,$]}for(const Pr of Kt.unTypecheckedCode)hr((0,s.typedParse)(Pr,Kt));return Kt.unTypecheckedCode=[],hr(Jt)}typeChecker.typeCheck=nt;function at(Jt){const Kt=_e;return _e++,Object.assign(Object.assign({},Jt),{name:`T${Kt}`})}function ct(Jt,Kt){switch(Jt.kind){case"primitive":return Jt;case"list":return{kind:"list",elementType:ct(Jt.elementType,Kt)};case"array":return{kind:"array",elementType:ct(Jt.elementType,Kt)};case"pair":return{kind:"pair",headType:ct(Jt.headType,Kt),tailType:ct(Jt.tailType,Kt)};case"variable":return Kt[Jt.name];case"function":return Object.assign(Object.assign({},Jt),{parameterTypes:Jt.parameterTypes.map(hr=>ct(hr,Kt)),returnType:ct(Jt.returnType,Kt)})}}function ht(Jt,Kt){const hr=[...Jt];return Kt.forEach(Pr=>{hr.findIndex(jr=>jr.name===Pr.name)===-1&&hr.push(Pr)}),hr}function ut(Jt){switch(Jt.kind){case"primitive":return[];case"list":return ut(Jt.elementType);case"array":return ut(Jt.elementType);case"pair":return ht(ut(Jt.headType),ut(Jt.tailType));case"variable":return[Jt];case"function":return ht(Jt.parameterTypes.reduce((Kt,hr)=>ht(Kt,ut(hr)),[]),ut(Jt.returnType))}}function dt(Jt){const Kt=Jt.polyType,hr=ut(Kt),Pr={};return hr.forEach(jr=>{Pr[jr.name]=at(jr)}),ct(Kt,Pr)}function mt(Jt,Kt){switch(Jt.kind){case"primitive":return Jt;case"pair":{const hr=mt(Jt.headType,Kt),Pr=mt(Jt.tailType,Kt);return Pr.kind==="list"&&hr===it(Pr)?xr(hr):yr(hr,Pr)}case"list":return{kind:"list",elementType:mt(Jt.elementType,Kt)};case"array":return{kind:"array",elementType:mt(Jt.elementType,Kt)};case"variable":{for(const hr of Kt){const Pr=hr[0],jr=hr[1];if(Pr.name===Jt.name){if(gt(jr,Pr.name)){if(ot(jr)&&Pr===jr.tailType)return{kind:"list",elementType:jr.headType};if(Pr.kind==="variable"&&Pr===it(jr))return{kind:"list",elementType:Pr};throw new a.InternalCyclicReferenceError(Jt.name)}return mt(hr[1],Kt)}}return Jt}case"function":return Object.assign(Object.assign({},Jt),{parameterTypes:Jt.parameterTypes.map(hr=>mt(hr,Kt)),returnType:mt(Jt.returnType,Kt)})}}function gt(Jt,Kt){switch(Jt.kind){case"primitive":return!1;case"pair":return gt(Jt.headType,Kt)||gt(Jt.tailType,Kt);case"array":case"list":return gt(Jt.elementType,Kt);case"variable":return Jt.name===Kt;case"function":return Jt.parameterTypes.some(Pr=>gt(Pr,Kt))||gt(Jt.returnType,Kt)}}function lt(Jt,Kt,hr){for(const Pr of Kt)if(Pr[0].name===Jt.name)return _t(Kt,[hr,Pr[1]]);return hr.kind==="variable"&&Jt.constraint==="addable"&&hr.constraint==="none"&&(hr.constraint=Jt.constraint),Jt!==hr&&Kt.push([Jt,hr]),Kt}function St(Jt,Kt){return Jt.constraint==="addable"&&Kt.kind!=="variable"&&!(Kt.kind==="primitive"&&(Kt.name==="string"||Kt.name==="number"))}function xt(Jt){return{kind:"function",parameterTypes:[at(tr("T"))],returnType:sr}}function yt(){return dr(at(tr("T")),sr)}function _t(Jt,[Kt,hr]){if(Kt.kind==="primitive"&&hr.kind==="primitive"&&Kt.name===hr.name)return Jt;if(Kt.kind!=="variable"&&hr.kind==="variable")return _t(Jt,[hr,Kt]);if(Kt.kind==="variable"){if(hr=mt(hr,Jt),(hr.kind==="primitive"||hr.kind==="variable")&&Kt.name===hr.name)return Jt;if(hr.kind==="pair"&&Kt===hr.tailType)_t(Jt,[Kt,xr(hr.headType)]);else if(hr.kind==="pair"&&hr.tailType.kind==="list"){const Pr=_t(Jt,[hr.headType,it(hr.tailType)]);return _t(Pr,[Kt,xr(hr.headType)])}else if(gt(hr,Kt.name))throw new a.InternalCyclicReferenceError(Kt.name);if(St(Kt,hr))throw new a.UnifyError(Kt,hr);return lt(Kt,Jt,mt(hr,Jt))}else if(Kt.kind==="function"&&hr.kind==="function"){if(Kt.parameterTypes.length!==hr.parameterTypes.length)throw new a.InternalDifferentNumberArgumentsError(hr.parameterTypes.length,Kt.parameterTypes.length);let Pr=Jt;for(let jr=0;jr<Kt.parameterTypes.length;jr++)Pr=_t(Pr,[Kt.parameterTypes[jr],hr.parameterTypes[jr]]);return Pr=_t(Pr,[Kt.returnType,hr.returnType]),Pr}else if(Kt.kind==="pair"&&hr.kind==="pair"){const Pr=_t(Jt,[Kt.headType,hr.headType]);return _t(Pr,[Kt.tailType,hr.tailType])}else{if(Kt.kind==="list"&&hr.kind==="list")return _t(Jt,[Kt.elementType,hr.elementType]);if(Kt.kind==="list"&&hr.kind==="pair")return _t(Jt,[hr,yr(Kt.elementType,Kt)]);if(hr.kind==="list"&&Kt.kind==="pair")return _t(Jt,[Kt,yr(hr.elementType,hr)]);if(Kt.kind==="array"&&hr.kind==="array")return _t(Jt,[Kt.elementType,hr.elementType])}throw new a.UnifyError(Kt,hr)}function kt(Jt,Kt,hr,Pr,jr,kr){Gt(jr);for(const Ar of Kt)zt(Ar.argVarName,at(tr("PredicatedT")),jr);for(const Ar of Kt){const Yr=Pt(Ar.argVarName,jr),un=mt(Yr,kr),Or=Ar.ifTrueType.kind==="forall"?dt(Ar.ifTrueType):Ar.ifTrueType;try{kr=_t(kr,[Yr,Or])}catch(Xr){Xr instanceof a.UnifyError&&et(new i.InconsistentPredicateTestError(Ar.node,Ar.argVarName,un,Or))}}return kr=Wt(hr,jr,kr,Pr),jr.pop(),kr}function Et(Jt,Kt,hr,Pr,jr,kr,Ar){if(Ar=kt(Jt,Kt,hr,jr,kr,Ar),Pr!==void 0)try{Ar=Wt(Pr,kr,Ar,jr)}catch(Yr){Yr instanceof a.UnifyError&&et(new i.ConsequentAlternateMismatchError(Jt,Yr.RHS,Yr.LHS))}return Ar}function $t(Jt){switch(Jt.type){case"IfStatement":return $t(Jt.consequent)||$t(Jt.alternate);case"BlockStatement":return Jt.body.some(Kt=>$t(Kt));case"ForStatement":case"WhileStatement":return $t(Jt.body);case"ReturnStatement":return!0;default:return!1}}function Tt(Jt){switch(Jt.type){case"ExpressionStatement":return!0;case"IfStatement":return Tt(Jt.consequent)||Tt(Jt.alternate);case"BlockStatement":return Jt.body.some(Kt=>Tt(Kt));case"ForStatement":case"WhileStatement":return Tt(Jt.body);default:return!1}}function At(Jt,Kt,hr=[]){if(Jt.type==="LogicalExpression"&&Jt.operator==="&&")return hr=At(Jt.left,Kt,hr),At(Jt.right,Kt,hr);if(Jt.type==="UnaryExpression"&&Jt.operator==="!")return Mt(Jt.argument,Kt,hr);if(Jt.type==="CallExpression"&&Jt.callee.type==="Identifier"&&Jt.arguments.length===1&&Jt.arguments[0].type==="Identifier"){const Pr=Pt(Jt.callee.name,Kt);if(Pr!==void 0&&Pr.kind==="predicate")return hr.push({node:Jt,ifTrueType:Pr.ifTrueType,argVarName:Jt.arguments[0].name}),hr}return hr}function Mt(Jt,Kt,hr=[]){return Jt.type==="LogicalExpression"&&Jt.operator==="||"?(hr=Mt(Jt.left,Kt,hr),Mt(Jt.right,Kt,hr)):Jt.type==="UnaryExpression"&&Jt.operator==="!"?At(Jt.argument,Kt,hr):hr}function Ot(Jt,Kt){const hr=Jt.body.length-1;if(Kt){for(let Pr=hr;Pr>=0;Pr--)if(Tt(Jt.body[Pr]))return Pr;return hr}else return Jt.body.findIndex((Pr,jr)=>jr===hr||$t(Pr))}function Pt(Jt,Kt){for(let hr=Kt.length-1;hr>=0;hr--)if(Kt[hr].typeMap.has(Jt))return Kt[hr].typeMap.get(Jt)}function Ft(Jt,Kt){for(let hr=Kt.length-1;hr>=0;hr--)if(Kt[hr].declKindMap.has(Jt))return Kt[hr].declKindMap.get(Jt)}function zt(Jt,Kt,hr){hr[hr.length-1].typeMap.set(Jt,Kt)}function qt(Jt,Kt,hr){hr[hr.length-1].declKindMap.set(Jt,Kt)}function Gt(Jt){Jt.push({typeMap:new Map,declKindMap:new Map})}function Wt(Jt,Kt,hr,Pr=!1){try{return Xt(Jt,Kt,hr,Pr)}catch(jr){if(jr instanceof a.InternalCyclicReferenceError)return et(new i.CyclicReferenceError(Jt)),hr;throw jr}}function Xt(Jt,Kt,hr,Pr=!1){const jr=Jt.inferredType;switch(Jt.type){case"UnaryExpression":{const kr=Jt.operator==="-"?tt:Jt.operator,Ar=Pt(kr,Kt),Yr=Jt.argument,un=Yr.inferredType,Or=[];let Xr=Wt(Yr,Kt,hr);Or.push(mt(Yr.inferredType,Xr));try{Xr=_t(Xr,[dr(un,jr),Ar])}catch(Ur){if(Ur instanceof a.UnifyError){const Vr=Ar.parameterTypes;return et(new i.InvalidArgumentTypesError(Jt,[Yr],Vr,Or)),Xr}}return Xr}case"LogicalExpression":{const kr=Jt.left,Ar=kr.inferredType,Yr=Jt.right,un=Yr.inferredType;let Or=hr;Or=_t(hr,[jr,sr]),Or=Wt(kr,Kt,Or);const Xr=mt(kr.inferredType,Or);let Ur;if(Jt.operator==="&&"){const Vr=At(Jt.left,Kt);Vr.length>0&&(Or=kt(Jt,Vr,Jt.right,Pr,Kt,Or),Ur=mt(Yr.inferredType,Or))}else if(Jt.operator==="||"){const Vr=Mt(Jt.left,Kt);Vr.length>0&&(Or=kt(Jt,Vr,Jt.right,Pr,Kt,Or),Ur=mt(Yr.inferredType,Or))}Ur===void 0&&(Or=Wt(Yr,Kt,Or),Ur=mt(Yr.inferredType,Or));try{Or=_t(hr,[Ar,sr]),Or=_t(hr,[un,sr])}catch(Vr){Vr instanceof a.UnifyError&&et(new i.InvalidArgumentTypesError(Jt,[kr,Yr],[sr,sr],[Xr,Ur]))}return Or}case"BinaryExpression":{const kr=Pt(Jt.operator,Kt),Ar=kr.kind==="forall"?dt(kr):kr.kind==="predicate"?xt():kr,Yr=Jt.left,un=Yr.inferredType,Or=Jt.right,Xr=Or.inferredType,Ur=[Yr,Or];let Vr=hr;const ln=[];Ur.forEach(Er=>{Vr=Wt(Er,Kt,Vr),ln.push(mt(Er.inferredType,Vr))});try{Vr=_t(hr,[dr(un,Xr,jr),Ar])}catch(Er){if(Er instanceof a.UnifyError){const dn=Ar.parameterTypes;et(new i.InvalidArgumentTypesError(Jt,Ur,dn,ln))}}return Vr}case"ExpressionStatement":return Wt(Jt.expression,Kt,_t(hr,[jr,Cr]));case"ReturnStatement":{const kr=Jt.argument;return Wt(kr,Kt,_t(hr,[jr,kr.inferredType]))}case"WhileStatement":{const kr=Jt.test,Ar=kr.inferredType,Yr=Jt.body,un=Yr.inferredType;let Or=_t(hr,[jr,un]);try{Or=Wt(kr,Kt,Or),Or=_t(Or,[Ar,sr])}catch(Xr){Xr instanceof a.UnifyError&&et(new i.InvalidTestConditionError(Jt,Xr.RHS))}return Wt(Yr,Kt,Or,Pr)}case"ForStatement":{const kr=Jt.init,Ar=Jt.test,Yr=Ar.inferredType,un=Jt.body,Or=un.inferredType,Xr=Jt.update;let Ur=_t(hr,[jr,Or]);if(Gt(Kt),kr.type==="VariableDeclaration"&&kr.kind!=="var"&&kr.declarations[0].id.type==="Identifier"){const ln=kr.declarations[0].id.name;zt(ln,kr.declarations[0].init.inferredType,Kt),qt(ln,kr.kind,Kt),Ur=Wt(kr,Kt,Ur),zt(ln,vr(mt(kr.declarations[0].init.inferredType,Ur)),Kt)}else Ur=Wt(kr,Kt,Ur);try{Ur=Wt(Ar,Kt,Ur),Ur=_t(Ur,[Yr,sr])}catch(ln){ln instanceof a.UnifyError&&et(new i.InvalidTestConditionError(Jt,ln.RHS))}Ur=Wt(Xr,Kt,Ur);const Vr=Wt(un,Kt,Ur,Pr);return Kt.pop(),Vr}case"Program":case"BlockStatement":{Gt(Kt);for(const Er of Jt.body)if(Er.type==="ImportDeclaration")for(const dn of Er.specifiers)dn.type==="ImportSpecifier"&&dn.local.type==="Identifier"&&(zt(dn.local.name,vr(tr("T1")),Kt),qt(dn.local.name,"const",Kt));const kr=Jt.body.length-1,Ar=Ot(Jt,Pr);let Yr=-1,un=!1,Or=kr;const Xr=[];for(;Or>=0;){const Er=Jt.body[Or];(Er.type==="FunctionDeclaration"||Er.type==="VariableDeclaration")&&(un||(un=!0,Yr=Or),Xr.push(Er)),Or--}Xr.forEach(Er=>{if(Er.type==="FunctionDeclaration"&&Er.id!==null){const dn=Er.id.name;zt(dn,Er.functionInferredType,Kt),qt(dn,"const",Kt)}else if(Er.type==="VariableDeclaration"&&Er.kind!=="var"&&Er.declarations[0].id.type==="Identifier"){const dn=Er.declarations[0].id.name;zt(dn,Er.declarations[0].init.inferredType,Kt),qt(dn,Er.kind,Kt)}});const Ur=Jt.body[Ar],Vr=Pr&&Ur.type==="ExpressionStatement"?Ur.expression.inferredType:Ur.inferredType;let ln=_t(hr,[jr,Vr]);for(let Er=0;Er<=Yr;Er++)Er===Ar?ln=Wt(Jt.body[Er],Kt,ln,Pr):ln=Wt(Jt.body[Er],Kt,ln);Xr.forEach(Er=>{Er.type==="FunctionDeclaration"&&Er.id!==null?zt(Er.id.name,vr(mt(Er.functionInferredType,ln)),Kt):Er.type==="VariableDeclaration"&&Er.declarations[0].id.type==="Identifier"&&zt(Er.declarations[0].id.name,vr(mt(Er.declarations[0].init.inferredType,ln)),Kt)});for(let Er=Yr+1;Er<=kr;Er++){const dn=Jt.body[Er];Er===Ar?ln=Wt(dn,Kt,ln,Pr):ln=Wt(dn,Kt,ln)}return Jt.type==="BlockStatement"&&Kt.pop(),ln}case"Literal":{const kr=Jt.value,Ar=typeof kr;if(kr===null)return _t(hr,[jr,xr(tr(_e++))]);if(Ar==="number")return _t(hr,[jr,er]);if(Ar==="boolean")return _t(hr,[jr,sr]);if(Ar==="string")return _t(hr,[jr,Tr]);throw Error("Unexpected literal type")}case"Identifier":{const kr=Jt.name,Ar=Pt(kr,Kt);return Ar!==void 0?Ar.kind==="forall"?_t(hr,[jr,dt(Ar)]):Ar.kind==="predicate"?_t(hr,[jr,yt()]):_t(hr,[jr,Ar]):(et(new i.UndefinedIdentifierError(Jt,kr)),hr)}case"ConditionalExpression":case"IfStatement":{const kr=Jt.test,Ar=kr.inferredType,Yr=Jt.consequent,un=Yr.inferredType,Or=Jt.alternate,Xr=Or.inferredType;let Ur=hr;try{Ur=Wt(kr,Kt,Ur),Ur=_t(Ur,[Ar,sr])}catch(Er){Er instanceof a.UnifyError&&et(new i.InvalidTestConditionError(Jt,Er.RHS))}const Vr=At(kr,Kt),ln=Mt(kr,Kt);if(Vr.length>0)Ur=Et(Jt,Vr,Yr,Or,Pr,Kt,Ur);else if(ln.length>0)Ur=Et(Jt,ln,Or,Yr,Pr,Kt,Ur);else{Ur=Wt(Yr,Kt,Ur,Pr);try{Ur=Wt(Or,Kt,Ur,Pr)}catch(Er){Er instanceof a.UnifyError&&et(new i.ConsequentAlternateMismatchError(Jt,Er.RHS,Er.LHS))}}try{Ur=_t(Ur,[jr,un]),Ur=_t(Ur,[jr,Xr])}catch(Er){Er instanceof a.UnifyError&&et(new i.ConsequentAlternateMismatchError(Jt,Er.RHS,Er.LHS))}return Ur}case"ArrowFunctionExpression":{Gt(Kt);const kr=Jt.params,Ar=kr.map(Xr=>Xr.inferredType),Yr=Jt.body;Ar.push(Yr.inferredType);const un=_t(hr,[jr,dr(...Ar)]);kr.forEach(Xr=>{zt(Xr.name,Xr.inferredType,Kt)});const Or=Wt(Yr,Kt,un);return Kt.pop(),Or}case"VariableDeclaration":{const kr=Jt.declarations[0].init;return Wt(kr,Kt,_t(hr,[jr,Cr]))}case"FunctionDeclaration":{const kr=Jt;let Ar=_t(hr,[jr,Cr]);Gt(Kt);const Yr=kr.functionInferredType,un=Jt.params,Or=un.map(Vr=>Vr.inferredType),Xr=Jt.body;Or.push(Xr.inferredType),Ar=_t(Ar,[Yr,dr(...Or)]),un.forEach(Vr=>{zt(Vr.name,Vr.inferredType,Kt)});const Ur=Wt(Xr,Kt,Ar);return Kt.pop(),Ur}case"CallExpression":{const kr=Jt.callee,Ar=kr.inferredType,Yr=Jt.arguments,un=Yr.map(Vr=>Vr.inferredType);un.push(jr);let Or=hr;Or=Wt(kr,Kt,Or);const Xr=mt(kr.inferredType,Or),Ur=[];Yr.forEach(Vr=>{Or=Wt(Vr,Kt,Or),Ur.push(mt(Vr.inferredType,Or))});try{Or=_t(hr,[dr(...un),Ar])}catch(Vr){if(Vr instanceof a.UnifyError)if(Xr.kind==="function"){const ln=Xr.parameterTypes;et(new i.InvalidArgumentTypesError(Jt,Yr,ln,Ur))}else et(new i.CallingNonFunctionType(Jt,Xr));else Vr instanceof a.InternalDifferentNumberArgumentsError&&et(new i.DifferentNumberArgumentsError(Jt,Vr.numExpectedArgs,Vr.numReceived))}return Or}case"AssignmentExpression":{const kr=Jt.left,Ar=Jt.right,Yr=Ar.inferredType,un=kr.inferredType;let Or=_t(hr,[jr,Yr]);if(Or=Wt(Ar,Kt,Or),kr.type==="Identifier"&&Ft(kr.name,Kt)==="const")return et(new i.ReassignConstError(Jt)),Or;Or=Wt(kr,Kt,Or);try{return _t(Or,[Yr,un])}catch(Xr){Xr instanceof a.UnifyError&&(kr.type==="Identifier"?et(new i.DifferentAssignmentError(Jt,mt(un,Or),mt(Yr,Or))):et(new i.ArrayAssignmentError(Jt,ir(mt(un,Or)),ir(mt(Yr,Or)))))}return Or}case"ArrayExpression":{let kr=hr;const Ar=Jt.elements;Ar.forEach(un=>{kr=Wt(un,Kt,kr)});const Yr=tr(_e++);return kr=_t(kr,[jr,ir(Yr)]),Ar.forEach(un=>{try{kr=_t(kr,[Yr,un.inferredType])}catch(Or){Or instanceof a.UnifyError&&et(new i.ArrayAssignmentError(Jt,mt(Jt.inferredType,kr),ir(mt(un.inferredType,kr))))}}),kr}case"MemberExpression":{const Ar=Jt.object.name,Yr=Jt.property,un=Yr.inferredType;let Or=Wt(Yr,Kt,hr);const Xr=Pt(Ar,Kt);if(Xr.kind==="predicate")throw Xr.ifTrueType.kind==="forall"?new a.InternalTypeError(`Expected ${Ar} to be an array, got ${(0,o.typeToString)(dt(Xr.ifTrueType))}`):new a.InternalTypeError(`Expected ${Ar} to be an array, got ${(0,o.typeToString)(Xr.ifTrueType)}`);if(Xr.kind==="forall")throw new a.InternalTypeError(`Expected ${Ar} to be an array, got ${(0,o.typeToString)(dt(Xr))}`);const Ur=mt(Xr,Or);if(Ur.kind!=="array")throw new a.InternalTypeError(`Expected ${Ar} to be an array, got ${(0,o.typeToString)(Ur)}`);const Vr=Ur.elementType;try{Or=_t(hr,[un,er])}catch(ln){ln instanceof a.UnifyError&&et(new i.InvalidArrayIndexType(Jt,mt(un,Or)))}return _t(Or,[jr,Vr])}default:return _t(hr,[jr,Cr])}}function rr(Jt){return{kind:"primitive",name:Jt}}function tr(Jt){return{kind:"variable",name:`T${Jt}`,constraint:"none"}}typeChecker.tVar=tr;function mr(Jt){return{kind:"variable",name:`${Jt}`,constraint:"addable"}}function yr(Jt,Kt){return{kind:"pair",headType:Jt,tailType:Kt}}function xr(Jt){return{kind:"list",elementType:Jt}}function vr(Jt){return{kind:"forall",polyType:Jt}}typeChecker.tForAll=vr;function ir(Jt){return{kind:"array",elementType:Jt}}const sr=rr("boolean"),er=rr("number"),Tr=rr("string"),Cr=rr("undefined");function dr(...Jt){const Kt=Jt.slice(0,-1),hr=Jt.slice(-1)[0];return{kind:"function",parameterTypes:Kt,returnType:hr}}function Wr(Jt){return{kind:"predicate",ifTrueType:Jt}}const Jr=[["Infinity",er],["NaN",er],["undefined",Cr],["math_E",er],["math_LN2",er],["math_LN10",er],["math_LOG2E",er],["math_LOG10E",er],["math_PI",er],["math_SQRT1_2",er],["math_SQRT2",er],["is_boolean",Wr(sr)],["is_number",Wr(er)],["is_string",Wr(Tr)],["is_undefined",Wr(Cr)],["is_function",Wr(vr(dr(tr("T"),tr("U"))))],["math_abs",dr(er,er)],["math_acos",dr(er,er)],["math_acosh",dr(er,er)],["math_asin",dr(er,er)],["math_asinh",dr(er,er)],["math_atan",dr(er,er)],["math_atan2",dr(er,er,er)],["math_atanh",dr(er,er)],["math_cbrt",dr(er,er)],["math_ceil",dr(er,er)],["math_clz32",dr(er,er)],["math_cos",dr(er,er)],["math_cosh",dr(er,er)],["math_exp",dr(er,er)],["math_expm1",dr(er,er)],["math_floor",dr(er,er)],["math_fround",dr(er,er)],["math_hypot",vr(tr("T"))],["math_imul",dr(er,er,er)],["math_log",dr(er,er)],["math_log1p",dr(er,er)],["math_log2",dr(er,er)],["math_log10",dr(er,er)],["math_max",vr(tr("T"))],["math_min",vr(tr("T"))],["math_pow",dr(er,er,er)],["math_random",dr(er)],["math_round",dr(er,er)],["math_sign",dr(er,er)],["math_sin",dr(er,er)],["math_sinh",dr(er,er)],["math_sqrt",dr(er,er)],["math_tan",dr(er,er)],["math_tanh",dr(er,er)],["math_trunc",dr(er,er)],["parse_int",dr(Tr,er,er)],["prompt",dr(Tr,Tr)],["get_time",dr(er)],["stringify",vr(dr(tr("T"),Tr))],["display",vr(tr("T"))],["error",vr(tr("T"))]],nn=tr("headType"),Cn=tr("tailType"),Vn=[["pair",vr(dr(nn,Cn,yr(nn,Cn)))],["head",vr(dr(yr(nn,Cn),nn))],["tail",vr(dr(yr(nn,Cn),Cn))],["is_pair",Wr(vr(yr(nn,Cn)))],["is_null",Wr(vr(xr(tr("T"))))],["is_list",Wr(vr(xr(tr("T"))))]],An=[["set_head",vr(dr(yr(nn,Cn),nn,Cr))],["set_tail",vr(dr(yr(nn,Cn),Cn,Cr))]],pn=[["is_array",Wr(vr(ir(tr("T"))))],["array_length",vr(dr(ir(tr("T")),er))]],Kn=[["list",vr(tr("T1"))]],Pn=[[tt,dr(er,er)],["!",dr(sr,sr)],["&&",vr(dr(sr,tr("T"),tr("T")))],["||",vr(dr(sr,tr("T"),tr("T")))],["<",vr(dr(mr("A"),mr("A"),sr))],["<=",vr(dr(mr("A"),mr("A"),sr))],[">",vr(dr(mr("A"),mr("A"),sr))],[">=",vr(dr(mr("A"),mr("A"),sr))],["+",vr(dr(mr("A"),mr("A"),mr("A")))],["%",dr(er,er,er)],["-",dr(er,er,er)],["*",dr(er,er,er)],["/",dr(er,er,er)]],wr=[["===",vr(dr(mr("A"),mr("A"),sr))],["!==",vr(dr(mr("A"),mr("A"),sr))]],zr=[["===",vr(dr(tr("T1"),tr("T2"),sr))],["!==",vr(dr(tr("T1"),tr("T2"),sr))]],$r=[["is_stream",vr(dr(tr("T1"),sr))],["list_to_stream",vr(dr(xr(tr("T1")),tr("T2")))],["stream_to_list",vr(dr(tr("T1"),xr(tr("T2"))))],["stream_length",vr(dr(tr("T1"),er))],["stream_map",vr(dr(tr("T1"),tr("T2")))],["build_stream",vr(dr(er,dr(er,tr("T1")),tr("T2")))],["stream_for_each",vr(dr(dr(tr("T1"),tr("T2")),sr))],["stream_reverse",vr(dr(tr("T1"),tr("T1")))],["stream_append",vr(dr(tr("T1"),tr("T1"),tr("T1")))],["stream_member",vr(dr(tr("T1"),tr("T2"),tr("T2")))],["stream_remove",vr(dr(tr("T1"),tr("T2"),tr("T2")))],["stream_remove_all",vr(dr(tr("T1"),tr("T2"),tr("T2")))],["stream_filter",vr(dr(dr(tr("T1"),sr),tr("T2"),tr("T2")))],["enum_stream",vr(dr(er,er,tr("T1")))],["integers_from",vr(dr(er,tr("T1")))],["eval_stream",vr(dr(tr("T1"),er,xr(tr("T2"))))],["stream_ref",vr(dr(tr("T1"),er,tr("T2")))]];function hn(Jt){const Kt=[...Jr,...Pn];return Jt>=2&&Kt.push(...Vn,...Kn),Jt>=3?Kt.push(...zr,...An,...pn):Kt.push(...wr),[{typeMap:new Map(Kt),declKindMap:new Map(Kt.map(hr=>[hr[0],"const"]))}]}return typeChecker.createTypeEnvironment=hn,typeChecker}var hasRequiredCreateContext;function requireCreateContext(){return hasRequiredCreateContext||(hasRequiredCreateContext=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.importBuiltins=i.importExternalSymbols=i.defineBuiltin=i.defineSymbol=i.ensureGlobalEnvironmentExist=i.createEmptyContext=i.createGlobalEnvironment=i.EnvTreeNode=i.EnvTree=i.LazyBuiltIn=void 0;const s=constants,o=lib,a=requireSchedulers(),tt=lazyList_prelude,_e=requireList(),st=requireList(),ot=list_prelude,rt=requireMisc(),it=nonDet_prelude,j=requireParser(),_=requireStream(),$=stream_prelude,et=requireTypeChecker(),nt=types,at=makeWrapper$1,ct=requireOperators(),ht=requireStringify();class ut{constructor(Ft,zt){this.func=Ft,this.evaluateArgs=zt}}i.LazyBuiltIn=ut;class dt{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(Ft){const zt=Ft.tail;if(zt===null)this._root===null&&(this._root=new mt(Ft,null),this.map.set(Ft,this._root));else{const qt=this.map.get(zt);if(qt){const Gt=new mt(Ft,qt);qt.addChild(Gt),this.map.set(Ft,Gt)}}}getTreeNode(Ft){return this.map.get(Ft)}}i.EnvTree=dt;class mt{constructor(Ft,zt){this.environment=Ft,this.parent=zt,this._children=[]}get children(){return this._children}resetChildren(Ft){this.clearChildren(),this.addChildren(Ft),Ft.forEach(zt=>zt.parent=this)}clearChildren(){this._children=[]}addChildren(Ft){this._children.push(...Ft)}addChild(Ft){return this._children.push(Ft),Ft}}i.EnvTreeNode=mt;const gt=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new dt,environments:[],value:void 0,nodes:[]}),lt=()=>({observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new a.AsyncScheduler}}),St=()=>({tail:null,name:"global",head:{},id:"-1"});i.createGlobalEnvironment=St;const xt=()=>({builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(ct)),gpu:new Map(Object.entries(o)),maxExecTime:s.JSSLANG_PROPERTIES.maxExecTime,evaller:null}),yt=(Pt,Ft=nt.Variant.DEFAULT,zt,qt)=>({chapter:Pt,externalSymbols:zt,errors:[],externalContext:qt,runtime:gt(),numberOfOuterEnvironments:1,prelude:null,debugger:lt(),nativeStorage:xt(),executionMethod:"auto",variant:Ft,moduleContexts:{},unTypecheckedCode:[],typeEnvironment:(0,et.createTypeEnvironment)(Pt),previousCode:[]});i.createEmptyContext=yt;const _t=Pt=>{if(Pt.runtime||(Pt.runtime=gt()),Pt.runtime.environments||(Pt.runtime.environments=[]),Pt.runtime.environmentTree||(Pt.runtime.environmentTree=new dt),Pt.runtime.environments.length===0){const Ft=(0,i.createGlobalEnvironment)();Pt.runtime.environments.push(Ft),Pt.runtime.environmentTree.insert(Ft)}};i.ensureGlobalEnvironmentExist=_t;const kt=(Pt,Ft,zt)=>{const qt=Pt.runtime.environments[0];Object.defineProperty(qt.head,Ft,{value:zt,writable:!1,enumerable:!0}),Pt.nativeStorage.builtins.set(Ft,zt);const Gt=Pt.typeEnvironment[0];Gt.declKindMap.has(Ft)||(Gt.typeMap.set(Ft,(0,et.tForAll)((0,et.tVar)("T1"))),Gt.declKindMap.set(Ft,"const"))};i.defineSymbol=kt;function Et(Pt,Ft,zt,qt=void 0){if(typeof zt=="function"){const Gt=Ft.split("(")[0].trim(),Wt=`function ${Ft} {
	[implementation hidden]
}`;zt.toString=()=>Wt,zt.minArgsNeeded=qt,(0,i.defineSymbol)(Pt,Gt,zt)}else if(zt instanceof ut){const Gt=(...rr)=>zt.func(...rr),Wt=Ft.split("(")[0].trim(),Xt=`function ${Ft} {
	[implementation hidden]
}`;Gt.toString=()=>Xt,(0,at.makeWrapper)(zt.func,Gt),(0,i.defineSymbol)(Pt,Wt,new ut(Gt,zt.evaluateArgs))}else(0,i.defineSymbol)(Pt,Ft,zt)}i.defineBuiltin=Et;const $t=(Pt,Ft)=>{(0,i.ensureGlobalEnvironmentExist)(Pt),Ft.forEach(zt=>{(0,i.defineSymbol)(Pt,zt,s.GLOBAL[zt])})};i.importExternalSymbols=$t;const Tt=(Pt,Ft)=>{(0,i.ensureGlobalEnvironmentExist)(Pt);const zt=(tr,...mr)=>Ft.rawDisplay(tr,mr[0],Pt.externalContext),qt=(tr,...mr)=>{if(mr.length===1&&mr[0]!==void 0&&typeof mr[0]!="string")throw new TypeError("display expects the second argument to be a string");return zt((0,ht.stringify)(tr),mr[0]),tr},Gt=(tr,...mr)=>{if(mr.length===1&&mr[0]!==void 0&&typeof mr[0]!="string")throw new TypeError("display_list expects the second argument to be a string");return _e.rawDisplayList(qt,tr,mr[0])},Wt=tr=>{const mr=Date.now(),yr=Ft.prompt(tr,"",Pt.externalContext);return Pt.nativeStorage.maxExecTime+=Date.now()-mr,yr},Xt=tr=>{const mr=Date.now();Ft.alert(tr,"",Pt.externalContext),Pt.nativeStorage.maxExecTime+=Date.now()-mr},rr=(...tr)=>(Ft.visualiseList(tr,Pt.externalContext),tr[0]);if(Pt.chapter>=1){Et(Pt,"get_time()",rt.get_time),Et(Pt,"display(val, prepend = undefined)",qt,1),Et(Pt,"raw_display(str, prepend = undefined)",zt,1),Et(Pt,"stringify(val, indent = 2, maxLineLength = 80)",ht.stringify,1),Et(Pt,"error(str, prepend = undefined)",rt.error_message,1),Et(Pt,"prompt(str)",Wt),Et(Pt,"is_number(val)",rt.is_number),Et(Pt,"is_string(val)",rt.is_string),Et(Pt,"is_function(val)",rt.is_function),Et(Pt,"is_boolean(val)",rt.is_boolean),Et(Pt,"is_undefined(val)",rt.is_undefined),Et(Pt,"parse_int(str, radix)",rt.parse_int),Et(Pt,"char_at(str, index)",rt.char_at),Et(Pt,"arity(f)",rt.arity),Et(Pt,"undefined",void 0),Et(Pt,"NaN",NaN),Et(Pt,"Infinity",1/0);const tr=Object.getOwnPropertyNames(Math),mr=[..."abcdefghijklmnopqrstuvwxyz"];for(const yr of tr){const xr=Math[yr];if(typeof xr=="function"){let vr,ir;yr==="max"||yr==="min"?(vr="...values",ir=0):vr=mr.slice(0,xr.length).join(", "),Et(Pt,`math_${yr}(${vr})`,xr,ir)}else Et(Pt,`math_${yr}`,xr)}}Pt.chapter>=2&&(Pt.variant===nt.Variant.LAZY?(Et(Pt,"pair(left, right)",new ut(_e.pair,!1)),Et(Pt,"list(...values)",new ut(_e.list,!1),0),Et(Pt,"is_pair(val)",new ut(_e.is_pair,!0)),Et(Pt,"head(xs)",new ut(_e.head,!0)),Et(Pt,"tail(xs)",new ut(_e.tail,!0)),Et(Pt,"is_null(val)",new ut(_e.is_null,!0)),Et(Pt,"draw_data(...xs)",new ut(rr,!0),1),Et(Pt,"is_list(val)",new ut(_e.is_list,!0))):(Et(Pt,"pair(left, right)",_e.pair),Et(Pt,"is_pair(val)",_e.is_pair),Et(Pt,"head(xs)",_e.head),Et(Pt,"tail(xs)",_e.tail),Et(Pt,"is_null(val)",_e.is_null),Et(Pt,"list(...values)",_e.list,0),Et(Pt,"draw_data(...xs)",rr,1),Et(Pt,"display_list(val, prepend = undefined)",Gt,0),Et(Pt,"is_list(val)",_e.is_list))),Pt.chapter>=3&&(Et(Pt,"set_head(xs, val)",_e.set_head),Et(Pt,"set_tail(xs, val)",_e.set_tail),Et(Pt,"array_length(arr)",rt.array_length),Et(Pt,"is_array(val)",rt.is_array),Et(Pt,"stream_tail(stream)",_.stream_tail),Et(Pt,"stream(...values)",_.stream,0)),Pt.chapter>=4&&(Et(Pt,"parse(program_string)",tr=>j.parse(tr,Ot(Pt.chapter))),Et(Pt,"tokenize(program_string)",tr=>j.tokenize(tr,Ot(Pt.chapter))),Et(Pt,"apply_in_underlying_javascript(fun, args)",(tr,mr)=>tr.apply(tr,(0,st.list_to_vector)(mr))),Pt.variant===nt.Variant.GPU&&(Et(Pt,"__clearKernelCache()",o.__clearKernelCache),Et(Pt,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",o.__createKernelSource))),Pt.chapter===nt.Chapter.LIBRARY_PARSER&&(Et(Pt,"is_object(val)",rt.is_object),Et(Pt,"is_NaN(val)",rt.is_NaN),Et(Pt,"has_own_property(obj, prop)",rt.has_own_property),Et(Pt,"alert(val)",Xt),Et(Pt,"timed(fun)",tr=>rt.timed(Pt,tr,Pt.externalContext,Ft.rawDisplay))),Pt.variant===nt.Variant.LAZY&&(Et(Pt,"wrapLazyCallee(f)",new ut(ct.wrapLazyCallee,!0)),Et(Pt,"makeLazyFunction(f)",new ut(ct.makeLazyFunction,!0)),Et(Pt,"forceIt(val)",new ut(ct.forceIt,!0)),Et(Pt,"delayIt(xs)",new ut(ct.delayIt,!0)))};i.importBuiltins=Tt;function At(Pt){let Ft="";Pt.chapter>=2&&(Ft+=Pt.variant===nt.Variant.LAZY?tt.lazyListPrelude:ot.listPrelude),Pt.chapter>=3&&(Ft+=$.streamPrelude),Pt.variant===nt.Variant.NON_DET&&(Ft+=it.nonDetPrelude),Ft!==""&&(Pt.prelude=Ft)}const Mt={rawDisplay:rt.rawDisplay,prompt:rt.rawDisplay,alert:rt.rawDisplay,visualiseList:Pt=>{throw new Error("List visualizer is not enabled")}},Ot=(Pt=nt.Chapter.SOURCE_1,Ft=nt.Variant.DEFAULT,zt=[],qt,Gt=Mt)=>{if(Pt===nt.Chapter.FULL_JS)return Object.assign(Object.assign({},Ot(nt.Chapter.SOURCE_4,Ft,zt,qt,Gt)),{chapter:nt.Chapter.FULL_JS});const Wt=(0,i.createEmptyContext)(Pt,Ft,zt,qt);return(0,i.importBuiltins)(Wt,Gt),At(Wt),(0,i.importExternalSymbols)(Wt,zt),Wt};i.default=Ot}(createContext)),createContext}Object.defineProperty(sicp,"__esModule",{value:!0});const createContext_1=requireCreateContext(),dict=createContext_1.default(4).nativeStorage.builtins;dict.get("get_time");dict.get("display");dict.get("raw_display");const stringify=dict.get("stringify");dict.get("error");dict.get("prompt");const is_number=dict.get("is_number"),is_string=dict.get("is_string"),is_function=dict.get("is_function"),is_boolean=dict.get("is_boolean"),is_undefined=dict.get("is_undefined");dict.get("parse_int");dict.get("char_at");const arity=dict.get("arity");dict.get("math_abs");dict.get("math_acos");dict.get("math_acosh");dict.get("math_asin");dict.get("math_asinh");dict.get("math_atan");dict.get("math_atanh");dict.get("math_atan2");dict.get("math_ceil");dict.get("math_cbrt");dict.get("math_expm1");dict.get("math_clz32");dict.get("math_cos");dict.get("math_cosh");dict.get("math_exp");dict.get("math_floor");dict.get("math_fround");dict.get("math_hypot");dict.get("math_imul");dict.get("math_log");dict.get("math_log1p");dict.get("math_log2");dict.get("math_log10");dict.get("math_max");dict.get("math_min");dict.get("math_pow");dict.get("math_random");dict.get("math_round");dict.get("math_sign");dict.get("math_sin");dict.get("math_sinh");dict.get("math_sqrt");dict.get("math_tan");dict.get("math_tanh");dict.get("math_trunc");dict.get("math_E");dict.get("math_LN10");dict.get("math_LN2");dict.get("math_LOG10E");dict.get("math_LOG2E");dict.get("math_PI");dict.get("math_SQRT1_2");dict.get("math_SQRT2");const pair=dict.get("pair"),is_pair=dict.get("is_pair"),head=dict.get("head"),tail=dict.get("tail"),is_null=dict.get("is_null"),list=dict.get("list");dict.get("draw_data");dict.get("display_list");dict.get("is_list");dict.get("set_head");dict.get("set_tail");dict.get("array_length");dict.get("is_array");const stream_tail=dict.get("stream_tail");dict.get("stream");dict.get("parse");dict.get("tokenize");dict.get("apply_in_underlying_javascript");function equal(i,s){return is_pair(i)?is_pair(s)&&equal(head(i),head(s))&&equal(tail(i),tail(s)):is_null(i)?is_null(s):is_number(i)?is_number(s)&&i===s:is_boolean(i)?is_boolean(s)&&(i&&s||!i&&!s):is_string(i)?is_string(s)&&i===s:is_undefined(i)?is_undefined(s):is_function(i)?is_function(s)&&i===s:!1}function $length(i,s){return is_null(i)?s:$length(tail(i),s+1)}function length(i){return $length(i,0)}function $map(i,s,o){return is_null(s)?reverse(o):$map(i,tail(s),pair(i(head(s)),o))}function map(i,s){return $map(i,s,null)}function $build_list(i,s,o){return i<0?o:$build_list(i-1,s,pair(s(i),o))}function build_list(i,s){return $build_list(s-1,i,null)}function for_each(i,s){return is_null(s)?!0:(i(head(s)),for_each(i,tail(s)))}function $list_to_string(i,s){return is_null(i)?s("null"):is_pair(i)?$list_to_string(head(i),o=>$list_to_string(tail(i),a=>s("["+o+","+a+"]"))):s(stringify(i))}function list_to_string(i){return $list_to_string(i,s=>s)}function $reverse(i,s){return is_null(i)?s:$reverse(tail(i),pair(head(i),s))}function reverse(i){return $reverse(i,null)}function $append(i,s,o){return is_null(i)?o(s):$append(tail(i),s,a=>o(pair(head(i),a)))}function append(i,s){return $append(i,s,o=>o)}function member(i,s){return is_null(s)?null:i===head(s)?s:member(i,tail(s))}function $remove(i,s,o){const a=append,tt=reverse;return is_null(s)?a(tt(o),s):i===head(s)?a(tt(o),tail(s)):$remove(i,tail(s),pair(head(s),o))}function remove(i,s){return $remove(i,s,null)}function $remove_all(i,s,o){const a=append,tt=reverse;return is_null(s)?a(tt(o),s):i===head(s)?$remove_all(i,tail(s),o):$remove_all(i,tail(s),pair(head(s),o))}function remove_all(i,s){return $remove_all(i,s,null)}function $filter(i,s,o){return is_null(s)?reverse(o):i(head(s))?$filter(i,tail(s),pair(head(s),o)):$filter(i,tail(s),o)}function filter(i,s){return $filter(i,s,null)}function $enum_list(i,s,o){const a=reverse;return i>s?a(o):$enum_list(i+1,s,pair(i,o))}function enum_list(i,s){return $enum_list(i,s,null)}function list_ref(i,s){return s===0?head(i):list_ref(tail(i),s-1)}function $accumulate(i,s,o,a){return is_null(o)?a(s):$accumulate(i,s,tail(o),tt=>a(i(head(o),tt)))}function accumulate(i,s,o){return $accumulate(i,s,o,a=>a)}function is_stream(i){return is_null(i)||is_pair(i)&&is_function(tail(i))&&arity(tail(i))===0&&is_stream(stream_tail(i))}function list_to_stream(i){return is_null(i)?null:pair(head(i),()=>list_to_stream(tail(i)))}function stream_to_list(i){return is_null(i)?null:pair(head(i),stream_to_list(stream_tail(i)))}function stream_length(i){return is_null(i)?0:1+stream_length(stream_tail(i))}function stream_map(i,s){return is_null(s)?null:pair(i(head(s)),()=>stream_map(i,stream_tail(s)))}function build_stream(i,s){function o(a){return a>=s?null:pair(i(a),()=>o(a+1))}return o(0)}function stream_for_each(i,s){return is_null(s)?!0:(i(head(s)),stream_for_each(i,stream_tail(s)))}function stream_reverse(i){function s(o,a){return is_null(o)?a:s(stream_tail(o),pair(head(o),()=>a))}return s(i,null)}function stream_append(i,s){return is_null(i)?s:pair(head(i),()=>stream_append(stream_tail(i),s))}function stream_member(i,s){return is_null(s)?null:head(s)===i?s:stream_member(i,stream_tail(s))}function stream_remove(i,s){return is_null(s)?null:i===head(s)?stream_tail(s):pair(head(s),()=>stream_remove(i,stream_tail(s)))}function stream_remove_all(i,s){return is_null(s)?null:i===head(s)?stream_remove_all(i,stream_tail(s)):pair(head(s),()=>stream_remove_all(i,stream_tail(s)))}function stream_filter(i,s){return is_null(s)?null:i(head(s))?pair(head(s),()=>stream_filter(i,stream_tail(s))):stream_filter(i,stream_tail(s))}function enum_stream(i,s){return i>s?null:pair(i,()=>enum_stream(i+1,s))}function integers_from(i){return pair(i,()=>integers_from(i+1))}function eval_stream(i,s){function o(a,tt){return tt===1?list(head(a)):pair(head(a),o(stream_tail(a),tt-1))}return s===0?null:o(i,s)}function stream_ref(i,s){return s===0?head(i):stream_ref(stream_tail(i),s-1)}sicp.equal=equal;sicp.$length=$length;sicp.length=length;sicp.$map=$map;var map_1=sicp.map=map;sicp.$build_list=$build_list;sicp.build_list=build_list;sicp.for_each=for_each;sicp.$list_to_string=$list_to_string;sicp.list_to_string=list_to_string;sicp.$reverse=$reverse;sicp.reverse=reverse;sicp.$append=$append;sicp.append=append;sicp.member=member;sicp.$remove=$remove;sicp.remove=remove;sicp.$remove_all=$remove_all;sicp.remove_all=remove_all;sicp.$filter=$filter;sicp.filter=filter;sicp.$enum_list=$enum_list;sicp.enum_list=enum_list;sicp.list_ref=list_ref;sicp.$accumulate=$accumulate;sicp.accumulate=accumulate;sicp.is_stream=is_stream;sicp.list_to_stream=list_to_stream;sicp.stream_to_list=stream_to_list;sicp.stream_length=stream_length;sicp.stream_map=stream_map;sicp.build_stream=build_stream;sicp.stream_for_each=stream_for_each;sicp.stream_reverse=stream_reverse;sicp.stream_append=stream_append;sicp.stream_member=stream_member;sicp.stream_remove=stream_remove;sicp.stream_remove_all=stream_remove_all;sicp.stream_filter=stream_filter;sicp.enum_stream=enum_stream;sicp.integers_from=integers_from;sicp.eval_stream=eval_stream;sicp.stream_ref=stream_ref;sicp.get_time=dict.get("get_time");sicp.display=dict.get("display");sicp.raw_display=dict.get("raw_display");sicp.stringify=dict.get("stringify");var error_1=sicp.error=dict.get("error");sicp.prompt=dict.get("prompt");sicp.is_number=dict.get("is_number");sicp.is_string=dict.get("is_string");sicp.is_function=dict.get("is_function");sicp.is_boolean=dict.get("is_boolean");sicp.is_undefined=dict.get("is_undefined");sicp.parse_int=dict.get("parse_int");sicp.char_at=dict.get("char_at");sicp.arity=dict.get("arity");sicp.math_abs=dict.get("math_abs");sicp.math_acos=dict.get("math_acos");sicp.math_acosh=dict.get("math_acosh");sicp.math_asin=dict.get("math_asin");sicp.math_asinh=dict.get("math_asinh");sicp.math_atan=dict.get("math_atan");sicp.math_atanh=dict.get("math_atanh");sicp.math_atan2=dict.get("math_atan2");sicp.math_ceil=dict.get("math_ceil");sicp.math_cbrt=dict.get("math_cbrt");sicp.math_expm1=dict.get("math_expm1");sicp.math_clz32=dict.get("math_clz32");sicp.math_cos=dict.get("math_cos");sicp.math_cosh=dict.get("math_cosh");sicp.math_exp=dict.get("math_exp");sicp.math_floor=dict.get("math_floor");sicp.math_fround=dict.get("math_fround");sicp.math_hypot=dict.get("math_hypot");sicp.math_imul=dict.get("math_imul");sicp.math_log=dict.get("math_log");sicp.math_log1p=dict.get("math_log1p");sicp.math_log2=dict.get("math_log2");sicp.math_log10=dict.get("math_log10");sicp.math_max=dict.get("math_max");sicp.math_min=dict.get("math_min");sicp.math_pow=dict.get("math_pow");sicp.math_random=dict.get("math_random");sicp.math_round=dict.get("math_round");sicp.math_sign=dict.get("math_sign");sicp.math_sin=dict.get("math_sin");sicp.math_sinh=dict.get("math_sinh");sicp.math_sqrt=dict.get("math_sqrt");sicp.math_tan=dict.get("math_tan");sicp.math_tanh=dict.get("math_tanh");sicp.math_trunc=dict.get("math_trunc");sicp.math_E=dict.get("math_E");sicp.math_LN10=dict.get("math_LN10");sicp.math_LN2=dict.get("math_LN2");sicp.math_LOG10E=dict.get("math_LOG10E");sicp.math_LOG2E=dict.get("math_LOG2E");sicp.math_PI=dict.get("math_PI");sicp.math_SQRT1_2=dict.get("math_SQRT1_2");sicp.math_SQRT2=dict.get("math_SQRT2");sicp.pair=dict.get("pair");sicp.is_pair=dict.get("is_pair");var head_1=sicp.head=dict.get("head"),tail_1=sicp.tail=dict.get("tail"),is_null_1=sicp.is_null=dict.get("is_null");sicp.list=dict.get("list");sicp.draw_data=dict.get("draw_data");sicp.display_list=dict.get("display_list");sicp.is_list=dict.get("is_list");sicp.set_head=dict.get("set_head");sicp.set_tail=dict.get("set_tail");sicp.array_length=dict.get("array_length");sicp.is_array=dict.get("is_array");sicp.stream_tail=dict.get("stream_tail");sicp.stream=dict.get("stream");var parse_1=sicp.parse=dict.get("parse");sicp.tokenize=dict.get("tokenize");sicp.apply_in_underlying_javascript=dict.get("apply_in_underlying_javascript");function list_to_array(i){return is_null_1(i)?[]:[head_1(i)].concat(list_to_array(tail_1(i)))}function parameters(i){return map_1(s=>head_1(s)==="rest_element"?{tag:"rest",sym:head_1(tail_1(head_1(tail_1(s))))}:head_1(tail_1(s)),i)}function objectify(i){switch(head_1(i)){case"literal":return{tag:"lit",val:head_1(tail_1(i))};case"name":return{tag:"nam",sym:head_1(tail_1(i))};case"application":return{tag:"app",fun:objectify(head_1(tail_1(i))),args:list_to_array(map_1(objectify,head_1(tail_1(tail_1(i)))))};case"logical_composition":return{tag:"log",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"binary_operator_combination":return{tag:"binop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"object_access":return{tag:"arr_acc",arr:objectify(head_1(tail_1(i))),ind:objectify(head_1(tail_1(tail_1(i))))};case"object_assignment":return{tag:"arr_assmt",arr:objectify(head_1(tail_1(head_1(tail_1(i))))),ind:objectify(head_1(tail_1(tail_1(head_1(tail_1(i)))))),expr:objectify(head_1(tail_1(tail_1(i))))};case"array_expression":return{tag:"arr_lit",elems:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"unary_operator_combination":return{tag:"unop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i))))};case"lambda_expression":return{tag:"lam",prms:list_to_array(parameters(head_1(tail_1(i)))),body:objectify(head_1(tail_1(tail_1(i))))};case"sequence":return{tag:"seq",stmts:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"block":return{tag:"blk",body:objectify(head_1(tail_1(i)))};case"variable_declaration":return{tag:"let",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"constant_declaration":return{tag:"const",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"assignment":return{tag:"assmt",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"conditional_statement":return{tag:"cond_stmt",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"while_loop":return{tag:"while",pred:objectify(head_1(tail_1(i))),body:objectify(head_1(tail_1(tail_1(i))))};case"for_loop":return{tag:"for",init:objectify(head_1(tail_1(i))),pred:objectify(head_1(tail_1(tail_1(i)))),upd:objectify(head_1(tail_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(tail_1(i))))))};case"break_statement":return{tag:"break"};case"continue_statement":return{tag:"cont"};case"conditional_expression":return{tag:"cond_expr",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"function_declaration":return{tag:"fun",sym:head_1(tail_1(head_1(tail_1(i)))),prms:list_to_array(parameters(head_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"return_statement":return{tag:"ret",expr:objectify(head_1(tail_1(i)))};case"import_declaration":return{tag:"import",syms:map_1(s=>head_1(tail_1(s)),head_1(tail_1(i))),from:head_1(tail_1(tail_1(i)))};case"this_expression":return{tag:"this"};case"spread_element":return{tag:"spread",sym:head_1(tail_1(head_1(tail_1(i))))};case"property":return{tag:"prop",sym:head_1(tail_1(i))};default:throw error_1(i,"unknown syntax:")}}function parse_into_json(i){const s=objectify(parse_1(i));return JSON.stringify(s)}function parseIntoJsonChunks(i){const s=objectify(parse_1(i));return convertToJsonChunks(s)}function convertToJsonChunks(i,s=1500){if(JSON.stringify(i).length<=s)return[JSON.stringify(i)];switch(i.tag){case"app":case"arr_acc":case"arr_assmt":case"arr_lit":case"assmt":case"binop":case"blk":case"break":case"cond_expr":case"cond_stmt":case"const":case"cont":case"for":case"fun":case"import":case"lam":case"let":case"lit":case"log":case"nam":case"prop":case"ret":return[JSON.stringify(i)];case"seq":const o=[];let a=0;for(const st of i.stmts){if(a+=JSON.stringify(st).length,a>s&&o.length>1)break;o.push(st)}const tt=i.stmts.slice(o.length);return o.push({tag:"pause_for_input"}),[JSON.stringify({tag:"seq",stmts:o})].concat(convertToJsonChunks({tag:"seq",stmts:tt}));case"spread":case"this":case"unop":case"while":case"pause_for_input":return[JSON.stringify(i)]}}const readUntilPrompt=async(i,s=0,o=()=>{})=>{const a=i.readable.getReader(),tt=s&&setTimeout(()=>{throw a.releaseLock(),i.close(),new Error("Timed Out.")},s);let _e="";for(;;){const{value:st,done:ot}=await a.read(),rt=new TextDecoder().decode(st);_e+=rt;const it=_e.split(`
`);for(const j of it.slice(0,it.length))o(j);if(_e=it[it.length-1],_e.substring(0,4)==">>> "||ot)return s&&clearTimeout(tt),o(_e),a.releaseLock(),ot}},writeLines=async(i,...s)=>{const o=i.writable.getWriter();for(const a of s){const tt=new TextEncoder().encode(a+`
`),_e=100;for(let st=0;st<tt.length;st+=_e){const ot=tt.slice(st,st+_e);await o.write(ot),await sleep(10)}}o.releaseLock()},processRawOutput=i=>{let s=i.trim();const o=[">>>",">OK",">"];for(const tt of o)s.startsWith(tt)&&(s=s.substring(tt.length).trim());const a="raw REPL; CTRL-B to exit";if(s.startsWith(a)&&(s=s.substring(a.length).trim()),!!s)return s},runProgram=async(i,s)=>{console.log("Sending program chunk..."),await writeLines(i,RAW_MODE_ENTER,s,RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(i,0,o=>{const a=processRawOutput(o);a&&console.log(a)}),console.log("Sending chunk complete...")},sleep=i=>new Promise(s=>setTimeout(s,i)),cleanProgram=i=>i.replaceAll(/(^#|\s#) ?.*$/gm,"").replaceAll(/\n\n\n+/gm,`

`),getInterpreterLib=async()=>(await __vitePreload(async()=>{const{default:i}=await import("./index-Bg2lWxxV.js");return{default:i}},[])).default,getSourceThreePrelude=async()=>(await __vitePreload(async()=>{const{sourceThreePrelude:i}=await import("./index-C9Zpxbc1.js");return{sourceThreePrelude:i}},[])).sourceThreePrelude,{setCurrentLanguage,setEditorValue,resetEditorValues}=WorkspaceActions,EditorPage=()=>{const[i,s]=reactExports.useState(""),o=useTypedDispatch(),a=useTypedSelector(at=>at.workspace.currentLanguage),tt=reactExports.useCallback(at=>o(setCurrentLanguage(at)),[o]),_e=useTypedSelector(at=>at.workspace.editorValue[a]),st=reactExports.useCallback(at=>o(setEditorValue(at)),[o]),[ot,rt]=reactExports.useState(!1),[it,j]=reactExports.useState(),[_,$]=reactExports.useState();reactExports.useEffect(()=>{it||ot&&getSourceThreePrelude().then(j)},[ot]),reactExports.useEffect(()=>{_||a===Languages.SOURCE_THREE_INTERPRETER&&getInterpreterLib().then($)},[a]);const et=async()=>{if(a===Languages.SOURCE_THREE_INTERPRETER)try{parse_into_json(_e),s("")}catch(ct){s("[ERROR] "+ct);return}const at=await navigator.serial.requestPort();switch(await at.open({baudRate:BAUD_RATE_SPIKE_PRIME}),await writeLines(at,KEYBOARD_INTERRUPT),await readUntilPrompt(at,2e3),a){case Languages.PYTHON:await runProgram(at,cleanProgram(_e));break;case Languages.SOURCE_THREE_INTERPRETER:if(!_)throw new Error("Interpreter not loaded");if(await runProgram(at,cleanProgram(_.prefix)),await runProgram(at,cleanProgram(_.prefix2)),await runProgram(at,cleanProgram(_.spikeMicrocode)),ot){if(!it)throw new Error("Preludes not loaded");for(const ut of it){console.log("Sending prelude chunk");const dt=parse_into_json(ut);await writeLines(at,RAW_MODE_ENTER,"json_prelude = '''\\",...dt.match(/.{1,1000}/g).map(mt=>mt+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(at,0,mt=>{const gt=processRawOutput(mt);gt&&console.log(gt)}),console.log("Sending prelude chunk complete"),await runProgram(at,cleanProgram(_.evaluatePrelude))}}console.log("Sending JSON program");const ct=parseIntoJsonChunks(_e),ht=ct[0];await writeLines(at,RAW_MODE_ENTER,"json_string = '''\\",...ht.match(/.{1,500}/g).map(ut=>ut+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(at,0,ut=>{const dt=processRawOutput(ut);dt&&console.log(dt)}),console.log("Sending JSON program complete"),await writeLines(at,RAW_MODE_ENTER,cleanProgram(_.suffix),RAW_MODE_COMPILE,...ct.slice(1).flatMap(ut=>[ut,RAW_MODE_COMPILE]),RAW_MODE_EXIT),await readUntilPrompt(at,0,ut=>{const dt=processRawOutput(ut);dt&&console.log(dt)});break}await writeLines(at,END_OF_TRANSMISSION),at.close()},nt=()=>{try{s(parse_into_json(_e))}catch(at){s("[ERROR] "+at)}};return reactExports.useEffect(()=>{const at=queryString.parse(location.hash),ct=lzStringExports.decompressFromEncodedURIComponent(at.prgrm);ct&&(tt(Languages.SOURCE_THREE_INTERPRETER),st(ct))},[]),reactExports.useEffect(()=>{resetEditorValues(a),s("")},[a,st]),jsxRuntimeExports.jsx(Box,{className:"App",children:jsxRuntimeExports.jsxs(SimpleGrid,{columns:{sm:1,lg:3},spacingX:{sm:0,lg:8},spacingY:8,children:[jsxRuntimeExports.jsx(GridItem,{colSpan:2,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Heading,{children:"SEKER: SourceSPIKE Prime Runner"}),jsxRuntimeExports.jsx(UserGuide,{}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsxs(Text,{fontStyle:"italic",color:"orange.500",children:["Note: Support for ",Languages.SOURCE_THREE_INTERPRETER," Programs is in beta!"]}),i&&jsxRuntimeExports.jsx(JsonDisplay,{jsonProgram:i}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",children:"Select language mode:"}),jsxRuntimeExports.jsx(LanguageSelector,{}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Checkbox,{isChecked:ot,onChange:()=>rt(at=>!at),children:"Prelude"}),jsxRuntimeExports.jsx(Spacer,{}),jsxRuntimeExports.jsxs(ButtonGroup,{size:"sm",children:[jsxRuntimeExports.jsx(Button,{onClick:et,children:"Run on Device"}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Button,{onClick:nt,children:"Parse into JSON"})]})]}),jsxRuntimeExports.jsx(Box,{borderRadius:6,overflow:"clip",children:jsxRuntimeExports.jsx(Editor,{name:"editor",onChange:st,value:_e,wrapEnabled:!0})})]})}),jsxRuntimeExports.jsx(GridItem,{children:jsxRuntimeExports.jsx(SampleProgramSidebar,{})})]})})},rootReducer=combineReducers({workspace}),store=configureStore({reducer:rootReducer}),App=()=>jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(EditorPage,{})}),config={initialColorMode:"system",useSystemColorMode:!0},theme=extendTheme({config,fonts:{heading:"Inter, Avenir, Helvetica, Arial, sans-serif",body:"Inter, Avenir, Helvetica, Arial, sans-serif"}});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsxs(React$4.StrictMode,{children:[jsxRuntimeExports.jsx(ColorModeScript,{initialColorMode:theme.config.initialColorMode}),jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(App,{})})]}));
