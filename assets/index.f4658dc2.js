function _mergeNamespaces(i,s){for(var a=0;a<s.length;a++){const o=s[a];if(typeof o!="string"&&!Array.isArray(o)){for(const it in o)if(it!=="default"&&!(it in i)){const tt=Object.getOwnPropertyDescriptor(o,it);tt&&Object.defineProperty(i,it,tt.get?tt:{enumerable:!0,get:()=>o[it]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))o(it);new MutationObserver(it=>{for(const tt of it)if(tt.type==="childList")for(const at of tt.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&o(at)}).observe(document,{childList:!0,subtree:!0});function a(it){const tt={};return it.integrity&&(tt.integrity=it.integrity),it.referrerpolicy&&(tt.referrerPolicy=it.referrerpolicy),it.crossorigin==="use-credentials"?tt.credentials="include":it.crossorigin==="anonymous"?tt.credentials="omit":tt.credentials="same-origin",tt}function o(it){if(it.ep)return;it.ep=!0;const tt=a(it);fetch(it.href,tt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){var s=i.default;if(typeof s=="function"){var a=function(){return s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var it=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(a,o,it.get?it:{enumerable:!0,get:function(){return i[o]}})}),a}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,a){this.props=i,this.context=s,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,a){this.props=i,this.context=s,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,a){var o,it={},tt=null,at=null;if(s!=null)for(o in s.ref!==void 0&&(at=s.ref),s.key!==void 0&&(tt=""+s.key),s)J.call(s,o)&&!L$1.hasOwnProperty(o)&&(it[o]=s[o]);var ot=arguments.length-2;if(ot===1)it.children=a;else if(1<ot){for(var rt=Array(ot),nt=0;nt<ot;nt++)rt[nt]=arguments[nt+2];it.children=rt}if(i&&i.defaultProps)for(o in ot=i.defaultProps,ot)it[o]===void 0&&(it[o]=ot[o]);return{$$typeof:l$2,type:i,key:tt,ref:at,props:it,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$2,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$2(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(a){return s[a]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$2(""+i.key):s.toString(36)}function R$1(i,s,a,o,it){var tt=typeof i;(tt==="undefined"||tt==="boolean")&&(i=null);var at=!1;if(i===null)at=!0;else switch(tt){case"string":case"number":at=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:at=!0}}if(at)return at=i,it=it(at),i=o===""?"."+Q$1(at,0):o,I$1(it)?(a="",i!=null&&(a=i.replace(P$1,"$&/")+"/"),R$1(it,s,a,"",function(nt){return nt})):it!=null&&(O$1(it)&&(it=N$1(it,a+(!it.key||at&&at.key===it.key?"":(""+it.key).replace(P$1,"$&/")+"/")+i)),s.push(it)),1;if(at=0,o=o===""?".":o+":",I$1(i))for(var ot=0;ot<i.length;ot++){tt=i[ot];var rt=o+Q$1(tt,ot);at+=R$1(tt,s,a,rt,it)}else if(rt=A$2(i),typeof rt=="function")for(i=rt.call(i),ot=0;!(tt=i.next()).done;)tt=tt.value,rt=o+Q$1(tt,ot++),at+=R$1(tt,s,a,rt,it);else if(tt==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return at}function S$1(i,s,a){if(i==null)return i;var o=[],it=0;return R$1(i,o,"","",function(tt){return s.call(a,tt,it++)}),o}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(a){(i._status===0||i._status===-1)&&(i._status=1,i._result=a)},function(a){(i._status===0||i._status===-1)&&(i._status=2,i._result=a)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,s,a){S$1(i,function(){s.apply(this,arguments)},a)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,s,a){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$1({},i.props),it=i.key,tt=i.ref,at=i._owner;if(s!=null){if(s.ref!==void 0&&(tt=s.ref,at=K$1.current),s.key!==void 0&&(it=""+s.key),i.type&&i.type.defaultProps)var ot=i.type.defaultProps;for(rt in s)J.call(s,rt)&&!L$1.hasOwnProperty(rt)&&(o[rt]=s[rt]===void 0&&ot!==void 0?ot[rt]:s[rt])}var rt=arguments.length-2;if(rt===1)o.children=a;else if(1<rt){ot=Array(rt);for(var nt=0;nt<rt;nt++)ot[nt]=arguments[nt+2];o.children=ot}return{$$typeof:l$2,type:i.type,key:it,ref:tt,props:o,_owner:at}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x$1,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,a){return U$1.current.useImperativeHandle(i,s,a)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,a){return U$1.current.useReducer(i,s,a)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,a){return U$1.current.useSyncExternalStore(i,s,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(i){i.exports=react_production_min})(react);const React$3=getDefaultExportFromCjs(react.exports),React$4=_mergeNamespaces({__proto__:null,default:React$3},[react.exports]);function sheetForTag(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function createStyleElement(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function i(a){var o=this;this._insertTag=function(it){var tt;o.tags.length===0?o.insertionPoint?tt=o.insertionPoint.nextSibling:o.prepend?tt=o.container.firstChild:tt=o.before:tt=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(it,tt),o.tags.push(it)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(o){o.forEach(this._insertTag)},s.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var it=this.tags[this.tags.length-1];if(this.isSpeedy){var tt=sheetForTag(it);try{tt.insertRule(o,tt.cssRules.length)}catch{}}else it.appendChild(document.createTextNode(o));this.ctr++},s.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$1(i,s){return charat(i,0)^45?(((s<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,s){return(i=s.exec(i))?i[0]:i}function replace(i,s,a){return i.replace(s,a)}function indexof(i,s){return i.indexOf(s)}function charat(i,s){return i.charCodeAt(s)|0}function substr(i,s,a){return i.slice(s,a)}function strlen(i){return i.length}function sizeof(i){return i.length}function append$1(i,s){return s.push(i),i}function combine(i,s){return i.map(s).join("")}var line=1,column=1,length$1=0,position$1=0,character=0,characters="";function node(i,s,a,o,it,tt,at){return{value:i,root:s,parent:a,type:o,props:it,children:tt,line,column,length:at,return:""}}function copy(i,s){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},s)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$1?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(i,s){return substr(characters,i,s)}function token$1(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length$1=strlen(characters=i),position$1=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position$1-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token$1(i)>2||token$1(character)>3?"":" "}function escaping(i,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position$1;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position$1}function commenter(i,s){for(;next()&&i+character!==47+10;)if(i+character===42+42&&peek()===47)break;return"/*"+slice(s,position$1-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token$1(peek());)next();return slice(i,position$1)}function compile(i){return dealloc(parse$2("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$2(i,s,a,o,it,tt,at,ot,rt){for(var nt=0,j=0,_=at,$=0,et=0,st=0,lt=1,ft=1,gt=1,ut=0,pt="",vt=it,dt=tt,mt=o,Tt=pt;ft;)switch(st=ut,ut=next()){case 40:if(st!=108&&charat(Tt,_-1)==58){indexof(Tt+=replace(delimit(ut),"&","&\f"),"&\f")!=-1&&(gt=-1);break}case 34:case 39:case 91:Tt+=delimit(ut);break;case 9:case 10:case 13:case 32:Tt+=whitespace(st);break;case 92:Tt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append$1(comment(commenter(next(),caret()),s,a),rt);break;default:Tt+="/"}break;case 123*lt:ot[nt++]=strlen(Tt)*gt;case 125*lt:case 59:case 0:switch(ut){case 0:case 125:ft=0;case 59+j:et>0&&strlen(Tt)-_&&append$1(et>32?declaration(Tt+";",o,a,_-1):declaration(replace(Tt," ","")+";",o,a,_-2),rt);break;case 59:Tt+=";";default:if(append$1(mt=ruleset(Tt,s,a,nt,j,it,ot,pt,vt=[],dt=[],_),tt),ut===123)if(j===0)parse$2(Tt,s,mt,mt,vt,tt,_,ot,dt);else switch($===99&&charat(Tt,3)===110?100:$){case 100:case 109:case 115:parse$2(i,mt,mt,o&&append$1(ruleset(i,mt,mt,0,0,it,ot,pt,it,vt=[],_),dt),it,dt,_,ot,o?vt:dt);break;default:parse$2(Tt,mt,mt,mt,[""],dt,0,ot,dt)}}nt=j=et=0,lt=gt=1,pt=Tt="",_=at;break;case 58:_=1+strlen(Tt),et=st;default:if(lt<1){if(ut==123)--lt;else if(ut==125&&lt++==0&&prev()==125)continue}switch(Tt+=from(ut),ut*lt){case 38:gt=j>0?1:(Tt+="\f",-1);break;case 44:ot[nt++]=(strlen(Tt)-1)*gt,gt=1;break;case 64:peek()===45&&(Tt+=delimit(next())),$=peek(),j=_=strlen(pt=Tt+=identifier(caret())),ut++;break;case 45:st===45&&strlen(Tt)==2&&(lt=0)}}return tt}function ruleset(i,s,a,o,it,tt,at,ot,rt,nt,j){for(var _=it-1,$=it===0?tt:[""],et=sizeof($),st=0,lt=0,ft=0;st<o;++st)for(var gt=0,ut=substr(i,_+1,_=abs(lt=at[st])),pt=i;gt<et;++gt)(pt=trim(lt>0?$[gt]+" "+ut:replace(ut,/&\f/g,$[gt])))&&(rt[ft++]=pt);return node(i,s,a,it===0?RULESET:ot,rt,nt,j)}function comment(i,s,a){return node(i,s,a,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,s,a,o){return node(i,s,a,DECLARATION,substr(i,0,o),substr(i,o+1,-1),o)}function serialize(i,s){for(var a="",o=sizeof(i),it=0;it<o;it++)a+=s(i[it],it,i,s)||"";return a}function stringify$3(i,s,a,o){switch(i.type){case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,o)+"}";case RULESET:i.value=i.props.join(",")}return strlen(a=serialize(i.children,o))?i.return=i.value+"{"+a+"}":""}function middleware(i){var s=sizeof(i);return function(a,o,it,tt){for(var at="",ot=0;ot<s;ot++)at+=i[ot](a,o,it,tt)||"";return at}}function rulesheet(i){return function(s){s.root||(s=s.return)&&i(s)}}var weakMemoize=function(s){var a=new WeakMap;return function(o){if(a.has(o))return a.get(o);var it=s(o);return a.set(o,it),it}};function memoize$3(i){var s=Object.create(null);return function(a){return s[a]===void 0&&(s[a]=i(a)),s[a]}}var identifierWithPointTracking=function(s,a,o){for(var it=0,tt=0;it=tt,tt=peek(),it===38&&tt===12&&(a[o]=1),!token$1(tt);)next();return slice(s,position$1)},toRules=function(s,a){var o=-1,it=44;do switch(token$1(it)){case 0:it===38&&peek()===12&&(a[o]=1),s[o]+=identifierWithPointTracking(position$1-1,a,o);break;case 2:s[o]+=delimit(it);break;case 4:if(it===44){s[++o]=peek()===58?"&\f":"",a[o]=s[o].length;break}default:s[o]+=from(it)}while(it=next());return s},getRules=function(s,a){return dealloc(toRules(alloc(s),a))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var a=s.value,o=s.parent,it=s.column===o.column&&s.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(s.props.length===1&&a.charCodeAt(0)!==58&&!fixedElements.get(o))&&!it){fixedElements.set(s,!0);for(var tt=[],at=getRules(a,tt),ot=o.props,rt=0,nt=0;rt<at.length;rt++)for(var j=0;j<ot.length;j++,nt++)s.props[nt]=tt[rt]?at[rt].replace(/&\f/g,ot[j]):ot[j]+" "+at[rt]}}},removeLabel=function(s){if(s.type==="decl"){var a=s.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(i,s){switch(hash$1(i,s)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-s>6)switch(charat(i,s+1)){case 109:if(charat(i,s+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(charat(i,s+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,s+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(s,a,o,it){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],it);case RULESET:if(s.length)return combine(s.props,function(tt){switch(match(tt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(tt,/:(read-\w+)/,":"+MOZ+"$1")]})],it);case"::placeholder":return serialize([copy(s,{props:[replace(tt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(tt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(tt,/:(plac\w+)/,MS+"input-$1")]})],it)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var a=s.key;if(a==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(lt){var ft=lt.getAttribute("data-emotion");ft.indexOf(" ")!==-1&&(document.head.appendChild(lt),lt.setAttribute("data-s",""))})}var it=s.stylisPlugins||defaultStylisPlugins,tt={},at,ot=[];at=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(lt){for(var ft=lt.getAttribute("data-emotion").split(" "),gt=1;gt<ft.length;gt++)tt[ft[gt]]=!0;ot.push(lt)});var rt,nt=[compat,removeLabel];{var j,_=[stringify$3,rulesheet(function(lt){j.insert(lt)})],$=middleware(nt.concat(it,_)),et=function(ft){return serialize(compile(ft),$)};rt=function(ft,gt,ut,pt){j=ut,et(ft?ft+"{"+gt.styles+"}":gt.styles),pt&&(st.inserted[gt.name]=!0)}}var st={key:a,sheet:new StyleSheet({key:a,container:at,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:tt,registered:{},insert:rt};return st.sheet.hydrate(ot),st};function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},_extends.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f$1=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k$1=b?Symbol.for("react.context"):60110,l$1=b?Symbol.for("react.async_mode"):60111,m$2=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p$2=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t$1=b?Symbol.for("react.lazy"):60116,v$1=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z$1(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case c:switch(i=i.type,i){case l$1:case m$2:case e:case g:case f$1:case p$2:return i;default:switch(i=i&&i.$$typeof,i){case k$1:case n$1:case t$1:case r$1:case h:return i;default:return s}}case d:return s}}}function A$1(i){return z$1(i)===m$2}reactIs_production_min.AsyncMode=l$1;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(i){return A$1(i)||z$1(i)===l$1};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(i){return z$1(i)===k$1};reactIs_production_min.isContextProvider=function(i){return z$1(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z$1(i)===n$1};reactIs_production_min.isFragment=function(i){return z$1(i)===e};reactIs_production_min.isLazy=function(i){return z$1(i)===t$1};reactIs_production_min.isMemo=function(i){return z$1(i)===r$1};reactIs_production_min.isPortal=function(i){return z$1(i)===d};reactIs_production_min.isProfiler=function(i){return z$1(i)===g};reactIs_production_min.isStrictMode=function(i){return z$1(i)===f$1};reactIs_production_min.isSuspense=function(i){return z$1(i)===p$2};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m$2||i===g||i===f$1||i===p$2||i===q$1||typeof i=="object"&&i!==null&&(i.$$typeof===t$1||i.$$typeof===r$1||i.$$typeof===h||i.$$typeof===k$1||i.$$typeof===n$1||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;(function(i){i.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$2=!0;function getRegisteredStyles(i,s,a){var o="";return a.split(" ").forEach(function(it){i[it]!==void 0?s.push(i[it]+";"):o+=it+" "}),o}var registerStyles=function(s,a,o){var it=s.key+"-"+a.name;(o===!1||isBrowser$2===!1)&&s.registered[it]===void 0&&(s.registered[it]=a.styles)},insertStyles=function(s,a,o){registerStyles(s,a,o);var it=s.key+"-"+a.name;if(s.inserted[a.name]===void 0){var tt=a;do s.insert(a===tt?"."+it:"",tt,s.sheet,!0),tt=tt.next;while(tt!==void 0)}};function murmur2(i){for(var s=0,a,o=0,it=i.length;it>=4;++o,it-=4)a=i.charCodeAt(o)&255|(i.charCodeAt(++o)&255)<<8|(i.charCodeAt(++o)&255)<<16|(i.charCodeAt(++o)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,s=(a&65535)*1540483477+((a>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(it){case 3:s^=(i.charCodeAt(o+2)&255)<<16;case 2:s^=(i.charCodeAt(o+1)&255)<<8;case 1:s^=i.charCodeAt(o)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$3(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,a){switch(s){case"animation":case"animationName":if(typeof a=="string")return a.replace(animationRegex,function(o,it,tt){return cursor={name:it,styles:tt,next:cursor},it})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof a=="number"&&a!==0?a+"px":a},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,s,a){if(a==null)return"";if(a.__emotion_styles!==void 0)return a;switch(typeof a){case"boolean":return"";case"object":{if(a.anim===1)return cursor={name:a.name,styles:a.styles,next:cursor},a.name;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)cursor={name:o.name,styles:o.styles,next:cursor},o=o.next;var it=a.styles+";";return it}return createStringFromObject(i,s,a)}case"function":{if(i!==void 0){var tt=cursor,at=a(i);return cursor=tt,handleInterpolation(i,s,at)}break}}if(s==null)return a;var ot=s[a];return ot!==void 0?ot:a}function createStringFromObject(i,s,a){var o="";if(Array.isArray(a))for(var it=0;it<a.length;it++)o+=handleInterpolation(i,s,a[it])+";";else for(var tt in a){var at=a[tt];if(typeof at!="object")s!=null&&s[at]!==void 0?o+=tt+"{"+s[at]+"}":isProcessableValue(at)&&(o+=processStyleName(tt)+":"+processStyleValue(tt,at)+";");else if(Array.isArray(at)&&typeof at[0]=="string"&&(s==null||s[at[0]]===void 0))for(var ot=0;ot<at.length;ot++)isProcessableValue(at[ot])&&(o+=processStyleName(tt)+":"+processStyleValue(tt,at[ot])+";");else{var rt=handleInterpolation(i,s,at);switch(tt){case"animation":case"animationName":{o+=processStyleName(tt)+":"+rt+";";break}default:o+=tt+"{"+rt+"}"}}}return o}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(s,a,o){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var it=!0,tt="";cursor=void 0;var at=s[0];at==null||at.raw===void 0?(it=!1,tt+=handleInterpolation(o,a,at)):tt+=at[0];for(var ot=1;ot<s.length;ot++)tt+=handleInterpolation(o,a,s[ot]),it&&(tt+=at[ot]);labelPattern.lastIndex=0;for(var rt="",nt;(nt=labelPattern.exec(tt))!==null;)rt+="-"+nt[1];var j=murmur2(tt)+rt;return{name:j,styles:tt,next:cursor}},syncFallback=function(s){return s()},useInsertionEffect=React$4["useInsertionEffect"]?React$4["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||react.exports.useLayoutEffect,EmotionCacheContext=react.exports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(s){return react.exports.forwardRef(function(a,o){var it=react.exports.useContext(EmotionCacheContext);return s(a,it,o)})},ThemeContext=react.exports.createContext({}),getTheme$1=function(s,a){if(typeof a=="function"){var o=a(s);return o}return _extends({},s,a)},createCacheWithTheme=weakMemoize(function(i){return weakMemoize(function(s){return getTheme$1(i,s)})}),ThemeProvider$1=function(s){var a=react.exports.useContext(ThemeContext);return s.theme!==a&&(a=createCacheWithTheme(a)(s.theme)),react.exports.createElement(ThemeContext.Provider,{value:a},s.children)},Global=withEmotionCache(function(i,s){var a=i.styles,o=serializeStyles([a],void 0,react.exports.useContext(ThemeContext)),it=react.exports.useRef();return useInsertionEffectWithLayoutFallback(function(){var tt=s.key+"-global",at=new s.sheet.constructor({key:tt,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),ot=!1,rt=document.querySelector('style[data-emotion="'+tt+" "+o.name+'"]');return s.sheet.tags.length&&(at.before=s.sheet.tags[0]),rt!==null&&(ot=!0,rt.setAttribute("data-emotion",tt),at.hydrate([rt])),it.current=[at,ot],function(){at.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var tt=it.current,at=tt[0],ot=tt[1];if(ot){tt[1]=!1;return}if(o.next!==void 0&&insertStyles(s,o.next,!0),at.tags.length){var rt=at.tags[at.tags.length-1].nextElementSibling;at.before=rt,at.flush()}s.insert("",o,at,!1)},[s,o.name]),null});function css$1(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return serializeStyles(s)}var keyframes$1=function(){var s=css$1.apply(void 0,arguments),a="animation-"+s.name;return{name:a,styles:"@keyframes "+a+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},jsxRuntime$1={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(i,s,a){var o,it={},tt=null,at=null;a!==void 0&&(tt=""+a),s.key!==void 0&&(tt=""+s.key),s.ref!==void 0&&(at=s.ref);for(o in s)m$1.call(s,o)&&!p$1.hasOwnProperty(o)&&(it[o]=s[o]);if(i&&i.defaultProps)for(o in s=i.defaultProps,s)it[o]===void 0&&(it[o]=s[o]);return{$$typeof:k,type:i,key:tt,ref:at,props:it,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;(function(i){i.exports=reactJsxRuntime_production_min})(jsxRuntime$1);const Fragment=jsxRuntime$1.exports.Fragment,jsx=jsxRuntime$1.exports.jsx,jsxs=jsxRuntime$1.exports.jsxs,jsxRuntime=Object.freeze(Object.defineProperty({__proto__:null,Fragment,jsx,jsxs},Symbol.toStringTag,{value:"Module"}));var vhPolyfill=`
  :root {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsx(Global,{styles:vhPolyfill}),CSSReset=()=>jsx(Global,{styles:`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        font-feature-settings: 'kern';
      }

      *,
      *::before,
      *::after {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
      }

      main {
        display: block;
      }

      hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      pre,
      code,
      kbd,
      samp {
        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      b,
      strong {
        font-weight: bold;
      }

      small {
        font-size: 80%;
      }

      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      sub {
        bottom: -0.25em;
      }

      sup {
        top: -0.5em;
      }

      img {
        border-style: none;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      button,
      input {
        overflow: visible;
      }

      button,
      select {
        text-transform: none;
      }

      button::-moz-focus-inner,
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }

      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      progress {
        vertical-align: baseline;
      }

      textarea {
        overflow: auto;
      }

      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }

      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      input[type="number"] {
        -moz-appearance: textfield;
      }

      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      details {
        display: block;
      }

      summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      body,
      blockquote,
      dl,
      dd,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      figure,
      p,
      pre {
        margin: 0;
      }

      button {
        background: transparent;
        padding: 0;
      }

      fieldset {
        margin: 0;
        padding: 0;
      }

      ol,
      ul {
        margin: 0;
        padding: 0;
      }

      textarea {
        resize: vertical;
      }

      button,
      [role="button"] {
        cursor: pointer;
      }

      button::-moz-focus-inner {
        border: 0 !important;
      }

      table {
        border-collapse: collapse;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      img,
      svg,
      video,
      canvas,
      audio,
      iframe,
      embed,
      object {
        display: block;
      }

      img,
      video {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {
        outline: none;
        box-shadow: none;
      }

      select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function getErrorMessage(i,s){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${s}`}function createContext$2(i={}){const{name:s,strict:a=!0,hookName:o="useContext",providerName:it="Provider",errorMessage:tt}=i,at=react.exports.createContext(void 0);at.displayName=s;function ot(){var rt;const nt=react.exports.useContext(at);if(!nt&&a){const j=new Error(tt!=null?tt:getErrorMessage(o,it));throw j.name="ContextError",(rt=Error.captureStackTrace)==null||rt.call(Error,j,ot),j}return nt}return[at.Provider,ot,at]}var[PortalManagerContextProvider,usePortalManager]=createContext$2({strict:!1,name:"PortalManagerContext"});function PortalManager(i){const{children:s,zIndex:a}=i;return jsx(PortalManagerContextProvider,{value:{zIndex:a},children:s})}PortalManager.displayName="PortalManager";var useSafeLayoutEffect$1=Boolean(globalThis==null?void 0:globalThis.document)?react.exports.useLayoutEffect:react.exports.useEffect,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Pt,Ot){var Xt=Pt.length;Pt.push(Ot);e:for(;0<Xt;){var rn=Xt-1>>>1,jt=Pt[rn];if(0<it(jt,Ot))Pt[rn]=Ot,Pt[Xt]=jt,Xt=rn;else break e}}function a(Pt){return Pt.length===0?null:Pt[0]}function o(Pt){if(Pt.length===0)return null;var Ot=Pt[0],Xt=Pt.pop();if(Xt!==Ot){Pt[0]=Xt;e:for(var rn=0,jt=Pt.length,Vt=jt>>>1;rn<Vt;){var en=2*(rn+1)-1,ln=Pt[en],nn=en+1,_n=Pt[nn];if(0>it(ln,Xt))nn<jt&&0>it(_n,ln)?(Pt[rn]=_n,Pt[nn]=Xt,rn=nn):(Pt[rn]=ln,Pt[en]=Xt,rn=en);else if(nn<jt&&0>it(_n,Xt))Pt[rn]=_n,Pt[nn]=Xt,rn=nn;else break e}}return Ot}function it(Pt,Ot){var Xt=Pt.sortIndex-Ot.sortIndex;return Xt!==0?Xt:Pt.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var tt=performance;i.unstable_now=function(){return tt.now()}}else{var at=Date,ot=at.now();i.unstable_now=function(){return at.now()-ot}}var rt=[],nt=[],j=1,_=null,$=3,et=!1,st=!1,lt=!1,ft=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Pt){for(var Ot=a(nt);Ot!==null;){if(Ot.callback===null)o(nt);else if(Ot.startTime<=Pt)o(nt),Ot.sortIndex=Ot.expirationTime,s(rt,Ot);else break;Ot=a(nt)}}function vt(Pt){if(lt=!1,pt(Pt),!st)if(a(rt)!==null)st=!0,Mt(dt);else{var Ot=a(nt);Ot!==null&&Wt(vt,Ot.startTime-Pt)}}function dt(Pt,Ot){st=!1,lt&&(lt=!1,gt(yt),yt=-1),et=!0;var Xt=$;try{for(pt(Ot),_=a(rt);_!==null&&(!(_.expirationTime>Ot)||Pt&&!wt());){var rn=_.callback;if(typeof rn=="function"){_.callback=null,$=_.priorityLevel;var jt=rn(_.expirationTime<=Ot);Ot=i.unstable_now(),typeof jt=="function"?_.callback=jt:_===a(rt)&&o(rt),pt(Ot)}else o(rt);_=a(rt)}if(_!==null)var Vt=!0;else{var en=a(nt);en!==null&&Wt(vt,en.startTime-Ot),Vt=!1}return Vt}finally{_=null,$=Xt,et=!1}}var mt=!1,Tt=null,yt=-1,ht=5,xt=-1;function wt(){return!(i.unstable_now()-xt<ht)}function kt(){if(Tt!==null){var Pt=i.unstable_now();xt=Pt;var Ot=!0;try{Ot=Tt(!0,Pt)}finally{Ot?Ct():(mt=!1,Tt=null)}}else mt=!1}var Ct;if(typeof ut=="function")Ct=function(){ut(kt)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,Lt=Rt.port2;Rt.port1.onmessage=kt,Ct=function(){Lt.postMessage(null)}}else Ct=function(){ft(kt,0)};function Mt(Pt){Tt=Pt,mt||(mt=!0,Ct())}function Wt(Pt,Ot){yt=ft(function(){Pt(i.unstable_now())},Ot)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Pt){Pt.callback=null},i.unstable_continueExecution=function(){st||et||(st=!0,Mt(dt))},i.unstable_forceFrameRate=function(Pt){0>Pt||125<Pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ht=0<Pt?Math.floor(1e3/Pt):5},i.unstable_getCurrentPriorityLevel=function(){return $},i.unstable_getFirstCallbackNode=function(){return a(rt)},i.unstable_next=function(Pt){switch($){case 1:case 2:case 3:var Ot=3;break;default:Ot=$}var Xt=$;$=Ot;try{return Pt()}finally{$=Xt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Pt,Ot){switch(Pt){case 1:case 2:case 3:case 4:case 5:break;default:Pt=3}var Xt=$;$=Pt;try{return Ot()}finally{$=Xt}},i.unstable_scheduleCallback=function(Pt,Ot,Xt){var rn=i.unstable_now();switch(typeof Xt=="object"&&Xt!==null?(Xt=Xt.delay,Xt=typeof Xt=="number"&&0<Xt?rn+Xt:rn):Xt=rn,Pt){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=Xt+jt,Pt={id:j++,callback:Ot,priorityLevel:Pt,startTime:Xt,expirationTime:jt,sortIndex:-1},Xt>rn?(Pt.sortIndex=Xt,s(nt,Pt),a(rt)===null&&Pt===a(nt)&&(lt?(gt(yt),yt=-1):lt=!0,Wt(vt,Xt-rn))):(Pt.sortIndex=jt,s(rt,Pt),st||et||(st=!0,Mt(dt))),Pt},i.unstable_shouldYield=wt,i.unstable_wrapCallback=function(Pt){var Ot=$;return function(){var Xt=$;$=Ot;try{return Pt.apply(this,arguments)}finally{$=Xt}}}})(scheduler_production_min);(function(i){i.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,a,o){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,a,o){if(s===null||typeof s>"u"||pa(i,s,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(i,s,a,o,it,tt,at){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=o,this.attributeNamespace=it,this.mustUseProperty=a,this.propertyName=i,this.type=s,this.sanitizeURL=tt,this.removeEmptyString=at}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,a,o){var it=z.hasOwnProperty(s)?z[s]:null;(it!==null?it.type!==0:o||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,a,it,o)&&(a=null),o||it===null?oa(s)&&(a===null?i.removeAttribute(s):i.setAttribute(s,""+a)):it.mustUseProperty?i[it.propertyName]=a===null?it.type===3?!1:"":a:(s=it.attributeName,o=it.attributeNamespace,a===null?i.removeAttribute(s):(it=it.type,a=it===3||it===4&&a===!0?"":""+a,o?i.setAttributeNS(o,s,a):i.setAttribute(s,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(nt){var o=nt}Reflect.construct(i,[],s)}else{try{s.call()}catch(nt){o=nt}i.call(s.prototype)}else{try{throw Error()}catch(nt){o=nt}i()}}catch(nt){if(nt&&o&&typeof nt.stack=="string"){for(var it=nt.stack.split(`
`),tt=o.stack.split(`
`),at=it.length-1,ot=tt.length-1;1<=at&&0<=ot&&it[at]!==tt[ot];)ot--;for(;1<=at&&0<=ot;at--,ot--)if(it[at]!==tt[ot]){if(at!==1||ot!==1)do if(at--,ot--,0>ot||it[at]!==tt[ot]){var rt=`
`+it[at].replace(" at new "," at ");return i.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",i.displayName)),rt}while(1<=at&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),o=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var it=a.get,tt=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return it.call(this)},set:function(at){o=""+at,tt.call(this,at)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(at){o=""+at},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return i&&(o=Ta(i)?i.checked?"true":"false":i.value),i=o,i!==a?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var a=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:i._wrapperState.initialChecked})}function Za(i,s){var a=s.defaultValue==null?"":s.defaultValue,o=s.checked!=null?s.checked:s.defaultChecked;a=Sa(s.value!=null?s.value:a),i._wrapperState={initialChecked:o,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var a=Sa(s.value),o=s.type;if(a!=null)o==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+a):i.value!==""+a&&(i.value=""+a);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,a):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var o=s.type;if(!(o!=="submit"&&o!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,a||s===i.value||(i.value=s),i.defaultValue=s}a=i.name,a!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,a!==""&&(i.name=a)}function cb(i,s,a){(s!=="number"||Xa(i.ownerDocument)!==i)&&(a==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+a&&(i.defaultValue=""+a))}var eb=Array.isArray;function fb(i,s,a,o){if(i=i.options,s){s={};for(var it=0;it<a.length;it++)s["$"+a[it]]=!0;for(a=0;a<i.length;a++)it=s.hasOwnProperty("$"+i[a].value),i[a].selected!==it&&(i[a].selected=it),it&&o&&(i[a].defaultSelected=!0)}else{for(a=""+Sa(a),s=null,it=0;it<i.length;it++){if(i[it].value===a){i[it].selected=!0,o&&(i[it].defaultSelected=!0);return}s!==null||i[it].disabled||(s=i[it])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(p(92));if(eb(a)){if(1<a.length)throw Error(p(93));a=a[0]}s=a}s==null&&(s=""),a=s}i._wrapperState={initialValue:Sa(a)}}function ib(i,s){var a=Sa(s.value),o=Sa(s.defaultValue);a!=null&&(a=""+a,a!==i.value&&(i.value=a),s.defaultValue==null&&i.defaultValue!==a&&(i.defaultValue=a)),o!=null&&(i.defaultValue=""+o)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,o,it){MSApp.execUnsafeLocalFunction(function(){return i(s,a,o,it)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var a in s)if(s.hasOwnProperty(a)){var o=a.indexOf("--")===0,it=rb(a,s[a],o);a==="float"&&(a="cssFloat"),o?i.setProperty(a,it):i[a]=it}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,a){if(Ib)return i(s,a);Ib=!0;try{return Gb(i,s,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var a=i.stateNode;if(a===null)return null;var o=Db(a);if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(p(231,s,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,a,o,it,tt,at,ot,rt){var nt=Array.prototype.slice.call(arguments,3);try{s.apply(a,nt)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,a,o,it,tt,at,ot,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,a,o,it,tt,at,ot,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var nt=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=nt)}}function Vb(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p(188));return s!==i?null:i}for(var a=i,o=s;;){var it=a.return;if(it===null)break;var tt=it.alternate;if(tt===null){if(o=it.return,o!==null){a=o;continue}break}if(it.child===tt.child){for(tt=it.child;tt;){if(tt===a)return Xb(it),i;if(tt===o)return Xb(it),s;tt=tt.sibling}throw Error(p(188))}if(a.return!==o.return)a=it,o=tt;else{for(var at=!1,ot=it.child;ot;){if(ot===a){at=!0,a=it,o=tt;break}if(ot===o){at=!0,o=it,a=tt;break}ot=ot.sibling}if(!at){for(ot=tt.child;ot;){if(ot===a){at=!0,a=tt,o=it;break}if(ot===o){at=!0,o=tt,a=it;break}ot=ot.sibling}if(!at)throw Error(p(189))}}if(a.alternate!==o)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var a=i.pendingLanes;if(a===0)return 0;var o=0,it=i.suspendedLanes,tt=i.pingedLanes,at=a&268435455;if(at!==0){var ot=at&~it;ot!==0?o=tc(ot):(tt&=at,tt!==0&&(o=tc(tt)))}else at=a&~it,at!==0?o=tc(at):tt!==0&&(o=tc(tt));if(o===0)return 0;if(s!==0&&s!==o&&(s&it)===0&&(it=o&-o,tt=s&-s,it>=tt||it===16&&(tt&4194240)!==0))return s;if((o&4)!==0&&(o|=a&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=o;0<s;)a=31-oc(s),it=1<<a,o|=i[a],s&=~it;return o}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var a=i.suspendedLanes,o=i.pingedLanes,it=i.expirationTimes,tt=i.pendingLanes;0<tt;){var at=31-oc(tt),ot=1<<at,rt=it[at];rt===-1?((ot&a)===0||(ot&o)!==0)&&(it[at]=vc(ot,s)):rt<=s&&(i.expiredLanes|=ot),tt&=~ot}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),i}function zc(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ac(i,s,a){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=a}function Bc(i,s){var a=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<a;){var it=31-oc(a),tt=1<<it;s[it]=0,o[it]=-1,i[it]=-1,a&=~tt}}function Cc(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var o=31-oc(a),it=1<<o;it&s|i[o]&s&&(i[o]|=s),a&=~it}}var C=0;function Dc(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,a,o,it,tt){return i===null||i.nativeEvent!==tt?(i={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:tt,targetContainers:[it]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=o,s=i.targetContainers,it!==null&&s.indexOf(it)===-1&&s.push(it),i)}function Uc(i,s,a,o,it){switch(s){case"focusin":return Lc=Tc(Lc,i,s,a,o,it),!0;case"dragenter":return Mc=Tc(Mc,i,s,a,o,it),!0;case"mouseover":return Nc=Tc(Nc,i,s,a,o,it),!0;case"pointerover":var tt=it.pointerId;return Oc.set(tt,Tc(Oc.get(tt)||null,i,s,a,o,it)),!0;case"gotpointercapture":return tt=it.pointerId,Pc.set(tt,Tc(Pc.get(tt)||null,i,s,a,o,it)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var a=Vb(s);if(a!==null){if(s=a.tag,s===13){if(s=Wb(a),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(a===null){a=i.nativeEvent;var o=new a.constructor(a.type,a);wb=o,a.target.dispatchEvent(o),wb=null}else return s=Cb(a),s!==null&&Fc(s),i.blockedOn=a,!1;s.shift()}return!0}function Zc(i,s,a){Xc(i)&&a.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(it){return ad(it,i)}if(0<Kc.length){ad(Kc[0],i);for(var a=1;a<Kc.length;a++){var o=Kc[a];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),a=0;a<Qc.length;a++)o=Qc[a],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,a,o){var it=C,tt=cd.transition;cd.transition=null;try{C=1,fd(i,s,a,o)}finally{C=it,cd.transition=tt}}function gd(i,s,a,o){var it=C,tt=cd.transition;cd.transition=null;try{C=4,fd(i,s,a,o)}finally{C=it,cd.transition=tt}}function fd(i,s,a,o){if(dd){var it=Yc(i,s,a,o);if(it===null)hd(i,s,o,id$2,a),Sc(i,o);else if(Uc(it,i,s,a,o))o.stopPropagation();else if(Sc(i,o),s&4&&-1<Rc.indexOf(i)){for(;it!==null;){var tt=Cb(it);if(tt!==null&&Ec(tt),tt=Yc(i,s,a,o),tt===null&&hd(i,s,o,id$2,a),tt===it)break;it=tt}it!==null&&o.stopPropagation()}else hd(i,s,o,null,a)}}var id$2=null;function Yc(i,s,a,o){if(id$2=null,i=xb(o),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(a=s.tag,a===13){if(i=Wb(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id$2=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,a=s.length,o,it="value"in kd?kd.value:kd.textContent,tt=it.length;for(i=0;i<a&&s[i]===it[i];i++);var at=a-i;for(o=1;o<=at&&s[a-o]===it[tt-o];o++);return md=it.slice(i,1<o?1-o:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(a,o,it,tt,at){this._reactName=a,this._targetInst=it,this.type=o,this.nativeEvent=tt,this.target=at,this.currentTarget=null;for(var ot in i)i.hasOwnProperty(ot)&&(a=i[ot],this[ot]=a?a(tt):tt[ot]);return this.isDefaultPrevented=(tt.defaultPrevented!=null?tt.defaultPrevented:tt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,a,o){Eb(o),s=oe(s,"onChange"),0<s.length&&(a=new td("onChange","change",null,a,o),i.push({event:a,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,a){i==="focusin"?(Ae(),pe=s,qe=a,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var it=a[o];if(!ja.call(s,it)||!He(i[it],s[it]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var a=Je(i);i=0;for(var o;a;){if(a.nodeType===3){if(o=i+a.textContent.length,i<=s&&o>=s)return{node:a,offset:s-i};i=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),a=i.focusedElem,o=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(o!==null&&Ne(a)){if(s=o.start,i=o.end,i===void 0&&(i=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(i,a.value.length);else if(i=(s=a.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var it=a.textContent.length,tt=Math.min(o.start,it);o=o.end===void 0?tt:Math.min(o.end,it),!i.extend&&tt>o&&(it=o,o=tt,tt=it),it=Ke(a,tt);var at=Ke(a,o);it&&at&&(i.rangeCount!==1||i.anchorNode!==it.node||i.anchorOffset!==it.offset||i.focusNode!==at.node||i.focusOffset!==at.offset)&&(s=s.createRange(),s.setStart(it.node,it.offset),i.removeAllRanges(),tt>o?(i.addRange(s),i.extend(at.node,at.offset)):(s.setEnd(at.node,at.offset),i.addRange(s)))}}for(s=[],i=a;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)i=s[a],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(s=new td("onSelect","select",null,s,a),i.push({event:s,listeners:o}),s.target=Qe)))}function Ve(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ye)return Xe[i]=s[a];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,a){var o=i.type||"unknown-event";i.currentTarget=a,Ub(o,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var o=i[a],it=o.event;o=o.listeners;e:{var tt=void 0;if(s)for(var at=o.length-1;0<=at;at--){var ot=o[at],rt=ot.instance,nt=ot.currentTarget;if(ot=ot.listener,rt!==tt&&it.isPropagationStopped())break e;nf(it,ot,nt),tt=rt}else for(at=0;at<o.length;at++){if(ot=o[at],rt=ot.instance,nt=ot.currentTarget,ot=ot.listener,rt!==tt&&it.isPropagationStopped())break e;nf(it,ot,nt),tt=rt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var a=s[of];a===void 0&&(a=s[of]=new Set);var o=i+"__bubble";a.has(o)||(pf(s,i,2,!1),a.add(o))}function qf(i,s,a){var o=0;s&&(o|=4),pf(a,i,o,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,i),qf(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,a,o){switch(jd(s)){case 1:var it=ed;break;case 4:it=gd;break;default:it=fd}a=it.bind(null,s,a,i),it=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(it=!0),o?it!==void 0?i.addEventListener(s,a,{capture:!0,passive:it}):i.addEventListener(s,a,!0):it!==void 0?i.addEventListener(s,a,{passive:it}):i.addEventListener(s,a,!1)}function hd(i,s,a,o,it){var tt=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var at=o.tag;if(at===3||at===4){var ot=o.stateNode.containerInfo;if(ot===it||ot.nodeType===8&&ot.parentNode===it)break;if(at===4)for(at=o.return;at!==null;){var rt=at.tag;if((rt===3||rt===4)&&(rt=at.stateNode.containerInfo,rt===it||rt.nodeType===8&&rt.parentNode===it))return;at=at.return}for(;ot!==null;){if(at=Wc(ot),at===null)return;if(rt=at.tag,rt===5||rt===6){o=tt=at;continue e}ot=ot.parentNode}}o=o.return}Jb(function(){var nt=tt,j=xb(a),_=[];e:{var $=df.get(i);if($!==void 0){var et=td,st=i;switch(i){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":et=Rd;break;case"focusin":st="focus",et=Fd;break;case"focusout":st="blur",et=Fd;break;case"beforeblur":case"afterblur":et=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Vd;break;case $e:case af:case bf:et=Hd;break;case cf:et=Xd;break;case"scroll":et=vd;break;case"wheel":et=Zd;break;case"copy":case"cut":case"paste":et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Td}var lt=(s&4)!==0,ft=!lt&&i==="scroll",gt=lt?$!==null?$+"Capture":null:$;lt=[];for(var ut=nt,pt;ut!==null;){pt=ut;var vt=pt.stateNode;if(pt.tag===5&&vt!==null&&(pt=vt,gt!==null&&(vt=Kb(ut,gt),vt!=null&&lt.push(tf(ut,vt,pt)))),ft)break;ut=ut.return}0<lt.length&&($=new et($,st,null,a,j),_.push({event:$,listeners:lt}))}}if((s&7)===0){e:{if($=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",$&&a!==wb&&(st=a.relatedTarget||a.fromElement)&&(Wc(st)||st[uf]))break e;if((et||$)&&($=j.window===j?j:($=j.ownerDocument)?$.defaultView||$.parentWindow:window,et?(st=a.relatedTarget||a.toElement,et=nt,st=st?Wc(st):null,st!==null&&(ft=Vb(st),st!==ft||st.tag!==5&&st.tag!==6)&&(st=null)):(et=null,st=nt),et!==st)){if(lt=Bd,vt="onMouseLeave",gt="onMouseEnter",ut="mouse",(i==="pointerout"||i==="pointerover")&&(lt=Td,vt="onPointerLeave",gt="onPointerEnter",ut="pointer"),ft=et==null?$:ue(et),pt=st==null?$:ue(st),$=new lt(vt,ut+"leave",et,a,j),$.target=ft,$.relatedTarget=pt,vt=null,Wc(j)===nt&&(lt=new lt(gt,ut+"enter",st,a,j),lt.target=pt,lt.relatedTarget=ft,vt=lt),ft=vt,et&&st)t:{for(lt=et,gt=st,ut=0,pt=lt;pt;pt=vf(pt))ut++;for(pt=0,vt=gt;vt;vt=vf(vt))pt++;for(;0<ut-pt;)lt=vf(lt),ut--;for(;0<pt-ut;)gt=vf(gt),pt--;for(;ut--;){if(lt===gt||gt!==null&&lt===gt.alternate)break t;lt=vf(lt),gt=vf(gt)}lt=null}else lt=null;et!==null&&wf(_,$,et,lt,!1),st!==null&&ft!==null&&wf(_,ft,st,lt,!0)}}e:{if($=nt?ue(nt):window,et=$.nodeName&&$.nodeName.toLowerCase(),et==="select"||et==="input"&&$.type==="file")var dt=ve;else if(me($))if(we)dt=Fe;else{dt=De;var mt=Ce}else(et=$.nodeName)&&et.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(dt=Ee);if(dt&&(dt=dt(i,nt))){ne(_,dt,a,j);break e}mt&&mt(i,$,nt),i==="focusout"&&(mt=$._wrapperState)&&mt.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(mt=nt?ue(nt):window,i){case"focusin":(me(mt)||mt.contentEditable==="true")&&(Qe=mt,Re=nt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_,a,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_,a,j)}var Tt;if(ae)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else ie?ge(i,a)&&(yt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(de&&a.locale!=="ko"&&(ie||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&ie&&(Tt=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),mt=oe(nt,yt),0<mt.length&&(yt=new Ld(yt,i,null,a,j),_.push({event:yt,listeners:mt}),Tt?yt.data=Tt:(Tt=he(a),Tt!==null&&(yt.data=Tt)))),(Tt=ce?je(i,a):ke(i,a))&&(nt=oe(nt,"onBeforeInput"),0<nt.length&&(j=new Ld("onBeforeInput","beforeinput",null,a,j),_.push({event:j,listeners:nt}),j.data=Tt))}se(_,s)})}function tf(i,s,a){return{instance:i,listener:s,currentTarget:a}}function oe(i,s){for(var a=s+"Capture",o=[];i!==null;){var it=i,tt=it.stateNode;it.tag===5&&tt!==null&&(it=tt,tt=Kb(i,a),tt!=null&&o.unshift(tf(i,tt,it)),tt=Kb(i,s),tt!=null&&o.push(tf(i,tt,it))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,a,o,it){for(var tt=s._reactName,at=[];a!==null&&a!==o;){var ot=a,rt=ot.alternate,nt=ot.stateNode;if(rt!==null&&rt===o)break;ot.tag===5&&nt!==null&&(ot=nt,it?(rt=Kb(a,tt),rt!=null&&at.unshift(tf(a,rt,ot))):it||(rt=Kb(a,tt),rt!=null&&at.push(tf(a,rt,ot)))),a=a.return}at.length!==0&&i.push({event:s,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,a){if(s=zf(s),zf(i)!==s&&a)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var a=s,o=0;do{var it=a.nextSibling;if(i.removeChild(a),it&&it.nodeType===8)if(a=it.data,a==="/$"){if(o===0){i.removeChild(it),bd(s);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=it}while(a);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var a=i.parentNode;a;){if(s=a[uf]||a[Of]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Mf(i);i!==null;){if(a=i[Of])return a;i=Mf(i)}return s}i=a,a=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var a=i.type.contextTypes;if(!a)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===s)return o.__reactInternalMemoizedMaskedChildContext;var it={},tt;for(tt in a)it[tt]=s[tt];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=it),it}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,a){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,a)}function bg(i,s,a){var o=i.stateNode;if(s=s.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var it in o)if(!(it in s))throw Error(p(108,Ra(i)||"Unknown",it));return A({},a,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,a){var o=i.stateNode;if(!o)throw Error(p(169));a?(i=bg(i,s,Xf),o.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var a=eg;for(C=1;i<a.length;i++){var o=a[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(it){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),it}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var it=32-oc(o)-1;o&=~(1<<it),a+=1;var tt=32-oc(s)+it;if(30<tt){var at=it-it%5;tt=(o&(1<<at)-1).toString(32),o>>=at,it-=at,rg=1<<32-oc(s)+it|a<<it|o,sg=tt+i}else rg=1<<tt|a<<it|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=i,s=i.deletions,s===null?(i.deletions=[a],i.flags|=16):s.push(a)}function Cg(i,s){switch(i.tag){case 5:var a=i.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=s,a.return=i,i.child=a,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var a=s;if(!Cg(i,s)){if(Dg(i))throw Error(p(418));s=Lf(a.nextSibling);var o=xg;s&&Cg(i,s)?Ag(o,a):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var a in i)s[a]===void 0&&(s[a]=i[a]);return s}return s}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var s=Mg.current;E(Mg),i._currentValue=s}function Sg(i,s,a){for(;i!==null;){var o=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),i===a)break;i=i.return}}function Tg(i,s){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(Ug=!0),i.firstContext=null)}function Vg(i){var s=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:s,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return s}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,s,a,o){var it=s.interleaved;return it===null?(a.next=a,Xg(s)):(a.next=it.next,it.next=a),s.interleaved=a,Zg(i,o)}function Zg(i,s){i.lanes|=s;var a=i.alternate;for(a!==null&&(a.lanes|=s),a=i,i=i.return;i!==null;)i.childLanes|=s,a=i.alternate,a!==null&&(a.childLanes|=s),a=i,i=i.return;return a.tag===3?a.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function dh(i,s,a){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,(K&2)!==0){var it=o.pending;return it===null?s.next=s:(s.next=it.next,it.next=s),o.pending=s,Zg(i,a)}return it=o.interleaved,it===null?(s.next=s,Xg(o)):(s.next=it.next,it.next=s),o.interleaved=s,Zg(i,a)}function eh(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var o=s.lanes;o&=i.pendingLanes,a|=o,s.lanes=a,Cc(i,a)}}function fh(i,s){var a=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var it=null,tt=null;if(a=a.firstBaseUpdate,a!==null){do{var at={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};tt===null?it=tt=at:tt=tt.next=at,a=a.next}while(a!==null);tt===null?it=tt=s:tt=tt.next=s}else it=tt=s;a={baseState:o.baseState,firstBaseUpdate:it,lastBaseUpdate:tt,shared:o.shared,effects:o.effects},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}function gh(i,s,a,o){var it=i.updateQueue;$g=!1;var tt=it.firstBaseUpdate,at=it.lastBaseUpdate,ot=it.shared.pending;if(ot!==null){it.shared.pending=null;var rt=ot,nt=rt.next;rt.next=null,at===null?tt=nt:at.next=nt,at=rt;var j=i.alternate;j!==null&&(j=j.updateQueue,ot=j.lastBaseUpdate,ot!==at&&(ot===null?j.firstBaseUpdate=nt:ot.next=nt,j.lastBaseUpdate=rt))}if(tt!==null){var _=it.baseState;at=0,j=nt=rt=null,ot=tt;do{var $=ot.lane,et=ot.eventTime;if((o&$)===$){j!==null&&(j=j.next={eventTime:et,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var st=i,lt=ot;switch($=s,et=a,lt.tag){case 1:if(st=lt.payload,typeof st=="function"){_=st.call(et,_,$);break e}_=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=lt.payload,$=typeof st=="function"?st.call(et,_,$):st,$==null)break e;_=A({},_,$);break e;case 2:$g=!0}}ot.callback!==null&&ot.lane!==0&&(i.flags|=64,$=it.effects,$===null?it.effects=[ot]:$.push(ot))}else et={eventTime:et,lane:$,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},j===null?(nt=j=et,rt=_):j=j.next=et,at|=$;if(ot=ot.next,ot===null){if(ot=it.shared.pending,ot===null)break;$=ot,ot=$.next,$.next=null,it.lastBaseUpdate=$,it.shared.pending=null}}while(1);if(j===null&&(rt=_),it.baseState=rt,it.firstBaseUpdate=nt,it.lastBaseUpdate=j,s=it.shared.interleaved,s!==null){it=s;do at|=it.lane,it=it.next;while(it!==s)}else tt===null&&(it.shared.lanes=0);hh|=at,i.lanes=at,i.memoizedState=_}}function ih(i,s,a){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var o=i[s],it=o.callback;if(it!==null){if(o.callback=null,o=a,typeof it!="function")throw Error(p(191,it));it.call(o)}}}var jh=new aa.Component().refs;function kh(i,s,a,o){s=i.memoizedState,a=a(o,s),a=a==null?s:A({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,a){i=i._reactInternals;var o=L(),it=lh(i),tt=ch(o,it);tt.payload=s,a!=null&&(tt.callback=a),s=dh(i,tt,it),s!==null&&(mh(s,i,it,o),eh(s,i,it))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var o=L(),it=lh(i),tt=ch(o,it);tt.tag=1,tt.payload=s,a!=null&&(tt.callback=a),s=dh(i,tt,it),s!==null&&(mh(s,i,it,o),eh(s,i,it))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=L(),o=lh(i),it=ch(a,o);it.tag=2,s!=null&&(it.callback=s),s=dh(i,it,o),s!==null&&(mh(s,i,o,a),eh(s,i,o))}};function oh(i,s,a,o,it,tt,at){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,tt,at):s.prototype&&s.prototype.isPureReactComponent?!Ie(a,o)||!Ie(it,tt):!0}function ph(i,s,a){var o=!1,it=Vf,tt=s.contextType;return typeof tt=="object"&&tt!==null?tt=Vg(tt):(it=Zf(s)?Xf:H.current,o=s.contextTypes,tt=(o=o!=null)?Yf(i,it):Vf),s=new s(a,tt),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh,i.stateNode=s,s._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=it,i.__reactInternalMemoizedMaskedChildContext=tt),s}function qh(i,s,a,o){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==i&&nh.enqueueReplaceState(s,s.state,null)}function rh(i,s,a,o){var it=i.stateNode;it.props=a,it.state=i.memoizedState,it.refs=jh,ah(i);var tt=s.contextType;typeof tt=="object"&&tt!==null?it.context=Vg(tt):(tt=Zf(s)?Xf:H.current,it.context=Yf(i,tt)),it.state=i.memoizedState,tt=s.getDerivedStateFromProps,typeof tt=="function"&&(kh(i,s,tt,a),it.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof it.getSnapshotBeforeUpdate=="function"||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(s=it.state,typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount(),s!==it.state&&nh.enqueueReplaceState(it,it.state,null),gh(i,a,it,o),it.state=i.memoizedState),typeof it.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,s,a){if(i=a.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p(309));var o=a.stateNode}if(!o)throw Error(p(147,i));var it=o,tt=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===tt?s.ref:(s=function(at){var ot=it.refs;ot===jh&&(ot=it.refs={}),at===null?delete ot[tt]:ot[tt]=at},s._stringRef=tt,s)}if(typeof i!="string")throw Error(p(284));if(!a._owner)throw Error(p(290,i))}return i}function th(i,s){throw i=Object.prototype.toString.call(s),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function uh(i){var s=i._init;return s(i._payload)}function vh$1(i){function s(gt,ut){if(i){var pt=gt.deletions;pt===null?(gt.deletions=[ut],gt.flags|=16):pt.push(ut)}}function a(gt,ut){if(!i)return null;for(;ut!==null;)s(gt,ut),ut=ut.sibling;return null}function o(gt,ut){for(gt=new Map;ut!==null;)ut.key!==null?gt.set(ut.key,ut):gt.set(ut.index,ut),ut=ut.sibling;return gt}function it(gt,ut){return gt=wh(gt,ut),gt.index=0,gt.sibling=null,gt}function tt(gt,ut,pt){return gt.index=pt,i?(pt=gt.alternate,pt!==null?(pt=pt.index,pt<ut?(gt.flags|=2,ut):pt):(gt.flags|=2,ut)):(gt.flags|=1048576,ut)}function at(gt){return i&&gt.alternate===null&&(gt.flags|=2),gt}function ot(gt,ut,pt,vt){return ut===null||ut.tag!==6?(ut=xh(pt,gt.mode,vt),ut.return=gt,ut):(ut=it(ut,pt),ut.return=gt,ut)}function rt(gt,ut,pt,vt){var dt=pt.type;return dt===ya?j(gt,ut,pt.props.children,vt,pt.key):ut!==null&&(ut.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Ha&&uh(dt)===ut.type)?(vt=it(ut,pt.props),vt.ref=sh(gt,ut,pt),vt.return=gt,vt):(vt=yh(pt.type,pt.key,pt.props,null,gt.mode,vt),vt.ref=sh(gt,ut,pt),vt.return=gt,vt)}function nt(gt,ut,pt,vt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==pt.containerInfo||ut.stateNode.implementation!==pt.implementation?(ut=zh(pt,gt.mode,vt),ut.return=gt,ut):(ut=it(ut,pt.children||[]),ut.return=gt,ut)}function j(gt,ut,pt,vt,dt){return ut===null||ut.tag!==7?(ut=Ah(pt,gt.mode,vt,dt),ut.return=gt,ut):(ut=it(ut,pt),ut.return=gt,ut)}function _(gt,ut,pt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=xh(""+ut,gt.mode,pt),ut.return=gt,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return pt=yh(ut.type,ut.key,ut.props,null,gt.mode,pt),pt.ref=sh(gt,null,ut),pt.return=gt,pt;case wa:return ut=zh(ut,gt.mode,pt),ut.return=gt,ut;case Ha:var vt=ut._init;return _(gt,vt(ut._payload),pt)}if(eb(ut)||Ka(ut))return ut=Ah(ut,gt.mode,pt,null),ut.return=gt,ut;th(gt,ut)}return null}function $(gt,ut,pt,vt){var dt=ut!==null?ut.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return dt!==null?null:ot(gt,ut,""+pt,vt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===dt?rt(gt,ut,pt,vt):null;case wa:return pt.key===dt?nt(gt,ut,pt,vt):null;case Ha:return dt=pt._init,$(gt,ut,dt(pt._payload),vt)}if(eb(pt)||Ka(pt))return dt!==null?null:j(gt,ut,pt,vt,null);th(gt,pt)}return null}function et(gt,ut,pt,vt,dt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return gt=gt.get(pt)||null,ot(ut,gt,""+vt,dt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return gt=gt.get(vt.key===null?pt:vt.key)||null,rt(ut,gt,vt,dt);case wa:return gt=gt.get(vt.key===null?pt:vt.key)||null,nt(ut,gt,vt,dt);case Ha:var mt=vt._init;return et(gt,ut,pt,mt(vt._payload),dt)}if(eb(vt)||Ka(vt))return gt=gt.get(pt)||null,j(ut,gt,vt,dt,null);th(ut,vt)}return null}function st(gt,ut,pt,vt){for(var dt=null,mt=null,Tt=ut,yt=ut=0,ht=null;Tt!==null&&yt<pt.length;yt++){Tt.index>yt?(ht=Tt,Tt=null):ht=Tt.sibling;var xt=$(gt,Tt,pt[yt],vt);if(xt===null){Tt===null&&(Tt=ht);break}i&&Tt&&xt.alternate===null&&s(gt,Tt),ut=tt(xt,ut,yt),mt===null?dt=xt:mt.sibling=xt,mt=xt,Tt=ht}if(yt===pt.length)return a(gt,Tt),I&&tg(gt,yt),dt;if(Tt===null){for(;yt<pt.length;yt++)Tt=_(gt,pt[yt],vt),Tt!==null&&(ut=tt(Tt,ut,yt),mt===null?dt=Tt:mt.sibling=Tt,mt=Tt);return I&&tg(gt,yt),dt}for(Tt=o(gt,Tt);yt<pt.length;yt++)ht=et(Tt,gt,yt,pt[yt],vt),ht!==null&&(i&&ht.alternate!==null&&Tt.delete(ht.key===null?yt:ht.key),ut=tt(ht,ut,yt),mt===null?dt=ht:mt.sibling=ht,mt=ht);return i&&Tt.forEach(function(wt){return s(gt,wt)}),I&&tg(gt,yt),dt}function lt(gt,ut,pt,vt){var dt=Ka(pt);if(typeof dt!="function")throw Error(p(150));if(pt=dt.call(pt),pt==null)throw Error(p(151));for(var mt=dt=null,Tt=ut,yt=ut=0,ht=null,xt=pt.next();Tt!==null&&!xt.done;yt++,xt=pt.next()){Tt.index>yt?(ht=Tt,Tt=null):ht=Tt.sibling;var wt=$(gt,Tt,xt.value,vt);if(wt===null){Tt===null&&(Tt=ht);break}i&&Tt&&wt.alternate===null&&s(gt,Tt),ut=tt(wt,ut,yt),mt===null?dt=wt:mt.sibling=wt,mt=wt,Tt=ht}if(xt.done)return a(gt,Tt),I&&tg(gt,yt),dt;if(Tt===null){for(;!xt.done;yt++,xt=pt.next())xt=_(gt,xt.value,vt),xt!==null&&(ut=tt(xt,ut,yt),mt===null?dt=xt:mt.sibling=xt,mt=xt);return I&&tg(gt,yt),dt}for(Tt=o(gt,Tt);!xt.done;yt++,xt=pt.next())xt=et(Tt,gt,yt,xt.value,vt),xt!==null&&(i&&xt.alternate!==null&&Tt.delete(xt.key===null?yt:xt.key),ut=tt(xt,ut,yt),mt===null?dt=xt:mt.sibling=xt,mt=xt);return i&&Tt.forEach(function(kt){return s(gt,kt)}),I&&tg(gt,yt),dt}function ft(gt,ut,pt,vt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var dt=pt.key,mt=ut;mt!==null;){if(mt.key===dt){if(dt=pt.type,dt===ya){if(mt.tag===7){a(gt,mt.sibling),ut=it(mt,pt.props.children),ut.return=gt,gt=ut;break e}}else if(mt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Ha&&uh(dt)===mt.type){a(gt,mt.sibling),ut=it(mt,pt.props),ut.ref=sh(gt,mt,pt),ut.return=gt,gt=ut;break e}a(gt,mt);break}else s(gt,mt);mt=mt.sibling}pt.type===ya?(ut=Ah(pt.props.children,gt.mode,vt,pt.key),ut.return=gt,gt=ut):(vt=yh(pt.type,pt.key,pt.props,null,gt.mode,vt),vt.ref=sh(gt,ut,pt),vt.return=gt,gt=vt)}return at(gt);case wa:e:{for(mt=pt.key;ut!==null;){if(ut.key===mt)if(ut.tag===4&&ut.stateNode.containerInfo===pt.containerInfo&&ut.stateNode.implementation===pt.implementation){a(gt,ut.sibling),ut=it(ut,pt.children||[]),ut.return=gt,gt=ut;break e}else{a(gt,ut);break}else s(gt,ut);ut=ut.sibling}ut=zh(pt,gt.mode,vt),ut.return=gt,gt=ut}return at(gt);case Ha:return mt=pt._init,ft(gt,ut,mt(pt._payload),vt)}if(eb(pt))return st(gt,ut,pt,vt);if(Ka(pt))return lt(gt,ut,pt,vt);th(gt,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,ut!==null&&ut.tag===6?(a(gt,ut.sibling),ut=it(ut,pt),ut.return=gt,gt=ut):(a(gt,ut),ut=xh(pt,gt.mode,vt),ut.return=gt,gt=ut),at(gt)):a(gt,ut)}return ft}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p(174));return i}function Ih(i,s){switch(G(Gh,s),G(Fh,i),G(Eh,Dh),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(Eh),G(Eh,s)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var s=Hh(Eh.current),a=lb(s,i.type);s!==a&&(G(Fh,i),G(Eh,a))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!He(i[a],s[a]))return!1;return!0}function Xh(i,s,a,o,it,tt){if(Rh=tt,N=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=a(o,it),Th){tt=0;do{if(Th=!1,Uh=0,25<=tt)throw Error(p(301));tt+=1,P=O=null,s.updateQueue=null,Ph.current=$h,i=a(o,it)}while(Th)}if(Ph.current=ai,s=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,s)throw Error(p(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var s=P===null?N.memoizedState:P.next;if(s!==null)P=s,O=i;else{if(i===null)throw Error(p(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,s){return typeof s=="function"?s(i):s}function fi(i){var s=di(),a=s.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=i;var o=O,it=o.baseQueue,tt=a.pending;if(tt!==null){if(it!==null){var at=it.next;it.next=tt.next,tt.next=at}o.baseQueue=it=tt,a.pending=null}if(it!==null){tt=it.next,o=o.baseState;var ot=at=null,rt=null,nt=tt;do{var j=nt.lane;if((Rh&j)===j)rt!==null&&(rt=rt.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),o=nt.hasEagerState?nt.eagerState:i(o,nt.action);else{var _={lane:j,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};rt===null?(ot=rt=_,at=o):rt=rt.next=_,N.lanes|=j,hh|=j}nt=nt.next}while(nt!==null&&nt!==tt);rt===null?at=o:rt.next=ot,He(o,s.memoizedState)||(Ug=!0),s.memoizedState=o,s.baseState=at,s.baseQueue=rt,a.lastRenderedState=o}if(i=a.interleaved,i!==null){it=i;do tt=it.lane,N.lanes|=tt,hh|=tt,it=it.next;while(it!==i)}else it===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function gi(i){var s=di(),a=s.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=i;var o=a.dispatch,it=a.pending,tt=s.memoizedState;if(it!==null){a.pending=null;var at=it=it.next;do tt=i(tt,at.action),at=at.next;while(at!==it);He(tt,s.memoizedState)||(Ug=!0),s.memoizedState=tt,s.baseQueue===null&&(s.baseState=tt),a.lastRenderedState=tt}return[tt,o]}function hi(){}function ii(i,s){var a=N,o=di(),it=s(),tt=!He(o.memoizedState,it);if(tt&&(o.memoizedState=it,Ug=!0),o=o.queue,ji(ki.bind(null,a,o,i),[i]),o.getSnapshot!==s||tt||P!==null&&P.memoizedState.tag&1){if(a.flags|=2048,li(9,mi.bind(null,a,o,it,s),void 0,null),R===null)throw Error(p(349));(Rh&30)!==0||ni(a,s,it)}return it}function ni(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function mi(i,s,a,o){s.value=a,s.getSnapshot=o,oi(s)&&pi(i)}function ki(i,s,a){return a(function(){oi(s)&&pi(i)})}function oi(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!He(i,a)}catch{return!0}}function pi(i){var s=Zg(i,1);s!==null&&mh(s,i,1,-1)}function qi(i){var s=ci();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},s.queue=i,i=i.dispatch=ri.bind(null,N,i),[s.memoizedState,i]}function li(i,s,a,o){return i={tag:i,create:s,destroy:a,deps:o,next:null},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.lastEffect=i.next=i):(a=s.lastEffect,a===null?s.lastEffect=i.next=i:(o=a.next,a.next=i,i.next=o,s.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,s,a,o){var it=ci();N.flags|=i,it.memoizedState=li(1|s,a,void 0,o===void 0?null:o)}function ui(i,s,a,o){var it=di();o=o===void 0?null:o;var tt=void 0;if(O!==null){var at=O.memoizedState;if(tt=at.destroy,o!==null&&Wh(o,at.deps)){it.memoizedState=li(s,a,tt,o);return}}N.flags|=i,it.memoizedState=li(1|s,a,tt,o)}function vi(i,s){return ti(8390656,8,i,s)}function ji(i,s){return ui(2048,8,i,s)}function wi(i,s){return ui(4,2,i,s)}function xi(i,s){return ui(4,4,i,s)}function yi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function zi(i,s,a){return a=a!=null?a.concat([i]):null,ui(4,4,yi.bind(null,s,i),a)}function Ai(){}function Bi(i,s){var a=di();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&Wh(s,o[1])?o[0]:(a.memoizedState=[i,s],i)}function Ci(i,s){var a=di();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&Wh(s,o[1])?o[0]:(i=i(),a.memoizedState=[i,s],i)}function Di(i,s,a){return(Rh&21)===0?(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=a):(He(a,s)||(a=yc(),N.lanes|=a,hh|=a,i.baseState=!0),s)}function Ei(i,s){var a=C;C=a!==0&&4>a?a:4,i(!0);var o=Qh.transition;Qh.transition={};try{i(!1),s()}finally{C=a,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(i,s,a){var o=lh(i);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(s,a);else if(a=Yg(i,s,a,o),a!==null){var it=L();mh(a,i,o,it),Ji(a,s,o)}}function ri(i,s,a){var o=lh(i),it={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(s,it);else{var tt=i.alternate;if(i.lanes===0&&(tt===null||tt.lanes===0)&&(tt=s.lastRenderedReducer,tt!==null))try{var at=s.lastRenderedState,ot=tt(at,a);if(it.hasEagerState=!0,it.eagerState=ot,He(ot,at)){var rt=s.interleaved;rt===null?(it.next=it,Xg(s)):(it.next=rt.next,rt.next=it),s.interleaved=it;return}}catch{}finally{}a=Yg(i,s,it,o),a!==null&&(it=L(),mh(a,i,o,it),Ji(a,s,o))}}function Hi(i){var s=i.alternate;return i===N||s!==null&&s===N}function Ii(i,s){Th=Sh=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Ji(i,s,a){if((a&4194240)!==0){var o=s.lanes;o&=i.pendingLanes,a|=o,s.lanes=a,Cc(i,a)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,s){return ci().memoizedState=[i,s===void 0?null:s],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,s,a){return a=a!=null?a.concat([i]):null,ti(4194308,4,yi.bind(null,s,i),a)},useLayoutEffect:function(i,s){return ti(4194308,4,i,s)},useInsertionEffect:function(i,s){return ti(4,2,i,s)},useMemo:function(i,s){var a=ci();return s=s===void 0?null:s,i=i(),a.memoizedState=[i,s],i},useReducer:function(i,s,a){var o=ci();return s=a!==void 0?a(s):s,o.memoizedState=o.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},o.queue=i,i=i.dispatch=Gi.bind(null,N,i),[o.memoizedState,i]},useRef:function(i){var s=ci();return i={current:i},s.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),s=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,a){var o=N,it=ci();if(I){if(a===void 0)throw Error(p(407));a=a()}else{if(a=s(),R===null)throw Error(p(349));(Rh&30)!==0||ni(o,s,a)}it.memoizedState=a;var tt={value:a,getSnapshot:s};return it.queue=tt,vi(ki.bind(null,o,tt,i),[i]),o.flags|=2048,li(9,mi.bind(null,o,tt,a,s),void 0,null),a},useId:function(){var i=ci(),s=R.identifierPrefix;if(I){var a=sg,o=rg;a=(o&~(1<<32-oc(o)-1)).toString(32)+a,s=":"+s+"R"+a,a=Uh++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Vh++,s=":"+s+"r"+a.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var s=di();return Di(s,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],s=di().memoizedState;return[i,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var s=di();return O===null?s.memoizedState=i:Di(s,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],s=di().memoizedState;return[i,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,s){try{var a="",o=s;do a+=Pa(o),o=o.return;while(o);var it=a}catch(tt){it=`
Error generating stack: `+tt.message+`
`+tt.stack}return{value:i,source:s,stack:it,digest:null}}function Li(i,s,a){return{value:i,source:null,stack:a!=null?a:null,digest:s!=null?s:null}}function Mi(i,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,s,a){a=ch(-1,a),a.tag=3,a.payload={element:null};var o=s.value;return a.callback=function(){Pi||(Pi=!0,Qi=o),Mi(i,s)},a}function Ri(i,s,a){a=ch(-1,a),a.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var it=s.value;a.payload=function(){return o(it)},a.callback=function(){Mi(i,s)}}var tt=i.stateNode;return tt!==null&&typeof tt.componentDidCatch=="function"&&(a.callback=function(){Mi(i,s),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var at=s.stack;this.componentDidCatch(s.value,{componentStack:at!==null?at:""})}),a}function Ti(i,s,a){var o=i.pingCache;if(o===null){o=i.pingCache=new Ni;var it=new Set;o.set(s,it)}else it=o.get(s),it===void 0&&(it=new Set,o.set(s,it));it.has(a)||(it.add(a),i=Ui.bind(null,i,s,a),s.then(i,i))}function Vi(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Wi(i,s,a,o,it){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ch(-1,1),s.tag=2,dh(a,s,1))),a.lanes|=1),i):(i.flags|=65536,i.lanes=it,i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,s,a,o){s.child=i===null?Ch(s,null,a,o):Bh(s,i.child,a,o)}function Zi(i,s,a,o,it){a=a.render;var tt=s.ref;return Tg(s,it),o=Xh(i,s,a,o,tt,it),a=bi(),i!==null&&!Ug?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~it,$i(i,s,it)):(I&&a&&vg(s),s.flags|=1,Yi(i,s,o,it),s.child)}function aj(i,s,a,o,it){if(i===null){var tt=a.type;return typeof tt=="function"&&!bj(tt)&&tt.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=tt,cj(i,s,tt,o,it)):(i=yh(a.type,null,o,s,s.mode,it),i.ref=s.ref,i.return=s,s.child=i)}if(tt=i.child,(i.lanes&it)===0){var at=tt.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(at,o)&&i.ref===s.ref)return $i(i,s,it)}return s.flags|=1,i=wh(tt,o),i.ref=s.ref,i.return=s,s.child=i}function cj(i,s,a,o,it){if(i!==null){var tt=i.memoizedProps;if(Ie(tt,o)&&i.ref===s.ref)if(Ug=!1,s.pendingProps=o=tt,(i.lanes&it)!==0)(i.flags&131072)!==0&&(Ug=!0);else return s.lanes=i.lanes,$i(i,s,it)}return dj(i,s,a,o,it)}function ej(i,s,a){var o=s.pendingProps,it=o.children,tt=i!==null?i.memoizedState:null;if(o.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=a;else{if((a&1073741824)===0)return i=tt!==null?tt.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(fj,gj),gj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=tt!==null?tt.baseLanes:a,G(fj,gj),gj|=o}else tt!==null?(o=tt.baseLanes|a,s.memoizedState=null):o=a,G(fj,gj),gj|=o;return Yi(i,s,it,a),s.child}function hj(i,s){var a=s.ref;(i===null&&a!==null||i!==null&&i.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function dj(i,s,a,o,it){var tt=Zf(a)?Xf:H.current;return tt=Yf(s,tt),Tg(s,it),a=Xh(i,s,a,o,tt,it),o=bi(),i!==null&&!Ug?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~it,$i(i,s,it)):(I&&o&&vg(s),s.flags|=1,Yi(i,s,a,it),s.child)}function ij(i,s,a,o,it){if(Zf(a)){var tt=!0;cg(s)}else tt=!1;if(Tg(s,it),s.stateNode===null)jj(i,s),ph(s,a,o),rh(s,a,o,it),o=!0;else if(i===null){var at=s.stateNode,ot=s.memoizedProps;at.props=ot;var rt=at.context,nt=a.contextType;typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(a)?Xf:H.current,nt=Yf(s,nt));var j=a.getDerivedStateFromProps,_=typeof j=="function"||typeof at.getSnapshotBeforeUpdate=="function";_||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==o||rt!==nt)&&qh(s,at,o,nt),$g=!1;var $=s.memoizedState;at.state=$,gh(s,o,at,it),rt=s.memoizedState,ot!==o||$!==rt||Wf.current||$g?(typeof j=="function"&&(kh(s,a,j,o),rt=s.memoizedState),(ot=$g||oh(s,a,ot,o,$,rt,nt))?(_||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(s.flags|=4194308)):(typeof at.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=rt),at.props=o,at.state=rt,at.context=nt,o=ot):(typeof at.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{at=s.stateNode,bh(i,s),ot=s.memoizedProps,nt=s.type===s.elementType?ot:Lg(s.type,ot),at.props=nt,_=s.pendingProps,$=at.context,rt=a.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(a)?Xf:H.current,rt=Yf(s,rt));var et=a.getDerivedStateFromProps;(j=typeof et=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==_||$!==rt)&&qh(s,at,o,rt),$g=!1,$=s.memoizedState,at.state=$,gh(s,o,at,it);var st=s.memoizedState;ot!==_||$!==st||Wf.current||$g?(typeof et=="function"&&(kh(s,a,et,o),st=s.memoizedState),(nt=$g||oh(s,a,nt,o,$,st,rt)||!1)?(j||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(o,st,rt),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(o,st,rt)),typeof at.componentDidUpdate=="function"&&(s.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof at.componentDidUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=st),at.props=o,at.state=st,at.context=rt,o=nt):(typeof at.componentDidUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),o=!1)}return kj(i,s,a,o,tt,it)}function kj(i,s,a,o,it,tt){hj(i,s);var at=(s.flags&128)!==0;if(!o&&!at)return it&&dg(s,a,!1),$i(i,s,tt);o=s.stateNode,Xi.current=s;var ot=at&&typeof a.getDerivedStateFromError!="function"?null:o.render();return s.flags|=1,i!==null&&at?(s.child=Bh(s,i.child,null,tt),s.child=Bh(s,null,ot,tt)):Yi(i,s,ot,tt),s.memoizedState=o.state,it&&dg(s,a,!0),s.child}function lj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),Ih(i,s.containerInfo)}function mj(i,s,a,o,it){return Ig(),Jg(it),s.flags|=256,Yi(i,s,a,o),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,s,a){var o=s.pendingProps,it=M.current,tt=!1,at=(s.flags&128)!==0,ot;if((ot=at)||(ot=i!==null&&i.memoizedState===null?!1:(it&2)!==0),ot?(tt=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(it|=1),G(M,it&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(at=o.children,i=o.fallback,tt?(o=s.mode,tt=s.child,at={mode:"hidden",children:at},(o&1)===0&&tt!==null?(tt.childLanes=0,tt.pendingProps=at):tt=qj(at,o,0,null),i=Ah(i,o,a,null),tt.return=s,i.return=s,tt.sibling=i,s.child=tt,s.child.memoizedState=oj(a),s.memoizedState=nj,i):rj(s,at));if(it=i.memoizedState,it!==null&&(ot=it.dehydrated,ot!==null))return sj(i,s,at,o,ot,it,a);if(tt){tt=o.fallback,at=s.mode,it=i.child,ot=it.sibling;var rt={mode:"hidden",children:o.children};return(at&1)===0&&s.child!==it?(o=s.child,o.childLanes=0,o.pendingProps=rt,s.deletions=null):(o=wh(it,rt),o.subtreeFlags=it.subtreeFlags&14680064),ot!==null?tt=wh(ot,tt):(tt=Ah(tt,at,a,null),tt.flags|=2),tt.return=s,o.return=s,o.sibling=tt,s.child=o,o=tt,tt=s.child,at=i.child.memoizedState,at=at===null?oj(a):{baseLanes:at.baseLanes|a,cachePool:null,transitions:at.transitions},tt.memoizedState=at,tt.childLanes=i.childLanes&~a,s.memoizedState=nj,o}return tt=i.child,i=tt.sibling,o=wh(tt,{mode:"visible",children:o.children}),(s.mode&1)===0&&(o.lanes=a),o.return=s,o.sibling=null,i!==null&&(a=s.deletions,a===null?(s.deletions=[i],s.flags|=16):a.push(i)),s.child=o,s.memoizedState=null,o}function rj(i,s){return s=qj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function tj(i,s,a,o){return o!==null&&Jg(o),Bh(s,i.child,null,a),i=rj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function sj(i,s,a,o,it,tt,at){if(a)return s.flags&256?(s.flags&=-257,o=Li(Error(p(422))),tj(i,s,at,o)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(tt=o.fallback,it=s.mode,o=qj({mode:"visible",children:o.children},it,0,null),tt=Ah(tt,it,at,null),tt.flags|=2,o.return=s,tt.return=s,o.sibling=tt,s.child=o,(s.mode&1)!==0&&Bh(s,i.child,null,at),s.child.memoizedState=oj(at),s.memoizedState=nj,tt);if((s.mode&1)===0)return tj(i,s,at,null);if(it.data==="$!"){if(o=it.nextSibling&&it.nextSibling.dataset,o)var ot=o.dgst;return o=ot,tt=Error(p(419)),o=Li(tt,o,void 0),tj(i,s,at,o)}if(ot=(at&i.childLanes)!==0,Ug||ot){if(o=R,o!==null){switch(at&-at){case 4:it=2;break;case 16:it=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:it=32;break;case 536870912:it=268435456;break;default:it=0}it=(it&(o.suspendedLanes|at))!==0?0:it,it!==0&&it!==tt.retryLane&&(tt.retryLane=it,Zg(i,it),mh(o,i,it,-1))}return uj(),o=Li(Error(p(421))),tj(i,s,at,o)}return it.data==="$?"?(s.flags|=128,s.child=i.child,s=vj.bind(null,i),it._reactRetry=s,null):(i=tt.treeContext,yg=Lf(it.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=rj(s,o.children),s.flags|=4096,s)}function wj(i,s,a){i.lanes|=s;var o=i.alternate;o!==null&&(o.lanes|=s),Sg(i.return,s,a)}function xj(i,s,a,o,it){var tt=i.memoizedState;tt===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:it}:(tt.isBackwards=s,tt.rendering=null,tt.renderingStartTime=0,tt.last=o,tt.tail=a,tt.tailMode=it)}function yj(i,s,a){var o=s.pendingProps,it=o.revealOrder,tt=o.tail;if(Yi(i,s,o.children,a),o=M.current,(o&2)!==0)o=o&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,a,s);else if(i.tag===19)wj(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G(M,o),(s.mode&1)===0)s.memoizedState=null;else switch(it){case"forwards":for(a=s.child,it=null;a!==null;)i=a.alternate,i!==null&&Mh(i)===null&&(it=a),a=a.sibling;a=it,a===null?(it=s.child,s.child=null):(it=a.sibling,a.sibling=null),xj(s,!1,it,a,tt);break;case"backwards":for(a=null,it=s.child,s.child=null;it!==null;){if(i=it.alternate,i!==null&&Mh(i)===null){s.child=it;break}i=it.sibling,it.sibling=a,a=it,it=i}xj(s,!0,a,null,tt);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function $i(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),hh|=s.lanes,(a&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(p(153));if(s.child!==null){for(i=s.child,a=wh(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=wh(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function zj(i,s,a){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var o=s.type._context,it=s.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=it;break;case 13:if(o=s.memoizedState,o!==null)return o.dehydrated!==null?(G(M,M.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?pj(i,s,a):(G(M,M.current&1),i=$i(i,s,a),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(o=(a&s.childLanes)!==0,(i.flags&128)!==0){if(o)return yj(i,s,a);s.flags|=128}if(it=s.memoizedState,it!==null&&(it.rendering=null,it.tail=null,it.lastEffect=null),G(M,M.current),o)break;return null;case 22:case 23:return s.lanes=0,ej(i,s,a)}return $i(i,s,a)}var Aj,Bj,Cj,Dj;Aj=function(i,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Bj=function(){};Cj=function(i,s,a,o){var it=i.memoizedProps;if(it!==o){i=s.stateNode,Hh(Eh.current);var tt=null;switch(a){case"input":it=Ya(i,it),o=Ya(i,o),tt=[];break;case"select":it=A({},it,{value:void 0}),o=A({},o,{value:void 0}),tt=[];break;case"textarea":it=gb(i,it),o=gb(i,o),tt=[];break;default:typeof it.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub(a,o);var at;a=null;for(nt in it)if(!o.hasOwnProperty(nt)&&it.hasOwnProperty(nt)&&it[nt]!=null)if(nt==="style"){var ot=it[nt];for(at in ot)ot.hasOwnProperty(at)&&(a||(a={}),a[at]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?tt||(tt=[]):(tt=tt||[]).push(nt,null));for(nt in o){var rt=o[nt];if(ot=it!=null?it[nt]:void 0,o.hasOwnProperty(nt)&&rt!==ot&&(rt!=null||ot!=null))if(nt==="style")if(ot){for(at in ot)!ot.hasOwnProperty(at)||rt&&rt.hasOwnProperty(at)||(a||(a={}),a[at]="");for(at in rt)rt.hasOwnProperty(at)&&ot[at]!==rt[at]&&(a||(a={}),a[at]=rt[at])}else a||(tt||(tt=[]),tt.push(nt,a)),a=rt;else nt==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,ot=ot?ot.__html:void 0,rt!=null&&ot!==rt&&(tt=tt||[]).push(nt,rt)):nt==="children"?typeof rt!="string"&&typeof rt!="number"||(tt=tt||[]).push(nt,""+rt):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(nt)?(rt!=null&&nt==="onScroll"&&D("scroll",i),tt||ot===rt||(tt=[])):(tt=tt||[]).push(nt,rt))}a&&(tt=tt||[]).push("style",a);var nt=tt;(s.updateQueue=nt)&&(s.flags|=4)}};Dj=function(i,s,a,o){a!==o&&(s.flags|=4)};function Ej(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,o=0;if(s)for(var it=i.child;it!==null;)a|=it.lanes|it.childLanes,o|=it.subtreeFlags&14680064,o|=it.flags&14680064,it.return=i,it=it.sibling;else for(it=i.child;it!==null;)a|=it.lanes|it.childLanes,o|=it.subtreeFlags,o|=it.flags,it.return=i,it=it.sibling;return i.subtreeFlags|=o,i.childLanes=a,s}function Fj(i,s,a){var o=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return o=s.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,s),S(s),null;case 5:Lh(s);var it=Hh(Gh.current);if(a=s.type,i!==null&&s.stateNode!=null)Cj(i,s,a,o,it),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!o){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(i=Hh(Eh.current),Gg(s)){o=s.stateNode,a=s.type;var tt=s.memoizedProps;switch(o[Of]=s,o[Pf]=tt,i=(s.mode&1)!==0,a){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(it=0;it<lf.length;it++)D(lf[it],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,tt),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!tt.multiple},D("invalid",o);break;case"textarea":hb(o,tt),D("invalid",o)}ub(a,tt),it=null;for(var at in tt)if(tt.hasOwnProperty(at)){var ot=tt[at];at==="children"?typeof ot=="string"?o.textContent!==ot&&(tt.suppressHydrationWarning!==!0&&Af(o.textContent,ot,i),it=["children",ot]):typeof ot=="number"&&o.textContent!==""+ot&&(tt.suppressHydrationWarning!==!0&&Af(o.textContent,ot,i),it=["children",""+ot]):ea.hasOwnProperty(at)&&ot!=null&&at==="onScroll"&&D("scroll",o)}switch(a){case"input":Va(o),db(o,tt,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof tt.onClick=="function"&&(o.onclick=Bf)}o=it,s.updateQueue=o,o!==null&&(s.flags|=4)}else{at=it.nodeType===9?it:it.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(a)),i==="http://www.w3.org/1999/xhtml"?a==="script"?(i=at.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=at.createElement(a,{is:o.is}):(i=at.createElement(a),a==="select"&&(at=i,o.multiple?at.multiple=!0:o.size&&(at.size=o.size))):i=at.createElementNS(i,a),i[Of]=s,i[Pf]=o,Aj(i,s,!1,!1),s.stateNode=i;e:{switch(at=vb(a,o),a){case"dialog":D("cancel",i),D("close",i),it=o;break;case"iframe":case"object":case"embed":D("load",i),it=o;break;case"video":case"audio":for(it=0;it<lf.length;it++)D(lf[it],i);it=o;break;case"source":D("error",i),it=o;break;case"img":case"image":case"link":D("error",i),D("load",i),it=o;break;case"details":D("toggle",i),it=o;break;case"input":Za(i,o),it=Ya(i,o),D("invalid",i);break;case"option":it=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},it=A({},o,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,o),it=gb(i,o),D("invalid",i);break;default:it=o}ub(a,it),ot=it;for(tt in ot)if(ot.hasOwnProperty(tt)){var rt=ot[tt];tt==="style"?sb(i,rt):tt==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb(i,rt)):tt==="children"?typeof rt=="string"?(a!=="textarea"||rt!=="")&&ob(i,rt):typeof rt=="number"&&ob(i,""+rt):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?rt!=null&&tt==="onScroll"&&D("scroll",i):rt!=null&&ta(i,tt,rt,at))}switch(a){case"input":Va(i),db(i,o,!1);break;case"textarea":Va(i),jb(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa(o.value));break;case"select":i.multiple=!!o.multiple,tt=o.value,tt!=null?fb(i,!!o.multiple,tt,!1):o.defaultValue!=null&&fb(i,!!o.multiple,o.defaultValue,!0);break;default:typeof it.onClick=="function"&&(i.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Dj(i,s,i.memoizedProps,o);else{if(typeof o!="string"&&s.stateNode===null)throw Error(p(166));if(a=Hh(Gh.current),Hh(Eh.current),Gg(s)){if(o=s.stateNode,a=s.memoizedProps,o[Of]=s,(tt=o.nodeValue!==a)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,a,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,a,(i.mode&1)!==0)}tt&&(s.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Of]=s,s.stateNode=o}return S(s),null;case 13:if(E(M),o=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hg(),Ig(),s.flags|=98560,tt=!1;else if(tt=Gg(s),o!==null&&o.dehydrated!==null){if(i===null){if(!tt)throw Error(p(318));if(tt=s.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p(317));tt[Of]=s}else Ig(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;S(s),tt=!1}else zg!==null&&(Gj(zg),zg=null),tt=!0;if(!tt)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(M.current&1)!==0?T===0&&(T=3):uj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return Jh(),Bj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return Rg(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(M),tt=s.memoizedState,tt===null)return S(s),null;if(o=(s.flags&128)!==0,at=tt.rendering,at===null)if(o)Ej(tt,!1);else{if(T!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(at=Mh(i),at!==null){for(s.flags|=128,Ej(tt,!1),o=at.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),s.subtreeFlags=0,o=a,a=s.child;a!==null;)tt=a,i=o,tt.flags&=14680066,at=tt.alternate,at===null?(tt.childLanes=0,tt.lanes=i,tt.child=null,tt.subtreeFlags=0,tt.memoizedProps=null,tt.memoizedState=null,tt.updateQueue=null,tt.dependencies=null,tt.stateNode=null):(tt.childLanes=at.childLanes,tt.lanes=at.lanes,tt.child=at.child,tt.subtreeFlags=0,tt.deletions=null,tt.memoizedProps=at.memoizedProps,tt.memoizedState=at.memoizedState,tt.updateQueue=at.updateQueue,tt.type=at.type,i=at.dependencies,tt.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a=a.sibling;return G(M,M.current&1|2),s.child}i=i.sibling}tt.tail!==null&&B()>Hj&&(s.flags|=128,o=!0,Ej(tt,!1),s.lanes=4194304)}else{if(!o)if(i=Mh(at),i!==null){if(s.flags|=128,o=!0,a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ej(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!at.alternate&&!I)return S(s),null}else 2*B()-tt.renderingStartTime>Hj&&a!==1073741824&&(s.flags|=128,o=!0,Ej(tt,!1),s.lanes=4194304);tt.isBackwards?(at.sibling=s.child,s.child=at):(a=tt.last,a!==null?a.sibling=at:s.child=at,tt.last=at)}return tt.tail!==null?(s=tt.tail,tt.rendering=s,tt.tail=s.sibling,tt.renderingStartTime=B(),s.sibling=null,a=M.current,G(M,o?a&1|2:a&1),s):(S(s),null);case 22:case 23:return Ij(),o=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(s.flags|=8192),o&&(s.mode&1)!==0?(gj&1073741824)!==0&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Jj(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(E(M),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,s){var a=i.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){W(i,s,o)}else a.current=null}function Nj(i,s,a){try{a()}catch(o){W(i,s,o)}}var Oj=!1;function Pj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var it=o.anchorOffset,tt=o.focusNode;o=o.focusOffset;try{a.nodeType,tt.nodeType}catch{a=null;break e}var at=0,ot=-1,rt=-1,nt=0,j=0,_=i,$=null;t:for(;;){for(var et;_!==a||it!==0&&_.nodeType!==3||(ot=at+it),_!==tt||o!==0&&_.nodeType!==3||(rt=at+o),_.nodeType===3&&(at+=_.nodeValue.length),(et=_.firstChild)!==null;)$=_,_=et;for(;;){if(_===i)break t;if($===a&&++nt===it&&(ot=at),$===tt&&++j===o&&(rt=at),(et=_.nextSibling)!==null)break;_=$,$=_.parentNode}_=et}a=ot===-1||rt===-1?null:{start:ot,end:rt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:i,selectionRange:a},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var st=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var lt=st.memoizedProps,ft=st.memoizedState,gt=s.stateNode,ut=gt.getSnapshotBeforeUpdate(s.elementType===s.type?lt:Lg(s.type,lt),ft);gt.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var pt=s.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(vt){W(s,s.return,vt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return st=Oj,Oj=!1,st}function Qj(i,s,a){var o=s.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var it=o=o.next;do{if((it.tag&i)===i){var tt=it.destroy;it.destroy=void 0,tt!==void 0&&Nj(s,a,tt)}it=it.next}while(it!==o)}}function Rj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&i)===i){var o=a.create;a.destroy=o()}a=a.next}while(a!==s)}}function Sj(i){var s=i.ref;if(s!==null){var a=i.stateNode;switch(i.tag){case 5:i=a;break;default:i=a}typeof s=="function"?s(i):s.current=i}}function Tj(i){var s=i.alternate;s!==null&&(i.alternate=null,Tj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,s,a){var o=i.tag;if(o===5||o===6)i=i.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(i,s):a.insertBefore(i,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(i,a)):(s=a,s.appendChild(i)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Wj(i,s,a),i=i.sibling;i!==null;)Wj(i,s,a),i=i.sibling}function Xj(i,s,a){var o=i.tag;if(o===5||o===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Xj(i,s,a),i=i.sibling;i!==null;)Xj(i,s,a),i=i.sibling}var X=null,Yj=!1;function Zj(i,s,a){for(a=a.child;a!==null;)ak(i,s,a),a=a.sibling}function ak(i,s,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Mj(a,s);case 6:var o=X,it=Yj;X=null,Zj(i,s,a),X=o,Yj=it,X!==null&&(Yj?(i=X,a=a.stateNode,i.nodeType===8?i.parentNode.removeChild(a):i.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Yj?(i=X,a=a.stateNode,i.nodeType===8?Kf(i.parentNode,a):i.nodeType===1&&Kf(i,a),bd(i)):Kf(X,a.stateNode));break;case 4:o=X,it=Yj,X=a.stateNode.containerInfo,Yj=!0,Zj(i,s,a),X=o,Yj=it;break;case 0:case 11:case 14:case 15:if(!U&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){it=o=o.next;do{var tt=it,at=tt.destroy;tt=tt.tag,at!==void 0&&((tt&2)!==0||(tt&4)!==0)&&Nj(a,s,at),it=it.next}while(it!==o)}Zj(i,s,a);break;case 1:if(!U&&(Mj(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(ot){W(a,s,ot)}Zj(i,s,a);break;case 21:Zj(i,s,a);break;case 22:a.mode&1?(U=(o=U)||a.memoizedState!==null,Zj(i,s,a),U=o):Zj(i,s,a);break;default:Zj(i,s,a)}}function bk(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var a=i.stateNode;a===null&&(a=i.stateNode=new Lj),s.forEach(function(o){var it=ck.bind(null,i,o);a.has(o)||(a.add(o),o.then(it,it))})}}function dk(i,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var it=a[o];try{var tt=i,at=s,ot=at;e:for(;ot!==null;){switch(ot.tag){case 5:X=ot.stateNode,Yj=!1;break e;case 3:X=ot.stateNode.containerInfo,Yj=!0;break e;case 4:X=ot.stateNode.containerInfo,Yj=!0;break e}ot=ot.return}if(X===null)throw Error(p(160));ak(tt,at,it),X=null,Yj=!1;var rt=it.alternate;rt!==null&&(rt.return=null),it.return=null}catch(nt){W(it,s,nt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,i),s=s.sibling}function ek(i,s){var a=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(s,i),fk(i),o&4){try{Qj(3,i,i.return),Rj(3,i)}catch(lt){W(i,i.return,lt)}try{Qj(5,i,i.return)}catch(lt){W(i,i.return,lt)}}break;case 1:dk(s,i),fk(i),o&512&&a!==null&&Mj(a,a.return);break;case 5:if(dk(s,i),fk(i),o&512&&a!==null&&Mj(a,a.return),i.flags&32){var it=i.stateNode;try{ob(it,"")}catch(lt){W(i,i.return,lt)}}if(o&4&&(it=i.stateNode,it!=null)){var tt=i.memoizedProps,at=a!==null?a.memoizedProps:tt,ot=i.type,rt=i.updateQueue;if(i.updateQueue=null,rt!==null)try{ot==="input"&&tt.type==="radio"&&tt.name!=null&&ab(it,tt),vb(ot,at);var nt=vb(ot,tt);for(at=0;at<rt.length;at+=2){var j=rt[at],_=rt[at+1];j==="style"?sb(it,_):j==="dangerouslySetInnerHTML"?nb(it,_):j==="children"?ob(it,_):ta(it,j,_,nt)}switch(ot){case"input":bb(it,tt);break;case"textarea":ib(it,tt);break;case"select":var $=it._wrapperState.wasMultiple;it._wrapperState.wasMultiple=!!tt.multiple;var et=tt.value;et!=null?fb(it,!!tt.multiple,et,!1):$!==!!tt.multiple&&(tt.defaultValue!=null?fb(it,!!tt.multiple,tt.defaultValue,!0):fb(it,!!tt.multiple,tt.multiple?[]:"",!1))}it[Pf]=tt}catch(lt){W(i,i.return,lt)}}break;case 6:if(dk(s,i),fk(i),o&4){if(i.stateNode===null)throw Error(p(162));it=i.stateNode,tt=i.memoizedProps;try{it.nodeValue=tt}catch(lt){W(i,i.return,lt)}}break;case 3:if(dk(s,i),fk(i),o&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(lt){W(i,i.return,lt)}break;case 4:dk(s,i),fk(i);break;case 13:dk(s,i),fk(i),it=i.child,it.flags&8192&&(tt=it.memoizedState!==null,it.stateNode.isHidden=tt,!tt||it.alternate!==null&&it.alternate.memoizedState!==null||(gk=B())),o&4&&bk(i);break;case 22:if(j=a!==null&&a.memoizedState!==null,i.mode&1?(U=(nt=U)||j,dk(s,i),U=nt):dk(s,i),fk(i),o&8192){if(nt=i.memoizedState!==null,(i.stateNode.isHidden=nt)&&!j&&(i.mode&1)!==0)for(V=i,j=i.child;j!==null;){for(_=V=j;V!==null;){switch($=V,et=$.child,$.tag){case 0:case 11:case 14:case 15:Qj(4,$,$.return);break;case 1:Mj($,$.return);var st=$.stateNode;if(typeof st.componentWillUnmount=="function"){o=$,a=$.return;try{s=o,st.props=s.memoizedProps,st.state=s.memoizedState,st.componentWillUnmount()}catch(lt){W(o,a,lt)}}break;case 5:Mj($,$.return);break;case 22:if($.memoizedState!==null){hk(_);continue}}et!==null?(et.return=$,V=et):hk(_)}j=j.sibling}e:for(j=null,_=i;;){if(_.tag===5){if(j===null){j=_;try{it=_.stateNode,nt?(tt=it.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none"):(ot=_.stateNode,rt=_.memoizedProps.style,at=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,ot.style.display=rb("display",at))}catch(lt){W(i,i.return,lt)}}}else if(_.tag===6){if(j===null)try{_.stateNode.nodeValue=nt?"":_.memoizedProps}catch(lt){W(i,i.return,lt)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===i)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;j===_&&(j=null),_=_.return}j===_&&(j=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:dk(s,i),fk(i),o&4&&bk(i);break;case 21:break;default:dk(s,i),fk(i)}}function fk(i){var s=i.flags;if(s&2){try{e:{for(var a=i.return;a!==null;){if(Uj(a)){var o=a;break e}a=a.return}throw Error(p(160))}switch(o.tag){case 5:var it=o.stateNode;o.flags&32&&(ob(it,""),o.flags&=-33);var tt=Vj(i);Xj(i,tt,it);break;case 3:case 4:var at=o.stateNode.containerInfo,ot=Vj(i);Wj(i,ot,at);break;default:throw Error(p(161))}}catch(rt){W(i,i.return,rt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ik(i,s,a){V=i,jk(i)}function jk(i,s,a){for(var o=(i.mode&1)!==0;V!==null;){var it=V,tt=it.child;if(it.tag===22&&o){var at=it.memoizedState!==null||Kj;if(!at){var ot=it.alternate,rt=ot!==null&&ot.memoizedState!==null||U;ot=Kj;var nt=U;if(Kj=at,(U=rt)&&!nt)for(V=it;V!==null;)at=V,rt=at.child,at.tag===22&&at.memoizedState!==null?kk(it):rt!==null?(rt.return=at,V=rt):kk(it);for(;tt!==null;)V=tt,jk(tt),tt=tt.sibling;V=it,Kj=ot,U=nt}lk(i)}else(it.subtreeFlags&8772)!==0&&tt!==null?(tt.return=it,V=tt):lk(i)}}function lk(i){for(;V!==null;){var s=V;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:U||Rj(5,s);break;case 1:var o=s.stateNode;if(s.flags&4&&!U)if(a===null)o.componentDidMount();else{var it=s.elementType===s.type?a.memoizedProps:Lg(s.type,a.memoizedProps);o.componentDidUpdate(it,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var tt=s.updateQueue;tt!==null&&ih(s,tt,o);break;case 3:var at=s.updateQueue;if(at!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ih(s,at,a)}break;case 5:var ot=s.stateNode;if(a===null&&s.flags&4){a=ot;var rt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&a.focus();break;case"img":rt.src&&(a.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var nt=s.alternate;if(nt!==null){var j=nt.memoizedState;if(j!==null){var _=j.dehydrated;_!==null&&bd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Sj(s)}catch($){W(s,s.return,$)}}if(s===i){V=null;break}if(a=s.sibling,a!==null){a.return=s.return,V=a;break}V=s.return}}function hk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var a=s.sibling;if(a!==null){a.return=s.return,V=a;break}V=s.return}}function kk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Rj(4,s)}catch(rt){W(s,a,rt)}break;case 1:var o=s.stateNode;if(typeof o.componentDidMount=="function"){var it=s.return;try{o.componentDidMount()}catch(rt){W(s,it,rt)}}var tt=s.return;try{Sj(s)}catch(rt){W(s,tt,rt)}break;case 5:var at=s.return;try{Sj(s)}catch(rt){W(s,at,rt)}}}catch(rt){W(s,s.return,rt)}if(s===i){V=null;break}var ot=s.sibling;if(ot!==null){ot.return=s.return,V=ot;break}V=s.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return(K&6)!==0?B():Bk!==-1?Bk:Bk=B()}function lh(i){return(i.mode&1)===0?1:(K&2)!==0&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i)}function mh(i,s,a,o){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(i,a,o),((K&2)===0||i!==R)&&(i===R&&((K&2)===0&&(rk|=a),T===4&&Dk(i,Z)),Ek(i,o),a===1&&K===0&&(s.mode&1)===0&&(Hj=B()+500,fg&&jg()))}function Ek(i,s){var a=i.callbackNode;wc(i,s);var o=uc(i,i===R?Z:0);if(o===0)a!==null&&bc(a),i.callbackNode=null,i.callbackPriority=0;else if(s=o&-o,i.callbackPriority!==s){if(a!=null&&bc(a),s===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){(K&6)===0&&jg()}),a=null;else{switch(Dc(o)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Gk(a,Hk.bind(null,i))}i.callbackPriority=s,i.callbackNode=a}}function Hk(i,s){if(Bk=-1,Ck=0,(K&6)!==0)throw Error(p(327));var a=i.callbackNode;if(Ik()&&i.callbackNode!==a)return null;var o=uc(i,i===R?Z:0);if(o===0)return null;if((o&30)!==0||(o&i.expiredLanes)!==0||s)s=Jk(i,o);else{s=o;var it=K;K|=2;var tt=Kk();(R!==i||Z!==s)&&(vk=null,Hj=B()+500,Lk(i,s));do try{Mk();break}catch(ot){Nk(i,ot)}while(1);Qg(),nk.current=tt,K=it,Y!==null?s=0:(R=null,Z=0,s=T)}if(s!==0){if(s===2&&(it=xc(i),it!==0&&(o=it,s=Ok(i,it))),s===1)throw a=qk,Lk(i,0),Dk(i,o),Ek(i,B()),a;if(s===6)Dk(i,o);else{if(it=i.current.alternate,(o&30)===0&&!Pk(it)&&(s=Jk(i,o),s===2&&(tt=xc(i),tt!==0&&(o=tt,s=Ok(i,tt))),s===1))throw a=qk,Lk(i,0),Dk(i,o),Ek(i,B()),a;switch(i.finishedWork=it,i.finishedLanes=o,s){case 0:case 1:throw Error(p(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,o),(o&130023424)===o&&(s=gk+500-B(),10<s)){if(uc(i,0)!==0)break;if(it=i.suspendedLanes,(it&o)!==o){L(),i.pingedLanes|=i.suspendedLanes&it;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),s);break}Qk(i,uk,vk);break;case 4:if(Dk(i,o),(o&4194240)===o)break;for(s=i.eventTimes,it=-1;0<o;){var at=31-oc(o);tt=1<<at,at=s[at],at>it&&(it=at),o&=~tt}if(o=it,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p(329))}}}return Ek(i,B()),i.callbackNode===a?Hk.bind(null,i):null}function Ok(i,s){var a=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,s).flags|=256),i=Jk(i,s),i!==2&&(s=uk,uk=a,s!==null&&Gj(s)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var s=i;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var it=a[o],tt=it.getSnapshot;it=it.value;try{if(!He(tt(),it))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(i,s){for(s&=~sk,s&=~rk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var a=31-oc(s),o=1<<a;i[a]=-1,s&=~o}}function Fk(i){if((K&6)!==0)throw Error(p(327));Ik();var s=uc(i,0);if((s&1)===0)return Ek(i,B()),null;var a=Jk(i,s);if(i.tag!==0&&a===2){var o=xc(i);o!==0&&(s=o,a=Ok(i,o))}if(a===1)throw a=qk,Lk(i,0),Dk(i,s),Ek(i,B()),a;if(a===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,s){var a=K;K|=1;try{return i(s)}finally{K=a,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&(K&6)===0&&Ik();var s=K;K|=1;var a=pk.transition,o=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=o,pk.transition=a,K=s,(K&6)===0&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,s){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;if(a!==-1&&(i.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var o=a;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}a=a.return}if(R=i,Y=i=wh(i.current,null),Z=gj=s,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(a=Wg[s],o=a.interleaved,o!==null){a.interleaved=null;var it=o.next,tt=a.pending;if(tt!==null){var at=tt.next;tt.next=it,o.next=at}a.pending=o}Wg=null}return i}function Nk(i,s){do{var a=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var it=o.queue;it!==null&&(it.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,a===null||a.return===null){T=1,qk=s,Y=null;break}e:{var tt=i,at=a.return,ot=a,rt=s;if(s=Z,ot.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var nt=rt,j=ot,_=j.tag;if((j.mode&1)===0&&(_===0||_===11||_===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var et=Vi(at);if(et!==null){et.flags&=-257,Wi(et,at,ot,tt,s),et.mode&1&&Ti(tt,nt,s),s=et,rt=nt;var st=s.updateQueue;if(st===null){var lt=new Set;lt.add(rt),s.updateQueue=lt}else st.add(rt);break e}else{if((s&1)===0){Ti(tt,nt,s),uj();break e}rt=Error(p(426))}}else if(I&&ot.mode&1){var ft=Vi(at);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Wi(ft,at,ot,tt,s),Jg(Ki(rt,ot));break e}}tt=rt=Ki(rt,ot),T!==4&&(T=2),tk===null?tk=[tt]:tk.push(tt),tt=at;do{switch(tt.tag){case 3:tt.flags|=65536,s&=-s,tt.lanes|=s;var gt=Oi(tt,rt,s);fh(tt,gt);break e;case 1:ot=rt;var ut=tt.type,pt=tt.stateNode;if((tt.flags&128)===0&&(typeof ut.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Si===null||!Si.has(pt)))){tt.flags|=65536,s&=-s,tt.lanes|=s;var vt=Ri(tt,ot,s);fh(tt,vt);break e}}tt=tt.return}while(tt!==null)}Tk(a)}catch(dt){s=dt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R,Z)}function Jk(i,s){var a=K;K|=2;var o=Kk();(R!==i||Z!==s)&&(vk=null,Lk(i,s));do try{Uk();break}catch(it){Nk(i,it)}while(1);if(Qg(),K=a,nk.current=o,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var s=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,s===null?Tk(i):Y=s,ok.current=null}function Tk(i){var s=i;do{var a=s.alternate;if(i=s.return,(s.flags&32768)===0){if(a=Fj(a,s,gj),a!==null){Y=a;return}}else{if(a=Jj(a,s),a!==null){a.flags&=32767,Y=a;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Qk(i,s,a){var o=C,it=pk.transition;try{pk.transition=null,C=1,Xk(i,s,a,o)}finally{pk.transition=it,C=o}return null}function Xk(i,s,a,o){do Ik();while(xk!==null);if((K&6)!==0)throw Error(p(327));a=i.finishedWork;var it=i.finishedLanes;if(a===null)return null;if(i.finishedWork=null,i.finishedLanes=0,a===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var tt=a.lanes|a.childLanes;if(Bc(i,tt),i===R&&(Y=R=null,Z=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),tt=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||tt){tt=pk.transition,pk.transition=null;var at=C;C=1;var ot=K;K|=4,ok.current=null,Pj(i,a),ek(a,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=a,ik(a),dc(),K=ot,C=at,pk.transition=tt}else i.current=a;if(wk&&(wk=!1,xk=i,yk=it),tt=i.pendingLanes,tt===0&&(Si=null),mc(a.stateNode),Ek(i,B()),s!==null)for(o=i.onRecoverableError,a=0;a<s.length;a++)it=s[a],o(it.value,{componentStack:it.stack,digest:it.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return(yk&1)!==0&&i.tag!==0&&Ik(),tt=i.pendingLanes,(tt&1)!==0?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),s=pk.transition,a=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var o=!1;else{if(i=xk,xk=null,yk=0,(K&6)!==0)throw Error(p(331));var it=K;for(K|=4,V=i.current;V!==null;){var tt=V,at=tt.child;if((V.flags&16)!==0){var ot=tt.deletions;if(ot!==null){for(var rt=0;rt<ot.length;rt++){var nt=ot[rt];for(V=nt;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Qj(8,j,tt)}var _=j.child;if(_!==null)_.return=j,V=_;else for(;V!==null;){j=V;var $=j.sibling,et=j.return;if(Tj(j),j===nt){V=null;break}if($!==null){$.return=et,V=$;break}V=et}}}var st=tt.alternate;if(st!==null){var lt=st.child;if(lt!==null){st.child=null;do{var ft=lt.sibling;lt.sibling=null,lt=ft}while(lt!==null)}}V=tt}}if((tt.subtreeFlags&2064)!==0&&at!==null)at.return=tt,V=at;else e:for(;V!==null;){if(tt=V,(tt.flags&2048)!==0)switch(tt.tag){case 0:case 11:case 15:Qj(9,tt,tt.return)}var gt=tt.sibling;if(gt!==null){gt.return=tt.return,V=gt;break e}V=tt.return}}var ut=i.current;for(V=ut;V!==null;){at=V;var pt=at.child;if((at.subtreeFlags&2064)!==0&&pt!==null)pt.return=at,V=pt;else e:for(at=ut;V!==null;){if(ot=V,(ot.flags&2048)!==0)try{switch(ot.tag){case 0:case 11:case 15:Rj(9,ot)}}catch(dt){W(ot,ot.return,dt)}if(ot===at){V=null;break e}var vt=ot.sibling;if(vt!==null){vt.return=ot.return,V=vt;break e}V=ot.return}}if(K=it,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}o=!0}return o}finally{C=a,pk.transition=s}}return!1}function Yk(i,s,a){s=Ki(a,s),s=Oi(i,s,1),i=dh(i,s,1),s=L(),i!==null&&(Ac(i,1,s),Ek(i,s))}function W(i,s,a){if(i.tag===3)Yk(i,i,a);else for(;s!==null;){if(s.tag===3){Yk(s,i,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){i=Ki(a,i),i=Ri(s,i,1),s=dh(s,i,1),i=L(),s!==null&&(Ac(s,1,i),Ek(s,i));break}}s=s.return}}function Ui(i,s,a){var o=i.pingCache;o!==null&&o.delete(s),s=L(),i.pingedLanes|=i.suspendedLanes&a,R===i&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=a),Ek(i,s)}function Zk(i,s){s===0&&((i.mode&1)===0?s=1:(s=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var a=L();i=Zg(i,s),i!==null&&(Ac(i,s,a),Ek(i,a))}function vj(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Zk(i,a)}function ck(i,s){var a=0;switch(i.tag){case 13:var o=i.stateNode,it=i.memoizedState;it!==null&&(a=it.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(s),Zk(i,a)}var Wk;Wk=function(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)Ug=!0;else{if((i.lanes&a)===0&&(s.flags&128)===0)return Ug=!1,zj(i,s,a);Ug=(i.flags&131072)!==0}else Ug=!1,I&&(s.flags&1048576)!==0&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var o=s.type;jj(i,s),i=s.pendingProps;var it=Yf(s,H.current);Tg(s,a),it=Xh(null,s,o,i,it,a);var tt=bi();return s.flags|=1,typeof it=="object"&&it!==null&&typeof it.render=="function"&&it.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(o)?(tt=!0,cg(s)):tt=!1,s.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,ah(s),it.updater=nh,s.stateNode=it,it._reactInternals=s,rh(s,o,i,a),s=kj(null,s,o,!0,tt,a)):(s.tag=0,I&&tt&&vg(s),Yi(null,s,it,a),s=s.child),s;case 16:o=s.elementType;e:{switch(jj(i,s),i=s.pendingProps,it=o._init,o=it(o._payload),s.type=o,it=s.tag=$k(o),i=Lg(o,i),it){case 0:s=dj(null,s,o,i,a);break e;case 1:s=ij(null,s,o,i,a);break e;case 11:s=Zi(null,s,o,i,a);break e;case 14:s=aj(null,s,o,Lg(o.type,i),a);break e}throw Error(p(306,o,""))}return s;case 0:return o=s.type,it=s.pendingProps,it=s.elementType===o?it:Lg(o,it),dj(i,s,o,it,a);case 1:return o=s.type,it=s.pendingProps,it=s.elementType===o?it:Lg(o,it),ij(i,s,o,it,a);case 3:e:{if(lj(s),i===null)throw Error(p(387));o=s.pendingProps,tt=s.memoizedState,it=tt.element,bh(i,s),gh(s,o,null,a);var at=s.memoizedState;if(o=at.element,tt.isDehydrated)if(tt={element:o,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},s.updateQueue.baseState=tt,s.memoizedState=tt,s.flags&256){it=Ki(Error(p(423)),s),s=mj(i,s,o,a,it);break e}else if(o!==it){it=Ki(Error(p(424)),s),s=mj(i,s,o,a,it);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,a=Ch(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),o===it){s=$i(i,s,a);break e}Yi(i,s,o,a)}s=s.child}return s;case 5:return Kh(s),i===null&&Eg(s),o=s.type,it=s.pendingProps,tt=i!==null?i.memoizedProps:null,at=it.children,Ef(o,it)?at=null:tt!==null&&Ef(o,tt)&&(s.flags|=32),hj(i,s),Yi(i,s,at,a),s.child;case 6:return i===null&&Eg(s),null;case 13:return pj(i,s,a);case 4:return Ih(s,s.stateNode.containerInfo),o=s.pendingProps,i===null?s.child=Bh(s,null,o,a):Yi(i,s,o,a),s.child;case 11:return o=s.type,it=s.pendingProps,it=s.elementType===o?it:Lg(o,it),Zi(i,s,o,it,a);case 7:return Yi(i,s,s.pendingProps,a),s.child;case 8:return Yi(i,s,s.pendingProps.children,a),s.child;case 12:return Yi(i,s,s.pendingProps.children,a),s.child;case 10:e:{if(o=s.type._context,it=s.pendingProps,tt=s.memoizedProps,at=it.value,G(Mg,o._currentValue),o._currentValue=at,tt!==null)if(He(tt.value,at)){if(tt.children===it.children&&!Wf.current){s=$i(i,s,a);break e}}else for(tt=s.child,tt!==null&&(tt.return=s);tt!==null;){var ot=tt.dependencies;if(ot!==null){at=tt.child;for(var rt=ot.firstContext;rt!==null;){if(rt.context===o){if(tt.tag===1){rt=ch(-1,a&-a),rt.tag=2;var nt=tt.updateQueue;if(nt!==null){nt=nt.shared;var j=nt.pending;j===null?rt.next=rt:(rt.next=j.next,j.next=rt),nt.pending=rt}}tt.lanes|=a,rt=tt.alternate,rt!==null&&(rt.lanes|=a),Sg(tt.return,a,s),ot.lanes|=a;break}rt=rt.next}}else if(tt.tag===10)at=tt.type===s.type?null:tt.child;else if(tt.tag===18){if(at=tt.return,at===null)throw Error(p(341));at.lanes|=a,ot=at.alternate,ot!==null&&(ot.lanes|=a),Sg(at,a,s),at=tt.sibling}else at=tt.child;if(at!==null)at.return=tt;else for(at=tt;at!==null;){if(at===s){at=null;break}if(tt=at.sibling,tt!==null){tt.return=at.return,at=tt;break}at=at.return}tt=at}Yi(i,s,it.children,a),s=s.child}return s;case 9:return it=s.type,o=s.pendingProps.children,Tg(s,a),it=Vg(it),o=o(it),s.flags|=1,Yi(i,s,o,a),s.child;case 14:return o=s.type,it=Lg(o,s.pendingProps),it=Lg(o.type,it),aj(i,s,o,it,a);case 15:return cj(i,s,s.type,s.pendingProps,a);case 17:return o=s.type,it=s.pendingProps,it=s.elementType===o?it:Lg(o,it),jj(i,s),s.tag=1,Zf(o)?(i=!0,cg(s)):i=!1,Tg(s,a),ph(s,o,it),rh(s,o,it,a),kj(null,s,o,!0,i,a);case 19:return yj(i,s,a);case 22:return ej(i,s,a)}throw Error(p(156,s.tag))};function Gk(i,s){return ac(i,s)}function al(i,s,a,o){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,a,o){return new al(i,s,a,o)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,s){var a=i.alternate;return a===null?(a=Bg(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&14680064,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a}function yh(i,s,a,o,it,tt){var at=2;if(o=i,typeof i=="function")bj(i)&&(at=1);else if(typeof i=="string")at=5;else e:switch(i){case ya:return Ah(a.children,it,tt,s);case za:at=8,it|=8;break;case Aa:return i=Bg(12,a,s,it|2),i.elementType=Aa,i.lanes=tt,i;case Ea:return i=Bg(13,a,s,it),i.elementType=Ea,i.lanes=tt,i;case Fa:return i=Bg(19,a,s,it),i.elementType=Fa,i.lanes=tt,i;case Ia:return qj(a,it,tt,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,o=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return s=Bg(at,a,s,it),s.elementType=i,s.type=o,s.lanes=tt,s}function Ah(i,s,a,o){return i=Bg(7,i,o,s),i.lanes=a,i}function qj(i,s,a,o){return i=Bg(22,i,o,s),i.elementType=Ia,i.lanes=a,i.stateNode={isHidden:!1},i}function xh(i,s,a){return i=Bg(6,i,null,s),i.lanes=a,i}function zh(i,s,a){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function bl(i,s,a,o,it){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=it,this.mutableSourceEagerHydrationData=null}function cl(i,s,a,o,it,tt,at,ot,rt){return i=new bl(i,s,a,ot,rt),s===1?(s=1,tt===!0&&(s|=8)):s=0,tt=Bg(3,null,null,s),i.current=tt,tt.stateNode=i,tt.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(tt),i}function dl(i,s,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:i,containerInfo:s,implementation:a}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(i.tag===1){var a=i.type;if(Zf(a))return bg(i,a,s)}return s}function fl(i,s,a,o,it,tt,at,ot,rt){return i=cl(a,o,!0,i,it,tt,at,ot,rt),i.context=el(null),a=i.current,o=L(),it=lh(a),tt=ch(o,it),tt.callback=s!=null?s:null,dh(a,tt,it),i.current.lanes=it,Ac(i,it,o),Ek(i,o),i}function gl(i,s,a,o){var it=s.current,tt=L(),at=lh(it);return a=el(a),s.context===null?s.context=a:s.pendingContext=a,s=ch(tt,at),s.payload={element:i},o=o===void 0?null:o,o!==null&&(s.callback=o),i=dh(it,s,at),i!==null&&(mh(i,it,at,tt),eh(i,it,at)),at}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function jl(i,s){il(i,s),(i=i.alternate)&&il(i,s)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p(409));gl(i,s,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Sk(function(){gl(null,i,null,null)}),s[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Qc.length&&s!==0&&s<Qc[a].priority;a++);Qc.splice(a,0,i),a===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,s,a,o,it){if(it){if(typeof o=="function"){var tt=o;o=function(){var nt=hl(at);tt.call(nt)}}var at=fl(s,o,i,0,null,!1,!1,"",ql);return i._reactRootContainer=at,i[uf]=at.current,sf(i.nodeType===8?i.parentNode:i),Sk(),at}for(;it=i.lastChild;)i.removeChild(it);if(typeof o=="function"){var ot=o;o=function(){var nt=hl(rt);ot.call(nt)}}var rt=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=rt,i[uf]=rt.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(s,rt,a,o)}),rt}function sl(i,s,a,o,it){var tt=a._reactRootContainer;if(tt){var at=tt;if(typeof it=="function"){var ot=it;it=function(){var rt=hl(at);ot.call(rt)}}gl(s,at,i,it)}else at=rl(a,s,i,it,o);return hl(at)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var a=tc(s.pendingLanes);a!==0&&(Cc(s,a|1),Ek(s,B()),(K&6)===0&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(i,1);if(o!==null){var it=L();mh(o,i,1,it)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var s=Zg(i,134217728);if(s!==null){var a=L();mh(s,i,134217728,a)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var s=lh(i),a=Zg(i,s);if(a!==null){var o=L();mh(a,i,s,o)}jl(i,s)}};Hc=function(){return C};Ic=function(i,s){var a=C;try{return C=i,s()}finally{C=a}};yb=function(i,s,a){switch(s){case"input":if(bb(i,a),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==i&&o.form===i.form){var it=Db(o);if(!it)throw Error(p(90));Wa(o),bb(o,it)}}}break;case"textarea":ib(i,a);break;case"select":s=a.value,s!=null&&fb(i,!!a.multiple,s,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(p(200));return dl(i,s,null,a)};reactDom_production_min.createRoot=function(i,s){if(!ol(i))throw Error(p(299));var a=!1,o="",it=ll;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(it=s.onRecoverableError)),s=cl(i,1,!1,null,null,a,!1,o,it),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ml(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,s,a){if(!pl(s))throw Error(p(200));return sl(null,i,s,!0,a)};reactDom_production_min.hydrateRoot=function(i,s,a){if(!ol(i))throw Error(p(405));var o=a!=null&&a.hydratedSources||null,it=!1,tt="",at=ll;if(a!=null&&(a.unstable_strictMode===!0&&(it=!0),a.identifierPrefix!==void 0&&(tt=a.identifierPrefix),a.onRecoverableError!==void 0&&(at=a.onRecoverableError)),s=fl(s,null,i,1,a!=null?a:null,it,!1,tt,at),i[uf]=s.current,sf(i),o)for(i=0;i<o.length;i++)a=o[i],it=a._getVersion,it=it(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,it]:s.mutableSourceEagerHydrationData.push(a,it);return new nl(s)};reactDom_production_min.render=function(i,s,a){if(!pl(s))throw Error(p(200));return sl(null,i,s,!1,a)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,a,o){if(!pl(a))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return sl(i,s,a,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(i){function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}s(),i.exports=reactDom_production_min})(reactDom);var[PortalContextProvider,usePortalContext]=createContext$2({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=i=>jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:i.zIndex,top:0,left:0,right:0},children:i.children}),DefaultPortal=i=>{const{appendToParentPortal:s,children:a}=i,[o,it]=react.exports.useState(null),tt=react.exports.useRef(null),[,at]=react.exports.useState({});react.exports.useEffect(()=>at({}),[]);const ot=usePortalContext(),rt=usePortalManager();useSafeLayoutEffect$1(()=>{if(!o)return;const j=o.ownerDocument,_=s&&ot!=null?ot:j.body;if(!_)return;tt.current=j.createElement("div"),tt.current.className=PORTAL_CLASSNAME,_.appendChild(tt.current),at({});const $=tt.current;return()=>{_.contains($)&&_.removeChild($)}},[o]);const nt=rt!=null&&rt.zIndex?jsx(Container,{zIndex:rt==null?void 0:rt.zIndex,children:a}):a;return tt.current?reactDom.exports.createPortal(jsx(PortalContextProvider,{value:tt.current,children:nt}),tt.current):jsx("span",{ref:j=>{j&&it(j)}})},ContainerPortal=i=>{const{children:s,containerRef:a,appendToParentPortal:o}=i,it=a.current,tt=it!=null?it:typeof window<"u"?document.body:void 0,at=react.exports.useMemo(()=>{const rt=it==null?void 0:it.ownerDocument.createElement("div");return rt&&(rt.className=PORTAL_CLASSNAME),rt},[it]),[,ot]=react.exports.useState({});return useSafeLayoutEffect$1(()=>ot({}),[]),useSafeLayoutEffect$1(()=>{if(!(!at||!tt))return tt.appendChild(at),()=>{tt.removeChild(at)}},[at,tt]),tt&&at?reactDom.exports.createPortal(jsx(PortalContextProvider,{value:o?at:null,children:s}),at):null};function Portal(i){const s={appendToParentPortal:!0,...i},{containerRef:a,...o}=s;return a?jsx(ContainerPortal,{containerRef:a,...o}):jsx(DefaultPortal,{...o})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";function useTheme(){const i=react.exports.useContext(ThemeContext);if(!i)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return i}var ColorModeContext=react.exports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const i=react.exports.useContext(ColorModeContext);if(i===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return i}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(i={}){const{preventTransition:s=!0}=i,a={setDataset:o=>{const it=s?a.preventTransition():void 0;document.documentElement.dataset.theme=o,document.documentElement.style.colorScheme=o,it==null||it()},setClassName(o){document.body.classList.add(o?classNames.dark:classNames.light),document.body.classList.remove(o?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(o){var it;return((it=a.query().matches)!=null?it:o==="dark")?"dark":"light"},addListener(o){const it=a.query(),tt=at=>{o(at.matches?"dark":"light")};return typeof it.addListener=="function"?it.addListener(tt):it.addEventListener("change",tt),()=>{typeof it.removeListener=="function"?it.removeListener(tt):it.removeEventListener("change",tt)}},preventTransition(){const o=document.createElement("style");return o.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(o),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(o)})})}}};return a}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(i){return{ssr:!1,type:"localStorage",get(s){if(!(globalThis!=null&&globalThis.document))return s;let a;try{a=localStorage.getItem(i)||s}catch{}return a||s},set(s){try{localStorage.setItem(i,s)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$1=()=>{};function getTheme(i,s){return i.type==="cookie"&&i.ssr?i.get(s):s}function ColorModeProvider(i){const{value:s,children:a,options:{useSystemColorMode:o,initialColorMode:it,disableTransitionOnChange:tt}={},colorModeManager:at=localStorageManager}=i,ot=it==="dark"?"dark":"light",[rt,nt]=react.exports.useState(()=>getTheme(at,ot)),[j,_]=react.exports.useState(()=>getTheme(at)),{getSystemTheme:$,setClassName:et,setDataset:st,addListener:lt}=react.exports.useMemo(()=>getColorModeUtils({preventTransition:tt}),[tt]),ft=it==="system"&&!rt?j:rt,gt=react.exports.useCallback(vt=>{const dt=vt==="system"?$():vt;nt(dt),et(dt==="dark"),st(dt),at.set(dt)},[at,$,et,st]);useSafeLayoutEffect$1(()=>{it==="system"&&_($())},[]),react.exports.useEffect(()=>{const vt=at.get();if(vt){gt(vt);return}if(it==="system"){gt("system");return}gt(ot)},[at,ot,it,gt]);const ut=react.exports.useCallback(()=>{gt(ft==="dark"?"light":"dark")},[ft,gt]);react.exports.useEffect(()=>{if(!!o)return lt(gt)},[o,lt,gt]);const pt=react.exports.useMemo(()=>({colorMode:s!=null?s:ft,toggleColorMode:s?noop$1:ut,setColorMode:s?noop$1:gt,forced:s!==void 0}),[ft,ut,gt,s]);return jsx(ColorModeContext.Provider,{value:pt,children:a})}ColorModeProvider.displayName="ColorModeProvider";function useChakra(){const i=useColorMode(),s=useTheme();return{...i,theme:s}}function getBreakpointValue(i,s,a){var o,it;if(s==null)return s;const tt=at=>{var ot,rt;return(rt=(ot=i.__breakpoints)==null?void 0:ot.asArray)==null?void 0:rt[at]};return(it=(o=tt(s))!=null?o:tt(a))!=null?it:a}function getTokenValue(i,s,a){var o,it;if(s==null)return s;const tt=at=>{var ot,rt;return(rt=(ot=i.__cssMap)==null?void 0:ot[at])==null?void 0:rt.value};return(it=(o=tt(s))!=null?o:tt(a))!=null?it:a}function getToken(i,s,a){const o=Array.isArray(s)?s:[s],it=Array.isArray(a)?a:[a];return tt=>{const at=it.filter(Boolean),ot=o.map((rt,nt)=>{var j,_;if(i==="breakpoints")return getBreakpointValue(tt,rt,(j=at[nt])!=null?j:rt);const $=`${i}.${rt}`;return getTokenValue(tt,$,(_=at[nt])!=null?_:rt)});return Array.isArray(s)?ot:ot[0]}}var cx=(...i)=>i.filter(Boolean).join(" ");function isObject$2(i){const s=typeof i;return i!=null&&(s==="object"||s==="function")&&!Array.isArray(i)}function runIfFn$2(i,...s){return isFunction$4(i)?i(...s):i}var isFunction$4=i=>typeof i=="function",dataAttr=i=>i?"":void 0,ariaAttr=i=>i?!0:void 0;function callAllHandlers$1(...i){return function(a){i.some(o=>(o==null||o(a),a==null?void 0:a.defaultPrevented))}}function callAll(...i){return function(a){i.forEach(o=>{o==null||o(a)})}}var lodash_mergewith={exports:{}};(function(i,s){var a=200,o="__lodash_hash_undefined__",it=800,tt=16,at=9007199254740991,ot="[object Arguments]",rt="[object Array]",nt="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",et="[object Function]",st="[object GeneratorFunction]",lt="[object Map]",ft="[object Number]",gt="[object Null]",ut="[object Object]",pt="[object Proxy]",vt="[object RegExp]",dt="[object Set]",mt="[object String]",Tt="[object Undefined]",yt="[object WeakMap]",ht="[object ArrayBuffer]",xt="[object DataView]",wt="[object Float32Array]",kt="[object Float64Array]",Ct="[object Int8Array]",Rt="[object Int16Array]",Lt="[object Int32Array]",Mt="[object Uint8Array]",Wt="[object Uint8ClampedArray]",Pt="[object Uint16Array]",Ot="[object Uint32Array]",Xt=/[\\^$.*+?()[\]{}|]/g,rn=/^\[object .+?Constructor\]$/,jt=/^(?:0|[1-9]\d*)$/,Vt={};Vt[wt]=Vt[kt]=Vt[Ct]=Vt[Rt]=Vt[Lt]=Vt[Mt]=Vt[Wt]=Vt[Pt]=Vt[Ot]=!0,Vt[ot]=Vt[rt]=Vt[ht]=Vt[j]=Vt[xt]=Vt[_]=Vt[$]=Vt[et]=Vt[lt]=Vt[ft]=Vt[ut]=Vt[vt]=Vt[dt]=Vt[mt]=Vt[yt]=!1;var en=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ln=typeof self=="object"&&self&&self.Object===Object&&self,nn=en||ln||Function("return this")(),_n=s&&!s.nodeType&&s,fn=_n&&!0&&i&&!i.nodeType&&i,wn=fn&&fn.exports===_n,xn=wn&&en.process,qt=function(){try{var zt=fn&&fn.require&&fn.require("util").types;return zt||xn&&xn.binding&&xn.binding("util")}catch{}}(),Qt=qt&&qt.isTypedArray;function Gt(zt,sn,vn){switch(vn.length){case 0:return zt.call(sn);case 1:return zt.call(sn,vn[0]);case 2:return zt.call(sn,vn[0],vn[1]);case 3:return zt.call(sn,vn[0],vn[1],vn[2])}return zt.apply(sn,vn)}function cn(zt,sn){for(var vn=-1,Ln=Array(zt);++vn<zt;)Ln[vn]=sn(vn);return Ln}function kn(zt){return function(sn){return zt(sn)}}function dn(zt,sn){return zt==null?void 0:zt[sn]}function qn(zt,sn){return function(vn){return zt(sn(vn))}}var ur=Array.prototype,cr=Function.prototype,Mr=Object.prototype,En=nn["__core-js_shared__"],Kn=cr.toString,Nn=Mr.hasOwnProperty,dr=function(){var zt=/[^.]+$/.exec(En&&En.keys&&En.keys.IE_PROTO||"");return zt?"Symbol(src)_1."+zt:""}(),Hn=Mr.toString,Tr=Kn.call(Object),or=RegExp("^"+Kn.call(Nn).replace(Xt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wn=wn?nn.Buffer:void 0,xr=nn.Symbol,Ut=nn.Uint8Array,an=Wn?Wn.allocUnsafe:void 0,hn=qn(Object.getPrototypeOf,Object),On=Object.create,Gn=Mr.propertyIsEnumerable,Pn=ur.splice,$n=xr?xr.toStringTag:void 0,Yn=function(){try{var zt=Ur(Object,"defineProperty");return zt({},"",{}),zt}catch{}}(),lr=Wn?Wn.isBuffer:void 0,Mn=Math.max,Zn=Date.now,Vn=Ur(nn,"Map"),er=Ur(Object,"create"),jn=function(){function zt(){}return function(sn){if(!Es(sn))return{};if(On)return On(sn);zt.prototype=sn;var vn=new zt;return zt.prototype=void 0,vn}}();function zn(zt){var sn=-1,vn=zt==null?0:zt.length;for(this.clear();++sn<vn;){var Ln=zt[sn];this.set(Ln[0],Ln[1])}}function yr(){this.__data__=er?er(null):{},this.size=0}function ls(zt){var sn=this.has(zt)&&delete this.__data__[zt];return this.size-=sn?1:0,sn}function Jr(zt){var sn=this.__data__;if(er){var vn=sn[zt];return vn===o?void 0:vn}return Nn.call(sn,zt)?sn[zt]:void 0}function _s(zt){var sn=this.__data__;return er?sn[zt]!==void 0:Nn.call(sn,zt)}function Rs(zt,sn){var vn=this.__data__;return this.size+=this.has(zt)?0:1,vn[zt]=er&&sn===void 0?o:sn,this}zn.prototype.clear=yr,zn.prototype.delete=ls,zn.prototype.get=Jr,zn.prototype.has=_s,zn.prototype.set=Rs;function Yr(zt){var sn=-1,vn=zt==null?0:zt.length;for(this.clear();++sn<vn;){var Ln=zt[sn];this.set(Ln[0],Ln[1])}}function Is(){this.__data__=[],this.size=0}function Zs(zt){var sn=this.__data__,vn=jr(sn,zt);if(vn<0)return!1;var Ln=sn.length-1;return vn==Ln?sn.pop():Pn.call(sn,vn,1),--this.size,!0}function Ls(zt){var sn=this.__data__,vn=jr(sn,zt);return vn<0?void 0:sn[vn][1]}function Js(zt){return jr(this.__data__,zt)>-1}function zs(zt,sn){var vn=this.__data__,Ln=jr(vn,zt);return Ln<0?(++this.size,vn.push([zt,sn])):vn[Ln][1]=sn,this}Yr.prototype.clear=Is,Yr.prototype.delete=Zs,Yr.prototype.get=Ls,Yr.prototype.has=Js,Yr.prototype.set=zs;function qr(zt){var sn=-1,vn=zt==null?0:zt.length;for(this.clear();++sn<vn;){var Ln=zt[sn];this.set(Ln[0],Ln[1])}}function na(){this.size=0,this.__data__={hash:new zn,map:new(Vn||Yr),string:new zn}}function tr(zt){var sn=Er(this,zt).delete(zt);return this.size-=sn?1:0,sn}function rs(zt){return Er(this,zt).get(zt)}function Ms(zt){return Er(this,zt).has(zt)}function ga(zt,sn){var vn=Er(this,zt),Ln=vn.size;return vn.set(zt,sn),this.size+=vn.size==Ln?0:1,this}qr.prototype.clear=na,qr.prototype.delete=tr,qr.prototype.get=rs,qr.prototype.has=Ms,qr.prototype.set=ga;function Wr(zt){var sn=this.__data__=new Yr(zt);this.size=sn.size}function fo(){this.__data__=new Yr,this.size=0}function no(zt){var sn=this.__data__,vn=sn.delete(zt);return this.size=sn.size,vn}function ro(zt){return this.__data__.get(zt)}function po(zt){return this.__data__.has(zt)}function Us(zt,sn){var vn=this.__data__;if(vn instanceof Yr){var Ln=vn.__data__;if(!Vn||Ln.length<a-1)return Ln.push([zt,sn]),this.size=++vn.size,this;vn=this.__data__=new qr(Ln)}return vn.set(zt,sn),this.size=vn.size,this}Wr.prototype.clear=fo,Wr.prototype.delete=no,Wr.prototype.get=ro,Wr.prototype.has=po,Wr.prototype.set=Us;function hs(zt,sn){var vn=Fs(zt),Ln=!vn&&_i(zt),ir=!vn&&!Ln&&Wo(zt),vr=!vn&&!Ln&&!ir&&oo(zt),sr=vn||Ln||ir||vr,Jn=sr?cn(zt.length,String):[],br=Jn.length;for(var Br in zt)(sn||Nn.call(zt,Br))&&!(sr&&(Br=="length"||ir&&(Br=="offset"||Br=="parent")||vr&&(Br=="buffer"||Br=="byteLength"||Br=="byteOffset")||$t(Br,br)))&&Jn.push(Br);return Jn}function us(zt,sn,vn){(vn!==void 0&&!Ts(zt[sn],vn)||vn===void 0&&!(sn in zt))&&Ps(zt,sn,vn)}function nr(zt,sn,vn){var Ln=zt[sn];(!(Nn.call(zt,sn)&&Ts(Ln,vn))||vn===void 0&&!(sn in zt))&&Ps(zt,sn,vn)}function jr(zt,sn){for(var vn=zt.length;vn--;)if(Ts(zt[vn][0],sn))return vn;return-1}function Ps(zt,sn,vn){sn=="__proto__"&&Yn?Yn(zt,sn,{configurable:!0,enumerable:!0,value:vn,writable:!0}):zt[sn]=vn}var Ws=rr();function gr(zt){return zt==null?zt===void 0?Tt:gt:$n&&$n in Object(zt)?ss(zt):Dn(zt)}function Ss(zt){return ao(zt)&&gr(zt)==ot}function xa(zt){if(!Es(zt)||tn(zt))return!1;var sn=mo(zt)?or:rn;return sn.test(ws(zt))}function is(zt){return ao(zt)&&jo(zt.length)&&!!Vt[gr(zt)]}function io(zt){if(!Es(zt))return Sn(zt);var sn=yn(zt),vn=[];for(var Ln in zt)Ln=="constructor"&&(sn||!Nn.call(zt,Ln))||vn.push(Ln);return vn}function so(zt,sn,vn,Ln,ir){zt!==sn&&Ws(sn,function(vr,sr){if(ir||(ir=new Wr),Es(vr))js(zt,sn,sr,vn,so,Ln,ir);else{var Jn=Ln?Ln(hr(zt,sr),vr,sr+"",zt,sn,ir):void 0;Jn===void 0&&(Jn=vr),us(zt,sr,Jn)}},Ko)}function js(zt,sn,vn,Ln,ir,vr,sr){var Jn=hr(zt,vn),br=hr(sn,vn),Br=sr.get(br);if(Br){us(zt,vn,Br);return}var Lr=vr?vr(Jn,br,vn+"",zt,sn,sr):void 0,Pr=Lr===void 0;if(Pr){var es=Fs(br),gs=!es&&Wo(br),ys=!es&&!gs&&oo(br);Lr=br,es||gs||ys?Fs(Jn)?Lr=Jn:ms(Jn)?Lr=bn(Jn):gs?(Pr=!1,Lr=Dt(br,!0)):ys?(Pr=!1,Lr=Zt(br,!0)):Lr=[]:Ho(br)||_i(br)?(Lr=Jn,_i(Jn)?Lr=Go(Jn):(!Es(Jn)||mo(Jn))&&(Lr=_t(br))):Pr=!1}Pr&&(sr.set(br,Lr),ir(Lr,br,Ln,vr,sr),sr.delete(br)),us(zt,vn,Lr)}function St(zt,sn){return _r(Bn(zt,sn,Jt),zt+"")}var At=Yn?function(zt,sn){return Yn(zt,"toString",{configurable:!0,enumerable:!1,value:Dr(sn),writable:!0})}:Jt;function Dt(zt,sn){if(sn)return zt.slice();var vn=zt.length,Ln=an?an(vn):new zt.constructor(vn);return zt.copy(Ln),Ln}function Kt(zt){var sn=new zt.constructor(zt.byteLength);return new Ut(sn).set(new Ut(zt)),sn}function Zt(zt,sn){var vn=sn?Kt(zt.buffer):zt.buffer;return new zt.constructor(vn,zt.byteOffset,zt.length)}function bn(zt,sn){var vn=-1,Ln=zt.length;for(sn||(sn=Array(Ln));++vn<Ln;)sn[vn]=zt[vn];return sn}function Cn(zt,sn,vn,Ln){var ir=!vn;vn||(vn={});for(var vr=-1,sr=sn.length;++vr<sr;){var Jn=sn[vr],br=Ln?Ln(vn[Jn],zt[Jn],Jn,vn,zt):void 0;br===void 0&&(br=zt[Jn]),ir?Ps(vn,Jn,br):nr(vn,Jn,br)}return vn}function Un(zt){return St(function(sn,vn){var Ln=-1,ir=vn.length,vr=ir>1?vn[ir-1]:void 0,sr=ir>2?vn[2]:void 0;for(vr=zt.length>3&&typeof vr=="function"?(ir--,vr):void 0,sr&&Ft(vn[0],vn[1],sr)&&(vr=ir<3?void 0:vr,ir=1),sn=Object(sn);++Ln<ir;){var Jn=vn[Ln];Jn&&zt(sn,Jn,Ln,vr)}return sn})}function rr(zt){return function(sn,vn,Ln){for(var ir=-1,vr=Object(sn),sr=Ln(sn),Jn=sr.length;Jn--;){var br=sr[zt?Jn:++ir];if(vn(vr[br],br,vr)===!1)break}return sn}}function Er(zt,sn){var vn=zt.__data__;return Bt(sn)?vn[typeof sn=="string"?"string":"hash"]:vn.map}function Ur(zt,sn){var vn=dn(zt,sn);return xa(vn)?vn:void 0}function ss(zt){var sn=Nn.call(zt,$n),vn=zt[$n];try{zt[$n]=void 0;var Ln=!0}catch{}var ir=Hn.call(zt);return Ln&&(sn?zt[$n]=vn:delete zt[$n]),ir}function _t(zt){return typeof zt.constructor=="function"&&!yn(zt)?jn(hn(zt)):{}}function $t(zt,sn){var vn=typeof zt;return sn=sn==null?at:sn,!!sn&&(vn=="number"||vn!="symbol"&&jt.test(zt))&&zt>-1&&zt%1==0&&zt<sn}function Ft(zt,sn,vn){if(!Es(vn))return!1;var Ln=typeof sn;return(Ln=="number"?ps(vn)&&$t(sn,vn.length):Ln=="string"&&sn in vn)?Ts(vn[sn],zt):!1}function Bt(zt){var sn=typeof zt;return sn=="string"||sn=="number"||sn=="symbol"||sn=="boolean"?zt!=="__proto__":zt===null}function tn(zt){return!!dr&&dr in zt}function yn(zt){var sn=zt&&zt.constructor,vn=typeof sn=="function"&&sn.prototype||Mr;return zt===vn}function Sn(zt){var sn=[];if(zt!=null)for(var vn in Object(zt))sn.push(vn);return sn}function Dn(zt){return Hn.call(zt)}function Bn(zt,sn,vn){return sn=Mn(sn===void 0?zt.length-1:sn,0),function(){for(var Ln=arguments,ir=-1,vr=Mn(Ln.length-sn,0),sr=Array(vr);++ir<vr;)sr[ir]=Ln[sn+ir];ir=-1;for(var Jn=Array(sn+1);++ir<sn;)Jn[ir]=Ln[ir];return Jn[sn]=vn(sr),Gt(zt,this,Jn)}}function hr(zt,sn){if(!(sn==="constructor"&&typeof zt[sn]=="function")&&sn!="__proto__")return zt[sn]}var _r=Gr(At);function Gr(zt){var sn=0,vn=0;return function(){var Ln=Zn(),ir=tt-(Ln-vn);if(vn=Ln,ir>0){if(++sn>=it)return arguments[0]}else sn=0;return zt.apply(void 0,arguments)}}function ws(zt){if(zt!=null){try{return Kn.call(zt)}catch{}try{return zt+""}catch{}}return""}function Ts(zt,sn){return zt===sn||zt!==zt&&sn!==sn}var _i=Ss(function(){return arguments}())?Ss:function(zt){return ao(zt)&&Nn.call(zt,"callee")&&!Gn.call(zt,"callee")},Fs=Array.isArray;function ps(zt){return zt!=null&&jo(zt.length)&&!mo(zt)}function ms(zt){return ao(zt)&&ps(zt)}var Wo=lr||pn;function mo(zt){if(!Es(zt))return!1;var sn=gr(zt);return sn==et||sn==st||sn==nt||sn==pt}function jo(zt){return typeof zt=="number"&&zt>-1&&zt%1==0&&zt<=at}function Es(zt){var sn=typeof zt;return zt!=null&&(sn=="object"||sn=="function")}function ao(zt){return zt!=null&&typeof zt=="object"}function Ho(zt){if(!ao(zt)||gr(zt)!=ut)return!1;var sn=hn(zt);if(sn===null)return!0;var vn=Nn.call(sn,"constructor")&&sn.constructor;return typeof vn=="function"&&vn instanceof vn&&Kn.call(vn)==Tr}var oo=Qt?kn(Qt):is;function Go(zt){return Cn(zt,Ko(zt))}function Ko(zt){return ps(zt)?hs(zt,!0):io(zt)}var Nr=Un(function(zt,sn,vn,Ln){so(zt,sn,vn,Ln)});function Dr(zt){return function(){return zt}}function Jt(zt){return zt}function pn(){return!1}i.exports=Nr})(lodash_mergewith,lodash_mergewith.exports);const mergeWith=lodash_mergewith.exports;var isImportant=i=>/!(important)?$/.test(i),withoutImportant=i=>typeof i=="string"?i.replace(/!(important)?$/,"").trim():i,tokenToCSSVar=(i,s)=>a=>{const o=String(s),it=isImportant(o),tt=withoutImportant(o),at=i?`${i}.${tt}`:tt;let ot=isObject$2(a.__cssMap)&&at in a.__cssMap?a.__cssMap[at].varRef:s;return ot=withoutImportant(ot),it?`${ot} !important`:ot};function createTransform(i){const{scale:s,transform:a,compose:o}=i;return(tt,at)=>{var ot;const rt=tokenToCSSVar(s,tt)(at);let nt=(ot=a==null?void 0:a(rt,at))!=null?ot:rt;return o&&(nt=o(nt,at)),nt}}var pipe$2=(...i)=>s=>i.reduce((a,o)=>o(a),s);function toConfig(i,s){return a=>{const o={property:a,scale:i};return o.transform=createTransform({scale:i,transform:s}),o}}var getRtl=({rtl:i,ltr:s})=>a=>a.direction==="rtl"?i:s;function logical(i){const{property:s,scale:a,transform:o}=i;return{scale:a,property:getRtl(s),transform:a?createTransform({scale:a,compose:o}):o}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(i){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":i,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},owlSelector="& > :not(style) ~ :not(style)",spaceXTemplate={[owlSelector]:{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}},spaceYTemplate={[owlSelector]:{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=i=>i.trim();function parseGradient(i,s){var a,o;if(i==null||globalSet.has(i))return i;const it=/(?<type>^[a-z-A-Z]+)\((?<values>(.*))\)/g,{type:tt,values:at}=(o=(a=it.exec(i))==null?void 0:a.groups)!=null?o:{};if(!tt||!at)return i;const ot=tt.includes("-gradient")?tt:`${tt}-gradient`,[rt,...nt]=at.split(",").map(trimSpace).filter(Boolean);if((nt==null?void 0:nt.length)===0)return i;const j=rt in directionMap?directionMap[rt]:rt;nt.unshift(j);const _=nt.map($=>{if(valueSet.has($))return $;const et=$.indexOf(" "),[st,lt]=et!==-1?[$.substr(0,et),$.substr(et+1)]:[$],ft=isCSSFunction(lt)?lt:lt&&lt.split(" "),gt=`colors.${st}`,ut=gt in s.__cssMap?s.__cssMap[gt].varRef:st;return ft?[ut,...Array.isArray(ft)?ft:[ft]].join(" "):ut});return`${ot}(${_.join(", ")})`}var isCSSFunction=i=>typeof i=="string"&&i.includes("(")&&i.includes(")"),gradientTransform=(i,s)=>parseGradient(i,s!=null?s:{});function isCssVar(i){return/^var\(--.+\)$/.test(i)}var analyzeCSSValue=i=>{const s=parseFloat(i.toString()),a=i.toString().replace(String(s),"");return{unitless:!a,value:s,unit:a}},wrap=i=>s=>`${i}(${s})`,transformFunctions={filter(i){return i!=="auto"?i:filterTemplate},backdropFilter(i){return i!=="auto"?i:backdropFilterTemplate},ring(i){return getRingTemplate(transformFunctions.px(i))},bgClip(i){return i==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:i}},transform(i){return i==="auto"?getTransformTemplate():i==="auto-gpu"?getTransformGpuTemplate():i},vh(i){return i==="$100vh"?"var(--chakra-vh)":i},px(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue(i);return s||typeof i=="number"?`${i}px`:i},fraction(i){return typeof i!="number"||i>1?i:`${i*100}%`},float(i,s){const a={left:"right",right:"left"};return s.direction==="rtl"?a[i]:i},degree(i){if(isCssVar(i)||i==null)return i;const s=typeof i=="string"&&!i.endsWith("deg");return typeof i=="number"||s?`${i}deg`:i},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:wrap("hue-rotate"),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(i){return i==null||isCSSFunction(i)||globalSet.has(i)?i:`url(${i})`},outline(i){const s=String(i)==="0"||String(i)==="none";return i!==null&&s?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:i}},flexDirection(i){var s;const{space:a,divide:o}=(s=flexDirectionTemplate[i])!=null?s:{},it={flexDirection:i};return a&&(it[a]=1),o&&(it[o]=1),it}},t={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(i){return{property:i,transform:transformFunctions.degree}},prop(i,s,a){return{property:i,scale:s,...s&&{transform:createTransform({scale:s,transform:a})}}},propT(i,s){return{property:i,transform:s}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t.colors("background"),backgroundColor:t.colors("backgroundColor"),backgroundImage:t.propT("backgroundImage",transformFunctions.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t.prop("backgroundSize"),bgPosition:t.prop("backgroundPosition"),bg:t.colors("background"),bgColor:t.colors("backgroundColor"),bgPos:t.prop("backgroundPosition"),bgRepeat:t.prop("backgroundRepeat"),bgAttachment:t.prop("backgroundAttachment"),bgGradient:t.propT("backgroundImage",transformFunctions.gradient),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t.borders("border"),borderWidth:t.borderWidths("borderWidth"),borderStyle:t.borderStyles("borderStyle"),borderColor:t.colors("borderColor"),borderRadius:t.radii("borderRadius"),borderTop:t.borders("borderTop"),borderBlockStart:t.borders("borderBlockStart"),borderTopLeftRadius:t.radii("borderTopLeftRadius"),borderStartStartRadius:t.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t.radii("borderTopRightRadius"),borderStartEndRadius:t.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t.borders("borderRight"),borderInlineEnd:t.borders("borderInlineEnd"),borderBottom:t.borders("borderBottom"),borderBlockEnd:t.borders("borderBlockEnd"),borderBottomLeftRadius:t.radii("borderBottomLeftRadius"),borderBottomRightRadius:t.radii("borderBottomRightRadius"),borderLeft:t.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t.borders(["borderLeft","borderRight"]),borderInline:t.borders("borderInline"),borderY:t.borders(["borderTop","borderBottom"]),borderBlock:t.borders("borderBlock"),borderTopWidth:t.borderWidths("borderTopWidth"),borderBlockStartWidth:t.borderWidths("borderBlockStartWidth"),borderTopColor:t.colors("borderTopColor"),borderBlockStartColor:t.colors("borderBlockStartColor"),borderTopStyle:t.borderStyles("borderTopStyle"),borderBlockStartStyle:t.borderStyles("borderBlockStartStyle"),borderBottomWidth:t.borderWidths("borderBottomWidth"),borderBlockEndWidth:t.borderWidths("borderBlockEndWidth"),borderBottomColor:t.colors("borderBottomColor"),borderBlockEndColor:t.colors("borderBlockEndColor"),borderBottomStyle:t.borderStyles("borderBottomStyle"),borderBlockEndStyle:t.borderStyles("borderBlockEndStyle"),borderLeftWidth:t.borderWidths("borderLeftWidth"),borderInlineStartWidth:t.borderWidths("borderInlineStartWidth"),borderLeftColor:t.colors("borderLeftColor"),borderInlineStartColor:t.colors("borderInlineStartColor"),borderLeftStyle:t.borderStyles("borderLeftStyle"),borderInlineStartStyle:t.borderStyles("borderInlineStartStyle"),borderRightWidth:t.borderWidths("borderRightWidth"),borderInlineEndWidth:t.borderWidths("borderInlineEndWidth"),borderRightColor:t.colors("borderRightColor"),borderInlineEndColor:t.colors("borderInlineEndColor"),borderRightStyle:t.borderStyles("borderRightStyle"),borderInlineEndStyle:t.borderStyles("borderInlineEndStyle"),borderTopRadius:t.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$1={color:t.colors("color"),textColor:t.colors("color"),fill:t.colors("fill"),stroke:t.colors("stroke")},effect={boxShadow:t.shadows("boxShadow"),mixBlendMode:!0,blendMode:t.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});var filter$2={filter:{transform:transformFunctions.filter},blur:t.blur("--chakra-blur"),brightness:t.propT("--chakra-brightness",transformFunctions.brightness),contrast:t.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t.degreeT("--chakra-hue-rotate"),invert:t.propT("--chakra-invert",transformFunctions.invert),saturate:t.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t.blur("--chakra-backdrop-blur"),backdropBrightness:t.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:t.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},experimental_spaceX:{static:spaceXTemplate,transform:createTransform({scale:"space",transform:i=>i!==null?{"--chakra-space-x":i}:null})},experimental_spaceY:{static:spaceYTemplate,transform:createTransform({scale:"space",transform:i=>i!=null?{"--chakra-space-y":i}:null})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t.space("gap"),rowGap:t.space("rowGap"),columnGap:t.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t.space("gridGap"),gridColumnGap:t.space("gridColumnGap"),gridRowGap:t.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t.colors("outlineColor")},layout={width:t.sizesT("width"),inlineSize:t.sizesT("inlineSize"),height:t.sizes("height"),blockSize:t.sizes("blockSize"),boxSize:t.sizes(["width","height"]),minWidth:t.sizes("minWidth"),minInlineSize:t.sizes("minInlineSize"),minHeight:t.sizes("minHeight"),minBlockSize:t.sizes("minBlockSize"),maxWidth:t.sizes("maxWidth"),maxInlineSize:t.sizes("maxInlineSize"),maxHeight:t.sizes("maxHeight"),maxBlockSize:t.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout,{w:layout.width,h:layout.height,minW:layout.minWidth,maxW:layout.maxWidth,minH:layout.minHeight,maxH:layout.maxHeight,overscroll:layout.overscrollBehavior,overscrollX:layout.overscrollBehaviorX,overscrollY:layout.overscrollBehaviorY});var list$2={listStyleType:!0,listStylePosition:!0,listStylePos:t.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t.prop("listStyleImage")};function get$3(i,s,a,o){const it=typeof s=="string"?s.split("."):[s];for(o=0;o<it.length&&i;o+=1)i=i[it[o]];return i===void 0?a:i}var memoize$2=i=>{const s=new WeakMap;return(o,it,tt,at)=>{if(typeof o>"u")return i(o,it,tt);s.has(o)||s.set(o,new Map);const ot=s.get(o);if(ot.has(it))return ot.get(it);const rt=i(o,it,tt,at);return ot.set(it,rt),rt}},memoizedGet$1=memoize$2(get$3),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(i,s,a)=>{const o={},it=memoizedGet$1(i,s,{});for(const tt in it)tt in a&&a[tt]!=null||(o[tt]=it[tt]);return o},others={srOnly:{transform(i){return i===!0?srOnly:i==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,`layerStyles.${i}`,a)},textStyle:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,`textStyles.${i}`,a)},apply:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,i,a)}},position={position:!0,pos:t.prop("position"),zIndex:t.prop("zIndex","zIndices"),inset:t.spaceT("inset"),insetX:t.spaceT(["left","right"]),insetInline:t.spaceT("insetInline"),insetY:t.spaceT(["top","bottom"]),insetBlock:t.spaceT("insetBlock"),top:t.spaceT("top"),insetBlockStart:t.spaceT("insetBlockStart"),bottom:t.spaceT("bottom"),insetBlockEnd:t.spaceT("insetBlockEnd"),left:t.spaceT("left"),insetInlineStart:t.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t.spaceT("right"),insetInlineEnd:t.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position,{insetStart:position.insetInlineStart,insetEnd:position.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t.colors("--chakra-ring-color"),ringOffset:t.prop("--chakra-ring-offset-width"),ringOffsetColor:t.colors("--chakra-ring-offset-color"),ringInset:t.prop("--chakra-ring-inset")},space={margin:t.spaceT("margin"),marginTop:t.spaceT("marginTop"),marginBlockStart:t.spaceT("marginBlockStart"),marginRight:t.spaceT("marginRight"),marginInlineEnd:t.spaceT("marginInlineEnd"),marginBottom:t.spaceT("marginBottom"),marginBlockEnd:t.spaceT("marginBlockEnd"),marginLeft:t.spaceT("marginLeft"),marginInlineStart:t.spaceT("marginInlineStart"),marginX:t.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t.spaceT("marginInline"),marginY:t.spaceT(["marginTop","marginBottom"]),marginBlock:t.spaceT("marginBlock"),padding:t.space("padding"),paddingTop:t.space("paddingTop"),paddingBlockStart:t.space("paddingBlockStart"),paddingRight:t.space("paddingRight"),paddingBottom:t.space("paddingBottom"),paddingBlockEnd:t.space("paddingBlockEnd"),paddingLeft:t.space("paddingLeft"),paddingInlineStart:t.space("paddingInlineStart"),paddingInlineEnd:t.space("paddingInlineEnd"),paddingX:t.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t.space("paddingInline"),paddingY:t.space(["paddingTop","paddingBottom"]),paddingBlock:t.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t.shadows("textShadow")},transform={clipPath:!0,transform:t.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t.spaceT("--chakra-translate-x"),translateY:t.spaceT("--chakra-translate-y"),skewX:t.degreeT("--chakra-skew-x"),skewY:t.degreeT("--chakra-skew-y"),scaleX:t.prop("--chakra-scale-x"),scaleY:t.prop("--chakra-scale-y"),scale:t.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t.prop("transitionDuration","transition.duration"),transitionProperty:t.prop("transitionProperty","transition.property"),transitionTimingFunction:t.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t.prop("fontFamily","fonts"),fontSize:t.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t.prop("fontWeight","fontWeights"),lineHeight:t.prop("lineHeight","lineHeights"),letterSpacing:t.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(i){if(i===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t.spaceT("scrollMargin"),scrollMarginTop:t.spaceT("scrollMarginTop"),scrollMarginBottom:t.spaceT("scrollMarginBottom"),scrollMarginLeft:t.spaceT("scrollMarginLeft"),scrollMarginRight:t.spaceT("scrollMarginRight"),scrollMarginX:t.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t.spaceT("scrollPadding"),scrollPaddingTop:t.spaceT("scrollPaddingTop"),scrollPaddingBottom:t.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t.spaceT("scrollPaddingLeft"),scrollPaddingRight:t.spaceT("scrollPaddingRight"),scrollPaddingX:t.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpression=(i,...s)=>s.map(resolveReference).join(` ${i} `).replace(/calc/g,""),add$1=(...i)=>`calc(${toExpression("+",...i)})`,subtract$1=(...i)=>`calc(${toExpression("-",...i)})`,multiply$1=(...i)=>`calc(${toExpression("*",...i)})`,divide$1=(...i)=>`calc(${toExpression("/",...i)})`,negate$1=i=>{const s=resolveReference(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$1(s,-1)},calc$1=Object.assign(i=>({add:(...s)=>calc$1(add$1(i,...s)),subtract:(...s)=>calc$1(subtract$1(i,...s)),multiply:(...s)=>calc$1(multiply$1(i,...s)),divide:(...s)=>calc$1(divide$1(i,...s)),negate:()=>calc$1(negate$1(i)),toString:()=>i.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(i,s="-"){return i.replace(/\s+/g,s)}function escape$1(i){const s=replaceWhiteSpace$1(i.toString());return escapeSymbol(escapeDot(s))}function escapeDot(i){return i.includes("\\.")?i:!Number.isInteger(parseFloat(i.toString()))?i.replace(".","\\."):i}function escapeSymbol(i){return i.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(i,s=""){return[s,i].filter(Boolean).join("-")}function toVarReference(i,s){return`var(${i}${s?`, ${s}`:""})`}function toVarDefinition(i,s=""){return escape$1(`--${addPrefix$1(i,s)}`)}function cssVar$1(i,s,a){const o=toVarDefinition(i,a);return{variable:o,reference:toVarReference(o,s)}}function getLastItem(i){const s=i==null?0:i.length;return s?i[s-1]:void 0}function analyzeCSSValue2(i){const s=parseFloat(i.toString()),a=i.toString().replace(String(s),"");return{unitless:!a,value:s,unit:a}}function px$1(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue2(i);return s||typeof i=="number"?`${i}px`:i}var sortByBreakpointValue=(i,s)=>parseInt(i[1],10)>parseInt(s[1],10)?1:-1,sortBps=i=>Object.fromEntries(Object.entries(i).sort(sortByBreakpointValue));function normalize(i){const s=sortBps(i);return Object.assign(Object.values(s),s)}function keys(i){const s=Object.keys(sortBps(i));return new Set(s)}function subtract2(i){var s;if(!i)return i;i=(s=px$1(i))!=null?s:i;const a=-.02;return typeof i=="number"?`${i+a}`:i.replace(/(\d+\.?\d*)/u,o=>`${parseFloat(o)+a}`)}function toMediaQueryString(i,s){const a=["@media screen"];return i&&a.push("and",`(min-width: ${px$1(i)})`),s&&a.push("and",`(max-width: ${px$1(s)})`),a.join(" ")}function analyzeBreakpoints(i){var s;if(!i)return null;i.base=(s=i.base)!=null?s:"0px";const a=normalize(i),o=Object.entries(i).sort(sortByBreakpointValue).map(([at,ot],rt,nt)=>{var j;let[,_]=(j=nt[rt+1])!=null?j:[];return _=parseFloat(_)>0?subtract2(_):void 0,{_minW:subtract2(ot),breakpoint:at,minW:ot,maxW:_,maxWQuery:toMediaQueryString(null,_),minWQuery:toMediaQueryString(ot),minMaxQuery:toMediaQueryString(ot,_)}}),it=keys(i),tt=Array.from(it.values());return{keys:it,normalized:a,isResponsive(at){const ot=Object.keys(at);return ot.length>0&&ot.every(rt=>it.has(rt))},asObject:sortBps(i),asArray:normalize(i),details:o,media:[null,...a.map(at=>toMediaQueryString(at)).slice(1)],toArrayValue(at){if(!isObject$2(at))throw new Error("toArrayValue: value must be an object");const ot=tt.map(rt=>{var nt;return(nt=at[rt])!=null?nt:null});for(;getLastItem(ot)===null;)ot.pop();return ot},toObjectValue(at){if(!Array.isArray(at))throw new Error("toObjectValue: value must be an array");return at.reduce((ot,rt,nt)=>{const j=tt[nt];return j!=null&&rt!=null&&(ot[j]=rt),ot},{})}}}var state={hover:(i,s)=>`${i}:hover ${s}, ${i}[data-hover] ${s}`,focus:(i,s)=>`${i}:focus ${s}, ${i}[data-focus] ${s}`,focusVisible:(i,s)=>`${i}:focus-visible ${s}`,focusWithin:(i,s)=>`${i}:focus-within ${s}`,active:(i,s)=>`${i}:active ${s}, ${i}[data-active] ${s}`,disabled:(i,s)=>`${i}:disabled ${s}, ${i}[data-disabled] ${s}`,invalid:(i,s)=>`${i}:invalid ${s}, ${i}[data-invalid] ${s}`,checked:(i,s)=>`${i}:checked ${s}, ${i}[data-checked] ${s}`,indeterminate:(i,s)=>`${i}:indeterminate ${s}, ${i}[aria-checked=mixed] ${s}, ${i}[data-indeterminate] ${s}`,readOnly:(i,s)=>`${i}:read-only ${s}, ${i}[readonly] ${s}, ${i}[data-read-only] ${s}`,expanded:(i,s)=>`${i}:read-only ${s}, ${i}[aria-expanded=true] ${s}, ${i}[data-expanded] ${s}`,placeholderShown:(i,s)=>`${i}:placeholder-shown ${s}`},toGroup=i=>merge(s=>i(s,"&"),"[role=group]","[data-group]",".group"),toPeer=i=>merge(s=>i(s,"~ &"),"[data-peer]",".peer"),merge=(i,...s)=>s.map(i).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(i,s){return cssVar$1(String(i).replace(/\./g,"-"),void 0,s)}function createThemeVars(i,s){let a={};const o={};for(const[it,tt]of Object.entries(i)){const{isSemantic:at,value:ot}=tt,{variable:rt,reference:nt}=tokenToCssVar(it,s==null?void 0:s.cssVarPrefix);if(!at){if(it.startsWith("space")){const $=it.split("."),[et,...st]=$,lt=`${et}.-${st.join(".")}`,ft=calc$1.negate(ot),gt=calc$1.negate(nt);o[lt]={value:ft,var:rt,varRef:gt}}a[rt]=ot,o[it]={value:ot,var:rt,varRef:nt};continue}const j=$=>{const st=[String(it).split(".")[0],$].join(".");if(!i[st])return $;const{reference:ft}=tokenToCssVar(st,s==null?void 0:s.cssVarPrefix);return ft},_=isObject$2(ot)?ot:{default:ot};a=mergeWith(a,Object.entries(_).reduce(($,[et,st])=>{var lt,ft;const gt=j(st);if(et==="default")return $[rt]=gt,$;const ut=(ft=(lt=pseudoSelectors)==null?void 0:lt[et])!=null?ft:et;return $[ut]={[rt]:gt},$},{})),o[it]={value:nt,var:rt,varRef:nt}}return{cssVars:a,cssMap:o}}function omit$2(i,s=[]){const a=Object.assign({},i);for(const o of s)o in a&&delete a[o];return a}function pick(i,s){const a={};for(const o of s)o in i&&(a[o]=i[o]);return a}var tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function extractTokens(i){return pick(i,tokens)}function extractSemanticTokens(i){return i.semanticTokens}function omitVars(i){const{__cssMap:s,__cssVars:a,__breakpoints:o,...it}=i;return it}function flattenTokens({tokens:i,semanticTokens:s}){var a,o;const it=Object.entries((a=flatten(i))!=null?a:{}).map(([at,ot])=>[at,{isSemantic:!1,value:ot}]),tt=Object.entries((o=flatten(s,1))!=null?o:{}).map(([at,ot])=>[at,{isSemantic:!0,value:ot}]);return Object.fromEntries([...it,...tt])}function flatten(i,s=1/0){return!isObject$2(i)&&!Array.isArray(i)||!s?i:Object.entries(i).reduce((a,[o,it])=>(isObject$2(it)||Array.isArray(it)?Object.entries(flatten(it,s-1)).forEach(([tt,at])=>{a[`${o}.${tt}`]=at}):a[o]=it,a),{})}function toCSSVar(i){var s;const a=omitVars(i),o=extractTokens(a),it=extractSemanticTokens(a),tt=flattenTokens({tokens:o,semanticTokens:it}),at=(s=a.config)==null?void 0:s.cssVarPrefix,{cssMap:ot,cssVars:rt}=createThemeVars(tt,{cssVarPrefix:at});return Object.assign(a,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...rt},__cssMap:ot,__breakpoints:analyzeBreakpoints(a.breakpoints)}),a}var systemProps=mergeWith({},background,border,color$1,flexbox,layout,filter$2,ring,interactivity,grid,others,position,effect,space,scroll,typography$1,textDecoration,transform,list$2,transition$1),layoutSystem=Object.assign({},space,layout,flexbox,grid,position),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=i=>i in styleProps,expandResponsive=i=>s=>{if(!s.__breakpoints)return i;const{isResponsive:a,toArrayValue:o,media:it}=s.__breakpoints,tt={};for(const at in i){let ot=runIfFn$2(i[at],s);if(ot==null)continue;if(ot=isObject$2(ot)&&a(ot)?o(ot):ot,!Array.isArray(ot)){tt[at]=ot;continue}const rt=ot.slice(0,it.length).length;for(let nt=0;nt<rt;nt+=1){const j=it==null?void 0:it[nt];if(!j){tt[at]=ot[nt];continue}tt[j]=tt[j]||{},ot[nt]!=null&&(tt[j][at]=ot[nt])}}return tt};function splitByComma(i){const s=[];let a="",o=!1;for(let it=0;it<i.length;it++){const tt=i[it];tt==="("?(o=!0,a+=tt):tt===")"?(o=!1,a+=tt):tt===","&&!o?(s.push(a),a=""):a+=tt}return a=a.trim(),a&&s.push(a),s}function isCssVar2(i){return/^var\(--.+\)$/.test(i)}var isCSSVariableTokenValue=(i,s)=>i.startsWith("--")&&typeof s=="string"&&!isCssVar2(s),resolveTokenValue=(i,s)=>{var a,o;if(s==null)return s;const it=rt=>{var nt,j;return(j=(nt=i.__cssMap)==null?void 0:nt[rt])==null?void 0:j.varRef},tt=rt=>{var nt;return(nt=it(rt))!=null?nt:rt},[at,ot]=splitByComma(s);return s=(o=(a=it(at))!=null?a:tt(ot))!=null?o:tt(s),s};function getCss(i){const{configs:s={},pseudos:a={},theme:o}=i,it=(tt,at=!1)=>{var ot,rt,nt;const j=runIfFn$2(tt,o),_=expandResponsive(j)(o);let $={};for(let et in _){const st=_[et];let lt=runIfFn$2(st,o);et in a&&(et=a[et]),isCSSVariableTokenValue(et,lt)&&(lt=resolveTokenValue(o,lt));let ft=s[et];if(ft===!0&&(ft={property:et}),isObject$2(lt)){$[et]=(ot=$[et])!=null?ot:{},$[et]=mergeWith({},$[et],it(lt,!0));continue}let gt=(nt=(rt=ft==null?void 0:ft.transform)==null?void 0:rt.call(ft,lt,o,j))!=null?nt:lt;gt=ft!=null&&ft.processResult?it(gt,!0):gt;const ut=runIfFn$2(ft==null?void 0:ft.property,o);if(!at&&(ft==null?void 0:ft.static)){const pt=runIfFn$2(ft.static,o);$=mergeWith({},$,pt)}if(ut&&Array.isArray(ut)){for(const pt of ut)$[pt]=gt;continue}if(ut){ut==="&"&&isObject$2(gt)?$=mergeWith({},$,gt):$[ut]=gt;continue}if(isObject$2(gt)){$=mergeWith({},$,gt);continue}$[et]=gt}return $};return it}var css=i=>s=>getCss({theme:s,pseudos:pseudoSelectors,configs:systemProps})(i);function defineStyle(i){return i}function defineStyleConfig(i){return i}function createMultiStyleConfigHelpers(i){return{definePartsStyle(s){return s},defineMultiStyleConfig(s){return{parts:i,...s}}}}function normalize2(i,s){if(Array.isArray(i))return i;if(isObject$2(i))return s(i);if(i!=null)return[i]}function getNextIndex(i,s){for(let a=s+1;a<i.length;a++)if(i[a]!=null)return a;return-1}function createResolver(i){const s=i.__breakpoints;return function(o,it,tt,at){var ot,rt;if(!s)return;const nt={},j=normalize2(tt,s.toArrayValue);if(!j)return nt;const _=j.length,$=_===1,et=!!o.parts;for(let st=0;st<_;st++){const lt=s.details[st],ft=s.details[getNextIndex(j,st)],gt=toMediaQueryString(lt.minW,ft==null?void 0:ft._minW),ut=runIfFn$2((ot=o[it])==null?void 0:ot[j[st]],at);if(!!ut){if(et){(rt=o.parts)==null||rt.forEach(pt=>{mergeWith(nt,{[pt]:$?ut[pt]:{[gt]:ut[pt]}})});continue}if(!et){$?mergeWith(nt,ut):nt[gt]=ut;continue}nt[gt]=ut}}return nt}}function resolveStyleConfig(i){return s=>{var a;const{variant:o,size:it,theme:tt}=s,at=createResolver(tt);return mergeWith({},runIfFn$2((a=i.baseStyle)!=null?a:{},s),at(i,"sizes",it,s),at(i,"variants",o,s))}}function omitThemingProps(i){return omit$2(i,["styleConfig","size","variant","colorScheme"])}var requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(i){return isObject$2(i)?requiredChakraThemeKeys.every(s=>Object.prototype.hasOwnProperty.call(i,s)):!1}var zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints$1,colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders$1,typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},sizes_default=sizes$m,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default};function anatomy(i,s={}){let a=!1;function o(){if(!a){a=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function it(...j){o();for(const _ of j)s[_]=rt(_);return anatomy(i,s)}function tt(...j){for(const _ of j)_ in s||(s[_]=rt(_));return anatomy(i,s)}function at(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.selector]))}function ot(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.className]))}function rt(j){const et=`chakra-${(["container","root"].includes(j!=null?j:"")?[i]:[i,j]).filter(Boolean).join("__")}`;return{className:et,selector:`.${et}`,toString:()=>j}}return{parts:it,toPart:rt,extend:tt,selectors:at,classnames:ot,get keys(){return Object.keys(s)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");function guard(i,s,a){return Math.min(Math.max(i,a),s)}class ColorError extends Error{constructor(s){super(`Failed to parse color: "${s}"`)}}var ColorError$1=ColorError;function parseToRgba(i){if(typeof i!="string")throw new ColorError$1(i);if(i.trim().toLowerCase()==="transparent")return[0,0,0,0];let s=i.trim();s=namedColorRegex.test(i)?nameToHex(i):i;const a=reducedHexRegex.exec(s);if(a){const at=Array.from(a).slice(1);return[...at.slice(0,3).map(ot=>parseInt(r(ot,2),16)),parseInt(r(at[3]||"f",2),16)/255]}const o=hexRegex.exec(s);if(o){const at=Array.from(o).slice(1);return[...at.slice(0,3).map(ot=>parseInt(ot,16)),parseInt(at[3]||"ff",16)/255]}const it=rgbaRegex.exec(s);if(it){const at=Array.from(it).slice(1);return[...at.slice(0,3).map(ot=>parseInt(ot,10)),parseFloat(at[3]||"1")]}const tt=hslaRegex.exec(s);if(tt){const[at,ot,rt,nt]=Array.from(tt).slice(1).map(parseFloat);if(guard(0,100,ot)!==ot)throw new ColorError$1(i);if(guard(0,100,rt)!==rt)throw new ColorError$1(i);return[...hslToRgb(at,ot,rt),Number.isNaN(nt)?1:nt]}throw new ColorError$1(i)}function hash(i){let s=5381,a=i.length;for(;a;)s=s*33^i.charCodeAt(--a);return(s>>>0)%2341}const colorToInt=i=>parseInt(i.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((i,s)=>{const a=colorToInt(s.substring(0,3)),o=colorToInt(s.substring(3)).toString(16);let it="";for(let tt=0;tt<6-o.length;tt++)it+="0";return i[a]=`${it}${o}`,i},{});function nameToHex(i){const s=i.toLowerCase().trim(),a=compressedColorMap[hash(s)];if(!a)throw new ColorError$1(i);return`#${a}`}const r=(i,s)=>Array.from(Array(s)).map(()=>i).join(""),reducedHexRegex=new RegExp(`^#${r("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=i=>Math.round(i*255),hslToRgb=(i,s,a)=>{let o=a/100;if(s===0)return[o,o,o].map(roundColor);const it=(i%360+360)%360/60,tt=(1-Math.abs(2*o-1))*(s/100),at=tt*(1-Math.abs(it%2-1));let ot=0,rt=0,nt=0;it>=0&&it<1?(ot=tt,rt=at):it>=1&&it<2?(ot=at,rt=tt):it>=2&&it<3?(rt=tt,nt=at):it>=3&&it<4?(rt=at,nt=tt):it>=4&&it<5?(ot=at,nt=tt):it>=5&&it<6&&(ot=tt,nt=at);const j=o-tt/2,_=ot+j,$=rt+j,et=nt+j;return[_,$,et].map(roundColor)};function rgba$1(i,s,a,o){return`rgba(${guard(0,255,i).toFixed()}, ${guard(0,255,s).toFixed()}, ${guard(0,255,a).toFixed()}, ${parseFloat(guard(0,1,o).toFixed(3))})`}function transparentize$1(i,s){const[a,o,it,tt]=parseToRgba(i);return rgba$1(a,o,it,tt-s)}function toHex(i){const[s,a,o,it]=parseToRgba(i);let tt=at=>{const ot=guard(0,255,at).toString(16);return ot.length===1?`0${ot}`:ot};return`#${tt(s)}${tt(a)}${tt(o)}${it<1?tt(Math.round(it*255)):""}`}function dlv_es_default(i,s,a,o,it){for(s=s.split?s.split("."):s,o=0;o<s.length;o++)i=i?i[s[o]]:it;return i===it?a:i}var isEmptyObject=i=>Object.keys(i).length===0,getColor=(i,s,a)=>{const o=dlv_es_default(i,`colors.${s}`,s);try{return toHex(o),o}catch{return a!=null?a:"#000000"}},getBrightness=i=>{const[s,a,o]=parseToRgba(i);return(s*299+a*587+o*114)/1e3},tone=i=>s=>{const a=getColor(s,i);return getBrightness(a)<128?"dark":"light"},isDark=i=>s=>tone(i)(s)==="dark",transparentize=(i,s)=>a=>{const o=getColor(a,i);return transparentize$1(o,1-s)};function generateStripe(i="1rem",s="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${s} 25%,
    transparent 25%,
    transparent 50%,
    ${s} 50%,
    ${s} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${i} ${i}`}}var randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(i){const s=randomHex();return!i||isEmptyObject(i)?s:i.string&&i.colors?randomColorFromList(i.string,i.colors):i.string&&!i.colors?randomColorFromString(i.string):i.colors&&!i.string?randomFromList(i.colors):s}function randomColorFromString(i){let s=0;if(i.length===0)return s.toString();for(let o=0;o<i.length;o+=1)s=i.charCodeAt(o)+((s<<5)-s),s=s&s;let a="#";for(let o=0;o<3;o+=1){const it=s>>o*8&255;a+=`00${it.toString(16)}`.substr(-2)}return a}function randomColorFromList(i,s){let a=0;if(i.length===0)return s[0];for(let o=0;o<i.length;o+=1)a=i.charCodeAt(o)+((a<<5)-a),a=a&a;return a=(a%s.length+s.length)%s.length,s[a]}function randomFromList(i){return i[Math.floor(Math.random()*i.length)]}function mode(i,s){return a=>a.colorMode==="dark"?s:i}function orient(i){const{orientation:s,vertical:a,horizontal:o}=i;return s?s==="vertical"?a:o:{}}function toRef(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpr=(i,...s)=>s.map(toRef).join(` ${i} `).replace(/calc/g,""),add=(...i)=>`calc(${toExpr("+",...i)})`,subtract=(...i)=>`calc(${toExpr("-",...i)})`,multiply=(...i)=>`calc(${toExpr("*",...i)})`,divide=(...i)=>`calc(${toExpr("/",...i)})`,negate=i=>{const s=toRef(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply(s,-1)},calc=Object.assign(i=>({add:(...s)=>calc(add(i,...s)),subtract:(...s)=>calc(subtract(i,...s)),multiply:(...s)=>calc(multiply(i,...s)),divide:(...s)=>calc(divide(i,...s)),negate:()=>calc(negate(i)),toString:()=>i.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(i){return!Number.isInteger(parseFloat(i.toString()))}function replaceWhiteSpace(i,s="-"){return i.replace(/\s+/g,s)}function escape(i){const s=replaceWhiteSpace(i.toString());return s.includes("\\.")?i:isDecimal(i)?s.replace(".","\\."):i}function addPrefix(i,s=""){return[s,escape(i)].filter(Boolean).join("-")}function toVarRef(i,s){return`var(${escape(i)}${s?`, ${s}`:""})`}function toVar(i,s=""){return`--${addPrefix(i,s)}`}function cssVar(i,s){const a=toVar(i,s==null?void 0:s.prefix);return{variable:a,reference:toVarRef(a,getFallback(s==null?void 0:s.fallback))}}function getFallback(i){return typeof i=="string"?i:i==null?void 0:i.reference}var{defineMultiStyleConfig:defineMultiStyleConfig$o,definePartsStyle:definePartsStyle$o}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg$e=cssVar("switch-bg"),baseStyleTrack$2=i=>{const{colorScheme:s}=i;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$e.variable]:"colors.gray.300",_dark:{[$bg$e.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$e.variable]:`colors.${s}.500`,_dark:{[$bg$e.variable]:`colors.${s}.200`}},bg:$bg$e.reference}},baseStyleThumb$1={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$E=definePartsStyle$o(i=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack$2(i),thumb:baseStyleThumb$1})),sizes$l={sm:definePartsStyle$o({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle$o({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle$o({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig$o({baseStyle:baseStyle$E,sizes:sizes$l,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$n,definePartsStyle:definePartsStyle$n}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$D=definePartsStyle$n({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i)},td:{background:mode(`${s}.100`,`${s}.700`)(i)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$e={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$k={sm:definePartsStyle$n({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$n({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$n({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$D,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$6=cssVar$1("tabs-color"),$bg$d=cssVar$1("tabs-bg"),$border$3=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot$1=i=>{const{orientation:s}=i;return{display:s==="vertical"?"flex":"block"}},baseStyleTab=i=>{const{isFitted:s}=i;return{flex:s?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=i=>{const{align:s="start",orientation:a}=i;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[s],flexDirection:a==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$C=definePartsStyle$m(i=>({root:baseStyleRoot$1(i),tab:baseStyleTab(i),tablist:baseStyleTablist(i),tabpanel:baseStyleTabpanel})),sizes$j={sm:definePartsStyle$m({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$m({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$m({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$m(i=>{const{colorScheme:s,orientation:a}=i,o=a==="vertical",it=a==="vertical"?"borderStart":"borderBottom",tt=o?"marginStart":"marginBottom";return{tablist:{[it]:"2px solid",borderColor:"inherit"},tab:{[it]:"2px solid",borderColor:"transparent",[tt]:"-2px",_selected:{[$fg$6.variable]:`colors.${s}.600`,_dark:{[$fg$6.variable]:`colors.${s}.300`},borderColor:"currentColor"},_active:{[$bg$d.variable]:"colors.gray.200",_dark:{[$bg$d.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$6.reference,bg:$bg$d.reference}}}),variantEnclosed=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border$3.variable]:"transparent",_selected:{[$fg$6.variable]:`colors.${s}.600`,[$border$3.variable]:"colors.white",_dark:{[$fg$6.variable]:`colors.${s}.300`,[$border$3.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border$3.reference},color:$fg$6.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$d.variable]:"colors.gray.50",_dark:{[$bg$d.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$d.variable]:"colors.white",[$fg$6.variable]:`colors.${s}.600`,_dark:{[$bg$d.variable]:"colors.gray.800",[$fg$6.variable]:`colors.${s}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$6.reference,bg:$bg$d.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$m(i=>{const{colorScheme:s,theme:a}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(a,`${s}.700`),bg:getColor(a,`${s}.100`)}}}}),variantSolidRounded=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$6.variable]:"colors.gray.600",_dark:{[$fg$6.variable]:"inherit"},_selected:{[$fg$6.variable]:"colors.white",[$bg$d.variable]:`colors.${s}.600`,_dark:{[$fg$6.variable]:"colors.gray.800",[$bg$d.variable]:`colors.${s}.300`}},color:$fg$6.reference,bg:$bg$d.reference}}}),variantUnstyled$2=definePartsStyle$m({}),variants$d={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled$2},tabsTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$C,sizes:sizes$j,variants:variants$d,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),baseStyle$B={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},$bg$c=cssVar$1("badge-bg"),$fg$5=cssVar$1("badge-color"),variantSolid$3=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.500`,.6)(a);return{[$bg$c.variable]:`colors.${s}.500`,[$fg$5.variable]:"colors.white",_dark:{[$bg$c.variable]:o,[$fg$5.variable]:"colors.whiteAlpha.800"},bg:$bg$c.reference,color:$fg$5.reference}},variantSubtle$1=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.200`,.16)(a);return{[$bg$c.variable]:`colors.${s}.100`,[$fg$5.variable]:`colors.${s}.800`,_dark:{[$bg$c.variable]:o,[$fg$5.variable]:`colors.${s}.200`},bg:$bg$c.reference,color:$fg$5.reference}},variantOutline$2=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.200`,.8)(a);return{[$fg$5.variable]:`colors.${s}.500`,_dark:{[$fg$5.variable]:o},color:$fg$5.reference,boxShadow:`inset 0 0 0px 1px ${$fg$5.reference}`}},variants$c={solid:variantSolid$3,subtle:variantSubtle$1,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$B,variants:variants$c,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$l,definePartsStyle:definePartsStyle$l}=createMultiStyleConfigHelpers(tagAnatomy.keys),baseStyleContainer$4={fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},baseStyleLabel$3={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton$3={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$A=definePartsStyle$l({container:baseStyleContainer$4,label:baseStyleLabel$3,closeButton:baseStyleCloseButton$3}),sizes$i={sm:definePartsStyle$l({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle$l({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:definePartsStyle$l({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},variants$b={subtle:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.subtle(i)}}),solid:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.solid(i)}}),outline:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.outline(i)}})},tagTheme=defineMultiStyleConfig$l({variants:variants$b,baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(inputAnatomy.keys),baseStyle$z=definePartsStyle$k({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},sizes$h={lg:definePartsStyle$k({field:size.lg,addon:size.lg}),md:definePartsStyle$k({field:size.md,addon:size.md}),sm:definePartsStyle$k({field:size.sm,addon:size.sm}),xs:definePartsStyle$k({field:size.xs,addon:size.xs})};function getDefaults(i){const{focusBorderColor:s,errorBorderColor:a}=i;return{focusBorderColor:s||mode("blue.500","blue.300")(i),errorBorderColor:a||mode("red.500","red.300")(i)}}var variantOutline$1=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o),boxShadow:`0 0 0 1px ${getColor(s,o)}`},_focusVisible:{zIndex:1,borderColor:getColor(s,a),boxShadow:`0 0 0 1px ${getColor(s,a)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(i),bg:mode("gray.100","whiteAlpha.300")(i)}}}),variantFilled=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i),_hover:{bg:mode("gray.200","whiteAlpha.100")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o)},_focusVisible:{bg:"transparent",borderColor:getColor(s,a)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i)}}}),variantFlushed=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o),boxShadow:`0px 1px 0px 0px ${getColor(s,o)}`},_focusVisible:{borderColor:getColor(s,a),boxShadow:`0px 1px 0px 0px ${getColor(s,a)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$k({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline$1,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$k({baseStyle:baseStyle$z,sizes:sizes$h,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),_a$4,baseStyle$y={...(_a$4=inputTheme.baseStyle)==null?void 0:_a$4.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},_a2$2,_b$2,variants$9={outline:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.outline(i).field)!=null?a:{}},flushed:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.flushed(i).field)!=null?a:{}},filled:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.filled(i).field)!=null?a:{}},unstyled:(_b$2=(_a2$2=inputTheme.variants)==null?void 0:_a2$2.unstyled.field)!=null?_b$2:{}},_a3,_b2,_c$1,_d$1,_e$1,_f$1,_g$1,_h$1,sizes$g={xs:(_b2=(_a3=inputTheme.sizes)==null?void 0:_a3.xs.field)!=null?_b2:{},sm:(_d$1=(_c$1=inputTheme.sizes)==null?void 0:_c$1.sm.field)!=null?_d$1:{},md:(_f$1=(_e$1=inputTheme.sizes)==null?void 0:_e$1.md.field)!=null?_f$1:{},lg:(_h$1=(_g$1=inputTheme.sizes)==null?void 0:_g$1.lg.field)!=null?_h$1:{}},textareaTheme={baseStyle:baseStyle$y,sizes:sizes$g,variants:variants$9,defaultProps:{size:"md",variant:"outline"}},$bg$b=cssVar("tooltip-bg"),$fg$4=cssVar("tooltip-fg"),$arrowBg$1=cssVar("popper-arrow-bg"),baseStyle$x={bg:$bg$b.reference,color:$fg$4.reference,[$bg$b.variable]:"colors.gray.700",[$fg$4.variable]:"colors.whiteAlpha.900",_dark:{[$bg$b.variable]:"colors.gray.300",[$fg$4.variable]:"colors.gray.900"},[$arrowBg$1.variable]:$bg$b.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle:baseStyle$x},{defineMultiStyleConfig:defineMultiStyleConfig$j,definePartsStyle:definePartsStyle$j}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=i=>{const{colorScheme:s,theme:a,isIndeterminate:o,hasStripe:it}=i,tt=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(i),at=mode(`${s}.500`,`${s}.200`)(i),ot=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(a,at)} 50%,
    transparent 100%
  )`;return{...!o&&it&&tt,...o?{bgImage:ot}:{bgColor:at}}},baseStyleLabel$2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$1=i=>({bg:mode("gray.100","whiteAlpha.300")(i)}),baseStyleFilledTrack$1=i=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(i)}),baseStyle$w=definePartsStyle$j(i=>({label:baseStyleLabel$2,filledTrack:baseStyleFilledTrack$1(i),track:baseStyleTrack$1(i)})),sizes$f={xs:definePartsStyle$j({track:{h:"1"}}),sm:definePartsStyle$j({track:{h:"2"}}),md:definePartsStyle$j({track:{h:"3"}}),lg:definePartsStyle$j({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$j({sizes:sizes$f,baseStyle:baseStyle$w,defaultProps:{size:"md",colorScheme:"blue"}}),isFunction$3=i=>typeof i=="function";function runIfFn$1(i,...s){return isFunction$3(i)?i(...s):i}var{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$2=cssVar$1("checkbox-size"),baseStyleControl$1=i=>{const{colorScheme:s}=i;return{w:$size$2.reference,h:$size$2.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i),_hover:{bg:mode(`${s}.600`,`${s}.300`)(i),borderColor:mode(`${s}.600`,`${s}.300`)(i)},_disabled:{borderColor:mode("gray.200","transparent")(i),bg:mode("gray.200","whiteAlpha.300")(i),color:mode("gray.500","whiteAlpha.500")(i)}},_indeterminate:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(i),borderColor:mode("gray.100","transparent")(i)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(i)}}},baseStyleContainer$3={_disabled:{cursor:"not-allowed"}},baseStyleLabel$1={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$5={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$v=definePartsStyle$i(i=>({icon:baseStyleIcon$5,container:baseStyleContainer$3,control:runIfFn$1(baseStyleControl$1,i),label:baseStyleLabel$1})),sizes$e={sm:definePartsStyle$i({control:{[$size$2.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$i({control:{[$size$2.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$i({control:{[$size$2.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$v,sizes:sizes$e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$h,definePartsStyle:definePartsStyle$h}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=i=>{var s;const a=(s=runIfFn$1(checkboxTheme.baseStyle,i))==null?void 0:s.control;return{...a,borderRadius:"full",_checked:{...a==null?void 0:a._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$u=definePartsStyle$h(i=>{var s,a,o,it;return{label:(a=(s=checkboxTheme).baseStyle)==null?void 0:a.call(s,i).label,container:(it=(o=checkboxTheme).baseStyle)==null?void 0:it.call(o,i).container,control:baseStyleControl(i)}}),sizes$d={md:definePartsStyle$h({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$h({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$h({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$u,sizes:sizes$d,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$g,definePartsStyle:definePartsStyle$g}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$a=cssVar$1("select-bg"),_a$3,baseStyleField$1={...(_a$3=inputTheme.baseStyle)==null?void 0:_a$3.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$a.reference,[$bg$a.variable]:"colors.white",_dark:{[$bg$a.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$a.reference}},baseStyleIcon$4={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$t=definePartsStyle$g({field:baseStyleField$1,icon:baseStyleIcon$4}),iconSpacing={paddingInlineEnd:"8"},_a2$1,_b$1,_c,_d,_e,_f,_g,_h,sizes$c={lg:{...(_a2$1=inputTheme.sizes)==null?void 0:_a2$1.lg,field:{...(_b$1=inputTheme.sizes)==null?void 0:_b$1.lg.field,...iconSpacing}},md:{...(_c=inputTheme.sizes)==null?void 0:_c.md,field:{...(_d=inputTheme.sizes)==null?void 0:_d.md.field,...iconSpacing}},sm:{...(_e=inputTheme.sizes)==null?void 0:_e.sm,field:{...(_f=inputTheme.sizes)==null?void 0:_f.sm.field,...iconSpacing}},xs:{...(_g=inputTheme.sizes)==null?void 0:_g.xs,field:{...(_h=inputTheme.sizes)==null?void 0:_h.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$t,sizes:sizes$c,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$s={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$s},$bg$9=cssVar$1("skip-link-bg"),baseStyle$r={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$9.variable]:"colors.white",_dark:{[$bg$9.variable]:"colors.gray.700"},bg:$bg$9.reference}},skipLinkTheme={baseStyle:baseStyle$r},{defineMultiStyleConfig:defineMultiStyleConfig$f,definePartsStyle:definePartsStyle$f}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$8=cssVar$1("slider-bg"),baseStyleContainer$2=i=>{const{orientation:s}=i;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:s,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack=i=>({...orient({orientation:i.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$8.variable]:"colors.gray.200",_dark:{[$bg$8.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$8.variable]:"colors.gray.300",_dark:{[$bg$8.variable]:"colors.whiteAlpha.300"}},bg:$bg$8.reference}),baseStyleThumb=i=>{const{orientation:s}=i;return{...orient({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=i=>{const{colorScheme:s}=i;return{width:"inherit",height:"inherit",[$bg$8.variable]:`colors.${s}.500`,_dark:{[$bg$8.variable]:`colors.${s}.200`},bg:$bg$8.reference}},baseStyle$q=definePartsStyle$f(i=>({container:baseStyleContainer$2(i),track:baseStyleTrack(i),thumb:baseStyleThumb(i),filledTrack:baseStyleFilledTrack(i)})),sizeLg=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$b={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$f({baseStyle:baseStyle$q,sizes:sizes$b,defaultProps:{size:"md",colorScheme:"blue"}}),$size$1=cssVar("spinner-size"),baseStyle$p={width:[$size$1.reference],height:[$size$1.reference]},sizes$a={xs:{[$size$1.variable]:"sizes.3"},sm:{[$size$1.variable]:"sizes.4"},md:{[$size$1.variable]:"sizes.6"},lg:{[$size$1.variable]:"sizes.8"},xl:{[$size$1.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$p,sizes:sizes$a,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon$3={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$o=definePartsStyle$e({container:{},label:baseStyleLabel,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon$3}),sizes$9={md:definePartsStyle$e({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$o,sizes:sizes$9,defaultProps:{size:"md"}}),$bg$7=cssVar$1("kbd-bg"),baseStyle$n={[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"},bg:$bg$7.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$n},baseStyle$m={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$m},{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$2={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$l=definePartsStyle$d({icon:baseStyleIcon$2}),listTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$6=cssVar$1("menu-bg"),$shadow$1=cssVar$1("menu-shadow"),baseStyleList={[$bg$6.variable]:"#fff",[$shadow$1.variable]:"shadows.sm",_dark:{[$bg$6.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:$bg$6.reference,boxShadow:$shadow$1.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$6.variable]:"colors.gray.100",_dark:{[$bg$6.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$6.variable]:"colors.gray.200",_dark:{[$bg$6.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$6.variable]:"colors.gray.100",_dark:{[$bg$6.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$6.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal"},baseStyle$k=definePartsStyle$c({button:baseStyleButton$1,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$k}),{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(modalAnatomy.keys),baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1=i=>{const{isCentered:s,scrollBehavior:a}=i;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:s?"center":"flex-start",overflow:a==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog$1=i=>{const{scrollBehavior:s}=i;return{borderRadius:"md",bg:mode("white","gray.700")(i),color:"inherit",my:"16",zIndex:"modal",maxH:s==="inside"?"calc(100% - 7.5rem)":void 0,boxShadow:mode("lg","dark-lg")(i)}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2=i=>{const{scrollBehavior:s}=i;return{px:"6",py:"2",flex:"1",overflow:s==="inside"?"auto":void 0}},baseStyleFooter$2={px:"6",py:"4"},baseStyle$j=definePartsStyle$b(i=>({overlay:baseStyleOverlay$1,dialogContainer:runIfFn$1(baseStyleDialogContainer$1,i),dialog:runIfFn$1(baseStyleDialog$1,i),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$2,body:runIfFn$1(baseStyleBody$2,i),footer:baseStyleFooter$2}));function getSize$3(i){return definePartsStyle$b(i==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:i}})}var sizes$8={xs:getSize$3("xs"),sm:getSize$3("sm"),md:getSize$3("md"),lg:getSize$3("lg"),xl:getSize$3("xl"),"2xl":getSize$3("2xl"),"3xl":getSize$3("3xl"),"4xl":getSize$3("4xl"),"5xl":getSize$3("5xl"),"6xl":getSize$3("6xl"),full:getSize$3("full")},modalTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$8,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$5=cssVar("number-input-bg"),$fg$3=cssVar("number-input-color"),$border$2=cssVar("number-input-border-color"),baseStyleRoot={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField=i=>{var s,a;return(a=(s=runIfFn$1(inputTheme.baseStyle,i))==null?void 0:s.field)!=null?a:{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$2.reference,color:$fg$3.reference,bg:$bg$5.reference,[$fg$3.variable]:"colors.chakra-body-text",[$border$2.variable]:"colors.chakra-border-color",_dark:{[$fg$3.variable]:"colors.whiteAlpha.800",[$border$2.variable]:"colors.whiteAlpha.300"},_active:{[$bg$5.variable]:"colors.gray.200",_dark:{[$bg$5.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$i=definePartsStyle$a(i=>{var s;return{root:baseStyleRoot,field:(s=runIfFn$1(baseStyleField,i))!=null?s:{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}});function getSize$2(i){var s,a,o;const it=(s=inputTheme.sizes)==null?void 0:s[i],tt={lg:"md",md:"md",sm:"sm",xs:"sm"},at=(o=(a=it.field)==null?void 0:a.fontSize)!=null?o:"md",ot=typography_default.fontSizes[at];return definePartsStyle$a({field:{...it.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(ot).multiply(.75).toString(),_first:{borderTopEndRadius:tt[i]},_last:{borderBottomEndRadius:tt[i],mt:"-1px",borderTopWidth:1}}})}var sizes$7={xs:getSize$2("xs"),sm:getSize$2("sm"),md:getSize$2("md"),lg:getSize$2("lg")},numberInputTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$i,sizes:sizes$7,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),_a$2,baseStyle$h={...(_a$2=inputTheme.baseStyle)==null?void 0:_a$2.field,textAlign:"center"},sizes$6={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_a2,_b,variants$8={outline:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.outline,i))==null?void 0:a.field)!=null?o:{}},flushed:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.flushed,i))==null?void 0:a.field)!=null?o:{}},filled:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.filled,i))==null?void 0:a.field)!=null?o:{}},unstyled:(_b=(_a2=inputTheme.variants)==null?void 0:_a2.unstyled.field)!=null?_b:{}},pinInputTheme={baseStyle:baseStyle$h,sizes:sizes$6,variants:variants$8,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader$1={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody$1={px:3,py:2},baseStyleFooter$1={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$g=definePartsStyle$9({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader$1,body:baseStyleBody$1,footer:baseStyleFooter$1,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$9({baseStyle:baseStyle$g}),{definePartsStyle:definePartsStyle$8,defineMultiStyleConfig:defineMultiStyleConfig$8}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$4=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$1(i){return definePartsStyle$8(i==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:i}})}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"overlay"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=i=>{const{isFullHeight:s}=i;return{...s&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$4.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$4.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$4.reference,boxShadow:$bs.reference}},baseStyleHeader={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter={px:"6",py:"4"},baseStyle$f=definePartsStyle$8(i=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:runIfFn$1(baseStyleDialog,i),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter})),sizes$5={xs:getSize$1("xs"),sm:getSize$1("md"),md:getSize$1("lg"),lg:getSize$1("2xl"),xl:getSize$1("4xl"),full:getSize$1("full")},drawerTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$5,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$7,defineMultiStyleConfig:defineMultiStyleConfig$7}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$e=definePartsStyle$7({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e}),{definePartsStyle:definePartsStyle$6,defineMultiStyleConfig:defineMultiStyleConfig$6}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$2=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$2.variable]:"colors.red.500",_dark:{[$fg$2.variable]:"colors.red.300"},color:$fg$2.reference},baseStyleHelperText={mt:"2",[$fg$2.variable]:"colors.gray.600",_dark:{[$fg$2.variable]:"colors.whiteAlpha.600"},color:$fg$2.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$d=definePartsStyle$6({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$d}),{definePartsStyle:definePartsStyle$5,defineMultiStyleConfig:defineMultiStyleConfig$5}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$1=cssVar$1("form-error-color"),baseStyleText={[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$1={marginEnd:"0.5em",[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference},baseStyle$c=definePartsStyle$5({text:baseStyleText,icon:baseStyleIcon$1}),formErrorTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$c}),baseStyle$b={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$b},baseStyle$a={fontFamily:"heading",fontWeight:"bold"},sizes$4={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$a,sizes:sizes$4,defaultProps:{size:"xl"}},{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},baseStyle$9=definePartsStyle$4({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$4({baseStyle:baseStyle$9}),baseStyle$8={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=i=>{const{colorScheme:s,theme:a}=i;if(s==="gray")return{color:mode("inherit","whiteAlpha.900")(i),_hover:{bg:mode("gray.100","whiteAlpha.200")(i)},_active:{bg:mode("gray.200","whiteAlpha.300")(i)}};const o=transparentize(`${s}.200`,.12)(a),it=transparentize(`${s}.200`,.24)(a);return{color:mode(`${s}.600`,`${s}.200`)(i),bg:"transparent",_hover:{bg:mode(`${s}.50`,o)(i)},_active:{bg:mode(`${s}.100`,it)(i)}}},variantOutline=i=>{const{colorScheme:s}=i,a=mode("gray.200","whiteAlpha.300")(i);return{border:"1px solid",borderColor:s==="gray"?a:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn$1(variantGhost,i)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$2=i=>{var s;const{colorScheme:a}=i;if(a==="gray"){const rt=mode("gray.100","whiteAlpha.200")(i);return{bg:rt,_hover:{bg:mode("gray.200","whiteAlpha.300")(i),_disabled:{bg:rt}},_active:{bg:mode("gray.300","whiteAlpha.400")(i)}}}const{bg:o=`${a}.500`,color:it="white",hoverBg:tt=`${a}.600`,activeBg:at=`${a}.700`}=(s=accessibleColorMap[a])!=null?s:{},ot=mode(o,`${a}.200`)(i);return{bg:ot,color:mode(it,"gray.800")(i),_hover:{bg:mode(tt,`${a}.300`)(i),_disabled:{bg:ot}},_active:{bg:mode(at,`${a}.400`)(i)}}},variantLink=i=>{const{colorScheme:s}=i;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${s}.500`,`${s}.200`)(i),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${s}.700`,`${s}.500`)(i)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$7={ghost:variantGhost,outline:variantOutline,solid:variantSolid$2,link:variantLink,unstyled:variantUnstyled},sizes$3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle$8,variants:variants$7,sizes:sizes$3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$3,defineMultiStyleConfig:defineMultiStyleConfig$3}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$3=cssVar$1("card-bg"),$padding=cssVar$1("card-padding"),$shadow=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$1=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$7=definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-body-bg",backgroundColor:$bg$3.reference,boxShadow:$shadow.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$1.reference,borderColor:$borderColor.reference},body:{padding:$padding.reference,flex:"1 1 0%"},header:{padding:$padding.reference},footer:{padding:$padding.reference}}),sizes$2={sm:definePartsStyle$3({container:{[$radius.variable]:"radii.base",[$padding.variable]:"space.3"}}),md:definePartsStyle$3({container:{[$radius.variable]:"radii.md",[$padding.variable]:"space.5"}}),lg:definePartsStyle$3({container:{[$radius.variable]:"radii.xl",[$padding.variable]:"space.7"}})},variants$6={elevated:definePartsStyle$3({container:{[$shadow.variable]:"shadows.base",_dark:{[$bg$3.variable]:"colors.gray.700"}}}),outline:definePartsStyle$3({container:{[$border$1.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding.variable]:0},header:{[$padding.variable]:0},footer:{[$padding.variable]:0}}},cardTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$7,variants:variants$6,sizes:sizes$2,defaultProps:{variant:"elevated",size:"md"}}),$size=cssVar("close-button-size"),$bg$2=cssVar("close-button-bg"),baseStyle$6={w:[$size.reference],h:[$size.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$2.variable]:"colors.blackAlpha.100",_dark:{[$bg$2.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$2.variable]:"colors.blackAlpha.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$2.reference},sizes$1={lg:{[$size.variable]:"sizes.10",fontSize:"md"},md:{[$size.variable]:"sizes.8",fontSize:"xs"},sm:{[$size.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$6,sizes:sizes$1,defaultProps:{size:"md"}},{variants:variants$5,defaultProps}=badgeTheme,baseStyle$5={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},codeTheme={baseStyle:baseStyle$5,variants:variants$5,defaultProps},baseStyle$4={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$4},baseStyle$3={opacity:.6,borderColor:"inherit"},variantSolid$1={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$4={solid:variantSolid$1,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$3,variants:variants$4,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$2,defineMultiStyleConfig:defineMultiStyleConfig$2}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$1={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon={fontSize:"1.25em"},baseStyle$2=definePartsStyle$2({container:baseStyleContainer$1,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon}),accordionTheme=defineMultiStyleConfig$2({baseStyle:baseStyle$2}),{definePartsStyle:definePartsStyle$1,defineMultiStyleConfig:defineMultiStyleConfig$1}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg=cssVar$1("alert-fg"),$bg$1=cssVar$1("alert-bg"),baseStyle$1=definePartsStyle$1({container:{bg:$bg$1.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(i){const{theme:s,colorScheme:a}=i,o=transparentize(`${a}.200`,.16)(s);return{light:`colors.${a}.100`,dark:o}}var variantSubtle=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.500`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark}}}}),variantLeftAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.500`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg.reference}}}),variantTopAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.500`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg.reference}}}),variantSolid=definePartsStyle$1(i=>{const{colorScheme:s}=i;return{container:{[$fg.variable]:"colors.white",[$bg$1.variable]:`colors.${s}.500`,_dark:{[$fg.variable]:"colors.gray.900",[$bg$1.variable]:`colors.${s}.200`},color:$fg.reference}}}),variants$3={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},alertTheme=defineMultiStyleConfig$1({baseStyle:baseStyle$1,variants:variants$3,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle,defineMultiStyleConfig}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border=cssVar$1("avatar-border-color"),$bg=cssVar$1("avatar-bg"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",[$border.variable]:"white",_dark:{[$border.variable]:"colors.gray.800"},borderColor:$border.reference},baseStyleExcessLabel={[$bg.variable]:"colors.gray.200",_dark:{[$bg.variable]:"colors.whiteAlpha.400"},bgColor:$bg.reference},$avatarBg=cssVar$1("avatar-background"),baseStyleContainer=i=>{const{name:s,theme:a}=i,o=s?randomColor({string:s}):"colors.gray.400",it=isDark(o)(a);let tt="white";return it||(tt="gray.800"),{bg:$avatarBg.reference,"&:not([data-loaded])":{[$avatarBg.variable]:o},color:tt,[$border.variable]:"colors.white",_dark:{[$border.variable]:"colors.gray.800"},borderColor:$border.reference,verticalAlign:"top"}},baseStyle=definePartsStyle(i=>({badge:runIfFn$1(baseStyleBadge,i),excessLabel:runIfFn$1(baseStyleExcessLabel,i),container:runIfFn$1(baseStyleContainer,i)}));function getSize(i){const s=i!=="100%"?sizes_default[i]:void 0;return definePartsStyle({container:{width:i,height:i,fontSize:`calc(${s!=null?s:i} / 2.5)`},excessLabel:{width:i,height:i},label:{fontSize:`calc(${s!=null?s:i} / 2.5)`,lineHeight:i!=="100%"?s!=null?s:i:void 0}})}var sizes={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},avatarTheme=defineMultiStyleConfig({baseStyle,sizes,defaultProps:{size:"md"}}),components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}},direction="ltr",config={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$2={semanticTokens,direction,...foundations,components,styles,config};({...foundations});function isFunction$2(i){return typeof i=="function"}function pipe$1(...i){return s=>i.reduce((a,o)=>o(a),s)}var createExtendTheme=i=>function(...a){let o=[...a],it=a[a.length-1];return isChakraTheme(it)&&o.length>1?o=o.slice(0,o.length-1):it=i,pipe$1(...o.map(tt=>at=>isFunction$2(tt)?tt(at):mergeThemeOverride(at,tt)))(it)},extendTheme=createExtendTheme(theme$2);function mergeThemeOverride(...i){return mergeWith({},...i,mergeThemeCustomizer)}function mergeThemeCustomizer(i,s,a,o){if((isFunction$2(i)||isFunction$2(s))&&Object.prototype.hasOwnProperty.call(o,a))return(...it)=>{const tt=isFunction$2(i)?i(...it):i,at=isFunction$2(s)?s(...it):s;return mergeWith({},tt,at,mergeThemeCustomizer)}}function canUseDOM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var isBrowser$1=canUseDOM();function omit$1(i,s){const a={};return Object.keys(i).forEach(o=>{s.includes(o)||(a[o]=i[o])}),a}function get$2(i,s,a,o){const it=typeof s=="string"?s.split("."):[s];for(o=0;o<it.length&&i;o+=1)i=i[it[o]];return i===void 0?a:i}var memoize$1=i=>{const s=new WeakMap;return(o,it,tt,at)=>{if(typeof o>"u")return i(o,it,tt);s.has(o)||s.set(o,new Map);const ot=s.get(o);if(ot.has(it))return ot.get(it);const rt=i(o,it,tt,at);return ot.set(it,rt),rt}},memoizedGet=memoize$1(get$2);function objectFilter(i,s){const a={};return Object.keys(i).forEach(o=>{const it=i[o];s(it,o,i)&&(a[o]=it)}),a}var filterUndefined=i=>objectFilter(i,s=>s!=null);function isFunction$1(i){return typeof i=="function"}function runIfFn(i,...s){return isFunction$1(i)?i(...s):i}function callAllHandlers(...i){return function(a){i.some(o=>(o==null||o(a),a==null?void 0:a.defaultPrevented))}}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal$1(i,s){if(i===s)return!0;if(i&&s&&typeof i=="object"&&typeof s=="object"){if(i.constructor!==s.constructor)return!1;var a,o,it;if(Array.isArray(i)){if(a=i.length,a!=s.length)return!1;for(o=a;o--!==0;)if(!equal$1(i[o],s[o]))return!1;return!0}var tt;if(hasMap&&i instanceof Map&&s instanceof Map){if(i.size!==s.size)return!1;for(tt=i.entries();!(o=tt.next()).done;)if(!s.has(o.value[0]))return!1;for(tt=i.entries();!(o=tt.next()).done;)if(!equal$1(o.value[1],s.get(o.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&s instanceof Set){if(i.size!==s.size)return!1;for(tt=i.entries();!(o=tt.next()).done;)if(!s.has(o.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(s)){if(a=i.length,a!=s.length)return!1;for(o=a;o--!==0;)if(i[o]!==s[o])return!1;return!0}if(i.constructor===RegExp)return i.source===s.source&&i.flags===s.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===s.toString();if(it=Object.keys(i),a=it.length,a!==Object.keys(s).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(s,it[o]))return!1;if(hasElementType&&i instanceof Element)return!1;for(o=a;o--!==0;)if(!((it[o]==="_owner"||it[o]==="__v"||it[o]==="__o")&&i.$$typeof)&&!equal$1(i[it[o]],s[it[o]]))return!1;return!0}return i!==i&&s!==s}var reactFastCompare=function(s,a){try{return equal$1(s,a)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}};function useStyleConfigImpl(i,s={}){var a;const{styleConfig:o,...it}=s,{theme:tt,colorMode:at}=useChakra(),ot=i?memoizedGet(tt,`components.${i}`):void 0,rt=o||ot,nt=mergeWith({theme:tt,colorMode:at},(a=rt==null?void 0:rt.defaultProps)!=null?a:{},filterUndefined(omit$1(it,["children"]))),j=react.exports.useRef({});if(rt){const $=resolveStyleConfig(rt)(nt);reactFastCompare(j.current,$)||(j.current=$)}return j.current}function useStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}function useMultiStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(i){return validHTMLProps.has(i)||!allPropNames.has(i)}function compact(i){const s=Object.assign({},i);for(let a in s)s[a]===void 0&&delete s[a];return s}function assignAfter(i,...s){if(i==null)throw new TypeError("Cannot convert undefined or null to object");const a={...i};for(const o of s)if(o!=null)for(const it in o)!Object.prototype.hasOwnProperty.call(o,it)||(it in a&&delete a[it],a[it]=o[it]);return a}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$3(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,a,o){var it;if(a){var tt=a.shouldForwardProp;it=s.__emotion_forwardProp&&tt?function(at){return s.__emotion_forwardProp(at)&&tt(at)}:tt}return typeof it!="function"&&o&&(it=s.__emotion_forwardProp),it},Insertion=function(s){var a=s.cache,o=s.serialized,it=s.isStringTag;return registerStyles(a,o,it),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(a,o,it)}),null},createStyled=function i(s,a){var o=s.__emotion_real===s,it=o&&s.__emotion_base||s,tt,at;a!==void 0&&(tt=a.label,at=a.target);var ot=composeShouldForwardProps(s,a,o),rt=ot||getDefaultShouldForwardProp(it),nt=!rt("as");return function(){var j=arguments,_=o&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(tt!==void 0&&_.push("label:"+tt+";"),j[0]==null||j[0].raw===void 0)_.push.apply(_,j);else{_.push(j[0][0]);for(var $=j.length,et=1;et<$;et++)_.push(j[et],j[0][et])}var st=withEmotionCache(function(lt,ft,gt){var ut=nt&&lt.as||it,pt="",vt=[],dt=lt;if(lt.theme==null){dt={};for(var mt in lt)dt[mt]=lt[mt];dt.theme=react.exports.useContext(ThemeContext)}typeof lt.className=="string"?pt=getRegisteredStyles(ft.registered,vt,lt.className):lt.className!=null&&(pt=lt.className+" ");var Tt=serializeStyles(_.concat(vt),ft.registered,dt);pt+=ft.key+"-"+Tt.name,at!==void 0&&(pt+=" "+at);var yt=nt&&ot===void 0?getDefaultShouldForwardProp(ut):rt,ht={};for(var xt in lt)nt&&xt==="as"||yt(xt)&&(ht[xt]=lt[xt]);return ht.className=pt,ht.ref=gt,react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Insertion,{cache:ft,serialized:Tt,isStringTag:typeof ut=="string"}),react.exports.createElement(ut,ht))});return st.displayName=tt!==void 0?tt:"Styled("+(typeof it=="string"?it:it.displayName||it.name||"Component")+")",st.defaultProps=s.defaultProps,st.__emotion_real=st,st.__emotion_base=it,st.__emotion_styles=_,st.__emotion_forwardProp=ot,Object.defineProperty(st,"toString",{value:function(){return"."+at}}),st.withComponent=function(lt,ft){return i(lt,_extends({},a,ft,{shouldForwardProp:composeShouldForwardProps(st,ft,!0)})).apply(void 0,_)},st}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});var _a$1,emotion_styled=(_a$1=newStyled.default)!=null?_a$1:newStyled,toCSSObject=({baseStyle:i})=>s=>{const{theme:a,css:o,__css:it,sx:tt,...at}=s,ot=objectFilter(at,(_,$)=>isStyleProp($)),rt=runIfFn(i,s),nt=assignAfter({},it,rt,filterUndefined(ot),tt),j=css(nt)(s.theme);return o?[j,o]:j};function styled(i,s){const{baseStyle:a,...o}=s!=null?s:{};o.shouldForwardProp||(o.shouldForwardProp=shouldForwardProp);const it=toCSSObject({baseStyle:a}),tt=emotion_styled(i,o)(it);return React$3.forwardRef(function(rt,nt){const{colorMode:j,forced:_}=useColorMode();return jsx(tt,{ref:nt,"data-theme":_?j:void 0,...rt})})}function factory(){const i=new Map;return new Proxy(styled,{apply(s,a,o){return styled(...o)},get(s,a){return i.has(a)||i.set(a,styled(a)),i.get(a)}})}var chakra=factory();function forwardRef(i){return react.exports.forwardRef(i)}function createContext$1(i={}){const{strict:s=!0,errorMessage:a="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:o}=i,it=react.exports.createContext(void 0);it.displayName=o;function tt(){var at;const ot=react.exports.useContext(it);if(!ot&&s){const rt=new Error(a);throw rt.name="ContextError",(at=Error.captureStackTrace)==null||at.call(Error,rt,tt),rt}return ot}return[it.Provider,tt,it]}function ThemeProvider(i){const{cssVarsRoot:s,theme:a,children:o}=i,it=react.exports.useMemo(()=>toCSSVar(a),[a]);return jsxs(ThemeProvider$1,{theme:it,children:[jsx(CSSVars,{root:s}),o]})}function CSSVars({root:i=":host, :root"}){const s=[i,"[data-theme]"].join(",");return jsx(Global,{styles:a=>({[s]:a.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(i){return createContext$1({name:`${i}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${i} />" `})}function GlobalStyle(){const{colorMode:i}=useColorMode();return jsx(Global,{styles:s=>{const a=memoizedGet(s,"styles.global"),o=runIfFn(a,{theme:s,colorMode:i});return o?css(o)(s):void 0}})}var EnvironmentContext=react.exports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(i){const{children:s,environment:a,disabled:o}=i,it=react.exports.useRef(null),tt=react.exports.useMemo(()=>a||{getDocument:()=>{var ot,rt;return(rt=(ot=it.current)==null?void 0:ot.ownerDocument)!=null?rt:document},getWindow:()=>{var ot,rt;return(rt=(ot=it.current)==null?void 0:ot.ownerDocument.defaultView)!=null?rt:window}},[a]),at=!o||!a;return jsxs(EnvironmentContext.Provider,{value:tt,children:[s,at&&jsx("span",{id:"__chakra_env",hidden:!0,ref:it})]})}EnvironmentProvider.displayName="EnvironmentProvider";var ChakraProvider$1=i=>{const{children:s,colorModeManager:a,portalZIndex:o,resetCSS:it=!0,theme:tt={},environment:at,cssVarsRoot:ot,disableEnvironment:rt}=i,nt=jsx(EnvironmentProvider,{environment:at,disabled:rt,children:s});return jsx(ThemeProvider,{theme:tt,cssVarsRoot:ot,children:jsxs(ColorModeProvider,{colorModeManager:a,options:tt.config,children:[it?jsx(CSSReset,{}):jsx(CSSPolyfill,{}),jsx(GlobalStyle,{}),o?jsx(PortalManager,{zIndex:o,children:nt}):nt]})})},findById=(i,s)=>i.find(a=>a.id===s);function findToast(i,s){const a=getToastPosition(i,s),o=a?i[a].findIndex(it=>it.id===s):-1;return{position:a,index:o}}function getToastPosition(i,s){for(const[a,o]of Object.entries(i))if(findById(o,s))return a}function getToastStyle(i){const s=i.includes("right"),a=i.includes("left");let o="center";return s&&(o="flex-end"),a&&(o="flex-start"),{display:"flex",flexDirection:"column",alignItems:o}}function getToastListStyle(i){const a=i==="top"||i==="bottom"?"0 auto":void 0,o=i.includes("top")?"env(safe-area-inset-top, 0px)":void 0,it=i.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,tt=i.includes("left")?void 0:"env(safe-area-inset-right, 0px)",at=i.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:a,top:o,bottom:it,right:tt,left:at}}function useCallbackRef$2(i,s=[]){const a=react.exports.useRef(i);return react.exports.useEffect(()=>{a.current=i}),react.exports.useCallback((...o)=>{var it;return(it=a.current)==null?void 0:it.call(a,...o)},s)}function useTimeout(i,s){const a=useCallbackRef$2(i);react.exports.useEffect(()=>{if(s==null)return;let o=null;return o=window.setTimeout(()=>{a()},s),()=>{o&&window.clearTimeout(o)}},[s,a])}function useUpdateEffect(i,s){const a=react.exports.useRef(!1),o=react.exports.useRef(!1);react.exports.useEffect(()=>{if(a.current&&o.current)return i();o.current=!0},s),react.exports.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[])}const MotionConfigContext=react.exports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),MotionContext=react.exports.createContext({});function useVisualElementContext(){return react.exports.useContext(MotionContext).visualElement}const PresenceContext=react.exports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?react.exports.useLayoutEffect:react.exports.useEffect,LazyContext=react.exports.createContext({strict:!1});function useVisualElement(i,s,a,o){const it=useVisualElementContext(),tt=react.exports.useContext(LazyContext),at=react.exports.useContext(PresenceContext),ot=react.exports.useContext(MotionConfigContext).reducedMotion,rt=react.exports.useRef();o=o||tt.renderer,!rt.current&&o&&(rt.current=o(i,{visualState:s,parent:it,props:a,presenceId:at?at.id:void 0,blockInitialAnimation:at?at.initial===!1:!1,reducedMotionConfig:ot}));const nt=rt.current;return useIsomorphicLayoutEffect(()=>{nt&&nt.render()}),(window.HandoffAppearAnimations?useIsomorphicLayoutEffect:react.exports.useEffect)(()=>{nt&&nt.animationState&&nt.animationState.animateChanges()}),nt}function isRefObject(i){return typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function useMotionRef(i,s,a){return react.exports.useCallback(o=>{o&&i.mount&&i.mount(o),s&&(o?s.mount(o):s.unmount()),a&&(typeof a=="function"?a(o):isRefObject(a)&&(a.current=o))},[s])}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}function isAnimationControls(i){return typeof i=="object"&&typeof i.start=="function"}const variantProps$1=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps$1.some(s=>isVariantLabel(i[s]))}function isVariantNode(i){return Boolean(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,s){if(isControllingVariants(i)){const{initial:a,animate:o}=i;return{initial:a===!1||isVariantLabel(a)?a:void 0,animate:isVariantLabel(o)?o:void 0}}return i.inherit!==!1?s:{}}function useCreateMotionContext(i){const{initial:s,animate:a}=getCurrentTreeVariants(i,react.exports.useContext(MotionContext));return react.exports.useMemo(()=>({initial:s,animate:a}),[variantLabelsAsDependency(s),variantLabelsAsDependency(a)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const createDefinition=i=>({isEnabled:s=>i.some(a=>!!s[a])}),featureDefinitions={measureLayout:createDefinition(["layout","layoutId","drag"]),animation:createDefinition(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:createDefinition(["exit"]),drag:createDefinition(["drag","dragControls"]),focus:createDefinition(["whileFocus"]),hover:createDefinition(["whileHover","onHoverStart","onHoverEnd"]),tap:createDefinition(["whileTap","onTap","onTapStart","onTapCancel"]),pan:createDefinition(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:createDefinition(["whileInView","onViewportEnter","onViewportLeave"])};function loadFeatures(i){for(const s in i)s==="projectionNodeConstructor"?featureDefinitions.projectionNodeConstructor=i[s]:featureDefinitions[s].Component=i[s]}function useConstant(i){const s=react.exports.useRef(null);return s.current===null&&(s.current=i()),s.current}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let id$1=1;function useProjectionId(){return useConstant(()=>{if(globalProjectionState.hasEverUpdated)return id$1++})}const LayoutGroupContext=react.exports.createContext({});class VisualElementHandler extends React$3.Component{getSnapshotBeforeUpdate(){const{visualElement:s,props:a}=this.props;return s&&s.setProps(a),null}componentDidUpdate(){}render(){return this.props.children}}const SwitchLayoutGroupContext=react.exports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:i,createVisualElement:s,projectionNodeConstructor:a,useRender:o,useVisualState:it,Component:tt}){i&&loadFeatures(i);function at(rt,nt){const j={...react.exports.useContext(MotionConfigContext),...rt,layoutId:useLayoutId(rt)},{isStatic:_}=j;let $=null;const et=useCreateMotionContext(rt),st=_?void 0:useProjectionId(),lt=it(rt,_);if(!_&&isBrowser){et.visualElement=useVisualElement(tt,lt,j,s);const ft=react.exports.useContext(SwitchLayoutGroupContext);et.visualElement&&($=et.visualElement.loadFeatures(j,react.exports.useContext(LazyContext).strict,i,st,a||featureDefinitions.projectionNodeConstructor,ft))}return jsxs(VisualElementHandler,{visualElement:et.visualElement,props:j,children:[$,jsx(MotionContext.Provider,{value:et,children:o(tt,rt,st,useMotionRef(lt,et.visualElement,nt),lt,_,et.visualElement)})]})}const ot=react.exports.forwardRef(at);return ot[motionComponentSymbol]=tt,ot}function useLayoutId({layoutId:i}){const s=react.exports.useContext(LayoutGroupContext).id;return s&&i!==void 0?s+"-"+i:i}function createMotionProxy(i){function s(o,it={}){return createMotionComponent(i(o,it))}if(typeof Proxy>"u")return s;const a=new Map;return new Proxy(s,{get:(o,it)=>(a.has(it)||a.set(it,s(it)),a.get(it))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/.test(i))}const scaleCorrectors={};function addScaleCorrector(i){Object.assign(scaleCorrectors,i)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(i,{layout:s,layoutId:a}){return transformProps.has(i)||i.startsWith("origin")||(s||a!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}const isMotionValue=i=>!!(i!=null&&i.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sortTransformProps=(i,s)=>transformPropOrder.indexOf(i)-transformPropOrder.indexOf(s);function buildTransform({transform:i,transformKeys:s},{enableHardwareAcceleration:a=!0,allowTransformNone:o=!0},it,tt){let at="";s.sort(sortTransformProps);for(const ot of s)at+=`${translateAlias[ot]||ot}(${i[ot]}) `;return a&&!i.z&&(at+="translateZ(0)"),at=at.trim(),tt?at=tt(i,it?"":at):o&&it&&(at="none"),at}function isCSSVariable$1(i){return i.startsWith("--")}const getValueAsType=(i,s)=>s&&typeof i=="number"?s.transform(i):i,clamp=(i,s,a)=>Math.min(Math.max(a,i),s),number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale={...number,default:1},sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(i){return typeof i=="string"}const createUnitType=i=>({test:s=>isString$1(s)&&s.endsWith(i)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(i,s,a,o){const{style:it,vars:tt,transform:at,transformKeys:ot,transformOrigin:rt}=i;ot.length=0;let nt=!1,j=!1,_=!0;for(const $ in s){const et=s[$];if(isCSSVariable$1($)){tt[$]=et;continue}const st=numberValueTypes[$],lt=getValueAsType(et,st);if(transformProps.has($)){if(nt=!0,at[$]=lt,ot.push($),!_)continue;et!==(st.default||0)&&(_=!1)}else $.startsWith("origin")?(j=!0,rt[$]=lt):it[$]=lt}if(s.transform||(nt||o?it.transform=buildTransform(i,a,_,o):it.transform&&(it.transform="none")),j){const{originX:$="50%",originY:et="50%",originZ:st=0}=rt;it.transformOrigin=`${$} ${et} ${st}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function copyRawValuesOnly(i,s,a){for(const o in s)!isMotionValue(s[o])&&!isForcedMotionValue(o,a)&&(i[o]=s[o])}function useInitialMotionValues({transformTemplate:i},s,a){return react.exports.useMemo(()=>{const o=createHtmlRenderState();return buildHTMLStyles(o,s,{enableHardwareAcceleration:!a},i),Object.assign({},o.vars,o.style)},[s])}function useStyle(i,s,a){const o=i.style||{},it={};return copyRawValuesOnly(it,o,i),Object.assign(it,useInitialMotionValues(i,s,a)),i.transformValues?i.transformValues(it):it}function useHTMLProps(i,s,a){const o={},it=useStyle(i,s,a);return i.drag&&i.dragListener!==!1&&(o.draggable=!1,it.userSelect=it.WebkitUserSelect=it.WebkitTouchCallout="none",it.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(o.tabIndex=0),o.style=it,o}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){!i||(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):i(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(i,s,a){const o={};for(const it in i)it==="values"&&typeof i.values=="object"||(shouldForward(it)||a===!0&&isValidMotionProp(it)||!s&&!isValidMotionProp(it)||i.draggable&&it.startsWith("onDrag"))&&(o[it]=i[it]);return o}function calcOrigin$1(i,s,a){return typeof i=="string"?i:px.transform(s+a*i)}function calcSVGTransformOrigin(i,s,a){const o=calcOrigin$1(s,i.x,i.width),it=calcOrigin$1(a,i.y,i.height);return`${o} ${it}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,s,a=1,o=0,it=!0){i.pathLength=1;const tt=it?dashKeys:camelKeys;i[tt.offset]=px.transform(-o);const at=px.transform(s),ot=px.transform(a);i[tt.array]=`${at} ${ot}`}function buildSVGAttrs(i,{attrX:s,attrY:a,originX:o,originY:it,pathLength:tt,pathSpacing:at=1,pathOffset:ot=0,...rt},nt,j,_){if(buildHTMLStyles(i,rt,nt,_),j){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:$,style:et,dimensions:st}=i;$.transform&&(st&&(et.transform=$.transform),delete $.transform),st&&(o!==void 0||it!==void 0||et.transform)&&(et.transformOrigin=calcSVGTransformOrigin(st,o!==void 0?o:.5,it!==void 0?it:.5)),s!==void 0&&($.x=s),a!==void 0&&($.y=a),tt!==void 0&&buildSVGPath($,tt,at,ot,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg";function useSVGProps(i,s,a,o){const it=react.exports.useMemo(()=>{const tt=createSvgRenderState();return buildSVGAttrs(tt,s,{enableHardwareAcceleration:!1},isSVGTag(o),i.transformTemplate),{...tt.attrs,style:{...tt.style}}},[s]);if(i.style){const tt={};copyRawValuesOnly(tt,i.style,i),it.style={...tt,...it.style}}return it}function createUseRender(i=!1){return(a,o,it,tt,{latestValues:at},ot)=>{const nt=(isSVGComponent(a)?useSVGProps:useHTMLProps)(o,at,ot,a),_={...filterProps(o,typeof a=="string",i),...nt,ref:tt},{children:$}=o,et=react.exports.useMemo(()=>isMotionValue($)?$.get():$,[$]);return it&&(_["data-projection-id"]=it),react.exports.createElement(a,{..._,children:et})}}const camelToDash=i=>i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function renderHTML(i,{style:s,vars:a},o,it){Object.assign(i.style,s,it&&it.getProjectionStyles(o));for(const tt in a)i.style.setProperty(tt,a[tt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,s,a,o){renderHTML(i,s,void 0,o);for(const it in s.attrs)i.setAttribute(camelCaseAttributes.has(it)?it:camelToDash(it),s.attrs[it])}function scrapeMotionValuesFromProps$1(i,s){const{style:a}=i,o={};for(const it in a)(isMotionValue(a[it])||s.style&&isMotionValue(s.style[it])||isForcedMotionValue(it,i))&&(o[it]=a[it]);return o}function scrapeMotionValuesFromProps(i,s){const a=scrapeMotionValuesFromProps$1(i,s);for(const o in i)if(isMotionValue(i[o])||isMotionValue(s[o])){const it=o==="x"||o==="y"?"attr"+o.toUpperCase():o;a[it]=i[o]}return a}function resolveVariantFromProps(i,s,a,o={},it={}){return typeof s=="function"&&(s=s(a!==void 0?a:i.custom,o,it)),typeof s=="string"&&(s=i.variants&&i.variants[s]),typeof s=="function"&&(s=s(a!==void 0?a:i.custom,o,it)),s}const isKeyframesTarget=i=>Array.isArray(i),isCustomValue=i=>Boolean(i&&typeof i=="object"&&i.mix&&i.toValue),resolveFinalValueInKeyframes=i=>isKeyframesTarget(i)?i[i.length-1]||0:i;function resolveMotionValue(i){const s=isMotionValue(i)?i.get():i;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a},o,it,tt){const at={latestValues:makeLatestValues(o,it,tt,i),renderState:s()};return a&&(at.mount=ot=>a(o,ot,at)),at}const makeUseVisualState=i=>(s,a)=>{const o=react.exports.useContext(MotionContext),it=react.exports.useContext(PresenceContext),tt=()=>makeState(i,s,o,it);return a?tt():useConstant(tt)};function makeLatestValues(i,s,a,o){const it={},tt=o(i,{});for(const $ in tt)it[$]=resolveMotionValue(tt[$]);let{initial:at,animate:ot}=i;const rt=isControllingVariants(i),nt=isVariantNode(i);s&&nt&&!rt&&i.inherit!==!1&&(at===void 0&&(at=s.initial),ot===void 0&&(ot=s.animate));let j=a?a.initial===!1:!1;j=j||at===!1;const _=j?ot:at;return _&&typeof _!="boolean"&&!isAnimationControls(_)&&(Array.isArray(_)?_:[_]).forEach(et=>{const st=resolveVariantFromProps(i,et);if(!st)return;const{transitionEnd:lt,transition:ft,...gt}=st;for(const ut in gt){let pt=gt[ut];if(Array.isArray(pt)){const vt=j?pt.length-1:0;pt=pt[vt]}pt!==null&&(it[ut]=pt)}for(const ut in lt)it[ut]=lt[ut]}),it}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(i,s,{renderState:a,latestValues:o})=>{try{a.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(a,o,{enableHardwareAcceleration:!1},isSVGTag(s.tagName),i.transformTemplate),renderSVG(s,a)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(i,{forwardMotionProps:s=!1},a,o,it){return{...isSVGComponent(i)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:a,useRender:createUseRender(s),createVisualElement:o,projectionNodeConstructor:it,Component:i}}var AnimationType;(function(i){i.Animate="animate",i.Hover="whileHover",i.Tap="whileTap",i.Drag="whileDrag",i.Focus="whileFocus",i.InView="whileInView",i.Exit="exit"})(AnimationType||(AnimationType={}));function addDomEvent(i,s,a,o={passive:!0}){return i.addEventListener(s,a,o),()=>i.removeEventListener(s,a)}function useDomEvent(i,s,a,o){react.exports.useEffect(()=>{const it=i.current;if(a&&it)return addDomEvent(it,s,a,o)},[i,s,a,o])}function useFocusGesture({whileFocus:i,visualElement:s}){const a=react.exports.useRef(!1),{animationState:o}=s,it=react.exports.useCallback(()=>{let at=!1;try{at=s.current.matches(":focus-visible")}catch{at=!0}!at||!o||(o.setActive(AnimationType.Focus,!0),a.current=!0)},[o]),tt=react.exports.useCallback(()=>{!a.current||!o||(o.setActive(AnimationType.Focus,!1),a.current=!1)},[o]);useDomEvent(s,"focus",i?it:void 0),useDomEvent(s,"blur",i?tt:void 0)}const isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function extractEventInfo(i,s="page"){return{point:{x:i[s+"X"],y:i[s+"Y"]}}}const addPointerInfo=i=>s=>isPrimaryPointer(s)&&i(s,extractEventInfo(s));function addPointerEvent(i,s,a,o){return addDomEvent(i,s,addPointerInfo(a),o)}function usePointerEvent(i,s,a,o){return useDomEvent(i,s,a&&addPointerInfo(a),o)}function createLock(i){let s=null;return()=>{const a=()=>{s=null};return s===null?(s=i,a):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(i){let s=!1;if(i==="y")s=globalVerticalLock();else if(i==="x")s=globalHorizontalLock();else{const a=globalHorizontalLock(),o=globalVerticalLock();a&&o?s=()=>{a(),o()}:(a&&a(),o&&o())}return s}function isDragActive(){const i=getGlobalLock(!0);return i?(i(),!1):!0}function createHoverEvent(i,s,a,o){return(it,tt)=>{it.type==="touch"||isDragActive()||(a&&i.animationState&&i.animationState.setActive(AnimationType.Hover,s),o&&o(it,tt))}}function useHoverGesture({onHoverStart:i,onHoverEnd:s,whileHover:a,visualElement:o}){usePointerEvent(o,"pointerenter",react.exports.useMemo(()=>i||a?createHoverEvent(o,!0,Boolean(a),i):void 0,[i,Boolean(a),o]),{passive:!i}),usePointerEvent(o,"pointerleave",react.exports.useMemo(()=>s||a?createHoverEvent(o,!1,Boolean(a),s):void 0,[i,Boolean(a),o]),{passive:!s})}const isNodeOrChild=(i,s)=>s?i===s?!0:isNodeOrChild(i,s.parentElement):!1;function useUnmountEffect(i){return react.exports.useEffect(()=>()=>i(),[])}const combineFunctions=(i,s)=>a=>s(i(a)),pipe=(...i)=>i.reduce(combineFunctions);function fireSyntheticPointerEvent(i,s){if(!s)return;const a=new PointerEvent("pointer"+i);s(a,extractEventInfo(a))}function useTapGesture({onTap:i,onTapStart:s,onTapCancel:a,whileTap:o,visualElement:it,...tt}){const at=i||s||a||o,ot=react.exports.useRef(!1),rt=react.exports.useRef(null),nt={passive:!(s||i||a||tt.onPointerDown)};function j(){rt.current&&rt.current(),rt.current=null}function _(){return j(),ot.current=!1,it.getProps().whileTap&&it.animationState&&it.animationState.setActive(AnimationType.Tap,!1),!isDragActive()}function $(ut,pt){var vt,dt,mt,Tt;!_()||(isNodeOrChild(it.current,ut.target)?(Tt=(mt=it.getProps()).onTap)===null||Tt===void 0||Tt.call(mt,ut,pt):(dt=(vt=it.getProps()).onTapCancel)===null||dt===void 0||dt.call(vt,ut,pt))}function et(ut,pt){var vt,dt;!_()||(dt=(vt=it.getProps()).onTapCancel)===null||dt===void 0||dt.call(vt,ut,pt)}function st(ut,pt){var vt;const dt=it.getProps();dt.whileTap&&it.animationState&&it.animationState.setActive(AnimationType.Tap,!0),(vt=dt.onTapStart)===null||vt===void 0||vt.call(dt,ut,pt)}const lt=[Boolean(s),Boolean(i),Boolean(o),it],ft=react.exports.useCallback((ut,pt)=>{j(),!ot.current&&(ot.current=!0,rt.current=pipe(addPointerEvent(window,"pointerup",$,nt),addPointerEvent(window,"pointercancel",et,nt)),st(ut,pt))},lt);usePointerEvent(it,"pointerdown",at?ft:void 0,nt);const gt=react.exports.useCallback(()=>{const ut=addDomEvent(it.current,"keydown",vt=>{vt.key!=="Enter"||ot.current||(ot.current=!0,rt.current=addDomEvent(it.current,"keyup",()=>{vt.key!=="Enter"||!_()||fireSyntheticPointerEvent("up",it.getProps().onTap)},nt),fireSyntheticPointerEvent("down",st))}),pt=addDomEvent(it.current,"blur",()=>{ut(),pt(),ot.current&&fireSyntheticPointerEvent("cancel",et)})},lt);useDomEvent(it,"focus",at?gt:void 0),useUnmountEffect(j)}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const s=observerCallbacks.get(i.target);s&&s(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...s}){const a=i||document;observers.has(a)||observers.set(a,{});const o=observers.get(a),it=JSON.stringify(s);return o[it]||(o[it]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...s})),o[it]}function observeIntersection(i,s,a){const o=initIntersectionObserver(s);return observerCallbacks.set(i,a),o.observe(i),()=>{observerCallbacks.delete(i),o.unobserve(i)}}function useViewport({visualElement:i,whileInView:s,onViewportEnter:a,onViewportLeave:o,viewport:it={}}){const tt=react.exports.useRef({hasEnteredView:!1,isInView:!1});let at=Boolean(s||a||o);it.once&&tt.current.hasEnteredView&&(at=!1),(typeof IntersectionObserver>"u"?useMissingIntersectionObserver:useIntersectionObserver)(at,tt.current,i,it)}const thresholdNames={some:0,all:1};function useIntersectionObserver(i,s,a,{root:o,margin:it,amount:tt="some",once:at}){react.exports.useEffect(()=>{if(!i||!a.current)return;const ot={root:o==null?void 0:o.current,rootMargin:it,threshold:typeof tt=="number"?tt:thresholdNames[tt]},rt=nt=>{const{isIntersecting:j}=nt;if(s.isInView===j||(s.isInView=j,at&&!j&&s.hasEnteredView))return;j&&(s.hasEnteredView=!0),a.animationState&&a.animationState.setActive(AnimationType.InView,j);const _=a.getProps(),$=j?_.onViewportEnter:_.onViewportLeave;$&&$(nt)};return observeIntersection(a.current,ot,rt)},[i,o,it,tt])}function useMissingIntersectionObserver(i,s,a,{fallback:o=!0}){react.exports.useEffect(()=>{!i||!o||requestAnimationFrame(()=>{s.hasEnteredView=!0;const{onViewportEnter:it}=a.getProps();it&&it(null),a.animationState&&a.animationState.setActive(AnimationType.InView,!0)})},[i])}const makeRenderlessComponent=i=>s=>(i(s),null),gestureAnimations={inView:makeRenderlessComponent(useViewport),tap:makeRenderlessComponent(useTapGesture),focus:makeRenderlessComponent(useFocusGesture),hover:makeRenderlessComponent(useHoverGesture)};function usePresence(){const i=react.exports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:o}=i,it=react.exports.useId();return react.exports.useEffect(()=>o(it),[]),!s&&a?[!1,()=>a&&a(it)]:[!0]}function useIsPresent(){return isPresent(react.exports.useContext(PresenceContext))}function isPresent(i){return i===null?!0:i.isPresent}function shallowCompare(i,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==i.length)return!1;for(let o=0;o<a;o++)if(s[o]!==i[o])return!1;return!0}const isNumericalString=i=>/^\-?\d*\.?\d+$/.test(i),isZeroValueString=i=>/^0[^.\s]+$/.test(i),frameData={delta:0,timestamp:0},defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?i=>window.requestAnimationFrame(i):i=>setTimeout(()=>i(getCurrentTime()),defaultTimestep);function createRenderStep(i){let s=[],a=[],o=0,it=!1,tt=!1;const at=new WeakSet,ot={schedule:(rt,nt=!1,j=!1)=>{const _=j&&it,$=_?s:a;return nt&&at.add(rt),$.indexOf(rt)===-1&&($.push(rt),_&&it&&(o=s.length)),rt},cancel:rt=>{const nt=a.indexOf(rt);nt!==-1&&a.splice(nt,1),at.delete(rt)},process:rt=>{if(it){tt=!0;return}if(it=!0,[s,a]=[a,s],a.length=0,o=s.length,o)for(let nt=0;nt<o;nt++){const j=s[nt];j(rt),at.has(j)&&(ot.schedule(j),i())}it=!1,tt&&(tt=!1,ot.process(rt))}};return ot}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((i,s)=>(i[s]=createRenderStep(()=>runNextFrame=!0),i),{}),sync=stepsOrder.reduce((i,s)=>{const a=steps[s];return i[s]=(o,it=!1,tt=!1)=>(runNextFrame||startLoop(),a.schedule(o,it,tt)),i},{}),cancelSync=stepsOrder.reduce((i,s)=>(i[s]=steps[s].cancel,i),{}),flushSync=stepsOrder.reduce((i,s)=>(i[s]=()=>steps[s].process(frameData),i),{}),processStep=i=>steps[i].process(frameData),processFrame=i=>{runNextFrame=!1,frameData.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(i-frameData.timestamp,maxElapsed),1),frameData.timestamp=i,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)};function addUniqueItem(i,s){i.indexOf(s)===-1&&i.push(s)}function removeItem(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,a,o){const it=this.subscriptions.length;if(!!it)if(it===1)this.subscriptions[0](s,a,o);else for(let tt=0;tt<it;tt++){const at=this.subscriptions[tt];at&&at(s,a,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(i,s){return s?i*(1e3/s):0}const isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(s,a={}){this.version="9.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,it=!0)=>{this.prev=this.current,this.current=o;const{delta:tt,timestamp:at}=frameData;this.lastUpdated!==at&&(this.timeDelta=tt,this.lastUpdated=at,sync.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),it&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sync.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=s,this.canTrackVelocity=isFloat(this.current),this.owner=a.owner}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new SubscriptionManager);const o=this.events[s].add(a);return s==="change"?()=>{o(),sync.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s,a=!0){!a||!this.passiveEffect?this.updateAndNotify(s,a):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,a,o){this.set(a),this.prev=s,this.timeDelta=o}jump(s){this.updateAndNotify(s),this.prev=s,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,s){return new MotionValue(i,s)}const isColorString=(i,s)=>a=>Boolean(isString$1(a)&&singleColorRegex.test(a)&&a.startsWith(i)||s&&Object.prototype.hasOwnProperty.call(a,s)),splitColor=(i,s,a)=>o=>{if(!isString$1(o))return o;const[it,tt,at,ot]=o.match(floatRegex);return{[i]:parseFloat(it),[s]:parseFloat(tt),[a]:parseFloat(at),alpha:ot!==void 0?parseFloat(ot):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:s,blue:a,alpha:o=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(a)+", "+sanitize(alpha.transform(o))+")"};function parseHex(i){let s="",a="",o="",it="";return i.length>5?(s=i.substring(1,3),a=i.substring(3,5),o=i.substring(5,7),it=i.substring(7,9)):(s=i.substring(1,2),a=i.substring(2,3),o=i.substring(3,4),it=i.substring(4,5),s+=s,a+=a,o+=o,it+=it),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(o,16),alpha:it?parseInt(it,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:s,lightness:a,alpha:o=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(a))+", "+sanitize(alpha.transform(o))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>isString$1(i)?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i)},colorToken="${c}",numberToken="${n}";function test(i){var s,a;return isNaN(i)&&isString$1(i)&&(((s=i.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((a=i.match(colorRegex))===null||a===void 0?void 0:a.length)||0)>0}function analyseComplexValue(i){typeof i=="number"&&(i=`${i}`);const s=[];let a=0,o=0;const it=i.match(colorRegex);it&&(a=it.length,i=i.replace(colorRegex,colorToken),s.push(...it.map(color.parse)));const tt=i.match(floatRegex);return tt&&(o=tt.length,i=i.replace(floatRegex,numberToken),s.push(...tt.map(number.parse))),{values:s,numColors:a,numNumbers:o,tokenised:i}}function parse$1(i){return analyseComplexValue(i).values}function createTransformer(i){const{values:s,numColors:a,tokenised:o}=analyseComplexValue(i),it=s.length;return tt=>{let at=o;for(let ot=0;ot<it;ot++)at=at.replace(ot<a?colorToken:numberToken,ot<a?color.transform(tt[ot]):sanitize(tt[ot]));return at}}const convertNumbersToZero=i=>typeof i=="number"?0:i;function getAnimatableNone$1(i){const s=parse$1(i);return createTransformer(i)(s.map(convertNumbersToZero))}const complex={test,parse:parse$1,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[s,a]=i.slice(0,-1).split("(");if(s==="drop-shadow")return i;const[o]=a.match(floatRegex)||[];if(!o)return i;const it=a.replace(o,"");let tt=maxDefaults.has(s)?1:0;return o!==a&&(tt*=100),s+"("+tt+it+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter$1={...complex,getAnimatableNone:i=>{const s=i.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):i}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,s){var a;let o=getDefaultValueType(i);return o!==filter$1&&(o=complex),(a=o.getAnimatableNone)===null||a===void 0?void 0:a.call(o,s)}const testValueType=i=>s=>s.test(i),auto={test:i=>i==="auto",parse:i=>i},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i));function getCurrent(i){const s={};return i.values.forEach((a,o)=>s[o]=a.get()),s}function getVelocity$1(i){const s={};return i.values.forEach((a,o)=>s[o]=a.getVelocity()),s}function resolveVariant(i,s,a){const o=i.getProps();return resolveVariantFromProps(o,s,a!==void 0?a:o.custom,getCurrent(i),getVelocity$1(i))}function setMotionValue(i,s,a){i.hasValue(s)?i.getValue(s).set(a):i.addValue(s,motionValue(a))}function setTarget(i,s){const a=resolveVariant(i,s);let{transitionEnd:o={},transition:it={},...tt}=a?i.makeTargetAnimatable(a,!1):{};tt={...tt,...o};for(const at in tt){const ot=resolveFinalValueInKeyframes(tt[at]);setMotionValue(i,at,ot)}}function checkTargetForNewValues(i,s,a){var o,it;const tt=Object.keys(s).filter(ot=>!i.hasValue(ot)),at=tt.length;if(!!at)for(let ot=0;ot<at;ot++){const rt=tt[ot],nt=s[rt];let j=null;Array.isArray(nt)&&(j=nt[0]),j===null&&(j=(it=(o=a[rt])!==null&&o!==void 0?o:i.readValue(rt))!==null&&it!==void 0?it:s[rt]),j!=null&&(typeof j=="string"&&(isNumericalString(j)||isZeroValueString(j))?j=parseFloat(j):!findValueType(j)&&complex.test(nt)&&(j=getAnimatableNone(rt,nt)),i.addValue(rt,motionValue(j,{owner:i})),a[rt]===void 0&&(a[rt]=j),j!==null&&i.setBaseTarget(rt,j))}}function getOriginFromTransition(i,s){return s?(s[i]||s.default||s).from:void 0}function getOrigin(i,s,a){var o;const it={};for(const tt in i){const at=getOriginFromTransition(tt,s);it[tt]=at!==void 0?at:(o=a.getValue(tt))===null||o===void 0?void 0:o.get()}return it}function isWillChangeMotionValue(i){return Boolean(isMotionValue(i)&&i.add)}const optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);var warning=function(){},invariant=function(){};const secondsToMilliseconds=i=>i*1e3,instantAnimationState={current:!1},mirrorEasing=i=>s=>s<=.5?i(2*s)/2:(2-i(2*(1-s)))/2,reverseEasing=i=>s=>1-i(1-s),easeIn=i=>i*i,easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),mix=(i,s,a)=>-a*i+a*s+i;function hueToRgb(i,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?i+(s-i)*6*a:a<1/2?s:a<2/3?i+(s-i)*(2/3-a)*6:i}function hslaToRgba({hue:i,saturation:s,lightness:a,alpha:o}){i/=360,s/=100,a/=100;let it=0,tt=0,at=0;if(!s)it=tt=at=a;else{const ot=a<.5?a*(1+s):a+s-a*s,rt=2*a-ot;it=hueToRgb(rt,ot,i+1/3),tt=hueToRgb(rt,ot,i),at=hueToRgb(rt,ot,i-1/3)}return{red:Math.round(it*255),green:Math.round(tt*255),blue:Math.round(at*255),alpha:o}}const mixLinearColor=(i,s,a)=>{const o=i*i;return Math.sqrt(Math.max(0,a*(s*s-o)+o))},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(s=>s.test(i));function asRGBA(i){const s=getColorType(i);let a=s.parse(i);return s===hsla&&(a=hslaToRgba(a)),a}const mixColor=(i,s)=>{const a=asRGBA(i),o=asRGBA(s),it={...a};return tt=>(it.red=mixLinearColor(a.red,o.red,tt),it.green=mixLinearColor(a.green,o.green,tt),it.blue=mixLinearColor(a.blue,o.blue,tt),it.alpha=mix(a.alpha,o.alpha,tt),rgba.transform(it))};function getMixer(i,s){return typeof i=="number"?a=>mix(i,s,a):color.test(i)?mixColor(i,s):mixComplex(i,s)}const mixArray=(i,s)=>{const a=[...i],o=a.length,it=i.map((tt,at)=>getMixer(tt,s[at]));return tt=>{for(let at=0;at<o;at++)a[at]=it[at](tt);return a}},mixObject=(i,s)=>{const a={...i,...s},o={};for(const it in a)i[it]!==void 0&&s[it]!==void 0&&(o[it]=getMixer(i[it],s[it]));return it=>{for(const tt in o)a[tt]=o[tt](it);return a}},mixComplex=(i,s)=>{const a=complex.createTransformer(s),o=analyseComplexValue(i),it=analyseComplexValue(s);return o.numColors===it.numColors&&o.numNumbers>=it.numNumbers?pipe(mixArray(o.values,it.values),a):at=>`${at>0?s:i}`},progress=(i,s,a)=>{const o=s-i;return o===0?1:(a-i)/o},mixNumber=(i,s)=>a=>mix(i,s,a);function detectMixerFactory(i){return typeof i=="number"?mixNumber:typeof i=="string"?color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?mixObject:mixNumber}function createMixers(i,s,a){const o=[],it=a||detectMixerFactory(i[0]),tt=i.length-1;for(let at=0;at<tt;at++){let ot=it(i[at],i[at+1]);if(s){const rt=Array.isArray(s)?s[at]:s;ot=pipe(rt,ot)}o.push(ot)}return o}function interpolate(i,s,{clamp:a=!0,ease:o,mixer:it}={}){const tt=i.length;invariant(tt===s.length),invariant(!o||!Array.isArray(o)||o.length===tt-1),i[0]>i[tt-1]&&(i=[...i].reverse(),s=[...s].reverse());const at=createMixers(s,o,it),ot=at.length,rt=nt=>{let j=0;if(ot>1)for(;j<i.length-2&&!(nt<i[j+1]);j++);const _=progress(i[j],i[j+1],nt);return at[j](_)};return a?nt=>rt(clamp(i[0],i[tt-1],nt)):rt}const noop=i=>i,calcBezier=(i,s,a)=>(((1-3*a+3*s)*i+(3*a-6*s))*i+3*s)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,s,a,o,it){let tt,at,ot=0;do at=s+(a-s)/2,tt=calcBezier(at,o,it)-i,tt>0?a=at:s=at;while(Math.abs(tt)>subdivisionPrecision&&++ot<subdivisionMaxIterations);return at}function cubicBezier(i,s,a,o){if(i===s&&a===o)return noop;const it=tt=>binarySubdivide(tt,0,1,i,a);return tt=>tt===0||tt===1?tt:calcBezier(it(tt),s,o)}const circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=i=>{if(Array.isArray(i)){invariant(i.length===4);const[s,a,o,it]=i;return cubicBezier(s,a,o,it)}else if(typeof i=="string")return easingLookup[i];return i},isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number";function defaultEasing(i,s){return i.map(()=>s||easeInOut).splice(0,i.length-1)}function defaultOffset(i){const s=i.length;return i.map((a,o)=>o!==0?o/(s-1):0)}function convertOffsetToTimes(i,s){return i.map(a=>a*s)}function keyframes({keyframes:i,ease:s=easeInOut,times:a,duration:o=300}){i=[...i];const it=isEasingArray(s)?s.map(easingDefinitionToFunction):easingDefinitionToFunction(s),tt={done:!1,value:i[0]},at=convertOffsetToTimes(a&&a.length===i.length?a:defaultOffset(i),o);function ot(){return interpolate(at,i,{ease:Array.isArray(it)?it:defaultEasing(i,it)})}let rt=ot();return{next:nt=>(tt.value=rt(nt),tt.done=nt>=o,tt),flipTarget:()=>{i.reverse(),rt=ot()}}}const safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:i=800,bounce:s=.25,velocity:a=0,mass:o=1}){let it,tt;warning(i<=maxDuration*1e3);let at=1-s;at=clamp(minDamping,maxDamping,at),i=clamp(minDuration,maxDuration,i/1e3),at<1?(it=nt=>{const j=nt*at,_=j*i,$=j-a,et=calcAngularFreq(nt,at),st=Math.exp(-_);return safeMin-$/et*st},tt=nt=>{const _=nt*at*i,$=_*a+a,et=Math.pow(at,2)*Math.pow(nt,2)*i,st=Math.exp(-_),lt=calcAngularFreq(Math.pow(nt,2),at);return(-it(nt)+safeMin>0?-1:1)*(($-et)*st)/lt}):(it=nt=>{const j=Math.exp(-nt*i),_=(nt-a)*i+1;return-safeMin+j*_},tt=nt=>{const j=Math.exp(-nt*i),_=(a-nt)*(i*i);return j*_});const ot=5/i,rt=approximateRoot(it,tt,ot);if(i=i*1e3,isNaN(rt))return{stiffness:100,damping:10,duration:i};{const nt=Math.pow(rt,2)*o;return{stiffness:nt,damping:at*2*Math.sqrt(o*nt),duration:i}}}const rootIterations=12;function approximateRoot(i,s,a){let o=a;for(let it=1;it<rootIterations;it++)o=o-i(o)/s(o);return o}function calcAngularFreq(i,s){return i*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,s){return s.some(a=>i[a]!==void 0)}function getSpringOptions(i){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys)){const a=findSpring(i);s={...s,...a,velocity:0,mass:1},s.isResolvedFromDuration=!0}return s}const velocitySampleDuration=5;function spring({keyframes:i,restDelta:s,restSpeed:a,...o}){let it=i[0],tt=i[i.length-1];const at={done:!1,value:it},{stiffness:ot,damping:rt,mass:nt,velocity:j,duration:_,isResolvedFromDuration:$}=getSpringOptions(o);let et=zero,st=j?-(j/1e3):0;const lt=rt/(2*Math.sqrt(ot*nt));function ft(){const gt=tt-it,ut=Math.sqrt(ot/nt)/1e3,pt=Math.abs(gt)<5;if(a||(a=pt?.01:2),s||(s=pt?.005:.5),lt<1){const vt=calcAngularFreq(ut,lt);et=dt=>{const mt=Math.exp(-lt*ut*dt);return tt-mt*((st+lt*ut*gt)/vt*Math.sin(vt*dt)+gt*Math.cos(vt*dt))}}else if(lt===1)et=vt=>tt-Math.exp(-ut*vt)*(gt+(st+ut*gt)*vt);else{const vt=ut*Math.sqrt(lt*lt-1);et=dt=>{const mt=Math.exp(-lt*ut*dt),Tt=Math.min(vt*dt,300);return tt-mt*((st+lt*ut*gt)*Math.sinh(Tt)+vt*gt*Math.cosh(Tt))/vt}}}return ft(),{next:gt=>{const ut=et(gt);if($)at.done=gt>=_;else{let pt=st;if(gt!==0)if(lt<1){const mt=Math.max(0,gt-velocitySampleDuration);pt=velocityPerSecond(ut-et(mt),gt-mt)}else pt=0;const vt=Math.abs(pt)<=a,dt=Math.abs(tt-ut)<=s;at.done=vt&&dt}return at.value=at.done?tt:ut,at},flipTarget:()=>{st=-st,[it,tt]=[tt,it],ft()}}}spring.needsInterpolation=(i,s)=>typeof i=="string"||typeof s=="string";const zero=i=>0;function decay({keyframes:i=[0],velocity:s=0,power:a=.8,timeConstant:o=350,restDelta:it=.5,modifyTarget:tt}){const at=i[0],ot={done:!1,value:at};let rt=a*s;const nt=at+rt,j=tt===void 0?nt:tt(nt);return j!==nt&&(rt=j-at),{next:_=>{const $=-rt*Math.exp(-_/o);return ot.done=!($>it||$<-it),ot.value=ot.done?j:j+$,ot},flipTarget:()=>{}}}const types$1={decay,keyframes,tween:keyframes,spring};function loopElapsed(i,s,a=0){return i-s-a}function reverseElapsed(i,s=0,a=0,o=!0){return o?loopElapsed(s+-i,s,a):s-(i-s)+a}function hasRepeatDelayElapsed(i,s,a,o){return o?i>=s+a:i<=-a}const framesync=i=>{const s=({delta:a})=>i(a);return{start:()=>sync.update(s,!0),stop:()=>cancelSync.update(s)}};function animate$1({duration:i,driver:s=framesync,elapsed:a=0,repeat:o=0,repeatType:it="loop",repeatDelay:tt=0,keyframes:at,autoplay:ot=!0,onPlay:rt,onStop:nt,onComplete:j,onRepeat:_,onUpdate:$,type:et="keyframes",...st}){var lt,ft;const gt=a;let ut,pt=0,vt=i,dt=!1,mt=!0,Tt;const yt=types$1[at.length>2?"keyframes":et]||keyframes,ht=at[0],xt=at[at.length-1];let wt={done:!1,value:ht};!((ft=(lt=yt).needsInterpolation)===null||ft===void 0)&&ft.call(lt,ht,xt)&&(Tt=interpolate([0,100],[ht,xt],{clamp:!1}),at=[0,100]);const kt=yt({...st,duration:i,keyframes:at});function Ct(){pt++,it==="reverse"?(mt=pt%2===0,a=reverseElapsed(a,vt,tt,mt)):(a=loopElapsed(a,vt,tt),it==="mirror"&&kt.flipTarget()),dt=!1,_&&_()}function Rt(){ut&&ut.stop(),j&&j()}function Lt(Wt){mt||(Wt=-Wt),a+=Wt,dt||(wt=kt.next(Math.max(0,a)),Tt&&(wt.value=Tt(wt.value)),dt=mt?wt.done:a<=0),$&&$(wt.value),dt&&(pt===0&&(vt=vt!==void 0?vt:a),pt<o?hasRepeatDelayElapsed(a,vt,tt,mt)&&Ct():Rt())}function Mt(){rt&&rt(),ut=s(Lt),ut.start()}return ot&&Mt(),{stop:()=>{nt&&nt(),ut&&ut.stop()},set currentTime(Wt){a=gt,Lt(Wt)},sample:Wt=>{a=gt;const Pt=i&&typeof i=="number"?Math.max(i*.5,50):50;let Ot=0;for(Lt(0);Ot<=Wt;){const Xt=Wt-Ot;Lt(Math.min(Xt,Pt)),Ot+=Pt}return wt}}}function isWaapiSupportedEasing(i){return!i||Array.isArray(i)||typeof i=="string"&&supportedWaapiEasing[i]}const cubicBezierAsString=([i,s,a,o])=>`cubic-bezier(${i}, ${s}, ${a}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(i){if(!!i)return Array.isArray(i)?cubicBezierAsString(i):supportedWaapiEasing[i]}function animateStyle(i,s,a,{delay:o=0,duration:it,repeat:tt=0,repeatType:at="loop",ease:ot,times:rt}={}){return i.animate({[s]:a,offset:rt},{delay:o,duration:it,easing:mapEasingToNativeEasing(ot),fill:"both",iterations:tt+1,direction:at==="reverse"?"alternate":"normal"})}const featureTests={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},results={},supports={};for(const i in featureTests)supports[i]=()=>(results[i]===void 0&&(results[i]=featureTests[i]()),results[i]);function getFinalKeyframe(i,{repeat:s,repeatType:a="loop"}){const o=s&&a!=="loop"&&s%2===1?0:i.length-1;return i[o]}const acceleratedValues=new Set(["opacity"]),sampleDelta=10;function createAcceleratedAnimation(i,s,{onUpdate:a,onComplete:o,...it}){if(!(supports.waapi()&&acceleratedValues.has(s)&&!it.repeatDelay&&it.repeatType!=="mirror"&&it.damping!==0))return!1;let{keyframes:at,duration:ot=300,elapsed:rt=0,ease:nt}=it;if(it.type==="spring"||!isWaapiSupportedEasing(it.ease)){if(it.repeat===1/0)return;const _=animate$1({...it,elapsed:0});let $={done:!1,value:at[0]};const et=[];let st=0;for(;!$.done&&st<2e4;)$=_.sample(st),et.push($.value),st+=sampleDelta;at=et,ot=st-sampleDelta,nt="linear"}const j=animateStyle(i.owner.current,s,at,{...it,delay:-rt,duration:ot,ease:nt});return j.onfinish=()=>{i.set(getFinalKeyframe(at,it)),sync.update(()=>j.cancel()),o&&o()},{get currentTime(){return j.currentTime||0},set currentTime(_){j.currentTime=_},stop:()=>{const{currentTime:_}=j;if(_){const $=animate$1({...it,autoplay:!1});i.setWithVelocity($.sample(_-sampleDelta).value,$.sample(_).value,sampleDelta)}sync.update(()=>j.cancel())}}}function delay(i,s){const a=performance.now(),o=({timestamp:it})=>{const tt=it-a;tt>=s&&(cancelSync.read(o),i(tt-s))};return sync.read(o,!0),()=>cancelSync.read(o)}function createInstantAnimation({keyframes:i,elapsed:s,onUpdate:a,onComplete:o}){const it=()=>{a&&a(i[i.length-1]),o&&o()};return s?{stop:delay(it,-s)}:it()}function inertia({keyframes:i,velocity:s=0,min:a,max:o,power:it=.8,timeConstant:tt=750,bounceStiffness:at=500,bounceDamping:ot=10,restDelta:rt=1,modifyTarget:nt,driver:j,onUpdate:_,onComplete:$,onStop:et}){const st=i[0];let lt;function ft(vt){return a!==void 0&&vt<a||o!==void 0&&vt>o}function gt(vt){return a===void 0?o:o===void 0||Math.abs(a-vt)<Math.abs(o-vt)?a:o}function ut(vt){lt==null||lt.stop(),lt=animate$1({keyframes:[0,1],velocity:0,...vt,driver:j,onUpdate:dt=>{var mt;_==null||_(dt),(mt=vt.onUpdate)===null||mt===void 0||mt.call(vt,dt)},onComplete:$,onStop:et})}function pt(vt){ut({type:"spring",stiffness:at,damping:ot,restDelta:rt,...vt})}if(ft(st))pt({velocity:s,keyframes:[st,gt(st)]});else{let vt=it*s+st;typeof nt<"u"&&(vt=nt(vt));const dt=gt(vt),mt=dt===a?-1:1;let Tt,yt;const ht=xt=>{Tt=yt,yt=xt,s=velocityPerSecond(xt-Tt,frameData.delta),(mt===1&&xt>dt||mt===-1&&xt<dt)&&pt({keyframes:[xt,dt],velocity:s})};ut({type:"decay",keyframes:[st,0],velocity:s,timeConstant:tt,power:it,restDelta:rt,modifyTarget:nt,onUpdate:ft(vt)?ht:void 0})}return{stop:()=>lt==null?void 0:lt.stop()}}const underDampedSpring=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),linearTween=()=>({type:"keyframes",ease:"linear",duration:.3}),keyframesTransition={type:"keyframes",duration:.8},defaultTransitions={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},getDefaultTransition=(i,{keyframes:s})=>s.length>2?keyframesTransition:(defaultTransitions[i]||defaultTransitions.default)(s[1]),isAnimatable=(i,s)=>i==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&complex.test(s)&&!s.startsWith("url("));function isTransitionDefined({when:i,delay:s,delayChildren:a,staggerChildren:o,staggerDirection:it,repeat:tt,repeatType:at,repeatDelay:ot,from:rt,elapsed:nt,...j}){return!!Object.keys(j).length}function isZero(i){return i===0||typeof i=="string"&&parseFloat(i)===0&&i.indexOf(" ")===-1}function getZeroUnit(i){return typeof i=="number"?0:getAnimatableNone("",i)}function getValueTransition(i,s){return i[s]||i.default||i}function getKeyframes(i,s,a,o){const it=isAnimatable(s,a);let tt=o.from!==void 0?o.from:i.get();return tt==="none"&&it&&typeof a=="string"?tt=getAnimatableNone(s,a):isZero(tt)&&typeof a=="string"?tt=getZeroUnit(a):!Array.isArray(a)&&isZero(a)&&typeof tt=="string"&&(a=getZeroUnit(tt)),Array.isArray(a)?(a[0]===null&&(a[0]=tt),a):[tt,a]}const createMotionValueAnimation=(i,s,a,o={})=>it=>{const tt=getValueTransition(o,i)||{},at=tt.delay||o.delay||0;let{elapsed:ot=0}=o;ot=ot-secondsToMilliseconds(at);const rt=getKeyframes(s,i,a,tt),nt=rt[0],j=rt[rt.length-1],_=isAnimatable(i,nt),$=isAnimatable(i,j);let et={keyframes:rt,velocity:s.getVelocity(),...tt,elapsed:ot,onUpdate:ft=>{s.set(ft),tt.onUpdate&&tt.onUpdate(ft)},onComplete:()=>{it(),tt.onComplete&&tt.onComplete()}};if(!_||!$||instantAnimationState.current||tt.type===!1)return createInstantAnimation(et);if(tt.type==="inertia")return inertia(et);isTransitionDefined(tt)||(et={...et,...getDefaultTransition(i,et)}),et.duration&&(et.duration=secondsToMilliseconds(et.duration)),et.repeatDelay&&(et.repeatDelay=secondsToMilliseconds(et.repeatDelay));const st=s.owner,lt=st&&st.current;if(st&&lt instanceof HTMLElement&&!(st!=null&&st.getProps().onUpdate)){const ft=createAcceleratedAnimation(s,i,et);if(ft)return ft}return animate$1(et)};function animateVisualElement(i,s,a={}){i.notify("AnimationStart",s);let o;if(Array.isArray(s)){const it=s.map(tt=>animateVariant(i,tt,a));o=Promise.all(it)}else if(typeof s=="string")o=animateVariant(i,s,a);else{const it=typeof s=="function"?resolveVariant(i,s,a.custom):s;o=animateTarget(i,it,a)}return o.then(()=>i.notify("AnimationComplete",s))}function animateVariant(i,s,a={}){var o;const it=resolveVariant(i,s,a.custom);let{transition:tt=i.getDefaultTransition()||{}}=it||{};a.transitionOverride&&(tt=a.transitionOverride);const at=it?()=>animateTarget(i,it,a):()=>Promise.resolve(),ot=!((o=i.variantChildren)===null||o===void 0)&&o.size?(nt=0)=>{const{delayChildren:j=0,staggerChildren:_,staggerDirection:$}=tt;return animateChildren(i,s,j+nt,_,$,a)}:()=>Promise.resolve(),{when:rt}=tt;if(rt){const[nt,j]=rt==="beforeChildren"?[at,ot]:[ot,at];return nt().then(j)}else return Promise.all([at(),ot(a.delay)])}function animateTarget(i,s,{delay:a=0,transitionOverride:o,type:it}={}){var tt;let{transition:at=i.getDefaultTransition(),transitionEnd:ot,...rt}=i.makeTargetAnimatable(s);const nt=i.getValue("willChange");o&&(at=o);const j=[],_=it&&((tt=i.animationState)===null||tt===void 0?void 0:tt.getState()[it]);for(const $ in rt){const et=i.getValue($),st=rt[$];if(!et||st===void 0||_&&shouldBlockAnimation(_,$))continue;const lt={delay:a,elapsed:0,...at};if(window.HandoffAppearAnimations&&!et.hasAnimated){const gt=i.getProps()[optimizedAppearDataAttribute];gt&&(lt.elapsed=window.HandoffAppearAnimations(gt,$,et,sync))}let ft=et.start(createMotionValueAnimation($,et,st,i.shouldReduceMotion&&transformProps.has($)?{type:!1}:lt));isWillChangeMotionValue(nt)&&(nt.add($),ft=ft.then(()=>nt.remove($))),j.push(ft)}return Promise.all(j).then(()=>{ot&&setTarget(i,ot)})}function animateChildren(i,s,a=0,o=0,it=1,tt){const at=[],ot=(i.variantChildren.size-1)*o,rt=it===1?(nt=0)=>nt*o:(nt=0)=>ot-nt*o;return Array.from(i.variantChildren).sort(sortByTreeOrder).forEach((nt,j)=>{nt.notify("AnimationStart",s),at.push(animateVariant(nt,s,{...tt,delay:a+rt(j)}).then(()=>nt.notify("AnimationComplete",s)))}),Promise.all(at)}function sortByTreeOrder(i,s){return i.sortNodePosition(s)}function shouldBlockAnimation({protectedKeys:i,needsAnimating:s},a){const o=i.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,o}const variantPriorityOrder=[AnimationType.Animate,AnimationType.InView,AnimationType.Focus,AnimationType.Hover,AnimationType.Tap,AnimationType.Drag,AnimationType.Exit],reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return s=>Promise.all(s.map(({animation:a,options:o})=>animateVisualElement(i,a,o)))}function createAnimationState(i){let s=animateList(i);const a=createState();let o=!0;const it=(rt,nt)=>{const j=resolveVariant(i,nt);if(j){const{transition:_,transitionEnd:$,...et}=j;rt={...rt,...et,...$}}return rt};function tt(rt){s=rt(i)}function at(rt,nt){const j=i.getProps(),_=i.getVariantContext(!0)||{},$=[],et=new Set;let st={},lt=1/0;for(let gt=0;gt<numAnimationTypes;gt++){const ut=reversePriorityOrder[gt],pt=a[ut],vt=j[ut]!==void 0?j[ut]:_[ut],dt=isVariantLabel(vt),mt=ut===nt?pt.isActive:null;mt===!1&&(lt=gt);let Tt=vt===_[ut]&&vt!==j[ut]&&dt;if(Tt&&o&&i.manuallyAnimateOnMount&&(Tt=!1),pt.protectedKeys={...st},!pt.isActive&&mt===null||!vt&&!pt.prevProp||isAnimationControls(vt)||typeof vt=="boolean")continue;const yt=checkVariantsDidChange(pt.prevProp,vt);let ht=yt||ut===nt&&pt.isActive&&!Tt&&dt||gt>lt&&dt;const xt=Array.isArray(vt)?vt:[vt];let wt=xt.reduce(it,{});mt===!1&&(wt={});const{prevResolvedValues:kt={}}=pt,Ct={...kt,...wt},Rt=Lt=>{ht=!0,et.delete(Lt),pt.needsAnimating[Lt]=!0};for(const Lt in Ct){const Mt=wt[Lt],Wt=kt[Lt];st.hasOwnProperty(Lt)||(Mt!==Wt?isKeyframesTarget(Mt)&&isKeyframesTarget(Wt)?!shallowCompare(Mt,Wt)||yt?Rt(Lt):pt.protectedKeys[Lt]=!0:Mt!==void 0?Rt(Lt):et.add(Lt):Mt!==void 0&&et.has(Lt)?Rt(Lt):pt.protectedKeys[Lt]=!0)}pt.prevProp=vt,pt.prevResolvedValues=wt,pt.isActive&&(st={...st,...wt}),o&&i.blockInitialAnimation&&(ht=!1),ht&&!Tt&&$.push(...xt.map(Lt=>({animation:Lt,options:{type:ut,...rt}})))}if(et.size){const gt={};et.forEach(ut=>{const pt=i.getBaseTarget(ut);pt!==void 0&&(gt[ut]=pt)}),$.push({animation:gt})}let ft=Boolean($.length);return o&&j.initial===!1&&!i.manuallyAnimateOnMount&&(ft=!1),o=!1,ft?s($):Promise.resolve()}function ot(rt,nt,j){var _;if(a[rt].isActive===nt)return Promise.resolve();(_=i.variantChildren)===null||_===void 0||_.forEach(et=>{var st;return(st=et.animationState)===null||st===void 0?void 0:st.setActive(rt,nt)}),a[rt].isActive=nt;const $=at(j,rt);for(const et in a)a[et].protectedKeys={};return $}return{animateChanges:at,setActive:ot,setAnimateFunction:tt,getState:()=>a}}function checkVariantsDidChange(i,s){return typeof s=="string"?s!==i:Array.isArray(s)?!shallowCompare(s,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{[AnimationType.Animate]:createTypeState(!0),[AnimationType.InView]:createTypeState(),[AnimationType.Hover]:createTypeState(),[AnimationType.Tap]:createTypeState(),[AnimationType.Drag]:createTypeState(),[AnimationType.Focus]:createTypeState(),[AnimationType.Exit]:createTypeState()}}const animations={animation:makeRenderlessComponent(({visualElement:i,animate:s})=>{i.animationState||(i.animationState=createAnimationState(i)),isAnimationControls(s)&&react.exports.useEffect(()=>s.subscribe(i),[s])}),exit:makeRenderlessComponent(i=>{const{custom:s,visualElement:a}=i,[o,it]=usePresence(),tt=react.exports.useContext(PresenceContext);react.exports.useEffect(()=>{a.isPresent=o;const at=a.animationState&&a.animationState.setActive(AnimationType.Exit,!o,{custom:tt&&tt.custom||s});at&&!o&&at.then(it)},[o])})},distance=(i,s)=>Math.abs(i-s);function distance2D(i,s){const a=distance(i.x,s.x),o=distance(i.y,s.y);return Math.sqrt(a**2+o**2)}class PanSession{constructor(s,a,{transformPagePoint:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const nt=getPanInfo(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,_=distance2D(nt.offset,{x:0,y:0})>=3;if(!j&&!_)return;const{point:$}=nt,{timestamp:et}=frameData;this.history.push({...$,timestamp:et});const{onStart:st,onMove:lt}=this.handlers;j||(st&&st(this.lastMoveEvent,nt),this.startEvent=this.lastMoveEvent),lt&&lt(this.lastMoveEvent,nt)},this.handlePointerMove=(nt,j)=>{this.lastMoveEvent=nt,this.lastMoveEventInfo=transformPoint(j,this.transformPagePoint),sync.update(this.updatePoint,!0)},this.handlePointerUp=(nt,j)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:_,onSessionEnd:$}=this.handlers,et=getPanInfo(nt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(j,this.transformPagePoint),this.history);this.startEvent&&_&&_(nt,et),$&&$(nt,et)},!isPrimaryPointer(s))return;this.handlers=a,this.transformPagePoint=o;const it=extractEventInfo(s),tt=transformPoint(it,this.transformPagePoint),{point:at}=tt,{timestamp:ot}=frameData;this.history=[{...at,timestamp:ot}];const{onSessionStart:rt}=a;rt&&rt(s,getPanInfo(tt,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)}}function transformPoint(i,s){return s?{point:s(i.point)}:i}function subtractPoint(i,s){return{x:i.x-s.x,y:i.y-s.y}}function getPanInfo({point:i},s){return{point:i,delta:subtractPoint(i,lastDevicePoint(s)),offset:subtractPoint(i,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,s){if(i.length<2)return{x:0,y:0};let a=i.length-1,o=null;const it=lastDevicePoint(i);for(;a>=0&&(o=i[a],!(it.timestamp-o.timestamp>secondsToMilliseconds(s)));)a--;if(!o)return{x:0,y:0};const tt=(it.timestamp-o.timestamp)/1e3;if(tt===0)return{x:0,y:0};const at={x:(it.x-o.x)/tt,y:(it.y-o.y)/tt};return at.x===1/0&&(at.x=0),at.y===1/0&&(at.y=0),at}function calcLength(i){return i.max-i.min}function isNear(i,s=0,a=.01){return Math.abs(i-s)<=a}function calcAxisDelta(i,s,a,o=.5){i.origin=o,i.originPoint=mix(s.min,s.max,i.origin),i.scale=calcLength(a)/calcLength(s),(isNear(i.scale,1,1e-4)||isNaN(i.scale))&&(i.scale=1),i.translate=mix(a.min,a.max,i.origin)-i.originPoint,(isNear(i.translate)||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,s,a,o){calcAxisDelta(i.x,s.x,a.x,o==null?void 0:o.originX),calcAxisDelta(i.y,s.y,a.y,o==null?void 0:o.originY)}function calcRelativeAxis(i,s,a){i.min=a.min+s.min,i.max=i.min+calcLength(s)}function calcRelativeBox(i,s,a){calcRelativeAxis(i.x,s.x,a.x),calcRelativeAxis(i.y,s.y,a.y)}function calcRelativeAxisPosition(i,s,a){i.min=s.min-a.min,i.max=i.min+calcLength(s)}function calcRelativePosition(i,s,a){calcRelativeAxisPosition(i.x,s.x,a.x),calcRelativeAxisPosition(i.y,s.y,a.y)}function applyConstraints(i,{min:s,max:a},o){return s!==void 0&&i<s?i=o?mix(s,i,o.min):Math.max(i,s):a!==void 0&&i>a&&(i=o?mix(a,i,o.max):Math.min(i,a)),i}function calcRelativeAxisConstraints(i,s,a){return{min:s!==void 0?i.min+s:void 0,max:a!==void 0?i.max+a-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:s,left:a,bottom:o,right:it}){return{x:calcRelativeAxisConstraints(i.x,a,it),y:calcRelativeAxisConstraints(i.y,s,o)}}function calcViewportAxisConstraints(i,s){let a=s.min-i.min,o=s.max-i.max;return s.max-s.min<i.max-i.min&&([a,o]=[o,a]),{min:a,max:o}}function calcViewportConstraints(i,s){return{x:calcViewportAxisConstraints(i.x,s.x),y:calcViewportAxisConstraints(i.y,s.y)}}function calcOrigin(i,s){let a=.5;const o=calcLength(i),it=calcLength(s);return it>o?a=progress(s.min,s.max-o,i.min):o>it&&(a=progress(i.min,i.max-it,s.min)),clamp(0,1,a)}function rebaseAxisConstraints(i,s){const a={};return s.min!==void 0&&(a.min=s.min-i.min),s.max!==void 0&&(a.max=s.max-i.min),a}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,s,a){return{min:resolvePointElastic(i,s),max:resolvePointElastic(i,a)}}function resolvePointElastic(i,s){return typeof i=="number"?i:i[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(i){return[i("x"),i("y")]}function convertBoundingBoxToBox({top:i,left:s,right:a,bottom:o}){return{x:{min:s,max:a},y:{min:i,max:o}}}function convertBoxToBoundingBox({x:i,y:s}){return{top:s.min,right:i.max,bottom:s.max,left:i.min}}function transformBoxPoints(i,s){if(!s)return i;const a=s({x:i.left,y:i.top}),o=s({x:i.right,y:i.bottom});return{top:a.y,left:a.x,bottom:o.y,right:o.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:s,scaleY:a}){return!isIdentityScale(i)||!isIdentityScale(s)||!isIdentityScale(a)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,s,a){const o=i-a,it=s*o;return a+it}function applyPointDelta(i,s,a,o,it){return it!==void 0&&(i=scalePoint(i,it,o)),scalePoint(i,a,o)+s}function applyAxisDelta(i,s=0,a=1,o,it){i.min=applyPointDelta(i.min,s,a,o,it),i.max=applyPointDelta(i.max,s,a,o,it)}function applyBoxDelta(i,{x:s,y:a}){applyAxisDelta(i.x,s.translate,s.scale,s.originPoint),applyAxisDelta(i.y,a.translate,a.scale,a.originPoint)}function applyTreeDeltas(i,s,a,o=!1){var it,tt;const at=a.length;if(!at)return;s.x=s.y=1;let ot,rt;for(let nt=0;nt<at;nt++)ot=a[nt],rt=ot.projectionDelta,((tt=(it=ot.instance)===null||it===void 0?void 0:it.style)===null||tt===void 0?void 0:tt.display)!=="contents"&&(o&&ot.options.layoutScroll&&ot.scroll&&ot!==ot.root&&transformBox(i,{x:-ot.scroll.offset.x,y:-ot.scroll.offset.y}),rt&&(s.x*=rt.x.scale,s.y*=rt.y.scale,applyBoxDelta(i,rt)),o&&hasTransform(ot.latestValues)&&transformBox(i,ot.latestValues));s.x=snapToDefault(s.x),s.y=snapToDefault(s.y)}function snapToDefault(i){return Number.isInteger(i)||i>1.0000000000001||i<.999999999999?i:1}function translateAxis(i,s){i.min=i.min+s,i.max=i.max+s}function transformAxis(i,s,[a,o,it]){const tt=s[it]!==void 0?s[it]:.5,at=mix(i.min,i.max,tt);applyAxisDelta(i,s[a],s[o],at,s.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(i,s){transformAxis(i.x,s,xKeys$1),transformAxis(i.y,s,yKeys$1)}function measureViewportBox(i,s){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),s))}function measurePageBox(i,s,a){const o=measureViewportBox(i,a),{scroll:it}=s;return it&&(translateAxis(o.x,it.offset.x),translateAxis(o.y,it.offset.y)),o}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:a=!1}={}){if(this.visualElement.isPresent===!1)return;const o=ot=>{this.stopAnimation(),a&&this.snapToCursor(extractEventInfo(ot,"page").point)},it=(ot,rt)=>{var nt;const{drag:j,dragPropagation:_,onDragStart:$}=this.getProps();j&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(j),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(et=>{var st,lt;let ft=this.getAxisMotionValue(et).get()||0;if(percent.test(ft)){const gt=(lt=(st=this.visualElement.projection)===null||st===void 0?void 0:st.layout)===null||lt===void 0?void 0:lt.layoutBox[et];gt&&(ft=calcLength(gt)*(parseFloat(ft)/100))}this.originPoint[et]=ft}),$==null||$(ot,rt),(nt=this.visualElement.animationState)===null||nt===void 0||nt.setActive(AnimationType.Drag,!0))},tt=(ot,rt)=>{const{dragPropagation:nt,dragDirectionLock:j,onDirectionLock:_,onDrag:$}=this.getProps();if(!nt&&!this.openGlobalLock)return;const{offset:et}=rt;if(j&&this.currentDirection===null){this.currentDirection=getCurrentDirection(et),this.currentDirection!==null&&(_==null||_(this.currentDirection));return}this.updateAxis("x",rt.point,et),this.updateAxis("y",rt.point,et),this.visualElement.render(),$==null||$(ot,rt)},at=(ot,rt)=>this.stop(ot,rt);this.panSession=new PanSession(s,{onSessionStart:o,onStart:it,onMove:tt,onSessionEnd:at},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(s,a){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:it}=a;this.startAnimation(it);const{onDragEnd:tt}=this.getProps();tt==null||tt(s,a)}cancel(){var s,a;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(s=this.panSession)===null||s===void 0||s.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(a=this.visualElement.animationState)===null||a===void 0||a.setActive(AnimationType.Drag,!1)}updateAxis(s,a,o){const{drag:it}=this.getProps();if(!o||!shouldDrag(s,it,this.currentDirection))return;const tt=this.getAxisMotionValue(s);let at=this.originPoint[s]+o[s];this.constraints&&this.constraints[s]&&(at=applyConstraints(at,this.constraints[s],this.elastic[s])),tt.set(at)}resolveConstraints(){const{dragConstraints:s,dragElastic:a}=this.getProps(),{layout:o}=this.visualElement.projection||{},it=this.constraints;s&&isRefObject(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&o?this.constraints=calcRelativeConstraints(o.layoutBox,s):this.constraints=!1,this.elastic=resolveDragElastic(a),it!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(tt=>{this.getAxisMotionValue(tt)&&(this.constraints[tt]=rebaseAxisConstraints(o.layoutBox[tt],this.constraints[tt]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!isRefObject(s))return!1;const o=s.current,{projection:it}=this.visualElement;if(!it||!it.layout)return!1;const tt=measurePageBox(o,it.root,this.visualElement.getTransformPagePoint());let at=calcViewportConstraints(it.layout.layoutBox,tt);if(a){const ot=a(convertBoxToBoundingBox(at));this.hasMutatedConstraints=!!ot,ot&&(at=convertBoundingBoxToBox(ot))}return at}startAnimation(s){const{drag:a,dragMomentum:o,dragElastic:it,dragTransition:tt,dragSnapToOrigin:at,onDragTransitionEnd:ot}=this.getProps(),rt=this.constraints||{},nt=eachAxis(j=>{if(!shouldDrag(j,a,this.currentDirection))return;let _=(rt==null?void 0:rt[j])||{};at&&(_={min:0,max:0});const $=it?200:1e6,et=it?40:1e7,st={type:"inertia",velocity:o?s[j]:0,bounceStiffness:$,bounceDamping:et,timeConstant:750,restDelta:1,restSpeed:10,...tt,..._};return this.startAxisValueAnimation(j,st)});return Promise.all(nt).then(ot)}startAxisValueAnimation(s,a){const o=this.getAxisMotionValue(s);return o.start(createMotionValueAnimation(s,o,0,a))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}getAxisMotionValue(s){var a;const o="_drag"+s.toUpperCase(),it=this.visualElement.getProps()[o];return it||this.visualElement.getValue(s,((a=this.visualElement.getProps().initial)===null||a===void 0?void 0:a[s])||0)}snapToCursor(s){eachAxis(a=>{const{drag:o}=this.getProps();if(!shouldDrag(a,o,this.currentDirection))return;const{projection:it}=this.visualElement,tt=this.getAxisMotionValue(a);if(it&&it.layout){const{min:at,max:ot}=it.layout.layoutBox[a];tt.set(s[a]-mix(at,ot,.5))}})}scalePositionWithinConstraints(){var s;if(!this.visualElement.current)return;const{drag:a,dragConstraints:o}=this.getProps(),{projection:it}=this.visualElement;if(!isRefObject(o)||!it||!this.constraints)return;this.stopAnimation();const tt={x:0,y:0};eachAxis(ot=>{const rt=this.getAxisMotionValue(ot);if(rt){const nt=rt.get();tt[ot]=calcOrigin({min:nt,max:nt},this.constraints[ot])}});const{transformTemplate:at}=this.visualElement.getProps();this.visualElement.current.style.transform=at?at({},""):"none",(s=it.root)===null||s===void 0||s.updateScroll(),it.updateLayout(),this.resolveConstraints(),eachAxis(ot=>{if(!shouldDrag(ot,a,null))return;const rt=this.getAxisMotionValue(ot),{min:nt,max:j}=this.constraints[ot];rt.set(mix(nt,j,tt[ot]))})}addListeners(){var s;if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const a=this.visualElement.current,o=addPointerEvent(a,"pointerdown",nt=>{const{drag:j,dragListener:_=!0}=this.getProps();j&&_&&this.start(nt)}),it=()=>{const{dragConstraints:nt}=this.getProps();isRefObject(nt)&&(this.constraints=this.resolveRefConstraints())},{projection:tt}=this.visualElement,at=tt.addEventListener("measure",it);tt&&!tt.layout&&((s=tt.root)===null||s===void 0||s.updateScroll(),tt.updateLayout()),it();const ot=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),rt=tt.addEventListener("didUpdate",({delta:nt,hasLayoutChanged:j})=>{this.isDragging&&j&&(eachAxis(_=>{const $=this.getAxisMotionValue(_);!$||(this.originPoint[_]+=nt[_].translate,$.set($.get()+nt[_].translate))}),this.visualElement.render())});return()=>{ot(),o(),at(),rt==null||rt()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:o=!1,dragPropagation:it=!1,dragConstraints:tt=!1,dragElastic:at=defaultElastic,dragMomentum:ot=!0}=s;return{...s,drag:a,dragDirectionLock:o,dragPropagation:it,dragConstraints:tt,dragElastic:at,dragMomentum:ot}}}function shouldDrag(i,s,a){return(s===!0||s===i)&&(a===null||a===i)}function getCurrentDirection(i,s=10){let a=null;return Math.abs(i.y)>s?a="y":Math.abs(i.x)>s&&(a="x"),a}function useDrag(i){const{dragControls:s,visualElement:a}=i,o=useConstant(()=>new VisualElementDragControls(a));react.exports.useEffect(()=>s&&s.subscribe(o),[o,s]),react.exports.useEffect(()=>o.addListeners(),[o])}function usePanGesture({onPan:i,onPanStart:s,onPanEnd:a,onPanSessionStart:o,visualElement:it}){const tt=i||s||a||o,at=react.exports.useRef(null),{transformPagePoint:ot}=react.exports.useContext(MotionConfigContext),rt={onSessionStart:o,onStart:s,onMove:i,onEnd:(j,_)=>{at.current=null,a&&a(j,_)}};react.exports.useEffect(()=>{at.current!==null&&at.current.updateHandlers(rt)});function nt(j){at.current=new PanSession(j,rt,{transformPagePoint:ot})}usePointerEvent(it,"pointerdown",tt&&nt),useUnmountEffect(()=>at.current&&at.current.end())}const drag={pan:makeRenderlessComponent(usePanGesture),drag:makeRenderlessComponent(useDrag)};function isCSSVariable(i){return typeof i=="string"&&i.startsWith("var(--")}const cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(i){const s=cssVariableRegex.exec(i);if(!s)return[,];const[,a,o]=s;return[a,o]}function getVariableValue(i,s,a=1){const[o,it]=parseCSSVariable(i);if(!o)return;const tt=window.getComputedStyle(s).getPropertyValue(o);return tt?tt.trim():isCSSVariable(it)?getVariableValue(it,s,a+1):it}function resolveCSSVariables(i,{...s},a){const o=i.current;if(!(o instanceof Element))return{target:s,transitionEnd:a};a&&(a={...a}),i.values.forEach(it=>{const tt=it.get();if(!isCSSVariable(tt))return;const at=getVariableValue(tt,o);at&&it.set(at)});for(const it in s){const tt=s[it];if(!isCSSVariable(tt))continue;const at=getVariableValue(tt,o);!at||(s[it]=at,a&&a[it]===void 0&&(a[it]=tt))}return{target:s,transitionEnd:a}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=i=>positionalKeys.has(i),hasPositionalKey=i=>Object.keys(i).some(isPositionalKey),isNumOrPxType=i=>i===number||i===px;var BoundingBoxDimension;(function(i){i.width="width",i.height="height",i.left="left",i.right="right",i.top="top",i.bottom="bottom"})(BoundingBoxDimension||(BoundingBoxDimension={}));const getPosFromMatrix=(i,s)=>parseFloat(i.split(", ")[s]),getTranslateFromMatrix=(i,s)=>(a,{transform:o})=>{if(o==="none"||!o)return 0;const it=o.match(/^matrix3d\((.+)\)$/);if(it)return getPosFromMatrix(it[1],s);{const tt=o.match(/^matrix\((.+)\)$/);return tt?getPosFromMatrix(tt[1],i):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const s=[];return nonTranslationalTransformKeys.forEach(a=>{const o=i.getValue(a);o!==void 0&&(s.push([a,o.get()]),o.set(a.startsWith("scale")?1:0))}),s.length&&i.render(),s}const positionalValues={width:({x:i},{paddingLeft:s="0",paddingRight:a="0"})=>i.max-i.min-parseFloat(s)-parseFloat(a),height:({y:i},{paddingTop:s="0",paddingBottom:a="0"})=>i.max-i.min-parseFloat(s)-parseFloat(a),top:(i,{top:s})=>parseFloat(s),left:(i,{left:s})=>parseFloat(s),bottom:({y:i},{top:s})=>parseFloat(s)+(i.max-i.min),right:({x:i},{left:s})=>parseFloat(s)+(i.max-i.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=(i,s,a)=>{const o=s.measureViewportBox(),it=s.current,tt=getComputedStyle(it),{display:at}=tt,ot={};at==="none"&&s.setStaticValue("display",i.display||"block"),a.forEach(nt=>{ot[nt]=positionalValues[nt](o,tt)}),s.render();const rt=s.measureViewportBox();return a.forEach(nt=>{const j=s.getValue(nt);j&&j.jump(ot[nt]),i[nt]=positionalValues[nt](rt,tt)}),i},checkAndConvertChangedValueTypes=(i,s,a={},o={})=>{s={...s},o={...o};const it=Object.keys(s).filter(isPositionalKey);let tt=[],at=!1;const ot=[];if(it.forEach(rt=>{const nt=i.getValue(rt);if(!i.hasValue(rt))return;let j=a[rt],_=findDimensionValueType(j);const $=s[rt];let et;if(isKeyframesTarget($)){const st=$.length,lt=$[0]===null?1:0;j=$[lt],_=findDimensionValueType(j);for(let ft=lt;ft<st;ft++)et?invariant(findDimensionValueType($[ft])===et):et=findDimensionValueType($[ft])}else et=findDimensionValueType($);if(_!==et)if(isNumOrPxType(_)&&isNumOrPxType(et)){const st=nt.get();typeof st=="string"&&nt.set(parseFloat(st)),typeof $=="string"?s[rt]=parseFloat($):Array.isArray($)&&et===px&&(s[rt]=$.map(parseFloat))}else(_==null?void 0:_.transform)&&(et==null?void 0:et.transform)&&(j===0||$===0)?j===0?nt.set(et.transform(j)):s[rt]=_.transform($):(at||(tt=removeNonTranslationalTransform(i),at=!0),ot.push(rt),o[rt]=o[rt]!==void 0?o[rt]:s[rt],nt.jump($))}),ot.length){const rt=ot.indexOf("height")>=0?window.pageYOffset:null,nt=convertChangedValueTypes(s,i,ot);return tt.length&&tt.forEach(([j,_])=>{i.getValue(j).set(_)}),i.render(),isBrowser&&rt!==null&&window.scrollTo({top:rt}),{target:nt,transitionEnd:o}}else return{target:s,transitionEnd:o}};function unitConversion(i,s,a,o){return hasPositionalKey(s)?checkAndConvertChangedValueTypes(i,s,a,o):{target:s,transitionEnd:o}}const parseDomVariant=(i,s,a,o)=>{const it=resolveCSSVariables(i,s,o);return s=it.target,o=it.transitionEnd,unitConversion(i,s,a,o)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=i.matches;i.addListener(s),s()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(i,s,a){const{willChange:o}=s;for(const it in s){const tt=s[it],at=a[it];if(isMotionValue(tt))i.addValue(it,tt),isWillChangeMotionValue(o)&&o.add(it);else if(isMotionValue(at))i.addValue(it,motionValue(tt,{owner:i})),isWillChangeMotionValue(o)&&o.remove(it);else if(at!==tt)if(i.hasValue(it)){const ot=i.getValue(it);!ot.hasAnimated&&ot.set(tt)}else{const ot=i.getStaticValue(it);i.addValue(it,motionValue(ot!==void 0?ot:tt,{owner:i}))}}for(const it in a)s[it]===void 0&&i.removeValue(it);return s}const featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{constructor({parent:s,props:a,reducedMotionConfig:o,visualState:it},tt={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{!this.current||(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sync.render(this.render,!1,!0);const{latestValues:at,renderState:ot}=it;this.latestValues=at,this.baseTarget={...at},this.initialValues=a.initial?{...at}:{},this.renderState=ot,this.parent=s,this.props=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=o,this.options=tt,this.isControllingVariants=isControllingVariants(a),this.isVariantNode=isVariantNode(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(s&&s.current);const{willChange:rt,...nt}=this.scrapeMotionValuesFromProps(a,{});for(const j in nt){const _=nt[j];at[j]!==void 0&&isMotionValue(_)&&(_.set(at[j],!1),isWillChangeMotionValue(rt)&&rt.add(j))}}scrapeMotionValuesFromProps(s,a){return{}}mount(s){var a;this.current=s,this.projection&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(a=this.parent)===null||a===void 0?void 0:a.addVariantChild(this)),this.values.forEach((o,it)=>this.bindToMotionValue(it,o)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var s,a,o;(s=this.projection)===null||s===void 0||s.unmount(),cancelSync.update(this.notifyUpdate),cancelSync.render(this.render),this.valueSubscriptions.forEach(it=>it()),(a=this.removeFromVariantTree)===null||a===void 0||a.call(this),(o=this.parent)===null||o===void 0||o.children.delete(this);for(const it in this.events)this.events[it].clear();this.current=null}bindToMotionValue(s,a){const o=transformProps.has(s),it=a.on("change",at=>{this.latestValues[s]=at,this.props.onUpdate&&sync.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),tt=a.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(s,()=>{it(),tt()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}loadFeatures({children:s,...a},o,it,tt,at,ot){const rt=[];for(let nt=0;nt<numFeatures;nt++){const j=featureNames[nt],{isEnabled:_,Component:$}=featureDefinitions[j];_(a)&&$&&rt.push(react.exports.createElement($,{key:j,...a,visualElement:this}))}if(!this.projection&&at){this.projection=new at(tt,this.latestValues,this.parent&&this.parent.projection);const{layoutId:nt,layout:j,drag:_,dragConstraints:$,layoutScroll:et,layoutRoot:st}=a;this.projection.setOptions({layoutId:nt,layout:j,alwaysMeasureLayout:Boolean(_)||$&&isRefObject($),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof j=="string"?j:"both",initialPromotionConfig:ot,layoutScroll:et,layoutRoot:st})}return rt}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}makeTargetAnimatable(s,a=!0){return this.makeTargetAnimatableFromInstance(s,this.props,a)}setProps(s){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const a=this.props;this.props=s;for(let o=0;o<propEventHandlers.length;o++){const it=propEventHandlers[o];this.propEventSubscriptions[it]&&(this.propEventSubscriptions[it](),delete this.propEventSubscriptions[it]);const tt=s["on"+it];tt&&(this.propEventSubscriptions[it]=this.on(it,tt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,a),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){var a;return(a=this.props.variants)===null||a===void 0?void 0:a[s]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var s;return this.isVariantNode?this:(s=this.parent)===null||s===void 0?void 0:s.getClosestVariantNode()}getVariantContext(s=!1){var a,o;if(s)return(a=this.parent)===null||a===void 0?void 0:a.getVariantContext();if(!this.isControllingVariants){const tt=((o=this.parent)===null||o===void 0?void 0:o.getVariantContext())||{};return this.props.initial!==void 0&&(tt.initial=this.props.initial),tt}const it={};for(let tt=0;tt<numVariantProps;tt++){const at=variantProps[tt],ot=this.props[at];(isVariantLabel(ot)||ot===!1)&&(it[at]=ot)}return it}addVariantChild(s){var a;const o=this.getClosestVariantNode();if(o)return(a=o.variantChildren)===null||a===void 0||a.add(s),()=>o.variantChildren.delete(s)}addValue(s,a){a!==this.values.get(s)&&(this.removeValue(s),this.bindToMotionValue(s,a)),this.values.set(s,a),this.latestValues[s]=a.get()}removeValue(s){var a;this.values.delete(s),(a=this.valueSubscriptions.get(s))===null||a===void 0||a(),this.valueSubscriptions.delete(s),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let o=this.values.get(s);return o===void 0&&a!==void 0&&(o=motionValue(a,{owner:this}),this.addValue(s,o)),o}readValue(s){return this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.readValueFromInstance(this.current,s,this.options)}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){var a;const{initial:o}=this.props,it=typeof o=="string"||typeof o=="object"?(a=resolveVariantFromProps(this.props,o))===null||a===void 0?void 0:a[s]:void 0;if(o&&it!==void 0)return it;const tt=this.getBaseTargetFromProps(this.props,s);return tt!==void 0&&!isMotionValue(tt)?tt:this.initialValues[s]!==void 0&&it===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(a)}notify(s,...a){var o;(o=this.events[s])===null||o===void 0||o.notify(...a)}}const variantProps=["initial",...variantPriorityOrder],numVariantProps=variantProps.length;class DOMVisualElement extends VisualElement{sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){var o;return(o=s.style)===null||o===void 0?void 0:o[a]}removeValueFromRenderState(s,{vars:a,style:o}){delete a[s],delete o[s]}makeTargetAnimatableFromInstance({transition:s,transitionEnd:a,...o},{transformValues:it},tt){let at=getOrigin(o,s||{},this);if(it&&(a&&(a=it(a)),o&&(o=it(o)),at&&(at=it(at))),tt){checkTargetForNewValues(this,o,at);const ot=parseDomVariant(this,o,at,a);a=ot.transitionEnd,o=ot.target}return{transition:s,transitionEnd:a,...o}}}function getComputedStyle$1(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{readValueFromInstance(s,a){if(transformProps.has(a)){const o=getDefaultValueType(a);return o&&o.default||0}else{const o=getComputedStyle$1(s),it=(isCSSVariable$1(a)?o.getPropertyValue(a):o[a])||0;return typeof it=="string"?it.trim():it}}measureInstanceViewportBox(s,{transformPagePoint:a}){return measureViewportBox(s,a)}build(s,a,o,it){buildHTMLStyles(s,a,o,it.transformTemplate)}scrapeMotionValuesFromProps(s,a){return scrapeMotionValuesFromProps$1(s,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}renderInstance(s,a,o,it){renderHTML(s,a,o,it)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){var o;return transformProps.has(a)?((o=getDefaultValueType(a))===null||o===void 0?void 0:o.default)||0:(a=camelCaseAttributes.has(a)?a:camelToDash(a),s.getAttribute(a))}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(s,a){return scrapeMotionValuesFromProps(s,a)}build(s,a,o,it){buildSVGAttrs(s,a,o,this.isSVGTag,it.transformTemplate)}renderInstance(s,a,o,it){renderSVG(s,a,o,it)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(i,s)=>isSVGComponent(i)?new SVGVisualElement(s,{enableHardwareAcceleration:!1}):new HTMLVisualElement(s,{enableHardwareAcceleration:!0});function pixelsToPercent(i,s){return s.max===s.min?0:i/(s.max-s.min)*100}const correctBorderRadius={correct:(i,s)=>{if(!s.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const a=pixelsToPercent(i,s.target.x),o=pixelsToPercent(i,s.target.y);return`${a}% ${o}%`}},varToken="_$css",correctBoxShadow={correct:(i,{treeScale:s,projectionDelta:a})=>{const o=i,it=i.includes("var("),tt=[];it&&(i=i.replace(cssVariableRegex,et=>(tt.push(et),varToken)));const at=complex.parse(i);if(at.length>5)return o;const ot=complex.createTransformer(i),rt=typeof at[0]!="number"?1:0,nt=a.x.scale*s.x,j=a.y.scale*s.y;at[0+rt]/=nt,at[1+rt]/=j;const _=mix(nt,j,.5);typeof at[2+rt]=="number"&&(at[2+rt]/=_),typeof at[3+rt]=="number"&&(at[3+rt]/=_);let $=ot(at);if(it){let et=0;$=$.replace(varToken,()=>{const st=tt[et];return et++,st})}return $}};class MeasureLayoutWithContext extends React$3.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:o,layoutId:it}=this.props,{projection:tt}=s;addScaleCorrector(defaultScaleCorrectors),tt&&(a.group&&a.group.add(tt),o&&o.register&&it&&o.register(tt),tt.root.didUpdate(),tt.addEventListener("animationComplete",()=>{this.safeToRemove()}),tt.setOptions({...tt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:o,drag:it,isPresent:tt}=this.props,at=o.projection;return at&&(at.isPresent=tt,it||s.layoutDependency!==a||a===void 0?at.willUpdate():this.safeToRemove(),s.isPresent!==tt&&(tt?at.promote():at.relegate()||sync.postRender(()=>{var ot;!((ot=at.getStack())===null||ot===void 0)&&ot.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),!s.currentAnimation&&s.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:o}=this.props,{projection:it}=s;it&&(it.scheduleCheckAfterUnmount(),a!=null&&a.group&&a.group.remove(it),o!=null&&o.deregister&&o.deregister(it))}safeToRemove(){const{safeToRemove:s}=this.props;s==null||s()}render(){return null}}function MeasureLayout(i){const[s,a]=usePresence(),o=react.exports.useContext(LayoutGroupContext);return jsx(MeasureLayoutWithContext,{...i,layoutGroup:o,switchLayoutGroup:react.exports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:a})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},layoutFeatures={measureLayout:MeasureLayout};function animate(i,s,a={}){const o=isMotionValue(i)?i:motionValue(i);return o.start(createMotionValueAnimation("",o,s,a)),{stop:()=>o.stop(),isAnimating:()=>o.isAnimating()}}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,s,a,o,it,tt){it?(i.opacity=mix(0,a.opacity!==void 0?a.opacity:1,easeCrossfadeIn(o)),i.opacityExit=mix(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(o))):tt&&(i.opacity=mix(s.opacity!==void 0?s.opacity:1,a.opacity!==void 0?a.opacity:1,o));for(let at=0;at<numBorders;at++){const ot=`border${borders[at]}Radius`;let rt=getRadius(s,ot),nt=getRadius(a,ot);if(rt===void 0&&nt===void 0)continue;rt||(rt=0),nt||(nt=0),rt===0||nt===0||isPx(rt)===isPx(nt)?(i[ot]=Math.max(mix(asNumber(rt),asNumber(nt),o),0),(percent.test(nt)||percent.test(rt))&&(i[ot]+="%")):i[ot]=nt}(s.rotate||a.rotate)&&(i.rotate=mix(s.rotate||0,a.rotate||0,o))}function getRadius(i,s){return i[s]!==void 0?i[s]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(i,s,a){return o=>o<i?0:o>s?1:a(progress(i,s,o))}function copyAxisInto(i,s){i.min=s.min,i.max=s.max}function copyBoxInto(i,s){copyAxisInto(i.x,s.x),copyAxisInto(i.y,s.y)}function removePointDelta(i,s,a,o,it){return i-=s,i=scalePoint(i,1/a,o),it!==void 0&&(i=scalePoint(i,1/it,o)),i}function removeAxisDelta(i,s=0,a=1,o=.5,it,tt=i,at=i){if(percent.test(s)&&(s=parseFloat(s),s=mix(at.min,at.max,s/100)-at.min),typeof s!="number")return;let ot=mix(tt.min,tt.max,o);i===tt&&(ot-=s),i.min=removePointDelta(i.min,s,a,ot,it),i.max=removePointDelta(i.max,s,a,ot,it)}function removeAxisTransforms(i,s,[a,o,it],tt,at){removeAxisDelta(i,s[a],s[o],s[it],s.scale,tt,at)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,s,a,o){removeAxisTransforms(i.x,s,xKeys,a==null?void 0:a.x,o==null?void 0:o.x),removeAxisTransforms(i.y,s,yKeys,a==null?void 0:a.y,o==null?void 0:o.y)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function boxEquals(i,s){return i.x.min===s.x.min&&i.x.max===s.x.max&&i.y.min===s.y.min&&i.y.max===s.y.max}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(it=>s===it);if(a===0)return!1;let o;for(let it=a;it>=0;it--){const tt=this.members[it];if(tt.isPresent!==!1){o=tt;break}}return o?(this.promote(o),!0):!1}promote(s,a){var o;const it=this.lead;if(s!==it&&(this.prevLead=it,this.lead=s,s.show(),it)){it.instance&&it.scheduleRender(),s.scheduleRender(),s.resumeFrom=it,a&&(s.resumeFrom.preserveOpacity=!0),it.snapshot&&(s.snapshot=it.snapshot,s.snapshot.latestValues=it.animationValues||it.latestValues),!((o=s.root)===null||o===void 0)&&o.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:tt}=s.options;tt===!1&&it.hide()}}exitAnimationComplete(){this.members.forEach(s=>{var a,o,it,tt,at;(o=(a=s.options).onExitComplete)===null||o===void 0||o.call(a),(at=(it=s.resumingFrom)===null||it===void 0?void 0:(tt=it.options).onExitComplete)===null||at===void 0||at.call(tt)})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,s,a){let o="";const it=i.x.translate/s.x,tt=i.y.translate/s.y;if((it||tt)&&(o=`translate3d(${it}px, ${tt}px, 0) `),(s.x!==1||s.y!==1)&&(o+=`scale(${1/s.x}, ${1/s.y}) `),a){const{rotate:rt,rotateX:nt,rotateY:j}=a;rt&&(o+=`rotate(${rt}deg) `),nt&&(o+=`rotateX(${nt}deg) `),j&&(o+=`rotateY(${j}deg) `)}const at=i.x.scale*s.x,ot=i.y.scale*s.y;return(at!==1||ot!==1)&&(o+=`scale(${at}, ${ot})`),o||"none"}const compareByDepth=(i,s)=>i.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function createProjectionNode({attachResizeListener:i,defaultParent:s,measureScroll:a,checkIsScrollRoot:o,resetTransform:it}){return class{constructor(at,ot={},rt=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=at,this.latestValues=ot,this.root=rt?rt.root||rt:this,this.path=rt?[...rt.path,rt]:[],this.parent=rt,this.depth=rt?rt.depth+1:0,at&&this.root.registerPotentialNode(at,this);for(let nt=0;nt<this.path.length;nt++)this.path[nt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(at,ot){return this.eventHandlers.has(at)||this.eventHandlers.set(at,new SubscriptionManager),this.eventHandlers.get(at).add(ot)}notifyListeners(at,...ot){const rt=this.eventHandlers.get(at);rt==null||rt.notify(...ot)}hasListeners(at){return this.eventHandlers.has(at)}registerPotentialNode(at,ot){this.potentialNodes.set(at,ot)}mount(at,ot=!1){var rt;if(this.instance)return;this.isSVG=at instanceof SVGElement&&at.tagName!=="svg",this.instance=at;const{layoutId:nt,layout:j,visualElement:_}=this.options;if(_&&!_.current&&_.mount(at),this.root.nodes.add(this),(rt=this.parent)===null||rt===void 0||rt.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),ot&&(j||nt)&&(this.isLayoutDirty=!0),i){let $;const et=()=>this.root.updateBlockedByResize=!1;i(at,()=>{this.root.updateBlockedByResize=!0,$&&$(),$=delay(et,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}nt&&this.root.registerSharedNode(nt,this),this.options.animate!==!1&&_&&(nt||j)&&this.addEventListener("didUpdate",({delta:$,hasLayoutChanged:et,hasRelativeTargetChanged:st,layout:lt})=>{var ft,gt,ut,pt,vt;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const dt=(gt=(ft=this.options.transition)!==null&&ft!==void 0?ft:_.getDefaultTransition())!==null&&gt!==void 0?gt:defaultLayoutTransition,{onLayoutAnimationStart:mt,onLayoutAnimationComplete:Tt}=_.getProps(),yt=!this.targetLayout||!boxEquals(this.targetLayout,lt)||st,ht=!et&&st;if(this.options.layoutRoot||((ut=this.resumeFrom)===null||ut===void 0?void 0:ut.instance)||ht||et&&(yt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin($,ht);const xt={...getValueTransition(dt,"layout"),onPlay:mt,onComplete:Tt};(_.shouldReduceMotion||this.options.layoutRoot)&&(xt.delay=0,xt.type=!1),this.startAnimation(xt)}else!et&&this.animationProgress===0&&finishAnimation(this),this.isLead()&&((vt=(pt=this.options).onExitComplete)===null||vt===void 0||vt.call(pt));this.targetLayout=lt})}unmount(){var at,ot;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(at=this.getStack())===null||at===void 0||at.remove(this),(ot=this.parent)===null||ot===void 0||ot.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var at;return this.isAnimationBlocked||((at=this.parent)===null||at===void 0?void 0:at.isTreeAnimationBlocked())||!1}startUpdate(){var at;this.isUpdateBlocked()||(this.isUpdating=!0,(at=this.nodes)===null||at===void 0||at.forEach(resetRotation),this.animationId++)}getTransformTemplate(){var at;return(at=this.options.visualElement)===null||at===void 0?void 0:at.getProps().transformTemplate}willUpdate(at=!0){var ot,rt,nt;if(this.root.isUpdateBlocked()){(rt=(ot=this.options).onExitComplete)===null||rt===void 0||rt.call(ot);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let $=0;$<this.path.length;$++){const et=this.path[$];et.shouldResetTransform=!0,et.updateScroll("snapshot"),et.options.layoutRoot&&et.willUpdate(!1)}const{layoutId:j,layout:_}=this.options;j===void 0&&!_||(this.prevTransformTemplateValue=(nt=this.getTransformTemplate())===null||nt===void 0?void 0:nt(this.latestValues,""),this.updateSnapshot(),at&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){sync.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){sync.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var at;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let rt=0;rt<this.path.length;rt++)this.path[rt].updateScroll();const ot=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(at=this.options.visualElement)===null||at===void 0||at.notify("LayoutMeasure",this.layout.layoutBox,ot==null?void 0:ot.layoutBox)}updateScroll(at="measure"){let ot=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===at&&(ot=!1),ot&&(this.scroll={animationId:this.root.animationId,phase:at,isRoot:o(this.instance),offset:a(this.instance)})}resetTransform(){var at;if(!it)return;const ot=this.isLayoutDirty||this.shouldResetTransform,rt=this.projectionDelta&&!isDeltaZero(this.projectionDelta),nt=(at=this.getTransformTemplate())===null||at===void 0?void 0:at(this.latestValues,""),j=nt!==this.prevTransformTemplateValue;ot&&(rt||hasTransform(this.latestValues)||j)&&(it(this.instance,nt),this.shouldResetTransform=!1,this.scheduleRender())}measure(at=!0){const ot=this.measurePageBox();let rt=this.removeElementScroll(ot);return at&&(rt=this.removeTransform(rt)),roundBox(rt),{animationId:this.root.animationId,measuredBox:ot,layoutBox:rt,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:at}=this.options;if(!at)return createBox();const ot=at.measureViewportBox(),{scroll:rt}=this.root;return rt&&(translateAxis(ot.x,rt.offset.x),translateAxis(ot.y,rt.offset.y)),ot}removeElementScroll(at){const ot=createBox();copyBoxInto(ot,at);for(let rt=0;rt<this.path.length;rt++){const nt=this.path[rt],{scroll:j,options:_}=nt;if(nt!==this.root&&j&&_.layoutScroll){if(j.isRoot){copyBoxInto(ot,at);const{scroll:$}=this.root;$&&(translateAxis(ot.x,-$.offset.x),translateAxis(ot.y,-$.offset.y))}translateAxis(ot.x,j.offset.x),translateAxis(ot.y,j.offset.y)}}return ot}applyTransform(at,ot=!1){const rt=createBox();copyBoxInto(rt,at);for(let nt=0;nt<this.path.length;nt++){const j=this.path[nt];!ot&&j.options.layoutScroll&&j.scroll&&j!==j.root&&transformBox(rt,{x:-j.scroll.offset.x,y:-j.scroll.offset.y}),hasTransform(j.latestValues)&&transformBox(rt,j.latestValues)}return hasTransform(this.latestValues)&&transformBox(rt,this.latestValues),rt}removeTransform(at){var ot;const rt=createBox();copyBoxInto(rt,at);for(let nt=0;nt<this.path.length;nt++){const j=this.path[nt];if(!j.instance||!hasTransform(j.latestValues))continue;hasScale(j.latestValues)&&j.updateSnapshot();const _=createBox(),$=j.measurePageBox();copyBoxInto(_,$),removeBoxTransforms(rt,j.latestValues,(ot=j.snapshot)===null||ot===void 0?void 0:ot.layoutBox,_)}return hasTransform(this.latestValues)&&removeBoxTransforms(rt,this.latestValues),rt}setTargetDelta(at){this.targetDelta=at,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(at){this.options={...this.options,...at,crossfade:at.crossfade!==void 0?at.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var at;const ot=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=ot.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ot.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:rt,layoutId:nt}=this.options;if(!(!this.layout||!(rt||nt))){if(!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout?(this.relativeParent=j,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&((at=this.relativeParent)===null||at===void 0?void 0:at.target)?calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&Boolean(j.resumingFrom)===Boolean(this.resumingFrom)&&!j.options.layoutScroll&&j.target?(this.relativeParent=j,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,j.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var at;const{isProjectionDirty:ot,isTransformDirty:rt}=this;this.isProjectionDirty=this.isTransformDirty=!1;const nt=this.getLead(),j=Boolean(this.resumingFrom)||this!==nt;let _=!0;if(ot&&(_=!1),j&&rt&&(_=!1),_)return;const{layout:$,layoutId:et}=this.options;if(this.isTreeAnimating=Boolean(((at=this.parent)===null||at===void 0?void 0:at.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!($||et))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,j);const{target:st}=nt;if(!st)return;this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const lt=this.treeScale.x,ft=this.treeScale.y,gt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,st,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==gt||this.treeScale.x!==lt||this.treeScale.y!==ft)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",st))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(at=!0){var ot,rt,nt;(rt=(ot=this.options).scheduleRender)===null||rt===void 0||rt.call(ot),at&&((nt=this.getStack())===null||nt===void 0||nt.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(at,ot=!1){var rt,nt;const j=this.snapshot,_=(j==null?void 0:j.latestValues)||{},$={...this.latestValues},et=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ot;const st=createBox(),lt=(j==null?void 0:j.source)!==((rt=this.layout)===null||rt===void 0?void 0:rt.source),ft=(((nt=this.getStack())===null||nt===void 0?void 0:nt.members.length)||0)<=1,gt=Boolean(lt&&!ft&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0,this.mixTargetDelta=ut=>{var pt;const vt=ut/1e3;mixAxisDelta(et.x,at.x,vt),mixAxisDelta(et.y,at.y,vt),this.setTargetDelta(et),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((pt=this.relativeParent)===null||pt===void 0?void 0:pt.layout)&&(calcRelativePosition(st,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,st,vt)),lt&&(this.animationValues=$,mixValues($,_,this.latestValues,vt,gt,ft)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=vt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(at){var ot,rt;this.notifyListeners("animationStart"),(ot=this.currentAnimation)===null||ot===void 0||ot.stop(),this.resumingFrom&&((rt=this.resumingFrom.currentAnimation)===null||rt===void 0||rt.stop()),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animate(0,animationTarget,{...at,onUpdate:nt=>{var j;this.mixTargetDelta(nt),(j=at.onUpdate)===null||j===void 0||j.call(at,nt)},onComplete:()=>{var nt;(nt=at.onComplete)===null||nt===void 0||nt.call(at),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var at;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(at=this.getStack())===null||at===void 0||at.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var at;this.currentAnimation&&((at=this.mixTargetDelta)===null||at===void 0||at.call(this,animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const at=this.getLead();let{targetWithTransforms:ot,target:rt,layout:nt,latestValues:j}=at;if(!(!ot||!rt||!nt)){if(this!==at&&this.layout&&nt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,nt.layoutBox)){rt=this.target||createBox();const _=calcLength(this.layout.layoutBox.x);rt.x.min=at.target.x.min,rt.x.max=rt.x.min+_;const $=calcLength(this.layout.layoutBox.y);rt.y.min=at.target.y.min,rt.y.max=rt.y.min+$}copyBoxInto(ot,rt),transformBox(ot,j),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ot,j)}}registerSharedNode(at,ot){var rt,nt,j;this.sharedNodes.has(at)||this.sharedNodes.set(at,new NodeStack),this.sharedNodes.get(at).add(ot),ot.promote({transition:(rt=ot.options.initialPromotionConfig)===null||rt===void 0?void 0:rt.transition,preserveFollowOpacity:(j=(nt=ot.options.initialPromotionConfig)===null||nt===void 0?void 0:nt.shouldPreserveFollowOpacity)===null||j===void 0?void 0:j.call(nt,ot)})}isLead(){const at=this.getStack();return at?at.lead===this:!0}getLead(){var at;const{layoutId:ot}=this.options;return ot?((at=this.getStack())===null||at===void 0?void 0:at.lead)||this:this}getPrevLead(){var at;const{layoutId:ot}=this.options;return ot?(at=this.getStack())===null||at===void 0?void 0:at.prevLead:void 0}getStack(){const{layoutId:at}=this.options;if(at)return this.root.sharedNodes.get(at)}promote({needsReset:at,transition:ot,preserveFollowOpacity:rt}={}){const nt=this.getStack();nt&&nt.promote(this,rt),at&&(this.projectionDelta=void 0,this.needsReset=!0),ot&&this.setOptions({transition:ot})}relegate(){const at=this.getStack();return at?at.relegate(this):!1}resetRotation(){const{visualElement:at}=this.options;if(!at)return;let ot=!1;const{latestValues:rt}=at;if((rt.rotate||rt.rotateX||rt.rotateY||rt.rotateZ)&&(ot=!0),!ot)return;const nt={};for(let j=0;j<transformAxes.length;j++){const _="rotate"+transformAxes[j];rt[_]&&(nt[_]=rt[_],at.setStaticValue(_,0))}at==null||at.render();for(const j in nt)at.setStaticValue(j,nt[j]);at.scheduleRender()}getProjectionStyles(at={}){var ot,rt;const nt={};if(!this.instance||this.isSVG)return nt;if(this.isVisible)nt.visibility="";else return{visibility:"hidden"};const j=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,nt.opacity="",nt.pointerEvents=resolveMotionValue(at.pointerEvents)||"",nt.transform=j?j(this.latestValues,""):"none",nt;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const lt={};return this.options.layoutId&&(lt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,lt.pointerEvents=resolveMotionValue(at.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(lt.transform=j?j({},""):"none",this.hasProjected=!1),lt}const $=_.animationValues||_.latestValues;this.applyTransformsToTarget(),nt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$),j&&(nt.transform=j($,nt.transform));const{x:et,y:st}=this.projectionDelta;nt.transformOrigin=`${et.origin*100}% ${st.origin*100}% 0`,_.animationValues?nt.opacity=_===this?(rt=(ot=$.opacity)!==null&&ot!==void 0?ot:this.latestValues.opacity)!==null&&rt!==void 0?rt:1:this.preserveOpacity?this.latestValues.opacity:$.opacityExit:nt.opacity=_===this?$.opacity!==void 0?$.opacity:"":$.opacityExit!==void 0?$.opacityExit:0;for(const lt in scaleCorrectors){if($[lt]===void 0)continue;const{correct:ft,applyTo:gt}=scaleCorrectors[lt],ut=nt.transform==="none"?$[lt]:ft($[lt],_);if(gt){const pt=gt.length;for(let vt=0;vt<pt;vt++)nt[gt[vt]]=ut}else nt[lt]=ut}return this.options.layoutId&&(nt.pointerEvents=_===this?resolveMotionValue(at.pointerEvents)||"":"none"),nt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(at=>{var ot;return(ot=at.currentAnimation)===null||ot===void 0?void 0:ot.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){var s,a,o;const it=((s=i.resumeFrom)===null||s===void 0?void 0:s.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&it&&i.hasListeners("didUpdate")){const{layoutBox:tt,measuredBox:at}=i.layout,{animationType:ot}=i.options,rt=it.source!==i.layout.source;ot==="size"?eachAxis(et=>{const st=rt?it.measuredBox[et]:it.layoutBox[et],lt=calcLength(st);st.min=tt[et].min,st.max=st.min+lt}):shouldAnimatePositionOnly(ot,it.layoutBox,tt)&&eachAxis(et=>{const st=rt?it.measuredBox[et]:it.layoutBox[et],lt=calcLength(tt[et]);st.max=st.min+lt});const nt=createDelta();calcBoxDelta(nt,tt,it.layoutBox);const j=createDelta();rt?calcBoxDelta(j,i.applyTransform(at,!0),it.measuredBox):calcBoxDelta(j,tt,it.layoutBox);const _=!isDeltaZero(nt);let $=!1;if(!i.resumeFrom){const et=i.getClosestProjectingParent();if(et&&!et.resumeFrom){const{snapshot:st,layout:lt}=et;if(st&&lt){const ft=createBox();calcRelativePosition(ft,it.layoutBox,st.layoutBox);const gt=createBox();calcRelativePosition(gt,tt,lt.layoutBox),boxEquals(ft,gt)||($=!0),et.options.layoutRoot&&(i.relativeTarget=gt,i.relativeTargetOrigin=ft,i.relativeParent=et)}}}i.notifyListeners("didUpdate",{layout:tt,snapshot:it,delta:j,layoutDelta:nt,hasLayoutChanged:_,hasRelativeTargetChanged:$})}else i.isLead()&&((o=(a=i.options).onExitComplete)===null||o===void 0||o.call(a));i.options.transition=void 0}function propagateDirtyNodes(i){i.isProjectionDirty||(i.isProjectionDirty=Boolean(i.parent&&i.parent.isProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=Boolean(i.parent&&i.parent.isTransformDirty))}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function resetTransformStyle(i){const{visualElement:s}=i.options;s!=null&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetRotation(i){i.resetRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,s,a){i.translate=mix(s.translate,0,a),i.scale=mix(s.scale,1,a),i.origin=s.origin,i.originPoint=s.originPoint}function mixAxis(i,s,a,o){i.min=mix(s.min,a.min,o),i.max=mix(s.max,a.max,o)}function mixBox(i,s,a,o){mixAxis(i.x,s.x,a.x,o),mixAxis(i.y,s.y,a.y,o)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(i,s){let a=i.root;for(let tt=i.path.length-1;tt>=0;tt--)if(Boolean(i.path[tt].instance)){a=i.path[tt];break}const it=(a&&a!==i.root?a.instance:document).querySelector(`[data-projection-id="${s}"]`);it&&i.mount(it,!0)}function roundAxis(i){i.min=Math.round(i.min),i.max=Math.round(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,s,a){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(a),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(i,s)=>addDomEvent(i,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode(0,{});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,s)=>{i.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:i=>Boolean(window.getComputedStyle(i).position==="fixed")}),featureBundle={...animations,...gestureAnimations,...drag,...layoutFeatures},motion=createMotionProxy((i,s)=>createDomMotionConfig(i,s,featureBundle,createDomVisualElement,HTMLProjectionNode));function useIsMounted(){const i=react.exports.useRef(!1);return useIsomorphicLayoutEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),i}function useForceUpdate(){const i=useIsMounted(),[s,a]=react.exports.useState(0),o=react.exports.useCallback(()=>{i.current&&a(s+1)},[s]);return[react.exports.useCallback(()=>sync.postRender(o),[o]),s]}class PopChildMeasure extends react.exports.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=a.offsetHeight||0,o.width=a.offsetWidth||0,o.top=a.offsetTop,o.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:s}){const a=react.exports.useId(),o=react.exports.useRef(null),it=react.exports.useRef({width:0,height:0,top:0,left:0});return react.exports.useInsertionEffect(()=>{const{width:tt,height:at,top:ot,left:rt}=it.current;if(s||!o.current||!tt||!at)return;o.current.dataset.motionPopId=a;const nt=document.createElement("style");return document.head.appendChild(nt),nt.sheet&&nt.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${tt}px !important;
            height: ${at}px !important;
            top: ${ot}px !important;
            left: ${rt}px !important;
          }
        `),()=>{document.head.removeChild(nt)}},[s]),jsx(PopChildMeasure,{isPresent:s,childRef:o,sizeRef:it,children:react.exports.cloneElement(i,{ref:o})})}const PresenceChild=({children:i,initial:s,isPresent:a,onExitComplete:o,custom:it,presenceAffectsLayout:tt,mode:at})=>{const ot=useConstant(newChildrenMap),rt=react.exports.useId(),nt=react.exports.useMemo(()=>({id:rt,initial:s,isPresent:a,custom:it,onExitComplete:j=>{ot.set(j,!0);for(const _ of ot.values())if(!_)return;o&&o()},register:j=>(ot.set(j,!1),()=>ot.delete(j))}),tt?void 0:[a]);return react.exports.useMemo(()=>{ot.forEach((j,_)=>ot.set(_,!1))},[a]),react.exports.useEffect(()=>{!a&&!ot.size&&o&&o()},[a]),at==="popLayout"&&(i=jsx(PopChild,{isPresent:a,children:i})),jsx(PresenceContext.Provider,{value:nt,children:i})};function newChildrenMap(){return new Map}const getChildKey=i=>i.key||"";function updateChildLookup(i,s){i.forEach(a=>{const o=getChildKey(a);s.set(o,a)})}function onlyElements(i){const s=[];return react.exports.Children.forEach(i,a=>{react.exports.isValidElement(a)&&s.push(a)}),s}const AnimatePresence=({children:i,custom:s,initial:a=!0,onExitComplete:o,exitBeforeEnter:it,presenceAffectsLayout:tt=!0,mode:at="sync"})=>{it&&(at="wait");let[ot]=useForceUpdate();const rt=react.exports.useContext(LayoutGroupContext).forceRender;rt&&(ot=rt);const nt=useIsMounted(),j=onlyElements(i);let _=j;const $=new Set,et=react.exports.useRef(_),st=react.exports.useRef(new Map).current,lt=react.exports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{lt.current=!1,updateChildLookup(j,st),et.current=_}),useUnmountEffect(()=>{lt.current=!0,st.clear(),$.clear()}),lt.current)return jsx(Fragment,{children:_.map(pt=>jsx(PresenceChild,{isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:tt,mode:at,children:pt},getChildKey(pt)))});_=[..._];const ft=et.current.map(getChildKey),gt=j.map(getChildKey),ut=ft.length;for(let pt=0;pt<ut;pt++){const vt=ft[pt];gt.indexOf(vt)===-1&&$.add(vt)}return at==="wait"&&$.size&&(_=[]),$.forEach(pt=>{if(gt.indexOf(pt)!==-1)return;const vt=st.get(pt);if(!vt)return;const dt=ft.indexOf(pt),mt=()=>{st.delete(pt),$.delete(pt);const Tt=et.current.findIndex(yt=>yt.key===pt);if(et.current.splice(Tt,1),!$.size){if(et.current=j,nt.current===!1)return;ot(),o&&o()}};_.splice(dt,0,jsx(PresenceChild,{isPresent:!1,onExitComplete:mt,custom:s,presenceAffectsLayout:tt,mode:at,children:vt},getChildKey(vt)))}),_=_.map(pt=>{const vt=pt.key;return $.has(vt)?pt:jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:tt,mode:at,children:pt},getChildKey(pt))}),jsx(Fragment,{children:$.size?_:_.map(pt=>react.exports.cloneElement(pt))})};var __assign$2=function(){return __assign$2=Object.assign||function(s){for(var a,o=1,it=arguments.length;o<it;o++){a=arguments[o];for(var tt in a)Object.prototype.hasOwnProperty.call(a,tt)&&(s[tt]=a[tt])}return s},__assign$2.apply(this,arguments)};function __rest(i,s){var a={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.indexOf(o)<0&&(a[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,o=Object.getOwnPropertySymbols(i);it<o.length;it++)s.indexOf(o[it])<0&&Object.prototype.propertyIsEnumerable.call(i,o[it])&&(a[o[it]]=i[o[it]]);return a}function __spreadArray(i,s,a){if(a||arguments.length===2)for(var o=0,it=s.length,tt;o<it;o++)(tt||!(o in s))&&(tt||(tt=Array.prototype.slice.call(s,0,o)),tt[o]=s[o]);return i.concat(tt||Array.prototype.slice.call(s))}var toastMotionVariants={initial:i=>{const{position:s}=i,a=["top","bottom"].includes(s)?"y":"x";let o=["top-right","bottom-right"].includes(s)?1:-1;return s==="bottom"&&(o=1),{opacity:0,[a]:o*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=react.exports.memo(i=>{const{id:s,message:a,onCloseComplete:o,onRequestRemove:it,requestClose:tt=!1,position:at="bottom",duration:ot=5e3,containerStyle:rt,motionVariants:nt=toastMotionVariants,toastSpacing:j="0.5rem"}=i,[_,$]=react.exports.useState(ot),et=useIsPresent();useUpdateEffect(()=>{et||o==null||o()},[et]),useUpdateEffect(()=>{$(ot)},[ot]);const st=()=>$(null),lt=()=>$(ot),ft=()=>{et&&it()};react.exports.useEffect(()=>{et&&tt&&it()},[et,tt,it]),useTimeout(ft,_);const gt=react.exports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:j,...rt}),[rt,j]),ut=react.exports.useMemo(()=>getToastStyle(at),[at]);return jsx(motion.li,{layout:!0,className:"chakra-toast",variants:nt,initial:"initial",animate:"animate",exit:"exit",onHoverStart:st,onHoverEnd:lt,custom:{position:at},style:ut,children:jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:gt,children:runIfFn$2(a,{id:s,onClose:ft})})})});ToastComponent.displayName="ToastComponent";var fallbackIcon={path:jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((i,s)=>{const{as:a,viewBox:o,color:it="currentColor",focusable:tt=!1,children:at,className:ot,__css:rt,...nt}=i,j=cx("chakra-icon",ot),_=useStyleConfig("Icon",i),$={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:it,...rt,..._},et={ref:s,focusable:tt,className:j,__css:$},st=o!=null?o:fallbackIcon.viewBox;if(a&&typeof a!="string")return jsx(chakra.svg,{as:a,...et,...nt});const lt=at!=null?at:fallbackIcon.path;return jsx(chakra.svg,{verticalAlign:"middle",viewBox:st,...et,...nt,children:lt})});Icon.displayName="Icon";function createIcon(i){const{viewBox:s="0 0 24 24",d:a,displayName:o,defaultProps:it={}}=i,tt=react.exports.Children.toArray(i.path),at=forwardRef((ot,rt)=>jsx(Icon,{ref:rt,viewBox:s,...it,...ot,children:tt.length?tt:jsx("path",{fill:"currentColor",d:a})}));return at.displayName=o,at}function CheckIcon$1(i){return jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(i){return jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(i){return jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((i,s)=>{const a=useStyleConfig("Spinner",i),{label:o="Loading...",thickness:it="2px",speed:tt="0.45s",emptyColor:at="transparent",className:ot,...rt}=omitThemingProps(i),nt=cx("chakra-spinner",ot),j={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:it,borderBottomColor:at,borderLeftColor:at,animation:`${spin} ${tt} linear infinite`,...a};return jsx(chakra.div,{ref:s,__css:j,className:nt,...rt,children:o&&jsx(chakra.span,{srOnly:!0,children:o})})});Spinner.displayName="Spinner";var[AlertProvider,useAlertContext]=createContext$2({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$2({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon$1,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(i){return STATUSES[i].colorScheme}function getStatusIcon(i){return STATUSES[i].icon}var AlertDescription=forwardRef(function(s,a){const it={display:"inline",...useAlertStyles().description};return jsx(chakra.div,{ref:a,...s,className:cx("chakra-alert__desc",s.className),__css:it})});AlertDescription.displayName="AlertDescription";function AlertIcon(i){const{status:s}=useAlertContext(),a=getStatusIcon(s),o=useAlertStyles(),it=s==="loading"?o.spinner:o.icon;return jsx(chakra.span,{display:"inherit",...i,className:cx("chakra-alert__icon",i.className),__css:it,children:i.children||jsx(a,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function(s,a){const o=useAlertStyles();return jsx(chakra.div,{ref:a,...s,className:cx("chakra-alert__title",s.className),__css:o.title})});AlertTitle.displayName="AlertTitle";var Alert=forwardRef(function(s,a){var o;const{status:it="info",addRole:tt=!0,...at}=omitThemingProps(s),ot=(o=s.colorScheme)!=null?o:getStatusColorScheme(it),rt=useMultiStyleConfig("Alert",{...s,colorScheme:ot}),nt={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...rt.container};return jsx(AlertProvider,{value:{status:it},children:jsx(AlertStylesProvider,{value:rt,children:jsx(chakra.div,{role:tt?"alert":void 0,ref:a,...at,className:cx("chakra-alert",s.className),__css:nt})})})});Alert.displayName="Alert";function CloseIcon(i){return jsx(Icon,{focusable:"false","aria-hidden":!0,...i,children:jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function(s,a){const o=useStyleConfig("CloseButton",s),{children:it,isDisabled:tt,__css:at,...ot}=omitThemingProps(s),rt={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsx(chakra.button,{type:"button","aria-label":"Close",ref:a,disabled:tt,__css:{...rt,...o,...at},...ot,children:it||jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";var initialState={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState);function createStore(i){let s=i;const a=new Set,o=it=>{s=it(s),a.forEach(tt=>tt())};return{getState:()=>s,subscribe:it=>(a.add(it),()=>{o(()=>i),a.delete(it)}),removeToast:(it,tt)=>{o(at=>({...at,[tt]:at[tt].filter(ot=>ot.id!=it)}))},notify:(it,tt)=>{const at=createToast(it,tt),{position:ot,id:rt}=at;return o(nt=>{var j,_;const et=ot.includes("top")?[at,...(j=nt[ot])!=null?j:[]]:[...(_=nt[ot])!=null?_:[],at];return{...nt,[ot]:et}}),rt},update:(it,tt)=>{!it||o(at=>{const ot={...at},{position:rt,index:nt}=findToast(ot,it);return rt&&nt!==-1&&(ot[rt][nt]={...ot[rt][nt],...tt,message:createRenderToast(tt)}),ot})},closeAll:({positions:it}={})=>{o(tt=>{const at=["bottom","bottom-right","bottom-left","top","top-left","top-right"];return(it!=null?it:at).reduce((rt,nt)=>(rt[nt]=tt[nt].map(j=>({...j,requestClose:!0})),rt),{...tt})})},close:it=>{o(tt=>{const at=getToastPosition(tt,it);return at?{...tt,[at]:tt[at].map(ot=>ot.id==it?{...ot,requestClose:!0}:ot)}:tt})},isActive:it=>Boolean(findToast(toastStore.getState(),it).position)}}var counter=0;function createToast(i,s={}){var a,o;counter+=1;const it=(a=s.id)!=null?a:counter,tt=(o=s.position)!=null?o:"bottom";return{id:it,message:i,position:tt,duration:s.duration,onCloseComplete:s.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(it),tt),status:s.status,requestClose:!1,containerStyle:s.containerStyle}}var Toast=i=>{const{status:s,variant:a="solid",id:o,title:it,isClosable:tt,onClose:at,description:ot,icon:rt}=i,nt=o?{root:`toast-${o}`,title:`toast-${o}-title`,description:`toast-${o}-description`}:void 0;return jsxs(Alert,{addRole:!1,status:s,variant:a,id:nt==null?void 0:nt.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",children:[jsx(AlertIcon,{children:rt}),jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[it&&jsx(AlertTitle,{id:nt==null?void 0:nt.title,children:it}),ot&&jsx(AlertDescription,{id:nt==null?void 0:nt.description,display:"block",children:ot})]}),tt&&jsx(CloseButton,{size:"sm",onClick:at,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(i={}){const{render:s,toastComponent:a=Toast}=i;return it=>typeof s=="function"?s({...it,...i}):jsx(a,{...it,...i})}var[ToastOptionProvider,useToastOptionContext]=createContext$2({name:"ToastOptionsContext",strict:!1}),ToastProvider=i=>{const s=react.exports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:a,component:o=ToastComponent,portalProps:it}=i,at=Object.keys(s).map(ot=>{const rt=s[ot];return jsx("ul",{role:"region","aria-live":"polite",id:`chakra-toast-manager-${ot}`,style:getToastListStyle(ot),children:jsx(AnimatePresence,{initial:!1,children:rt.map(nt=>jsx(o,{motionVariants:a,...nt},nt.id))})},ot)});return jsx(Portal,{...it,children:at})},createChakraProvider=i=>function({children:a,theme:o=i,toastOptions:it,...tt}){return jsxs(ChakraProvider$1,{theme:o,...tt,children:[jsx(ToastOptionProvider,{value:it==null?void 0:it.defaultOptions,children:a}),jsx(ToastProvider,{...it})]})},ChakraProvider=createChakraProvider(theme$2);function assignRef$1(i,s){if(i!=null){if(typeof i=="function"){i(s);return}try{i.current=s}catch{throw new Error(`Cannot assign value '${s}' to ref '${i}'`)}}}function mergeRefs(...i){return s=>{i.forEach(a=>{assignRef$1(a,s)})}}function useMergeRefs$1(...i){return react.exports.useMemo(()=>mergeRefs(...i),i)}var TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.enter}),exit:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.exit})},variants$2={enter:({transition:i,transitionEnd:s,delay:a}={})=>{var o;return{opacity:1,transition:(o=i==null?void 0:i.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:s==null?void 0:s.enter}},exit:({transition:i,transitionEnd:s,delay:a}={})=>{var o;return{opacity:0,transition:(o=i==null?void 0:i.exit)!=null?o:withDelay.exit(TRANSITION_DEFAULTS.exit,a),transitionEnd:s==null?void 0:s.exit}}},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=react.exports.forwardRef(function(s,a){const{unmountOnExit:o,in:it,className:tt,transition:at,transitionEnd:ot,delay:rt,...nt}=s,j=it||o?"enter":"exit",_=o?it&&o:!0,$={transition:at,transitionEnd:ot,delay:rt};return jsx(AnimatePresence,{custom:$,children:_&&jsx(motion.div,{ref:a,className:cx("chakra-fade",tt),custom:$,...fadeConfig,animate:j,...nt})})});Fade.displayName="Fade";var variants$1={exit:({reverse:i,initialScale:s,transition:a,transitionEnd:o,delay:it})=>{var tt;return{opacity:0,...i?{scale:s,transitionEnd:o==null?void 0:o.exit}:{transitionEnd:{scale:s,...o==null?void 0:o.exit}},transition:(tt=a==null?void 0:a.exit)!=null?tt:withDelay.exit(TRANSITION_DEFAULTS.exit,it)}},enter:({transitionEnd:i,transition:s,delay:a})=>{var o;return{opacity:1,scale:1,transition:(o=s==null?void 0:s.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:i==null?void 0:i.enter}}},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$1},ScaleFade=react.exports.forwardRef(function(s,a){const{unmountOnExit:o,in:it,reverse:tt=!0,initialScale:at=.95,className:ot,transition:rt,transitionEnd:nt,delay:j,..._}=s,$=o?it&&o:!0,et=it||o?"enter":"exit",st={initialScale:at,reverse:tt,transition:rt,transitionEnd:nt,delay:j};return jsx(AnimatePresence,{custom:st,children:$&&jsx(motion.div,{ref:a,className:cx("chakra-offset-slide",ot),...scaleFadeConfig,animate:et,custom:st,..._})})});ScaleFade.displayName="ScaleFade";var variants={initial:({offsetX:i,offsetY:s,transition:a,transitionEnd:o,delay:it})=>{var tt;return{opacity:0,x:i,y:s,transition:(tt=a==null?void 0:a.exit)!=null?tt:withDelay.exit(TRANSITION_DEFAULTS.exit,it),transitionEnd:o==null?void 0:o.exit}},enter:({transition:i,transitionEnd:s,delay:a})=>{var o;return{opacity:1,x:0,y:0,transition:(o=i==null?void 0:i.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:s==null?void 0:s.enter}},exit:({offsetY:i,offsetX:s,transition:a,transitionEnd:o,reverse:it,delay:tt})=>{var at;const ot={x:s,y:i};return{opacity:0,transition:(at=a==null?void 0:a.exit)!=null?at:withDelay.exit(TRANSITION_DEFAULTS.exit,tt),...it?{...ot,transitionEnd:o==null?void 0:o.exit}:{transitionEnd:{...ot,...o==null?void 0:o.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants},SlideFade=react.exports.forwardRef(function(s,a){const{unmountOnExit:o,in:it,reverse:tt=!0,className:at,offsetX:ot=0,offsetY:rt=8,transition:nt,transitionEnd:j,delay:_,...$}=s,et=o?it&&o:!0,st=it||o?"enter":"exit",lt={offsetX:ot,offsetY:rt,reverse:tt,transition:nt,transitionEnd:j,delay:_};return jsx(AnimatePresence,{custom:lt,children:et&&jsx(motion.div,{ref:a,className:cx("chakra-offset-slide",at),custom:lt,...slideFadeConfig,animate:st,...$})})});SlideFade.displayName="SlideFade";function getValidChildren(i){return react.exports.Children.toArray(i).filter(s=>react.exports.isValidElement(s))}var[ButtonGroupProvider,useButtonGroup]=createContext$2({strict:!1,name:"ButtonGroupContext"}),attachedStyles={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},gapStyles={horizontal:i=>({"& > *:not(style) ~ *:not(style)":{marginStart:i}}),vertical:i=>({"& > *:not(style) ~ *:not(style)":{marginTop:i}})},ButtonGroup=forwardRef(function(s,a){const{size:o,colorScheme:it,variant:tt,className:at,spacing:ot="0.5rem",isAttached:rt,isDisabled:nt,orientation:j="horizontal",..._}=s,$=cx("chakra-button__group",at),et=react.exports.useMemo(()=>({size:o,colorScheme:it,variant:tt,isDisabled:nt}),[o,it,tt,nt]);let st={display:"inline-flex",...rt?attachedStyles[j]:gapStyles[j](ot)};const lt=j==="vertical";return jsx(ButtonGroupProvider,{value:et,children:jsx(chakra.div,{ref:a,role:"group",__css:st,className:$,"data-attached":rt?"":void 0,"data-orientation":j,flexDir:lt?"column":void 0,..._})})});ButtonGroup.displayName="ButtonGroup";function useButtonType(i){const[s,a]=react.exports.useState(!i);return{ref:react.exports.useCallback(tt=>{!tt||a(tt.tagName==="BUTTON")},[]),type:s?"button":void 0}}function ButtonIcon(i){const{children:s,className:a,...o}=i,it=react.exports.isValidElement(s)?react.exports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):s,tt=cx("chakra-button__icon",a);return jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...o,className:tt,children:it})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(i){const{label:s,placement:a,spacing:o="0.5rem",children:it=jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:tt,__css:at,...ot}=i,rt=cx("chakra-button__spinner",tt),nt=a==="start"?"marginEnd":"marginStart",j=react.exports.useMemo(()=>({display:"flex",alignItems:"center",position:s?"relative":"absolute",[nt]:s?o:0,fontSize:"1em",lineHeight:"normal",...at}),[at,s,nt,o]);return jsx(chakra.div,{className:rt,...ot,__css:j,children:it})}ButtonSpinner.displayName="ButtonSpinner";var Button=forwardRef((i,s)=>{const a=useButtonGroup(),o=useStyleConfig("Button",{...a,...i}),{isDisabled:it=a==null?void 0:a.isDisabled,isLoading:tt,isActive:at,children:ot,leftIcon:rt,rightIcon:nt,loadingText:j,iconSpacing:_="0.5rem",type:$,spinner:et,spinnerPlacement:st="start",className:lt,as:ft,...gt}=omitThemingProps(i),ut=react.exports.useMemo(()=>{const mt={...o==null?void 0:o._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...o,...!!a&&{_focus:mt}}},[o,a]),{ref:pt,type:vt}=useButtonType(ft),dt={rightIcon:nt,leftIcon:rt,iconSpacing:_,children:ot};return jsxs(chakra.button,{ref:useMergeRefs$1(s,pt),as:ft,type:$!=null?$:vt,"data-active":dataAttr(at),"data-loading":dataAttr(tt),__css:ut,className:cx("chakra-button",lt),...gt,disabled:it||tt,children:[tt&&st==="start"&&jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:j,placement:"start",spacing:_,children:et}),tt?j||jsx(chakra.span,{opacity:0,children:jsx(ButtonContent,{...dt})}):jsx(ButtonContent,{...dt}),tt&&st==="end"&&jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:j,placement:"end",spacing:_,children:et})]})});Button.displayName="Button";function ButtonContent(i){const{leftIcon:s,rightIcon:a,children:o,iconSpacing:it}=i;return jsxs(Fragment,{children:[s&&jsx(ButtonIcon,{marginEnd:it,children:s}),o,a&&jsx(ButtonIcon,{marginStart:it,children:a})]})}var[CardStylesProvider,useCardStyles]=createStylesContext("Card"),CardBody=forwardRef(function(s,a){const{className:o,...it}=s,tt=useCardStyles();return jsx(chakra.div,{ref:a,className:cx("chakra-card__body",o),__css:tt.body,...it})}),CardHeader=forwardRef(function(s,a){const{className:o,...it}=s,tt=useCardStyles();return jsx(chakra.div,{ref:a,className:cx("chakra-card__header",o),__css:tt.header,...it})}),Card=forwardRef(function(s,a){const{className:o,children:it,direction:tt="column",justify:at,align:ot,...rt}=omitThemingProps(s),nt=useMultiStyleConfig("Card",s);return jsx(chakra.div,{ref:a,className:cx("chakra-card",o),__css:{display:"flex",flexDirection:tt,justifyContent:at,alignItems:ot,position:"relative",minWidth:0,wordWrap:"break-word",...nt.container},...rt,children:jsx(CardStylesProvider,{value:nt,children:it})})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$2({name:"CheckboxGroupContext",strict:!1});function CheckIcon(i){return jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...i,children:jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(i){return jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...i,children:jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(i){const{isIndeterminate:s,isChecked:a,...o}=i,it=s?IndeterminateIcon:CheckIcon;return a||s?jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsx(it,{...o})}):null}var[FormControlStylesProvider,useFormControlStyles]=createContext$2({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$2({strict:!1,name:"FormControlContext"});function useFormControlProvider(i){const{id:s,isRequired:a,isInvalid:o,isDisabled:it,isReadOnly:tt,...at}=i,ot=react.exports.useId(),rt=s||`field-${ot}`,nt=`${rt}-label`,j=`${rt}-feedback`,_=`${rt}-helptext`,[$,et]=react.exports.useState(!1),[st,lt]=react.exports.useState(!1),[ft,gt]=react.exports.useState(!1),ut=react.exports.useCallback((Tt={},yt=null)=>({id:_,...Tt,ref:mergeRefs(yt,ht=>{!ht||lt(!0)})}),[_]),pt=react.exports.useCallback((Tt={},yt=null)=>{var ht,xt;return{...Tt,ref:yt,"data-focus":dataAttr(ft),"data-disabled":dataAttr(it),"data-invalid":dataAttr(o),"data-readonly":dataAttr(tt),id:(ht=Tt.id)!=null?ht:nt,htmlFor:(xt=Tt.htmlFor)!=null?xt:rt}},[rt,it,ft,o,tt,nt]),vt=react.exports.useCallback((Tt={},yt=null)=>({id:j,...Tt,ref:mergeRefs(yt,ht=>{!ht||et(!0)}),"aria-live":"polite"}),[j]),dt=react.exports.useCallback((Tt={},yt=null)=>({...Tt,...at,ref:yt,role:"group"}),[at]),mt=react.exports.useCallback((Tt={},yt=null)=>({...Tt,ref:yt,role:"presentation","aria-hidden":!0,children:Tt.children||"*"}),[]);return{isRequired:!!a,isInvalid:!!o,isReadOnly:!!tt,isDisabled:!!it,isFocused:!!ft,onFocus:()=>gt(!0),onBlur:()=>gt(!1),hasFeedbackText:$,setHasFeedbackText:et,hasHelpText:st,setHasHelpText:lt,id:rt,labelId:nt,feedbackId:j,helpTextId:_,htmlProps:at,getHelpTextProps:ut,getErrorMessageProps:vt,getRootProps:dt,getLabelProps:pt,getRequiredIndicatorProps:mt}}var FormControl=forwardRef(function(s,a){const o=useMultiStyleConfig("Form",s),it=omitThemingProps(s),{getRootProps:tt,htmlProps:at,...ot}=useFormControlProvider(it),rt=cx("chakra-form-control",s.className);return jsx(FormControlProvider,{value:ot,children:jsx(FormControlStylesProvider,{value:o,children:jsx(chakra.div,{...tt({},a),className:rt,__css:o.container})})})});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function(s,a){const o=useFormControlContext(),it=useFormControlStyles(),tt=cx("chakra-form__helper-text",s.className);return jsx(chakra.div,{...o==null?void 0:o.getHelpTextProps(s,a),__css:it.helperText,className:tt})});FormHelperText.displayName="FormHelperText";function useFormControl(i){const{isDisabled:s,isInvalid:a,isReadOnly:o,isRequired:it,...tt}=useFormControlProps(i);return{...tt,disabled:s,readOnly:o,required:it,"aria-invalid":ariaAttr(a),"aria-required":ariaAttr(it),"aria-readonly":ariaAttr(o)}}function useFormControlProps(i){var s,a,o;const it=useFormControlContext(),{id:tt,disabled:at,readOnly:ot,required:rt,isRequired:nt,isInvalid:j,isReadOnly:_,isDisabled:$,onFocus:et,onBlur:st,...lt}=i,ft=i["aria-describedby"]?[i["aria-describedby"]]:[];return(it==null?void 0:it.hasFeedbackText)&&(it==null?void 0:it.isInvalid)&&ft.push(it.feedbackId),it!=null&&it.hasHelpText&&ft.push(it.helpTextId),{...lt,"aria-describedby":ft.join(" ")||void 0,id:tt!=null?tt:it==null?void 0:it.id,isDisabled:(s=at!=null?at:$)!=null?s:it==null?void 0:it.isDisabled,isReadOnly:(a=ot!=null?ot:_)!=null?a:it==null?void 0:it.isReadOnly,isRequired:(o=rt!=null?rt:nt)!=null?o:it==null?void 0:it.isRequired,isInvalid:j!=null?j:it==null?void 0:it.isInvalid,onFocus:callAllHandlers$1(it==null?void 0:it.onFocus,et),onBlur:callAllHandlers$1(it==null?void 0:it.onBlur,st)}}var visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(i,s){handlers.forEach(a=>a(i,s))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(i){return!(i.metaKey||!isMac&&i.altKey||i.ctrlKey||i.key==="Control"||i.key==="Shift"||i.key==="Meta")}function onKeyboardEvent(i){hasEventBeforeFocus=!0,isValidKey(i)&&(modality="keyboard",trigger("keyboard",i))}function onPointerEvent(i){if(modality="pointer",i.type==="mousedown"||i.type==="pointerdown"){hasEventBeforeFocus=!0;const s=i.composedPath?i.composedPath()[0]:i.target;let a=!1;try{a=s.matches(":focus-visible")}catch{}if(a)return;trigger("pointer",i)}}function isVirtualClick(i){return i.mozInputSource===0&&i.isTrusted?!0:i.detail===0&&!i.pointerType}function onClickEvent(i){isVirtualClick(i)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus(i){i.target===window||i.target===document||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",i)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(typeof window>"u"||hasSetup)return;const{focus:i}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...a){hasEventBeforeFocus=!0,i.apply(this,a)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(i){setupGlobalFocusEvents(),i(isFocusVisible());const s=()=>i(isFocusVisible());return handlers.add(s),()=>{handlers.delete(s)}}function omit(i,s=[]){const a=Object.assign({},i);for(const o of s)o in a&&delete a[o];return a}function useCheckbox(i={}){const s=useFormControlProps(i),{isDisabled:a,isReadOnly:o,isRequired:it,isInvalid:tt,id:at,onBlur:ot,onFocus:rt,"aria-describedby":nt}=s,{defaultChecked:j,isChecked:_,isFocusable:$,onChange:et,isIndeterminate:st,name:lt,value:ft,tabIndex:gt=void 0,"aria-label":ut,"aria-labelledby":pt,"aria-invalid":vt,...dt}=i,mt=omit(dt,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),Tt=useCallbackRef$2(et),yt=useCallbackRef$2(ot),ht=useCallbackRef$2(rt),[xt,wt]=react.exports.useState(!1),[kt,Ct]=react.exports.useState(!1),[Rt,Lt]=react.exports.useState(!1),[Mt,Wt]=react.exports.useState(!1);react.exports.useEffect(()=>trackFocusVisible(wt),[]);const Pt=react.exports.useRef(null),[Ot,Xt]=react.exports.useState(!0),[rn,jt]=react.exports.useState(!!j),Vt=_!==void 0,en=Vt?_:rn,ln=react.exports.useCallback(cn=>{if(o||a){cn.preventDefault();return}Vt||jt(en?cn.target.checked:st?!0:cn.target.checked),Tt==null||Tt(cn)},[o,a,en,Vt,st,Tt]);useSafeLayoutEffect$1(()=>{Pt.current&&(Pt.current.indeterminate=Boolean(st))},[st]),useUpdateEffect(()=>{a&&Ct(!1)},[a,Ct]),useSafeLayoutEffect$1(()=>{const cn=Pt.current;!(cn!=null&&cn.form)||(cn.form.onreset=()=>{jt(!!j)})},[]);const nn=a&&!$,_n=react.exports.useCallback(cn=>{cn.key===" "&&Wt(!0)},[Wt]),fn=react.exports.useCallback(cn=>{cn.key===" "&&Wt(!1)},[Wt]);useSafeLayoutEffect$1(()=>{if(!Pt.current)return;Pt.current.checked!==en&&jt(Pt.current.checked)},[Pt.current]);const wn=react.exports.useCallback((cn={},kn=null)=>{const dn=qn=>{kt&&qn.preventDefault(),Wt(!0)};return{...cn,ref:kn,"data-active":dataAttr(Mt),"data-hover":dataAttr(Rt),"data-checked":dataAttr(en),"data-focus":dataAttr(kt),"data-focus-visible":dataAttr(kt&&xt),"data-indeterminate":dataAttr(st),"data-disabled":dataAttr(a),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(o),"aria-hidden":!0,onMouseDown:callAllHandlers$1(cn.onMouseDown,dn),onMouseUp:callAllHandlers$1(cn.onMouseUp,()=>Wt(!1)),onMouseEnter:callAllHandlers$1(cn.onMouseEnter,()=>Lt(!0)),onMouseLeave:callAllHandlers$1(cn.onMouseLeave,()=>Lt(!1))}},[Mt,en,a,kt,xt,Rt,st,tt,o]),xn=react.exports.useCallback((cn={},kn=null)=>({...mt,...cn,ref:mergeRefs(kn,dn=>{!dn||Xt(dn.tagName==="LABEL")}),onClick:callAllHandlers$1(cn.onClick,()=>{var dn;Ot||((dn=Pt.current)==null||dn.click(),requestAnimationFrame(()=>{var qn;(qn=Pt.current)==null||qn.focus()}))}),"data-disabled":dataAttr(a),"data-checked":dataAttr(en),"data-invalid":dataAttr(tt)}),[mt,a,en,tt,Ot]),qt=react.exports.useCallback((cn={},kn=null)=>({...cn,ref:mergeRefs(Pt,kn),type:"checkbox",name:lt,value:ft,id:at,tabIndex:gt,onChange:callAllHandlers$1(cn.onChange,ln),onBlur:callAllHandlers$1(cn.onBlur,yt,()=>Ct(!1)),onFocus:callAllHandlers$1(cn.onFocus,ht,()=>Ct(!0)),onKeyDown:callAllHandlers$1(cn.onKeyDown,_n),onKeyUp:callAllHandlers$1(cn.onKeyUp,fn),required:it,checked:en,disabled:nn,readOnly:o,"aria-label":ut,"aria-labelledby":pt,"aria-invalid":vt?Boolean(vt):tt,"aria-describedby":nt,"aria-disabled":a,style:visuallyHiddenStyle}),[lt,ft,at,ln,yt,ht,_n,fn,it,en,nn,o,ut,pt,vt,tt,nt,a,gt]),Qt=react.exports.useCallback((cn={},kn=null)=>({...cn,ref:kn,onMouseDown:callAllHandlers$1(cn.onMouseDown,stopEvent),onTouchStart:callAllHandlers$1(cn.onTouchStart,stopEvent),"data-disabled":dataAttr(a),"data-checked":dataAttr(en),"data-invalid":dataAttr(tt)}),[en,a,tt]);return{state:{isInvalid:tt,isFocused:kt,isChecked:en,isActive:Mt,isHovered:Rt,isIndeterminate:st,isDisabled:a,isReadOnly:o,isRequired:it},getRootProps:xn,getCheckboxProps:wn,getInputProps:qt,getLabelProps:Qt,htmlProps:mt}}function stopEvent(i){i.preventDefault(),i.stopPropagation()}var controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(s,a){const o=useCheckboxGroupContext(),it={...o,...s},tt=useMultiStyleConfig("Checkbox",it),at=omitThemingProps(s),{spacing:ot="0.5rem",className:rt,children:nt,iconColor:j,iconSize:_,icon:$=jsx(CheckboxIcon,{}),isChecked:et,isDisabled:st=o==null?void 0:o.isDisabled,onChange:lt,inputProps:ft,...gt}=at;let ut=et;(o==null?void 0:o.value)&&at.value&&(ut=o.value.includes(at.value));let pt=lt;(o==null?void 0:o.onChange)&&at.value&&(pt=callAll(o.onChange,lt));const{state:vt,getInputProps:dt,getCheckboxProps:mt,getLabelProps:Tt,getRootProps:yt}=useCheckbox({...gt,isDisabled:st,isChecked:ut,onChange:pt}),ht=react.exports.useMemo(()=>({animation:vt.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`,fontSize:_,color:j,...tt.icon}),[j,_,,vt.isIndeterminate,tt.icon]),xt=react.exports.cloneElement($,{__css:ht,isIndeterminate:vt.isIndeterminate,isChecked:vt.isChecked});return jsxs(chakra.label,{__css:{...rootStyles,...tt.container},className:cx("chakra-checkbox",rt),...yt(),children:[jsx("input",{className:"chakra-checkbox__input",...dt(ft,a)}),jsx(chakra.span,{__css:{...controlStyles,...tt.control},className:"chakra-checkbox__control",...mt(),children:xt}),nt&&jsx(chakra.span,{className:"chakra-checkbox__label",...Tt(),__css:{marginStart:ot,...tt.label},children:nt})]})});Checkbox.displayName="Checkbox";var useSafeLayoutEffect=isBrowser$1?react.exports.useLayoutEffect:react.exports.useEffect;function useCallbackRef$1(i,s=[]){const a=react.exports.useRef(i);return useSafeLayoutEffect(()=>{a.current=i}),react.exports.useCallback((...o)=>{var it;return(it=a.current)==null?void 0:it.call(a,...o)},s)}function useId(i,s){const a=react.exports.useId();return react.exports.useMemo(()=>i||[s,a].filter(Boolean).join("-"),[i,s,a])}function useControllableProp(i,s){const a=i!==void 0;return[a,a&&typeof i<"u"?i:s]}function useDisclosure(i={}){const{onClose:s,onOpen:a,isOpen:o,id:it}=i,tt=useCallbackRef$1(a),at=useCallbackRef$1(s),[ot,rt]=react.exports.useState(i.defaultIsOpen||!1),[nt,j]=useControllableProp(o,ot),_=useId(it,"disclosure"),$=react.exports.useCallback(()=>{nt||rt(!1),at==null||at()},[nt,at]),et=react.exports.useCallback(()=>{nt||rt(!0),tt==null||tt()},[nt,tt]),st=react.exports.useCallback(()=>{(j?$:et)()},[j,et,$]);return{isOpen:!!j,onOpen:et,onClose:$,onToggle:st,isControlled:nt,getButtonProps:(lt={})=>({...lt,"aria-expanded":j,"aria-controls":_,onClick:callAllHandlers(lt.onClick,st)}),getDisclosureProps:(lt={})=>({...lt,hidden:!j,id:_})}}var[ListStylesProvider,useListStyles]=createContext$2({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(s,a){const o=useMultiStyleConfig("List",s),{children:it,styleType:tt="none",stylePosition:at,spacing:ot,...rt}=omitThemingProps(s),nt=getValidChildren(it),_=ot?{["& > *:not(style) ~ *:not(style)"]:{mt:ot}}:{};return jsx(ListStylesProvider,{value:o,children:jsx(chakra.ul,{ref:a,listStyleType:tt,listStylePosition:at,role:"list",__css:{...o.container,..._},...rt,children:nt})})});List.displayName="List";var OrderedList=forwardRef((i,s)=>{const{as:a,...o}=i;return jsx(List,{ref:s,as:"ol",styleType:"decimal",marginStart:"1em",...o})});OrderedList.displayName="OrderedList";var UnorderedList=forwardRef(function(s,a){const{as:o,...it}=s;return jsx(List,{ref:a,as:"ul",styleType:"initial",marginStart:"1em",...it})});UnorderedList.displayName="UnorderedList";var ListItem=forwardRef(function(s,a){const o=useListStyles();return jsx(chakra.li,{ref:a,...s,__css:o.item})});ListItem.displayName="ListItem";var ListIcon=forwardRef(function(s,a){const o=useListStyles();return jsx(Icon,{ref:a,role:"presentation",...s,__css:o.icon})});ListIcon.displayName="ListIcon";var Grid=forwardRef(function(s,a){const{templateAreas:o,gap:it,rowGap:tt,columnGap:at,column:ot,row:rt,autoFlow:nt,autoRows:j,templateRows:_,autoColumns:$,templateColumns:et,...st}=s,lt={display:"grid",gridTemplateAreas:o,gridGap:it,gridRowGap:tt,gridColumnGap:at,gridAutoColumns:$,gridColumn:ot,gridRow:rt,gridAutoFlow:nt,gridAutoRows:j,gridTemplateRows:_,gridTemplateColumns:et};return jsx(chakra.div,{ref:a,__css:lt,...st})});Grid.displayName="Grid";Object.freeze(["base","sm","md","lg","xl","2xl"]);function mapResponsive(i,s){return Array.isArray(i)?i.map(a=>a===null?null:s(a)):isObject$2(i)?Object.keys(i).reduce((a,o)=>(a[o]=s(i[o]),a),{}):i!=null?s(i):null}var SimpleGrid=forwardRef(function(s,a){const{columns:o,spacingX:it,spacingY:tt,spacing:at,minChildWidth:ot,...rt}=s,nt=useTheme(),j=ot?widthToColumns(ot,nt):countToColumns(o);return jsx(Grid,{ref:a,gap:at,columnGap:it,rowGap:tt,templateColumns:j,...rt})});SimpleGrid.displayName="SimpleGrid";function toPx(i){return typeof i=="number"?`${i}px`:i}function widthToColumns(i,s){return mapResponsive(i,a=>{const o=getToken("sizes",a,toPx(a))(s);return a===null?null:`repeat(auto-fit, minmax(${o}, 1fr))`})}function countToColumns(i){return mapResponsive(i,s=>s===null?null:`repeat(${s}, minmax(0, 1fr))`)}var Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";var Text=forwardRef(function(s,a){const o=useStyleConfig("Text",s),{className:it,align:tt,decoration:at,casing:ot,...rt}=omitThemingProps(s),nt=compact({textAlign:s.align,textDecoration:s.decoration,textTransform:s.casing});return jsx(chakra.p,{ref:a,className:cx("chakra-text",s.className),...nt,...rt,__css:o})});Text.displayName="Text";var StackItem=i=>jsx(chakra.div,{className:"chakra-stack__item",...i,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...i.__css}});StackItem.displayName="StackItem";var selector="& > *:not(style) ~ *:not(style)";function getStackStyles(i){const{spacing:s,direction:a}=i,o={column:{marginTop:s,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:s},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:s,marginStart:0},"row-reverse":{marginTop:0,marginEnd:s,marginBottom:0,marginStart:0}};return{flexDirection:a,[selector]:mapResponsive(a,it=>o[it])}}function getDividerStyles(i){const{spacing:s,direction:a}=i,o={column:{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(a,it=>o[it])}}var Stack=forwardRef((i,s)=>{const{isInline:a,direction:o,align:it,justify:tt,spacing:at="0.5rem",wrap:ot,children:rt,divider:nt,className:j,shouldWrapChildren:_,...$}=i,et=a?"row":o!=null?o:"column",st=react.exports.useMemo(()=>getStackStyles({direction:et,spacing:at}),[et,at]),lt=react.exports.useMemo(()=>getDividerStyles({spacing:at,direction:et}),[at,et]),ft=!!nt,gt=!_&&!ft,ut=react.exports.useMemo(()=>{const vt=getValidChildren(rt);return gt?vt:vt.map((dt,mt)=>{const Tt=typeof dt.key<"u"?dt.key:mt,yt=mt+1===vt.length,xt=_?jsx(StackItem,{children:dt},Tt):dt;if(!ft)return xt;const wt=react.exports.cloneElement(nt,{__css:lt}),kt=yt?null:wt;return jsxs(react.exports.Fragment,{children:[xt,kt]},Tt)})},[nt,lt,ft,gt,_,rt]),pt=cx("chakra-stack",j);return jsx(chakra.div,{ref:s,display:"flex",alignItems:it,justifyContent:tt,flexDirection:st.flexDirection,flexWrap:ot,className:pt,__css:ft?{}:{[selector]:st[selector]},...$,children:ut})});Stack.displayName="Stack";var HStack=forwardRef((i,s)=>jsx(Stack,{align:"center",...i,direction:"row",ref:s}));HStack.displayName="HStack";var StackDivider=i=>jsx(chakra.div,{className:"chakra-stack__divider",...i,__css:{...i.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});StackDivider.displayName="StackDivider";function spanFn(i){return mapResponsive(i,s=>s==="auto"?"auto":`span ${s}/span ${s}`)}var GridItem=forwardRef(function(s,a){const{area:o,colSpan:it,colStart:tt,colEnd:at,rowEnd:ot,rowSpan:rt,rowStart:nt,...j}=s,_=compact({gridArea:o,gridColumn:spanFn(it),gridRow:spanFn(rt),gridColumnStart:tt,gridColumnEnd:at,gridRowStart:nt,gridRowEnd:ot});return jsx(chakra.div,{ref:a,__css:_,...j})});GridItem.displayName="GridItem";var Heading=forwardRef(function(s,a){const o=useStyleConfig("Heading",s),{className:it,...tt}=omitThemingProps(s);return jsx(chakra.h2,{ref:a,className:cx("chakra-heading",s.className),...tt,__css:o})});Heading.displayName="Heading";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function(s,a){const{size:o,centerContent:it=!0,...tt}=s;return jsx(Box,{ref:a,boxSize:o,__css:{...it?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...tt})});Square.displayName="Square";var Circle=forwardRef(function(s,a){const{size:o,...it}=s;return jsx(Square,{size:o,ref:a,borderRadius:"9999px",...it})});Circle.displayName="Circle";var Code=forwardRef(function(s,a){const o=useStyleConfig("Code",s),{className:it,...tt}=omitThemingProps(s);return jsx(chakra.code,{ref:a,className:cx("chakra-code",s.className),...tt,__css:{display:"inline-block",...o}})});Code.displayName="Code";function isElement(i){return i!=null&&typeof i=="object"&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE}function isHTMLElement(i){var s;if(!isElement(i))return!1;const a=(s=i.ownerDocument.defaultView)!=null?s:window;return i instanceof a.HTMLElement}var hasTabIndex=i=>i.hasAttribute("tabindex");function isDisabled(i){return Boolean(i.getAttribute("disabled"))===!0||Boolean(i.getAttribute("aria-disabled"))===!0}function isHidden(i){return i.parentElement&&isHidden(i.parentElement)?!0:i.hidden}function isContentEditable(i){const s=i.getAttribute("contenteditable");return s!=="false"&&s!=null}function isFocusable(i){if(!isHTMLElement(i)||isHidden(i)||isDisabled(i))return!1;const{localName:s}=i;if(["input","select","textarea","button"].indexOf(s)>=0)return!0;const o={a:()=>i.hasAttribute("href"),audio:()=>i.hasAttribute("controls"),video:()=>i.hasAttribute("controls")};return s in o?o[s]():isContentEditable(i)?!0:hasTabIndex(i)}var focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=i=>i.offsetWidth>0&&i.offsetHeight>0;function getAllFocusable(i){const s=Array.from(i.querySelectorAll(focusableElSelector));return s.unshift(i),s.filter(a=>isFocusable(a)&&isVisible(a))}var transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=i=>transitions[i||"none"],ModalTransition=react.exports.forwardRef((i,s)=>{const{preset:a,motionProps:o=getMotionProps(a),...it}=i;return jsx(MotionSection,{ref:s,...o,...it})});ModalTransition.displayName="ModalTransition";var __defProp=Object.defineProperty,__defNormalProp=(i,s,a)=>s in i?__defProp(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,__publicField=(i,s,a)=>(__defNormalProp(i,typeof s!="symbol"?s+"":s,a),a),ModalManager=class{constructor(){__publicField(this,"modals"),this.modals=new Map}add(i){return this.modals.set(i,this.modals.size+1),this.modals.size}remove(i){this.modals.delete(i)}isTopModal(i){return i?this.modals.get(i)===this.modals.size:!1}},manager=new ModalManager;function useModalManager(i,s){const[a,o]=react.exports.useState(0);return react.exports.useEffect(()=>{const it=i.current;if(!!it){if(s){const tt=manager.add(it);o(tt)}return()=>{manager.remove(it),o(0)}}},[s,i]),a}var getDefaultParent=function(i){if(typeof document>"u")return null;var s=Array.isArray(i)?i[0]:i;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(i){return i&&(i.host||unwrapHost(i.parentNode))},correctTargets=function(i,s){return s.map(function(a){if(i.contains(a))return a;var o=unwrapHost(a);return o&&i.contains(o)?o:(console.error("aria-hidden",a,"in not contained inside",i,". Doing nothing"),null)}).filter(function(a){return Boolean(a)})},applyAttributeToOthers=function(i,s,a,o){var it=correctTargets(s,Array.isArray(i)?i:[i]);markerMap[a]||(markerMap[a]=new WeakMap);var tt=markerMap[a],at=[],ot=new Set,rt=new Set(it),nt=function(_){!_||ot.has(_)||(ot.add(_),nt(_.parentNode))};it.forEach(nt);var j=function(_){!_||rt.has(_)||Array.prototype.forEach.call(_.children,function($){if(ot.has($))j($);else{var et=$.getAttribute(o),st=et!==null&&et!=="false",lt=(counterMap.get($)||0)+1,ft=(tt.get($)||0)+1;counterMap.set($,lt),tt.set($,ft),at.push($),lt===1&&st&&uncontrolledNodes.set($,!0),ft===1&&$.setAttribute(a,"true"),st||$.setAttribute(o,"true")}})};return j(s),ot.clear(),lockCount++,function(){at.forEach(function(_){var $=counterMap.get(_)-1,et=tt.get(_)-1;counterMap.set(_,$),tt.set(_,et),$||(uncontrolledNodes.has(_)||_.removeAttribute(o),uncontrolledNodes.delete(_)),et||_.removeAttribute(a)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(i,s,a){a===void 0&&(a="data-aria-hidden");var o=Array.from(Array.isArray(i)?i:[i]),it=s||getDefaultParent(i);return it?(o.push.apply(o,Array.from(it.querySelectorAll("[aria-live]"))),applyAttributeToOthers(o,it,a,"aria-hidden")):function(){return null}};function useModal(i){const{isOpen:s,onClose:a,id:o,closeOnOverlayClick:it=!0,closeOnEsc:tt=!0,useInert:at=!0,onOverlayClick:ot,onEsc:rt}=i,nt=react.exports.useRef(null),j=react.exports.useRef(null),[_,$,et]=useIds(o,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(nt,s&&at),useModalManager(nt,s);const st=react.exports.useRef(null),lt=react.exports.useCallback(yt=>{st.current=yt.target},[]),ft=react.exports.useCallback(yt=>{yt.key==="Escape"&&(yt.stopPropagation(),tt&&(a==null||a()),rt==null||rt())},[tt,a,rt]),[gt,ut]=react.exports.useState(!1),[pt,vt]=react.exports.useState(!1),dt=react.exports.useCallback((yt={},ht=null)=>({role:"dialog",...yt,ref:mergeRefs(ht,nt),id:_,tabIndex:-1,"aria-modal":!0,"aria-labelledby":gt?$:void 0,"aria-describedby":pt?et:void 0,onClick:callAllHandlers$1(yt.onClick,xt=>xt.stopPropagation())}),[et,pt,_,$,gt]),mt=react.exports.useCallback(yt=>{yt.stopPropagation(),st.current===yt.target&&(!manager.isTopModal(nt.current)||(it&&(a==null||a()),ot==null||ot()))},[a,it,ot]),Tt=react.exports.useCallback((yt={},ht=null)=>({...yt,ref:mergeRefs(ht,j),onClick:callAllHandlers$1(yt.onClick,mt),onKeyDown:callAllHandlers$1(yt.onKeyDown,ft),onMouseDown:callAllHandlers$1(yt.onMouseDown,lt)}),[ft,lt,mt]);return{isOpen:s,onClose:a,headerId:$,bodyId:et,setBodyMounted:vt,setHeaderMounted:ut,dialogRef:nt,overlayRef:j,getDialogProps:dt,getDialogContainerProps:Tt}}function useAriaHidden(i,s){const a=i.current;react.exports.useEffect(()=>{if(!(!i.current||!s))return hideOthers(i.current)},[s,i,a])}function useIds(i,...s){const a=react.exports.useId(),o=i||a;return react.exports.useMemo(()=>s.map(it=>`${it}-${o}`),[o,s])}var[ModalStylesProvider,useModalStyles]=createContext$2({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$2({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=i=>{const s={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...i},{portalProps:a,children:o,autoFocus:it,trapFocus:tt,initialFocusRef:at,finalFocusRef:ot,returnFocusOnClose:rt,blockScrollOnMount:nt,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:et,onCloseComplete:st}=s,lt=useMultiStyleConfig("Modal",s),gt={...useModal(s),autoFocus:it,trapFocus:tt,initialFocusRef:at,finalFocusRef:ot,returnFocusOnClose:rt,blockScrollOnMount:nt,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:et};return jsx(ModalContextProvider,{value:gt,children:jsx(ModalStylesProvider,{value:lt,children:jsx(AnimatePresence,{onExitComplete:st,children:gt.isOpen&&jsx(Portal,{...a,children:o})})})})};Modal.displayName="Modal";function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var a={},o=Object.keys(i),it,tt;for(tt=0;tt<o.length;tt++)it=o[tt],!(s.indexOf(it)>=0)&&(a[it]=i[it]);return a}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(o,it,tt,at,ot,rt){if(rt!==ReactPropTypesSecret){var nt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw nt.name="Invariant Violation",nt}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(i,s){return typeof i=="function"?i(s):i&&(i.current=s),i}function useCallbackRef(i,s){var a=react.exports.useState(function(){return{value:i,callback:s,facade:{get current(){return a.value},set current(o){var it=a.value;it!==o&&(a.value=o,a.callback(o,it))}}}})[0];return a.callback=s,a.facade}function useMergeRefs(i,s){return useCallbackRef(s||null,function(a){return i.forEach(function(o){return assignRef(o,a)})})}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function ItoI(i){return i}function innerCreateMedium(i,s){s===void 0&&(s=ItoI);var a=[],o=!1,it={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:i},useMedium:function(tt){var at=s(tt,o);return a.push(at),function(){a=a.filter(function(ot){return ot!==at})}},assignSyncMedium:function(tt){for(o=!0;a.length;){var at=a;a=[],at.forEach(tt)}a={push:function(ot){return tt(ot)},filter:function(){return a}}},assignMedium:function(tt){o=!0;var at=[];if(a.length){var ot=a;a=[],ot.forEach(tt),at=a}var rt=function(){var j=at;at=[],j.forEach(tt)},nt=function(){return Promise.resolve().then(rt)};nt(),a={push:function(j){at.push(j),nt()},filter:function(j){return at=at.filter(j),a}}}};return it}function createMedium(i,s){return s===void 0&&(s=ItoI),innerCreateMedium(i,s)}function createSidecarMedium(i){i===void 0&&(i={});var s=innerCreateMedium(null);return s.options=__assign$2({async:!0,ssr:!1},i),s}var SideCar$1=function(i){var s=i.sideCar,a=__rest(i,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=s.read();if(!o)throw new Error("Sidecar medium not found");return jsx(o,{...__assign$2({},a)})};SideCar$1.isSideCarExport=!0;function exportSidecar(i,s){return i.useMedium(s),SideCar$1}var mediumFocus=createMedium({},function(i){var s=i.target,a=i.currentTarget;return{target:s,currentTarget:a}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0}),emptyArray=[],FocusLock$2=react.exports.forwardRef(function(s,a){var o,it=react.exports.useState(),tt=it[0],at=it[1],ot=react.exports.useRef(),rt=react.exports.useRef(!1),nt=react.exports.useRef(null),j=s.children,_=s.disabled,$=s.noFocusGuards,et=s.persistentFocus,st=s.crossFrame,lt=s.autoFocus;s.allowTextSelection;var ft=s.group,gt=s.className,ut=s.whiteList,pt=s.hasPositiveIndices,vt=s.shards,dt=vt===void 0?emptyArray:vt,mt=s.as,Tt=mt===void 0?"div":mt,yt=s.lockProps,ht=yt===void 0?{}:yt,xt=s.sideCar,wt=s.returnFocus,kt=s.focusOptions,Ct=s.onActivation,Rt=s.onDeactivation,Lt=react.exports.useState({}),Mt=Lt[0],Wt=react.exports.useCallback(function(){nt.current=nt.current||document&&document.activeElement,ot.current&&Ct&&Ct(ot.current),rt.current=!0},[Ct]),Pt=react.exports.useCallback(function(){rt.current=!1,Rt&&Rt(ot.current)},[Rt]);react.exports.useEffect(function(){_||(nt.current=null)},[]);var Ot=react.exports.useCallback(function(_n){var fn=nt.current;if(fn&&fn.focus){var wn=typeof wt=="function"?wt(fn):wt;if(wn){var xn=typeof wn=="object"?wn:void 0;nt.current=null,_n?Promise.resolve().then(function(){return fn.focus(xn)}):fn.focus(xn)}}},[wt]),Xt=react.exports.useCallback(function(_n){rt.current&&mediumFocus.useMedium(_n)},[]),rn=mediumBlur.useMedium,jt=react.exports.useCallback(function(_n){ot.current!==_n&&(ot.current=_n,at(_n))},[]),Vt=_extends((o={},o[FOCUS_DISABLED]=_&&"disabled",o[FOCUS_GROUP]=ft,o),ht),en=$!==!0,ln=en&&$!=="tail",nn=useMergeRefs([a,jt]);return jsxs(Fragment,{children:[en&&[jsx("div",{"data-focus-guard":!0,tabIndex:_?-1:0,style:hiddenGuard},"guard-first"),pt?jsx("div",{"data-focus-guard":!0,tabIndex:_?-1:1,style:hiddenGuard},"guard-nearest"):null],!_&&jsx(xt,{id:Mt,sideCar:mediumSidecar,observed:tt,disabled:_,persistentFocus:et,crossFrame:st,autoFocus:lt,whiteList:ut,shards:dt,onActivation:Wt,onDeactivation:Pt,returnFocus:Ot,focusOptions:kt}),jsx(Tt,{ref:nn,...Vt,className:gt,onBlur:rn,onFocus:Xt,children:j}),ln&&jsx("div",{"data-focus-guard":!0,tabIndex:_?-1:0,style:hiddenGuard})]})});FocusLock$2.propTypes={};FocusLock$2.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const FocusLockUI=FocusLock$2;function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,it){return o.__proto__=it,o},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}function _typeof(i){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(i)}function _toPrimitive(i,s){if(_typeof(i)!=="object"||i===null)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var o=a.call(i,s||"default");if(_typeof(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function _toPropertyKey(i){var s=_toPrimitive(i,"string");return _typeof(s)==="symbol"?s:String(s)}function _defineProperty(i,s,a){return s=_toPropertyKey(s),s in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i}function withSideEffect(i,s){function a(o){return o.displayName||o.name||"Component"}return function(it){var tt=[],at;function ot(){at=i(tt.map(function(nt){return nt.props})),s(at)}var rt=function(nt){_inheritsLoose(j,nt);function j(){return nt.apply(this,arguments)||this}j.peek=function(){return at};var _=j.prototype;return _.componentDidMount=function(){tt.push(this),ot()},_.componentDidUpdate=function(){ot()},_.componentWillUnmount=function(){var et=tt.indexOf(this);tt.splice(et,1),ot()},_.render=function(){return jsx(it,{...this.props})},j}(react.exports.PureComponent);return _defineProperty(rt,"displayName","SideEffect("+a(it)+")"),rt}}var toArray=function(i){for(var s=Array(i.length),a=0;a<i.length;++a)s[a]=i[a];return s},asArray=function(i){return Array.isArray(i)?i:[i]},getFirst=function(i){return Array.isArray(i)?i[0]:i},isElementHidden=function(i){if(i.nodeType!==Node.ELEMENT_NODE)return!1;var s=window.getComputedStyle(i,null);return!s||!s.getPropertyValue?!1:s.getPropertyValue("display")==="none"||s.getPropertyValue("visibility")==="hidden"},getParentNode=function(i){return i.parentNode&&i.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.parentNode.host:i.parentNode},isTopNode=function(i){return i===document||i&&i.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(i,s){return!i||isTopNode(i)||!isElementHidden(i)&&s(getParentNode(i))},isVisibleCached=function(i,s){var a=i.get(s);if(a!==void 0)return a;var o=isVisibleUncached(s,isVisibleCached.bind(void 0,i));return i.set(s,o),o},isAutoFocusAllowedUncached=function(i,s){return i&&!isTopNode(i)?isAutoFocusAllowed(i)?s(getParentNode(i)):!1:!0},isAutoFocusAllowedCached=function(i,s){var a=i.get(s);if(a!==void 0)return a;var o=isAutoFocusAllowedUncached(s,isAutoFocusAllowedCached.bind(void 0,i));return i.set(s,o),o},getDataset=function(i){return i.dataset},isHTMLButtonElement=function(i){return i.tagName==="BUTTON"},isHTMLInputElement=function(i){return i.tagName==="INPUT"},isRadioElement=function(i){return isHTMLInputElement(i)&&i.type==="radio"},notHiddenInput=function(i){return!((isHTMLInputElement(i)||isHTMLButtonElement(i))&&(i.type==="hidden"||i.disabled))},isAutoFocusAllowed=function(i){var s=i.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(s)},isGuard=function(i){var s;return Boolean(i&&((s=getDataset(i))===null||s===void 0?void 0:s.focusGuard))},isNotAGuard=function(i){return!isGuard(i)},isDefined=function(i){return Boolean(i)},tabSort=function(i,s){var a=i.tabIndex-s.tabIndex,o=i.index-s.index;if(a){if(!i.tabIndex)return 1;if(!s.tabIndex)return-1}return a||o},orderByTabIndex=function(i,s,a){return toArray(i).map(function(o,it){return{node:o,index:it,tabIndex:a&&o.tabIndex===-1?(o.dataset||{}).focusGuard?0:-1:o.tabIndex}}).filter(function(o){return!s||o.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(i,s){var a;return toArray(((a=i.shadowRoot)===null||a===void 0?void 0:a.children)||i.children).reduce(function(o,it){return o.concat(it.matches(s?queryGuardTabbables:queryTabbables)?[it]:[],getFocusablesWithShadowDom(it))},[])},getFocusablesWithIFrame=function(i,s){return i instanceof HTMLIFrameElement&&i.contentDocument?getFocusables([i.contentDocument.body],s):[i]},getFocusables=function(i,s){return i.reduce(function(a,o){var it,tt=getFocusablesWithShadowDom(o,s),at=(it=[]).concat.apply(it,tt.map(function(ot){return getFocusablesWithIFrame(ot,s)}));return a.concat(at,o.parentNode?toArray(o.parentNode.querySelectorAll(queryTabbables)).filter(function(ot){return ot===o}):[])},[])},getParentAutofocusables=function(i){var s=i.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(s).map(function(a){return getFocusables([a])}).reduce(function(a,o){return a.concat(o)},[])},filterFocusable=function(i,s){return toArray(i).filter(function(a){return isVisibleCached(s,a)}).filter(function(a){return notHiddenInput(a)})},filterAutoFocusable=function(i,s){return s===void 0&&(s=new Map),toArray(i).filter(function(a){return isAutoFocusAllowedCached(s,a)})},getTabbableNodes=function(i,s,a){return orderByTabIndex(filterFocusable(getFocusables(i,a),s),!0,a)},getAllTabbableNodes=function(i,s){return orderByTabIndex(filterFocusable(getFocusables(i),s),!1)},parentAutofocusables=function(i,s){return filterFocusable(getParentAutofocusables(i),s)},contains=function(i,s){return i.shadowRoot?contains(i.shadowRoot,s):Object.getPrototypeOf(i).contains!==void 0&&Object.getPrototypeOf(i).contains.call(i,s)?!0:toArray(i.children).some(function(a){var o;if(a instanceof HTMLIFrameElement){var it=(o=a.contentDocument)===null||o===void 0?void 0:o.body;return it?contains(it,s):!1}return contains(a,s)})},filterNested=function(i){for(var s=new Set,a=i.length,o=0;o<a;o+=1)for(var it=o+1;it<a;it+=1){var tt=i[o].compareDocumentPosition(i[it]);(tt&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&s.add(it),(tt&Node.DOCUMENT_POSITION_CONTAINS)>0&&s.add(o)}return i.filter(function(at,ot){return!s.has(ot)})},getTopParent=function(i){return i.parentNode?getTopParent(i.parentNode):i},getAllAffectedNodes=function(i){var s=asArray(i);return s.filter(Boolean).reduce(function(a,o){var it=o.getAttribute(FOCUS_GROUP);return a.push.apply(a,it?filterNested(toArray(getTopParent(o).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(it,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[o]),a},[])},getActiveElement=function(i){var s;if(i===void 0&&(i=document),!(!i||!i.activeElement)){var a=i.activeElement;return a.shadowRoot?getActiveElement(a.shadowRoot):a instanceof HTMLIFrameElement&&((s=a.contentWindow)===null||s===void 0?void 0:s.document)?getActiveElement(a.contentWindow.document):a}},focusInFrame=function(i,s){return i===s},focusInsideIframe=function(i,s){return Boolean(toArray(i.querySelectorAll("iframe")).some(function(a){return focusInFrame(a,s)}))},focusInside=function(i,s){return s===void 0&&(s=getActiveElement(getFirst(i).ownerDocument)),!s||s.dataset&&s.dataset.focusGuard?!1:getAllAffectedNodes(i).some(function(a){return contains(a,s)||focusInsideIframe(a,s)})},focusIsHidden=function(i){i===void 0&&(i=document);var s=getActiveElement(i);return s?toArray(i.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(a){return contains(a,s)}):!1},findSelectedRadio=function(i,s){return s.filter(isRadioElement).filter(function(a){return a.name===i.name}).filter(function(a){return a.checked})[0]||i},correctNode=function(i,s){return isRadioElement(i)&&i.name?findSelectedRadio(i,s):i},correctNodes=function(i){var s=new Set;return i.forEach(function(a){return s.add(correctNode(a,i))}),i.filter(function(a){return s.has(a)})},pickFirstFocus=function(i){return i[0]&&i.length>1?correctNode(i[0],i):i[0]},pickFocusable=function(i,s){return i.length>1?i.indexOf(correctNode(i[s],i)):s},NEW_FOCUS="NEW_FOCUS",newFocus=function(i,s,a,o){var it=i.length,tt=i[0],at=i[it-1],ot=isGuard(a);if(!(a&&i.indexOf(a)>=0)){var rt=a!==void 0?s.indexOf(a):-1,nt=o?s.indexOf(o):rt,j=o?i.indexOf(o):-1,_=rt-nt,$=s.indexOf(tt),et=s.indexOf(at),st=correctNodes(s),lt=a!==void 0?st.indexOf(a):-1,ft=lt-(o?st.indexOf(o):rt),gt=pickFocusable(i,0),ut=pickFocusable(i,it-1);if(rt===-1||j===-1)return NEW_FOCUS;if(!_&&j>=0)return j;if(rt<=$&&ot&&Math.abs(_)>1)return ut;if(rt>=et&&ot&&Math.abs(_)>1)return gt;if(_&&Math.abs(ft)>1)return j;if(rt<=$)return ut;if(rt>et)return gt;if(_)return Math.abs(_)>1?j:(it+j+_)%it}},findAutoFocused=function(i){return function(s){var a,o=(a=getDataset(s))===null||a===void 0?void 0:a.autofocus;return s.autofocus||o!==void 0&&o!=="false"||i.indexOf(s)>=0}},pickAutofocus=function(i,s,a){var o=i.map(function(tt){var at=tt.node;return at}),it=filterAutoFocusable(o.filter(findAutoFocused(a)));return it&&it.length?pickFirstFocus(it):pickFirstFocus(filterAutoFocusable(s))},getParents=function(i,s){return s===void 0&&(s=[]),s.push(i),i.parentNode&&getParents(i.parentNode.host||i.parentNode,s),s},getCommonParent=function(i,s){for(var a=getParents(i),o=getParents(s),it=0;it<a.length;it+=1){var tt=a[it];if(o.indexOf(tt)>=0)return tt}return!1},getTopCommonParent=function(i,s,a){var o=asArray(i),it=asArray(s),tt=o[0],at=!1;return it.filter(Boolean).forEach(function(ot){at=getCommonParent(at||ot,ot)||at,a.filter(Boolean).forEach(function(rt){var nt=getCommonParent(tt,rt);nt&&(!at||contains(nt,at)?at=nt:at=getCommonParent(nt,at))})}),at},allParentAutofocusables=function(i,s){return i.reduce(function(a,o){return a.concat(parentAutofocusables(o,s))},[])},reorderNodes=function(i,s){var a=new Map;return s.forEach(function(o){return a.set(o.node,o)}),i.map(function(o){return a.get(o)}).filter(isDefined)},getFocusMerge=function(i,s){var a=getActiveElement(asArray(i).length>0?document:getFirst(i).ownerDocument),o=getAllAffectedNodes(i).filter(isNotAGuard),it=getTopCommonParent(a||i,i,o),tt=new Map,at=getAllTabbableNodes(o,tt),ot=getTabbableNodes(o,tt).filter(function(et){var st=et.node;return isNotAGuard(st)});if(!(!ot[0]&&(ot=at,!ot[0]))){var rt=getAllTabbableNodes([it],tt).map(function(et){var st=et.node;return st}),nt=reorderNodes(rt,ot),j=nt.map(function(et){var st=et.node;return st}),_=newFocus(j,rt,a,s);if(_===NEW_FOCUS){var $=pickAutofocus(at,j,allParentAutofocusables(o,tt));if($)return{node:$};console.warn("focus-lock: cannot find any node to move focus into");return}return _===void 0?_:nt[_]}},getFocusabledIn=function(i){var s=getAllAffectedNodes(i).filter(isNotAGuard),a=getTopCommonParent(i,i,s),o=new Map,it=getTabbableNodes([a],o,!0),tt=getTabbableNodes(s,o).filter(function(at){var ot=at.node;return isNotAGuard(ot)}).map(function(at){var ot=at.node;return ot});return it.map(function(at){var ot=at.node,rt=at.index;return{node:ot,index:rt,lockItem:tt.indexOf(ot)>=0,guard:isGuard(ot)}})},focusOn=function(i,s){"focus"in i&&i.focus(s),"contentWindow"in i&&i.contentWindow&&i.contentWindow.focus()},guardCount=0,lockDisabled=!1,setFocus=function(i,s,a){a===void 0&&(a={});var o=getFocusMerge(i,s);if(!lockDisabled&&o){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(o.node,a.focusOptions),guardCount--}};const moveFocusInside=setFocus;function deferAction(i){var s=window,a=s.setImmediate;typeof a<"u"?a(i):setTimeout(i,1)}var focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,lastPortaledElement=null,focusWasOutsideWindow=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(s){return(lastActiveTrap.whiteList||defaultWhitelist)(s)},recordPortal=function(s,a){lastPortaledElement={observerNode:s,portaledElement:a}},focusIsPortaledPair=function(s){return lastPortaledElement&&lastPortaledElement.portaledElement===s};function autoGuard(i,s,a,o){var it=null,tt=i;do{var at=o[tt];if(at.guard)at.node.dataset.focusAutoGuard&&(it=at);else if(at.lockItem){if(tt!==i)return;it=null}else break}while((tt+=a)!==s);it&&(it.node.tabIndex=0)}var extractRef$1=function(s){return s&&"current"in s?s.current:s},focusWasOutside=function(s){return s?Boolean(focusWasOutsideWindow):focusWasOutsideWindow==="meanwhile"},checkInHost=function i(s,a,o){return a&&(a.host===s&&(!a.activeElement||o.contains(a.activeElement))||a.parentNode&&i(s,a.parentNode,o))},withinHost=function(s,a){return a.some(function(o){return checkInHost(s,o,o)})},activateTrap=function(){var s=!1;if(lastActiveTrap){var a=lastActiveTrap,o=a.observed,it=a.persistentFocus,tt=a.autoFocus,at=a.shards,ot=a.crossFrame,rt=a.focusOptions,nt=o||lastPortaledElement&&lastPortaledElement.portaledElement,j=document&&document.activeElement;if(nt){var _=[nt].concat(at.map(extractRef$1).filter(Boolean));if((!j||focusWhitelisted(j))&&(it||focusWasOutside(ot)||!isFreeFocus()||!lastActiveFocus&&tt)&&(nt&&!(focusInside(_)||j&&withinHost(j,_)||focusIsPortaledPair(j))&&(document&&!lastActiveFocus&&j&&!tt?(j.blur&&j.blur(),document.body.focus()):(s=moveFocusInside(_,lastActiveFocus,{focusOptions:rt}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement),document){var $=document&&document.activeElement,et=getFocusabledIn(_),st=et.map(function(lt){var ft=lt.node;return ft}).indexOf($);st>-1&&(et.filter(function(lt){var ft=lt.guard,gt=lt.node;return ft&&gt.dataset.focusAutoGuard}).forEach(function(lt){var ft=lt.node;return ft.removeAttribute("tabIndex")}),autoGuard(st,et.length,1,et),autoGuard(st,-1,-1,et))}}}return s},onTrap=function(s){activateTrap()&&s&&(s.stopPropagation(),s.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(s){var a=s.target,o=s.currentTarget;o.contains(a)||recordPortal(o,a)},FocusWatcher=function(){return null},onWindowBlur=function(){focusWasOutsideWindow="just",setTimeout(function(){focusWasOutsideWindow="meanwhile"},0)},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(i){return i.filter(function(s){var a=s.disabled;return!a})}function handleStateChangeOnClient(i){var s=i.slice(-1)[0];s&&!lastActiveTrap&&attachHandler();var a=lastActiveTrap,o=a&&s&&s.id===a.id;lastActiveTrap=s,a&&!o&&(a.onDeactivation(),i.filter(function(it){var tt=it.id;return tt===a.id}).length||a.returnFocus(!s)),s?(lastActiveFocus=null,(!o||a.observed!==s.observed)&&s.onActivation(),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(i){return i({moveFocusInside,focusInside})});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=react.exports.forwardRef(function(s,a){return jsx(FocusLockUI,{sideCar:FocusTrap$1,ref:a,...s})}),_ref=FocusLockUI.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusLock$1=FocusLockCombination;var _a,FocusTrap=(_a=FocusLock$1.default)!=null?_a:FocusLock$1,FocusLock=i=>{const{initialFocusRef:s,finalFocusRef:a,contentRef:o,restoreFocus:it,children:tt,isDisabled:at,autoFocus:ot,persistentFocus:rt,lockFocusAcrossFrames:nt}=i,j=react.exports.useCallback(()=>{s!=null&&s.current?s.current.focus():o!=null&&o.current&&getAllFocusable(o.current).length===0&&requestAnimationFrame(()=>{var st;(st=o.current)==null||st.focus()})},[s,o]),_=react.exports.useCallback(()=>{var et;(et=a==null?void 0:a.current)==null||et.focus()},[a]);return jsx(FocusTrap,{crossFrame:nt,persistentFocus:rt,autoFocus:ot,disabled:at,onActivation:j,onDeactivation:_,returnFocus:it&&!a,children:tt})};FocusLock.displayName="FocusLock";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll$1=react.exports.forwardRef(function(i,s){var a=react.exports.useRef(null),o=react.exports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),it=o[0],tt=o[1],at=i.forwardProps,ot=i.children,rt=i.className,nt=i.removeScrollBar,j=i.enabled,_=i.shards,$=i.sideCar,et=i.noIsolation,st=i.inert,lt=i.allowPinchZoom,ft=i.as,gt=ft===void 0?"div":ft,ut=__rest(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),pt=$,vt=useMergeRefs([a,s]),dt=__assign$2(__assign$2({},ut),it);return jsxs(Fragment,{children:[j&&jsx(pt,{sideCar:effectCar,removeScrollBar:nt,shards:_,noIsolation:et,inert:st,setCallbacks:tt,allowPinchZoom:!!lt,lockRef:a}),at?react.exports.cloneElement(react.exports.Children.only(ot),__assign$2(__assign$2({},dt),{ref:vt})):jsx(gt,{...__assign$2({},dt,{className:rt,ref:vt}),children:ot})]})});RemoveScroll$1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll$1.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var s=getNonce();return s&&i.setAttribute("nonce",s),i}function injectStyles(i,s){i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}function insertStyleTag(i){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(i)}var stylesheetSingleton=function(){var i=0,s=null;return{add:function(a){i==0&&(s=makeStyleTag())&&(injectStyles(s,a),insertStyleTag(s)),i++},remove:function(){i--,!i&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var i=stylesheetSingleton();return function(s,a){react.exports.useEffect(function(){return i.add(s),function(){i.remove()}},[s&&a])}},styleSingleton=function(){var i=styleHookSingleton(),s=function(a){var o=a.styles,it=a.dynamic;return i(o,it),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse=function(i){return parseInt(i||"",10)||0},getOffset=function(i){var s=window.getComputedStyle(document.body),a=s[i==="padding"?"paddingLeft":"marginLeft"],o=s[i==="padding"?"paddingTop":"marginTop"],it=s[i==="padding"?"paddingRight":"marginRight"];return[parse(a),parse(o),parse(it)]},getGapWidth=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zeroGap;var s=getOffset(i),a=document.documentElement.clientWidth,o=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,o-a+s[2]-s[0])}},Style=styleSingleton(),getStyles=function(i,s,a,o){var it=i.left,tt=i.top,at=i.right,ot=i.gap;return a===void 0&&(a="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(ot,"px ").concat(o,`;
  }
  body {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(o,";"),a==="margin"&&`
    padding-left: `.concat(it,`px;
    padding-top: `).concat(tt,`px;
    padding-right: `).concat(at,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ot,"px ").concat(o,`;
    `),a==="padding"&&"padding-right: ".concat(ot,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ot,"px ").concat(o,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ot,"px ").concat(o,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(ot,`px;
  }
`)},RemoveScrollBar=function(i){var s=i.noRelative,a=i.noImportant,o=i.gapMode,it=o===void 0?"margin":o,tt=react.exports.useMemo(function(){return getGapWidth(it)},[it]);return jsx(Style,{styles:getStyles(tt,!s,it,a?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(i){return i.tagName==="TEXTAREA"},elementCanBeScrolled=function(i,s){var a=window.getComputedStyle(i);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!alwaysContainsScroll(i)&&a[s]==="visible")},elementCouldBeVScrolled=function(i){return elementCanBeScrolled(i,"overflowY")},elementCouldBeHScrolled=function(i){return elementCanBeScrolled(i,"overflowX")},locationCouldBeScrolled=function(i,s){var a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=elementCouldBeScrolled(i,a);if(o){var it=getScrollVariables(i,a),tt=it[1],at=it[2];if(tt>at)return!0}a=a.parentNode}while(a&&a!==document.body);return!1},getVScrollVariables=function(i){var s=i.scrollTop,a=i.scrollHeight,o=i.clientHeight;return[s,a,o]},getHScrollVariables=function(i){var s=i.scrollLeft,a=i.scrollWidth,o=i.clientWidth;return[s,a,o]},elementCouldBeScrolled=function(i,s){return i==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(i,s){return i==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(i,s){return i==="h"&&s==="rtl"?-1:1},handleScroll=function(i,s,a,o,it){var tt=getDirectionFactor(i,window.getComputedStyle(s).direction),at=tt*o,ot=a.target,rt=s.contains(ot),nt=!1,j=at>0,_=0,$=0;do{var et=getScrollVariables(i,ot),st=et[0],lt=et[1],ft=et[2],gt=lt-ft-tt*st;(st||gt)&&elementCouldBeScrolled(i,ot)&&(_+=gt,$+=st),ot=ot.parentNode}while(!rt&&ot!==document.body||rt&&(s.contains(ot)||s===ot));return(j&&(it&&_===0||!it&&at>_)||!j&&(it&&$===0||!it&&-at>$))&&(nt=!0),nt},getTouchXY=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(i){return[i.deltaX,i.deltaY]},extractRef=function(i){return i&&"current"in i?i.current:i},deltaCompare=function(i,s){return i[0]===s[0]&&i[1]===s[1]},generateStyle=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(i){var s=react.exports.useRef([]),a=react.exports.useRef([0,0]),o=react.exports.useRef(),it=react.exports.useState(idCounter++)[0],tt=react.exports.useState(function(){return styleSingleton()})[0],at=react.exports.useRef(i);react.exports.useEffect(function(){at.current=i},[i]),react.exports.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(it));var lt=__spreadArray([i.lockRef.current],(i.shards||[]).map(extractRef),!0).filter(Boolean);return lt.forEach(function(ft){return ft.classList.add("allow-interactivity-".concat(it))}),function(){document.body.classList.remove("block-interactivity-".concat(it)),lt.forEach(function(ft){return ft.classList.remove("allow-interactivity-".concat(it))})}}},[i.inert,i.lockRef.current,i.shards]);var ot=react.exports.useCallback(function(lt,ft){if("touches"in lt&&lt.touches.length===2)return!at.current.allowPinchZoom;var gt=getTouchXY(lt),ut=a.current,pt="deltaX"in lt?lt.deltaX:ut[0]-gt[0],vt="deltaY"in lt?lt.deltaY:ut[1]-gt[1],dt,mt=lt.target,Tt=Math.abs(pt)>Math.abs(vt)?"h":"v";if("touches"in lt&&Tt==="h"&&mt.type==="range")return!1;var yt=locationCouldBeScrolled(Tt,mt);if(!yt)return!0;if(yt?dt=Tt:(dt=Tt==="v"?"h":"v",yt=locationCouldBeScrolled(Tt,mt)),!yt)return!1;if(!o.current&&"changedTouches"in lt&&(pt||vt)&&(o.current=dt),!dt)return!0;var ht=o.current||dt;return handleScroll(ht,ft,lt,ht==="h"?pt:vt,!0)},[]),rt=react.exports.useCallback(function(lt){var ft=lt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==tt)){var gt="deltaY"in ft?getDeltaXY(ft):getTouchXY(ft),ut=s.current.filter(function(dt){return dt.name===ft.type&&dt.target===ft.target&&deltaCompare(dt.delta,gt)})[0];if(ut&&ut.should){ft.cancelable&&ft.preventDefault();return}if(!ut){var pt=(at.current.shards||[]).map(extractRef).filter(Boolean).filter(function(dt){return dt.contains(ft.target)}),vt=pt.length>0?ot(ft,pt[0]):!at.current.noIsolation;vt&&ft.cancelable&&ft.preventDefault()}}},[]),nt=react.exports.useCallback(function(lt,ft,gt,ut){var pt={name:lt,delta:ft,target:gt,should:ut};s.current.push(pt),setTimeout(function(){s.current=s.current.filter(function(vt){return vt!==pt})},1)},[]),j=react.exports.useCallback(function(lt){a.current=getTouchXY(lt),o.current=void 0},[]),_=react.exports.useCallback(function(lt){nt(lt.type,getDeltaXY(lt),lt.target,ot(lt,i.lockRef.current))},[]),$=react.exports.useCallback(function(lt){nt(lt.type,getTouchXY(lt),lt.target,ot(lt,i.lockRef.current))},[]);react.exports.useEffect(function(){return lockStack.push(tt),i.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:$}),document.addEventListener("wheel",rt,nonPassive),document.addEventListener("touchmove",rt,nonPassive),document.addEventListener("touchstart",j,nonPassive),function(){lockStack=lockStack.filter(function(lt){return lt!==tt}),document.removeEventListener("wheel",rt,nonPassive),document.removeEventListener("touchmove",rt,nonPassive),document.removeEventListener("touchstart",j,nonPassive)}},[]);var et=i.removeScrollBar,st=i.inert;return jsxs(Fragment,{children:[st?jsx(tt,{styles:generateStyle(it)}):null,et?jsx(RemoveScrollBar,{gapMode:"margin"}):null]})}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=react.exports.forwardRef(function(i,s){return jsx(RemoveScroll$1,{...__assign$2({},i,{ref:s,sideCar:SideCar})})});ReactRemoveScroll.classNames=RemoveScroll$1.classNames;const RemoveScroll=ReactRemoveScroll;function ModalFocusScope(i){const{autoFocus:s,trapFocus:a,dialogRef:o,initialFocusRef:it,blockScrollOnMount:tt,allowPinchZoom:at,finalFocusRef:ot,returnFocusOnClose:rt,preserveScrollBarGap:nt,lockFocusAcrossFrames:j,isOpen:_}=useModalContext(),[$,et]=usePresence();react.exports.useEffect(()=>{!$&&et&&setTimeout(et)},[$,et]);const st=useModalManager(o,_);return jsx(FocusLock,{autoFocus:s,isDisabled:!a,initialFocusRef:it,finalFocusRef:ot,restoreFocus:rt,contentRef:o,lockFocusAcrossFrames:j,children:jsx(RemoveScroll,{removeScrollBar:!nt,allowPinchZoom:at,enabled:st===1&&tt,forwardProps:!0,children:i.children})})}var ModalContent=forwardRef((i,s)=>{const{className:a,children:o,containerProps:it,motionProps:tt,...at}=i,{getDialogProps:ot,getDialogContainerProps:rt}=useModalContext(),nt=ot(at,s),j=rt(it),_=cx("chakra-modal__content",a),$=useModalStyles(),et={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...$.dialog},st={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...$.dialogContainer},{motionPreset:lt}=useModalContext();return jsx(ModalFocusScope,{children:jsx(chakra.div,{...j,className:"chakra-modal__content-container",tabIndex:-1,__css:st,children:jsx(ModalTransition,{preset:lt,motionProps:tt,className:_,...nt,__css:et,children:o})})})});ModalContent.displayName="ModalContent";var ModalFooter=forwardRef((i,s)=>{const{className:a,...o}=i,it=cx("chakra-modal__footer",a),at={display:"flex",alignItems:"center",justifyContent:"flex-end",...useModalStyles().footer};return jsx(chakra.footer,{ref:s,...o,__css:at,className:it})});ModalFooter.displayName="ModalFooter";var ModalHeader=forwardRef((i,s)=>{const{className:a,...o}=i,{headerId:it,setHeaderMounted:tt}=useModalContext();react.exports.useEffect(()=>(tt(!0),()=>tt(!1)),[tt]);const at=cx("chakra-modal__header",a),rt={flex:0,...useModalStyles().header};return jsx(chakra.header,{ref:s,className:at,id:it,...o,__css:rt})});ModalHeader.displayName="ModalHeader";var MotionDiv=chakra(motion.div),ModalOverlay=forwardRef((i,s)=>{const{className:a,transition:o,motionProps:it,...tt}=i,at=cx("chakra-modal__overlay",a),rt={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:nt}=useModalContext();return jsx(MotionDiv,{...it||(nt==="none"?{}:fadeConfig),__css:rt,ref:s,className:at,...tt})});ModalOverlay.displayName="ModalOverlay";var ModalBody=forwardRef((i,s)=>{const{className:a,...o}=i,{bodyId:it,setBodyMounted:tt}=useModalContext();react.exports.useEffect(()=>(tt(!0),()=>tt(!1)),[tt]);const at=cx("chakra-modal__body",a),ot=useModalStyles();return jsx(chakra.div,{ref:s,className:at,id:it,...o,__css:ot.body})});ModalBody.displayName="ModalBody";var ModalCloseButton=forwardRef((i,s)=>{const{onClick:a,className:o,...it}=i,{onClose:tt}=useModalContext(),at=cx("chakra-modal__close-btn",o),ot=useModalStyles();return jsx(CloseButton,{ref:s,__css:ot.closeButton,className:at,onClick:callAllHandlers$1(a,rt=>{rt.stopPropagation(),tt()}),...it})});ModalCloseButton.displayName="ModalCloseButton";var SelectField=forwardRef(function(s,a){const{children:o,placeholder:it,className:tt,...at}=s;return jsxs(chakra.select,{...at,ref:a,className:cx("chakra-select",tt),children:[it&&jsx("option",{value:"",children:it}),o]})});SelectField.displayName="SelectField";function split$1(i,s){const a={},o={};for(const[it,tt]of Object.entries(i))s.includes(it)?a[it]=tt:o[it]=tt;return[a,o]}var Select=forwardRef((i,s)=>{var a;const o=useMultiStyleConfig("Select",i),{rootProps:it,placeholder:tt,icon:at,color:ot,height:rt,h:nt,minH:j,minHeight:_,iconColor:$,iconSize:et,...st}=omitThemingProps(i),[lt,ft]=split$1(st,layoutPropNames),gt=useFormControl(ft),ut={width:"100%",height:"fit-content",position:"relative",color:ot},pt={paddingEnd:"2rem",...o.field,_focus:{zIndex:"unset",...(a=o.field)==null?void 0:a._focus}};return jsxs(chakra.div,{className:"chakra-select__wrapper",__css:ut,...lt,...it,children:[jsx(SelectField,{ref:s,height:nt!=null?nt:rt,minH:j!=null?j:_,placeholder:tt,...gt,__css:pt,children:i.children}),jsx(SelectIcon,{"data-disabled":dataAttr(gt.disabled),...($||ot)&&{color:$||ot},__css:o.icon,...et&&{fontSize:et},children:at})]})});Select.displayName="Select";var DefaultIcon=i=>jsx("svg",{viewBox:"0 0 24 24",...i,children:jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=i=>{const{children:s=jsx(DefaultIcon,{}),...a}=i,o=react.exports.cloneElement(s,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsx(IconWrapper,{...a,className:"chakra-select__icon-wrapper",children:react.exports.isValidElement(s)?o:null})};SelectIcon.displayName="SelectIcon";var client={},m=reactDom.exports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;var lzString={exports:{}};(function(i){var s=function(){var a=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",tt={};function at(rt,nt){if(!tt[rt]){tt[rt]={};for(var j=0;j<rt.length;j++)tt[rt][rt.charAt(j)]=j}return tt[rt][nt]}var ot={compressToBase64:function(rt){if(rt==null)return"";var nt=ot._compress(rt,6,function(j){return o.charAt(j)});switch(nt.length%4){default:case 0:return nt;case 1:return nt+"===";case 2:return nt+"==";case 3:return nt+"="}},decompressFromBase64:function(rt){return rt==null?"":rt==""?null:ot._decompress(rt.length,32,function(nt){return at(o,rt.charAt(nt))})},compressToUTF16:function(rt){return rt==null?"":ot._compress(rt,15,function(nt){return a(nt+32)})+" "},decompressFromUTF16:function(rt){return rt==null?"":rt==""?null:ot._decompress(rt.length,16384,function(nt){return rt.charCodeAt(nt)-32})},compressToUint8Array:function(rt){for(var nt=ot.compress(rt),j=new Uint8Array(nt.length*2),_=0,$=nt.length;_<$;_++){var et=nt.charCodeAt(_);j[_*2]=et>>>8,j[_*2+1]=et%256}return j},decompressFromUint8Array:function(rt){if(rt==null)return ot.decompress(rt);for(var nt=new Array(rt.length/2),j=0,_=nt.length;j<_;j++)nt[j]=rt[j*2]*256+rt[j*2+1];var $=[];return nt.forEach(function(et){$.push(a(et))}),ot.decompress($.join(""))},compressToEncodedURIComponent:function(rt){return rt==null?"":ot._compress(rt,6,function(nt){return it.charAt(nt)})},decompressFromEncodedURIComponent:function(rt){return rt==null?"":rt==""?null:(rt=rt.replace(/ /g,"+"),ot._decompress(rt.length,32,function(nt){return at(it,rt.charAt(nt))}))},compress:function(rt){return ot._compress(rt,16,function(nt){return a(nt)})},_compress:function(rt,nt,j){if(rt==null)return"";var _,$,et={},st={},lt="",ft="",gt="",ut=2,pt=3,vt=2,dt=[],mt=0,Tt=0,yt;for(yt=0;yt<rt.length;yt+=1)if(lt=rt.charAt(yt),Object.prototype.hasOwnProperty.call(et,lt)||(et[lt]=pt++,st[lt]=!0),ft=gt+lt,Object.prototype.hasOwnProperty.call(et,ft))gt=ft;else{if(Object.prototype.hasOwnProperty.call(st,gt)){if(gt.charCodeAt(0)<256){for(_=0;_<vt;_++)mt=mt<<1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++;for($=gt.charCodeAt(0),_=0;_<8;_++)mt=mt<<1|$&1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=$>>1}else{for($=1,_=0;_<vt;_++)mt=mt<<1|$,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=0;for($=gt.charCodeAt(0),_=0;_<16;_++)mt=mt<<1|$&1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=$>>1}ut--,ut==0&&(ut=Math.pow(2,vt),vt++),delete st[gt]}else for($=et[gt],_=0;_<vt;_++)mt=mt<<1|$&1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=$>>1;ut--,ut==0&&(ut=Math.pow(2,vt),vt++),et[ft]=pt++,gt=String(lt)}if(gt!==""){if(Object.prototype.hasOwnProperty.call(st,gt)){if(gt.charCodeAt(0)<256){for(_=0;_<vt;_++)mt=mt<<1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++;for($=gt.charCodeAt(0),_=0;_<8;_++)mt=mt<<1|$&1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=$>>1}else{for($=1,_=0;_<vt;_++)mt=mt<<1|$,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=0;for($=gt.charCodeAt(0),_=0;_<16;_++)mt=mt<<1|$&1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=$>>1}ut--,ut==0&&(ut=Math.pow(2,vt),vt++),delete st[gt]}else for($=et[gt],_=0;_<vt;_++)mt=mt<<1|$&1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=$>>1;ut--,ut==0&&(ut=Math.pow(2,vt),vt++)}for($=2,_=0;_<vt;_++)mt=mt<<1|$&1,Tt==nt-1?(Tt=0,dt.push(j(mt)),mt=0):Tt++,$=$>>1;for(;;)if(mt=mt<<1,Tt==nt-1){dt.push(j(mt));break}else Tt++;return dt.join("")},decompress:function(rt){return rt==null?"":rt==""?null:ot._decompress(rt.length,32768,function(nt){return rt.charCodeAt(nt)})},_decompress:function(rt,nt,j){var _=[],$=4,et=4,st=3,lt="",ft=[],gt,ut,pt,vt,dt,mt,Tt,yt={val:j(0),position:nt,index:1};for(gt=0;gt<3;gt+=1)_[gt]=gt;for(pt=0,dt=Math.pow(2,2),mt=1;mt!=dt;)vt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=nt,yt.val=j(yt.index++)),pt|=(vt>0?1:0)*mt,mt<<=1;switch(pt){case 0:for(pt=0,dt=Math.pow(2,8),mt=1;mt!=dt;)vt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=nt,yt.val=j(yt.index++)),pt|=(vt>0?1:0)*mt,mt<<=1;Tt=a(pt);break;case 1:for(pt=0,dt=Math.pow(2,16),mt=1;mt!=dt;)vt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=nt,yt.val=j(yt.index++)),pt|=(vt>0?1:0)*mt,mt<<=1;Tt=a(pt);break;case 2:return""}for(_[3]=Tt,ut=Tt,ft.push(Tt);;){if(yt.index>rt)return"";for(pt=0,dt=Math.pow(2,st),mt=1;mt!=dt;)vt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=nt,yt.val=j(yt.index++)),pt|=(vt>0?1:0)*mt,mt<<=1;switch(Tt=pt){case 0:for(pt=0,dt=Math.pow(2,8),mt=1;mt!=dt;)vt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=nt,yt.val=j(yt.index++)),pt|=(vt>0?1:0)*mt,mt<<=1;_[et++]=a(pt),Tt=et-1,$--;break;case 1:for(pt=0,dt=Math.pow(2,16),mt=1;mt!=dt;)vt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=nt,yt.val=j(yt.index++)),pt|=(vt>0?1:0)*mt,mt<<=1;_[et++]=a(pt),Tt=et-1,$--;break;case 2:return ft.join("")}if($==0&&($=Math.pow(2,st),st++),_[Tt])lt=_[Tt];else if(Tt===et)lt=ut+ut.charAt(0);else return null;ft.push(lt),_[et++]=ut+lt.charAt(0),$--,ut=lt,$==0&&($=Math.pow(2,st),st++)}}};return ot}();i!=null&&(i.exports=s)})(lzString);var queryString={},strictUriEncode=i=>encodeURIComponent(i).replace(/[!'()*]/g,s=>`%${s.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(i,s){try{return[decodeURIComponent(i.join(""))]}catch{}if(i.length===1)return i;s=s||1;var a=i.slice(0,s),o=i.slice(s);return Array.prototype.concat.call([],decodeComponents(a),decodeComponents(o))}function decode(i){try{return decodeURIComponent(i)}catch{for(var s=i.match(singleMatcher)||[],a=1;a<s.length;a++)i=decodeComponents(s,a).join(""),s=i.match(singleMatcher)||[];return i}}function customDecodeURIComponent(i){for(var s={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},a=multiMatcher.exec(i);a;){try{s[a[0]]=decodeURIComponent(a[0])}catch{var o=decode(a[0]);o!==a[0]&&(s[a[0]]=o)}a=multiMatcher.exec(i)}s["%C2"]="\uFFFD";for(var it=Object.keys(s),tt=0;tt<it.length;tt++){var at=it[tt];i=i.replace(new RegExp(at,"g"),s[at])}return i}var decodeUriComponent=function(i){if(typeof i!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof i+"`");try{return i=i.replace(/\+/g," "),decodeURIComponent(i)}catch{return customDecodeURIComponent(i)}},splitOnFirst=(i,s)=>{if(!(typeof i=="string"&&typeof s=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(s==="")return[i];const a=i.indexOf(s);return a===-1?[i]:[i.slice(0,a),i.slice(a+s.length)]},filterObj=function(i,s){for(var a={},o=Object.keys(i),it=Array.isArray(s),tt=0;tt<o.length;tt++){var at=o[tt],ot=i[at];(it?s.indexOf(at)!==-1:s(at,ot,i))&&(a[at]=ot)}return a};(function(i){const s=strictUriEncode,a=decodeUriComponent,o=splitOnFirst,it=filterObj,tt=ut=>ut==null,at=Symbol("encodeFragmentIdentifier");function ot(ut){switch(ut.arrayFormat){case"index":return pt=>(vt,dt)=>{const mt=vt.length;return dt===void 0||ut.skipNull&&dt===null||ut.skipEmptyString&&dt===""?vt:dt===null?[...vt,[j(pt,ut),"[",mt,"]"].join("")]:[...vt,[j(pt,ut),"[",j(mt,ut),"]=",j(dt,ut)].join("")]};case"bracket":return pt=>(vt,dt)=>dt===void 0||ut.skipNull&&dt===null||ut.skipEmptyString&&dt===""?vt:dt===null?[...vt,[j(pt,ut),"[]"].join("")]:[...vt,[j(pt,ut),"[]=",j(dt,ut)].join("")];case"colon-list-separator":return pt=>(vt,dt)=>dt===void 0||ut.skipNull&&dt===null||ut.skipEmptyString&&dt===""?vt:dt===null?[...vt,[j(pt,ut),":list="].join("")]:[...vt,[j(pt,ut),":list=",j(dt,ut)].join("")];case"comma":case"separator":case"bracket-separator":{const pt=ut.arrayFormat==="bracket-separator"?"[]=":"=";return vt=>(dt,mt)=>mt===void 0||ut.skipNull&&mt===null||ut.skipEmptyString&&mt===""?dt:(mt=mt===null?"":mt,dt.length===0?[[j(vt,ut),pt,j(mt,ut)].join("")]:[[dt,j(mt,ut)].join(ut.arrayFormatSeparator)])}default:return pt=>(vt,dt)=>dt===void 0||ut.skipNull&&dt===null||ut.skipEmptyString&&dt===""?vt:dt===null?[...vt,j(pt,ut)]:[...vt,[j(pt,ut),"=",j(dt,ut)].join("")]}}function rt(ut){let pt;switch(ut.arrayFormat){case"index":return(vt,dt,mt)=>{if(pt=/\[(\d*)\]$/.exec(vt),vt=vt.replace(/\[\d*\]$/,""),!pt){mt[vt]=dt;return}mt[vt]===void 0&&(mt[vt]={}),mt[vt][pt[1]]=dt};case"bracket":return(vt,dt,mt)=>{if(pt=/(\[\])$/.exec(vt),vt=vt.replace(/\[\]$/,""),!pt){mt[vt]=dt;return}if(mt[vt]===void 0){mt[vt]=[dt];return}mt[vt]=[].concat(mt[vt],dt)};case"colon-list-separator":return(vt,dt,mt)=>{if(pt=/(:list)$/.exec(vt),vt=vt.replace(/:list$/,""),!pt){mt[vt]=dt;return}if(mt[vt]===void 0){mt[vt]=[dt];return}mt[vt]=[].concat(mt[vt],dt)};case"comma":case"separator":return(vt,dt,mt)=>{const Tt=typeof dt=="string"&&dt.includes(ut.arrayFormatSeparator),yt=typeof dt=="string"&&!Tt&&_(dt,ut).includes(ut.arrayFormatSeparator);dt=yt?_(dt,ut):dt;const ht=Tt||yt?dt.split(ut.arrayFormatSeparator).map(xt=>_(xt,ut)):dt===null?dt:_(dt,ut);mt[vt]=ht};case"bracket-separator":return(vt,dt,mt)=>{const Tt=/(\[\])$/.test(vt);if(vt=vt.replace(/\[\]$/,""),!Tt){mt[vt]=dt&&_(dt,ut);return}const yt=dt===null?[]:dt.split(ut.arrayFormatSeparator).map(ht=>_(ht,ut));if(mt[vt]===void 0){mt[vt]=yt;return}mt[vt]=[].concat(mt[vt],yt)};default:return(vt,dt,mt)=>{if(mt[vt]===void 0){mt[vt]=dt;return}mt[vt]=[].concat(mt[vt],dt)}}}function nt(ut){if(typeof ut!="string"||ut.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function j(ut,pt){return pt.encode?pt.strict?s(ut):encodeURIComponent(ut):ut}function _(ut,pt){return pt.decode?a(ut):ut}function $(ut){return Array.isArray(ut)?ut.sort():typeof ut=="object"?$(Object.keys(ut)).sort((pt,vt)=>Number(pt)-Number(vt)).map(pt=>ut[pt]):ut}function et(ut){const pt=ut.indexOf("#");return pt!==-1&&(ut=ut.slice(0,pt)),ut}function st(ut){let pt="";const vt=ut.indexOf("#");return vt!==-1&&(pt=ut.slice(vt)),pt}function lt(ut){ut=et(ut);const pt=ut.indexOf("?");return pt===-1?"":ut.slice(pt+1)}function ft(ut,pt){return pt.parseNumbers&&!Number.isNaN(Number(ut))&&typeof ut=="string"&&ut.trim()!==""?ut=Number(ut):pt.parseBooleans&&ut!==null&&(ut.toLowerCase()==="true"||ut.toLowerCase()==="false")&&(ut=ut.toLowerCase()==="true"),ut}function gt(ut,pt){pt=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},pt),nt(pt.arrayFormatSeparator);const vt=rt(pt),dt=Object.create(null);if(typeof ut!="string"||(ut=ut.trim().replace(/^[?#&]/,""),!ut))return dt;for(const mt of ut.split("&")){if(mt==="")continue;let[Tt,yt]=o(pt.decode?mt.replace(/\+/g," "):mt,"=");yt=yt===void 0?null:["comma","separator","bracket-separator"].includes(pt.arrayFormat)?yt:_(yt,pt),vt(_(Tt,pt),yt,dt)}for(const mt of Object.keys(dt)){const Tt=dt[mt];if(typeof Tt=="object"&&Tt!==null)for(const yt of Object.keys(Tt))Tt[yt]=ft(Tt[yt],pt);else dt[mt]=ft(Tt,pt)}return pt.sort===!1?dt:(pt.sort===!0?Object.keys(dt).sort():Object.keys(dt).sort(pt.sort)).reduce((mt,Tt)=>{const yt=dt[Tt];return Boolean(yt)&&typeof yt=="object"&&!Array.isArray(yt)?mt[Tt]=$(yt):mt[Tt]=yt,mt},Object.create(null))}i.extract=lt,i.parse=gt,i.stringify=(ut,pt)=>{if(!ut)return"";pt=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},pt),nt(pt.arrayFormatSeparator);const vt=yt=>pt.skipNull&&tt(ut[yt])||pt.skipEmptyString&&ut[yt]==="",dt=ot(pt),mt={};for(const yt of Object.keys(ut))vt(yt)||(mt[yt]=ut[yt]);const Tt=Object.keys(mt);return pt.sort!==!1&&Tt.sort(pt.sort),Tt.map(yt=>{const ht=ut[yt];return ht===void 0?"":ht===null?j(yt,pt):Array.isArray(ht)?ht.length===0&&pt.arrayFormat==="bracket-separator"?j(yt,pt)+"[]":ht.reduce(dt(yt),[]).join("&"):j(yt,pt)+"="+j(ht,pt)}).filter(yt=>yt.length>0).join("&")},i.parseUrl=(ut,pt)=>{pt=Object.assign({decode:!0},pt);const[vt,dt]=o(ut,"#");return Object.assign({url:vt.split("?")[0]||"",query:gt(lt(ut),pt)},pt&&pt.parseFragmentIdentifier&&dt?{fragmentIdentifier:_(dt,pt)}:{})},i.stringifyUrl=(ut,pt)=>{pt=Object.assign({encode:!0,strict:!0,[at]:!0},pt);const vt=et(ut.url).split("?")[0]||"",dt=i.extract(ut.url),mt=i.parse(dt,{sort:!1}),Tt=Object.assign(mt,ut.query);let yt=i.stringify(Tt,pt);yt&&(yt=`?${yt}`);let ht=st(ut.url);return ut.fragmentIdentifier&&(ht=`#${pt[at]?j(ut.fragmentIdentifier,pt):ut.fragmentIdentifier}`),`${vt}${yt}${ht}`},i.pick=(ut,pt,vt)=>{vt=Object.assign({parseFragmentIdentifier:!0,[at]:!1},vt);const{url:dt,query:mt,fragmentIdentifier:Tt}=i.parseUrl(ut,vt);return i.stringifyUrl({url:dt,query:it(mt,pt),fragmentIdentifier:Tt},vt)},i.exclude=(ut,pt,vt)=>{const dt=Array.isArray(pt)?mt=>!pt.includes(mt):(mt,Tt)=>!pt(mt,Tt);return i.pick(ut,dt,vt)}})(queryString);var lib$1={},ace$4={};const require$$0=getAugmentedNamespace(jsxRuntime);var ace$3={exports:{}};(function(i,s){(function(){var a="ace",o=function(){return this}();!o&&typeof window<"u"&&(o=window);var it=function(j,_,$){if(typeof j!="string"){it.original?it.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&($=_),it.modules[j]||(it.payloads[j]=$,it.modules[j]=null)};it.modules={},it.payloads={};var tt=function(j,_,$){if(typeof _=="string"){var et=rt(j,_);if(et!=null)return $&&$(),et}else if(Object.prototype.toString.call(_)==="[object Array]"){for(var st=[],lt=0,ft=_.length;lt<ft;++lt){var gt=rt(j,_[lt]);if(gt==null&&at.original)return;st.push(gt)}return $&&$.apply(null,st)||!0}},at=function(j,_){var $=tt("",j,_);return $==null&&at.original?at.original.apply(this,arguments):$},ot=function(j,_){if(_.indexOf("!")!==-1){var $=_.split("!");return ot(j,$[0])+"!"+ot(j,$[1])}if(_.charAt(0)=="."){var et=j.split("/").slice(0,-1).join("/");for(_=et+"/"+_;_.indexOf(".")!==-1&&st!=_;){var st=_;_=_.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return _},rt=function(j,_){_=ot(j,_);var $=it.modules[_];if(!$){if($=it.payloads[_],typeof $=="function"){var et={},st={id:_,uri:"",exports:et,packaged:!0},lt=function(gt,ut){return tt(_,gt,ut)},ft=$(lt,et,st);et=ft||st.exports,it.modules[_]=et,delete it.payloads[_]}$=it.modules[_]=et||$}return $};function nt(j){var _=o;j&&(o[j]||(o[j]={}),_=o[j]),(!_.define||!_.define.packaged)&&(it.original=_.define,_.define=it,_.define.packaged=!0),(!_.require||!_.require.packaged)&&(at.original=_.require,_.require=at,_.require.packaged=!0)}nt(a)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(a,o,it){function tt(at,ot,rt){Object.defineProperty(at,ot,{value:rt,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||tt(String.prototype,"startsWith",function(at,ot){return ot=ot||0,this.lastIndexOf(at,ot)===ot}),String.prototype.endsWith||tt(String.prototype,"endsWith",function(at,ot){var rt=this;(ot===void 0||ot>rt.length)&&(ot=rt.length),ot-=at.length;var nt=rt.indexOf(at,ot);return nt!==-1&&nt===ot}),String.prototype.repeat||tt(String.prototype,"repeat",function(at){for(var ot="",rt=this;at>0;)at&1&&(ot+=rt),(at>>=1)&&(rt+=rt);return ot}),String.prototype.includes||tt(String.prototype,"includes",function(at,ot){return this.indexOf(at,ot)!=-1}),Object.assign||(Object.assign=function(at){if(at==null)throw new TypeError("Cannot convert undefined or null to object");for(var ot=Object(at),rt=1;rt<arguments.length;rt++){var nt=arguments[rt];nt!=null&&Object.keys(nt).forEach(function(j){ot[j]=nt[j]})}return ot}),Object.values||(Object.values=function(at){return Object.keys(at).map(function(ot){return at[ot]})}),Array.prototype.find||tt(Array.prototype,"find",function(at){for(var ot=this.length,rt=arguments[1],nt=0;nt<ot;nt++){var j=this[nt];if(at.call(rt,j,nt,this))return j}}),Array.prototype.findIndex||tt(Array.prototype,"findIndex",function(at){for(var ot=this.length,rt=arguments[1],nt=0;nt<ot;nt++){var j=this[nt];if(at.call(rt,j,nt,this))return nt}}),Array.prototype.includes||tt(Array.prototype,"includes",function(at,ot){return this.indexOf(at,ot)!=-1}),Array.prototype.fill||tt(Array.prototype,"fill",function(at){for(var ot=this,rt=ot.length>>>0,nt=arguments[1],j=nt>>0,_=j<0?Math.max(rt+j,0):Math.min(j,rt),$=arguments[2],et=$===void 0?rt:$>>0,st=et<0?Math.max(rt+et,0):Math.min(et,rt);_<st;)ot[_]=at,_++;return ot}),Array.of||tt(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(a,o,it){a("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(a,o,it){o.last=function(ot){return ot[ot.length-1]},o.stringReverse=function(ot){return ot.split("").reverse().join("")},o.stringRepeat=function(ot,rt){for(var nt="";rt>0;)rt&1&&(nt+=ot),(rt>>=1)&&(ot+=ot);return nt};var tt=/^\s\s*/,at=/\s\s*$/;o.stringTrimLeft=function(ot){return ot.replace(tt,"")},o.stringTrimRight=function(ot){return ot.replace(at,"")},o.copyObject=function(ot){var rt={};for(var nt in ot)rt[nt]=ot[nt];return rt},o.copyArray=function(ot){for(var rt=[],nt=0,j=ot.length;nt<j;nt++)ot[nt]&&typeof ot[nt]=="object"?rt[nt]=this.copyObject(ot[nt]):rt[nt]=ot[nt];return rt},o.deepCopy=function ot(rt){if(typeof rt!="object"||!rt)return rt;var nt;if(Array.isArray(rt)){nt=[];for(var j=0;j<rt.length;j++)nt[j]=ot(rt[j]);return nt}if(Object.prototype.toString.call(rt)!=="[object Object]")return rt;nt={};for(var j in rt)nt[j]=ot(rt[j]);return nt},o.arrayToMap=function(ot){for(var rt={},nt=0;nt<ot.length;nt++)rt[ot[nt]]=1;return rt},o.createMap=function(ot){var rt=Object.create(null);for(var nt in ot)rt[nt]=ot[nt];return rt},o.arrayRemove=function(ot,rt){for(var nt=0;nt<=ot.length;nt++)rt===ot[nt]&&ot.splice(nt,1)},o.escapeRegExp=function(ot){return ot.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},o.escapeHTML=function(ot){return(""+ot).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},o.getMatchOffsets=function(ot,rt){var nt=[];return ot.replace(rt,function(j){nt.push({offset:arguments[arguments.length-2],length:j.length})}),nt},o.deferredCall=function(ot){var rt=null,nt=function(){rt=null,ot()},j=function(_){return j.cancel(),rt=setTimeout(nt,_||0),j};return j.schedule=j,j.call=function(){return this.cancel(),ot(),j},j.cancel=function(){return clearTimeout(rt),rt=null,j},j.isPending=function(){return rt},j},o.delayedCall=function(ot,rt){var nt=null,j=function(){nt=null,ot()},_=function($){nt==null&&(nt=setTimeout(j,$||rt))};return _.delay=function($){nt&&clearTimeout(nt),nt=setTimeout(j,$||rt)},_.schedule=_,_.call=function(){this.cancel(),ot()},_.cancel=function(){nt&&clearTimeout(nt),nt=null},_.isPending=function(){return nt},_}}),ace.define("ace/lib/oop",["require","exports","module"],function(a,o,it){o.inherits=function(tt,at){tt.super_=at,tt.prototype=Object.create(at.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}})},o.mixin=function(tt,at){for(var ot in at)tt[ot]=at[ot];return tt},o.implement=function(tt,at){o.mixin(tt,at)}}),ace.define("ace/lib/useragent",["require","exports","module"],function(a,o,it){o.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},o.getOS=function(){return o.isMac?o.OS.MAC:o.isLinux?o.OS.LINUX:o.OS.WINDOWS};var tt=typeof navigator=="object"?navigator:{},at=(/mac|win|linux/i.exec(tt.platform)||["other"])[0].toLowerCase(),ot=tt.userAgent||"",rt=tt.appName||"";o.isWin=at=="win",o.isMac=at=="mac",o.isLinux=at=="linux",o.isIE=rt=="Microsoft Internet Explorer"||rt.indexOf("MSAppHost")>=0?parseFloat((ot.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ot.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),o.isOldIE=o.isIE&&o.isIE<9,o.isGecko=o.isMozilla=ot.match(/ Gecko\/\d+/),o.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",o.isWebKit=parseFloat(ot.split("WebKit/")[1])||void 0,o.isChrome=parseFloat(ot.split(" Chrome/")[1])||void 0,o.isEdge=parseFloat(ot.split(" Edge/")[1])||void 0,o.isAIR=ot.indexOf("AdobeAIR")>=0,o.isAndroid=ot.indexOf("Android")>=0,o.isChromeOS=ot.indexOf(" CrOS ")>=0,o.isIOS=/iPad|iPhone|iPod/.test(ot)&&!window.MSStream,o.isIOS&&(o.isMac=!0),o.isMobile=o.isIOS||o.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(a,o,it){var tt=a("./useragent"),at="http://www.w3.org/1999/xhtml";o.buildDom=function $(et,st,lt){if(typeof et=="string"&&et){var ft=document.createTextNode(et);return st&&st.appendChild(ft),ft}if(!Array.isArray(et))return et&&et.appendChild&&st&&st.appendChild(et),et;if(typeof et[0]!="string"||!et[0]){for(var gt=[],ut=0;ut<et.length;ut++){var pt=$(et[ut],st,lt);pt&&gt.push(pt)}return gt}var vt=document.createElement(et[0]),dt=et[1],mt=1;dt&&typeof dt=="object"&&!Array.isArray(dt)&&(mt=2);for(var ut=mt;ut<et.length;ut++)$(et[ut],vt,lt);return mt==2&&Object.keys(dt).forEach(function(Tt){var yt=dt[Tt];Tt==="class"?vt.className=Array.isArray(yt)?yt.join(" "):yt:typeof yt=="function"||Tt=="value"||Tt[0]=="$"?vt[Tt]=yt:Tt==="ref"?lt&&(lt[yt]=vt):Tt==="style"?typeof yt=="string"&&(vt.style.cssText=yt):yt!=null&&vt.setAttribute(Tt,yt)}),st&&st.appendChild(vt),vt},o.getDocumentHead=function($){return $||($=document),$.head||$.getElementsByTagName("head")[0]||$.documentElement},o.createElement=function($,et){return document.createElementNS?document.createElementNS(et||at,$):document.createElement($)},o.removeChildren=function($){$.innerHTML=""},o.createTextNode=function($,et){var st=et?et.ownerDocument:document;return st.createTextNode($)},o.createFragment=function($){var et=$?$.ownerDocument:document;return et.createDocumentFragment()},o.hasCssClass=function($,et){var st=($.className+"").split(/\s+/g);return st.indexOf(et)!==-1},o.addCssClass=function($,et){o.hasCssClass($,et)||($.className+=" "+et)},o.removeCssClass=function($,et){for(var st=$.className.split(/\s+/g);;){var lt=st.indexOf(et);if(lt==-1)break;st.splice(lt,1)}$.className=st.join(" ")},o.toggleCssClass=function($,et){for(var st=$.className.split(/\s+/g),lt=!0;;){var ft=st.indexOf(et);if(ft==-1)break;lt=!1,st.splice(ft,1)}return lt&&st.push(et),$.className=st.join(" "),lt},o.setCssClass=function($,et,st){st?o.addCssClass($,et):o.removeCssClass($,et)},o.hasCssString=function($,et){var st=0,lt;if(et=et||document,lt=et.querySelectorAll("style")){for(;st<lt.length;)if(lt[st++].id===$)return!0}},o.removeElementById=function($,et){et=et||document,et.getElementById($)&&et.getElementById($).remove()};var ot,rt=[];o.useStrictCSP=function($){ot=$,$==!1?nt():rt||(rt=[])};function nt(){var $=rt;rt=null,$&&$.forEach(function(et){j(et[0],et[1])})}function j($,et,st){if(!(typeof document>"u")){if(rt){if(st)nt();else if(st===!1)return rt.push([$,et])}if(!ot){var lt=st;!st||!st.getRootNode?lt=document:(lt=st.getRootNode(),(!lt||lt==st)&&(lt=document));var ft=lt.ownerDocument||lt;if(et&&o.hasCssString(et,lt))return null;et&&($+=`
/*# sourceURL=ace/css/`+et+" */");var gt=o.createElement("style");gt.appendChild(ft.createTextNode($)),et&&(gt.id=et),lt==ft&&(lt=o.getDocumentHead(ft)),lt.insertBefore(gt,lt.firstChild)}}}if(o.importCssString=j,o.importCssStylsheet=function($,et){o.buildDom(["link",{rel:"stylesheet",href:$}],o.getDocumentHead(et))},o.scrollbarWidth=function($){var et=o.createElement("ace_inner");et.style.width="100%",et.style.minWidth="0px",et.style.height="200px",et.style.display="block";var st=o.createElement("ace_outer"),lt=st.style;lt.position="absolute",lt.left="-10000px",lt.overflow="hidden",lt.width="200px",lt.minWidth="0px",lt.height="150px",lt.display="block",st.appendChild(et);var ft=$&&$.documentElement||document&&document.documentElement;if(!ft)return 0;ft.appendChild(st);var gt=et.offsetWidth;lt.overflow="scroll";var ut=et.offsetWidth;return gt===ut&&(ut=st.clientWidth),ft.removeChild(st),gt-ut},o.computedStyle=function($,et){return window.getComputedStyle($,"")||{}},o.setStyle=function($,et,st){$[et]!==st&&($[et]=st)},o.HAS_CSS_ANIMATION=!1,o.HAS_CSS_TRANSFORMS=!1,o.HI_DPI=tt.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,tt.isChromeOS&&(o.HI_DPI=!1),typeof document<"u"){var _=document.createElement("div");o.HI_DPI&&_.style.transform!==void 0&&(o.HAS_CSS_TRANSFORMS=!0),!tt.isEdge&&typeof _.style.animationName<"u"&&(o.HAS_CSS_ANIMATION=!0),_=null}o.HAS_CSS_TRANSFORMS?o.translate=function($,et,st){$.style.transform="translate("+Math.round(et)+"px, "+Math.round(st)+"px)"}:o.translate=function($,et,st){$.style.top=Math.round(st)+"px",$.style.left=Math.round(et)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(a,o,it){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var tt=a("./dom");o.get=function(at,ot){var rt=new XMLHttpRequest;rt.open("GET",at,!0),rt.onreadystatechange=function(){rt.readyState===4&&ot(rt.responseText)},rt.send(null)},o.loadScript=function(at,ot){var rt=tt.getDocumentHead(),nt=document.createElement("script");nt.src=at,rt.appendChild(nt),nt.onload=nt.onreadystatechange=function(j,_){(_||!nt.readyState||nt.readyState=="loaded"||nt.readyState=="complete")&&(nt=nt.onload=nt.onreadystatechange=null,_||ot())}},o.qualifyURL=function(at){var ot=document.createElement("a");return ot.href=at,ot.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(a,o,it){var tt={},at=function(){this.propagationStopped=!0},ot=function(){this.defaultPrevented=!0};tt._emit=tt._dispatchEvent=function(rt,nt){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var j=this._eventRegistry[rt]||[],_=this._defaultHandlers[rt];if(!(!j.length&&!_)){(typeof nt!="object"||!nt)&&(nt={}),nt.type||(nt.type=rt),nt.stopPropagation||(nt.stopPropagation=at),nt.preventDefault||(nt.preventDefault=ot),j=j.slice();for(var $=0;$<j.length&&(j[$](nt,this),!nt.propagationStopped);$++);if(_&&!nt.defaultPrevented)return _(nt,this)}},tt._signal=function(rt,nt){var j=(this._eventRegistry||{})[rt];if(!!j){j=j.slice();for(var _=0;_<j.length;_++)j[_](nt,this)}},tt.once=function(rt,nt){var j=this;if(this.on(rt,function _(){j.off(rt,_),nt.apply(null,arguments)}),!nt)return new Promise(function(_){nt=_})},tt.setDefaultHandler=function(rt,nt){var j=this._defaultHandlers;if(j||(j=this._defaultHandlers={_disabled_:{}}),j[rt]){var _=j[rt],$=j._disabled_[rt];$||(j._disabled_[rt]=$=[]),$.push(_);var et=$.indexOf(nt);et!=-1&&$.splice(et,1)}j[rt]=nt},tt.removeDefaultHandler=function(rt,nt){var j=this._defaultHandlers;if(!!j){var _=j._disabled_[rt];if(j[rt]==nt)_&&this.setDefaultHandler(rt,_.pop());else if(_){var $=_.indexOf(nt);$!=-1&&_.splice($,1)}}},tt.on=tt.addEventListener=function(rt,nt,j){this._eventRegistry=this._eventRegistry||{};var _=this._eventRegistry[rt];return _||(_=this._eventRegistry[rt]=[]),_.indexOf(nt)==-1&&_[j?"unshift":"push"](nt),nt},tt.off=tt.removeListener=tt.removeEventListener=function(rt,nt){this._eventRegistry=this._eventRegistry||{};var j=this._eventRegistry[rt];if(!!j){var _=j.indexOf(nt);_!==-1&&j.splice(_,1)}},tt.removeAllListeners=function(rt){rt||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[rt]=void 0),this._defaultHandlers&&(this._defaultHandlers[rt]=void 0)},o.EventEmitter=tt}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,o,it){var tt=a("./oop"),at=a("./event_emitter").EventEmitter,ot={setOptions:function(_){Object.keys(_).forEach(function($){this.setOption($,_[$])},this)},getOptions:function(_){var $={};if(_)Array.isArray(_)||($=_,_=Object.keys($));else{var et=this.$options;_=Object.keys(et).filter(function(st){return!et[st].hidden})}return _.forEach(function(st){$[st]=this.getOption(st)},this),$},setOption:function(_,$){if(this["$"+_]!==$){var et=this.$options[_];if(!et)return rt('misspelled option "'+_+'"');if(et.forwardTo)return this[et.forwardTo]&&this[et.forwardTo].setOption(_,$);et.handlesSet||(this["$"+_]=$),et&&et.set&&et.set.call(this,$)}},getOption:function(_){var $=this.$options[_];return $?$.forwardTo?this[$.forwardTo]&&this[$.forwardTo].getOption(_):$&&$.get?$.get.call(this):this["$"+_]:rt('misspelled option "'+_+'"')}};function rt(_){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function nt(_,$){var et=new Error(_);et.data=$,typeof console=="object"&&console.error&&console.error(et),setTimeout(function(){throw et})}var j=function(){this.$defaultOptions={}};(function(){tt.implement(this,at),this.defineOptions=function(_,$,et){return _.$options||(this.$defaultOptions[$]=_.$options={}),Object.keys(et).forEach(function(st){var lt=et[st];typeof lt=="string"&&(lt={forwardTo:lt}),lt.name||(lt.name=st),_.$options[lt.name]=lt,"initialValue"in lt&&(_["$"+lt.name]=lt.initialValue)}),tt.implement(_,ot),this},this.resetOptions=function(_){Object.keys(_.$options).forEach(function($){var et=_.$options[$];"value"in et&&_.setOption($,et.value)})},this.setDefaultValue=function(_,$,et){if(!_){for(_ in this.$defaultOptions)if(this.$defaultOptions[_][$])break;if(!this.$defaultOptions[_][$])return!1}var st=this.$defaultOptions[_]||(this.$defaultOptions[_]={});st[$]&&(st.forwardTo?this.setDefaultValue(st.forwardTo,$,et):st[$].value=et)},this.setDefaultValues=function(_,$){Object.keys($).forEach(function(et){this.setDefaultValue(_,et,$[et])},this)},this.warn=rt,this.reportError=nt}).call(j.prototype),o.AppConfig=j}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(a,o,it){it.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(a,o,it){o.isDark=!1,o.cssClass="ace-tm",o.cssText=a("./textmate.css"),o.$id="ace/theme/textmate";var tt=a("../lib/dom");tt.importCssString(o.cssText,o.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(a,o,it){var tt=a("./lib/lang");a("./lib/oop");var at=a("./lib/net"),ot=a("./lib/dom"),rt=a("./lib/app_config").AppConfig;it.exports=o=new rt;var nt={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};o.get=function($){if(!nt.hasOwnProperty($))throw new Error("Unknown config key: "+$);return nt[$]},o.set=function($,et){if(nt.hasOwnProperty($))nt[$]=et;else if(this.setDefaultValue("",$,et)==!1)throw new Error("Unknown config key: "+$);$=="useStrictCSP"&&ot.useStrictCSP(et)},o.all=function(){return tt.copyObject(nt)},o.$modes={},o.moduleUrl=function($,et){if(nt.$moduleUrls[$])return nt.$moduleUrls[$];var st=$.split("/");et=et||st[st.length-2]||"";var lt=et=="snippets"?"/":"-",ft=st[st.length-1];if(et=="worker"&&lt=="-"){var gt=new RegExp("^"+et+"[\\-_]|[\\-_]"+et+"$","g");ft=ft.replace(gt,"")}(!ft||ft==et)&&st.length>1&&(ft=st[st.length-2]);var ut=nt[et+"Path"];return ut==null?ut=nt.basePath:lt=="/"&&(et=lt=""),ut&&ut.slice(-1)!="/"&&(ut+="/"),ut+et+lt+ft+this.get("suffix")},o.setModuleUrl=function($,et){return nt.$moduleUrls[$]=et};var j=function($,et){return $=="ace/theme/textmate"?et(null,a("./theme/textmate")):console.error("loader is not configured")};o.setLoader=function($){j=$},o.$loading={},o.loadModule=function($,et){var st,lt;Array.isArray($)&&(lt=$[0],$=$[1]);try{st=a($)}catch{}if(st&&!o.$loading[$])return et&&et(st);if(o.$loading[$]||(o.$loading[$]=[]),o.$loading[$].push(et),!(o.$loading[$].length>1)){var ft=function(){j($,function(gt,ut){o._emit("load.module",{name:$,module:ut});var pt=o.$loading[$];o.$loading[$]=null,pt.forEach(function(vt){vt&&vt(ut)})})};if(!o.get("packaged"))return ft();at.loadScript(o.moduleUrl($,lt),ft),_()}};var _=function(){!nt.basePath&&!nt.workerPath&&!nt.modePath&&!nt.themePath&&!Object.keys(nt.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),_=function(){})};o.version="1.13.2"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(a,o,it){a("./lib/fixoldbrowsers");var tt=a("./config");tt.setLoader(function(nt,j){a([nt],function(_){j(null,_)})});var at=function(){return this||typeof window<"u"&&window}();it.exports=function(nt){tt.init=ot,nt.require=a},ot(!0);function ot(nt){if(!(!at||!at.document)){tt.set("packaged",nt||a.packaged||it.packaged||at.define&&(void 0).packaged);for(var j={},_="",$=document.currentScript||document._currentScript,et=$&&$.ownerDocument||document,st=et.getElementsByTagName("script"),lt=0;lt<st.length;lt++){var ft=st[lt],gt=ft.src||ft.getAttribute("src");if(!!gt){for(var ut=ft.attributes,pt=0,vt=ut.length;pt<vt;pt++){var dt=ut[pt];dt.name.indexOf("data-ace-")===0&&(j[rt(dt.name.replace(/^data-ace-/,""))]=dt.value)}var mt=gt.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);mt&&(_=mt[1])}}_&&(j.base=j.base||_,j.packaged=!0),j.basePath=j.base,j.workerPath=j.workerPath||j.base,j.modePath=j.modePath||j.base,j.themePath=j.themePath||j.base,delete j.base;for(var Tt in j)typeof j[Tt]<"u"&&tt.set(Tt,j[Tt])}}function rt(nt){return nt.replace(/-(.)/g,function(j,_){return _.toUpperCase()})}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(a,o,it){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var tt=a("./oop"),at=function(){var ot={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};ot.PRINTABLE_KEYS[173]="-";var rt,nt;for(nt in ot.FUNCTION_KEYS)rt=ot.FUNCTION_KEYS[nt].toLowerCase(),ot[rt]=parseInt(nt,10);for(nt in ot.PRINTABLE_KEYS)rt=ot.PRINTABLE_KEYS[nt].toLowerCase(),ot[rt]=parseInt(nt,10);return tt.mixin(ot,ot.MODIFIER_KEYS),tt.mixin(ot,ot.PRINTABLE_KEYS),tt.mixin(ot,ot.FUNCTION_KEYS),ot.enter=ot.return,ot.escape=ot.esc,ot.del=ot.delete,function(){for(var j=["cmd","ctrl","alt","shift"],_=Math.pow(2,j.length);_--;)ot.KEY_MODS[_]=j.filter(function($){return _&ot.KEY_MODS[$]}).join("-")+"-"}(),ot.KEY_MODS[0]="",ot.KEY_MODS[-1]="input-",ot}();tt.mixin(o,at),o.keyCodeToString=function(ot){var rt=at[ot];return typeof rt!="string"&&(rt=String.fromCharCode(ot)),rt.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(a,o,it){var tt=a("./keys"),at=a("./useragent"),ot=null,rt=0,nt;function j(){nt=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){nt={passive:!1}}})}catch{}}function _(){return nt==null&&j(),nt}function $(pt,vt,dt){this.elem=pt,this.type=vt,this.callback=dt}$.prototype.destroy=function(){st(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var et=o.addListener=function(pt,vt,dt,mt){pt.addEventListener(vt,dt,_()),mt&&mt.$toDestroy.push(new $(pt,vt,dt))},st=o.removeListener=function(pt,vt,dt){pt.removeEventListener(vt,dt,_())};o.stopEvent=function(pt){return o.stopPropagation(pt),o.preventDefault(pt),!1},o.stopPropagation=function(pt){pt.stopPropagation&&pt.stopPropagation()},o.preventDefault=function(pt){pt.preventDefault&&pt.preventDefault()},o.getButton=function(pt){return pt.type=="dblclick"?0:pt.type=="contextmenu"||at.isMac&&pt.ctrlKey&&!pt.altKey&&!pt.shiftKey?2:pt.button},o.capture=function(pt,vt,dt){var mt=pt&&pt.ownerDocument||document;function Tt(yt){vt&&vt(yt),dt&&dt(yt),st(mt,"mousemove",vt),st(mt,"mouseup",Tt),st(mt,"dragstart",Tt)}return et(mt,"mousemove",vt),et(mt,"mouseup",Tt),et(mt,"dragstart",Tt),Tt},o.addMouseWheelListener=function(pt,vt,dt){et(pt,"wheel",function(mt){var Tt=.15,yt=mt.deltaX||0,ht=mt.deltaY||0;switch(mt.deltaMode){case mt.DOM_DELTA_PIXEL:mt.wheelX=yt*Tt,mt.wheelY=ht*Tt;break;case mt.DOM_DELTA_LINE:var xt=15;mt.wheelX=yt*xt,mt.wheelY=ht*xt;break;case mt.DOM_DELTA_PAGE:var wt=150;mt.wheelX=yt*wt,mt.wheelY=ht*wt;break}vt(mt)},dt)},o.addMultiMouseDownListener=function(pt,vt,dt,mt,Tt){var yt=0,ht,xt,wt,kt={2:"dblclick",3:"tripleclick",4:"quadclick"};function Ct(Rt){if(o.getButton(Rt)!==0?yt=0:Rt.detail>1?(yt++,yt>4&&(yt=1)):yt=1,at.isIE){var Lt=Math.abs(Rt.clientX-ht)>5||Math.abs(Rt.clientY-xt)>5;(!wt||Lt)&&(yt=1),wt&&clearTimeout(wt),wt=setTimeout(function(){wt=null},vt[yt-1]||600),yt==1&&(ht=Rt.clientX,xt=Rt.clientY)}if(Rt._clicks=yt,dt[mt]("mousedown",Rt),yt>4)yt=0;else if(yt>1)return dt[mt](kt[yt],Rt)}Array.isArray(pt)||(pt=[pt]),pt.forEach(function(Rt){et(Rt,"mousedown",Ct,Tt)})};var lt=function(pt){return 0|(pt.ctrlKey?1:0)|(pt.altKey?2:0)|(pt.shiftKey?4:0)|(pt.metaKey?8:0)};o.getModifierString=function(pt){return tt.KEY_MODS[lt(pt)]};function ft(pt,vt,dt){var mt=lt(vt);if(!at.isMac&&ot){if(vt.getModifierState&&(vt.getModifierState("OS")||vt.getModifierState("Win"))&&(mt|=8),ot.altGr)if((3&mt)!=3)ot.altGr=0;else return;if(dt===18||dt===17){var Tt="location"in vt?vt.location:vt.keyLocation;if(dt===17&&Tt===1)ot[dt]==1&&(rt=vt.timeStamp);else if(dt===18&&mt===3&&Tt===2){var yt=vt.timeStamp-rt;yt<50&&(ot.altGr=!0)}}}if(dt in tt.MODIFIER_KEYS&&(dt=-1),!mt&&dt===13){var Tt="location"in vt?vt.location:vt.keyLocation;if(Tt===3&&(pt(vt,mt,-dt),vt.defaultPrevented))return}if(at.isChromeOS&&mt&8){if(pt(vt,mt,dt),vt.defaultPrevented)return;mt&=-9}return!mt&&!(dt in tt.FUNCTION_KEYS)&&!(dt in tt.PRINTABLE_KEYS)?!1:pt(vt,mt,dt)}o.addCommandKeyListener=function(pt,vt,dt){if(at.isOldGecko||at.isOpera&&!("KeyboardEvent"in window)){var mt=null;et(pt,"keydown",function(yt){mt=yt.keyCode},dt),et(pt,"keypress",function(yt){return ft(vt,yt,mt)},dt)}else{var Tt=null;et(pt,"keydown",function(yt){ot[yt.keyCode]=(ot[yt.keyCode]||0)+1;var ht=ft(vt,yt,yt.keyCode);return Tt=yt.defaultPrevented,ht},dt),et(pt,"keypress",function(yt){Tt&&(yt.ctrlKey||yt.altKey||yt.shiftKey||yt.metaKey)&&(o.stopEvent(yt),Tt=null)},dt),et(pt,"keyup",function(yt){ot[yt.keyCode]=null},dt),ot||(gt(),et(window,"focus",gt))}};function gt(){ot=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!at.isOldIE){var ut=1;o.nextTick=function(pt,vt){vt=vt||window;var dt="zero-timeout-message-"+ut++,mt=function(Tt){Tt.data==dt&&(o.stopPropagation(Tt),st(vt,"message",mt),pt())};et(vt,"message",mt),vt.postMessage(dt,"*")}}o.$idleBlocked=!1,o.onIdle=function(pt,vt){return setTimeout(function dt(){o.$idleBlocked?setTimeout(dt,100):pt()},vt)},o.$idleBlockId=null,o.blockIdle=function(pt){o.$idleBlockId&&clearTimeout(o.$idleBlockId),o.$idleBlocked=!0,o.$idleBlockId=setTimeout(function(){o.$idleBlocked=!1},pt||100)},o.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),o.nextFrame?o.nextFrame=o.nextFrame.bind(window):o.nextFrame=function(pt){setTimeout(pt,17)}}),ace.define("ace/range",["require","exports","module"],function(a,o,it){var tt=function(ot,rt){return ot.row-rt.row||ot.column-rt.column},at=function(ot,rt,nt,j){this.start={row:ot,column:rt},this.end={row:nt,column:j}};(function(){this.isEqual=function(ot){return this.start.row===ot.start.row&&this.end.row===ot.end.row&&this.start.column===ot.start.column&&this.end.column===ot.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(ot,rt){return this.compare(ot,rt)==0},this.compareRange=function(ot){var rt,nt=ot.end,j=ot.start;return rt=this.compare(nt.row,nt.column),rt==1?(rt=this.compare(j.row,j.column),rt==1?2:rt==0?1:0):rt==-1?-2:(rt=this.compare(j.row,j.column),rt==-1?-1:rt==1?42:0)},this.comparePoint=function(ot){return this.compare(ot.row,ot.column)},this.containsRange=function(ot){return this.comparePoint(ot.start)==0&&this.comparePoint(ot.end)==0},this.intersects=function(ot){var rt=this.compareRange(ot);return rt==-1||rt==0||rt==1},this.isEnd=function(ot,rt){return this.end.row==ot&&this.end.column==rt},this.isStart=function(ot,rt){return this.start.row==ot&&this.start.column==rt},this.setStart=function(ot,rt){typeof ot=="object"?(this.start.column=ot.column,this.start.row=ot.row):(this.start.row=ot,this.start.column=rt)},this.setEnd=function(ot,rt){typeof ot=="object"?(this.end.column=ot.column,this.end.row=ot.row):(this.end.row=ot,this.end.column=rt)},this.inside=function(ot,rt){return this.compare(ot,rt)==0?!(this.isEnd(ot,rt)||this.isStart(ot,rt)):!1},this.insideStart=function(ot,rt){return this.compare(ot,rt)==0?!this.isEnd(ot,rt):!1},this.insideEnd=function(ot,rt){return this.compare(ot,rt)==0?!this.isStart(ot,rt):!1},this.compare=function(ot,rt){return!this.isMultiLine()&&ot===this.start.row?rt<this.start.column?-1:rt>this.end.column?1:0:ot<this.start.row?-1:ot>this.end.row?1:this.start.row===ot?rt>=this.start.column?0:-1:this.end.row===ot?rt<=this.end.column?0:1:0},this.compareStart=function(ot,rt){return this.start.row==ot&&this.start.column==rt?-1:this.compare(ot,rt)},this.compareEnd=function(ot,rt){return this.end.row==ot&&this.end.column==rt?1:this.compare(ot,rt)},this.compareInside=function(ot,rt){return this.end.row==ot&&this.end.column==rt?1:this.start.row==ot&&this.start.column==rt?-1:this.compare(ot,rt)},this.clipRows=function(ot,rt){if(this.end.row>rt)var nt={row:rt+1,column:0};else if(this.end.row<ot)var nt={row:ot,column:0};if(this.start.row>rt)var j={row:rt+1,column:0};else if(this.start.row<ot)var j={row:ot,column:0};return at.fromPoints(j||this.start,nt||this.end)},this.extend=function(ot,rt){var nt=this.compare(ot,rt);if(nt==0)return this;if(nt==-1)var j={row:ot,column:rt};else var _={row:ot,column:rt};return at.fromPoints(j||this.start,_||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return at.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new at(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new at(this.start.row,0,this.end.row,0)},this.toScreenRange=function(ot){var rt=ot.documentToScreenPosition(this.start),nt=ot.documentToScreenPosition(this.end);return new at(rt.row,rt.column,nt.row,nt.column)},this.moveBy=function(ot,rt){this.start.row+=ot,this.start.column+=rt,this.end.row+=ot,this.end.column+=rt}}).call(at.prototype),at.fromPoints=function(ot,rt){return new at(ot.row,ot.column,rt.row,rt.column)},at.comparePoints=tt,at.comparePoints=function(ot,rt){return ot.row-rt.row||ot.column-rt.column},o.Range=at}),ace.define("ace/clipboard",["require","exports","module"],function(a,o,it){var tt;it.exports={lineMode:!1,pasteCancelled:function(){return tt&&tt>Date.now()-50?!0:tt=!1},cancel:function(){tt=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(a,o,it){var tt=a("../lib/event"),at=a("../lib/useragent"),ot=a("../lib/dom"),rt=a("../lib/lang"),nt=a("../clipboard"),j=at.isChrome<18,_=at.isIE,$=at.isChrome>63,et=400,st=a("../lib/keys"),lt=st.KEY_MODS,ft=at.isIOS,gt=ft?/\s/:/\n/,ut=at.isMobile,pt=function(vt,dt){var mt=ot.createElement("textarea");mt.className="ace_text-input",mt.setAttribute("wrap","off"),mt.setAttribute("autocorrect","off"),mt.setAttribute("autocapitalize","off"),mt.setAttribute("spellcheck",!1),mt.style.opacity="0",vt.insertBefore(mt,vt.firstChild);var Tt=!1,yt=!1,ht=!1,xt=!1,wt="";ut||(mt.style.fontSize="1px");var kt=!1,Ct=!1,Rt="",Lt=0,Mt=0,Wt=0;try{var Pt=document.activeElement===mt}catch{}tt.addListener(mt,"blur",function(En){Ct||(dt.onBlur(En),Pt=!1)},dt),tt.addListener(mt,"focus",function(En){if(!Ct){if(Pt=!0,at.isEdge)try{if(!document.hasFocus())return}catch{}dt.onFocus(En),at.isEdge?setTimeout(Ot):Ot()}},dt),this.$focusScroll=!1,this.focus=function(){if(wt||$||this.$focusScroll=="browser")return mt.focus({preventScroll:!0});var En=mt.style.top;mt.style.position="fixed",mt.style.top="0px";try{var Kn=mt.getBoundingClientRect().top!=0}catch{return}var Nn=[];if(Kn)for(var dr=mt.parentElement;dr&&dr.nodeType==1;)Nn.push(dr),dr.setAttribute("ace_nocontext",!0),!dr.parentElement&&dr.getRootNode?dr=dr.getRootNode().host:dr=dr.parentElement;mt.focus({preventScroll:!0}),Kn&&Nn.forEach(function(Hn){Hn.removeAttribute("ace_nocontext")}),setTimeout(function(){mt.style.position="",mt.style.top=="0px"&&(mt.style.top=En)},0)},this.blur=function(){mt.blur()},this.isFocused=function(){return Pt},dt.on("beforeEndOperation",function(){var En=dt.curOp,Kn=En&&En.command&&En.command.name;if(Kn!="insertstring"){var Nn=Kn&&(En.docChanged||En.selectionChanged);ht&&Nn&&(Rt=mt.value="",Gt()),Ot()}});var Ot=ft?function(En){if(!(!Pt||Tt&&!En||xt)){En||(En="");var Kn=`
 ab`+En+`cde fg
`;Kn!=mt.value&&(mt.value=Rt=Kn);var Nn=4,dr=4+(En.length||(dt.selection.isEmpty()?0:1));(Lt!=Nn||Mt!=dr)&&mt.setSelectionRange(Nn,dr),Lt=Nn,Mt=dr}}:function(){if(!(ht||xt)&&!(!Pt&&!Vt)){ht=!0;var En=0,Kn=0,Nn="";if(dt.session){var dr=dt.selection,Hn=dr.getRange(),Tr=dr.cursor.row;if(En=Hn.start.column,Kn=Hn.end.column,Nn=dt.session.getLine(Tr),Hn.start.row!=Tr){var or=dt.session.getLine(Tr-1);En=Hn.start.row<Tr-1?0:En,Kn+=or.length+1,Nn=or+`
`+Nn}else if(Hn.end.row!=Tr){var Wn=dt.session.getLine(Tr+1);Kn=Hn.end.row>Tr+1?Wn.length:Kn,Kn+=Nn.length+1,Nn=Nn+`
`+Wn}else ut&&Tr>0&&(Nn=`
`+Nn,Kn+=1,En+=1);Nn.length>et&&(En<et&&Kn<et?Nn=Nn.slice(0,et):(Nn=`
`,En==Kn?En=Kn=0:(En=0,Kn=1)))}var xr=Nn+`

`;if(xr!=Rt&&(mt.value=Rt=xr,Lt=Mt=xr.length),Vt&&(Lt=mt.selectionStart,Mt=mt.selectionEnd),Mt!=Kn||Lt!=En||mt.selectionEnd!=Mt)try{mt.setSelectionRange(En,Kn),Lt=En,Mt=Kn}catch{}ht=!1}};this.resetSelection=Ot,Pt&&dt.onFocus();var Xt=function(En){return En.selectionStart===0&&En.selectionEnd>=Rt.length&&En.value===Rt&&Rt&&En.selectionEnd!==Mt},rn=function(En){ht||(Tt?Tt=!1:Xt(mt)?(dt.selectAll(),Ot()):ut&&mt.selectionStart!=Lt&&Ot())},jt=null;this.setInputHandler=function(En){jt=En},this.getInputHandler=function(){return jt};var Vt=!1,en=function(En,Kn){if(Vt&&(Vt=!1),yt)return Ot(),En&&dt.onPaste(En),yt=!1,"";for(var Nn=mt.selectionStart,dr=mt.selectionEnd,Hn=Lt,Tr=Rt.length-Mt,or=En,Wn=En.length-Nn,xr=En.length-dr,Ut=0;Hn>0&&Rt[Ut]==En[Ut];)Ut++,Hn--;for(or=or.slice(Ut),Ut=1;Tr>0&&Rt.length-Ut>Lt-1&&Rt[Rt.length-Ut]==En[En.length-Ut];)Ut++,Tr--;Wn-=Ut-1,xr-=Ut-1;var an=or.length-Ut+1;if(an<0&&(Hn=-an,an=0),or=or.slice(0,an),!Kn&&!or&&!Wn&&!Hn&&!Tr&&!xr)return"";xt=!0;var hn=!1;return at.isAndroid&&or==". "&&(or="  ",hn=!0),or&&!Hn&&!Tr&&!Wn&&!xr||kt?dt.onTextInput(or):dt.onTextInput(or,{extendLeft:Hn,extendRight:Tr,restoreStart:Wn,restoreEnd:xr}),xt=!1,Rt=En,Lt=Nn,Mt=dr,Wt=xr,hn?`
`:or},ln=function(En){if(ht)return Qt();if(En&&En.inputType){if(En.inputType=="historyUndo")return dt.execCommand("undo");if(En.inputType=="historyRedo")return dt.execCommand("redo")}var Kn=mt.value,Nn=en(Kn,!0);(Kn.length>et+100||gt.test(Nn)||ut&&Lt<1&&Lt==Mt)&&Ot()},nn=function(En,Kn,Nn){var dr=En.clipboardData||window.clipboardData;if(!(!dr||j)){var Hn=_||Nn?"Text":"text/plain";try{return Kn?dr.setData(Hn,Kn)!==!1:dr.getData(Hn)}catch(Tr){if(!Nn)return nn(Tr,Kn,!0)}}},_n=function(En,Kn){var Nn=dt.getCopyText();if(!Nn)return tt.preventDefault(En);nn(En,Nn)?(ft&&(Ot(Nn),Tt=Nn,setTimeout(function(){Tt=!1},10)),Kn?dt.onCut():dt.onCopy(),tt.preventDefault(En)):(Tt=!0,mt.value=Nn,mt.select(),setTimeout(function(){Tt=!1,Ot(),Kn?dt.onCut():dt.onCopy()}))},fn=function(En){_n(En,!0)},wn=function(En){_n(En,!1)},xn=function(En){var Kn=nn(En);nt.pasteCancelled()||(typeof Kn=="string"?(Kn&&dt.onPaste(Kn,En),at.isIE&&setTimeout(Ot),tt.preventDefault(En)):(mt.value="",yt=!0))};tt.addCommandKeyListener(mt,dt.onCommandKey.bind(dt),dt),tt.addListener(mt,"select",rn,dt),tt.addListener(mt,"input",ln,dt),tt.addListener(mt,"cut",fn,dt),tt.addListener(mt,"copy",wn,dt),tt.addListener(mt,"paste",xn,dt),(!("oncut"in mt)||!("oncopy"in mt)||!("onpaste"in mt))&&tt.addListener(vt,"keydown",function(En){if(!(at.isMac&&!En.metaKey||!En.ctrlKey))switch(En.keyCode){case 67:wn(En);break;case 86:xn(En);break;case 88:fn(En);break}},dt);var qt=function(En){if(!(ht||!dt.onCompositionStart||dt.$readOnly)&&(ht={},!kt)){En.data&&(ht.useTextareaForIME=!1),setTimeout(Qt,0),dt._signal("compositionStart"),dt.on("mousedown",cn);var Kn=dt.getSelectionRange();Kn.end.row=Kn.start.row,Kn.end.column=Kn.start.column,ht.markerRange=Kn,ht.selectionStart=Lt,dt.onCompositionStart(ht),ht.useTextareaForIME?(Rt=mt.value="",Lt=0,Mt=0):(mt.msGetInputContext&&(ht.context=mt.msGetInputContext()),mt.getInputContext&&(ht.context=mt.getInputContext()))}},Qt=function(){if(!(!ht||!dt.onCompositionUpdate||dt.$readOnly)){if(kt)return cn();if(ht.useTextareaForIME)dt.onCompositionUpdate(mt.value);else{var En=mt.value;en(En),ht.markerRange&&(ht.context&&(ht.markerRange.start.column=ht.selectionStart=ht.context.compositionStartOffset),ht.markerRange.end.column=ht.markerRange.start.column+Mt-ht.selectionStart+Wt)}}},Gt=function(En){!dt.onCompositionEnd||dt.$readOnly||(ht=!1,dt.onCompositionEnd(),dt.off("mousedown",cn),En&&ln())};function cn(){Ct=!0,mt.blur(),mt.focus(),Ct=!1}var kn=rt.delayedCall(Qt,50).schedule.bind(null,null);function dn(En){En.keyCode==27&&mt.value.length<mt.selectionStart&&(ht||(Rt=mt.value),Lt=Mt=-1,Ot()),kn()}tt.addListener(mt,"compositionstart",qt,dt),tt.addListener(mt,"compositionupdate",Qt,dt),tt.addListener(mt,"keyup",dn,dt),tt.addListener(mt,"keydown",kn,dt),tt.addListener(mt,"compositionend",Gt,dt),this.getElement=function(){return mt},this.setCommandMode=function(En){kt=En,mt.readOnly=!1},this.setReadOnly=function(En){kt||(mt.readOnly=En)},this.setCopyWithEmptySelection=function(En){},this.onContextMenu=function(En){Vt=!0,Ot(),dt._emit("nativecontextmenu",{target:dt,domEvent:En}),this.moveToMouse(En,!0)},this.moveToMouse=function(En,Kn){wt||(wt=mt.style.cssText),mt.style.cssText=(Kn?"z-index:100000;":"")+(at.isIE?"opacity:0.1;":"")+"text-indent: -"+(Lt+Mt)*dt.renderer.characterWidth*.5+"px;";var Nn=dt.container.getBoundingClientRect(),dr=ot.computedStyle(dt.container),Hn=Nn.top+(parseInt(dr.borderTopWidth)||0),Tr=Nn.left+(parseInt(Nn.borderLeftWidth)||0),or=Nn.bottom-Hn-mt.clientHeight-2,Wn=function(xr){ot.translate(mt,xr.clientX-Tr-2,Math.min(xr.clientY-Hn-2,or))};Wn(En),En.type=="mousedown"&&(dt.renderer.$isMousePressed=!0,clearTimeout(qn),at.isWin&&tt.capture(dt.container,Wn,ur))},this.onContextMenuClose=ur;var qn;function ur(){clearTimeout(qn),qn=setTimeout(function(){wt&&(mt.style.cssText=wt,wt=""),dt.renderer.$isMousePressed=!1,dt.renderer.$keepTextAreaAtCursor&&dt.renderer.$moveTextAreaToCursor()},0)}var cr=function(En){dt.textInput.onContextMenu(En),ur()};tt.addListener(mt,"mouseup",cr,dt),tt.addListener(mt,"mousedown",function(En){En.preventDefault(),ur()},dt),tt.addListener(dt.renderer.scroller,"contextmenu",cr,dt),tt.addListener(mt,"contextmenu",cr,dt),ft&&Mr(vt,dt,mt);function Mr(En,Kn,Nn){var dr=null,Hn=!1;Nn.addEventListener("keydown",function(or){dr&&clearTimeout(dr),Hn=!0},!0),Nn.addEventListener("keyup",function(or){dr=setTimeout(function(){Hn=!1},100)},!0);var Tr=function(or){if(document.activeElement===Nn&&!(Hn||ht||Kn.$mouseHandler.isMousePressed)&&!Tt){var Wn=Nn.selectionStart,xr=Nn.selectionEnd,Ut=null,an=0;if(Wn==0?Ut=st.up:Wn==1?Ut=st.home:xr>Mt&&Rt[xr]==`
`?Ut=st.end:Wn<Lt&&Rt[Wn-1]==" "?(Ut=st.left,an=lt.option):Wn<Lt||Wn==Lt&&Mt!=Lt&&Wn==xr?Ut=st.left:xr>Mt&&Rt.slice(0,xr).split(`
`).length>2?Ut=st.down:xr>Mt&&Rt[xr-1]==" "?(Ut=st.right,an=lt.option):(xr>Mt||xr==Mt&&Mt!=Lt&&Wn==xr)&&(Ut=st.right),Wn!==xr&&(an|=lt.shift),Ut){var hn=Kn.onCommandKey({},an,Ut);if(!hn&&Kn.commands){Ut=st.keyCodeToString(Ut);var On=Kn.commands.findKeyCommand(an,Ut);On&&Kn.execCommand(On)}Lt=Wn,Mt=xr,Ot("")}}};document.addEventListener("selectionchange",Tr),Kn.on("destroy",function(){document.removeEventListener("selectionchange",Tr)})}this.destroy=function(){mt.parentElement&&mt.parentElement.removeChild(mt)}};o.TextInput=pt,o.$setUserAgentForTests=function(vt,dt){ut=vt,ft=dt}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(a,o,it){var tt=a("../lib/useragent"),at=0,ot=550;function rt(_){_.$clickSelection=null;var $=_.editor;$.setDefaultHandler("mousedown",this.onMouseDown.bind(_)),$.setDefaultHandler("dblclick",this.onDoubleClick.bind(_)),$.setDefaultHandler("tripleclick",this.onTripleClick.bind(_)),$.setDefaultHandler("quadclick",this.onQuadClick.bind(_)),$.setDefaultHandler("mousewheel",this.onMouseWheel.bind(_));var et=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];et.forEach(function(st){_[st]=this[st]},this),_.selectByLines=this.extendSelectionBy.bind(_,"getLineRange"),_.selectByWords=this.extendSelectionBy.bind(_,"getWordRange")}(function(){this.onMouseDown=function(_){var $=_.inSelection(),et=_.getDocumentPosition();this.mousedownEvent=_;var st=this.editor,lt=_.getButton();if(lt!==0){var ft=st.getSelectionRange(),gt=ft.isEmpty();(gt||lt==1)&&st.selection.moveToPosition(et),lt==2&&(st.textInput.onContextMenu(_.domEvent),tt.isMozilla||_.preventDefault());return}if(this.mousedownEvent.time=Date.now(),$&&!st.isFocused()&&(st.focus(),this.$focusTimeout&&!this.$clickSelection&&!st.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(_);return}return this.captureMouse(_),this.startSelect(et,_.domEvent._clicks>1),_.preventDefault()},this.startSelect=function(_,$){_=_||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var et=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?et.selection.selectToPosition(_):$||et.selection.moveToPosition(_),$||this.select(),et.renderer.scroller.setCapture&&et.renderer.scroller.setCapture(),et.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var _,$=this.editor,et=$.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var st=this.$clickSelection.comparePoint(et);if(st==-1)_=this.$clickSelection.end;else if(st==1)_=this.$clickSelection.start;else{var lt=j(this.$clickSelection,et);et=lt.cursor,_=lt.anchor}$.selection.setSelectionAnchor(_.row,_.column)}$.selection.selectToPosition(et),$.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(_){var $,et=this.editor,st=et.renderer.screenToTextCoordinates(this.x,this.y),lt=et.selection[_](st.row,st.column);if(this.$clickSelection){var ft=this.$clickSelection.comparePoint(lt.start),gt=this.$clickSelection.comparePoint(lt.end);if(ft==-1&&gt<=0)$=this.$clickSelection.end,(lt.end.row!=st.row||lt.end.column!=st.column)&&(st=lt.start);else if(gt==1&&ft>=0)$=this.$clickSelection.start,(lt.start.row!=st.row||lt.start.column!=st.column)&&(st=lt.end);else if(ft==-1&&gt==1)st=lt.end,$=lt.start;else{var ut=j(this.$clickSelection,st);st=ut.cursor,$=ut.anchor}et.selection.setSelectionAnchor($.row,$.column)}et.selection.selectToPosition(st),et.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var _=nt(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),$=Date.now();(_>at||$-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(_){var $=_.getDocumentPosition(),et=this.editor,st=et.session,lt=st.getBracketRange($);lt?(lt.isEmpty()&&(lt.start.column--,lt.end.column++),this.setState("select")):(lt=et.selection.getWordRange($.row,$.column),this.setState("selectByWords")),this.$clickSelection=lt,this.select()},this.onTripleClick=function(_){var $=_.getDocumentPosition(),et=this.editor;this.setState("selectByLines");var st=et.getSelectionRange();st.isMultiLine()&&st.contains($.row,$.column)?(this.$clickSelection=et.selection.getLineRange(st.start.row),this.$clickSelection.end=et.selection.getLineRange(st.end.row).end):this.$clickSelection=et.selection.getLineRange($.row),this.select()},this.onQuadClick=function(_){var $=this.editor;$.selectAll(),this.$clickSelection=$.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(_){if(!_.getAccelKey()){_.getShiftKey()&&_.wheelY&&!_.wheelX&&(_.wheelX=_.wheelY,_.wheelY=0);var $=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var et=this.$lastScroll,st=_.domEvent.timeStamp,lt=st-et.t,ft=lt?_.wheelX/lt:et.vx,gt=lt?_.wheelY/lt:et.vy;lt<ot&&(ft=(ft+et.vx)/2,gt=(gt+et.vy)/2);var ut=Math.abs(ft/gt),pt=!1;if(ut>=1&&$.renderer.isScrollableBy(_.wheelX*_.speed,0)&&(pt=!0),ut<=1&&$.renderer.isScrollableBy(0,_.wheelY*_.speed)&&(pt=!0),pt)et.allowed=st;else if(st-et.allowed<ot){var vt=Math.abs(ft)<=1.5*Math.abs(et.vx)&&Math.abs(gt)<=1.5*Math.abs(et.vy);vt?(pt=!0,et.allowed=st):et.allowed=0}if(et.t=st,et.vx=ft,et.vy=gt,pt)return $.renderer.scrollBy(_.wheelX*_.speed,_.wheelY*_.speed),_.stop()}}}).call(rt.prototype),o.DefaultHandlers=rt;function nt(_,$,et,st){return Math.sqrt(Math.pow(et-_,2)+Math.pow(st-$,2))}function j(_,$){if(_.start.row==_.end.row)var et=2*$.column-_.start.column-_.end.column;else if(_.start.row==_.end.row-1&&!_.start.column&&!_.end.column)var et=$.column-4;else var et=2*$.row-_.start.row-_.end.row;return et<0?{cursor:_.start,anchor:_.end}:{cursor:_.end,anchor:_.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(a,o,it){a("./lib/oop");var tt=a("./lib/dom"),at="ace_tooltip";function ot(rt){this.isOpen=!1,this.$element=null,this.$parentNode=rt}(function(){this.$init=function(){return this.$element=tt.createElement("div"),this.$element.className=at,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(rt){this.getElement().textContent=rt},this.setHtml=function(rt){this.getElement().innerHTML=rt},this.setPosition=function(rt,nt){this.getElement().style.left=rt+"px",this.getElement().style.top=nt+"px"},this.setClassName=function(rt){tt.addCssClass(this.getElement(),rt)},this.show=function(rt,nt,j){rt!=null&&this.setText(rt),nt!=null&&j!=null&&this.setPosition(nt,j),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=at,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(ot.prototype),o.Tooltip=ot}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(a,o,it){var tt=a("../lib/dom"),at=a("../lib/oop"),ot=a("../lib/event"),rt=a("../tooltip").Tooltip;function nt(_){var $=_.editor,et=$.renderer.$gutterLayer,st=new j($.container);_.editor.setDefaultHandler("guttermousedown",function(dt){if(!(!$.isFocused()||dt.getButton()!=0)){var mt=et.getRegion(dt);if(mt!="foldWidgets"){var Tt=dt.getDocumentPosition().row,yt=$.session.selection;if(dt.getShiftKey())yt.selectTo(Tt,0);else{if(dt.domEvent.detail==2)return $.selectAll(),dt.preventDefault();_.$clickSelection=$.selection.getLineRange(Tt)}return _.setState("selectByLines"),_.captureMouse(dt),dt.preventDefault()}}});var lt,ft,gt;function ut(){var dt=ft.getDocumentPosition().row,mt=et.$annotations[dt];if(!mt)return pt();var Tt=$.session.getLength();if(dt==Tt){var yt=$.renderer.pixelToScreenCoordinates(0,ft.y).row,ht=ft.$pos;if(yt>$.session.documentToScreenRow(ht.row,ht.column))return pt()}if(gt!=mt){gt=mt.text.join("<br/>"),st.setHtml(gt);var xt=mt.className;if(xt&&st.setClassName(xt.trim()),st.show(),$._signal("showGutterTooltip",st),$.on("mousewheel",pt),_.$tooltipFollowsMouse)vt(ft);else{var wt=ft.domEvent.target,kt=wt.getBoundingClientRect(),Ct=st.getElement().style;Ct.left=kt.right+"px",Ct.top=kt.bottom+"px"}}}function pt(){lt&&(lt=clearTimeout(lt)),gt&&(st.hide(),gt=null,$._signal("hideGutterTooltip",st),$.off("mousewheel",pt))}function vt(dt){st.setPosition(dt.x,dt.y)}_.editor.setDefaultHandler("guttermousemove",function(dt){var mt=dt.domEvent.target||dt.domEvent.srcElement;if(tt.hasCssClass(mt,"ace_fold-widget"))return pt();gt&&_.$tooltipFollowsMouse&&vt(dt),ft=dt,!lt&&(lt=setTimeout(function(){lt=null,ft&&!_.isMousePressed?ut():pt()},50))}),ot.addListener($.renderer.$gutter,"mouseout",function(dt){ft=null,!(!gt||lt)&&(lt=setTimeout(function(){lt=null,pt()},50))},$),$.on("changeSession",pt)}function j(_){rt.call(this,_)}at.inherits(j,rt),function(){this.setPosition=function(_,$){var et=window.innerWidth||document.documentElement.clientWidth,st=window.innerHeight||document.documentElement.clientHeight,lt=this.getWidth(),ft=this.getHeight();_+=15,$+=15,_+lt>et&&(_-=_+lt-et),$+ft>st&&($-=20+ft),rt.prototype.setPosition.call(this,_,$)}}.call(j.prototype),o.GutterHandler=nt}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,o,it){var tt=a("../lib/event"),at=a("../lib/useragent"),ot=o.MouseEvent=function(rt,nt){this.domEvent=rt,this.editor=nt,this.x=this.clientX=rt.clientX,this.y=this.clientY=rt.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){tt.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){tt.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var rt=this.editor,nt=rt.getSelectionRange();if(nt.isEmpty())this.$inSelection=!1;else{var j=this.getDocumentPosition();this.$inSelection=nt.contains(j.row,j.column)}return this.$inSelection},this.getButton=function(){return tt.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=at.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(ot.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(a,o,it){var tt=a("../lib/dom"),at=a("../lib/event"),ot=a("../lib/useragent"),rt=200,nt=200,j=5;function _(et){var st=et.editor,lt=tt.createElement("div");lt.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",lt.textContent="\xA0";var ft=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ft.forEach(function(Vt){et[Vt]=this[Vt]},this),st.on("mousedown",this.onMouseDown.bind(et));var gt=st.container,ut,pt,vt,dt,mt,Tt,yt=0,ht,xt,wt,kt,Ct;this.onDragStart=function(Vt){if(this.cancelDrag||!gt.draggable){var en=this;return setTimeout(function(){en.startSelect(),en.captureMouse(Vt)},0),Vt.preventDefault()}mt=st.getSelectionRange();var ln=Vt.dataTransfer;ln.effectAllowed=st.getReadOnly()?"copy":"copyMove",st.container.appendChild(lt),ln.setDragImage&&ln.setDragImage(lt,0,0),setTimeout(function(){st.container.removeChild(lt)}),ln.clearData(),ln.setData("Text",st.session.getTextRange()),xt=!0,this.setState("drag")},this.onDragEnd=function(Vt){if(gt.draggable=!1,xt=!1,this.setState(null),!st.getReadOnly()){var en=Vt.dataTransfer.dropEffect;!ht&&en=="move"&&st.session.remove(st.getSelectionRange()),st.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Vt){if(!(st.getReadOnly()||!rn(Vt.dataTransfer)))return pt=Vt.clientX,vt=Vt.clientY,ut||Wt(),yt++,Vt.dataTransfer.dropEffect=ht=jt(Vt),at.preventDefault(Vt)},this.onDragOver=function(Vt){if(!(st.getReadOnly()||!rn(Vt.dataTransfer)))return pt=Vt.clientX,vt=Vt.clientY,ut||(Wt(),yt++),Ot!==null&&(Ot=null),Vt.dataTransfer.dropEffect=ht=jt(Vt),at.preventDefault(Vt)},this.onDragLeave=function(Vt){if(yt--,yt<=0&&ut)return Pt(),ht=null,at.preventDefault(Vt)},this.onDrop=function(Vt){if(!!Tt){var en=Vt.dataTransfer;if(xt)switch(ht){case"move":mt.contains(Tt.row,Tt.column)?mt={start:Tt,end:Tt}:mt=st.moveText(mt,Tt);break;case"copy":mt=st.moveText(mt,Tt,!0);break}else{var ln=en.getData("Text");mt={start:Tt,end:st.session.insert(Tt,ln)},st.focus(),ht=null}return Pt(),at.preventDefault(Vt)}},at.addListener(gt,"dragstart",this.onDragStart.bind(et),st),at.addListener(gt,"dragend",this.onDragEnd.bind(et),st),at.addListener(gt,"dragenter",this.onDragEnter.bind(et),st),at.addListener(gt,"dragover",this.onDragOver.bind(et),st),at.addListener(gt,"dragleave",this.onDragLeave.bind(et),st),at.addListener(gt,"drop",this.onDrop.bind(et),st);function Rt(Vt,en){var ln=Date.now(),nn=!en||Vt.row!=en.row,_n=!en||Vt.column!=en.column;if(!kt||nn||_n)st.moveCursorToPosition(Vt),kt=ln,Ct={x:pt,y:vt};else{var fn=$(Ct.x,Ct.y,pt,vt);fn>j?kt=null:ln-kt>=nt&&(st.renderer.scrollCursorIntoView(),kt=null)}}function Lt(Vt,en){var ln=Date.now(),nn=st.renderer.layerConfig.lineHeight,_n=st.renderer.layerConfig.characterWidth,fn=st.renderer.scroller.getBoundingClientRect(),wn={x:{left:pt-fn.left,right:fn.right-pt},y:{top:vt-fn.top,bottom:fn.bottom-vt}},xn=Math.min(wn.x.left,wn.x.right),qt=Math.min(wn.y.top,wn.y.bottom),Qt={row:Vt.row,column:Vt.column};xn/_n<=2&&(Qt.column+=wn.x.left<wn.x.right?-3:2),qt/nn<=1&&(Qt.row+=wn.y.top<wn.y.bottom?-1:1);var Gt=Vt.row!=Qt.row,cn=Vt.column!=Qt.column,kn=!en||Vt.row!=en.row;Gt||cn&&!kn?wt?ln-wt>=rt&&st.renderer.scrollCursorIntoView(Qt):wt=ln:wt=null}function Mt(){var Vt=Tt;Tt=st.renderer.screenToTextCoordinates(pt,vt),Rt(Tt,Vt),Lt(Tt,Vt)}function Wt(){mt=st.selection.toOrientedRange(),ut=st.session.addMarker(mt,"ace_selection",st.getSelectionStyle()),st.clearSelection(),st.isFocused()&&st.renderer.$cursorLayer.setBlinking(!1),clearInterval(dt),Mt(),dt=setInterval(Mt,20),yt=0,at.addListener(document,"mousemove",Xt)}function Pt(){clearInterval(dt),st.session.removeMarker(ut),ut=null,st.selection.fromOrientedRange(mt),st.isFocused()&&!xt&&st.$resetCursorStyle(),mt=null,Tt=null,yt=0,wt=null,kt=null,at.removeListener(document,"mousemove",Xt)}var Ot=null;function Xt(){Ot==null&&(Ot=setTimeout(function(){Ot!=null&&ut&&Pt()},20))}function rn(Vt){var en=Vt.types;return!en||Array.prototype.some.call(en,function(ln){return ln=="text/plain"||ln=="Text"})}function jt(Vt){var en=["copy","copymove","all","uninitialized"],ln=["move","copymove","linkmove","all","uninitialized"],nn=ot.isMac?Vt.altKey:Vt.ctrlKey,_n="uninitialized";try{_n=Vt.dataTransfer.effectAllowed.toLowerCase()}catch{}var fn="none";return nn&&en.indexOf(_n)>=0?fn="copy":ln.indexOf(_n)>=0?fn="move":en.indexOf(_n)>=0&&(fn="copy"),fn}}(function(){this.dragWait=function(){var et=Date.now()-this.mousedownEvent.time;et>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var et=this.editor.container;et.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(et){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var et=this.editor,st=et.container;st.draggable=!0,et.renderer.$cursorLayer.setBlinking(!1),et.setStyle("ace_dragging");var lt=ot.isWin?"default":"move";et.renderer.setCursorStyle(lt),this.setState("dragReady")},this.onMouseDrag=function(et){var st=this.editor.container;if(ot.isIE&&this.state=="dragReady"){var lt=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);lt>3&&st.dragDrop()}if(this.state==="dragWait"){var lt=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);lt>0&&(st.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(et){if(!!this.$dragEnabled){this.mousedownEvent=et;var st=this.editor,lt=et.inSelection(),ft=et.getButton(),gt=et.domEvent.detail||1;if(gt===1&&ft===0&&lt){if(et.editor.inMultiSelectMode&&(et.getAccelKey()||et.getShiftKey()))return;this.mousedownEvent.time=Date.now();var ut=et.domEvent.target||et.domEvent.srcElement;if("unselectable"in ut&&(ut.unselectable="on"),st.getDragDelay()){if(ot.isWebKit){this.cancelDrag=!0;var pt=st.container;pt.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(et,this.onMouseDrag.bind(this)),et.defaultPrevented=!0}}}}).call(_.prototype);function $(et,st,lt,ft){return Math.sqrt(Math.pow(lt-et,2)+Math.pow(ft-st,2))}o.DragdropHandler=_}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(a,o,it){var tt=a("./mouse_event").MouseEvent,at=a("../lib/event"),ot=a("../lib/dom");o.addTouchListeners=function(rt,nt){var j="scroll",_,$,et,st,lt,ft,gt=0,ut,pt=0,vt=0,dt=0,mt,Tt;function yt(){var Rt=window.navigator&&window.navigator.clipboard,Lt=!1,Mt=function(){var Pt=nt.getCopyText(),Ot=nt.session.getUndoManager().hasUndo();Tt.replaceChild(ot.buildDom(Lt?["span",!Pt&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Pt&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Pt&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],Rt&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Ot&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),Tt.firstChild)},Wt=function(Pt){var Ot=Pt.target.getAttribute("action");if(Ot=="more"||!Lt)return Lt=!Lt,Mt();Ot=="paste"?Rt.readText().then(function(Xt){nt.execCommand(Ot,Xt)}):Ot&&((Ot=="cut"||Ot=="copy")&&(Rt?Rt.writeText(nt.getCopyText()):document.execCommand("copy")),nt.execCommand(Ot)),Tt.firstChild.style.display="none",Lt=!1,Ot!="openCommandPallete"&&nt.focus()};Tt=ot.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Pt){j="menu",Pt.stopPropagation(),Pt.preventDefault(),nt.textInput.focus()},ontouchend:function(Pt){Pt.stopPropagation(),Pt.preventDefault(),Wt(Pt)},onclick:Wt},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],nt.container)}function ht(){Tt||yt();var Rt=nt.selection.cursor,Lt=nt.renderer.textToScreenCoordinates(Rt.row,Rt.column),Mt=nt.renderer.textToScreenCoordinates(0,0).pageX,Wt=nt.renderer.scrollLeft,Pt=nt.container.getBoundingClientRect();Tt.style.top=Lt.pageY-Pt.top-3+"px",Lt.pageX-Pt.left<Pt.width-70?(Tt.style.left="",Tt.style.right="10px"):(Tt.style.right="",Tt.style.left=Mt+Wt-Pt.left+"px"),Tt.style.display="",Tt.firstChild.style.display="none",nt.on("input",xt)}function xt(Rt){Tt&&(Tt.style.display="none"),nt.off("input",xt)}function wt(){lt=null,clearTimeout(lt);var Rt=nt.selection.getRange(),Lt=Rt.contains(ut.row,ut.column);(Rt.isEmpty()||!Lt)&&(nt.selection.moveToPosition(ut),nt.selection.selectWord()),j="wait",ht()}function kt(){lt=null,clearTimeout(lt),nt.selection.moveToPosition(ut);var Rt=pt>=2?nt.selection.getLineRange(ut.row):nt.session.getBracketRange(ut);Rt&&!Rt.isEmpty()?nt.selection.setRange(Rt):nt.selection.selectWord(),j="wait"}at.addListener(rt,"contextmenu",function(Rt){if(!!mt){var Lt=nt.textInput.getElement();Lt.focus()}},nt),at.addListener(rt,"touchstart",function(Rt){var Lt=Rt.touches;if(lt||Lt.length>1){clearTimeout(lt),lt=null,et=-1,j="zoom";return}mt=nt.$mouseHandler.isMousePressed=!0;var Mt=nt.renderer.layerConfig.lineHeight,Wt=nt.renderer.layerConfig.lineHeight,Pt=Rt.timeStamp;st=Pt;var Ot=Lt[0],Xt=Ot.clientX,rn=Ot.clientY;Math.abs(_-Xt)+Math.abs($-rn)>Mt&&(et=-1),_=Rt.clientX=Xt,$=Rt.clientY=rn,vt=dt=0;var jt=new tt(Rt,nt);if(ut=jt.getDocumentPosition(),Pt-et<500&&Lt.length==1&&!gt)pt++,Rt.preventDefault(),Rt.button=0,kt();else{pt=0;var Vt=nt.selection.cursor,en=nt.selection.isEmpty()?Vt:nt.selection.anchor,ln=nt.renderer.$cursorLayer.getPixelPosition(Vt,!0),nn=nt.renderer.$cursorLayer.getPixelPosition(en,!0),_n=nt.renderer.scroller.getBoundingClientRect(),fn=nt.renderer.layerConfig.offset,wn=nt.renderer.scrollLeft,xn=function(Gt,cn){return Gt=Gt/Wt,cn=cn/Mt-.75,Gt*Gt+cn*cn};if(Rt.clientX<_n.left){j="zoom";return}var qt=xn(Rt.clientX-_n.left-ln.left+wn,Rt.clientY-_n.top-ln.top+fn),Qt=xn(Rt.clientX-_n.left-nn.left+wn,Rt.clientY-_n.top-nn.top+fn);qt<3.5&&Qt<3.5&&(j=qt>Qt?"cursor":"anchor"),Qt<3.5?j="anchor":qt<3.5?j="cursor":j="scroll",lt=setTimeout(wt,450)}et=Pt},nt),at.addListener(rt,"touchend",function(Rt){mt=nt.$mouseHandler.isMousePressed=!1,ft&&clearInterval(ft),j=="zoom"?(j="",gt=0):lt?(nt.selection.moveToPosition(ut),gt=0,ht()):j=="scroll"?(Ct(),xt()):ht(),clearTimeout(lt),lt=null},nt),at.addListener(rt,"touchmove",function(Rt){lt&&(clearTimeout(lt),lt=null);var Lt=Rt.touches;if(!(Lt.length>1||j=="zoom")){var Mt=Lt[0],Wt=_-Mt.clientX,Pt=$-Mt.clientY;if(j=="wait")if(Wt*Wt+Pt*Pt>4)j="cursor";else return Rt.preventDefault();_=Mt.clientX,$=Mt.clientY,Rt.clientX=Mt.clientX,Rt.clientY=Mt.clientY;var Ot=Rt.timeStamp,Xt=Ot-st;if(st=Ot,j=="scroll"){var rn=new tt(Rt,nt);rn.speed=1,rn.wheelX=Wt,rn.wheelY=Pt,10*Math.abs(Wt)<Math.abs(Pt)&&(Wt=0),10*Math.abs(Pt)<Math.abs(Wt)&&(Pt=0),Xt!=0&&(vt=Wt/Xt,dt=Pt/Xt),nt._emit("mousewheel",rn),rn.propagationStopped||(vt=dt=0)}else{var jt=new tt(Rt,nt),Vt=jt.getDocumentPosition();j=="cursor"?nt.selection.moveCursorToPosition(Vt):j=="anchor"&&nt.selection.setSelectionAnchor(Vt.row,Vt.column),nt.renderer.scrollCursorIntoView(Vt),Rt.preventDefault()}}},nt);function Ct(){gt+=60,ft=setInterval(function(){gt--<=0&&(clearInterval(ft),ft=null),Math.abs(vt)<.01&&(vt=0),Math.abs(dt)<.01&&(dt=0),gt<20&&(vt=.9*vt),gt<20&&(dt=.9*dt);var Rt=nt.session.getScrollTop();nt.renderer.scrollBy(10*vt,10*dt),Rt==nt.session.getScrollTop()&&(gt=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(a,o,it){var tt=a("../lib/event"),at=a("../lib/useragent"),ot=a("./default_handlers").DefaultHandlers,rt=a("./default_gutter_handler").GutterHandler,nt=a("./mouse_event").MouseEvent,j=a("./dragdrop_handler").DragdropHandler,_=a("./touch_handler").addTouchListeners,$=a("../config"),et=function(st){var lt=this;this.editor=st,new ot(this),new rt(this),new j(this);var ft=function(pt){var vt=!document.hasFocus||!document.hasFocus()||!st.isFocused()&&document.activeElement==(st.textInput&&st.textInput.getElement());vt&&window.focus(),st.focus(),setTimeout(function(){st.isFocused()||st.focus()})},gt=st.renderer.getMouseEventTarget();tt.addListener(gt,"click",this.onMouseEvent.bind(this,"click"),st),tt.addListener(gt,"mousemove",this.onMouseMove.bind(this,"mousemove"),st),tt.addMultiMouseDownListener([gt,st.renderer.scrollBarV&&st.renderer.scrollBarV.inner,st.renderer.scrollBarH&&st.renderer.scrollBarH.inner,st.textInput&&st.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",st),tt.addMouseWheelListener(st.container,this.onMouseWheel.bind(this,"mousewheel"),st),_(st.container,st);var ut=st.renderer.$gutter;tt.addListener(ut,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),st),tt.addListener(ut,"click",this.onMouseEvent.bind(this,"gutterclick"),st),tt.addListener(ut,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),st),tt.addListener(ut,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),st),tt.addListener(gt,"mousedown",ft,st),tt.addListener(ut,"mousedown",ft,st),at.isIE&&st.renderer.scrollBarV&&(tt.addListener(st.renderer.scrollBarV.element,"mousedown",ft,st),tt.addListener(st.renderer.scrollBarH.element,"mousedown",ft,st)),st.on("mousemove",function(pt){if(!(lt.state||lt.$dragDelay||!lt.$dragEnabled)){var vt=st.renderer.screenToTextCoordinates(pt.x,pt.y),dt=st.session.selection.getRange(),mt=st.renderer;!dt.isEmpty()&&dt.insideStart(vt.row,vt.column)?mt.setCursorStyle("default"):mt.setCursorStyle("")}},st)};(function(){this.onMouseEvent=function(st,lt){!this.editor.session||this.editor._emit(st,new nt(lt,this.editor))},this.onMouseMove=function(st,lt){var ft=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!ft||!ft.length||this.editor._emit(st,new nt(lt,this.editor))},this.onMouseWheel=function(st,lt){var ft=new nt(lt,this.editor);ft.speed=this.$scrollSpeed*2,ft.wheelX=lt.wheelX,ft.wheelY=lt.wheelY,this.editor._emit(st,ft)},this.setState=function(st){this.state=st},this.captureMouse=function(st,lt){this.x=st.x,this.y=st.y,this.isMousePressed=!0;var ft=this.editor,gt=this.editor.renderer;gt.$isMousePressed=!0;var ut=this,pt=function(yt){if(!!yt){if(at.isWebKit&&!yt.which&&ut.releaseMouse)return ut.releaseMouse();ut.x=yt.clientX,ut.y=yt.clientY,lt&&lt(yt),ut.mouseEvent=new nt(yt,ut.editor),ut.$mouseMoved=!0}},vt=function(yt){ft.off("beforeEndOperation",mt),clearInterval(Tt),ft.session&&dt(),ut[ut.state+"End"]&&ut[ut.state+"End"](yt),ut.state="",ut.isMousePressed=gt.$isMousePressed=!1,gt.$keepTextAreaAtCursor&&gt.$moveTextAreaToCursor(),ut.$onCaptureMouseMove=ut.releaseMouse=null,yt&&ut.onMouseEvent("mouseup",yt),ft.endOperation()},dt=function(){ut[ut.state]&&ut[ut.state](),ut.$mouseMoved=!1};if(at.isOldIE&&st.domEvent.type=="dblclick")return setTimeout(function(){vt(st)});var mt=function(yt){!ut.releaseMouse||ft.curOp.command.name&&ft.curOp.selectionChanged&&(ut[ut.state+"End"]&&ut[ut.state+"End"](),ut.state="",ut.releaseMouse())};ft.on("beforeEndOperation",mt),ft.startOperation({command:{name:"mouse"}}),ut.$onCaptureMouseMove=pt,ut.releaseMouse=tt.capture(this.editor.container,pt,vt);var Tt=setInterval(dt,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var st=function(lt){lt&&lt.domEvent&&lt.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",st),lt&&lt.domEvent&&tt.stopEvent(lt.domEvent))}.bind(this);setTimeout(st,10),this.editor.on("nativecontextmenu",st)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(et.prototype),$.defineOptions(et.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:at.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),o.MouseHandler=et}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(a,o,it){var tt=a("../lib/dom");function at(ot){ot.on("click",function(rt){var nt=rt.getDocumentPosition(),j=ot.session,_=j.getFoldAt(nt.row,nt.column,1);_&&(rt.getAccelKey()?j.removeFold(_):j.expandFold(_),rt.stop());var $=rt.domEvent&&rt.domEvent.target;$&&tt.hasCssClass($,"ace_inline_button")&&tt.hasCssClass($,"ace_toggle_wrap")&&(j.setOption("wrap",!j.getUseWrapMode()),ot.renderer.scrollCursorIntoView())}),ot.on("gutterclick",function(rt){var nt=ot.renderer.$gutterLayer.getRegion(rt);if(nt=="foldWidgets"){var j=rt.getDocumentPosition().row,_=ot.session;_.foldWidgets&&_.foldWidgets[j]&&ot.session.onFoldWidgetClick(j,rt),ot.isFocused()||ot.focus(),rt.stop()}}),ot.on("gutterdblclick",function(rt){var nt=ot.renderer.$gutterLayer.getRegion(rt);if(nt=="foldWidgets"){var j=rt.getDocumentPosition().row,_=ot.session,$=_.getParentFoldRangeData(j,!0),et=$.range||$.firstRange;if(et){j=et.start.row;var st=_.getFoldAt(j,_.getLine(j).length,1);st?_.removeFold(st):(_.addFold("...",et),ot.renderer.scrollCursorIntoView({row:et.start.row,column:0}))}rt.stop()}})}o.FoldHandler=at}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(a,o,it){var tt=a("../lib/keys"),at=a("../lib/event"),ot=function(rt){this.$editor=rt,this.$data={editor:rt},this.$handlers=[],this.setDefaultHandler(rt.commands)};(function(){this.setDefaultHandler=function(rt){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=rt,this.addKeyboardHandler(rt,0)},this.setKeyboardHandler=function(rt){var nt=this.$handlers;if(nt[nt.length-1]!=rt){for(;nt[nt.length-1]&&nt[nt.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(nt[nt.length-1]);this.addKeyboardHandler(rt,1)}},this.addKeyboardHandler=function(rt,nt){if(!!rt){typeof rt=="function"&&!rt.handleKeyboard&&(rt.handleKeyboard=rt);var j=this.$handlers.indexOf(rt);j!=-1&&this.$handlers.splice(j,1),nt==null?this.$handlers.push(rt):this.$handlers.splice(nt,0,rt),j==-1&&rt.attach&&rt.attach(this.$editor)}},this.removeKeyboardHandler=function(rt){var nt=this.$handlers.indexOf(rt);return nt==-1?!1:(this.$handlers.splice(nt,1),rt.detach&&rt.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var rt=this.$data,nt=rt.editor;return this.$handlers.map(function(j){return j.getStatusText&&j.getStatusText(nt,rt)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(rt,nt,j,_){for(var $,et=!1,st=this.$editor.commands,lt=this.$handlers.length;lt--&&($=this.$handlers[lt].handleKeyboard(this.$data,rt,nt,j,_),!(!(!$||!$.command)&&($.command=="null"?et=!0:et=st.exec($.command,this.$editor,$.args,_),et&&_&&rt!=-1&&$.passEvent!=!0&&$.command.passEvent!=!0&&at.stopEvent(_),et))););return!et&&rt==-1&&($={command:"insertstring"},et=st.exec("insertstring",this.$editor,nt)),et&&this.$editor._signal&&this.$editor._signal("keyboardActivity",$),et},this.onCommandKey=function(rt,nt,j){var _=tt.keyCodeToString(j);return this.$callKeyboardHandlers(nt,_,j,rt)},this.onTextInput=function(rt){return this.$callKeyboardHandlers(-1,rt)}}).call(ot.prototype),o.KeyBinding=ot}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(a,o,it){var tt=0,at=0,ot=!1,rt=!1,nt=!1,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],$=0,et=1,st=0,lt=1,ft=2,gt=3,ut=4,pt=5,vt=6,dt=7,mt=8,Tt=9,yt=10,ht=11,xt=12,wt=13,kt=14,Ct=15,Rt=16,Lt=17,Mt=18,Wt=[Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,vt,pt,vt,mt,pt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,pt,pt,pt,vt,mt,ut,ut,ht,ht,ht,ut,ut,ut,ut,ut,yt,Tt,yt,Tt,Tt,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,Tt,ut,ut,ut,ut,ut,ut,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,ut,ut,ut,ut,ut,ut,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,ut,ut,ut,ut,Mt,Mt,Mt,Mt,Mt,Mt,pt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Tt,ut,ht,ht,ht,ht,ut,ut,ut,ut,st,ut,ut,Mt,ut,ut,ht,ht,ft,ft,ut,st,ut,ut,ut,ft,st,ut,ut,ut,ut,ut],Pt=[mt,mt,mt,mt,mt,mt,mt,mt,mt,mt,mt,Mt,Mt,Mt,st,lt,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,mt,pt,wt,kt,Ct,Rt,Lt,Tt,ht,ht,ht,ht,ht,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,Tt,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,mt];function Ot(Vt,en,ln,nn){var _n=tt?_:j,fn=null,wn=null,xn=null,qt=0,Qt=null,Gt=null,cn=-1,kn=null,dn=null,qn=[];if(!nn)for(kn=0,nn=[];kn<ln;kn++)nn[kn]=jt(Vt[kn]);for(at=tt,ot=!1,rt=!1,nt=!1,dn=0;dn<ln;dn++){if(fn=qt,qn[dn]=wn=rn(Vt,nn,qn,dn),qt=_n[fn][wn],Qt=qt&240,qt&=15,en[dn]=xn=_n[qt][5],Qt>0)if(Qt==16){for(kn=cn;kn<dn;kn++)en[kn]=1;cn=-1}else cn=-1;if(Gt=_n[qt][6],Gt)cn==-1&&(cn=dn);else if(cn>-1){for(kn=cn;kn<dn;kn++)en[kn]=xn;cn=-1}nn[dn]==pt&&(en[dn]=0),at|=xn}if(nt){for(kn=0;kn<ln;kn++)if(nn[kn]==vt){en[kn]=tt;for(var ur=kn-1;ur>=0&&nn[ur]==mt;ur--)en[ur]=tt}}}function Xt(Vt,en,ln){if(!(at<Vt)){if(Vt==1&&tt==et&&!rt){ln.reverse();return}for(var nn=ln.length,_n=0,fn,wn,xn,qt;_n<nn;){if(en[_n]>=Vt){for(fn=_n+1;fn<nn&&en[fn]>=Vt;)fn++;for(wn=_n,xn=fn-1;wn<xn;wn++,xn--)qt=ln[wn],ln[wn]=ln[xn],ln[xn]=qt;_n=fn}_n++}}}function rn(Vt,en,ln,nn){var _n=en[nn],fn,wn,xn,qt;switch(_n){case st:case lt:ot=!1;case ut:case gt:return _n;case ft:return ot?gt:ft;case dt:return ot=!0,lt;case mt:return ut;case Tt:return nn<1||nn+1>=en.length||(fn=ln[nn-1])!=ft&&fn!=gt||(wn=en[nn+1])!=ft&&wn!=gt?ut:(ot&&(wn=gt),wn==fn?wn:ut);case yt:return fn=nn>0?ln[nn-1]:pt,fn==ft&&nn+1<en.length&&en[nn+1]==ft?ft:ut;case ht:if(nn>0&&ln[nn-1]==ft)return ft;if(ot)return ut;for(qt=nn+1,xn=en.length;qt<xn&&en[qt]==ht;)qt++;return qt<xn&&en[qt]==ft?ft:ut;case xt:for(xn=en.length,qt=nn+1;qt<xn&&en[qt]==xt;)qt++;if(qt<xn){var Qt=Vt[nn],Gt=Qt>=1425&&Qt<=2303||Qt==64286;if(fn=en[qt],Gt&&(fn==lt||fn==dt))return lt}return nn<1||(fn=en[nn-1])==pt?ut:ln[nn-1];case pt:return ot=!1,rt=!0,tt;case vt:return nt=!0,ut;case wt:case kt:case Rt:case Lt:case Ct:ot=!1;case Mt:return ut}}function jt(Vt){var en=Vt.charCodeAt(0),ln=en>>8;return ln==0?en>191?st:Wt[en]:ln==5?/[\u0591-\u05f4]/.test(Vt)?lt:st:ln==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Vt)?xt:/[\u0660-\u0669\u066b-\u066c]/.test(Vt)?gt:en==1642?ht:/[\u06f0-\u06f9]/.test(Vt)?ft:dt:ln==32&&en<=8287?Pt[en&255]:ln==254&&en>=65136?dt:ut}o.L=st,o.R=lt,o.EN=ft,o.ON_R=3,o.AN=4,o.R_H=5,o.B=6,o.RLE=7,o.DOT="\xB7",o.doBidiReorder=function(Vt,en,ln){if(Vt.length<2)return{};var nn=Vt.split(""),_n=new Array(nn.length),fn=new Array(nn.length),wn=[];tt=ln?et:$,Ot(nn,wn,nn.length,en);for(var xn=0;xn<_n.length;_n[xn]=xn,xn++);Xt(2,wn,_n),Xt(1,wn,_n);for(var xn=0;xn<_n.length-1;xn++)en[xn]===gt?wn[xn]=o.AN:wn[xn]===lt&&(en[xn]>dt&&en[xn]<wt||en[xn]===ut||en[xn]===Mt)?wn[xn]=o.ON_R:xn>0&&nn[xn-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(nn[xn])&&(wn[xn-1]=wn[xn]=o.R_H,xn++);nn[nn.length-1]===o.DOT&&(wn[nn.length-1]=o.B),nn[0]==="\u202B"&&(wn[0]=o.RLE);for(var xn=0;xn<_n.length;xn++)fn[xn]=wn[_n[xn]];return{logicalFromVisual:_n,bidiLevels:fn}},o.hasBidiCharacters=function(Vt,en){for(var ln=!1,nn=0;nn<Vt.length;nn++)en[nn]=jt(Vt.charAt(nn)),!ln&&(en[nn]==lt||en[nn]==dt||en[nn]==gt)&&(ln=!0);return ln},o.getVisualFromLogicalIdx=function(Vt,en){for(var ln=0;ln<en.logicalFromVisual.length;ln++)if(en.logicalFromVisual[ln]==Vt)return ln;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(a,o,it){var tt=a("./lib/bidiutil"),at=a("./lib/lang"),ot=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,rt=function(nt){this.session=nt,this.bidiMap={},this.currentRow=null,this.bidiUtil=tt,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=ot.test(nt.getValue())};(function(){this.isBidiRow=function(nt,j,_){return this.seenBidi?(nt!==this.currentRow&&(this.currentRow=nt,this.updateRowLine(j,_),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(nt){this.seenBidi?this.currentRow=null:nt.action=="insert"&&ot.test(nt.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var nt=0,j=this.session.$screenRowCache;if(j.length){var _=this.session.$getRowCacheIndex(j,this.currentRow);_>=0&&(nt=this.session.$docRowCache[_])}return nt},this.getSplitIndex=function(){var nt=0,j=this.session.$screenRowCache;if(j.length)for(var _,$=this.session.$getRowCacheIndex(j,this.currentRow);this.currentRow-nt>0&&(_=this.session.$getRowCacheIndex(j,this.currentRow-nt-1),_===$);)$=_,nt++;else nt=this.currentRow;return nt},this.updateRowLine=function(nt,j){nt===void 0&&(nt=this.getDocumentRow());var _=nt===this.session.getLength()-1,$=_?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(nt),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var et=this.session.$wrapData[nt];et&&(j===void 0&&(j=this.getSplitIndex()),j>0&&et.length?(this.wrapIndent=et.indent,this.wrapOffset=this.wrapIndent*this.charWidths[tt.L],this.line=j<et.length?this.line.substring(et[j-1],et[j]):this.line.substring(et[et.length-1])):this.line=this.line.substring(0,et[j]),j==et.length&&(this.line+=this.showInvisibles?$:tt.DOT))}else this.line+=this.showInvisibles?$:tt.DOT;var st=this.session,lt=0,ft;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(gt,ut){return gt==="	"||st.isFullWidth(gt.charCodeAt(0))?(ft=gt==="	"?st.getScreenTabSize(ut+lt):2,lt+=ft-1,at.stringRepeat(tt.DOT,ft)):gt}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==tt.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var nt=[];tt.hasBidiCharacters(this.line,nt)||this.isRtlDir?this.bidiMap=tt.doBidiReorder(this.line,nt,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(nt){if(this.characterWidth!==nt.$characterSize.width){this.fontMetrics=nt;var j=this.characterWidth=nt.$characterSize.width,_=nt.$measureCharWidth("\u05D4");this.charWidths[tt.L]=this.charWidths[tt.EN]=this.charWidths[tt.ON_R]=j,this.charWidths[tt.R]=this.charWidths[tt.AN]=_,this.charWidths[tt.R_H]=_*.45,this.charWidths[tt.B]=this.charWidths[tt.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(nt){this.showInvisibles=nt,this.currentRow=null},this.setEolChar=function(nt){this.EOL=nt},this.setContentWidth=function(nt){this.contentWidth=nt},this.isRtlLine=function(nt){return this.$isRtl?!0:nt!=null?this.session.getLine(nt).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(nt,j){for(var _=nt.getCursorPosition(),$=nt.selection.getSelectionAnchor().row;$<=_.row;$++)!j&&nt.session.getLine($).charAt(0)===nt.session.$bidiHandler.RLE?nt.session.doc.removeInLine($,0,1):j&&nt.session.getLine($).charAt(0)!==nt.session.$bidiHandler.RLE&&nt.session.doc.insert({column:0,row:$},nt.session.$bidiHandler.RLE)},this.getPosLeft=function(nt){nt-=this.wrapIndent;var j=this.line.charAt(0)===this.RLE?1:0,_=nt>j?this.session.getOverwrite()?nt:nt-1:j,$=tt.getVisualFromLogicalIdx(_,this.bidiMap),et=this.bidiMap.bidiLevels,st=0;!this.session.getOverwrite()&&nt<=j&&et[$]%2!==0&&$++;for(var lt=0;lt<$;lt++)st+=this.charWidths[et[lt]];return!this.session.getOverwrite()&&nt>j&&et[$]%2===0&&(st+=this.charWidths[et[$]]),this.wrapIndent&&(st+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(st+=this.rtlLineOffset),st},this.getSelections=function(nt,j){var _=this.bidiMap,$=_.bidiLevels,et,st=[],lt=0,ft=Math.min(nt,j)-this.wrapIndent,gt=Math.max(nt,j)-this.wrapIndent,ut=!1,pt=!1,vt=0;this.wrapIndent&&(lt+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var dt,mt=0;mt<$.length;mt++)dt=_.logicalFromVisual[mt],et=$[mt],ut=dt>=ft&&dt<gt,ut&&!pt?vt=lt:!ut&&pt&&st.push({left:vt,width:lt-vt}),lt+=this.charWidths[et],pt=ut;if(ut&&mt===$.length&&st.push({left:vt,width:lt-vt}),this.isRtlDir)for(var Tt=0;Tt<st.length;Tt++)st[Tt].left+=this.rtlLineOffset;return st},this.offsetToCol=function(_){this.isRtlDir&&(_-=this.rtlLineOffset);var j=0,_=Math.max(_,0),$=0,et=0,st=this.bidiMap.bidiLevels,lt=this.charWidths[st[et]];for(this.wrapIndent&&(_-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);_>$+lt/2;){if($+=lt,et===st.length-1){lt=0;break}lt=this.charWidths[st[++et]]}return et>0&&st[et-1]%2!==0&&st[et]%2===0?(_<$&&et--,j=this.bidiMap.logicalFromVisual[et]):et>0&&st[et-1]%2===0&&st[et]%2!==0?j=1+(_>$?this.bidiMap.logicalFromVisual[et]:this.bidiMap.logicalFromVisual[et-1]):this.isRtlDir&&et===st.length-1&&lt===0&&st[et-1]%2===0||!this.isRtlDir&&et===0&&st[et]%2!==0?j=1+this.bidiMap.logicalFromVisual[et]:(et>0&&st[et-1]%2!==0&&lt!==0&&et--,j=this.bidiMap.logicalFromVisual[et]),j===0&&this.isRtlDir&&j++,j+this.wrapIndent}}).call(rt.prototype),o.BidiHandler=rt}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(a,o,it){var tt=a("./lib/oop"),at=a("./lib/lang"),ot=a("./lib/event_emitter").EventEmitter,rt=a("./range").Range,nt=function(j){this.session=j,this.doc=j.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var _=this;this.cursor.on("change",function($){_.$cursorChanged=!0,_.$silent||_._emit("changeCursor"),!_.$isEmpty&&!_.$silent&&_._emit("changeSelection"),!_.$keepDesiredColumnOnChange&&$.old.column!=$.value.column&&(_.$desiredColumn=null)}),this.anchor.on("change",function(){_.$anchorChanged=!0,!_.$isEmpty&&!_.$silent&&_._emit("changeSelection")})};(function(){tt.implement(this,ot),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(j,_){this.$isEmpty=!1,this.anchor.setPosition(j,_)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var j=this.anchor,_=this.lead;return j.row>_.row||j.row==_.row&&j.column>_.column},this.getRange=function(){var j=this.anchor,_=this.lead;return this.$isEmpty?rt.fromPoints(_,_):this.isBackwards()?rt.fromPoints(_,j):rt.fromPoints(j,_)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(j,_){var $=_?j.end:j.start,et=_?j.start:j.end;this.$setSelection($.row,$.column,et.row,et.column)},this.$setSelection=function(j,_,$,et){if(!this.$silent){var st=this.$isEmpty,lt=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(j,_),this.cursor.setPosition($,et),this.$isEmpty=!rt.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||st!=this.$isEmpty||lt)&&this._emit("changeSelection")}},this.$moveSelection=function(j){var _=this.lead;this.$isEmpty&&this.setSelectionAnchor(_.row,_.column),j.call(this)},this.selectTo=function(j,_){this.$moveSelection(function(){this.moveCursorTo(j,_)})},this.selectToPosition=function(j){this.$moveSelection(function(){this.moveCursorToPosition(j)})},this.moveTo=function(j,_){this.clearSelection(),this.moveCursorTo(j,_)},this.moveToPosition=function(j){this.clearSelection(),this.moveCursorToPosition(j)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(j,_){if(typeof _>"u"){var $=j||this.lead;j=$.row,_=$.column}return this.session.getWordRange(j,_)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var j=this.getCursor(),_=this.session.getAWordRange(j.row,j.column);this.setSelectionRange(_)},this.getLineRange=function(j,_){var $=typeof j=="number"?j:this.lead.row,et,st=this.session.getFoldLine($);return st?($=st.start.row,et=st.end.row):et=$,_===!0?new rt($,0,et,this.session.getLine(et).length):new rt($,0,et+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(j,_,$){var et=j.column,st=j.column+_;return $<0&&(et=j.column-_,st=j.column),this.session.isTabStop(j)&&this.doc.getLine(j.row).slice(et,st).split(" ").length-1==_},this.moveCursorLeft=function(){var j=this.lead.getPosition(),_;if(_=this.session.getFoldAt(j.row,j.column,-1))this.moveCursorTo(_.start.row,_.start.column);else if(j.column===0)j.row>0&&this.moveCursorTo(j.row-1,this.doc.getLine(j.row-1).length);else{var $=this.session.getTabSize();this.wouldMoveIntoSoftTab(j,$,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-$):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var j=this.lead.getPosition(),_;if(_=this.session.getFoldAt(j.row,j.column,1))this.moveCursorTo(_.end.row,_.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var $=this.session.getTabSize(),j=this.lead;this.wouldMoveIntoSoftTab(j,$,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,$):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var j=this.lead.row,_=this.lead.column,$=this.session.documentToScreenRow(j,_),et=this.session.screenToDocumentPosition($,0),st=this.session.getDisplayLine(j,null,et.row,et.column),lt=st.match(/^\s*/);lt[0].length!=_&&!this.session.$useEmacsStyleLineStart&&(et.column+=lt[0].length),this.moveCursorToPosition(et)},this.moveCursorLineEnd=function(){var j=this.lead,_=this.session.getDocumentLastRowColumnPosition(j.row,j.column);if(this.lead.column==_.column){var $=this.session.getLine(_.row);if(_.column==$.length){var et=$.search(/\s+$/);et>0&&(_.column=et)}}this.moveCursorTo(_.row,_.column)},this.moveCursorFileEnd=function(){var j=this.doc.getLength()-1,_=this.doc.getLine(j).length;this.moveCursorTo(j,_)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var j=this.lead.row,_=this.lead.column,$=this.doc.getLine(j),et=$.substring(_);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var st=this.session.getFoldAt(j,_,1);if(st){this.moveCursorTo(st.end.row,st.end.column);return}if(this.session.nonTokenRe.exec(et)&&(_+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,et=$.substring(_)),_>=$.length){this.moveCursorTo(j,$.length),this.moveCursorRight(),j<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(et)&&(_+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(j,_)},this.moveCursorLongWordLeft=function(){var j=this.lead.row,_=this.lead.column,$;if($=this.session.getFoldAt(j,_,-1)){this.moveCursorTo($.start.row,$.start.column);return}var et=this.session.getFoldStringAt(j,_,-1);et==null&&(et=this.doc.getLine(j).substring(0,_));var st=at.stringReverse(et);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(st)&&(_-=this.session.nonTokenRe.lastIndex,st=st.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),_<=0){this.moveCursorTo(j,0),this.moveCursorLeft(),j>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(st)&&(_-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(j,_)},this.$shortWordEndIndex=function(j){var _=0,$,et=/\s/,st=this.session.tokenRe;if(st.lastIndex=0,this.session.tokenRe.exec(j))_=this.session.tokenRe.lastIndex;else{for(;($=j[_])&&et.test($);)_++;if(_<1){for(st.lastIndex=0;($=j[_])&&!st.test($);)if(st.lastIndex=0,_++,et.test($))if(_>2){_--;break}else{for(;($=j[_])&&et.test($);)_++;if(_>2)break}}}return st.lastIndex=0,_},this.moveCursorShortWordRight=function(){var j=this.lead.row,_=this.lead.column,$=this.doc.getLine(j),et=$.substring(_),st=this.session.getFoldAt(j,_,1);if(st)return this.moveCursorTo(st.end.row,st.end.column);if(_==$.length){var lt=this.doc.getLength();do j++,et=this.doc.getLine(j);while(j<lt&&/^\s*$/.test(et));/^\s+/.test(et)||(et=""),_=0}var ft=this.$shortWordEndIndex(et);this.moveCursorTo(j,_+ft)},this.moveCursorShortWordLeft=function(){var j=this.lead.row,_=this.lead.column,$;if($=this.session.getFoldAt(j,_,-1))return this.moveCursorTo($.start.row,$.start.column);var et=this.session.getLine(j).substring(0,_);if(_===0){do j--,et=this.doc.getLine(j);while(j>0&&/^\s*$/.test(et));_=et.length,/\s+$/.test(et)||(et="")}var st=at.stringReverse(et),lt=this.$shortWordEndIndex(st);return this.moveCursorTo(j,_-lt)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(j,_){var $=this.session.documentToScreenPosition(this.lead.row,this.lead.column),et;if(_===0&&(j!==0&&(this.session.$bidiHandler.isBidiRow($.row,this.lead.row)?(et=this.session.$bidiHandler.getPosLeft($.column),$.column=Math.round(et/this.session.$bidiHandler.charWidths[0])):et=$.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?$.column=this.$desiredColumn:this.$desiredColumn=$.column),j!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var st=this.session.lineWidgets[this.lead.row];j<0?j-=st.rowsAbove||0:j>0&&(j+=st.rowCount-(st.rowsAbove||0))}var lt=this.session.screenToDocumentPosition($.row+j,$.column,et);j!==0&&_===0&&lt.row===this.lead.row&&(lt.column,this.lead.column),this.moveCursorTo(lt.row,lt.column+_,_===0)},this.moveCursorToPosition=function(j){this.moveCursorTo(j.row,j.column)},this.moveCursorTo=function(j,_,$){var et=this.session.getFoldAt(j,_,1);et&&(j=et.start.row,_=et.start.column),this.$keepDesiredColumnOnChange=!0;var st=this.session.getLine(j);/[\uDC00-\uDFFF]/.test(st.charAt(_))&&st.charAt(_-1)&&(this.lead.row==j&&this.lead.column==_+1?_=_-1:_=_+1),this.lead.setPosition(j,_),this.$keepDesiredColumnOnChange=!1,$||(this.$desiredColumn=null)},this.moveCursorToScreen=function(j,_,$){var et=this.session.screenToDocumentPosition(j,_);this.moveCursorTo(et.row,et.column,$)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(j){this.setSelectionRange(j,j.cursor==j.start),this.$desiredColumn=j.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(j){var _=this.getRange();return j?(j.start.column=_.start.column,j.start.row=_.start.row,j.end.column=_.end.column,j.end.row=_.end.row):j=_,j.cursor=this.isBackwards()?j.start:j.end,j.desiredColumn=this.$desiredColumn,j},this.getRangeOfMovements=function(j){var _=this.getCursor();try{j(this);var $=this.getCursor();return rt.fromPoints(_,$)}catch{return rt.fromPoints(_,_)}finally{this.moveCursorToPosition(_)}},this.toJSON=function(){if(this.rangeCount)var j=this.ranges.map(function(_){var $=_.clone();return $.isBackwards=_.cursor==_.start,$});else{var j=this.getRange();j.isBackwards=this.isBackwards()}return j},this.fromJSON=function(j){if(j.start==null)if(this.rangeList&&j.length>1){this.toSingleRange(j[0]);for(var _=j.length;_--;){var $=rt.fromPoints(j[_].start,j[_].end);j[_].isBackwards&&($.cursor=$.start),this.addRange($,!0)}return}else j=j[0];this.rangeList&&this.toSingleRange(j),this.setSelectionRange(j,j.isBackwards)},this.isEqual=function(j){if((j.length||this.rangeCount)&&j.length!=this.rangeCount)return!1;if(!j.length||!this.ranges)return this.getRange().isEqual(j);for(var _=this.ranges.length;_--;)if(!this.ranges[_].isEqual(j[_]))return!1;return!0}}).call(nt.prototype),o.Selection=nt}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(a,o,it){var tt=a("./config"),at=2e3,ot=function(rt){this.states=rt,this.regExps={},this.matchMappings={};for(var nt in this.states){for(var j=this.states[nt],_=[],$=0,et=this.matchMappings[nt]={defaultToken:"text"},st="g",lt=[],ft=0;ft<j.length;ft++){var gt=j[ft];if(gt.defaultToken&&(et.defaultToken=gt.defaultToken),gt.caseInsensitive&&st.indexOf("i")===-1&&(st+="i"),gt.unicode&&st.indexOf("u")===-1&&(st+="u"),gt.regex!=null){gt.regex instanceof RegExp&&(gt.regex=gt.regex.toString().slice(1,-1));var ut=gt.regex,pt=new RegExp("(?:("+ut+")|(.))").exec("a").length-2;Array.isArray(gt.token)?gt.token.length==1||pt==1?gt.token=gt.token[0]:pt-1!=gt.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:gt,groupCount:pt-1}),gt.token=gt.token[0]):(gt.tokenArray=gt.token,gt.token=null,gt.onMatch=this.$arrayTokens):typeof gt.token=="function"&&!gt.onMatch&&(pt>1?gt.onMatch=this.$applyToken:gt.onMatch=gt.token),pt>1&&(/\\\d/.test(gt.regex)?ut=gt.regex.replace(/\\([0-9]+)/g,function(vt,dt){return"\\"+(parseInt(dt,10)+$+1)}):(pt=1,ut=this.removeCapturingGroups(gt.regex)),!gt.splitRegex&&typeof gt.token!="string"&&lt.push(gt)),et[$]=ft,$+=pt,_.push(ut),gt.onMatch||(gt.onMatch=null)}}_.length||(et[0]=0,_.push("$")),lt.forEach(function(vt){vt.splitRegex=this.createSplitterRegexp(vt.regex,st)},this),this.regExps[nt]=new RegExp("("+_.join(")|(")+")|($)",st)}};(function(){this.$setMaxTokenCount=function(rt){at=rt|0},this.$applyToken=function(rt){var nt=this.splitRegex.exec(rt).slice(1),j=this.token.apply(this,nt);if(typeof j=="string")return[{type:j,value:rt}];for(var _=[],$=0,et=j.length;$<et;$++)nt[$]&&(_[_.length]={type:j[$],value:nt[$]});return _},this.$arrayTokens=function(rt){if(!rt)return[];var nt=this.splitRegex.exec(rt);if(!nt)return"text";for(var j=[],_=this.tokenArray,$=0,et=_.length;$<et;$++)nt[$+1]&&(j[j.length]={type:_[$],value:nt[$+1]});return j},this.removeCapturingGroups=function(rt){var nt=rt.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(j,_){return _?"(?:":j});return nt},this.createSplitterRegexp=function(rt,nt){if(rt.indexOf("(?=")!=-1){var j=0,_=!1,$={};rt.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(et,st,lt,ft,gt,ut){return _?_=gt!="]":gt?_=!0:ft?(j==$.stack&&($.end=ut+1,$.stack=-1),j--):lt&&(j++,lt.length!=1&&($.stack=j,$.start=ut)),et}),$.end!=null&&/^\)*$/.test(rt.substr($.end))&&(rt=rt.substring(0,$.start)+rt.substr($.end))}return rt.charAt(0)!="^"&&(rt="^"+rt),rt.charAt(rt.length-1)!="$"&&(rt+="$"),new RegExp(rt,(nt||"").replace("g",""))},this.getLineTokens=function(rt,nt){if(nt&&typeof nt!="string"){var j=nt.slice(0);nt=j[0],nt==="#tmp"&&(j.shift(),nt=j.shift())}else var j=[];var _=nt||"start",$=this.states[_];$||(_="start",$=this.states[_]);var et=this.matchMappings[_],st=this.regExps[_];st.lastIndex=0;for(var lt,ft=[],gt=0,ut=0,pt={type:null,value:""};lt=st.exec(rt);){var vt=et.defaultToken,dt=null,mt=lt[0],Tt=st.lastIndex;if(Tt-mt.length>gt){var yt=rt.substring(gt,Tt-mt.length);pt.type==vt?pt.value+=yt:(pt.type&&ft.push(pt),pt={type:vt,value:yt})}for(var ht=0;ht<lt.length-2;ht++)if(lt[ht+1]!==void 0){dt=$[et[ht]],dt.onMatch?vt=dt.onMatch(mt,_,j,rt):vt=dt.token,dt.next&&(typeof dt.next=="string"?_=dt.next:_=dt.next(_,j),$=this.states[_],$||(this.reportError("state doesn't exist",_),_="start",$=this.states[_]),et=this.matchMappings[_],gt=Tt,st=this.regExps[_],st.lastIndex=Tt),dt.consumeLineEnd&&(gt=Tt);break}if(mt){if(typeof vt=="string")(!dt||dt.merge!==!1)&&pt.type===vt?pt.value+=mt:(pt.type&&ft.push(pt),pt={type:vt,value:mt});else if(vt){pt.type&&ft.push(pt),pt={type:null,value:""};for(var ht=0;ht<vt.length;ht++)ft.push(vt[ht])}}if(gt==rt.length)break;if(gt=Tt,ut++>at){for(ut>2*rt.length&&this.reportError("infinite loop with in ace tokenizer",{startState:nt,line:rt});gt<rt.length;)pt.type&&ft.push(pt),pt={value:rt.substring(gt,gt+=500),type:"overflow"};_="start",j=[];break}}return pt.type&&ft.push(pt),j.length>1&&j[0]!==_&&j.unshift("#tmp",_),{tokens:ft,state:j.length?j:_}},this.reportError=tt.reportError}).call(ot.prototype),o.Tokenizer=ot}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(a,o,it){var tt=a("../lib/lang"),at=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(nt,j){if(!j){for(var _ in nt)this.$rules[_]=nt[_];return}for(var _ in nt){for(var $=nt[_],et=0;et<$.length;et++){var st=$[et];(st.next||st.onMatch)&&(typeof st.next=="string"&&st.next.indexOf(j)!==0&&(st.next=j+st.next),st.nextState&&st.nextState.indexOf(j)!==0&&(st.nextState=j+st.nextState))}this.$rules[j+_]=$}},this.getRules=function(){return this.$rules},this.embedRules=function(nt,j,_,$,et){var st=typeof nt=="function"?new nt().getRules():nt;if($)for(var lt=0;lt<$.length;lt++)$[lt]=j+$[lt];else{$=[];for(var ft in st)$.push(j+ft)}if(this.addRules(st,j),_)for(var gt=Array.prototype[et?"push":"unshift"],lt=0;lt<$.length;lt++)gt.apply(this.$rules[$[lt]],tt.deepCopy(_));this.$embeds||(this.$embeds=[]),this.$embeds.push(j)},this.getEmbeds=function(){return this.$embeds};var ot=function(nt,j){return(nt!="start"||j.length)&&j.unshift(this.nextState,nt),this.nextState},rt=function(nt,j){return j.shift(),j.shift()||"start"};this.normalizeRules=function(){var nt=0,j=this.$rules;function _($){var et=j[$];et.processed=!0;for(var st=0;st<et.length;st++){var lt=et[st],ft=null;Array.isArray(lt)&&(ft=lt,lt={}),!lt.regex&&lt.start&&(lt.regex=lt.start,lt.next||(lt.next=[]),lt.next.push({defaultToken:lt.token},{token:lt.token+".end",regex:lt.end||lt.start,next:"pop"}),lt.token=lt.token+".start",lt.push=!0);var gt=lt.next||lt.push;if(gt&&Array.isArray(gt)){var ut=lt.stateName;ut||(ut=lt.token,typeof ut!="string"&&(ut=ut[0]||""),j[ut]&&(ut+=nt++)),j[ut]=gt,lt.next=ut,_(ut)}else gt=="pop"&&(lt.next=rt);if(lt.push&&(lt.nextState=lt.next||lt.push,lt.next=ot,delete lt.push),lt.rules)for(var pt in lt.rules)j[pt]?j[pt].push&&j[pt].push.apply(j[pt],lt.rules[pt]):j[pt]=lt.rules[pt];var vt=typeof lt=="string"?lt:lt.include;if(vt&&(Array.isArray(vt)?ft=vt.map(function(mt){return j[mt]}):ft=j[vt]),ft){var dt=[st,1].concat(ft);lt.noEscape&&(dt=dt.filter(function(mt){return!mt.next})),et.splice.apply(et,dt),st--}lt.keywordMap&&(lt.token=this.createKeywordMapper(lt.keywordMap,lt.defaultToken||"text",lt.caseInsensitive),delete lt.defaultToken)}}Object.keys(j).forEach(_,this)},this.createKeywordMapper=function(nt,j,_,$){var et=Object.create(null);return this.$keywordList=[],Object.keys(nt).forEach(function(st){for(var lt=nt[st],ft=lt.split($||"|"),gt=ft.length;gt--;){var ut=ft[gt];this.$keywordList.push(ut),_&&(ut=ut.toLowerCase()),et[ut]=st}},this),nt=null,_?function(st){return et[st.toLowerCase()]||j}:function(st){return et[st]||j}},this.getKeywords=function(){return this.$keywords}}).call(at.prototype),o.TextHighlightRules=at}),ace.define("ace/mode/behaviour",["require","exports","module"],function(a,o,it){var tt=function(){this.$behaviours={}};(function(){this.add=function(at,ot,rt){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[at]:this.$behaviours[at]={}}this.$behaviours[at][ot]=rt},this.addBehaviours=function(at){for(var ot in at)for(var rt in at[ot])this.add(ot,rt,at[ot][rt])},this.remove=function(at){this.$behaviours&&this.$behaviours[at]&&delete this.$behaviours[at]},this.inherit=function(at,ot){if(typeof at=="function")var rt=new at().getBehaviours(ot);else var rt=at.getBehaviours(ot);this.addBehaviours(rt)},this.getBehaviours=function(at){if(at){for(var ot={},rt=0;rt<at.length;rt++)this.$behaviours[at[rt]]&&(ot[at[rt]]=this.$behaviours[at[rt]]);return ot}else return this.$behaviours}}).call(tt.prototype),o.Behaviour=tt}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(a,o,it){var tt=a("./range").Range,at=function(ot,rt,nt){this.$session=ot,this.$row=rt,this.$rowTokens=ot.getTokens(rt);var j=ot.getTokenAt(rt,nt);this.$tokenIndex=j?j.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var ot;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,ot||(ot=this.$session.getLength()),this.$row>=ot)return this.$row=ot-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var ot=this.$rowTokens,rt=this.$tokenIndex,nt=ot[rt].start;if(nt!==void 0)return nt;for(nt=0;rt>0;)rt-=1,nt+=ot[rt].value.length;return nt},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var ot=this.$rowTokens[this.$tokenIndex],rt=this.getCurrentTokenColumn();return new tt(this.$row,rt,this.$row,rt+ot.value.length)}}).call(at.prototype),o.TokenIterator=at}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(a,o,it){var tt=a("../../lib/oop"),at=a("../behaviour").Behaviour,ot=a("../../token_iterator").TokenIterator,rt=a("../../lib/lang"),nt=["text","paren.rparen","rparen","paren","punctuation.operator"],j=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],_,$={},et={'"':'"',"'":"'"},st=function(gt){var ut=-1;if(gt.multiSelect&&(ut=gt.selection.index,$.rangeCount!=gt.multiSelect.rangeCount&&($={rangeCount:gt.multiSelect.rangeCount})),$[ut])return _=$[ut];_=$[ut]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},lt=function(gt,ut,pt,vt){var dt=gt.end.row-gt.start.row;return{text:pt+ut+vt,selection:[0,gt.start.column+1,dt,gt.end.column+(dt?0:1)]}},ft=function(gt){this.add("braces","insertion",function(ut,pt,vt,dt,mt){var Tt=vt.getCursorPosition(),yt=dt.doc.getLine(Tt.row);if(mt=="{"){st(vt);var ht=vt.getSelectionRange(),xt=dt.doc.getTextRange(ht);if(xt!==""&&xt!=="{"&&vt.getWrapBehavioursEnabled())return lt(ht,xt,"{","}");if(ft.isSaneInsertion(vt,dt))return/[\]\}\)]/.test(yt[Tt.column])||vt.inMultiSelectMode||gt&&gt.braces?(ft.recordAutoInsert(vt,dt,"}"),{text:"{}",selection:[1,1]}):(ft.recordMaybeInsert(vt,dt,"{"),{text:"{",selection:[1,1]})}else if(mt=="}"){st(vt);var wt=yt.substring(Tt.column,Tt.column+1);if(wt=="}"){var kt=dt.$findOpeningBracket("}",{column:Tt.column+1,row:Tt.row});if(kt!==null&&ft.isAutoInsertedClosing(Tt,yt,mt))return ft.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(mt==`
`||mt==`\r
`){st(vt);var Ct="";ft.isMaybeInsertedClosing(Tt,yt)&&(Ct=rt.stringRepeat("}",_.maybeInsertedBrackets),ft.clearMaybeInsertedClosing());var wt=yt.substring(Tt.column,Tt.column+1);if(wt==="}"){var Rt=dt.findMatchingBracket({row:Tt.row,column:Tt.column+1},"}");if(!Rt)return null;var Lt=this.$getIndent(dt.getLine(Rt.row))}else if(Ct)var Lt=this.$getIndent(yt);else{ft.clearMaybeInsertedClosing();return}var Mt=Lt+dt.getTabString();return{text:`
`+Mt+`
`+Lt+Ct,selection:[1,Mt.length,1,Mt.length]}}else ft.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(ut,pt,vt,dt,mt){var Tt=dt.doc.getTextRange(mt);if(!mt.isMultiLine()&&Tt=="{"){st(vt);var yt=dt.doc.getLine(mt.start.row),ht=yt.substring(mt.end.column,mt.end.column+1);if(ht=="}")return mt.end.column++,mt;_.maybeInsertedBrackets--}}),this.add("parens","insertion",function(ut,pt,vt,dt,mt){if(mt=="("){st(vt);var Tt=vt.getSelectionRange(),yt=dt.doc.getTextRange(Tt);if(yt!==""&&vt.getWrapBehavioursEnabled())return lt(Tt,yt,"(",")");if(ft.isSaneInsertion(vt,dt))return ft.recordAutoInsert(vt,dt,")"),{text:"()",selection:[1,1]}}else if(mt==")"){st(vt);var ht=vt.getCursorPosition(),xt=dt.doc.getLine(ht.row),wt=xt.substring(ht.column,ht.column+1);if(wt==")"){var kt=dt.$findOpeningBracket(")",{column:ht.column+1,row:ht.row});if(kt!==null&&ft.isAutoInsertedClosing(ht,xt,mt))return ft.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(ut,pt,vt,dt,mt){var Tt=dt.doc.getTextRange(mt);if(!mt.isMultiLine()&&Tt=="("){st(vt);var yt=dt.doc.getLine(mt.start.row),ht=yt.substring(mt.start.column+1,mt.start.column+2);if(ht==")")return mt.end.column++,mt}}),this.add("brackets","insertion",function(ut,pt,vt,dt,mt){if(mt=="["){st(vt);var Tt=vt.getSelectionRange(),yt=dt.doc.getTextRange(Tt);if(yt!==""&&vt.getWrapBehavioursEnabled())return lt(Tt,yt,"[","]");if(ft.isSaneInsertion(vt,dt))return ft.recordAutoInsert(vt,dt,"]"),{text:"[]",selection:[1,1]}}else if(mt=="]"){st(vt);var ht=vt.getCursorPosition(),xt=dt.doc.getLine(ht.row),wt=xt.substring(ht.column,ht.column+1);if(wt=="]"){var kt=dt.$findOpeningBracket("]",{column:ht.column+1,row:ht.row});if(kt!==null&&ft.isAutoInsertedClosing(ht,xt,mt))return ft.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(ut,pt,vt,dt,mt){var Tt=dt.doc.getTextRange(mt);if(!mt.isMultiLine()&&Tt=="["){st(vt);var yt=dt.doc.getLine(mt.start.row),ht=yt.substring(mt.start.column+1,mt.start.column+2);if(ht=="]")return mt.end.column++,mt}}),this.add("string_dquotes","insertion",function(ut,pt,vt,dt,mt){var Tt=dt.$mode.$quotes||et;if(mt.length==1&&Tt[mt]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(mt)!=-1)return;st(vt);var yt=mt,ht=vt.getSelectionRange(),xt=dt.doc.getTextRange(ht);if(xt!==""&&(xt.length!=1||!Tt[xt])&&vt.getWrapBehavioursEnabled())return lt(ht,xt,yt,yt);if(!xt){var wt=vt.getCursorPosition(),kt=dt.doc.getLine(wt.row),Ct=kt.substring(wt.column-1,wt.column),Rt=kt.substring(wt.column,wt.column+1),Lt=dt.getTokenAt(wt.row,wt.column),Mt=dt.getTokenAt(wt.row,wt.column+1);if(Ct=="\\"&&Lt&&/escape/.test(Lt.type))return null;var Wt=Lt&&/string|escape/.test(Lt.type),Pt=!Mt||/string|escape/.test(Mt.type),Ot;if(Rt==yt)Ot=Wt!==Pt,Ot&&/string\.end/.test(Mt.type)&&(Ot=!1);else{if(Wt&&!Pt||Wt&&Pt)return null;var Xt=dt.$mode.tokenRe;Xt.lastIndex=0;var rn=Xt.test(Ct);Xt.lastIndex=0;var jt=Xt.test(Ct);if(rn||jt||Rt&&!/[\s;,.})\]\\]/.test(Rt))return null;var Vt=kt[wt.column-2];if(Ct==yt&&(Vt==yt||Xt.test(Vt)))return null;Ot=!0}return{text:Ot?yt+yt:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(ut,pt,vt,dt,mt){var Tt=dt.$mode.$quotes||et,yt=dt.doc.getTextRange(mt);if(!mt.isMultiLine()&&Tt.hasOwnProperty(yt)){st(vt);var ht=dt.doc.getLine(mt.start.row),xt=ht.substring(mt.start.column+1,mt.start.column+2);if(xt==yt)return mt.end.column++,mt}})};ft.isSaneInsertion=function(gt,ut){var pt=gt.getCursorPosition(),vt=new ot(ut,pt.row,pt.column);if(!this.$matchTokenType(vt.getCurrentToken()||"text",nt)){if(/[)}\]]/.test(gt.session.getLine(pt.row)[pt.column]))return!0;var dt=new ot(ut,pt.row,pt.column+1);if(!this.$matchTokenType(dt.getCurrentToken()||"text",nt))return!1}return vt.stepForward(),vt.getCurrentTokenRow()!==pt.row||this.$matchTokenType(vt.getCurrentToken()||"text",j)},ft.$matchTokenType=function(gt,ut){return ut.indexOf(gt.type||gt)>-1},ft.recordAutoInsert=function(gt,ut,pt){var vt=gt.getCursorPosition(),dt=ut.doc.getLine(vt.row);this.isAutoInsertedClosing(vt,dt,_.autoInsertedLineEnd[0])||(_.autoInsertedBrackets=0),_.autoInsertedRow=vt.row,_.autoInsertedLineEnd=pt+dt.substr(vt.column),_.autoInsertedBrackets++},ft.recordMaybeInsert=function(gt,ut,pt){var vt=gt.getCursorPosition(),dt=ut.doc.getLine(vt.row);this.isMaybeInsertedClosing(vt,dt)||(_.maybeInsertedBrackets=0),_.maybeInsertedRow=vt.row,_.maybeInsertedLineStart=dt.substr(0,vt.column)+pt,_.maybeInsertedLineEnd=dt.substr(vt.column),_.maybeInsertedBrackets++},ft.isAutoInsertedClosing=function(gt,ut,pt){return _.autoInsertedBrackets>0&&gt.row===_.autoInsertedRow&&pt===_.autoInsertedLineEnd[0]&&ut.substr(gt.column)===_.autoInsertedLineEnd},ft.isMaybeInsertedClosing=function(gt,ut){return _.maybeInsertedBrackets>0&&gt.row===_.maybeInsertedRow&&ut.substr(gt.column)===_.maybeInsertedLineEnd&&ut.substr(0,gt.column)==_.maybeInsertedLineStart},ft.popAutoInsertedClosing=function(){_.autoInsertedLineEnd=_.autoInsertedLineEnd.substr(1),_.autoInsertedBrackets--},ft.clearMaybeInsertedClosing=function(){_&&(_.maybeInsertedBrackets=0,_.maybeInsertedRow=-1)},tt.inherits(ft,at),o.CstyleBehaviour=ft}),ace.define("ace/unicode",["require","exports","module"],function(a,o,it){for(var tt=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],at=0,ot=[],rt=0;rt<tt.length;rt+=2)ot.push(at+=tt[rt]),tt[rt+1]&&ot.push(45,at+=tt[rt+1]);o.wordChars=String.fromCharCode.apply(null,ot)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(a,o,it){var tt=a("../config"),at=a("../tokenizer").Tokenizer,ot=a("./text_highlight_rules").TextHighlightRules,rt=a("./behaviour/cstyle").CstyleBehaviour,nt=a("../unicode"),j=a("../lib/lang"),_=a("../token_iterator").TokenIterator,$=a("../range").Range,et=function(){this.HighlightRules=ot};(function(){this.$defaultBehaviour=new rt,this.tokenRe=new RegExp("^["+nt.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+nt.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new at(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(st,lt,ft,gt){var ut=lt.doc,pt=!0,vt=!0,dt=1/0,mt=lt.getTabSize(),Tt=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var xt=this.lineCommentStart.map(j.escapeRegExp).join("|"),yt=this.lineCommentStart[0];else var xt=j.escapeRegExp(this.lineCommentStart),yt=this.lineCommentStart;xt=new RegExp("^(\\s*)(?:"+xt+") ?"),Tt=lt.getUseSoftTabs();var Ct=function(jt,Vt){var en=jt.match(xt);if(!!en){var ln=en[1].length,nn=en[0].length;!Mt(jt,ln,nn)&&en[0][nn-1]==" "&&nn--,ut.removeInLine(Vt,ln,nn)}},Lt=yt+" ",kt=function(jt,Vt){(!pt||/\S/.test(jt))&&(Mt(jt,dt,dt)?ut.insertInLine({row:Vt,column:dt},Lt):ut.insertInLine({row:Vt,column:dt},yt))},Rt=function(jt,Vt){return xt.test(jt)},Mt=function(jt,Vt,en){for(var ln=0;Vt--&&jt.charAt(Vt)==" ";)ln++;if(ln%mt!=0)return!1;for(var ln=0;jt.charAt(en++)==" ";)ln++;return mt>2?ln%mt!=mt-1:ln%mt==0}}else{if(!this.blockComment)return!1;var yt=this.blockComment.start,ht=this.blockComment.end,xt=new RegExp("^(\\s*)(?:"+j.escapeRegExp(yt)+")"),wt=new RegExp("(?:"+j.escapeRegExp(ht)+")\\s*$"),kt=function(Ot,Xt){Rt(Ot,Xt)||(!pt||/\S/.test(Ot))&&(ut.insertInLine({row:Xt,column:Ot.length},ht),ut.insertInLine({row:Xt,column:dt},yt))},Ct=function(Ot,Xt){var rn;(rn=Ot.match(wt))&&ut.removeInLine(Xt,Ot.length-rn[0].length,Ot.length),(rn=Ot.match(xt))&&ut.removeInLine(Xt,rn[1].length,rn[0].length)},Rt=function(Ot,Xt){if(xt.test(Ot))return!0;for(var rn=lt.getTokens(Xt),jt=0;jt<rn.length;jt++)if(rn[jt].type==="comment")return!0}}function Wt(Ot){for(var Xt=ft;Xt<=gt;Xt++)Ot(ut.getLine(Xt),Xt)}var Pt=1/0;Wt(function(Ot,Xt){var rn=Ot.search(/\S/);rn!==-1?(rn<dt&&(dt=rn),vt&&!Rt(Ot,Xt)&&(vt=!1)):Pt>Ot.length&&(Pt=Ot.length)}),dt==1/0&&(dt=Pt,pt=!1,vt=!1),Tt&&dt%mt!=0&&(dt=Math.floor(dt/mt)*mt),Wt(vt?Ct:kt)},this.toggleBlockComment=function(st,lt,ft,gt){var ut=this.blockComment;if(!!ut){!ut.start&&ut[0]&&(ut=ut[0]);var pt=new _(lt,gt.row,gt.column),vt=pt.getCurrentToken();lt.selection;var dt=lt.selection.toOrientedRange(),mt,Tt;if(vt&&/comment/.test(vt.type)){for(var yt,ht;vt&&/comment/.test(vt.type);){var xt=vt.value.indexOf(ut.start);if(xt!=-1){var wt=pt.getCurrentTokenRow(),kt=pt.getCurrentTokenColumn()+xt;yt=new $(wt,kt,wt,kt+ut.start.length);break}vt=pt.stepBackward()}for(var pt=new _(lt,gt.row,gt.column),vt=pt.getCurrentToken();vt&&/comment/.test(vt.type);){var xt=vt.value.indexOf(ut.end);if(xt!=-1){var wt=pt.getCurrentTokenRow(),kt=pt.getCurrentTokenColumn()+xt;ht=new $(wt,kt,wt,kt+ut.end.length);break}vt=pt.stepForward()}ht&&lt.remove(ht),yt&&(lt.remove(yt),mt=yt.start.row,Tt=-ut.start.length)}else Tt=ut.start.length,mt=ft.start.row,lt.insert(ft.end,ut.end),lt.insert(ft.start,ut.start);dt.start.row==mt&&(dt.start.column+=Tt),dt.end.row==mt&&(dt.end.column+=Tt),lt.selection.fromOrientedRange(dt)}},this.getNextLineIndent=function(st,lt,ft){return this.$getIndent(lt)},this.checkOutdent=function(st,lt,ft){return!1},this.autoOutdent=function(st,lt,ft){},this.$getIndent=function(st){return st.match(/^\s*/)[0]},this.createWorker=function(st){return null},this.createModeDelegates=function(st){this.$embeds=[],this.$modes={};for(var lt in st)if(st[lt]){var ft=st[lt],gt=ft.prototype.$id,ut=tt.$modes[gt];ut||(tt.$modes[gt]=ut=new ft),tt.$modes[lt]||(tt.$modes[lt]=ut),this.$embeds.push(lt),this.$modes[lt]=ut}for(var pt=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],lt=0;lt<pt.length;lt++)(function(dt){var mt=pt[lt],Tt=dt[mt];dt[pt[lt]]=function(){return this.$delegator(mt,arguments,Tt)}})(this)},this.$delegator=function(st,lt,ft){var gt=lt[0]||"start";if(typeof gt!="string"){if(Array.isArray(gt[2])){var ut=gt[2][gt[2].length-1],pt=this.$modes[ut];if(pt)return pt[st].apply(pt,[gt[1]].concat([].slice.call(lt,1)))}gt=gt[0]||"start"}for(var vt=0;vt<this.$embeds.length;vt++)if(!!this.$modes[this.$embeds[vt]]){var dt=gt.split(this.$embeds[vt]);if(!dt[0]&&dt[1]){lt[0]=dt[1];var pt=this.$modes[this.$embeds[vt]];return pt[st].apply(pt,lt)}}var mt=ft.apply(this,lt);return ft?mt:void 0},this.transformAction=function(st,lt,ft,gt,ut){if(this.$behaviour){var pt=this.$behaviour.getBehaviours();for(var vt in pt)if(pt[vt][lt]){var dt=pt[vt][lt].apply(this,arguments);if(dt)return dt}}},this.getKeywords=function(st){if(!this.completionKeywords){var lt=this.$tokenizer.rules,ft=[];for(var gt in lt)for(var ut=lt[gt],pt=0,vt=ut.length;pt<vt;pt++)if(typeof ut[pt].token=="string")/keyword|support|storage/.test(ut[pt].token)&&ft.push(ut[pt].regex);else if(typeof ut[pt].token=="object"){for(var dt=0,mt=ut[pt].token.length;dt<mt;dt++)if(/keyword|support|storage/.test(ut[pt].token[dt])){var gt=ut[pt].regex.match(/\(.+?\)/g)[dt];ft.push(gt.substr(1,gt.length-2))}}this.completionKeywords=ft}return st?ft.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(st,lt,ft,gt){var ut=this.$keywordList||this.$createKeywordList();return ut.map(function(pt){return{name:pt,value:pt,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(et.prototype),o.Mode=et}),ace.define("ace/apply_delta",["require","exports","module"],function(a,o,it){o.applyDelta=function(tt,at,ot){var rt=at.start.row,nt=at.start.column,j=tt[rt]||"";switch(at.action){case"insert":var _=at.lines;if(_.length===1)tt[rt]=j.substring(0,nt)+at.lines[0]+j.substring(nt);else{var $=[rt,1].concat(at.lines);tt.splice.apply(tt,$),tt[rt]=j.substring(0,nt)+tt[rt],tt[rt+at.lines.length-1]+=j.substring(nt)}break;case"remove":var et=at.end.column,st=at.end.row;rt===st?tt[rt]=j.substring(0,nt)+j.substring(et):tt.splice(rt,st-rt+1,j.substring(0,nt)+tt[st].substring(et));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,o,it){var tt=a("./lib/oop"),at=a("./lib/event_emitter").EventEmitter,ot=o.Anchor=function(rt,nt,j){this.$onChange=this.onChange.bind(this),this.attach(rt),typeof j>"u"?this.setPosition(nt.row,nt.column):this.setPosition(nt,j)};(function(){tt.implement(this,at),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(j){if(!(j.start.row==j.end.row&&j.start.row!=this.row)&&!(j.start.row>this.row)){var _=nt(j,{row:this.row,column:this.column},this.$insertRight);this.setPosition(_.row,_.column,!0)}};function rt(j,_,$){var et=$?j.column<=_.column:j.column<_.column;return j.row<_.row||j.row==_.row&&et}function nt(j,_,$){var et=j.action=="insert",st=(et?1:-1)*(j.end.row-j.start.row),lt=(et?1:-1)*(j.end.column-j.start.column),ft=j.start,gt=et?ft:j.end;return rt(_,ft,$)?{row:_.row,column:_.column}:rt(gt,_,!$)?{row:_.row+st,column:_.column+(_.row==gt.row?lt:0)}:{row:ft.row,column:ft.column}}this.setPosition=function(j,_,$){var et;if($?et={row:j,column:_}:et=this.$clipPositionToDocument(j,_),!(this.row==et.row&&this.column==et.column)){var st={row:this.row,column:this.column};this.row=et.row,this.column=et.column,this._signal("change",{old:st,value:et})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(j){this.document=j||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(j,_){var $={};return j>=this.document.getLength()?($.row=Math.max(0,this.document.getLength()-1),$.column=this.document.getLine($.row).length):j<0?($.row=0,$.column=0):($.row=j,$.column=Math.min(this.document.getLine($.row).length,Math.max(0,_))),_<0&&($.column=0),$}}).call(ot.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(a,o,it){var tt=a("./lib/oop"),at=a("./apply_delta").applyDelta,ot=a("./lib/event_emitter").EventEmitter,rt=a("./range").Range,nt=a("./anchor").Anchor,j=function(_){this.$lines=[""],_.length===0?this.$lines=[""]:Array.isArray(_)?this.insertMergedLines({row:0,column:0},_):this.insert({row:0,column:0},_)};(function(){tt.implement(this,ot),this.setValue=function(_){var $=this.getLength()-1;this.remove(new rt(0,0,$,this.getLine($).length)),this.insert({row:0,column:0},_||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(_,$){return new nt(this,_,$)},"aaa".split(/a/).length===0?this.$split=function(_){return _.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(_){return _.split(/\r\n|\r|\n/)},this.$detectNewLine=function(_){var $=_.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=$?$[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(_){this.$newLineMode!==_&&(this.$newLineMode=_,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(_){return _==`\r
`||_=="\r"||_==`
`},this.getLine=function(_){return this.$lines[_]||""},this.getLines=function(_,$){return this.$lines.slice(_,$+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(_){return this.getLinesForRange(_).join(this.getNewLineCharacter())},this.getLinesForRange=function(_){var $;if(_.start.row===_.end.row)$=[this.getLine(_.start.row).substring(_.start.column,_.end.column)];else{$=this.getLines(_.start.row,_.end.row),$[0]=($[0]||"").substring(_.start.column);var et=$.length-1;_.end.row-_.start.row==et&&($[et]=$[et].substring(0,_.end.column))}return $},this.insertLines=function(_,$){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(_,$)},this.removeLines=function(_,$){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(_,$)},this.insertNewLine=function(_){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(_,["",""])},this.insert=function(_,$){return this.getLength()<=1&&this.$detectNewLine($),this.insertMergedLines(_,this.$split($))},this.insertInLine=function(_,$){var et=this.clippedPos(_.row,_.column),st=this.pos(_.row,_.column+$.length);return this.applyDelta({start:et,end:st,action:"insert",lines:[$]},!0),this.clonePos(st)},this.clippedPos=function(_,$){var et=this.getLength();_===void 0?_=et:_<0?_=0:_>=et&&(_=et-1,$=void 0);var st=this.getLine(_);return $==null&&($=st.length),$=Math.min(Math.max($,0),st.length),{row:_,column:$}},this.clonePos=function(_){return{row:_.row,column:_.column}},this.pos=function(_,$){return{row:_,column:$}},this.$clipPosition=function(_){var $=this.getLength();return _.row>=$?(_.row=Math.max(0,$-1),_.column=this.getLine($-1).length):(_.row=Math.max(0,_.row),_.column=Math.min(Math.max(_.column,0),this.getLine(_.row).length)),_},this.insertFullLines=function(_,$){_=Math.min(Math.max(_,0),this.getLength());var et=0;_<this.getLength()?($=$.concat([""]),et=0):($=[""].concat($),_--,et=this.$lines[_].length),this.insertMergedLines({row:_,column:et},$)},this.insertMergedLines=function(_,$){var et=this.clippedPos(_.row,_.column),st={row:et.row+$.length-1,column:($.length==1?et.column:0)+$[$.length-1].length};return this.applyDelta({start:et,end:st,action:"insert",lines:$}),this.clonePos(st)},this.remove=function(_){var $=this.clippedPos(_.start.row,_.start.column),et=this.clippedPos(_.end.row,_.end.column);return this.applyDelta({start:$,end:et,action:"remove",lines:this.getLinesForRange({start:$,end:et})}),this.clonePos($)},this.removeInLine=function(_,$,et){var st=this.clippedPos(_,$),lt=this.clippedPos(_,et);return this.applyDelta({start:st,end:lt,action:"remove",lines:this.getLinesForRange({start:st,end:lt})},!0),this.clonePos(st)},this.removeFullLines=function(_,$){_=Math.min(Math.max(0,_),this.getLength()-1),$=Math.min(Math.max(0,$),this.getLength()-1);var et=$==this.getLength()-1&&_>0,st=$<this.getLength()-1,lt=et?_-1:_,ft=et?this.getLine(lt).length:0,gt=st?$+1:$,ut=st?0:this.getLine(gt).length,pt=new rt(lt,ft,gt,ut),vt=this.$lines.slice(_,$+1);return this.applyDelta({start:pt.start,end:pt.end,action:"remove",lines:this.getLinesForRange(pt)}),vt},this.removeNewLine=function(_){_<this.getLength()-1&&_>=0&&this.applyDelta({start:this.pos(_,this.getLine(_).length),end:this.pos(_+1,0),action:"remove",lines:["",""]})},this.replace=function(_,$){if(_ instanceof rt||(_=rt.fromPoints(_.start,_.end)),$.length===0&&_.isEmpty())return _.start;if($==this.getTextRange(_))return _.end;this.remove(_);var et;return $?et=this.insert(_.start,$):et=_.start,et},this.applyDeltas=function(_){for(var $=0;$<_.length;$++)this.applyDelta(_[$])},this.revertDeltas=function(_){for(var $=_.length-1;$>=0;$--)this.revertDelta(_[$])},this.applyDelta=function(_,$){var et=_.action=="insert";(et?_.lines.length<=1&&!_.lines[0]:!rt.comparePoints(_.start,_.end))||(et&&_.lines.length>2e4?this.$splitAndapplyLargeDelta(_,2e4):(at(this.$lines,_,$),this._signal("change",_)))},this.$safeApplyDelta=function(_){var $=this.$lines.length;(_.action=="remove"&&_.start.row<$&&_.end.row<$||_.action=="insert"&&_.start.row<=$)&&this.applyDelta(_)},this.$splitAndapplyLargeDelta=function(_,$){for(var et=_.lines,st=et.length-$+1,lt=_.start.row,ft=_.start.column,gt=0,ut=0;gt<st;gt=ut){ut+=$-1;var pt=et.slice(gt,ut);pt.push(""),this.applyDelta({start:this.pos(lt+gt,ft),end:this.pos(lt+ut,ft=0),action:_.action,lines:pt},!0)}_.lines=et.slice(gt),_.start.row=lt+gt,_.start.column=ft,this.applyDelta(_,!0)},this.revertDelta=function(_){this.$safeApplyDelta({start:this.clonePos(_.start),end:this.clonePos(_.end),action:_.action=="insert"?"remove":"insert",lines:_.lines.slice()})},this.indexToPosition=function(_,$){for(var et=this.$lines||this.getAllLines(),st=this.getNewLineCharacter().length,lt=$||0,ft=et.length;lt<ft;lt++)if(_-=et[lt].length+st,_<0)return{row:lt,column:_+et[lt].length+st};return{row:ft-1,column:_+et[ft-1].length+st}},this.positionToIndex=function(_,$){for(var et=this.$lines||this.getAllLines(),st=this.getNewLineCharacter().length,lt=0,ft=Math.min(_.row,et.length),gt=$||0;gt<ft;++gt)lt+=et[gt].length+st;return lt+_.column}}).call(j.prototype),o.Document=j}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,o,it){var tt=a("./lib/oop"),at=a("./lib/event_emitter").EventEmitter,ot=function(rt,nt){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=rt;var j=this;this.$worker=function(){if(!!j.running){for(var _=new Date,$=j.currentLine,et=-1,st=j.doc,lt=$;j.lines[$];)$++;var ft=st.getLength(),gt=0;for(j.running=!1;$<ft;){j.$tokenizeRow($),et=$;do $++;while(j.lines[$]);if(gt++,gt%5===0&&new Date-_>20){j.running=setTimeout(j.$worker,20);break}}j.currentLine=$,et==-1&&(et=$),lt<=et&&j.fireUpdateEvent(lt,et)}}};(function(){tt.implement(this,at),this.setTokenizer=function(rt){this.tokenizer=rt,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(rt){this.doc=rt,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(rt,nt){var j={first:rt,last:nt};this._signal("update",{data:j})},this.start=function(rt){this.currentLine=Math.min(rt||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(rt){var nt=rt.start.row,j=rt.end.row-nt;if(j===0)this.lines[nt]=null;else if(rt.action=="remove")this.lines.splice(nt,j+1,null),this.states.splice(nt,j+1,null);else{var _=Array(j+1);_.unshift(nt,1),this.lines.splice.apply(this.lines,_),this.states.splice.apply(this.states,_)}this.currentLine=Math.min(nt,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(rt){return this.lines[rt]||this.$tokenizeRow(rt)},this.getState=function(rt){return this.currentLine==rt&&this.$tokenizeRow(rt),this.states[rt]||"start"},this.$tokenizeRow=function(rt){var nt=this.doc.getLine(rt),j=this.states[rt-1],_=this.tokenizer.getLineTokens(nt,j,rt);return this.states[rt]+""!=_.state+""?(this.states[rt]=_.state,this.lines[rt+1]=null,this.currentLine>rt+1&&(this.currentLine=rt+1)):this.currentLine==rt&&(this.currentLine=rt+1),this.lines[rt]=_.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(ot.prototype),o.BackgroundTokenizer=ot}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,o,it){var tt=a("./lib/lang");a("./lib/oop");var at=a("./range").Range,ot=function(rt,nt,j){this.setRegexp(rt),this.clazz=nt,this.type=j||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(rt){this.regExp+""!=rt+""&&(this.regExp=rt,this.cache=[])},this.update=function(rt,nt,j,_){if(!!this.regExp)for(var $=_.firstRow,et=_.lastRow,st={},lt=$;lt<=et;lt++){var ft=this.cache[lt];ft==null&&(ft=tt.getMatchOffsets(j.getLine(lt),this.regExp),ft.length>this.MAX_RANGES&&(ft=ft.slice(0,this.MAX_RANGES)),ft=ft.map(function(vt){return new at(lt,vt.offset,lt,vt.offset+vt.length)}),this.cache[lt]=ft.length?ft:"");for(var gt=ft.length;gt--;){var ut=ft[gt].toScreenRange(j),pt=ut.toString();st[pt]||(st[pt]=!0,nt.drawSingleLineMarker(rt,ut,this.clazz,_))}}}}).call(ot.prototype),o.SearchHighlight=ot}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(a,o,it){var tt=a("../range").Range;function at(ot,rt){this.foldData=ot,Array.isArray(rt)?this.folds=rt:rt=this.folds=[rt];var nt=rt[rt.length-1];this.range=new tt(rt[0].start.row,rt[0].start.column,nt.end.row,nt.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(j){j.setFoldLine(this)},this)}(function(){this.shiftRow=function(ot){this.start.row+=ot,this.end.row+=ot,this.folds.forEach(function(rt){rt.start.row+=ot,rt.end.row+=ot})},this.addFold=function(ot){if(ot.sameRow){if(ot.start.row<this.startRow||ot.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(ot),this.folds.sort(function(rt,nt){return-rt.range.compareEnd(nt.start.row,nt.start.column)}),this.range.compareEnd(ot.start.row,ot.start.column)>0?(this.end.row=ot.end.row,this.end.column=ot.end.column):this.range.compareStart(ot.end.row,ot.end.column)<0&&(this.start.row=ot.start.row,this.start.column=ot.start.column)}else if(ot.start.row==this.end.row)this.folds.push(ot),this.end.row=ot.end.row,this.end.column=ot.end.column;else if(ot.end.row==this.start.row)this.folds.unshift(ot),this.start.row=ot.start.row,this.start.column=ot.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");ot.foldLine=this},this.containsRow=function(ot){return ot>=this.start.row&&ot<=this.end.row},this.walk=function(ot,rt,nt){var j=0,_=this.folds,$,et,st,lt=!0;rt==null&&(rt=this.end.row,nt=this.end.column);for(var ft=0;ft<_.length;ft++){if($=_[ft],et=$.range.compareStart(rt,nt),et==-1){ot(null,rt,nt,j,lt);return}if(st=ot(null,$.start.row,$.start.column,j,lt),st=!st&&ot($.placeholder,$.start.row,$.start.column,j),st||et===0)return;lt=!$.sameRow,j=$.end.column}ot(null,rt,nt,j,lt)},this.getNextFoldTo=function(ot,rt){for(var nt,j,_=0;_<this.folds.length;_++){if(nt=this.folds[_],j=nt.range.compareEnd(ot,rt),j==-1)return{fold:nt,kind:"after"};if(j===0)return{fold:nt,kind:"inside"}}return null},this.addRemoveChars=function(ot,rt,nt){var j=this.getNextFoldTo(ot,rt),_,$;if(j){if(_=j.fold,j.kind=="inside"&&_.start.column!=rt&&_.start.row!=ot)window.console&&window.console.log(ot,rt,_);else if(_.start.row==ot){$=this.folds;var et=$.indexOf(_);for(et===0&&(this.start.column+=nt),et;et<$.length;et++){if(_=$[et],_.start.column+=nt,!_.sameRow)return;_.end.column+=nt}this.end.column+=nt}}},this.split=function(ot,rt){var nt=this.getNextFoldTo(ot,rt);if(!nt||nt.kind=="inside")return null;var j=nt.fold,_=this.folds,$=this.foldData,et=_.indexOf(j),st=_[et-1];this.end.row=st.end.row,this.end.column=st.end.column,_=_.splice(et,_.length-et);var lt=new at($,_);return $.splice($.indexOf(this)+1,0,lt),lt},this.merge=function(ot){for(var rt=ot.folds,nt=0;nt<rt.length;nt++)this.addFold(rt[nt]);var j=this.foldData;j.splice(j.indexOf(ot),1)},this.toString=function(){var ot=[this.range.toString()+": ["];return this.folds.forEach(function(rt){ot.push("  "+rt.toString())}),ot.push("]"),ot.join(`
`)},this.idxToPosition=function(ot){for(var rt=0,nt=0;nt<this.folds.length;nt++){var j=this.folds[nt];if(ot-=j.start.column-rt,ot<0)return{row:j.start.row,column:j.start.column+ot};if(ot-=j.placeholder.length,ot<0)return j.start;rt=j.end.column}return{row:this.end.row,column:this.end.column+ot}}}).call(at.prototype),o.FoldLine=at}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(a,o,it){var tt=a("./range").Range,at=tt.comparePoints,ot=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=at,this.pointIndex=function(rt,nt,j){for(var _=this.ranges,$=j||0;$<_.length;$++){var et=_[$],st=at(rt,et.end);if(!(st>0)){var lt=at(rt,et.start);return st===0?nt&&lt!==0?-$-2:$:lt>0||lt===0&&!nt?$:-$-1}}return-$-1},this.add=function(rt){var nt=!rt.isEmpty(),j=this.pointIndex(rt.start,nt);j<0&&(j=-j-1);var _=this.pointIndex(rt.end,nt,j);return _<0?_=-_-1:_++,this.ranges.splice(j,_-j,rt)},this.addList=function(rt){for(var nt=[],j=rt.length;j--;)nt.push.apply(nt,this.add(rt[j]));return nt},this.substractPoint=function(rt){var nt=this.pointIndex(rt);if(nt>=0)return this.ranges.splice(nt,1)},this.merge=function(){var rt=[],nt=this.ranges;nt=nt.sort(function(st,lt){return at(st.start,lt.start)});for(var j=nt[0],_,$=1;$<nt.length;$++){_=j,j=nt[$];var et=at(_.end,j.start);et<0||et==0&&!_.isEmpty()&&!j.isEmpty()||(at(_.end,j.end)<0&&(_.end.row=j.end.row,_.end.column=j.end.column),nt.splice($,1),rt.push(j),j=_,$--)}return this.ranges=nt,rt},this.contains=function(rt,nt){return this.pointIndex({row:rt,column:nt})>=0},this.containsPoint=function(rt){return this.pointIndex(rt)>=0},this.rangeAtPoint=function(rt){var nt=this.pointIndex(rt);if(nt>=0)return this.ranges[nt]},this.clipRows=function(rt,nt){var j=this.ranges;if(j[0].start.row>nt||j[j.length-1].start.row<rt)return[];var _=this.pointIndex({row:rt,column:0});_<0&&(_=-_-1);var $=this.pointIndex({row:nt,column:0},_);$<0&&($=-$-1);for(var et=[],st=_;st<$;st++)et.push(j[st]);return et},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(rt){this.session&&this.detach(),this.session=rt,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(rt){for(var nt=rt.start,j=rt.end,_=nt.row,$=j.row,et=this.ranges,st=0,lt=et.length;st<lt;st++){var ft=et[st];if(ft.end.row>=_)break}if(rt.action=="insert")for(var gt=$-_,ut=-nt.column+j.column;st<lt;st++){var ft=et[st];if(ft.start.row>_)break;if(ft.start.row==_&&ft.start.column>=nt.column&&(ft.start.column==nt.column&&this.$bias<=0||(ft.start.column+=ut,ft.start.row+=gt)),ft.end.row==_&&ft.end.column>=nt.column){if(ft.end.column==nt.column&&this.$bias<0)continue;ft.end.column==nt.column&&ut>0&&st<lt-1&&ft.end.column>ft.start.column&&ft.end.column==et[st+1].start.column&&(ft.end.column-=ut),ft.end.column+=ut,ft.end.row+=gt}}else for(var gt=_-$,ut=nt.column-j.column;st<lt;st++){var ft=et[st];if(ft.start.row>$)break;ft.end.row<$&&(_<ft.end.row||_==ft.end.row&&nt.column<ft.end.column)?(ft.end.row=_,ft.end.column=nt.column):ft.end.row==$?ft.end.column<=j.column?(gt||ft.end.column>nt.column)&&(ft.end.column=nt.column,ft.end.row=nt.row):(ft.end.column+=ut,ft.end.row+=gt):ft.end.row>$&&(ft.end.row+=gt),ft.start.row<$&&(_<ft.start.row||_==ft.start.row&&nt.column<ft.start.column)?(ft.start.row=_,ft.start.column=nt.column):ft.start.row==$?ft.start.column<=j.column?(gt||ft.start.column>nt.column)&&(ft.start.column=nt.column,ft.start.row=nt.row):(ft.start.column+=ut,ft.start.row+=gt):ft.start.row>$&&(ft.start.row+=gt)}if(gt!=0&&st<lt)for(;st<lt;st++){var ft=et[st];ft.start.row+=gt,ft.end.row+=gt}}}).call(ot.prototype),o.RangeList=ot}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(a,o,it){var tt=a("../range_list").RangeList,at=a("../lib/oop"),ot=o.Fold=function($,et){this.foldLine=null,this.placeholder=et,this.range=$,this.start=$.start,this.end=$.end,this.sameRow=$.start.row==$.end.row,this.subFolds=this.ranges=[]};at.inherits(ot,tt),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function($){this.foldLine=$,this.subFolds.forEach(function(et){et.setFoldLine($)})},this.clone=function(){var $=this.range.clone(),et=new ot($,this.placeholder);return this.subFolds.forEach(function(st){et.subFolds.push(st.clone())}),et.collapseChildren=this.collapseChildren,et},this.addSubFold=function($){if(!this.range.isEqual($)){nt($,this.start);for(var gt=$.start.row,ut=$.start.column,et=0,st=-1;et<this.subFolds.length&&(st=this.subFolds[et].range.compare(gt,ut),st==1);et++);var lt=this.subFolds[et],ft=0;if(st==0){if(lt.range.containsRange($))return lt.addSubFold($);ft=1}for(var gt=$.range.end.row,ut=$.range.end.column,pt=et,st=-1;pt<this.subFolds.length&&(st=this.subFolds[pt].range.compare(gt,ut),st==1);pt++);st==0&&pt++;for(var vt=this.subFolds.splice(et,pt-et,$),dt=st==0?vt.length-1:vt.length,mt=ft;mt<dt;mt++)$.addSubFold(vt[mt]);return $.setFoldLine(this.foldLine),$}},this.restoreRange=function($){return _($,this.start)}}.call(ot.prototype);function rt($,et){$.row-=et.row,$.row==0&&($.column-=et.column)}function nt($,et){rt($.start,et),rt($.end,et)}function j($,et){$.row==0&&($.column+=et.column),$.row+=et.row}function _($,et){j($.start,et),j($.end,et)}}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(a,o,it){var tt=a("../range").Range,at=a("./fold_line").FoldLine,ot=a("./fold").Fold,rt=a("../token_iterator").TokenIterator;function nt(){this.getFoldAt=function(j,_,$){var et=this.getFoldLine(j);if(!et)return null;for(var st=et.folds,lt=0;lt<st.length;lt++){var ft=st[lt].range;if(ft.contains(j,_)){if($==1&&ft.isEnd(j,_)&&!ft.isEmpty())continue;if($==-1&&ft.isStart(j,_)&&!ft.isEmpty())continue;return st[lt]}}},this.getFoldsInRange=function(j){var _=j.start,$=j.end,et=this.$foldData,st=[];_.column+=1,$.column-=1;for(var lt=0;lt<et.length;lt++){var ft=et[lt].range.compareRange(j);if(ft!=2){if(ft==-2)break;for(var gt=et[lt].folds,ut=0;ut<gt.length;ut++){var pt=gt[ut];if(ft=pt.range.compareRange(j),ft==-2)break;if(ft==2)continue;if(ft==42)break;st.push(pt)}}}return _.column-=1,$.column+=1,st},this.getFoldsInRangeList=function(j){if(Array.isArray(j)){var _=[];j.forEach(function($){_=_.concat(this.getFoldsInRange($))},this)}else var _=this.getFoldsInRange(j);return _},this.getAllFolds=function(){for(var j=[],_=this.$foldData,$=0;$<_.length;$++)for(var et=0;et<_[$].folds.length;et++)j.push(_[$].folds[et]);return j},this.getFoldStringAt=function(j,_,$,et){if(et=et||this.getFoldLine(j),!et)return null;for(var st={end:{column:0}},lt,ft,gt=0;gt<et.folds.length;gt++){ft=et.folds[gt];var ut=ft.range.compareEnd(j,_);if(ut==-1){lt=this.getLine(ft.start.row).substring(st.end.column,ft.start.column);break}else if(ut===0)return null;st=ft}return lt||(lt=this.getLine(ft.start.row).substring(st.end.column)),$==-1?lt.substring(0,_-st.end.column):$==1?lt.substring(_-st.end.column):lt},this.getFoldLine=function(j,_){var $=this.$foldData,et=0;for(_&&(et=$.indexOf(_)),et==-1&&(et=0),et;et<$.length;et++){var st=$[et];if(st.start.row<=j&&st.end.row>=j)return st;if(st.end.row>j)return null}return null},this.getNextFoldLine=function(j,_){var $=this.$foldData,et=0;for(_&&(et=$.indexOf(_)),et==-1&&(et=0),et;et<$.length;et++){var st=$[et];if(st.end.row>=j)return st}return null},this.getFoldedRowCount=function(j,_){for(var $=this.$foldData,et=_-j+1,st=0;st<$.length;st++){var lt=$[st],ft=lt.end.row,gt=lt.start.row;if(ft>=_){gt<_&&(gt>=j?et-=_-gt:et=0);break}else ft>=j&&(gt>=j?et-=ft-gt:et-=ft-j+1)}return et},this.$addFoldLine=function(j){return this.$foldData.push(j),this.$foldData.sort(function(_,$){return _.start.row-$.start.row}),j},this.addFold=function(j,_){var $=this.$foldData,et=!1,st;j instanceof ot?st=j:(st=new ot(_,j),st.collapseChildren=_.collapseChildren),this.$clipRangeToDocument(st.range);var lt=st.start.row,ft=st.start.column,gt=st.end.row,ut=st.end.column,pt=this.getFoldAt(lt,ft,1),vt=this.getFoldAt(gt,ut,-1);if(pt&&vt==pt)return pt.addSubFold(st);pt&&!pt.range.isStart(lt,ft)&&this.removeFold(pt),vt&&!vt.range.isEnd(gt,ut)&&this.removeFold(vt);var dt=this.getFoldsInRange(st.range);dt.length>0&&(this.removeFolds(dt),st.collapseChildren||dt.forEach(function(ht){st.addSubFold(ht)}));for(var mt=0;mt<$.length;mt++){var Tt=$[mt];if(gt==Tt.start.row){Tt.addFold(st),et=!0;break}else if(lt==Tt.end.row){if(Tt.addFold(st),et=!0,!st.sameRow){var yt=$[mt+1];if(yt&&yt.start.row==gt){Tt.merge(yt);break}}break}else if(gt<=Tt.start.row)break}return et||(Tt=this.$addFoldLine(new at(this.$foldData,st))),this.$useWrapMode?this.$updateWrapData(Tt.start.row,Tt.start.row):this.$updateRowLengthCache(Tt.start.row,Tt.start.row),this.$modified=!0,this._signal("changeFold",{data:st,action:"add"}),st},this.addFolds=function(j){j.forEach(function(_){this.addFold(_)},this)},this.removeFold=function(j){var _=j.foldLine,$=_.start.row,et=_.end.row,st=this.$foldData,lt=_.folds;if(lt.length==1)st.splice(st.indexOf(_),1);else if(_.range.isEnd(j.end.row,j.end.column))lt.pop(),_.end.row=lt[lt.length-1].end.row,_.end.column=lt[lt.length-1].end.column;else if(_.range.isStart(j.start.row,j.start.column))lt.shift(),_.start.row=lt[0].start.row,_.start.column=lt[0].start.column;else if(j.sameRow)lt.splice(lt.indexOf(j),1);else{var ft=_.split(j.start.row,j.start.column);lt=ft.folds,lt.shift(),ft.start.row=lt[0].start.row,ft.start.column=lt[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData($,et):this.$updateRowLengthCache($,et)),this.$modified=!0,this._signal("changeFold",{data:j,action:"remove"})},this.removeFolds=function(j){for(var _=[],$=0;$<j.length;$++)_.push(j[$]);_.forEach(function(et){this.removeFold(et)},this),this.$modified=!0},this.expandFold=function(j){this.removeFold(j),j.subFolds.forEach(function(_){j.restoreRange(_),this.addFold(_)},this),j.collapseChildren>0&&this.foldAll(j.start.row+1,j.end.row,j.collapseChildren-1),j.subFolds=[]},this.expandFolds=function(j){j.forEach(function(_){this.expandFold(_)},this)},this.unfold=function(j,_){var $,et;if(j==null)$=new tt(0,0,this.getLength(),0),_==null&&(_=!0);else if(typeof j=="number")$=new tt(j,0,j,this.getLine(j).length);else if("row"in j)$=tt.fromPoints(j,j);else{if(Array.isArray(j))return et=[],j.forEach(function(lt){et=et.concat(this.unfold(lt))},this),et;$=j}et=this.getFoldsInRangeList($);for(var st=et;et.length==1&&tt.comparePoints(et[0].start,$.start)<0&&tt.comparePoints(et[0].end,$.end)>0;)this.expandFolds(et),et=this.getFoldsInRangeList($);if(_!=!1?this.removeFolds(et):this.expandFolds(et),st.length)return st},this.isRowFolded=function(j,_){return!!this.getFoldLine(j,_)},this.getRowFoldEnd=function(j,_){var $=this.getFoldLine(j,_);return $?$.end.row:j},this.getRowFoldStart=function(j,_){var $=this.getFoldLine(j,_);return $?$.start.row:j},this.getFoldDisplayLine=function(j,_,$,et,st){et==null&&(et=j.start.row),st==null&&(st=0),_==null&&(_=j.end.row),$==null&&($=this.getLine(_).length);var lt=this.doc,ft="";return j.walk(function(gt,ut,pt,vt){if(!(ut<et)){if(ut==et){if(pt<st)return;vt=Math.max(st,vt)}gt!=null?ft+=gt:ft+=lt.getLine(ut).substring(vt,pt)}},_,$),ft},this.getDisplayLine=function(j,_,$,et){var st=this.getFoldLine(j);if(st)return this.getFoldDisplayLine(st,j,_,$,et);var lt;return lt=this.doc.getLine(j),lt.substring(et||0,_||lt.length)},this.$cloneFoldData=function(){var j=[];return j=this.$foldData.map(function(_){var $=_.folds.map(function(et){return et.clone()});return new at(j,$)}),j},this.toggleFold=function(j){var _=this.selection,$=_.getRange(),et,st;if($.isEmpty()){var lt=$.start;if(et=this.getFoldAt(lt.row,lt.column),et){this.expandFold(et);return}else(st=this.findMatchingBracket(lt))?$.comparePoint(st)==1?$.end=st:($.start=st,$.start.column++,$.end.column--):(st=this.findMatchingBracket({row:lt.row,column:lt.column+1}))?($.comparePoint(st)==1?$.end=st:$.start=st,$.start.column++):$=this.getCommentFoldRange(lt.row,lt.column)||$}else{var ft=this.getFoldsInRange($);if(j&&ft.length){this.expandFolds(ft);return}else ft.length==1&&(et=ft[0])}if(et||(et=this.getFoldAt($.start.row,$.start.column)),et&&et.range.toString()==$.toString()){this.expandFold(et);return}var gt="...";if(!$.isMultiLine()){if(gt=this.getTextRange($),gt.length<4)return;gt=gt.trim().substring(0,2)+".."}this.addFold(gt,$)},this.getCommentFoldRange=function(j,_,$){var et=new rt(this,j,_),st=et.getCurrentToken(),lt=st&&st.type;if(st&&/^comment|string/.test(lt)){lt=lt.match(/comment|string/)[0],lt=="comment"&&(lt+="|doc-start");var ft=new RegExp(lt),gt=new tt;if($!=1){do st=et.stepBackward();while(st&&ft.test(st.type)&&!/^comment.end/.test(st.type));st=et.stepForward()}if(gt.start.row=et.getCurrentTokenRow(),gt.start.column=et.getCurrentTokenColumn()+(/^comment.start/.test(st.type)?st.value.length:2),et=new rt(this,j,_),$!=-1){var ut=-1;do if(st=et.stepForward(),ut==-1){var pt=this.getState(et.$row);ft.test(pt)||(ut=et.$row)}else if(et.$row>ut)break;while(st&&ft.test(st.type)&&!/^comment.start/.test(st.type));st=et.stepBackward()}else st=et.getCurrentToken();return gt.end.row=et.getCurrentTokenRow(),gt.end.column=et.getCurrentTokenColumn(),/^comment.end/.test(st.type)||(gt.end.column+=st.value.length-2),gt}},this.foldAll=function(j,_,$,et){$==null&&($=1e5);var st=this.foldWidgets;if(!!st){_=_||this.getLength(),j=j||0;for(var lt=j;lt<_;lt++)if(st[lt]==null&&(st[lt]=this.getFoldWidget(lt)),st[lt]=="start"&&!(et&&!et(lt))){var ft=this.getFoldWidgetRange(lt);ft&&ft.isMultiLine()&&ft.end.row<=_&&ft.start.row>=j&&(lt=ft.end.row,ft.collapseChildren=$,this.addFold("...",ft))}}},this.foldToLevel=function(j){for(this.foldAll();j-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var j=this;this.foldAll(null,null,null,function(_){for(var $=j.getTokens(_),et=0;et<$.length;et++){var st=$[et];if(!(st.type=="text"&&/^\s+$/.test(st.value)))return!!/comment/.test(st.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(j){if(!this.$foldStyles[j])throw new Error("invalid fold style: "+j+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=j){this.$foldStyle=j,j=="manual"&&this.unfold();var _=this.$foldMode;this.$setFolding(null),this.$setFolding(_)}},this.$setFolding=function(j){if(this.$foldMode!=j){if(this.$foldMode=j,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!j||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=j.getFoldWidget.bind(j,this,this.$foldStyle),this.getFoldWidgetRange=j.getFoldWidgetRange.bind(j,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(j,_){var $=this.foldWidgets;if(!$||_&&$[j])return{};for(var et=j-1,st;et>=0;){var lt=$[et];if(lt==null&&(lt=$[et]=this.getFoldWidget(et)),lt=="start"){var ft=this.getFoldWidgetRange(et);if(st||(st=ft),ft&&ft.end.row>=j)break}et--}return{range:et!==-1&&ft,firstRange:st}},this.onFoldWidgetClick=function(j,_){_=_.domEvent;var $={children:_.shiftKey,all:_.ctrlKey||_.metaKey,siblings:_.altKey},et=this.$toggleFoldWidget(j,$);if(!et){var st=_.target||_.srcElement;st&&/ace_fold-widget/.test(st.className)&&(st.className+=" ace_invalid")}},this.$toggleFoldWidget=function(j,_){if(!!this.getFoldWidget){var $=this.getFoldWidget(j),et=this.getLine(j),st=$==="end"?-1:1,lt=this.getFoldAt(j,st===-1?0:et.length,st);if(lt)return _.children||_.all?this.removeFold(lt):this.expandFold(lt),lt;var ft=this.getFoldWidgetRange(j,!0);if(ft&&!ft.isMultiLine()&&(lt=this.getFoldAt(ft.start.row,ft.start.column,1),lt&&ft.isEqual(lt.range)))return this.removeFold(lt),lt;if(_.siblings){var gt=this.getParentFoldRangeData(j);if(gt.range)var ut=gt.range.start.row+1,pt=gt.range.end.row;this.foldAll(ut,pt,_.all?1e4:0)}else _.children?(pt=ft?ft.end.row:this.getLength(),this.foldAll(j+1,pt,_.all?1e4:0)):ft&&(_.all&&(ft.collapseChildren=1e4),this.addFold("...",ft));return ft}},this.toggleFoldWidget=function(j){var _=this.selection.getCursor().row;_=this.getRowFoldStart(_);var $=this.$toggleFoldWidget(_,{});if(!$){var et=this.getParentFoldRangeData(_,!0);if($=et.range||et.firstRange,$){_=$.start.row;var st=this.getFoldAt(_,this.getLine(_).length,1);st?this.removeFold(st):this.addFold("...",$)}}},this.updateFoldWidgets=function(j){var _=j.start.row,$=j.end.row-_;if($===0)this.foldWidgets[_]=null;else if(j.action=="remove")this.foldWidgets.splice(_,$+1,null);else{var et=Array($+1);et.unshift(_,1),this.foldWidgets.splice.apply(this.foldWidgets,et)}},this.tokenizerUpdateFoldWidgets=function(j){var _=j.data;_.first!=_.last&&this.foldWidgets.length>_.first&&this.foldWidgets.splice(_.first,this.foldWidgets.length)}}o.Folding=nt}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(a,o,it){var tt=a("../token_iterator").TokenIterator,at=a("../range").Range;function ot(){this.findMatchingBracket=function(rt,nt){if(rt.column==0)return null;var j=nt||this.getLine(rt.row).charAt(rt.column-1);if(j=="")return null;var _=j.match(/([\(\[\{])|([\)\]\}])/);return _?_[1]?this.$findClosingBracket(_[1],rt):this.$findOpeningBracket(_[2],rt):null},this.getBracketRange=function(rt){var nt=this.getLine(rt.row),j=!0,_,$=nt.charAt(rt.column-1),et=$&&$.match(/([\(\[\{])|([\)\]\}])/);if(et||($=nt.charAt(rt.column),rt={row:rt.row,column:rt.column+1},et=$&&$.match(/([\(\[\{])|([\)\]\}])/),j=!1),!et)return null;if(et[1]){var st=this.$findClosingBracket(et[1],rt);if(!st)return null;_=at.fromPoints(rt,st),j||(_.end.column++,_.start.column--),_.cursor=_.end}else{var st=this.$findOpeningBracket(et[2],rt);if(!st)return null;_=at.fromPoints(st,rt),j||(_.start.column++,_.end.column--),_.cursor=_.start}return _},this.getMatchingBracketRanges=function(rt,nt){var j=this.getLine(rt.row),_=/([\(\[\{])|([\)\]\}])/,$=!nt&&j.charAt(rt.column-1),et=$&&$.match(_);if(et||($=(nt===void 0||nt)&&j.charAt(rt.column),rt={row:rt.row,column:rt.column+1},et=$&&$.match(_)),!et)return null;var st=new at(rt.row,rt.column-1,rt.row,rt.column),lt=et[1]?this.$findClosingBracket(et[1],rt):this.$findOpeningBracket(et[2],rt);if(!lt)return[st];var ft=new at(lt.row,lt.column,lt.row,lt.column+1);return[st,ft]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(rt,nt,j){var _=this.$brackets[rt],$=1,et=new tt(this,nt.row,nt.column),st=et.getCurrentToken();if(st||(st=et.stepForward()),!!st){j||(j=new RegExp("(\\.?"+st.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var lt=nt.column-et.getCurrentTokenColumn()-2,ft=st.value;;){for(;lt>=0;){var gt=ft.charAt(lt);if(gt==_){if($-=1,$==0)return{row:et.getCurrentTokenRow(),column:lt+et.getCurrentTokenColumn()}}else gt==rt&&($+=1);lt-=1}do st=et.stepBackward();while(st&&!j.test(st.type));if(st==null)break;ft=st.value,lt=ft.length-1}return null}},this.$findClosingBracket=function(rt,nt,j){var _=this.$brackets[rt],$=1,et=new tt(this,nt.row,nt.column),st=et.getCurrentToken();if(st||(st=et.stepForward()),!!st){j||(j=new RegExp("(\\.?"+st.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var lt=nt.column-et.getCurrentTokenColumn();;){for(var ft=st.value,gt=ft.length;lt<gt;){var ut=ft.charAt(lt);if(ut==_){if($-=1,$==0)return{row:et.getCurrentTokenRow(),column:lt+et.getCurrentTokenColumn()}}else ut==rt&&($+=1);lt+=1}do st=et.stepForward();while(st&&!j.test(st.type));if(st==null)break;lt=0}return null}},this.getMatchingTags=function(rt){var nt=new tt(this,rt.row,rt.column),j=this.$findTagName(nt);if(!!j){var _=nt.stepBackward();return _.value==="<"?this.$findClosingTag(nt,j):this.$findOpeningTag(nt,j)}},this.$findTagName=function(rt){var nt=rt.getCurrentToken(),j=!1,_=!1;if(nt&&nt.type.indexOf("tag-name")===-1)do _?nt=rt.stepBackward():nt=rt.stepForward(),nt&&(nt.value==="/>"?_=!0:nt.type.indexOf("tag-name")!==-1&&(j=!0));while(nt&&!j);return nt},this.$findClosingTag=function(rt,nt){var j,_=nt.value,$=nt.value,et=0,st=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);nt=rt.stepForward();var lt=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+nt.value.length),ft=!1;do if(j=nt,nt=rt.stepForward(),nt){if(nt.value===">"&&!ft){var gt=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);ft=!0}if(nt.type.indexOf("tag-name")!==-1){if(_=nt.value,$===_){if(j.value==="<")et++;else if(j.value==="</"&&(et--,et<0)){rt.stepBackward();var ut=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+2);nt=rt.stepForward();var pt=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+nt.value.length);if(nt=rt.stepForward(),nt&&nt.value===">")var vt=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);else return}}}else if($===_&&nt.value==="/>"&&(et--,et<0))var ut=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+2),pt=ut,vt=pt,gt=new at(lt.end.row,lt.end.column,lt.end.row,lt.end.column+1)}while(nt&&et>=0);if(st&&gt&&ut&&vt&&lt&&pt)return{openTag:new at(st.start.row,st.start.column,gt.end.row,gt.end.column),closeTag:new at(ut.start.row,ut.start.column,vt.end.row,vt.end.column),openTagName:lt,closeTagName:pt}},this.$findOpeningTag=function(rt,nt){var j=rt.getCurrentToken(),_=nt.value,$=0,et=rt.getCurrentTokenRow(),st=rt.getCurrentTokenColumn(),lt=st+2,ft=new at(et,st,et,lt);rt.stepForward();var gt=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+nt.value.length);if(nt=rt.stepForward(),!(!nt||nt.value!==">")){var ut=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);rt.stepBackward(),rt.stepBackward();do if(nt=j,et=rt.getCurrentTokenRow(),st=rt.getCurrentTokenColumn(),lt=st+nt.value.length,j=rt.stepBackward(),nt){if(nt.type.indexOf("tag-name")!==-1){if(_===nt.value)if(j.value==="<"){if($++,$>0){var pt=new at(et,st,et,lt),vt=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1);do nt=rt.stepForward();while(nt&&nt.value!==">");var dt=new at(rt.getCurrentTokenRow(),rt.getCurrentTokenColumn(),rt.getCurrentTokenRow(),rt.getCurrentTokenColumn()+1)}}else j.value==="</"&&$--}else if(nt.value==="/>"){for(var mt=0,Tt=j;Tt;){if(Tt.type.indexOf("tag-name")!==-1&&Tt.value===_){$--;break}else if(Tt.value==="<")break;Tt=rt.stepBackward(),mt++}for(var yt=0;yt<mt;yt++)rt.stepForward()}}while(j&&$<=0);if(vt&&dt&&ft&&ut&&pt&&gt)return{openTag:new at(vt.start.row,vt.start.column,dt.end.row,dt.end.column),closeTag:new at(ft.start.row,ft.start.column,ut.end.row,ut.end.column),openTagName:pt,closeTagName:gt}}}}o.BracketMatch=ot}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(a,o,it){var tt=a("./lib/oop"),at=a("./lib/lang"),ot=a("./bidihandler").BidiHandler,rt=a("./config"),nt=a("./lib/event_emitter").EventEmitter,j=a("./selection").Selection,_=a("./mode/text").Mode,$=a("./range").Range,et=a("./document").Document,st=a("./background_tokenizer").BackgroundTokenizer,lt=a("./search_highlight").SearchHighlight,ft=function(gt,ut){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++ft.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new st(new _().getTokenizer(),this);var pt=this;this.bgTokenizer.on("update",function(vt){pt._signal("tokenizerUpdate",vt)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof gt!="object"||!gt.getLine)&&(gt=new et(gt)),this.setDocument(gt),this.selection=new j(this),this.$bidiHandler=new ot(this),rt.resetOptions(this),this.setMode(ut),rt._signal("session",this),this.destroyed=!1};ft.$uid=0,function(){tt.implement(this,nt),this.setDocument=function(xt){this.doc&&this.doc.off("change",this.$onChange),this.doc=xt,xt.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(xt){if(!xt){this.$docRowCache=[],this.$screenRowCache=[];return}var wt=this.$docRowCache.length,kt=this.$getRowCacheIndex(this.$docRowCache,xt)+1;wt>kt&&(this.$docRowCache.splice(kt,wt),this.$screenRowCache.splice(kt,wt))},this.$getRowCacheIndex=function(xt,wt){for(var kt=0,Ct=xt.length-1;kt<=Ct;){var Rt=kt+Ct>>1,Lt=xt[Rt];if(wt>Lt)kt=Rt+1;else if(wt<Lt)Ct=Rt-1;else return Rt}return kt-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(xt){var wt=xt.data;this.$resetRowCache(wt.start.row)},this.onChange=function(xt){this.$modified=!0,this.$bidiHandler.onChange(xt),this.$resetRowCache(xt.start.row);var wt=this.$updateInternalDataOnChange(xt);!this.$fromUndo&&this.$undoManager&&(wt&&wt.length&&(this.$undoManager.add({action:"removeFolds",folds:wt},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(xt,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(xt),this._signal("change",xt)},this.setValue=function(xt){this.doc.setValue(xt),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(xt){return this.bgTokenizer.getState(xt)},this.getTokens=function(xt){return this.bgTokenizer.getTokens(xt)},this.getTokenAt=function(xt,wt){var kt=this.bgTokenizer.getTokens(xt),Ct,Rt=0;if(wt==null){var Lt=kt.length-1;Rt=this.getLine(xt).length}else for(var Lt=0;Lt<kt.length&&(Rt+=kt[Lt].value.length,!(Rt>=wt));Lt++);return Ct=kt[Lt],Ct?(Ct.index=Lt,Ct.start=Rt-Ct.value.length,Ct):null},this.setUndoManager=function(xt){if(this.$undoManager=xt,this.$informUndoManager&&this.$informUndoManager.cancel(),xt){var wt=this;xt.addSession(this),this.$syncInformUndoManager=function(){wt.$informUndoManager.cancel(),wt.mergeUndoDeltas=!1},this.$informUndoManager=at.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?at.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(xt){this.setOption("useSoftTabs",xt)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(xt){this.setOption("tabSize",xt)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(xt){return this.$useSoftTabs&&xt.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(xt){this.setOption("navigateWithinSoftTabs",xt)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(xt){this.setOption("overwrite",xt)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(xt,wt){this.$decorations[xt]||(this.$decorations[xt]=""),this.$decorations[xt]+=" "+wt,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(xt,wt){this.$decorations[xt]=(this.$decorations[xt]||"").replace(" "+wt,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(xt){this.$breakpoints=[];for(var wt=0;wt<xt.length;wt++)this.$breakpoints[xt[wt]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(xt,wt){wt===void 0&&(wt="ace_breakpoint"),wt?this.$breakpoints[xt]=wt:delete this.$breakpoints[xt],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(xt){delete this.$breakpoints[xt],this._signal("changeBreakpoint",{})},this.addMarker=function(xt,wt,kt,Ct){var Rt=this.$markerId++,Lt={range:xt,type:kt||"line",renderer:typeof kt=="function"?kt:null,clazz:wt,inFront:!!Ct,id:Rt};return Ct?(this.$frontMarkers[Rt]=Lt,this._signal("changeFrontMarker")):(this.$backMarkers[Rt]=Lt,this._signal("changeBackMarker")),Rt},this.addDynamicMarker=function(xt,wt){if(!!xt.update){var kt=this.$markerId++;return xt.id=kt,xt.inFront=!!wt,wt?(this.$frontMarkers[kt]=xt,this._signal("changeFrontMarker")):(this.$backMarkers[kt]=xt,this._signal("changeBackMarker")),xt}},this.removeMarker=function(xt){var wt=this.$frontMarkers[xt]||this.$backMarkers[xt];if(!!wt){var kt=wt.inFront?this.$frontMarkers:this.$backMarkers;delete kt[xt],this._signal(wt.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(xt){return xt?this.$frontMarkers:this.$backMarkers},this.highlight=function(xt){if(!this.$searchHighlight){var wt=new lt(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(wt)}this.$searchHighlight.setRegexp(xt)},this.highlightLines=function(xt,wt,kt,Ct){typeof wt!="number"&&(kt=wt,wt=xt),kt||(kt="ace_step");var Rt=new $(xt,0,wt,1/0);return Rt.id=this.addMarker(Rt,kt,"fullLine",Ct),Rt},this.setAnnotations=function(xt){this.$annotations=xt,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(xt){var wt=xt.match(/^.*?(\r?\n)/m);wt?this.$autoNewLine=wt[1]:this.$autoNewLine=`
`},this.getWordRange=function(xt,wt){var kt=this.getLine(xt),Ct=!1;if(wt>0&&(Ct=!!kt.charAt(wt-1).match(this.tokenRe)),Ct||(Ct=!!kt.charAt(wt).match(this.tokenRe)),Ct)var Rt=this.tokenRe;else if(/^\s+$/.test(kt.slice(wt-1,wt+1)))var Rt=/\s/;else var Rt=this.nonTokenRe;var Lt=wt;if(Lt>0){do Lt--;while(Lt>=0&&kt.charAt(Lt).match(Rt));Lt++}for(var Mt=wt;Mt<kt.length&&kt.charAt(Mt).match(Rt);)Mt++;return new $(xt,Lt,xt,Mt)},this.getAWordRange=function(xt,wt){for(var kt=this.getWordRange(xt,wt),Ct=this.getLine(kt.end.row);Ct.charAt(kt.end.column).match(/[ \t]/);)kt.end.column+=1;return kt},this.setNewLineMode=function(xt){this.doc.setNewLineMode(xt)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(xt){this.setOption("useWorker",xt)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(xt){var wt=xt.data;this.bgTokenizer.start(wt.first),this._signal("tokenizerUpdate",xt)},this.$modes=rt.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(xt,wt){if(xt&&typeof xt=="object"){if(xt.getTokenizer)return this.$onChangeMode(xt);var kt=xt,Ct=kt.path}else Ct=xt||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new _),this.$modes[Ct]&&!kt){this.$onChangeMode(this.$modes[Ct]),wt&&wt();return}this.$modeId=Ct,rt.loadModule(["mode",Ct],function(Rt){if(this.$modeId!==Ct)return wt&&wt();this.$modes[Ct]&&!kt?this.$onChangeMode(this.$modes[Ct]):Rt&&Rt.Mode&&(Rt=new Rt.Mode(kt),kt||(this.$modes[Ct]=Rt,Rt.$id=Ct),this.$onChangeMode(Rt)),wt&&wt()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(xt,wt){if(wt||(this.$modeId=xt.$id),this.$mode!==xt){var kt=this.$mode;this.$mode=xt,this.$stopWorker(),this.$useWorker&&this.$startWorker();var Ct=xt.getTokenizer();if(Ct.on!==void 0){var Rt=this.onReloadTokenizer.bind(this);Ct.on("update",Rt)}this.bgTokenizer.setTokenizer(Ct),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=xt.tokenRe,this.nonTokenRe=xt.nonTokenRe,wt||(xt.attachToSession&&xt.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(xt.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:kt,mode:xt}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(xt){rt.warn("Could not load worker",xt),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(xt){this.$scrollTop===xt||isNaN(xt)||(this.$scrollTop=xt,this._signal("changeScrollTop",xt))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(xt){this.$scrollLeft===xt||isNaN(xt)||(this.$scrollLeft=xt,this._signal("changeScrollLeft",xt))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var xt=0;return this.lineWidgets.forEach(function(wt){wt&&wt.screenWidth>xt&&(xt=wt.screenWidth)}),this.lineWidgetWidth=xt},this.$computeWidth=function(xt){if(this.$modified||xt){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var wt=this.doc.getAllLines(),kt=this.$rowLengthCache,Ct=0,Rt=0,Lt=this.$foldData[Rt],Mt=Lt?Lt.start.row:1/0,Wt=wt.length,Pt=0;Pt<Wt;Pt++){if(Pt>Mt){if(Pt=Lt.end.row+1,Pt>=Wt)break;Lt=this.$foldData[Rt++],Mt=Lt?Lt.start.row:1/0}kt[Pt]==null&&(kt[Pt]=this.$getStringScreenWidth(wt[Pt])[0]),kt[Pt]>Ct&&(Ct=kt[Pt])}this.screenWidth=Ct}},this.getLine=function(xt){return this.doc.getLine(xt)},this.getLines=function(xt,wt){return this.doc.getLines(xt,wt)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(xt){return this.doc.getTextRange(xt||this.selection.getRange())},this.insert=function(xt,wt){return this.doc.insert(xt,wt)},this.remove=function(xt){return this.doc.remove(xt)},this.removeFullLines=function(xt,wt){return this.doc.removeFullLines(xt,wt)},this.undoChanges=function(xt,wt){if(!!xt.length){this.$fromUndo=!0;for(var kt=xt.length-1;kt!=-1;kt--){var Ct=xt[kt];Ct.action=="insert"||Ct.action=="remove"?this.doc.revertDelta(Ct):Ct.folds&&this.addFolds(Ct.folds)}!wt&&this.$undoSelect&&(xt.selectionBefore?this.selection.fromJSON(xt.selectionBefore):this.selection.setRange(this.$getUndoSelection(xt,!0))),this.$fromUndo=!1}},this.redoChanges=function(xt,wt){if(!!xt.length){this.$fromUndo=!0;for(var kt=0;kt<xt.length;kt++){var Ct=xt[kt];(Ct.action=="insert"||Ct.action=="remove")&&this.doc.$safeApplyDelta(Ct)}!wt&&this.$undoSelect&&(xt.selectionAfter?this.selection.fromJSON(xt.selectionAfter):this.selection.setRange(this.$getUndoSelection(xt,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(xt){this.$undoSelect=xt},this.$getUndoSelection=function(xt,wt){function kt(Wt){return wt?Wt.action!=="insert":Wt.action==="insert"}for(var Ct,Rt,Lt=0;Lt<xt.length;Lt++){var Mt=xt[Lt];if(!!Mt.start){if(!Ct){kt(Mt)?Ct=$.fromPoints(Mt.start,Mt.end):Ct=$.fromPoints(Mt.start,Mt.start);continue}kt(Mt)?(Rt=Mt.start,Ct.compare(Rt.row,Rt.column)==-1&&Ct.setStart(Rt),Rt=Mt.end,Ct.compare(Rt.row,Rt.column)==1&&Ct.setEnd(Rt)):(Rt=Mt.start,Ct.compare(Rt.row,Rt.column)==-1&&(Ct=$.fromPoints(Mt.start,Mt.start)))}}return Ct},this.replace=function(xt,wt){return this.doc.replace(xt,wt)},this.moveText=function(xt,wt,kt){var Ct=this.getTextRange(xt),Rt=this.getFoldsInRange(xt),Lt=$.fromPoints(wt,wt);if(!kt){this.remove(xt);var Mt=xt.start.row-xt.end.row,Wt=Mt?-xt.end.column:xt.start.column-xt.end.column;Wt&&(Lt.start.row==xt.end.row&&Lt.start.column>xt.end.column&&(Lt.start.column+=Wt),Lt.end.row==xt.end.row&&Lt.end.column>xt.end.column&&(Lt.end.column+=Wt)),Mt&&Lt.start.row>=xt.end.row&&(Lt.start.row+=Mt,Lt.end.row+=Mt)}if(Lt.end=this.insert(Lt.start,Ct),Rt.length){var Pt=xt.start,Ot=Lt.start,Mt=Ot.row-Pt.row,Wt=Ot.column-Pt.column;this.addFolds(Rt.map(function(jt){return jt=jt.clone(),jt.start.row==Pt.row&&(jt.start.column+=Wt),jt.end.row==Pt.row&&(jt.end.column+=Wt),jt.start.row+=Mt,jt.end.row+=Mt,jt}))}return Lt},this.indentRows=function(xt,wt,kt){kt=kt.replace(/\t/g,this.getTabString());for(var Ct=xt;Ct<=wt;Ct++)this.doc.insertInLine({row:Ct,column:0},kt)},this.outdentRows=function(xt){for(var wt=xt.collapseRows(),kt=new $(0,0,0,0),Ct=this.getTabSize(),Rt=wt.start.row;Rt<=wt.end.row;++Rt){var Lt=this.getLine(Rt);kt.start.row=Rt,kt.end.row=Rt;for(var Mt=0;Mt<Ct&&Lt.charAt(Mt)==" ";++Mt);Mt<Ct&&Lt.charAt(Mt)=="	"?(kt.start.column=Mt,kt.end.column=Mt+1):(kt.start.column=0,kt.end.column=Mt),this.remove(kt)}},this.$moveLines=function(xt,wt,kt){if(xt=this.getRowFoldStart(xt),wt=this.getRowFoldEnd(wt),kt<0){var Ct=this.getRowFoldStart(xt+kt);if(Ct<0)return 0;var Rt=Ct-xt}else if(kt>0){var Ct=this.getRowFoldEnd(wt+kt);if(Ct>this.doc.getLength()-1)return 0;var Rt=Ct-wt}else{xt=this.$clipRowToDocument(xt),wt=this.$clipRowToDocument(wt);var Rt=wt-xt+1}var Lt=new $(xt,0,wt,Number.MAX_VALUE),Mt=this.getFoldsInRange(Lt).map(function(Pt){return Pt=Pt.clone(),Pt.start.row+=Rt,Pt.end.row+=Rt,Pt}),Wt=kt==0?this.doc.getLines(xt,wt):this.doc.removeFullLines(xt,wt);return this.doc.insertFullLines(xt+Rt,Wt),Mt.length&&this.addFolds(Mt),Rt},this.moveLinesUp=function(xt,wt){return this.$moveLines(xt,wt,-1)},this.moveLinesDown=function(xt,wt){return this.$moveLines(xt,wt,1)},this.duplicateLines=function(xt,wt){return this.$moveLines(xt,wt,0)},this.$clipRowToDocument=function(xt){return Math.max(0,Math.min(xt,this.doc.getLength()-1))},this.$clipColumnToRow=function(xt,wt){return wt<0?0:Math.min(this.doc.getLine(xt).length,wt)},this.$clipPositionToDocument=function(xt,wt){if(wt=Math.max(0,wt),xt<0)xt=0,wt=0;else{var kt=this.doc.getLength();xt>=kt?(xt=kt-1,wt=this.doc.getLine(kt-1).length):wt=Math.min(this.doc.getLine(xt).length,wt)}return{row:xt,column:wt}},this.$clipRangeToDocument=function(xt){xt.start.row<0?(xt.start.row=0,xt.start.column=0):xt.start.column=this.$clipColumnToRow(xt.start.row,xt.start.column);var wt=this.doc.getLength()-1;return xt.end.row>wt?(xt.end.row=wt,xt.end.column=this.doc.getLine(wt).length):xt.end.column=this.$clipColumnToRow(xt.end.row,xt.end.column),xt},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(xt){if(xt!=this.$useWrapMode){if(this.$useWrapMode=xt,this.$modified=!0,this.$resetRowCache(0),xt){var wt=this.getLength();this.$wrapData=Array(wt),this.$updateWrapData(0,wt-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(xt,wt){(this.$wrapLimitRange.min!==xt||this.$wrapLimitRange.max!==wt)&&(this.$wrapLimitRange={min:xt,max:wt},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(xt,wt){var kt=this.$wrapLimitRange;kt.max<0&&(kt={min:wt,max:wt});var Ct=this.$constrainWrapLimit(xt,kt.min,kt.max);return Ct!=this.$wrapLimit&&Ct>1?(this.$wrapLimit=Ct,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(xt,wt,kt){return wt&&(xt=Math.max(wt,xt)),kt&&(xt=Math.min(kt,xt)),xt},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(xt){this.setWrapLimitRange(xt,xt)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(xt){var wt=this.$useWrapMode,kt=xt.action,Ct=xt.start,Rt=xt.end,Lt=Ct.row,Mt=Rt.row,Wt=Mt-Lt,Pt=null;if(this.$updating=!0,Wt!=0)if(kt==="remove"){this[wt?"$wrapData":"$rowLengthCache"].splice(Lt,Wt);var Ot=this.$foldData;Pt=this.getFoldsInRange(xt),this.removeFolds(Pt);var Xt=this.getFoldLine(Rt.row),rn=0;if(Xt){Xt.addRemoveChars(Rt.row,Rt.column,Ct.column-Rt.column),Xt.shiftRow(-Wt);var jt=this.getFoldLine(Lt);jt&&jt!==Xt&&(jt.merge(Xt),Xt=jt),rn=Ot.indexOf(Xt)+1}for(rn;rn<Ot.length;rn++){var Xt=Ot[rn];Xt.start.row>=Rt.row&&Xt.shiftRow(-Wt)}Mt=Lt}else{var Vt=Array(Wt);Vt.unshift(Lt,0);var en=wt?this.$wrapData:this.$rowLengthCache;en.splice.apply(en,Vt);var Ot=this.$foldData,Xt=this.getFoldLine(Lt),rn=0;if(Xt){var ln=Xt.range.compareInside(Ct.row,Ct.column);ln==0?(Xt=Xt.split(Ct.row,Ct.column),Xt&&(Xt.shiftRow(Wt),Xt.addRemoveChars(Mt,0,Rt.column-Ct.column))):ln==-1&&(Xt.addRemoveChars(Lt,0,Rt.column-Ct.column),Xt.shiftRow(Wt)),rn=Ot.indexOf(Xt)+1}for(rn;rn<Ot.length;rn++){var Xt=Ot[rn];Xt.start.row>=Lt&&Xt.shiftRow(Wt)}}else{Wt=Math.abs(xt.start.column-xt.end.column),kt==="remove"&&(Pt=this.getFoldsInRange(xt),this.removeFolds(Pt),Wt=-Wt);var Xt=this.getFoldLine(Lt);Xt&&Xt.addRemoveChars(Lt,Ct.column,Wt)}return wt&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,wt?this.$updateWrapData(Lt,Mt):this.$updateRowLengthCache(Lt,Mt),Pt},this.$updateRowLengthCache=function(xt,wt,kt){this.$rowLengthCache[xt]=null,this.$rowLengthCache[wt]=null},this.$updateWrapData=function(xt,wt){var kt=this.doc.getAllLines(),Ct=this.getTabSize(),Rt=this.$wrapData,Lt=this.$wrapLimit,Mt,Wt,Pt=xt;for(wt=Math.min(wt,kt.length-1);Pt<=wt;)Wt=this.getFoldLine(Pt,Wt),Wt?(Mt=[],Wt.walk(function(Ot,Xt,rn,jt){var Vt;if(Ot!=null){Vt=this.$getDisplayTokens(Ot,Mt.length),Vt[0]=pt;for(var en=1;en<Vt.length;en++)Vt[en]=vt}else Vt=this.$getDisplayTokens(kt[Xt].substring(jt,rn),Mt.length);Mt=Mt.concat(Vt)}.bind(this),Wt.end.row,kt[Wt.end.row].length+1),Rt[Wt.start.row]=this.$computeWrapSplits(Mt,Lt,Ct),Pt=Wt.end.row+1):(Mt=this.$getDisplayTokens(kt[Pt]),Rt[Pt]=this.$computeWrapSplits(Mt,Lt,Ct),Pt++)};var gt=1,ut=2,pt=3,vt=4,dt=9,mt=10,Tt=11,yt=12;this.$computeWrapSplits=function(xt,wt,kt){if(xt.length==0)return[];var Ct=[],Rt=xt.length,Lt=0,Mt=0,Wt=this.$wrapAsCode,Pt=this.$indentedSoftWrap,Ot=wt<=Math.max(2*kt,8)||Pt===!1?0:Math.floor(wt/2);function Xt(){var ln=0;if(Ot===0)return ln;if(Pt)for(var nn=0;nn<xt.length;nn++){var _n=xt[nn];if(_n==mt)ln+=1;else if(_n==Tt)ln+=kt;else{if(_n==yt)continue;break}}return Wt&&Pt!==!1&&(ln+=kt),Math.min(ln,Ot)}function rn(ln){for(var nn=ln-Lt,_n=Lt;_n<ln;_n++){var fn=xt[_n];(fn===12||fn===2)&&(nn-=1)}Ct.length||(jt=Xt(),Ct.indent=jt),Mt+=nn,Ct.push(Mt),Lt=ln}for(var jt=0;Rt-Lt>wt-jt;){var Vt=Lt+wt-jt;if(xt[Vt-1]>=mt&&xt[Vt]>=mt){rn(Vt);continue}if(xt[Vt]==pt||xt[Vt]==vt){for(Vt;Vt!=Lt-1&&xt[Vt]!=pt;Vt--);if(Vt>Lt){rn(Vt);continue}for(Vt=Lt+wt,Vt;Vt<xt.length&&xt[Vt]==vt;Vt++);if(Vt==xt.length)break;rn(Vt);continue}for(var en=Math.max(Vt-(wt-(wt>>2)),Lt-1);Vt>en&&xt[Vt]<pt;)Vt--;if(Wt){for(;Vt>en&&xt[Vt]<pt;)Vt--;for(;Vt>en&&xt[Vt]==dt;)Vt--}else for(;Vt>en&&xt[Vt]<mt;)Vt--;if(Vt>en){rn(++Vt);continue}Vt=Lt+wt,xt[Vt]==ut&&Vt--,rn(Vt-jt)}return Ct},this.$getDisplayTokens=function(xt,wt){var kt=[],Ct;wt=wt||0;for(var Rt=0;Rt<xt.length;Rt++){var Lt=xt.charCodeAt(Rt);if(Lt==9){Ct=this.getScreenTabSize(kt.length+wt),kt.push(Tt);for(var Mt=1;Mt<Ct;Mt++)kt.push(yt)}else Lt==32?kt.push(mt):Lt>39&&Lt<48||Lt>57&&Lt<64?kt.push(dt):Lt>=4352&&ht(Lt)?kt.push(gt,ut):kt.push(gt)}return kt},this.$getStringScreenWidth=function(xt,wt,kt){if(wt==0)return[0,0];wt==null&&(wt=1/0),kt=kt||0;var Ct,Rt;for(Rt=0;Rt<xt.length&&(Ct=xt.charCodeAt(Rt),Ct==9?kt+=this.getScreenTabSize(kt):Ct>=4352&&ht(Ct)?kt+=2:kt+=1,!(kt>wt));Rt++);return[kt,Rt]},this.lineWidgets=null,this.getRowLength=function(xt){var wt=1;return this.lineWidgets&&(wt+=this.lineWidgets[xt]&&this.lineWidgets[xt].rowCount||0),!this.$useWrapMode||!this.$wrapData[xt]?wt:this.$wrapData[xt].length+wt},this.getRowLineCount=function(xt){return!this.$useWrapMode||!this.$wrapData[xt]?1:this.$wrapData[xt].length+1},this.getRowWrapIndent=function(xt){if(this.$useWrapMode){var wt=this.screenToDocumentPosition(xt,Number.MAX_VALUE),kt=this.$wrapData[wt.row];return kt.length&&kt[0]<wt.column?kt.indent:0}else return 0},this.getScreenLastRowColumn=function(xt){var wt=this.screenToDocumentPosition(xt,Number.MAX_VALUE);return this.documentToScreenColumn(wt.row,wt.column)},this.getDocumentLastRowColumn=function(xt,wt){var kt=this.documentToScreenRow(xt,wt);return this.getScreenLastRowColumn(kt)},this.getDocumentLastRowColumnPosition=function(xt,wt){var kt=this.documentToScreenRow(xt,wt);return this.screenToDocumentPosition(kt,Number.MAX_VALUE/10)},this.getRowSplitData=function(xt){if(this.$useWrapMode)return this.$wrapData[xt]},this.getScreenTabSize=function(xt){return this.$tabSize-(xt%this.$tabSize|0)},this.screenToDocumentRow=function(xt,wt){return this.screenToDocumentPosition(xt,wt).row},this.screenToDocumentColumn=function(xt,wt){return this.screenToDocumentPosition(xt,wt).column},this.screenToDocumentPosition=function(xt,wt,kt){if(xt<0)return{row:0,column:0};var Ct,Rt=0,Lt=0,Mt,Wt=0,Pt=0,Ot=this.$screenRowCache,Xt=this.$getRowCacheIndex(Ot,xt),rn=Ot.length;if(rn&&Xt>=0)var Wt=Ot[Xt],Rt=this.$docRowCache[Xt],jt=xt>Ot[rn-1];else var jt=!rn;for(var Vt=this.getLength()-1,en=this.getNextFoldLine(Rt),ln=en?en.start.row:1/0;Wt<=xt&&(Pt=this.getRowLength(Rt),!(Wt+Pt>xt||Rt>=Vt));)Wt+=Pt,Rt++,Rt>ln&&(Rt=en.end.row+1,en=this.getNextFoldLine(Rt,en),ln=en?en.start.row:1/0),jt&&(this.$docRowCache.push(Rt),this.$screenRowCache.push(Wt));if(en&&en.start.row<=Rt)Ct=this.getFoldDisplayLine(en),Rt=en.start.row;else{if(Wt+Pt<=xt||Rt>Vt)return{row:Vt,column:this.getLine(Vt).length};Ct=this.getLine(Rt),en=null}var nn=0,_n=Math.floor(xt-Wt);if(this.$useWrapMode){var fn=this.$wrapData[Rt];fn&&(Mt=fn[_n],_n>0&&fn.length&&(nn=fn.indent,Lt=fn[_n-1]||fn[fn.length-1],Ct=Ct.substring(Lt)))}return kt!==void 0&&this.$bidiHandler.isBidiRow(Wt+_n,Rt,_n)&&(wt=this.$bidiHandler.offsetToCol(kt)),Lt+=this.$getStringScreenWidth(Ct,wt-nn)[1],this.$useWrapMode&&Lt>=Mt&&(Lt=Mt-1),en?en.idxToPosition(Lt):{row:Rt,column:Lt}},this.documentToScreenPosition=function(xt,wt){if(typeof wt>"u")var kt=this.$clipPositionToDocument(xt.row,xt.column);else kt=this.$clipPositionToDocument(xt,wt);xt=kt.row,wt=kt.column;var Ct=0,Rt=null,Lt=null;Lt=this.getFoldAt(xt,wt,1),Lt&&(xt=Lt.start.row,wt=Lt.start.column);var Mt,Wt=0,Pt=this.$docRowCache,Ot=this.$getRowCacheIndex(Pt,xt),Xt=Pt.length;if(Xt&&Ot>=0)var Wt=Pt[Ot],Ct=this.$screenRowCache[Ot],rn=xt>Pt[Xt-1];else var rn=!Xt;for(var jt=this.getNextFoldLine(Wt),Vt=jt?jt.start.row:1/0;Wt<xt;){if(Wt>=Vt){if(Mt=jt.end.row+1,Mt>xt)break;jt=this.getNextFoldLine(Mt,jt),Vt=jt?jt.start.row:1/0}else Mt=Wt+1;Ct+=this.getRowLength(Wt),Wt=Mt,rn&&(this.$docRowCache.push(Wt),this.$screenRowCache.push(Ct))}var en="";jt&&Wt>=Vt?(en=this.getFoldDisplayLine(jt,xt,wt),Rt=jt.start.row):(en=this.getLine(xt).substring(0,wt),Rt=xt);var ln=0;if(this.$useWrapMode){var nn=this.$wrapData[Rt];if(nn){for(var _n=0;en.length>=nn[_n];)Ct++,_n++;en=en.substring(nn[_n-1]||0,en.length),ln=_n>0?nn.indent:0}}return this.lineWidgets&&this.lineWidgets[Wt]&&this.lineWidgets[Wt].rowsAbove&&(Ct+=this.lineWidgets[Wt].rowsAbove),{row:Ct,column:ln+this.$getStringScreenWidth(en)[0]}},this.documentToScreenColumn=function(xt,wt){return this.documentToScreenPosition(xt,wt).column},this.documentToScreenRow=function(xt,wt){return this.documentToScreenPosition(xt,wt).row},this.getScreenLength=function(){var xt=0,wt=null;if(this.$useWrapMode)for(var Rt=this.$wrapData.length,Lt=0,Ct=0,wt=this.$foldData[Ct++],Mt=wt?wt.start.row:1/0;Lt<Rt;){var Wt=this.$wrapData[Lt];xt+=Wt?Wt.length+1:1,Lt++,Lt>Mt&&(Lt=wt.end.row+1,wt=this.$foldData[Ct++],Mt=wt?wt.start.row:1/0)}else{xt=this.getLength();for(var kt=this.$foldData,Ct=0;Ct<kt.length;Ct++)wt=kt[Ct],xt-=wt.end.row-wt.start.row}return this.lineWidgets&&(xt+=this.$getWidgetScreenLength()),xt},this.$setFontMetrics=function(xt){!this.$enableVarChar||(this.$getStringScreenWidth=function(wt,kt,Ct){if(kt===0)return[0,0];kt||(kt=1/0),Ct=Ct||0;var Rt,Lt;for(Lt=0;Lt<wt.length&&(Rt=wt.charAt(Lt),Rt==="	"?Ct+=this.getScreenTabSize(Ct):Ct+=xt.getCharacterWidth(Rt),!(Ct>kt));Lt++);return[Ct,Lt]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=ht;function ht(xt){return xt<4352?!1:xt>=4352&&xt<=4447||xt>=4515&&xt<=4519||xt>=4602&&xt<=4607||xt>=9001&&xt<=9002||xt>=11904&&xt<=11929||xt>=11931&&xt<=12019||xt>=12032&&xt<=12245||xt>=12272&&xt<=12283||xt>=12288&&xt<=12350||xt>=12353&&xt<=12438||xt>=12441&&xt<=12543||xt>=12549&&xt<=12589||xt>=12593&&xt<=12686||xt>=12688&&xt<=12730||xt>=12736&&xt<=12771||xt>=12784&&xt<=12830||xt>=12832&&xt<=12871||xt>=12880&&xt<=13054||xt>=13056&&xt<=19903||xt>=19968&&xt<=42124||xt>=42128&&xt<=42182||xt>=43360&&xt<=43388||xt>=44032&&xt<=55203||xt>=55216&&xt<=55238||xt>=55243&&xt<=55291||xt>=63744&&xt<=64255||xt>=65040&&xt<=65049||xt>=65072&&xt<=65106||xt>=65108&&xt<=65126||xt>=65128&&xt<=65131||xt>=65281&&xt<=65376||xt>=65504&&xt<=65510}}.call(ft.prototype),a("./edit_session/folding").Folding.call(ft.prototype),a("./edit_session/bracket_match").BracketMatch.call(ft.prototype),rt.defineOptions(ft.prototype,"session",{wrap:{set:function(gt){if(!gt||gt=="off"?gt=!1:gt=="free"?gt=!0:gt=="printMargin"?gt=-1:typeof gt=="string"&&(gt=parseInt(gt,10)||!1),this.$wrap!=gt)if(this.$wrap=gt,!gt)this.setUseWrapMode(!1);else{var ut=typeof gt=="number"?gt:null;this.setWrapLimitRange(ut,ut),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(gt){gt=gt=="auto"?this.$mode.type!="text":gt!="text",gt!=this.$wrapAsCode&&(this.$wrapAsCode=gt,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(gt){this.$useWorker=gt,this.$stopWorker(),gt&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(gt){gt=parseInt(gt),gt>0&&this.$tabSize!==gt&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=gt,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(gt){this.setFoldStyle(gt)},handlesSet:!0},overwrite:{set:function(gt){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(gt){this.doc.setNewLineMode(gt)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(gt){this.setMode(gt)},get:function(){return this.$modeId},handlesSet:!0}}),o.EditSession=ft}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,o,it){var tt=a("./lib/lang"),at=a("./lib/oop"),ot=a("./range").Range,rt=function(){this.$options={}};(function(){this.set=function(j){return at.mixin(this.$options,j),this},this.getOptions=function(){return tt.copyObject(this.$options)},this.setOptions=function(j){this.$options=j},this.find=function(j){var _=this.$options,$=this.$matchIterator(j,_);if(!$)return!1;var et=null;return $.forEach(function(st,lt,ft,gt){return et=new ot(st,lt,ft,gt),lt==gt&&_.start&&_.start.start&&_.skipCurrent!=!1&&et.isEqual(_.start)?(et=null,!1):!0}),et},this.findAll=function(j){var _=this.$options;if(!_.needle)return[];this.$assembleRegExp(_);var $=_.range,et=$?j.getLines($.start.row,$.end.row):j.doc.getAllLines(),st=[],lt=_.re;if(_.$isMultiLine){var ft=lt.length,gt=et.length-ft,ut;e:for(var pt=lt.offset||0;pt<=gt;pt++){for(var vt=0;vt<ft;vt++)if(et[pt+vt].search(lt[vt])==-1)continue e;var dt=et[pt],mt=et[pt+ft-1],Tt=dt.length-dt.match(lt[0])[0].length,yt=mt.match(lt[ft-1])[0].length;ut&&ut.end.row===pt&&ut.end.column>Tt||(st.push(ut=new ot(pt,Tt,pt+ft-1,yt)),ft>2&&(pt=pt+ft-2))}}else for(var ht=0;ht<et.length;ht++)for(var xt=tt.getMatchOffsets(et[ht],lt),vt=0;vt<xt.length;vt++){var wt=xt[vt];st.push(new ot(ht,wt.offset,ht,wt.offset+wt.length))}if($){for(var kt=$.start.column,Ct=$.end.column,ht=0,vt=st.length-1;ht<vt&&st[ht].start.column<kt&&st[ht].start.row==0;)ht++;for(var Rt=$.end.row-$.start.row;ht<vt&&st[vt].end.column>Ct&&st[vt].end.row==Rt;)vt--;for(st=st.slice(ht,vt+1),ht=0,vt=st.length;ht<vt;ht++)st[ht].start.row+=$.start.row,st[ht].end.row+=$.start.row}return st},this.replace=function(j,_){var $=this.$options,et=this.$assembleRegExp($);if($.$isMultiLine)return _;if(!!et){var st=et.exec(j);if(!st||st[0].length!=j.length)return null;if(_=j.replace(et,_),$.preserveCase){_=_.split("");for(var lt=Math.min(j.length,j.length);lt--;){var ft=j[lt];ft&&ft.toLowerCase()!=ft?_[lt]=_[lt].toUpperCase():_[lt]=_[lt].toLowerCase()}_=_.join("")}return _}},this.$assembleRegExp=function(j,_){if(j.needle instanceof RegExp)return j.re=j.needle;var $=j.needle;if(!j.needle)return j.re=!1;j.regExp||($=tt.escapeRegExp($)),j.wholeWord&&($=nt($,j));var et=j.caseSensitive?"gm":"gmi";if(j.$isMultiLine=!_&&/[\n\r]/.test($),j.$isMultiLine)return j.re=this.$assembleMultilineRegExp($,et);try{var st=new RegExp($,et)}catch{st=!1}return j.re=st},this.$assembleMultilineRegExp=function(j,_){for(var $=j.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),et=[],st=0;st<$.length;st++)try{et.push(new RegExp($[st],_))}catch{return!1}return et},this.$matchIterator=function(j,_){var $=this.$assembleRegExp(_);if(!$)return!1;var et=_.backwards==!0,st=_.skipCurrent!=!1,lt=_.range,ft=_.start;ft||(ft=lt?lt[et?"end":"start"]:j.selection.getRange()),ft.start&&(ft=ft[st!=et?"end":"start"]);var gt=lt?lt.start.row:0,ut=lt?lt.end.row:j.getLength()-1;if(et)var pt=function(mt){var Tt=ft.row;if(!dt(Tt,ft.column,mt)){for(Tt--;Tt>=gt;Tt--)if(dt(Tt,Number.MAX_VALUE,mt))return;if(_.wrap!=!1){for(Tt=ut,gt=ft.row;Tt>=gt;Tt--)if(dt(Tt,Number.MAX_VALUE,mt))return}}};else var pt=function(Tt){var yt=ft.row;if(!dt(yt,ft.column,Tt)){for(yt=yt+1;yt<=ut;yt++)if(dt(yt,0,Tt))return;if(_.wrap!=!1){for(yt=gt,ut=ft.row;yt<=ut;yt++)if(dt(yt,0,Tt))return}}};if(_.$isMultiLine)var vt=$.length,dt=function(mt,Tt,yt){var ht=et?mt-vt+1:mt;if(!(ht<0||ht+vt>j.getLength())){var xt=j.getLine(ht),wt=xt.search($[0]);if(!(!et&&wt<Tt||wt===-1)){for(var kt=1;kt<vt;kt++)if(xt=j.getLine(ht+kt),xt.search($[kt])==-1)return;var Ct=xt.match($[vt-1])[0].length;if(!(et&&Ct>Tt)&&yt(ht,wt,ht+vt-1,Ct))return!0}}};else if(et)var dt=function(Tt,yt,ht){var xt=j.getLine(Tt),wt=[],kt,Ct=0;for($.lastIndex=0;kt=$.exec(xt);){var Rt=kt[0].length;if(Ct=kt.index,!Rt){if(Ct>=xt.length)break;$.lastIndex=Ct+=1}if(kt.index+Rt>yt)break;wt.push(kt.index,Rt)}for(var Lt=wt.length-1;Lt>=0;Lt-=2){var Mt=wt[Lt-1],Rt=wt[Lt];if(ht(Tt,Mt,Tt,Mt+Rt))return!0}};else var dt=function(Tt,yt,ht){var xt=j.getLine(Tt),wt,kt;for($.lastIndex=yt;kt=$.exec(xt);){var Ct=kt[0].length;if(wt=kt.index,ht(Tt,wt,Tt,wt+Ct))return!0;if(!Ct&&($.lastIndex=wt+=1,wt>=xt.length))return!1}};return{forEach:pt}}}).call(rt.prototype);function nt(j,_){function $(et){return/\w/.test(et)||_.regExp?"\\b":""}return $(j[0])+j+$(j[j.length-1])}o.Search=rt}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(a,o,it){var tt=a("../lib/keys"),at=a("../lib/useragent"),ot=tt.KEY_MODS;function rt(j,_){this.platform=_||(at.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(j),this.$singleCommand=!0}function nt(j,_){rt.call(this,j,_),this.$singleCommand=!1}nt.prototype=rt.prototype,function(){this.addCommand=function(_){this.commands[_.name]&&this.removeCommand(_),this.commands[_.name]=_,_.bindKey&&this._buildKeyHash(_)},this.removeCommand=function(_,$){var et=_&&(typeof _=="string"?_:_.name);_=this.commands[et],$||delete this.commands[et];var st=this.commandKeyBinding;for(var lt in st){var ft=st[lt];if(ft==_)delete st[lt];else if(Array.isArray(ft)){var gt=ft.indexOf(_);gt!=-1&&(ft.splice(gt,1),ft.length==1&&(st[lt]=ft[0]))}}},this.bindKey=function(_,$,et){if(typeof _=="object"&&_&&(et==null&&(et=_.position),_=_[this.platform]),!!_){if(typeof $=="function")return this.addCommand({exec:$,bindKey:_,name:$.name||_});_.split("|").forEach(function(st){var lt="";if(st.indexOf(" ")!=-1){var ft=st.split(/\s+/);st=ft.pop(),ft.forEach(function(pt){var vt=this.parseKeys(pt),dt=ot[vt.hashId]+vt.key;lt+=(lt?" ":"")+dt,this._addCommandToBinding(lt,"chainKeys")},this),lt+=" "}var gt=this.parseKeys(st),ut=ot[gt.hashId]+gt.key;this._addCommandToBinding(lt+ut,$,et)},this)}};function j(_){return typeof _=="object"&&_.bindKey&&_.bindKey.position||(_.isDefault?-100:0)}this._addCommandToBinding=function(_,$,et){var st=this.commandKeyBinding,lt;if(!$)delete st[_];else if(!st[_]||this.$singleCommand)st[_]=$;else{Array.isArray(st[_])?(lt=st[_].indexOf($))!=-1&&st[_].splice(lt,1):st[_]=[st[_]],typeof et!="number"&&(et=j($));var ft=st[_];for(lt=0;lt<ft.length;lt++){var gt=ft[lt],ut=j(gt);if(ut>et)break}ft.splice(lt,0,$)}},this.addCommands=function(_){_&&Object.keys(_).forEach(function($){var et=_[$];if(!!et){if(typeof et=="string")return this.bindKey(et,$);typeof et=="function"&&(et={exec:et}),typeof et=="object"&&(et.name||(et.name=$),this.addCommand(et))}},this)},this.removeCommands=function(_){Object.keys(_).forEach(function($){this.removeCommand(_[$])},this)},this.bindKeys=function(_){Object.keys(_).forEach(function($){this.bindKey($,_[$])},this)},this._buildKeyHash=function(_){this.bindKey(_.bindKey,_)},this.parseKeys=function(_){var $=_.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(ut){return ut}),et=$.pop(),st=tt[et];if(tt.FUNCTION_KEYS[st])et=tt.FUNCTION_KEYS[st].toLowerCase();else if($.length){if($.length==1&&$[0]=="shift")return{key:et.toUpperCase(),hashId:-1}}else return{key:et,hashId:-1};for(var lt=0,ft=$.length;ft--;){var gt=tt.KEY_MODS[$[ft]];if(gt==null)return typeof console<"u"&&console.error("invalid modifier "+$[ft]+" in "+_),!1;lt|=gt}return{key:et,hashId:lt}},this.findKeyCommand=function($,et){var st=ot[$]+et;return this.commandKeyBinding[st]},this.handleKeyboard=function(_,$,et,st){if(!(st<0)){var lt=ot[$]+et,ft=this.commandKeyBinding[lt];return _.$keyChain&&(_.$keyChain+=" "+lt,ft=this.commandKeyBinding[_.$keyChain]||ft),ft&&(ft=="chainKeys"||ft[ft.length-1]=="chainKeys")?(_.$keyChain=_.$keyChain||lt,{command:"null"}):(_.$keyChain&&((!$||$==4)&&et.length==1?_.$keyChain=_.$keyChain.slice(0,-lt.length-1):($==-1||st>0)&&(_.$keyChain="")),{command:ft})}},this.getStatusText=function(_,$){return $.$keyChain||""}}.call(rt.prototype),o.HashHandler=rt,o.MultiHashHandler=nt}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(a,o,it){var tt=a("../lib/oop"),at=a("../keyboard/hash_handler").MultiHashHandler,ot=a("../lib/event_emitter").EventEmitter,rt=function(nt,j){at.call(this,j,nt),this.byName=this.commands,this.setDefaultHandler("exec",function(_){return _.args?_.command.exec(_.editor,_.args,_.event,!1):_.command.exec(_.editor,{},_.event,!0)})};tt.inherits(rt,at),function(){tt.implement(this,ot),this.exec=function(nt,j,_){if(Array.isArray(nt)){for(var $=nt.length;$--;)if(this.exec(nt[$],j,_))return!0;return!1}if(typeof nt=="string"&&(nt=this.commands[nt]),!nt||j&&j.$readOnly&&!nt.readOnly||this.$checkCommandState!=!1&&nt.isAvailable&&!nt.isAvailable(j))return!1;var et={editor:j,command:nt,args:_};return et.returnValue=this._emit("exec",et),this._signal("afterExec",et),et.returnValue!==!1},this.toggleRecording=function(nt){if(!this.$inReplay)return nt&&nt._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(j){this.macro.push([j.command,j.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(nt){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(nt);try{this.$inReplay=!0,this.macro.forEach(function(j){typeof j=="string"?this.exec(j,nt):this.exec(j[0],nt,j[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(nt){return nt.map(function(j){return typeof j[0]!="string"&&(j[0]=j[0].name),j[1]||(j=j[0]),j})}}.call(rt.prototype),o.CommandManager=rt}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(a,o,it){var tt=a("../lib/lang"),at=a("../config"),ot=a("../range").Range;function rt(j,_){return{win:j,mac:_}}o.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:rt("Ctrl-,","Command-,"),exec:function(j){at.loadModule("ace/ext/settings_menu",function(_){_.init(j),j.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:rt("Alt-E","F4"),exec:function(j){at.loadModule("./ext/error_marker",function(_){_.showErrorMarker(j,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:rt("Alt-Shift-E","Shift-F4"),exec:function(j){at.loadModule("./ext/error_marker",function(_){_.showErrorMarker(j,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:rt("Ctrl-A","Command-A"),exec:function(j){j.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:rt(null,"Ctrl-L"),exec:function(j){j.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:rt("Ctrl-L","Command-L"),exec:function(j,_){typeof _=="number"&&!isNaN(_)&&j.gotoLine(_),j.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:rt("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(j){j.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:rt("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(j){j.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:rt("F2","F2"),exec:function(j){j.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:rt("Alt-F2","Alt-F2"),exec:function(j){j.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:rt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:rt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:rt("Alt-0","Command-Option-0"),exec:function(j){j.session.foldAll(),j.session.unfold(j.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:rt("Alt-Shift-0","Command-Option-Shift-0"),exec:function(j){j.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:rt("Ctrl-K","Command-G"),exec:function(j){j.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:rt("Ctrl-Shift-K","Command-Shift-G"),exec:function(j){j.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:rt("Alt-K","Ctrl-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:rt("Alt-Shift-K","Ctrl-Shift-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:rt("Ctrl-F","Command-F"),exec:function(j){at.loadModule("ace/ext/searchbox",function(_){_.Search(j)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(j){j.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:rt("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(j){j.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:rt("Ctrl-Home","Command-Home|Command-Up"),exec:function(j){j.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:rt("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(j){j.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:rt("Up","Up|Ctrl-P"),exec:function(j,_){j.navigateUp(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:rt("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(j){j.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:rt("Ctrl-End","Command-End|Command-Down"),exec:function(j){j.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:rt("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(j){j.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:rt("Down","Down|Ctrl-N"),exec:function(j,_){j.navigateDown(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:rt("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(j){j.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:rt("Ctrl-Left","Option-Left"),exec:function(j){j.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:rt("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:rt("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(j){j.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:rt("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(j){j.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:rt("Left","Left|Ctrl-B"),exec:function(j,_){j.navigateLeft(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:rt("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(j){j.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:rt("Ctrl-Right","Option-Right"),exec:function(j){j.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:rt("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:rt("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(j){j.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:rt("Shift-Right","Shift-Right"),exec:function(j){j.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:rt("Right","Right|Ctrl-F"),exec:function(j,_){j.navigateRight(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(j){j.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:rt(null,"Option-PageDown"),exec:function(j){j.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:rt("PageDown","PageDown|Ctrl-V"),exec:function(j){j.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(j){j.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:rt(null,"Option-PageUp"),exec:function(j){j.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(j){j.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:rt("Ctrl-Up",null),exec:function(j){j.renderer.scrollBy(0,-2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:rt("Ctrl-Down",null),exec:function(j){j.renderer.scrollBy(0,2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:rt("Ctrl-Alt-E","Command-Option-E"),exec:function(j){j.commands.toggleRecording(j)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:rt("Ctrl-Shift-E","Command-Shift-E"),exec:function(j){j.commands.replay(j)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:rt("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(j){j.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:rt("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(j){j.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:rt("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(j){j.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:rt(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(j){},readOnly:!0},{name:"cut",description:"Cut",exec:function(j){var _=j.$copyWithEmptySelection&&j.selection.isEmpty(),$=_?j.selection.getLineRange():j.selection.getRange();j._emit("cut",$),$.isEmpty()||j.session.remove($),j.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(j,_){j.$handlePaste(_)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:rt("Ctrl-D","Command-D"),exec:function(j){j.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:rt("Ctrl-Shift-D","Command-Shift-D"),exec:function(j){j.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:rt("Ctrl-Alt-S","Command-Alt-S"),exec:function(j){j.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:rt("Ctrl-/","Command-/"),exec:function(j){j.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:rt("Ctrl-Shift-/","Command-Shift-/"),exec:function(j){j.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:rt("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(j){j.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:rt("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(j){j.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:rt("Ctrl-H","Command-Option-F"),exec:function(j){at.loadModule("ace/ext/searchbox",function(_){_.Search(j,!0)})}},{name:"undo",description:"Undo",bindKey:rt("Ctrl-Z","Command-Z"),exec:function(j){j.undo()}},{name:"redo",description:"Redo",bindKey:rt("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(j){j.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:rt("Alt-Shift-Up","Command-Option-Up"),exec:function(j){j.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:rt("Alt-Up","Option-Up"),exec:function(j){j.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:rt("Alt-Shift-Down","Command-Option-Down"),exec:function(j){j.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:rt("Alt-Down","Option-Down"),exec:function(j){j.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:rt("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(j){j.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:rt("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(j){j.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:rt("Shift-Delete",null),exec:function(j){if(j.selection.isEmpty())j.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:rt("Alt-Backspace","Command-Backspace"),exec:function(j){j.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:rt("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(j){j.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:rt("Ctrl-Shift-Backspace",null),exec:function(j){var _=j.selection.getRange();_.start.column=0,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:rt("Ctrl-Shift-Delete",null),exec:function(j){var _=j.selection.getRange();_.end.column=Number.MAX_VALUE,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:rt("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(j){j.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:rt("Ctrl-Delete","Alt-Delete"),exec:function(j){j.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:rt("Shift-Tab","Shift-Tab"),exec:function(j){j.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:rt("Tab","Tab"),exec:function(j){j.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:rt("Ctrl-[","Ctrl-["),exec:function(j){j.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:rt("Ctrl-]","Ctrl-]"),exec:function(j){j.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(j,_){j.insert(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(j,_){j.insert(tt.stringRepeat(_.text||"",_.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:rt(null,"Ctrl-O"),exec:function(j){j.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:rt("Alt-Shift-X","Ctrl-T"),exec:function(j){j.transposeLetters()},multiSelectAction:function(j){j.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:rt("Ctrl-U","Ctrl-U"),exec:function(j){j.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:rt("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(j){j.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:rt(null,null),exec:function(j){j.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:rt("Ctrl-Shift-L","Command-Shift-L"),exec:function(j){var _=j.selection.getRange();_.start.column=_.end.column=0,_.end.row++,j.selection.setRange(_,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:rt("Ctrl+F3","F3"),exec:function(j){j.openLink()}},{name:"joinlines",description:"Join lines",bindKey:rt(null,null),exec:function(j){for(var _=j.selection.isBackwards(),$=_?j.selection.getSelectionLead():j.selection.getSelectionAnchor(),et=_?j.selection.getSelectionAnchor():j.selection.getSelectionLead(),st=j.session.doc.getLine($.row).length,lt=j.session.doc.getTextRange(j.selection.getRange()),ft=lt.replace(/\n\s*/," ").length,gt=j.session.doc.getLine($.row),ut=$.row+1;ut<=et.row+1;ut++){var pt=tt.stringTrimLeft(tt.stringTrimRight(j.session.doc.getLine(ut)));pt.length!==0&&(pt=" "+pt),gt+=pt}et.row+1<j.session.doc.getLength()-1&&(gt+=j.session.doc.getNewLineCharacter()),j.clearSelection(),j.session.doc.replace(new ot($.row,0,et.row+2,0),gt),ft>0?(j.selection.moveCursorTo($.row,$.column),j.selection.selectTo($.row,$.column+ft)):(st=j.session.doc.getLine($.row).length>st?st+1:st,j.selection.moveCursorTo($.row,st))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:rt(null,null),exec:function(j){var _=j.session.doc.getLength()-1,$=j.session.doc.getLine(_).length,et=j.selection.rangeList.ranges,st=[];et.length<1&&(et=[j.selection.getRange()]);for(var lt=0;lt<et.length;lt++)lt==et.length-1&&(et[lt].end.row===_&&et[lt].end.column===$||st.push(new ot(et[lt].end.row,et[lt].end.column,_,$))),lt===0?et[lt].start.row===0&&et[lt].start.column===0||st.push(new ot(0,0,et[lt].start.row,et[lt].start.column)):st.push(new ot(et[lt-1].end.row,et[lt-1].end.column,et[lt].start.row,et[lt].start.column));j.exitMultiSelectMode(),j.clearSelection();for(var lt=0;lt<st.length;lt++)j.selection.addRange(st[lt],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(j){j.selection.clearSelection(),j.navigateLineEnd(),j.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(j){j.selection.clearSelection();var _=j.getCursorPosition();j.selection.moveTo(_.row-1,Number.MAX_VALUE),j.insert(`
`),_.row===0&&j.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:rt("F1","F1"),exec:function(j){j.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:rt(null,null),exec:function(j){j.prompt({$type:"modes"})},readOnly:!0}];for(var nt=1;nt<9;nt++)o.commands.push({name:"foldToLevel"+nt,description:"Fold To Level "+nt,level:nt,exec:function(j){j.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(a,o,it){var tt=this&&this.__values||function(ht){var xt=typeof Symbol=="function"&&Symbol.iterator,wt=xt&&ht[xt],kt=0;if(wt)return wt.call(ht);if(ht&&typeof ht.length=="number")return{next:function(){return ht&&kt>=ht.length&&(ht=void 0),{value:ht&&ht[kt++],done:!ht}}};throw new TypeError(xt?"Object is not iterable.":"Symbol.iterator is not defined.")},at=a("./lib/oop"),ot=a("./lib/dom"),rt=a("./lib/lang"),nt=a("./lib/useragent"),j=a("./keyboard/textinput").TextInput,_=a("./mouse/mouse_handler").MouseHandler,$=a("./mouse/fold_handler").FoldHandler,et=a("./keyboard/keybinding").KeyBinding,st=a("./edit_session").EditSession,lt=a("./search").Search,ft=a("./range").Range,gt=a("./lib/event_emitter").EventEmitter,ut=a("./commands/command_manager").CommandManager,pt=a("./commands/default_commands").commands,vt=a("./config"),dt=a("./token_iterator").TokenIterator,mt=a("./clipboard"),Tt=function(ht,xt,wt){this.$toDestroy=[];var kt=ht.getContainerElement();this.container=kt,this.renderer=ht,this.id="editor"+ ++Tt.$uid,this.commands=new ut(nt.isMac?"mac":"win",pt),typeof document=="object"&&(this.textInput=new j(ht.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new _(this),new $(this)),this.keyBinding=new et(this),this.$search=new lt().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=rt.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(Ct,Rt){Rt._$emitInputEvent.schedule(31)}),this.setSession(xt||wt&&wt.session||new st("")),vt.resetOptions(this),wt&&this.setOptions(wt),vt._signal("editor",this)};Tt.$uid=0,function(){at.implement(this,gt),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=rt.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(ht){if(this.curOp){if(!ht||this.curOp.command)return;this.prevOp=this.curOp}ht||(this.previousCommand=null,ht={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:ht.command||{},args:ht.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(ht){if(this.curOp&&this.session){if(ht&&ht.returnValue===!1||!this.session)return this.curOp=null;if(ht==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var xt=this.curOp.command,wt=xt&&xt.scrollIntoView;if(wt){switch(wt){case"center-animate":wt="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var kt=this.selection.getRange(),Ct=this.renderer.layerConfig;(kt.start.row>=Ct.lastRow||kt.end.row<=Ct.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}wt=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var Rt=this.selection.toJSON();this.curOp.selectionAfter=Rt,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(Rt),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(ht){if(!!this.$mergeUndoDeltas){var xt=this.prevOp,wt=this.$mergeableCommands,kt=xt.command&&ht.command.name==xt.command.name;if(ht.command.name=="insertstring"){var Ct=ht.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),kt=kt&&this.mergeNextCommand&&(!/\s/.test(Ct)||/\s/.test(xt.args)),this.mergeNextCommand=!0}else kt=kt&&wt.indexOf(ht.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(kt=!1),kt?this.session.mergeUndoDeltas=!0:wt.indexOf(ht.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(ht,xt){if(ht&&typeof ht=="string"&&ht!="ace"){this.$keybindingId=ht;var wt=this;vt.loadModule(["keybinding",ht],function(kt){wt.$keybindingId==ht&&wt.keyBinding.setKeyboardHandler(kt&&kt.handler),xt&&xt()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(ht),xt&&xt()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(ht){if(this.session!=ht){this.curOp&&this.endOperation(),this.curOp={};var xt=this.session;if(xt){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var wt=this.session.getSelection();wt.off("changeCursor",this.$onCursorChange),wt.off("changeSelection",this.$onSelectionChange)}this.session=ht,ht?(this.$onDocumentChange=this.onDocumentChange.bind(this),ht.on("change",this.$onDocumentChange),this.renderer.setSession(ht),this.$onChangeMode=this.onChangeMode.bind(this),ht.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),ht.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),ht.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),ht.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),ht.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),ht.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=ht.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(ht)),this._signal("changeSession",{session:ht,oldSession:xt}),this.curOp=null,xt&&xt._signal("changeEditor",{oldEditor:this}),ht&&ht._signal("changeEditor",{editor:this}),ht&&!ht.destroyed&&ht.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(ht,xt){return this.session.doc.setValue(ht),xt?xt==1?this.navigateFileEnd():xt==-1&&this.navigateFileStart():this.selectAll(),ht},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(ht){this.renderer.onResize(ht)},this.setTheme=function(ht,xt){this.renderer.setTheme(ht,xt)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(ht){this.renderer.setStyle(ht)},this.unsetStyle=function(ht){this.renderer.unsetStyle(ht)},this.getFontSize=function(){return this.getOption("fontSize")||ot.computedStyle(this.container).fontSize},this.setFontSize=function(ht){this.setOption("fontSize",ht)},this.$highlightBrackets=function(){if(!this.$highlightPending){var ht=this;this.$highlightPending=!0,setTimeout(function(){ht.$highlightPending=!1;var xt=ht.session;if(!(!xt||xt.destroyed)){xt.$bracketHighlight&&(xt.$bracketHighlight.markerIds.forEach(function(Ot){xt.removeMarker(Ot)}),xt.$bracketHighlight=null);var wt=ht.getCursorPosition(),kt=ht.getKeyboardHandler(),Ct=kt&&kt.$getDirectionForHighlight&&kt.$getDirectionForHighlight(ht),Rt=xt.getMatchingBracketRanges(wt,Ct);if(!Rt){var Lt=new dt(xt,wt.row,wt.column),Mt=Lt.getCurrentToken();if(Mt&&/\b(?:tag-open|tag-name)/.test(Mt.type)){var Wt=xt.getMatchingTags(wt);Wt&&(Rt=[Wt.openTagName,Wt.closeTagName])}}if(!Rt&&xt.$mode.getMatching&&(Rt=xt.$mode.getMatching(ht.session)),!Rt){ht.getHighlightIndentGuides()&&ht.renderer.$textLayer.$highlightIndentGuide();return}var Pt="ace_bracket";Array.isArray(Rt)?Rt.length==1&&(Pt="ace_error_bracket"):Rt=[Rt],Rt.length==2&&(ft.comparePoints(Rt[0].end,Rt[1].start)==0?Rt=[ft.fromPoints(Rt[0].start,Rt[1].end)]:ft.comparePoints(Rt[0].start,Rt[1].end)==0&&(Rt=[ft.fromPoints(Rt[1].start,Rt[0].end)])),xt.$bracketHighlight={ranges:Rt,markerIds:Rt.map(function(Ot){return xt.addMarker(Ot,Pt,"text")})},ht.getHighlightIndentGuides()&&ht.renderer.$textLayer.$highlightIndentGuide()}},50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(ht){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",ht))},this.onBlur=function(ht){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",ht))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(ht){var xt=this.session.$useWrapMode,wt=ht.start.row==ht.end.row?ht.end.row:1/0;this.renderer.updateLines(ht.start.row,wt,xt),this._signal("change",ht),this.$cursorChange()},this.onTokenizerUpdate=function(ht){var xt=ht.data;this.renderer.updateLines(xt.first,xt.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var ht=this.getSession(),xt;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(xt=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(xt=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(xt=!1)),ht.$highlightLineMarker&&!xt)ht.removeMarker(ht.$highlightLineMarker.id),ht.$highlightLineMarker=null;else if(!ht.$highlightLineMarker&&xt){var wt=new ft(xt.row,xt.column,xt.row,1/0);wt.id=ht.addMarker(wt,"ace_active-line","screenLine"),ht.$highlightLineMarker=wt}else xt&&(ht.$highlightLineMarker.start.row=xt.row,ht.$highlightLineMarker.end.row=xt.row,ht.$highlightLineMarker.start.column=xt.column,ht._signal("changeBackMarker"))},this.onSelectionChange=function(ht){var xt=this.session;if(xt.$selectionMarker&&xt.removeMarker(xt.$selectionMarker),xt.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var wt=this.selection.getRange(),kt=this.getSelectionStyle();xt.$selectionMarker=xt.addMarker(wt,"ace_selection",kt)}var Ct=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(Ct),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var ht=this.session,xt=this.getSelectionRange();if(!(xt.isEmpty()||xt.isMultiLine())){var wt=xt.start.column,kt=xt.end.column,Ct=ht.getLine(xt.start.row),Rt=Ct.substring(wt,kt);if(!(Rt.length>5e3||!/[\w\d]/.test(Rt))){var Lt=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:Rt}),Mt=Ct.substring(wt-1,kt+1);if(!!Lt.test(Mt))return Lt}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(ht){this.renderer.updateText(),this._emit("changeMode",ht)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var ht=this.getSelectedText(),xt=this.session.doc.getNewLineCharacter(),wt=!1;if(!ht&&this.$copyWithEmptySelection){wt=!0;for(var kt=this.selection.getAllRanges(),Ct=0;Ct<kt.length;Ct++){var Rt=kt[Ct];Ct&&kt[Ct-1].start.row==Rt.start.row||(ht+=this.session.getLine(Rt.start.row)+xt)}}var Lt={text:ht};return this._signal("copy",Lt),mt.lineMode=wt?Lt.text:!1,Lt.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(ht,xt){var wt={text:ht,event:xt};this.commands.exec("paste",this,wt)},this.$handlePaste=function(ht){typeof ht=="string"&&(ht={text:ht}),this._signal("paste",ht);var xt=ht.text,wt=xt===mt.lineMode,kt=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)wt?kt.insert({row:this.selection.lead.row,column:0},xt):this.insert(xt);else if(wt)this.selection.rangeList.ranges.forEach(function(Pt){kt.insert({row:Pt.start.row,column:0},xt)});else{var Ct=xt.split(/\r\n|\r|\n/),Rt=this.selection.rangeList.ranges,Lt=Ct.length==2&&(!Ct[0]||!Ct[1]);if(Ct.length!=Rt.length||Lt)return this.commands.exec("insertstring",this,xt);for(var Mt=Rt.length;Mt--;){var Wt=Rt[Mt];Wt.isEmpty()||kt.remove(Wt),kt.insert(Wt.start,Ct[Mt])}}},this.execCommand=function(ht,xt){return this.commands.exec(ht,this,xt)},this.insert=function(ht,xt){var wt=this.session,kt=wt.getMode(),Ct=this.getCursorPosition();if(this.getBehavioursEnabled()&&!xt){var Rt=kt.transformAction(wt.getState(Ct.row),"insertion",this,wt,ht);Rt&&(ht!==Rt.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),ht=Rt.text)}if(ht=="	"&&(ht=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&ht.indexOf(`
`)==-1){var Lt=new ft.fromPoints(Ct,Ct);Lt.end.column+=ht.length,this.session.remove(Lt)}}else{var Lt=this.getSelectionRange();Ct=this.session.remove(Lt),this.clearSelection()}if(ht==`
`||ht==`\r
`){var Ot=wt.getLine(Ct.row);if(Ct.column>Ot.search(/\S|$/)){var Mt=Ot.substr(Ct.column).search(/\S|$/);wt.doc.removeInLine(Ct.row,Ct.column,Ct.column+Mt)}}this.clearSelection();var Wt=Ct.column,Pt=wt.getState(Ct.row),Ot=wt.getLine(Ct.row),Xt=kt.checkOutdent(Pt,Ot,ht);if(wt.insert(Ct,ht),Rt&&Rt.selection&&(Rt.selection.length==2?this.selection.setSelectionRange(new ft(Ct.row,Wt+Rt.selection[0],Ct.row,Wt+Rt.selection[1])):this.selection.setSelectionRange(new ft(Ct.row+Rt.selection[0],Rt.selection[1],Ct.row+Rt.selection[2],Rt.selection[3]))),this.$enableAutoIndent){if(wt.getDocument().isNewLine(ht)){var rn=kt.getNextLineIndent(Pt,Ot.slice(0,Ct.column),wt.getTabString());wt.insert({row:Ct.row+1,column:0},rn)}Xt&&kt.autoOutdent(Pt,wt,Ct.row)}},this.autoIndent=function(){var ht=this.session,xt=ht.getMode(),wt,kt;if(this.selection.isEmpty())wt=0,kt=ht.doc.getLength()-1;else{var Ct=this.getSelectionRange();wt=Ct.start.row,kt=Ct.end.row}for(var Rt="",Lt="",Mt="",Wt,Pt,Ot,Xt=ht.getTabString(),rn=wt;rn<=kt;rn++)rn>0&&(Rt=ht.getState(rn-1),Lt=ht.getLine(rn-1),Mt=xt.getNextLineIndent(Rt,Lt,Xt)),Wt=ht.getLine(rn),Pt=xt.$getIndent(Wt),Mt!==Pt&&(Pt.length>0&&(Ot=new ft(rn,0,rn,Pt.length),ht.remove(Ot)),Mt.length>0&&ht.insert({row:rn,column:0},Mt)),xt.autoOutdent(Rt,ht,rn)},this.onTextInput=function(ht,xt){if(!xt)return this.keyBinding.onTextInput(ht);this.startOperation({command:{name:"insertstring"}});var wt=this.applyComposition.bind(this,ht,xt);this.selection.rangeCount?this.forEachSelection(wt):wt(),this.endOperation()},this.applyComposition=function(ht,xt){if(xt.extendLeft||xt.extendRight){var wt=this.selection.getRange();wt.start.column-=xt.extendLeft,wt.end.column+=xt.extendRight,wt.start.column<0&&(wt.start.row--,wt.start.column+=this.session.getLine(wt.start.row).length+1),this.selection.setRange(wt),!ht&&!wt.isEmpty()&&this.remove()}if((ht||!this.selection.isEmpty())&&this.insert(ht,!0),xt.restoreStart||xt.restoreEnd){var wt=this.selection.getRange();wt.start.column-=xt.restoreStart,wt.end.column-=xt.restoreEnd,this.selection.setRange(wt)}},this.onCommandKey=function(ht,xt,wt){return this.keyBinding.onCommandKey(ht,xt,wt)},this.setOverwrite=function(ht){this.session.setOverwrite(ht)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(ht){this.setOption("scrollSpeed",ht)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(ht){this.setOption("dragDelay",ht)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(ht){this.setOption("selectionStyle",ht)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(ht){this.setOption("highlightActiveLine",ht)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(ht){this.setOption("highlightGutterLine",ht)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(ht){this.setOption("highlightSelectedWord",ht)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(ht){this.renderer.setAnimatedScroll(ht)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(ht){this.renderer.setShowInvisibles(ht)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(ht){this.renderer.setDisplayIndentGuides(ht)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(ht){this.renderer.setHighlightIndentGuides(ht)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(ht){this.renderer.setShowPrintMargin(ht)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(ht){this.renderer.setPrintMarginColumn(ht)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(ht){this.setOption("readOnly",ht)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(ht){this.setOption("behavioursEnabled",ht)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(ht){this.setOption("wrapBehavioursEnabled",ht)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(ht){this.setOption("showFoldWidgets",ht)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(ht){this.setOption("fadeFoldWidgets",ht)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(ht){this.selection.isEmpty()&&(ht=="left"?this.selection.selectLeft():this.selection.selectRight());var xt=this.getSelectionRange();if(this.getBehavioursEnabled()){var wt=this.session,kt=wt.getState(xt.start.row),Ct=wt.getMode().transformAction(kt,"deletion",this,wt,xt);if(xt.end.column===0){var Rt=wt.getTextRange(xt);if(Rt[Rt.length-1]==`
`){var Lt=wt.getLine(xt.end.row);/^\s+$/.test(Lt)&&(xt.end.column=Lt.length)}}Ct&&(xt=Ct)}this.session.remove(xt),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var ht=this.getSelectionRange();ht.start.column==ht.end.column&&ht.start.row==ht.end.row&&(ht.end.column=0,ht.end.row++),this.session.remove(ht),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var ht=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(ht)},this.transposeLetters=function(){if(!!this.selection.isEmpty()){var ht=this.getCursorPosition(),xt=ht.column;if(xt!==0){var wt=this.session.getLine(ht.row),kt,Ct;xt<wt.length?(kt=wt.charAt(xt)+wt.charAt(xt-1),Ct=new ft(ht.row,xt-1,ht.row,xt+1)):(kt=wt.charAt(xt-1)+wt.charAt(xt-2),Ct=new ft(ht.row,xt-2,ht.row,xt)),this.session.replace(Ct,kt),this.session.selection.moveToPosition(Ct.end)}}},this.toLowerCase=function(){var ht=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var xt=this.getSelectionRange(),wt=this.session.getTextRange(xt);this.session.replace(xt,wt.toLowerCase()),this.selection.setSelectionRange(ht)},this.toUpperCase=function(){var ht=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var xt=this.getSelectionRange(),wt=this.session.getTextRange(xt);this.session.replace(xt,wt.toUpperCase()),this.selection.setSelectionRange(ht)},this.indent=function(){var ht=this.session,xt=this.getSelectionRange();if(xt.start.row<xt.end.row){var wt=this.$getSelectedRows();ht.indentRows(wt.first,wt.last,"	");return}else if(xt.start.column<xt.end.column){var kt=ht.getTextRange(xt);if(!/^\s+$/.test(kt)){var wt=this.$getSelectedRows();ht.indentRows(wt.first,wt.last,"	");return}}var Ct=ht.getLine(xt.start.row),Rt=xt.start,Lt=ht.getTabSize(),Mt=ht.documentToScreenColumn(Rt.row,Rt.column);if(this.session.getUseSoftTabs())var Wt=Lt-Mt%Lt,Pt=rt.stringRepeat(" ",Wt);else{for(var Wt=Mt%Lt;Ct[xt.start.column-1]==" "&&Wt;)xt.start.column--,Wt--;this.selection.setSelectionRange(xt),Pt="	"}return this.insert(Pt)},this.blockIndent=function(){var ht=this.$getSelectedRows();this.session.indentRows(ht.first,ht.last,"	")},this.blockOutdent=function(){var ht=this.session.getSelection();this.session.outdentRows(ht.getRange())},this.sortLines=function(){for(var ht=this.$getSelectedRows(),xt=this.session,wt=[],kt=ht.first;kt<=ht.last;kt++)wt.push(xt.getLine(kt));wt.sort(function(Lt,Mt){return Lt.toLowerCase()<Mt.toLowerCase()?-1:Lt.toLowerCase()>Mt.toLowerCase()?1:0});for(var Ct=new ft(0,0,0,0),kt=ht.first;kt<=ht.last;kt++){var Rt=xt.getLine(kt);Ct.start.row=kt,Ct.end.row=kt,Ct.end.column=Rt.length,xt.replace(Ct,wt[kt-ht.first])}},this.toggleCommentLines=function(){var ht=this.session.getState(this.getCursorPosition().row),xt=this.$getSelectedRows();this.session.getMode().toggleCommentLines(ht,this.session,xt.first,xt.last)},this.toggleBlockComment=function(){var ht=this.getCursorPosition(),xt=this.session.getState(ht.row),wt=this.getSelectionRange();this.session.getMode().toggleBlockComment(xt,this.session,wt,ht)},this.getNumberAt=function(ht,xt){var wt=/[\-]?[0-9]+(?:\.[0-9]+)?/g;wt.lastIndex=0;for(var kt=this.session.getLine(ht);wt.lastIndex<xt;){var Ct=wt.exec(kt);if(Ct.index<=xt&&Ct.index+Ct[0].length>=xt){var Rt={value:Ct[0],start:Ct.index,end:Ct.index+Ct[0].length};return Rt}}return null},this.modifyNumber=function(ht){var xt=this.selection.getCursor().row,wt=this.selection.getCursor().column,kt=new ft(xt,wt-1,xt,wt),Ct=this.session.getTextRange(kt);if(!isNaN(parseFloat(Ct))&&isFinite(Ct)){var Rt=this.getNumberAt(xt,wt);if(Rt){var Lt=Rt.value.indexOf(".")>=0?Rt.start+Rt.value.indexOf(".")+1:Rt.end,Mt=Rt.start+Rt.value.length-Lt,Wt=parseFloat(Rt.value);Wt*=Math.pow(10,Mt),Lt!==Rt.end&&wt<Lt?ht*=Math.pow(10,Rt.end-wt-1):ht*=Math.pow(10,Rt.end-wt),Wt+=ht,Wt/=Math.pow(10,Mt);var Pt=Wt.toFixed(Mt),Ot=new ft(xt,Rt.start,xt,Rt.end);this.session.replace(Ot,Pt),this.moveCursorTo(xt,Math.max(Rt.start+1,wt+Pt.length-Rt.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var ht=this.selection.getCursor().row,xt=this.selection.getCursor().column;this.selection.selectWord();var wt=this.getSelectedText(),kt=this.selection.getWordRange().start.column,Ct=wt.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),Rt=xt-kt-1;Rt<0&&(Rt=0);var Lt=0,Mt=0,Wt=this;wt.match(/[A-Za-z0-9_]+/)&&Ct.forEach(function(nn,_n){Mt=Lt+nn.length,Rt>=Lt&&Rt<=Mt&&(wt=nn,Wt.selection.clearSelection(),Wt.moveCursorTo(ht,Lt+kt),Wt.selection.selectTo(ht,Mt+kt)),Lt=Mt});for(var Pt=this.$toggleWordPairs,Ot,Xt=0;Xt<Pt.length;Xt++)for(var rn=Pt[Xt],jt=0;jt<=1;jt++){var Vt=+!jt,en=wt.match(new RegExp("^\\s?_?("+rt.escapeRegExp(rn[jt])+")\\s?$","i"));if(en){var ln=wt.match(new RegExp("([_]|^|\\s)("+rt.escapeRegExp(en[1])+")($|\\s)","g"));ln&&(Ot=wt.replace(new RegExp(rt.escapeRegExp(rn[jt]),"i"),function(nn){var _n=rn[Vt];return nn.toUpperCase()==nn?_n=_n.toUpperCase():nn.charAt(0).toUpperCase()==nn.charAt(0)&&(_n=_n.substr(0,0)+rn[Vt].charAt(0).toUpperCase()+_n.substr(1)),_n}),this.insert(Ot),Ot="")}}},this.findLinkAt=function(ht,xt){var wt,kt,Ct=this.session.getLine(ht),Rt=Ct.split(/((?:https?|ftp):\/\/[\S]+)/),Lt=xt;Lt<0&&(Lt=0);var Mt=0,Wt=0,Pt;try{for(var Ot=tt(Rt),Xt=Ot.next();!Xt.done;Xt=Ot.next()){var rn=Xt.value;if(Wt=Mt+rn.length,Lt>=Mt&&Lt<=Wt&&rn.match(/((?:https?|ftp):\/\/[\S]+)/)){Pt=rn.replace(/[\s:.,'";}\]]+$/,"");break}Mt=Wt}}catch(jt){wt={error:jt}}finally{try{Xt&&!Xt.done&&(kt=Ot.return)&&kt.call(Ot)}finally{if(wt)throw wt.error}}return Pt},this.openLink=function(){var ht=this.selection.getCursor(),xt=this.findLinkAt(ht.row,ht.column);return xt&&window.open(xt,"_blank"),xt!=null},this.removeLines=function(){var ht=this.$getSelectedRows();this.session.removeFullLines(ht.first,ht.last),this.clearSelection()},this.duplicateSelection=function(){var ht=this.selection,xt=this.session,wt=ht.getRange(),kt=ht.isBackwards();if(wt.isEmpty()){var Ct=wt.start.row;xt.duplicateLines(Ct,Ct)}else{var Rt=kt?wt.start:wt.end,Lt=xt.insert(Rt,xt.getTextRange(wt),!1);wt.start=Rt,wt.end=Lt,ht.setSelectionRange(wt,kt)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(ht,xt,wt){return this.session.moveText(ht,xt,wt)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(ht,xt){var wt,kt,Ct=this.selection;if(!Ct.inMultiSelectMode||this.inVirtualSelectionMode){var Rt=Ct.toOrientedRange();wt=this.$getSelectedRows(Rt),kt=this.session.$moveLines(wt.first,wt.last,xt?0:ht),xt&&ht==-1&&(kt=0),Rt.moveBy(kt,0),Ct.fromOrientedRange(Rt)}else{var Lt=Ct.rangeList.ranges;Ct.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Mt=0,Wt=0,Pt=Lt.length,Ot=0;Ot<Pt;Ot++){var Xt=Ot;Lt[Ot].moveBy(Mt,0),wt=this.$getSelectedRows(Lt[Ot]);for(var rn=wt.first,jt=wt.last;++Ot<Pt;){Wt&&Lt[Ot].moveBy(Wt,0);var Vt=this.$getSelectedRows(Lt[Ot]);if(xt&&Vt.first!=jt)break;if(!xt&&Vt.first>jt+1)break;jt=Vt.last}for(Ot--,Mt=this.session.$moveLines(rn,jt,xt?0:ht),xt&&ht==-1&&(Xt=Ot+1);Xt<=Ot;)Lt[Xt].moveBy(Mt,0),Xt++;xt||(Mt=0),Wt+=Mt}Ct.fromOrientedRange(Ct.ranges[0]),Ct.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(ht){return ht=(ht||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(ht.start.row),last:this.session.getRowFoldEnd(ht.end.row)}},this.onCompositionStart=function(ht){this.renderer.showComposition(ht)},this.onCompositionUpdate=function(ht){this.renderer.setCompositionText(ht)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(ht){return ht>=this.getFirstVisibleRow()&&ht<=this.getLastVisibleRow()},this.isRowFullyVisible=function(ht){return ht>=this.renderer.getFirstFullyVisibleRow()&&ht<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(ht,xt){var wt=this.renderer,kt=this.renderer.layerConfig,Ct=ht*Math.floor(kt.height/kt.lineHeight);xt===!0?this.selection.$moveSelection(function(){this.moveCursorBy(Ct,0)}):xt===!1&&(this.selection.moveCursorBy(Ct,0),this.selection.clearSelection());var Rt=wt.scrollTop;wt.scrollBy(0,Ct*kt.lineHeight),xt!=null&&wt.scrollCursorIntoView(null,.5),wt.animateScrolling(Rt)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(ht){this.renderer.scrollToRow(ht)},this.scrollToLine=function(ht,xt,wt,kt){this.renderer.scrollToLine(ht,xt,wt,kt)},this.centerSelection=function(){var ht=this.getSelectionRange(),xt={row:Math.floor(ht.start.row+(ht.end.row-ht.start.row)/2),column:Math.floor(ht.start.column+(ht.end.column-ht.start.column)/2)};this.renderer.alignCursor(xt,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(ht,xt){this.selection.moveCursorTo(ht,xt)},this.moveCursorToPosition=function(ht){this.selection.moveCursorToPosition(ht)},this.jumpToMatching=function(ht,xt){var wt=this.getCursorPosition(),kt=new dt(this.session,wt.row,wt.column),Ct=kt.getCurrentToken(),Rt=0;Ct&&Ct.type.indexOf("tag-name")!==-1&&(Ct=kt.stepBackward());var Lt=Ct||kt.stepForward();if(!!Lt){var Mt,Wt=!1,Pt={},Ot=wt.column-Lt.start,Xt,rn={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(Lt.value.match(/[{}()\[\]]/g)){for(;Ot<Lt.value.length&&!Wt;Ot++)if(!!rn[Lt.value[Ot]])switch(Xt=rn[Lt.value[Ot]]+"."+Lt.type.replace("rparen","lparen"),isNaN(Pt[Xt])&&(Pt[Xt]=0),Lt.value[Ot]){case"(":case"[":case"{":Pt[Xt]++;break;case")":case"]":case"}":Pt[Xt]--,Pt[Xt]===-1&&(Mt="bracket",Wt=!0);break}}else Lt.type.indexOf("tag-name")!==-1&&(isNaN(Pt[Lt.value])&&(Pt[Lt.value]=0),Ct.value==="<"&&Rt>1?Pt[Lt.value]++:Ct.value==="</"&&Pt[Lt.value]--,Pt[Lt.value]===-1&&(Mt="tag",Wt=!0));Wt||(Ct=Lt,Rt++,Lt=kt.stepForward(),Ot=0)}while(Lt&&!Wt);if(!!Mt){var jt,Vt;if(Mt==="bracket")jt=this.session.getBracketRange(wt),jt||(jt=new ft(kt.getCurrentTokenRow(),kt.getCurrentTokenColumn()+Ot-1,kt.getCurrentTokenRow(),kt.getCurrentTokenColumn()+Ot-1),Vt=jt.start,(xt||Vt.row===wt.row&&Math.abs(Vt.column-wt.column)<2)&&(jt=this.session.getBracketRange(Vt)));else if(Mt==="tag"){if(!Lt||Lt.type.indexOf("tag-name")===-1)return;if(jt=new ft(kt.getCurrentTokenRow(),kt.getCurrentTokenColumn()-2,kt.getCurrentTokenRow(),kt.getCurrentTokenColumn()-2),jt.compare(wt.row,wt.column)===0){var en=this.session.getMatchingTags(wt);en&&(en.openTag.contains(wt.row,wt.column)?(jt=en.closeTag,Vt=jt.start):(jt=en.openTag,en.closeTag.start.row===wt.row&&en.closeTag.start.column===wt.column?Vt=jt.end:Vt=jt.start))}Vt=Vt||jt.start}Vt=jt&&jt.cursor||Vt,Vt&&(ht?jt&&xt?this.selection.setRange(jt):jt&&jt.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Vt.row,Vt.column):this.selection.moveTo(Vt.row,Vt.column))}}},this.gotoLine=function(ht,xt,wt){this.selection.clearSelection(),this.session.unfold({row:ht-1,column:xt||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(ht-1,xt||0),this.isRowFullyVisible(ht-1)||this.scrollToLine(ht-1,!0,wt)},this.navigateTo=function(ht,xt){this.selection.moveTo(ht,xt)},this.navigateUp=function(ht){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var xt=this.selection.anchor.getPosition();return this.moveCursorToPosition(xt)}this.selection.clearSelection(),this.selection.moveCursorBy(-ht||-1,0)},this.navigateDown=function(ht){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var xt=this.selection.anchor.getPosition();return this.moveCursorToPosition(xt)}this.selection.clearSelection(),this.selection.moveCursorBy(ht||1,0)},this.navigateLeft=function(ht){if(this.selection.isEmpty())for(ht=ht||1;ht--;)this.selection.moveCursorLeft();else{var xt=this.getSelectionRange().start;this.moveCursorToPosition(xt)}this.clearSelection()},this.navigateRight=function(ht){if(this.selection.isEmpty())for(ht=ht||1;ht--;)this.selection.moveCursorRight();else{var xt=this.getSelectionRange().end;this.moveCursorToPosition(xt)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(ht,xt){xt&&this.$search.set(xt);var wt=this.$search.find(this.session),kt=0;return wt&&(this.$tryReplace(wt,ht)&&(kt=1),this.selection.setSelectionRange(wt),this.renderer.scrollSelectionIntoView(wt.start,wt.end)),kt},this.replaceAll=function(ht,xt){xt&&this.$search.set(xt);var wt=this.$search.findAll(this.session),kt=0;if(!wt.length)return kt;var Ct=this.getSelectionRange();this.selection.moveTo(0,0);for(var Rt=wt.length-1;Rt>=0;--Rt)this.$tryReplace(wt[Rt],ht)&&kt++;return this.selection.setSelectionRange(Ct),kt},this.$tryReplace=function(ht,xt){var wt=this.session.getTextRange(ht);return xt=this.$search.replace(wt,xt),xt!==null?(ht.end=this.session.replace(ht,xt),ht):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(ht,xt,wt){xt||(xt={}),typeof ht=="string"||ht instanceof RegExp?xt.needle=ht:typeof ht=="object"&&at.mixin(xt,ht);var kt=this.selection.getRange();xt.needle==null&&(ht=this.session.getTextRange(kt)||this.$search.$options.needle,ht||(kt=this.session.getWordRange(kt.start.row,kt.start.column),ht=this.session.getTextRange(kt)),this.$search.set({needle:ht})),this.$search.set(xt),xt.start||this.$search.set({start:kt});var Ct=this.$search.find(this.session);if(xt.preventScroll)return Ct;if(Ct)return this.revealRange(Ct,wt),Ct;xt.backwards?kt.start=kt.end:kt.end=kt.start,this.selection.setRange(kt)},this.findNext=function(ht,xt){this.find({skipCurrent:!0,backwards:!1},ht,xt)},this.findPrevious=function(ht,xt){this.find(ht,{skipCurrent:!0,backwards:!0},xt)},this.revealRange=function(ht,xt){this.session.unfold(ht),this.selection.setSelectionRange(ht);var wt=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(ht.start,ht.end,.5),xt!==!1&&this.renderer.animateScrolling(wt)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(ht){ht.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(ht){if(!!ht){var xt,wt=this,kt=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var Ct=this.$scrollAnchor;Ct.style.cssText="position:absolute",this.container.insertBefore(Ct,this.container.firstChild);var Rt=this.on("changeSelection",function(){kt=!0}),Lt=this.renderer.on("beforeRender",function(){kt&&(xt=wt.renderer.container.getBoundingClientRect())}),Mt=this.renderer.on("afterRender",function(){if(kt&&xt&&(wt.isFocused()||wt.searchBox&&wt.searchBox.isFocused())){var Wt=wt.renderer,Pt=Wt.$cursorLayer.$pixelPos,Ot=Wt.layerConfig,Xt=Pt.top-Ot.offset;Pt.top>=0&&Xt+xt.top<0?kt=!0:Pt.top<Ot.height&&Pt.top+xt.top+Ot.lineHeight>window.innerHeight?kt=!1:kt=null,kt!=null&&(Ct.style.top=Xt+"px",Ct.style.left=Pt.left+"px",Ct.style.height=Ot.lineHeight+"px",Ct.scrollIntoView(kt)),kt=xt=null}});this.setAutoScrollEditorIntoView=function(Wt){Wt||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",Rt),this.renderer.off("afterRender",Mt),this.renderer.off("beforeRender",Lt))}}},this.$resetCursorStyle=function(){var ht=this.$cursorStyle||"ace",xt=this.renderer.$cursorLayer;!xt||(xt.setSmoothBlinking(/smooth/.test(ht)),xt.isBlinking=!this.$readOnly&&ht!="wide",ot.setCssClass(xt.element,"ace_slim-cursors",/slim/.test(ht)))},this.prompt=function(ht,xt,wt){var kt=this;vt.loadModule("./ext/prompt",function(Ct){Ct.prompt(kt,ht,xt,wt)})}}.call(Tt.prototype),vt.defineOptions(Tt.prototype,"editor",{selectionStyle:{set:function(ht){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:ht})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(ht){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(ht){this.textInput.setReadOnly(ht),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(ht){this.textInput.setCopyWithEmptySelection(ht)},initialValue:!1},cursorStyle:{set:function(ht){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(ht){this.setAutoScrollEditorIntoView(ht)}},keyboardHandler:{set:function(ht){this.setKeyboardHandler(ht)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(ht){this.session.setValue(ht)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(ht){this.setSession(ht)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(ht){this.renderer.$gutterLayer.setShowLineNumbers(ht),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),ht&&this.$relativeLineNumbers?yt.attach(this):yt.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(ht){this.$showLineNumbers&&ht?yt.attach(this):yt.detach(this)}},placeholder:{set:function(ht){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var xt=this.session&&(this.renderer.$composition||this.getValue());if(xt&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),ot.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!xt&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),ot.addCssClass(this.container,"ace_hasPlaceholder");var wt=ot.createElement("div");wt.className="ace_placeholder",wt.textContent=this.$placeholder||"",this.renderer.placeholderNode=wt,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!xt&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var yt={getText:function(ht,xt){return(Math.abs(ht.selection.lead.row-xt)||xt+1+(xt<9?"\xB7":""))+""},getWidth:function(ht,xt,wt){return Math.max(xt.toString().length,(wt.lastRow+1).toString().length,2)*wt.characterWidth},update:function(ht,xt){xt.renderer.$loop.schedule(xt.renderer.CHANGE_GUTTER)},attach:function(ht){ht.renderer.$gutterLayer.$renderer=this,ht.on("changeSelection",this.update),this.update(null,ht)},detach:function(ht){ht.renderer.$gutterLayer.$renderer==this&&(ht.renderer.$gutterLayer.$renderer=null),ht.off("changeSelection",this.update),this.update(null,ht)}};o.Editor=Tt}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(a,o,it){var tt=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(dt){this.$session=dt},this.add=function(dt,mt,Tt){if(!this.$fromUndo&&dt!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),mt===!1||!this.lastDeltas){this.lastDeltas=[];var yt=this.$undoStack.length;yt>this.$undoDepth-1&&this.$undoStack.splice(0,yt-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),dt.id=this.$rev=++this.$maxRev}(dt.action=="remove"||dt.action=="insert")&&(this.$lastDelta=dt),this.lastDeltas.push(dt)}},this.addSelection=function(dt,mt){this.selections.push({value:dt,rev:mt||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(dt,mt){mt==null&&(mt=this.$rev+1);for(var Tt=this.$undoStack,yt=Tt.length;yt--;){var ht=Tt[yt][0];if(ht.id<=dt)break;ht.id<mt&&(ht.ignore=!0)}this.lastDeltas=null},this.getSelection=function(dt,mt){for(var Tt=this.selections,yt=Tt.length;yt--;){var ht=Tt[yt];if(ht.rev<dt)return mt&&(ht=Tt[yt+1]),ht}},this.getRevision=function(){return this.$rev},this.getDeltas=function(dt,mt){mt==null&&(mt=this.$rev+1);for(var Tt=this.$undoStack,yt=null,ht=0,xt=Tt.length;xt--;){var wt=Tt[xt][0];if(wt.id<mt&&!yt&&(yt=xt+1),wt.id<=dt){ht=xt+1;break}}return Tt.slice(ht,yt)},this.getChangedRanges=function(dt,mt){mt==null&&(mt=this.$rev+1)},this.getChangedLines=function(dt,mt){mt==null&&(mt=this.$rev+1)},this.undo=function(dt,mt){this.lastDeltas=null;var Tt=this.$undoStack;if(!!at(Tt,Tt.length)){dt||(dt=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var yt=Tt.pop(),ht=null;return yt&&(ht=dt.undoChanges(yt,mt),this.$redoStack.push(yt),this.$syncRev()),this.$fromUndo=!1,ht}},this.redo=function(dt,mt){if(this.lastDeltas=null,dt||(dt=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var Tt=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);vt(this.$redoStack,Tt),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(xt){xt[0].id=++this.$maxRev},this)}var yt=this.$redoStack.pop(),ht=null;return yt&&(ht=dt.redoChanges(yt,mt),this.$undoStack.push(yt),this.$syncRev()),this.$fromUndo=!1,ht},this.$syncRev=function(){var dt=this.$undoStack,mt=dt[dt.length-1],Tt=mt&&mt[0].id||0;this.$redoStackBaseRev=Tt,this.$rev=Tt},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(dt){dt==null&&(dt=this.$rev),this.mark=dt},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(dt){return dt?_(dt):_(this.$undoStack)+`
---
`+_(this.$redoStack)}}).call(tt.prototype);function at(dt,mt){for(var Tt=mt;Tt--;){var yt=dt[Tt];if(yt&&!yt[0].ignore){for(;Tt<mt-1;){var ht=st(dt[Tt],dt[Tt+1]);dt[Tt]=ht[0],dt[Tt+1]=ht[1],Tt++}return!0}}}var ot=a("./range").Range,rt=ot.comparePoints;ot.comparePoints;function nt(dt){return{row:dt.row,column:dt.column}}function j(dt){return{start:nt(dt.start),end:nt(dt.end),action:dt.action,lines:dt.lines.slice()}}function _(dt){if(dt=dt||this,Array.isArray(dt))return dt.map(_).join(`
`);var mt="";return dt.action?(mt=dt.action=="insert"?"+":"-",mt+="["+dt.lines+"]"):dt.value&&(Array.isArray(dt.value)?mt=dt.value.map($).join(`
`):mt=$(dt.value)),dt.start&&(mt+=$(dt)),(dt.id||dt.rev)&&(mt+="	("+(dt.id||dt.rev)+")"),mt}function $(dt){return dt.start.row+":"+dt.start.column+"=>"+dt.end.row+":"+dt.end.column}function et(dt,mt){var Tt=dt.action=="insert",yt=mt.action=="insert";if(Tt&&yt)if(rt(mt.start,dt.end)>=0)ft(mt,dt,-1);else if(rt(mt.start,dt.start)<=0)ft(dt,mt,1);else return null;else if(Tt&&!yt)if(rt(mt.start,dt.end)>=0)ft(mt,dt,-1);else if(rt(mt.end,dt.start)<=0)ft(dt,mt,-1);else return null;else if(!Tt&&yt)if(rt(mt.start,dt.start)>=0)ft(mt,dt,1);else if(rt(mt.start,dt.start)<=0)ft(dt,mt,1);else return null;else if(!Tt&&!yt)if(rt(mt.start,dt.start)>=0)ft(mt,dt,1);else if(rt(mt.end,dt.start)<=0)ft(dt,mt,-1);else return null;return[mt,dt]}function st(dt,mt){for(var Tt=dt.length;Tt--;)for(var yt=0;yt<mt.length;yt++)if(!et(dt[Tt],mt[yt])){for(;Tt<dt.length;){for(;yt--;)et(mt[yt],dt[Tt]);yt=mt.length,Tt++}return[dt,mt]}return dt.selectionBefore=mt.selectionBefore=dt.selectionAfter=mt.selectionAfter=null,[mt,dt]}function lt(dt,mt){var Tt=dt.action=="insert",yt=mt.action=="insert";if(Tt&&yt)rt(dt.start,mt.start)<0?ft(mt,dt,1):ft(dt,mt,1);else if(Tt&&!yt)rt(dt.start,mt.end)>=0?ft(dt,mt,-1):(rt(dt.start,mt.start)<=0||ft(dt,ot.fromPoints(mt.start,dt.start),-1),ft(mt,dt,1));else if(!Tt&&yt)rt(mt.start,dt.end)>=0?ft(mt,dt,-1):(rt(mt.start,dt.start)<=0||ft(mt,ot.fromPoints(dt.start,mt.start),-1),ft(dt,mt,1));else if(!Tt&&!yt)if(rt(mt.start,dt.end)>=0)ft(mt,dt,-1);else if(rt(mt.end,dt.start)<=0)ft(dt,mt,-1);else{var ht,xt;return rt(dt.start,mt.start)<0&&(ht=dt,dt=ut(dt,mt.start)),rt(dt.end,mt.end)>0&&(xt=ut(dt,mt.end)),gt(mt.end,dt.start,dt.end,-1),xt&&!ht&&(dt.lines=xt.lines,dt.start=xt.start,dt.end=xt.end,xt=dt),[mt,ht,xt].filter(Boolean)}return[mt,dt]}function ft(dt,mt,Tt){gt(dt.start,mt.start,mt.end,Tt),gt(dt.end,mt.start,mt.end,Tt)}function gt(dt,mt,Tt,yt){dt.row==(yt==1?mt:Tt).row&&(dt.column+=yt*(Tt.column-mt.column)),dt.row+=yt*(Tt.row-mt.row)}function ut(dt,mt){var Tt=dt.lines,yt=dt.end;dt.end=nt(mt);var ht=dt.end.row-dt.start.row,xt=Tt.splice(ht,Tt.length),wt=ht?mt.column:mt.column-dt.start.column;Tt.push(xt[0].substring(0,wt)),xt[0]=xt[0].substr(wt);var kt={start:nt(mt),end:yt,lines:xt,action:dt.action};return kt}function pt(dt,mt){mt=j(mt);for(var Tt=dt.length;Tt--;){for(var yt=dt[Tt],ht=0;ht<yt.length;ht++){var xt=yt[ht],wt=lt(xt,mt);mt=wt[0],wt.length!=2&&(wt[2]?(yt.splice(ht+1,1,wt[1],wt[2]),ht++):wt[1]||(yt.splice(ht,1),ht--))}yt.length||dt.splice(Tt,1)}return dt}function vt(dt,mt){for(var Tt=0;Tt<mt.length;Tt++)for(var yt=mt[Tt],ht=0;ht<yt.length;ht++)pt(dt,yt[ht])}o.UndoManager=tt}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(a,o,it){var tt=a("../lib/dom"),at=function(ot,rt){this.element=ot,this.canvasHeight=rt||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(ot){tt.translate(this.element,0,-(ot.firstRowScreen*ot.lineHeight%this.canvasHeight)-ot.offset*this.$offsetCoefficient)},this.pageChanged=function(ot,rt){return Math.floor(ot.firstRowScreen*ot.lineHeight/this.canvasHeight)!==Math.floor(rt.firstRowScreen*rt.lineHeight/this.canvasHeight)},this.computeLineTop=function(ot,rt,nt){var j=rt.firstRowScreen*rt.lineHeight,_=Math.floor(j/this.canvasHeight),$=nt.documentToScreenRow(ot,0)*rt.lineHeight;return $-_*this.canvasHeight},this.computeLineHeight=function(ot,rt,nt){return rt.lineHeight*nt.getRowLineCount(ot)},this.getLength=function(){return this.cells.length},this.get=function(ot){return this.cells[ot]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(ot){if(Array.isArray(ot)){this.cells.push.apply(this.cells,ot);for(var rt=tt.createFragment(this.element),nt=0;nt<ot.length;nt++)rt.appendChild(ot[nt].element);this.element.appendChild(rt)}else this.cells.push(ot),this.element.appendChild(ot.element)},this.unshift=function(ot){if(Array.isArray(ot)){this.cells.unshift.apply(this.cells,ot);for(var rt=tt.createFragment(this.element),nt=0;nt<ot.length;nt++)rt.appendChild(ot[nt].element);this.element.firstChild?this.element.insertBefore(rt,this.element.firstChild):this.element.appendChild(rt)}else this.cells.unshift(ot),this.element.insertAdjacentElement("afterbegin",ot.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(ot){!ot||(ot.element.remove(),this.cellCache.push(ot))},this.createCell=function(ot,rt,nt,j){var _=this.cellCache.pop();if(!_){var $=tt.createElement("div");j&&j($),this.element.appendChild($),_={element:$,text:"",row:ot}}return _.row=ot,_}}).call(at.prototype),o.Lines=at}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(a,o,it){var tt=a("../lib/dom"),at=a("../lib/oop"),ot=a("../lib/lang"),rt=a("../lib/event_emitter").EventEmitter,nt=a("./lines").Lines,j=function($){this.element=tt.createElement("div"),this.element.className="ace_layer ace_gutter-layer",$.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new nt(this.element),this.$lines.$offsetCoefficient=1};(function(){at.implement(this,rt),this.setSession=function($){this.session&&this.session.off("change",this.$updateAnnotations),this.session=$,$&&$.on("change",this.$updateAnnotations)},this.addGutterDecoration=function($,et){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration($,et)},this.removeGutterDecoration=function($,et){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration($,et)},this.setAnnotations=function($){this.$annotations=[];for(var et=0;et<$.length;et++){var st=$[et],lt=st.row,ft=this.$annotations[lt];ft||(ft=this.$annotations[lt]={text:[]});var gt=st.text;gt=gt?ot.escapeHTML(gt):st.html||"",ft.text.indexOf(gt)===-1&&ft.text.push(gt);var ut=st.type,pt=st.className;pt?ft.className=pt:ut=="error"?ft.className=" ace_error":ut=="warning"&&ft.className!=" ace_error"?ft.className=" ace_warning":ut=="info"&&!ft.className&&(ft.className=" ace_info")}},this.$updateAnnotations=function($){if(!!this.$annotations.length){var et=$.start.row,st=$.end.row-et;if(st!==0)if($.action=="remove")this.$annotations.splice(et,st+1,null);else{var lt=new Array(st+1);lt.unshift(et,1),this.$annotations.splice.apply(this.$annotations,lt)}}},this.update=function($){this.config=$;var et=this.session,st=$.firstRow,lt=Math.min($.lastRow+$.gutterOffset,et.getLength()-1);this.oldLastRow=lt,this.config=$,this.$lines.moveContainer($),this.$updateCursorRow();for(var ft=et.getNextFoldLine(st),gt=ft?ft.start.row:1/0,ut=null,pt=-1,vt=st;;){if(vt>gt&&(vt=ft.end.row+1,ft=et.getNextFoldLine(vt,ft),gt=ft?ft.start.row:1/0),vt>lt){for(;this.$lines.getLength()>pt+1;)this.$lines.pop();break}ut=this.$lines.get(++pt),ut?ut.row=vt:(ut=this.$lines.createCell(vt,$,this.session,_),this.$lines.push(ut)),this.$renderCell(ut,$,ft,vt),vt++}this._signal("afterRender"),this.$updateGutterWidth($)},this.$updateGutterWidth=function($){var et=this.session,st=et.gutterRenderer||this.$renderer,lt=et.$firstLineNumber,ft=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||et.$useWrapMode)&&(ft=et.getLength()+lt-1);var gt=st?st.getWidth(et,ft,$):ft.toString().length*$.characterWidth,ut=this.$padding||this.$computePadding();gt+=ut.left+ut.right,gt!==this.gutterWidth&&!isNaN(gt)&&(this.gutterWidth=gt,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",gt))},this.$updateCursorRow=function(){if(!!this.$highlightGutterLine){var $=this.session.selection.getCursor();this.$cursorRow!==$.row&&(this.$cursorRow=$.row)}},this.updateLineHighlight=function(){if(!!this.$highlightGutterLine){var $=this.session.selection.cursor.row;if(this.$cursorRow=$,!(this.$cursorCell&&this.$cursorCell.row==$)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var et=this.$lines.cells;this.$cursorCell=null;for(var st=0;st<et.length;st++){var lt=et[st];if(lt.row>=this.$cursorRow){if(lt.row>this.$cursorRow){var ft=this.session.getFoldLine(this.$cursorRow);if(st>0&&ft&&ft.start.row==et[st-1].row)lt=et[st-1];else break}lt.element.className="ace_gutter-active-line "+lt.element.className,this.$cursorCell=lt;break}}}}},this.scrollLines=function($){var et=this.config;if(this.config=$,this.$updateCursorRow(),this.$lines.pageChanged(et,$))return this.update($);this.$lines.moveContainer($);var st=Math.min($.lastRow+$.gutterOffset,this.session.getLength()-1),lt=this.oldLastRow;if(this.oldLastRow=st,!et||lt<$.firstRow)return this.update($);if(st<et.firstRow)return this.update($);if(et.firstRow<$.firstRow)for(var ft=this.session.getFoldedRowCount(et.firstRow,$.firstRow-1);ft>0;ft--)this.$lines.shift();if(lt>st)for(var ft=this.session.getFoldedRowCount(st+1,lt);ft>0;ft--)this.$lines.pop();$.firstRow<et.firstRow&&this.$lines.unshift(this.$renderLines($,$.firstRow,et.firstRow-1)),st>lt&&this.$lines.push(this.$renderLines($,lt+1,st)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth($)},this.$renderLines=function($,et,st){for(var lt=[],ft=et,gt=this.session.getNextFoldLine(ft),ut=gt?gt.start.row:1/0;ft>ut&&(ft=gt.end.row+1,gt=this.session.getNextFoldLine(ft,gt),ut=gt?gt.start.row:1/0),!(ft>st);){var pt=this.$lines.createCell(ft,$,this.session,_);this.$renderCell(pt,$,gt,ft),lt.push(pt),ft++}return lt},this.$renderCell=function($,et,st,lt){var ft=$.element,gt=this.session,ut=ft.childNodes[0],pt=ft.childNodes[1],vt=gt.$firstLineNumber,dt=gt.$breakpoints,mt=gt.$decorations,Tt=gt.gutterRenderer||this.$renderer,yt=this.$showFoldWidgets&&gt.foldWidgets,ht=st?st.start.row:Number.MAX_VALUE,xt="ace_gutter-cell ";if(this.$highlightGutterLine&&(lt==this.$cursorRow||st&&lt<this.$cursorRow&&lt>=ht&&this.$cursorRow<=st.end.row)&&(xt+="ace_gutter-active-line ",this.$cursorCell!=$&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=$)),dt[lt]&&(xt+=dt[lt]),mt[lt]&&(xt+=mt[lt]),this.$annotations[lt]&&(xt+=this.$annotations[lt].className),ft.className!=xt&&(ft.className=xt),yt){var wt=yt[lt];wt==null&&(wt=yt[lt]=gt.getFoldWidget(lt))}if(wt){var xt="ace_fold-widget ace_"+wt;wt=="start"&&lt==ht&&lt<st.end.row?xt+=" ace_closed":xt+=" ace_open",pt.className!=xt&&(pt.className=xt);var kt=et.lineHeight+"px";tt.setStyle(pt.style,"height",kt),tt.setStyle(pt.style,"display","inline-block")}else pt&&tt.setStyle(pt.style,"display","none");var Ct=(Tt?Tt.getText(gt,lt):lt+vt).toString();return Ct!==ut.data&&(ut.data=Ct),tt.setStyle($.element.style,"height",this.$lines.computeLineHeight(lt,et,gt)+"px"),tt.setStyle($.element.style,"top",this.$lines.computeLineTop(lt,et,gt)+"px"),$.text=Ct,$},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function($){this.$highlightGutterLine=$},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function($){this.$renderer=!$&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function($){$?tt.addCssClass(this.element,"ace_folding-enabled"):tt.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=$,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var $=tt.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt($.borderLeftWidth)||0)+(parseInt($.paddingLeft)||0)+1,this.$padding.right=(parseInt($.borderRightWidth)||0)+(parseInt($.paddingRight)||0),this.$padding},this.getRegion=function($){var et=this.$padding||this.$computePadding(),st=this.element.getBoundingClientRect();if($.x<et.left+st.left)return"markers";if(this.$showFoldWidgets&&$.x>st.right-et.right)return"foldWidgets"}}).call(j.prototype);function _($){var et=document.createTextNode("");$.appendChild(et);var st=tt.createElement("span");return $.appendChild(st),$}o.Gutter=j}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(a,o,it){var tt=a("../range").Range,at=a("../lib/dom"),ot=function(rt){this.element=at.createElement("div"),this.element.className="ace_layer ace_marker-layer",rt.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(nt){this.$padding=nt},this.setSession=function(nt){this.session=nt},this.setMarkers=function(nt){this.markers=nt},this.elt=function(nt,j){var _=this.i!=-1&&this.element.childNodes[this.i];_?this.i++:(_=document.createElement("div"),this.element.appendChild(_),this.i=-1),_.style.cssText=j,_.className=nt},this.update=function(nt){if(!!nt){this.config=nt,this.i=0;var j;for(var _ in this.markers){var $=this.markers[_];if(!$.range){$.update(j,this,this.session,nt);continue}var et=$.range.clipRows(nt.firstRow,nt.lastRow);if(!et.isEmpty())if(et=et.toScreenRange(this.session),$.renderer){var st=this.$getTop(et.start.row,nt),lt=this.$padding+et.start.column*nt.characterWidth;$.renderer(j,et,lt,st,nt)}else $.type=="fullLine"?this.drawFullLineMarker(j,et,$.clazz,nt):$.type=="screenLine"?this.drawScreenLineMarker(j,et,$.clazz,nt):et.isMultiLine()?$.type=="text"?this.drawTextMarker(j,et,$.clazz,nt):this.drawMultiLineMarker(j,et,$.clazz,nt):this.drawSingleLineMarker(j,et,$.clazz+" ace_start ace_br15",nt)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(nt,j){return(nt-j.firstRowScreen)*j.lineHeight};function rt(nt,j,_,$){return(nt?1:0)|(j?2:0)|(_?4:0)|($?8:0)}this.drawTextMarker=function(nt,j,_,$,et){for(var st=this.session,lt=j.start.row,ft=j.end.row,gt=lt,ut=0,pt=0,vt=st.getScreenLastRowColumn(gt),dt=new tt(gt,j.start.column,gt,pt);gt<=ft;gt++)dt.start.row=dt.end.row=gt,dt.start.column=gt==lt?j.start.column:st.getRowWrapIndent(gt),dt.end.column=vt,ut=pt,pt=vt,vt=gt+1<ft?st.getScreenLastRowColumn(gt+1):gt==ft?0:j.end.column,this.drawSingleLineMarker(nt,dt,_+(gt==lt?" ace_start":"")+" ace_br"+rt(gt==lt||gt==lt+1&&j.start.column,ut<pt,pt>vt,gt==ft),$,gt==ft?0:1,et)},this.drawMultiLineMarker=function(nt,j,_,$,et){var st=this.$padding,lt=$.lineHeight,ft=this.$getTop(j.start.row,$),gt=st+j.start.column*$.characterWidth;if(et=et||"",this.session.$bidiHandler.isBidiRow(j.start.row)){var ut=j.clone();ut.end.row=ut.start.row,ut.end.column=this.session.getLine(ut.start.row).length,this.drawBidiSingleLineMarker(nt,ut,_+" ace_br1 ace_start",$,null,et)}else this.elt(_+" ace_br1 ace_start","height:"+lt+"px;right:0;top:"+ft+"px;left:"+gt+"px;"+(et||""));if(this.session.$bidiHandler.isBidiRow(j.end.row)){var ut=j.clone();ut.start.row=ut.end.row,ut.start.column=0,this.drawBidiSingleLineMarker(nt,ut,_+" ace_br12",$,null,et)}else{ft=this.$getTop(j.end.row,$);var pt=j.end.column*$.characterWidth;this.elt(_+" ace_br12","height:"+lt+"px;width:"+pt+"px;top:"+ft+"px;left:"+st+"px;"+(et||""))}if(lt=(j.end.row-j.start.row-1)*$.lineHeight,!(lt<=0)){ft=this.$getTop(j.start.row+1,$);var vt=(j.start.column?1:0)|(j.end.column?0:8);this.elt(_+(vt?" ace_br"+vt:""),"height:"+lt+"px;right:0;top:"+ft+"px;left:"+st+"px;"+(et||""))}},this.drawSingleLineMarker=function(nt,j,_,$,et,st){if(this.session.$bidiHandler.isBidiRow(j.start.row))return this.drawBidiSingleLineMarker(nt,j,_,$,et,st);var lt=$.lineHeight,ft=(j.end.column+(et||0)-j.start.column)*$.characterWidth,gt=this.$getTop(j.start.row,$),ut=this.$padding+j.start.column*$.characterWidth;this.elt(_,"height:"+lt+"px;width:"+ft+"px;top:"+gt+"px;left:"+ut+"px;"+(st||""))},this.drawBidiSingleLineMarker=function(nt,j,_,$,et,st){var lt=$.lineHeight,ft=this.$getTop(j.start.row,$),gt=this.$padding,ut=this.session.$bidiHandler.getSelections(j.start.column,j.end.column);ut.forEach(function(pt){this.elt(_,"height:"+lt+"px;width:"+(pt.width+(et||0))+"px;top:"+ft+"px;left:"+(gt+pt.left)+"px;"+(st||""))},this)},this.drawFullLineMarker=function(nt,j,_,$,et){var st=this.$getTop(j.start.row,$),lt=$.lineHeight;j.start.row!=j.end.row&&(lt+=this.$getTop(j.end.row,$)-st),this.elt(_,"height:"+lt+"px;top:"+st+"px;left:0;right:0;"+(et||""))},this.drawScreenLineMarker=function(nt,j,_,$,et){var st=this.$getTop(j.start.row,$),lt=$.lineHeight;this.elt(_,"height:"+lt+"px;top:"+st+"px;left:0;right:0;"+(et||""))}}).call(ot.prototype),o.Marker=ot}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(a,o,it){var tt=a("../lib/oop"),at=a("../lib/dom"),ot=a("../lib/lang"),rt=a("./lines").Lines,nt=a("../lib/event_emitter").EventEmitter,j=function(_){this.dom=at,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",_.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new rt(this.element)};(function(){tt.implement(this,nt),this.EOF_CHAR="\xB6",this.EOL_CHAR_LF="\xAC",this.EOL_CHAR_CRLF="\xA4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xB7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.MAX_CHUNK_LENGTH=250,this.$updateEolChar=function(){var _=this.session.doc,$=_.getNewLineCharacter()==`
`&&_.getNewLineMode()!="windows",et=$?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=et)return this.EOL_CHAR=et,!0},this.setPadding=function(_){this.$padding=_,this.element.style.margin="0 "+_+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(_){this.$fontMetrics=_,this.$fontMetrics.on("changeCharacterSize",function($){this._signal("changeCharacterSize",$)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(_){this.session=_,_&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(_){return this.showInvisibles==_?!1:(this.showInvisibles=_,typeof _=="string"?(this.showSpaces=/tab/i.test(_),this.showTabs=/space/i.test(_),this.showEOL=/eol/i.test(_)):this.showSpaces=this.showTabs=this.showEOL=_,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(_){return this.displayIndentGuides==_?!1:(this.displayIndentGuides=_,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(_){return this.$highlightIndentGuides===_?!1:(this.$highlightIndentGuides=_,_)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var _=this.session.getTabSize();this.tabSize=_;for(var $=this.$tabStrings=[0],et=1;et<_+1;et++)if(this.showTabs){var st=this.dom.createElement("span");st.className="ace_invisible ace_invisible_tab",st.textContent=ot.stringRepeat(this.TAB_CHAR,et),$.push(st)}else $.push(this.dom.createTextNode(ot.stringRepeat(" ",et),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var lt="ace_indent-guide",ft=this.showSpaces?" ace_invisible ace_invisible_space":"",gt=this.showSpaces?ot.stringRepeat(this.SPACE_CHAR,this.tabSize):ot.stringRepeat(" ",this.tabSize),ut=this.showTabs?" ace_invisible ace_invisible_tab":"",pt=this.showTabs?ot.stringRepeat(this.TAB_CHAR,this.tabSize):gt,st=this.dom.createElement("span");st.className=lt+ft,st.textContent=gt,this.$tabStrings[" "]=st;var st=this.dom.createElement("span");st.className=lt+ut,st.textContent=pt,this.$tabStrings["	"]=st}},this.updateLines=function(_,$,et){if(this.config.lastRow!=_.lastRow||this.config.firstRow!=_.firstRow)return this.update(_);this.config=_;for(var st=Math.max($,_.firstRow),lt=Math.min(et,_.lastRow),ft=this.element.childNodes,gt=0,pt=_.firstRow;pt<st;pt++){var vt=this.session.getFoldLine(pt);if(vt)if(vt.containsRow(st)){st=vt.start.row;break}else pt=vt.end.row;gt++}for(var ut=!1,pt=st,vt=this.session.getNextFoldLine(pt),dt=vt?vt.start.row:1/0;pt>dt&&(pt=vt.end.row+1,vt=this.session.getNextFoldLine(pt,vt),dt=vt?vt.start.row:1/0),!(pt>lt);){var mt=ft[gt++];if(mt){this.dom.removeChildren(mt),this.$renderLine(mt,pt,pt==dt?vt:!1),ut&&(mt.style.top=this.$lines.computeLineTop(pt,_,this.session)+"px");var Tt=_.lineHeight*this.session.getRowLength(pt)+"px";mt.style.height!=Tt&&(ut=!0,mt.style.height=Tt)}pt++}if(ut)for(;gt<this.$lines.cells.length;){var yt=this.$lines.cells[gt++];yt.element.style.top=this.$lines.computeLineTop(yt.row,_,this.session)+"px"}},this.scrollLines=function(_){var $=this.config;if(this.config=_,this.$lines.pageChanged($,_))return this.update(_);this.$lines.moveContainer(_);var et=_.lastRow,st=$?$.lastRow:-1;if(!$||st<_.firstRow)return this.update(_);if(et<$.firstRow)return this.update(_);if(!$||$.lastRow<_.firstRow)return this.update(_);if(_.lastRow<$.firstRow)return this.update(_);if($.firstRow<_.firstRow)for(var lt=this.session.getFoldedRowCount($.firstRow,_.firstRow-1);lt>0;lt--)this.$lines.shift();if($.lastRow>_.lastRow)for(var lt=this.session.getFoldedRowCount(_.lastRow+1,$.lastRow);lt>0;lt--)this.$lines.pop();_.firstRow<$.firstRow&&this.$lines.unshift(this.$renderLinesFragment(_,_.firstRow,$.firstRow-1)),_.lastRow>$.lastRow&&this.$lines.push(this.$renderLinesFragment(_,$.lastRow+1,_.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(_,$,et){for(var st=[],lt=$,ft=this.session.getNextFoldLine(lt),gt=ft?ft.start.row:1/0;lt>gt&&(lt=ft.end.row+1,ft=this.session.getNextFoldLine(lt,ft),gt=ft?ft.start.row:1/0),!(lt>et);){var ut=this.$lines.createCell(lt,_,this.session),pt=ut.element;this.dom.removeChildren(pt),at.setStyle(pt.style,"height",this.$lines.computeLineHeight(lt,_,this.session)+"px"),at.setStyle(pt.style,"top",this.$lines.computeLineTop(lt,_,this.session)+"px"),this.$renderLine(pt,lt,lt==gt?ft:!1),this.$useLineGroups()?pt.className="ace_line_group":pt.className="ace_line",st.push(ut),lt++}return st},this.update=function(_){this.$lines.moveContainer(_),this.config=_;for(var $=_.firstRow,et=_.lastRow,st=this.$lines;st.getLength();)st.pop();st.push(this.$renderLinesFragment(_,$,et))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderTokenInChunks=function(_,$,et,st){for(var lt,ft=0;ft<st.length;ft+=this.MAX_CHUNK_LENGTH){var gt=st.substring(ft,ft+this.MAX_CHUNK_LENGTH),ut={type:et.type,value:gt};lt=this.$renderToken(_,$+ft,ut,gt)}return lt},this.$renderToken=function(_,$,et,st){for(var lt=this,ft=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,gt=this.dom.createFragment(this.element),ut,pt=0;ut=ft.exec(st);){var vt=ut[1],dt=ut[2],mt=ut[3],Tt=ut[4],yt=ut[5];if(!(!lt.showSpaces&&dt)){var ht=pt!=ut.index?st.slice(pt,ut.index):"";if(pt=ut.index+ut[0].length,ht&&gt.appendChild(this.dom.createTextNode(ht,this.element)),vt){var xt=lt.session.getScreenTabSize($+ut.index);gt.appendChild(lt.$tabStrings[xt].cloneNode(!0)),$+=xt-1}else if(dt)if(lt.showSpaces){var wt=this.dom.createElement("span");wt.className="ace_invisible ace_invisible_space",wt.textContent=ot.stringRepeat(lt.SPACE_CHAR,dt.length),gt.appendChild(wt)}else gt.appendChild(this.com.createTextNode(dt,this.element));else if(mt){var wt=this.dom.createElement("span");wt.className="ace_invisible ace_invisible_space ace_invalid",wt.textContent=ot.stringRepeat(lt.SPACE_CHAR,mt.length),gt.appendChild(wt)}else if(Tt){$+=1;var wt=this.dom.createElement("span");wt.style.width=lt.config.characterWidth*2+"px",wt.className=lt.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",wt.textContent=lt.showSpaces?lt.SPACE_CHAR:Tt,gt.appendChild(wt)}else if(yt){$+=1;var wt=this.dom.createElement("span");wt.style.width=lt.config.characterWidth*2+"px",wt.className="ace_cjk",wt.textContent=yt,gt.appendChild(wt)}}}gt.appendChild(this.dom.createTextNode(pt?st.slice(pt):st,this.element));var wt=this.dom.createElement("span");if(!this.$textToken[et.type]){var kt="ace_"+et.type.replace(/\./g," ace_");et.type=="fold"&&(wt.style.width=et.value.length*this.config.characterWidth+"px"),wt.className=kt}return wt.appendChild(gt),_.appendChild(wt),$+st.length},this.renderIndentGuide=function(_,$,et){var st=$.search(this.$indentGuideRe);if(st<=0||st>=et)return $;if($[0]==" "){st-=st%this.tabSize;for(var lt=st/this.tabSize,ft=0;ft<lt;ft++)_.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),$.substr(st)}else if($[0]=="	"){for(var ft=0;ft<st;ft++)_.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),$.substr(st)}return this.$highlightIndentGuide(),$},this.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var _=this.session.doc.$lines;if(!!_){var $=this.session.selection.getCursor(),et=/^\s*/.exec(this.session.doc.getLine($.row))[0].length,st=Math.floor(et/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:st,start:$.row};var lt=this.session.$bracketHighlight;if(lt){for(var ft=this.session.$bracketHighlight.ranges,gt=0;gt<ft.length;gt++)if($.row!==ft[gt].start.row){this.$highlightIndentGuideMarker.end=ft[gt].start.row,$.row>ft[gt].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&_[$.row]!==""&&$.column===_[$.row].length){this.$highlightIndentGuideMarker.dir=1;for(var gt=$.row+1;gt<_.length;gt++){var ut=_[gt],pt=/^\s*/.exec(ut)[0].length;if(ut!==""&&(this.$highlightIndentGuideMarker.end=gt,pt<=et))break}}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var _=this.$lines.cells,$=0;$<_.length;$++){var et=_[$],st=et.element.childNodes;if(st.length>0){for(var lt=0;lt<st.length;lt++)if(st[lt].classList&&st[lt].classList.contains("ace_indent-guide-active")){st[lt].classList.remove("ace_indent-guide-active");break}}}},this.$setIndentGuideActive=function(_,$){var et=this.session.doc.getLine(_.row);if(et!==""){var st=_.element.childNodes;if(st){var lt=st[$-1];lt&&lt.classList&&lt.classList.contains("ace_indent-guide")&&lt.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(!!this.$lines){var _=this.$lines.cells;this.$clearActiveIndentGuide();var $=this.$highlightIndentGuideMarker.indentLevel;if($!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var et=0;et<_.length;et++){var st=_[et];if(this.$highlightIndentGuideMarker.end&&st.row>=this.$highlightIndentGuideMarker.start+1){if(st.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(st,$)}}else for(var et=_.length-1;et>=0;et--){var st=_[et];if(this.$highlightIndentGuideMarker.end&&st.row<this.$highlightIndentGuideMarker.start){if(st.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(st,$)}}}},this.$createLineElement=function(_){var $=this.dom.createElement("div");return $.className="ace_line",$.style.height=this.config.lineHeight+"px",$},this.$renderWrappedLine=function(_,$,et){var st=0,lt=0,ft=et[0],gt=0,ut=this.$createLineElement();_.appendChild(ut);for(var pt=0;pt<$.length;pt++){var vt=$[pt],dt=vt.value;if(pt==0&&this.displayIndentGuides){if(st=dt.length,dt=this.renderIndentGuide(ut,dt,ft),!dt)continue;st-=dt.length}if(st+dt.length<ft)gt=this.$renderTokenInChunks(ut,gt,vt,dt),st+=dt.length;else{for(;st+dt.length>=ft;)gt=this.$renderTokenInChunks(ut,gt,vt,dt.substring(0,ft-st)),dt=dt.substring(ft-st),st=ft,ut=this.$createLineElement(),_.appendChild(ut),ut.appendChild(this.dom.createTextNode(ot.stringRepeat("\xA0",et.indent),this.element)),lt++,gt=0,ft=et[lt]||Number.MAX_VALUE;dt.length!=0&&(st+=dt.length,gt=this.$renderTokenInChunks(ut,gt,vt,dt))}}et[et.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(ut,gt,null,"",!0)},this.$renderSimpleLine=function(_,$){for(var et=0,st=0;st<$.length;st++){var lt=$[st],ft=lt.value;if(!(st==0&&this.displayIndentGuides&&(ft=this.renderIndentGuide(_,ft),!ft))){if(et+ft.length>this.MAX_LINE_LENGTH){this.$renderOverflowMessage(_,et,lt,ft);return}et=this.$renderTokenInChunks(_,et,lt,ft)}}},this.$renderOverflowMessage=function(_,$,et,st,lt){et&&this.$renderTokenInChunks(_,$,et,st.slice(0,this.MAX_LINE_LENGTH-$));var ft=this.dom.createElement("span");ft.className="ace_inline_button ace_keyword ace_toggle_wrap",ft.textContent=lt?"<hide>":"<click to see more...>",_.appendChild(ft)},this.$renderLine=function(_,$,et){if(!et&&et!=!1&&(et=this.session.getFoldLine($)),et)var st=this.$getFoldLineTokens($,et);else var st=this.session.getTokens($);var lt=_;if(st.length){var ft=this.session.getRowSplitData($);if(ft&&ft.length){this.$renderWrappedLine(_,st,ft);var lt=_.lastChild}else{var lt=_;this.$useLineGroups()&&(lt=this.$createLineElement(),_.appendChild(lt)),this.$renderSimpleLine(lt,st)}}else this.$useLineGroups()&&(lt=this.$createLineElement(),_.appendChild(lt));if(this.showEOL&&lt){et&&($=et.end.row);var gt=this.dom.createElement("span");gt.className="ace_invisible ace_invisible_eol",gt.textContent=$==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,lt.appendChild(gt)}},this.$getFoldLineTokens=function(_,$){var et=this.session,st=[];function lt(gt,ut,pt){for(var vt=0,dt=0;dt+gt[vt].value.length<ut;)if(dt+=gt[vt].value.length,vt++,vt==gt.length)return;if(dt!=ut){var mt=gt[vt].value.substring(ut-dt);mt.length>pt-ut&&(mt=mt.substring(0,pt-ut)),st.push({type:gt[vt].type,value:mt}),dt=ut+mt.length,vt+=1}for(;dt<pt&&vt<gt.length;){var mt=gt[vt].value;mt.length+dt>pt?st.push({type:gt[vt].type,value:mt.substring(0,pt-dt)}):st.push(gt[vt]),dt+=mt.length,vt+=1}}var ft=et.getTokens(_);return $.walk(function(gt,ut,pt,vt,dt){gt!=null?st.push({type:"fold",value:gt}):(dt&&(ft=et.getTokens(ut)),ft.length&&lt(ft,vt,pt))},$.end.row,this.session.getLine($.end.row).length),st},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(j.prototype),o.Text=j}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(a,o,it){var tt=a("../lib/dom"),at=function(ot){this.element=tt.createElement("div"),this.element.className="ace_layer ace_cursor-layer",ot.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),tt.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(ot){for(var rt=this.cursors,nt=rt.length;nt--;)tt.setStyle(rt[nt].style,"opacity",ot?"":"0")},this.$startCssAnimation=function(){for(var ot=this.cursors,rt=ot.length;rt--;)ot[rt].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&tt.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,tt.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(ot){this.$padding=ot},this.setSession=function(ot){this.session=ot},this.setBlinking=function(ot){ot!=this.isBlinking&&(this.isBlinking=ot,this.restartTimer())},this.setBlinkInterval=function(ot){ot!=this.blinkInterval&&(this.blinkInterval=ot,this.restartTimer())},this.setSmoothBlinking=function(ot){ot!=this.smoothBlinking&&(this.smoothBlinking=ot,tt.setCssClass(this.element,"ace_smooth-blinking",ot),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var ot=tt.createElement("div");return ot.className="ace_cursor",this.element.appendChild(ot),this.cursors.push(ot),ot},this.removeCursor=function(){if(this.cursors.length>1){var ot=this.cursors.pop();return ot.parentNode.removeChild(ot),ot}},this.hideCursor=function(){this.isVisible=!1,tt.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,tt.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var ot=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,tt.removeCssClass(this.element,"ace_smooth-blinking")),ot(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&tt.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),tt.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var rt=function(){this.timeoutId=setTimeout(function(){ot(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){ot(!0),rt()},this.blinkInterval),rt()}},this.getPixelPosition=function(ot,rt){if(!this.config||!this.session)return{left:0,top:0};ot||(ot=this.session.selection.getCursor());var nt=this.session.documentToScreenPosition(ot),j=this.$padding+(this.session.$bidiHandler.isBidiRow(nt.row,ot.row)?this.session.$bidiHandler.getPosLeft(nt.column):nt.column*this.config.characterWidth),_=(nt.row-(rt?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:j,top:_}},this.isCursorInView=function(ot,rt){return ot.top>=0&&ot.top<rt.maxHeight},this.update=function(ot){this.config=ot;var rt=this.session.$selectionMarkers,nt=0,j=0;(rt===void 0||rt.length===0)&&(rt=[{cursor:null}]);for(var nt=0,_=rt.length;nt<_;nt++){var $=this.getPixelPosition(rt[nt].cursor,!0);if(!(($.top>ot.height+ot.offset||$.top<0)&&nt>1)){var et=this.cursors[j++]||this.addCursor(),st=et.style;this.drawCursor?this.drawCursor(et,$,ot,rt[nt],this.session):this.isCursorInView($,ot)?(tt.setStyle(st,"display","block"),tt.translate(et,$.left,$.top),tt.setStyle(st,"width",Math.round(ot.characterWidth)+"px"),tt.setStyle(st,"height",ot.lineHeight+"px")):tt.setStyle(st,"display","none")}}for(;this.cursors.length>j;)this.removeCursor();var lt=this.session.getOverwrite();this.$setOverwrite(lt),this.$pixelPos=$,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(ot){ot!=this.overwrite&&(this.overwrite=ot,ot?tt.addCssClass(this.element,"ace_overwrite-cursors"):tt.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(at.prototype),o.Cursor=at}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(a,o,it){var tt=a("./lib/oop"),at=a("./lib/dom"),ot=a("./lib/event"),rt=a("./lib/event_emitter").EventEmitter,nt=32768,j=function(et){this.element=at.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=at.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),et.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,ot.addListener(this.element,"scroll",this.onScroll.bind(this)),ot.addListener(this.element,"mousedown",ot.preventDefault)};(function(){tt.implement(this,rt),this.setVisible=function(et){this.element.style.display=et?"":"none",this.isVisible=et,this.coeff=1}}).call(j.prototype);var _=function(et,st){j.call(this,et),this.scrollTop=0,this.scrollHeight=0,st.$scrollbarWidth=this.width=at.scrollbarWidth(et.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};tt.inherits(_,j),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var et=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-et)/(this.coeff-et)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(et){this.element.style.height=et+"px"},this.setInnerHeight=this.setScrollHeight=function(et){this.scrollHeight=et,et>nt?(this.coeff=nt/et,et=nt):this.coeff!=1&&(this.coeff=1),this.inner.style.height=et+"px"},this.setScrollTop=function(et){this.scrollTop!=et&&(this.skipEvent=!0,this.scrollTop=et,this.element.scrollTop=et*this.coeff)}}.call(_.prototype);var $=function(et,st){j.call(this,et),this.scrollLeft=0,this.height=st.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};tt.inherits($,j),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(et){this.element.style.width=et+"px"},this.setInnerWidth=function(et){this.inner.style.width=et+"px"},this.setScrollWidth=function(et){this.inner.style.width=et+"px"},this.setScrollLeft=function(et){this.scrollLeft!=et&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=et)}}.call($.prototype),o.ScrollBar=_,o.ScrollBarV=_,o.ScrollBarH=$,o.VScrollBar=_,o.HScrollBar=$}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(a,o,it){var tt=a("./lib/oop"),at=a("./lib/dom"),ot=a("./lib/event"),rt=a("./lib/event_emitter").EventEmitter;at.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var nt=function($){this.element=at.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=at.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,$.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,ot.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){tt.implement(this,rt),this.setVisible=function($){this.element.style.display=$?"":"none",this.isVisible=$,this.coeff=1}}).call(nt.prototype);var j=function($,et){nt.call(this,$),this.scrollTop=0,this.scrollHeight=0,this.parent=$,this.width=this.VScrollWidth,this.renderer=et,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};tt.inherits(j,nt),function(){this.classSuffix="-v",tt.implement(this,rt),this.onMouseDown=function($,et){if($==="mousedown"&&!(ot.getButton(et)!==0||et.detail===2)){if(et.target===this.inner){var st=this,lt=et.clientY,ft=function(Tt){lt=Tt.clientY},gt=function(){clearInterval(dt)},ut=et.clientY,pt=this.thumbTop,vt=function(){if(lt!==void 0){var Tt=st.scrollTopFromThumbTop(pt+lt-ut);Tt!==st.scrollTop&&st._emit("scroll",{data:Tt})}};ot.capture(this.inner,ft,gt);var dt=setInterval(vt,20);return ot.preventDefault(et)}var mt=et.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(mt)}),ot.preventDefault(et)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function($){var et=$*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return et=et>>0,et<0?et=0:et>this.pageHeight-this.viewHeight&&(et=this.pageHeight-this.viewHeight),et},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function($){this.height=Math.max(0,$),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function($,et){this.pageHeight===$&&!et||(this.pageHeight=$,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function($){this.scrollTop=$,$<0&&($=0),this.thumbTop=$*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(j.prototype);var _=function($,et){nt.call(this,$),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=et};tt.inherits(_,nt),function(){this.classSuffix="-h",tt.implement(this,rt),this.onMouseDown=function($,et){if($==="mousedown"&&!(ot.getButton(et)!==0||et.detail===2)){if(et.target===this.inner){var st=this,lt=et.clientX,ft=function(Tt){lt=Tt.clientX},gt=function(){clearInterval(dt)},ut=et.clientX,pt=this.thumbLeft,vt=function(){if(lt!==void 0){var Tt=st.scrollLeftFromThumbLeft(pt+lt-ut);Tt!==st.scrollLeft&&st._emit("scroll",{data:Tt})}};ot.capture(this.inner,ft,gt);var dt=setInterval(vt,20);return ot.preventDefault(et)}var mt=et.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(mt)}),ot.preventDefault(et)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function($){var et=$*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return et=et>>0,et<0?et=0:et>this.pageWidth-this.viewWidth&&(et=this.pageWidth-this.viewWidth),et},this.setWidth=function($){this.width=Math.max(0,$),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function($,et){this.pageWidth===$&&!et||(this.pageWidth=$,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function($){this.scrollLeft=$,$<0&&($=0),this.thumbLeft=$*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(_.prototype),o.ScrollBar=j,o.ScrollBarV=j,o.ScrollBarH=_,o.VScrollBar=j,o.HScrollBar=_}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(a,o,it){var tt=a("./lib/event"),at=function(ot,rt){this.onRender=ot,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=rt||window;var nt=this;this._flush=function(j){nt.pending=!1;var _=nt.changes;if(_&&(tt.blockIdle(100),nt.changes=0,nt.onRender(_)),nt.changes){if(nt.$recursionLimit--<0)return;nt.schedule()}else nt.$recursionLimit=2}};(function(){this.schedule=function(ot){this.changes=this.changes|ot,this.changes&&!this.pending&&(tt.nextFrame(this._flush),this.pending=!0)},this.clear=function(ot){var rt=this.changes;return this.changes=0,rt}}).call(at.prototype),o.RenderLoop=at}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(a,o,it){var tt=a("../lib/oop"),at=a("../lib/dom"),ot=a("../lib/lang"),rt=a("../lib/event"),nt=a("../lib/useragent"),j=a("../lib/event_emitter").EventEmitter,_=250,$=typeof ResizeObserver=="function",et=200,st=o.FontMetrics=function(lt,ft){this.charCount=ft||_,this.el=at.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=at.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=at.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),lt.appendChild(this.el),this.$measureNode.textContent=ot.stringRepeat("X",this.charCount),this.$characterSize={width:0,height:0},$?this.$addObserver():this.checkForSizeChanges()};(function(){tt.implement(this,j),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(lt,ft){lt.width=lt.height="auto",lt.left=lt.top="0px",lt.visibility="hidden",lt.position="absolute",lt.whiteSpace="pre",nt.isIE<8?lt["font-family"]="inherit":lt.font="inherit",lt.overflow=ft?"hidden":"visible"},this.checkForSizeChanges=function(lt){if(lt===void 0&&(lt=this.$measureSizes()),lt&&(this.$characterSize.width!==lt.width||this.$characterSize.height!==lt.height)){this.$measureNode.style.fontWeight="bold";var ft=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=lt,this.charSizes=Object.create(null),this.allowBoldFonts=ft&&ft.width===lt.width&&ft.height===lt.height,this._emit("changeCharacterSize",{data:lt})}},this.$addObserver=function(){var lt=this;this.$observer=new window.ResizeObserver(function(ft){lt.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var lt=this;return this.$pollSizeChangesTimer=rt.onIdle(function ft(){lt.checkForSizeChanges(),rt.onIdle(ft,500)},500)},this.setPolling=function(lt){lt?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(lt){lt=lt||this.$measureNode;var ft=lt.getBoundingClientRect(),gt={height:ft.height,width:ft.width/this.charCount};return gt.width===0||gt.height===0?null:gt},this.$measureCharWidth=function(lt){this.$main.textContent=ot.stringRepeat(lt,this.charCount);var ft=this.$main.getBoundingClientRect();return ft.width/this.charCount},this.getCharacterWidth=function(lt){var ft=this.charSizes[lt];return ft===void 0&&(ft=this.charSizes[lt]=this.$measureCharWidth(lt)/this.$characterSize.width),ft},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function lt(ft){return!ft||!ft.parentElement?1:(window.getComputedStyle(ft).zoom||1)*lt(ft.parentElement)},this.$initTransformMeasureNodes=function(){var lt=function(ft,gt){return["div",{style:"position: absolute;top:"+ft+"px;left:"+gt+"px;"}]};this.els=at.buildDom([lt(0,0),lt(et,0),lt(0,et),lt(et,et)],this.el)},this.transformCoordinates=function(lt,ft){if(lt){var gt=this.$getZoom(this.el);lt=dt(1/gt,lt)}function ut(Ot,Xt,rn){var jt=Ot[1]*Xt[0]-Ot[0]*Xt[1];return[(-Xt[1]*rn[0]+Xt[0]*rn[1])/jt,(+Ot[1]*rn[0]-Ot[0]*rn[1])/jt]}function pt(Ot,Xt){return[Ot[0]-Xt[0],Ot[1]-Xt[1]]}function vt(Ot,Xt){return[Ot[0]+Xt[0],Ot[1]+Xt[1]]}function dt(Ot,Xt){return[Ot*Xt[0],Ot*Xt[1]]}this.els||this.$initTransformMeasureNodes();function mt(Ot){var Xt=Ot.getBoundingClientRect();return[Xt.left,Xt.top]}var Tt=mt(this.els[0]),yt=mt(this.els[1]),ht=mt(this.els[2]),xt=mt(this.els[3]),wt=ut(pt(xt,yt),pt(xt,ht),pt(vt(yt,ht),vt(xt,Tt))),kt=dt(1+wt[0],pt(yt,Tt)),Ct=dt(1+wt[1],pt(ht,Tt));if(ft){var Rt=ft,Lt=wt[0]*Rt[0]/et+wt[1]*Rt[1]/et+1,Mt=vt(dt(Rt[0],kt),dt(Rt[1],Ct));return vt(dt(1/Lt/et,Mt),Tt)}var Wt=pt(lt,Tt),Pt=ut(pt(kt,dt(wt[0],Wt)),pt(Ct,dt(wt[1],Wt)),Wt);return dt(et,Pt)}}).call(st.prototype)}),ace.define("ace/css/editor.css",["require","exports","module"],function(a,o,it){it.exports=`/*
styles = []
for (var i = 1; i < 16; i++) {
    styles.push(".ace_br" + i + "{" + (
        ["top-left", "top-right", "bottom-right", "bottom-left"]
    ).map(function(x, j) {
        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" 
    }).filter(Boolean).join(" ") + "}")
}
styles.join("\\n")
*/
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left {
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
}

.ace_gutter-cell {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell.ace_error {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-position: 2px center;
}

.ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
    will-change: transform;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #FFF;
    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_folding-enabled > .ace_gutter-cell {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(a,o,it){var tt=a("../lib/dom"),at=a("../lib/oop"),ot=a("../lib/event_emitter").EventEmitter,rt=function(nt,j){this.canvas=tt.createElement("canvas"),this.renderer=j,this.pixelRatio=1,this.maxHeight=j.layerConfig.maxHeight,this.lineHeight=j.layerConfig.lineHeight,this.canvasHeight=nt.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=nt.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top=0+"px",this.canvas.style.right=0+"px",this.canvas.style.zIndex=7+"px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},nt.element.appendChild(this.canvas)};(function(){at.implement(this,ot),this.$updateDecorators=function(nt){var j=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(nt){this.maxHeight=nt.maxHeight,this.lineHeight=nt.lineHeight,this.canvasHeight=nt.height;var _=(nt.lastRow+1)*this.lineHeight;_<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var $=this.canvas.getContext("2d");function et(xt,wt){return xt.priority<wt.priority?-1:xt.priority>wt.priority?1:0}var st=this.renderer.session.$annotations;if($.clearRect(0,0,this.canvas.width,this.canvas.height),st){var lt={info:1,warning:2,error:3};st.forEach(function(xt){xt.priority=lt[xt.type]||null}),st=st.sort(et);for(var ft=this.renderer.session.$foldData,gt=0;gt<st.length;gt++){var ut=st[gt].row,pt=this.compensateFoldRows(ut,ft),vt=Math.round((ut-pt)*this.lineHeight*this.heightRatio),dt=Math.round((ut-pt)*this.lineHeight*this.heightRatio),mt=Math.round(((ut-pt)*this.lineHeight+this.lineHeight)*this.heightRatio),Tt=mt-dt;if(Tt<this.minDecorationHeight){var yt=(dt+mt)/2|0;yt<this.halfMinDecorationHeight?yt=this.halfMinDecorationHeight:yt+this.halfMinDecorationHeight>this.canvasHeight&&(yt=this.canvasHeight-this.halfMinDecorationHeight),dt=Math.round(yt-this.halfMinDecorationHeight),mt=Math.round(yt+this.halfMinDecorationHeight)}$.fillStyle=j[st[gt].type]||null,$.fillRect(0,vt,this.canvasWidth,mt-dt)}}var ht=this.renderer.session.selection.getCursor();if(ht){var pt=this.compensateFoldRows(ht.row,ft),vt=Math.round((ht.row-pt)*this.lineHeight*this.heightRatio);$.fillStyle="rgba(0, 0, 0, 0.5)",$.fillRect(0,vt,this.canvasWidth,2)}},this.compensateFoldRows=function(nt,j){var _=0;if(j&&j.length>0)for(var $=0;$<j.length;$++)nt>j[$].start.row&&nt<j[$].end.row?_+=nt-j[$].start.row:nt>=j[$].end.row&&(_+=j[$].end.row-j[$].start.row);return _}}).call(rt.prototype),o.Decorator=rt}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(a,o,it){var tt=a("./lib/oop"),at=a("./lib/dom"),ot=a("./config"),rt=a("./layer/gutter").Gutter,nt=a("./layer/marker").Marker,j=a("./layer/text").Text,_=a("./layer/cursor").Cursor,$=a("./scrollbar").HScrollBar,et=a("./scrollbar").VScrollBar,st=a("./scrollbar_custom").HScrollBar,lt=a("./scrollbar_custom").VScrollBar,ft=a("./renderloop").RenderLoop,gt=a("./layer/font_metrics").FontMetrics,ut=a("./lib/event_emitter").EventEmitter,pt=a("./css/editor.css"),vt=a("./layer/decorators").Decorator,dt=a("./lib/useragent"),mt=dt.isIE;at.importCssString(pt,"ace_editor.css",!1);var Tt=function(yt,ht){var xt=this;this.container=yt||at.createElement("div"),at.addCssClass(this.container,"ace_editor"),at.HI_DPI&&at.addCssClass(this.container,"ace_hidpi"),this.setTheme(ht),ot.get("useStrictCSP")==null&&ot.set("useStrictCSP",!1),this.$gutter=at.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=at.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=at.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new rt(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new nt(this.content);var wt=this.$textLayer=new j(this.content);this.canvas=wt.element,this.$markerFront=new nt(this.content),this.$cursorLayer=new _(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new et(this.container,this),this.scrollBarH=new $(this.container,this),this.scrollBarV.on("scroll",function(kt){xt.$scrollAnimation||xt.session.setScrollTop(kt.data-xt.scrollMargin.top)}),this.scrollBarH.on("scroll",function(kt){xt.$scrollAnimation||xt.session.setScrollLeft(kt.data-xt.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new gt(this.container,this.$textLayer.MAX_CHUNK_LENGTH),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(kt){xt.updateCharacterSize(),xt.onResize(!0,xt.gutterWidth,xt.$size.width,xt.$size.height),xt._signal("changeCharacterSize",kt)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!dt.isIOS,this.$loop=new ft(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),ot.resetOptions(this),ot._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,tt.implement(this,ut),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),at.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(yt){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=yt,yt&&this.scrollMargin.top&&yt.getScrollTop()<=0&&yt.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(yt),this.$markerBack.setSession(yt),this.$markerFront.setSession(yt),this.$gutterLayer.setSession(yt),this.$textLayer.setSession(yt),yt&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(yt,ht,xt){if(ht===void 0&&(ht=1/0),this.$changedLines?(this.$changedLines.firstRow>yt&&(this.$changedLines.firstRow=yt),this.$changedLines.lastRow<ht&&(this.$changedLines.lastRow=ht)):this.$changedLines={firstRow:yt,lastRow:ht},this.$changedLines.lastRow<this.layerConfig.firstRow)if(xt)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(yt){yt?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(yt,ht,xt,wt){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=yt?1:0;var kt=this.container;wt||(wt=kt.clientHeight||kt.scrollHeight),xt||(xt=kt.clientWidth||kt.scrollWidth);var Ct=this.$updateCachedSize(yt,ht,xt,wt);if(!this.$size.scrollerHeight||!xt&&!wt)return this.resizing=0;yt&&(this.$gutterLayer.$padding=null),yt?this.$renderChanges(Ct|this.$changes,!0):this.$loop.schedule(Ct|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(yt,ht,xt,wt){wt-=this.$extraHeight||0;var kt=0,Ct=this.$size,Rt={width:Ct.width,height:Ct.height,scrollerHeight:Ct.scrollerHeight,scrollerWidth:Ct.scrollerWidth};if(wt&&(yt||Ct.height!=wt)&&(Ct.height=wt,kt|=this.CHANGE_SIZE,Ct.scrollerHeight=Ct.height,this.$horizScroll&&(Ct.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(Ct.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",kt=kt|this.CHANGE_SCROLL),xt&&(yt||Ct.width!=xt)){kt|=this.CHANGE_SIZE,Ct.width=xt,ht==null&&(ht=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=ht,at.setStyle(this.scrollBarH.element.style,"left",ht+"px"),at.setStyle(this.scroller.style,"left",ht+this.margin.left+"px"),Ct.scrollerWidth=Math.max(0,xt-ht-this.scrollBarV.getWidth()-this.margin.h),at.setStyle(this.$gutter.style,"left",this.margin.left+"px");var Lt=this.scrollBarV.getWidth()+"px";at.setStyle(this.scrollBarH.element.style,"right",Lt),at.setStyle(this.scroller.style,"right",Lt),at.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(Ct.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||yt)&&(kt|=this.CHANGE_FULL)}return Ct.$dirty=!xt||!wt,kt&&this._signal("resize",Rt),kt},this.onGutterResize=function(yt){var ht=this.$showGutter?yt:0;ht!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,ht,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var yt=this.$size.scrollerWidth-this.$padding*2,ht=Math.floor(yt/this.characterWidth);return this.session.adjustWrapLimit(ht,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(yt){this.setOption("animatedScroll",yt)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(yt){this.setOption("showInvisibles",yt),this.session.$bidiHandler.setShowInvisibles(yt)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(yt){this.setOption("displayIndentGuides",yt)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(yt){this.setOption("highlightIndentGuides",yt)},this.setShowPrintMargin=function(yt){this.setOption("showPrintMargin",yt)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(yt){this.setOption("printMarginColumn",yt)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(yt){return this.setOption("showGutter",yt)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(yt){this.setOption("fadeFoldWidgets",yt)},this.setHighlightGutterLine=function(yt){this.setOption("highlightGutterLine",yt)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var yt=at.createElement("div");yt.className="ace_layer ace_print-margin-layer",this.$printMarginEl=at.createElement("div"),this.$printMarginEl.className="ace_print-margin",yt.appendChild(this.$printMarginEl),this.content.insertBefore(yt,this.content.firstChild)}var ht=this.$printMarginEl.style;ht.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",ht.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var yt=this.textarea.style,ht=this.$composition;if(!this.$keepTextAreaAtCursor&&!ht){at.translate(this.textarea,-100,0);return}var xt=this.$cursorLayer.$pixelPos;if(!!xt){ht&&ht.markerRange&&(xt=this.$cursorLayer.getPixelPosition(ht.markerRange.start,!0));var wt=this.layerConfig,kt=xt.top,Ct=xt.left;kt-=wt.offset;var Rt=ht&&ht.useTextareaForIME?this.lineHeight:mt?0:1;if(kt<0||kt>wt.height-Rt){at.translate(this.textarea,0,0);return}var Lt=1,Mt=this.$size.height-Rt;if(!ht)kt+=this.lineHeight;else if(ht.useTextareaForIME){var Wt=this.textarea.value;Lt=this.characterWidth*this.session.$getStringScreenWidth(Wt)[0]}else kt+=this.lineHeight+2;Ct-=this.scrollLeft,Ct>this.$size.scrollerWidth-Lt&&(Ct=this.$size.scrollerWidth-Lt),Ct+=this.gutterWidth+this.margin.left,at.setStyle(yt,"height",Rt+"px"),at.setStyle(yt,"width",Lt+"px"),at.translate(this.textarea,Math.min(Ct,this.$size.scrollerWidth-Lt),Math.min(kt,Mt))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var yt=this.layerConfig,ht=yt.lastRow,xt=this.session.documentToScreenRow(ht,0)*yt.lineHeight;return xt-this.session.getScrollTop()>yt.height-yt.lineHeight?ht-1:ht},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(yt){this.$padding=yt,this.$textLayer.setPadding(yt),this.$cursorLayer.setPadding(yt),this.$markerFront.setPadding(yt),this.$markerBack.setPadding(yt),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(yt,ht,xt,wt){var kt=this.scrollMargin;kt.top=yt|0,kt.bottom=ht|0,kt.right=wt|0,kt.left=xt|0,kt.v=kt.top+kt.bottom,kt.h=kt.left+kt.right,kt.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-kt.top),this.updateFull()},this.setMargin=function(yt,ht,xt,wt){var kt=this.margin;kt.top=yt|0,kt.bottom=ht|0,kt.right=wt|0,kt.left=xt|0,kt.v=kt.top+kt.bottom,kt.h=kt.left+kt.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(yt){this.setOption("hScrollBarAlwaysVisible",yt)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(yt){this.setOption("vScrollBarAlwaysVisible",yt)},this.$updateScrollBarV=function(){var yt=this.layerConfig.maxHeight,ht=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(yt-=(ht-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>yt-ht&&(yt=this.scrollTop+ht,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(yt+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(yt,ht){if(this.$changes&&(yt|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!yt&&!ht){this.$changes|=yt;return}if(this.$size.$dirty)return this.$changes|=yt,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",yt),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var xt=this.layerConfig;if(yt&this.CHANGE_FULL||yt&this.CHANGE_SIZE||yt&this.CHANGE_TEXT||yt&this.CHANGE_LINES||yt&this.CHANGE_SCROLL||yt&this.CHANGE_H_SCROLL){if(yt|=this.$computeLayerConfig()|this.$loop.clear(),xt.firstRow!=this.layerConfig.firstRow&&xt.firstRowScreen==this.layerConfig.firstRowScreen){var wt=this.scrollTop+(xt.firstRow-this.layerConfig.firstRow)*this.lineHeight;wt>0&&(this.scrollTop=wt,yt=yt|this.CHANGE_SCROLL,yt|=this.$computeLayerConfig()|this.$loop.clear())}xt=this.layerConfig,this.$updateScrollBarV(),yt&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),at.translate(this.content,-this.scrollLeft,-xt.offset);var kt=xt.width+2*this.$padding+"px",Ct=xt.minHeight+"px";at.setStyle(this.content.style,"width",kt),at.setStyle(this.content.style,"height",Ct)}if(yt&this.CHANGE_H_SCROLL&&(at.translate(this.content,-this.scrollLeft,-xt.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),yt&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(xt),this.$showGutter&&this.$gutterLayer.update(xt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(xt),this.$markerBack.update(xt),this.$markerFront.update(xt),this.$cursorLayer.update(xt),this.$moveTextAreaToCursor(),this._signal("afterRender",yt);return}if(yt&this.CHANGE_SCROLL){this.$changedLines=null,yt&this.CHANGE_TEXT||yt&this.CHANGE_LINES?this.$textLayer.update(xt):this.$textLayer.scrollLines(xt),this.$showGutter&&(yt&this.CHANGE_GUTTER||yt&this.CHANGE_LINES?this.$gutterLayer.update(xt):this.$gutterLayer.scrollLines(xt)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(xt),this.$markerBack.update(xt),this.$markerFront.update(xt),this.$cursorLayer.update(xt),this.$moveTextAreaToCursor(),this._signal("afterRender",yt);return}yt&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(xt),this.$showGutter&&this.$gutterLayer.update(xt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(xt)):yt&this.CHANGE_LINES?((this.$updateLines()||yt&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(xt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(xt)):yt&this.CHANGE_TEXT||yt&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(xt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(xt)):yt&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(xt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(xt)),yt&this.CHANGE_CURSOR&&(this.$cursorLayer.update(xt),this.$moveTextAreaToCursor()),yt&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(xt),yt&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(xt),this._signal("afterRender",yt)},this.$autosize=function(){var yt=this.session.getScreenLength()*this.lineHeight,ht=this.$maxLines*this.lineHeight,xt=Math.min(ht,Math.max((this.$minLines||1)*this.lineHeight,yt))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(xt+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&xt>this.$maxPixelHeight&&(xt=this.$maxPixelHeight);var wt=xt<=2*this.lineHeight,kt=!wt&&yt>ht;if(xt!=this.desiredHeight||this.$size.height!=this.desiredHeight||kt!=this.$vScroll){kt!=this.$vScroll&&(this.$vScroll=kt,this.scrollBarV.setVisible(kt));var Ct=this.container.clientWidth;this.container.style.height=xt+"px",this.$updateCachedSize(!0,this.$gutterWidth,Ct,xt),this.desiredHeight=xt,this._signal("autosize")}},this.$computeLayerConfig=function(){var yt=this.session,ht=this.$size,xt=ht.height<=2*this.lineHeight,wt=this.session.getScreenLength(),kt=wt*this.lineHeight,Ct=this.$getLongestLine(),Rt=!xt&&(this.$hScrollBarAlwaysVisible||ht.scrollerWidth-Ct-2*this.$padding<0),Lt=this.$horizScroll!==Rt;Lt&&(this.$horizScroll=Rt,this.scrollBarH.setVisible(Rt));var Mt=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Wt=ht.scrollerHeight+this.lineHeight,Pt=!this.$maxLines&&this.$scrollPastEnd?(ht.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;kt+=Pt;var Ot=this.scrollMargin;this.session.setScrollTop(Math.max(-Ot.top,Math.min(this.scrollTop,kt-ht.scrollerHeight+Ot.bottom))),this.session.setScrollLeft(Math.max(-Ot.left,Math.min(this.scrollLeft,Ct+2*this.$padding-ht.scrollerWidth+Ot.right)));var Xt=!xt&&(this.$vScrollBarAlwaysVisible||ht.scrollerHeight-kt+Pt<0||this.scrollTop>Ot.top),rn=Mt!==Xt;rn&&(this.$vScroll=Xt,this.scrollBarV.setVisible(Xt));var jt=this.scrollTop%this.lineHeight,Vt=Math.ceil(Wt/this.lineHeight)-1,en=Math.max(0,Math.round((this.scrollTop-jt)/this.lineHeight)),ln=en+Vt,nn,_n,fn=this.lineHeight;en=yt.screenToDocumentRow(en,0);var wn=yt.getFoldLine(en);wn&&(en=wn.start.row),nn=yt.documentToScreenRow(en,0),_n=yt.getRowLength(en)*fn,ln=Math.min(yt.screenToDocumentRow(ln,0),yt.getLength()-1),Wt=ht.scrollerHeight+yt.getRowLength(ln)*fn+_n,jt=this.scrollTop-nn*fn;var xn=0;return(this.layerConfig.width!=Ct||Lt)&&(xn=this.CHANGE_H_SCROLL),(Lt||rn)&&(xn|=this.$updateCachedSize(!0,this.gutterWidth,ht.width,ht.height),this._signal("scrollbarVisibilityChanged"),rn&&(Ct=this.$getLongestLine())),this.layerConfig={width:Ct,padding:this.$padding,firstRow:en,firstRowScreen:nn,lastRow:ln,lineHeight:fn,characterWidth:this.characterWidth,minHeight:Wt,maxHeight:kt,offset:jt,gutterOffset:fn?Math.max(0,Math.ceil((jt+ht.height-ht.scrollerHeight)/fn)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(Ct-this.$padding),xn},this.$updateLines=function(){if(!!this.$changedLines){var yt=this.$changedLines.firstRow,ht=this.$changedLines.lastRow;this.$changedLines=null;var xt=this.layerConfig;if(!(yt>xt.lastRow+1)&&!(ht<xt.firstRow)){if(ht===1/0){this.$showGutter&&this.$gutterLayer.update(xt),this.$textLayer.update(xt);return}return this.$textLayer.updateLines(xt,yt,ht),!0}}},this.$getLongestLine=function(){var yt=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(yt+=1),this.$textLayer&&yt>this.$textLayer.MAX_LINE_LENGTH&&(yt=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(yt*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(yt,ht){this.$gutterLayer.addGutterDecoration(yt,ht)},this.removeGutterDecoration=function(yt,ht){this.$gutterLayer.removeGutterDecoration(yt,ht)},this.updateBreakpoints=function(yt){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(yt){this.$gutterLayer.setAnnotations(yt),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(yt,ht,xt){this.scrollCursorIntoView(yt,xt),this.scrollCursorIntoView(ht,xt)},this.scrollCursorIntoView=function(yt,ht,xt){if(this.$size.scrollerHeight!==0){var wt=this.$cursorLayer.getPixelPosition(yt),kt=wt.left,Ct=wt.top,Rt=xt&&xt.top||0,Lt=xt&&xt.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var Mt=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;Mt+Rt>Ct?(ht&&Mt+Rt>Ct+this.lineHeight&&(Ct-=ht*this.$size.scrollerHeight),Ct===0&&(Ct=-this.scrollMargin.top),this.session.setScrollTop(Ct)):Mt+this.$size.scrollerHeight-Lt<Ct+this.lineHeight&&(ht&&Mt+this.$size.scrollerHeight-Lt<Ct-this.lineHeight&&(Ct+=ht*this.$size.scrollerHeight),this.session.setScrollTop(Ct+this.lineHeight+Lt-this.$size.scrollerHeight));var Wt=this.scrollLeft,Pt=2*this.layerConfig.characterWidth;kt-Pt<Wt?(kt-=Pt,kt<this.$padding+Pt&&(kt=-this.scrollMargin.left),this.session.setScrollLeft(kt)):(kt+=Pt,Wt+this.$size.scrollerWidth<kt+this.characterWidth?this.session.setScrollLeft(Math.round(kt+this.characterWidth-this.$size.scrollerWidth)):Wt<=this.$padding&&kt-Wt<this.characterWidth&&this.session.setScrollLeft(0))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(yt){this.session.setScrollTop(yt*this.lineHeight)},this.alignCursor=function(yt,ht){typeof yt=="number"&&(yt={row:yt,column:0});var xt=this.$cursorLayer.getPixelPosition(yt),wt=this.$size.scrollerHeight-this.lineHeight,kt=xt.top-wt*(ht||0);return this.session.setScrollTop(kt),kt},this.STEPS=8,this.$calcSteps=function(yt,ht){var xt=0,wt=this.STEPS,kt=[],Ct=function(Rt,Lt,Mt){return Mt*(Math.pow(Rt-1,3)+1)+Lt};for(xt=0;xt<wt;++xt)kt.push(Ct(xt/this.STEPS,yt,ht-yt));return kt},this.scrollToLine=function(yt,ht,xt,wt){var kt=this.$cursorLayer.getPixelPosition({row:yt,column:0}),Ct=kt.top;ht&&(Ct-=this.$size.scrollerHeight/2);var Rt=this.scrollTop;this.session.setScrollTop(Ct),xt!==!1&&this.animateScrolling(Rt,wt)},this.animateScrolling=function(yt,ht){var xt=this.scrollTop;if(!this.$animatedScroll)return;var wt=this;if(yt==xt)return;if(this.$scrollAnimation){var kt=this.$scrollAnimation.steps;if(kt.length&&(yt=kt[0],yt==xt))return}var Ct=wt.$calcSteps(yt,xt);this.$scrollAnimation={from:yt,to:xt,steps:Ct},clearInterval(this.$timer),wt.session.setScrollTop(Ct.shift()),wt.session.$scrollTop=xt;function Rt(){wt.$timer=clearInterval(wt.$timer),wt.$scrollAnimation=null,wt.$stopAnimation=!1,ht&&ht()}this.$timer=setInterval(function(){if(wt.$stopAnimation){Rt();return}if(!wt.session)return clearInterval(wt.$timer);Ct.length?(wt.session.setScrollTop(Ct.shift()),wt.session.$scrollTop=xt):xt!=null?(wt.session.$scrollTop=-1,wt.session.setScrollTop(xt),xt=null):Rt()},10)},this.scrollToY=function(yt){this.scrollTop!==yt&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=yt)},this.scrollToX=function(yt){this.scrollLeft!==yt&&(this.scrollLeft=yt),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(yt,ht){this.session.setScrollTop(ht),this.session.setScrollLeft(yt)},this.scrollBy=function(yt,ht){ht&&this.session.setScrollTop(this.session.getScrollTop()+ht),yt&&this.session.setScrollLeft(this.session.getScrollLeft()+yt)},this.isScrollableBy=function(yt,ht){if(ht<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||ht>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||yt<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||yt>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(yt,ht){var xt;if(this.$hasCssTransforms){xt={top:0,left:0};var wt=this.$fontMetrics.transformCoordinates([yt,ht]);yt=wt[1]-this.gutterWidth-this.margin.left,ht=wt[0]}else xt=this.scroller.getBoundingClientRect();var kt=yt+this.scrollLeft-xt.left-this.$padding,Ct=kt/this.characterWidth,Rt=Math.floor((ht+this.scrollTop-xt.top)/this.lineHeight),Lt=this.$blockCursor?Math.floor(Ct):Math.round(Ct);return{row:Rt,column:Lt,side:Ct-Lt>0?1:-1,offsetX:kt}},this.screenToTextCoordinates=function(yt,ht){var xt;if(this.$hasCssTransforms){xt={top:0,left:0};var wt=this.$fontMetrics.transformCoordinates([yt,ht]);yt=wt[1]-this.gutterWidth-this.margin.left,ht=wt[0]}else xt=this.scroller.getBoundingClientRect();var kt=yt+this.scrollLeft-xt.left-this.$padding,Ct=kt/this.characterWidth,Rt=this.$blockCursor?Math.floor(Ct):Math.round(Ct),Lt=Math.floor((ht+this.scrollTop-xt.top)/this.lineHeight);return this.session.screenToDocumentPosition(Lt,Math.max(Rt,0),kt)},this.textToScreenCoordinates=function(yt,ht){var xt=this.scroller.getBoundingClientRect(),wt=this.session.documentToScreenPosition(yt,ht),kt=this.$padding+(this.session.$bidiHandler.isBidiRow(wt.row,yt)?this.session.$bidiHandler.getPosLeft(wt.column):Math.round(wt.column*this.characterWidth)),Ct=wt.row*this.lineHeight;return{pageX:xt.left+kt-this.scrollLeft,pageY:xt.top+Ct-this.scrollTop}},this.visualizeFocus=function(){at.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){at.removeCssClass(this.container,"ace_focus")},this.showComposition=function(yt){this.$composition=yt,yt.cssText||(yt.cssText=this.textarea.style.cssText),yt.useTextareaForIME==null&&(yt.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(at.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):yt.markerId=this.session.addMarker(yt.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(yt){var ht=this.session.selection.cursor;this.addToken(yt,"composition_placeholder",ht.row,ht.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!!this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),at.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var yt=this.session.selection.cursor;this.removeExtraToken(yt.row,yt.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(yt,ht,xt,wt){var kt=this.session;kt.bgTokenizer.lines[xt]=null;var Ct={type:ht,value:yt},Rt=kt.getTokens(xt);if(wt==null)Rt.push(Ct);else for(var Lt=0,Mt=0;Mt<Rt.length;Mt++){var Wt=Rt[Mt];if(Lt+=Wt.value.length,wt<=Lt){var Pt=Wt.value.length-(Lt-wt),Ot=Wt.value.slice(0,Pt),Xt=Wt.value.slice(Pt);Rt.splice(Mt,1,{type:Wt.type,value:Ot},Ct,{type:Wt.type,value:Xt});break}}this.updateLines(xt,xt)},this.removeExtraToken=function(yt,ht){this.updateLines(yt,yt)},this.setTheme=function(yt,ht){var xt=this;if(this.$themeId=yt,xt._dispatchEvent("themeChange",{theme:yt}),!yt||typeof yt=="string"){var wt=yt||this.$options.theme.initialValue;ot.loadModule(["theme",wt],kt)}else kt(yt);function kt(Ct){if(xt.$themeId!=yt)return ht&&ht();if(!Ct||!Ct.cssClass)throw new Error("couldn't load module "+yt+" or it didn't call define");Ct.$id&&(xt.$themeId=Ct.$id),at.importCssString(Ct.cssText,Ct.cssClass,xt.container),xt.theme&&at.removeCssClass(xt.container,xt.theme.cssClass);var Rt="padding"in Ct?Ct.padding:"padding"in(xt.theme||{})?4:xt.$padding;xt.$padding&&Rt!=xt.$padding&&xt.setPadding(Rt),xt.$theme=Ct.cssClass,xt.theme=Ct,at.addCssClass(xt.container,Ct.cssClass),at.setCssClass(xt.container,"ace_dark",Ct.isDark),xt.$size&&(xt.$size.width=0,xt.$updateSizeAsync()),xt._dispatchEvent("themeLoaded",{theme:Ct}),ht&&ht()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(yt,ht){at.setCssClass(this.container,yt,ht!==!1)},this.unsetStyle=function(yt){at.removeCssClass(this.container,yt)},this.setCursorStyle=function(yt){at.setStyle(this.scroller.style,"cursor",yt)},this.setMouseCursor=function(yt){at.setStyle(this.scroller.style,"cursor",yt)},this.attachToShadowRoot=function(){at.importCssString(pt,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(yt){var ht=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,yt===!0?(this.scrollBarV=new lt(this.container,this),this.scrollBarH=new st(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(xt){ht.$scrollAnimation||ht.session.setScrollTop(xt.data-ht.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(xt){ht.$scrollAnimation||ht.session.setScrollLeft(xt.data-ht.scrollMargin.left)}),this.$scrollDecorator=new vt(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new et(this.container,this),this.scrollBarH=new $(this.container,this),this.scrollBarV.addEventListener("scroll",function(xt){ht.$scrollAnimation||ht.session.setScrollTop(xt.data-ht.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(xt){ht.$scrollAnimation||ht.session.setScrollLeft(xt.data-ht.scrollMargin.left)}))}}).call(Tt.prototype),ot.defineOptions(Tt.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(yt){this.$textLayer.setShowInvisibles(yt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(yt){typeof yt=="number"&&(this.$printMarginColumn=yt),this.$showPrintMargin=!!yt,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(yt){this.$gutter.style.display=yt?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(yt){at.setCssClass(this.$gutter,"ace_fade-fold-widgets",yt)},initialValue:!1},showFoldWidgets:{set:function(yt){this.$gutterLayer.setShowFoldWidgets(yt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(yt){this.$textLayer.setDisplayIndentGuides(yt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(yt){this.$textLayer.setHighlightIndentGuides(yt)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(yt){this.$gutterLayer.setHighlightGutterLine(yt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(yt){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(yt){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(yt){typeof yt=="number"&&(yt=yt+"px"),this.container.style.fontSize=yt,this.updateFontSize()},initialValue:12},fontFamily:{set:function(yt){this.container.style.fontFamily=yt,this.updateFontSize()}},maxLines:{set:function(yt){this.updateFull()}},minLines:{set:function(yt){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(yt){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(yt){yt=+yt||0,this.$scrollPastEnd!=yt&&(this.$scrollPastEnd=yt,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(yt){this.$gutterLayer.$fixedWidth=!!yt,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(yt){this.$updateCustomScrollbar(yt)},initialValue:!1},theme:{set:function(yt){this.setTheme(yt)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!dt.isMobile&&!dt.isIE}}),o.VirtualRenderer=Tt}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(a,o,it){var tt=a("../lib/oop"),at=a("../lib/net"),ot=a("../lib/event_emitter").EventEmitter,rt=a("../config");function nt(et){var st="importScripts('"+at.qualifyURL(et)+"');";try{return new Blob([st],{type:"application/javascript"})}catch{var lt=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,ft=new lt;return ft.append(st),ft.getBlob("application/javascript")}}function j(et){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(rt.get("loadWorkerFromBlob")){var st=nt(et),lt=window.URL||window.webkitURL,ft=lt.createObjectURL(st);return new Worker(ft)}return new Worker(et)}var _=function(et){et.postMessage||(et=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=et,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){tt.implement(this,ot),this.$createWorkerFromOldConfig=function(et,st,lt,ft,gt){if(a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),rt.get("packaged")||!a.toUrl)ft=ft||rt.moduleUrl(st,"worker");else{var ut=this.$normalizePath;ft=ft||ut(a.toUrl("ace/worker/worker.js",null,"_"));var pt={};et.forEach(function(vt){pt[vt]=ut(a.toUrl(vt,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=j(ft),gt&&this.send("importScripts",gt),this.$worker.postMessage({init:!0,tlns:pt,module:st,classname:lt}),this.$worker},this.onMessage=function(et){var st=et.data;switch(st.type){case"event":this._signal(st.name,{data:st.data});break;case"call":var lt=this.callbacks[st.id];lt&&(lt(st.data),delete this.callbacks[st.id]);break;case"error":this.reportError(st.data);break;case"log":window.console&&console.log&&console.log.apply(console,st.data);break}},this.reportError=function(et){window.console&&console.error&&console.error(et)},this.$normalizePath=function(et){return at.qualifyURL(et)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(et,st){this.$worker.postMessage({command:et,args:st})},this.call=function(et,st,lt){if(lt){var ft=this.callbackId++;this.callbacks[ft]=lt,st.push(ft)}this.send(et,st)},this.emit=function(et,st){try{st.data&&st.data.err&&(st.data.err={message:st.data.err.message,stack:st.data.err.stack,code:st.data.err.code}),this.$worker&&this.$worker.postMessage({event:et,data:{data:st.data}})}catch(lt){console.error(lt.stack)}},this.attachToDocument=function(et){this.$doc&&this.terminate(),this.$doc=et,this.call("setValue",[et.getValue()]),et.on("change",this.changeListener,!0)},this.changeListener=function(et){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),et.action=="insert"?this.deltaQueue.push(et.start,et.lines):this.deltaQueue.push(et.start,et.end)},this.$sendDeltaQueue=function(){var et=this.deltaQueue;!et||(this.deltaQueue=null,et.length>50&&et.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:et}))}}).call(_.prototype);var $=function(et,st,lt){var ft=null,gt=!1,ut=Object.create(ot),pt=[],vt=new _({messageBuffer:pt,terminate:function(){},postMessage:function(mt){pt.push(mt),ft&&(gt?setTimeout(dt):dt())}});vt.setEmitSync=function(mt){gt=mt};var dt=function(){var mt=pt.shift();mt.command?ft[mt.command].apply(ft,mt.args):mt.event&&ut._signal(mt.event,mt.data)};return ut.postMessage=function(mt){vt.onMessage({data:mt})},ut.callback=function(mt,Tt){this.postMessage({type:"call",id:Tt,data:mt})},ut.emit=function(mt,Tt){this.postMessage({type:"event",name:mt,data:Tt})},rt.loadModule(["worker",st],function(mt){for(ft=new mt[lt](ut);pt.length;)dt()}),vt};o.UIWorkerClient=$,o.WorkerClient=_,o.createWorker=j}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(a,o,it){var tt=a("./range").Range,at=a("./lib/event_emitter").EventEmitter,ot=a("./lib/oop"),rt=function(nt,j,_,$,et,st){var lt=this;this.length=j,this.session=nt,this.doc=nt.getDocument(),this.mainClass=et,this.othersClass=st,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=$,this.$onCursorChange=function(){setTimeout(function(){lt.onCursorChange()})},this.$pos=_;var ft=nt.getUndoManager().$undoStack||nt.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=ft.length,this.setup(),nt.selection.on("changeCursor",this.$onCursorChange)};(function(){ot.implement(this,at),this.setup=function(){var nt=this,j=this.doc,_=this.session;this.selectionBefore=_.selection.toJSON(),_.selection.inMultiSelectMode&&_.selection.toSingleRange(),this.pos=j.createAnchor(this.$pos.row,this.$pos.column);var $=this.pos;$.$insertRight=!0,$.detach(),$.markerId=_.addMarker(new tt($.row,$.column,$.row,$.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(et){var st=j.createAnchor(et.row,et.column);st.$insertRight=!0,st.detach(),nt.others.push(st)}),_.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var nt=this.session,j=this;this.othersActive=!0,this.others.forEach(function(_){_.markerId=nt.addMarker(new tt(_.row,_.column,_.row,_.column+j.length),j.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(!!this.othersActive){this.othersActive=!1;for(var nt=0;nt<this.others.length;nt++)this.session.removeMarker(this.others[nt].markerId)}},this.onUpdate=function(nt){if(this.$updating)return this.updateAnchors(nt);var j=nt;if(j.start.row===j.end.row&&j.start.row===this.pos.row){this.$updating=!0;var _=nt.action==="insert"?j.end.column-j.start.column:j.start.column-j.end.column,$=j.start.column>=this.pos.column&&j.start.column<=this.pos.column+this.length+1,et=j.start.column-this.pos.column;if(this.updateAnchors(nt),$&&(this.length+=_),$&&!this.session.$fromUndo){if(nt.action==="insert")for(var st=this.others.length-1;st>=0;st--){var lt=this.others[st],ft={row:lt.row,column:lt.column+et};this.doc.insertMergedLines(ft,nt.lines)}else if(nt.action==="remove")for(var st=this.others.length-1;st>=0;st--){var lt=this.others[st],ft={row:lt.row,column:lt.column+et};this.doc.remove(new tt(ft.row,ft.column,ft.row,ft.column-_))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(nt){this.pos.onChange(nt);for(var j=this.others.length;j--;)this.others[j].onChange(nt);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var nt=this,j=this.session,_=function(et,st){j.removeMarker(et.markerId),et.markerId=j.addMarker(new tt(et.row,et.column,et.row,et.column+nt.length),st,null,!1)};_(this.pos,this.mainClass);for(var $=this.others.length;$--;)_(this.others[$],this.othersClass)}},this.onCursorChange=function(nt){if(!(this.$updating||!this.session)){var j=this.session.selection.getCursor();j.row===this.pos.row&&j.column>=this.pos.column&&j.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",nt)):(this.hideOtherMarkers(),this._emit("cursorLeave",nt))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var nt=this.session.getUndoManager(),j=(nt.$undoStack||nt.$undostack).length-this.$undoStackDepth,_=0;_<j;_++)nt.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(rt.prototype),o.PlaceHolder=rt}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,o,it){var tt=a("../lib/event"),at=a("../lib/useragent");function ot(nt,j){return nt.row==j.row&&nt.column==j.column}function rt(nt){var j=nt.domEvent,_=j.altKey,$=j.shiftKey,et=j.ctrlKey,st=nt.getAccelKey(),lt=nt.getButton();if(et&&at.isMac&&(lt=j.button),nt.editor.inMultiSelectMode&&lt==2){nt.editor.textInput.onContextMenu(nt.domEvent);return}if(!et&&!_&&!st){lt===0&&nt.editor.inMultiSelectMode&&nt.editor.exitMultiSelectMode();return}if(lt===0){var ft=nt.editor,gt=ft.selection,ut=ft.inMultiSelectMode,pt=nt.getDocumentPosition(),vt=gt.getCursor(),dt=nt.inSelection()||gt.isEmpty()&&ot(pt,vt),mt=nt.x,Tt=nt.y,yt=function(rn){mt=rn.clientX,Tt=rn.clientY},ht=ft.session,xt=ft.renderer.pixelToScreenCoordinates(mt,Tt),wt=xt,kt;if(ft.$mouseHandler.$enableJumpToDef)et&&_||st&&_?kt=$?"block":"add":_&&ft.$blockSelectEnabled&&(kt="block");else if(st&&!_){if(kt="add",!ut&&$)return}else _&&ft.$blockSelectEnabled&&(kt="block");if(kt&&at.isMac&&j.ctrlKey&&ft.$mouseHandler.cancelContextMenu(),kt=="add"){if(!ut&&dt)return;if(!ut){var Ct=gt.toOrientedRange();ft.addSelectionMarker(Ct)}var Rt=gt.rangeList.rangeAtPoint(pt);ft.inVirtualSelectionMode=!0,$&&(Rt=null,Ct=gt.ranges[0]||Ct,ft.removeSelectionMarker(Ct)),ft.once("mouseup",function(){var rn=gt.toOrientedRange();Rt&&rn.isEmpty()&&ot(Rt.cursor,rn.cursor)?gt.substractPoint(rn.cursor):($?gt.substractPoint(Ct.cursor):Ct&&(ft.removeSelectionMarker(Ct),gt.addRange(Ct)),gt.addRange(rn)),ft.inVirtualSelectionMode=!1})}else if(kt=="block"){nt.stop(),ft.inVirtualSelectionMode=!0;var Lt,Mt=[],Wt=function(){var rn=ft.renderer.pixelToScreenCoordinates(mt,Tt),jt=ht.screenToDocumentPosition(rn.row,rn.column,rn.offsetX);ot(wt,rn)&&ot(jt,gt.lead)||(wt=rn,ft.selection.moveToPosition(jt),ft.renderer.scrollCursorIntoView(),ft.removeSelectionMarkers(Mt),Mt=gt.rectangularRangeBlock(wt,xt),ft.$mouseHandler.$clickSelection&&Mt.length==1&&Mt[0].isEmpty()&&(Mt[0]=ft.$mouseHandler.$clickSelection.clone()),Mt.forEach(ft.addSelectionMarker,ft),ft.updateSelectionMarkers())};ut&&!st?gt.toSingleRange():!ut&&st&&(Lt=gt.toOrientedRange(),ft.addSelectionMarker(Lt)),$?xt=ht.documentToScreenPosition(gt.lead):gt.moveToPosition(pt),wt={row:-1,column:-1};var Pt=function(rn){Wt(),clearInterval(Xt),ft.removeSelectionMarkers(Mt),Mt.length||(Mt=[gt.toOrientedRange()]),Lt&&(ft.removeSelectionMarker(Lt),gt.toSingleRange(Lt));for(var jt=0;jt<Mt.length;jt++)gt.addRange(Mt[jt]);ft.inVirtualSelectionMode=!1,ft.$mouseHandler.$clickSelection=null},Ot=Wt;tt.capture(ft.container,yt,Pt);var Xt=setInterval(function(){Ot()},20);return nt.preventDefault()}}}o.onMouseDown=rt}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(a,o,it){o.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(at){at.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(at){at.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(at){at.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(at){at.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(at){at.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(at){at.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(at){at.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(at){at.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(at){at.multiSelect.rangeCount>1?at.multiSelect.joinSelections():at.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(at){at.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(at){at.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(at){at.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],o.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(at){at.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(at){return at&&at.inMultiSelectMode}}];var tt=a("../keyboard/hash_handler").HashHandler;o.keyboardHandler=new tt(o.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(a,o,it){var tt=a("./range_list").RangeList,at=a("./range").Range,ot=a("./selection").Selection,rt=a("./mouse/multi_select_handler").onMouseDown,nt=a("./lib/event"),j=a("./lib/lang"),_=a("./commands/multi_select_commands");o.commands=_.defaultCommands.concat(_.multiSelectCommands);var $=a("./search").Search,et=new $;function st(vt,dt,mt){return et.$options.wrap=!0,et.$options.needle=dt,et.$options.backwards=mt==-1,et.find(vt)}var lt=a("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(lt.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(vt,dt){if(!!vt){if(!this.inMultiSelectMode&&this.rangeCount===0){var mt=this.toOrientedRange();if(this.rangeList.add(mt),this.rangeList.add(vt),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),dt||this.fromOrientedRange(vt);this.rangeList.removeAll(),this.rangeList.add(mt),this.$onAddRange(mt)}vt.cursor||(vt.cursor=vt.end);var Tt=this.rangeList.add(vt);return this.$onAddRange(vt),Tt.length&&this.$onRemoveRange(Tt),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),dt||this.fromOrientedRange(vt)}},this.toSingleRange=function(vt){vt=vt||this.ranges[0];var dt=this.rangeList.removeAll();dt.length&&this.$onRemoveRange(dt),vt&&this.fromOrientedRange(vt)},this.substractPoint=function(vt){var dt=this.rangeList.substractPoint(vt);if(dt)return this.$onRemoveRange(dt),dt[0]},this.mergeOverlappingRanges=function(){var vt=this.rangeList.merge();vt.length&&this.$onRemoveRange(vt)},this.$onAddRange=function(vt){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(vt),this._signal("addRange",{range:vt})},this.$onRemoveRange=function(vt){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var dt=this.rangeList.ranges.pop();vt.push(dt),this.rangeCount=0}for(var mt=vt.length;mt--;){var Tt=this.ranges.indexOf(vt[mt]);this.ranges.splice(Tt,1)}this._signal("removeRange",{ranges:vt}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),dt=dt||this.ranges[0],dt&&!dt.isEqual(this.getRange())&&this.fromOrientedRange(dt)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new tt,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var vt=this.ranges.length?this.ranges:[this.getRange()],dt=[],mt=0;mt<vt.length;mt++){var Tt=vt[mt],yt=Tt.start.row,ht=Tt.end.row;if(yt===ht)dt.push(Tt.clone());else{for(dt.push(new at(yt,Tt.start.column,yt,this.session.getLine(yt).length));++yt<ht;)dt.push(this.getLineRange(yt,!0));dt.push(new at(ht,0,ht,Tt.end.column))}mt==0&&!this.isBackwards()&&(dt=dt.reverse())}this.toSingleRange();for(var mt=dt.length;mt--;)this.addRange(dt[mt])},this.joinSelections=function(){var vt=this.rangeList.ranges,dt=vt[vt.length-1],mt=at.fromPoints(vt[0].start,dt.end);this.toSingleRange(),this.setSelectionRange(mt,dt.cursor==dt.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var vt=this.rangeList.ranges,dt=vt[vt.length-1],mt=at.fromPoints(vt[0].start,dt.end);this.toSingleRange(),this.setSelectionRange(mt,dt.cursor==dt.start)}else{var Tt=this.session.documentToScreenPosition(this.cursor),yt=this.session.documentToScreenPosition(this.anchor),ht=this.rectangularRangeBlock(Tt,yt);ht.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(vt,dt,mt){var Tt=[],yt=vt.column<dt.column;if(yt)var ht=vt.column,xt=dt.column,wt=vt.offsetX,kt=dt.offsetX;else var ht=dt.column,xt=vt.column,wt=dt.offsetX,kt=vt.offsetX;var Ct=vt.row<dt.row;if(Ct)var Rt=vt.row,Lt=dt.row;else var Rt=dt.row,Lt=vt.row;ht<0&&(ht=0),Rt<0&&(Rt=0),Rt==Lt&&(mt=!0);for(var Mt,Wt=Rt;Wt<=Lt;Wt++){var Pt=at.fromPoints(this.session.screenToDocumentPosition(Wt,ht,wt),this.session.screenToDocumentPosition(Wt,xt,kt));if(Pt.isEmpty()){if(Mt&&gt(Pt.end,Mt))break;Mt=Pt.end}Pt.cursor=yt?Pt.start:Pt.end,Tt.push(Pt)}if(Ct&&Tt.reverse(),!mt){for(var Ot=Tt.length-1;Tt[Ot].isEmpty()&&Ot>0;)Ot--;if(Ot>0)for(var Xt=0;Tt[Xt].isEmpty();)Xt++;for(var rn=Ot;rn>=Xt;rn--)Tt[rn].isEmpty()&&Tt.splice(rn,1)}return Tt}}.call(ot.prototype);var ft=a("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(vt){vt.cursor||(vt.cursor=vt.end);var dt=this.getSelectionStyle();return vt.marker=this.session.addMarker(vt,"ace_selection",dt),this.session.$selectionMarkers.push(vt),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,vt},this.removeSelectionMarker=function(vt){if(!!vt.marker){this.session.removeMarker(vt.marker);var dt=this.session.$selectionMarkers.indexOf(vt);dt!=-1&&this.session.$selectionMarkers.splice(dt,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(vt){for(var dt=this.session.$selectionMarkers,mt=vt.length;mt--;){var Tt=vt[mt];if(!!Tt.marker){this.session.removeMarker(Tt.marker);var yt=dt.indexOf(Tt);yt!=-1&&dt.splice(yt,1)}}this.session.selectionMarkerCount=dt.length},this.$onAddRange=function(vt){this.addSelectionMarker(vt.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(vt){this.removeSelectionMarkers(vt.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(vt){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(_.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(vt){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(_.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(vt){var dt=vt.command,mt=vt.editor;if(!!mt.multiSelect){if(dt.multiSelectAction)dt.multiSelectAction=="forEach"?Tt=mt.forEachSelection(dt,vt.args):dt.multiSelectAction=="forEachLine"?Tt=mt.forEachSelection(dt,vt.args,!0):dt.multiSelectAction=="single"?(mt.exitMultiSelectMode(),Tt=dt.exec(mt,vt.args||{})):Tt=dt.multiSelectAction(mt,vt.args||{});else{var Tt=dt.exec(mt,vt.args||{});mt.multiSelect.addRange(mt.multiSelect.toOrientedRange()),mt.multiSelect.mergeOverlappingRanges()}return Tt}},this.forEachSelection=function(vt,dt,mt){if(!this.inVirtualSelectionMode){var Tt=mt&&mt.keepOrder,yt=mt==!0||mt&&mt.$byLines,ht=this.session,xt=this.selection,wt=xt.rangeList,kt=(Tt?xt:wt).ranges,Ct;if(!kt.length)return vt.exec?vt.exec(this,dt||{}):vt(this,dt||{});var Rt=xt._eventRegistry;xt._eventRegistry={};var Lt=new ot(ht);this.inVirtualSelectionMode=!0;for(var Mt=kt.length;Mt--;){if(yt)for(;Mt>0&&kt[Mt].start.row==kt[Mt-1].end.row;)Mt--;Lt.fromOrientedRange(kt[Mt]),Lt.index=Mt,this.selection=ht.selection=Lt;var Wt=vt.exec?vt.exec(this,dt||{}):vt(this,dt||{});!Ct&&Wt!==void 0&&(Ct=Wt),Lt.toOrientedRange(kt[Mt])}Lt.detach(),this.selection=ht.selection=xt,this.inVirtualSelectionMode=!1,xt._eventRegistry=Rt,xt.mergeOverlappingRanges(),xt.ranges[0]&&xt.fromOrientedRange(xt.ranges[0]);var Pt=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Pt&&Pt.from==Pt.to&&this.renderer.animateScrolling(Pt.from),Ct}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var vt="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var dt=this.multiSelect.rangeList.ranges,mt=[],Tt=0;Tt<dt.length;Tt++)mt.push(this.session.getTextRange(dt[Tt]));var yt=this.session.getDocument().getNewLineCharacter();vt=mt.join(yt),vt.length==(mt.length-1)*yt.length&&(vt="")}else this.selection.isEmpty()||(vt=this.session.getTextRange(this.getSelectionRange()));return vt},this.$checkMultiselectChange=function(vt,dt){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var mt=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&dt==this.multiSelect.anchor)return;var Tt=dt==this.multiSelect.anchor?mt.cursor==mt.start?mt.end:mt.start:mt.cursor;Tt.row!=dt.row||this.session.$clipPositionToDocument(Tt.row,Tt.column).column!=dt.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(vt,dt,mt){if(dt=dt||{},dt.needle=vt||dt.needle,dt.needle==null){var Tt=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();dt.needle=this.session.getTextRange(Tt)}this.$search.set(dt);var yt=this.$search.findAll(this.session);if(!yt.length)return 0;var ht=this.multiSelect;mt||ht.toSingleRange(yt[0]);for(var xt=yt.length;xt--;)ht.addRange(yt[xt],!0);return Tt&&ht.rangeList.rangeAtPoint(Tt.start)&&ht.addRange(Tt,!0),yt.length},this.selectMoreLines=function(vt,dt){var mt=this.selection.toOrientedRange(),Tt=mt.cursor==mt.end,yt=this.session.documentToScreenPosition(mt.cursor);this.selection.$desiredColumn&&(yt.column=this.selection.$desiredColumn);var ht=this.session.screenToDocumentPosition(yt.row+vt,yt.column);if(mt.isEmpty())var wt=ht;else var xt=this.session.documentToScreenPosition(Tt?mt.end:mt.start),wt=this.session.screenToDocumentPosition(xt.row+vt,xt.column);if(Tt){var kt=at.fromPoints(ht,wt);kt.cursor=kt.start}else{var kt=at.fromPoints(wt,ht);kt.cursor=kt.end}if(kt.desiredColumn=yt.column,!this.selection.inMultiSelectMode)this.selection.addRange(mt);else if(dt)var Ct=mt.cursor;this.selection.addRange(kt),Ct&&this.selection.substractPoint(Ct)},this.transposeSelections=function(vt){for(var dt=this.session,mt=dt.multiSelect,Tt=mt.ranges,yt=Tt.length;yt--;){var ht=Tt[yt];if(ht.isEmpty()){var xt=dt.getWordRange(ht.start.row,ht.start.column);ht.start.row=xt.start.row,ht.start.column=xt.start.column,ht.end.row=xt.end.row,ht.end.column=xt.end.column}}mt.mergeOverlappingRanges();for(var wt=[],yt=Tt.length;yt--;){var ht=Tt[yt];wt.unshift(dt.getTextRange(ht))}vt<0?wt.unshift(wt.pop()):wt.push(wt.shift());for(var yt=Tt.length;yt--;){var ht=Tt[yt],xt=ht.clone();dt.replace(ht,wt[yt]),ht.start.row=xt.start.row,ht.start.column=xt.start.column}mt.fromOrientedRange(mt.ranges[0])},this.selectMore=function(vt,dt,mt){var Tt=this.session,yt=Tt.multiSelect,ht=yt.toOrientedRange();if(!(ht.isEmpty()&&(ht=Tt.getWordRange(ht.start.row,ht.start.column),ht.cursor=vt==-1?ht.start:ht.end,this.multiSelect.addRange(ht),mt))){var xt=Tt.getTextRange(ht),wt=st(Tt,xt,vt);wt&&(wt.cursor=vt==-1?wt.start:wt.end,this.session.unfold(wt),this.multiSelect.addRange(wt),this.renderer.scrollCursorIntoView(null,.5)),dt&&this.multiSelect.substractPoint(ht.cursor)}},this.alignCursors=function(){var vt=this.session,dt=vt.multiSelect,mt=dt.ranges,Tt=-1,yt=mt.filter(function(Ot){if(Ot.cursor.row==Tt)return!0;Tt=Ot.cursor.row});if(!mt.length||yt.length==mt.length-1){var ht=this.selection.getRange(),xt=ht.start.row,wt=ht.end.row,kt=xt==wt;if(kt){var Ct=this.session.getLength(),Rt;do Rt=this.session.getLine(wt);while(/[=:]/.test(Rt)&&++wt<Ct);do Rt=this.session.getLine(xt);while(/[=:]/.test(Rt)&&--xt>0);xt<0&&(xt=0),wt>=Ct&&(wt=Ct-1)}var Lt=this.session.removeFullLines(xt,wt);Lt=this.$reAlignText(Lt,kt),this.session.insert({row:xt,column:0},Lt.join(`
`)+`
`),kt||(ht.start.column=0,ht.end.column=Lt[Lt.length-1].length),this.selection.setRange(ht)}else{yt.forEach(function(Ot){dt.substractPoint(Ot.cursor)});var Mt=0,Wt=1/0,Pt=mt.map(function(Ot){var Xt=Ot.cursor,rn=vt.getLine(Xt.row),jt=rn.substr(Xt.column).search(/\S/g);return jt==-1&&(jt=0),Xt.column>Mt&&(Mt=Xt.column),jt<Wt&&(Wt=jt),jt});mt.forEach(function(Ot,Xt){var rn=Ot.cursor,jt=Mt-rn.column,Vt=Pt[Xt]-Wt;jt>Vt?vt.insert(rn,j.stringRepeat(" ",jt-Vt)):vt.remove(new at(rn.row,rn.column,rn.row,rn.column-jt+Vt)),Ot.start.column=Ot.end.column=Mt,Ot.start.row=Ot.end.row=rn.row,Ot.cursor=Ot.end}),dt.fromOrientedRange(mt[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(vt,dt){var mt=!0,Tt=!0,yt,ht,xt;return vt.map(function(Lt){var Mt=Lt.match(/(\s*)(.*?)(\s*)([=:].*)/);return Mt?yt==null?(yt=Mt[1].length,ht=Mt[2].length,xt=Mt[3].length,Mt):(yt+ht+xt!=Mt[1].length+Mt[2].length+Mt[3].length&&(Tt=!1),yt!=Mt[1].length&&(mt=!1),yt>Mt[1].length&&(yt=Mt[1].length),ht<Mt[2].length&&(ht=Mt[2].length),xt>Mt[3].length&&(xt=Mt[3].length),Mt):[Lt]}).map(dt?kt:mt?Tt?Ct:kt:Rt);function wt(Lt){return j.stringRepeat(" ",Lt)}function kt(Lt){return Lt[2]?wt(yt)+Lt[2]+wt(ht-Lt[2].length+xt)+Lt[4].replace(/^([=:])\s+/,"$1 "):Lt[0]}function Ct(Lt){return Lt[2]?wt(yt+ht-Lt[2].length)+Lt[2]+wt(xt)+Lt[4].replace(/^([=:])\s+/,"$1 "):Lt[0]}function Rt(Lt){return Lt[2]?wt(yt)+Lt[2]+wt(xt)+Lt[4].replace(/^([=:])\s+/,"$1 "):Lt[0]}}}).call(ft.prototype);function gt(vt,dt){return vt.row==dt.row&&vt.column==dt.column}o.onSessionChange=function(vt){var dt=vt.session;dt&&!dt.multiSelect&&(dt.$selectionMarkers=[],dt.selection.$initRangeList(),dt.multiSelect=dt.selection),this.multiSelect=dt&&dt.multiSelect;var mt=vt.oldSession;mt&&(mt.multiSelect.off("addRange",this.$onAddRange),mt.multiSelect.off("removeRange",this.$onRemoveRange),mt.multiSelect.off("multiSelect",this.$onMultiSelect),mt.multiSelect.off("singleSelect",this.$onSingleSelect),mt.multiSelect.lead.off("change",this.$checkMultiselectChange),mt.multiSelect.anchor.off("change",this.$checkMultiselectChange)),dt&&(dt.multiSelect.on("addRange",this.$onAddRange),dt.multiSelect.on("removeRange",this.$onRemoveRange),dt.multiSelect.on("multiSelect",this.$onMultiSelect),dt.multiSelect.on("singleSelect",this.$onSingleSelect),dt.multiSelect.lead.on("change",this.$checkMultiselectChange),dt.multiSelect.anchor.on("change",this.$checkMultiselectChange)),dt&&this.inMultiSelectMode!=dt.selection.inMultiSelectMode&&(dt.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function ut(vt){vt.$multiselectOnSessionChange||(vt.$onAddRange=vt.$onAddRange.bind(vt),vt.$onRemoveRange=vt.$onRemoveRange.bind(vt),vt.$onMultiSelect=vt.$onMultiSelect.bind(vt),vt.$onSingleSelect=vt.$onSingleSelect.bind(vt),vt.$multiselectOnSessionChange=o.onSessionChange.bind(vt),vt.$checkMultiselectChange=vt.$checkMultiselectChange.bind(vt),vt.$multiselectOnSessionChange(vt),vt.on("changeSession",vt.$multiselectOnSessionChange),vt.on("mousedown",rt),vt.commands.addCommands(_.defaultCommands),pt(vt))}function pt(vt){if(!vt.textInput)return;var dt=vt.textInput.getElement(),mt=!1;nt.addListener(dt,"keydown",function(yt){var ht=yt.keyCode==18&&!(yt.ctrlKey||yt.shiftKey||yt.metaKey);vt.$blockSelectEnabled&&ht?mt||(vt.renderer.setMouseCursor("crosshair"),mt=!0):mt&&Tt()},vt),nt.addListener(dt,"keyup",Tt,vt),nt.addListener(dt,"blur",Tt,vt);function Tt(yt){mt&&(vt.renderer.setMouseCursor(""),mt=!1)}}o.MultiSelect=ut,a("./config").defineOptions(ft.prototype,"editor",{enableMultiselect:{set:function(vt){ut(this),vt?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",rt)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",rt))},value:!0},enableBlockSelect:{set:function(vt){this.$blockSelectEnabled=vt},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(a,o,it){var tt=a("../../range").Range,at=o.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(ot,rt,nt){var j=ot.getLine(nt);return this.foldingStartMarker.test(j)?"start":rt=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(j)?"end":""},this.getFoldWidgetRange=function(ot,rt,nt){return null},this.indentationBlock=function(ot,rt,nt){var j=/\S/,_=ot.getLine(rt),$=_.search(j);if($!=-1){for(var et=nt||_.length,st=ot.getLength(),lt=rt,ft=rt;++rt<st;){var gt=ot.getLine(rt).search(j);if(gt!=-1){if(gt<=$){var ut=ot.getTokenAt(rt,0);if(!ut||ut.type!=="string")break}ft=rt}}if(ft>lt){var pt=ot.getLine(ft).length;return new tt(lt,et,ft,pt)}}},this.openingBracketBlock=function(ot,rt,nt,j,_){var $={row:nt,column:j+1},et=ot.$findClosingBracket(rt,$,_);if(!!et){var st=ot.foldWidgets[et.row];return st==null&&(st=ot.getFoldWidget(et.row)),st=="start"&&et.row>$.row&&(et.row--,et.column=ot.getLine(et.row).length),tt.fromPoints($,et)}},this.closingBracketBlock=function(ot,rt,nt,j,_){var $={row:nt,column:j},et=ot.$findOpeningBracket(rt,$);if(!!et)return et.column++,$.column--,tt.fromPoints(et,$)}}).call(at.prototype)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(a,o,it){var tt=a("./lib/dom");function at(ot){this.session=ot,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(ot){var rt;return this.lineWidgets?rt=this.lineWidgets[ot]&&this.lineWidgets[ot].rowCount||0:rt=0,!this.$useWrapMode||!this.$wrapData[ot]?1+rt:this.$wrapData[ot].length+1+rt},this.$getWidgetScreenLength=function(){var ot=0;return this.lineWidgets.forEach(function(rt){rt&&rt.rowCount&&!rt.hidden&&(ot+=rt.rowCount)}),ot},this.$onChangeEditor=function(ot){this.attach(ot.editor)},this.attach=function(ot){ot&&ot.widgetManager&&ot.widgetManager!=this&&ot.widgetManager.detach(),this.editor!=ot&&(this.detach(),this.editor=ot,ot&&(ot.widgetManager=this,ot.renderer.on("beforeRender",this.measureWidgets),ot.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(ot){var rt=this.editor;if(!!rt){this.editor=null,rt.widgetManager=null,rt.renderer.off("beforeRender",this.measureWidgets),rt.renderer.off("afterRender",this.renderWidgets);var nt=this.session.lineWidgets;nt&&nt.forEach(function(j){j&&j.el&&j.el.parentNode&&(j._inDocument=!1,j.el.parentNode.removeChild(j.el))})}},this.updateOnFold=function(ot,rt){var nt=rt.lineWidgets;if(!(!nt||!ot.action)){for(var j=ot.data,_=j.start.row,$=j.end.row,et=ot.action=="add",st=_+1;st<$;st++)nt[st]&&(nt[st].hidden=et);nt[$]&&(et?nt[_]?nt[$].hidden=et:nt[_]=nt[$]:(nt[_]==nt[$]&&(nt[_]=void 0),nt[$].hidden=et))}},this.updateOnChange=function(ot){var rt=this.session.lineWidgets;if(!!rt){var nt=ot.start.row,j=ot.end.row-nt;if(j!==0)if(ot.action=="remove"){var _=rt.splice(nt+1,j);!rt[nt]&&_[_.length-1]&&(rt[nt]=_.pop()),_.forEach(function(et){et&&this.removeLineWidget(et)},this),this.$updateRows()}else{var $=new Array(j);rt[nt]&&rt[nt].column!=null&&ot.start.column>rt[nt].column&&nt++,$.unshift(nt,0),rt.splice.apply(rt,$),this.$updateRows()}}},this.$updateRows=function(){var ot=this.session.lineWidgets;if(!!ot){var rt=!0;ot.forEach(function(nt,j){if(nt)for(rt=!1,nt.row=j;nt.$oldWidget;)nt.$oldWidget.row=j,nt=nt.$oldWidget}),rt&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(ot){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var rt=this.session.lineWidgets[ot.row];return rt&&(ot.$oldWidget=rt,rt.el&&rt.el.parentNode&&(rt.el.parentNode.removeChild(rt.el),rt._inDocument=!1)),this.session.lineWidgets[ot.row]=ot,ot},this.addLineWidget=function(ot){if(this.$registerLineWidget(ot),ot.session=this.session,!this.editor)return ot;var rt=this.editor.renderer;ot.html&&!ot.el&&(ot.el=tt.createElement("div"),ot.el.innerHTML=ot.html),ot.el&&(tt.addCssClass(ot.el,"ace_lineWidgetContainer"),ot.el.style.position="absolute",ot.el.style.zIndex=5,rt.container.appendChild(ot.el),ot._inDocument=!0,ot.coverGutter||(ot.el.style.zIndex=3),ot.pixelHeight==null&&(ot.pixelHeight=ot.el.offsetHeight)),ot.rowCount==null&&(ot.rowCount=ot.pixelHeight/rt.layerConfig.lineHeight);var nt=this.session.getFoldAt(ot.row,0);if(ot.$fold=nt,nt){var j=this.session.lineWidgets;ot.row==nt.end.row&&!j[nt.start.row]?j[nt.start.row]=ot:ot.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:ot.row}}}),this.$updateRows(),this.renderWidgets(null,rt),this.onWidgetChanged(ot),ot},this.removeLineWidget=function(ot){if(ot._inDocument=!1,ot.session=null,ot.el&&ot.el.parentNode&&ot.el.parentNode.removeChild(ot.el),ot.editor&&ot.editor.destroy)try{ot.editor.destroy()}catch{}if(this.session.lineWidgets){var rt=this.session.lineWidgets[ot.row];if(rt==ot)this.session.lineWidgets[ot.row]=ot.$oldWidget,ot.$oldWidget&&this.onWidgetChanged(ot.$oldWidget);else for(;rt;){if(rt.$oldWidget==ot){rt.$oldWidget=ot.$oldWidget;break}rt=rt.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:ot.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(ot){for(var rt=this.session.lineWidgets,nt=rt&&rt[ot],j=[];nt;)j.push(nt),nt=nt.$oldWidget;return j},this.onWidgetChanged=function(ot){this.session._changedWidgets.push(ot),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(ot,rt){var nt=this.session._changedWidgets,j=rt.layerConfig;if(!(!nt||!nt.length)){for(var _=1/0,$=0;$<nt.length;$++){var et=nt[$];if(!(!et||!et.el)&&et.session==this.session){if(!et._inDocument){if(this.session.lineWidgets[et.row]!=et)continue;et._inDocument=!0,rt.container.appendChild(et.el)}et.h=et.el.offsetHeight,et.fixedWidth||(et.w=et.el.offsetWidth,et.screenWidth=Math.ceil(et.w/j.characterWidth));var st=et.h/j.lineHeight;et.coverLine&&(st-=this.session.getRowLineCount(et.row),st<0&&(st=0)),et.rowCount!=st&&(et.rowCount=st,et.row<_&&(_=et.row))}}_!=1/0&&(this.session._emit("changeFold",{data:{start:{row:_}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(ot,rt){var nt=rt.layerConfig,j=this.session.lineWidgets;if(!!j){for(var _=Math.min(this.firstRow,nt.firstRow),$=Math.max(this.lastRow,nt.lastRow,j.length);_>0&&!j[_];)_--;this.firstRow=nt.firstRow,this.lastRow=nt.lastRow,rt.$cursorLayer.config=nt;for(var et=_;et<=$;et++){var st=j[et];if(!(!st||!st.el)){if(st.hidden){st.el.style.top=-100-(st.pixelHeight||0)+"px";continue}st._inDocument||(st._inDocument=!0,rt.container.appendChild(st.el));var lt=rt.$cursorLayer.getPixelPosition({row:et,column:0},!0).top;st.coverLine||(lt+=nt.lineHeight*this.session.getRowLineCount(st.row)),st.el.style.top=lt-nt.offset+"px";var ft=st.coverGutter?0:rt.gutterWidth;st.fixedWidth||(ft-=rt.scrollLeft),st.el.style.left=ft+"px",st.fullWidth&&st.screenWidth&&(st.el.style.minWidth=nt.width+2*nt.padding+"px"),st.fixedWidth?st.el.style.right=rt.scrollBar.getWidth()+"px":st.el.style.right=""}}}}}).call(at.prototype),o.LineWidgets=at}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(a,o,it){var tt=a("../line_widgets").LineWidgets,at=a("../lib/dom"),ot=a("../range").Range;function rt(j,_,$){for(var et=0,st=j.length-1;et<=st;){var lt=et+st>>1,ft=$(_,j[lt]);if(ft>0)et=lt+1;else if(ft<0)st=lt-1;else return lt}return-(et+1)}function nt(j,_,$){var et=j.getAnnotations().sort(ot.comparePoints);if(!!et.length){var st=rt(et,{row:_,column:-1},ot.comparePoints);st<0&&(st=-st-1),st>=et.length?st=$>0?0:et.length-1:st===0&&$<0&&(st=et.length-1);var lt=et[st];if(!(!lt||!$)){if(lt.row===_){do lt=et[st+=$];while(lt&&lt.row===_);if(!lt)return et.slice()}var ft=[];_=lt.row;do ft[$<0?"unshift":"push"](lt),lt=et[st+=$];while(lt&&lt.row==_);return ft.length&&ft}}}o.showErrorMarker=function(j,_){var $=j.session;$.widgetManager||($.widgetManager=new tt($),$.widgetManager.attach(j));var et=j.getCursorPosition(),st=et.row,lt=$.widgetManager.getWidgetsAtRow(st).filter(function(yt){return yt.type=="errorMarker"})[0];lt?lt.destroy():st-=_;var ft=nt($,st,_),gt;if(ft){var ut=ft[0];et.column=(ut.pos&&typeof ut.column!="number"?ut.pos.sc:ut.column)||0,et.row=ut.row,gt=j.renderer.$gutterLayer.$annotations[et.row]}else{if(lt)return;gt={text:["Looks good!"],className:"ace_ok"}}j.session.unfold(et.row),j.selection.moveToPosition(et);var pt={row:et.row,fixedWidth:!0,coverGutter:!0,el:at.createElement("div"),type:"errorMarker"},vt=pt.el.appendChild(at.createElement("div")),dt=pt.el.appendChild(at.createElement("div"));dt.className="error_widget_arrow "+gt.className;var mt=j.renderer.$cursorLayer.getPixelPosition(et).left;dt.style.left=mt+j.renderer.gutterWidth-5+"px",pt.el.className="error_widget_wrapper",vt.className="error_widget "+gt.className,vt.innerHTML=gt.text.join("<br>"),vt.appendChild(at.createElement("div"));var Tt=function(yt,ht,xt){if(ht===0&&(xt==="esc"||xt==="return"))return pt.destroy(),{command:"null"}};pt.destroy=function(){j.$mouseHandler.isMousePressed||(j.keyBinding.removeKeyboardHandler(Tt),$.widgetManager.removeLineWidget(pt),j.off("changeSelection",pt.destroy),j.off("changeSession",pt.destroy),j.off("mouseup",pt.destroy),j.off("change",pt.destroy))},j.keyBinding.addKeyboardHandler(Tt),j.on("changeSelection",pt.destroy),j.on("changeSession",pt.destroy),j.on("mouseup",pt.destroy),j.on("change",pt.destroy),j.session.widgetManager.addLineWidget(pt),pt.el.onmousedown=j.focus.bind(j),j.renderer.scrollCursorIntoView(null,.5,{bottom:pt.el.offsetHeight})},at.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(a,o,it){a("./loader_build")(o);var tt=a("./lib/dom"),at=a("./lib/event"),ot=a("./range").Range,rt=a("./editor").Editor,nt=a("./edit_session").EditSession,j=a("./undomanager").UndoManager,_=a("./virtual_renderer").VirtualRenderer;a("./worker/worker_client"),a("./keyboard/hash_handler"),a("./placeholder"),a("./multi_select"),a("./mode/folding/fold_mode"),a("./theme/textmate"),a("./ext/error_marker"),o.config=a("./config"),o.edit=function($,et){if(typeof $=="string"){var st=$;if($=document.getElementById(st),!$)throw new Error("ace.edit can't find div #"+st)}if($&&$.env&&$.env.editor instanceof rt)return $.env.editor;var lt="";if($&&/input|textarea/i.test($.tagName)){var ft=$;lt=ft.value,$=tt.createElement("pre"),ft.parentNode.replaceChild($,ft)}else $&&(lt=$.textContent,$.innerHTML="");var gt=o.createEditSession(lt),ut=new rt(new _($),gt,et),pt={document:gt,editor:ut,onResize:ut.resize.bind(ut,null)};return ft&&(pt.textarea=ft),at.addListener(window,"resize",pt.onResize),ut.on("destroy",function(){at.removeListener(window,"resize",pt.onResize),pt.editor.container.env=null}),ut.container.env=ut.env=pt,ut},o.createEditSession=function($,et){var st=new nt($,et);return st.setUndoManager(new j),st},o.Range=ot,o.Editor=rt,o.EditSession=nt,o.UndoManager=j,o.VirtualRenderer=_,o.version=o.config.version}),function(){ace.require(["ace/ace"],function(a){a&&(a.config.init(!0),a.define=ace.define),window.ace||(window.ace=a);for(var o in a)a.hasOwnProperty(o)&&(window.ace[o]=a[o]);window.ace.default=window.ace,i&&(i.exports=window.ace)})}()})(ace$3);var lodash_isequal={exports:{}};(function(i,s){var a=200,o="__lodash_hash_undefined__",it=1,tt=2,at=9007199254740991,ot="[object Arguments]",rt="[object Array]",nt="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",et="[object Function]",st="[object GeneratorFunction]",lt="[object Map]",ft="[object Number]",gt="[object Null]",ut="[object Object]",pt="[object Promise]",vt="[object Proxy]",dt="[object RegExp]",mt="[object Set]",Tt="[object String]",yt="[object Symbol]",ht="[object Undefined]",xt="[object WeakMap]",wt="[object ArrayBuffer]",kt="[object DataView]",Ct="[object Float32Array]",Rt="[object Float64Array]",Lt="[object Int8Array]",Mt="[object Int16Array]",Wt="[object Int32Array]",Pt="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Xt="[object Uint16Array]",rn="[object Uint32Array]",jt=/[\\^$.*+?()[\]{}|]/g,Vt=/^\[object .+?Constructor\]$/,en=/^(?:0|[1-9]\d*)$/,ln={};ln[Ct]=ln[Rt]=ln[Lt]=ln[Mt]=ln[Wt]=ln[Pt]=ln[Ot]=ln[Xt]=ln[rn]=!0,ln[ot]=ln[rt]=ln[wt]=ln[j]=ln[kt]=ln[_]=ln[$]=ln[et]=ln[lt]=ln[ft]=ln[ut]=ln[dt]=ln[mt]=ln[Tt]=ln[xt]=!1;var nn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_n=typeof self=="object"&&self&&self.Object===Object&&self,fn=nn||_n||Function("return this")(),wn=s&&!s.nodeType&&s,xn=wn&&!0&&i&&!i.nodeType&&i,qt=xn&&xn.exports===wn,Qt=qt&&nn.process,Gt=function(){try{return Qt&&Qt.binding&&Qt.binding("util")}catch{}}(),cn=Gt&&Gt.isTypedArray;function kn(Jt,pn){for(var zt=-1,sn=Jt==null?0:Jt.length,vn=0,Ln=[];++zt<sn;){var ir=Jt[zt];pn(ir,zt,Jt)&&(Ln[vn++]=ir)}return Ln}function dn(Jt,pn){for(var zt=-1,sn=pn.length,vn=Jt.length;++zt<sn;)Jt[vn+zt]=pn[zt];return Jt}function qn(Jt,pn){for(var zt=-1,sn=Jt==null?0:Jt.length;++zt<sn;)if(pn(Jt[zt],zt,Jt))return!0;return!1}function ur(Jt,pn){for(var zt=-1,sn=Array(Jt);++zt<Jt;)sn[zt]=pn(zt);return sn}function cr(Jt){return function(pn){return Jt(pn)}}function Mr(Jt,pn){return Jt.has(pn)}function En(Jt,pn){return Jt==null?void 0:Jt[pn]}function Kn(Jt){var pn=-1,zt=Array(Jt.size);return Jt.forEach(function(sn,vn){zt[++pn]=[vn,sn]}),zt}function Nn(Jt,pn){return function(zt){return Jt(pn(zt))}}function dr(Jt){var pn=-1,zt=Array(Jt.size);return Jt.forEach(function(sn){zt[++pn]=sn}),zt}var Hn=Array.prototype,Tr=Function.prototype,or=Object.prototype,Wn=fn["__core-js_shared__"],xr=Tr.toString,Ut=or.hasOwnProperty,an=function(){var Jt=/[^.]+$/.exec(Wn&&Wn.keys&&Wn.keys.IE_PROTO||"");return Jt?"Symbol(src)_1."+Jt:""}(),hn=or.toString,On=RegExp("^"+xr.call(Ut).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gn=qt?fn.Buffer:void 0,Pn=fn.Symbol,$n=fn.Uint8Array,Yn=or.propertyIsEnumerable,lr=Hn.splice,Mn=Pn?Pn.toStringTag:void 0,Zn=Object.getOwnPropertySymbols,Vn=Gn?Gn.isBuffer:void 0,er=Nn(Object.keys,Object),jn=yn(fn,"DataView"),zn=yn(fn,"Map"),yr=yn(fn,"Promise"),ls=yn(fn,"Set"),Jr=yn(fn,"WeakMap"),_s=yn(Object,"create"),Rs=_i(jn),Yr=_i(zn),Is=_i(yr),Zs=_i(ls),Ls=_i(Jr),Js=Pn?Pn.prototype:void 0,zs=Js?Js.valueOf:void 0;function qr(Jt){var pn=-1,zt=Jt==null?0:Jt.length;for(this.clear();++pn<zt;){var sn=Jt[pn];this.set(sn[0],sn[1])}}function na(){this.__data__=_s?_s(null):{},this.size=0}function tr(Jt){var pn=this.has(Jt)&&delete this.__data__[Jt];return this.size-=pn?1:0,pn}function rs(Jt){var pn=this.__data__;if(_s){var zt=pn[Jt];return zt===o?void 0:zt}return Ut.call(pn,Jt)?pn[Jt]:void 0}function Ms(Jt){var pn=this.__data__;return _s?pn[Jt]!==void 0:Ut.call(pn,Jt)}function ga(Jt,pn){var zt=this.__data__;return this.size+=this.has(Jt)?0:1,zt[Jt]=_s&&pn===void 0?o:pn,this}qr.prototype.clear=na,qr.prototype.delete=tr,qr.prototype.get=rs,qr.prototype.has=Ms,qr.prototype.set=ga;function Wr(Jt){var pn=-1,zt=Jt==null?0:Jt.length;for(this.clear();++pn<zt;){var sn=Jt[pn];this.set(sn[0],sn[1])}}function fo(){this.__data__=[],this.size=0}function no(Jt){var pn=this.__data__,zt=Kt(pn,Jt);if(zt<0)return!1;var sn=pn.length-1;return zt==sn?pn.pop():lr.call(pn,zt,1),--this.size,!0}function ro(Jt){var pn=this.__data__,zt=Kt(pn,Jt);return zt<0?void 0:pn[zt][1]}function po(Jt){return Kt(this.__data__,Jt)>-1}function Us(Jt,pn){var zt=this.__data__,sn=Kt(zt,Jt);return sn<0?(++this.size,zt.push([Jt,pn])):zt[sn][1]=pn,this}Wr.prototype.clear=fo,Wr.prototype.delete=no,Wr.prototype.get=ro,Wr.prototype.has=po,Wr.prototype.set=Us;function hs(Jt){var pn=-1,zt=Jt==null?0:Jt.length;for(this.clear();++pn<zt;){var sn=Jt[pn];this.set(sn[0],sn[1])}}function us(){this.size=0,this.__data__={hash:new qr,map:new(zn||Wr),string:new qr}}function nr(Jt){var pn=tn(this,Jt).delete(Jt);return this.size-=pn?1:0,pn}function jr(Jt){return tn(this,Jt).get(Jt)}function Ps(Jt){return tn(this,Jt).has(Jt)}function Ws(Jt,pn){var zt=tn(this,Jt),sn=zt.size;return zt.set(Jt,pn),this.size+=zt.size==sn?0:1,this}hs.prototype.clear=us,hs.prototype.delete=nr,hs.prototype.get=jr,hs.prototype.has=Ps,hs.prototype.set=Ws;function gr(Jt){var pn=-1,zt=Jt==null?0:Jt.length;for(this.__data__=new hs;++pn<zt;)this.add(Jt[pn])}function Ss(Jt){return this.__data__.set(Jt,o),this}function xa(Jt){return this.__data__.has(Jt)}gr.prototype.add=gr.prototype.push=Ss,gr.prototype.has=xa;function is(Jt){var pn=this.__data__=new Wr(Jt);this.size=pn.size}function io(){this.__data__=new Wr,this.size=0}function so(Jt){var pn=this.__data__,zt=pn.delete(Jt);return this.size=pn.size,zt}function js(Jt){return this.__data__.get(Jt)}function St(Jt){return this.__data__.has(Jt)}function At(Jt,pn){var zt=this.__data__;if(zt instanceof Wr){var sn=zt.__data__;if(!zn||sn.length<a-1)return sn.push([Jt,pn]),this.size=++zt.size,this;zt=this.__data__=new hs(sn)}return zt.set(Jt,pn),this.size=zt.size,this}is.prototype.clear=io,is.prototype.delete=so,is.prototype.get=js,is.prototype.has=St,is.prototype.set=At;function Dt(Jt,pn){var zt=ms(Jt),sn=!zt&&ps(Jt),vn=!zt&&!sn&&mo(Jt),Ln=!zt&&!sn&&!vn&&Go(Jt),ir=zt||sn||vn||Ln,vr=ir?ur(Jt.length,String):[],sr=vr.length;for(var Jn in Jt)(pn||Ut.call(Jt,Jn))&&!(ir&&(Jn=="length"||vn&&(Jn=="offset"||Jn=="parent")||Ln&&(Jn=="buffer"||Jn=="byteLength"||Jn=="byteOffset")||hr(Jn,sr)))&&vr.push(Jn);return vr}function Kt(Jt,pn){for(var zt=Jt.length;zt--;)if(Fs(Jt[zt][0],pn))return zt;return-1}function Zt(Jt,pn,zt){var sn=pn(Jt);return ms(Jt)?sn:dn(sn,zt(Jt))}function bn(Jt){return Jt==null?Jt===void 0?ht:gt:Mn&&Mn in Object(Jt)?Sn(Jt):Ts(Jt)}function Cn(Jt){return oo(Jt)&&bn(Jt)==ot}function Un(Jt,pn,zt,sn,vn){return Jt===pn?!0:Jt==null||pn==null||!oo(Jt)&&!oo(pn)?Jt!==Jt&&pn!==pn:rr(Jt,pn,zt,sn,Un,vn)}function rr(Jt,pn,zt,sn,vn,Ln){var ir=ms(Jt),vr=ms(pn),sr=ir?rt:Bn(Jt),Jn=vr?rt:Bn(pn);sr=sr==ot?ut:sr,Jn=Jn==ot?ut:Jn;var br=sr==ut,Br=Jn==ut,Lr=sr==Jn;if(Lr&&mo(Jt)){if(!mo(pn))return!1;ir=!0,br=!1}if(Lr&&!br)return Ln||(Ln=new is),ir||Go(Jt)?_t(Jt,pn,zt,sn,vn,Ln):$t(Jt,pn,sr,zt,sn,vn,Ln);if(!(zt&it)){var Pr=br&&Ut.call(Jt,"__wrapped__"),es=Br&&Ut.call(pn,"__wrapped__");if(Pr||es){var gs=Pr?Jt.value():Jt,ys=es?pn.value():pn;return Ln||(Ln=new is),vn(gs,ys,zt,sn,Ln)}}return Lr?(Ln||(Ln=new is),Ft(Jt,pn,zt,sn,vn,Ln)):!1}function Er(Jt){if(!Ho(Jt)||Gr(Jt))return!1;var pn=Es(Jt)?On:Vt;return pn.test(_i(Jt))}function Ur(Jt){return oo(Jt)&&ao(Jt.length)&&!!ln[bn(Jt)]}function ss(Jt){if(!ws(Jt))return er(Jt);var pn=[];for(var zt in Object(Jt))Ut.call(Jt,zt)&&zt!="constructor"&&pn.push(zt);return pn}function _t(Jt,pn,zt,sn,vn,Ln){var ir=zt&it,vr=Jt.length,sr=pn.length;if(vr!=sr&&!(ir&&sr>vr))return!1;var Jn=Ln.get(Jt);if(Jn&&Ln.get(pn))return Jn==pn;var br=-1,Br=!0,Lr=zt&tt?new gr:void 0;for(Ln.set(Jt,pn),Ln.set(pn,Jt);++br<vr;){var Pr=Jt[br],es=pn[br];if(sn)var gs=ir?sn(es,Pr,br,pn,Jt,Ln):sn(Pr,es,br,Jt,pn,Ln);if(gs!==void 0){if(gs)continue;Br=!1;break}if(Lr){if(!qn(pn,function(ys,lo){if(!Mr(Lr,lo)&&(Pr===ys||vn(Pr,ys,zt,sn,Ln)))return Lr.push(lo)})){Br=!1;break}}else if(!(Pr===es||vn(Pr,es,zt,sn,Ln))){Br=!1;break}}return Ln.delete(Jt),Ln.delete(pn),Br}function $t(Jt,pn,zt,sn,vn,Ln,ir){switch(zt){case kt:if(Jt.byteLength!=pn.byteLength||Jt.byteOffset!=pn.byteOffset)return!1;Jt=Jt.buffer,pn=pn.buffer;case wt:return!(Jt.byteLength!=pn.byteLength||!Ln(new $n(Jt),new $n(pn)));case j:case _:case ft:return Fs(+Jt,+pn);case $:return Jt.name==pn.name&&Jt.message==pn.message;case dt:case Tt:return Jt==pn+"";case lt:var vr=Kn;case mt:var sr=sn&it;if(vr||(vr=dr),Jt.size!=pn.size&&!sr)return!1;var Jn=ir.get(Jt);if(Jn)return Jn==pn;sn|=tt,ir.set(Jt,pn);var br=_t(vr(Jt),vr(pn),sn,vn,Ln,ir);return ir.delete(Jt),br;case yt:if(zs)return zs.call(Jt)==zs.call(pn)}return!1}function Ft(Jt,pn,zt,sn,vn,Ln){var ir=zt&it,vr=Bt(Jt),sr=vr.length,Jn=Bt(pn),br=Jn.length;if(sr!=br&&!ir)return!1;for(var Br=sr;Br--;){var Lr=vr[Br];if(!(ir?Lr in pn:Ut.call(pn,Lr)))return!1}var Pr=Ln.get(Jt);if(Pr&&Ln.get(pn))return Pr==pn;var es=!0;Ln.set(Jt,pn),Ln.set(pn,Jt);for(var gs=ir;++Br<sr;){Lr=vr[Br];var ys=Jt[Lr],lo=pn[Lr];if(sn)var $l=ir?sn(lo,ys,Lr,pn,Jt,Ln):sn(ys,lo,Lr,Jt,pn,Ln);if(!($l===void 0?ys===lo||vn(ys,lo,zt,sn,Ln):$l)){es=!1;break}gs||(gs=Lr=="constructor")}if(es&&!gs){var Po=Jt.constructor,as=pn.constructor;Po!=as&&"constructor"in Jt&&"constructor"in pn&&!(typeof Po=="function"&&Po instanceof Po&&typeof as=="function"&&as instanceof as)&&(es=!1)}return Ln.delete(Jt),Ln.delete(pn),es}function Bt(Jt){return Zt(Jt,Ko,Dn)}function tn(Jt,pn){var zt=Jt.__data__;return _r(pn)?zt[typeof pn=="string"?"string":"hash"]:zt.map}function yn(Jt,pn){var zt=En(Jt,pn);return Er(zt)?zt:void 0}function Sn(Jt){var pn=Ut.call(Jt,Mn),zt=Jt[Mn];try{Jt[Mn]=void 0;var sn=!0}catch{}var vn=hn.call(Jt);return sn&&(pn?Jt[Mn]=zt:delete Jt[Mn]),vn}var Dn=Zn?function(Jt){return Jt==null?[]:(Jt=Object(Jt),kn(Zn(Jt),function(pn){return Yn.call(Jt,pn)}))}:Nr,Bn=bn;(jn&&Bn(new jn(new ArrayBuffer(1)))!=kt||zn&&Bn(new zn)!=lt||yr&&Bn(yr.resolve())!=pt||ls&&Bn(new ls)!=mt||Jr&&Bn(new Jr)!=xt)&&(Bn=function(Jt){var pn=bn(Jt),zt=pn==ut?Jt.constructor:void 0,sn=zt?_i(zt):"";if(sn)switch(sn){case Rs:return kt;case Yr:return lt;case Is:return pt;case Zs:return mt;case Ls:return xt}return pn});function hr(Jt,pn){return pn=pn==null?at:pn,!!pn&&(typeof Jt=="number"||en.test(Jt))&&Jt>-1&&Jt%1==0&&Jt<pn}function _r(Jt){var pn=typeof Jt;return pn=="string"||pn=="number"||pn=="symbol"||pn=="boolean"?Jt!=="__proto__":Jt===null}function Gr(Jt){return!!an&&an in Jt}function ws(Jt){var pn=Jt&&Jt.constructor,zt=typeof pn=="function"&&pn.prototype||or;return Jt===zt}function Ts(Jt){return hn.call(Jt)}function _i(Jt){if(Jt!=null){try{return xr.call(Jt)}catch{}try{return Jt+""}catch{}}return""}function Fs(Jt,pn){return Jt===pn||Jt!==Jt&&pn!==pn}var ps=Cn(function(){return arguments}())?Cn:function(Jt){return oo(Jt)&&Ut.call(Jt,"callee")&&!Yn.call(Jt,"callee")},ms=Array.isArray;function Wo(Jt){return Jt!=null&&ao(Jt.length)&&!Es(Jt)}var mo=Vn||Dr;function jo(Jt,pn){return Un(Jt,pn)}function Es(Jt){if(!Ho(Jt))return!1;var pn=bn(Jt);return pn==et||pn==st||pn==nt||pn==vt}function ao(Jt){return typeof Jt=="number"&&Jt>-1&&Jt%1==0&&Jt<=at}function Ho(Jt){var pn=typeof Jt;return Jt!=null&&(pn=="object"||pn=="function")}function oo(Jt){return Jt!=null&&typeof Jt=="object"}var Go=cn?cr(cn):Ur;function Ko(Jt){return Wo(Jt)?Dt(Jt):ss(Jt)}function Nr(){return[]}function Dr(){return!1}i.exports=jo})(lodash_isequal,lodash_isequal.exports);var editorOptions$1={};Object.defineProperty(editorOptions$1,"__esModule",{value:!0});editorOptions$1.getAceInstance=editorOptions$1.debounce=editorOptions$1.editorEvents=editorOptions$1.editorOptions=void 0;var editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];editorOptions$1.editorOptions=editorOptions;var editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];editorOptions$1.editorEvents=editorEvents;var getAceInstance=function(){var i;return typeof window>"u"?(commonjsGlobal.window={},i=ace$3.exports,delete commonjsGlobal.window):window.ace?(i=window.ace,i.acequire=window.ace.require||window.ace.acequire):i=ace$3.exports,i};editorOptions$1.getAceInstance=getAceInstance;var debounce=function(i,s){var a=null;return function(){var o=this,it=arguments;clearTimeout(a),a=setTimeout(function(){i.apply(o,it)},s)}};editorOptions$1.debounce=debounce;var _jsx$1=require$$0.jsx,__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,it){o.__proto__=it}||function(o,it){for(var tt in it)Object.prototype.hasOwnProperty.call(it,tt)&&(o[tt]=it[tt])},i(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(s,a);function o(){this.constructor=s}s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var it in s)Object.prototype.hasOwnProperty.call(s,it)&&(i[it]=s[it])}return i},__assign$1.apply(this,arguments)};Object.defineProperty(ace$4,"__esModule",{value:!0});var ace_builds_1$1=ace$3.exports,PropTypes$2=propTypes.exports,React$2=react.exports,isEqual$1=lodash_isequal.exports,editorOptions_1$1=editorOptions$1,ace$2=(0,editorOptions_1$1.getAceInstance)(),ReactAce=function(i){__extends$2(s,i);function s(a){var o=i.call(this,a)||this;return editorOptions_1$1.editorEvents.forEach(function(it){o[it]=o[it].bind(o)}),o.debounce=editorOptions_1$1.debounce,o}return s.prototype.isInShadow=function(a){for(var o=a&&a.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},s.prototype.componentDidMount=function(){var a=this,o=this.props,it=o.className,tt=o.onBeforeLoad,at=o.onValidate,ot=o.mode,rt=o.focus,nt=o.theme,j=o.fontSize,_=o.value,$=o.defaultValue,et=o.showGutter,st=o.wrapEnabled,lt=o.showPrintMargin,ft=o.scrollMargin,gt=ft===void 0?[0,0,0,0]:ft,ut=o.keyboardHandler,pt=o.onLoad,vt=o.commands,dt=o.annotations,mt=o.markers,Tt=o.placeholder;this.editor=ace$2.edit(this.refEditor),tt&&tt(ace$2);for(var yt=Object.keys(this.props.editorProps),ht=0;ht<yt.length;ht++)this.editor[yt[ht]]=this.props.editorProps[yt[ht]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(gt[0],gt[1],gt[2],gt[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof ot=="string"?"ace/mode/".concat(ot):ot),nt&&nt!==""&&this.editor.setTheme("ace/theme/".concat(nt)),this.editor.setFontSize(typeof j=="number"?"".concat(j,"px"):j),this.editor.getSession().setValue($||_||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(et),this.editor.getSession().setUseWrapMode(st),this.editor.setShowPrintMargin(lt),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),Tt&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),at&&this.editor.getSession().on("changeAnnotation",function(){var wt=a.editor.getSession().getAnnotations();a.props.onValidate(wt)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(dt||[]),mt&&mt.length>0&&this.handleMarkers(mt);var xt=this.editor.$options;editorOptions_1$1.editorOptions.forEach(function(wt){xt.hasOwnProperty(wt)?a.editor.setOption(wt,a.props[wt]):a.props[wt]&&console.warn("ReactAce: editor option ".concat(wt," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(vt)&&vt.forEach(function(wt){typeof wt.exec=="string"?a.editor.commands.bindKey(wt.bindKey,wt.exec):a.editor.commands.addCommand(wt)}),ut&&this.editor.setKeyboardHandler("ace/keyboard/"+ut),it&&(this.refEditor.className+=" "+it),pt&&pt(this.editor),this.editor.resize(),rt&&this.editor.focus()},s.prototype.componentDidUpdate=function(a){for(var o=a,it=this.props,tt=0;tt<editorOptions_1$1.editorOptions.length;tt++){var at=editorOptions_1$1.editorOptions[tt];it[at]!==o[at]&&this.editor.setOption(at,it[at])}if(it.className!==o.className){var ot=this.refEditor.className,rt=ot.trim().split(" "),nt=o.className.trim().split(" ");nt.forEach(function($){var et=rt.indexOf($);rt.splice(et,1)}),this.refEditor.className=" "+it.className+" "+rt.join(" ")}var j=this.editor&&it.value!=null&&this.editor.getValue()!==it.value;if(j){this.silent=!0;var _=this.editor.session.selection.toJSON();this.editor.setValue(it.value,it.cursorStart),this.editor.session.selection.fromJSON(_),this.silent=!1}it.placeholder!==o.placeholder&&this.updatePlaceholder(),it.mode!==o.mode&&this.editor.getSession().setMode(typeof it.mode=="string"?"ace/mode/".concat(it.mode):it.mode),it.theme!==o.theme&&this.editor.setTheme("ace/theme/"+it.theme),it.keyboardHandler!==o.keyboardHandler&&(it.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+it.keyboardHandler):this.editor.setKeyboardHandler(null)),it.fontSize!==o.fontSize&&this.editor.setFontSize(typeof it.fontSize=="number"?"".concat(it.fontSize,"px"):it.fontSize),it.wrapEnabled!==o.wrapEnabled&&this.editor.getSession().setUseWrapMode(it.wrapEnabled),it.showPrintMargin!==o.showPrintMargin&&this.editor.setShowPrintMargin(it.showPrintMargin),it.showGutter!==o.showGutter&&this.editor.renderer.setShowGutter(it.showGutter),isEqual$1(it.setOptions,o.setOptions)||this.handleOptions(it),(j||!isEqual$1(it.annotations,o.annotations))&&this.editor.getSession().setAnnotations(it.annotations||[]),!isEqual$1(it.markers,o.markers)&&Array.isArray(it.markers)&&this.handleMarkers(it.markers),isEqual$1(it.scrollMargin,o.scrollMargin)||this.handleScrollMargins(it.scrollMargin),(a.height!==this.props.height||a.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!a.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(a){a===void 0&&(a=[0,0,0,0]),this.editor.renderer.setScrollMargin(a[0],a[1],a[2],a[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(a){if(this.props.onChange&&!this.silent){var o=this.editor.getValue();this.props.onChange(o,a)}},s.prototype.onSelectionChange=function(a){if(this.props.onSelectionChange){var o=this.editor.getSelection();this.props.onSelectionChange(o,a)}},s.prototype.onCursorChange=function(a){if(this.props.onCursorChange){var o=this.editor.getSelection();this.props.onCursorChange(o,a)}},s.prototype.onInput=function(a){this.props.onInput&&this.props.onInput(a),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(a){this.props.onFocus&&this.props.onFocus(a,this.editor)},s.prototype.onBlur=function(a){this.props.onBlur&&this.props.onBlur(a,this.editor)},s.prototype.onCopy=function(a){var o=a.text;this.props.onCopy&&this.props.onCopy(o)},s.prototype.onPaste=function(a){var o=a.text;this.props.onPaste&&this.props.onPaste(o)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(a){for(var o=Object.keys(a.setOptions),it=0;it<o.length;it++)this.editor.setOption(o[it],a.setOptions[o[it]])},s.prototype.handleMarkers=function(a){var o=this,it=this.editor.getSession().getMarkers(!0);for(var tt in it)it.hasOwnProperty(tt)&&this.editor.getSession().removeMarker(it[tt].id);it=this.editor.getSession().getMarkers(!1);for(var tt in it)it.hasOwnProperty(tt)&&it[tt].clazz!=="ace_active-line"&&it[tt].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(it[tt].id);a.forEach(function(at){var ot=at.startRow,rt=at.startCol,nt=at.endRow,j=at.endCol,_=at.className,$=at.type,et=at.inFront,st=et===void 0?!1:et,lt=new ace_builds_1$1.Range(ot,rt,nt,j);o.editor.getSession().addMarker(lt,_,$,st)})},s.prototype.updatePlaceholder=function(){var a=this.editor,o=this.props.placeholder,it=!a.session.getValue().length,tt=a.renderer.placeholderNode;!it&&tt?(a.renderer.scroller.removeChild(a.renderer.placeholderNode),a.renderer.placeholderNode=null):it&&!tt?(tt=a.renderer.placeholderNode=document.createElement("div"),tt.textContent=o||"",tt.className="ace_comment ace_placeholder",tt.style.padding="0 9px",tt.style.position="absolute",tt.style.zIndex="3",a.renderer.scroller.appendChild(tt)):it&&tt&&(tt.textContent=o)},s.prototype.updateRef=function(a){this.refEditor=a},s.prototype.render=function(){var a=this.props,o=a.name,it=a.width,tt=a.height,at=a.style,ot=__assign$1({width:it,height:tt},at);return _jsx$1("div",{ref:this.updateRef,id:o,style:ot})},s.propTypes={mode:PropTypes$2.oneOfType([PropTypes$2.string,PropTypes$2.object]),focus:PropTypes$2.bool,theme:PropTypes$2.string,name:PropTypes$2.string,className:PropTypes$2.string,height:PropTypes$2.string,width:PropTypes$2.string,fontSize:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),showGutter:PropTypes$2.bool,onChange:PropTypes$2.func,onCopy:PropTypes$2.func,onPaste:PropTypes$2.func,onFocus:PropTypes$2.func,onInput:PropTypes$2.func,onBlur:PropTypes$2.func,onScroll:PropTypes$2.func,value:PropTypes$2.string,defaultValue:PropTypes$2.string,onLoad:PropTypes$2.func,onSelectionChange:PropTypes$2.func,onCursorChange:PropTypes$2.func,onBeforeLoad:PropTypes$2.func,onValidate:PropTypes$2.func,minLines:PropTypes$2.number,maxLines:PropTypes$2.number,readOnly:PropTypes$2.bool,highlightActiveLine:PropTypes$2.bool,tabSize:PropTypes$2.number,showPrintMargin:PropTypes$2.bool,cursorStart:PropTypes$2.number,debounceChangePeriod:PropTypes$2.number,editorProps:PropTypes$2.object,setOptions:PropTypes$2.object,style:PropTypes$2.object,scrollMargin:PropTypes$2.array,annotations:PropTypes$2.array,markers:PropTypes$2.array,keyboardHandler:PropTypes$2.string,wrapEnabled:PropTypes$2.bool,enableSnippets:PropTypes$2.bool,enableBasicAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),enableLiveAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),navigateToFileEnd:PropTypes$2.bool,commands:PropTypes$2.array,placeholder:PropTypes$2.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s}(React$2.Component);ace$4.default=ReactAce;var diff={},split={},extSplit={exports:{}};(function(i,s){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(a,o,it){var tt=a("./lib/oop");a("./lib/lang");var at=a("./lib/event_emitter").EventEmitter,ot=a("./editor").Editor,rt=a("./virtual_renderer").VirtualRenderer,nt=a("./edit_session").EditSession,j=function(_,$,et){this.BELOW=1,this.BESIDE=0,this.$container=_,this.$theme=$,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(et||1),this.$cEditor=this.$editors[0],this.on("focus",function(st){this.$cEditor=st}.bind(this))};(function(){tt.implement(this,at),this.$createEditor=function(){var _=document.createElement("div");_.className=this.$editorCSS,_.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(_);var $=new ot(new rt(_,this.$theme));return $.on("focus",function(){this._emit("focus",$)}.bind(this)),this.$editors.push($),$.setFontSize(this.$fontSize),$},this.setSplits=function(_){var $;if(_<1)throw"The number of splits have to be > 0!";if(_!=this.$splits){if(_>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<_;)$=this.$editors[this.$splits],this.$container.appendChild($.container),$.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<_;)this.$createEditor(),this.$splits++}else for(;this.$splits>_;)$=this.$editors[this.$splits-1],this.$container.removeChild($.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(_){return this.$editors[_]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(_){this.$editors.forEach(function($){$.setTheme(_)})},this.setKeyboardHandler=function(_){this.$editors.forEach(function($){$.setKeyboardHandler(_)})},this.forEach=function(_,$){this.$editors.forEach(_,$)},this.$fontSize="",this.setFontSize=function(_){this.$fontSize=_,this.forEach(function($){$.setFontSize(_)})},this.$cloneSession=function(_){var $=new nt(_.getDocument(),_.getMode()),et=_.getUndoManager();return $.setUndoManager(et),$.setTabSize(_.getTabSize()),$.setUseSoftTabs(_.getUseSoftTabs()),$.setOverwrite(_.getOverwrite()),$.setBreakpoints(_.getBreakpoints()),$.setUseWrapMode(_.getUseWrapMode()),$.setUseWorker(_.getUseWorker()),$.setWrapLimitRange(_.$wrapLimitRange.min,_.$wrapLimitRange.max),$.$foldData=_.$cloneFoldData(),$},this.setSession=function(_,$){var et;$==null?et=this.$cEditor:et=this.$editors[$];var st=this.$editors.some(function(lt){return lt.session===_});return st&&(_=this.$cloneSession(_)),et.setSession(_),_},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(_){this.$orientation!=_&&(this.$orientation=_,this.resize())},this.resize=function(){var _=this.$container.clientWidth,$=this.$container.clientHeight,et;if(this.$orientation==this.BESIDE)for(var st=_/this.$splits,lt=0;lt<this.$splits;lt++)et=this.$editors[lt],et.container.style.width=st+"px",et.container.style.top="0px",et.container.style.left=lt*st+"px",et.container.style.height=$+"px",et.resize();else for(var ft=$/this.$splits,lt=0;lt<this.$splits;lt++)et=this.$editors[lt],et.container.style.width=_+"px",et.container.style.top=lt*ft+"px",et.container.style.left="0px",et.container.style.height=ft+"px",et.resize()}}).call(j.prototype),o.Split=j}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(a,o,it){it.exports=a("../split")}),function(){ace.require(["ace/ext/split"],function(a){i&&(i.exports=a)})}()})(extSplit);var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(i,s){return i==null?void 0:i[s]}function isHostObject(i){var s=!1;if(i!=null&&typeof i.toString!="function")try{s=!!(i+"")}catch{}return s}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(i){var s=-1,a=i?i.length:0;for(this.clear();++s<a;){var o=i[s];this.set(o[0],o[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(i){return this.has(i)&&delete this.__data__[i]}function hashGet(i){var s=this.__data__;if(nativeCreate){var a=s[i];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty.call(s,i)?s[i]:void 0}function hashHas(i){var s=this.__data__;return nativeCreate?s[i]!==void 0:hasOwnProperty.call(s,i)}function hashSet(i,s){var a=this.__data__;return a[i]=nativeCreate&&s===void 0?HASH_UNDEFINED:s,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(i){var s=-1,a=i?i.length:0;for(this.clear();++s<a;){var o=i[s];this.set(o[0],o[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(i){var s=this.__data__,a=assocIndexOf(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():splice.call(s,a,1),!0}function listCacheGet(i){var s=this.__data__,a=assocIndexOf(s,i);return a<0?void 0:s[a][1]}function listCacheHas(i){return assocIndexOf(this.__data__,i)>-1}function listCacheSet(i,s){var a=this.__data__,o=assocIndexOf(a,i);return o<0?a.push([i,s]):a[o][1]=s,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(i){var s=-1,a=i?i.length:0;for(this.clear();++s<a;){var o=i[s];this.set(o[0],o[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(i){return getMapData(this,i).delete(i)}function mapCacheGet(i){return getMapData(this,i).get(i)}function mapCacheHas(i){return getMapData(this,i).has(i)}function mapCacheSet(i,s){return getMapData(this,i).set(i,s),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(i,s){for(var a=i.length;a--;)if(eq(i[a][0],s))return a;return-1}function baseGet(i,s){s=isKey(s,i)?[s]:castPath(s);for(var a=0,o=s.length;i!=null&&a<o;)i=i[toKey(s[a++])];return a&&a==o?i:void 0}function baseIsNative(i){if(!isObject$1(i)||isMasked(i))return!1;var s=isFunction(i)||isHostObject(i)?reIsNative:reIsHostCtor;return s.test(toSource(i))}function baseToString(i){if(typeof i=="string")return i;if(isSymbol(i))return symbolToString?symbolToString.call(i):"";var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function castPath(i){return isArray$1(i)?i:stringToPath(i)}function getMapData(i,s){var a=i.__data__;return isKeyable(s)?a[typeof s=="string"?"string":"hash"]:a.map}function getNative(i,s){var a=getValue(i,s);return baseIsNative(a)?a:void 0}function isKey(i,s){if(isArray$1(i))return!1;var a=typeof i;return a=="number"||a=="symbol"||a=="boolean"||i==null||isSymbol(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||s!=null&&i in Object(s)}function isKeyable(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function isMasked(i){return!!maskSrcKey&&maskSrcKey in i}var stringToPath=memoize(function(i){i=toString(i);var s=[];return reLeadingDot.test(i)&&s.push(""),i.replace(rePropName,function(a,o,it,tt){s.push(it?tt.replace(reEscapeChar,"$1"):o||a)}),s});function toKey(i){if(typeof i=="string"||isSymbol(i))return i;var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function toSource(i){if(i!=null){try{return funcToString.call(i)}catch{}try{return i+""}catch{}}return""}function memoize(i,s){if(typeof i!="function"||s&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var a=function(){var o=arguments,it=s?s.apply(this,o):o[0],tt=a.cache;if(tt.has(it))return tt.get(it);var at=i.apply(this,o);return a.cache=tt.set(it,at),at};return a.cache=new(memoize.Cache||MapCache),a}memoize.Cache=MapCache;function eq(i,s){return i===s||i!==i&&s!==s}var isArray$1=Array.isArray;function isFunction(i){var s=isObject$1(i)?objectToString.call(i):"";return s==funcTag||s==genTag}function isObject$1(i){var s=typeof i;return!!i&&(s=="object"||s=="function")}function isObjectLike(i){return!!i&&typeof i=="object"}function isSymbol(i){return typeof i=="symbol"||isObjectLike(i)&&objectToString.call(i)==symbolTag}function toString(i){return i==null?"":baseToString(i)}function get$1(i,s,a){var o=i==null?void 0:baseGet(i,s);return o===void 0?a:o}var lodash_get=get$1,_jsx=require$$0.jsx,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,it){o.__proto__=it}||function(o,it){for(var tt in it)Object.prototype.hasOwnProperty.call(it,tt)&&(o[tt]=it[tt])},i(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(s,a);function o(){this.constructor=s}s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var it in s)Object.prototype.hasOwnProperty.call(s,it)&&(i[it]=s[it])}return i},__assign.apply(this,arguments)};Object.defineProperty(split,"__esModule",{value:!0});var editorOptions_1=editorOptions$1,ace$1=(0,editorOptions_1.getAceInstance)(),ace_builds_1=ace$3.exports,ext_split_1=extSplit.exports,PropTypes$1=propTypes.exports,React$1=react.exports,isEqual=lodash_isequal.exports,get=lodash_get,SplitComponent=function(i){__extends$1(s,i);function s(a){var o=i.call(this,a)||this;return editorOptions_1.editorEvents.forEach(function(it){o[it]=o[it].bind(o)}),o.debounce=editorOptions_1.debounce,o}return s.prototype.isInShadow=function(a){for(var o=a&&a.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},s.prototype.componentDidMount=function(){var a=this,o=this.props,it=o.className,tt=o.onBeforeLoad,at=o.mode,ot=o.focus,rt=o.theme,nt=o.fontSize,j=o.value,_=o.defaultValue,$=o.cursorStart,et=o.showGutter,st=o.wrapEnabled,lt=o.showPrintMargin,ft=o.scrollMargin,gt=ft===void 0?[0,0,0,0]:ft,ut=o.keyboardHandler,pt=o.onLoad,vt=o.commands,dt=o.annotations,mt=o.markers,Tt=o.splits;this.editor=ace$1.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(rt)),tt&&tt(ace$1);var yt=Object.keys(this.props.editorProps),ht=new ext_split_1.Split(this.editor.container,"ace/theme/".concat(rt),Tt);this.editor.env.split=ht,this.splitEditor=ht.getEditor(0),this.split=ht,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var xt=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),ht.forEach(function(kt,Ct){for(var Rt=0;Rt<yt.length;Rt++)kt[yt[Rt]]=a.props.editorProps[yt[Rt]];var Lt=get(_,Ct),Mt=get(j,Ct,"");kt.session.setUndoManager(new ace$1.UndoManager),kt.setTheme("ace/theme/".concat(rt)),kt.renderer.setScrollMargin(gt[0],gt[1],gt[2],gt[3]),kt.getSession().setMode("ace/mode/".concat(at)),kt.setFontSize(nt),kt.renderer.setShowGutter(et),kt.getSession().setUseWrapMode(st),kt.setShowPrintMargin(lt),kt.on("focus",a.onFocus),kt.on("blur",a.onBlur),kt.on("input",a.onInput),kt.on("copy",a.onCopy),kt.on("paste",a.onPaste),kt.on("change",a.onChange),kt.getSession().selection.on("changeSelection",a.onSelectionChange),kt.getSession().selection.on("changeCursor",a.onCursorChange),kt.session.on("changeScrollTop",a.onScroll),kt.setValue(Lt===void 0?Mt:Lt,$);var Wt=get(dt,Ct,[]),Pt=get(mt,Ct,[]);kt.getSession().setAnnotations(Wt),Pt&&Pt.length>0&&a.handleMarkers(Pt,kt);for(var Rt=0;Rt<editorOptions_1.editorOptions.length;Rt++){var Ot=editorOptions_1.editorOptions[Rt];xt.hasOwnProperty(Ot)?kt.setOption(Ot,a.props[Ot]):a.props[Ot]&&console.warn("ReaceAce: editor option ".concat(Ot," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}a.handleOptions(a.props,kt),Array.isArray(vt)&&vt.forEach(function(Xt){typeof Xt.exec=="string"?kt.commands.bindKey(Xt.bindKey,Xt.exec):kt.commands.addCommand(Xt)}),ut&&kt.setKeyboardHandler("ace/keyboard/"+ut)}),it&&(this.refEditor.className+=" "+it),ot&&this.splitEditor.focus();var wt=this.editor.env.split;wt.setOrientation(this.props.orientation==="below"?wt.BELOW:wt.BESIDE),wt.resize(!0),pt&&pt(wt)},s.prototype.componentDidUpdate=function(a){var o=this,it=a,tt=this.props,at=this.editor.env.split;if(tt.splits!==it.splits&&at.setSplits(tt.splits),tt.orientation!==it.orientation&&at.setOrientation(tt.orientation==="below"?at.BELOW:at.BESIDE),at.forEach(function(j,_){tt.mode!==it.mode&&j.getSession().setMode("ace/mode/"+tt.mode),tt.keyboardHandler!==it.keyboardHandler&&(tt.keyboardHandler?j.setKeyboardHandler("ace/keyboard/"+tt.keyboardHandler):j.setKeyboardHandler(null)),tt.fontSize!==it.fontSize&&j.setFontSize(tt.fontSize),tt.wrapEnabled!==it.wrapEnabled&&j.getSession().setUseWrapMode(tt.wrapEnabled),tt.showPrintMargin!==it.showPrintMargin&&j.setShowPrintMargin(tt.showPrintMargin),tt.showGutter!==it.showGutter&&j.renderer.setShowGutter(tt.showGutter);for(var $=0;$<editorOptions_1.editorOptions.length;$++){var et=editorOptions_1.editorOptions[$];tt[et]!==it[et]&&j.setOption(et,tt[et])}isEqual(tt.setOptions,it.setOptions)||o.handleOptions(tt,j);var st=get(tt.value,_,"");if(j.getValue()!==st){o.silent=!0;var lt=j.session.selection.toJSON();j.setValue(st,tt.cursorStart),j.session.selection.fromJSON(lt),o.silent=!1}var ft=get(tt.annotations,_,[]),gt=get(it.annotations,_,[]);isEqual(ft,gt)||j.getSession().setAnnotations(ft);var ut=get(tt.markers,_,[]),pt=get(it.markers,_,[]);!isEqual(ut,pt)&&Array.isArray(ut)&&o.handleMarkers(ut,j)}),tt.className!==it.className){var ot=this.refEditor.className,rt=ot.trim().split(" "),nt=it.className.trim().split(" ");nt.forEach(function(j){var _=rt.indexOf(j);rt.splice(_,1)}),this.refEditor.className=" "+tt.className+" "+rt.join(" ")}tt.theme!==it.theme&&at.setTheme("ace/theme/"+tt.theme),tt.focus&&!it.focus&&this.splitEditor.focus(),(tt.height!==this.props.height||tt.width!==this.props.width)&&this.editor.resize()},s.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},s.prototype.onChange=function(a){if(this.props.onChange&&!this.silent){var o=[];this.editor.env.split.forEach(function(it){o.push(it.getValue())}),this.props.onChange(o,a)}},s.prototype.onSelectionChange=function(a){if(this.props.onSelectionChange){var o=[];this.editor.env.split.forEach(function(it){o.push(it.getSelection())}),this.props.onSelectionChange(o,a)}},s.prototype.onCursorChange=function(a){if(this.props.onCursorChange){var o=[];this.editor.env.split.forEach(function(it){o.push(it.getSelection())}),this.props.onCursorChange(o,a)}},s.prototype.onFocus=function(a){this.props.onFocus&&this.props.onFocus(a)},s.prototype.onInput=function(a){this.props.onInput&&this.props.onInput(a)},s.prototype.onBlur=function(a){this.props.onBlur&&this.props.onBlur(a)},s.prototype.onCopy=function(a){this.props.onCopy&&this.props.onCopy(a)},s.prototype.onPaste=function(a){this.props.onPaste&&this.props.onPaste(a)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(a,o){for(var it=Object.keys(a.setOptions),tt=0;tt<it.length;tt++)o.setOption(it[tt],a.setOptions[it[tt]])},s.prototype.handleMarkers=function(a,o){var it=o.getSession().getMarkers(!0);for(var tt in it)it.hasOwnProperty(tt)&&o.getSession().removeMarker(it[tt].id);it=o.getSession().getMarkers(!1);for(var tt in it)it.hasOwnProperty(tt)&&o.getSession().removeMarker(it[tt].id);a.forEach(function(at){var ot=at.startRow,rt=at.startCol,nt=at.endRow,j=at.endCol,_=at.className,$=at.type,et=at.inFront,st=et===void 0?!1:et,lt=new ace_builds_1.Range(ot,rt,nt,j);o.getSession().addMarker(lt,_,$,st)})},s.prototype.updateRef=function(a){this.refEditor=a},s.prototype.render=function(){var a=this.props,o=a.name,it=a.width,tt=a.height,at=a.style,ot=__assign({width:it,height:tt},at);return _jsx("div",{ref:this.updateRef,id:o,style:ot})},s.propTypes={className:PropTypes$1.string,debounceChangePeriod:PropTypes$1.number,defaultValue:PropTypes$1.arrayOf(PropTypes$1.string),focus:PropTypes$1.bool,fontSize:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),height:PropTypes$1.string,mode:PropTypes$1.string,name:PropTypes$1.string,onBlur:PropTypes$1.func,onChange:PropTypes$1.func,onCopy:PropTypes$1.func,onFocus:PropTypes$1.func,onInput:PropTypes$1.func,onLoad:PropTypes$1.func,onPaste:PropTypes$1.func,onScroll:PropTypes$1.func,orientation:PropTypes$1.string,showGutter:PropTypes$1.bool,splits:PropTypes$1.number,theme:PropTypes$1.string,value:PropTypes$1.arrayOf(PropTypes$1.string),width:PropTypes$1.string,onSelectionChange:PropTypes$1.func,onCursorChange:PropTypes$1.func,onBeforeLoad:PropTypes$1.func,minLines:PropTypes$1.number,maxLines:PropTypes$1.number,readOnly:PropTypes$1.bool,highlightActiveLine:PropTypes$1.bool,tabSize:PropTypes$1.number,showPrintMargin:PropTypes$1.bool,cursorStart:PropTypes$1.number,editorProps:PropTypes$1.object,setOptions:PropTypes$1.object,style:PropTypes$1.object,scrollMargin:PropTypes$1.array,annotations:PropTypes$1.array,markers:PropTypes$1.array,keyboardHandler:PropTypes$1.string,wrapEnabled:PropTypes$1.bool,enableBasicAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),enableLiveAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),commands:PropTypes$1.array},s.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},s}(React$1.Component);split.default=SplitComponent;var diffMatchPatch={exports:{}};(function(i){var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},a=-1,o=1,it=0;s.Diff=function(tt,at){return[tt,at]},s.prototype.diff_main=function(tt,at,ot,rt){typeof rt>"u"&&(this.Diff_Timeout<=0?rt=Number.MAX_VALUE:rt=new Date().getTime()+this.Diff_Timeout*1e3);var nt=rt;if(tt==null||at==null)throw new Error("Null input. (diff_main)");if(tt==at)return tt?[new s.Diff(it,tt)]:[];typeof ot>"u"&&(ot=!0);var j=ot,_=this.diff_commonPrefix(tt,at),$=tt.substring(0,_);tt=tt.substring(_),at=at.substring(_),_=this.diff_commonSuffix(tt,at);var et=tt.substring(tt.length-_);tt=tt.substring(0,tt.length-_),at=at.substring(0,at.length-_);var st=this.diff_compute_(tt,at,j,nt);return $&&st.unshift(new s.Diff(it,$)),et&&st.push(new s.Diff(it,et)),this.diff_cleanupMerge(st),st},s.prototype.diff_compute_=function(tt,at,ot,rt){var nt;if(!tt)return[new s.Diff(o,at)];if(!at)return[new s.Diff(a,tt)];var j=tt.length>at.length?tt:at,_=tt.length>at.length?at:tt,$=j.indexOf(_);if($!=-1)return nt=[new s.Diff(o,j.substring(0,$)),new s.Diff(it,_),new s.Diff(o,j.substring($+_.length))],tt.length>at.length&&(nt[0][0]=nt[2][0]=a),nt;if(_.length==1)return[new s.Diff(a,tt),new s.Diff(o,at)];var et=this.diff_halfMatch_(tt,at);if(et){var st=et[0],lt=et[1],ft=et[2],gt=et[3],ut=et[4],pt=this.diff_main(st,ft,ot,rt),vt=this.diff_main(lt,gt,ot,rt);return pt.concat([new s.Diff(it,ut)],vt)}return ot&&tt.length>100&&at.length>100?this.diff_lineMode_(tt,at,rt):this.diff_bisect_(tt,at,rt)},s.prototype.diff_lineMode_=function(tt,at,ot){var rt=this.diff_linesToChars_(tt,at);tt=rt.chars1,at=rt.chars2;var nt=rt.lineArray,j=this.diff_main(tt,at,!1,ot);this.diff_charsToLines_(j,nt),this.diff_cleanupSemantic(j),j.push(new s.Diff(it,""));for(var _=0,$=0,et=0,st="",lt="";_<j.length;){switch(j[_][0]){case o:et++,lt+=j[_][1];break;case a:$++,st+=j[_][1];break;case it:if($>=1&&et>=1){j.splice(_-$-et,$+et),_=_-$-et;for(var ft=this.diff_main(st,lt,!1,ot),gt=ft.length-1;gt>=0;gt--)j.splice(_,0,ft[gt]);_=_+ft.length}et=0,$=0,st="",lt="";break}_++}return j.pop(),j},s.prototype.diff_bisect_=function(tt,at,ot){for(var rt=tt.length,nt=at.length,j=Math.ceil((rt+nt)/2),_=j,$=2*j,et=new Array($),st=new Array($),lt=0;lt<$;lt++)et[lt]=-1,st[lt]=-1;et[_+1]=0,st[_+1]=0;for(var ft=rt-nt,gt=ft%2!=0,ut=0,pt=0,vt=0,dt=0,mt=0;mt<j&&!(new Date().getTime()>ot);mt++){for(var Tt=-mt+ut;Tt<=mt-pt;Tt+=2){var yt=_+Tt,ht;Tt==-mt||Tt!=mt&&et[yt-1]<et[yt+1]?ht=et[yt+1]:ht=et[yt-1]+1;for(var xt=ht-Tt;ht<rt&&xt<nt&&tt.charAt(ht)==at.charAt(xt);)ht++,xt++;if(et[yt]=ht,ht>rt)pt+=2;else if(xt>nt)ut+=2;else if(gt){var wt=_+ft-Tt;if(wt>=0&&wt<$&&st[wt]!=-1){var kt=rt-st[wt];if(ht>=kt)return this.diff_bisectSplit_(tt,at,ht,xt,ot)}}}for(var Ct=-mt+vt;Ct<=mt-dt;Ct+=2){var wt=_+Ct,kt;Ct==-mt||Ct!=mt&&st[wt-1]<st[wt+1]?kt=st[wt+1]:kt=st[wt-1]+1;for(var Rt=kt-Ct;kt<rt&&Rt<nt&&tt.charAt(rt-kt-1)==at.charAt(nt-Rt-1);)kt++,Rt++;if(st[wt]=kt,kt>rt)dt+=2;else if(Rt>nt)vt+=2;else if(!gt){var yt=_+ft-Ct;if(yt>=0&&yt<$&&et[yt]!=-1){var ht=et[yt],xt=_+ht-yt;if(kt=rt-kt,ht>=kt)return this.diff_bisectSplit_(tt,at,ht,xt,ot)}}}}return[new s.Diff(a,tt),new s.Diff(o,at)]},s.prototype.diff_bisectSplit_=function(tt,at,ot,rt,nt){var j=tt.substring(0,ot),_=at.substring(0,rt),$=tt.substring(ot),et=at.substring(rt),st=this.diff_main(j,_,!1,nt),lt=this.diff_main($,et,!1,nt);return st.concat(lt)},s.prototype.diff_linesToChars_=function(tt,at){var ot=[],rt={};ot[0]="";function nt(et){for(var st="",lt=0,ft=-1,gt=ot.length;ft<et.length-1;){ft=et.indexOf(`
`,lt),ft==-1&&(ft=et.length-1);var ut=et.substring(lt,ft+1);(rt.hasOwnProperty?rt.hasOwnProperty(ut):rt[ut]!==void 0)?st+=String.fromCharCode(rt[ut]):(gt==j&&(ut=et.substring(lt),ft=et.length),st+=String.fromCharCode(gt),rt[ut]=gt,ot[gt++]=ut),lt=ft+1}return st}var j=4e4,_=nt(tt);j=65535;var $=nt(at);return{chars1:_,chars2:$,lineArray:ot}},s.prototype.diff_charsToLines_=function(tt,at){for(var ot=0;ot<tt.length;ot++){for(var rt=tt[ot][1],nt=[],j=0;j<rt.length;j++)nt[j]=at[rt.charCodeAt(j)];tt[ot][1]=nt.join("")}},s.prototype.diff_commonPrefix=function(tt,at){if(!tt||!at||tt.charAt(0)!=at.charAt(0))return 0;for(var ot=0,rt=Math.min(tt.length,at.length),nt=rt,j=0;ot<nt;)tt.substring(j,nt)==at.substring(j,nt)?(ot=nt,j=ot):rt=nt,nt=Math.floor((rt-ot)/2+ot);return nt},s.prototype.diff_commonSuffix=function(tt,at){if(!tt||!at||tt.charAt(tt.length-1)!=at.charAt(at.length-1))return 0;for(var ot=0,rt=Math.min(tt.length,at.length),nt=rt,j=0;ot<nt;)tt.substring(tt.length-nt,tt.length-j)==at.substring(at.length-nt,at.length-j)?(ot=nt,j=ot):rt=nt,nt=Math.floor((rt-ot)/2+ot);return nt},s.prototype.diff_commonOverlap_=function(tt,at){var ot=tt.length,rt=at.length;if(ot==0||rt==0)return 0;ot>rt?tt=tt.substring(ot-rt):ot<rt&&(at=at.substring(0,ot));var nt=Math.min(ot,rt);if(tt==at)return nt;for(var j=0,_=1;;){var $=tt.substring(nt-_),et=at.indexOf($);if(et==-1)return j;_+=et,(et==0||tt.substring(nt-_)==at.substring(0,_))&&(j=_,_++)}},s.prototype.diff_halfMatch_=function(tt,at){if(this.Diff_Timeout<=0)return null;var ot=tt.length>at.length?tt:at,rt=tt.length>at.length?at:tt;if(ot.length<4||rt.length*2<ot.length)return null;var nt=this;function j(pt,vt,dt){for(var mt=pt.substring(dt,dt+Math.floor(pt.length/4)),Tt=-1,yt="",ht,xt,wt,kt;(Tt=vt.indexOf(mt,Tt+1))!=-1;){var Ct=nt.diff_commonPrefix(pt.substring(dt),vt.substring(Tt)),Rt=nt.diff_commonSuffix(pt.substring(0,dt),vt.substring(0,Tt));yt.length<Rt+Ct&&(yt=vt.substring(Tt-Rt,Tt)+vt.substring(Tt,Tt+Ct),ht=pt.substring(0,dt-Rt),xt=pt.substring(dt+Ct),wt=vt.substring(0,Tt-Rt),kt=vt.substring(Tt+Ct))}return yt.length*2>=pt.length?[ht,xt,wt,kt,yt]:null}var _=j(ot,rt,Math.ceil(ot.length/4)),$=j(ot,rt,Math.ceil(ot.length/2)),et;if(!_&&!$)return null;$?_?et=_[4].length>$[4].length?_:$:et=$:et=_;var st,lt,ft,gt;tt.length>at.length?(st=et[0],lt=et[1],ft=et[2],gt=et[3]):(ft=et[0],gt=et[1],st=et[2],lt=et[3]);var ut=et[4];return[st,lt,ft,gt,ut]},s.prototype.diff_cleanupSemantic=function(tt){for(var at=!1,ot=[],rt=0,nt=null,j=0,_=0,$=0,et=0,st=0;j<tt.length;)tt[j][0]==it?(ot[rt++]=j,_=et,$=st,et=0,st=0,nt=tt[j][1]):(tt[j][0]==o?et+=tt[j][1].length:st+=tt[j][1].length,nt&&nt.length<=Math.max(_,$)&&nt.length<=Math.max(et,st)&&(tt.splice(ot[rt-1],0,new s.Diff(a,nt)),tt[ot[rt-1]+1][0]=o,rt--,rt--,j=rt>0?ot[rt-1]:-1,_=0,$=0,et=0,st=0,nt=null,at=!0)),j++;for(at&&this.diff_cleanupMerge(tt),this.diff_cleanupSemanticLossless(tt),j=1;j<tt.length;){if(tt[j-1][0]==a&&tt[j][0]==o){var lt=tt[j-1][1],ft=tt[j][1],gt=this.diff_commonOverlap_(lt,ft),ut=this.diff_commonOverlap_(ft,lt);gt>=ut?(gt>=lt.length/2||gt>=ft.length/2)&&(tt.splice(j,0,new s.Diff(it,ft.substring(0,gt))),tt[j-1][1]=lt.substring(0,lt.length-gt),tt[j+1][1]=ft.substring(gt),j++):(ut>=lt.length/2||ut>=ft.length/2)&&(tt.splice(j,0,new s.Diff(it,lt.substring(0,ut))),tt[j-1][0]=o,tt[j-1][1]=ft.substring(0,ft.length-ut),tt[j+1][0]=a,tt[j+1][1]=lt.substring(ut),j++),j++}j++}},s.prototype.diff_cleanupSemanticLossless=function(tt){function at(ut,pt){if(!ut||!pt)return 6;var vt=ut.charAt(ut.length-1),dt=pt.charAt(0),mt=vt.match(s.nonAlphaNumericRegex_),Tt=dt.match(s.nonAlphaNumericRegex_),yt=mt&&vt.match(s.whitespaceRegex_),ht=Tt&&dt.match(s.whitespaceRegex_),xt=yt&&vt.match(s.linebreakRegex_),wt=ht&&dt.match(s.linebreakRegex_),kt=xt&&ut.match(s.blanklineEndRegex_),Ct=wt&&pt.match(s.blanklineStartRegex_);return kt||Ct?5:xt||wt?4:mt&&!yt&&ht?3:yt||ht?2:mt||Tt?1:0}for(var ot=1;ot<tt.length-1;){if(tt[ot-1][0]==it&&tt[ot+1][0]==it){var rt=tt[ot-1][1],nt=tt[ot][1],j=tt[ot+1][1],_=this.diff_commonSuffix(rt,nt);if(_){var $=nt.substring(nt.length-_);rt=rt.substring(0,rt.length-_),nt=$+nt.substring(0,nt.length-_),j=$+j}for(var et=rt,st=nt,lt=j,ft=at(rt,nt)+at(nt,j);nt.charAt(0)===j.charAt(0);){rt+=nt.charAt(0),nt=nt.substring(1)+j.charAt(0),j=j.substring(1);var gt=at(rt,nt)+at(nt,j);gt>=ft&&(ft=gt,et=rt,st=nt,lt=j)}tt[ot-1][1]!=et&&(et?tt[ot-1][1]=et:(tt.splice(ot-1,1),ot--),tt[ot][1]=st,lt?tt[ot+1][1]=lt:(tt.splice(ot+1,1),ot--))}ot++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function(tt){for(var at=!1,ot=[],rt=0,nt=null,j=0,_=!1,$=!1,et=!1,st=!1;j<tt.length;)tt[j][0]==it?(tt[j][1].length<this.Diff_EditCost&&(et||st)?(ot[rt++]=j,_=et,$=st,nt=tt[j][1]):(rt=0,nt=null),et=st=!1):(tt[j][0]==a?st=!0:et=!0,nt&&(_&&$&&et&&st||nt.length<this.Diff_EditCost/2&&_+$+et+st==3)&&(tt.splice(ot[rt-1],0,new s.Diff(a,nt)),tt[ot[rt-1]+1][0]=o,rt--,nt=null,_&&$?(et=st=!0,rt=0):(rt--,j=rt>0?ot[rt-1]:-1,et=st=!1),at=!0)),j++;at&&this.diff_cleanupMerge(tt)},s.prototype.diff_cleanupMerge=function(tt){tt.push(new s.Diff(it,""));for(var at=0,ot=0,rt=0,nt="",j="",_;at<tt.length;)switch(tt[at][0]){case o:rt++,j+=tt[at][1],at++;break;case a:ot++,nt+=tt[at][1],at++;break;case it:ot+rt>1?(ot!==0&&rt!==0&&(_=this.diff_commonPrefix(j,nt),_!==0&&(at-ot-rt>0&&tt[at-ot-rt-1][0]==it?tt[at-ot-rt-1][1]+=j.substring(0,_):(tt.splice(0,0,new s.Diff(it,j.substring(0,_))),at++),j=j.substring(_),nt=nt.substring(_)),_=this.diff_commonSuffix(j,nt),_!==0&&(tt[at][1]=j.substring(j.length-_)+tt[at][1],j=j.substring(0,j.length-_),nt=nt.substring(0,nt.length-_))),at-=ot+rt,tt.splice(at,ot+rt),nt.length&&(tt.splice(at,0,new s.Diff(a,nt)),at++),j.length&&(tt.splice(at,0,new s.Diff(o,j)),at++),at++):at!==0&&tt[at-1][0]==it?(tt[at-1][1]+=tt[at][1],tt.splice(at,1)):at++,rt=0,ot=0,nt="",j="";break}tt[tt.length-1][1]===""&&tt.pop();var $=!1;for(at=1;at<tt.length-1;)tt[at-1][0]==it&&tt[at+1][0]==it&&(tt[at][1].substring(tt[at][1].length-tt[at-1][1].length)==tt[at-1][1]?(tt[at][1]=tt[at-1][1]+tt[at][1].substring(0,tt[at][1].length-tt[at-1][1].length),tt[at+1][1]=tt[at-1][1]+tt[at+1][1],tt.splice(at-1,1),$=!0):tt[at][1].substring(0,tt[at+1][1].length)==tt[at+1][1]&&(tt[at-1][1]+=tt[at+1][1],tt[at][1]=tt[at][1].substring(tt[at+1][1].length)+tt[at+1][1],tt.splice(at+1,1),$=!0)),at++;$&&this.diff_cleanupMerge(tt)},s.prototype.diff_xIndex=function(tt,at){var ot=0,rt=0,nt=0,j=0,_;for(_=0;_<tt.length&&(tt[_][0]!==o&&(ot+=tt[_][1].length),tt[_][0]!==a&&(rt+=tt[_][1].length),!(ot>at));_++)nt=ot,j=rt;return tt.length!=_&&tt[_][0]===a?j:j+(at-nt)},s.prototype.diff_prettyHtml=function(tt){for(var at=[],ot=/&/g,rt=/</g,nt=/>/g,j=/\n/g,_=0;_<tt.length;_++){var $=tt[_][0],et=tt[_][1],st=et.replace(ot,"&amp;").replace(rt,"&lt;").replace(nt,"&gt;").replace(j,"&para;<br>");switch($){case o:at[_]='<ins style="background:#e6ffe6;">'+st+"</ins>";break;case a:at[_]='<del style="background:#ffe6e6;">'+st+"</del>";break;case it:at[_]="<span>"+st+"</span>";break}}return at.join("")},s.prototype.diff_text1=function(tt){for(var at=[],ot=0;ot<tt.length;ot++)tt[ot][0]!==o&&(at[ot]=tt[ot][1]);return at.join("")},s.prototype.diff_text2=function(tt){for(var at=[],ot=0;ot<tt.length;ot++)tt[ot][0]!==a&&(at[ot]=tt[ot][1]);return at.join("")},s.prototype.diff_levenshtein=function(tt){for(var at=0,ot=0,rt=0,nt=0;nt<tt.length;nt++){var j=tt[nt][0],_=tt[nt][1];switch(j){case o:ot+=_.length;break;case a:rt+=_.length;break;case it:at+=Math.max(ot,rt),ot=0,rt=0;break}}return at+=Math.max(ot,rt),at},s.prototype.diff_toDelta=function(tt){for(var at=[],ot=0;ot<tt.length;ot++)switch(tt[ot][0]){case o:at[ot]="+"+encodeURI(tt[ot][1]);break;case a:at[ot]="-"+tt[ot][1].length;break;case it:at[ot]="="+tt[ot][1].length;break}return at.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function(tt,at){for(var ot=[],rt=0,nt=0,j=at.split(/\t/g),_=0;_<j.length;_++){var $=j[_].substring(1);switch(j[_].charAt(0)){case"+":try{ot[rt++]=new s.Diff(o,decodeURI($))}catch{throw new Error("Illegal escape in diff_fromDelta: "+$)}break;case"-":case"=":var et=parseInt($,10);if(isNaN(et)||et<0)throw new Error("Invalid number in diff_fromDelta: "+$);var st=tt.substring(nt,nt+=et);j[_].charAt(0)=="="?ot[rt++]=new s.Diff(it,st):ot[rt++]=new s.Diff(a,st);break;default:if(j[_])throw new Error("Invalid diff operation in diff_fromDelta: "+j[_])}}if(nt!=tt.length)throw new Error("Delta length ("+nt+") does not equal source text length ("+tt.length+").");return ot},s.prototype.match_main=function(tt,at,ot){if(tt==null||at==null||ot==null)throw new Error("Null input. (match_main)");return ot=Math.max(0,Math.min(ot,tt.length)),tt==at?0:tt.length?tt.substring(ot,ot+at.length)==at?ot:this.match_bitap_(tt,at,ot):-1},s.prototype.match_bitap_=function(tt,at,ot){if(at.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var rt=this.match_alphabet_(at),nt=this;function j(ht,xt){var wt=ht/at.length,kt=Math.abs(ot-xt);return nt.Match_Distance?wt+kt/nt.Match_Distance:kt?1:wt}var _=this.Match_Threshold,$=tt.indexOf(at,ot);$!=-1&&(_=Math.min(j(0,$),_),$=tt.lastIndexOf(at,ot+at.length),$!=-1&&(_=Math.min(j(0,$),_)));var et=1<<at.length-1;$=-1;for(var st,lt,ft=at.length+tt.length,gt,ut=0;ut<at.length;ut++){for(st=0,lt=ft;st<lt;)j(ut,ot+lt)<=_?st=lt:ft=lt,lt=Math.floor((ft-st)/2+st);ft=lt;var pt=Math.max(1,ot-lt+1),vt=Math.min(ot+lt,tt.length)+at.length,dt=Array(vt+2);dt[vt+1]=(1<<ut)-1;for(var mt=vt;mt>=pt;mt--){var Tt=rt[tt.charAt(mt-1)];if(ut===0?dt[mt]=(dt[mt+1]<<1|1)&Tt:dt[mt]=(dt[mt+1]<<1|1)&Tt|((gt[mt+1]|gt[mt])<<1|1)|gt[mt+1],dt[mt]&et){var yt=j(ut,mt-1);if(yt<=_)if(_=yt,$=mt-1,$>ot)pt=Math.max(1,2*ot-$);else break}}if(j(ut+1,ot)>_)break;gt=dt}return $},s.prototype.match_alphabet_=function(tt){for(var at={},ot=0;ot<tt.length;ot++)at[tt.charAt(ot)]=0;for(var ot=0;ot<tt.length;ot++)at[tt.charAt(ot)]|=1<<tt.length-ot-1;return at},s.prototype.patch_addContext_=function(tt,at){if(at.length!=0){if(tt.start2===null)throw Error("patch not initialized");for(var ot=at.substring(tt.start2,tt.start2+tt.length1),rt=0;at.indexOf(ot)!=at.lastIndexOf(ot)&&ot.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)rt+=this.Patch_Margin,ot=at.substring(tt.start2-rt,tt.start2+tt.length1+rt);rt+=this.Patch_Margin;var nt=at.substring(tt.start2-rt,tt.start2);nt&&tt.diffs.unshift(new s.Diff(it,nt));var j=at.substring(tt.start2+tt.length1,tt.start2+tt.length1+rt);j&&tt.diffs.push(new s.Diff(it,j)),tt.start1-=nt.length,tt.start2-=nt.length,tt.length1+=nt.length+j.length,tt.length2+=nt.length+j.length}},s.prototype.patch_make=function(tt,at,ot){var rt,nt;if(typeof tt=="string"&&typeof at=="string"&&typeof ot>"u")rt=tt,nt=this.diff_main(rt,at,!0),nt.length>2&&(this.diff_cleanupSemantic(nt),this.diff_cleanupEfficiency(nt));else if(tt&&typeof tt=="object"&&typeof at>"u"&&typeof ot>"u")nt=tt,rt=this.diff_text1(nt);else if(typeof tt=="string"&&at&&typeof at=="object"&&typeof ot>"u")rt=tt,nt=at;else if(typeof tt=="string"&&typeof at=="string"&&ot&&typeof ot=="object")rt=tt,nt=ot;else throw new Error("Unknown call format to patch_make.");if(nt.length===0)return[];for(var j=[],_=new s.patch_obj,$=0,et=0,st=0,lt=rt,ft=rt,gt=0;gt<nt.length;gt++){var ut=nt[gt][0],pt=nt[gt][1];switch(!$&&ut!==it&&(_.start1=et,_.start2=st),ut){case o:_.diffs[$++]=nt[gt],_.length2+=pt.length,ft=ft.substring(0,st)+pt+ft.substring(st);break;case a:_.length1+=pt.length,_.diffs[$++]=nt[gt],ft=ft.substring(0,st)+ft.substring(st+pt.length);break;case it:pt.length<=2*this.Patch_Margin&&$&&nt.length!=gt+1?(_.diffs[$++]=nt[gt],_.length1+=pt.length,_.length2+=pt.length):pt.length>=2*this.Patch_Margin&&$&&(this.patch_addContext_(_,lt),j.push(_),_=new s.patch_obj,$=0,lt=ft,et=st);break}ut!==o&&(et+=pt.length),ut!==a&&(st+=pt.length)}return $&&(this.patch_addContext_(_,lt),j.push(_)),j},s.prototype.patch_deepCopy=function(tt){for(var at=[],ot=0;ot<tt.length;ot++){var rt=tt[ot],nt=new s.patch_obj;nt.diffs=[];for(var j=0;j<rt.diffs.length;j++)nt.diffs[j]=new s.Diff(rt.diffs[j][0],rt.diffs[j][1]);nt.start1=rt.start1,nt.start2=rt.start2,nt.length1=rt.length1,nt.length2=rt.length2,at[ot]=nt}return at},s.prototype.patch_apply=function(tt,at){if(tt.length==0)return[at,[]];tt=this.patch_deepCopy(tt);var ot=this.patch_addPadding(tt);at=ot+at+ot,this.patch_splitMax(tt);for(var rt=0,nt=[],j=0;j<tt.length;j++){var _=tt[j].start2+rt,$=this.diff_text1(tt[j].diffs),et,st=-1;if($.length>this.Match_MaxBits?(et=this.match_main(at,$.substring(0,this.Match_MaxBits),_),et!=-1&&(st=this.match_main(at,$.substring($.length-this.Match_MaxBits),_+$.length-this.Match_MaxBits),(st==-1||et>=st)&&(et=-1))):et=this.match_main(at,$,_),et==-1)nt[j]=!1,rt-=tt[j].length2-tt[j].length1;else{nt[j]=!0,rt=et-_;var lt;if(st==-1?lt=at.substring(et,et+$.length):lt=at.substring(et,st+this.Match_MaxBits),$==lt)at=at.substring(0,et)+this.diff_text2(tt[j].diffs)+at.substring(et+$.length);else{var ft=this.diff_main($,lt,!1);if($.length>this.Match_MaxBits&&this.diff_levenshtein(ft)/$.length>this.Patch_DeleteThreshold)nt[j]=!1;else{this.diff_cleanupSemanticLossless(ft);for(var gt=0,ut,pt=0;pt<tt[j].diffs.length;pt++){var vt=tt[j].diffs[pt];vt[0]!==it&&(ut=this.diff_xIndex(ft,gt)),vt[0]===o?at=at.substring(0,et+ut)+vt[1]+at.substring(et+ut):vt[0]===a&&(at=at.substring(0,et+ut)+at.substring(et+this.diff_xIndex(ft,gt+vt[1].length))),vt[0]!==a&&(gt+=vt[1].length)}}}}}return at=at.substring(ot.length,at.length-ot.length),[at,nt]},s.prototype.patch_addPadding=function(tt){for(var at=this.Patch_Margin,ot="",rt=1;rt<=at;rt++)ot+=String.fromCharCode(rt);for(var rt=0;rt<tt.length;rt++)tt[rt].start1+=at,tt[rt].start2+=at;var nt=tt[0],j=nt.diffs;if(j.length==0||j[0][0]!=it)j.unshift(new s.Diff(it,ot)),nt.start1-=at,nt.start2-=at,nt.length1+=at,nt.length2+=at;else if(at>j[0][1].length){var _=at-j[0][1].length;j[0][1]=ot.substring(j[0][1].length)+j[0][1],nt.start1-=_,nt.start2-=_,nt.length1+=_,nt.length2+=_}if(nt=tt[tt.length-1],j=nt.diffs,j.length==0||j[j.length-1][0]!=it)j.push(new s.Diff(it,ot)),nt.length1+=at,nt.length2+=at;else if(at>j[j.length-1][1].length){var _=at-j[j.length-1][1].length;j[j.length-1][1]+=ot.substring(0,_),nt.length1+=_,nt.length2+=_}return ot},s.prototype.patch_splitMax=function(tt){for(var at=this.Match_MaxBits,ot=0;ot<tt.length;ot++)if(!(tt[ot].length1<=at)){var rt=tt[ot];tt.splice(ot--,1);for(var nt=rt.start1,j=rt.start2,_="";rt.diffs.length!==0;){var $=new s.patch_obj,et=!0;for($.start1=nt-_.length,$.start2=j-_.length,_!==""&&($.length1=$.length2=_.length,$.diffs.push(new s.Diff(it,_)));rt.diffs.length!==0&&$.length1<at-this.Patch_Margin;){var st=rt.diffs[0][0],lt=rt.diffs[0][1];st===o?($.length2+=lt.length,j+=lt.length,$.diffs.push(rt.diffs.shift()),et=!1):st===a&&$.diffs.length==1&&$.diffs[0][0]==it&&lt.length>2*at?($.length1+=lt.length,nt+=lt.length,et=!1,$.diffs.push(new s.Diff(st,lt)),rt.diffs.shift()):(lt=lt.substring(0,at-$.length1-this.Patch_Margin),$.length1+=lt.length,nt+=lt.length,st===it?($.length2+=lt.length,j+=lt.length):et=!1,$.diffs.push(new s.Diff(st,lt)),lt==rt.diffs[0][1]?rt.diffs.shift():rt.diffs[0][1]=rt.diffs[0][1].substring(lt.length))}_=this.diff_text2($.diffs),_=_.substring(_.length-this.Patch_Margin);var ft=this.diff_text1(rt.diffs).substring(0,this.Patch_Margin);ft!==""&&($.length1+=ft.length,$.length2+=ft.length,$.diffs.length!==0&&$.diffs[$.diffs.length-1][0]===it?$.diffs[$.diffs.length-1][1]+=ft:$.diffs.push(new s.Diff(it,ft))),et||tt.splice(++ot,0,$)}}},s.prototype.patch_toText=function(tt){for(var at=[],ot=0;ot<tt.length;ot++)at[ot]=tt[ot];return at.join("")},s.prototype.patch_fromText=function(tt){var at=[];if(!tt)return at;for(var ot=tt.split(`
`),rt=0,nt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;rt<ot.length;){var j=ot[rt].match(nt);if(!j)throw new Error("Invalid patch string: "+ot[rt]);var _=new s.patch_obj;for(at.push(_),_.start1=parseInt(j[1],10),j[2]===""?(_.start1--,_.length1=1):j[2]=="0"?_.length1=0:(_.start1--,_.length1=parseInt(j[2],10)),_.start2=parseInt(j[3],10),j[4]===""?(_.start2--,_.length2=1):j[4]=="0"?_.length2=0:(_.start2--,_.length2=parseInt(j[4],10)),rt++;rt<ot.length;){var $=ot[rt].charAt(0);try{var et=decodeURI(ot[rt].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+et)}if($=="-")_.diffs.push(new s.Diff(a,et));else if($=="+")_.diffs.push(new s.Diff(o,et));else if($==" ")_.diffs.push(new s.Diff(it,et));else{if($=="@")break;if($!=="")throw new Error('Invalid patch mode "'+$+'" in: '+et)}rt++}}return at},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var tt,at;this.length1===0?tt=this.start1+",0":this.length1==1?tt=this.start1+1:tt=this.start1+1+","+this.length1,this.length2===0?at=this.start2+",0":this.length2==1?at=this.start2+1:at=this.start2+1+","+this.length2;for(var ot=["@@ -"+tt+" +"+at+` @@
`],rt,nt=0;nt<this.diffs.length;nt++){switch(this.diffs[nt][0]){case o:rt="+";break;case a:rt="-";break;case it:rt=" ";break}ot[nt+1]=rt+encodeURI(this.diffs[nt][1])+`
`}return ot.join("").replace(/%20/g," ")},i.exports=s,i.exports.diff_match_patch=s,i.exports.DIFF_DELETE=a,i.exports.DIFF_INSERT=o,i.exports.DIFF_EQUAL=it})(diffMatchPatch);var __extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,it){o.__proto__=it}||function(o,it){for(var tt in it)Object.prototype.hasOwnProperty.call(it,tt)&&(o[tt]=it[tt])},i(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(s,a);function o(){this.constructor=s}s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();Object.defineProperty(diff,"__esModule",{value:!0});var PropTypes=propTypes.exports,React=react.exports,split_1$1=split,DiffMatchPatch=diffMatchPatch.exports,DiffComponent=function(i){__extends(s,i);function s(a){var o=i.call(this,a)||this;return o.state={value:o.props.value},o.onChange=o.onChange.bind(o),o.diff=o.diff.bind(o),o}return s.prototype.componentDidUpdate=function(){var a=this.props.value;a!==this.state.value&&this.setState({value:a})},s.prototype.onChange=function(a){this.setState({value:a}),this.props.onChange&&this.props.onChange(a)},s.prototype.diff=function(){var a=new DiffMatchPatch,o=this.state.value[0],it=this.state.value[1];if(o.length===0&&it.length===0)return[];var tt=a.diff_main(o,it);a.diff_cleanupSemantic(tt);var at=this.generateDiffedLines(tt),ot=this.setCodeMarkers(at);return ot},s.prototype.generateDiffedLines=function(a){var o={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},it={left:[],right:[]},tt={left:1,right:1};return a.forEach(function(at){var ot=at[0],rt=at[1],nt=rt.split(`
`).length-1;if(rt.length!==0){var j=rt[0],_=rt[rt.length-1],$=0;switch(ot){case o.DIFF_EQUAL:tt.left+=nt,tt.right+=nt;break;case o.DIFF_DELETE:j===`
`&&(tt.left++,nt--),$=nt,$===0&&it.right.push({startLine:tt.right,endLine:tt.right}),_===`
`&&($-=1),it.left.push({startLine:tt.left,endLine:tt.left+$}),tt.left+=nt;break;case o.DIFF_INSERT:j===`
`&&(tt.right++,nt--),$=nt,$===0&&it.left.push({startLine:tt.left,endLine:tt.left}),_===`
`&&($-=1),it.right.push({startLine:tt.right,endLine:tt.right+$}),tt.right+=nt;break;default:throw new Error("Diff type was not defined.")}}}),it},s.prototype.setCodeMarkers=function(a){a===void 0&&(a={left:[],right:[]});for(var o=[],it={left:[],right:[]},tt=0;tt<a.left.length;tt++){var at={startRow:a.left[tt].startLine-1,endRow:a.left[tt].endLine,type:"text",className:"codeMarker"};it.left.push(at)}for(var tt=0;tt<a.right.length;tt++){var at={startRow:a.right[tt].startLine-1,endRow:a.right[tt].endLine,type:"text",className:"codeMarker"};it.right.push(at)}return o[0]=it.left,o[1]=it.right,o},s.prototype.render=function(){var a=this.diff();return React.createElement(split_1$1.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:a})},s.propTypes={cursorStart:PropTypes.number,editorProps:PropTypes.object,enableBasicAutocompletion:PropTypes.bool,enableLiveAutocompletion:PropTypes.bool,focus:PropTypes.bool,fontSize:PropTypes.number,height:PropTypes.string,highlightActiveLine:PropTypes.bool,maxLines:PropTypes.number,minLines:PropTypes.number,mode:PropTypes.string,name:PropTypes.string,className:PropTypes.string,onLoad:PropTypes.func,onPaste:PropTypes.func,onScroll:PropTypes.func,onChange:PropTypes.func,orientation:PropTypes.string,readOnly:PropTypes.bool,scrollMargin:PropTypes.array,setOptions:PropTypes.object,showGutter:PropTypes.bool,showPrintMargin:PropTypes.bool,splits:PropTypes.number,style:PropTypes.object,tabSize:PropTypes.number,theme:PropTypes.string,value:PropTypes.array,width:PropTypes.string,wrapEnabled:PropTypes.bool},s.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},s}(React.Component);diff.default=DiffComponent;Object.defineProperty(lib$1,"__esModule",{value:!0});lib$1.diff=lib$1.split=void 0;var ace_1=ace$4,diff_1=diff;lib$1.diff=diff_1.default;var split_1=split;lib$1.split=split_1.default;var _default=lib$1.default=ace_1.default;const BAUD_RATE_SPIKE_PRIME=115200,KEYBOARD_INTERRUPT="",END_OF_TRANSMISSION="",PROGRAM_PLACEHOLDER_SOURCE_THREE="// Write your Source \xA73 program here!",PROGRAM_PLACEHOLDER_PYTHON="# Write your Python program here!",RAW_MODE_ENTER="",RAW_MODE_COMPILE="",RAW_MODE_EXIT="";var Languages=(i=>(i.SOURCE_THREE="Source \xA73",i.PYTHON="Python",i))(Languages||{});const supportedLanguages=["Python","Source \xA73"],languageToModeMap=Object.freeze({Python:"python",["Source \xA73"]:"javascript"}),UserGuide=()=>{const{isOpen:i,onOpen:s,onClose:a}=useDisclosure();return jsxs(Fragment,{children:[jsx(Button,{variant:"link",onClick:s,fontWeight:"normal",children:"View User Guide"}),jsxs(Modal,{isOpen:i,onClose:a,children:[jsx(ModalOverlay,{}),jsxs(ModalContent,{children:[jsx(ModalHeader,{children:"User Guide"}),jsx(ModalCloseButton,{}),jsx(ModalBody,{paddingBottom:0,children:jsxs(OrderedList,{children:[jsxs(ListItem,{children:["Connect your SPIKE Prime to your computer via USB.",jsx("br",{}),jsxs("em",{children:[jsx("strong",{children:"Note:"})," You can also connect via Bluetooth but reliability will not be guaranteed."]})]}),jsxs(ListItem,{children:["Select the appropriate language mode: ",Languages.SOURCE_THREE," ","or ",Languages.PYTHON]}),jsx(ListItem,{children:'After finishing your code, click the "Run on Device" button.'}),jsxs(ListItem,{children:["Select the correct port from the pop-up that is shown.",jsx("br",{}),jsxs("em",{children:[jsx("strong",{children:"Note:"})," SEKER only supports Chromium-based browsers version 89 and onwards. If you do not see a pop-up, this means your browser is not supported."]})]}),jsx(ListItem,{children:"The SPIKE Prime should start running your code."})]})}),jsx(ModalFooter,{paddingTop:0})]})]})]})};var ArrowForwardIcon=createIcon({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"});const SampleProgramListItem=({label:i,onClick:s})=>jsx(Box,{children:jsx(Button,{size:"sm",variant:"link",fontWeight:"normal",width:"full",iconSpacing:"auto",rightIcon:jsxs(HStack,{spacing:1,children:[jsx(Text,{children:"Load"}),jsx(ArrowForwardIcon,{})]}),onClick:s,children:i})}),sampleProgramBlinkLoop=`from time import sleep

import hub

stat = True
for _ in range(4):
    hub.display.invert(stat)
    sleep(1)
    stat = not stat
`,sampleProgramImagePixel=`from spike import PrimeHub

hub = PrimeHub()
hub.light_matrix.off()
hub.light_matrix.set_pixel(2, 2, 80)
hub.light_matrix.set_pixel(3, 3, 80)
hub.light_matrix.set_pixel(2, 3, 80)
hub.light_matrix.set_pixel(3, 2, 80)
hub.light_matrix.set_pixel(4, 4, 80)
hub.light_matrix.set_pixel(0, 0, 80)
`,sampleProgramMotor=`// Requires a motor to be plugged into Port A on the hub
const motor = spike_motorA();
const rotationsToDegrees = rot => rot * 360;

let isReverse = false;
const rotations = 2;

for (let i = 0; i < 4; i = i + 1) {
  spike_runForDegrees(motor,
                      rotationsToDegrees(isReverse ? -rotations : rotations));
  isReverse = !isReverse;
}
`,sampleProgramMusic=`// Adapted from
// https://projecthub.arduino.cc/slagestee/d947337b-0ff0-4a2d-93c6-8b117ea61d79
const a3f = 208;
const b3f = 233;
const b3 = 247;
const c4 = 261;
const c4s = 277;
const e4f = 311;
const f4 = 349;
const a4f = 415;
const b4f = 466;
const b4 = 493;
const c5 = 523;
const c5s = 554;
const e5f = 622;
const f5 = 698;
const f5s = 740;
const a5f = 831;

const rest = -1;

// Slightly tweaked, this sounds better
const notes = [
  a4f, a4f, b4f, a4f, f5, f5, e5f,
  a4f, a4f, b4f, a4f, e5f, e5f, c5s, c5, b4f,
  b4f, b4f, c5s, b4f, c5s, e5f, c5, b4f, a4f, a4f,
  a4f, e5f, c5s,
  a4f, a4f, b4f, a4f, f5, f5, e5f,
  a4f, a4f, b4f, a4f, a5f, c5, c5s, c5, b4f,
  b4f, b4f, c5s, b4f, c5s, e5f, c5, b4f, a4f, rest, a4f, e5f, c5s, rest
];

const durations = [
  1, 1, 1, 1, 3, 3, 6,
  1, 1, 1, 1, 3, 3, 3, 1, 2,
  1, 1, 1, 1, 3, 3, 3, 1, 2, 2,
  2, 4, 8,
  1, 1, 1, 1, 3, 3, 6,
  1, 1, 1, 1, 3, 3, 3, 1, 2,
  1, 1, 1, 1, 3, 3, 3, 1, 2, 2, 2, 4, 8, 4
];

const lyrics = [
  "N", " ", "G", " ", "G", "Y", "U",
  "N", " ", "G", " ", "L", "Y", "D", " ", " ",
  "N", " ", "G", " ", "R", "A", " ", " ", " ", "A",
  "D", " ", "Y",
  "N", " ", "G", " ", "M", "Y", "C",
  "N", " ", "G", " ", "S", "G", " ", " ", " ",
  "N", " ", "G", " ", "T", "A", "L", " ", " ", " ", "A", "H", "Y", " "
];

for (let i = 0; i < 59; i = i + 1) {
  spike_showText(lyrics[i]);
  spike_playSound(notes[i], durations[i] * 100);
  spike_sleep(durations[i] * 0.12);
}
`,sampleProgramSensor=`// Requires a force sensor to be plugged into any of the ports on the hub
const sensor = spike_forceSensor();
for (let i = 0; i < 10; i = i + 1) {
  display(spike_getIsTouched(sensor));
  spike_sleep(1);
}
`,sampleProgramZigzag=`for (let i = 0; i < 10; i = i + 1) {
  spike_showImage("00099:00990:09900:99000:09900");
  spike_sleep(0.2);
  spike_showImage("00990:09900:99000:09900:00990");
  spike_sleep(0.2);
  spike_showImage("09900:99000:09900:00990:00099");
  spike_sleep(0.2);
  spike_showImage("99000:09900:00990:00099:00990");
  spike_sleep(0.2);
  spike_showImage("09900:00990:00099:00990:09900");
  spike_sleep(0.2);
  spike_showImage("00990:00099:00990:09900:99000");
  spike_sleep(0.2);
}
`,getSampleProgramsFrom=i=>{switch(i){case Languages.PYTHON:return[sampleProgramImagePixel,sampleProgramBlinkLoop];case Languages.SOURCE_THREE:return[sampleProgramZigzag,sampleProgramMusic,sampleProgramSensor,sampleProgramMotor]}},SampleProgramSidebar=({languageMode:i,setProgramState:s})=>{const a=getSampleProgramsFrom(i);return jsxs(Card,{children:[jsx(CardHeader,{children:jsxs(Box,{children:[jsxs(Heading,{size:"md",children:["Sample ",i," Programs"]}),jsx(Text,{children:"Click on a program below to load them into the editor."})]})}),jsx(CardBody,{paddingTop:0,children:jsx(Stack,{divider:jsx(StackDivider,{}),children:a.length==0?jsx(Text,{fontStyle:"italic",color:"gray",children:"No sample programs found."}):a.map((o,it)=>jsx(SampleProgramListItem,{label:`Sample Program ${it+1}`,onClick:()=>s(o)},it))})})]})};var sicp={},createContext={},constants={},types={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Variant=i.Chapter=i.ErrorSeverity=i.ErrorType=void 0,function(s){s.SYNTAX="Syntax",s.TYPE="Type",s.RUNTIME="Runtime"}(i.ErrorType||(i.ErrorType={})),function(s){s.WARNING="Warning",s.ERROR="Error"}(i.ErrorSeverity||(i.ErrorSeverity={})),function(s){s[s.SOURCE_1=1]="SOURCE_1",s[s.SOURCE_2=2]="SOURCE_2",s[s.SOURCE_3=3]="SOURCE_3",s[s.SOURCE_4=4]="SOURCE_4",s[s.FULL_JS=-1]="FULL_JS",s[s.HTML=-2]="HTML",s[s.LIBRARY_PARSER=100]="LIBRARY_PARSER"}(i.Chapter||(i.Chapter={})),function(s){s.DEFAULT="default",s.NATIVE="native",s.WASM="wasm",s.LAZY="lazy",s.NON_DET="non-det",s.CONCURRENT="concurrent",s.GPU="gpu"}(i.Variant||(i.Variant={}))})(types);Object.defineProperty(constants,"__esModule",{value:!0});constants.ACORN_PARSE_OPTIONS=constants.sourceLanguages=constants.JSSLANG_PROPERTIES=constants.UNKNOWN_LOCATION=constants.MAX_LIST_DISPLAY_LENGTH=constants.MODULE_CONTEXTS_ID=constants.MODULE_PARAMS_ID=constants.NATIVE_STORAGE_ID=constants.GLOBAL=constants.TRY_AGAIN=constants.CUT=void 0;const types_1$m=types;constants.CUT="cut";constants.TRY_AGAIN="retry";constants.GLOBAL=typeof window>"u"?commonjsGlobal:window;constants.NATIVE_STORAGE_ID="nativeStorage";constants.MODULE_PARAMS_ID="moduleParams";constants.MODULE_CONTEXTS_ID="moduleContexts";constants.MAX_LIST_DISPLAY_LENGTH=100;constants.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}};constants.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10};constants.sourceLanguages=[{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.WASM},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.CONCURRENT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.NON_DET},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.GPU}];constants.ACORN_PARSE_OPTIONS={ecmaVersion:2015};var lib={},acorn={exports:{}};(function(i,s){(function(a,o){o(s)})(commonjsGlobal,function(a){var o=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],it=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],tt="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",at="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",ot={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},rt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",nt={5:rt,"5module":rt+" export import",6:rt+" const class extends export import super"},j=/^in(stanceof)?$/,_=new RegExp("["+at+"]"),$=new RegExp("["+at+tt+"]");function et(_t,$t){for(var Ft=65536,Bt=0;Bt<$t.length;Bt+=2){if(Ft+=$t[Bt],Ft>_t)return!1;if(Ft+=$t[Bt+1],Ft>=_t)return!0}}function st(_t,$t){return _t<65?_t===36:_t<91?!0:_t<97?_t===95:_t<123?!0:_t<=65535?_t>=170&&_.test(String.fromCharCode(_t)):$t===!1?!1:et(_t,it)}function lt(_t,$t){return _t<48?_t===36:_t<58?!0:_t<65?!1:_t<91?!0:_t<97?_t===95:_t<123?!0:_t<=65535?_t>=170&&$.test(String.fromCharCode(_t)):$t===!1?!1:et(_t,it)||et(_t,o)}var ft=function($t,Ft){Ft===void 0&&(Ft={}),this.label=$t,this.keyword=Ft.keyword,this.beforeExpr=!!Ft.beforeExpr,this.startsExpr=!!Ft.startsExpr,this.isLoop=!!Ft.isLoop,this.isAssign=!!Ft.isAssign,this.prefix=!!Ft.prefix,this.postfix=!!Ft.postfix,this.binop=Ft.binop||null,this.updateContext=null};function gt(_t,$t){return new ft(_t,{beforeExpr:!0,binop:$t})}var ut={beforeExpr:!0},pt={startsExpr:!0},vt={};function dt(_t,$t){return $t===void 0&&($t={}),$t.keyword=_t,vt[_t]=new ft(_t,$t)}var mt={num:new ft("num",pt),regexp:new ft("regexp",pt),string:new ft("string",pt),name:new ft("name",pt),privateId:new ft("privateId",pt),eof:new ft("eof"),bracketL:new ft("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ft("]"),braceL:new ft("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ft("}"),parenL:new ft("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ft(")"),comma:new ft(",",ut),semi:new ft(";",ut),colon:new ft(":",ut),dot:new ft("."),question:new ft("?",ut),questionDot:new ft("?."),arrow:new ft("=>",ut),template:new ft("template"),invalidTemplate:new ft("invalidTemplate"),ellipsis:new ft("...",ut),backQuote:new ft("`",pt),dollarBraceL:new ft("${",{beforeExpr:!0,startsExpr:!0}),eq:new ft("=",{beforeExpr:!0,isAssign:!0}),assign:new ft("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ft("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ft("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:gt("||",1),logicalAND:gt("&&",2),bitwiseOR:gt("|",3),bitwiseXOR:gt("^",4),bitwiseAND:gt("&",5),equality:gt("==/!=/===/!==",6),relational:gt("</>/<=/>=",7),bitShift:gt("<</>>/>>>",8),plusMin:new ft("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:gt("%",10),star:gt("*",10),slash:gt("/",10),starstar:new ft("**",{beforeExpr:!0}),coalesce:gt("??",1),_break:dt("break"),_case:dt("case",ut),_catch:dt("catch"),_continue:dt("continue"),_debugger:dt("debugger"),_default:dt("default",ut),_do:dt("do",{isLoop:!0,beforeExpr:!0}),_else:dt("else",ut),_finally:dt("finally"),_for:dt("for",{isLoop:!0}),_function:dt("function",pt),_if:dt("if"),_return:dt("return",ut),_switch:dt("switch"),_throw:dt("throw",ut),_try:dt("try"),_var:dt("var"),_const:dt("const"),_while:dt("while",{isLoop:!0}),_with:dt("with"),_new:dt("new",{beforeExpr:!0,startsExpr:!0}),_this:dt("this",pt),_super:dt("super",pt),_class:dt("class",pt),_extends:dt("extends",ut),_export:dt("export"),_import:dt("import",pt),_null:dt("null",pt),_true:dt("true",pt),_false:dt("false",pt),_in:dt("in",{beforeExpr:!0,binop:7}),_instanceof:dt("instanceof",{beforeExpr:!0,binop:7}),_typeof:dt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:dt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:dt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Tt=/\r\n?|\n|\u2028|\u2029/,yt=new RegExp(Tt.source,"g");function ht(_t){return _t===10||_t===13||_t===8232||_t===8233}function xt(_t,$t,Ft){Ft===void 0&&(Ft=_t.length);for(var Bt=$t;Bt<Ft;Bt++){var tn=_t.charCodeAt(Bt);if(ht(tn))return Bt<Ft-1&&tn===13&&_t.charCodeAt(Bt+1)===10?Bt+2:Bt+1}return-1}var wt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,kt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Ct=Object.prototype,Rt=Ct.hasOwnProperty,Lt=Ct.toString,Mt=Object.hasOwn||function(_t,$t){return Rt.call(_t,$t)},Wt=Array.isArray||function(_t){return Lt.call(_t)==="[object Array]"};function Pt(_t){return new RegExp("^(?:"+_t.replace(/ /g,"|")+")$")}function Ot(_t){return _t<=65535?String.fromCharCode(_t):(_t-=65536,String.fromCharCode((_t>>10)+55296,(_t&1023)+56320))}var Xt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,rn=function($t,Ft){this.line=$t,this.column=Ft};rn.prototype.offset=function($t){return new rn(this.line,this.column+$t)};var jt=function($t,Ft,Bt){this.start=Ft,this.end=Bt,$t.sourceFile!==null&&(this.source=$t.sourceFile)};function Vt(_t,$t){for(var Ft=1,Bt=0;;){var tn=xt(_t,Bt,$t);if(tn<0)return new rn(Ft,$t-Bt);++Ft,Bt=tn}}var en={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},ln=!1;function nn(_t){var $t={};for(var Ft in en)$t[Ft]=_t&&Mt(_t,Ft)?_t[Ft]:en[Ft];if($t.ecmaVersion==="latest"?$t.ecmaVersion=1e8:$t.ecmaVersion==null?(!ln&&typeof console=="object"&&console.warn&&(ln=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),$t.ecmaVersion=11):$t.ecmaVersion>=2015&&($t.ecmaVersion-=2009),$t.allowReserved==null&&($t.allowReserved=$t.ecmaVersion<5),_t.allowHashBang==null&&($t.allowHashBang=$t.ecmaVersion>=14),Wt($t.onToken)){var Bt=$t.onToken;$t.onToken=function(tn){return Bt.push(tn)}}return Wt($t.onComment)&&($t.onComment=_n($t,$t.onComment)),$t}function _n(_t,$t){return function(Ft,Bt,tn,yn,Sn,Dn){var Bn={type:Ft?"Block":"Line",value:Bt,start:tn,end:yn};_t.locations&&(Bn.loc=new jt(this,Sn,Dn)),_t.ranges&&(Bn.range=[tn,yn]),$t.push(Bn)}}var fn=1,wn=2,xn=4,qt=8,Qt=16,Gt=32,cn=64,kn=128,dn=256,qn=fn|wn|dn;function ur(_t,$t){return wn|(_t?xn:0)|($t?qt:0)}var cr=0,Mr=1,En=2,Kn=3,Nn=4,dr=5,Hn=function($t,Ft,Bt){this.options=$t=nn($t),this.sourceFile=$t.sourceFile,this.keywords=Pt(nt[$t.ecmaVersion>=6?6:$t.sourceType==="module"?"5module":5]);var tn="";$t.allowReserved!==!0&&(tn=ot[$t.ecmaVersion>=6?6:$t.ecmaVersion===5?5:3],$t.sourceType==="module"&&(tn+=" await")),this.reservedWords=Pt(tn);var yn=(tn?tn+" ":"")+ot.strict;this.reservedWordsStrict=Pt(yn),this.reservedWordsStrictBind=Pt(yn+" "+ot.strictBind),this.input=String(Ft),this.containsEsc=!1,Bt?(this.pos=Bt,this.lineStart=this.input.lastIndexOf(`
`,Bt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Tt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=mt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=$t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&$t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(fn),this.regexpState=null,this.privateNameStack=[]},Tr={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Hn.prototype.parse=function(){var $t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel($t)},Tr.inFunction.get=function(){return(this.currentVarScope().flags&wn)>0},Tr.inGenerator.get=function(){return(this.currentVarScope().flags&qt)>0&&!this.currentVarScope().inClassFieldInit},Tr.inAsync.get=function(){return(this.currentVarScope().flags&xn)>0&&!this.currentVarScope().inClassFieldInit},Tr.canAwait.get=function(){for(var _t=this.scopeStack.length-1;_t>=0;_t--){var $t=this.scopeStack[_t];if($t.inClassFieldInit||$t.flags&dn)return!1;if($t.flags&wn)return($t.flags&xn)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Tr.allowSuper.get=function(){var _t=this.currentThisScope(),$t=_t.flags,Ft=_t.inClassFieldInit;return($t&cn)>0||Ft||this.options.allowSuperOutsideMethod},Tr.allowDirectSuper.get=function(){return(this.currentThisScope().flags&kn)>0},Tr.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Tr.allowNewDotTarget.get=function(){var _t=this.currentThisScope(),$t=_t.flags,Ft=_t.inClassFieldInit;return($t&(wn|dn))>0||Ft},Tr.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&dn)>0},Hn.extend=function(){for(var $t=[],Ft=arguments.length;Ft--;)$t[Ft]=arguments[Ft];for(var Bt=this,tn=0;tn<$t.length;tn++)Bt=$t[tn](Bt);return Bt},Hn.parse=function($t,Ft){return new this(Ft,$t).parse()},Hn.parseExpressionAt=function($t,Ft,Bt){var tn=new this(Bt,$t,Ft);return tn.nextToken(),tn.parseExpression()},Hn.tokenizer=function($t,Ft){return new this(Ft,$t)},Object.defineProperties(Hn.prototype,Tr);var or=Hn.prototype,Wn=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;or.strictDirective=function(_t){if(this.options.ecmaVersion<5)return!1;for(;;){kt.lastIndex=_t,_t+=kt.exec(this.input)[0].length;var $t=Wn.exec(this.input.slice(_t));if(!$t)return!1;if(($t[1]||$t[2])==="use strict"){kt.lastIndex=_t+$t[0].length;var Ft=kt.exec(this.input),Bt=Ft.index+Ft[0].length,tn=this.input.charAt(Bt);return tn===";"||tn==="}"||Tt.test(Ft[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(tn)||tn==="!"&&this.input.charAt(Bt+1)==="=")}_t+=$t[0].length,kt.lastIndex=_t,_t+=kt.exec(this.input)[0].length,this.input[_t]===";"&&_t++}},or.eat=function(_t){return this.type===_t?(this.next(),!0):!1},or.isContextual=function(_t){return this.type===mt.name&&this.value===_t&&!this.containsEsc},or.eatContextual=function(_t){return this.isContextual(_t)?(this.next(),!0):!1},or.expectContextual=function(_t){this.eatContextual(_t)||this.unexpected()},or.canInsertSemicolon=function(){return this.type===mt.eof||this.type===mt.braceR||Tt.test(this.input.slice(this.lastTokEnd,this.start))},or.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},or.semicolon=function(){!this.eat(mt.semi)&&!this.insertSemicolon()&&this.unexpected()},or.afterTrailingComma=function(_t,$t){if(this.type===_t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),$t||this.next(),!0},or.expect=function(_t){this.eat(_t)||this.unexpected()},or.unexpected=function(_t){this.raise(_t!=null?_t:this.start,"Unexpected token")};var xr=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};or.checkPatternErrors=function(_t,$t){if(!!_t){_t.trailingComma>-1&&this.raiseRecoverable(_t.trailingComma,"Comma is not permitted after the rest element");var Ft=$t?_t.parenthesizedAssign:_t.parenthesizedBind;Ft>-1&&this.raiseRecoverable(Ft,$t?"Assigning to rvalue":"Parenthesized pattern")}},or.checkExpressionErrors=function(_t,$t){if(!_t)return!1;var Ft=_t.shorthandAssign,Bt=_t.doubleProto;if(!$t)return Ft>=0||Bt>=0;Ft>=0&&this.raise(Ft,"Shorthand property assignments are valid only in destructuring patterns"),Bt>=0&&this.raiseRecoverable(Bt,"Redefinition of __proto__ property")},or.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},or.isSimpleAssignTarget=function(_t){return _t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(_t.expression):_t.type==="Identifier"||_t.type==="MemberExpression"};var Ut=Hn.prototype;Ut.parseTopLevel=function(_t){var $t=Object.create(null);for(_t.body||(_t.body=[]);this.type!==mt.eof;){var Ft=this.parseStatement(null,!0,$t);_t.body.push(Ft)}if(this.inModule)for(var Bt=0,tn=Object.keys(this.undefinedExports);Bt<tn.length;Bt+=1){var yn=tn[Bt];this.raiseRecoverable(this.undefinedExports[yn].start,"Export '"+yn+"' is not defined")}return this.adaptDirectivePrologue(_t.body),this.next(),_t.sourceType=this.options.sourceType,this.finishNode(_t,"Program")};var an={kind:"loop"},hn={kind:"switch"};Ut.isLet=function(_t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;kt.lastIndex=this.pos;var $t=kt.exec(this.input),Ft=this.pos+$t[0].length,Bt=this.input.charCodeAt(Ft);if(Bt===91||Bt===92||Bt>55295&&Bt<56320)return!0;if(_t)return!1;if(Bt===123)return!0;if(st(Bt,!0)){for(var tn=Ft+1;lt(Bt=this.input.charCodeAt(tn),!0);)++tn;if(Bt===92||Bt>55295&&Bt<56320)return!0;var yn=this.input.slice(Ft,tn);if(!j.test(yn))return!0}return!1},Ut.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;kt.lastIndex=this.pos;var _t=kt.exec(this.input),$t=this.pos+_t[0].length,Ft;return!Tt.test(this.input.slice(this.pos,$t))&&this.input.slice($t,$t+8)==="function"&&($t+8===this.input.length||!(lt(Ft=this.input.charCodeAt($t+8))||Ft>55295&&Ft<56320))},Ut.parseStatement=function(_t,$t,Ft){var Bt=this.type,tn=this.startNode(),yn;switch(this.isLet(_t)&&(Bt=mt._var,yn="let"),Bt){case mt._break:case mt._continue:return this.parseBreakContinueStatement(tn,Bt.keyword);case mt._debugger:return this.parseDebuggerStatement(tn);case mt._do:return this.parseDoStatement(tn);case mt._for:return this.parseForStatement(tn);case mt._function:return _t&&(this.strict||_t!=="if"&&_t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(tn,!1,!_t);case mt._class:return _t&&this.unexpected(),this.parseClass(tn,!0);case mt._if:return this.parseIfStatement(tn);case mt._return:return this.parseReturnStatement(tn);case mt._switch:return this.parseSwitchStatement(tn);case mt._throw:return this.parseThrowStatement(tn);case mt._try:return this.parseTryStatement(tn);case mt._const:case mt._var:return yn=yn||this.value,_t&&yn!=="var"&&this.unexpected(),this.parseVarStatement(tn,yn);case mt._while:return this.parseWhileStatement(tn);case mt._with:return this.parseWithStatement(tn);case mt.braceL:return this.parseBlock(!0,tn);case mt.semi:return this.parseEmptyStatement(tn);case mt._export:case mt._import:if(this.options.ecmaVersion>10&&Bt===mt._import){kt.lastIndex=this.pos;var Sn=kt.exec(this.input),Dn=this.pos+Sn[0].length,Bn=this.input.charCodeAt(Dn);if(Bn===40||Bn===46)return this.parseExpressionStatement(tn,this.parseExpression())}return this.options.allowImportExportEverywhere||($t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Bt===mt._import?this.parseImport(tn):this.parseExport(tn,Ft);default:if(this.isAsyncFunction())return _t&&this.unexpected(),this.next(),this.parseFunctionStatement(tn,!0,!_t);var hr=this.value,_r=this.parseExpression();return Bt===mt.name&&_r.type==="Identifier"&&this.eat(mt.colon)?this.parseLabeledStatement(tn,hr,_r,_t):this.parseExpressionStatement(tn,_r)}},Ut.parseBreakContinueStatement=function(_t,$t){var Ft=$t==="break";this.next(),this.eat(mt.semi)||this.insertSemicolon()?_t.label=null:this.type!==mt.name?this.unexpected():(_t.label=this.parseIdent(),this.semicolon());for(var Bt=0;Bt<this.labels.length;++Bt){var tn=this.labels[Bt];if((_t.label==null||tn.name===_t.label.name)&&(tn.kind!=null&&(Ft||tn.kind==="loop")||_t.label&&Ft))break}return Bt===this.labels.length&&this.raise(_t.start,"Unsyntactic "+$t),this.finishNode(_t,Ft?"BreakStatement":"ContinueStatement")},Ut.parseDebuggerStatement=function(_t){return this.next(),this.semicolon(),this.finishNode(_t,"DebuggerStatement")},Ut.parseDoStatement=function(_t){return this.next(),this.labels.push(an),_t.body=this.parseStatement("do"),this.labels.pop(),this.expect(mt._while),_t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(mt.semi):this.semicolon(),this.finishNode(_t,"DoWhileStatement")},Ut.parseForStatement=function(_t){this.next();var $t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(an),this.enterScope(0),this.expect(mt.parenL),this.type===mt.semi)return $t>-1&&this.unexpected($t),this.parseFor(_t,null);var Ft=this.isLet();if(this.type===mt._var||this.type===mt._const||Ft){var Bt=this.startNode(),tn=Ft?"let":this.value;return this.next(),this.parseVar(Bt,!0,tn),this.finishNode(Bt,"VariableDeclaration"),(this.type===mt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Bt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===mt._in?$t>-1&&this.unexpected($t):_t.await=$t>-1),this.parseForIn(_t,Bt)):($t>-1&&this.unexpected($t),this.parseFor(_t,Bt))}var yn=this.isContextual("let"),Sn=!1,Dn=new xr,Bn=this.parseExpression($t>-1?"await":!0,Dn);return this.type===mt._in||(Sn=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===mt._in?$t>-1&&this.unexpected($t):_t.await=$t>-1),yn&&Sn&&this.raise(Bn.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Bn,!1,Dn),this.checkLValPattern(Bn),this.parseForIn(_t,Bn)):(this.checkExpressionErrors(Dn,!0),$t>-1&&this.unexpected($t),this.parseFor(_t,Bn))},Ut.parseFunctionStatement=function(_t,$t,Ft){return this.next(),this.parseFunction(_t,Gn|(Ft?0:Pn),!1,$t)},Ut.parseIfStatement=function(_t){return this.next(),_t.test=this.parseParenExpression(),_t.consequent=this.parseStatement("if"),_t.alternate=this.eat(mt._else)?this.parseStatement("if"):null,this.finishNode(_t,"IfStatement")},Ut.parseReturnStatement=function(_t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(mt.semi)||this.insertSemicolon()?_t.argument=null:(_t.argument=this.parseExpression(),this.semicolon()),this.finishNode(_t,"ReturnStatement")},Ut.parseSwitchStatement=function(_t){this.next(),_t.discriminant=this.parseParenExpression(),_t.cases=[],this.expect(mt.braceL),this.labels.push(hn),this.enterScope(0);for(var $t,Ft=!1;this.type!==mt.braceR;)if(this.type===mt._case||this.type===mt._default){var Bt=this.type===mt._case;$t&&this.finishNode($t,"SwitchCase"),_t.cases.push($t=this.startNode()),$t.consequent=[],this.next(),Bt?$t.test=this.parseExpression():(Ft&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Ft=!0,$t.test=null),this.expect(mt.colon)}else $t||this.unexpected(),$t.consequent.push(this.parseStatement(null));return this.exitScope(),$t&&this.finishNode($t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(_t,"SwitchStatement")},Ut.parseThrowStatement=function(_t){return this.next(),Tt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),_t.argument=this.parseExpression(),this.semicolon(),this.finishNode(_t,"ThrowStatement")};var On=[];Ut.parseTryStatement=function(_t){if(this.next(),_t.block=this.parseBlock(),_t.handler=null,this.type===mt._catch){var $t=this.startNode();if(this.next(),this.eat(mt.parenL)){$t.param=this.parseBindingAtom();var Ft=$t.param.type==="Identifier";this.enterScope(Ft?Gt:0),this.checkLValPattern($t.param,Ft?Nn:En),this.expect(mt.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),$t.param=null,this.enterScope(0);$t.body=this.parseBlock(!1),this.exitScope(),_t.handler=this.finishNode($t,"CatchClause")}return _t.finalizer=this.eat(mt._finally)?this.parseBlock():null,!_t.handler&&!_t.finalizer&&this.raise(_t.start,"Missing catch or finally clause"),this.finishNode(_t,"TryStatement")},Ut.parseVarStatement=function(_t,$t){return this.next(),this.parseVar(_t,!1,$t),this.semicolon(),this.finishNode(_t,"VariableDeclaration")},Ut.parseWhileStatement=function(_t){return this.next(),_t.test=this.parseParenExpression(),this.labels.push(an),_t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(_t,"WhileStatement")},Ut.parseWithStatement=function(_t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),_t.object=this.parseParenExpression(),_t.body=this.parseStatement("with"),this.finishNode(_t,"WithStatement")},Ut.parseEmptyStatement=function(_t){return this.next(),this.finishNode(_t,"EmptyStatement")},Ut.parseLabeledStatement=function(_t,$t,Ft,Bt){for(var tn=0,yn=this.labels;tn<yn.length;tn+=1){var Sn=yn[tn];Sn.name===$t&&this.raise(Ft.start,"Label '"+$t+"' is already declared")}for(var Dn=this.type.isLoop?"loop":this.type===mt._switch?"switch":null,Bn=this.labels.length-1;Bn>=0;Bn--){var hr=this.labels[Bn];if(hr.statementStart===_t.start)hr.statementStart=this.start,hr.kind=Dn;else break}return this.labels.push({name:$t,kind:Dn,statementStart:this.start}),_t.body=this.parseStatement(Bt?Bt.indexOf("label")===-1?Bt+"label":Bt:"label"),this.labels.pop(),_t.label=Ft,this.finishNode(_t,"LabeledStatement")},Ut.parseExpressionStatement=function(_t,$t){return _t.expression=$t,this.semicolon(),this.finishNode(_t,"ExpressionStatement")},Ut.parseBlock=function(_t,$t,Ft){for(_t===void 0&&(_t=!0),$t===void 0&&($t=this.startNode()),$t.body=[],this.expect(mt.braceL),_t&&this.enterScope(0);this.type!==mt.braceR;){var Bt=this.parseStatement(null);$t.body.push(Bt)}return Ft&&(this.strict=!1),this.next(),_t&&this.exitScope(),this.finishNode($t,"BlockStatement")},Ut.parseFor=function(_t,$t){return _t.init=$t,this.expect(mt.semi),_t.test=this.type===mt.semi?null:this.parseExpression(),this.expect(mt.semi),_t.update=this.type===mt.parenR?null:this.parseExpression(),this.expect(mt.parenR),_t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_t,"ForStatement")},Ut.parseForIn=function(_t,$t){var Ft=this.type===mt._in;return this.next(),$t.type==="VariableDeclaration"&&$t.declarations[0].init!=null&&(!Ft||this.options.ecmaVersion<8||this.strict||$t.kind!=="var"||$t.declarations[0].id.type!=="Identifier")&&this.raise($t.start,(Ft?"for-in":"for-of")+" loop variable declaration may not have an initializer"),_t.left=$t,_t.right=Ft?this.parseExpression():this.parseMaybeAssign(),this.expect(mt.parenR),_t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_t,Ft?"ForInStatement":"ForOfStatement")},Ut.parseVar=function(_t,$t,Ft){for(_t.declarations=[],_t.kind=Ft;;){var Bt=this.startNode();if(this.parseVarId(Bt,Ft),this.eat(mt.eq)?Bt.init=this.parseMaybeAssign($t):Ft==="const"&&!(this.type===mt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Bt.id.type!=="Identifier"&&!($t&&(this.type===mt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Bt.init=null,_t.declarations.push(this.finishNode(Bt,"VariableDeclarator")),!this.eat(mt.comma))break}return _t},Ut.parseVarId=function(_t,$t){_t.id=this.parseBindingAtom(),this.checkLValPattern(_t.id,$t==="var"?Mr:En,!1)};var Gn=1,Pn=2,$n=4;Ut.parseFunction=function(_t,$t,Ft,Bt,tn){this.initFunction(_t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Bt)&&(this.type===mt.star&&$t&Pn&&this.unexpected(),_t.generator=this.eat(mt.star)),this.options.ecmaVersion>=8&&(_t.async=!!Bt),$t&Gn&&(_t.id=$t&$n&&this.type!==mt.name?null:this.parseIdent(),_t.id&&!($t&Pn)&&this.checkLValSimple(_t.id,this.strict||_t.generator||_t.async?this.treatFunctionsAsVar?Mr:En:Kn));var yn=this.yieldPos,Sn=this.awaitPos,Dn=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ur(_t.async,_t.generator)),$t&Gn||(_t.id=this.type===mt.name?this.parseIdent():null),this.parseFunctionParams(_t),this.parseFunctionBody(_t,Ft,!1,tn),this.yieldPos=yn,this.awaitPos=Sn,this.awaitIdentPos=Dn,this.finishNode(_t,$t&Gn?"FunctionDeclaration":"FunctionExpression")},Ut.parseFunctionParams=function(_t){this.expect(mt.parenL),_t.params=this.parseBindingList(mt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Ut.parseClass=function(_t,$t){this.next();var Ft=this.strict;this.strict=!0,this.parseClassId(_t,$t),this.parseClassSuper(_t);var Bt=this.enterClassBody(),tn=this.startNode(),yn=!1;for(tn.body=[],this.expect(mt.braceL);this.type!==mt.braceR;){var Sn=this.parseClassElement(_t.superClass!==null);Sn&&(tn.body.push(Sn),Sn.type==="MethodDefinition"&&Sn.kind==="constructor"?(yn&&this.raise(Sn.start,"Duplicate constructor in the same class"),yn=!0):Sn.key&&Sn.key.type==="PrivateIdentifier"&&Yn(Bt,Sn)&&this.raiseRecoverable(Sn.key.start,"Identifier '#"+Sn.key.name+"' has already been declared"))}return this.strict=Ft,this.next(),_t.body=this.finishNode(tn,"ClassBody"),this.exitClassBody(),this.finishNode(_t,$t?"ClassDeclaration":"ClassExpression")},Ut.parseClassElement=function(_t){if(this.eat(mt.semi))return null;var $t=this.options.ecmaVersion,Ft=this.startNode(),Bt="",tn=!1,yn=!1,Sn="method",Dn=!1;if(this.eatContextual("static")){if($t>=13&&this.eat(mt.braceL))return this.parseClassStaticBlock(Ft),Ft;this.isClassElementNameStart()||this.type===mt.star?Dn=!0:Bt="static"}if(Ft.static=Dn,!Bt&&$t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===mt.star)&&!this.canInsertSemicolon()?yn=!0:Bt="async"),!Bt&&($t>=9||!yn)&&this.eat(mt.star)&&(tn=!0),!Bt&&!yn&&!tn){var Bn=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Sn=Bn:Bt=Bn)}if(Bt?(Ft.computed=!1,Ft.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Ft.key.name=Bt,this.finishNode(Ft.key,"Identifier")):this.parseClassElementName(Ft),$t<13||this.type===mt.parenL||Sn!=="method"||tn||yn){var hr=!Ft.static&&lr(Ft,"constructor"),_r=hr&&_t;hr&&Sn!=="method"&&this.raise(Ft.key.start,"Constructor can't have get/set modifier"),Ft.kind=hr?"constructor":Sn,this.parseClassMethod(Ft,tn,yn,_r)}else this.parseClassField(Ft);return Ft},Ut.isClassElementNameStart=function(){return this.type===mt.name||this.type===mt.privateId||this.type===mt.num||this.type===mt.string||this.type===mt.bracketL||this.type.keyword},Ut.parseClassElementName=function(_t){this.type===mt.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),_t.computed=!1,_t.key=this.parsePrivateIdent()):this.parsePropertyName(_t)},Ut.parseClassMethod=function(_t,$t,Ft,Bt){var tn=_t.key;_t.kind==="constructor"?($t&&this.raise(tn.start,"Constructor can't be a generator"),Ft&&this.raise(tn.start,"Constructor can't be an async method")):_t.static&&lr(_t,"prototype")&&this.raise(tn.start,"Classes may not have a static property named prototype");var yn=_t.value=this.parseMethod($t,Ft,Bt);return _t.kind==="get"&&yn.params.length!==0&&this.raiseRecoverable(yn.start,"getter should have no params"),_t.kind==="set"&&yn.params.length!==1&&this.raiseRecoverable(yn.start,"setter should have exactly one param"),_t.kind==="set"&&yn.params[0].type==="RestElement"&&this.raiseRecoverable(yn.params[0].start,"Setter cannot use rest params"),this.finishNode(_t,"MethodDefinition")},Ut.parseClassField=function(_t){if(lr(_t,"constructor")?this.raise(_t.key.start,"Classes can't have a field named 'constructor'"):_t.static&&lr(_t,"prototype")&&this.raise(_t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(mt.eq)){var $t=this.currentThisScope(),Ft=$t.inClassFieldInit;$t.inClassFieldInit=!0,_t.value=this.parseMaybeAssign(),$t.inClassFieldInit=Ft}else _t.value=null;return this.semicolon(),this.finishNode(_t,"PropertyDefinition")},Ut.parseClassStaticBlock=function(_t){_t.body=[];var $t=this.labels;for(this.labels=[],this.enterScope(dn|cn);this.type!==mt.braceR;){var Ft=this.parseStatement(null);_t.body.push(Ft)}return this.next(),this.exitScope(),this.labels=$t,this.finishNode(_t,"StaticBlock")},Ut.parseClassId=function(_t,$t){this.type===mt.name?(_t.id=this.parseIdent(),$t&&this.checkLValSimple(_t.id,En,!1)):($t===!0&&this.unexpected(),_t.id=null)},Ut.parseClassSuper=function(_t){_t.superClass=this.eat(mt._extends)?this.parseExprSubscripts(!1):null},Ut.enterClassBody=function(){var _t={declared:Object.create(null),used:[]};return this.privateNameStack.push(_t),_t.declared},Ut.exitClassBody=function(){for(var _t=this.privateNameStack.pop(),$t=_t.declared,Ft=_t.used,Bt=this.privateNameStack.length,tn=Bt===0?null:this.privateNameStack[Bt-1],yn=0;yn<Ft.length;++yn){var Sn=Ft[yn];Mt($t,Sn.name)||(tn?tn.used.push(Sn):this.raiseRecoverable(Sn.start,"Private field '#"+Sn.name+"' must be declared in an enclosing class"))}};function Yn(_t,$t){var Ft=$t.key.name,Bt=_t[Ft],tn="true";return $t.type==="MethodDefinition"&&($t.kind==="get"||$t.kind==="set")&&(tn=($t.static?"s":"i")+$t.kind),Bt==="iget"&&tn==="iset"||Bt==="iset"&&tn==="iget"||Bt==="sget"&&tn==="sset"||Bt==="sset"&&tn==="sget"?(_t[Ft]="true",!1):Bt?!0:(_t[Ft]=tn,!1)}function lr(_t,$t){var Ft=_t.computed,Bt=_t.key;return!Ft&&(Bt.type==="Identifier"&&Bt.name===$t||Bt.type==="Literal"&&Bt.value===$t)}Ut.parseExport=function(_t,$t){if(this.next(),this.eat(mt.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(_t.exported=this.parseModuleExportName(),this.checkExport($t,_t.exported,this.lastTokStart)):_t.exported=null),this.expectContextual("from"),this.type!==mt.string&&this.unexpected(),_t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(_t,"ExportAllDeclaration");if(this.eat(mt._default)){this.checkExport($t,"default",this.lastTokStart);var Ft;if(this.type===mt._function||(Ft=this.isAsyncFunction())){var Bt=this.startNode();this.next(),Ft&&this.next(),_t.declaration=this.parseFunction(Bt,Gn|$n,!1,Ft)}else if(this.type===mt._class){var tn=this.startNode();_t.declaration=this.parseClass(tn,"nullableID")}else _t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(_t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())_t.declaration=this.parseStatement(null),_t.declaration.type==="VariableDeclaration"?this.checkVariableExport($t,_t.declaration.declarations):this.checkExport($t,_t.declaration.id,_t.declaration.id.start),_t.specifiers=[],_t.source=null;else{if(_t.declaration=null,_t.specifiers=this.parseExportSpecifiers($t),this.eatContextual("from"))this.type!==mt.string&&this.unexpected(),_t.source=this.parseExprAtom();else{for(var yn=0,Sn=_t.specifiers;yn<Sn.length;yn+=1){var Dn=Sn[yn];this.checkUnreserved(Dn.local),this.checkLocalExport(Dn.local),Dn.local.type==="Literal"&&this.raise(Dn.local.start,"A string literal cannot be used as an exported binding without `from`.")}_t.source=null}this.semicolon()}return this.finishNode(_t,"ExportNamedDeclaration")},Ut.checkExport=function(_t,$t,Ft){!_t||(typeof $t!="string"&&($t=$t.type==="Identifier"?$t.name:$t.value),Mt(_t,$t)&&this.raiseRecoverable(Ft,"Duplicate export '"+$t+"'"),_t[$t]=!0)},Ut.checkPatternExport=function(_t,$t){var Ft=$t.type;if(Ft==="Identifier")this.checkExport(_t,$t,$t.start);else if(Ft==="ObjectPattern")for(var Bt=0,tn=$t.properties;Bt<tn.length;Bt+=1){var yn=tn[Bt];this.checkPatternExport(_t,yn)}else if(Ft==="ArrayPattern")for(var Sn=0,Dn=$t.elements;Sn<Dn.length;Sn+=1){var Bn=Dn[Sn];Bn&&this.checkPatternExport(_t,Bn)}else Ft==="Property"?this.checkPatternExport(_t,$t.value):Ft==="AssignmentPattern"?this.checkPatternExport(_t,$t.left):Ft==="RestElement"?this.checkPatternExport(_t,$t.argument):Ft==="ParenthesizedExpression"&&this.checkPatternExport(_t,$t.expression)},Ut.checkVariableExport=function(_t,$t){if(!!_t)for(var Ft=0,Bt=$t;Ft<Bt.length;Ft+=1){var tn=Bt[Ft];this.checkPatternExport(_t,tn.id)}},Ut.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Ut.parseExportSpecifiers=function(_t){var $t=[],Ft=!0;for(this.expect(mt.braceL);!this.eat(mt.braceR);){if(Ft)Ft=!1;else if(this.expect(mt.comma),this.afterTrailingComma(mt.braceR))break;var Bt=this.startNode();Bt.local=this.parseModuleExportName(),Bt.exported=this.eatContextual("as")?this.parseModuleExportName():Bt.local,this.checkExport(_t,Bt.exported,Bt.exported.start),$t.push(this.finishNode(Bt,"ExportSpecifier"))}return $t},Ut.parseImport=function(_t){return this.next(),this.type===mt.string?(_t.specifiers=On,_t.source=this.parseExprAtom()):(_t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),_t.source=this.type===mt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(_t,"ImportDeclaration")},Ut.parseImportSpecifiers=function(){var _t=[],$t=!0;if(this.type===mt.name){var Ft=this.startNode();if(Ft.local=this.parseIdent(),this.checkLValSimple(Ft.local,En),_t.push(this.finishNode(Ft,"ImportDefaultSpecifier")),!this.eat(mt.comma))return _t}if(this.type===mt.star){var Bt=this.startNode();return this.next(),this.expectContextual("as"),Bt.local=this.parseIdent(),this.checkLValSimple(Bt.local,En),_t.push(this.finishNode(Bt,"ImportNamespaceSpecifier")),_t}for(this.expect(mt.braceL);!this.eat(mt.braceR);){if($t)$t=!1;else if(this.expect(mt.comma),this.afterTrailingComma(mt.braceR))break;var tn=this.startNode();tn.imported=this.parseModuleExportName(),this.eatContextual("as")?tn.local=this.parseIdent():(this.checkUnreserved(tn.imported),tn.local=tn.imported),this.checkLValSimple(tn.local,En),_t.push(this.finishNode(tn,"ImportSpecifier"))}return _t},Ut.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===mt.string){var _t=this.parseLiteral(this.value);return Xt.test(_t.value)&&this.raise(_t.start,"An export name cannot include a lone surrogate."),_t}return this.parseIdent(!0)},Ut.adaptDirectivePrologue=function(_t){for(var $t=0;$t<_t.length&&this.isDirectiveCandidate(_t[$t]);++$t)_t[$t].directive=_t[$t].expression.raw.slice(1,-1)},Ut.isDirectiveCandidate=function(_t){return this.options.ecmaVersion>=5&&_t.type==="ExpressionStatement"&&_t.expression.type==="Literal"&&typeof _t.expression.value=="string"&&(this.input[_t.start]==='"'||this.input[_t.start]==="'")};var Mn=Hn.prototype;Mn.toAssignable=function(_t,$t,Ft){if(this.options.ecmaVersion>=6&&_t)switch(_t.type){case"Identifier":this.inAsync&&_t.name==="await"&&this.raise(_t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":_t.type="ObjectPattern",Ft&&this.checkPatternErrors(Ft,!0);for(var Bt=0,tn=_t.properties;Bt<tn.length;Bt+=1){var yn=tn[Bt];this.toAssignable(yn,$t),yn.type==="RestElement"&&(yn.argument.type==="ArrayPattern"||yn.argument.type==="ObjectPattern")&&this.raise(yn.argument.start,"Unexpected token")}break;case"Property":_t.kind!=="init"&&this.raise(_t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(_t.value,$t);break;case"ArrayExpression":_t.type="ArrayPattern",Ft&&this.checkPatternErrors(Ft,!0),this.toAssignableList(_t.elements,$t);break;case"SpreadElement":_t.type="RestElement",this.toAssignable(_t.argument,$t),_t.argument.type==="AssignmentPattern"&&this.raise(_t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":_t.operator!=="="&&this.raise(_t.left.end,"Only '=' operator can be used for specifying default value."),_t.type="AssignmentPattern",delete _t.operator,this.toAssignable(_t.left,$t);break;case"ParenthesizedExpression":this.toAssignable(_t.expression,$t,Ft);break;case"ChainExpression":this.raiseRecoverable(_t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!$t)break;default:this.raise(_t.start,"Assigning to rvalue")}else Ft&&this.checkPatternErrors(Ft,!0);return _t},Mn.toAssignableList=function(_t,$t){for(var Ft=_t.length,Bt=0;Bt<Ft;Bt++){var tn=_t[Bt];tn&&this.toAssignable(tn,$t)}if(Ft){var yn=_t[Ft-1];this.options.ecmaVersion===6&&$t&&yn&&yn.type==="RestElement"&&yn.argument.type!=="Identifier"&&this.unexpected(yn.argument.start)}return _t},Mn.parseSpread=function(_t){var $t=this.startNode();return this.next(),$t.argument=this.parseMaybeAssign(!1,_t),this.finishNode($t,"SpreadElement")},Mn.parseRestBinding=function(){var _t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==mt.name&&this.unexpected(),_t.argument=this.parseBindingAtom(),this.finishNode(_t,"RestElement")},Mn.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case mt.bracketL:var _t=this.startNode();return this.next(),_t.elements=this.parseBindingList(mt.bracketR,!0,!0),this.finishNode(_t,"ArrayPattern");case mt.braceL:return this.parseObj(!0)}return this.parseIdent()},Mn.parseBindingList=function(_t,$t,Ft){for(var Bt=[],tn=!0;!this.eat(_t);)if(tn?tn=!1:this.expect(mt.comma),$t&&this.type===mt.comma)Bt.push(null);else{if(Ft&&this.afterTrailingComma(_t))break;if(this.type===mt.ellipsis){var yn=this.parseRestBinding();this.parseBindingListItem(yn),Bt.push(yn),this.type===mt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(_t);break}else{var Sn=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(Sn),Bt.push(Sn)}}return Bt},Mn.parseBindingListItem=function(_t){return _t},Mn.parseMaybeDefault=function(_t,$t,Ft){if(Ft=Ft||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(mt.eq))return Ft;var Bt=this.startNodeAt(_t,$t);return Bt.left=Ft,Bt.right=this.parseMaybeAssign(),this.finishNode(Bt,"AssignmentPattern")},Mn.checkLValSimple=function(_t,$t,Ft){$t===void 0&&($t=cr);var Bt=$t!==cr;switch(_t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(_t.name)&&this.raiseRecoverable(_t.start,(Bt?"Binding ":"Assigning to ")+_t.name+" in strict mode"),Bt&&($t===En&&_t.name==="let"&&this.raiseRecoverable(_t.start,"let is disallowed as a lexically bound name"),Ft&&(Mt(Ft,_t.name)&&this.raiseRecoverable(_t.start,"Argument name clash"),Ft[_t.name]=!0),$t!==dr&&this.declareName(_t.name,$t,_t.start));break;case"ChainExpression":this.raiseRecoverable(_t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":Bt&&this.raiseRecoverable(_t.start,"Binding member expression");break;case"ParenthesizedExpression":return Bt&&this.raiseRecoverable(_t.start,"Binding parenthesized expression"),this.checkLValSimple(_t.expression,$t,Ft);default:this.raise(_t.start,(Bt?"Binding":"Assigning to")+" rvalue")}},Mn.checkLValPattern=function(_t,$t,Ft){switch($t===void 0&&($t=cr),_t.type){case"ObjectPattern":for(var Bt=0,tn=_t.properties;Bt<tn.length;Bt+=1){var yn=tn[Bt];this.checkLValInnerPattern(yn,$t,Ft)}break;case"ArrayPattern":for(var Sn=0,Dn=_t.elements;Sn<Dn.length;Sn+=1){var Bn=Dn[Sn];Bn&&this.checkLValInnerPattern(Bn,$t,Ft)}break;default:this.checkLValSimple(_t,$t,Ft)}},Mn.checkLValInnerPattern=function(_t,$t,Ft){switch($t===void 0&&($t=cr),_t.type){case"Property":this.checkLValInnerPattern(_t.value,$t,Ft);break;case"AssignmentPattern":this.checkLValPattern(_t.left,$t,Ft);break;case"RestElement":this.checkLValPattern(_t.argument,$t,Ft);break;default:this.checkLValPattern(_t,$t,Ft)}};var Zn=function($t,Ft,Bt,tn,yn){this.token=$t,this.isExpr=!!Ft,this.preserveSpace=!!Bt,this.override=tn,this.generator=!!yn},Vn={b_stat:new Zn("{",!1),b_expr:new Zn("{",!0),b_tmpl:new Zn("${",!1),p_stat:new Zn("(",!1),p_expr:new Zn("(",!0),q_tmpl:new Zn("`",!0,!0,function(_t){return _t.tryReadTemplateToken()}),f_stat:new Zn("function",!1),f_expr:new Zn("function",!0),f_expr_gen:new Zn("function",!0,!1,null,!0),f_gen:new Zn("function",!1,!1,null,!0)},er=Hn.prototype;er.initialContext=function(){return[Vn.b_stat]},er.curContext=function(){return this.context[this.context.length-1]},er.braceIsBlock=function(_t){var $t=this.curContext();return $t===Vn.f_expr||$t===Vn.f_stat?!0:_t===mt.colon&&($t===Vn.b_stat||$t===Vn.b_expr)?!$t.isExpr:_t===mt._return||_t===mt.name&&this.exprAllowed?Tt.test(this.input.slice(this.lastTokEnd,this.start)):_t===mt._else||_t===mt.semi||_t===mt.eof||_t===mt.parenR||_t===mt.arrow?!0:_t===mt.braceL?$t===Vn.b_stat:_t===mt._var||_t===mt._const||_t===mt.name?!1:!this.exprAllowed},er.inGeneratorContext=function(){for(var _t=this.context.length-1;_t>=1;_t--){var $t=this.context[_t];if($t.token==="function")return $t.generator}return!1},er.updateContext=function(_t){var $t,Ft=this.type;Ft.keyword&&_t===mt.dot?this.exprAllowed=!1:($t=Ft.updateContext)?$t.call(this,_t):this.exprAllowed=Ft.beforeExpr},er.overrideContext=function(_t){this.curContext()!==_t&&(this.context[this.context.length-1]=_t)},mt.parenR.updateContext=mt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var _t=this.context.pop();_t===Vn.b_stat&&this.curContext().token==="function"&&(_t=this.context.pop()),this.exprAllowed=!_t.isExpr},mt.braceL.updateContext=function(_t){this.context.push(this.braceIsBlock(_t)?Vn.b_stat:Vn.b_expr),this.exprAllowed=!0},mt.dollarBraceL.updateContext=function(){this.context.push(Vn.b_tmpl),this.exprAllowed=!0},mt.parenL.updateContext=function(_t){var $t=_t===mt._if||_t===mt._for||_t===mt._with||_t===mt._while;this.context.push($t?Vn.p_stat:Vn.p_expr),this.exprAllowed=!0},mt.incDec.updateContext=function(){},mt._function.updateContext=mt._class.updateContext=function(_t){_t.beforeExpr&&_t!==mt._else&&!(_t===mt.semi&&this.curContext()!==Vn.p_stat)&&!(_t===mt._return&&Tt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((_t===mt.colon||_t===mt.braceL)&&this.curContext()===Vn.b_stat)?this.context.push(Vn.f_expr):this.context.push(Vn.f_stat),this.exprAllowed=!1},mt.backQuote.updateContext=function(){this.curContext()===Vn.q_tmpl?this.context.pop():this.context.push(Vn.q_tmpl),this.exprAllowed=!1},mt.star.updateContext=function(_t){if(_t===mt._function){var $t=this.context.length-1;this.context[$t]===Vn.f_expr?this.context[$t]=Vn.f_expr_gen:this.context[$t]=Vn.f_gen}this.exprAllowed=!0},mt.name.updateContext=function(_t){var $t=!1;this.options.ecmaVersion>=6&&_t!==mt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&($t=!0),this.exprAllowed=$t};var jn=Hn.prototype;jn.checkPropClash=function(_t,$t,Ft){if(!(this.options.ecmaVersion>=9&&_t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(_t.computed||_t.method||_t.shorthand))){var Bt=_t.key,tn;switch(Bt.type){case"Identifier":tn=Bt.name;break;case"Literal":tn=String(Bt.value);break;default:return}var yn=_t.kind;if(this.options.ecmaVersion>=6){tn==="__proto__"&&yn==="init"&&($t.proto&&(Ft?Ft.doubleProto<0&&(Ft.doubleProto=Bt.start):this.raiseRecoverable(Bt.start,"Redefinition of __proto__ property")),$t.proto=!0);return}tn="$"+tn;var Sn=$t[tn];if(Sn){var Dn;yn==="init"?Dn=this.strict&&Sn.init||Sn.get||Sn.set:Dn=Sn.init||Sn[yn],Dn&&this.raiseRecoverable(Bt.start,"Redefinition of property")}else Sn=$t[tn]={init:!1,get:!1,set:!1};Sn[yn]=!0}},jn.parseExpression=function(_t,$t){var Ft=this.start,Bt=this.startLoc,tn=this.parseMaybeAssign(_t,$t);if(this.type===mt.comma){var yn=this.startNodeAt(Ft,Bt);for(yn.expressions=[tn];this.eat(mt.comma);)yn.expressions.push(this.parseMaybeAssign(_t,$t));return this.finishNode(yn,"SequenceExpression")}return tn},jn.parseMaybeAssign=function(_t,$t,Ft){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(_t);this.exprAllowed=!1}var Bt=!1,tn=-1,yn=-1,Sn=-1;$t?(tn=$t.parenthesizedAssign,yn=$t.trailingComma,Sn=$t.doubleProto,$t.parenthesizedAssign=$t.trailingComma=-1):($t=new xr,Bt=!0);var Dn=this.start,Bn=this.startLoc;(this.type===mt.parenL||this.type===mt.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=_t==="await");var hr=this.parseMaybeConditional(_t,$t);if(Ft&&(hr=Ft.call(this,hr,Dn,Bn)),this.type.isAssign){var _r=this.startNodeAt(Dn,Bn);return _r.operator=this.value,this.type===mt.eq&&(hr=this.toAssignable(hr,!1,$t)),Bt||($t.parenthesizedAssign=$t.trailingComma=$t.doubleProto=-1),$t.shorthandAssign>=hr.start&&($t.shorthandAssign=-1),this.type===mt.eq?this.checkLValPattern(hr):this.checkLValSimple(hr),_r.left=hr,this.next(),_r.right=this.parseMaybeAssign(_t),Sn>-1&&($t.doubleProto=Sn),this.finishNode(_r,"AssignmentExpression")}else Bt&&this.checkExpressionErrors($t,!0);return tn>-1&&($t.parenthesizedAssign=tn),yn>-1&&($t.trailingComma=yn),hr},jn.parseMaybeConditional=function(_t,$t){var Ft=this.start,Bt=this.startLoc,tn=this.parseExprOps(_t,$t);if(this.checkExpressionErrors($t))return tn;if(this.eat(mt.question)){var yn=this.startNodeAt(Ft,Bt);return yn.test=tn,yn.consequent=this.parseMaybeAssign(),this.expect(mt.colon),yn.alternate=this.parseMaybeAssign(_t),this.finishNode(yn,"ConditionalExpression")}return tn},jn.parseExprOps=function(_t,$t){var Ft=this.start,Bt=this.startLoc,tn=this.parseMaybeUnary($t,!1,!1,_t);return this.checkExpressionErrors($t)||tn.start===Ft&&tn.type==="ArrowFunctionExpression"?tn:this.parseExprOp(tn,Ft,Bt,-1,_t)},jn.parseExprOp=function(_t,$t,Ft,Bt,tn){var yn=this.type.binop;if(yn!=null&&(!tn||this.type!==mt._in)&&yn>Bt){var Sn=this.type===mt.logicalOR||this.type===mt.logicalAND,Dn=this.type===mt.coalesce;Dn&&(yn=mt.logicalAND.binop);var Bn=this.value;this.next();var hr=this.start,_r=this.startLoc,Gr=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,tn),hr,_r,yn,tn),ws=this.buildBinary($t,Ft,_t,Gr,Bn,Sn||Dn);return(Sn&&this.type===mt.coalesce||Dn&&(this.type===mt.logicalOR||this.type===mt.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(ws,$t,Ft,Bt,tn)}return _t},jn.buildBinary=function(_t,$t,Ft,Bt,tn,yn){Bt.type==="PrivateIdentifier"&&this.raise(Bt.start,"Private identifier can only be left side of binary expression");var Sn=this.startNodeAt(_t,$t);return Sn.left=Ft,Sn.operator=tn,Sn.right=Bt,this.finishNode(Sn,yn?"LogicalExpression":"BinaryExpression")},jn.parseMaybeUnary=function(_t,$t,Ft,Bt){var tn=this.start,yn=this.startLoc,Sn;if(this.isContextual("await")&&this.canAwait)Sn=this.parseAwait(Bt),$t=!0;else if(this.type.prefix){var Dn=this.startNode(),Bn=this.type===mt.incDec;Dn.operator=this.value,Dn.prefix=!0,this.next(),Dn.argument=this.parseMaybeUnary(null,!0,Bn,Bt),this.checkExpressionErrors(_t,!0),Bn?this.checkLValSimple(Dn.argument):this.strict&&Dn.operator==="delete"&&Dn.argument.type==="Identifier"?this.raiseRecoverable(Dn.start,"Deleting local variable in strict mode"):Dn.operator==="delete"&&zn(Dn.argument)?this.raiseRecoverable(Dn.start,"Private fields can not be deleted"):$t=!0,Sn=this.finishNode(Dn,Bn?"UpdateExpression":"UnaryExpression")}else if(!$t&&this.type===mt.privateId)(Bt||this.privateNameStack.length===0)&&this.unexpected(),Sn=this.parsePrivateIdent(),this.type!==mt._in&&this.unexpected();else{if(Sn=this.parseExprSubscripts(_t,Bt),this.checkExpressionErrors(_t))return Sn;for(;this.type.postfix&&!this.canInsertSemicolon();){var hr=this.startNodeAt(tn,yn);hr.operator=this.value,hr.prefix=!1,hr.argument=Sn,this.checkLValSimple(Sn),this.next(),Sn=this.finishNode(hr,"UpdateExpression")}}if(!Ft&&this.eat(mt.starstar))if($t)this.unexpected(this.lastTokStart);else return this.buildBinary(tn,yn,Sn,this.parseMaybeUnary(null,!1,!1,Bt),"**",!1);else return Sn};function zn(_t){return _t.type==="MemberExpression"&&_t.property.type==="PrivateIdentifier"||_t.type==="ChainExpression"&&zn(_t.expression)}jn.parseExprSubscripts=function(_t,$t){var Ft=this.start,Bt=this.startLoc,tn=this.parseExprAtom(_t,$t);if(tn.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return tn;var yn=this.parseSubscripts(tn,Ft,Bt,!1,$t);return _t&&yn.type==="MemberExpression"&&(_t.parenthesizedAssign>=yn.start&&(_t.parenthesizedAssign=-1),_t.parenthesizedBind>=yn.start&&(_t.parenthesizedBind=-1),_t.trailingComma>=yn.start&&(_t.trailingComma=-1)),yn},jn.parseSubscripts=function(_t,$t,Ft,Bt,tn){for(var yn=this.options.ecmaVersion>=8&&_t.type==="Identifier"&&_t.name==="async"&&this.lastTokEnd===_t.end&&!this.canInsertSemicolon()&&_t.end-_t.start===5&&this.potentialArrowAt===_t.start,Sn=!1;;){var Dn=this.parseSubscript(_t,$t,Ft,Bt,yn,Sn,tn);if(Dn.optional&&(Sn=!0),Dn===_t||Dn.type==="ArrowFunctionExpression"){if(Sn){var Bn=this.startNodeAt($t,Ft);Bn.expression=Dn,Dn=this.finishNode(Bn,"ChainExpression")}return Dn}_t=Dn}},jn.parseSubscript=function(_t,$t,Ft,Bt,tn,yn,Sn){var Dn=this.options.ecmaVersion>=11,Bn=Dn&&this.eat(mt.questionDot);Bt&&Bn&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var hr=this.eat(mt.bracketL);if(hr||Bn&&this.type!==mt.parenL&&this.type!==mt.backQuote||this.eat(mt.dot)){var _r=this.startNodeAt($t,Ft);_r.object=_t,hr?(_r.property=this.parseExpression(),this.expect(mt.bracketR)):this.type===mt.privateId&&_t.type!=="Super"?_r.property=this.parsePrivateIdent():_r.property=this.parseIdent(this.options.allowReserved!=="never"),_r.computed=!!hr,Dn&&(_r.optional=Bn),_t=this.finishNode(_r,"MemberExpression")}else if(!Bt&&this.eat(mt.parenL)){var Gr=new xr,ws=this.yieldPos,Ts=this.awaitPos,_i=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Fs=this.parseExprList(mt.parenR,this.options.ecmaVersion>=8,!1,Gr);if(tn&&!Bn&&!this.canInsertSemicolon()&&this.eat(mt.arrow))return this.checkPatternErrors(Gr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=ws,this.awaitPos=Ts,this.awaitIdentPos=_i,this.parseArrowExpression(this.startNodeAt($t,Ft),Fs,!0,Sn);this.checkExpressionErrors(Gr,!0),this.yieldPos=ws||this.yieldPos,this.awaitPos=Ts||this.awaitPos,this.awaitIdentPos=_i||this.awaitIdentPos;var ps=this.startNodeAt($t,Ft);ps.callee=_t,ps.arguments=Fs,Dn&&(ps.optional=Bn),_t=this.finishNode(ps,"CallExpression")}else if(this.type===mt.backQuote){(Bn||yn)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var ms=this.startNodeAt($t,Ft);ms.tag=_t,ms.quasi=this.parseTemplate({isTagged:!0}),_t=this.finishNode(ms,"TaggedTemplateExpression")}return _t},jn.parseExprAtom=function(_t,$t){this.type===mt.slash&&this.readRegexp();var Ft,Bt=this.potentialArrowAt===this.start;switch(this.type){case mt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Ft=this.startNode(),this.next(),this.type===mt.parenL&&!this.allowDirectSuper&&this.raise(Ft.start,"super() call outside constructor of a subclass"),this.type!==mt.dot&&this.type!==mt.bracketL&&this.type!==mt.parenL&&this.unexpected(),this.finishNode(Ft,"Super");case mt._this:return Ft=this.startNode(),this.next(),this.finishNode(Ft,"ThisExpression");case mt.name:var tn=this.start,yn=this.startLoc,Sn=this.containsEsc,Dn=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Sn&&Dn.name==="async"&&!this.canInsertSemicolon()&&this.eat(mt._function))return this.overrideContext(Vn.f_expr),this.parseFunction(this.startNodeAt(tn,yn),0,!1,!0,$t);if(Bt&&!this.canInsertSemicolon()){if(this.eat(mt.arrow))return this.parseArrowExpression(this.startNodeAt(tn,yn),[Dn],!1,$t);if(this.options.ecmaVersion>=8&&Dn.name==="async"&&this.type===mt.name&&!Sn&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Dn=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(mt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(tn,yn),[Dn],!0,$t)}return Dn;case mt.regexp:var Bn=this.value;return Ft=this.parseLiteral(Bn.value),Ft.regex={pattern:Bn.pattern,flags:Bn.flags},Ft;case mt.num:case mt.string:return this.parseLiteral(this.value);case mt._null:case mt._true:case mt._false:return Ft=this.startNode(),Ft.value=this.type===mt._null?null:this.type===mt._true,Ft.raw=this.type.keyword,this.next(),this.finishNode(Ft,"Literal");case mt.parenL:var hr=this.start,_r=this.parseParenAndDistinguishExpression(Bt,$t);return _t&&(_t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(_r)&&(_t.parenthesizedAssign=hr),_t.parenthesizedBind<0&&(_t.parenthesizedBind=hr)),_r;case mt.bracketL:return Ft=this.startNode(),this.next(),Ft.elements=this.parseExprList(mt.bracketR,!0,!0,_t),this.finishNode(Ft,"ArrayExpression");case mt.braceL:return this.overrideContext(Vn.b_expr),this.parseObj(!1,_t);case mt._function:return Ft=this.startNode(),this.next(),this.parseFunction(Ft,0);case mt._class:return this.parseClass(this.startNode(),!1);case mt._new:return this.parseNew();case mt.backQuote:return this.parseTemplate();case mt._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},jn.parseExprImport=function(){var _t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var $t=this.parseIdent(!0);switch(this.type){case mt.parenL:return this.parseDynamicImport(_t);case mt.dot:return _t.meta=$t,this.parseImportMeta(_t);default:this.unexpected()}},jn.parseDynamicImport=function(_t){if(this.next(),_t.source=this.parseMaybeAssign(),!this.eat(mt.parenR)){var $t=this.start;this.eat(mt.comma)&&this.eat(mt.parenR)?this.raiseRecoverable($t,"Trailing comma is not allowed in import()"):this.unexpected($t)}return this.finishNode(_t,"ImportExpression")},jn.parseImportMeta=function(_t){this.next();var $t=this.containsEsc;return _t.property=this.parseIdent(!0),_t.property.name!=="meta"&&this.raiseRecoverable(_t.property.start,"The only valid meta property for import is 'import.meta'"),$t&&this.raiseRecoverable(_t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(_t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(_t,"MetaProperty")},jn.parseLiteral=function(_t){var $t=this.startNode();return $t.value=_t,$t.raw=this.input.slice(this.start,this.end),$t.raw.charCodeAt($t.raw.length-1)===110&&($t.bigint=$t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode($t,"Literal")},jn.parseParenExpression=function(){this.expect(mt.parenL);var _t=this.parseExpression();return this.expect(mt.parenR),_t},jn.parseParenAndDistinguishExpression=function(_t,$t){var Ft=this.start,Bt=this.startLoc,tn,yn=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Sn=this.start,Dn=this.startLoc,Bn=[],hr=!0,_r=!1,Gr=new xr,ws=this.yieldPos,Ts=this.awaitPos,_i;for(this.yieldPos=0,this.awaitPos=0;this.type!==mt.parenR;)if(hr?hr=!1:this.expect(mt.comma),yn&&this.afterTrailingComma(mt.parenR,!0)){_r=!0;break}else if(this.type===mt.ellipsis){_i=this.start,Bn.push(this.parseParenItem(this.parseRestBinding())),this.type===mt.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else Bn.push(this.parseMaybeAssign(!1,Gr,this.parseParenItem));var Fs=this.lastTokEnd,ps=this.lastTokEndLoc;if(this.expect(mt.parenR),_t&&!this.canInsertSemicolon()&&this.eat(mt.arrow))return this.checkPatternErrors(Gr,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=ws,this.awaitPos=Ts,this.parseParenArrowList(Ft,Bt,Bn,$t);(!Bn.length||_r)&&this.unexpected(this.lastTokStart),_i&&this.unexpected(_i),this.checkExpressionErrors(Gr,!0),this.yieldPos=ws||this.yieldPos,this.awaitPos=Ts||this.awaitPos,Bn.length>1?(tn=this.startNodeAt(Sn,Dn),tn.expressions=Bn,this.finishNodeAt(tn,"SequenceExpression",Fs,ps)):tn=Bn[0]}else tn=this.parseParenExpression();if(this.options.preserveParens){var ms=this.startNodeAt(Ft,Bt);return ms.expression=tn,this.finishNode(ms,"ParenthesizedExpression")}else return tn},jn.parseParenItem=function(_t){return _t},jn.parseParenArrowList=function(_t,$t,Ft,Bt){return this.parseArrowExpression(this.startNodeAt(_t,$t),Ft,!1,Bt)};var yr=[];jn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var _t=this.startNode(),$t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(mt.dot)){_t.meta=$t;var Ft=this.containsEsc;return _t.property=this.parseIdent(!0),_t.property.name!=="target"&&this.raiseRecoverable(_t.property.start,"The only valid meta property for new is 'new.target'"),Ft&&this.raiseRecoverable(_t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(_t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(_t,"MetaProperty")}var Bt=this.start,tn=this.startLoc,yn=this.type===mt._import;return _t.callee=this.parseSubscripts(this.parseExprAtom(),Bt,tn,!0,!1),yn&&_t.callee.type==="ImportExpression"&&this.raise(Bt,"Cannot use new with import()"),this.eat(mt.parenL)?_t.arguments=this.parseExprList(mt.parenR,this.options.ecmaVersion>=8,!1):_t.arguments=yr,this.finishNode(_t,"NewExpression")},jn.parseTemplateElement=function(_t){var $t=_t.isTagged,Ft=this.startNode();return this.type===mt.invalidTemplate?($t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Ft.value={raw:this.value,cooked:null}):Ft.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Ft.tail=this.type===mt.backQuote,this.finishNode(Ft,"TemplateElement")},jn.parseTemplate=function(_t){_t===void 0&&(_t={});var $t=_t.isTagged;$t===void 0&&($t=!1);var Ft=this.startNode();this.next(),Ft.expressions=[];var Bt=this.parseTemplateElement({isTagged:$t});for(Ft.quasis=[Bt];!Bt.tail;)this.type===mt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(mt.dollarBraceL),Ft.expressions.push(this.parseExpression()),this.expect(mt.braceR),Ft.quasis.push(Bt=this.parseTemplateElement({isTagged:$t}));return this.next(),this.finishNode(Ft,"TemplateLiteral")},jn.isAsyncProp=function(_t){return!_t.computed&&_t.key.type==="Identifier"&&_t.key.name==="async"&&(this.type===mt.name||this.type===mt.num||this.type===mt.string||this.type===mt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===mt.star)&&!Tt.test(this.input.slice(this.lastTokEnd,this.start))},jn.parseObj=function(_t,$t){var Ft=this.startNode(),Bt=!0,tn={};for(Ft.properties=[],this.next();!this.eat(mt.braceR);){if(Bt)Bt=!1;else if(this.expect(mt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(mt.braceR))break;var yn=this.parseProperty(_t,$t);_t||this.checkPropClash(yn,tn,$t),Ft.properties.push(yn)}return this.finishNode(Ft,_t?"ObjectPattern":"ObjectExpression")},jn.parseProperty=function(_t,$t){var Ft=this.startNode(),Bt,tn,yn,Sn;if(this.options.ecmaVersion>=9&&this.eat(mt.ellipsis))return _t?(Ft.argument=this.parseIdent(!1),this.type===mt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Ft,"RestElement")):(Ft.argument=this.parseMaybeAssign(!1,$t),this.type===mt.comma&&$t&&$t.trailingComma<0&&($t.trailingComma=this.start),this.finishNode(Ft,"SpreadElement"));this.options.ecmaVersion>=6&&(Ft.method=!1,Ft.shorthand=!1,(_t||$t)&&(yn=this.start,Sn=this.startLoc),_t||(Bt=this.eat(mt.star)));var Dn=this.containsEsc;return this.parsePropertyName(Ft),!_t&&!Dn&&this.options.ecmaVersion>=8&&!Bt&&this.isAsyncProp(Ft)?(tn=!0,Bt=this.options.ecmaVersion>=9&&this.eat(mt.star),this.parsePropertyName(Ft,$t)):tn=!1,this.parsePropertyValue(Ft,_t,Bt,tn,yn,Sn,$t,Dn),this.finishNode(Ft,"Property")},jn.parsePropertyValue=function(_t,$t,Ft,Bt,tn,yn,Sn,Dn){if((Ft||Bt)&&this.type===mt.colon&&this.unexpected(),this.eat(mt.colon))_t.value=$t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Sn),_t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===mt.parenL)$t&&this.unexpected(),_t.kind="init",_t.method=!0,_t.value=this.parseMethod(Ft,Bt);else if(!$t&&!Dn&&this.options.ecmaVersion>=5&&!_t.computed&&_t.key.type==="Identifier"&&(_t.key.name==="get"||_t.key.name==="set")&&this.type!==mt.comma&&this.type!==mt.braceR&&this.type!==mt.eq){(Ft||Bt)&&this.unexpected(),_t.kind=_t.key.name,this.parsePropertyName(_t),_t.value=this.parseMethod(!1);var Bn=_t.kind==="get"?0:1;if(_t.value.params.length!==Bn){var hr=_t.value.start;_t.kind==="get"?this.raiseRecoverable(hr,"getter should have no params"):this.raiseRecoverable(hr,"setter should have exactly one param")}else _t.kind==="set"&&_t.value.params[0].type==="RestElement"&&this.raiseRecoverable(_t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!_t.computed&&_t.key.type==="Identifier"?((Ft||Bt)&&this.unexpected(),this.checkUnreserved(_t.key),_t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=tn),_t.kind="init",$t?_t.value=this.parseMaybeDefault(tn,yn,this.copyNode(_t.key)):this.type===mt.eq&&Sn?(Sn.shorthandAssign<0&&(Sn.shorthandAssign=this.start),_t.value=this.parseMaybeDefault(tn,yn,this.copyNode(_t.key))):_t.value=this.copyNode(_t.key),_t.shorthand=!0):this.unexpected()},jn.parsePropertyName=function(_t){if(this.options.ecmaVersion>=6){if(this.eat(mt.bracketL))return _t.computed=!0,_t.key=this.parseMaybeAssign(),this.expect(mt.bracketR),_t.key;_t.computed=!1}return _t.key=this.type===mt.num||this.type===mt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},jn.initFunction=function(_t){_t.id=null,this.options.ecmaVersion>=6&&(_t.generator=_t.expression=!1),this.options.ecmaVersion>=8&&(_t.async=!1)},jn.parseMethod=function(_t,$t,Ft){var Bt=this.startNode(),tn=this.yieldPos,yn=this.awaitPos,Sn=this.awaitIdentPos;return this.initFunction(Bt),this.options.ecmaVersion>=6&&(Bt.generator=_t),this.options.ecmaVersion>=8&&(Bt.async=!!$t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ur($t,Bt.generator)|cn|(Ft?kn:0)),this.expect(mt.parenL),Bt.params=this.parseBindingList(mt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Bt,!1,!0,!1),this.yieldPos=tn,this.awaitPos=yn,this.awaitIdentPos=Sn,this.finishNode(Bt,"FunctionExpression")},jn.parseArrowExpression=function(_t,$t,Ft,Bt){var tn=this.yieldPos,yn=this.awaitPos,Sn=this.awaitIdentPos;return this.enterScope(ur(Ft,!1)|Qt),this.initFunction(_t),this.options.ecmaVersion>=8&&(_t.async=!!Ft),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,_t.params=this.toAssignableList($t,!0),this.parseFunctionBody(_t,!0,!1,Bt),this.yieldPos=tn,this.awaitPos=yn,this.awaitIdentPos=Sn,this.finishNode(_t,"ArrowFunctionExpression")},jn.parseFunctionBody=function(_t,$t,Ft,Bt){var tn=$t&&this.type!==mt.braceL,yn=this.strict,Sn=!1;if(tn)_t.body=this.parseMaybeAssign(Bt),_t.expression=!0,this.checkParams(_t,!1);else{var Dn=this.options.ecmaVersion>=7&&!this.isSimpleParamList(_t.params);(!yn||Dn)&&(Sn=this.strictDirective(this.end),Sn&&Dn&&this.raiseRecoverable(_t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Bn=this.labels;this.labels=[],Sn&&(this.strict=!0),this.checkParams(_t,!yn&&!Sn&&!$t&&!Ft&&this.isSimpleParamList(_t.params)),this.strict&&_t.id&&this.checkLValSimple(_t.id,dr),_t.body=this.parseBlock(!1,void 0,Sn&&!yn),_t.expression=!1,this.adaptDirectivePrologue(_t.body.body),this.labels=Bn}this.exitScope()},jn.isSimpleParamList=function(_t){for(var $t=0,Ft=_t;$t<Ft.length;$t+=1){var Bt=Ft[$t];if(Bt.type!=="Identifier")return!1}return!0},jn.checkParams=function(_t,$t){for(var Ft=Object.create(null),Bt=0,tn=_t.params;Bt<tn.length;Bt+=1){var yn=tn[Bt];this.checkLValInnerPattern(yn,Mr,$t?null:Ft)}},jn.parseExprList=function(_t,$t,Ft,Bt){for(var tn=[],yn=!0;!this.eat(_t);){if(yn)yn=!1;else if(this.expect(mt.comma),$t&&this.afterTrailingComma(_t))break;var Sn=void 0;Ft&&this.type===mt.comma?Sn=null:this.type===mt.ellipsis?(Sn=this.parseSpread(Bt),Bt&&this.type===mt.comma&&Bt.trailingComma<0&&(Bt.trailingComma=this.start)):Sn=this.parseMaybeAssign(!1,Bt),tn.push(Sn)}return tn},jn.checkUnreserved=function(_t){var $t=_t.start,Ft=_t.end,Bt=_t.name;if(this.inGenerator&&Bt==="yield"&&this.raiseRecoverable($t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Bt==="await"&&this.raiseRecoverable($t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&Bt==="arguments"&&this.raiseRecoverable($t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(Bt==="arguments"||Bt==="await")&&this.raise($t,"Cannot use "+Bt+" in class static initialization block"),this.keywords.test(Bt)&&this.raise($t,"Unexpected keyword '"+Bt+"'"),!(this.options.ecmaVersion<6&&this.input.slice($t,Ft).indexOf("\\")!==-1)){var tn=this.strict?this.reservedWordsStrict:this.reservedWords;tn.test(Bt)&&(!this.inAsync&&Bt==="await"&&this.raiseRecoverable($t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable($t,"The keyword '"+Bt+"' is reserved"))}},jn.parseIdent=function(_t,$t){var Ft=this.startNode();return this.type===mt.name?Ft.name=this.value:this.type.keyword?(Ft.name=this.type.keyword,(Ft.name==="class"||Ft.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!_t),this.finishNode(Ft,"Identifier"),_t||(this.checkUnreserved(Ft),Ft.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Ft.start)),Ft},jn.parsePrivateIdent=function(){var _t=this.startNode();return this.type===mt.privateId?_t.name=this.value:this.unexpected(),this.next(),this.finishNode(_t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(_t.start,"Private field '#"+_t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(_t),_t},jn.parseYield=function(_t){this.yieldPos||(this.yieldPos=this.start);var $t=this.startNode();return this.next(),this.type===mt.semi||this.canInsertSemicolon()||this.type!==mt.star&&!this.type.startsExpr?($t.delegate=!1,$t.argument=null):($t.delegate=this.eat(mt.star),$t.argument=this.parseMaybeAssign(_t)),this.finishNode($t,"YieldExpression")},jn.parseAwait=function(_t){this.awaitPos||(this.awaitPos=this.start);var $t=this.startNode();return this.next(),$t.argument=this.parseMaybeUnary(null,!0,!1,_t),this.finishNode($t,"AwaitExpression")};var ls=Hn.prototype;ls.raise=function(_t,$t){var Ft=Vt(this.input,_t);$t+=" ("+Ft.line+":"+Ft.column+")";var Bt=new SyntaxError($t);throw Bt.pos=_t,Bt.loc=Ft,Bt.raisedAt=this.pos,Bt},ls.raiseRecoverable=ls.raise,ls.curPosition=function(){if(this.options.locations)return new rn(this.curLine,this.pos-this.lineStart)};var Jr=Hn.prototype,_s=function($t){this.flags=$t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Jr.enterScope=function(_t){this.scopeStack.push(new _s(_t))},Jr.exitScope=function(){this.scopeStack.pop()},Jr.treatFunctionsAsVarInScope=function(_t){return _t.flags&wn||!this.inModule&&_t.flags&fn},Jr.declareName=function(_t,$t,Ft){var Bt=!1;if($t===En){var tn=this.currentScope();Bt=tn.lexical.indexOf(_t)>-1||tn.functions.indexOf(_t)>-1||tn.var.indexOf(_t)>-1,tn.lexical.push(_t),this.inModule&&tn.flags&fn&&delete this.undefinedExports[_t]}else if($t===Nn){var yn=this.currentScope();yn.lexical.push(_t)}else if($t===Kn){var Sn=this.currentScope();this.treatFunctionsAsVar?Bt=Sn.lexical.indexOf(_t)>-1:Bt=Sn.lexical.indexOf(_t)>-1||Sn.var.indexOf(_t)>-1,Sn.functions.push(_t)}else for(var Dn=this.scopeStack.length-1;Dn>=0;--Dn){var Bn=this.scopeStack[Dn];if(Bn.lexical.indexOf(_t)>-1&&!(Bn.flags&Gt&&Bn.lexical[0]===_t)||!this.treatFunctionsAsVarInScope(Bn)&&Bn.functions.indexOf(_t)>-1){Bt=!0;break}if(Bn.var.push(_t),this.inModule&&Bn.flags&fn&&delete this.undefinedExports[_t],Bn.flags&qn)break}Bt&&this.raiseRecoverable(Ft,"Identifier '"+_t+"' has already been declared")},Jr.checkLocalExport=function(_t){this.scopeStack[0].lexical.indexOf(_t.name)===-1&&this.scopeStack[0].var.indexOf(_t.name)===-1&&(this.undefinedExports[_t.name]=_t)},Jr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Jr.currentVarScope=function(){for(var _t=this.scopeStack.length-1;;_t--){var $t=this.scopeStack[_t];if($t.flags&qn)return $t}},Jr.currentThisScope=function(){for(var _t=this.scopeStack.length-1;;_t--){var $t=this.scopeStack[_t];if($t.flags&qn&&!($t.flags&Qt))return $t}};var Rs=function($t,Ft,Bt){this.type="",this.start=Ft,this.end=0,$t.options.locations&&(this.loc=new jt($t,Bt)),$t.options.directSourceFile&&(this.sourceFile=$t.options.directSourceFile),$t.options.ranges&&(this.range=[Ft,0])},Yr=Hn.prototype;Yr.startNode=function(){return new Rs(this,this.start,this.startLoc)},Yr.startNodeAt=function(_t,$t){return new Rs(this,_t,$t)};function Is(_t,$t,Ft,Bt){return _t.type=$t,_t.end=Ft,this.options.locations&&(_t.loc.end=Bt),this.options.ranges&&(_t.range[1]=Ft),_t}Yr.finishNode=function(_t,$t){return Is.call(this,_t,$t,this.lastTokEnd,this.lastTokEndLoc)},Yr.finishNodeAt=function(_t,$t,Ft,Bt){return Is.call(this,_t,$t,Ft,Bt)},Yr.copyNode=function(_t){var $t=new Rs(this,_t.start,this.startLoc);for(var Ft in _t)$t[Ft]=_t[Ft];return $t};var Zs="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Ls=Zs+" Extended_Pictographic",Js=Ls,zs=Js+" EBase EComp EMod EPres ExtPict",qr=zs,na={9:Zs,10:Ls,11:Js,12:zs,13:qr},tr="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",rs="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ms=rs+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ga=Ms+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Wr=ga+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",fo=Wr+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",no={9:rs,10:Ms,11:ga,12:Wr,13:fo},ro={};function po(_t){var $t=ro[_t]={binary:Pt(na[_t]+" "+tr),nonBinary:{General_Category:Pt(tr),Script:Pt(no[_t])}};$t.nonBinary.Script_Extensions=$t.nonBinary.Script,$t.nonBinary.gc=$t.nonBinary.General_Category,$t.nonBinary.sc=$t.nonBinary.Script,$t.nonBinary.scx=$t.nonBinary.Script_Extensions}for(var Us=0,hs=[9,10,11,12,13];Us<hs.length;Us+=1){var us=hs[Us];po(us)}var nr=Hn.prototype,jr=function($t){this.parser=$t,this.validFlags="gim"+($t.options.ecmaVersion>=6?"uy":"")+($t.options.ecmaVersion>=9?"s":"")+($t.options.ecmaVersion>=13?"d":""),this.unicodeProperties=ro[$t.options.ecmaVersion>=13?13:$t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};jr.prototype.reset=function($t,Ft,Bt){var tn=Bt.indexOf("u")!==-1;this.start=$t|0,this.source=Ft+"",this.flags=Bt,this.switchU=tn&&this.parser.options.ecmaVersion>=6,this.switchN=tn&&this.parser.options.ecmaVersion>=9},jr.prototype.raise=function($t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+$t)},jr.prototype.at=function($t,Ft){Ft===void 0&&(Ft=!1);var Bt=this.source,tn=Bt.length;if($t>=tn)return-1;var yn=Bt.charCodeAt($t);if(!(Ft||this.switchU)||yn<=55295||yn>=57344||$t+1>=tn)return yn;var Sn=Bt.charCodeAt($t+1);return Sn>=56320&&Sn<=57343?(yn<<10)+Sn-56613888:yn},jr.prototype.nextIndex=function($t,Ft){Ft===void 0&&(Ft=!1);var Bt=this.source,tn=Bt.length;if($t>=tn)return tn;var yn=Bt.charCodeAt($t),Sn;return!(Ft||this.switchU)||yn<=55295||yn>=57344||$t+1>=tn||(Sn=Bt.charCodeAt($t+1))<56320||Sn>57343?$t+1:$t+2},jr.prototype.current=function($t){return $t===void 0&&($t=!1),this.at(this.pos,$t)},jr.prototype.lookahead=function($t){return $t===void 0&&($t=!1),this.at(this.nextIndex(this.pos,$t),$t)},jr.prototype.advance=function($t){$t===void 0&&($t=!1),this.pos=this.nextIndex(this.pos,$t)},jr.prototype.eat=function($t,Ft){return Ft===void 0&&(Ft=!1),this.current(Ft)===$t?(this.advance(Ft),!0):!1},nr.validateRegExpFlags=function(_t){for(var $t=_t.validFlags,Ft=_t.flags,Bt=0;Bt<Ft.length;Bt++){var tn=Ft.charAt(Bt);$t.indexOf(tn)===-1&&this.raise(_t.start,"Invalid regular expression flag"),Ft.indexOf(tn,Bt+1)>-1&&this.raise(_t.start,"Duplicate regular expression flag")}},nr.validateRegExpPattern=function(_t){this.regexp_pattern(_t),!_t.switchN&&this.options.ecmaVersion>=9&&_t.groupNames.length>0&&(_t.switchN=!0,this.regexp_pattern(_t))},nr.regexp_pattern=function(_t){_t.pos=0,_t.lastIntValue=0,_t.lastStringValue="",_t.lastAssertionIsQuantifiable=!1,_t.numCapturingParens=0,_t.maxBackReference=0,_t.groupNames.length=0,_t.backReferenceNames.length=0,this.regexp_disjunction(_t),_t.pos!==_t.source.length&&(_t.eat(41)&&_t.raise("Unmatched ')'"),(_t.eat(93)||_t.eat(125))&&_t.raise("Lone quantifier brackets")),_t.maxBackReference>_t.numCapturingParens&&_t.raise("Invalid escape");for(var $t=0,Ft=_t.backReferenceNames;$t<Ft.length;$t+=1){var Bt=Ft[$t];_t.groupNames.indexOf(Bt)===-1&&_t.raise("Invalid named capture referenced")}},nr.regexp_disjunction=function(_t){for(this.regexp_alternative(_t);_t.eat(124);)this.regexp_alternative(_t);this.regexp_eatQuantifier(_t,!0)&&_t.raise("Nothing to repeat"),_t.eat(123)&&_t.raise("Lone quantifier brackets")},nr.regexp_alternative=function(_t){for(;_t.pos<_t.source.length&&this.regexp_eatTerm(_t););},nr.regexp_eatTerm=function(_t){return this.regexp_eatAssertion(_t)?(_t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(_t)&&_t.switchU&&_t.raise("Invalid quantifier"),!0):(_t.switchU?this.regexp_eatAtom(_t):this.regexp_eatExtendedAtom(_t))?(this.regexp_eatQuantifier(_t),!0):!1},nr.regexp_eatAssertion=function(_t){var $t=_t.pos;if(_t.lastAssertionIsQuantifiable=!1,_t.eat(94)||_t.eat(36))return!0;if(_t.eat(92)){if(_t.eat(66)||_t.eat(98))return!0;_t.pos=$t}if(_t.eat(40)&&_t.eat(63)){var Ft=!1;if(this.options.ecmaVersion>=9&&(Ft=_t.eat(60)),_t.eat(61)||_t.eat(33))return this.regexp_disjunction(_t),_t.eat(41)||_t.raise("Unterminated group"),_t.lastAssertionIsQuantifiable=!Ft,!0}return _t.pos=$t,!1},nr.regexp_eatQuantifier=function(_t,$t){return $t===void 0&&($t=!1),this.regexp_eatQuantifierPrefix(_t,$t)?(_t.eat(63),!0):!1},nr.regexp_eatQuantifierPrefix=function(_t,$t){return _t.eat(42)||_t.eat(43)||_t.eat(63)||this.regexp_eatBracedQuantifier(_t,$t)},nr.regexp_eatBracedQuantifier=function(_t,$t){var Ft=_t.pos;if(_t.eat(123)){var Bt=0,tn=-1;if(this.regexp_eatDecimalDigits(_t)&&(Bt=_t.lastIntValue,_t.eat(44)&&this.regexp_eatDecimalDigits(_t)&&(tn=_t.lastIntValue),_t.eat(125)))return tn!==-1&&tn<Bt&&!$t&&_t.raise("numbers out of order in {} quantifier"),!0;_t.switchU&&!$t&&_t.raise("Incomplete quantifier"),_t.pos=Ft}return!1},nr.regexp_eatAtom=function(_t){return this.regexp_eatPatternCharacters(_t)||_t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_t)||this.regexp_eatCharacterClass(_t)||this.regexp_eatUncapturingGroup(_t)||this.regexp_eatCapturingGroup(_t)},nr.regexp_eatReverseSolidusAtomEscape=function(_t){var $t=_t.pos;if(_t.eat(92)){if(this.regexp_eatAtomEscape(_t))return!0;_t.pos=$t}return!1},nr.regexp_eatUncapturingGroup=function(_t){var $t=_t.pos;if(_t.eat(40)){if(_t.eat(63)&&_t.eat(58)){if(this.regexp_disjunction(_t),_t.eat(41))return!0;_t.raise("Unterminated group")}_t.pos=$t}return!1},nr.regexp_eatCapturingGroup=function(_t){if(_t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(_t):_t.current()===63&&_t.raise("Invalid group"),this.regexp_disjunction(_t),_t.eat(41))return _t.numCapturingParens+=1,!0;_t.raise("Unterminated group")}return!1},nr.regexp_eatExtendedAtom=function(_t){return _t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_t)||this.regexp_eatCharacterClass(_t)||this.regexp_eatUncapturingGroup(_t)||this.regexp_eatCapturingGroup(_t)||this.regexp_eatInvalidBracedQuantifier(_t)||this.regexp_eatExtendedPatternCharacter(_t)},nr.regexp_eatInvalidBracedQuantifier=function(_t){return this.regexp_eatBracedQuantifier(_t,!0)&&_t.raise("Nothing to repeat"),!1},nr.regexp_eatSyntaxCharacter=function(_t){var $t=_t.current();return Ps($t)?(_t.lastIntValue=$t,_t.advance(),!0):!1};function Ps(_t){return _t===36||_t>=40&&_t<=43||_t===46||_t===63||_t>=91&&_t<=94||_t>=123&&_t<=125}nr.regexp_eatPatternCharacters=function(_t){for(var $t=_t.pos,Ft=0;(Ft=_t.current())!==-1&&!Ps(Ft);)_t.advance();return _t.pos!==$t},nr.regexp_eatExtendedPatternCharacter=function(_t){var $t=_t.current();return $t!==-1&&$t!==36&&!($t>=40&&$t<=43)&&$t!==46&&$t!==63&&$t!==91&&$t!==94&&$t!==124?(_t.advance(),!0):!1},nr.regexp_groupSpecifier=function(_t){if(_t.eat(63)){if(this.regexp_eatGroupName(_t)){_t.groupNames.indexOf(_t.lastStringValue)!==-1&&_t.raise("Duplicate capture group name"),_t.groupNames.push(_t.lastStringValue);return}_t.raise("Invalid group")}},nr.regexp_eatGroupName=function(_t){if(_t.lastStringValue="",_t.eat(60)){if(this.regexp_eatRegExpIdentifierName(_t)&&_t.eat(62))return!0;_t.raise("Invalid capture group name")}return!1},nr.regexp_eatRegExpIdentifierName=function(_t){if(_t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(_t)){for(_t.lastStringValue+=Ot(_t.lastIntValue);this.regexp_eatRegExpIdentifierPart(_t);)_t.lastStringValue+=Ot(_t.lastIntValue);return!0}return!1},nr.regexp_eatRegExpIdentifierStart=function(_t){var $t=_t.pos,Ft=this.options.ecmaVersion>=11,Bt=_t.current(Ft);return _t.advance(Ft),Bt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(_t,Ft)&&(Bt=_t.lastIntValue),Ws(Bt)?(_t.lastIntValue=Bt,!0):(_t.pos=$t,!1)};function Ws(_t){return st(_t,!0)||_t===36||_t===95}nr.regexp_eatRegExpIdentifierPart=function(_t){var $t=_t.pos,Ft=this.options.ecmaVersion>=11,Bt=_t.current(Ft);return _t.advance(Ft),Bt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(_t,Ft)&&(Bt=_t.lastIntValue),gr(Bt)?(_t.lastIntValue=Bt,!0):(_t.pos=$t,!1)};function gr(_t){return lt(_t,!0)||_t===36||_t===95||_t===8204||_t===8205}nr.regexp_eatAtomEscape=function(_t){return this.regexp_eatBackReference(_t)||this.regexp_eatCharacterClassEscape(_t)||this.regexp_eatCharacterEscape(_t)||_t.switchN&&this.regexp_eatKGroupName(_t)?!0:(_t.switchU&&(_t.current()===99&&_t.raise("Invalid unicode escape"),_t.raise("Invalid escape")),!1)},nr.regexp_eatBackReference=function(_t){var $t=_t.pos;if(this.regexp_eatDecimalEscape(_t)){var Ft=_t.lastIntValue;if(_t.switchU)return Ft>_t.maxBackReference&&(_t.maxBackReference=Ft),!0;if(Ft<=_t.numCapturingParens)return!0;_t.pos=$t}return!1},nr.regexp_eatKGroupName=function(_t){if(_t.eat(107)){if(this.regexp_eatGroupName(_t))return _t.backReferenceNames.push(_t.lastStringValue),!0;_t.raise("Invalid named reference")}return!1},nr.regexp_eatCharacterEscape=function(_t){return this.regexp_eatControlEscape(_t)||this.regexp_eatCControlLetter(_t)||this.regexp_eatZero(_t)||this.regexp_eatHexEscapeSequence(_t)||this.regexp_eatRegExpUnicodeEscapeSequence(_t,!1)||!_t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(_t)||this.regexp_eatIdentityEscape(_t)},nr.regexp_eatCControlLetter=function(_t){var $t=_t.pos;if(_t.eat(99)){if(this.regexp_eatControlLetter(_t))return!0;_t.pos=$t}return!1},nr.regexp_eatZero=function(_t){return _t.current()===48&&!js(_t.lookahead())?(_t.lastIntValue=0,_t.advance(),!0):!1},nr.regexp_eatControlEscape=function(_t){var $t=_t.current();return $t===116?(_t.lastIntValue=9,_t.advance(),!0):$t===110?(_t.lastIntValue=10,_t.advance(),!0):$t===118?(_t.lastIntValue=11,_t.advance(),!0):$t===102?(_t.lastIntValue=12,_t.advance(),!0):$t===114?(_t.lastIntValue=13,_t.advance(),!0):!1},nr.regexp_eatControlLetter=function(_t){var $t=_t.current();return Ss($t)?(_t.lastIntValue=$t%32,_t.advance(),!0):!1};function Ss(_t){return _t>=65&&_t<=90||_t>=97&&_t<=122}nr.regexp_eatRegExpUnicodeEscapeSequence=function(_t,$t){$t===void 0&&($t=!1);var Ft=_t.pos,Bt=$t||_t.switchU;if(_t.eat(117)){if(this.regexp_eatFixedHexDigits(_t,4)){var tn=_t.lastIntValue;if(Bt&&tn>=55296&&tn<=56319){var yn=_t.pos;if(_t.eat(92)&&_t.eat(117)&&this.regexp_eatFixedHexDigits(_t,4)){var Sn=_t.lastIntValue;if(Sn>=56320&&Sn<=57343)return _t.lastIntValue=(tn-55296)*1024+(Sn-56320)+65536,!0}_t.pos=yn,_t.lastIntValue=tn}return!0}if(Bt&&_t.eat(123)&&this.regexp_eatHexDigits(_t)&&_t.eat(125)&&xa(_t.lastIntValue))return!0;Bt&&_t.raise("Invalid unicode escape"),_t.pos=Ft}return!1};function xa(_t){return _t>=0&&_t<=1114111}nr.regexp_eatIdentityEscape=function(_t){if(_t.switchU)return this.regexp_eatSyntaxCharacter(_t)?!0:_t.eat(47)?(_t.lastIntValue=47,!0):!1;var $t=_t.current();return $t!==99&&(!_t.switchN||$t!==107)?(_t.lastIntValue=$t,_t.advance(),!0):!1},nr.regexp_eatDecimalEscape=function(_t){_t.lastIntValue=0;var $t=_t.current();if($t>=49&&$t<=57){do _t.lastIntValue=10*_t.lastIntValue+($t-48),_t.advance();while(($t=_t.current())>=48&&$t<=57);return!0}return!1},nr.regexp_eatCharacterClassEscape=function(_t){var $t=_t.current();if(is($t))return _t.lastIntValue=-1,_t.advance(),!0;if(_t.switchU&&this.options.ecmaVersion>=9&&($t===80||$t===112)){if(_t.lastIntValue=-1,_t.advance(),_t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(_t)&&_t.eat(125))return!0;_t.raise("Invalid property name")}return!1};function is(_t){return _t===100||_t===68||_t===115||_t===83||_t===119||_t===87}nr.regexp_eatUnicodePropertyValueExpression=function(_t){var $t=_t.pos;if(this.regexp_eatUnicodePropertyName(_t)&&_t.eat(61)){var Ft=_t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(_t)){var Bt=_t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(_t,Ft,Bt),!0}}if(_t.pos=$t,this.regexp_eatLoneUnicodePropertyNameOrValue(_t)){var tn=_t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(_t,tn),!0}return!1},nr.regexp_validateUnicodePropertyNameAndValue=function(_t,$t,Ft){Mt(_t.unicodeProperties.nonBinary,$t)||_t.raise("Invalid property name"),_t.unicodeProperties.nonBinary[$t].test(Ft)||_t.raise("Invalid property value")},nr.regexp_validateUnicodePropertyNameOrValue=function(_t,$t){_t.unicodeProperties.binary.test($t)||_t.raise("Invalid property name")},nr.regexp_eatUnicodePropertyName=function(_t){var $t=0;for(_t.lastStringValue="";io($t=_t.current());)_t.lastStringValue+=Ot($t),_t.advance();return _t.lastStringValue!==""};function io(_t){return Ss(_t)||_t===95}nr.regexp_eatUnicodePropertyValue=function(_t){var $t=0;for(_t.lastStringValue="";so($t=_t.current());)_t.lastStringValue+=Ot($t),_t.advance();return _t.lastStringValue!==""};function so(_t){return io(_t)||js(_t)}nr.regexp_eatLoneUnicodePropertyNameOrValue=function(_t){return this.regexp_eatUnicodePropertyValue(_t)},nr.regexp_eatCharacterClass=function(_t){if(_t.eat(91)){if(_t.eat(94),this.regexp_classRanges(_t),_t.eat(93))return!0;_t.raise("Unterminated character class")}return!1},nr.regexp_classRanges=function(_t){for(;this.regexp_eatClassAtom(_t);){var $t=_t.lastIntValue;if(_t.eat(45)&&this.regexp_eatClassAtom(_t)){var Ft=_t.lastIntValue;_t.switchU&&($t===-1||Ft===-1)&&_t.raise("Invalid character class"),$t!==-1&&Ft!==-1&&$t>Ft&&_t.raise("Range out of order in character class")}}},nr.regexp_eatClassAtom=function(_t){var $t=_t.pos;if(_t.eat(92)){if(this.regexp_eatClassEscape(_t))return!0;if(_t.switchU){var Ft=_t.current();(Ft===99||Dt(Ft))&&_t.raise("Invalid class escape"),_t.raise("Invalid escape")}_t.pos=$t}var Bt=_t.current();return Bt!==93?(_t.lastIntValue=Bt,_t.advance(),!0):!1},nr.regexp_eatClassEscape=function(_t){var $t=_t.pos;if(_t.eat(98))return _t.lastIntValue=8,!0;if(_t.switchU&&_t.eat(45))return _t.lastIntValue=45,!0;if(!_t.switchU&&_t.eat(99)){if(this.regexp_eatClassControlLetter(_t))return!0;_t.pos=$t}return this.regexp_eatCharacterClassEscape(_t)||this.regexp_eatCharacterEscape(_t)},nr.regexp_eatClassControlLetter=function(_t){var $t=_t.current();return js($t)||$t===95?(_t.lastIntValue=$t%32,_t.advance(),!0):!1},nr.regexp_eatHexEscapeSequence=function(_t){var $t=_t.pos;if(_t.eat(120)){if(this.regexp_eatFixedHexDigits(_t,2))return!0;_t.switchU&&_t.raise("Invalid escape"),_t.pos=$t}return!1},nr.regexp_eatDecimalDigits=function(_t){var $t=_t.pos,Ft=0;for(_t.lastIntValue=0;js(Ft=_t.current());)_t.lastIntValue=10*_t.lastIntValue+(Ft-48),_t.advance();return _t.pos!==$t};function js(_t){return _t>=48&&_t<=57}nr.regexp_eatHexDigits=function(_t){var $t=_t.pos,Ft=0;for(_t.lastIntValue=0;St(Ft=_t.current());)_t.lastIntValue=16*_t.lastIntValue+At(Ft),_t.advance();return _t.pos!==$t};function St(_t){return _t>=48&&_t<=57||_t>=65&&_t<=70||_t>=97&&_t<=102}function At(_t){return _t>=65&&_t<=70?10+(_t-65):_t>=97&&_t<=102?10+(_t-97):_t-48}nr.regexp_eatLegacyOctalEscapeSequence=function(_t){if(this.regexp_eatOctalDigit(_t)){var $t=_t.lastIntValue;if(this.regexp_eatOctalDigit(_t)){var Ft=_t.lastIntValue;$t<=3&&this.regexp_eatOctalDigit(_t)?_t.lastIntValue=$t*64+Ft*8+_t.lastIntValue:_t.lastIntValue=$t*8+Ft}else _t.lastIntValue=$t;return!0}return!1},nr.regexp_eatOctalDigit=function(_t){var $t=_t.current();return Dt($t)?(_t.lastIntValue=$t-48,_t.advance(),!0):(_t.lastIntValue=0,!1)};function Dt(_t){return _t>=48&&_t<=55}nr.regexp_eatFixedHexDigits=function(_t,$t){var Ft=_t.pos;_t.lastIntValue=0;for(var Bt=0;Bt<$t;++Bt){var tn=_t.current();if(!St(tn))return _t.pos=Ft,!1;_t.lastIntValue=16*_t.lastIntValue+At(tn),_t.advance()}return!0};var Kt=function($t){this.type=$t.type,this.value=$t.value,this.start=$t.start,this.end=$t.end,$t.options.locations&&(this.loc=new jt($t,$t.startLoc,$t.endLoc)),$t.options.ranges&&(this.range=[$t.start,$t.end])},Zt=Hn.prototype;Zt.next=function(_t){!_t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Kt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Zt.getToken=function(){return this.next(),new Kt(this)},typeof Symbol<"u"&&(Zt[Symbol.iterator]=function(){var _t=this;return{next:function(){var $t=_t.getToken();return{done:$t.type===mt.eof,value:$t}}}}),Zt.nextToken=function(){var _t=this.curContext();if((!_t||!_t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(mt.eof);if(_t.override)return _t.override(this);this.readToken(this.fullCharCodeAtPos())},Zt.readToken=function(_t){return st(_t,this.options.ecmaVersion>=6)||_t===92?this.readWord():this.getTokenFromCode(_t)},Zt.fullCharCodeAtPos=function(){var _t=this.input.charCodeAt(this.pos);if(_t<=55295||_t>=56320)return _t;var $t=this.input.charCodeAt(this.pos+1);return $t<=56319||$t>=57344?_t:(_t<<10)+$t-56613888},Zt.skipBlockComment=function(){var _t=this.options.onComment&&this.curPosition(),$t=this.pos,Ft=this.input.indexOf("*/",this.pos+=2);if(Ft===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Ft+2,this.options.locations)for(var Bt=void 0,tn=$t;(Bt=xt(this.input,tn,this.pos))>-1;)++this.curLine,tn=this.lineStart=Bt;this.options.onComment&&this.options.onComment(!0,this.input.slice($t+2,Ft),$t,this.pos,_t,this.curPosition())},Zt.skipLineComment=function(_t){for(var $t=this.pos,Ft=this.options.onComment&&this.curPosition(),Bt=this.input.charCodeAt(this.pos+=_t);this.pos<this.input.length&&!ht(Bt);)Bt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice($t+_t,this.pos),$t,this.pos,Ft,this.curPosition())},Zt.skipSpace=function(){e:for(;this.pos<this.input.length;){var _t=this.input.charCodeAt(this.pos);switch(_t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(_t>8&&_t<14||_t>=5760&&wt.test(String.fromCharCode(_t)))++this.pos;else break e}}},Zt.finishToken=function(_t,$t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Ft=this.type;this.type=_t,this.value=$t,this.updateContext(Ft)},Zt.readToken_dot=function(){var _t=this.input.charCodeAt(this.pos+1);if(_t>=48&&_t<=57)return this.readNumber(!0);var $t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&_t===46&&$t===46?(this.pos+=3,this.finishToken(mt.ellipsis)):(++this.pos,this.finishToken(mt.dot))},Zt.readToken_slash=function(){var _t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):_t===61?this.finishOp(mt.assign,2):this.finishOp(mt.slash,1)},Zt.readToken_mult_modulo_exp=function(_t){var $t=this.input.charCodeAt(this.pos+1),Ft=1,Bt=_t===42?mt.star:mt.modulo;return this.options.ecmaVersion>=7&&_t===42&&$t===42&&(++Ft,Bt=mt.starstar,$t=this.input.charCodeAt(this.pos+2)),$t===61?this.finishOp(mt.assign,Ft+1):this.finishOp(Bt,Ft)},Zt.readToken_pipe_amp=function(_t){var $t=this.input.charCodeAt(this.pos+1);if($t===_t){if(this.options.ecmaVersion>=12){var Ft=this.input.charCodeAt(this.pos+2);if(Ft===61)return this.finishOp(mt.assign,3)}return this.finishOp(_t===124?mt.logicalOR:mt.logicalAND,2)}return $t===61?this.finishOp(mt.assign,2):this.finishOp(_t===124?mt.bitwiseOR:mt.bitwiseAND,1)},Zt.readToken_caret=function(){var _t=this.input.charCodeAt(this.pos+1);return _t===61?this.finishOp(mt.assign,2):this.finishOp(mt.bitwiseXOR,1)},Zt.readToken_plus_min=function(_t){var $t=this.input.charCodeAt(this.pos+1);return $t===_t?$t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Tt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(mt.incDec,2):$t===61?this.finishOp(mt.assign,2):this.finishOp(mt.plusMin,1)},Zt.readToken_lt_gt=function(_t){var $t=this.input.charCodeAt(this.pos+1),Ft=1;return $t===_t?(Ft=_t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Ft)===61?this.finishOp(mt.assign,Ft+1):this.finishOp(mt.bitShift,Ft)):$t===33&&_t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):($t===61&&(Ft=2),this.finishOp(mt.relational,Ft))},Zt.readToken_eq_excl=function(_t){var $t=this.input.charCodeAt(this.pos+1);return $t===61?this.finishOp(mt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):_t===61&&$t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(mt.arrow)):this.finishOp(_t===61?mt.eq:mt.prefix,1)},Zt.readToken_question=function(){var _t=this.options.ecmaVersion;if(_t>=11){var $t=this.input.charCodeAt(this.pos+1);if($t===46){var Ft=this.input.charCodeAt(this.pos+2);if(Ft<48||Ft>57)return this.finishOp(mt.questionDot,2)}if($t===63){if(_t>=12){var Bt=this.input.charCodeAt(this.pos+2);if(Bt===61)return this.finishOp(mt.assign,3)}return this.finishOp(mt.coalesce,2)}}return this.finishOp(mt.question,1)},Zt.readToken_numberSign=function(){var _t=this.options.ecmaVersion,$t=35;if(_t>=13&&(++this.pos,$t=this.fullCharCodeAtPos(),st($t,!0)||$t===92))return this.finishToken(mt.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ot($t)+"'")},Zt.getTokenFromCode=function(_t){switch(_t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(mt.parenL);case 41:return++this.pos,this.finishToken(mt.parenR);case 59:return++this.pos,this.finishToken(mt.semi);case 44:return++this.pos,this.finishToken(mt.comma);case 91:return++this.pos,this.finishToken(mt.bracketL);case 93:return++this.pos,this.finishToken(mt.bracketR);case 123:return++this.pos,this.finishToken(mt.braceL);case 125:return++this.pos,this.finishToken(mt.braceR);case 58:return++this.pos,this.finishToken(mt.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(mt.backQuote);case 48:var $t=this.input.charCodeAt(this.pos+1);if($t===120||$t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if($t===111||$t===79)return this.readRadixNumber(8);if($t===98||$t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(_t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(_t);case 124:case 38:return this.readToken_pipe_amp(_t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(_t);case 60:case 62:return this.readToken_lt_gt(_t);case 61:case 33:return this.readToken_eq_excl(_t);case 63:return this.readToken_question();case 126:return this.finishOp(mt.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ot(_t)+"'")},Zt.finishOp=function(_t,$t){var Ft=this.input.slice(this.pos,this.pos+$t);return this.pos+=$t,this.finishToken(_t,Ft)},Zt.readRegexp=function(){for(var _t,$t,Ft=this.pos;;){this.pos>=this.input.length&&this.raise(Ft,"Unterminated regular expression");var Bt=this.input.charAt(this.pos);if(Tt.test(Bt)&&this.raise(Ft,"Unterminated regular expression"),_t)_t=!1;else{if(Bt==="[")$t=!0;else if(Bt==="]"&&$t)$t=!1;else if(Bt==="/"&&!$t)break;_t=Bt==="\\"}++this.pos}var tn=this.input.slice(Ft,this.pos);++this.pos;var yn=this.pos,Sn=this.readWord1();this.containsEsc&&this.unexpected(yn);var Dn=this.regexpState||(this.regexpState=new jr(this));Dn.reset(Ft,tn,Sn),this.validateRegExpFlags(Dn),this.validateRegExpPattern(Dn);var Bn=null;try{Bn=new RegExp(tn,Sn)}catch{}return this.finishToken(mt.regexp,{pattern:tn,flags:Sn,value:Bn})},Zt.readInt=function(_t,$t,Ft){for(var Bt=this.options.ecmaVersion>=12&&$t===void 0,tn=Ft&&this.input.charCodeAt(this.pos)===48,yn=this.pos,Sn=0,Dn=0,Bn=0,hr=$t==null?1/0:$t;Bn<hr;++Bn,++this.pos){var _r=this.input.charCodeAt(this.pos),Gr=void 0;if(Bt&&_r===95){tn&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Dn===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Bn===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Dn=_r;continue}if(_r>=97?Gr=_r-97+10:_r>=65?Gr=_r-65+10:_r>=48&&_r<=57?Gr=_r-48:Gr=1/0,Gr>=_t)break;Dn=_r,Sn=Sn*_t+Gr}return Bt&&Dn===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===yn||$t!=null&&this.pos-yn!==$t?null:Sn};function bn(_t,$t){return $t?parseInt(_t,8):parseFloat(_t.replace(/_/g,""))}function Cn(_t){return typeof BigInt!="function"?null:BigInt(_t.replace(/_/g,""))}Zt.readRadixNumber=function(_t){var $t=this.pos;this.pos+=2;var Ft=this.readInt(_t);return Ft==null&&this.raise(this.start+2,"Expected number in radix "+_t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Ft=Cn(this.input.slice($t,this.pos)),++this.pos):st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(mt.num,Ft)},Zt.readNumber=function(_t){var $t=this.pos;!_t&&this.readInt(10,void 0,!0)===null&&this.raise($t,"Invalid number");var Ft=this.pos-$t>=2&&this.input.charCodeAt($t)===48;Ft&&this.strict&&this.raise($t,"Invalid number");var Bt=this.input.charCodeAt(this.pos);if(!Ft&&!_t&&this.options.ecmaVersion>=11&&Bt===110){var tn=Cn(this.input.slice($t,this.pos));return++this.pos,st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(mt.num,tn)}Ft&&/[89]/.test(this.input.slice($t,this.pos))&&(Ft=!1),Bt===46&&!Ft&&(++this.pos,this.readInt(10),Bt=this.input.charCodeAt(this.pos)),(Bt===69||Bt===101)&&!Ft&&(Bt=this.input.charCodeAt(++this.pos),(Bt===43||Bt===45)&&++this.pos,this.readInt(10)===null&&this.raise($t,"Invalid number")),st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var yn=bn(this.input.slice($t,this.pos),Ft);return this.finishToken(mt.num,yn)},Zt.readCodePoint=function(){var _t=this.input.charCodeAt(this.pos),$t;if(_t===123){this.options.ecmaVersion<6&&this.unexpected();var Ft=++this.pos;$t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,$t>1114111&&this.invalidStringToken(Ft,"Code point out of bounds")}else $t=this.readHexChar(4);return $t},Zt.readString=function(_t){for(var $t="",Ft=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Bt=this.input.charCodeAt(this.pos);if(Bt===_t)break;Bt===92?($t+=this.input.slice(Ft,this.pos),$t+=this.readEscapedChar(!1),Ft=this.pos):Bt===8232||Bt===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ht(Bt)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return $t+=this.input.slice(Ft,this.pos++),this.finishToken(mt.string,$t)};var Un={};Zt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(_t){if(_t===Un)this.readInvalidTemplateToken();else throw _t}this.inTemplateElement=!1},Zt.invalidStringToken=function(_t,$t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Un;this.raise(_t,$t)},Zt.readTmplToken=function(){for(var _t="",$t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Ft=this.input.charCodeAt(this.pos);if(Ft===96||Ft===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===mt.template||this.type===mt.invalidTemplate)?Ft===36?(this.pos+=2,this.finishToken(mt.dollarBraceL)):(++this.pos,this.finishToken(mt.backQuote)):(_t+=this.input.slice($t,this.pos),this.finishToken(mt.template,_t));if(Ft===92)_t+=this.input.slice($t,this.pos),_t+=this.readEscapedChar(!0),$t=this.pos;else if(ht(Ft)){switch(_t+=this.input.slice($t,this.pos),++this.pos,Ft){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:_t+=`
`;break;default:_t+=String.fromCharCode(Ft);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),$t=this.pos}else++this.pos}},Zt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(mt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Zt.readEscapedChar=function(_t){var $t=this.input.charCodeAt(++this.pos);switch(++this.pos,$t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ot(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),_t){var Ft=this.pos-1;return this.invalidStringToken(Ft,"Invalid escape sequence in template string"),null}default:if($t>=48&&$t<=55){var Bt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],tn=parseInt(Bt,8);return tn>255&&(Bt=Bt.slice(0,-1),tn=parseInt(Bt,8)),this.pos+=Bt.length-1,$t=this.input.charCodeAt(this.pos),(Bt!=="0"||$t===56||$t===57)&&(this.strict||_t)&&this.invalidStringToken(this.pos-1-Bt.length,_t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(tn)}return ht($t)?"":String.fromCharCode($t)}},Zt.readHexChar=function(_t){var $t=this.pos,Ft=this.readInt(16,_t);return Ft===null&&this.invalidStringToken($t,"Bad character escape sequence"),Ft},Zt.readWord1=function(){this.containsEsc=!1;for(var _t="",$t=!0,Ft=this.pos,Bt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var tn=this.fullCharCodeAtPos();if(lt(tn,Bt))this.pos+=tn<=65535?1:2;else if(tn===92){this.containsEsc=!0,_t+=this.input.slice(Ft,this.pos);var yn=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Sn=this.readCodePoint();($t?st:lt)(Sn,Bt)||this.invalidStringToken(yn,"Invalid Unicode escape"),_t+=Ot(Sn),Ft=this.pos}else break;$t=!1}return _t+this.input.slice(Ft,this.pos)},Zt.readWord=function(){var _t=this.readWord1(),$t=mt.name;return this.keywords.test(_t)&&($t=vt[_t]),this.finishToken($t,_t)};var rr="8.8.1";Hn.acorn={Parser:Hn,version:rr,defaultOptions:en,Position:rn,SourceLocation:jt,getLineInfo:Vt,Node:Rs,TokenType:ft,tokTypes:mt,keywordTypes:vt,TokContext:Zn,tokContexts:Vn,isIdentifierChar:lt,isIdentifierStart:st,Token:Kt,isNewLine:ht,lineBreak:Tt,lineBreakG:yt,nonASCIIwhitespace:wt};function Er(_t,$t){return Hn.parse(_t,$t)}function Ur(_t,$t,Ft){return Hn.parseExpressionAt(_t,$t,Ft)}function ss(_t,$t){return Hn.tokenizer(_t,$t)}a.Node=Rs,a.Parser=Hn,a.Position=rn,a.SourceLocation=jt,a.TokContext=Zn,a.Token=Kt,a.TokenType=ft,a.defaultOptions=en,a.getLineInfo=Vt,a.isIdentifierChar=lt,a.isIdentifierStart=st,a.isNewLine=ht,a.keywordTypes=vt,a.lineBreak=Tt,a.lineBreakG=yt,a.nonASCIIwhitespace=wt,a.parse=Er,a.parseExpressionAt=Ur,a.tokContexts=Vn,a.tokTypes=mt,a.tokenizer=ss,a.version=rr,Object.defineProperty(a,"__esModule",{value:!0})})})(acorn,acorn.exports);var astring={};Object.defineProperty(astring,"__esModule",{value:!0});astring.generate=generate;astring.baseGenerator=astring.GENERATOR=astring.EXPRESSIONS_PRECEDENCE=astring.NEEDS_PARENTHESES=void 0;function _classCallCheck(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass(i,s,a){return s&&_defineProperties(i.prototype,s),a&&_defineProperties(i,a),i}var stringify$2=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var OPERATOR_PRECEDENCE={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17;astring.NEEDS_PARENTHESES=NEEDS_PARENTHESES;var EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};astring.EXPRESSIONS_PRECEDENCE=EXPRESSIONS_PRECEDENCE;function formatSequence(i,s){var a=i.generator;if(i.write("("),s!=null&&s.length>0){a[s[0].type](s[0],i);for(var o=s.length,it=1;it<o;it++){var tt=s[it];i.write(", "),a[tt.type](tt,i)}}i.write(")")}function expressionNeedsParenthesis(i,s,a,o){var it=i.expressionsPrecedence[s.type];if(it===NEEDS_PARENTHESES)return!0;var tt=i.expressionsPrecedence[a.type];return it!==tt?!o&&it===15&&tt===14&&a.operator==="**"||it<tt:it!==13&&it!==14?!1:s.operator==="**"&&a.operator==="**"?!o:o?OPERATOR_PRECEDENCE[s.operator]<=OPERATOR_PRECEDENCE[a.operator]:OPERATOR_PRECEDENCE[s.operator]<OPERATOR_PRECEDENCE[a.operator]}function formatExpression(i,s,a,o){var it=i.generator;expressionNeedsParenthesis(i,s,a,o)?(i.write("("),it[s.type](s,i),i.write(")")):it[s.type](s,i)}function reindent(i,s,a,o){var it=s.split(`
`),tt=it.length-1;if(i.write(it[0].trim()),tt>0){i.write(o);for(var at=1;at<tt;at++)i.write(a+it[at].trim()+o);i.write(a+it[tt].trim())}}function formatComments(i,s,a,o){for(var it=s.length,tt=0;tt<it;tt++){var at=s[tt];i.write(a),at.type[0]==="L"?i.write("// "+at.value.trim()+`
`,at):(i.write("/*"),reindent(i,at.value,a,o),i.write("*/"+o))}}function hasCallExpression(i){for(var s=i;s!=null;){var a=s,o=a.type;if(o[0]==="C"&&o[1]==="a")return!0;if(o[0]==="M"&&o[1]==="e"&&o[2]==="m")s=s.object;else return!1}}function formatVariableDeclaration(i,s){var a=i.generator,o=s.declarations;i.write(s.kind+" ");var it=o.length;if(it>0){a.VariableDeclarator(o[0],i);for(var tt=1;tt<it;tt++)i.write(", "),a.VariableDeclarator(o[tt],i)}}var ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement,GENERATOR={Program:function(s,a){var o=a.indent.repeat(a.indentLevel),it=a.lineEnd,tt=a.writeComments;tt&&s.comments!=null&&formatComments(a,s.comments,o,it);for(var at=s.body,ot=at.length,rt=0;rt<ot;rt++){var nt=at[rt];tt&&nt.comments!=null&&formatComments(a,nt.comments,o,it),a.write(o),this[nt.type](nt,a),a.write(it)}tt&&s.trailingComments!=null&&formatComments(a,s.trailingComments,o,it)},BlockStatement:BlockStatement=function(s,a){var o=a.indent.repeat(a.indentLevel++),it=a.lineEnd,tt=a.writeComments,at=o+a.indent;a.write("{");var ot=s.body;if(ot!=null&&ot.length>0){a.write(it),tt&&s.comments!=null&&formatComments(a,s.comments,at,it);for(var rt=ot.length,nt=0;nt<rt;nt++){var j=ot[nt];tt&&j.comments!=null&&formatComments(a,j.comments,at,it),a.write(at),this[j.type](j,a),a.write(it)}a.write(o)}else tt&&s.comments!=null&&(a.write(it),formatComments(a,s.comments,at,it),a.write(o));tt&&s.trailingComments!=null&&formatComments(a,s.trailingComments,at,it),a.write("}"),a.indentLevel--},ClassBody:BlockStatement,StaticBlock:function(s,a){a.write("static "),this.BlockStatement(s,a)},EmptyStatement:function(s,a){a.write(";")},ExpressionStatement:function(s,a){var o=a.expressionsPrecedence[s.expression.type];o===NEEDS_PARENTHESES||o===3&&s.expression.left.type[0]==="O"?(a.write("("),this[s.expression.type](s.expression,a),a.write(")")):this[s.expression.type](s.expression,a),a.write(";")},IfStatement:function(s,a){a.write("if ("),this[s.test.type](s.test,a),a.write(") "),this[s.consequent.type](s.consequent,a),s.alternate!=null&&(a.write(" else "),this[s.alternate.type](s.alternate,a))},LabeledStatement:function(s,a){this[s.label.type](s.label,a),a.write(": "),this[s.body.type](s.body,a)},BreakStatement:function(s,a){a.write("break"),s.label!=null&&(a.write(" "),this[s.label.type](s.label,a)),a.write(";")},ContinueStatement:function(s,a){a.write("continue"),s.label!=null&&(a.write(" "),this[s.label.type](s.label,a)),a.write(";")},WithStatement:function(s,a){a.write("with ("),this[s.object.type](s.object,a),a.write(") "),this[s.body.type](s.body,a)},SwitchStatement:function(s,a){var o=a.indent.repeat(a.indentLevel++),it=a.lineEnd,tt=a.writeComments;a.indentLevel++;var at=o+a.indent,ot=at+a.indent;a.write("switch ("),this[s.discriminant.type](s.discriminant,a),a.write(") {"+it);for(var rt=s.cases,nt=rt.length,j=0;j<nt;j++){var _=rt[j];tt&&_.comments!=null&&formatComments(a,_.comments,at,it),_.test?(a.write(at+"case "),this[_.test.type](_.test,a),a.write(":"+it)):a.write(at+"default:"+it);for(var $=_.consequent,et=$.length,st=0;st<et;st++){var lt=$[st];tt&&lt.comments!=null&&formatComments(a,lt.comments,ot,it),a.write(ot),this[lt.type](lt,a),a.write(it)}}a.indentLevel-=2,a.write(o+"}")},ReturnStatement:function(s,a){a.write("return"),s.argument&&(a.write(" "),this[s.argument.type](s.argument,a)),a.write(";")},ThrowStatement:function(s,a){a.write("throw "),this[s.argument.type](s.argument,a),a.write(";")},TryStatement:function(s,a){if(a.write("try "),this[s.block.type](s.block,a),s.handler){var o=s.handler;o.param==null?a.write(" catch "):(a.write(" catch ("),this[o.param.type](o.param,a),a.write(") ")),this[o.body.type](o.body,a)}s.finalizer&&(a.write(" finally "),this[s.finalizer.type](s.finalizer,a))},WhileStatement:function(s,a){a.write("while ("),this[s.test.type](s.test,a),a.write(") "),this[s.body.type](s.body,a)},DoWhileStatement:function(s,a){a.write("do "),this[s.body.type](s.body,a),a.write(" while ("),this[s.test.type](s.test,a),a.write(");")},ForStatement:function(s,a){if(a.write("for ("),s.init!=null){var o=s.init;o.type[0]==="V"?formatVariableDeclaration(a,o):this[o.type](o,a)}a.write("; "),s.test&&this[s.test.type](s.test,a),a.write("; "),s.update&&this[s.update.type](s.update,a),a.write(") "),this[s.body.type](s.body,a)},ForInStatement:ForInStatement=function(s,a){a.write("for ".concat(s.await?"await ":"","("));var o=s.left;o.type[0]==="V"?formatVariableDeclaration(a,o):this[o.type](o,a),a.write(s.type[3]==="I"?" in ":" of "),this[s.right.type](s.right,a),a.write(") "),this[s.body.type](s.body,a)},ForOfStatement:ForInStatement,DebuggerStatement:function(s,a){a.write("debugger;",s)},FunctionDeclaration:FunctionDeclaration=function(s,a){a.write((s.async?"async ":"")+(s.generator?"function* ":"function ")+(s.id?s.id.name:""),s),formatSequence(a,s.params),a.write(" "),this[s.body.type](s.body,a)},FunctionExpression:FunctionDeclaration,VariableDeclaration:function(s,a){formatVariableDeclaration(a,s),a.write(";")},VariableDeclarator:function(s,a){this[s.id.type](s.id,a),s.init!=null&&(a.write(" = "),this[s.init.type](s.init,a))},ClassDeclaration:function(s,a){if(a.write("class "+(s.id?"".concat(s.id.name," "):""),s),s.superClass){a.write("extends ");var o=s.superClass,it=o.type,tt=a.expressionsPrecedence[it];(it[0]!=="C"||it[1]!=="l"||it[5]!=="E")&&(tt===NEEDS_PARENTHESES||tt<a.expressionsPrecedence.ClassExpression)?(a.write("("),this[s.superClass.type](o,a),a.write(")")):this[o.type](o,a),a.write(" ")}this.ClassBody(s.body,a)},ImportDeclaration:function(s,a){a.write("import ");var o=s.specifiers,it=o.length,tt=0;if(it>0){for(;tt<it;){tt>0&&a.write(", ");var at=o[tt],ot=at.type[6];if(ot==="D")a.write(at.local.name,at),tt++;else if(ot==="N")a.write("* as "+at.local.name,at),tt++;else break}if(tt<it){for(a.write("{");;){var rt=o[tt],nt=rt.imported.name;if(a.write(nt,rt),nt!==rt.local.name&&a.write(" as "+rt.local.name),++tt<it)a.write(", ");else break}a.write("}")}a.write(" from ")}this.Literal(s.source,a),a.write(";")},ImportExpression:function(s,a){a.write("import("),this[s.source.type](s.source,a),a.write(")")},ExportDefaultDeclaration:function(s,a){a.write("export default "),this[s.declaration.type](s.declaration,a),a.expressionsPrecedence[s.declaration.type]!=null&&s.declaration.type[0]!=="F"&&a.write(";")},ExportNamedDeclaration:function(s,a){if(a.write("export "),s.declaration)this[s.declaration.type](s.declaration,a);else{a.write("{");var o=s.specifiers,it=o.length;if(it>0)for(var tt=0;;){var at=o[tt],ot=at.local.name;if(a.write(ot,at),ot!==at.exported.name&&a.write(" as "+at.exported.name),++tt<it)a.write(", ");else break}a.write("}"),s.source&&(a.write(" from "),this.Literal(s.source,a)),a.write(";")}},ExportAllDeclaration:function(s,a){s.exported!=null?a.write("export * as "+s.exported.name+" from "):a.write("export * from "),this.Literal(s.source,a),a.write(";")},MethodDefinition:function(s,a){s.static&&a.write("static ");var o=s.kind[0];(o==="g"||o==="s")&&a.write(s.kind+" "),s.value.async&&a.write("async "),s.value.generator&&a.write("*"),s.computed?(a.write("["),this[s.key.type](s.key,a),a.write("]")):this[s.key.type](s.key,a),formatSequence(a,s.value.params),a.write(" "),this[s.value.body.type](s.value.body,a)},ClassExpression:function(s,a){this.ClassDeclaration(s,a)},ArrowFunctionExpression:function(s,a){a.write(s.async?"async ":"",s);var o=s.params;o!=null&&(o.length===1&&o[0].type[0]==="I"?a.write(o[0].name,o[0]):formatSequence(a,s.params)),a.write(" => "),s.body.type[0]==="O"?(a.write("("),this.ObjectExpression(s.body,a),a.write(")")):this[s.body.type](s.body,a)},ThisExpression:function(s,a){a.write("this",s)},Super:function(s,a){a.write("super",s)},RestElement:RestElement=function(s,a){a.write("..."),this[s.argument.type](s.argument,a)},SpreadElement:RestElement,YieldExpression:function(s,a){a.write(s.delegate?"yield*":"yield"),s.argument&&(a.write(" "),this[s.argument.type](s.argument,a))},AwaitExpression:function(s,a){a.write("await ",s),formatExpression(a,s.argument,s)},TemplateLiteral:function(s,a){var o=s.quasis,it=s.expressions;a.write("`");for(var tt=it.length,at=0;at<tt;at++){var ot=it[at],rt=o[at];a.write(rt.value.raw,rt),a.write("${"),this[ot.type](ot,a),a.write("}")}var nt=o[o.length-1];a.write(nt.value.raw,nt),a.write("`")},TemplateElement:function(s,a){a.write(s.value.raw,s)},TaggedTemplateExpression:function(s,a){formatExpression(a,s.tag,s),this[s.quasi.type](s.quasi,a)},ArrayExpression:ArrayExpression=function(s,a){if(a.write("["),s.elements.length>0)for(var o=s.elements,it=o.length,tt=0;;){var at=o[tt];if(at!=null&&this[at.type](at,a),++tt<it)a.write(", ");else{at==null&&a.write(", ");break}}a.write("]")},ArrayPattern:ArrayExpression,ObjectExpression:function(s,a){var o=a.indent.repeat(a.indentLevel++),it=a.lineEnd,tt=a.writeComments,at=o+a.indent;if(a.write("{"),s.properties.length>0){a.write(it),tt&&s.comments!=null&&formatComments(a,s.comments,at,it);for(var ot=","+it,rt=s.properties,nt=rt.length,j=0;;){var _=rt[j];if(tt&&_.comments!=null&&formatComments(a,_.comments,at,it),a.write(at),this[_.type](_,a),++j<nt)a.write(ot);else break}a.write(it),tt&&s.trailingComments!=null&&formatComments(a,s.trailingComments,at,it),a.write(o+"}")}else tt?s.comments!=null?(a.write(it),formatComments(a,s.comments,at,it),s.trailingComments!=null&&formatComments(a,s.trailingComments,at,it),a.write(o+"}")):s.trailingComments!=null?(a.write(it),formatComments(a,s.trailingComments,at,it),a.write(o+"}")):a.write("}"):a.write("}");a.indentLevel--},Property:function(s,a){s.method||s.kind[0]!=="i"?this.MethodDefinition(s,a):(s.shorthand||(s.computed?(a.write("["),this[s.key.type](s.key,a),a.write("]")):this[s.key.type](s.key,a),a.write(": ")),this[s.value.type](s.value,a))},PropertyDefinition:function(s,a){s.static&&a.write("static "),this[s.key.type](s.key,a),s.value!=null&&(a.write(" = "),this[s.value.type](s.value,a))},ObjectPattern:function(s,a){if(a.write("{"),s.properties.length>0)for(var o=s.properties,it=o.length,tt=0;this[o[tt].type](o[tt],a),++tt<it;)a.write(", ");a.write("}")},SequenceExpression:function(s,a){formatSequence(a,s.expressions)},UnaryExpression:function(s,a){if(s.prefix){var o=s.operator,it=s.argument,tt=s.argument.type;a.write(o);var at=expressionNeedsParenthesis(a,it,s);!at&&(o.length>1||tt[0]==="U"&&(tt[1]==="n"||tt[1]==="p")&&it.prefix&&it.operator[0]===o&&(o==="+"||o==="-"))&&a.write(" "),at?(a.write(o.length>1?" (":"("),this[tt](it,a),a.write(")")):this[tt](it,a)}else this[s.argument.type](s.argument,a),a.write(s.operator)},UpdateExpression:function(s,a){s.prefix?(a.write(s.operator),this[s.argument.type](s.argument,a)):(this[s.argument.type](s.argument,a),a.write(s.operator))},AssignmentExpression:function(s,a){this[s.left.type](s.left,a),a.write(" "+s.operator+" "),this[s.right.type](s.right,a)},AssignmentPattern:function(s,a){this[s.left.type](s.left,a),a.write(" = "),this[s.right.type](s.right,a)},BinaryExpression:BinaryExpression=function(s,a){var o=s.operator==="in";o&&a.write("("),formatExpression(a,s.left,s,!1),a.write(" "+s.operator+" "),formatExpression(a,s.right,s,!0),o&&a.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression:function(s,a){var o=s.test,it=a.expressionsPrecedence[o.type];it===NEEDS_PARENTHESES||it<=a.expressionsPrecedence.ConditionalExpression?(a.write("("),this[o.type](o,a),a.write(")")):this[o.type](o,a),a.write(" ? "),this[s.consequent.type](s.consequent,a),a.write(" : "),this[s.alternate.type](s.alternate,a)},NewExpression:function(s,a){a.write("new ");var o=a.expressionsPrecedence[s.callee.type];o===NEEDS_PARENTHESES||o<a.expressionsPrecedence.CallExpression||hasCallExpression(s.callee)?(a.write("("),this[s.callee.type](s.callee,a),a.write(")")):this[s.callee.type](s.callee,a),formatSequence(a,s.arguments)},CallExpression:function(s,a){var o=a.expressionsPrecedence[s.callee.type];o===NEEDS_PARENTHESES||o<a.expressionsPrecedence.CallExpression?(a.write("("),this[s.callee.type](s.callee,a),a.write(")")):this[s.callee.type](s.callee,a),s.optional&&a.write("?."),formatSequence(a,s.arguments)},ChainExpression:function(s,a){this[s.expression.type](s.expression,a)},MemberExpression:function(s,a){var o=a.expressionsPrecedence[s.object.type];o===NEEDS_PARENTHESES||o<a.expressionsPrecedence.MemberExpression?(a.write("("),this[s.object.type](s.object,a),a.write(")")):this[s.object.type](s.object,a),s.computed?(s.optional&&a.write("?."),a.write("["),this[s.property.type](s.property,a),a.write("]")):(s.optional?a.write("?."):a.write("."),this[s.property.type](s.property,a))},MetaProperty:function(s,a){a.write(s.meta.name+"."+s.property.name,s)},Identifier:function(s,a){a.write(s.name,s)},PrivateIdentifier:function(s,a){a.write("#".concat(s.name),s)},Literal:function(s,a){s.raw!=null?a.write(s.raw,s):s.regex!=null?this.RegExpLiteral(s,a):s.bigint!=null?a.write(s.bigint+"n",s):a.write(stringify$2(s.value),s)},RegExpLiteral:function(s,a){var o=s.regex;a.write("/".concat(o.pattern,"/").concat(o.flags),s)}};astring.GENERATOR=GENERATOR;var EMPTY_OBJECT={},baseGenerator=GENERATOR;astring.baseGenerator=baseGenerator;var State=function(){function i(s){_classCallCheck(this,i);var a=s==null?EMPTY_OBJECT:s;this.output="",a.output!=null?(this.output=a.output,this.write=this.writeToStream):this.output="",this.generator=a.generator!=null?a.generator:GENERATOR,this.expressionsPrecedence=a.expressionsPrecedence!=null?a.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=a.indent!=null?a.indent:"  ",this.lineEnd=a.lineEnd!=null?a.lineEnd:`
`,this.indentLevel=a.startingIndentLevel!=null?a.startingIndentLevel:0,this.writeComments=a.comments?a.comments:!1,a.sourceMap!=null&&(this.write=a.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=a.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:a.sourceMap.file||a.sourceMap._file})}return _createClass(i,[{key:"write",value:function(a){this.output+=a}},{key:"writeToStream",value:function(a){this.output.write(a)}},{key:"writeAndMap",value:function(a,o){this.output+=a,this.map(a,o)}},{key:"writeToStreamAndMap",value:function(a,o){this.output.write(a),this.map(a,o)}},{key:"map",value:function(a,o){if(o!=null){var it=o.type;if(it[0]==="L"&&it[2]==="n"){this.column=0,this.line++;return}if(o.loc!=null){var tt=this.mapping;tt.original=o.loc.start,tt.name=o.name,this.sourceMap.addMapping(tt)}if(it[0]==="T"&&it[8]==="E"||it[0]==="L"&&it[1]==="i"&&typeof o.value=="string"){for(var at=a.length,ot=this.column,rt=this.line,nt=0;nt<at;nt++)a[nt]===`
`?(ot=0,rt++):ot++;this.column=ot,this.line=rt;return}}var j=a.length,_=this.lineEnd;j>0&&(this.lineEndSize>0&&(_.length===1?a[j-1]===_:a.endsWith(_))?(this.line+=this.lineEndSize,this.column=0):this.column+=j)}},{key:"toString",value:function(){return this.output}}]),i}();function generate(i,s){var a=new State(s);return a.generator[i.type](i,a),a.output}function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gpuBrowser={exports:{}};/**
 * gpu.js
 * http://gpu.rocks/
 *
 * GPU Accelerated JavaScript
 *
 * @version 2.16.0
 * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)
 *
 * @license MIT
 * The MIT License
 *
 * Copyright (c) 2022 gpu.js Team
 */(function(i,s){(function(a){i.exports=a()})(function(){return function(){function a(o,it,tt){function at(nt,j){if(!it[nt]){if(!o[nt]){var _=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&_)return _(nt,!0);if(ot)return ot(nt,!0);var $=new Error("Cannot find module '"+nt+"'");throw $.code="MODULE_NOT_FOUND",$}var et=it[nt]={exports:{}};o[nt][0].call(et.exports,function(st){var lt=o[nt][1][st];return at(lt||st)},et,et.exports,a,o,it,tt)}return it[nt].exports}for(var ot=typeof commonjsRequire=="function"&&commonjsRequire,rt=0;rt<tt.length;rt++)at(tt[rt]);return at}return a}()({1:[function(a,o,it){(function(tt,at){typeof it=="object"&&typeof o<"u"?at(it):(tt=tt||self,at(tt.acorn={}))})(this,function(tt){var at={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ot="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",rt={5:ot,"5module":ot+" export import",6:ot+" const class extends export import super"},nt=/^in(stanceof)?$/,j="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",_="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",$=new RegExp("["+j+"]"),et=new RegExp("["+j+_+"]");j=_=null;var st=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],lt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function ft(St,At){for(var Dt=65536,Kt=0;Kt<At.length;Kt+=2){if(Dt+=At[Kt],Dt>St)return!1;if(Dt+=At[Kt+1],Dt>=St)return!0}}function gt(St,At){return St<65?St===36:St<91?!0:St<97?St===95:St<123?!0:St<=65535?St>=170&&$.test(String.fromCharCode(St)):At===!1?!1:ft(St,st)}function ut(St,At){return St<48?St===36:St<58?!0:St<65?!1:St<91?!0:St<97?St===95:St<123?!0:St<=65535?St>=170&&et.test(String.fromCharCode(St)):At===!1?!1:ft(St,st)||ft(St,lt)}var pt=function(At,Dt){Dt===void 0&&(Dt={}),this.label=At,this.keyword=Dt.keyword,this.beforeExpr=!!Dt.beforeExpr,this.startsExpr=!!Dt.startsExpr,this.isLoop=!!Dt.isLoop,this.isAssign=!!Dt.isAssign,this.prefix=!!Dt.prefix,this.postfix=!!Dt.postfix,this.binop=Dt.binop||null,this.updateContext=null};function vt(St,At){return new pt(St,{beforeExpr:!0,binop:At})}var dt={beforeExpr:!0},mt={startsExpr:!0},Tt={};function yt(St,At){return At===void 0&&(At={}),At.keyword=St,Tt[St]=new pt(St,At)}var ht={num:new pt("num",mt),regexp:new pt("regexp",mt),string:new pt("string",mt),name:new pt("name",mt),eof:new pt("eof"),bracketL:new pt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new pt("]"),braceL:new pt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new pt("}"),parenL:new pt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new pt(")"),comma:new pt(",",dt),semi:new pt(";",dt),colon:new pt(":",dt),dot:new pt("."),question:new pt("?",dt),arrow:new pt("=>",dt),template:new pt("template"),invalidTemplate:new pt("invalidTemplate"),ellipsis:new pt("...",dt),backQuote:new pt("`",mt),dollarBraceL:new pt("${",{beforeExpr:!0,startsExpr:!0}),eq:new pt("=",{beforeExpr:!0,isAssign:!0}),assign:new pt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new pt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new pt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:vt("||",1),logicalAND:vt("&&",2),bitwiseOR:vt("|",3),bitwiseXOR:vt("^",4),bitwiseAND:vt("&",5),equality:vt("==/!=/===/!==",6),relational:vt("</>/<=/>=",7),bitShift:vt("<</>>/>>>",8),plusMin:new pt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:vt("%",10),star:vt("*",10),slash:vt("/",10),starstar:new pt("**",{beforeExpr:!0}),_break:yt("break"),_case:yt("case",dt),_catch:yt("catch"),_continue:yt("continue"),_debugger:yt("debugger"),_default:yt("default",dt),_do:yt("do",{isLoop:!0,beforeExpr:!0}),_else:yt("else",dt),_finally:yt("finally"),_for:yt("for",{isLoop:!0}),_function:yt("function",mt),_if:yt("if"),_return:yt("return",dt),_switch:yt("switch"),_throw:yt("throw",dt),_try:yt("try"),_var:yt("var"),_const:yt("const"),_while:yt("while",{isLoop:!0}),_with:yt("with"),_new:yt("new",{beforeExpr:!0,startsExpr:!0}),_this:yt("this",mt),_super:yt("super",mt),_class:yt("class",mt),_extends:yt("extends",dt),_export:yt("export"),_import:yt("import",mt),_null:yt("null",mt),_true:yt("true",mt),_false:yt("false",mt),_in:yt("in",{beforeExpr:!0,binop:7}),_instanceof:yt("instanceof",{beforeExpr:!0,binop:7}),_typeof:yt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},xt=/\r\n?|\n|\u2028|\u2029/,wt=new RegExp(xt.source,"g");function kt(St,At){return St===10||St===13||!At&&(St===8232||St===8233)}var Ct=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Rt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Lt=Object.prototype,Mt=Lt.hasOwnProperty,Wt=Lt.toString;function Pt(St,At){return Mt.call(St,At)}var Ot=Array.isArray||function(St){return Wt.call(St)==="[object Array]"};function Xt(St){return new RegExp("^(?:"+St.replace(/ /g,"|")+")$")}var rn=function(At,Dt){this.line=At,this.column=Dt};rn.prototype.offset=function(At){return new rn(this.line,this.column+At)};var jt=function(At,Dt,Kt){this.start=Dt,this.end=Kt,At.sourceFile!==null&&(this.source=At.sourceFile)};function Vt(St,At){for(var Dt=1,Kt=0;;){wt.lastIndex=Kt;var Zt=wt.exec(St);if(Zt&&Zt.index<At)++Dt,Kt=Zt.index+Zt[0].length;else return new rn(Dt,At-Kt)}}var en={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function ln(St){var At={};for(var Dt in en)At[Dt]=St&&Pt(St,Dt)?St[Dt]:en[Dt];if(At.ecmaVersion>=2015&&(At.ecmaVersion-=2009),At.allowReserved==null&&(At.allowReserved=At.ecmaVersion<5),Ot(At.onToken)){var Kt=At.onToken;At.onToken=function(Zt){return Kt.push(Zt)}}return Ot(At.onComment)&&(At.onComment=nn(At,At.onComment)),At}function nn(St,At){return function(Dt,Kt,Zt,bn,Cn,Un){var rr={type:Dt?"Block":"Line",value:Kt,start:Zt,end:bn};St.locations&&(rr.loc=new jt(this,Cn,Un)),St.ranges&&(rr.range=[Zt,bn]),At.push(rr)}}var _n=1,fn=2,wn=_n|fn,xn=4,qt=8,Qt=16,Gt=32,cn=64,kn=128;function dn(St,At){return fn|(St?xn:0)|(At?qt:0)}var qn=0,ur=1,cr=2,Mr=3,En=4,Kn=5,Nn=function(At,Dt,Kt){this.options=At=ln(At),this.sourceFile=At.sourceFile,this.keywords=Xt(rt[At.ecmaVersion>=6?6:At.sourceType==="module"?"5module":5]);var Zt="";if(At.allowReserved!==!0){for(var bn=At.ecmaVersion;!(Zt=at[bn]);bn--);At.sourceType==="module"&&(Zt+=" await")}this.reservedWords=Xt(Zt);var Cn=(Zt?Zt+" ":"")+at.strict;this.reservedWordsStrict=Xt(Cn),this.reservedWordsStrictBind=Xt(Cn+" "+at.strictBind),this.input=String(Dt),this.containsEsc=!1,Kt?(this.pos=Kt,this.lineStart=this.input.lastIndexOf(`
`,Kt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(xt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=ht.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=At.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&At.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(_n),this.regexpState=null},dr={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};Nn.prototype.parse=function(){var At=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(At)},dr.inFunction.get=function(){return(this.currentVarScope().flags&fn)>0},dr.inGenerator.get=function(){return(this.currentVarScope().flags&qt)>0},dr.inAsync.get=function(){return(this.currentVarScope().flags&xn)>0},dr.allowSuper.get=function(){return(this.currentThisScope().flags&cn)>0},dr.allowDirectSuper.get=function(){return(this.currentThisScope().flags&kn)>0},dr.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Nn.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&fn)>0},Nn.extend=function(){for(var At=[],Dt=arguments.length;Dt--;)At[Dt]=arguments[Dt];for(var Kt=this,Zt=0;Zt<At.length;Zt++)Kt=At[Zt](Kt);return Kt},Nn.parse=function(At,Dt){return new this(Dt,At).parse()},Nn.parseExpressionAt=function(At,Dt,Kt){var Zt=new this(Kt,At,Dt);return Zt.nextToken(),Zt.parseExpression()},Nn.tokenizer=function(At,Dt){return new this(Dt,At)},Object.defineProperties(Nn.prototype,dr);var Hn=Nn.prototype,Tr=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;Hn.strictDirective=function(St){for(;;){Rt.lastIndex=St,St+=Rt.exec(this.input)[0].length;var At=Tr.exec(this.input.slice(St));if(!At)return!1;if((At[1]||At[2])==="use strict")return!0;St+=At[0].length,Rt.lastIndex=St,St+=Rt.exec(this.input)[0].length,this.input[St]===";"&&St++}},Hn.eat=function(St){return this.type===St?(this.next(),!0):!1},Hn.isContextual=function(St){return this.type===ht.name&&this.value===St&&!this.containsEsc},Hn.eatContextual=function(St){return this.isContextual(St)?(this.next(),!0):!1},Hn.expectContextual=function(St){this.eatContextual(St)||this.unexpected()},Hn.canInsertSemicolon=function(){return this.type===ht.eof||this.type===ht.braceR||xt.test(this.input.slice(this.lastTokEnd,this.start))},Hn.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Hn.semicolon=function(){!this.eat(ht.semi)&&!this.insertSemicolon()&&this.unexpected()},Hn.afterTrailingComma=function(St,At){if(this.type===St)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),At||this.next(),!0},Hn.expect=function(St){this.eat(St)||this.unexpected()},Hn.unexpected=function(St){this.raise(St!=null?St:this.start,"Unexpected token")};function or(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}Hn.checkPatternErrors=function(St,At){if(!!St){St.trailingComma>-1&&this.raiseRecoverable(St.trailingComma,"Comma is not permitted after the rest element");var Dt=At?St.parenthesizedAssign:St.parenthesizedBind;Dt>-1&&this.raiseRecoverable(Dt,"Parenthesized pattern")}},Hn.checkExpressionErrors=function(St,At){if(!St)return!1;var Dt=St.shorthandAssign,Kt=St.doubleProto;if(!At)return Dt>=0||Kt>=0;Dt>=0&&this.raise(Dt,"Shorthand property assignments are valid only in destructuring patterns"),Kt>=0&&this.raiseRecoverable(Kt,"Redefinition of __proto__ property")},Hn.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Hn.isSimpleAssignTarget=function(St){return St.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(St.expression):St.type==="Identifier"||St.type==="MemberExpression"};var Wn=Nn.prototype;Wn.parseTopLevel=function(St){var At={};for(St.body||(St.body=[]);this.type!==ht.eof;){var Dt=this.parseStatement(null,!0,At);St.body.push(Dt)}if(this.inModule)for(var Kt=0,Zt=Object.keys(this.undefinedExports);Kt<Zt.length;Kt+=1){var bn=Zt[Kt];this.raiseRecoverable(this.undefinedExports[bn].start,"Export '"+bn+"' is not defined")}return this.adaptDirectivePrologue(St.body),this.next(),St.sourceType=this.options.sourceType,this.finishNode(St,"Program")};var xr={kind:"loop"},Ut={kind:"switch"};Wn.isLet=function(St){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Rt.lastIndex=this.pos;var At=Rt.exec(this.input),Dt=this.pos+At[0].length,Kt=this.input.charCodeAt(Dt);if(Kt===91)return!0;if(St)return!1;if(Kt===123)return!0;if(gt(Kt,!0)){for(var Zt=Dt+1;ut(this.input.charCodeAt(Zt),!0);)++Zt;var bn=this.input.slice(Dt,Zt);if(!nt.test(bn))return!0}return!1},Wn.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Rt.lastIndex=this.pos;var St=Rt.exec(this.input),At=this.pos+St[0].length;return!xt.test(this.input.slice(this.pos,At))&&this.input.slice(At,At+8)==="function"&&(At+8===this.input.length||!ut(this.input.charAt(At+8)))},Wn.parseStatement=function(St,At,Dt){var Kt=this.type,Zt=this.startNode(),bn;switch(this.isLet(St)&&(Kt=ht._var,bn="let"),Kt){case ht._break:case ht._continue:return this.parseBreakContinueStatement(Zt,Kt.keyword);case ht._debugger:return this.parseDebuggerStatement(Zt);case ht._do:return this.parseDoStatement(Zt);case ht._for:return this.parseForStatement(Zt);case ht._function:return St&&(this.strict||St!=="if"&&St!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Zt,!1,!St);case ht._class:return St&&this.unexpected(),this.parseClass(Zt,!0);case ht._if:return this.parseIfStatement(Zt);case ht._return:return this.parseReturnStatement(Zt);case ht._switch:return this.parseSwitchStatement(Zt);case ht._throw:return this.parseThrowStatement(Zt);case ht._try:return this.parseTryStatement(Zt);case ht._const:case ht._var:return bn=bn||this.value,St&&bn!=="var"&&this.unexpected(),this.parseVarStatement(Zt,bn);case ht._while:return this.parseWhileStatement(Zt);case ht._with:return this.parseWithStatement(Zt);case ht.braceL:return this.parseBlock(!0,Zt);case ht.semi:return this.parseEmptyStatement(Zt);case ht._export:case ht._import:if(this.options.ecmaVersion>10&&Kt===ht._import){Rt.lastIndex=this.pos;var Cn=Rt.exec(this.input),Un=this.pos+Cn[0].length,rr=this.input.charCodeAt(Un);if(rr===40)return this.parseExpressionStatement(Zt,this.parseExpression())}return this.options.allowImportExportEverywhere||(At||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Kt===ht._import?this.parseImport(Zt):this.parseExport(Zt,Dt);default:if(this.isAsyncFunction())return St&&this.unexpected(),this.next(),this.parseFunctionStatement(Zt,!0,!St);var Er=this.value,Ur=this.parseExpression();return Kt===ht.name&&Ur.type==="Identifier"&&this.eat(ht.colon)?this.parseLabeledStatement(Zt,Er,Ur,St):this.parseExpressionStatement(Zt,Ur)}},Wn.parseBreakContinueStatement=function(St,At){var Dt=At==="break";this.next(),this.eat(ht.semi)||this.insertSemicolon()?St.label=null:this.type!==ht.name?this.unexpected():(St.label=this.parseIdent(),this.semicolon());for(var Kt=0;Kt<this.labels.length;++Kt){var Zt=this.labels[Kt];if((St.label==null||Zt.name===St.label.name)&&(Zt.kind!=null&&(Dt||Zt.kind==="loop")||St.label&&Dt))break}return Kt===this.labels.length&&this.raise(St.start,"Unsyntactic "+At),this.finishNode(St,Dt?"BreakStatement":"ContinueStatement")},Wn.parseDebuggerStatement=function(St){return this.next(),this.semicolon(),this.finishNode(St,"DebuggerStatement")},Wn.parseDoStatement=function(St){return this.next(),this.labels.push(xr),St.body=this.parseStatement("do"),this.labels.pop(),this.expect(ht._while),St.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(ht.semi):this.semicolon(),this.finishNode(St,"DoWhileStatement")},Wn.parseForStatement=function(St){this.next();var At=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(xr),this.enterScope(0),this.expect(ht.parenL),this.type===ht.semi)return At>-1&&this.unexpected(At),this.parseFor(St,null);var Dt=this.isLet();if(this.type===ht._var||this.type===ht._const||Dt){var Kt=this.startNode(),Zt=Dt?"let":this.value;return this.next(),this.parseVar(Kt,!0,Zt),this.finishNode(Kt,"VariableDeclaration"),(this.type===ht._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Kt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===ht._in?At>-1&&this.unexpected(At):St.await=At>-1),this.parseForIn(St,Kt)):(At>-1&&this.unexpected(At),this.parseFor(St,Kt))}var bn=new or,Cn=this.parseExpression(!0,bn);return this.type===ht._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===ht._in?At>-1&&this.unexpected(At):St.await=At>-1),this.toAssignable(Cn,!1,bn),this.checkLVal(Cn),this.parseForIn(St,Cn)):(this.checkExpressionErrors(bn,!0),At>-1&&this.unexpected(At),this.parseFor(St,Cn))},Wn.parseFunctionStatement=function(St,At,Dt){return this.next(),this.parseFunction(St,hn|(Dt?0:On),!1,At)},Wn.parseIfStatement=function(St){return this.next(),St.test=this.parseParenExpression(),St.consequent=this.parseStatement("if"),St.alternate=this.eat(ht._else)?this.parseStatement("if"):null,this.finishNode(St,"IfStatement")},Wn.parseReturnStatement=function(St){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(ht.semi)||this.insertSemicolon()?St.argument=null:(St.argument=this.parseExpression(),this.semicolon()),this.finishNode(St,"ReturnStatement")},Wn.parseSwitchStatement=function(St){this.next(),St.discriminant=this.parseParenExpression(),St.cases=[],this.expect(ht.braceL),this.labels.push(Ut),this.enterScope(0);for(var At,Dt=!1;this.type!==ht.braceR;)if(this.type===ht._case||this.type===ht._default){var Kt=this.type===ht._case;At&&this.finishNode(At,"SwitchCase"),St.cases.push(At=this.startNode()),At.consequent=[],this.next(),Kt?At.test=this.parseExpression():(Dt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Dt=!0,At.test=null),this.expect(ht.colon)}else At||this.unexpected(),At.consequent.push(this.parseStatement(null));return this.exitScope(),At&&this.finishNode(At,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(St,"SwitchStatement")},Wn.parseThrowStatement=function(St){return this.next(),xt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),St.argument=this.parseExpression(),this.semicolon(),this.finishNode(St,"ThrowStatement")};var an=[];Wn.parseTryStatement=function(St){if(this.next(),St.block=this.parseBlock(),St.handler=null,this.type===ht._catch){var At=this.startNode();if(this.next(),this.eat(ht.parenL)){At.param=this.parseBindingAtom();var Dt=At.param.type==="Identifier";this.enterScope(Dt?Gt:0),this.checkLVal(At.param,Dt?En:cr),this.expect(ht.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),At.param=null,this.enterScope(0);At.body=this.parseBlock(!1),this.exitScope(),St.handler=this.finishNode(At,"CatchClause")}return St.finalizer=this.eat(ht._finally)?this.parseBlock():null,!St.handler&&!St.finalizer&&this.raise(St.start,"Missing catch or finally clause"),this.finishNode(St,"TryStatement")},Wn.parseVarStatement=function(St,At){return this.next(),this.parseVar(St,!1,At),this.semicolon(),this.finishNode(St,"VariableDeclaration")},Wn.parseWhileStatement=function(St){return this.next(),St.test=this.parseParenExpression(),this.labels.push(xr),St.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(St,"WhileStatement")},Wn.parseWithStatement=function(St){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),St.object=this.parseParenExpression(),St.body=this.parseStatement("with"),this.finishNode(St,"WithStatement")},Wn.parseEmptyStatement=function(St){return this.next(),this.finishNode(St,"EmptyStatement")},Wn.parseLabeledStatement=function(St,At,Dt,Kt){for(var Zt=0,bn=this.labels;Zt<bn.length;Zt+=1){var Cn=bn[Zt];Cn.name===At&&this.raise(Dt.start,"Label '"+At+"' is already declared")}for(var Un=this.type.isLoop?"loop":this.type===ht._switch?"switch":null,rr=this.labels.length-1;rr>=0;rr--){var Er=this.labels[rr];if(Er.statementStart===St.start)Er.statementStart=this.start,Er.kind=Un;else break}return this.labels.push({name:At,kind:Un,statementStart:this.start}),St.body=this.parseStatement(Kt?Kt.indexOf("label")===-1?Kt+"label":Kt:"label"),this.labels.pop(),St.label=Dt,this.finishNode(St,"LabeledStatement")},Wn.parseExpressionStatement=function(St,At){return St.expression=At,this.semicolon(),this.finishNode(St,"ExpressionStatement")},Wn.parseBlock=function(St,At){for(St===void 0&&(St=!0),At===void 0&&(At=this.startNode()),At.body=[],this.expect(ht.braceL),St&&this.enterScope(0);!this.eat(ht.braceR);){var Dt=this.parseStatement(null);At.body.push(Dt)}return St&&this.exitScope(),this.finishNode(At,"BlockStatement")},Wn.parseFor=function(St,At){return St.init=At,this.expect(ht.semi),St.test=this.type===ht.semi?null:this.parseExpression(),this.expect(ht.semi),St.update=this.type===ht.parenR?null:this.parseExpression(),this.expect(ht.parenR),St.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(St,"ForStatement")},Wn.parseForIn=function(St,At){var Dt=this.type===ht._in;return this.next(),At.type==="VariableDeclaration"&&At.declarations[0].init!=null&&(!Dt||this.options.ecmaVersion<8||this.strict||At.kind!=="var"||At.declarations[0].id.type!=="Identifier")?this.raise(At.start,(Dt?"for-in":"for-of")+" loop variable declaration may not have an initializer"):At.type==="AssignmentPattern"&&this.raise(At.start,"Invalid left-hand side in for-loop"),St.left=At,St.right=Dt?this.parseExpression():this.parseMaybeAssign(),this.expect(ht.parenR),St.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(St,Dt?"ForInStatement":"ForOfStatement")},Wn.parseVar=function(St,At,Dt){for(St.declarations=[],St.kind=Dt;;){var Kt=this.startNode();if(this.parseVarId(Kt,Dt),this.eat(ht.eq)?Kt.init=this.parseMaybeAssign(At):Dt==="const"&&!(this.type===ht._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Kt.id.type!=="Identifier"&&!(At&&(this.type===ht._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Kt.init=null,St.declarations.push(this.finishNode(Kt,"VariableDeclarator")),!this.eat(ht.comma))break}return St},Wn.parseVarId=function(St,At){St.id=this.parseBindingAtom(),this.checkLVal(St.id,At==="var"?ur:cr,!1)};var hn=1,On=2,Gn=4;Wn.parseFunction=function(St,At,Dt,Kt){this.initFunction(St),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Kt)&&(this.type===ht.star&&At&On&&this.unexpected(),St.generator=this.eat(ht.star)),this.options.ecmaVersion>=8&&(St.async=!!Kt),At&hn&&(St.id=At&Gn&&this.type!==ht.name?null:this.parseIdent(),St.id&&!(At&On)&&this.checkLVal(St.id,this.strict||St.generator||St.async?this.treatFunctionsAsVar?ur:cr:Mr));var Zt=this.yieldPos,bn=this.awaitPos,Cn=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(dn(St.async,St.generator)),At&hn||(St.id=this.type===ht.name?this.parseIdent():null),this.parseFunctionParams(St),this.parseFunctionBody(St,Dt,!1),this.yieldPos=Zt,this.awaitPos=bn,this.awaitIdentPos=Cn,this.finishNode(St,At&hn?"FunctionDeclaration":"FunctionExpression")},Wn.parseFunctionParams=function(St){this.expect(ht.parenL),St.params=this.parseBindingList(ht.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Wn.parseClass=function(St,At){this.next();var Dt=this.strict;this.strict=!0,this.parseClassId(St,At),this.parseClassSuper(St);var Kt=this.startNode(),Zt=!1;for(Kt.body=[],this.expect(ht.braceL);!this.eat(ht.braceR);){var bn=this.parseClassElement(St.superClass!==null);bn&&(Kt.body.push(bn),bn.type==="MethodDefinition"&&bn.kind==="constructor"&&(Zt&&this.raise(bn.start,"Duplicate constructor in the same class"),Zt=!0))}return St.body=this.finishNode(Kt,"ClassBody"),this.strict=Dt,this.finishNode(St,At?"ClassDeclaration":"ClassExpression")},Wn.parseClassElement=function(St){var At=this;if(this.eat(ht.semi))return null;var Dt=this.startNode(),Kt=function(rr,Er){Er===void 0&&(Er=!1);var Ur=At.start,ss=At.startLoc;return At.eatContextual(rr)?At.type!==ht.parenL&&(!Er||!At.canInsertSemicolon())?!0:(Dt.key&&At.unexpected(),Dt.computed=!1,Dt.key=At.startNodeAt(Ur,ss),Dt.key.name=rr,At.finishNode(Dt.key,"Identifier"),!1):!1};Dt.kind="method",Dt.static=Kt("static");var Zt=this.eat(ht.star),bn=!1;Zt||(this.options.ecmaVersion>=8&&Kt("async",!0)?(bn=!0,Zt=this.options.ecmaVersion>=9&&this.eat(ht.star)):Kt("get")?Dt.kind="get":Kt("set")&&(Dt.kind="set")),Dt.key||this.parsePropertyName(Dt);var Cn=Dt.key,Un=!1;return!Dt.computed&&!Dt.static&&(Cn.type==="Identifier"&&Cn.name==="constructor"||Cn.type==="Literal"&&Cn.value==="constructor")?(Dt.kind!=="method"&&this.raise(Cn.start,"Constructor can't have get/set modifier"),Zt&&this.raise(Cn.start,"Constructor can't be a generator"),bn&&this.raise(Cn.start,"Constructor can't be an async method"),Dt.kind="constructor",Un=St):Dt.static&&Cn.type==="Identifier"&&Cn.name==="prototype"&&this.raise(Cn.start,"Classes may not have a static property named prototype"),this.parseClassMethod(Dt,Zt,bn,Un),Dt.kind==="get"&&Dt.value.params.length!==0&&this.raiseRecoverable(Dt.value.start,"getter should have no params"),Dt.kind==="set"&&Dt.value.params.length!==1&&this.raiseRecoverable(Dt.value.start,"setter should have exactly one param"),Dt.kind==="set"&&Dt.value.params[0].type==="RestElement"&&this.raiseRecoverable(Dt.value.params[0].start,"Setter cannot use rest params"),Dt},Wn.parseClassMethod=function(St,At,Dt,Kt){return St.value=this.parseMethod(At,Dt,Kt),this.finishNode(St,"MethodDefinition")},Wn.parseClassId=function(St,At){this.type===ht.name?(St.id=this.parseIdent(),At&&this.checkLVal(St.id,cr,!1)):(At===!0&&this.unexpected(),St.id=null)},Wn.parseClassSuper=function(St){St.superClass=this.eat(ht._extends)?this.parseExprSubscripts():null},Wn.parseExport=function(St,At){if(this.next(),this.eat(ht.star))return this.expectContextual("from"),this.type!==ht.string&&this.unexpected(),St.source=this.parseExprAtom(),this.semicolon(),this.finishNode(St,"ExportAllDeclaration");if(this.eat(ht._default)){this.checkExport(At,"default",this.lastTokStart);var Dt;if(this.type===ht._function||(Dt=this.isAsyncFunction())){var Kt=this.startNode();this.next(),Dt&&this.next(),St.declaration=this.parseFunction(Kt,hn|Gn,!1,Dt)}else if(this.type===ht._class){var Zt=this.startNode();St.declaration=this.parseClass(Zt,"nullableID")}else St.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(St,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())St.declaration=this.parseStatement(null),St.declaration.type==="VariableDeclaration"?this.checkVariableExport(At,St.declaration.declarations):this.checkExport(At,St.declaration.id.name,St.declaration.id.start),St.specifiers=[],St.source=null;else{if(St.declaration=null,St.specifiers=this.parseExportSpecifiers(At),this.eatContextual("from"))this.type!==ht.string&&this.unexpected(),St.source=this.parseExprAtom();else{for(var bn=0,Cn=St.specifiers;bn<Cn.length;bn+=1){var Un=Cn[bn];this.checkUnreserved(Un.local),this.checkLocalExport(Un.local)}St.source=null}this.semicolon()}return this.finishNode(St,"ExportNamedDeclaration")},Wn.checkExport=function(St,At,Dt){!St||(Pt(St,At)&&this.raiseRecoverable(Dt,"Duplicate export '"+At+"'"),St[At]=!0)},Wn.checkPatternExport=function(St,At){var Dt=At.type;if(Dt==="Identifier")this.checkExport(St,At.name,At.start);else if(Dt==="ObjectPattern")for(var Kt=0,Zt=At.properties;Kt<Zt.length;Kt+=1){var bn=Zt[Kt];this.checkPatternExport(St,bn)}else if(Dt==="ArrayPattern")for(var Cn=0,Un=At.elements;Cn<Un.length;Cn+=1){var rr=Un[Cn];rr&&this.checkPatternExport(St,rr)}else Dt==="Property"?this.checkPatternExport(St,At.value):Dt==="AssignmentPattern"?this.checkPatternExport(St,At.left):Dt==="RestElement"?this.checkPatternExport(St,At.argument):Dt==="ParenthesizedExpression"&&this.checkPatternExport(St,At.expression)},Wn.checkVariableExport=function(St,At){if(!!St)for(var Dt=0,Kt=At;Dt<Kt.length;Dt+=1){var Zt=Kt[Dt];this.checkPatternExport(St,Zt.id)}},Wn.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Wn.parseExportSpecifiers=function(St){var At=[],Dt=!0;for(this.expect(ht.braceL);!this.eat(ht.braceR);){if(Dt)Dt=!1;else if(this.expect(ht.comma),this.afterTrailingComma(ht.braceR))break;var Kt=this.startNode();Kt.local=this.parseIdent(!0),Kt.exported=this.eatContextual("as")?this.parseIdent(!0):Kt.local,this.checkExport(St,Kt.exported.name,Kt.exported.start),At.push(this.finishNode(Kt,"ExportSpecifier"))}return At},Wn.parseImport=function(St){return this.next(),this.type===ht.string?(St.specifiers=an,St.source=this.parseExprAtom()):(St.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),St.source=this.type===ht.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(St,"ImportDeclaration")},Wn.parseImportSpecifiers=function(){var St=[],At=!0;if(this.type===ht.name){var Dt=this.startNode();if(Dt.local=this.parseIdent(),this.checkLVal(Dt.local,cr),St.push(this.finishNode(Dt,"ImportDefaultSpecifier")),!this.eat(ht.comma))return St}if(this.type===ht.star){var Kt=this.startNode();return this.next(),this.expectContextual("as"),Kt.local=this.parseIdent(),this.checkLVal(Kt.local,cr),St.push(this.finishNode(Kt,"ImportNamespaceSpecifier")),St}for(this.expect(ht.braceL);!this.eat(ht.braceR);){if(At)At=!1;else if(this.expect(ht.comma),this.afterTrailingComma(ht.braceR))break;var Zt=this.startNode();Zt.imported=this.parseIdent(!0),this.eatContextual("as")?Zt.local=this.parseIdent():(this.checkUnreserved(Zt.imported),Zt.local=Zt.imported),this.checkLVal(Zt.local,cr),St.push(this.finishNode(Zt,"ImportSpecifier"))}return St},Wn.adaptDirectivePrologue=function(St){for(var At=0;At<St.length&&this.isDirectiveCandidate(St[At]);++At)St[At].directive=St[At].expression.raw.slice(1,-1)},Wn.isDirectiveCandidate=function(St){return St.type==="ExpressionStatement"&&St.expression.type==="Literal"&&typeof St.expression.value=="string"&&(this.input[St.start]==='"'||this.input[St.start]==="'")};var Pn=Nn.prototype;Pn.toAssignable=function(St,At,Dt){if(this.options.ecmaVersion>=6&&St)switch(St.type){case"Identifier":this.inAsync&&St.name==="await"&&this.raise(St.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":St.type="ObjectPattern",Dt&&this.checkPatternErrors(Dt,!0);for(var Kt=0,Zt=St.properties;Kt<Zt.length;Kt+=1){var bn=Zt[Kt];this.toAssignable(bn,At),bn.type==="RestElement"&&(bn.argument.type==="ArrayPattern"||bn.argument.type==="ObjectPattern")&&this.raise(bn.argument.start,"Unexpected token")}break;case"Property":St.kind!=="init"&&this.raise(St.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(St.value,At);break;case"ArrayExpression":St.type="ArrayPattern",Dt&&this.checkPatternErrors(Dt,!0),this.toAssignableList(St.elements,At);break;case"SpreadElement":St.type="RestElement",this.toAssignable(St.argument,At),St.argument.type==="AssignmentPattern"&&this.raise(St.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":St.operator!=="="&&this.raise(St.left.end,"Only '=' operator can be used for specifying default value."),St.type="AssignmentPattern",delete St.operator,this.toAssignable(St.left,At);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(St.expression,At,Dt);break;case"MemberExpression":if(!At)break;default:this.raise(St.start,"Assigning to rvalue")}else Dt&&this.checkPatternErrors(Dt,!0);return St},Pn.toAssignableList=function(St,At){for(var Dt=St.length,Kt=0;Kt<Dt;Kt++){var Zt=St[Kt];Zt&&this.toAssignable(Zt,At)}if(Dt){var bn=St[Dt-1];this.options.ecmaVersion===6&&At&&bn&&bn.type==="RestElement"&&bn.argument.type!=="Identifier"&&this.unexpected(bn.argument.start)}return St},Pn.parseSpread=function(St){var At=this.startNode();return this.next(),At.argument=this.parseMaybeAssign(!1,St),this.finishNode(At,"SpreadElement")},Pn.parseRestBinding=function(){var St=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==ht.name&&this.unexpected(),St.argument=this.parseBindingAtom(),this.finishNode(St,"RestElement")},Pn.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case ht.bracketL:var St=this.startNode();return this.next(),St.elements=this.parseBindingList(ht.bracketR,!0,!0),this.finishNode(St,"ArrayPattern");case ht.braceL:return this.parseObj(!0)}return this.parseIdent()},Pn.parseBindingList=function(St,At,Dt){for(var Kt=[],Zt=!0;!this.eat(St);)if(Zt?Zt=!1:this.expect(ht.comma),At&&this.type===ht.comma)Kt.push(null);else{if(Dt&&this.afterTrailingComma(St))break;if(this.type===ht.ellipsis){var bn=this.parseRestBinding();this.parseBindingListItem(bn),Kt.push(bn),this.type===ht.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(St);break}else{var Cn=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(Cn),Kt.push(Cn)}}return Kt},Pn.parseBindingListItem=function(St){return St},Pn.parseMaybeDefault=function(St,At,Dt){if(Dt=Dt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(ht.eq))return Dt;var Kt=this.startNodeAt(St,At);return Kt.left=Dt,Kt.right=this.parseMaybeAssign(),this.finishNode(Kt,"AssignmentPattern")},Pn.checkLVal=function(St,At,Dt){switch(At===void 0&&(At=qn),St.type){case"Identifier":At===cr&&St.name==="let"&&this.raiseRecoverable(St.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(St.name)&&this.raiseRecoverable(St.start,(At?"Binding ":"Assigning to ")+St.name+" in strict mode"),Dt&&(Pt(Dt,St.name)&&this.raiseRecoverable(St.start,"Argument name clash"),Dt[St.name]=!0),At!==qn&&At!==Kn&&this.declareName(St.name,At,St.start);break;case"MemberExpression":At&&this.raiseRecoverable(St.start,"Binding member expression");break;case"ObjectPattern":for(var Kt=0,Zt=St.properties;Kt<Zt.length;Kt+=1){var bn=Zt[Kt];this.checkLVal(bn,At,Dt)}break;case"Property":this.checkLVal(St.value,At,Dt);break;case"ArrayPattern":for(var Cn=0,Un=St.elements;Cn<Un.length;Cn+=1){var rr=Un[Cn];rr&&this.checkLVal(rr,At,Dt)}break;case"AssignmentPattern":this.checkLVal(St.left,At,Dt);break;case"RestElement":this.checkLVal(St.argument,At,Dt);break;case"ParenthesizedExpression":this.checkLVal(St.expression,At,Dt);break;default:this.raise(St.start,(At?"Binding":"Assigning to")+" rvalue")}};var $n=Nn.prototype;$n.checkPropClash=function(St,At,Dt){if(!(this.options.ecmaVersion>=9&&St.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(St.computed||St.method||St.shorthand))){var Kt=St.key,Zt;switch(Kt.type){case"Identifier":Zt=Kt.name;break;case"Literal":Zt=String(Kt.value);break;default:return}var bn=St.kind;if(this.options.ecmaVersion>=6){Zt==="__proto__"&&bn==="init"&&(At.proto&&(Dt?Dt.doubleProto<0&&(Dt.doubleProto=Kt.start):this.raiseRecoverable(Kt.start,"Redefinition of __proto__ property")),At.proto=!0);return}Zt="$"+Zt;var Cn=At[Zt];if(Cn){var Un;bn==="init"?Un=this.strict&&Cn.init||Cn.get||Cn.set:Un=Cn.init||Cn[bn],Un&&this.raiseRecoverable(Kt.start,"Redefinition of property")}else Cn=At[Zt]={init:!1,get:!1,set:!1};Cn[bn]=!0}},$n.parseExpression=function(St,At){var Dt=this.start,Kt=this.startLoc,Zt=this.parseMaybeAssign(St,At);if(this.type===ht.comma){var bn=this.startNodeAt(Dt,Kt);for(bn.expressions=[Zt];this.eat(ht.comma);)bn.expressions.push(this.parseMaybeAssign(St,At));return this.finishNode(bn,"SequenceExpression")}return Zt},$n.parseMaybeAssign=function(St,At,Dt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(St);this.exprAllowed=!1}var Kt=!1,Zt=-1,bn=-1;At?(Zt=At.parenthesizedAssign,bn=At.trailingComma,At.parenthesizedAssign=At.trailingComma=-1):(At=new or,Kt=!0);var Cn=this.start,Un=this.startLoc;(this.type===ht.parenL||this.type===ht.name)&&(this.potentialArrowAt=this.start);var rr=this.parseMaybeConditional(St,At);if(Dt&&(rr=Dt.call(this,rr,Cn,Un)),this.type.isAssign){var Er=this.startNodeAt(Cn,Un);return Er.operator=this.value,Er.left=this.type===ht.eq?this.toAssignable(rr,!1,At):rr,Kt||(At.parenthesizedAssign=At.trailingComma=At.doubleProto=-1),At.shorthandAssign>=Er.left.start&&(At.shorthandAssign=-1),this.checkLVal(rr),this.next(),Er.right=this.parseMaybeAssign(St),this.finishNode(Er,"AssignmentExpression")}else Kt&&this.checkExpressionErrors(At,!0);return Zt>-1&&(At.parenthesizedAssign=Zt),bn>-1&&(At.trailingComma=bn),rr},$n.parseMaybeConditional=function(St,At){var Dt=this.start,Kt=this.startLoc,Zt=this.parseExprOps(St,At);if(this.checkExpressionErrors(At))return Zt;if(this.eat(ht.question)){var bn=this.startNodeAt(Dt,Kt);return bn.test=Zt,bn.consequent=this.parseMaybeAssign(),this.expect(ht.colon),bn.alternate=this.parseMaybeAssign(St),this.finishNode(bn,"ConditionalExpression")}return Zt},$n.parseExprOps=function(St,At){var Dt=this.start,Kt=this.startLoc,Zt=this.parseMaybeUnary(At,!1);return this.checkExpressionErrors(At)||Zt.start===Dt&&Zt.type==="ArrowFunctionExpression"?Zt:this.parseExprOp(Zt,Dt,Kt,-1,St)},$n.parseExprOp=function(St,At,Dt,Kt,Zt){var bn=this.type.binop;if(bn!=null&&(!Zt||this.type!==ht._in)&&bn>Kt){var Cn=this.type===ht.logicalOR||this.type===ht.logicalAND,Un=this.value;this.next();var rr=this.start,Er=this.startLoc,Ur=this.parseExprOp(this.parseMaybeUnary(null,!1),rr,Er,bn,Zt),ss=this.buildBinary(At,Dt,St,Ur,Un,Cn);return this.parseExprOp(ss,At,Dt,Kt,Zt)}return St},$n.buildBinary=function(St,At,Dt,Kt,Zt,bn){var Cn=this.startNodeAt(St,At);return Cn.left=Dt,Cn.operator=Zt,Cn.right=Kt,this.finishNode(Cn,bn?"LogicalExpression":"BinaryExpression")},$n.parseMaybeUnary=function(St,At){var Dt=this.start,Kt=this.startLoc,Zt;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))Zt=this.parseAwait(),At=!0;else if(this.type.prefix){var bn=this.startNode(),Cn=this.type===ht.incDec;bn.operator=this.value,bn.prefix=!0,this.next(),bn.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(St,!0),Cn?this.checkLVal(bn.argument):this.strict&&bn.operator==="delete"&&bn.argument.type==="Identifier"?this.raiseRecoverable(bn.start,"Deleting local variable in strict mode"):At=!0,Zt=this.finishNode(bn,Cn?"UpdateExpression":"UnaryExpression")}else{if(Zt=this.parseExprSubscripts(St),this.checkExpressionErrors(St))return Zt;for(;this.type.postfix&&!this.canInsertSemicolon();){var Un=this.startNodeAt(Dt,Kt);Un.operator=this.value,Un.prefix=!1,Un.argument=Zt,this.checkLVal(Zt),this.next(),Zt=this.finishNode(Un,"UpdateExpression")}}return!At&&this.eat(ht.starstar)?this.buildBinary(Dt,Kt,Zt,this.parseMaybeUnary(null,!1),"**",!1):Zt},$n.parseExprSubscripts=function(St){var At=this.start,Dt=this.startLoc,Kt=this.parseExprAtom(St);if(Kt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Kt;var Zt=this.parseSubscripts(Kt,At,Dt);return St&&Zt.type==="MemberExpression"&&(St.parenthesizedAssign>=Zt.start&&(St.parenthesizedAssign=-1),St.parenthesizedBind>=Zt.start&&(St.parenthesizedBind=-1)),Zt},$n.parseSubscripts=function(St,At,Dt,Kt){for(var Zt=this.options.ecmaVersion>=8&&St.type==="Identifier"&&St.name==="async"&&this.lastTokEnd===St.end&&!this.canInsertSemicolon()&&this.input.slice(St.start,St.end)==="async";;){var bn=this.parseSubscript(St,At,Dt,Kt,Zt);if(bn===St||bn.type==="ArrowFunctionExpression")return bn;St=bn}},$n.parseSubscript=function(St,At,Dt,Kt,Zt){var bn=this.eat(ht.bracketL);if(bn||this.eat(ht.dot)){var Cn=this.startNodeAt(At,Dt);Cn.object=St,Cn.property=bn?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),Cn.computed=!!bn,bn&&this.expect(ht.bracketR),St=this.finishNode(Cn,"MemberExpression")}else if(!Kt&&this.eat(ht.parenL)){var Un=new or,rr=this.yieldPos,Er=this.awaitPos,Ur=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ss=this.parseExprList(ht.parenR,this.options.ecmaVersion>=8,!1,Un);if(Zt&&!this.canInsertSemicolon()&&this.eat(ht.arrow))return this.checkPatternErrors(Un,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=rr,this.awaitPos=Er,this.awaitIdentPos=Ur,this.parseArrowExpression(this.startNodeAt(At,Dt),ss,!0);this.checkExpressionErrors(Un,!0),this.yieldPos=rr||this.yieldPos,this.awaitPos=Er||this.awaitPos,this.awaitIdentPos=Ur||this.awaitIdentPos;var _t=this.startNodeAt(At,Dt);_t.callee=St,_t.arguments=ss,St=this.finishNode(_t,"CallExpression")}else if(this.type===ht.backQuote){var $t=this.startNodeAt(At,Dt);$t.tag=St,$t.quasi=this.parseTemplate({isTagged:!0}),St=this.finishNode($t,"TaggedTemplateExpression")}return St},$n.parseExprAtom=function(St){this.type===ht.slash&&this.readRegexp();var At,Dt=this.potentialArrowAt===this.start;switch(this.type){case ht._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),At=this.startNode(),this.next(),this.type===ht.parenL&&!this.allowDirectSuper&&this.raise(At.start,"super() call outside constructor of a subclass"),this.type!==ht.dot&&this.type!==ht.bracketL&&this.type!==ht.parenL&&this.unexpected(),this.finishNode(At,"Super");case ht._this:return At=this.startNode(),this.next(),this.finishNode(At,"ThisExpression");case ht.name:var Kt=this.start,Zt=this.startLoc,bn=this.containsEsc,Cn=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!bn&&Cn.name==="async"&&!this.canInsertSemicolon()&&this.eat(ht._function))return this.parseFunction(this.startNodeAt(Kt,Zt),0,!1,!0);if(Dt&&!this.canInsertSemicolon()){if(this.eat(ht.arrow))return this.parseArrowExpression(this.startNodeAt(Kt,Zt),[Cn],!1);if(this.options.ecmaVersion>=8&&Cn.name==="async"&&this.type===ht.name&&!bn)return Cn=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(ht.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Kt,Zt),[Cn],!0)}return Cn;case ht.regexp:var Un=this.value;return At=this.parseLiteral(Un.value),At.regex={pattern:Un.pattern,flags:Un.flags},At;case ht.num:case ht.string:return this.parseLiteral(this.value);case ht._null:case ht._true:case ht._false:return At=this.startNode(),At.value=this.type===ht._null?null:this.type===ht._true,At.raw=this.type.keyword,this.next(),this.finishNode(At,"Literal");case ht.parenL:var rr=this.start,Er=this.parseParenAndDistinguishExpression(Dt);return St&&(St.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Er)&&(St.parenthesizedAssign=rr),St.parenthesizedBind<0&&(St.parenthesizedBind=rr)),Er;case ht.bracketL:return At=this.startNode(),this.next(),At.elements=this.parseExprList(ht.bracketR,!0,!0,St),this.finishNode(At,"ArrayExpression");case ht.braceL:return this.parseObj(!1,St);case ht._function:return At=this.startNode(),this.next(),this.parseFunction(At,0);case ht._class:return this.parseClass(this.startNode(),!1);case ht._new:return this.parseNew();case ht.backQuote:return this.parseTemplate();case ht._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},$n.parseExprImport=function(){var St=this.startNode();switch(this.next(),this.type){case ht.parenL:return this.parseDynamicImport(St);default:this.unexpected()}},$n.parseDynamicImport=function(St){if(this.next(),St.source=this.parseMaybeAssign(),!this.eat(ht.parenR)){var At=this.start;this.eat(ht.comma)&&this.eat(ht.parenR)?this.raiseRecoverable(At,"Trailing comma is not allowed in import()"):this.unexpected(At)}return this.finishNode(St,"ImportExpression")},$n.parseLiteral=function(St){var At=this.startNode();return At.value=St,At.raw=this.input.slice(this.start,this.end),At.raw.charCodeAt(At.raw.length-1)===110&&(At.bigint=At.raw.slice(0,-1)),this.next(),this.finishNode(At,"Literal")},$n.parseParenExpression=function(){this.expect(ht.parenL);var St=this.parseExpression();return this.expect(ht.parenR),St},$n.parseParenAndDistinguishExpression=function(St){var At=this.start,Dt=this.startLoc,Kt,Zt=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var bn=this.start,Cn=this.startLoc,Un=[],rr=!0,Er=!1,Ur=new or,ss=this.yieldPos,_t=this.awaitPos,$t;for(this.yieldPos=0,this.awaitPos=0;this.type!==ht.parenR;)if(rr?rr=!1:this.expect(ht.comma),Zt&&this.afterTrailingComma(ht.parenR,!0)){Er=!0;break}else if(this.type===ht.ellipsis){$t=this.start,Un.push(this.parseParenItem(this.parseRestBinding())),this.type===ht.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else Un.push(this.parseMaybeAssign(!1,Ur,this.parseParenItem));var Ft=this.start,Bt=this.startLoc;if(this.expect(ht.parenR),St&&!this.canInsertSemicolon()&&this.eat(ht.arrow))return this.checkPatternErrors(Ur,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=ss,this.awaitPos=_t,this.parseParenArrowList(At,Dt,Un);(!Un.length||Er)&&this.unexpected(this.lastTokStart),$t&&this.unexpected($t),this.checkExpressionErrors(Ur,!0),this.yieldPos=ss||this.yieldPos,this.awaitPos=_t||this.awaitPos,Un.length>1?(Kt=this.startNodeAt(bn,Cn),Kt.expressions=Un,this.finishNodeAt(Kt,"SequenceExpression",Ft,Bt)):Kt=Un[0]}else Kt=this.parseParenExpression();if(this.options.preserveParens){var tn=this.startNodeAt(At,Dt);return tn.expression=Kt,this.finishNode(tn,"ParenthesizedExpression")}else return Kt},$n.parseParenItem=function(St){return St},$n.parseParenArrowList=function(St,At,Dt){return this.parseArrowExpression(this.startNodeAt(St,At),Dt)};var Yn=[];$n.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var St=this.startNode(),At=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(ht.dot)){St.meta=At;var Dt=this.containsEsc;return St.property=this.parseIdent(!0),(St.property.name!=="target"||Dt)&&this.raiseRecoverable(St.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(St.start,"new.target can only be used in functions"),this.finishNode(St,"MetaProperty")}var Kt=this.start,Zt=this.startLoc,bn=this.type===ht._import;return St.callee=this.parseSubscripts(this.parseExprAtom(),Kt,Zt,!0),bn&&St.callee.type==="ImportExpression"&&this.raise(Kt,"Cannot use new with import()"),this.eat(ht.parenL)?St.arguments=this.parseExprList(ht.parenR,this.options.ecmaVersion>=8,!1):St.arguments=Yn,this.finishNode(St,"NewExpression")},$n.parseTemplateElement=function(St){var At=St.isTagged,Dt=this.startNode();return this.type===ht.invalidTemplate?(At||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Dt.value={raw:this.value,cooked:null}):Dt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Dt.tail=this.type===ht.backQuote,this.finishNode(Dt,"TemplateElement")},$n.parseTemplate=function(St){St===void 0&&(St={});var At=St.isTagged;At===void 0&&(At=!1);var Dt=this.startNode();this.next(),Dt.expressions=[];var Kt=this.parseTemplateElement({isTagged:At});for(Dt.quasis=[Kt];!Kt.tail;)this.type===ht.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(ht.dollarBraceL),Dt.expressions.push(this.parseExpression()),this.expect(ht.braceR),Dt.quasis.push(Kt=this.parseTemplateElement({isTagged:At}));return this.next(),this.finishNode(Dt,"TemplateLiteral")},$n.isAsyncProp=function(St){return!St.computed&&St.key.type==="Identifier"&&St.key.name==="async"&&(this.type===ht.name||this.type===ht.num||this.type===ht.string||this.type===ht.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===ht.star)&&!xt.test(this.input.slice(this.lastTokEnd,this.start))},$n.parseObj=function(St,At){var Dt=this.startNode(),Kt=!0,Zt={};for(Dt.properties=[],this.next();!this.eat(ht.braceR);){if(Kt)Kt=!1;else if(this.expect(ht.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(ht.braceR))break;var bn=this.parseProperty(St,At);St||this.checkPropClash(bn,Zt,At),Dt.properties.push(bn)}return this.finishNode(Dt,St?"ObjectPattern":"ObjectExpression")},$n.parseProperty=function(St,At){var Dt=this.startNode(),Kt,Zt,bn,Cn;if(this.options.ecmaVersion>=9&&this.eat(ht.ellipsis))return St?(Dt.argument=this.parseIdent(!1),this.type===ht.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Dt,"RestElement")):(this.type===ht.parenL&&At&&(At.parenthesizedAssign<0&&(At.parenthesizedAssign=this.start),At.parenthesizedBind<0&&(At.parenthesizedBind=this.start)),Dt.argument=this.parseMaybeAssign(!1,At),this.type===ht.comma&&At&&At.trailingComma<0&&(At.trailingComma=this.start),this.finishNode(Dt,"SpreadElement"));this.options.ecmaVersion>=6&&(Dt.method=!1,Dt.shorthand=!1,(St||At)&&(bn=this.start,Cn=this.startLoc),St||(Kt=this.eat(ht.star)));var Un=this.containsEsc;return this.parsePropertyName(Dt),!St&&!Un&&this.options.ecmaVersion>=8&&!Kt&&this.isAsyncProp(Dt)?(Zt=!0,Kt=this.options.ecmaVersion>=9&&this.eat(ht.star),this.parsePropertyName(Dt,At)):Zt=!1,this.parsePropertyValue(Dt,St,Kt,Zt,bn,Cn,At,Un),this.finishNode(Dt,"Property")},$n.parsePropertyValue=function(St,At,Dt,Kt,Zt,bn,Cn,Un){if((Dt||Kt)&&this.type===ht.colon&&this.unexpected(),this.eat(ht.colon))St.value=At?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Cn),St.kind="init";else if(this.options.ecmaVersion>=6&&this.type===ht.parenL)At&&this.unexpected(),St.kind="init",St.method=!0,St.value=this.parseMethod(Dt,Kt);else if(!At&&!Un&&this.options.ecmaVersion>=5&&!St.computed&&St.key.type==="Identifier"&&(St.key.name==="get"||St.key.name==="set")&&this.type!==ht.comma&&this.type!==ht.braceR){(Dt||Kt)&&this.unexpected(),St.kind=St.key.name,this.parsePropertyName(St),St.value=this.parseMethod(!1);var rr=St.kind==="get"?0:1;if(St.value.params.length!==rr){var Er=St.value.start;St.kind==="get"?this.raiseRecoverable(Er,"getter should have no params"):this.raiseRecoverable(Er,"setter should have exactly one param")}else St.kind==="set"&&St.value.params[0].type==="RestElement"&&this.raiseRecoverable(St.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!St.computed&&St.key.type==="Identifier"?((Dt||Kt)&&this.unexpected(),this.checkUnreserved(St.key),St.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Zt),St.kind="init",At?St.value=this.parseMaybeDefault(Zt,bn,St.key):this.type===ht.eq&&Cn?(Cn.shorthandAssign<0&&(Cn.shorthandAssign=this.start),St.value=this.parseMaybeDefault(Zt,bn,St.key)):St.value=St.key,St.shorthand=!0):this.unexpected()},$n.parsePropertyName=function(St){if(this.options.ecmaVersion>=6){if(this.eat(ht.bracketL))return St.computed=!0,St.key=this.parseMaybeAssign(),this.expect(ht.bracketR),St.key;St.computed=!1}return St.key=this.type===ht.num||this.type===ht.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},$n.initFunction=function(St){St.id=null,this.options.ecmaVersion>=6&&(St.generator=St.expression=!1),this.options.ecmaVersion>=8&&(St.async=!1)},$n.parseMethod=function(St,At,Dt){var Kt=this.startNode(),Zt=this.yieldPos,bn=this.awaitPos,Cn=this.awaitIdentPos;return this.initFunction(Kt),this.options.ecmaVersion>=6&&(Kt.generator=St),this.options.ecmaVersion>=8&&(Kt.async=!!At),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(dn(At,Kt.generator)|cn|(Dt?kn:0)),this.expect(ht.parenL),Kt.params=this.parseBindingList(ht.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Kt,!1,!0),this.yieldPos=Zt,this.awaitPos=bn,this.awaitIdentPos=Cn,this.finishNode(Kt,"FunctionExpression")},$n.parseArrowExpression=function(St,At,Dt){var Kt=this.yieldPos,Zt=this.awaitPos,bn=this.awaitIdentPos;return this.enterScope(dn(Dt,!1)|Qt),this.initFunction(St),this.options.ecmaVersion>=8&&(St.async=!!Dt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,St.params=this.toAssignableList(At,!0),this.parseFunctionBody(St,!0,!1),this.yieldPos=Kt,this.awaitPos=Zt,this.awaitIdentPos=bn,this.finishNode(St,"ArrowFunctionExpression")},$n.parseFunctionBody=function(St,At,Dt){var Kt=At&&this.type!==ht.braceL,Zt=this.strict,bn=!1;if(Kt)St.body=this.parseMaybeAssign(),St.expression=!0,this.checkParams(St,!1);else{var Cn=this.options.ecmaVersion>=7&&!this.isSimpleParamList(St.params);(!Zt||Cn)&&(bn=this.strictDirective(this.end),bn&&Cn&&this.raiseRecoverable(St.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Un=this.labels;this.labels=[],bn&&(this.strict=!0),this.checkParams(St,!Zt&&!bn&&!At&&!Dt&&this.isSimpleParamList(St.params)),St.body=this.parseBlock(!1),St.expression=!1,this.adaptDirectivePrologue(St.body.body),this.labels=Un}this.exitScope(),this.strict&&St.id&&this.checkLVal(St.id,Kn),this.strict=Zt},$n.isSimpleParamList=function(St){for(var At=0,Dt=St;At<Dt.length;At+=1){var Kt=Dt[At];if(Kt.type!=="Identifier")return!1}return!0},$n.checkParams=function(St,At){for(var Dt={},Kt=0,Zt=St.params;Kt<Zt.length;Kt+=1){var bn=Zt[Kt];this.checkLVal(bn,ur,At?null:Dt)}},$n.parseExprList=function(St,At,Dt,Kt){for(var Zt=[],bn=!0;!this.eat(St);){if(bn)bn=!1;else if(this.expect(ht.comma),At&&this.afterTrailingComma(St))break;var Cn=void 0;Dt&&this.type===ht.comma?Cn=null:this.type===ht.ellipsis?(Cn=this.parseSpread(Kt),Kt&&this.type===ht.comma&&Kt.trailingComma<0&&(Kt.trailingComma=this.start)):Cn=this.parseMaybeAssign(!1,Kt),Zt.push(Cn)}return Zt},$n.checkUnreserved=function(St){var At=St.start,Dt=St.end,Kt=St.name;if(this.inGenerator&&Kt==="yield"&&this.raiseRecoverable(At,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Kt==="await"&&this.raiseRecoverable(At,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Kt)&&this.raise(At,"Unexpected keyword '"+Kt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(At,Dt).indexOf("\\")!==-1)){var Zt=this.strict?this.reservedWordsStrict:this.reservedWords;Zt.test(Kt)&&(!this.inAsync&&Kt==="await"&&this.raiseRecoverable(At,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(At,"The keyword '"+Kt+"' is reserved"))}},$n.parseIdent=function(St,At){var Dt=this.startNode();return this.type===ht.name?Dt.name=this.value:this.type.keyword?(Dt.name=this.type.keyword,(Dt.name==="class"||Dt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!St),this.finishNode(Dt,"Identifier"),St||(this.checkUnreserved(Dt),Dt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Dt.start)),Dt},$n.parseYield=function(St){this.yieldPos||(this.yieldPos=this.start);var At=this.startNode();return this.next(),this.type===ht.semi||this.canInsertSemicolon()||this.type!==ht.star&&!this.type.startsExpr?(At.delegate=!1,At.argument=null):(At.delegate=this.eat(ht.star),At.argument=this.parseMaybeAssign(St)),this.finishNode(At,"YieldExpression")},$n.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var St=this.startNode();return this.next(),St.argument=this.parseMaybeUnary(null,!1),this.finishNode(St,"AwaitExpression")};var lr=Nn.prototype;lr.raise=function(St,At){var Dt=Vt(this.input,St);At+=" ("+Dt.line+":"+Dt.column+")";var Kt=new SyntaxError(At);throw Kt.pos=St,Kt.loc=Dt,Kt.raisedAt=this.pos,Kt},lr.raiseRecoverable=lr.raise,lr.curPosition=function(){if(this.options.locations)return new rn(this.curLine,this.pos-this.lineStart)};var Mn=Nn.prototype,Zn=function(At){this.flags=At,this.var=[],this.lexical=[],this.functions=[]};Mn.enterScope=function(St){this.scopeStack.push(new Zn(St))},Mn.exitScope=function(){this.scopeStack.pop()},Mn.treatFunctionsAsVarInScope=function(St){return St.flags&fn||!this.inModule&&St.flags&_n},Mn.declareName=function(St,At,Dt){var Kt=!1;if(At===cr){var Zt=this.currentScope();Kt=Zt.lexical.indexOf(St)>-1||Zt.functions.indexOf(St)>-1||Zt.var.indexOf(St)>-1,Zt.lexical.push(St),this.inModule&&Zt.flags&_n&&delete this.undefinedExports[St]}else if(At===En){var bn=this.currentScope();bn.lexical.push(St)}else if(At===Mr){var Cn=this.currentScope();this.treatFunctionsAsVar?Kt=Cn.lexical.indexOf(St)>-1:Kt=Cn.lexical.indexOf(St)>-1||Cn.var.indexOf(St)>-1,Cn.functions.push(St)}else for(var Un=this.scopeStack.length-1;Un>=0;--Un){var rr=this.scopeStack[Un];if(rr.lexical.indexOf(St)>-1&&!(rr.flags&Gt&&rr.lexical[0]===St)||!this.treatFunctionsAsVarInScope(rr)&&rr.functions.indexOf(St)>-1){Kt=!0;break}if(rr.var.push(St),this.inModule&&rr.flags&_n&&delete this.undefinedExports[St],rr.flags&wn)break}Kt&&this.raiseRecoverable(Dt,"Identifier '"+St+"' has already been declared")},Mn.checkLocalExport=function(St){this.scopeStack[0].lexical.indexOf(St.name)===-1&&this.scopeStack[0].var.indexOf(St.name)===-1&&(this.undefinedExports[St.name]=St)},Mn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Mn.currentVarScope=function(){for(var St=this.scopeStack.length-1;;St--){var At=this.scopeStack[St];if(At.flags&wn)return At}},Mn.currentThisScope=function(){for(var St=this.scopeStack.length-1;;St--){var At=this.scopeStack[St];if(At.flags&wn&&!(At.flags&Qt))return At}};var Vn=function(At,Dt,Kt){this.type="",this.start=Dt,this.end=0,At.options.locations&&(this.loc=new jt(At,Kt)),At.options.directSourceFile&&(this.sourceFile=At.options.directSourceFile),At.options.ranges&&(this.range=[Dt,0])},er=Nn.prototype;er.startNode=function(){return new Vn(this,this.start,this.startLoc)},er.startNodeAt=function(St,At){return new Vn(this,St,At)};function jn(St,At,Dt,Kt){return St.type=At,St.end=Dt,this.options.locations&&(St.loc.end=Kt),this.options.ranges&&(St.range[1]=Dt),St}er.finishNode=function(St,At){return jn.call(this,St,At,this.lastTokEnd,this.lastTokEndLoc)},er.finishNodeAt=function(St,At,Dt,Kt){return jn.call(this,St,At,Dt,Kt)};var zn=function(At,Dt,Kt,Zt,bn){this.token=At,this.isExpr=!!Dt,this.preserveSpace=!!Kt,this.override=Zt,this.generator=!!bn},yr={b_stat:new zn("{",!1),b_expr:new zn("{",!0),b_tmpl:new zn("${",!1),p_stat:new zn("(",!1),p_expr:new zn("(",!0),q_tmpl:new zn("`",!0,!0,function(St){return St.tryReadTemplateToken()}),f_stat:new zn("function",!1),f_expr:new zn("function",!0),f_expr_gen:new zn("function",!0,!1,null,!0),f_gen:new zn("function",!1,!1,null,!0)},ls=Nn.prototype;ls.initialContext=function(){return[yr.b_stat]},ls.braceIsBlock=function(St){var At=this.curContext();return At===yr.f_expr||At===yr.f_stat?!0:St===ht.colon&&(At===yr.b_stat||At===yr.b_expr)?!At.isExpr:St===ht._return||St===ht.name&&this.exprAllowed?xt.test(this.input.slice(this.lastTokEnd,this.start)):St===ht._else||St===ht.semi||St===ht.eof||St===ht.parenR||St===ht.arrow?!0:St===ht.braceL?At===yr.b_stat:St===ht._var||St===ht._const||St===ht.name?!1:!this.exprAllowed},ls.inGeneratorContext=function(){for(var St=this.context.length-1;St>=1;St--){var At=this.context[St];if(At.token==="function")return At.generator}return!1},ls.updateContext=function(St){var At,Dt=this.type;Dt.keyword&&St===ht.dot?this.exprAllowed=!1:(At=Dt.updateContext)?At.call(this,St):this.exprAllowed=Dt.beforeExpr},ht.parenR.updateContext=ht.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var St=this.context.pop();St===yr.b_stat&&this.curContext().token==="function"&&(St=this.context.pop()),this.exprAllowed=!St.isExpr},ht.braceL.updateContext=function(St){this.context.push(this.braceIsBlock(St)?yr.b_stat:yr.b_expr),this.exprAllowed=!0},ht.dollarBraceL.updateContext=function(){this.context.push(yr.b_tmpl),this.exprAllowed=!0},ht.parenL.updateContext=function(St){var At=St===ht._if||St===ht._for||St===ht._with||St===ht._while;this.context.push(At?yr.p_stat:yr.p_expr),this.exprAllowed=!0},ht.incDec.updateContext=function(){},ht._function.updateContext=ht._class.updateContext=function(St){St.beforeExpr&&St!==ht.semi&&St!==ht._else&&!(St===ht._return&&xt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((St===ht.colon||St===ht.braceL)&&this.curContext()===yr.b_stat)?this.context.push(yr.f_expr):this.context.push(yr.f_stat),this.exprAllowed=!1},ht.backQuote.updateContext=function(){this.curContext()===yr.q_tmpl?this.context.pop():this.context.push(yr.q_tmpl),this.exprAllowed=!1},ht.star.updateContext=function(St){if(St===ht._function){var At=this.context.length-1;this.context[At]===yr.f_expr?this.context[At]=yr.f_expr_gen:this.context[At]=yr.f_gen}this.exprAllowed=!0},ht.name.updateContext=function(St){var At=!1;this.options.ecmaVersion>=6&&St!==ht.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(At=!0),this.exprAllowed=At};var Jr="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",_s=Jr+" Extended_Pictographic",Rs=_s,Yr={9:Jr,10:_s,11:Rs},Is="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Zs="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ls=Zs+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Js=Ls+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",zs={9:Zs,10:Ls,11:Js},qr={};function na(St){var At=qr[St]={binary:Xt(Yr[St]+" "+Is),nonBinary:{General_Category:Xt(Is),Script:Xt(zs[St])}};At.nonBinary.Script_Extensions=At.nonBinary.Script,At.nonBinary.gc=At.nonBinary.General_Category,At.nonBinary.sc=At.nonBinary.Script,At.nonBinary.scx=At.nonBinary.Script_Extensions}na(9),na(10),na(11);var tr=Nn.prototype,rs=function(At){this.parser=At,this.validFlags="gim"+(At.options.ecmaVersion>=6?"uy":"")+(At.options.ecmaVersion>=9?"s":""),this.unicodeProperties=qr[At.options.ecmaVersion>=11?11:At.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};rs.prototype.reset=function(At,Dt,Kt){var Zt=Kt.indexOf("u")!==-1;this.start=At|0,this.source=Dt+"",this.flags=Kt,this.switchU=Zt&&this.parser.options.ecmaVersion>=6,this.switchN=Zt&&this.parser.options.ecmaVersion>=9},rs.prototype.raise=function(At){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+At)},rs.prototype.at=function(At){var Dt=this.source,Kt=Dt.length;if(At>=Kt)return-1;var Zt=Dt.charCodeAt(At);if(!this.switchU||Zt<=55295||Zt>=57344||At+1>=Kt)return Zt;var bn=Dt.charCodeAt(At+1);return bn>=56320&&bn<=57343?(Zt<<10)+bn-56613888:Zt},rs.prototype.nextIndex=function(At){var Dt=this.source,Kt=Dt.length;if(At>=Kt)return Kt;var Zt=Dt.charCodeAt(At),bn;return!this.switchU||Zt<=55295||Zt>=57344||At+1>=Kt||(bn=Dt.charCodeAt(At+1))<56320||bn>57343?At+1:At+2},rs.prototype.current=function(){return this.at(this.pos)},rs.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},rs.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},rs.prototype.eat=function(At){return this.current()===At?(this.advance(),!0):!1};function Ms(St){return St<=65535?String.fromCharCode(St):(St-=65536,String.fromCharCode((St>>10)+55296,(St&1023)+56320))}tr.validateRegExpFlags=function(St){for(var At=St.validFlags,Dt=St.flags,Kt=0;Kt<Dt.length;Kt++){var Zt=Dt.charAt(Kt);At.indexOf(Zt)===-1&&this.raise(St.start,"Invalid regular expression flag"),Dt.indexOf(Zt,Kt+1)>-1&&this.raise(St.start,"Duplicate regular expression flag")}},tr.validateRegExpPattern=function(St){this.regexp_pattern(St),!St.switchN&&this.options.ecmaVersion>=9&&St.groupNames.length>0&&(St.switchN=!0,this.regexp_pattern(St))},tr.regexp_pattern=function(St){St.pos=0,St.lastIntValue=0,St.lastStringValue="",St.lastAssertionIsQuantifiable=!1,St.numCapturingParens=0,St.maxBackReference=0,St.groupNames.length=0,St.backReferenceNames.length=0,this.regexp_disjunction(St),St.pos!==St.source.length&&(St.eat(41)&&St.raise("Unmatched ')'"),(St.eat(93)||St.eat(125))&&St.raise("Lone quantifier brackets")),St.maxBackReference>St.numCapturingParens&&St.raise("Invalid escape");for(var At=0,Dt=St.backReferenceNames;At<Dt.length;At+=1){var Kt=Dt[At];St.groupNames.indexOf(Kt)===-1&&St.raise("Invalid named capture referenced")}},tr.regexp_disjunction=function(St){for(this.regexp_alternative(St);St.eat(124);)this.regexp_alternative(St);this.regexp_eatQuantifier(St,!0)&&St.raise("Nothing to repeat"),St.eat(123)&&St.raise("Lone quantifier brackets")},tr.regexp_alternative=function(St){for(;St.pos<St.source.length&&this.regexp_eatTerm(St););},tr.regexp_eatTerm=function(St){return this.regexp_eatAssertion(St)?(St.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(St)&&St.switchU&&St.raise("Invalid quantifier"),!0):(St.switchU?this.regexp_eatAtom(St):this.regexp_eatExtendedAtom(St))?(this.regexp_eatQuantifier(St),!0):!1},tr.regexp_eatAssertion=function(St){var At=St.pos;if(St.lastAssertionIsQuantifiable=!1,St.eat(94)||St.eat(36))return!0;if(St.eat(92)){if(St.eat(66)||St.eat(98))return!0;St.pos=At}if(St.eat(40)&&St.eat(63)){var Dt=!1;if(this.options.ecmaVersion>=9&&(Dt=St.eat(60)),St.eat(61)||St.eat(33))return this.regexp_disjunction(St),St.eat(41)||St.raise("Unterminated group"),St.lastAssertionIsQuantifiable=!Dt,!0}return St.pos=At,!1},tr.regexp_eatQuantifier=function(St,At){return At===void 0&&(At=!1),this.regexp_eatQuantifierPrefix(St,At)?(St.eat(63),!0):!1},tr.regexp_eatQuantifierPrefix=function(St,At){return St.eat(42)||St.eat(43)||St.eat(63)||this.regexp_eatBracedQuantifier(St,At)},tr.regexp_eatBracedQuantifier=function(St,At){var Dt=St.pos;if(St.eat(123)){var Kt=0,Zt=-1;if(this.regexp_eatDecimalDigits(St)&&(Kt=St.lastIntValue,St.eat(44)&&this.regexp_eatDecimalDigits(St)&&(Zt=St.lastIntValue),St.eat(125)))return Zt!==-1&&Zt<Kt&&!At&&St.raise("numbers out of order in {} quantifier"),!0;St.switchU&&!At&&St.raise("Incomplete quantifier"),St.pos=Dt}return!1},tr.regexp_eatAtom=function(St){return this.regexp_eatPatternCharacters(St)||St.eat(46)||this.regexp_eatReverseSolidusAtomEscape(St)||this.regexp_eatCharacterClass(St)||this.regexp_eatUncapturingGroup(St)||this.regexp_eatCapturingGroup(St)},tr.regexp_eatReverseSolidusAtomEscape=function(St){var At=St.pos;if(St.eat(92)){if(this.regexp_eatAtomEscape(St))return!0;St.pos=At}return!1},tr.regexp_eatUncapturingGroup=function(St){var At=St.pos;if(St.eat(40)){if(St.eat(63)&&St.eat(58)){if(this.regexp_disjunction(St),St.eat(41))return!0;St.raise("Unterminated group")}St.pos=At}return!1},tr.regexp_eatCapturingGroup=function(St){if(St.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(St):St.current()===63&&St.raise("Invalid group"),this.regexp_disjunction(St),St.eat(41))return St.numCapturingParens+=1,!0;St.raise("Unterminated group")}return!1},tr.regexp_eatExtendedAtom=function(St){return St.eat(46)||this.regexp_eatReverseSolidusAtomEscape(St)||this.regexp_eatCharacterClass(St)||this.regexp_eatUncapturingGroup(St)||this.regexp_eatCapturingGroup(St)||this.regexp_eatInvalidBracedQuantifier(St)||this.regexp_eatExtendedPatternCharacter(St)},tr.regexp_eatInvalidBracedQuantifier=function(St){return this.regexp_eatBracedQuantifier(St,!0)&&St.raise("Nothing to repeat"),!1},tr.regexp_eatSyntaxCharacter=function(St){var At=St.current();return ga(At)?(St.lastIntValue=At,St.advance(),!0):!1};function ga(St){return St===36||St>=40&&St<=43||St===46||St===63||St>=91&&St<=94||St>=123&&St<=125}tr.regexp_eatPatternCharacters=function(St){for(var At=St.pos,Dt=0;(Dt=St.current())!==-1&&!ga(Dt);)St.advance();return St.pos!==At},tr.regexp_eatExtendedPatternCharacter=function(St){var At=St.current();return At!==-1&&At!==36&&!(At>=40&&At<=43)&&At!==46&&At!==63&&At!==91&&At!==94&&At!==124?(St.advance(),!0):!1},tr.regexp_groupSpecifier=function(St){if(St.eat(63)){if(this.regexp_eatGroupName(St)){St.groupNames.indexOf(St.lastStringValue)!==-1&&St.raise("Duplicate capture group name"),St.groupNames.push(St.lastStringValue);return}St.raise("Invalid group")}},tr.regexp_eatGroupName=function(St){if(St.lastStringValue="",St.eat(60)){if(this.regexp_eatRegExpIdentifierName(St)&&St.eat(62))return!0;St.raise("Invalid capture group name")}return!1},tr.regexp_eatRegExpIdentifierName=function(St){if(St.lastStringValue="",this.regexp_eatRegExpIdentifierStart(St)){for(St.lastStringValue+=Ms(St.lastIntValue);this.regexp_eatRegExpIdentifierPart(St);)St.lastStringValue+=Ms(St.lastIntValue);return!0}return!1},tr.regexp_eatRegExpIdentifierStart=function(St){var At=St.pos,Dt=St.current();return St.advance(),Dt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(St)&&(Dt=St.lastIntValue),Wr(Dt)?(St.lastIntValue=Dt,!0):(St.pos=At,!1)};function Wr(St){return gt(St,!0)||St===36||St===95}tr.regexp_eatRegExpIdentifierPart=function(St){var At=St.pos,Dt=St.current();return St.advance(),Dt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(St)&&(Dt=St.lastIntValue),fo(Dt)?(St.lastIntValue=Dt,!0):(St.pos=At,!1)};function fo(St){return ut(St,!0)||St===36||St===95||St===8204||St===8205}tr.regexp_eatAtomEscape=function(St){return this.regexp_eatBackReference(St)||this.regexp_eatCharacterClassEscape(St)||this.regexp_eatCharacterEscape(St)||St.switchN&&this.regexp_eatKGroupName(St)?!0:(St.switchU&&(St.current()===99&&St.raise("Invalid unicode escape"),St.raise("Invalid escape")),!1)},tr.regexp_eatBackReference=function(St){var At=St.pos;if(this.regexp_eatDecimalEscape(St)){var Dt=St.lastIntValue;if(St.switchU)return Dt>St.maxBackReference&&(St.maxBackReference=Dt),!0;if(Dt<=St.numCapturingParens)return!0;St.pos=At}return!1},tr.regexp_eatKGroupName=function(St){if(St.eat(107)){if(this.regexp_eatGroupName(St))return St.backReferenceNames.push(St.lastStringValue),!0;St.raise("Invalid named reference")}return!1},tr.regexp_eatCharacterEscape=function(St){return this.regexp_eatControlEscape(St)||this.regexp_eatCControlLetter(St)||this.regexp_eatZero(St)||this.regexp_eatHexEscapeSequence(St)||this.regexp_eatRegExpUnicodeEscapeSequence(St)||!St.switchU&&this.regexp_eatLegacyOctalEscapeSequence(St)||this.regexp_eatIdentityEscape(St)},tr.regexp_eatCControlLetter=function(St){var At=St.pos;if(St.eat(99)){if(this.regexp_eatControlLetter(St))return!0;St.pos=At}return!1},tr.regexp_eatZero=function(St){return St.current()===48&&!us(St.lookahead())?(St.lastIntValue=0,St.advance(),!0):!1},tr.regexp_eatControlEscape=function(St){var At=St.current();return At===116?(St.lastIntValue=9,St.advance(),!0):At===110?(St.lastIntValue=10,St.advance(),!0):At===118?(St.lastIntValue=11,St.advance(),!0):At===102?(St.lastIntValue=12,St.advance(),!0):At===114?(St.lastIntValue=13,St.advance(),!0):!1},tr.regexp_eatControlLetter=function(St){var At=St.current();return no(At)?(St.lastIntValue=At%32,St.advance(),!0):!1};function no(St){return St>=65&&St<=90||St>=97&&St<=122}tr.regexp_eatRegExpUnicodeEscapeSequence=function(St){var At=St.pos;if(St.eat(117)){if(this.regexp_eatFixedHexDigits(St,4)){var Dt=St.lastIntValue;if(St.switchU&&Dt>=55296&&Dt<=56319){var Kt=St.pos;if(St.eat(92)&&St.eat(117)&&this.regexp_eatFixedHexDigits(St,4)){var Zt=St.lastIntValue;if(Zt>=56320&&Zt<=57343)return St.lastIntValue=(Dt-55296)*1024+(Zt-56320)+65536,!0}St.pos=Kt,St.lastIntValue=Dt}return!0}if(St.switchU&&St.eat(123)&&this.regexp_eatHexDigits(St)&&St.eat(125)&&ro(St.lastIntValue))return!0;St.switchU&&St.raise("Invalid unicode escape"),St.pos=At}return!1};function ro(St){return St>=0&&St<=1114111}tr.regexp_eatIdentityEscape=function(St){if(St.switchU)return this.regexp_eatSyntaxCharacter(St)?!0:St.eat(47)?(St.lastIntValue=47,!0):!1;var At=St.current();return At!==99&&(!St.switchN||At!==107)?(St.lastIntValue=At,St.advance(),!0):!1},tr.regexp_eatDecimalEscape=function(St){St.lastIntValue=0;var At=St.current();if(At>=49&&At<=57){do St.lastIntValue=10*St.lastIntValue+(At-48),St.advance();while((At=St.current())>=48&&At<=57);return!0}return!1},tr.regexp_eatCharacterClassEscape=function(St){var At=St.current();if(po(At))return St.lastIntValue=-1,St.advance(),!0;if(St.switchU&&this.options.ecmaVersion>=9&&(At===80||At===112)){if(St.lastIntValue=-1,St.advance(),St.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(St)&&St.eat(125))return!0;St.raise("Invalid property name")}return!1};function po(St){return St===100||St===68||St===115||St===83||St===119||St===87}tr.regexp_eatUnicodePropertyValueExpression=function(St){var At=St.pos;if(this.regexp_eatUnicodePropertyName(St)&&St.eat(61)){var Dt=St.lastStringValue;if(this.regexp_eatUnicodePropertyValue(St)){var Kt=St.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(St,Dt,Kt),!0}}if(St.pos=At,this.regexp_eatLoneUnicodePropertyNameOrValue(St)){var Zt=St.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(St,Zt),!0}return!1},tr.regexp_validateUnicodePropertyNameAndValue=function(St,At,Dt){Pt(St.unicodeProperties.nonBinary,At)||St.raise("Invalid property name"),St.unicodeProperties.nonBinary[At].test(Dt)||St.raise("Invalid property value")},tr.regexp_validateUnicodePropertyNameOrValue=function(St,At){St.unicodeProperties.binary.test(At)||St.raise("Invalid property name")},tr.regexp_eatUnicodePropertyName=function(St){var At=0;for(St.lastStringValue="";Us(At=St.current());)St.lastStringValue+=Ms(At),St.advance();return St.lastStringValue!==""};function Us(St){return no(St)||St===95}tr.regexp_eatUnicodePropertyValue=function(St){var At=0;for(St.lastStringValue="";hs(At=St.current());)St.lastStringValue+=Ms(At),St.advance();return St.lastStringValue!==""};function hs(St){return Us(St)||us(St)}tr.regexp_eatLoneUnicodePropertyNameOrValue=function(St){return this.regexp_eatUnicodePropertyValue(St)},tr.regexp_eatCharacterClass=function(St){if(St.eat(91)){if(St.eat(94),this.regexp_classRanges(St),St.eat(93))return!0;St.raise("Unterminated character class")}return!1},tr.regexp_classRanges=function(St){for(;this.regexp_eatClassAtom(St);){var At=St.lastIntValue;if(St.eat(45)&&this.regexp_eatClassAtom(St)){var Dt=St.lastIntValue;St.switchU&&(At===-1||Dt===-1)&&St.raise("Invalid character class"),At!==-1&&Dt!==-1&&At>Dt&&St.raise("Range out of order in character class")}}},tr.regexp_eatClassAtom=function(St){var At=St.pos;if(St.eat(92)){if(this.regexp_eatClassEscape(St))return!0;if(St.switchU){var Dt=St.current();(Dt===99||Ps(Dt))&&St.raise("Invalid class escape"),St.raise("Invalid escape")}St.pos=At}var Kt=St.current();return Kt!==93?(St.lastIntValue=Kt,St.advance(),!0):!1},tr.regexp_eatClassEscape=function(St){var At=St.pos;if(St.eat(98))return St.lastIntValue=8,!0;if(St.switchU&&St.eat(45))return St.lastIntValue=45,!0;if(!St.switchU&&St.eat(99)){if(this.regexp_eatClassControlLetter(St))return!0;St.pos=At}return this.regexp_eatCharacterClassEscape(St)||this.regexp_eatCharacterEscape(St)},tr.regexp_eatClassControlLetter=function(St){var At=St.current();return us(At)||At===95?(St.lastIntValue=At%32,St.advance(),!0):!1},tr.regexp_eatHexEscapeSequence=function(St){var At=St.pos;if(St.eat(120)){if(this.regexp_eatFixedHexDigits(St,2))return!0;St.switchU&&St.raise("Invalid escape"),St.pos=At}return!1},tr.regexp_eatDecimalDigits=function(St){var At=St.pos,Dt=0;for(St.lastIntValue=0;us(Dt=St.current());)St.lastIntValue=10*St.lastIntValue+(Dt-48),St.advance();return St.pos!==At};function us(St){return St>=48&&St<=57}tr.regexp_eatHexDigits=function(St){var At=St.pos,Dt=0;for(St.lastIntValue=0;nr(Dt=St.current());)St.lastIntValue=16*St.lastIntValue+jr(Dt),St.advance();return St.pos!==At};function nr(St){return St>=48&&St<=57||St>=65&&St<=70||St>=97&&St<=102}function jr(St){return St>=65&&St<=70?10+(St-65):St>=97&&St<=102?10+(St-97):St-48}tr.regexp_eatLegacyOctalEscapeSequence=function(St){if(this.regexp_eatOctalDigit(St)){var At=St.lastIntValue;if(this.regexp_eatOctalDigit(St)){var Dt=St.lastIntValue;At<=3&&this.regexp_eatOctalDigit(St)?St.lastIntValue=At*64+Dt*8+St.lastIntValue:St.lastIntValue=At*8+Dt}else St.lastIntValue=At;return!0}return!1},tr.regexp_eatOctalDigit=function(St){var At=St.current();return Ps(At)?(St.lastIntValue=At-48,St.advance(),!0):(St.lastIntValue=0,!1)};function Ps(St){return St>=48&&St<=55}tr.regexp_eatFixedHexDigits=function(St,At){var Dt=St.pos;St.lastIntValue=0;for(var Kt=0;Kt<At;++Kt){var Zt=St.current();if(!nr(Zt))return St.pos=Dt,!1;St.lastIntValue=16*St.lastIntValue+jr(Zt),St.advance()}return!0};var Ws=function(At){this.type=At.type,this.value=At.value,this.start=At.start,this.end=At.end,At.options.locations&&(this.loc=new jt(At,At.startLoc,At.endLoc)),At.options.ranges&&(this.range=[At.start,At.end])},gr=Nn.prototype;gr.next=function(St){!St&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ws(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},gr.getToken=function(){return this.next(),new Ws(this)},typeof Symbol<"u"&&(gr[Symbol.iterator]=function(){var St=this;return{next:function(){var At=St.getToken();return{done:At.type===ht.eof,value:At}}}}),gr.curContext=function(){return this.context[this.context.length-1]},gr.nextToken=function(){var St=this.curContext();if((!St||!St.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(ht.eof);if(St.override)return St.override(this);this.readToken(this.fullCharCodeAtPos())},gr.readToken=function(St){return gt(St,this.options.ecmaVersion>=6)||St===92?this.readWord():this.getTokenFromCode(St)},gr.fullCharCodeAtPos=function(){var St=this.input.charCodeAt(this.pos);if(St<=55295||St>=57344)return St;var At=this.input.charCodeAt(this.pos+1);return(St<<10)+At-56613888},gr.skipBlockComment=function(){var St=this.options.onComment&&this.curPosition(),At=this.pos,Dt=this.input.indexOf("*/",this.pos+=2);if(Dt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Dt+2,this.options.locations){wt.lastIndex=At;for(var Kt;(Kt=wt.exec(this.input))&&Kt.index<this.pos;)++this.curLine,this.lineStart=Kt.index+Kt[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(At+2,Dt),At,this.pos,St,this.curPosition())},gr.skipLineComment=function(St){for(var At=this.pos,Dt=this.options.onComment&&this.curPosition(),Kt=this.input.charCodeAt(this.pos+=St);this.pos<this.input.length&&!kt(Kt);)Kt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(At+St,this.pos),At,this.pos,Dt,this.curPosition())},gr.skipSpace=function(){e:for(;this.pos<this.input.length;){var St=this.input.charCodeAt(this.pos);switch(St){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(St>8&&St<14||St>=5760&&Ct.test(String.fromCharCode(St)))++this.pos;else break e}}},gr.finishToken=function(St,At){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Dt=this.type;this.type=St,this.value=At,this.updateContext(Dt)},gr.readToken_dot=function(){var St=this.input.charCodeAt(this.pos+1);if(St>=48&&St<=57)return this.readNumber(!0);var At=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&St===46&&At===46?(this.pos+=3,this.finishToken(ht.ellipsis)):(++this.pos,this.finishToken(ht.dot))},gr.readToken_slash=function(){var St=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):St===61?this.finishOp(ht.assign,2):this.finishOp(ht.slash,1)},gr.readToken_mult_modulo_exp=function(St){var At=this.input.charCodeAt(this.pos+1),Dt=1,Kt=St===42?ht.star:ht.modulo;return this.options.ecmaVersion>=7&&St===42&&At===42&&(++Dt,Kt=ht.starstar,At=this.input.charCodeAt(this.pos+2)),At===61?this.finishOp(ht.assign,Dt+1):this.finishOp(Kt,Dt)},gr.readToken_pipe_amp=function(St){var At=this.input.charCodeAt(this.pos+1);return At===St?this.finishOp(St===124?ht.logicalOR:ht.logicalAND,2):At===61?this.finishOp(ht.assign,2):this.finishOp(St===124?ht.bitwiseOR:ht.bitwiseAND,1)},gr.readToken_caret=function(){var St=this.input.charCodeAt(this.pos+1);return St===61?this.finishOp(ht.assign,2):this.finishOp(ht.bitwiseXOR,1)},gr.readToken_plus_min=function(St){var At=this.input.charCodeAt(this.pos+1);return At===St?At===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||xt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(ht.incDec,2):At===61?this.finishOp(ht.assign,2):this.finishOp(ht.plusMin,1)},gr.readToken_lt_gt=function(St){var At=this.input.charCodeAt(this.pos+1),Dt=1;return At===St?(Dt=St===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Dt)===61?this.finishOp(ht.assign,Dt+1):this.finishOp(ht.bitShift,Dt)):At===33&&St===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(At===61&&(Dt=2),this.finishOp(ht.relational,Dt))},gr.readToken_eq_excl=function(St){var At=this.input.charCodeAt(this.pos+1);return At===61?this.finishOp(ht.equality,this.input.charCodeAt(this.pos+2)===61?3:2):St===61&&At===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(ht.arrow)):this.finishOp(St===61?ht.eq:ht.prefix,1)},gr.getTokenFromCode=function(St){switch(St){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(ht.parenL);case 41:return++this.pos,this.finishToken(ht.parenR);case 59:return++this.pos,this.finishToken(ht.semi);case 44:return++this.pos,this.finishToken(ht.comma);case 91:return++this.pos,this.finishToken(ht.bracketL);case 93:return++this.pos,this.finishToken(ht.bracketR);case 123:return++this.pos,this.finishToken(ht.braceL);case 125:return++this.pos,this.finishToken(ht.braceR);case 58:return++this.pos,this.finishToken(ht.colon);case 63:return++this.pos,this.finishToken(ht.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(ht.backQuote);case 48:var At=this.input.charCodeAt(this.pos+1);if(At===120||At===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(At===111||At===79)return this.readRadixNumber(8);if(At===98||At===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(St);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(St);case 124:case 38:return this.readToken_pipe_amp(St);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(St);case 60:case 62:return this.readToken_lt_gt(St);case 61:case 33:return this.readToken_eq_excl(St);case 126:return this.finishOp(ht.prefix,1)}this.raise(this.pos,"Unexpected character '"+Ss(St)+"'")},gr.finishOp=function(St,At){var Dt=this.input.slice(this.pos,this.pos+At);return this.pos+=At,this.finishToken(St,Dt)},gr.readRegexp=function(){for(var St,At,Dt=this.pos;;){this.pos>=this.input.length&&this.raise(Dt,"Unterminated regular expression");var Kt=this.input.charAt(this.pos);if(xt.test(Kt)&&this.raise(Dt,"Unterminated regular expression"),St)St=!1;else{if(Kt==="[")At=!0;else if(Kt==="]"&&At)At=!1;else if(Kt==="/"&&!At)break;St=Kt==="\\"}++this.pos}var Zt=this.input.slice(Dt,this.pos);++this.pos;var bn=this.pos,Cn=this.readWord1();this.containsEsc&&this.unexpected(bn);var Un=this.regexpState||(this.regexpState=new rs(this));Un.reset(Dt,Zt,Cn),this.validateRegExpFlags(Un),this.validateRegExpPattern(Un);var rr=null;try{rr=new RegExp(Zt,Cn)}catch{}return this.finishToken(ht.regexp,{pattern:Zt,flags:Cn,value:rr})},gr.readInt=function(St,At){for(var Dt=this.pos,Kt=0,Zt=0,bn=At==null?1/0:At;Zt<bn;++Zt){var Cn=this.input.charCodeAt(this.pos),Un=void 0;if(Cn>=97?Un=Cn-97+10:Cn>=65?Un=Cn-65+10:Cn>=48&&Cn<=57?Un=Cn-48:Un=1/0,Un>=St)break;++this.pos,Kt=Kt*St+Un}return this.pos===Dt||At!=null&&this.pos-Dt!==At?null:Kt},gr.readRadixNumber=function(St){var At=this.pos;this.pos+=2;var Dt=this.readInt(St);return Dt==null&&this.raise(this.start+2,"Expected number in radix "+St),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Dt=typeof BigInt<"u"?BigInt(this.input.slice(At,this.pos)):null,++this.pos):gt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ht.num,Dt)},gr.readNumber=function(St){var At=this.pos;!St&&this.readInt(10)===null&&this.raise(At,"Invalid number");var Dt=this.pos-At>=2&&this.input.charCodeAt(At)===48;Dt&&this.strict&&this.raise(At,"Invalid number");var Kt=this.input.charCodeAt(this.pos);if(!Dt&&!St&&this.options.ecmaVersion>=11&&Kt===110){var Zt=this.input.slice(At,this.pos),bn=typeof BigInt<"u"?BigInt(Zt):null;return++this.pos,gt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ht.num,bn)}Dt&&/[89]/.test(this.input.slice(At,this.pos))&&(Dt=!1),Kt===46&&!Dt&&(++this.pos,this.readInt(10),Kt=this.input.charCodeAt(this.pos)),(Kt===69||Kt===101)&&!Dt&&(Kt=this.input.charCodeAt(++this.pos),(Kt===43||Kt===45)&&++this.pos,this.readInt(10)===null&&this.raise(At,"Invalid number")),gt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Cn=this.input.slice(At,this.pos),Un=Dt?parseInt(Cn,8):parseFloat(Cn);return this.finishToken(ht.num,Un)},gr.readCodePoint=function(){var St=this.input.charCodeAt(this.pos),At;if(St===123){this.options.ecmaVersion<6&&this.unexpected();var Dt=++this.pos;At=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,At>1114111&&this.invalidStringToken(Dt,"Code point out of bounds")}else At=this.readHexChar(4);return At};function Ss(St){return St<=65535?String.fromCharCode(St):(St-=65536,String.fromCharCode((St>>10)+55296,(St&1023)+56320))}gr.readString=function(St){for(var At="",Dt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Kt=this.input.charCodeAt(this.pos);if(Kt===St)break;Kt===92?(At+=this.input.slice(Dt,this.pos),At+=this.readEscapedChar(!1),Dt=this.pos):(kt(Kt,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return At+=this.input.slice(Dt,this.pos++),this.finishToken(ht.string,At)};var xa={};gr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(St){if(St===xa)this.readInvalidTemplateToken();else throw St}this.inTemplateElement=!1},gr.invalidStringToken=function(St,At){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw xa;this.raise(St,At)},gr.readTmplToken=function(){for(var St="",At=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Dt=this.input.charCodeAt(this.pos);if(Dt===96||Dt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===ht.template||this.type===ht.invalidTemplate)?Dt===36?(this.pos+=2,this.finishToken(ht.dollarBraceL)):(++this.pos,this.finishToken(ht.backQuote)):(St+=this.input.slice(At,this.pos),this.finishToken(ht.template,St));if(Dt===92)St+=this.input.slice(At,this.pos),St+=this.readEscapedChar(!0),At=this.pos;else if(kt(Dt)){switch(St+=this.input.slice(At,this.pos),++this.pos,Dt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:St+=`
`;break;default:St+=String.fromCharCode(Dt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),At=this.pos}else++this.pos}},gr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(ht.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},gr.readEscapedChar=function(St){var At=this.input.charCodeAt(++this.pos);switch(++this.pos,At){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ss(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(St){var Dt=this.pos-1;return this.invalidStringToken(Dt,"Invalid escape sequence in template string"),null}default:if(At>=48&&At<=55){var Kt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Zt=parseInt(Kt,8);return Zt>255&&(Kt=Kt.slice(0,-1),Zt=parseInt(Kt,8)),this.pos+=Kt.length-1,At=this.input.charCodeAt(this.pos),(Kt!=="0"||At===56||At===57)&&(this.strict||St)&&this.invalidStringToken(this.pos-1-Kt.length,St?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Zt)}return kt(At)?"":String.fromCharCode(At)}},gr.readHexChar=function(St){var At=this.pos,Dt=this.readInt(16,St);return Dt===null&&this.invalidStringToken(At,"Bad character escape sequence"),Dt},gr.readWord1=function(){this.containsEsc=!1;for(var St="",At=!0,Dt=this.pos,Kt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Zt=this.fullCharCodeAtPos();if(ut(Zt,Kt))this.pos+=Zt<=65535?1:2;else if(Zt===92){this.containsEsc=!0,St+=this.input.slice(Dt,this.pos);var bn=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Cn=this.readCodePoint();(At?gt:ut)(Cn,Kt)||this.invalidStringToken(bn,"Invalid Unicode escape"),St+=Ss(Cn),Dt=this.pos}else break;At=!1}return St+this.input.slice(Dt,this.pos)},gr.readWord=function(){var St=this.readWord1(),At=ht.name;return this.keywords.test(St)&&(At=Tt[St]),this.finishToken(At,St)};var is="7.1.0";Nn.acorn={Parser:Nn,version:is,defaultOptions:en,Position:rn,SourceLocation:jt,getLineInfo:Vt,Node:Vn,TokenType:pt,tokTypes:ht,keywordTypes:Tt,TokContext:zn,tokContexts:yr,isIdentifierChar:ut,isIdentifierStart:gt,Token:Ws,isNewLine:kt,lineBreak:xt,lineBreakG:wt,nonASCIIwhitespace:Ct};function io(St,At){return Nn.parse(St,At)}function so(St,At,Dt){return Nn.parseExpressionAt(St,At,Dt)}function js(St,At){return Nn.tokenizer(St,At)}tt.Node=Vn,tt.Parser=Nn,tt.Position=rn,tt.SourceLocation=jt,tt.TokContext=zn,tt.Token=Ws,tt.TokenType=pt,tt.defaultOptions=en,tt.getLineInfo=Vt,tt.isIdentifierChar=ut,tt.isIdentifierStart=gt,tt.isNewLine=kt,tt.keywordTypes=Tt,tt.lineBreak=xt,tt.lineBreakG=wt,tt.nonASCIIwhitespace=Ct,tt.parse=io,tt.parseExpressionAt=so,tt.tokContexts=yr,tt.tokTypes=ht,tt.tokenizer=js,tt.version=is,Object.defineProperty(tt,"__esModule",{value:!0})})},{}],2:[function(a,o,it){},{}],3:[function(a,o,it){function tt(j,_={}){const{contextName:$="gl",throwGetError:et,useTrackablePrimitives:st,readPixelsFile:lt,recording:ft=[],variables:gt={},onReadPixels:ut,onUnrecognizedArgumentLookup:pt}=_,vt=new Proxy(j,{get:xt}),dt=[],mt={};let Tt=0,yt="",ht;return vt;function xt(Vt,en){switch(en){case"addComment":return Pt;case"checkThrowError":return Ot;case"getReadPixelsVariableName":return ht;case"insertVariable":return Ct;case"reset":return kt;case"setIndent":return Lt;case"toString":return wt;case"getContextVariableName":return jt}return typeof j[en]=="function"?function(){switch(en){case"getError":return et?ft.push(`${yt}if (${$}.getError() !== ${$}.NONE) throw new Error('error');`):ft.push(`${yt}${$}.getError();`),j.getError();case"getExtension":{const wn=`${$}Variables${dt.length}`;ft.push(`${yt}const ${wn} = ${$}.getExtension('${arguments[0]}');`);const xn=j.getExtension(arguments[0]);if(xn&&typeof xn=="object"){const qt=at(xn,{getEntity:Rt,useTrackablePrimitives:st,recording:ft,contextName:wn,contextVariables:dt,variables:gt,indent:yt,onUnrecognizedArgumentLookup:pt});return dt.push(qt),qt}else dt.push(null);return xn}case"readPixels":const nn=dt.indexOf(arguments[6]);let _n;if(nn===-1){const wn=rn(arguments[6]);wn?(_n=wn,ft.push(`${yt}${wn}`)):(_n=`${$}Variable${dt.length}`,dt.push(arguments[6]),ft.push(`${yt}const ${_n} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else _n=`${$}Variable${nn}`;ht=_n;const fn=[arguments[0],arguments[1],arguments[2],arguments[3],Rt(arguments[4]),Rt(arguments[5]),_n];return ft.push(`${yt}${$}.readPixels(${fn.join(", ")});`),lt&&Wt(arguments[2],arguments[3]),ut&&ut(_n,fn),j.readPixels.apply(j,arguments);case"drawBuffers":return ft.push(`${yt}${$}.drawBuffers([${ot(arguments[0],{contextName:$,contextVariables:dt,getEntity:Rt,addVariable:Mt,variables:gt,onUnrecognizedArgumentLookup:pt})}]);`),j.drawBuffers(arguments[0])}let ln=j[en].apply(j,arguments);switch(typeof ln){case"undefined":ft.push(`${yt}${Xt(en,arguments)};`);return;case"number":case"boolean":if(st&&dt.indexOf(nt(ln))===-1){ft.push(`${yt}const ${$}Variable${dt.length} = ${Xt(en,arguments)};`),dt.push(ln=nt(ln));break}default:ln===null?ft.push(`${Xt(en,arguments)};`):ft.push(`${yt}const ${$}Variable${dt.length} = ${Xt(en,arguments)};`),dt.push(ln)}return ln}:(mt[j[en]]=en,j[en])}function wt(){return ft.join(`
`)}function kt(){for(;ft.length>0;)ft.pop()}function Ct(Vt,en){gt[Vt]=en}function Rt(Vt){const en=mt[Vt];return en?$+"."+en:Vt}function Lt(Vt){yt=" ".repeat(Vt)}function Mt(Vt,en){const ln=`${$}Variable${dt.length}`;return ft.push(`${yt}const ${ln} = ${en};`),dt.push(Vt),ln}function Wt(Vt,en){const ln=`${$}Variable${dt.length}`,nn=`imageDatum${Tt}`;ft.push(`${yt}let ${nn} = ["P3\\n# ${lt}.ppm\\n", ${Vt}, ' ', ${en}, "\\n255\\n"].join("");`),ft.push(`${yt}for (let i = 0; i < ${nn}.length; i += 4) {`),ft.push(`${yt}  ${nn} += ${ln}[i] + ' ' + ${ln}[i + 1] + ' ' + ${ln}[i + 2] + ' ';`),ft.push(`${yt}}`),ft.push(`${yt}if (typeof require !== "undefined") {`),ft.push(`${yt}  require('fs').writeFileSync('./${lt}.ppm', ${nn});`),ft.push(`${yt}}`),Tt++}function Pt(Vt){ft.push(`${yt}// ${Vt}`)}function Ot(){ft.push(`${yt}(() => {
${yt}const error = ${$}.getError();
${yt}if (error !== ${$}.NONE) {
${yt}  const names = Object.getOwnPropertyNames(gl);
${yt}  for (let i = 0; i < names.length; i++) {
${yt}    const name = names[i];
${yt}    if (${$}[name] === error) {
${yt}      throw new Error('${$} threw ' + name);
${yt}    }
${yt}  }
${yt}}
${yt}})();`)}function Xt(Vt,en){return`${$}.${Vt}(${ot(en,{contextName:$,contextVariables:dt,getEntity:Rt,addVariable:Mt,variables:gt,onUnrecognizedArgumentLookup:pt})})`}function rn(Vt){if(gt){for(const en in gt)if(gt[en]===Vt)return en}return null}function jt(Vt){const en=dt.indexOf(Vt);return en!==-1?`${$}Variable${en}`:null}}function at(j,_){const $=new Proxy(j,{get:mt}),et={},{contextName:st,contextVariables:lt,getEntity:ft,useTrackablePrimitives:gt,recording:ut,variables:pt,indent:vt,onUnrecognizedArgumentLookup:dt}=_;return $;function mt(xt,wt){return typeof xt[wt]=="function"?function(){switch(wt){case"drawBuffersWEBGL":return ut.push(`${vt}${st}.drawBuffersWEBGL([${ot(arguments[0],{contextName:st,contextVariables:lt,getEntity:Tt,addVariable:ht,variables:pt,onUnrecognizedArgumentLookup:dt})}]);`),j.drawBuffersWEBGL(arguments[0])}let kt=j[wt].apply(j,arguments);switch(typeof kt){case"undefined":ut.push(`${vt}${yt(wt,arguments)};`);return;case"number":case"boolean":gt&&lt.indexOf(nt(kt))===-1?(ut.push(`${vt}const ${st}Variable${lt.length} = ${yt(wt,arguments)};`),lt.push(kt=nt(kt))):(ut.push(`${vt}const ${st}Variable${lt.length} = ${yt(wt,arguments)};`),lt.push(kt));break;default:kt===null?ut.push(`${yt(wt,arguments)};`):ut.push(`${vt}const ${st}Variable${lt.length} = ${yt(wt,arguments)};`),lt.push(kt)}return kt}:(et[j[wt]]=wt,j[wt])}function Tt(xt){return et.hasOwnProperty(xt)?`${st}.${et[xt]}`:ft(xt)}function yt(xt,wt){return`${st}.${xt}(${ot(wt,{contextName:st,contextVariables:lt,getEntity:Tt,addVariable:ht,variables:pt,onUnrecognizedArgumentLookup:dt})})`}function ht(xt,wt){const kt=`${st}Variable${lt.length}`;return lt.push(xt),ut.push(`${vt}const ${kt} = ${wt};`),kt}}function ot(j,_){const{variables:$,onUnrecognizedArgumentLookup:et}=_;return Array.from(j).map(lt=>{const ft=st(lt);return ft||rt(lt,_)}).join(", ");function st(lt){if($){for(const ft in $)if(!!$.hasOwnProperty(ft)&&$[ft]===lt)return ft}return et?et(lt):null}}function rt(j,_){const{contextName:$,contextVariables:et,getEntity:st,addVariable:lt,onUnrecognizedArgumentLookup:ft}=_;if(typeof j>"u")return"undefined";if(j===null)return"null";const gt=et.indexOf(j);if(gt>-1)return`${$}Variable${gt}`;switch(j.constructor.name){case"String":const ut=/\n/.test(j),pt=/'/.test(j),vt=/"/.test(j);return ut?"`"+j+"`":pt&&!vt?'"'+j+'"':"'"+j+"'";case"Number":return st(j);case"Boolean":return st(j);case"Array":return lt(j,`new ${j.constructor.name}([${Array.from(j).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return lt(j,`new ${j.constructor.name}(${JSON.stringify(Array.from(j))})`);default:if(ft){const dt=ft(j);if(dt)return dt}throw new Error(`unrecognized argument type ${j.constructor.name}`)}}function nt(j){return new j.constructor(j)}typeof o<"u"&&(o.exports={glWiretap:tt,glExtensionWiretap:at}),typeof window<"u"&&(tt.glExtensionWiretap=at,window.glWiretap=tt)},{}],4:[function(a,o,it){function tt(lt){const ft=new Array(lt.length);for(let gt=0;gt<lt.length;gt++){const ut=lt[gt];ut.toArray?ft[gt]=ut.toArray():ft[gt]=ut}return ft}function at(){const lt=tt(arguments),ft=new Float32Array(this.output.x);for(let gt=0;gt<this.output.x;gt++)this.thread.x=gt,this.thread.y=0,this.thread.z=0,ft[gt]=this._fn.apply(this,lt);return ft}function ot(){const lt=tt(arguments),ft=new Array(this.output.y);for(let gt=0;gt<this.output.y;gt++){const ut=new Float32Array(this.output.x);for(let pt=0;pt<this.output.x;pt++)this.thread.x=pt,this.thread.y=gt,this.thread.z=0,ut[pt]=this._fn.apply(this,lt);ft[gt]=ut}return ft}function rt(){const lt=tt(arguments);for(let ft=0;ft<this.output.y;ft++)for(let gt=0;gt<this.output.x;gt++)this.thread.x=gt,this.thread.y=ft,this.thread.z=0,this._fn.apply(this,lt)}function nt(){const lt=tt(arguments),ft=new Array(this.output.z);for(let gt=0;gt<this.output.z;gt++){const ut=new Array(this.output.y);for(let pt=0;pt<this.output.y;pt++){const vt=new Float32Array(this.output.x);for(let dt=0;dt<this.output.x;dt++)this.thread.x=dt,this.thread.y=pt,this.thread.z=gt,vt[dt]=this._fn.apply(this,lt);ut[pt]=vt}ft[gt]=ut}return ft}function j(lt){lt.setOutput=ut=>{lt.output=$(ut),lt.graphical&&_(lt)},lt.toJSON=()=>{throw new Error("Not usable with gpuMock")},lt.setConstants=ut=>(lt.constants=ut,lt),lt.setGraphical=ut=>(lt.graphical=ut,lt),lt.setCanvas=ut=>(lt.canvas=ut,lt),lt.setContext=ut=>(lt.context=ut,lt),lt.destroy=()=>{},lt.validateSettings=()=>{},lt.graphical&&lt.output&&_(lt),lt.exec=function(){return new Promise((ut,pt)=>{try{ut(lt.apply(lt,arguments))}catch(vt){pt(vt)}})},lt.getPixels=ut=>{const{x:pt,y:vt}=lt.output;return ut?st(lt._imageData.data,pt,vt):lt._imageData.data.slice(0)},lt.color=function(ut,pt,vt,dt){typeof dt>"u"&&(dt=1),ut=Math.floor(ut*255),pt=Math.floor(pt*255),vt=Math.floor(vt*255),dt=Math.floor(dt*255);const mt=lt.output.x,Tt=lt.output.y,yt=lt.thread.x,ht=Tt-lt.thread.y-1,xt=yt+ht*mt;lt._colorData[xt*4+0]=ut,lt._colorData[xt*4+1]=pt,lt._colorData[xt*4+2]=vt,lt._colorData[xt*4+3]=dt};const ft=()=>lt,gt=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let ut=0;ut<gt.length;ut++)lt[gt[ut]]=ft;return lt}function _(lt){const{x:ft,y:gt}=lt.output;if(lt.context&&lt.context.createImageData){const ut=new Uint8ClampedArray(ft*gt*4);lt._imageData=lt.context.createImageData(ft,gt),lt._colorData=ut}else{const ut=new Uint8ClampedArray(ft*gt*4);lt._imageData={data:ut},lt._colorData=ut}}function $(lt){let ft=null;if(lt.length)if(lt.length===3){const[gt,ut,pt]=lt;ft={x:gt,y:ut,z:pt}}else if(lt.length===2){const[gt,ut]=lt;ft={x:gt,y:ut}}else{const[gt]=lt;ft={x:gt}}else ft=lt;return ft}function et(lt,ft={}){const gt=ft.output?$(ft.output):null;function ut(){return ut.output.z?nt.apply(ut,arguments):ut.output.y?ut.graphical?rt.apply(ut,arguments):ot.apply(ut,arguments):at.apply(ut,arguments)}return ut._fn=lt,ut.constants=ft.constants||null,ut.context=ft.context||null,ut.canvas=ft.canvas||null,ut.graphical=ft.graphical||!1,ut._imageData=null,ut._colorData=null,ut.output=gt,ut.thread={x:0,y:0,z:0},j(ut)}function st(lt,ft,gt){const ut=gt/2|0,pt=ft*4,vt=new Uint8ClampedArray(ft*4),dt=lt.slice(0);for(let mt=0;mt<ut;++mt){const Tt=mt*pt,yt=(gt-mt-1)*pt;vt.set(dt.subarray(Tt,Tt+pt)),dt.copyWithin(Tt,yt,yt+pt),dt.set(vt,yt)}return dt}o.exports={gpuMock:et}},{}],5:[function(a,o,it){const{utils:tt}=a("./utils");function at(ot,rt){const nt=rt.toString();return new Function(`return function ${ot} (${tt.getArgumentNamesFromString(nt).join(", ")}) {
  ${tt.getFunctionBodyFromString(nt)}
}`)()}o.exports={alias:at}},{"./utils":114}],6:[function(a,o,it){const{FunctionNode:tt}=a("../function-node");class at extends tt{astFunction(rt,nt){if(!this.isRootKernel){nt.push("function"),nt.push(" "),nt.push(this.name),nt.push("(");for(let j=0;j<this.argumentNames.length;++j){const _=this.argumentNames[j];j>0&&nt.push(", "),nt.push("user_"),nt.push(_)}nt.push(`) {
`)}for(let j=0;j<rt.body.body.length;++j)this.astGeneric(rt.body.body[j],nt),nt.push(`
`);return this.isRootKernel||nt.push(`}
`),nt}astReturnStatement(rt,nt){const j=this.returnType||this.getType(rt.argument);return this.returnType||(this.returnType=j),this.isRootKernel?(nt.push(this.leadingReturnStatement),this.astGeneric(rt.argument,nt),nt.push(`;
`),nt.push(this.followingReturnStatement),nt.push(`continue;
`)):this.isSubKernel?(nt.push(`subKernelResult_${this.name} = `),this.astGeneric(rt.argument,nt),nt.push(";"),nt.push(`return subKernelResult_${this.name};`)):(nt.push("return "),this.astGeneric(rt.argument,nt),nt.push(";")),nt}astLiteral(rt,nt){if(isNaN(rt.value))throw this.astErrorOutput("Non-numeric literal not supported : "+rt.value,rt);return nt.push(rt.value),nt}astBinaryExpression(rt,nt){return nt.push("("),this.astGeneric(rt.left,nt),nt.push(rt.operator),this.astGeneric(rt.right,nt),nt.push(")"),nt}astIdentifierExpression(rt,nt){if(rt.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",rt);switch(rt.name){case"Infinity":nt.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(rt.name)?nt.push("constants_"+rt.name):nt.push("user_"+rt.name)}return nt}astForStatement(rt,nt){if(rt.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",rt);const j=[],_=[],$=[],et=[];let st=null;if(rt.init){this.pushState("in-for-loop-init"),this.astGeneric(rt.init,j);for(let lt=0;lt<j.length;lt++)j[lt].includes&&j[lt].includes(",")&&(st=!1);this.popState("in-for-loop-init")}else st=!1;if(rt.test?this.astGeneric(rt.test,_):st=!1,rt.update?this.astGeneric(rt.update,$):st=!1,rt.body&&(this.pushState("loop-body"),this.astGeneric(rt.body,et),this.popState("loop-body")),st===null&&(st=this.isSafe(rt.init)&&this.isSafe(rt.test)),st)nt.push(`for (${j.join("")};${_.join("")};${$.join("")}){
`),nt.push(et.join("")),nt.push(`}
`);else{const lt=this.getInternalVariableName("safeI");j.length>0&&nt.push(j.join(""),`;
`),nt.push(`for (let ${lt}=0;${lt}<LOOP_MAX;${lt}++){
`),_.length>0&&nt.push(`if (!${_.join("")}) break;
`),nt.push(et.join("")),nt.push(`
${$.join("")};`),nt.push(`}
`)}return nt}astWhileStatement(rt,nt){if(rt.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",rt);return nt.push("for (let i = 0; i < LOOP_MAX; i++) {"),nt.push("if ("),this.astGeneric(rt.test,nt),nt.push(`) {
`),this.astGeneric(rt.body,nt),nt.push(`} else {
`),nt.push(`break;
`),nt.push(`}
`),nt.push(`}
`),nt}astDoWhileStatement(rt,nt){if(rt.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",rt);return nt.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(rt.body,nt),nt.push("if (!"),this.astGeneric(rt.test,nt),nt.push(`) {
`),nt.push(`break;
`),nt.push(`}
`),nt.push(`}
`),nt}astAssignmentExpression(rt,nt){const j=this.getDeclaration(rt.left);if(j&&!j.assignable)throw this.astErrorOutput(`Variable ${rt.left.name} is not assignable here`,rt);return this.astGeneric(rt.left,nt),nt.push(rt.operator),this.astGeneric(rt.right,nt),nt}astBlockStatement(rt,nt){if(this.isState("loop-body")){this.pushState("block-body");for(let j=0;j<rt.body.length;j++)this.astGeneric(rt.body[j],nt);this.popState("block-body")}else{nt.push(`{
`);for(let j=0;j<rt.body.length;j++)this.astGeneric(rt.body[j],nt);nt.push(`}
`)}return nt}astVariableDeclaration(rt,nt){nt.push(`${rt.kind} `);const{declarations:j}=rt;for(let _=0;_<j.length;_++){_>0&&nt.push(",");const $=j[_],et=this.getDeclaration($.id);et.valueType||(et.valueType=this.getType($.init)),this.astGeneric($,nt)}return this.isState("in-for-loop-init")||nt.push(";"),nt}astIfStatement(rt,nt){return nt.push("if ("),this.astGeneric(rt.test,nt),nt.push(")"),rt.consequent.type==="BlockStatement"?this.astGeneric(rt.consequent,nt):(nt.push(` {
`),this.astGeneric(rt.consequent,nt),nt.push(`
}
`)),rt.alternate&&(nt.push("else "),rt.alternate.type==="BlockStatement"||rt.alternate.type==="IfStatement"?this.astGeneric(rt.alternate,nt):(nt.push(` {
`),this.astGeneric(rt.alternate,nt),nt.push(`
}
`))),nt}astSwitchStatement(rt,nt){const{discriminant:j,cases:_}=rt;nt.push("switch ("),this.astGeneric(j,nt),nt.push(`) {
`);for(let $=0;$<_.length;$++){if(_[$].test===null){nt.push(`default:
`),this.astGeneric(_[$].consequent,nt),_[$].consequent&&_[$].consequent.length>0&&nt.push(`break;
`);continue}nt.push("case "),this.astGeneric(_[$].test,nt),nt.push(`:
`),_[$].consequent&&_[$].consequent.length>0&&(this.astGeneric(_[$].consequent,nt),nt.push(`break;
`))}nt.push(`
}`)}astThisExpression(rt,nt){return nt.push("_this"),nt}astMemberExpression(rt,nt){const{signature:j,type:_,property:$,xProperty:et,yProperty:st,zProperty:lt,name:ft,origin:gt}=this.getMemberExpressionDetails(rt);switch(j){case"this.thread.value":return nt.push(`_this.thread.${ft}`),nt;case"this.output.value":switch(ft){case"x":nt.push("outputX");break;case"y":nt.push("outputY");break;case"z":nt.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",rt)}return nt;case"value":throw this.astErrorOutput("Unexpected expression",rt);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(gt==="Math")return nt.push(Math[ft]),nt;switch($){case"r":return nt.push(`user_${ft}[0]`),nt;case"g":return nt.push(`user_${ft}[1]`),nt;case"b":return nt.push(`user_${ft}[2]`),nt;case"a":return nt.push(`user_${ft}[3]`),nt}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(rt.object,nt),nt.push("["),this.astGeneric(rt.property,nt),nt.push("]"),nt;case"fn()[][]":return this.astGeneric(rt.object.object,nt),nt.push("["),this.astGeneric(rt.object.property,nt),nt.push("]"),nt.push("["),this.astGeneric(rt.property,nt),nt.push("]"),nt;default:throw this.astErrorOutput("Unexpected expression",rt)}if(!rt.computed)switch(_){case"Number":case"Integer":case"Float":case"Boolean":return nt.push(`${gt}_${ft}`),nt}const ut=`${gt}_${ft}`;switch(_){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let pt,vt;if(gt==="constants"){const dt=this.constants[ft];vt=this.constantTypes[ft]==="Input",pt=vt?dt.size:null}else vt=this.isInput(ft),pt=vt?this.argumentSizes[this.argumentNames.indexOf(ft)]:null;nt.push(`${ut}`),lt&&st?vt?(nt.push("[("),this.astGeneric(lt,nt),nt.push(`*${this.dynamicArguments?"(outputY * outputX)":pt[1]*pt[0]})+(`),this.astGeneric(st,nt),nt.push(`*${this.dynamicArguments?"outputX":pt[0]})+`),this.astGeneric(et,nt),nt.push("]")):(nt.push("["),this.astGeneric(lt,nt),nt.push("]"),nt.push("["),this.astGeneric(st,nt),nt.push("]"),nt.push("["),this.astGeneric(et,nt),nt.push("]")):st?vt?(nt.push("[("),this.astGeneric(st,nt),nt.push(`*${this.dynamicArguments?"outputX":pt[0]})+`),this.astGeneric(et,nt),nt.push("]")):(nt.push("["),this.astGeneric(st,nt),nt.push("]"),nt.push("["),this.astGeneric(et,nt),nt.push("]")):typeof et<"u"&&(nt.push("["),this.astGeneric(et,nt),nt.push("]"))}return nt}astCallExpression(rt,nt){if(rt.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",rt);let j=this.astMemberExpressionUnroll(rt.callee);this.calledFunctions.indexOf(j)<0&&this.calledFunctions.push(j),this.isAstMathFunction(rt),this.onFunctionCall&&this.onFunctionCall(this.name,j,rt.arguments),nt.push(j),nt.push("(");const _=this.lookupFunctionArgumentTypes(j)||[];for(let $=0;$<rt.arguments.length;++$){const et=rt.arguments[$];let st=this.getType(et);_[$]||this.triggerImplyArgumentType(j,$,st,this),$>0&&nt.push(", "),this.astGeneric(et,nt)}return nt.push(")"),nt}astArrayExpression(rt,nt){const j=this.getType(rt),_=rt.elements.length,$=[];for(let et=0;et<_;++et){const st=[];this.astGeneric(rt.elements[et],st),$.push(st.join(""))}switch(j){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":nt.push(`[${$.join(", ")}]`);break;default:nt.push(`new Float32Array([${$.join(", ")}])`)}return nt}astDebuggerStatement(rt,nt){return nt.push("debugger;"),nt}}o.exports={CPUFunctionNode:at}},{"../function-node":10}],7:[function(a,o,it){const{utils:tt}=a("../../utils");function at(rt,nt){const j=[];for(const _ in nt){if(!nt.hasOwnProperty(_))continue;const $=nt[_],et=rt[_];switch($){case"Number":case"Integer":case"Float":case"Boolean":j.push(`${_}:${et}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":j.push(`${_}:new ${et.constructor.name}(${JSON.stringify(Array.from(et))})`);break}}return`{ ${j.join()} }`}function ot(rt,nt){const j=[],_=[],$=[],et=!/^function/.test(rt.color.toString());if(j.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(rt.output))});`,`  const _constantTypes = ${JSON.stringify(rt.constantTypes)};`,`  const _constants = ${at(rt.constants,rt.constantTypes)};`),_.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),rt.graphical){j.push(`  const _imageData = context.createImageData(${rt.output[0]}, ${rt.output[1]});`),j.push(`  const _colorData = new Uint8ClampedArray(${rt.output[0]} * ${rt.output[1]} * 4);`);const ft=tt.flattenFunctionToString((et?"function ":"")+rt.color.toString(),{thisLookup:ut=>{switch(ut){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(rt[ut])},findDependency:(ut,pt)=>null}),gt=tt.flattenFunctionToString((et?"function ":"")+rt.getPixels.toString(),{thisLookup:ut=>{switch(ut){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(rt[ut])},findDependency:()=>null});_.push("    _imageData,","    _colorData,",`    color: ${ft},`),$.push(`  kernel.getPixels = ${gt};`)}const st=[],lt=Object.keys(rt.constantTypes);for(let ft=0;ft<lt.length;ft++)st.push(rt.constantTypes[lt]);if(rt.argumentTypes.indexOf("HTMLImageArray")!==-1||st.indexOf("HTMLImageArray")!==-1){const ft=tt.flattenFunctionToString((et?"function ":"")+rt._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(gt,ut)=>gt==="this"?(et?"function ":"")+rt[ut].toString():null,thisLookup:gt=>{switch(gt){case"canvas":return;case"context":return"context"}}});$.push(ft),_.push("    _mediaTo2DArray,"),_.push("    _imageTo3DArray,")}else if(rt.argumentTypes.indexOf("HTMLImage")!==-1||st.indexOf("HTMLImage")!==-1){const ft=tt.flattenFunctionToString((et?"function ":"")+rt._mediaTo2DArray.toString(),{findDependency:(gt,ut)=>null,thisLookup:gt=>{switch(gt){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});$.push(ft),_.push("    _mediaTo2DArray,")}return`function(settings) {
${j.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${rt._kernelString}
  })
    .apply({ ${_.join(`
`)} });
  ${$.join(`
`)}
  return kernel;
}`}o.exports={cpuKernelString:ot}},{"../../utils":114}],8:[function(a,o,it){const{Kernel:tt}=a("../kernel"),{FunctionBuilder:at}=a("../function-builder"),{CPUFunctionNode:ot}=a("./function-node"),{utils:rt}=a("../../utils"),{cpuKernelString:nt}=a("./kernel-string");class j extends tt{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch($){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels($){return $}static getSignature($,et){return"cpu"+(et.length>0?":"+et.join(","):"")}constructor($,et){super($,et),this.mergeSettings($.settings||et),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins($){return[]}validateSettings($){if(!this.output||this.output.length===0){if($.length!==1)throw new Error("Auto output only supported for kernels with only one input");const et=rt.getVariableType($[0],this.strictIntegers);if(et==="Array")this.output=rt.getDimensions(et);else if(et==="NumberTexture"||et==="ArrayTexture(4)")this.output=$[0].output;else throw new Error("Auto output not supported for input type: "+et)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const et=[];for(let st=0;st<this.subKernels.length;st++){const{name:lt}=this.subKernels[st];et.push(this.output.length>1?`resultX_${lt}[x] = subKernelResult_${lt};
`:`result_${lt}[x] = subKernelResult_${lt};
`)}this.followingReturnStatement=et.join("")}const $=at.fromKernel(this,ot);this.translatedSources=$.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=$.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:et,output:st}=this;if(!et)throw new Error("no canvas available for using graphical output");const lt=st[0],ft=st[1]||1;et.width=lt,et.height=ft,this._imageData=this.context.createImageData(lt,ft),this._colorData=new Uint8ClampedArray(lt*ft*4)}const $=this.getKernelString();this.kernelString=$,this.debug&&(console.log("Function output:"),console.log($));try{this.run=new Function([],$).bind(this)()}catch(et){console.error("An error occurred compiling the javascript: ",et)}this.buildSignature(arguments),this.built=!0}color($,et,st,lt){typeof lt>"u"&&(lt=1),$=Math.floor($*255),et=Math.floor(et*255),st=Math.floor(st*255),lt=Math.floor(lt*255);const ft=this.output[0],gt=this.output[1],ut=this.thread.x,pt=gt-this.thread.y-1,vt=ut+pt*ft;this._colorData[vt*4+0]=$,this._colorData[vt*4+1]=et,this._colorData[vt*4+2]=st,this._colorData[vt*4+3]=lt}getKernelString(){if(this._kernelString!==null)return this._kernelString;let $=null,{translatedSources:et}=this;return et.length>1?et=et.filter(st=>/^function/.test(st)?st:($=st,!1)):$=et.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(st=>"user_"+st).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody($):this._resultKernelBody($)}
    ${et.length>0?et.join(`
`):""}
  };`}toString(){return nt(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const $=[];for(let et in this.constants)switch(this.constantTypes[et]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    const constants_${et} = this._mediaTo2DArray(this.constants.${et});
`);break;case"HTMLImageArray":$.push(`    const constants_${et} = this._imageTo3DArray(this.constants.${et});
`);break;case"Input":$.push(`    const constants_${et} = this.constants.${et}.value;
`);break;default:$.push(`    const constants_${et} = this.constants.${et};
`)}return $.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const $=[];for(let st=0;st<this.argumentTypes.length;st++)this.argumentTypes[st]==="Array"&&$.push(this.argumentNames[st]);if($.length===0)return"";const et=[];for(let st=0;st<$.length;st++){const lt=$[st],ft=this._mapSubKernels(gt=>`user_${lt} === result_${gt.name}`).join(" || ");et.push(`user_${lt} === result${ft?` || ${ft}`:""}`)}return`if (${et.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const $=[];for(let et=0;et<this.argumentTypes.length;et++){const st=`user_${this.argumentNames[et]}`;switch(this.argumentTypes[et]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    ${st} = this._mediaTo2DArray(${st});
`);break;case"HTMLImageArray":$.push(`    ${st} = this._imageTo3DArray(${st});
`);break;case"Input":$.push(`    ${st} = ${st}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":$.push(`
    if (${st}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${st});
      if (textureIndex !== -1) {
        ${st} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${st});
        ${st} = ${st}.toArray();
        _this.arrayCache.push(${st});
      }
    }`);break}}return $.join("")}_mediaTo2DArray($){const et=this.canvas,st=$.width>0?$.width:$.videoWidth,lt=$.height>0?$.height:$.videoHeight;et.width<st&&(et.width=st),et.height<lt&&(et.height=lt);const ft=this.context;let gt;$.constructor===ImageData?gt=$.data:(ft.drawImage($,0,0,st,lt),gt=ft.getImageData(0,0,st,lt).data);const ut=new Array(lt);let pt=0;for(let vt=lt-1;vt>=0;vt--){const dt=ut[vt]=new Array(st);for(let mt=0;mt<st;mt++){const Tt=new Float32Array(4);Tt[0]=gt[pt++]/255,Tt[1]=gt[pt++]/255,Tt[2]=gt[pt++]/255,Tt[3]=gt[pt++]/255,dt[mt]=Tt}}return ut}getPixels($){const[et,st]=this.output;return $?rt.flipPixels(this._imageData.data,et,st):this._imageData.data.slice(0)}_imageTo3DArray($){const et=new Array($.length);for(let st=0;st<$.length;st++)et[st]=this._mediaTo2DArray($[st]);return et}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody($){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop($):this._resultImmutableKernel1DLoop($))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop($):this._resultImmutableKernel2DLoop($))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop($):this._resultImmutableKernel3DLoop($))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody($){switch(this.output.length){case 2:return this._graphicalKernel2DLoop($)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${et}(outputX);
    ${this._mapSubKernels(st=>`const result_${st.name} = new ${et}(outputX);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_mutableKernel1DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${$}(outputX);
    ${this._mapSubKernels(et=>`const result_${et.name} = new ${$}(outputX);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}`}_resultMutableKernel1DLoop($){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_resultImmutableKernel2DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(st=>`const result_${st.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${et}(outputX);
      ${this._mapSubKernels(st=>`const resultX_${st.name} = result_${st.name}[y] = new ${et}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_mutableKernel2DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(et=>`const result_${et.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${$}(outputX);
      ${this._mapSubKernels(et=>`const resultX_${et.name} = result_${et.name}[y] = new ${$}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(st=>`const resultX_${st.name} = result_${st.name}[y] = new ${et}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_graphicalKernel2DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_resultImmutableKernel3DLoop($){const et=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(st=>`const result_${st.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(st=>`const resultY_${st.name} = result_${st.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${et}(outputX);
        ${this._mapSubKernels(st=>`const resultX_${st.name} = resultY_${st.name}[y] = new ${et}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_mutableKernel3DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(et=>`const result_${et.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(et=>`let subKernelResult_${et.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(et=>`const resultY_${et.name} = result_${et.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${$}(outputX);
        ${this._mapSubKernels(et=>`const resultX_${et.name} = resultY_${et.name}[y] = new ${$}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map($=>`${$.property}: result_${$.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels($){return this.subKernels===null?[""]:this.subKernels.map($)}destroy($){$&&delete this.canvas}static destroyContext($){}toJSON(){const $=super.toJSON();return $.functionNodes=at.fromKernel(this,ot).toJSON(),$}setOutput($){super.setOutput($);const[et,st]=this.output;this.graphical&&(this._imageData=this.context.createImageData(et,st),this._colorData=new Uint8ClampedArray(et*st*4))}prependString($){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push($)}hasPrependString($){return this._prependedString.indexOf($)>-1}}o.exports={CPUKernel:j}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(a,o,it){class tt{static fromKernel(ot,rt,nt){const{kernelArguments:j,kernelConstants:_,argumentNames:$,argumentSizes:et,argumentBitRatios:st,constants:lt,constantBitRatios:ft,debug:gt,loopMaxIterations:ut,nativeFunctions:pt,output:vt,optimizeFloatMemory:dt,precision:mt,plugins:Tt,source:yt,subKernels:ht,functions:xt,leadingReturnStatement:wt,followingReturnStatement:kt,dynamicArguments:Ct,dynamicOutput:Rt}=ot,Lt=new Array(j.length),Mt={};for(let Gt=0;Gt<j.length;Gt++)Lt[Gt]=j[Gt].type;for(let Gt=0;Gt<_.length;Gt++){const cn=_[Gt];Mt[cn.name]=cn.type}const Wt=(Gt,cn)=>Qt.needsArgumentType(Gt,cn),Pt=(Gt,cn,kn)=>{Qt.assignArgumentType(Gt,cn,kn)},Ot=(Gt,cn,kn)=>Qt.lookupReturnType(Gt,cn,kn),Xt=Gt=>Qt.lookupFunctionArgumentTypes(Gt),rn=(Gt,cn)=>Qt.lookupFunctionArgumentName(Gt,cn),jt=(Gt,cn)=>Qt.lookupFunctionArgumentBitRatio(Gt,cn),Vt=(Gt,cn,kn,dn)=>{Qt.assignArgumentType(Gt,cn,kn,dn)},en=(Gt,cn,kn,dn)=>{Qt.assignArgumentBitRatio(Gt,cn,kn,dn)},ln=(Gt,cn,kn)=>{Qt.trackFunctionCall(Gt,cn,kn)},nn=(Gt,cn)=>{const kn=[];for(let qn=0;qn<Gt.params.length;qn++)kn.push(Gt.params[qn].name);const dn=new rt(cn,Object.assign({},_n,{returnType:null,ast:Gt,name:Gt.id.name,argumentNames:kn,lookupReturnType:Ot,lookupFunctionArgumentTypes:Xt,lookupFunctionArgumentName:rn,lookupFunctionArgumentBitRatio:jt,needsArgumentType:Wt,assignArgumentType:Pt,triggerImplyArgumentType:Vt,triggerImplyArgumentBitRatio:en,onFunctionCall:ln}));dn.traceFunctionAST(Gt),Qt.addFunctionNode(dn)},_n=Object.assign({isRootKernel:!1,onNestedFunction:nn,lookupReturnType:Ot,lookupFunctionArgumentTypes:Xt,lookupFunctionArgumentName:rn,lookupFunctionArgumentBitRatio:jt,needsArgumentType:Wt,assignArgumentType:Pt,triggerImplyArgumentType:Vt,triggerImplyArgumentBitRatio:en,onFunctionCall:ln,optimizeFloatMemory:dt,precision:mt,constants:lt,constantTypes:Mt,constantBitRatios:ft,debug:gt,loopMaxIterations:ut,output:vt,plugins:Tt,dynamicArguments:Ct,dynamicOutput:Rt},nt||{}),fn=Object.assign({},_n,{isRootKernel:!0,name:"kernel",argumentNames:$,argumentTypes:Lt,argumentSizes:et,argumentBitRatios:st,leadingReturnStatement:wt,followingReturnStatement:kt});if(typeof yt=="object"&&yt.functionNodes)return new tt().fromJSON(yt.functionNodes,rt);const wn=new rt(yt,fn);let xn=null;xt&&(xn=xt.map(Gt=>new rt(Gt.source,{returnType:Gt.returnType,argumentTypes:Gt.argumentTypes,output:vt,plugins:Tt,constants:lt,constantTypes:Mt,constantBitRatios:ft,optimizeFloatMemory:dt,precision:mt,lookupReturnType:Ot,lookupFunctionArgumentTypes:Xt,lookupFunctionArgumentName:rn,lookupFunctionArgumentBitRatio:jt,needsArgumentType:Wt,assignArgumentType:Pt,triggerImplyArgumentType:Vt,triggerImplyArgumentBitRatio:en,onFunctionCall:ln,onNestedFunction:nn})));let qt=null;ht&&(qt=ht.map(Gt=>{const{name:cn,source:kn}=Gt;return new rt(kn,Object.assign({},_n,{name:cn,isSubKernel:!0,isRootKernel:!1}))}));const Qt=new tt({kernel:ot,rootNode:wn,functionNodes:xn,nativeFunctions:pt,subKernelNodes:qt});return Qt}constructor(ot){if(ot=ot||{},this.kernel=ot.kernel,this.rootNode=ot.rootNode,this.functionNodes=ot.functionNodes||[],this.subKernelNodes=ot.subKernelNodes||[],this.nativeFunctions=ot.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let rt=0;rt<this.functionNodes.length;rt++)this.functionMap[this.functionNodes[rt].name]=this.functionNodes[rt];if(this.subKernelNodes)for(let rt=0;rt<this.subKernelNodes.length;rt++)this.functionMap[this.subKernelNodes[rt].name]=this.subKernelNodes[rt];if(this.nativeFunctions)for(let rt=0;rt<this.nativeFunctions.length;rt++){const nt=this.nativeFunctions[rt];this.nativeFunctionNames.push(nt.name)}}addFunctionNode(ot){if(!ot.name)throw new Error("functionNode.name needs set");this.functionMap[ot.name]=ot,ot.isRootKernel&&(this.rootNode=ot)}traceFunctionCalls(ot,rt){if(ot=ot||"kernel",rt=rt||[],this.nativeFunctionNames.indexOf(ot)>-1){const j=rt.indexOf(ot);if(j===-1)rt.push(ot);else{const _=rt.splice(j,1)[0];rt.push(_)}return rt}const nt=this.functionMap[ot];if(nt){const j=rt.indexOf(ot);if(j===-1){rt.push(ot),nt.toString();for(let _=0;_<nt.calledFunctions.length;++_)this.traceFunctionCalls(nt.calledFunctions[_],rt)}else{const _=rt.splice(j,1)[0];rt.push(_)}}return rt}getPrototypeString(ot){return this.getPrototypes(ot).join(`
`)}getPrototypes(ot){return this.rootNode&&this.rootNode.toString(),ot?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(ot,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(ot){const rt=[];for(let nt=0;nt<ot.length;++nt)this.functionMap[ot[nt]]&&rt.push(this.functionMap[ot[nt]].toString());return rt.join(`
`)}getPrototypesFromFunctionNames(ot){const rt=[];for(let nt=0;nt<ot.length;++nt){const j=ot[nt],_=this.nativeFunctionNames.indexOf(j);if(_>-1){rt.push(this.nativeFunctions[_].source);continue}const $=this.functionMap[j];$&&rt.push($.toString())}return rt}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(ot=>{const rt=this.nativeFunctions.indexOf(ot);if(rt>-1)return{name:ot,source:this.nativeFunctions[rt].source};if(this.functionMap[ot])return this.functionMap[ot].toJSON();throw new Error(`function ${ot} not found`)})}fromJSON(ot,rt){this.functionMap={};for(let nt=0;nt<ot.length;nt++){const j=ot[nt];this.functionMap[j.settings.name]=new rt(j.ast,j.settings)}return this}getString(ot){return ot?this.getStringFromFunctionNames(this.traceFunctionCalls(ot).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(ot,rt,nt){if(rt.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${rt.type}`);if(this._isNativeFunction(ot))return this._lookupNativeFunctionReturnType(ot);if(this._isFunction(ot)){const j=this._getFunction(ot);if(j.returnType)return j.returnType;{for(let $=0;$<this.lookupChain.length;$++)if(this.lookupChain[$].ast===rt){if(j.argumentTypes.length===0&&rt.arguments.length>0){const et=rt.arguments;for(let st=0;st<et.length;st++)this.lookupChain.push({name:nt.name,ast:et[$],requestingNode:nt}),j.argumentTypes[st]=nt.getType(et[st]),this.lookupChain.pop();return j.returnType=j.getType(j.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:nt.name,ast:rt,requestingNode:nt});const _=j.getType(j.getJsAST());return this.lookupChain.pop(),j.returnType=_}}return null}_getFunction(ot){return this._isFunction(ot),this.functionMap[ot]}_isFunction(ot){return Boolean(this.functionMap[ot])}_getNativeFunction(ot){for(let rt=0;rt<this.nativeFunctions.length;rt++)if(this.nativeFunctions[rt].name===ot)return this.nativeFunctions[rt];return null}_isNativeFunction(ot){return Boolean(this._getNativeFunction(ot))}_lookupNativeFunctionReturnType(ot){let rt=this._getNativeFunction(ot);if(rt)return rt.returnType;throw new Error(`Native function ${ot} not found`)}lookupFunctionArgumentTypes(ot){return this._isNativeFunction(ot)?this._getNativeFunction(ot).argumentTypes:this._isFunction(ot)?this._getFunction(ot).argumentTypes:null}lookupFunctionArgumentName(ot,rt){return this._getFunction(ot).argumentNames[rt]}lookupFunctionArgumentBitRatio(ot,rt){if(!this._isFunction(ot))throw new Error("function not found");if(this.rootNode.name===ot){const $=this.rootNode.argumentNames.indexOf(rt);if($!==-1)return this.rootNode.argumentBitRatios[$]}const nt=this._getFunction(ot),j=nt.argumentNames.indexOf(rt);if(j===-1)throw new Error("argument not found");const _=nt.argumentBitRatios[j];if(typeof _!="number")throw new Error("argument bit ratio not found");return _}needsArgumentType(ot,rt){return this._isFunction(ot)?!this._getFunction(ot).argumentTypes[rt]:!1}assignArgumentType(ot,rt,nt,j){if(!this._isFunction(ot))return;const _=this._getFunction(ot);_.argumentTypes[rt]||(_.argumentTypes[rt]=nt)}assignArgumentBitRatio(ot,rt,nt,j){const _=this._getFunction(ot);if(this._isNativeFunction(nt))return null;const $=this._getFunction(nt),et=_.argumentNames.indexOf(rt);if(et===-1)throw new Error(`Argument ${rt} not found in arguments from function ${ot}`);const st=_.argumentBitRatios[et];if(typeof st!="number")throw new Error(`Bit ratio for argument ${rt} not found in function ${ot}`);$.argumentBitRatios||($.argumentBitRatios=new Array($.argumentNames.length));const lt=$.argumentBitRatios[et];if(typeof lt=="number"){if(lt!==st)throw new Error(`Incompatible bit ratio found at function ${ot} at argument ${rt}`);return lt}return $.argumentBitRatios[et]=st,st}trackFunctionCall(ot,rt,nt){this.functionNodeDependencies[ot]||(this.functionNodeDependencies[ot]=new Set,this.functionCalls[ot]=[]),this.functionNodeDependencies[ot].add(rt),this.functionCalls[ot].push(nt)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(ot){const rt=this.subKernelNodes[ot];let nt=!1;for(let j=0;j<this.rootNode.functionCalls.length;j++)this.rootNode.functionCalls[j].ast.callee.name===rt.name&&(nt=!0);if(!nt)throw new Error(`SubKernel ${rt.name} never called by kernel`);return rt.returnType||rt.getType(rt.getJsAST())}getReturnTypes(){const ot={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},rt=this.traceFunctionCalls(this.rootNode.name);for(let nt=0;nt<rt.length;nt++){const j=rt[nt],_=this.functionMap[j];ot[j]=_.getType(_.ast)}return ot}}o.exports={FunctionBuilder:tt}},{}],10:[function(a,o,it){const tt=a("acorn"),{utils:at}=a("../utils"),{FunctionTracer:ot}=a("./function-tracer");class rt{constructor(_,$){if(!_&&!$.ast)throw new Error("source parameter is missing");if($=$||{},this.source=_,this.ast=null,this.name=typeof _=="string"?$.isRootKernel?"kernel":$.name||at.getFunctionNameFromString(_):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?at.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,$)for(const et in $)!$.hasOwnProperty(et)||!this.hasOwnProperty(et)||(this[et]=$[et]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!at.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(_){return this.constants?this.constants.hasOwnProperty(_):!1}isInput(_){return this.argumentTypes[this.argumentNames.indexOf(_)]==="Input"}pushState(_){this.states.push(_)}popState(_){if(this.state!==_)throw new Error(`Cannot popState ${_} when in ${this.state}`);this.states.pop()}isState(_){return this.state===_}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(_){if(_.type==="Identifier")return _.name;if(_.type==="ThisExpression")return"this";if(_.type==="MemberExpression"&&_.object&&_.property)return _.object.hasOwnProperty("name")&&_.object.name!=="Math"?this.astMemberExpressionUnroll(_.property):this.astMemberExpressionUnroll(_.object)+"."+this.astMemberExpressionUnroll(_.property);if(_.hasOwnProperty("expressions")){const $=_.expressions[0];if($.type==="Literal"&&$.value===0&&_.expressions.length===2)return this.astMemberExpressionUnroll(_.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",_)}getJsAST(_){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(_=_||tt,_===null)throw new Error("Missing JS to AST parser");const $=Object.freeze(_.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),et=$.body[0].declarations[0].init;if(this.traceFunctionAST(et),!$)throw new Error("Failed to parse JS code");return this.ast=et}traceFunctionAST(_){const{contexts:$,declarations:et,functions:st,identifiers:lt,functionCalls:ft}=new ot(_);this.contexts=$,this.identifiers=lt,this.functionCalls=ft,this.functions=st;for(let gt=0;gt<et.length;gt++){const ut=et[gt],{ast:pt,inForLoopInit:vt,inForLoopTest:dt}=ut,{init:mt}=pt,Tt=this.getDependencies(mt);let yt=null;if(vt&&dt)yt="Integer";else if(mt){const ht=this.getType(mt);switch(ht){case"Integer":case"Float":case"Number":mt.type==="MemberExpression"?yt=ht:yt="Number";break;case"LiteralInteger":yt="Number";break;default:yt=ht}}ut.valueType=yt,ut.dependencies=Tt,ut.isSafe=this.isSafeDependencies(Tt)}for(let gt=0;gt<st.length;gt++)this.onNestedFunction(st[gt],this.source)}getDeclaration(_){for(let $=0;$<this.identifiers.length;$++){const et=this.identifiers[$];if(_===et.ast)return et.declaration}return null}getVariableType(_){if(_.type!=="Identifier")throw new Error(`ast of ${_.type} not "Identifier"`);let $=null;const et=this.argumentNames.indexOf(_.name);if(et===-1){const st=this.getDeclaration(_);if(st)return st.valueType}else{const st=this.argumentTypes[et];st&&($=st)}if(!$&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return $}getLookupType(_){if(!nt.hasOwnProperty(_))throw new Error(`unknown typeLookupMap ${_}`);return nt[_]}getConstantType(_){if(this.constantTypes[_]){const $=this.constantTypes[_];return $==="Float"?"Number":$}throw new Error(`Type for constant "${_}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const _={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:_}}getType(_){if(Array.isArray(_))return this.getType(_[_.length-1]);switch(_.type){case"BlockStatement":return this.getType(_.body);case"ArrayExpression":switch(this.getType(_.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${_.elements.length})`}return`Array(${_.elements.length})`;case"Literal":const et=this.astKey(_);return this.literalTypes[et]?this.literalTypes[et]:Number.isInteger(_.value)?"LiteralInteger":_.value===!0||_.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(_.left);case"CallExpression":if(this.isAstMathFunction(_))return"Number";if(!_.callee||!_.callee.name){if(_.callee.type==="SequenceExpression"&&_.callee.expressions[_.callee.expressions.length-1].property.name){const ut=_.callee.expressions[_.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}if(this.getVariableSignature(_.callee,!0)==="this.color")return null;if(_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.property&&_.callee.property.name&&_.arguments){const ut=_.callee.property.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}throw this.astErrorOutput("Unknown call expression",_)}if(_.callee&&_.callee.name){const ut=_.callee.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(_.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const st=this.getType(_.left);if(this.isState("skip-literal-correction"))return st;if(st==="LiteralInteger"){const ut=this.getType(_.right);return ut==="LiteralInteger"?_.left.value%1===0?"Integer":"Float":ut}return nt[st]||st;case"UpdateExpression":return this.getType(_.argument);case"UnaryExpression":return _.operator==="~"?"Integer":this.getType(_.argument);case"VariableDeclaration":{const ut=_.declarations;let pt;for(let vt=0;vt<ut.length;vt++){const dt=ut[vt];pt=this.getType(dt)}if(!pt)throw this.astErrorOutput("Unable to find type for declaration",_);return pt}case"VariableDeclarator":const lt=this.getDeclaration(_.id);if(!lt)throw this.astErrorOutput("Unable to find declarator",_);if(!lt.valueType)throw this.astErrorOutput("Unable to find declarator valueType",_);return lt.valueType;case"Identifier":if(_.name==="Infinity")return"Number";if(this.isAstVariable(_)&&this.getVariableSignature(_)==="value")return this.getCheckVariableType(_);const ft=this.findIdentifierOrigin(_);return ft&&ft.init?this.getType(ft.init):null;case"ReturnStatement":return this.getType(_.argument);case"MemberExpression":if(this.isAstMathFunction(_)){switch(_.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(_)){switch(this.getVariableSignature(_)){case"value[]":return this.getLookupType(this.getCheckVariableType(_.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(_.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(_.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(_.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(_.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(_.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(_.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(_.object));case"value.value":if(this.isAstMathVariable(_))return"Number";switch(_.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(_.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",_)}throw this.astErrorOutput("Unhandled getType MemberExpression",_);case"ConditionalExpression":return this.getType(_.consequent);case"FunctionDeclaration":case"FunctionExpression":const gt=this.findLastReturn(_.body);return gt?this.getType(gt):null;case"IfStatement":return this.getType(_.consequent);case"SequenceExpression":return this.getType(_.expressions[_.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_)}}getCheckVariableType(_){const $=this.getVariableType(_);if(!$)throw this.astErrorOutput(`${_.type} is not defined`,_);return $}inferArgumentTypesIfNeeded(_,$){for(let et=0;et<$.length;et++){if(!this.needsArgumentType(_,et))continue;const st=this.getType($[et]);if(!st)throw this.astErrorOutput(`Unable to infer argument ${et}`,$[et]);this.assignArgumentType(_,et,st)}}isAstMathVariable(_){const $=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return _.type==="MemberExpression"&&_.object&&_.object.type==="Identifier"&&_.object.name==="Math"&&_.property&&_.property.type==="Identifier"&&$.indexOf(_.property.name)>-1}isAstMathFunction(_){const $=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return _.type==="CallExpression"&&_.callee&&_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.object.type==="Identifier"&&_.callee.object.name==="Math"&&_.callee.property&&_.callee.property.type==="Identifier"&&$.indexOf(_.callee.property.name)>-1}isAstVariable(_){return _.type==="Identifier"||_.type==="MemberExpression"}isSafe(_){return this.isSafeDependencies(this.getDependencies(_))}isSafeDependencies(_){return _&&_.every?_.every($=>$.isSafe):!0}getDependencies(_,$,et){if($||($=[]),!_)return null;if(Array.isArray(_)){for(let st=0;st<_.length;st++)this.getDependencies(_[st],$,et);return $}switch(_.type){case"AssignmentExpression":return this.getDependencies(_.left,$,et),this.getDependencies(_.right,$,et),$;case"ConditionalExpression":return this.getDependencies(_.test,$,et),this.getDependencies(_.alternate,$,et),this.getDependencies(_.consequent,$,et),$;case"Literal":$.push({origin:"literal",value:_.value,isSafe:et===!0?!1:_.value>-1/0&&_.value<1/0&&!isNaN(_.value)});break;case"VariableDeclarator":return this.getDependencies(_.init,$,et);case"Identifier":const st=this.getDeclaration(_);if(st)$.push({name:_.name,origin:"declaration",isSafe:et?!1:this.isSafeDependencies(st.dependencies)});else if(this.argumentNames.indexOf(_.name)>-1)$.push({name:_.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${_.name}"`);break;case"FunctionDeclaration":return this.getDependencies(_.body.body[_.body.body.length-1],$,et);case"ReturnStatement":return this.getDependencies(_.argument,$);case"BinaryExpression":case"LogicalExpression":return et=_.operator==="/"||_.operator==="*",this.getDependencies(_.left,$,et),this.getDependencies(_.right,$,et),$;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(_.argument,$,et);case"VariableDeclaration":return this.getDependencies(_.declarations,$,et);case"ArrayExpression":return $.push({origin:"declaration",isSafe:!0}),$;case"CallExpression":return $.push({origin:"function",isSafe:!0}),$;case"MemberExpression":const lt=this.getMemberExpressionDetails(_);switch(lt.signature){case"value[]":this.getDependencies(_.object,$,et);break;case"value[][]":this.getDependencies(_.object.object,$,et);break;case"value[][][]":this.getDependencies(_.object.object.object,$,et);break;case"this.output.value":this.dynamicOutput&&$.push({name:lt.name,origin:"output",isSafe:!1});break}if(lt)return lt.property&&this.getDependencies(lt.property,$,et),lt.xProperty&&this.getDependencies(lt.xProperty,$,et),lt.yProperty&&this.getDependencies(lt.yProperty,$,et),lt.zProperty&&this.getDependencies(lt.zProperty,$,et),$;case"SequenceExpression":return this.getDependencies(_.expressions,$,et);default:throw this.astErrorOutput(`Unhandled type ${_.type} in getDependencies`,_)}return $}getVariableSignature(_,$){if(!this.isAstVariable(_))throw new Error(`ast of type "${_.type}" is not a variable signature`);if(_.type==="Identifier")return"value";const et=[];for(;_;)_.computed?et.push("[]"):_.type==="ThisExpression"?et.unshift("this"):_.property&&_.property.name?_.property.name==="x"||_.property.name==="y"||_.property.name==="z"?et.unshift($?"."+_.property.name:".value"):_.property.name==="constants"||_.property.name==="thread"||_.property.name==="output"?et.unshift("."+_.property.name):et.unshift($?"."+_.property.name:".value"):_.name?et.unshift($?_.name:"value"):_.callee&&_.callee.name?et.unshift($?_.callee.name+"()":"fn()"):_.elements?et.unshift("[]"):et.unshift("unknown"),_=_.object;const st=et.join("");return $||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(st)>-1?st:null}build(){return this.toString().length>0}astGeneric(_,$){if(_===null)throw this.astErrorOutput("NULL ast",_);if(Array.isArray(_)){for(let et=0;et<_.length;et++)this.astGeneric(_[et],$);return $}switch(_.type){case"FunctionDeclaration":return this.astFunctionDeclaration(_,$);case"FunctionExpression":return this.astFunctionExpression(_,$);case"ReturnStatement":return this.astReturnStatement(_,$);case"Literal":return this.astLiteral(_,$);case"BinaryExpression":return this.astBinaryExpression(_,$);case"Identifier":return this.astIdentifierExpression(_,$);case"AssignmentExpression":return this.astAssignmentExpression(_,$);case"ExpressionStatement":return this.astExpressionStatement(_,$);case"EmptyStatement":return this.astEmptyStatement(_,$);case"BlockStatement":return this.astBlockStatement(_,$);case"IfStatement":return this.astIfStatement(_,$);case"SwitchStatement":return this.astSwitchStatement(_,$);case"BreakStatement":return this.astBreakStatement(_,$);case"ContinueStatement":return this.astContinueStatement(_,$);case"ForStatement":return this.astForStatement(_,$);case"WhileStatement":return this.astWhileStatement(_,$);case"DoWhileStatement":return this.astDoWhileStatement(_,$);case"VariableDeclaration":return this.astVariableDeclaration(_,$);case"VariableDeclarator":return this.astVariableDeclarator(_,$);case"ThisExpression":return this.astThisExpression(_,$);case"SequenceExpression":return this.astSequenceExpression(_,$);case"UnaryExpression":return this.astUnaryExpression(_,$);case"UpdateExpression":return this.astUpdateExpression(_,$);case"LogicalExpression":return this.astLogicalExpression(_,$);case"MemberExpression":return this.astMemberExpression(_,$);case"CallExpression":return this.astCallExpression(_,$);case"ArrayExpression":return this.astArrayExpression(_,$);case"DebuggerStatement":return this.astDebuggerStatement(_,$);case"ConditionalExpression":return this.astConditionalExpression(_,$)}throw this.astErrorOutput("Unknown ast type : "+_.type,_)}astErrorOutput(_,$){if(typeof this.source!="string")return new Error(_);const et=at.getAstString(this.source,$),lt=this.source.substr($.start).split(/\n/),ft=lt.length>0?lt[lt.length-1]:0;return new Error(`${_} on line ${lt.length}, position ${ft.length}:
 ${et}`)}astDebuggerStatement(_,$){return $}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);return $.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$}astFunction(_,$){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}astFunctionExpression(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}isChildFunction(_){for(let $=0;$<this.functions.length;$++)if(this.functions[$]===_)return!0;return!1}astReturnStatement(_,$){return $}astLiteral(_,$){return this.literalTypes[this.astKey(_)]="Number",$}astBinaryExpression(_,$){return $}astIdentifierExpression(_,$){return $}astAssignmentExpression(_,$){return $}astExpressionStatement(_,$){return this.astGeneric(_.expression,$),$.push(";"),$}astEmptyStatement(_,$){return $}astBlockStatement(_,$){return $}astIfStatement(_,$){return $}astSwitchStatement(_,$){return $}astBreakStatement(_,$){return $.push("break;"),$}astContinueStatement(_,$){return $.push(`continue;
`),$}astForStatement(_,$){return $}astWhileStatement(_,$){return $}astDoWhileStatement(_,$){return $}astVariableDeclarator(_,$){return this.astGeneric(_.id,$),_.init!==null&&($.push("="),this.astGeneric(_.init,$)),$}astThisExpression(_,$){return $}astSequenceExpression(_,$){const{expressions:et}=_,st=[];for(let lt=0;lt<et.length;lt++){const ft=et[lt],gt=[];this.astGeneric(ft,gt),st.push(gt.join(""))}return st.length>1?$.push("(",st.join(","),")"):$.push(st[0]),$}astUnaryExpression(_,$){return this.checkAndUpconvertBitwiseUnary(_,$)||(_.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator))),$}checkAndUpconvertBitwiseUnary(_,$){}astUpdateExpression(_,$){return _.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator)),$}astLogicalExpression(_,$){return $.push("("),this.astGeneric(_.left,$),$.push(_.operator),this.astGeneric(_.right,$),$.push(")"),$}astMemberExpression(_,$){return $}astCallExpression(_,$){return $}astArrayExpression(_,$){return $}getMemberExpressionDetails(_){if(_.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${_.type} not a MemberExpression`,_);let $=null,et=null;const st=this.getVariableSignature(_);switch(st){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:st,type:"Integer",name:_.property.name};case"value[]":if(typeof _.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object),xProperty:_.property};case"value[][]":if(typeof _.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object),yProperty:_.object.property,xProperty:_.property};case"value[][][]":if(typeof _.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value[][][][]":if(typeof _.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if(this.isAstMathVariable(_))return $=_.property.name,{name:$,origin:"Math",type:"Number",signature:st};switch(_.property.name){case"r":case"g":case"b":case"a":return $=_.object.name,{name:$,property:_.property.name,origin:"user",signature:st,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",_)}case"this.constants.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:st};case"this.constants.value[]":if(typeof _.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:st,xProperty:_.property};case"this.constants.value[][]":{if(typeof _.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:st,yProperty:_.object.property,xProperty:_.property}}case"this.constants.value[][][]":{if(typeof _.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.object.property.name,et=this.getConstantType($),!et)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:et,origin:"constants",signature:st,zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:st,property:_.property};default:throw this.astErrorOutput("Unexpected expression",_)}}findIdentifierOrigin(_){const $=[this.ast];for(;$.length>0;){const et=$[0];if(et.type==="VariableDeclarator"&&et.id&&et.id.name&&et.id.name===_.name)return et;if($.shift(),et.argument)$.push(et.argument);else if(et.body)$.push(et.body);else if(et.declarations)$.push(et.declarations);else if(Array.isArray(et))for(let st=0;st<et.length;st++)$.push(et[st])}return null}findLastReturn(_){const $=[_||this.ast];for(;$.length>0;){const et=$.pop();if(et.type==="ReturnStatement")return et;if(et.type!=="FunctionDeclaration")if(et.argument)$.push(et.argument);else if(et.body)$.push(et.body);else if(et.declarations)$.push(et.declarations);else if(Array.isArray(et))for(let st=0;st<et.length;st++)$.push(et[st]);else et.consequent?$.push(et.consequent):et.cases&&$.push(et.cases)}return null}getInternalVariableName(_){return this._internalVariableNames.hasOwnProperty(_)||(this._internalVariableNames[_]=0),this._internalVariableNames[_]++,this._internalVariableNames[_]===1?_:_+this._internalVariableNames[_]}astKey(_,$=","){if(!_.start||!_.end)throw new Error("AST start and end needed");return`${_.start}${$}${_.end}`}}const nt={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};o.exports={FunctionNode:rt}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(a,o,it){const{utils:tt}=a("../utils");function at(nt){return nt.length>0?nt[nt.length-1]:null}const ot={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class rt{constructor(j){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(j)}isState(j){return this.states[this.states.length-1]===j}hasState(j){return this.states.indexOf(j)>-1}pushState(j){this.states.push(j)}popState(j){if(this.isState(j))this.states.pop();else throw new Error(`Cannot pop the non-active state "${j}"`)}get currentFunctionContext(){return at(this.functionContexts)}get currentContext(){return at(this.runningContexts)}newFunctionContext(){const j={"@contextType":"function"};this.contexts.push(j),this.functionContexts.push(j)}newContext(j){const _=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(_),this.runningContexts.push(_),j();const{currentFunctionContext:$}=this;for(const et in $)!$.hasOwnProperty(et)||_.hasOwnProperty(et)||(_[et]=$[et]);return this.runningContexts.pop(),_}useFunctionContext(j){const _=at(this.functionContexts);this.runningContexts.push(_),j(),this.runningContexts.pop()}getIdentifiers(j){const _=this.trackedIdentifiers=[];return this.pushState(ot.trackIdentifiers),j(),this.trackedIdentifiers=null,this.popState(ot.trackIdentifiers),_}getDeclaration(j){const{currentContext:_,currentFunctionContext:$,runningContexts:et}=this,st=_[j]||$[j]||null;if(!st&&_===$&&et.length>0){const lt=et[et.length-2];if(lt[j])return lt[j]}return st}scan(j){if(!!j){if(Array.isArray(j)){for(let _=0;_<j.length;_++)this.scan(j[_]);return}switch(j.type){case"Program":this.useFunctionContext(()=>{this.scan(j.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(j.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan(j.left),this.scan(j.right);break;case"BinaryExpression":this.scan(j.left),this.scan(j.right);break;case"UpdateExpression":if(j.operator==="++"){const _=this.getDeclaration(j.argument.name);_&&(_.suggestedType="Integer")}this.scan(j.argument);break;case"UnaryExpression":this.scan(j.argument);break;case"VariableDeclaration":j.kind==="var"?this.useFunctionContext(()=>{j.declarations=tt.normalizeDeclarations(j),this.scan(j.declarations)}):(j.declarations=tt.normalizeDeclarations(j),this.scan(j.declarations));break;case"VariableDeclarator":{const{currentContext:_}=this,$=this.hasState(ot.inForLoopInit),et={ast:j,context:_,name:j.id.name,origin:"declaration",inForLoopInit:$,inForLoopTest:null,assignable:_===this.currentFunctionContext||!$&&!_.hasOwnProperty(j.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};_[j.id.name]||(_[j.id.name]=et),this.declarations.push(et),this.scan(j.id),this.scan(j.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan(j.body):this.functions.push(j);break;case"IfStatement":this.scan(j.test),this.scan(j.consequent),j.alternate&&this.scan(j.alternate);break;case"ForStatement":{let _;const $=this.newContext(()=>{this.pushState(ot.inForLoopInit),this.scan(j.init),this.popState(ot.inForLoopInit),_=this.getIdentifiers(()=>{this.scan(j.test)}),this.scan(j.update),this.newContext(()=>{this.scan(j.body)})});if(_)for(const et in $)et!=="@contextType"&&_.indexOf(et)>-1&&($[et].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(j.body),this.scan(j.test)});break;case"Identifier":{this.isState(ot.trackIdentifiers)&&this.trackedIdentifiers.push(j.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(j.name),ast:j});break}case"ReturnStatement":this.returnStatements.push(j),this.scan(j.argument);break;case"MemberExpression":this.pushState(ot.memberExpression),this.scan(j.object),this.scan(j.property),this.popState(ot.memberExpression);break;case"ExpressionStatement":this.scan(j.expression);break;case"SequenceExpression":this.scan(j.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:j}),this.scan(j.arguments);break;case"ArrayExpression":this.scan(j.elements);break;case"ConditionalExpression":this.scan(j.test),this.scan(j.alternate),this.scan(j.consequent);break;case"SwitchStatement":this.scan(j.discriminant),this.scan(j.cases);break;case"SwitchCase":this.scan(j.test),this.scan(j.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${j.type}"`)}}}}o.exports={FunctionTracer:rt}},{"../utils":114}],12:[function(a,o,it){const{glWiretap:tt}=a("gl-wiretap"),{utils:at}=a("../../utils");function ot(et){return et.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function rt(et,st,lt,ft,gt){lt.built||lt.build.apply(lt,st),st=st?Array.from(st).map(fn=>{switch(typeof fn){case"boolean":return new Boolean(fn);case"number":return new Number(fn);default:return fn}}):null;const ut=[],pt=tt(lt.context,{useTrackablePrimitives:!0,onReadPixels:fn=>{if(ln.subKernels){if(!vt)ut.push(`    const result = { result: ${nt(fn,ln)} };`),vt=!0;else{const wn=ln.subKernels[dt++].property;ut.push(`    result${isNaN(wn)?"."+wn:`[${wn}]`} = ${nt(fn,ln)};`)}dt===ln.subKernels.length&&ut.push("    return result;");return}fn?ut.push(`    return ${nt(fn,ln)};`):ut.push("    return null;")},onUnrecognizedArgumentLookup:fn=>{const wn=$(fn,ln.kernelArguments,[],pt);if(wn)return wn;const xn=$(fn,ln.kernelConstants,kt?Object.keys(kt).map(qt=>kt[qt]):[],pt);return xn||null}});let vt=!1,dt=0;const{source:mt,canvas:Tt,output:yt,pipeline:ht,graphical:xt,loopMaxIterations:wt,constants:kt,optimizeFloatMemory:Ct,precision:Rt,fixIntegerDivisionAccuracy:Lt,functions:Mt,nativeFunctions:Wt,subKernels:Pt,immutable:Ot,argumentTypes:Xt,constantTypes:rn,kernelArguments:jt,kernelConstants:Vt,tactic:en}=lt,ln=new et(mt,{canvas:Tt,context:pt,checkContext:!1,output:yt,pipeline:ht,graphical:xt,loopMaxIterations:wt,constants:kt,optimizeFloatMemory:Ct,precision:Rt,fixIntegerDivisionAccuracy:Lt,functions:Mt,nativeFunctions:Wt,subKernels:Pt,immutable:Ot,argumentTypes:Xt,constantTypes:rn,tactic:en});let nn=[];if(pt.setIndent(2),ln.build.apply(ln,st),nn.push(pt.toString()),pt.reset(),ln.kernelArguments.forEach((fn,wn)=>{switch(fn.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":pt.insertVariable(`uploadValue_${fn.name}`,fn.uploadValue);break;case"HTMLImageArray":for(let xn=0;xn<st[wn].length;xn++){const qt=st[wn];pt.insertVariable(`uploadValue_${fn.name}[${xn}]`,qt[xn])}break;case"Input":pt.insertVariable(`uploadValue_${fn.name}`,fn.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":pt.insertVariable(`uploadValue_${fn.name}`,st[wn].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${fn.type}`)}}),nn.push("/** start of injected functions **/"),nn.push(`function ${ot(at.flattenTo)}`),nn.push(`function ${ot(at.flatten2dArrayTo)}`),nn.push(`function ${ot(at.flatten3dArrayTo)}`),nn.push(`function ${ot(at.flatten4dArrayTo)}`),nn.push(`function ${ot(at.isArray)}`),ln.renderOutput!==ln.renderTexture&&ln.formatValues&&nn.push(`  const renderOutput = function ${ot(ln.formatValues)};`),nn.push("/** end of injected functions **/"),nn.push(`  const innerKernel = function (${ln.kernelArguments.map(fn=>fn.varName).join(", ")}) {`),pt.setIndent(4),ln.run.apply(ln,st),ln.renderKernels?ln.renderKernels():ln.renderOutput&&ln.renderOutput(),nn.push("    /** start setup uploads for kernel values **/"),ln.kernelArguments.forEach(fn=>{nn.push("    "+fn.getStringValueHandler().split(`
`).join(`
    `))}),nn.push("    /** end setup uploads for kernel values **/"),nn.push(pt.toString()),ln.renderOutput===ln.renderTexture){pt.reset();const fn=pt.getContextVariableName(ln.framebuffer);if(ln.renderKernels){const wn=ln.renderKernels(),xn=pt.getContextVariableName(ln.texture.texture);nn.push(`    return {
      result: {
        texture: ${xn},
        type: '${wn.result.type}',
        toArray: ${_(wn.result,xn,fn)}
      },`);const{subKernels:qt,mappedTextures:Qt}=ln;for(let Gt=0;Gt<qt.length;Gt++){const cn=Qt[Gt],kn=qt[Gt],dn=wn[kn.property],qn=pt.getContextVariableName(cn.texture);nn.push(`
      ${kn.property}: {
        texture: ${qn},
        type: '${dn.type}',
        toArray: ${_(dn,qn,fn)}
      },`)}nn.push("    };")}else{const wn=ln.renderOutput(),xn=pt.getContextVariableName(ln.texture.texture);nn.push(`    return {
        texture: ${xn},
        type: '${wn.type}',
        toArray: ${_(wn,xn,fn)}
      };`)}}nn.push(`    ${gt?`
`+gt+"    ":""}`),nn.push(ut.join(`
`)),nn.push("  };"),ln.graphical&&(nn.push(j(ln)),nn.push("  innerKernel.getPixels = getPixels;")),nn.push("  return innerKernel;");let _n=[];return Vt.forEach(fn=>{_n.push(`${fn.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${_n.join("")}
  ${ft||""}
${nn.join(`
`)}
}`}function nt(et,st){const lt=st.precision==="single"?et:`new Float32Array(${et}.buffer)`;return st.output[2]?`renderOutput(${lt}, ${st.output[0]}, ${st.output[1]}, ${st.output[2]})`:st.output[1]?`renderOutput(${lt}, ${st.output[0]}, ${st.output[1]})`:`renderOutput(${lt}, ${st.output[0]})`}function j(et){const st=et.getPixels.toString(),lt=!/^function/.test(st);return at.flattenFunctionToString(`${lt?"function ":""}${st}`,{findDependency:(ft,gt)=>ft==="utils"?`const ${gt} = ${at[gt].toString()};`:null,thisLookup:ft=>{if(ft==="context")return null;if(et.hasOwnProperty(ft))return JSON.stringify(et[ft]);throw new Error(`unhandled thisLookup ${ft}`)}})}function _(et,st,lt){const ft=et.toArray.toString(),gt=!/^function/.test(ft),ut=at.flattenFunctionToString(`${gt?"function ":""}${ft}`,{findDependency:(pt,vt)=>{if(pt==="utils")return`const ${vt} = ${at[vt].toString()};`;if(pt==="this")return vt==="framebuffer"?"":`${gt?"function ":""}${et[vt].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(pt,vt)=>{if(pt==="texture")return st;if(pt==="context")return vt?null:"gl";if(et.hasOwnProperty(pt))return JSON.stringify(et[pt]);throw new Error(`unhandled thisLookup ${pt}`)}});return`() => {
  function framebuffer() { return ${lt}; };
  ${ut}
  return toArray();
  }`}function $(et,st,lt,ft,gt){if(et===null||st===null)return null;switch(typeof et){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement)for(let ut=0;ut<st.length;ut++){const pt=st[ut];if(pt.type!=="HTMLImageArray"&&pt||pt.uploadValue!==et)continue;const vt=lt[ut].indexOf(et);if(vt===-1)continue;const dt=`uploadValue_${pt.name}[${vt}]`;return ft.insertVariable(dt,et),dt}for(let ut=0;ut<st.length;ut++){const pt=st[ut];if(et!==pt.uploadValue)continue;const vt=`uploadValue_${pt.name}`;return ft.insertVariable(vt,pt),vt}return null}o.exports={glKernelString:rt}},{"../../utils":114,"gl-wiretap":3}],13:[function(a,o,it){const{Kernel:tt}=a("../kernel"),{utils:at}=a("../../utils"),{GLTextureArray2Float:ot}=a("./texture/array-2-float"),{GLTextureArray2Float2D:rt}=a("./texture/array-2-float-2d"),{GLTextureArray2Float3D:nt}=a("./texture/array-2-float-3d"),{GLTextureArray3Float:j}=a("./texture/array-3-float"),{GLTextureArray3Float2D:_}=a("./texture/array-3-float-2d"),{GLTextureArray3Float3D:$}=a("./texture/array-3-float-3d"),{GLTextureArray4Float:et}=a("./texture/array-4-float"),{GLTextureArray4Float2D:st}=a("./texture/array-4-float-2d"),{GLTextureArray4Float3D:lt}=a("./texture/array-4-float-3d"),{GLTextureFloat:ft}=a("./texture/float"),{GLTextureFloat2D:gt}=a("./texture/float-2d"),{GLTextureFloat3D:ut}=a("./texture/float-3d"),{GLTextureMemoryOptimized:pt}=a("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:vt}=a("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:dt}=a("./texture/memory-optimized-3d"),{GLTextureUnsigned:mt}=a("./texture/unsigned"),{GLTextureUnsigned2D:Tt}=a("./texture/unsigned-2d"),{GLTextureUnsigned3D:yt}=a("./texture/unsigned-3d"),{GLTextureGraphical:ht}=a("./texture/graphical");class xt extends tt{static get mode(){return"gpu"}static getIsFloatRead(){const Ct=`function kernelFunction() {
      return 1;
    }`,Rt=new this(Ct,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});Rt.build(),Rt.run();const Lt=Rt.renderOutput();return Rt.destroy(!0),Lt[0]===1}static getIsIntegerDivisionAccurate(){function Ct(Wt,Pt){return Wt[this.thread.x]/Pt[this.thread.x]}const Rt=new this(Ct.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),Lt=[[6,6030401],[3,3991]];Rt.build.apply(Rt,Lt),Rt.run.apply(Rt,Lt);const Mt=Rt.renderOutput();return Rt.destroy(!0),Mt[0]===2&&Mt[1]===1511}static getIsSpeedTacticSupported(){function Ct(Wt){return Wt[this.thread.x]}const Rt=new this(Ct.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),Lt=[[0,1,2,3]];Rt.build.apply(Rt,Lt),Rt.run.apply(Rt,Lt);const Mt=Rt.renderOutput();return Rt.destroy(!0),Math.round(Mt[0])===0&&Math.round(Mt[1])===1&&Math.round(Mt[2])===2&&Math.round(Mt[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const Ct=this.testContext,Rt=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:Rt,kernelMap:Rt,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.LOW_INT),lowFloatPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.LOW_FLOAT),mediumIntPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.MEDIUM_INT),mediumFloatPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.MEDIUM_FLOAT),highIntPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.HIGH_INT),highFloatPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(Ct,Rt){return Ct.getVariablePrecisionString()+(Rt.length>0?":"+Rt.join(","):"")}setFixIntegerDivisionAccuracy(Ct){return this.fixIntegerDivisionAccuracy=Ct,this}setPrecision(Ct){return this.precision=Ct,this}setFloatTextures(Ct){return at.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=Ct,this}static nativeFunctionArguments(Ct){const Rt=[],Lt=[],Mt=[],Wt=/^[a-zA-Z_]/,Pt=/[a-zA-Z_0-9]/;let Ot=0,Xt=null,rn=null;for(;Ot<Ct.length;){const jt=Ct[Ot],Vt=Ct[Ot+1],en=Mt.length>0?Mt[Mt.length-1]:null;if(en==="FUNCTION_ARGUMENTS"&&jt==="/"&&Vt==="*"){Mt.push("MULTI_LINE_COMMENT"),Ot+=2;continue}else if(en==="MULTI_LINE_COMMENT"&&jt==="*"&&Vt==="/"){Mt.pop(),Ot+=2;continue}else if(en==="FUNCTION_ARGUMENTS"&&jt==="/"&&Vt==="/"){Mt.push("COMMENT"),Ot+=2;continue}else if(en==="COMMENT"&&jt===`
`){Mt.pop(),Ot++;continue}else if(en===null&&jt==="("){Mt.push("FUNCTION_ARGUMENTS"),Ot++;continue}else if(en==="FUNCTION_ARGUMENTS"){if(jt===")"){Mt.pop();break}if(jt==="f"&&Vt==="l"&&Ct[Ot+2]==="o"&&Ct[Ot+3]==="a"&&Ct[Ot+4]==="t"&&Ct[Ot+5]===" "){Mt.push("DECLARE_VARIABLE"),rn="float",Xt="",Ot+=6;continue}else if(jt==="i"&&Vt==="n"&&Ct[Ot+2]==="t"&&Ct[Ot+3]===" "){Mt.push("DECLARE_VARIABLE"),rn="int",Xt="",Ot+=4;continue}else if(jt==="v"&&Vt==="e"&&Ct[Ot+2]==="c"&&Ct[Ot+3]==="2"&&Ct[Ot+4]===" "){Mt.push("DECLARE_VARIABLE"),rn="vec2",Xt="",Ot+=5;continue}else if(jt==="v"&&Vt==="e"&&Ct[Ot+2]==="c"&&Ct[Ot+3]==="3"&&Ct[Ot+4]===" "){Mt.push("DECLARE_VARIABLE"),rn="vec3",Xt="",Ot+=5;continue}else if(jt==="v"&&Vt==="e"&&Ct[Ot+2]==="c"&&Ct[Ot+3]==="4"&&Ct[Ot+4]===" "){Mt.push("DECLARE_VARIABLE"),rn="vec4",Xt="",Ot+=5;continue}}else if(en==="DECLARE_VARIABLE"){if(Xt===""){if(jt===" "){Ot++;continue}if(!Wt.test(jt))throw new Error("variable name is not expected string")}Xt+=jt,Pt.test(Vt)||(Mt.pop(),Lt.push(Xt),Rt.push(wt[rn]))}Ot++}if(Mt.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:Lt,argumentTypes:Rt}}static nativeFunctionReturnType(Ct){return wt[Ct.match(/int|float|vec[2-4]/)[0]]}static combineKernels(Ct,Rt){Ct.apply(null,arguments);const{texSize:Lt,context:Mt,threadDim:Wt}=Rt.texSize;let Pt;if(Rt.precision==="single"){const Ot=Lt[0],Xt=Math.ceil(Lt[1]/4);Pt=new Float32Array(Ot*Xt*4*4),Mt.readPixels(0,0,Ot,Xt*4,Mt.RGBA,Mt.FLOAT,Pt)}else{const Ot=new Uint8Array(Lt[0]*Lt[1]*4);Mt.readPixels(0,0,Lt[0],Lt[1],Mt.RGBA,Mt.UNSIGNED_BYTE,Ot),Pt=new Float32Array(Ot.buffer)}if(Pt=Pt.subarray(0,Wt[0]*Wt[1]*Wt[2]),Rt.output.length===1)return Pt;if(Rt.output.length===2)return at.splitArray(Pt,Rt.output[0]);if(Rt.output.length===3)return at.splitArray(Pt,Rt.output[0]*Rt.output[1]).map(function(Xt){return at.splitArray(Xt,Rt.output[0])})}constructor(Ct,Rt){super(Ct,Rt),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:Ct}=this.constructor;if(this.texSize[0]>Ct.maxTextureSize||this.texSize[1]>Ct.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${Ct.maxTextureSize},${Ct.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(Ct){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=Rt=>Rt,this.TextureConstructor=ht,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=yt,null):this.output[1]>0?(this.TextureConstructor=Tt,null):(this.TextureConstructor=mt,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(Ct)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=yt,this.formatValues=at.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=Tt,this.formatValues=at.erect2DPackedFloat,null):(this.TextureConstructor=mt,this.formatValues=at.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(Ct)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=dt,null):this.output[1]>0?(this.TextureConstructor=vt,null):(this.TextureConstructor=pt,null):this.output[2]>0?(this.TextureConstructor=ut,null):this.output[1]>0?(this.TextureConstructor=gt,null):(this.TextureConstructor=ft,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=nt,null):this.output[1]>0?(this.TextureConstructor=rt,null):(this.TextureConstructor=ot,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,null):this.output[1]>0?(this.TextureConstructor=_,null):(this.TextureConstructor=j,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,null):this.output[1]>0?(this.TextureConstructor=st,null):(this.TextureConstructor=et,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=dt,this.formatValues=at.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=vt,this.formatValues=at.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=pt,this.formatValues=at.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=nt,this.formatValues=at.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=rt,this.formatValues=at.erect2DArray2,null):(this.TextureConstructor=ot,this.formatValues=at.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=at.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=at.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=at.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,this.formatValues=at.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=st,this.formatValues=at.erect2DArray4,null):(this.TextureConstructor=et,this.formatValues=at.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=ut,this.formatValues=at.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=gt,this.formatValues=at.erect2DFloat,null):(this.TextureConstructor=ft,this.formatValues=at.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=nt,this.formatValues=at.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=rt,this.formatValues=at.erect2DArray2,null):(this.TextureConstructor=ot,this.formatValues=at.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=at.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=at.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=at.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,this.formatValues=at.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=st,this.formatValues=at.erect2DArray4,null):(this.TextureConstructor=et,this.formatValues=at.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return at.linesToString(this.getMainResultKernelNumberTexture())+at.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return at.linesToString(this.getMainResultKernelArray2Texture())+at.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return at.linesToString(this.getMainResultKernelArray3Texture())+at.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return at.linesToString(this.getMainResultKernelArray4Texture())+at.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:Ct,context:Rt}=this,Lt=new Uint8Array(Ct[0]*Ct[1]*4);return Rt.readPixels(0,0,Ct[0],Ct[1],Rt.RGBA,Rt.UNSIGNED_BYTE,Lt),Lt}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:Ct,context:Rt}=this,Lt=Ct[0],Mt=Ct[1],Wt=new Float32Array(Lt*Mt*4);return Rt.readPixels(0,0,Lt,Mt,Rt.RGBA,Rt.FLOAT,Wt),Wt}getPixels(Ct){const{context:Rt,output:Lt}=this,[Mt,Wt]=Lt,Pt=new Uint8Array(Mt*Wt*4);return Rt.readPixels(0,0,Mt,Wt,Rt.RGBA,Rt.UNSIGNED_BYTE,Pt),new Uint8ClampedArray((Ct?Pt:at.flipPixels(Pt,Mt,Wt)).buffer)}renderKernelsToArrays(){const Ct={result:this.renderOutput()};for(let Rt=0;Rt<this.subKernels.length;Rt++)Ct[this.subKernels[Rt].property]=this.mappedTextures[Rt].toArray();return Ct}renderKernelsToTextures(){const Ct={result:this.renderOutput()};if(this.immutable)for(let Rt=0;Rt<this.subKernels.length;Rt++)Ct[this.subKernels[Rt].property]=this.mappedTextures[Rt].clone();else for(let Rt=0;Rt<this.subKernels.length;Rt++)Ct[this.subKernels[Rt].property]=this.mappedTextures[Rt];return Ct}resetSwitchingKernels(){const Ct=this.switchingKernels;return this.switchingKernels=null,Ct}setOutput(Ct){const Rt=this.toKernelOutput(Ct);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const Lt=[Rt[0],Rt[1]||1,Rt[2]||1],Mt=at.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},Lt),Wt=this.texSize;if(Wt){const Ot=this.getVariablePrecisionString(Wt,this.tactic),Xt=this.getVariablePrecisionString(Mt,this.tactic);if(Ot!==Xt){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:Xt,needed:Ct});return}}this.output=Rt,this.threadDim=Lt,this.texSize=Mt;const{context:Pt}=this;if(Pt.bindFramebuffer(Pt.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],Pt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let Ot=0;Ot<this.mappedTextures.length;Ot++)this.mappedTextures[Ot].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=Rt;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(Ct){this.switchingKernels?this.switchingKernels.push(Ct):this.switchingKernels=[Ct]}getVariablePrecisionString(Ct=this.texSize,Rt=this.tactic,Lt=!1){if(!Rt){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const Mt=this.constructor.features[Lt?"lowIntPrecision":"lowFloatPrecision"],Wt=this.constructor.features[Lt?"mediumIntPrecision":"mediumFloatPrecision"],Pt=this.constructor.features[Lt?"highIntPrecision":"highFloatPrecision"],Ot=Math.log2(Ct[0]*Ct[1]);if(Ot<=Mt.rangeMax)return"lowp";if(Ot<=Wt.rangeMax)return"mediump";if(Ot<=Pt.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(Rt){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${Rt}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(Ct,Rt){if(!!this.immutable){if(this.texture.texture===Rt.texture){const{prevArg:Lt}=Ct;Lt&&(Lt.texture._refs===1&&(this.texture.delete(),this.texture=Lt.clone(),this._textureSwitched=!0),Lt.delete()),Ct.prevArg=Rt.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:Lt}=this;for(let Mt=0;Mt<Lt.length;Mt++){const Wt=Lt[Mt];if(Wt.texture===Rt.texture){const{prevArg:Pt}=Ct;Pt&&(Pt.texture._refs===1&&(Wt.delete(),Lt[Mt]=Pt.clone(),this._mappedTextureSwitched[Mt]=!0),Pt.delete()),Ct.prevArg=Rt.clone();return}}}}}onActivate(Ct){if(this._textureSwitched=!0,this.texture=Ct.texture,this.mappedTextures){for(let Rt=0;Rt<this.mappedTextures.length;Rt++)this._mappedTextureSwitched[Rt]=!0;this.mappedTextures=Ct.mappedTextures}}initCanvas(){}}const wt={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};o.exports={GLKernel:xt}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(2)"}toArray(){return tt.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureArray2Float2D:ot}},{"../../../utils":114,"./float":25}],15:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(2)"}toArray(){return tt.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureArray2Float3D:ot}},{"../../../utils":114,"./float":25}],16:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(2)"}toArray(){return tt.erectArray2(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureArray2Float:ot}},{"../../../utils":114,"./float":25}],17:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(3)"}toArray(){return tt.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureArray3Float2D:ot}},{"../../../utils":114,"./float":25}],18:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(3)"}toArray(){return tt.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureArray3Float3D:ot}},{"../../../utils":114,"./float":25}],19:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(3)"}toArray(){return tt.erectArray3(this.renderValues(),this.output[0])}}o.exports={GLTextureArray3Float:ot}},{"../../../utils":114,"./float":25}],20:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(4)"}toArray(){return tt.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureArray4Float2D:ot}},{"../../../utils":114,"./float":25}],21:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(4)"}toArray(){return tt.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureArray4Float3D:ot}},{"../../../utils":114,"./float":25}],22:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(4)"}toArray(){return tt.erectArray4(this.renderValues(),this.output[0])}}o.exports={GLTextureArray4Float:ot}},{"../../../utils":114,"./float":25}],23:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(1)"}toArray(){return tt.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureFloat2D:ot}},{"../../../utils":114,"./float":25}],24:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="ArrayTexture(1)"}toArray(){return tt.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureFloat3D:ot}},{"../../../utils":114,"./float":25}],25:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTexture:at}=a("./index");class ot extends at{get textureType(){return this.context.FLOAT}constructor(nt){super(nt),this.type="ArrayTexture(1)"}renderRawOutput(){const nt=this.context,j=this.size;nt.bindFramebuffer(nt.FRAMEBUFFER,this.framebuffer()),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,this.texture,0);const _=new Float32Array(j[0]*j[1]*4);return nt.readPixels(0,0,j[0],j[1],nt.RGBA,nt.FLOAT,_),_}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return tt.erectFloat(this.renderValues(),this.output[0])}}o.exports={GLTextureFloat:ot}},{"../../../utils":114,"./index":27}],26:[function(a,o,it){const{GLTextureUnsigned:tt}=a("./unsigned");class at extends tt{constructor(rt){super(rt),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}o.exports={GLTextureGraphical:at}},{"./unsigned":33}],27:[function(a,o,it){const{Texture:tt}=a("../../../texture");class at extends tt{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:nt,size:j,texture:_,kernel:$}=this;$.debug&&console.warn("cloning internal texture"),nt.bindFramebuffer(nt.FRAMEBUFFER,this.framebuffer()),ot(nt,_),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,_,0);const et=nt.createTexture();ot(nt,et),nt.texImage2D(nt.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),nt.copyTexSubImage2D(nt.TEXTURE_2D,0,0,0,0,0,j[0],j[1]),et._refs=1,this.texture=et}newTexture(){this.texture._refs--;const nt=this.context,j=this.size;this.kernel.debug&&console.warn("new internal texture");const $=nt.createTexture();ot(nt,$),nt.texImage2D(nt.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),$._refs=1,this.texture=$}clear(){if(this.texture._refs){this.texture._refs--;const _=this.context,$=this.texture=_.createTexture();ot(_,$);const et=this.size;$._refs=1,_.texImage2D(_.TEXTURE_2D,0,this.internalFormat,et[0],et[1],0,this.textureFormat,this.textureType,null)}const{context:nt,texture:j}=this;nt.bindFramebuffer(nt.FRAMEBUFFER,this.framebuffer()),nt.bindTexture(nt.TEXTURE_2D,j),ot(nt,j),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,j,0),nt.clearColor(0,0,0,0),nt.clear(nt.COLOR_BUFFER_BIT|nt.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function ot(rt,nt){rt.activeTexture(rt.TEXTURE15),rt.bindTexture(rt.TEXTURE_2D,nt),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MIN_FILTER,rt.NEAREST),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MAG_FILTER,rt.NEAREST)}o.exports={GLTexture:at}},{"../../../texture":113}],28:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="MemoryOptimizedNumberTexture"}toArray(){return tt.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureMemoryOptimized2D:ot}},{"../../../utils":114,"./float":25}],29:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="MemoryOptimizedNumberTexture"}toArray(){return tt.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureMemoryOptimized3D:ot}},{"../../../utils":114,"./float":25}],30:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(nt){super(nt),this.type="MemoryOptimizedNumberTexture"}toArray(){return tt.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}o.exports={GLTextureMemoryOptimized:ot}},{"../../../utils":114,"./float":25}],31:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureUnsigned:at}=a("./unsigned");class ot extends at{constructor(nt){super(nt),this.type="NumberTexture"}toArray(){return tt.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureUnsigned2D:ot}},{"../../../utils":114,"./unsigned":33}],32:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTextureUnsigned:at}=a("./unsigned");class ot extends at{constructor(nt){super(nt),this.type="NumberTexture"}toArray(){return tt.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureUnsigned3D:ot}},{"../../../utils":114,"./unsigned":33}],33:[function(a,o,it){const{utils:tt}=a("../../../utils"),{GLTexture:at}=a("./index");class ot extends at{get textureType(){return this.context.UNSIGNED_BYTE}constructor(nt){super(nt),this.type="NumberTexture"}renderRawOutput(){const{context:nt}=this;nt.bindFramebuffer(nt.FRAMEBUFFER,this.framebuffer()),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,this.texture,0);const j=new Uint8Array(this.size[0]*this.size[1]*4);return nt.readPixels(0,0,this.size[0],this.size[1],nt.RGBA,nt.UNSIGNED_BYTE,j),j}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return tt.erectPackedFloat(this.renderValues(),this.output[0])}}o.exports={GLTextureUnsigned:ot}},{"../../../utils":114,"./index":27}],34:[function(a,o,it){const tt=a("gl"),{WebGLKernel:at}=a("../web-gl/kernel"),{glKernelString:ot}=a("../gl/kernel-string");let rt=null,nt=null,j=null,_=null,$=null;class et extends at{static get isSupported(){return rt!==null||(this.setupFeatureChecks(),rt=j!==null),rt}static setupFeatureChecks(){if(nt=null,_=null,typeof tt=="function")try{if(j=tt(2,2,{preserveDrawingBuffer:!0}),!j||!j.getExtension)return;_={STACKGL_resize_drawingbuffer:j.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:j.getExtension("STACKGL_destroy_context"),OES_texture_float:j.getExtension("OES_texture_float"),OES_texture_float_linear:j.getExtension("OES_texture_float_linear"),OES_element_index_uint:j.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:j.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:j.getExtension("WEBGL_color_buffer_float")},$=this.getFeatures()}catch(lt){console.warn(lt)}}static isContextMatch(lt){try{return lt.getParameter(lt.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return Boolean(_.OES_texture_float)}static getIsDrawBuffers(){return Boolean(_.WEBGL_draw_buffers)}static getChannelCount(){return _.WEBGL_draw_buffers?j.getParameter(_.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return j.getParameter(j.MAX_TEXTURE_SIZE)}static get testCanvas(){return nt}static get testContext(){return j}static get features(){return $}initCanvas(){return{}}initContext(){return tt(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(lt){const ft=lt.getExtension("STACKGL_destroy_context");ft&&ft.destroy&&ft.destroy()}toString(){const lt=`const gl = context || require('gl')(1, 1);
`,ft=`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`;return ot(this.constructor,arguments,this,lt,ft)}setOutput(lt){return super.setOutput(lt),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}o.exports={HeadlessGLKernel:et}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(a,o,it){class tt{constructor(ot,rt){const{name:nt,kernel:j,context:_,checkContext:$,onRequestContextHandle:et,onUpdateValueMismatch:st,origin:lt,strictIntegers:ft,type:gt,tactic:ut}=rt;if(!nt)throw new Error("name not set");if(!gt)throw new Error("type not set");if(!lt)throw new Error("origin not set");if(lt!=="user"&&lt!=="constants")throw new Error(`origin must be "user" or "constants" value is "${lt}"`);if(!et)throw new Error("onRequestContextHandle is not set");this.name=nt,this.origin=lt,this.tactic=ut,this.varName=lt==="constants"?`constants.${nt}`:nt,this.kernel=j,this.strictIntegers=ft,this.type=ot.type||gt,this.size=ot.size||null,this.index=null,this.context=_,this.checkContext=$!=null?$:!0,this.contextHandle=null,this.onRequestContextHandle=et,this.onUpdateValueMismatch=st,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(ot){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}o.exports={KernelValue:tt}},{}],36:[function(a,o,it){const{utils:tt}=a("../utils"),{Input:at}=a("../input");class ot{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(j){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(j){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(j,_){if(typeof j!="object"){if(typeof j!="string")throw new Error("source not a string");if(!tt.isFunctionString(j))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof j=="string"?tt.getArgumentNamesFromString(j):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=j,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(j){for(let _ in j)if(!(!j.hasOwnProperty(_)||!this.hasOwnProperty(_))){switch(_){case"output":if(!Array.isArray(j.output)){this.setOutput(j.output);continue}break;case"functions":this.functions=[];for(let $=0;$<j.functions.length;$++)this.addFunction(j.functions[$]);continue;case"graphical":j[_]&&!j.hasOwnProperty("precision")&&(this.precision="unsigned"),this[_]=j[_];continue;case"nativeFunctions":if(!j.nativeFunctions)continue;this.nativeFunctions=[];for(let $=0;$<j.nativeFunctions.length;$++){const et=j.nativeFunctions[$],{name:st,source:lt}=et;this.addNativeFunction(st,lt,et)}continue}this[_]=j[_]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(j))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(j){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(j,_={}){if(j.name&&j.source&&j.argumentTypes&&"returnType"in j)this.functions.push(j);else if("settings"in j&&"source"in j)this.functions.push(this.functionToIGPUFunction(j.source,j.settings));else if(typeof j=="string"||typeof j=="function")this.functions.push(this.functionToIGPUFunction(j,_));else throw new Error("function not properly defined");return this}addNativeFunction(j,_,$={}){const{argumentTypes:et,argumentNames:st}=$.argumentTypes?rt($.argumentTypes):this.constructor.nativeFunctionArguments(_)||{};return this.nativeFunctions.push({name:j,source:_,settings:$,argumentTypes:et,argumentNames:st,returnType:$.returnType||this.constructor.nativeFunctionReturnType(_)}),this}setupArguments(j){if(this.kernelArguments=[],this.argumentTypes)for(let _=0;_<this.argumentTypes.length;_++)this.kernelArguments.push({type:this.argumentTypes[_]});else if(!this.argumentTypes){this.argumentTypes=[];for(let _=0;_<j.length;_++){const $=tt.getVariableType(j[_],this.strictIntegers),et=$==="Integer"?"Number":$;this.argumentTypes.push(et),this.kernelArguments.push({type:et})}}this.argumentSizes=new Array(j.length),this.argumentBitRatios=new Int32Array(j.length);for(let _=0;_<j.length;_++){const $=j[_];this.argumentSizes[_]=$.constructor===at?$.size:null,this.argumentBitRatios[_]=this.getBitRatio($)}if(this.argumentNames.length!==j.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let j=this.constantTypes===null;if(j&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let _ in this.constants){if(j){const $=tt.getVariableType(this.constants[_],this.strictIntegers);this.constantTypes[_]=$,this.kernelConstants.push({name:_,type:$})}else this.kernelConstants.push({name:_,type:this.constantTypes[_]});this.constantBitRatios[_]=this.getBitRatio(this.constants[_])}}setOptimizeFloatMemory(j){return this.optimizeFloatMemory=j,this}toKernelOutput(j){return j.hasOwnProperty("x")?j.hasOwnProperty("y")?j.hasOwnProperty("z")?[j.x,j.y,j.z]:[j.x,j.y]:[j.x]:j}setOutput(j){return this.output=this.toKernelOutput(j),this}setDebug(j){return this.debug=j,this}setGraphical(j){return this.graphical=j,this.precision="unsigned",this}setLoopMaxIterations(j){return this.loopMaxIterations=j,this}setConstants(j){return this.constants=j,this}setConstantTypes(j){return this.constantTypes=j,this}setFunctions(j){for(let _=0;_<j.length;_++)this.addFunction(j[_]);return this}setNativeFunctions(j){for(let _=0;_<j.length;_++){const $=j[_],{name:et,source:st}=$;this.addNativeFunction(et,st,$)}return this}setInjectedNative(j){return this.injectedNative=j,this}setPipeline(j){return this.pipeline=j,this}setPrecision(j){return this.precision=j,this}setDimensions(j){return tt.warnDeprecated("method","setDimensions","setOutput"),this.output=j,this}setOutputToTexture(j){return tt.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=j,this}setImmutable(j){return this.immutable=j,this}setCanvas(j){return this.canvas=j,this}setStrictIntegers(j){return this.strictIntegers=j,this}setDynamicOutput(j){return this.dynamicOutput=j,this}setHardcodeConstants(j){return tt.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(j),this.setDynamicArguments(j),this}setDynamicArguments(j){return this.dynamicArguments=j,this}setUseLegacyEncoder(j){return this.useLegacyEncoder=j,this}setWarnVarUsage(j){return tt.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return tt.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return tt.warnDeprecated("method","getWebGl"),this.context}setContext(j){return this.context=j,this}setArgumentTypes(j){if(Array.isArray(j))this.argumentTypes=j;else{this.argumentTypes=[];for(const _ in j){if(!j.hasOwnProperty(_))continue;const $=this.argumentNames.indexOf(_);if($===-1)throw new Error(`unable to find argument ${_}`);this.argumentTypes[$]=j[_]}}return this}setTactic(j){return this.tactic=j,this}requestFallback(j){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(j)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(j){if(this.subKernels===null&&(this.subKernels=[]),!j.source)throw new Error('subKernel missing "source" property');if(!j.property&&isNaN(j.property))throw new Error('subKernel missing "property" property');if(!j.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(j),this}destroy(j){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(j){if(this.precision==="single")return 4;if(Array.isArray(j[0]))return this.getBitRatio(j[0]);if(j.constructor===at)return this.getBitRatio(j.value);switch(j.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(j){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!tt.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let j=0;j<this.output.length;j++)if(isNaN(this.output[j])||this.output[j]<1)throw new Error(`${this.constructor.name}.output[${j}] incorrectly defined as \`${this.output[j]}\`, needs to be numeric, and greater than 0`)}prependString(j){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(j){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(j=>j.name):null,returnType:this.returnType}}}buildSignature(j){const _=this.constructor;this.signature=_.getSignature(this,_.getArgumentTypes(this,j))}static getArgumentTypes(j,_){const $=new Array(_.length);for(let et=0;et<_.length;et++){const st=_[et],lt=j.argumentTypes[et];if(st.type)$[et]=st.type;else switch(lt){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":$[et]=tt.getVariableType(st);break;default:$[et]=lt}}return $}static getSignature(j,_){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(j,_={}){if(typeof j!="string"&&typeof j!="function")throw new Error("source not a string or function");const $=typeof j=="string"?j:j.toString();let et=[];return Array.isArray(_.argumentTypes)?et=_.argumentTypes:typeof _.argumentTypes=="object"?et=tt.getArgumentNamesFromString($).map(st=>_.argumentTypes[st])||[]:et=_.argumentTypes||[],{name:tt.getFunctionNameFromString($)||null,source:$,argumentTypes:et,returnType:_.returnType||null}}onActivate(j){}}function rt(nt){const j=Object.keys(nt),_=[];for(let $=0;$<j.length;$++){const et=j[$];_.push(nt[et])}return{argumentTypes:_,argumentNames:j}}o.exports={Kernel:ot}},{"../input":110,"../utils":114}],37:[function(a,o,it){const tt=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;o.exports={fragmentShader:tt}},{}],38:[function(a,o,it){const{utils:tt}=a("../../utils"),{FunctionNode:at}=a("../function-node");class ot extends at{constructor(_,$){super(_,$),$&&$.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=$.fixIntegerDivisionAccuracy)}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);const et=this.getType(_.consequent),st=this.getType(_.alternate);return et===null&&st===null?($.push("if ("),this.astGeneric(_.test,$),$.push(") {"),this.astGeneric(_.consequent,$),$.push(";"),$.push("} else {"),this.astGeneric(_.alternate,$),$.push(";"),$.push("}"),$):($.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$)}astFunction(_,$){if(this.isRootKernel)$.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(_.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:et}=this;if(!et)$.push("void");else{const st=rt[et];if(!st)throw new Error(`unknown type ${et}`);$.push(st)}}if($.push(" "),$.push(this.name),$.push("("),!this.isRootKernel)for(let et=0;et<this.argumentNames.length;++et){const st=this.argumentNames[et];et>0&&$.push(", ");let lt=this.argumentTypes[this.argumentNames.indexOf(st)];if(!lt)throw this.astErrorOutput(`Unknown argument ${st} type`,_);lt==="LiteralInteger"&&(this.argumentTypes[et]=lt="Number");const ft=rt[lt];if(!ft)throw this.astErrorOutput("Unexpected expression",_);const gt=tt.sanitizeName(st);ft==="sampler2D"||ft==="sampler2DArray"?$.push(`${ft} user_${gt},ivec2 user_${gt}Size,ivec3 user_${gt}Dim`):$.push(`${ft} user_${gt}`)}$.push(`) {
`);for(let et=0;et<_.body.body.length;++et)this.astGeneric(_.body.body[et],$),$.push(`
`);return $.push(`}
`),$}astReturnStatement(_,$){if(!_.argument)throw this.astErrorOutput("Unexpected return statement",_);this.pushState("skip-literal-correction");const et=this.getType(_.argument);this.popState("skip-literal-correction");const st=[];switch(this.returnType||(et==="LiteralInteger"||et==="Integer"?this.returnType="Number":this.returnType=et),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(et){case"Integer":st.push("float("),this.astGeneric(_.argument,st),st.push(")");break;case"LiteralInteger":this.castLiteralToFloat(_.argument,st),this.getType(_)==="Integer"&&(st.unshift("float("),st.push(")"));break;default:this.astGeneric(_.argument,st)}break;case"Integer":switch(et){case"Float":case"Number":this.castValueToInteger(_.argument,st);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,st);break;default:this.astGeneric(_.argument,st)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(_.argument,st);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,_)}return this.isRootKernel?($.push(`kernelResult = ${st.join("")};`),$.push("return;")):this.isSubKernel?($.push(`subKernelResult_${this.name} = ${st.join("")};`),$.push(`return subKernelResult_${this.name};`)):$.push(`return ${st.join("")};`),$}astLiteral(_,$){if(isNaN(_.value))throw this.astErrorOutput("Non-numeric literal not supported : "+_.value,_);const et=this.astKey(_);return Number.isInteger(_.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[et]="Integer",$.push(`${_.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[et]="Number",$.push(`${_.value}.0`)):(this.literalTypes[et]="Number",$.push(`${_.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[et]="Integer",$.push(Math.round(_.value))):(this.literalTypes[et]="Number",$.push(`${_.value}`)),$}astBinaryExpression(_,$){if(this.checkAndUpconvertOperator(_,$))return $;if(this.fixIntegerDivisionAccuracy&&_.operator==="/"){switch($.push("divWithIntCheck("),this.pushState("building-float"),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(", "),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return this.popState("building-float"),$.push(")"),$}$.push("(");const et=this.getType(_.left)||"Number",st=this.getType(_.right)||"Number";if(!et||!st)throw this.astErrorOutput("Unhandled binary expression",_);const lt=et+" & "+st;switch(lt){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(_.left,$),$.push(nt[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((_.operator===">"||_.operator==="<"&&_.right.type==="Literal")&&!Number.isInteger(_.right.value)){this.pushState("building-float"),this.castValueToFloat(_.left,$),$.push(nt[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.pushState("casting-to-integer"),_.right.type==="Literal"){const ft=[];if(this.astGeneric(_.right,ft),this.getType(_.right)==="Integer")$.push(ft.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",_)}else $.push("int("),this.astGeneric(_.right,$),$.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.castLiteralToInteger(_.right,$),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(nt[_.operator]||_.operator),this.castValueToInteger(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.pushState("casting-to-float"),this.astGeneric(_.right,$),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(nt[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(nt[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${lt}`,_)}return $.push(")"),$}checkAndUpconvertOperator(_,$){const et=this.checkAndUpconvertBitwiseOperators(_,$);if(et)return et;const lt={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[_.operator];if(!lt)return null;switch($.push(lt),$.push("("),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseOperators(_,$){const st={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[_.operator];if(!st)return null;switch($.push(st),$.push("("),this.getType(_.left)){case"Number":case"Float":this.castValueToInteger(_.left,$);break;case"LiteralInteger":this.castLiteralToInteger(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Number":case"Float":this.castValueToInteger(_.right,$);break;case"LiteralInteger":this.castLiteralToInteger(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseUnary(_,$){const st={"~":"bitwiseNot"}[_.operator];if(!st)return null;switch($.push(st),$.push("("),this.getType(_.argument)){case"Number":case"Float":this.castValueToInteger(_.argument,$);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,$);break;default:this.astGeneric(_.argument,$)}return $.push(")"),$}castLiteralToInteger(_,$){return this.pushState("casting-to-integer"),this.astGeneric(_,$),this.popState("casting-to-integer"),$}castLiteralToFloat(_,$){return this.pushState("casting-to-float"),this.astGeneric(_,$),this.popState("casting-to-float"),$}castValueToInteger(_,$){return this.pushState("casting-to-integer"),$.push("int("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-integer"),$}castValueToFloat(_,$){return this.pushState("casting-to-float"),$.push("float("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-float"),$}astIdentifierExpression(_,$){if(_.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",_);const et=this.getType(_),st=tt.sanitizeName(_.name);return _.name==="Infinity"?$.push("3.402823466e+38"):et==="Boolean"?this.argumentNames.indexOf(st)>-1?$.push(`bool(user_${st})`):$.push(`user_${st}`):$.push(`user_${st}`),$}astForStatement(_,$){if(_.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",_);const et=[],st=[],lt=[],ft=[];let gt=null;if(_.init){const{declarations:ut}=_.init;ut.length>1&&(gt=!1),this.astGeneric(_.init,et);for(let pt=0;pt<ut.length;pt++)ut[pt].init&&ut[pt].init.type!=="Literal"&&(gt=!1)}else gt=!1;if(_.test?this.astGeneric(_.test,st):gt=!1,_.update?this.astGeneric(_.update,lt):gt=!1,_.body&&(this.pushState("loop-body"),this.astGeneric(_.body,ft),this.popState("loop-body")),gt===null&&(gt=this.isSafe(_.init)&&this.isSafe(_.test)),gt){const ut=et.join(""),pt=ut[ut.length-1]!==";";$.push(`for (${ut}${pt?";":""}${st.join("")};${lt.join("")}){
`),$.push(ft.join("")),$.push(`}
`)}else{const ut=this.getInternalVariableName("safeI");et.length>0&&$.push(et.join(""),`
`),$.push(`for (int ${ut}=0;${ut}<LOOP_MAX;${ut}++){
`),st.length>0&&$.push(`if (!${st.join("")}) break;
`),$.push(ft.join("")),$.push(`
${lt.join("")};`),$.push(`}
`)}return $}astWhileStatement(_,$){if(_.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",_);const et=this.getInternalVariableName("safeI");return $.push(`for (int ${et}=0;${et}<LOOP_MAX;${et}++){
`),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),this.astGeneric(_.body,$),$.push(`}
`),$}astDoWhileStatement(_,$){if(_.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",_);const et=this.getInternalVariableName("safeI");return $.push(`for (int ${et}=0;${et}<LOOP_MAX;${et}++){
`),this.astGeneric(_.body,$),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),$.push(`}
`),$}astAssignmentExpression(_,$){if(_.operator==="%=")this.astGeneric(_.left,$),$.push("="),$.push("mod("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else if(_.operator==="**=")this.astGeneric(_.left,$),$.push("="),$.push("pow("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else{const et=this.getType(_.left),st=this.getType(_.right);return this.astGeneric(_.left,$),$.push(_.operator),et!=="Integer"&&st==="Integer"?($.push("float("),this.astGeneric(_.right,$),$.push(")")):this.astGeneric(_.right,$),$}}astBlockStatement(_,$){if(this.isState("loop-body")){this.pushState("block-body");for(let et=0;et<_.body.length;et++)this.astGeneric(_.body[et],$);this.popState("block-body")}else{$.push(`{
`);for(let et=0;et<_.body.length;et++)this.astGeneric(_.body[et],$);$.push(`}
`)}return $}astVariableDeclaration(_,$){const et=_.declarations;if(!et||!et[0]||!et[0].init)throw this.astErrorOutput("Unexpected expression",_);const st=[];let lt=null;const ft=[];let gt=[];for(let ut=0;ut<et.length;ut++){const pt=et[ut],vt=pt.init,dt=this.getDeclaration(pt.id),mt=this.getType(pt.init);let Tt=mt;Tt==="LiteralInteger"&&(dt.suggestedType==="Integer"?Tt="Integer":Tt="Number");const yt=rt[Tt];if(!yt)throw this.astErrorOutput(`Markup type ${Tt} not handled`,_);const ht=[];if(mt==="Integer"&&Tt==="Integer"){if(dt.valueType="Number",ut===0||lt===null)ht.push("float ");else if(Tt!==lt)throw new Error("Unhandled declaration");lt=Tt,ht.push(`user_${tt.sanitizeName(pt.id.name)}=`),ht.push("float("),this.astGeneric(vt,ht),ht.push(")")}else dt.valueType=Tt,ut===0||lt===null?ht.push(`${yt} `):Tt!==lt&&(ft.push(gt.join(",")),gt=[],ht.push(`${yt} `)),lt=Tt,ht.push(`user_${tt.sanitizeName(pt.id.name)}=`),mt==="Number"&&Tt==="Integer"?vt.left&&vt.left.type==="Literal"?this.astGeneric(vt,ht):(ht.push("int("),this.astGeneric(vt,ht),ht.push(")")):mt==="LiteralInteger"&&Tt==="Integer"?this.castLiteralToInteger(vt,ht):this.astGeneric(vt,ht);gt.push(ht.join(""))}return gt.length>0&&ft.push(gt.join(",")),st.push(ft.join(";")),$.push(st.join("")),$.push(";"),$}astIfStatement(_,$){return $.push("if ("),this.astGeneric(_.test,$),$.push(")"),_.consequent.type==="BlockStatement"?this.astGeneric(_.consequent,$):($.push(` {
`),this.astGeneric(_.consequent,$),$.push(`
}
`)),_.alternate&&($.push("else "),_.alternate.type==="BlockStatement"||_.alternate.type==="IfStatement"?this.astGeneric(_.alternate,$):($.push(` {
`),this.astGeneric(_.alternate,$),$.push(`
}
`))),$}astSwitchStatement(_,$){if(_.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",_);const{discriminant:et,cases:st}=_,lt=this.getType(et),ft=`switchDiscriminant${this.astKey(_,"_")}`;switch(lt){case"Float":case"Number":$.push(`float ${ft} = `),this.astGeneric(et,$),$.push(`;
`);break;case"Integer":$.push(`int ${ft} = `),this.astGeneric(et,$),$.push(`;
`);break}if(st.length===1&&!st[0].test)return this.astGeneric(st[0].consequent,$),$;let gt=!1,ut=[],pt=!1,vt=!1;for(let dt=0;dt<st.length;dt++){if(st[dt].test){if(dt===0||!vt?(vt=!0,$.push(`if (${ft} == `)):gt?($.push(`${ft} == `),gt=!1):$.push(` else if (${ft} == `),lt==="Integer")switch(this.getType(st[dt].test)){case"Number":case"Float":this.castValueToInteger(st[dt].test,$);break;case"LiteralInteger":this.castLiteralToInteger(st[dt].test,$);break}else if(lt==="Float")switch(this.getType(st[dt].test)){case"LiteralInteger":this.castLiteralToFloat(st[dt].test,$);break;case"Integer":this.castValueToFloat(st[dt].test,$);break}else throw new Error("unhanlded");if(!st[dt].consequent||st[dt].consequent.length===0){gt=!0,$.push(" || ");continue}$.push(`) {
`)}else if(st.length>dt+1){pt=!0,this.astGeneric(st[dt].consequent,ut);continue}else $.push(` else {
`);this.astGeneric(st[dt].consequent,$),$.push(`
}`)}return pt&&($.push(" else {"),$.push(ut.join("")),$.push("}")),$}astThisExpression(_,$){return $.push("this"),$}astMemberExpression(_,$){const{property:et,name:st,signature:lt,origin:ft,type:gt,xProperty:ut,yProperty:pt,zProperty:vt}=this.getMemberExpressionDetails(_);switch(lt){case"value.thread.value":case"this.thread.value":if(st!=="x"&&st!=="y"&&st!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",_);return $.push(`threadId.${st}`),$;case"this.output.value":if(this.dynamicOutput)switch(st){case"x":this.isState("casting-to-float")?$.push("float(uOutputDim.x)"):$.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?$.push("float(uOutputDim.y)"):$.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?$.push("float(uOutputDim.z)"):$.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",_)}else switch(st){case"x":this.isState("casting-to-integer")?$.push(this.output[0]):$.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?$.push(this.output[1]):$.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?$.push(this.output[2]):$.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",_)}return $;case"value":throw this.astErrorOutput("Unexpected expression",_);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(ft==="Math")return $.push(Math[st]),$;const mt=tt.sanitizeName(st);switch(et){case"r":return $.push(`user_${mt}.r`),$;case"g":return $.push(`user_${mt}.g`),$;case"b":return $.push(`user_${mt}.b`),$;case"a":return $.push(`user_${mt}.a`),$}break;case"this.constants.value":if(typeof ut>"u")switch(gt){case"Array(2)":case"Array(3)":case"Array(4)":return $.push(`constants_${tt.sanitizeName(st)}`),$}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(et)),$.push("]"),$;case"fn()[][]":return this.astCallExpression(_.object.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.object.property)),$.push("]"),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.property)),$.push("]"),$;case"[][]":return this.astArrayExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(et)),$.push("]"),$;default:throw this.astErrorOutput("Unexpected expression",_)}if(_.computed===!1)switch(gt){case"Number":case"Integer":case"Float":case"Boolean":return $.push(`${ft}_${tt.sanitizeName(st)}`),$}const dt=`${ft}_${tt.sanitizeName(st)}`;switch(gt){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(ut)),$.push("]");break;case"HTMLImageArray":$.push(`getImage3D(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"ArrayTexture(1)":$.push(`getFloatFromSampler2D(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":$.push(`getMemoryOptimizedVec2(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"ArrayTexture(2)":$.push(`getVec2FromSampler2D(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":$.push(`getMemoryOptimizedVec3(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"ArrayTexture(3)":$.push(`getVec3FromSampler2D(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":$.push(`getMemoryOptimizedVec4(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`getVec4FromSampler2D(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")$.push(`getMemoryOptimized32(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");else{const mt=ft==="user"?this.lookupFunctionArgumentBitRatio(this.name,st):this.constantBitRatios[st];switch(mt){case 1:$.push(`get8(${dt}, ${dt}Size, ${dt}Dim, `);break;case 2:$.push(`get16(${dt}, ${dt}Size, ${dt}Dim, `);break;case 4:case 0:$.push(`get32(${dt}, ${dt}Size, ${dt}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${mt}`)}this.memberExpressionXYZ(ut,pt,vt,$),$.push(")")}break;case"MemoryOptimizedNumberTexture":$.push(`getMemoryOptimized32(${dt}, ${dt}Size, ${dt}Dim, `),this.memberExpressionXYZ(ut,pt,vt,$),$.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`${dt}[${this.memberExpressionPropertyMarkup(pt)}]`),pt&&$.push(`[${this.memberExpressionPropertyMarkup(ut)}]`);break;default:throw new Error(`unhandled member expression "${gt}"`)}return $}astCallExpression(_,$){if(!_.callee)throw this.astErrorOutput("Unknown CallExpression",_);let et=null;const st=this.isAstMathFunction(_);if(st||_.callee.object&&_.callee.object.type==="ThisExpression"?et=_.callee.property.name:_.callee.type==="SequenceExpression"&&_.callee.expressions[0].type==="Literal"&&!isNaN(_.callee.expressions[0].raw)?et=_.callee.expressions[1].property.name:et=_.callee.name,!et)throw this.astErrorOutput("Unhandled function, couldn't find name",_);switch(et){case"pow":et="_pow";break;case"round":et="_round";break}if(this.calledFunctions.indexOf(et)<0&&this.calledFunctions.push(et),et==="random"&&this.plugins&&this.plugins.length>0)for(let lt=0;lt<this.plugins.length;lt++){const ft=this.plugins[lt];if(ft.functionMatch==="Math.random()"&&ft.functionReplace)return $.push(ft.functionReplace),$}if(this.onFunctionCall&&this.onFunctionCall(this.name,et,_.arguments),$.push(et),$.push("("),st)for(let lt=0;lt<_.arguments.length;++lt){const ft=_.arguments[lt],gt=this.getType(ft);switch(lt>0&&$.push(", "),gt){case"Integer":this.castValueToFloat(ft,$);break;default:this.astGeneric(ft,$);break}}else{const lt=this.lookupFunctionArgumentTypes(et)||[];for(let ft=0;ft<_.arguments.length;++ft){const gt=_.arguments[ft];let ut=lt[ft];ft>0&&$.push(", ");const pt=this.getType(gt);switch(ut||(this.triggerImplyArgumentType(et,ft,pt,this),ut=pt),pt){case"Boolean":this.astGeneric(gt,$);continue;case"Number":case"Float":if(ut==="Integer"){$.push("int("),this.astGeneric(gt,$),$.push(")");continue}else if(ut==="Number"||ut==="Float"){this.astGeneric(gt,$);continue}else if(ut==="LiteralInteger"){this.castLiteralToFloat(gt,$);continue}break;case"Integer":if(ut==="Number"||ut==="Float"){$.push("float("),this.astGeneric(gt,$),$.push(")");continue}else if(ut==="Integer"){this.astGeneric(gt,$);continue}break;case"LiteralInteger":if(ut==="Integer"){this.castLiteralToInteger(gt,$);continue}else if(ut==="Number"||ut==="Float"){this.castLiteralToFloat(gt,$);continue}else if(ut==="LiteralInteger"){this.astGeneric(gt,$);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(ut===pt){if(gt.type==="Identifier")$.push(`user_${tt.sanitizeName(gt.name)}`);else if(gt.type==="ArrayExpression"||gt.type==="MemberExpression"||gt.type==="CallExpression")this.astGeneric(gt,$);else throw this.astErrorOutput(`Unhandled argument type ${gt.type}`,_);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(ut===pt){if(gt.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${gt.type}`,_);this.triggerImplyArgumentBitRatio(this.name,gt.name,et,ft);const vt=tt.sanitizeName(gt.name);$.push(`user_${vt},user_${vt}Size,user_${vt}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${pt} and ${ut} for argument named "${gt.name}"`,_)}}return $.push(")"),$}astArrayExpression(_,$){const et=this.getType(_),st=_.elements.length;switch(et){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`mat${st}(`);break;default:$.push(`vec${st}(`)}for(let lt=0;lt<st;++lt){lt>0&&$.push(", ");const ft=_.elements[lt];this.astGeneric(ft,$)}return $.push(")"),$}memberExpressionXYZ(_,$,et,st){return et?st.push(this.memberExpressionPropertyMarkup(et),", "):st.push("0, "),$?st.push(this.memberExpressionPropertyMarkup($),", "):st.push("0, "),st.push(this.memberExpressionPropertyMarkup(_)),st}memberExpressionPropertyMarkup(_){if(!_)throw new Error("Property not set");const $=this.getType(_),et=[];switch($){case"Number":case"Float":this.castValueToInteger(_,et);break;case"LiteralInteger":this.castLiteralToInteger(_,et);break;default:this.astGeneric(_,et)}return et.join("")}}const rt={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},nt={"===":"==","!==":"!="};o.exports={WebGLFunctionNode:ot}},{"../../utils":114,"../function-node":10}],39:[function(a,o,it){const{WebGLKernelValueBoolean:tt}=a("./kernel-value/boolean"),{WebGLKernelValueFloat:at}=a("./kernel-value/float"),{WebGLKernelValueInteger:ot}=a("./kernel-value/integer"),{WebGLKernelValueHTMLImage:rt}=a("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:nt}=a("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:j}=a("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:_}=a("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:$}=a("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:et}=a("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:st}=a("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:lt}=a("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:ft}=a("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:gt}=a("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:ut}=a("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:pt}=a("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:vt}=a("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:dt}=a("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:mt}=a("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:Tt}=a("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:yt}=a("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:ht}=a("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:xt}=a("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:wt}=a("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:kt}=a("./kernel-value/array2"),{WebGLKernelValueArray3:Ct}=a("./kernel-value/array3"),{WebGLKernelValueArray4:Rt}=a("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:Lt}=a("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:Mt}=a("./kernel-value/dynamic-unsigned-array"),Wt={unsigned:{dynamic:{Boolean:tt,Integer:ot,Float:at,Array:Mt,"Array(2)":kt,"Array(3)":Ct,"Array(4)":Rt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:lt,NumberTexture:pt,"ArrayTexture(1)":pt,"ArrayTexture(2)":pt,"ArrayTexture(3)":pt,"ArrayTexture(4)":pt,MemoryOptimizedNumberTexture:gt,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:tt,Float:at,Integer:ot,Array:Lt,"Array(2)":kt,"Array(3)":Ct,"Array(4)":Rt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:st,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ft,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:!1,HTMLVideo:j}},single:{dynamic:{Boolean:tt,Integer:ot,Float:at,Array:dt,"Array(2)":kt,"Array(3)":Ct,"Array(4)":Rt,"Array1D(2)":Tt,"Array1D(3)":Tt,"Array1D(4)":Tt,"Array2D(2)":ht,"Array2D(3)":ht,"Array2D(4)":ht,"Array3D(2)":wt,"Array3D(3)":wt,"Array3D(4)":wt,Input:et,NumberTexture:pt,"ArrayTexture(1)":pt,"ArrayTexture(2)":pt,"ArrayTexture(3)":pt,"ArrayTexture(4)":pt,MemoryOptimizedNumberTexture:gt,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:tt,Float:at,Integer:ot,Array:vt,"Array(2)":kt,"Array(3)":Ct,"Array(4)":Rt,"Array1D(2)":mt,"Array1D(3)":mt,"Array1D(4)":mt,"Array2D(2)":yt,"Array2D(3)":yt,"Array2D(4)":yt,"Array3D(2)":xt,"Array3D(3)":xt,"Array3D(4)":xt,Input:$,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ft,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:!1,HTMLVideo:j}}};function Pt(Ot,Xt,rn,jt){if(!Ot)throw new Error("type missing");if(!Xt)throw new Error("dynamic missing");if(!rn)throw new Error("precision missing");jt.type&&(Ot=jt.type);const Vt=Wt[rn][Xt];if(Vt[Ot]===!1)return null;if(Vt[Ot]===void 0)throw new Error(`Could not find a KernelValue for ${Ot}`);return Vt[Ot]}o.exports={lookupKernelValueType:Pt,kernelValueMaps:Wt}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(a,o,it){const{WebGLKernelValue:tt}=a("./index"),{Input:at}=a("../../../input");class ot extends tt{checkSize(nt,j){if(!this.kernel.validate)return;const{maxTextureSize:_}=this.kernel.constructor.features;if(nt>_||j>_)throw nt>j?new Error(`Argument texture width of ${nt} larger than maximum size of ${_} for your GPU`):nt<j?new Error(`Argument texture height of ${j} larger than maximum size of ${_} for your GPU`):new Error(`Argument texture height and width of ${j} larger than maximum size of ${_} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:nt}=this;nt.activeTexture(this.contextHandle),nt.bindTexture(nt.TEXTURE_2D,this.texture),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(nt){if(Array.isArray(nt[0]))return this.getBitRatio(nt[0]);if(nt.constructor===at)return this.getBitRatio(nt.value);switch(nt.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}o.exports={WebGLKernelArray:ot}},{"../../../input":110,"./index":59}],41:[function(a,o,it){const{WebGLKernelValue:tt}=a("./index");class at extends tt{constructor(rt,nt){super(rt,nt),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${rt[0]},${rt[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=rt)}}o.exports={WebGLKernelValueArray2:at}},{"./index":59}],42:[function(a,o,it){const{WebGLKernelValue:tt}=a("./index");class at extends tt{constructor(rt,nt){super(rt,nt),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${rt[0]},${rt[1]},${rt[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=rt)}}o.exports={WebGLKernelValueArray3:at}},{"./index":59}],43:[function(a,o,it){const{WebGLKernelValue:tt}=a("./index");class at extends tt{constructor(rt,nt){super(rt,nt),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${rt[0]},${rt[1]},${rt[2]},${rt[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=rt)}}o.exports={WebGLKernelValueArray4:at}},{"./index":59}],44:[function(a,o,it){a("../../../utils");const{WebGLKernelValue:tt}=a("./index");class at extends tt{constructor(rt,nt){super(rt,nt),this.uploadValue=rt}getSource(rt){return this.origin==="constants"?`const bool ${this.id} = ${rt};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}o.exports={WebGLKernelValueBoolean:at}},{"../../../utils":114,"./index":59}],45:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueHTMLImage:at}=a("./html-image");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){const{width:j,height:_}=nt;this.checkSize(j,_),this.dimensions=[j,_,1],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicHTMLImage:ot}},{"../../../utils":114,"./html-image":57}],46:[function(a,o,it){const{WebGLKernelValueDynamicHTMLImage:tt}=a("./dynamic-html-image");class at extends tt{}o.exports={WebGLKernelValueDynamicHTMLVideo:at}},{"./dynamic-html-image":45}],47:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:at}=a("./memory-optimized-number-texture");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){this.dimensions=nt.dimensions,this.checkSize(nt.size[0],nt.size[1]),this.textureSize=nt.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueNumberTexture:at}=a("./number-texture");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){this.dimensions=nt.dimensions,this.checkSize(nt.size[0],nt.size[1]),this.textureSize=nt.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicNumberTexture:ot}},{"../../../utils":114,"./number-texture":62}],49:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleArray:at}=a("./single-array");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){this.dimensions=tt.getDimensions(nt,!0),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicSingleArray:ot}},{"../../../utils":114,"./single-array":63}],50:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleArray1DI:at}=a("./single-array1d-i");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){this.setShape(nt),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicSingleArray1DI:ot}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleArray2DI:at}=a("./single-array2d-i");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){this.setShape(nt),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicSingleArray2DI:ot}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleArray3DI:at}=a("./single-array3d-i");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){this.setShape(nt),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicSingleArray3DI:ot}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleInput:at}=a("./single-input");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){let[j,_,$]=nt.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicSingleInput:ot}},{"../../../utils":114,"./single-input":67}],54:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueUnsignedArray:at}=a("./unsigned-array");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){this.dimensions=tt.getDimensions(nt,!0),this.textureSize=tt.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const j=this.getTransferArrayType(nt);this.preUploadValue=new j(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicUnsignedArray:ot}},{"../../../utils":114,"./unsigned-array":68}],55:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueUnsignedInput:at}=a("./unsigned-input");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(nt){let[j,_,$]=nt.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=tt.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const et=this.getTransferArrayType(nt.value);this.preUploadValue=new et(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGLKernelValueDynamicUnsignedInput:ot}},{"../../../utils":114,"./unsigned-input":69}],56:[function(a,o,it){a("../../../utils");const{WebGLKernelValue:tt}=a("./index");class at extends tt{constructor(rt,nt){super(rt,nt),this.uploadValue=rt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(rt){return this.origin==="constants"?Number.isInteger(rt)?`const float ${this.id} = ${rt}.0;
`:`const float ${this.id} = ${rt};
`:`uniform float ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=rt)}}o.exports={WebGLKernelValueFloat:at}},{"../../../utils":114,"./index":59}],57:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(nt,j){super(nt,j);const{width:_,height:$}=nt;this.checkSize(_,$),this.dimensions=[_,$,1],this.textureSize=[_,$],this.uploadValue=nt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=nt),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueHTMLImage:ot}},{"../../../utils":114,"./array":40}],58:[function(a,o,it){const{WebGLKernelValueHTMLImage:tt}=a("./html-image");class at extends tt{}o.exports={WebGLKernelValueHTMLVideo:at}},{"./html-image":57}],59:[function(a,o,it){const{utils:tt}=a("../../../utils"),{KernelValue:at}=a("../../kernel-value");class ot extends at{constructor(nt,j){super(nt,j),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=nt.constructor,this.onRequestTexture=j.onRequestTexture,this.onRequestIndex=j.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${tt.sanitizeName(this.name)}`}setup(){}getTransferArrayType(nt){if(Array.isArray(nt[0]))return this.getTransferArrayType(nt[0]);switch(nt.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return nt.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),nt.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}o.exports={WebGLKernelValue:ot}},{"../../../utils":114,"../../kernel-value":35}],60:[function(a,o,it){a("../../../utils");const{WebGLKernelValue:tt}=a("./index");class at extends tt{constructor(rt,nt){super(rt,nt),this.uploadValue=rt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(rt){return this.origin==="constants"?`const int ${this.id} = ${parseInt(rt)};
`:`uniform int ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}o.exports={WebGLKernelValueInteger:at}},{"../../../utils":114,"./index":59}],61:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array"),ot="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class rt extends at{constructor(j,_){super(j,_);const[$,et]=j.size;this.checkSize($,et),this.dimensions=j.dimensions,this.textureSize=j.size,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(ot);if(_.mappedTextures){const{mappedTextures:et}=_;for(let st=0;st<et.length;st++)if(et[st].texture===j.texture)throw new Error(ot)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueMemoryOptimizedNumberTexture:rt,sameError:ot}},{"../../../utils":114,"./array":40}],62:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array"),{sameError:ot}=a("./memory-optimized-number-texture");class rt extends at{constructor(j,_){super(j,_);const[$,et]=j.size;this.checkSize($,et);const{size:st,dimensions:lt}=j;this.bitRatio=this.getBitRatio(j),this.dimensions=lt,this.textureSize=st,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(ot);if(_.mappedTextures){const{mappedTextures:et}=_;for(let st=0;st<et.length;st++)if(et[st].texture===j.texture)throw new Error(ot)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueNumberTexture:rt}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(nt,j){super(nt,j),this.bitRatio=4,this.dimensions=tt.getDimensions(nt,!0),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flattenTo(nt,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleArray:ot}},{"../../../utils":114,"./array":40}],64:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(nt,j){super(nt,j),this.bitRatio=4,this.setShape(nt)}setShape(nt){const j=tt.getDimensions(nt,!0);this.textureSize=tt.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flatten2dArrayTo(nt,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleArray1DI:ot}},{"../../../utils":114,"./array":40}],65:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(nt,j){super(nt,j),this.bitRatio=4,this.setShape(nt)}setShape(nt){const j=tt.getDimensions(nt,!0);this.textureSize=tt.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flatten3dArrayTo(nt,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleArray2DI:ot}},{"../../../utils":114,"./array":40}],66:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(nt,j){super(nt,j),this.bitRatio=4,this.setShape(nt)}setShape(nt){const j=tt.getDimensions(nt,!0);this.textureSize=tt.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],j[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flatten4dArrayTo(nt,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleArray3DI:ot}},{"../../../utils":114,"./array":40}],67:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(nt,j){super(nt,j),this.bitRatio=4;let[_,$,et]=nt.size;this.dimensions=new Int32Array([_||1,$||1,et||1]),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return tt.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flattenTo(nt.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleInput:ot}},{"../../../utils":114,"./array":40}],68:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(nt,j){super(nt,j),this.bitRatio=this.getBitRatio(nt),this.dimensions=tt.getDimensions(nt,!0),this.textureSize=tt.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(nt),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return tt.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flattenTo(nt,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueUnsignedArray:ot}},{"../../../utils":114,"./array":40}],69:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(nt,j){super(nt,j),this.bitRatio=this.getBitRatio(nt);const[_,$,et]=nt.size;this.dimensions=new Int32Array([_||1,$||1,et||1]),this.textureSize=tt.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(nt.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return tt.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:j}=this;tt.flattenTo(nt.value,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueUnsignedInput:ot}},{"../../../utils":114,"./array":40}],70:[function(a,o,it){const{GLKernel:tt}=a("../gl/kernel"),{FunctionBuilder:at}=a("../function-builder"),{WebGLFunctionNode:ot}=a("./function-node"),{utils:rt}=a("../../utils"),nt=a("../../plugins/math-random-uniformly-distributed"),{fragmentShader:j}=a("./fragment-shader"),{vertexShader:_}=a("./vertex-shader"),{glKernelString:$}=a("../gl/kernel-string"),{lookupKernelValueType:et}=a("./kernel-value-maps");let st=null,lt=null,ft=null,gt=null,ut=null;const pt=[nt],vt=[],dt={};class mt extends tt{static get isSupported(){return st!==null||(this.setupFeatureChecks(),st=this.isContextMatch(ft)),st}static setupFeatureChecks(){typeof document<"u"?lt=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(lt=new OffscreenCanvas(0,0)),lt&&(ft=lt.getContext("webgl")||lt.getContext("experimental-webgl"),!(!ft||!ft.getExtension)&&(gt={OES_texture_float:ft.getExtension("OES_texture_float"),OES_texture_float_linear:ft.getExtension("OES_texture_float_linear"),OES_element_index_uint:ft.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:ft.getExtension("WEBGL_draw_buffers")},ut=this.getFeatures()))}static isContextMatch(yt){return typeof WebGLRenderingContext<"u"?yt instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return Boolean(gt.OES_texture_float)}static getIsDrawBuffers(){return Boolean(gt.WEBGL_draw_buffers)}static getChannelCount(){return gt.WEBGL_draw_buffers?ft.getParameter(gt.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return ft.getParameter(ft.MAX_TEXTURE_SIZE)}static lookupKernelValueType(yt,ht,xt,wt){return et(yt,ht,xt,wt)}static get testCanvas(){return lt}static get testContext(){return ft}static get features(){return ut}static get fragmentShader(){return j}static get vertexShader(){return _}constructor(yt,ht){super(yt,ht),this.program=null,this.pipeline=ht.pipeline,this.endianness=rt.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(yt.settings||ht),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const yt=document.createElement("canvas");return yt.width=2,yt.height=2,yt}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const yt={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",yt)||this.canvas.getContext("experimental-webgl",yt)}initPlugins(yt){const ht=[],{source:xt}=this;if(typeof xt=="string")for(let wt=0;wt<pt.length;wt++){const kt=pt[wt];xt.match(kt.functionMatch)&&ht.push(kt)}else if(typeof xt=="object"&&yt.pluginNames)for(let wt=0;wt<pt.length;wt++){const kt=pt[wt];yt.pluginNames.some(Rt=>Rt===kt.name)&&ht.push(kt)}return ht}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(yt){if(!this.validate){this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:ht}=this.constructor;if(this.optimizeFloatMemory===!0&&!ht.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!ht.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&ht.isTextureFloat&&(this.precision=ht.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!ht.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&ht.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(yt.length!==1)throw new Error("Auto output only supported for kernels with only one input");const xt=rt.getVariableType(yt[0],this.strictIntegers);switch(xt){case"Array":this.output=rt.getDimensions(xt);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=yt[0].output;break;default:throw new Error("Auto output not supported for input type: "+xt)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=rt.clone(this.output);return}else this.precision===null&&ht.isTextureFloat&&(this.precision="single");this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:yt,canvas:ht}=this;if(this.maxTexSize===null){let xt=vt.indexOf(ht);xt===-1&&(xt=vt.length,vt.push(ht),dt[xt]=[yt[0],yt[1]]),this.maxTexSize=dt[xt]}this.maxTexSize[0]<yt[0]&&(this.maxTexSize[0]=yt[0]),this.maxTexSize[1]<yt[1]&&(this.maxTexSize[1]=yt[1])}setupArguments(yt){this.kernelArguments=[],this.argumentTextureCount=0;const ht=this.argumentTypes===null;if(ht&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],yt.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(yt.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:xt}=this;let wt=0;const kt=()=>this.createTexture(),Ct=()=>this.constantTextureCount+wt++,Rt=Mt=>{this.switchKernels({type:"argumentMismatch",needed:Mt})},Lt=()=>xt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let Mt=0;Mt<yt.length;Mt++){const Wt=yt[Mt],Pt=this.argumentNames[Mt];let Ot;ht?(Ot=rt.getVariableType(Wt,this.strictIntegers),this.argumentTypes.push(Ot)):Ot=this.argumentTypes[Mt];const Xt=this.constructor.lookupKernelValueType(Ot,this.dynamicArguments?"dynamic":"static",this.precision,yt[Mt]);if(Xt===null)return this.requestFallback(yt);const rn=new Xt(Wt,{name:Pt,type:Ot,tactic:this.tactic,origin:"user",context:xt,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:kt,onRequestIndex:Ct,onUpdateValueMismatch:Rt,onRequestContextHandle:Lt});this.kernelArguments.push(rn),rn.setup(),this.argumentSizes.push(rn.textureSize),this.argumentBitRatios[Mt]=rn.bitRatio}}createTexture(){const yt=this.context.createTexture();return this.textureCache.push(yt),yt}setupConstants(yt){const{context:ht}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let xt=this.constantTypes===null;xt&&(this.constantTypes={}),this.constantBitRatios={};let wt=0;for(const kt in this.constants){const Ct=this.constants[kt];let Rt;xt?(Rt=rt.getVariableType(Ct,this.strictIntegers),this.constantTypes[kt]=Rt):Rt=this.constantTypes[kt];const Lt=this.constructor.lookupKernelValueType(Rt,"static",this.precision,Ct);if(Lt===null)return this.requestFallback(yt);const Mt=new Lt(Ct,{name:kt,type:Rt,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>wt++,onRequestContextHandle:()=>ht.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[kt]=Mt.bitRatio,this.kernelConstants.push(Mt),Mt.setup(),Mt.forceUploadEachRun&&this.forceUploadKernelConstants.push(Mt)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const yt=this.pickRenderStrategy(arguments);if(yt)return yt;const{texSize:ht,context:xt,canvas:wt}=this;xt.enable(xt.SCISSOR_TEST),this.pipeline&&this.precision==="single"?(xt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),wt.width=this.maxTexSize[0],wt.height=this.maxTexSize[1]):(xt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),wt.width=this.maxTexSize[0],wt.height=this.maxTexSize[1]);const kt=this.threadDim=Array.from(this.output);for(;kt.length<3;)kt.push(1);const Ct=this.getVertexShader(arguments),Rt=xt.createShader(xt.VERTEX_SHADER);xt.shaderSource(Rt,Ct),xt.compileShader(Rt),this.vertShader=Rt;const Lt=this.getFragmentShader(arguments),Mt=xt.createShader(xt.FRAGMENT_SHADER);if(xt.shaderSource(Mt,Lt),xt.compileShader(Mt),this.fragShader=Mt,this.debug&&(console.log("GLSL Shader Output:"),console.log(Lt)),!xt.getShaderParameter(Rt,xt.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+xt.getShaderInfoLog(Rt));if(!xt.getShaderParameter(Mt,xt.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+xt.getShaderInfoLog(Mt));const Wt=this.program=xt.createProgram();xt.attachShader(Wt,Rt),xt.attachShader(Wt,Mt),xt.linkProgram(Wt),this.framebuffer=xt.createFramebuffer(),this.framebuffer.width=ht[0],this.framebuffer.height=ht[1],this.rawValueFramebuffers={};const Pt=new Float32Array([-1,-1,1,-1,-1,1,1,1]),Ot=new Float32Array([0,0,1,0,0,1,1,1]),Xt=Pt.byteLength;let rn=this.buffer;rn?xt.bindBuffer(xt.ARRAY_BUFFER,rn):(rn=this.buffer=xt.createBuffer(),xt.bindBuffer(xt.ARRAY_BUFFER,rn),xt.bufferData(xt.ARRAY_BUFFER,Pt.byteLength+Ot.byteLength,xt.STATIC_DRAW)),xt.bufferSubData(xt.ARRAY_BUFFER,0,Pt),xt.bufferSubData(xt.ARRAY_BUFFER,Xt,Ot);const jt=xt.getAttribLocation(this.program,"aPos");xt.enableVertexAttribArray(jt),xt.vertexAttribPointer(jt,2,xt.FLOAT,!1,0,0);const Vt=xt.getAttribLocation(this.program,"aTexCoord");xt.enableVertexAttribArray(Vt),xt.vertexAttribPointer(Vt,2,xt.FLOAT,!1,0,Xt),xt.bindFramebuffer(xt.FRAMEBUFFER,this.framebuffer);let en=0;xt.useProgram(this.program);for(let ln in this.constants)this.kernelConstants[en++].updateValue(this.constants[ln]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const yt=at.fromKernel(this,ot,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=yt.getPrototypeString("kernel"),this.setupReturnTypes(yt)}setupReturnTypes(yt){if(!this.graphical&&!this.returnType&&(this.returnType=yt.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let ht=0;ht<this.subKernels.length;ht++){const xt=this.subKernels[ht];xt.returnType||(xt.returnType=yt.getSubKernelResultType(ht))}}run(){const{kernelArguments:yt,texSize:ht,forceUploadKernelConstants:xt,context:wt}=this;wt.useProgram(this.program),wt.scissor(0,0,ht[0],ht[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",ht)),this.setUniform2f("ratio",ht[0]/this.maxTexSize[0],ht[1]/this.maxTexSize[1]);for(let kt=0;kt<xt.length;kt++){const Ct=xt[kt];if(Ct.updateValue(this.constants[Ct.name]),this.switchingKernels)return}for(let kt=0;kt<yt.length;kt++)if(yt[kt].updateValue(arguments[kt]),this.switchingKernels)return;if(this.plugins)for(let kt=0;kt<this.plugins.length;kt++){const Ct=this.plugins[kt];Ct.onBeforeRun&&Ct.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return wt.bindRenderbuffer(wt.RENDERBUFFER,null),wt.bindFramebuffer(wt.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),wt.drawArrays(wt.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;wt.bindRenderbuffer(wt.RENDERBUFFER,null),wt.bindFramebuffer(wt.FRAMEBUFFER,null),wt.drawArrays(wt.TRIANGLE_STRIP,0,4);return}wt.bindFramebuffer(wt.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),wt.drawArrays(wt.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:yt}=this;switch(this.getInternalFormat()){case yt.RGBA:return yt.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const yt=this.context;yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const yt=this.context,ht=this.texSize;if(this.texture){yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,this.texture.texture,0);return}const xt=this.createTexture();yt.activeTexture(yt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),yt.bindTexture(yt.TEXTURE_2D,xt),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_S,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_T,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MIN_FILTER,yt.NEAREST),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MAG_FILTER,yt.NEAREST);const wt=this.getInternalFormat();this.precision==="single"?yt.texImage2D(yt.TEXTURE_2D,0,wt,ht[0],ht[1],0,yt.RGBA,yt.FLOAT,null):yt.texImage2D(yt.TEXTURE_2D,0,wt,ht[0],ht[1],0,wt,yt.UNSIGNED_BYTE,null),yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,xt,0),this.texture=new this.TextureConstructor({texture:xt,size:ht,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const yt=this.context;for(let ht=0;ht<this.mappedTextures.length;ht++){const xt=this.mappedTextures[ht];(xt.beforeMutate()||this._mappedTextureSwitched[ht])&&(yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+ht+1,yt.TEXTURE_2D,xt.texture,0),this._mappedTextureSwitched[ht]=!1)}}_setupSubOutputTextures(){const yt=this.context;if(this.mappedTextures){for(let xt=0;xt<this.subKernels.length;xt++)yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+xt+1,yt.TEXTURE_2D,this.mappedTextures[xt].texture,0);return}const ht=this.texSize;this.drawBuffersMap=[yt.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let xt=0;xt<this.subKernels.length;xt++){const wt=this.createTexture();this.drawBuffersMap.push(yt.COLOR_ATTACHMENT0+xt+1),yt.activeTexture(yt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+xt),yt.bindTexture(yt.TEXTURE_2D,wt),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_S,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_T,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MIN_FILTER,yt.NEAREST),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MAG_FILTER,yt.NEAREST),this.precision==="single"?yt.texImage2D(yt.TEXTURE_2D,0,yt.RGBA,ht[0],ht[1],0,yt.RGBA,yt.FLOAT,null):yt.texImage2D(yt.TEXTURE_2D,0,yt.RGBA,ht[0],ht[1],0,yt.RGBA,yt.UNSIGNED_BYTE,null),yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+xt+1,yt.TEXTURE_2D,wt,0),this.mappedTextures.push(new this.TextureConstructor({texture:wt,size:ht,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(yt,ht){if(this.uniform1fCache.hasOwnProperty(yt)){const wt=this.uniform1fCache[yt];if(ht===wt)return}this.uniform1fCache[yt]=ht;const xt=this.getUniformLocation(yt);this.context.uniform1f(xt,ht)}setUniform1i(yt,ht){if(this.uniform1iCache.hasOwnProperty(yt)){const wt=this.uniform1iCache[yt];if(ht===wt)return}this.uniform1iCache[yt]=ht;const xt=this.getUniformLocation(yt);this.context.uniform1i(xt,ht)}setUniform2f(yt,ht,xt){if(this.uniform2fCache.hasOwnProperty(yt)){const kt=this.uniform2fCache[yt];if(ht===kt[0]&&xt===kt[1])return}this.uniform2fCache[yt]=[ht,xt];const wt=this.getUniformLocation(yt);this.context.uniform2f(wt,ht,xt)}setUniform2fv(yt,ht){if(this.uniform2fvCache.hasOwnProperty(yt)){const wt=this.uniform2fvCache[yt];if(ht[0]===wt[0]&&ht[1]===wt[1])return}this.uniform2fvCache[yt]=ht;const xt=this.getUniformLocation(yt);this.context.uniform2fv(xt,ht)}setUniform2iv(yt,ht){if(this.uniform2ivCache.hasOwnProperty(yt)){const wt=this.uniform2ivCache[yt];if(ht[0]===wt[0]&&ht[1]===wt[1])return}this.uniform2ivCache[yt]=ht;const xt=this.getUniformLocation(yt);this.context.uniform2iv(xt,ht)}setUniform3fv(yt,ht){if(this.uniform3fvCache.hasOwnProperty(yt)){const wt=this.uniform3fvCache[yt];if(ht[0]===wt[0]&&ht[1]===wt[1]&&ht[2]===wt[2])return}this.uniform3fvCache[yt]=ht;const xt=this.getUniformLocation(yt);this.context.uniform3fv(xt,ht)}setUniform3iv(yt,ht){if(this.uniform3ivCache.hasOwnProperty(yt)){const wt=this.uniform3ivCache[yt];if(ht[0]===wt[0]&&ht[1]===wt[1]&&ht[2]===wt[2])return}this.uniform3ivCache[yt]=ht;const xt=this.getUniformLocation(yt);this.context.uniform3iv(xt,ht)}setUniform4fv(yt,ht){if(this.uniform4fvCache.hasOwnProperty(yt)){const wt=this.uniform4fvCache[yt];if(ht[0]===wt[0]&&ht[1]===wt[1]&&ht[2]===wt[2]&&ht[3]===wt[3])return}this.uniform4fvCache[yt]=ht;const xt=this.getUniformLocation(yt);this.context.uniform4fv(xt,ht)}setUniform4iv(yt,ht){if(this.uniform4ivCache.hasOwnProperty(yt)){const wt=this.uniform4ivCache[yt];if(ht[0]===wt[0]&&ht[1]===wt[1]&&ht[2]===wt[2]&&ht[3]===wt[3])return}this.uniform4ivCache[yt]=ht;const xt=this.getUniformLocation(yt);this.context.uniform4iv(xt,ht)}getUniformLocation(yt){return this.programUniformLocationCache.hasOwnProperty(yt)?this.programUniformLocationCache[yt]:this.programUniformLocationCache[yt]=this.context.getUniformLocation(this.program,yt)}_getFragShaderArtifactMap(yt){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(yt),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(yt){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(yt=>yt.source&&this.source.match(yt.functionMatch)?yt.source:"").join(`
`):`
`}_getConstantsString(){const yt=[],{threadDim:ht,texSize:xt}=this;return this.dynamicOutput?yt.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):yt.push(`ivec3 uOutputDim = ivec3(${ht[0]}, ${ht[1]}, ${ht[2]})`,`ivec2 uTexSize = ivec2(${xt[0]}, ${xt[1]})`),rt.linesToString(yt)}_getTextureCoordinate(){const yt=this.subKernels;return yt===null||yt.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(yt){const ht=[],{argumentNames:xt}=this;for(let wt=0;wt<xt.length;wt++)ht.push(this.kernelArguments[wt].getSource(yt[wt]));return ht.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const yt=[],{constants:ht}=this;if(ht){let xt=0;for(const wt in ht)!this.constants.hasOwnProperty(wt)||yt.push(this.kernelConstants[xt++].getSource(this.constants[wt]))}return yt.join("")}getRawValueFramebuffer(yt,ht){if(this.rawValueFramebuffers[yt]||(this.rawValueFramebuffers[yt]={}),!this.rawValueFramebuffers[yt][ht]){const xt=this.context.createFramebuffer();xt.width=yt,xt.height=ht,this.rawValueFramebuffers[yt][ht]=xt}return this.rawValueFramebuffers[yt][ht]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const yt=[this.getKernelResultDeclaration()],{subKernels:ht}=this;if(ht!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let xt=0;xt<ht.length;xt++){const wt=ht[xt];yt.push(wt.returnType==="Integer"?`int subKernelResult_${wt.name} = 0`:`float subKernelResult_${wt.name} = 0.0`)}break;case"Array(2)":for(let xt=0;xt<ht.length;xt++)yt.push(`vec2 subKernelResult_${ht[xt].name}`);break;case"Array(3)":for(let xt=0;xt<ht.length;xt++)yt.push(`vec3 subKernelResult_${ht[xt].name}`);break;case"Array(4)":for(let xt=0;xt<ht.length;xt++)yt.push(`vec4 subKernelResult_${ht[xt].name}`);break}return rt.linesToString(yt)+this.translatedSource}getMainResultGraphical(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const yt=[];if(!this.subKernels)return"";for(let ht=0;ht<this.subKernels.length;ht++)this.subKernels[ht].returnType==="Integer"?yt.push(`  gl_FragData[${ht+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[ht].name}))`):yt.push(`  gl_FragData[${ht+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[ht].name})`);return rt.linesToString(yt)}getMainResultMemoryOptimizedFloats(){const yt=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const ht=["r","g","b","a"];for(let xt=0;xt<ht.length;xt++){const wt=ht[xt];this.getMainResultKernelMemoryOptimizedFloats(yt,wt),this.getMainResultSubKernelMemoryOptimizedFloats(yt,wt),xt+1<ht.length&&yt.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return rt.linesToString(yt)}getMainResultKernelMemoryOptimizedFloats(yt,ht){yt.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${ht} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(yt,ht){if(!this.subKernels)return yt;for(let xt=0;xt<this.subKernels.length;xt++)this.subKernels[xt].returnType==="Integer"?yt.push(`  gl_FragData[${xt+1}].${ht} = float(subKernelResult_${this.subKernels[xt].name})`):yt.push(`  gl_FragData[${xt+1}].${ht} = subKernelResult_${this.subKernels[xt].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const yt=[];if(!this.subKernels)return yt;for(let ht=0;ht<this.subKernels.length;++ht){const xt=this.subKernels[ht];xt.returnType==="Integer"?yt.push(`  gl_FragData[${ht+1}][0] = float(subKernelResult_${xt.name})`):yt.push(`  gl_FragData[${ht+1}][0] = subKernelResult_${xt.name}`)}return yt}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const yt=[];if(!this.subKernels)return yt;for(let ht=0;ht<this.subKernels.length;++ht)yt.push(`  gl_FragData[${ht+1}][0] = subKernelResult_${this.subKernels[ht].name}[0]`,`  gl_FragData[${ht+1}][1] = subKernelResult_${this.subKernels[ht].name}[1]`);return yt}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const yt=[];if(!this.subKernels)return yt;for(let ht=0;ht<this.subKernels.length;++ht)yt.push(`  gl_FragData[${ht+1}][0] = subKernelResult_${this.subKernels[ht].name}[0]`,`  gl_FragData[${ht+1}][1] = subKernelResult_${this.subKernels[ht].name}[1]`,`  gl_FragData[${ht+1}][2] = subKernelResult_${this.subKernels[ht].name}[2]`);return yt}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const yt=[];if(!this.subKernels)return yt;switch(this.returnType){case"Number":case"Float":case"Integer":for(let ht=0;ht<this.subKernels.length;++ht)this.subKernels[ht].returnType==="Integer"?yt.push(`  gl_FragData[${ht+1}] = float(subKernelResult_${this.subKernels[ht].name})`):yt.push(`  gl_FragData[${ht+1}] = subKernelResult_${this.subKernels[ht].name}`);break;case"Array(2)":for(let ht=0;ht<this.subKernels.length;++ht)yt.push(`  gl_FragData[${ht+1}][0] = subKernelResult_${this.subKernels[ht].name}[0]`,`  gl_FragData[${ht+1}][1] = subKernelResult_${this.subKernels[ht].name}[1]`);break;case"Array(3)":for(let ht=0;ht<this.subKernels.length;++ht)yt.push(`  gl_FragData[${ht+1}][0] = subKernelResult_${this.subKernels[ht].name}[0]`,`  gl_FragData[${ht+1}][1] = subKernelResult_${this.subKernels[ht].name}[1]`,`  gl_FragData[${ht+1}][2] = subKernelResult_${this.subKernels[ht].name}[2]`);break;case"Array(4)":for(let ht=0;ht<this.subKernels.length;++ht)yt.push(`  gl_FragData[${ht+1}][0] = subKernelResult_${this.subKernels[ht].name}[0]`,`  gl_FragData[${ht+1}][1] = subKernelResult_${this.subKernels[ht].name}[1]`,`  gl_FragData[${ht+1}][2] = subKernelResult_${this.subKernels[ht].name}[2]`,`  gl_FragData[${ht+1}][3] = subKernelResult_${this.subKernels[ht].name}[3]`);break}return yt}replaceArtifacts(yt,ht){return yt.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(xt,wt)=>{if(ht.hasOwnProperty(wt))return ht[wt];throw`unhandled artifact ${wt}`})}getFragmentShader(yt){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(yt))}getVertexShader(yt){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(yt))}toString(){const yt=rt.linesToString(["const gl = context"]);return $(this.constructor,arguments,this,yt)}destroy(yt){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const xt in this.rawValueFramebuffers){for(const wt in this.rawValueFramebuffers[xt])this.context.deleteFramebuffer(this.rawValueFramebuffers[xt][wt]),delete this.rawValueFramebuffers[xt][wt];delete this.rawValueFramebuffers[xt]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const xt=this.textureCache.indexOf(this.texture.texture);xt>-1&&this.textureCache.splice(xt,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let xt=0;xt<this.mappedTextures.length;xt++){const wt=this.mappedTextures[xt];wt.delete();const kt=this.textureCache.indexOf(wt.texture);kt>-1&&this.textureCache.splice(kt,1)}this.mappedTextures=null}if(this.kernelArguments)for(let xt=0;xt<this.kernelArguments.length;xt++)this.kernelArguments[xt].destroy();if(this.kernelConstants)for(let xt=0;xt<this.kernelConstants.length;xt++)this.kernelConstants[xt].destroy();for(;this.textureCache.length>0;){const xt=this.textureCache.pop();this.context.deleteTexture(xt)}if(yt){const xt=vt.indexOf(this.canvas);xt>=0&&(vt[xt]=null,dt[xt]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const ht=this.gpu.kernels.indexOf(this);ht!==-1&&this.gpu.kernels.splice(ht,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(yt){const ht=yt.getExtension("WEBGL_lose_context");ht&&ht.loseContext()}toJSON(){const yt=super.toJSON();return yt.functionNodes=at.fromKernel(this,ot).toJSON(),yt.settings.threadDim=this.threadDim,yt}}o.exports={WebGLKernel:mt}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(a,o,it){const tt=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;o.exports={vertexShader:tt}},{}],72:[function(a,o,it){const tt=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;o.exports={fragmentShader:tt}},{}],73:[function(a,o,it){const{utils:tt}=a("../../utils"),{WebGLFunctionNode:at}=a("../web-gl/function-node");class ot extends at{astIdentifierExpression(nt,j){if(nt.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",nt);const _=this.getType(nt),$=tt.sanitizeName(nt.name);return nt.name==="Infinity"?j.push("intBitsToFloat(2139095039)"):_==="Boolean"?this.argumentNames.indexOf($)>-1?j.push(`bool(user_${$})`):j.push(`user_${$}`):j.push(`user_${$}`),j}}o.exports={WebGL2FunctionNode:ot}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(a,o,it){const{WebGL2KernelValueBoolean:tt}=a("./kernel-value/boolean"),{WebGL2KernelValueFloat:at}=a("./kernel-value/float"),{WebGL2KernelValueInteger:ot}=a("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:rt}=a("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:nt}=a("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:j}=a("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:_}=a("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:$}=a("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:et}=a("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:st}=a("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:lt}=a("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:ft}=a("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:gt}=a("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:ut}=a("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:pt}=a("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:vt}=a("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:dt}=a("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:mt}=a("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:Tt}=a("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:yt}=a("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:ht}=a("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:xt}=a("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:wt}=a("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:kt}=a("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:Ct}=a("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:Rt}=a("./kernel-value/array2"),{WebGL2KernelValueArray3:Lt}=a("./kernel-value/array3"),{WebGL2KernelValueArray4:Mt}=a("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:Wt}=a("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:Pt}=a("./kernel-value/dynamic-unsigned-array"),Ot={unsigned:{dynamic:{Boolean:tt,Integer:ot,Float:at,Array:Pt,"Array(2)":Rt,"Array(3)":Lt,"Array(4)":Mt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:gt,NumberTexture:dt,"ArrayTexture(1)":dt,"ArrayTexture(2)":dt,"ArrayTexture(3)":dt,"ArrayTexture(4)":dt,MemoryOptimizedNumberTexture:pt,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:_,HTMLVideo:et},static:{Boolean:tt,Float:at,Integer:ot,Array:Wt,"Array(2)":Rt,"Array(3)":Lt,"Array(4)":Mt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ft,NumberTexture:vt,"ArrayTexture(1)":vt,"ArrayTexture(2)":vt,"ArrayTexture(3)":vt,"ArrayTexture(4)":vt,MemoryOptimizedNumberTexture:pt,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:j,HTMLVideo:$}},single:{dynamic:{Boolean:tt,Integer:ot,Float:at,Array:Tt,"Array(2)":Rt,"Array(3)":Lt,"Array(4)":Mt,"Array1D(2)":ht,"Array1D(3)":ht,"Array1D(4)":ht,"Array2D(2)":wt,"Array2D(3)":wt,"Array2D(4)":wt,"Array3D(2)":Ct,"Array3D(3)":Ct,"Array3D(4)":Ct,Input:lt,NumberTexture:dt,"ArrayTexture(1)":dt,"ArrayTexture(2)":dt,"ArrayTexture(3)":dt,"ArrayTexture(4)":dt,MemoryOptimizedNumberTexture:pt,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:_,HTMLVideo:et},static:{Boolean:tt,Float:at,Integer:ot,Array:mt,"Array(2)":Rt,"Array(3)":Lt,"Array(4)":Mt,"Array1D(2)":yt,"Array1D(3)":yt,"Array1D(4)":yt,"Array2D(2)":xt,"Array2D(3)":xt,"Array2D(4)":xt,"Array3D(2)":kt,"Array3D(3)":kt,"Array3D(4)":kt,Input:st,NumberTexture:vt,"ArrayTexture(1)":vt,"ArrayTexture(2)":vt,"ArrayTexture(3)":vt,"ArrayTexture(4)":vt,MemoryOptimizedNumberTexture:ut,HTMLCanvas:rt,OffscreenCanvas:rt,HTMLImage:rt,ImageBitmap:rt,ImageData:rt,HTMLImageArray:j,HTMLVideo:$}}};function Xt(rn,jt,Vt,en){if(!rn)throw new Error("type missing");if(!jt)throw new Error("dynamic missing");if(!Vt)throw new Error("precision missing");en.type&&(rn=en.type);const ln=Ot[Vt][jt];if(ln[rn]===!1)return null;if(ln[rn]===void 0)throw new Error(`Could not find a KernelValue for ${rn}`);return ln[rn]}o.exports={kernelValueMaps:Ot,lookupKernelValueType:Xt}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(a,o,it){const{WebGLKernelValueArray2:tt}=a("../../web-gl/kernel-value/array2");class at extends tt{}o.exports={WebGL2KernelValueArray2:at}},{"../../web-gl/kernel-value/array2":41}],76:[function(a,o,it){const{WebGLKernelValueArray3:tt}=a("../../web-gl/kernel-value/array3");class at extends tt{}o.exports={WebGL2KernelValueArray3:at}},{"../../web-gl/kernel-value/array3":42}],77:[function(a,o,it){const{WebGLKernelValueArray4:tt}=a("../../web-gl/kernel-value/array4");class at extends tt{}o.exports={WebGL2KernelValueArray4:at}},{"../../web-gl/kernel-value/array4":43}],78:[function(a,o,it){const{WebGLKernelValueBoolean:tt}=a("../../web-gl/kernel-value/boolean");class at extends tt{}o.exports={WebGL2KernelValueBoolean:at}},{"../../web-gl/kernel-value/boolean":44}],79:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGL2KernelValueHTMLImageArray:at}=a("./html-image-array");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2DArray ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}updateValue(nt){const{width:j,height:_}=nt[0];this.checkSize(j,_),this.dimensions=[j,_,nt.length],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGL2KernelValueDynamicHTMLImageArray:ot}},{"../../../utils":114,"./html-image-array":92}],80:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueDynamicHTMLImage:at}=a("../../web-gl/kernel-value/dynamic-html-image");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicHTMLImage:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(a,o,it){a("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:tt}=a("./dynamic-html-image");class at extends tt{}o.exports={WebGL2KernelValueDynamicHTMLVideo:at}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:at}=a("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class ot extends at{getSource(){return tt.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueDynamicNumberTexture:at}=a("../../web-gl/kernel-value/dynamic-number-texture");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGL2KernelValueSingleArray:at}=a("../../web-gl2/kernel-value/single-array");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}updateValue(nt){this.dimensions=tt.getDimensions(nt,!0),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGL2KernelValueDynamicSingleArray:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGL2KernelValueSingleArray1DI:at}=a("../../web-gl2/kernel-value/single-array1d-i");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}updateValue(nt){this.setShape(nt),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGL2KernelValueDynamicSingleArray1DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGL2KernelValueSingleArray2DI:at}=a("../../web-gl2/kernel-value/single-array2d-i");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}updateValue(nt){this.setShape(nt),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGL2KernelValueDynamicSingleArray2DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGL2KernelValueSingleArray3DI:at}=a("../../web-gl2/kernel-value/single-array3d-i");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}updateValue(nt){this.setShape(nt),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGL2KernelValueDynamicSingleArray3DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGL2KernelValueSingleInput:at}=a("../../web-gl2/kernel-value/single-input");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}updateValue(nt){let[j,_,$]=nt.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=tt.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(nt)}}o.exports={WebGL2KernelValueDynamicSingleInput:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:at}=a("../../web-gl/kernel-value/dynamic-unsigned-array");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicUnsignedArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:at}=a("../../web-gl/kernel-value/dynamic-unsigned-input");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`uniform ${nt} ivec2 ${this.sizeId}`,`uniform ${nt} ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicUnsignedInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(a,o,it){a("../../../utils");const{WebGLKernelValueFloat:tt}=a("../../web-gl/kernel-value/float");class at extends tt{}o.exports={WebGL2KernelValueFloat:at}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelArray:at}=a("../../web-gl/kernel-value/array");class ot extends at{constructor(nt,j){super(nt,j),this.checkSize(nt[0].width,nt[0].height),this.dimensions=[nt[0].width,nt[0].height,nt.length],this.textureSize=[nt[0].width,nt[0].height]}defineTexture(){const{context:nt}=this;nt.activeTexture(this.contextHandle),nt.bindTexture(nt.TEXTURE_2D_ARRAY,this.texture),nt.texParameteri(nt.TEXTURE_2D_ARRAY,nt.TEXTURE_MAG_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D_ARRAY,nt.TEXTURE_MIN_FILTER,nt.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2DArray ${this.id}`,`${nt} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${nt} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D_ARRAY,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage3D(j.TEXTURE_2D_ARRAY,0,j.RGBA,nt[0].width,nt[0].height,nt.length,0,j.RGBA,j.UNSIGNED_BYTE,null);for(let _=0;_<nt.length;_++)j.texSubImage3D(j.TEXTURE_2D_ARRAY,0,0,0,_,nt[_].width,nt[_].height,1,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=nt[_]);this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueHTMLImageArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueHTMLImage:at}=a("../../web-gl/kernel-value/html-image");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`${nt} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${nt} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}o.exports={WebGL2KernelValueHTMLImage:ot}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(a,o,it){a("../../../utils");const{WebGL2KernelValueHTMLImage:tt}=a("./html-image");class at extends tt{}o.exports={WebGL2KernelValueHTMLVideo:at}},{"../../../utils":114,"./html-image":93}],95:[function(a,o,it){const{WebGLKernelValueInteger:tt}=a("../../web-gl/kernel-value/integer");class at extends tt{getSource(rt){const nt=this.getVariablePrecisionString();return this.origin==="constants"?`const ${nt} int ${this.id} = ${parseInt(rt)};
`:`uniform ${nt} int ${this.id};
`}updateValue(rt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=rt)}}o.exports={WebGL2KernelValueInteger:at}},{"../../web-gl/kernel-value/integer":60}],96:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:at}=a("../../web-gl/kernel-value/memory-optimized-number-texture");class ot extends at{getSource(){const{id:nt,sizeId:j,textureSize:_,dimensionsId:$,dimensions:et}=this,st=this.getVariablePrecisionString();return tt.linesToString([`uniform sampler2D ${nt}`,`${st} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${st} ivec3 ${$} = ivec3(${et[0]}, ${et[1]}, ${et[2]})`])}}o.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueNumberTexture:at}=a("../../web-gl/kernel-value/number-texture");class ot extends at{getSource(){const{id:nt,sizeId:j,textureSize:_,dimensionsId:$,dimensions:et}=this,st=this.getVariablePrecisionString();return tt.linesToString([`uniform ${st} sampler2D ${nt}`,`${st} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${st} ivec3 ${$} = ivec3(${et[0]}, ${et[1]}, ${et[2]})`])}}o.exports={WebGL2KernelValueNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleArray:at}=a("../../web-gl/kernel-value/single-array");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`${nt} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${nt} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flattenTo(nt,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleArray1DI:at}=a("../../web-gl/kernel-value/single-array1d-i");class ot extends at{updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flattenTo(nt,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleArray1DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleArray2DI:at}=a("../../web-gl/kernel-value/single-array2d-i");class ot extends at{updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flattenTo(nt,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleArray2DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleArray3DI:at}=a("../../web-gl/kernel-value/single-array3d-i");class ot extends at{updateValue(nt){if(nt.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(nt.constructor);return}const{context:j}=this;tt.flattenTo(nt,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleArray3DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueSingleInput:at}=a("../../web-gl/kernel-value/single-input");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`${nt} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${nt} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(nt){const{context:j}=this;tt.flattenTo(nt.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueUnsignedArray:at}=a("../../web-gl/kernel-value/unsigned-array");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`${nt} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${nt} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}o.exports={WebGL2KernelValueUnsignedArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(a,o,it){const{utils:tt}=a("../../../utils"),{WebGLKernelValueUnsignedInput:at}=a("../../web-gl/kernel-value/unsigned-input");class ot extends at{getSource(){const nt=this.getVariablePrecisionString();return tt.linesToString([`uniform ${nt} sampler2D ${this.id}`,`${nt} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${nt} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}o.exports={WebGL2KernelValueUnsignedInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(a,o,it){const{WebGLKernel:tt}=a("../web-gl/kernel"),{WebGL2FunctionNode:at}=a("./function-node"),{FunctionBuilder:ot}=a("../function-builder"),{utils:rt}=a("../../utils"),{fragmentShader:nt}=a("./fragment-shader"),{vertexShader:j}=a("./vertex-shader"),{lookupKernelValueType:_}=a("./kernel-value-maps");let $=null,et=null,st=null,lt=null;class ft extends tt{static get isSupported(){return $!==null||(this.setupFeatureChecks(),$=this.isContextMatch(st)),$}static setupFeatureChecks(){typeof document<"u"?et=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(et=new OffscreenCanvas(0,0)),et&&(st=et.getContext("webgl2"),!(!st||!st.getExtension)&&(st.getExtension("EXT_color_buffer_float"),st.getExtension("OES_texture_float_linear"),lt=this.getFeatures()))}static isContextMatch(ut){return typeof WebGL2RenderingContext<"u"?ut instanceof WebGL2RenderingContext:!1}static getFeatures(){const ut=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.LOW_INT),lowFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.LOW_FLOAT),mediumIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_INT),mediumFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_FLOAT),highIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_INT),highFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return st.getParameter(st.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return st.getParameter(st.MAX_TEXTURE_SIZE)}static lookupKernelValueType(ut,pt,vt,dt){return _(ut,pt,vt,dt)}static get testCanvas(){return et}static get testContext(){return st}static get features(){return lt}static get fragmentShader(){return nt}static get vertexShader(){return j}initContext(){const ut={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",ut)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(ut){if(!this.validate){this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:pt}=this.constructor;if(this.precision==="single"&&!pt.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=pt.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!pt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&pt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(ut.length!==1)throw new Error("Auto output only supported for kernels with only one input");const vt=rt.getVariableType(ut[0],this.strictIntegers);switch(vt){case"Array":this.output=rt.getDimensions(vt);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=ut[0].output;break;default:throw new Error("Auto output not supported for input type: "+vt)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=rt.clone(this.output);return}else!this.graphical&&this.precision===null&&pt.isTextureFloat&&(this.precision="single");this.texSize=rt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const ut=ot.fromKernel(this,at,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=ut.getPrototypeString("kernel"),this.setupReturnTypes(ut)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:ut}=this;switch(this.getInternalFormat()){case ut.R32F:return ut.RED;case ut.RG32F:return ut.RG;case ut.RGBA32F:return ut.RGBA;case ut.RGBA:return ut.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:ut}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?ut.RGBA32F:ut.R32F;case"Array(2)":return ut.RG32F;case"Array(3)":case"Array(4)":return ut.RGBA32F;default:throw new Error("Unhandled return type")}return ut.RGBA32F}return ut.RGBA}_setupOutputTexture(){const ut=this.context;if(this.texture){ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,this.texture.texture,0);return}ut.bindFramebuffer(ut.FRAMEBUFFER,this.framebuffer);const pt=ut.createTexture(),vt=this.texSize;ut.activeTexture(ut.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),ut.bindTexture(ut.TEXTURE_2D,pt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.REPEAT),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.REPEAT),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST);const dt=this.getInternalFormat();this.precision==="single"?ut.texStorage2D(ut.TEXTURE_2D,1,dt,vt[0],vt[1]):ut.texImage2D(ut.TEXTURE_2D,0,dt,vt[0],vt[1],0,dt,ut.UNSIGNED_BYTE,null),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,pt,0),this.texture=new this.TextureConstructor({texture:pt,size:vt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const ut=this.context;if(this.mappedTextures){for(let vt=0;vt<this.subKernels.length;vt++)ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+vt+1,ut.TEXTURE_2D,this.mappedTextures[vt].texture,0);return}const pt=this.texSize;this.drawBuffersMap=[ut.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let vt=0;vt<this.subKernels.length;vt++){const dt=this.createTexture();this.drawBuffersMap.push(ut.COLOR_ATTACHMENT0+vt+1),ut.activeTexture(ut.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+vt),ut.bindTexture(ut.TEXTURE_2D,dt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST);const mt=this.getInternalFormat();this.precision==="single"?ut.texStorage2D(ut.TEXTURE_2D,1,mt,pt[0],pt[1]):ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,pt[0],pt[1],0,ut.RGBA,ut.UNSIGNED_BYTE,null),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+vt+1,ut.TEXTURE_2D,dt,0),this.mappedTextures.push(new this.TextureConstructor({texture:dt,size:pt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const ut=this.subKernels,pt=this.getVariablePrecisionString(this.texSize,this.tactic);return ut===null||ut.length<1?`in ${pt} vec2 vTexCoord;
`:`out ${pt} vec2 vTexCoord;
`}_getMainArgumentsString(ut){const pt=[],vt=this.argumentNames;for(let dt=0;dt<vt.length;dt++)pt.push(this.kernelArguments[dt].getSource(ut[dt]));return pt.join("")}getKernelString(){const ut=[this.getKernelResultDeclaration()],pt=this.subKernels;if(pt!==null)switch(ut.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let vt=0;vt<pt.length;vt++){const dt=pt[vt];ut.push(dt.returnType==="Integer"?`int subKernelResult_${dt.name} = 0`:`float subKernelResult_${dt.name} = 0.0`,`layout(location = ${vt+1}) out vec4 data${vt+1}`)}break;case"Array(2)":for(let vt=0;vt<pt.length;vt++)ut.push(`vec2 subKernelResult_${pt[vt].name}`,`layout(location = ${vt+1}) out vec4 data${vt+1}`);break;case"Array(3)":for(let vt=0;vt<pt.length;vt++)ut.push(`vec3 subKernelResult_${pt[vt].name}`,`layout(location = ${vt+1}) out vec4 data${vt+1}`);break;case"Array(4)":for(let vt=0;vt<pt.length;vt++)ut.push(`vec4 subKernelResult_${pt[vt].name}`,`layout(location = ${vt+1}) out vec4 data${vt+1}`);break}else ut.push("out vec4 data0");return rt.linesToString(ut)+this.translatedSource}getMainResultGraphical(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return rt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const ut=[];if(!this.subKernels)return"";for(let pt=0;pt<this.subKernels.length;pt++)this.subKernels[pt].returnType==="Integer"?ut.push(`  data${pt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[pt].name}))`):ut.push(`  data${pt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[pt].name})`);return rt.linesToString(ut)}getMainResultKernelMemoryOptimizedFloats(ut,pt){ut.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${pt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(ut,pt){if(!this.subKernels)return ut;for(let vt=0;vt<this.subKernels.length;vt++){const dt=this.subKernels[vt];dt.returnType==="Integer"?ut.push(`  data${vt+1}.${pt} = float(subKernelResult_${dt.name})`):ut.push(`  data${vt+1}.${pt} = subKernelResult_${dt.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const ut=[];if(!this.subKernels)return ut;for(let pt=0;pt<this.subKernels.length;++pt){const vt=this.subKernels[pt];vt.returnType==="Integer"?ut.push(`  data${pt+1}[0] = float(subKernelResult_${vt.name})`):ut.push(`  data${pt+1}[0] = subKernelResult_${vt.name}`)}return ut}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const ut=[];if(!this.subKernels)return ut;for(let pt=0;pt<this.subKernels.length;++pt){const vt=this.subKernels[pt];ut.push(`  data${pt+1}[0] = subKernelResult_${vt.name}[0]`,`  data${pt+1}[1] = subKernelResult_${vt.name}[1]`)}return ut}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const ut=[];if(!this.subKernels)return ut;for(let pt=0;pt<this.subKernels.length;++pt){const vt=this.subKernels[pt];ut.push(`  data${pt+1}[0] = subKernelResult_${vt.name}[0]`,`  data${pt+1}[1] = subKernelResult_${vt.name}[1]`,`  data${pt+1}[2] = subKernelResult_${vt.name}[2]`)}return ut}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const ut=[];if(!this.subKernels)return ut;for(let pt=0;pt<this.subKernels.length;++pt)ut.push(`  data${pt+1} = subKernelResult_${this.subKernels[pt].name}`);return ut}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const ut=super.toJSON();return ut.functionNodes=ot.fromKernel(this,at).toJSON(),ut.settings.threadDim=this.threadDim,ut}}o.exports={WebGL2Kernel:ft}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(a,o,it){const tt=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;o.exports={vertexShader:tt}},{}],107:[function(a,o,it){const tt=a("./index"),at=tt.GPU;for(const rt in tt)!tt.hasOwnProperty(rt)||rt!=="GPU"&&(at[rt]=tt[rt]);typeof window<"u"&&ot(window),typeof self<"u"&&ot(self);function ot(rt){rt.GPU||Object.defineProperty(rt,"GPU",{get(){return at}})}o.exports=tt},{"./index":109}],108:[function(a,o,it){const{gpuMock:tt}=a("gpu-mock.js"),{utils:at}=a("./utils");a("./backend/kernel");const{CPUKernel:ot}=a("./backend/cpu/kernel"),{HeadlessGLKernel:rt}=a("./backend/headless-gl/kernel"),{WebGL2Kernel:nt}=a("./backend/web-gl2/kernel"),{WebGLKernel:j}=a("./backend/web-gl/kernel"),{kernelRunShortcut:_}=a("./kernel-run-shortcut"),$=[rt,nt,j],et=["gpu","cpu"],st={headlessgl:rt,webgl2:nt,webgl:j};let lt=!0;class ft{static disableValidation(){lt=!1}static enableValidation(){lt=!0}static get isGPUSupported(){return $.some(pt=>pt.isSupported)}static get isKernelMapSupported(){return $.some(pt=>pt.isSupported&&pt.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return j.isSupported}static get isWebGL2Supported(){return nt.isSupported}static get isHeadlessGLSupported(){return rt.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return nt.isSupported}static get isSinglePrecisionSupported(){return $.some(pt=>pt.isSupported&&pt.features.isFloatRead&&pt.features.isTextureFloat)}constructor(pt){if(pt=pt||{},this.canvas=pt.canvas||null,this.context=pt.context||null,this.mode=pt.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),pt.functions)for(let vt=0;vt<pt.functions.length;vt++)this.addFunction(pt.functions[vt]);if(pt.nativeFunctions)for(const vt in pt.nativeFunctions){if(!pt.nativeFunctions.hasOwnProperty(vt))continue;const dt=pt.nativeFunctions[vt],{name:mt,source:Tt}=dt;this.addNativeFunction(mt,Tt,dt)}}}chooseKernel(){if(this.Kernel)return;let pt=null;if(this.context){for(let vt=0;vt<$.length;vt++){const dt=$[vt];if(dt.isContextMatch(this.context)){if(!dt.isSupported)throw new Error(`Kernel type ${dt.name} not supported`);pt=dt;break}}if(pt===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in st)(!lt||st[this.mode].isSupported)&&(pt=st[this.mode]);else if(this.mode==="gpu"){for(let vt=0;vt<$.length;vt++)if($[vt].isSupported){pt=$[vt];break}}else this.mode==="cpu"&&(pt=ot);if(!pt)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let vt=0;vt<$.length;vt++)if($[vt].isSupported){pt=$[vt];break}pt||(pt=ot)}this.mode||(this.mode=pt.mode),this.Kernel=pt}createKernel(pt,vt){if(typeof pt>"u")throw new Error("Missing source parameter");if(typeof pt!="object"&&!at.isFunction(pt)&&typeof pt!="string")throw new Error("source parameter not a function");const dt=this.kernels;if(this.mode==="dev"){const Ct=tt(pt,gt(vt));return dt.push(Ct),Ct}pt=typeof pt=="function"?pt.toString():pt;const mt={},Tt=gt(vt)||{};vt&&typeof vt.argumentTypes=="object"&&(Tt.argumentTypes=Object.keys(vt.argumentTypes).map(Ct=>vt.argumentTypes[Ct]));function yt(Ct){console.warn("Falling back to CPU");const Rt=new ot(pt,{argumentTypes:kt.argumentTypes,constantTypes:kt.constantTypes,graphical:kt.graphical,loopMaxIterations:kt.loopMaxIterations,constants:kt.constants,dynamicOutput:kt.dynamicOutput,dynamicArgument:kt.dynamicArguments,output:kt.output,precision:kt.precision,pipeline:kt.pipeline,immutable:kt.immutable,optimizeFloatMemory:kt.optimizeFloatMemory,fixIntegerDivisionAccuracy:kt.fixIntegerDivisionAccuracy,functions:kt.functions,nativeFunctions:kt.nativeFunctions,injectedNative:kt.injectedNative,subKernels:kt.subKernels,strictIntegers:kt.strictIntegers,debug:kt.debug});Rt.build.apply(Rt,Ct);const Lt=Rt.run.apply(Rt,Ct);return kt.replaceKernel(Rt),Lt}function ht(Ct,Rt,Lt){Lt.debug&&console.warn("Switching kernels");let Mt=null;if(Lt.signature&&!mt[Lt.signature]&&(mt[Lt.signature]=Lt),Lt.dynamicOutput)for(let jt=Ct.length-1;jt>=0;jt--){const Vt=Ct[jt];Vt.type==="outputPrecisionMismatch"&&(Mt=Vt.needed)}const Wt=Lt.constructor,Pt=Wt.getArgumentTypes(Lt,Rt),Ot=Wt.getSignature(Lt,Pt),Xt=mt[Ot];if(Xt)return Xt.onActivate(Lt),Xt;const rn=mt[Ot]=new Wt(pt,{argumentTypes:Pt,constantTypes:Lt.constantTypes,graphical:Lt.graphical,loopMaxIterations:Lt.loopMaxIterations,constants:Lt.constants,dynamicOutput:Lt.dynamicOutput,dynamicArgument:Lt.dynamicArguments,context:Lt.context,canvas:Lt.canvas,output:Mt||Lt.output,precision:Lt.precision,pipeline:Lt.pipeline,immutable:Lt.immutable,optimizeFloatMemory:Lt.optimizeFloatMemory,fixIntegerDivisionAccuracy:Lt.fixIntegerDivisionAccuracy,functions:Lt.functions,nativeFunctions:Lt.nativeFunctions,injectedNative:Lt.injectedNative,subKernels:Lt.subKernels,strictIntegers:Lt.strictIntegers,debug:Lt.debug,gpu:Lt.gpu,validate:lt,returnType:Lt.returnType,tactic:Lt.tactic,onRequestFallback:yt,onRequestSwitchKernel:ht,texture:Lt.texture,mappedTextures:Lt.mappedTextures,drawBuffersMap:Lt.drawBuffersMap});return rn.build.apply(rn,Rt),kt.replaceKernel(rn),dt.push(rn),rn}const xt=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:lt,onRequestFallback:yt,onRequestSwitchKernel:ht},Tt),wt=new this.Kernel(pt,xt),kt=_(wt);return this.canvas||(this.canvas=wt.canvas),this.context||(this.context=wt.context),dt.push(wt),kt}createKernelMap(){let pt,vt;const dt=typeof arguments[arguments.length-2];if(dt==="function"||dt==="string"?(pt=arguments[arguments.length-2],vt=arguments[arguments.length-1]):pt=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&et.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const mt=gt(vt);if(vt&&typeof vt.argumentTypes=="object"&&(mt.argumentTypes=Object.keys(vt.argumentTypes).map(Tt=>vt.argumentTypes[Tt])),Array.isArray(arguments[0])){mt.subKernels=[];const Tt=arguments[0];for(let yt=0;yt<Tt.length;yt++){const ht=Tt[yt].toString(),xt=at.getFunctionNameFromString(ht);mt.subKernels.push({name:xt,source:ht,property:yt})}}else{mt.subKernels=[];const Tt=arguments[0];for(let yt in Tt){if(!Tt.hasOwnProperty(yt))continue;const ht=Tt[yt].toString(),xt=at.getFunctionNameFromString(ht);mt.subKernels.push({name:xt||yt,source:ht,property:yt})}}return this.createKernel(pt,mt)}combineKernels(){const pt=arguments[0],vt=arguments[arguments.length-1];if(pt.kernel.constructor.mode==="cpu")return vt;const dt=arguments[0].canvas,mt=arguments[0].context,Tt=arguments.length-1;for(let yt=0;yt<Tt;yt++)arguments[yt].setCanvas(dt).setContext(mt).setPipeline(!0);return function(){const yt=vt.apply(this,arguments);return yt.toArray?yt.toArray():yt}}setFunctions(pt){return this.functions=pt,this}setNativeFunctions(pt){return this.nativeFunctions=pt,this}addFunction(pt,vt){return this.functions.push({source:pt,settings:vt}),this}addNativeFunction(pt,vt,dt){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:pt,source:vt},dt)),this}injectNative(pt){return this.injectedNative=pt,this}destroy(){return new Promise((pt,vt)=>{this.kernels||pt(),setTimeout(()=>{try{for(let mt=0;mt<this.kernels.length;mt++)this.kernels[mt].destroy(!0);let dt=this.kernels[0];dt&&(dt.kernel&&(dt=dt.kernel),dt.constructor.destroyContext&&dt.constructor.destroyContext(this.context))}catch(dt){vt(dt)}pt()},0)})}}function gt(ut){if(!ut)return{};const pt=Object.assign({},ut);return ut.hasOwnProperty("floatOutput")&&(at.warnDeprecated("setting","floatOutput","precision"),pt.precision=ut.floatOutput?"single":"unsigned"),ut.hasOwnProperty("outputToTexture")&&(at.warnDeprecated("setting","outputToTexture","pipeline"),pt.pipeline=Boolean(ut.outputToTexture)),ut.hasOwnProperty("outputImmutable")&&(at.warnDeprecated("setting","outputImmutable","immutable"),pt.immutable=Boolean(ut.outputImmutable)),ut.hasOwnProperty("floatTextures")&&(at.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),pt.optimizeFloatMemory=Boolean(ut.floatTextures)),pt}o.exports={GPU:ft,kernelOrder:$,kernelTypes:et}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(a,o,it){const{GPU:tt}=a("./gpu"),{alias:at}=a("./alias"),{utils:ot}=a("./utils"),{Input:rt,input:nt}=a("./input"),{Texture:j}=a("./texture"),{FunctionBuilder:_}=a("./backend/function-builder"),{FunctionNode:$}=a("./backend/function-node"),{CPUFunctionNode:et}=a("./backend/cpu/function-node"),{CPUKernel:st}=a("./backend/cpu/kernel"),{HeadlessGLKernel:lt}=a("./backend/headless-gl/kernel"),{WebGLFunctionNode:ft}=a("./backend/web-gl/function-node"),{WebGLKernel:gt}=a("./backend/web-gl/kernel"),{kernelValueMaps:ut}=a("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:pt}=a("./backend/web-gl2/function-node"),{WebGL2Kernel:vt}=a("./backend/web-gl2/kernel"),{kernelValueMaps:dt}=a("./backend/web-gl2/kernel-value-maps"),{GLKernel:mt}=a("./backend/gl/kernel"),{Kernel:Tt}=a("./backend/kernel"),{FunctionTracer:yt}=a("./backend/function-tracer"),ht=a("./plugins/math-random-uniformly-distributed");o.exports={alias:at,CPUFunctionNode:et,CPUKernel:st,GPU:tt,FunctionBuilder:_,FunctionNode:$,HeadlessGLKernel:lt,Input:rt,input:nt,Texture:j,utils:ot,WebGL2FunctionNode:pt,WebGL2Kernel:vt,webGL2KernelValueMaps:dt,WebGLFunctionNode:ft,WebGLKernel:gt,webGLKernelValueMaps:ut,GLKernel:mt,Kernel:Tt,FunctionTracer:yt,plugins:{mathRandom:ht}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(a,o,it){class tt{constructor(rt,nt){this.value=rt,Array.isArray(nt)?this.size=nt:(this.size=new Int32Array(3),nt.z?this.size=new Int32Array([nt.x,nt.y,nt.z]):nt.y?this.size=new Int32Array([nt.x,nt.y]):this.size=new Int32Array([nt.x]));const[j,_,$]=this.size;if($){if(this.value.length!==j*_*$)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} * ${$} = ${_*j*$}`)}else if(_){if(this.value.length!==j*_)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} = ${_*j}`)}else if(this.value.length!==j)throw new Error(`Input size ${this.value.length} does not match ${j}`)}toArray(){const{utils:rt}=a("./utils"),[nt,j,_]=this.size;return _?rt.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),nt,j,_):j?rt.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),nt,j):this.value}}function at(ot,rt){return new tt(ot,rt)}o.exports={Input:tt,input:at}},{"./utils":114}],111:[function(a,o,it){const{utils:tt}=a("./utils");function at(rt){let nt=function(){return rt.build.apply(rt,arguments),nt=function(){let _=rt.run.apply(rt,arguments);if(rt.switchingKernels){const $=rt.resetSwitchingKernels(),et=rt.onRequestSwitchKernel($,arguments,rt);j.kernel=rt=et,_=et.run.apply(et,arguments)}return rt.renderKernels?rt.renderKernels():rt.renderOutput?rt.renderOutput():_},nt.apply(rt,arguments)};const j=function(){return nt.apply(rt,arguments)};return j.exec=function(){return new Promise((_,$)=>{try{_(nt.apply(this,arguments))}catch(et){$(et)}})},j.replaceKernel=function(_){rt=_,ot(rt,j)},ot(rt,j),j}function ot(rt,nt){if(nt.kernel){nt.kernel=rt;return}const j=tt.allPropertiesOf(rt);for(let _=0;_<j.length;_++){const $=j[_];$[0]==="_"&&$[1]==="_"||(typeof rt[$]=="function"?$.substring(0,3)==="add"||$.substring(0,3)==="set"?nt[$]=function(){return nt.kernel[$].apply(nt.kernel,arguments),nt}:nt[$]=function(){return nt.kernel[$].apply(nt.kernel,arguments)}:(nt.__defineGetter__($,()=>nt.kernel[$]),nt.__defineSetter__($,et=>{nt.kernel[$]=et})))}nt.kernel=rt}o.exports={kernelRunShortcut:at}},{"./utils":114}],112:[function(a,o,it){const _={name:"math-random-uniformly-distributed",onBeforeRun:$=>{$.setUniform1f("randomSeed1",Math.random()),$.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};o.exports=_},{}],113:[function(a,o,it){class tt{constructor(ot){const{texture:rt,size:nt,dimensions:j,output:_,context:$,type:et="NumberTexture",kernel:st,internalFormat:lt,textureFormat:ft}=ot;if(!_)throw new Error('settings property "output" required.');if(!$)throw new Error('settings property "context" required.');if(!rt)throw new Error('settings property "texture" required.');if(!st)throw new Error('settings property "kernel" required.');this.texture=rt,rt._refs?rt._refs++:rt._refs=1,this.size=nt,this.dimensions=j,this.output=_,this.context=$,this.kernel=st,this.type=et,this._deleted=!1,this.internalFormat=lt,this.textureFormat=ft}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}o.exports={Texture:tt}},{}],114:[function(a,o,it){const tt=a("acorn"),{Input:at}=a("./input"),{Texture:ot}=a("./texture"),rt=/function ([^(]*)/,nt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,j=/([^\s,]+)/g,_={systemEndianness(){return lt},getSystemEndianness(){const ft=new ArrayBuffer(4),gt=new Uint32Array(ft),ut=new Uint8Array(ft);if(gt[0]=3735928559,ut[0]===239)return"LE";if(ut[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(ft){return typeof ft=="function"},isFunctionString(ft){return typeof ft=="string"?ft.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(ft){const gt=rt.exec(ft);return!gt||gt.length===0?null:gt[1].trim()},getFunctionBodyFromString(ft){return ft.substring(ft.indexOf("{")+1,ft.lastIndexOf("}"))},getArgumentNamesFromString(ft){const gt=ft.replace(nt,"");let ut=gt.slice(gt.indexOf("(")+1,gt.indexOf(")")).match(j);return ut===null&&(ut=[]),ut},clone(ft){if(ft===null||typeof ft!="object"||ft.hasOwnProperty("isActiveClone"))return ft;const gt=ft.constructor();for(let ut in ft)Object.prototype.hasOwnProperty.call(ft,ut)&&(ft.isActiveClone=null,gt[ut]=_.clone(ft[ut]),delete ft.isActiveClone);return gt},isArray(ft){return!isNaN(ft.length)},getVariableType(ft,gt){if(_.isArray(ft))return ft.length>0&&ft[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(ft.constructor){case Boolean:return"Boolean";case Number:return gt&&Number.isInteger(ft)?"Integer":"Float";case ot:return ft.type;case at:return"Input"}if("nodeName"in ft)switch(ft.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(ft.hasOwnProperty("type"))return ft.type;if(typeof OffscreenCanvas<"u"&&ft instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&ft instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&ft instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(ft,gt){let[ut,pt,vt]=gt,dt=(ut||1)*(pt||1)*(vt||1);return ft.optimizeFloatMemory&&ft.precision==="single"&&(ut=dt=Math.ceil(dt/4)),pt>1&&ut*pt===dt?new Int32Array([ut,pt]):_.closestSquareDimensions(dt)},closestSquareDimensions(ft){const gt=Math.sqrt(ft);let ut=Math.ceil(gt),pt=Math.floor(gt);for(;ut*pt<ft;)ut--,pt=Math.ceil(ft/ut);return new Int32Array([pt,Math.ceil(ft/pt)])},getMemoryOptimizedFloatTextureSize(ft,gt){const pt=_.roundTo((ft[0]||1)*(ft[1]||1)*(ft[2]||1)*(ft[3]||1),4)/gt;return _.closestSquareDimensions(pt)},getMemoryOptimizedPackedTextureSize(ft,gt){const[ut,pt,vt]=ft,mt=_.roundTo((ut||1)*(pt||1)*(vt||1),4)/(4/gt);return _.closestSquareDimensions(mt)},roundTo(ft,gt){return Math.floor((ft+gt-1)/gt)*gt},getDimensions(ft,gt){let ut;if(_.isArray(ft)){const pt=[];let vt=ft;for(;_.isArray(vt);)pt.push(vt.length),vt=vt[0];ut=pt.reverse()}else if(ft instanceof ot)ut=ft.output;else if(ft instanceof at)ut=ft.size;else throw new Error(`Unknown dimensions of ${ft}`);if(gt)for(ut=Array.from(ut);ut.length<3;)ut.push(1);return new Int32Array(ut)},flatten2dArrayTo(ft,gt){let ut=0;for(let pt=0;pt<ft.length;pt++)gt.set(ft[pt],ut),ut+=ft[pt].length},flatten3dArrayTo(ft,gt){let ut=0;for(let pt=0;pt<ft.length;pt++)for(let vt=0;vt<ft[pt].length;vt++)gt.set(ft[pt][vt],ut),ut+=ft[pt][vt].length},flatten4dArrayTo(ft,gt){let ut=0;for(let pt=0;pt<ft.length;pt++)for(let vt=0;vt<ft[pt].length;vt++)for(let dt=0;dt<ft[pt][vt].length;dt++)gt.set(ft[pt][vt][dt],ut),ut+=ft[pt][vt][dt].length},flattenTo(ft,gt){_.isArray(ft[0])?_.isArray(ft[0][0])?_.isArray(ft[0][0][0])?_.flatten4dArrayTo(ft,gt):_.flatten3dArrayTo(ft,gt):_.flatten2dArrayTo(ft,gt):gt.set(ft)},splitArray(ft,gt){const ut=[];for(let pt=0;pt<ft.length;pt+=gt)ut.push(new ft.constructor(ft.buffer,pt*4+ft.byteOffset,gt));return ut},getAstString(ft,gt){const ut=Array.isArray(ft)?ft:ft.split(/\r?\n/g),pt=gt.loc.start,vt=gt.loc.end,dt=[];if(pt.line===vt.line)dt.push(ut[pt.line-1].substring(pt.column,vt.column));else{dt.push(ut[pt.line-1].slice(pt.column));for(let mt=pt.line;mt<vt.line;mt++)dt.push(ut[mt]);dt.push(ut[vt.line-1].slice(0,vt.column))}return dt.join(`
`)},allPropertiesOf(ft){const gt=[];do gt.push.apply(gt,Object.getOwnPropertyNames(ft));while(ft=Object.getPrototypeOf(ft));return gt},linesToString(ft){return ft.length>0?ft.join(`;
`)+`;
`:`
`},warnDeprecated(ft,gt,ut){console.warn(ut?`You are using a deprecated ${ft} "${gt}". It has been replaced with "${ut}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${ft} "${gt}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(ft,gt,ut)=>{const pt=ut/2|0,vt=gt*4,dt=new Uint8ClampedArray(gt*4),mt=ft.slice(0);for(let Tt=0;Tt<pt;++Tt){const yt=Tt*vt,ht=(ut-Tt-1)*vt;dt.set(mt.subarray(yt,yt+vt)),mt.copyWithin(yt,ht,ht+vt),mt.set(dt,ht)}return mt},erectPackedFloat:(ft,gt)=>ft.subarray(0,gt),erect2DPackedFloat:(ft,gt,ut)=>{const pt=new Array(ut);for(let vt=0;vt<ut;vt++){const dt=vt*gt,mt=dt+gt;pt[vt]=ft.subarray(dt,mt)}return pt},erect3DPackedFloat:(ft,gt,ut,pt)=>{const vt=new Array(pt);for(let dt=0;dt<pt;dt++){const mt=new Array(ut);for(let Tt=0;Tt<ut;Tt++){const yt=dt*ut*gt+Tt*gt,ht=yt+gt;mt[Tt]=ft.subarray(yt,ht)}vt[dt]=mt}return vt},erectMemoryOptimizedFloat:(ft,gt)=>ft.subarray(0,gt),erectMemoryOptimized2DFloat:(ft,gt,ut)=>{const pt=new Array(ut);for(let vt=0;vt<ut;vt++){const dt=vt*gt;pt[vt]=ft.subarray(dt,dt+gt)}return pt},erectMemoryOptimized3DFloat:(ft,gt,ut,pt)=>{const vt=new Array(pt);for(let dt=0;dt<pt;dt++){const mt=new Array(ut);for(let Tt=0;Tt<ut;Tt++){const yt=dt*ut*gt+Tt*gt;mt[Tt]=ft.subarray(yt,yt+gt)}vt[dt]=mt}return vt},erectFloat:(ft,gt)=>{const ut=new Float32Array(gt);let pt=0;for(let vt=0;vt<gt;vt++)ut[vt]=ft[pt],pt+=4;return ut},erect2DFloat:(ft,gt,ut)=>{const pt=new Array(ut);let vt=0;for(let dt=0;dt<ut;dt++){const mt=new Float32Array(gt);for(let Tt=0;Tt<gt;Tt++)mt[Tt]=ft[vt],vt+=4;pt[dt]=mt}return pt},erect3DFloat:(ft,gt,ut,pt)=>{const vt=new Array(pt);let dt=0;for(let mt=0;mt<pt;mt++){const Tt=new Array(ut);for(let yt=0;yt<ut;yt++){const ht=new Float32Array(gt);for(let xt=0;xt<gt;xt++)ht[xt]=ft[dt],dt+=4;Tt[yt]=ht}vt[mt]=Tt}return vt},erectArray2:(ft,gt)=>{const ut=new Array(gt),pt=gt*4;let vt=0;for(let dt=0;dt<pt;dt+=4)ut[vt++]=ft.subarray(dt,dt+2);return ut},erect2DArray2:(ft,gt,ut)=>{const pt=new Array(ut),vt=gt*4;for(let dt=0;dt<ut;dt++){const mt=new Array(gt),Tt=dt*vt;let yt=0;for(let ht=0;ht<vt;ht+=4)mt[yt++]=ft.subarray(ht+Tt,ht+Tt+2);pt[dt]=mt}return pt},erect3DArray2:(ft,gt,ut,pt)=>{const vt=gt*4,dt=new Array(pt);for(let mt=0;mt<pt;mt++){const Tt=new Array(ut);for(let yt=0;yt<ut;yt++){const ht=new Array(gt),xt=mt*vt*ut+yt*vt;let wt=0;for(let kt=0;kt<vt;kt+=4)ht[wt++]=ft.subarray(kt+xt,kt+xt+2);Tt[yt]=ht}dt[mt]=Tt}return dt},erectArray3:(ft,gt)=>{const ut=new Array(gt),pt=gt*4;let vt=0;for(let dt=0;dt<pt;dt+=4)ut[vt++]=ft.subarray(dt,dt+3);return ut},erect2DArray3:(ft,gt,ut)=>{const pt=gt*4,vt=new Array(ut);for(let dt=0;dt<ut;dt++){const mt=new Array(gt),Tt=dt*pt;let yt=0;for(let ht=0;ht<pt;ht+=4)mt[yt++]=ft.subarray(ht+Tt,ht+Tt+3);vt[dt]=mt}return vt},erect3DArray3:(ft,gt,ut,pt)=>{const vt=gt*4,dt=new Array(pt);for(let mt=0;mt<pt;mt++){const Tt=new Array(ut);for(let yt=0;yt<ut;yt++){const ht=new Array(gt),xt=mt*vt*ut+yt*vt;let wt=0;for(let kt=0;kt<vt;kt+=4)ht[wt++]=ft.subarray(kt+xt,kt+xt+3);Tt[yt]=ht}dt[mt]=Tt}return dt},erectArray4:(ft,gt)=>{const ut=new Array(ft),pt=gt*4;let vt=0;for(let dt=0;dt<pt;dt+=4)ut[vt++]=ft.subarray(dt,dt+4);return ut},erect2DArray4:(ft,gt,ut)=>{const pt=gt*4,vt=new Array(ut);for(let dt=0;dt<ut;dt++){const mt=new Array(gt),Tt=dt*pt;let yt=0;for(let ht=0;ht<pt;ht+=4)mt[yt++]=ft.subarray(ht+Tt,ht+Tt+4);vt[dt]=mt}return vt},erect3DArray4:(ft,gt,ut,pt)=>{const vt=gt*4,dt=new Array(pt);for(let mt=0;mt<pt;mt++){const Tt=new Array(ut);for(let yt=0;yt<ut;yt++){const ht=new Array(gt),xt=mt*vt*ut+yt*vt;let wt=0;for(let kt=0;kt<vt;kt+=4)ht[wt++]=ft.subarray(kt+xt,kt+xt+4);Tt[yt]=ht}dt[mt]=Tt}return dt},flattenFunctionToString:(ft,gt)=>{const{findDependency:ut,thisLookup:pt,doNotDefine:vt}=gt;let dt=gt.flattened;dt||(dt=gt.flattened={});const mt=tt.parse(ft),Tt=[];let yt=0;function ht(wt){if(Array.isArray(wt)){const kt=[];for(let Ct=0;Ct<wt.length;Ct++)kt.push(ht(wt[Ct]));return kt.join("")}switch(wt.type){case"Program":return ht(wt.body)+(wt.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${wt.id.name}(${wt.params.map(ht).join(", ")}) ${ht(wt.body)}`;case"BlockStatement":{const Ct=[];yt+=2;for(let Rt=0;Rt<wt.body.length;Rt++){const Lt=ht(wt.body[Rt]);Lt&&Ct.push(" ".repeat(yt)+Lt,`;
`)}return yt-=2,`{
${Ct.join("")}}`}case"VariableDeclaration":const kt=_.normalizeDeclarations(wt).map(ht).filter(Ct=>Ct!==null);return kt.length<1?"":`${wt.kind} ${kt.join(",")}`;case"VariableDeclarator":return wt.init.object&&wt.init.object.type==="ThisExpression"?pt(wt.init.property.name,!0)?`${wt.id.name} = ${ht(wt.init)}`:null:`${wt.id.name} = ${ht(wt.init)}`;case"CallExpression":{if(wt.callee.property.name==="subarray")return`${ht(wt.callee.object)}.${ht(wt.callee.property)}(${wt.arguments.map(Ct=>ht(Ct)).join(", ")})`;if(wt.callee.object.name==="gl"||wt.callee.object.name==="context")return`${ht(wt.callee.object)}.${ht(wt.callee.property)}(${wt.arguments.map(Ct=>ht(Ct)).join(", ")})`;if(wt.callee.object.type==="ThisExpression")return Tt.push(ut("this",wt.callee.property.name)),`${wt.callee.property.name}(${wt.arguments.map(Ct=>ht(Ct)).join(", ")})`;if(wt.callee.object.name){const Ct=ut(wt.callee.object.name,wt.callee.property.name);return Ct===null?`${wt.callee.object.name}.${wt.callee.property.name}(${wt.arguments.map(Rt=>ht(Rt)).join(", ")})`:(Tt.push(Ct),`${wt.callee.property.name}(${wt.arguments.map(Rt=>ht(Rt)).join(", ")})`)}else{if(wt.callee.object.type==="MemberExpression")return`${ht(wt.callee.object)}.${wt.callee.property.name}(${wt.arguments.map(Ct=>ht(Ct)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${ht(wt.argument)}`;case"BinaryExpression":return`(${ht(wt.left)}${wt.operator}${ht(wt.right)})`;case"UnaryExpression":return wt.prefix?`${wt.operator} ${ht(wt.argument)}`:`${ht(wt.argument)} ${wt.operator}`;case"ExpressionStatement":return`${ht(wt.expression)}`;case"SequenceExpression":return`(${ht(wt.expressions)})`;case"ArrowFunctionExpression":return`(${wt.params.map(ht).join(", ")}) => ${ht(wt.body)}`;case"Literal":return wt.raw;case"Identifier":return wt.name;case"MemberExpression":return wt.object.type==="ThisExpression"?pt(wt.property.name):wt.computed?`${ht(wt.object)}[${ht(wt.property)}]`:ht(wt.object)+"."+ht(wt.property);case"ThisExpression":return"this";case"NewExpression":return`new ${ht(wt.callee)}(${wt.arguments.map(Ct=>ht(Ct)).join(", ")})`;case"ForStatement":return`for (${ht(wt.init)};${ht(wt.test)};${ht(wt.update)}) ${ht(wt.body)}`;case"AssignmentExpression":return`${ht(wt.left)}${wt.operator}${ht(wt.right)}`;case"UpdateExpression":return`${ht(wt.argument)}${wt.operator}`;case"IfStatement":return`if (${ht(wt.test)}) ${ht(wt.consequent)}`;case"ThrowStatement":return`throw ${ht(wt.argument)}`;case"ObjectPattern":return wt.properties.map(ht).join(", ");case"ArrayPattern":return wt.elements.map(ht).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${ht(wt.test)}?${ht(wt.consequent)}:${ht(wt.alternate)}`;case"Property":if(wt.kind==="init")return ht(wt.key)}throw new Error(`unhandled ast.type of ${wt.type}`)}const xt=ht(mt);if(Tt.length>0){const wt=[];for(let kt=0;kt<Tt.length;kt++){const Ct=Tt[kt];dt[Ct]||(dt[Ct]=!0),Ct&&wt.push(_.flattenFunctionToString(Ct,gt)+`
`)}return wt.join("")+xt}return xt},normalizeDeclarations:ft=>{if(ft.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const gt=[];for(let ut=0;ut<ft.declarations.length;ut++){const pt=ft.declarations[ut];if(pt.id&&pt.id.type==="ObjectPattern"&&pt.id.properties){const{properties:vt}=pt.id;for(let dt=0;dt<vt.length;dt++){const mt=vt[dt];if(mt.value.type==="ObjectPattern"&&mt.value.properties)for(let Tt=0;Tt<mt.value.properties.length;Tt++){const yt=mt.value.properties[Tt];if(yt.type==="Property")gt.push({type:"VariableDeclarator",id:{type:"Identifier",name:yt.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:pt.init,property:{type:"Identifier",name:mt.key.name},computed:!1},property:{type:"Identifier",name:yt.key.name},computed:!1}});else throw new Error("unexpected state")}else if(mt.value.type==="Identifier")gt.push({type:"VariableDeclarator",id:{type:"Identifier",name:mt.value&&mt.value.name?mt.value.name:mt.key.name},init:{type:"MemberExpression",object:pt.init,property:{type:"Identifier",name:mt.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(pt.id&&pt.id.type==="ArrayPattern"&&pt.id.elements){const{elements:vt}=pt.id;for(let dt=0;dt<vt.length;dt++){const mt=vt[dt];if(mt.type==="Identifier")gt.push({type:"VariableDeclarator",id:{type:"Identifier",name:mt.name},init:{type:"MemberExpression",object:pt.init,property:{type:"Literal",value:dt,raw:dt.toString(),start:mt.start,end:mt.end},computed:!0}});else throw new Error("unexpected state")}}else gt.push(pt)}return gt},splitHTMLImageToRGB:(ft,gt)=>{const ut=ft.createKernel(function(Tt){return Tt[this.thread.y][this.thread.x].r*255},{output:[gt.width,gt.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),pt=ft.createKernel(function(Tt){return Tt[this.thread.y][this.thread.x].g*255},{output:[gt.width,gt.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),vt=ft.createKernel(function(Tt){return Tt[this.thread.y][this.thread.x].b*255},{output:[gt.width,gt.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),dt=ft.createKernel(function(Tt){return Tt[this.thread.y][this.thread.x].a*255},{output:[gt.width,gt.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),mt=[ut(gt),pt(gt),vt(gt),dt(gt)];return mt.rKernel=ut,mt.gKernel=pt,mt.bKernel=vt,mt.aKernel=dt,mt.gpu=ft,mt},splitRGBAToCanvases:(ft,gt,ut,pt)=>{const vt=ft.createKernel(function(yt){const ht=yt[this.thread.y][this.thread.x];this.color(ht.r/255,0,0,255)},{output:[ut,pt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});vt(gt);const dt=ft.createKernel(function(yt){const ht=yt[this.thread.y][this.thread.x];this.color(0,ht.g/255,0,255)},{output:[ut,pt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});dt(gt);const mt=ft.createKernel(function(yt){const ht=yt[this.thread.y][this.thread.x];this.color(0,0,ht.b/255,255)},{output:[ut,pt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});mt(gt);const Tt=ft.createKernel(function(yt){const ht=yt[this.thread.y][this.thread.x];this.color(255,255,255,ht.a/255)},{output:[ut,pt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return Tt(gt),[vt.canvas,dt.canvas,mt.canvas,Tt.canvas]},getMinifySafeName:ft=>{try{const gt=tt.parse(`const value = ${ft.toString()}`),{init:ut}=gt.body[0].declarations[0];return ut.body.name||ut.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(ft){return $.test(ft)&&(ft=ft.replace($,"S_S")),et.test(ft)?ft=ft.replace(et,"U_U"):st.test(ft)&&(ft=ft.replace(st,"u_u")),ft}},$=/\$/,et=/__/,st=/_/,lt=_.getSystemEndianness();o.exports={utils:_}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})})(gpuBrowser);var rttc={},runtimeSourceError={};Object.defineProperty(runtimeSourceError,"__esModule",{value:!0});runtimeSourceError.RuntimeSourceError=void 0;const constants_1$1=constants,types_1$l=types;class RuntimeSourceError{constructor(s){this.type=types_1$l.ErrorType.RUNTIME,this.severity=types_1$l.ErrorSeverity.ERROR,this.location=s?s.loc:constants_1$1.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}runtimeSourceError.RuntimeSourceError=RuntimeSourceError;Object.defineProperty(rttc,"__esModule",{value:!0});rttc.isIdentifier=rttc.checkMemberAccess=rttc.checkIfStatement=rttc.checkBinaryExpression=rttc.checkUnaryExpression=rttc.TypeError=void 0;const runtimeSourceError_1$1=runtimeSourceError,types_1$k=types,LHS=" on left hand side of operation",RHS=" on right hand side of operation";class TypeError$1 extends runtimeSourceError_1$1.RuntimeSourceError{constructor(s,a,o,it,tt=types_1$k.Chapter.SOURCE_4){super(s),this.side=a,this.expected=o,this.got=it,this.chapter=tt,this.type=types_1$k.ErrorType.RUNTIME,this.severity=types_1$k.ErrorSeverity.ERROR}explain(){const s=this.got==="array"?this.chapter<=2?"pair":"compound data":this.got;return`Expected ${this.expected}${this.side}, got ${s}.`}elaborate(){return this.explain()}}rttc.TypeError=TypeError$1;const typeOf=i=>i===null?"null":Array.isArray(i)?"array":typeof i,isNumber=i=>typeOf(i)==="number",isArrayIndex=i=>isNumber(i)&&i>>>0===i&&i<2**32-1,isString=i=>typeOf(i)==="string",isBool=i=>typeOf(i)==="boolean",isObject=i=>typeOf(i)==="object",isArray=i=>typeOf(i)==="array",checkUnaryExpression=(i,s,a,o=types_1$k.Chapter.SOURCE_4)=>(s==="+"||s==="-")&&!isNumber(a)?new TypeError$1(i,"","number",typeOf(a),o):s==="!"&&!isBool(a)?new TypeError$1(i,"","boolean",typeOf(a),o):void 0;rttc.checkUnaryExpression=checkUnaryExpression;const checkBinaryExpression=(i,s,a,o,it)=>{switch(s){case"-":case"*":case"/":case"%":return isNumber(o)?isNumber(it)?void 0:new TypeError$1(i,RHS,"number",typeOf(it),a):new TypeError$1(i,LHS,"number",typeOf(o),a);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":return a>2&&(s==="==="||s==="!==")?void 0:isNumber(o)?isNumber(it)?void 0:new TypeError$1(i,RHS,"number",typeOf(it),a):isString(o)?isString(it)?void 0:new TypeError$1(i,RHS,"string",typeOf(it),a):new TypeError$1(i,LHS,"string or number",typeOf(o),a);default:return}};rttc.checkBinaryExpression=checkBinaryExpression;const checkIfStatement=(i,s,a=types_1$k.Chapter.SOURCE_4)=>isBool(s)?void 0:new TypeError$1(i," as condition","boolean",typeOf(s),a);rttc.checkIfStatement=checkIfStatement;const checkMemberAccess=(i,s,a)=>isObject(s)?isString(a)?void 0:new TypeError$1(i," as prop","string",typeOf(a)):isArray(s)?isArrayIndex(a)?void 0:isNumber(a)?new TypeError$1(i," as prop","array index","other number"):new TypeError$1(i," as prop","array index",typeOf(a)):new TypeError$1(i,"","object or array",typeOf(s));rttc.checkMemberAccess=checkMemberAccess;const isIdentifier=i=>i.name!==void 0;rttc.isIdentifier=isIdentifier;var transfomer={},astCreator={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.whileStatement=i.ifStatement=i.variableDeclarator=i.variableDeclaration=i.arrowFunctionExpression=i.blockExpression=i.functionDeclaration=i.functionDeclarationExpression=i.primitive=i.unaryExpression=i.binaryExpression=i.assignmentExpression=i.arrayExpression=i.conditionalExpression=i.mutateToConditionalExpression=i.logicalExpression=i.mutateToMemberExpression=i.mutateToReturnStatement=i.mutateToExpressionStatement=i.mutateToAssignmentExpression=i.mutateToCallExpression=i.objectExpression=i.property=i.returnStatement=i.program=i.blockStatement=i.functionExpression=i.blockArrowFunction=i.expressionStatement=i.callExpression=i.constantDeclaration=i.declaration=i.memberExpression=i.literal=i.identifier=i.locationDummyNode=i.getVariableDecarationName=void 0;const s=jt=>jt.declarations[0].id.name;i.getVariableDecarationName=s;const a=(jt,Vt)=>(0,i.literal)("Dummy",{start:{line:jt,column:Vt},end:{line:jt,column:Vt}});i.locationDummyNode=a;const o=(jt,Vt)=>({type:"Identifier",name:jt,loc:Vt});i.identifier=o;const it=(jt,Vt)=>({type:"Literal",value:jt,loc:Vt});i.literal=it;const tt=(jt,Vt)=>({type:"MemberExpression",object:jt,computed:typeof Vt=="number",optional:!1,property:typeof Vt=="number"?(0,i.literal)(Vt):(0,i.identifier)(Vt)});i.memberExpression=tt;const at=(jt,Vt,en,ln)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:(0,i.identifier)(jt),init:en}],kind:Vt,loc:ln});i.declaration=at;const ot=(jt,Vt,en)=>(0,i.declaration)(jt,"const",Vt,en);i.constantDeclaration=ot;const rt=(jt,Vt,en)=>({type:"CallExpression",callee:jt,arguments:Vt,optional:!1,loc:en});i.callExpression=rt;const nt=jt=>({type:"ExpressionStatement",expression:jt});i.expressionStatement=nt;const j=(jt,Vt,en)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:jt,body:Array.isArray(Vt)?(0,i.blockStatement)(Vt):Vt,loc:en});i.blockArrowFunction=j;const _=(jt,Vt,en)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:jt,body:Array.isArray(Vt)?(0,i.blockStatement)(Vt):Vt,loc:en});i.functionExpression=_;const $=jt=>({type:"BlockStatement",body:jt});i.blockStatement=$;const et=jt=>({type:"Program",sourceType:"module",body:jt});i.program=et;const st=(jt,Vt)=>({type:"ReturnStatement",argument:jt,loc:Vt});i.returnStatement=st;const lt=(jt,Vt)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,i.identifier)(jt),value:Vt,kind:"init"});i.property=lt;const ft=jt=>({type:"ObjectExpression",properties:jt});i.objectExpression=ft;const gt=(jt,Vt,en)=>{jt.type="CallExpression",jt=jt,jt.callee=Vt,jt.arguments=en};i.mutateToCallExpression=gt;const ut=(jt,Vt,en)=>{jt.type="AssignmentExpression",jt=jt,jt.operator="=",jt.left=Vt,jt.right=en};i.mutateToAssignmentExpression=ut;const pt=(jt,Vt)=>{jt.type="ExpressionStatement",jt=jt,jt.expression=Vt};i.mutateToExpressionStatement=pt;const vt=(jt,Vt)=>{jt.type="ReturnStatement",jt=jt,jt.argument=Vt};i.mutateToReturnStatement=vt;const dt=(jt,Vt,en)=>{jt.type="MemberExpression",jt=jt,jt.object=Vt,jt.property=en,jt.computed=!1};i.mutateToMemberExpression=dt;const mt=(jt,Vt,en,ln)=>({type:"LogicalExpression",operator:jt,left:Vt,right:en,loc:ln});i.logicalExpression=mt;const Tt=(jt,Vt,en,ln)=>{jt.type="ConditionalExpression",jt=jt,jt.test=Vt,jt.consequent=en,jt.alternate=ln};i.mutateToConditionalExpression=Tt;const yt=(jt,Vt,en,ln)=>({type:"ConditionalExpression",test:jt,consequent:Vt,alternate:en,loc:ln});i.conditionalExpression=yt;const ht=jt=>({type:"ArrayExpression",elements:jt});i.arrayExpression=ht;const xt=(jt,Vt)=>({type:"AssignmentExpression",operator:"=",left:jt,right:Vt});i.assignmentExpression=xt;const wt=(jt,Vt,en,ln)=>({type:"BinaryExpression",operator:jt,left:Vt,right:en,loc:ln});i.binaryExpression=wt;const kt=(jt,Vt,en)=>({type:"UnaryExpression",operator:jt,prefix:!0,argument:Vt,loc:en});i.unaryExpression=kt;const Ct=jt=>jt===void 0?(0,i.identifier)("undefined"):(0,i.literal)(jt);i.primitive=Ct;const Rt=(jt,Vt,en,ln)=>({type:"FunctionExpression",id:jt,params:Vt,body:en,loc:ln});i.functionDeclarationExpression=Rt;const Lt=(jt,Vt,en,ln)=>({type:"FunctionDeclaration",id:jt,params:Vt,body:en,loc:ln});i.functionDeclaration=Lt;const Mt=(jt,Vt)=>({type:"BlockExpression",body:jt,loc:Vt});i.blockExpression=Mt;const Wt=(jt,Vt,en)=>({type:"ArrowFunctionExpression",expression:Vt.type!=="BlockStatement",generator:!1,params:jt,body:Vt,loc:en});i.arrowFunctionExpression=Wt;const Pt=(jt,Vt)=>({type:"VariableDeclaration",kind:"const",declarations:jt,loc:Vt});i.variableDeclaration=Pt;const Ot=(jt,Vt,en)=>({type:"VariableDeclarator",id:jt,init:Vt,loc:en});i.variableDeclarator=Ot;const Xt=(jt,Vt,en,ln)=>({type:"IfStatement",test:jt,consequent:Vt,alternate:en,loc:ln});i.ifStatement=Xt;const rn=(jt,Vt,en)=>({type:"WhileStatement",test:Vt,body:jt,loc:en});i.whileStatement=rn})(astCreator);var walkers$1={},walk={exports:{}};(function(i,s){(function(a,o){o(s)})(commonjsGlobal,function(a){function o(ut,pt,vt,dt,mt){vt||(vt=gt),function Tt(yt,ht,xt){var wt=xt||yt.type,kt=pt[wt];vt[wt](yt,ht,Tt),kt&&kt(yt,ht)}(ut,dt,mt)}function it(ut,pt,vt,dt,mt){var Tt=[];vt||(vt=gt),function yt(ht,xt,wt){var kt=wt||ht.type,Ct=pt[kt],Rt=ht!==Tt[Tt.length-1];Rt&&Tt.push(ht),vt[kt](ht,xt,yt),Ct&&Ct(ht,xt||Tt,Tt),Rt&&Tt.pop()}(ut,dt,mt)}function tt(ut,pt,vt,dt,mt){var Tt=vt?st(vt,dt||void 0):dt;(function yt(ht,xt,wt){Tt[wt||ht.type](ht,xt,yt)})(ut,pt,mt)}function at(ut){return typeof ut=="string"?function(pt){return pt===ut}:ut||function(){return!0}}var ot=function(pt,vt){this.node=pt,this.state=vt};function rt(ut,pt,vt,dt,mt){vt||(vt=gt);var Tt;(function yt(ht,xt,wt){var kt=wt||ht.type;vt[kt](ht,xt,yt),Tt!==ht&&(pt(ht,xt,kt),Tt=ht)})(ut,dt,mt)}function nt(ut,pt,vt,dt){vt||(vt=gt);var mt=[],Tt;(function yt(ht,xt,wt){var kt=wt||ht.type,Ct=ht!==mt[mt.length-1];Ct&&mt.push(ht),vt[kt](ht,xt,yt),Tt!==ht&&(pt(ht,xt||mt,mt,kt),Tt=ht),Ct&&mt.pop()})(ut,dt)}function j(ut,pt,vt,dt,mt,Tt){mt||(mt=gt),dt=at(dt);try{(function yt(ht,xt,wt){var kt=wt||ht.type;if((pt==null||ht.start<=pt)&&(vt==null||ht.end>=vt)&&mt[kt](ht,xt,yt),(pt==null||ht.start===pt)&&(vt==null||ht.end===vt)&&dt(kt,ht))throw new ot(ht,xt)})(ut,Tt)}catch(yt){if(yt instanceof ot)return yt;throw yt}}function _(ut,pt,vt,dt,mt){vt=at(vt),dt||(dt=gt);try{(function Tt(yt,ht,xt){var wt=xt||yt.type;if(!(yt.start>pt||yt.end<pt)&&(dt[wt](yt,ht,Tt),vt(wt,yt)))throw new ot(yt,ht)})(ut,mt)}catch(Tt){if(Tt instanceof ot)return Tt;throw Tt}}function $(ut,pt,vt,dt,mt){vt=at(vt),dt||(dt=gt);try{(function Tt(yt,ht,xt){if(!(yt.end<pt)){var wt=xt||yt.type;if(yt.start>=pt&&vt(wt,yt))throw new ot(yt,ht);dt[wt](yt,ht,Tt)}})(ut,mt)}catch(Tt){if(Tt instanceof ot)return Tt;throw Tt}}function et(ut,pt,vt,dt,mt){vt=at(vt),dt||(dt=gt);var Tt;return function yt(ht,xt,wt){if(!(ht.start>pt)){var kt=wt||ht.type;ht.end<=pt&&(!Tt||Tt.node.end<ht.end)&&vt(kt,ht)&&(Tt=new ot(ht,xt)),dt[kt](ht,xt,yt)}}(ut,mt),Tt}function st(ut,pt){var vt=Object.create(pt||gt);for(var dt in ut)vt[dt]=ut[dt];return vt}function lt(ut,pt,vt){vt(ut,pt)}function ft(ut,pt,vt){}var gt={};gt.Program=gt.BlockStatement=gt.StaticBlock=function(ut,pt,vt){for(var dt=0,mt=ut.body;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt,"Statement")}},gt.Statement=lt,gt.EmptyStatement=ft,gt.ExpressionStatement=gt.ParenthesizedExpression=gt.ChainExpression=function(ut,pt,vt){return vt(ut.expression,pt,"Expression")},gt.IfStatement=function(ut,pt,vt){vt(ut.test,pt,"Expression"),vt(ut.consequent,pt,"Statement"),ut.alternate&&vt(ut.alternate,pt,"Statement")},gt.LabeledStatement=function(ut,pt,vt){return vt(ut.body,pt,"Statement")},gt.BreakStatement=gt.ContinueStatement=ft,gt.WithStatement=function(ut,pt,vt){vt(ut.object,pt,"Expression"),vt(ut.body,pt,"Statement")},gt.SwitchStatement=function(ut,pt,vt){vt(ut.discriminant,pt,"Expression");for(var dt=0,mt=ut.cases;dt<mt.length;dt+=1){var Tt=mt[dt];Tt.test&&vt(Tt.test,pt,"Expression");for(var yt=0,ht=Tt.consequent;yt<ht.length;yt+=1){var xt=ht[yt];vt(xt,pt,"Statement")}}},gt.SwitchCase=function(ut,pt,vt){ut.test&&vt(ut.test,pt,"Expression");for(var dt=0,mt=ut.consequent;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt,"Statement")}},gt.ReturnStatement=gt.YieldExpression=gt.AwaitExpression=function(ut,pt,vt){ut.argument&&vt(ut.argument,pt,"Expression")},gt.ThrowStatement=gt.SpreadElement=function(ut,pt,vt){return vt(ut.argument,pt,"Expression")},gt.TryStatement=function(ut,pt,vt){vt(ut.block,pt,"Statement"),ut.handler&&vt(ut.handler,pt),ut.finalizer&&vt(ut.finalizer,pt,"Statement")},gt.CatchClause=function(ut,pt,vt){ut.param&&vt(ut.param,pt,"Pattern"),vt(ut.body,pt,"Statement")},gt.WhileStatement=gt.DoWhileStatement=function(ut,pt,vt){vt(ut.test,pt,"Expression"),vt(ut.body,pt,"Statement")},gt.ForStatement=function(ut,pt,vt){ut.init&&vt(ut.init,pt,"ForInit"),ut.test&&vt(ut.test,pt,"Expression"),ut.update&&vt(ut.update,pt,"Expression"),vt(ut.body,pt,"Statement")},gt.ForInStatement=gt.ForOfStatement=function(ut,pt,vt){vt(ut.left,pt,"ForInit"),vt(ut.right,pt,"Expression"),vt(ut.body,pt,"Statement")},gt.ForInit=function(ut,pt,vt){ut.type==="VariableDeclaration"?vt(ut,pt):vt(ut,pt,"Expression")},gt.DebuggerStatement=ft,gt.FunctionDeclaration=function(ut,pt,vt){return vt(ut,pt,"Function")},gt.VariableDeclaration=function(ut,pt,vt){for(var dt=0,mt=ut.declarations;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt)}},gt.VariableDeclarator=function(ut,pt,vt){vt(ut.id,pt,"Pattern"),ut.init&&vt(ut.init,pt,"Expression")},gt.Function=function(ut,pt,vt){ut.id&&vt(ut.id,pt,"Pattern");for(var dt=0,mt=ut.params;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt,"Pattern")}vt(ut.body,pt,ut.expression?"Expression":"Statement")},gt.Pattern=function(ut,pt,vt){ut.type==="Identifier"?vt(ut,pt,"VariablePattern"):ut.type==="MemberExpression"?vt(ut,pt,"MemberPattern"):vt(ut,pt)},gt.VariablePattern=ft,gt.MemberPattern=lt,gt.RestElement=function(ut,pt,vt){return vt(ut.argument,pt,"Pattern")},gt.ArrayPattern=function(ut,pt,vt){for(var dt=0,mt=ut.elements;dt<mt.length;dt+=1){var Tt=mt[dt];Tt&&vt(Tt,pt,"Pattern")}},gt.ObjectPattern=function(ut,pt,vt){for(var dt=0,mt=ut.properties;dt<mt.length;dt+=1){var Tt=mt[dt];Tt.type==="Property"?(Tt.computed&&vt(Tt.key,pt,"Expression"),vt(Tt.value,pt,"Pattern")):Tt.type==="RestElement"&&vt(Tt.argument,pt,"Pattern")}},gt.Expression=lt,gt.ThisExpression=gt.Super=gt.MetaProperty=ft,gt.ArrayExpression=function(ut,pt,vt){for(var dt=0,mt=ut.elements;dt<mt.length;dt+=1){var Tt=mt[dt];Tt&&vt(Tt,pt,"Expression")}},gt.ObjectExpression=function(ut,pt,vt){for(var dt=0,mt=ut.properties;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt)}},gt.FunctionExpression=gt.ArrowFunctionExpression=gt.FunctionDeclaration,gt.SequenceExpression=function(ut,pt,vt){for(var dt=0,mt=ut.expressions;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt,"Expression")}},gt.TemplateLiteral=function(ut,pt,vt){for(var dt=0,mt=ut.quasis;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt)}for(var yt=0,ht=ut.expressions;yt<ht.length;yt+=1){var xt=ht[yt];vt(xt,pt,"Expression")}},gt.TemplateElement=ft,gt.UnaryExpression=gt.UpdateExpression=function(ut,pt,vt){vt(ut.argument,pt,"Expression")},gt.BinaryExpression=gt.LogicalExpression=function(ut,pt,vt){vt(ut.left,pt,"Expression"),vt(ut.right,pt,"Expression")},gt.AssignmentExpression=gt.AssignmentPattern=function(ut,pt,vt){vt(ut.left,pt,"Pattern"),vt(ut.right,pt,"Expression")},gt.ConditionalExpression=function(ut,pt,vt){vt(ut.test,pt,"Expression"),vt(ut.consequent,pt,"Expression"),vt(ut.alternate,pt,"Expression")},gt.NewExpression=gt.CallExpression=function(ut,pt,vt){if(vt(ut.callee,pt,"Expression"),ut.arguments)for(var dt=0,mt=ut.arguments;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt,"Expression")}},gt.MemberExpression=function(ut,pt,vt){vt(ut.object,pt,"Expression"),ut.computed&&vt(ut.property,pt,"Expression")},gt.ExportNamedDeclaration=gt.ExportDefaultDeclaration=function(ut,pt,vt){ut.declaration&&vt(ut.declaration,pt,ut.type==="ExportNamedDeclaration"||ut.declaration.id?"Statement":"Expression"),ut.source&&vt(ut.source,pt,"Expression")},gt.ExportAllDeclaration=function(ut,pt,vt){ut.exported&&vt(ut.exported,pt),vt(ut.source,pt,"Expression")},gt.ImportDeclaration=function(ut,pt,vt){for(var dt=0,mt=ut.specifiers;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt)}vt(ut.source,pt,"Expression")},gt.ImportExpression=function(ut,pt,vt){vt(ut.source,pt,"Expression")},gt.ImportSpecifier=gt.ImportDefaultSpecifier=gt.ImportNamespaceSpecifier=gt.Identifier=gt.PrivateIdentifier=gt.Literal=ft,gt.TaggedTemplateExpression=function(ut,pt,vt){vt(ut.tag,pt,"Expression"),vt(ut.quasi,pt,"Expression")},gt.ClassDeclaration=gt.ClassExpression=function(ut,pt,vt){return vt(ut,pt,"Class")},gt.Class=function(ut,pt,vt){ut.id&&vt(ut.id,pt,"Pattern"),ut.superClass&&vt(ut.superClass,pt,"Expression"),vt(ut.body,pt)},gt.ClassBody=function(ut,pt,vt){for(var dt=0,mt=ut.body;dt<mt.length;dt+=1){var Tt=mt[dt];vt(Tt,pt)}},gt.MethodDefinition=gt.PropertyDefinition=gt.Property=function(ut,pt,vt){ut.computed&&vt(ut.key,pt,"Expression"),ut.value&&vt(ut.value,pt,"Expression")},a.ancestor=it,a.base=gt,a.findNodeAfter=$,a.findNodeAround=_,a.findNodeAt=j,a.findNodeBefore=et,a.full=rt,a.fullAncestor=nt,a.make=st,a.recursive=tt,a.simple=o,Object.defineProperty(a,"__esModule",{value:!0})})})(walk,walk.exports);Object.defineProperty(walkers$1,"__esModule",{value:!0});walkers$1.base=walkers$1.findNodeAfter=walkers$1.findNodeAround=walkers$1.findNodeAt=walkers$1.make=walkers$1.fullAncestor=walkers$1.full=walkers$1.recursive=walkers$1.ancestor=walkers$1.simple=void 0;const walkers=walk.exports;walkers$1.simple=walkers.simple;walkers$1.ancestor=walkers.ancestor;walkers$1.recursive=walkers.recursive;walkers$1.full=walkers.full;walkers$1.fullAncestor=walkers.fullAncestor;walkers$1.make=walkers.make;walkers$1.findNodeAt=walkers.findNodeAt;walkers$1.findNodeAround=walkers.findNodeAround;walkers$1.findNodeAfter=walkers.findNodeAfter;walkers$1.base=walkers.base;var bodyVerifier={};Object.defineProperty(bodyVerifier,"__esModule",{value:!0});const walkers_1$1=walkers$1;class GPUBodyVerifier{constructor(s,a,o){this.checkBody=it=>{let tt=!0;if((0,walkers_1$1.simple)(it,{FunctionDeclaration(){tt=!1},ArrowFunctionExpression(){tt=!1},ReturnStatement(){tt=!1},BreakStatement(){tt=!1},ContinueStatement(){tt=!1}}),!tt)return;const at=new RegExp(/^math_[a-z]+$/);if((0,walkers_1$1.simple)(it,{CallExpression(et){if(et.callee.type!=="Identifier"){tt=!1;return}const st=et.callee.name;if(!at.test(st)){tt=!1;return}}}),!tt)return;const ot=new Set;(0,walkers_1$1.simple)(it,{VariableDeclaration(et){et.declarations[0].id.type==="Identifier"&&ot.add(et.declarations[0].id.name)}}),this.localVar=ot;const rt=[],nt=this.getArrayName;if((0,walkers_1$1.simple)(it,{AssignmentExpression(et){if(!(et.left.type==="Identifier"&&ot.has(et.left.name))){if(et.left.type==="MemberExpression"){const st=nt(et.left);if(ot.has(st.name))return}rt.push(et)}}}),rt.length!==1||rt[0].left.type!=="MemberExpression")return;const j=this.getPropertyAccess(rt[0].left);if(j.length===0||j.length>this.counters.length)return;const _=this.getPropertyAccess,$=this.outputArray;if((0,walkers_1$1.simple)(it,{MemberExpression(et){if(nt(et).name!==$.name)return;const lt=_(et);JSON.stringify(lt)!==JSON.stringify(j)&&(tt=!1)}},(0,walkers_1$1.make)({MemberExpression:()=>{}})),!!tt){for(let et=0;et<this.counters.length&&j[et]===this.counters[et];et++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=it=>{let tt=it;for(;tt.type==="MemberExpression";)tt=tt.object;return tt},this.getPropertyAccess=it=>{const tt=[];let at=!0,ot=it;for(;ot.type==="MemberExpression";){if(ot.property.type!=="Identifier"){at=!1;break}tt.push(ot.property.name),ot=ot.object}return at?(this.outputArray=ot,tt.reverse()):[]},this.program=s,this.node=a,this.counters=o,this.state=0,this.checkBody(a)}}bodyVerifier.default=GPUBodyVerifier;var loopVerifier={};Object.defineProperty(loopVerifier,"__esModule",{value:!0});class GPULoopVerifier{constructor(s){this.forLoopTransform=a=>{!a.init||!a.update||!a.test||(this.ok=this.hasCounter(a.init)&&this.hasCondition(a.test)&&this.hasUpdate(a.update))},this.hasCounter=a=>{if(!a||a.type!=="VariableDeclaration"||a.kind!=="let")return!1;const o=a.declarations;if(o.length>1)return!1;const it=o[0];if(it.id.type!=="Identifier"||!it.init)return!1;this.counter=it.id.name;const tt=it.init;return!(!tt||tt.type!=="Literal"||tt.value!==0)},this.hasCondition=a=>{if(a.type!=="BinaryExpression"||!(a.operator==="<"||a.operator==="<="))return!1;const o=a.left;if(o.type!=="Identifier"||o.name!==this.counter)return!1;const it=a.right;return it.type==="Identifier"||it.type==="Literal"?(this.end=it,!0):!1},this.hasUpdate=a=>{if(a.type!=="AssignmentExpression"||a.operator!=="="||a.left.type!=="Identifier"||a.left.name!==this.counter||a.right.type!=="BinaryExpression")return!1;const o=a.right;if(o.operator!=="+")return!1;const it=o.left.type==="Identifier"&&o.left.name===this.counter,tt=o.right.type==="Identifier"&&o.right.name===this.counter,at=o.left.type==="Literal"&&o.left.value===1,ot=o.right.type==="Literal"&&o.right.value===1;return it&&ot||tt&&at},this.node=s,this.forLoopTransform(this.node)}}loopVerifier.default=GPULoopVerifier;Object.defineProperty(transfomer,"__esModule",{value:!0});transfomer.gpuRuntimeTranspile=void 0;const create=astCreator,walkers_1=walkers$1,bodyVerifier_1=bodyVerifier,loopVerifier_1=loopVerifier;let currentKernelId=0;class GPUTransformer{constructor(s,a){this.transform=()=>{const o=this.gpuTranspile,it=[];return(0,walkers_1.simple)(this.program,{ForStatement(tt){const at=o(tt);at>0&&tt.loc&&it.push([tt.loc.start.line,at])}},(0,walkers_1.make)({ForStatement:()=>{}})),it},this.gpuTranspile=o=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(o),this.counters.length===0||new Set(this.counters).size!==this.counters.length)return 0;const it=new bodyVerifier_1.default(this.program,this.innerBody,this.counters);if(it.state===0)return 0;this.state=it.state,this.outputArray=it.outputArray,this.localVar=it.localVar,this.getOuterVariables(),this.getTargetBody(o);const tt=[];for(const _ in this.outerVariables)if(this.outerVariables.hasOwnProperty(_)){const $=this.outerVariables[_];tt.push([create.literal(_),JSON.parse(JSON.stringify($))])}const at=it.getArrayName,ot=this.localVar;(0,walkers_1.ancestor)(this.targetBody,{AssignmentExpression(_,$){if(_.left.type==="Identifier"||_.left.type!=="MemberExpression")return;const et=at(_.left);if(ot.has(et.name))return;const st=$.length;create.mutateToReturnStatement($[st-2],_.right)}});const rt=[];for(let _=0;_<this.state;_++)rt.push(create.identifier(this.counters[_]));const nt=create.blockArrowFunction(this.counters.map(_=>create.identifier(_)),this.targetBody),j=create.callExpression(this.globalIds.__createKernelSource,[create.arrayExpression(this.end),create.arrayExpression(tt.map(create.arrayExpression)),create.arrayExpression(Array.from(ot.values()).map(_=>create.literal(_))),this.outputArray,nt,create.literal(currentKernelId++)],o.loc);return create.mutateToExpressionStatement(o,j),this.state},this.checkOuterLoops=o=>{let it=o;for(;it.type==="ForStatement";){const tt=new loopVerifier_1.default(it);if(!tt.ok||(this.innerBody=it.body,this.counters.push(tt.counter),this.end.push(tt.end),this.innerBody.type!=="BlockStatement")||this.innerBody.body.length>1||this.innerBody.body.length===0)break;it=this.innerBody.body[0]}},this.program=s,this.globalIds={__createKernelSource:a}}getTargetBody(s){let a=this.state;for(this.targetBody=s;a>1;)this.targetBody=this.targetBody.body.body[0],a--;this.targetBody=this.targetBody.body}getOuterVariables(){const s=this.innerBody,a=this.localVar,o=this.counters,it=this.outputArray.name,tt={};(0,walkers_1.simple)(s,{Identifier(at){a.has(at.name)||o.includes(at.name)||at.name===it||at.name.startsWith("math_")||(tt[at.name]=at)}}),this.outerVariables=tt}}function gpuRuntimeTranspile(i,s){const a=i.params.map(ot=>ot.name),o=i.body;(0,walkers_1.simple)(o,{CallExpression(ot){if(ot.callee.type!=="Identifier")return;const nt=ot.callee.name.split("_")[1],j=ot.arguments;create.mutateToCallExpression(ot,create.memberExpression(create.identifier("Math"),nt),j)}});const it=new Set([...a,"Math"]);(0,walkers_1.simple)(o,{Identifier(ot){it.has(ot.name)||s.has(ot.name)||create.mutateToMemberExpression(ot,create.memberExpression(create.identifier("this"),"constants"),create.identifier(ot.name))}});let tt=["x"];a.length===2&&(tt=["y","x"]),a.length===3&&(tt=["z","y","x"]);const at=a.slice();return(0,walkers_1.simple)(o,{Identifier(ot){let rt=-1;for(let j=0;j<at.length;j=j+1)if(ot.name===at[j]){rt=j;break}if(rt===-1)return;const nt=tt[rt];create.mutateToMemberExpression(ot,create.memberExpression(create.identifier("this"),"thread"),create.identifier(nt))}}),o}transfomer.gpuRuntimeTranspile=gpuRuntimeTranspile;transfomer.default=GPUTransformer;Object.defineProperty(lib,"__esModule",{value:!0});lib.__createKernelSource=lib.__clearKernelCache=lib.__createKernel=void 0;const acorn_1=acorn.exports,astring_1$8=astring,gpu_js_1=gpuBrowser.exports,constants_1=constants,rttc_1=rttc,transfomer_1=transfomer,MAX_SIZE=200;function buildArray(i,s,a){for(let o=0;o<s[0];o++)a[o]=prettyOutput(i[o])}function build2DArray(i,s,a){for(let o=0;o<s[0];o++)for(let it=0;it<s[1];it++)a[o][it]=prettyOutput(i[o][it])}function build3DArray(i,s,a){for(let o=0;o<s[0];o++)for(let it=0;it<s[1];it++)for(let tt=0;tt<s[2];tt++)a[o][it][tt]=prettyOutput(i[o][it][tt])}function prettyOutput(i){if(!(i instanceof Float32Array))return i;const s=i.map(a=>prettyOutput(a));return Array.from(s)}function checkArray(i){return Array.isArray(i)}function checkArray2D(i,s){for(let a=0;a<s[0];a=a+1)if(!Array.isArray(i[a]))return!1;return!0}function checkArray3D(i,s){for(let a=0;a<s[0];a=a+1){if(!Array.isArray(i[a]))return!1;for(let o=0;o<s[1];o=o+1)if(!Array.isArray(i[a][o]))return!1}return!0}function checkValidGPU(i,s){let a;if(s.length===1&&(a=i(0)),s.length===2&&(a=i(0,0)),s.length===3&&(a=i(0,0,0)),typeof a!="number")return!1;let o=1;for(const it of s)o=o*it;return o>MAX_SIZE}function manualRun(i,s,a){function o(){for(let at=0;at<s[0];at++)a[at]=i(at)}function it(){for(let at=0;at<s[0];at=at+1)for(let ot=0;ot<s[1];ot=ot+1)a[at][ot]=i(at,ot)}function tt(){for(let at=0;at<s[0];at=at+1)for(let ot=0;ot<s[1];ot=ot+1)for(let rt=0;rt<s[2];rt=rt+1)a[at][ot][rt]=i(at,ot,rt)}return s.length===1?o():s.length===2?it():tt()}function __createKernel(i,s,a,o,it){const tt=new gpu_js_1.GPU;let at=checkArray(o),ot="";if(at||(ot=typeof o),i.length>1&&(at=at&&checkArray2D(o,i),at||(ot="undefined")),i.length>2&&(at=at&&checkArray3D(o,i),at||(ot="undefined")),!at)throw new rttc_1.TypeError(o,"","object or array",ot);if(at=checkValidGPU(it,i),!at){manualRun(it,i,o);return}const rt=[];for(let $=i.length-1;$>=0;$--)rt.push(i[$]);const nt={constants:{}};nt.constants=s;const _=tt.createKernel(a,nt).setOutput(rt)();i.length===1&&buildArray(_,i,o),i.length===2&&build2DArray(_,i,o),i.length===3&&build3DArray(_,i,o)}lib.__createKernel=__createKernel;function entriesToObject(i){const s={};return i.forEach(([a,o])=>s[a]=o),s}const kernels=new Map;function __clearKernelCache(){kernels.clear()}lib.__clearKernelCache=__clearKernelCache;function __createKernelSource(i,s,a,o,it,tt){const at=entriesToObject(s),ot=kernels.get(tt);if(ot!==void 0)return __createKernel(i,at,ot,o,it);const rt=it.toString(),j=(0,acorn_1.parse)(rt,constants_1.ACORN_PARSE_OPTIONS).body[0].expression,_=(0,transfomer_1.gpuRuntimeTranspile)(j,new Set(a)),$=new Function((0,astring_1$8.generate)(_));return kernels.set(tt,$),__createKernel(i,at,$,o,it)}lib.__createKernelSource=__createKernelSource;var schedulers={},errors={},stringify$1={},closure={},interpreter={},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,s){(function(){var a,o="4.17.21",it=200,tt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",at="Expected a function",ot="Invalid `variable` option passed into `_.template`",rt="__lodash_hash_undefined__",nt=500,j="__lodash_placeholder__",_=1,$=2,et=4,st=1,lt=2,ft=1,gt=2,ut=4,pt=8,vt=16,dt=32,mt=64,Tt=128,yt=256,ht=512,xt=30,wt="...",kt=800,Ct=16,Rt=1,Lt=2,Mt=3,Wt=1/0,Pt=9007199254740991,Ot=17976931348623157e292,Xt=0/0,rn=4294967295,jt=rn-1,Vt=rn>>>1,en=[["ary",Tt],["bind",ft],["bindKey",gt],["curry",pt],["curryRight",vt],["flip",ht],["partial",dt],["partialRight",mt],["rearg",yt]],ln="[object Arguments]",nn="[object Array]",_n="[object AsyncFunction]",fn="[object Boolean]",wn="[object Date]",xn="[object DOMException]",qt="[object Error]",Qt="[object Function]",Gt="[object GeneratorFunction]",cn="[object Map]",kn="[object Number]",dn="[object Null]",qn="[object Object]",ur="[object Promise]",cr="[object Proxy]",Mr="[object RegExp]",En="[object Set]",Kn="[object String]",Nn="[object Symbol]",dr="[object Undefined]",Hn="[object WeakMap]",Tr="[object WeakSet]",or="[object ArrayBuffer]",Wn="[object DataView]",xr="[object Float32Array]",Ut="[object Float64Array]",an="[object Int8Array]",hn="[object Int16Array]",On="[object Int32Array]",Gn="[object Uint8Array]",Pn="[object Uint8ClampedArray]",$n="[object Uint16Array]",Yn="[object Uint32Array]",lr=/\b__p \+= '';/g,Mn=/\b(__p \+=) '' \+/g,Zn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vn=/&(?:amp|lt|gt|quot|#39);/g,er=/[&<>"']/g,jn=RegExp(Vn.source),zn=RegExp(er.source),yr=/<%-([\s\S]+?)%>/g,ls=/<%([\s\S]+?)%>/g,Jr=/<%=([\s\S]+?)%>/g,_s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rs=/^\w*$/,Yr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Is=/[\\^$.*+?()[\]{}|]/g,Zs=RegExp(Is.source),Ls=/^\s+/,Js=/\s/,zs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qr=/\{\n\/\* \[wrapped with (.+)\] \*/,na=/,? & /,tr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rs=/[()=,{}\[\]\/\s]/,Ms=/\\(\\)?/g,ga=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wr=/\w*$/,fo=/^[-+]0x[0-9a-f]+$/i,no=/^0b[01]+$/i,ro=/^\[object .+?Constructor\]$/,po=/^0o[0-7]+$/i,Us=/^(?:0|[1-9]\d*)$/,hs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,us=/($^)/,nr=/['\n\r\u2028\u2029\\]/g,jr="\\ud800-\\udfff",Ps="\\u0300-\\u036f",Ws="\\ufe20-\\ufe2f",gr="\\u20d0-\\u20ff",Ss=Ps+Ws+gr,xa="\\u2700-\\u27bf",is="a-z\\xdf-\\xf6\\xf8-\\xff",io="\\xac\\xb1\\xd7\\xf7",so="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",js="\\u2000-\\u206f",St=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="A-Z\\xc0-\\xd6\\xd8-\\xde",Dt="\\ufe0e\\ufe0f",Kt=io+so+js+St,Zt="['\u2019]",bn="["+jr+"]",Cn="["+Kt+"]",Un="["+Ss+"]",rr="\\d+",Er="["+xa+"]",Ur="["+is+"]",ss="[^"+jr+Kt+rr+xa+is+At+"]",_t="\\ud83c[\\udffb-\\udfff]",$t="(?:"+Un+"|"+_t+")",Ft="[^"+jr+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",tn="[\\ud800-\\udbff][\\udc00-\\udfff]",yn="["+At+"]",Sn="\\u200d",Dn="(?:"+Ur+"|"+ss+")",Bn="(?:"+yn+"|"+ss+")",hr="(?:"+Zt+"(?:d|ll|m|re|s|t|ve))?",_r="(?:"+Zt+"(?:D|LL|M|RE|S|T|VE))?",Gr=$t+"?",ws="["+Dt+"]?",Ts="(?:"+Sn+"(?:"+[Ft,Bt,tn].join("|")+")"+ws+Gr+")*",_i="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ps=ws+Gr+Ts,ms="(?:"+[Er,Bt,tn].join("|")+")"+ps,Wo="(?:"+[Ft+Un+"?",Un,Bt,tn,bn].join("|")+")",mo=RegExp(Zt,"g"),jo=RegExp(Un,"g"),Es=RegExp(_t+"(?="+_t+")|"+Wo+ps,"g"),ao=RegExp([yn+"?"+Ur+"+"+hr+"(?="+[Cn,yn,"$"].join("|")+")",Bn+"+"+_r+"(?="+[Cn,yn+Dn,"$"].join("|")+")",yn+"?"+Dn+"+"+hr,yn+"+"+_r,Fs,_i,rr,ms].join("|"),"g"),Ho=RegExp("["+Sn+jr+Ss+Dt+"]"),oo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Go=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ko=-1,Nr={};Nr[xr]=Nr[Ut]=Nr[an]=Nr[hn]=Nr[On]=Nr[Gn]=Nr[Pn]=Nr[$n]=Nr[Yn]=!0,Nr[ln]=Nr[nn]=Nr[or]=Nr[fn]=Nr[Wn]=Nr[wn]=Nr[qt]=Nr[Qt]=Nr[cn]=Nr[kn]=Nr[qn]=Nr[Mr]=Nr[En]=Nr[Kn]=Nr[Hn]=!1;var Dr={};Dr[ln]=Dr[nn]=Dr[or]=Dr[Wn]=Dr[fn]=Dr[wn]=Dr[xr]=Dr[Ut]=Dr[an]=Dr[hn]=Dr[On]=Dr[cn]=Dr[kn]=Dr[qn]=Dr[Mr]=Dr[En]=Dr[Kn]=Dr[Nn]=Dr[Gn]=Dr[Pn]=Dr[$n]=Dr[Yn]=!0,Dr[qt]=Dr[Qt]=Dr[Hn]=!1;var Jt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},pn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vn=parseFloat,Ln=parseInt,ir=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,vr=typeof self=="object"&&self&&self.Object===Object&&self,sr=ir||vr||Function("return this")(),Jn=s&&!s.nodeType&&s,br=Jn&&!0&&i&&!i.nodeType&&i,Br=br&&br.exports===Jn,Lr=Br&&ir.process,Pr=function(){try{var mn=br&&br.require&&br.require("util").types;return mn||Lr&&Lr.binding&&Lr.binding("util")}catch{}}(),es=Pr&&Pr.isArrayBuffer,gs=Pr&&Pr.isDate,ys=Pr&&Pr.isMap,lo=Pr&&Pr.isRegExp,$l=Pr&&Pr.isSet,Po=Pr&&Pr.isTypedArray;function as(mn,An,Tn){switch(Tn.length){case 0:return mn.call(An);case 1:return mn.call(An,Tn[0]);case 2:return mn.call(An,Tn[0],Tn[1]);case 3:return mn.call(An,Tn[0],Tn[1],Tn[2])}return mn.apply(An,Tn)}function My(mn,An,Tn,Qn){for(var Sr=-1,Fr=mn==null?0:mn.length;++Sr<Fr;){var ts=mn[Sr];An(Qn,ts,Tn(ts),mn)}return Qn}function Hs(mn,An){for(var Tn=-1,Qn=mn==null?0:mn.length;++Tn<Qn&&An(mn[Tn],Tn,mn)!==!1;);return mn}function Py(mn,An){for(var Tn=mn==null?0:mn.length;Tn--&&An(mn[Tn],Tn,mn)!==!1;);return mn}function Pp(mn,An){for(var Tn=-1,Qn=mn==null?0:mn.length;++Tn<Qn;)if(!An(mn[Tn],Tn,mn))return!1;return!0}function Eo(mn,An){for(var Tn=-1,Qn=mn==null?0:mn.length,Sr=0,Fr=[];++Tn<Qn;){var ts=mn[Tn];An(ts,Tn,mn)&&(Fr[Sr++]=ts)}return Fr}function Hl(mn,An){var Tn=mn==null?0:mn.length;return!!Tn&&Xo(mn,An,0)>-1}function Iu(mn,An,Tn){for(var Qn=-1,Sr=mn==null?0:mn.length;++Qn<Sr;)if(Tn(An,mn[Qn]))return!0;return!1}function Hr(mn,An){for(var Tn=-1,Qn=mn==null?0:mn.length,Sr=Array(Qn);++Tn<Qn;)Sr[Tn]=An(mn[Tn],Tn,mn);return Sr}function ko(mn,An){for(var Tn=-1,Qn=An.length,Sr=mn.length;++Tn<Qn;)mn[Sr+Tn]=An[Tn];return mn}function Lu(mn,An,Tn,Qn){var Sr=-1,Fr=mn==null?0:mn.length;for(Qn&&Fr&&(Tn=mn[++Sr]);++Sr<Fr;)Tn=An(Tn,mn[Sr],Sr,mn);return Tn}function Fy(mn,An,Tn,Qn){var Sr=mn==null?0:mn.length;for(Qn&&Sr&&(Tn=mn[--Sr]);Sr--;)Tn=An(Tn,mn[Sr],Sr,mn);return Tn}function Mu(mn,An){for(var Tn=-1,Qn=mn==null?0:mn.length;++Tn<Qn;)if(An(mn[Tn],Tn,mn))return!0;return!1}var Dy=Pu("length");function Oy(mn){return mn.split("")}function Ny(mn){return mn.match(tr)||[]}function Fp(mn,An,Tn){var Qn;return Tn(mn,function(Sr,Fr,ts){if(An(Sr,Fr,ts))return Qn=Fr,!1}),Qn}function Gl(mn,An,Tn,Qn){for(var Sr=mn.length,Fr=Tn+(Qn?1:-1);Qn?Fr--:++Fr<Sr;)if(An(mn[Fr],Fr,mn))return Fr;return-1}function Xo(mn,An,Tn){return An===An?qy(mn,An,Tn):Gl(mn,Dp,Tn)}function Vy(mn,An,Tn,Qn){for(var Sr=Tn-1,Fr=mn.length;++Sr<Fr;)if(Qn(mn[Sr],An))return Sr;return-1}function Dp(mn){return mn!==mn}function Op(mn,An){var Tn=mn==null?0:mn.length;return Tn?Du(mn,An)/Tn:Xt}function Pu(mn){return function(An){return An==null?a:An[mn]}}function Fu(mn){return function(An){return mn==null?a:mn[An]}}function Np(mn,An,Tn,Qn,Sr){return Sr(mn,function(Fr,ts,zr){Tn=Qn?(Qn=!1,Fr):An(Tn,Fr,ts,zr)}),Tn}function By(mn,An){var Tn=mn.length;for(mn.sort(An);Tn--;)mn[Tn]=mn[Tn].value;return mn}function Du(mn,An){for(var Tn,Qn=-1,Sr=mn.length;++Qn<Sr;){var Fr=An(mn[Qn]);Fr!==a&&(Tn=Tn===a?Fr:Tn+Fr)}return Tn}function Ou(mn,An){for(var Tn=-1,Qn=Array(mn);++Tn<mn;)Qn[Tn]=An(Tn);return Qn}function zy(mn,An){return Hr(An,function(Tn){return[Tn,mn[Tn]]})}function Vp(mn){return mn&&mn.slice(0,Wp(mn)+1).replace(Ls,"")}function Ds(mn){return function(An){return mn(An)}}function Nu(mn,An){return Hr(An,function(Tn){return mn[Tn]})}function Al(mn,An){return mn.has(An)}function Bp(mn,An){for(var Tn=-1,Qn=mn.length;++Tn<Qn&&Xo(An,mn[Tn],0)>-1;);return Tn}function zp(mn,An){for(var Tn=mn.length;Tn--&&Xo(An,mn[Tn],0)>-1;);return Tn}function Uy(mn,An){for(var Tn=mn.length,Qn=0;Tn--;)mn[Tn]===An&&++Qn;return Qn}var Wy=Fu(Jt),jy=Fu(pn);function Hy(mn){return"\\"+sn[mn]}function Gy(mn,An){return mn==null?a:mn[An]}function Yo(mn){return Ho.test(mn)}function Ky(mn){return oo.test(mn)}function Xy(mn){for(var An,Tn=[];!(An=mn.next()).done;)Tn.push(An.value);return Tn}function Vu(mn){var An=-1,Tn=Array(mn.size);return mn.forEach(function(Qn,Sr){Tn[++An]=[Sr,Qn]}),Tn}function Up(mn,An){return function(Tn){return mn(An(Tn))}}function Co(mn,An){for(var Tn=-1,Qn=mn.length,Sr=0,Fr=[];++Tn<Qn;){var ts=mn[Tn];(ts===An||ts===j)&&(mn[Tn]=j,Fr[Sr++]=Tn)}return Fr}function Kl(mn){var An=-1,Tn=Array(mn.size);return mn.forEach(function(Qn){Tn[++An]=Qn}),Tn}function Yy(mn){var An=-1,Tn=Array(mn.size);return mn.forEach(function(Qn){Tn[++An]=[Qn,Qn]}),Tn}function qy(mn,An,Tn){for(var Qn=Tn-1,Sr=mn.length;++Qn<Sr;)if(mn[Qn]===An)return Qn;return-1}function Qy(mn,An,Tn){for(var Qn=Tn+1;Qn--;)if(mn[Qn]===An)return Qn;return Qn}function qo(mn){return Yo(mn)?Jy(mn):Dy(mn)}function ba(mn){return Yo(mn)?ev(mn):Oy(mn)}function Wp(mn){for(var An=mn.length;An--&&Js.test(mn.charAt(An)););return An}var Zy=Fu(zt);function Jy(mn){for(var An=Es.lastIndex=0;Es.test(mn);)++An;return An}function ev(mn){return mn.match(Es)||[]}function tv(mn){return mn.match(ao)||[]}var nv=function mn(An){An=An==null?sr:Qo.defaults(sr.Object(),An,Qo.pick(sr,Go));var Tn=An.Array,Qn=An.Date,Sr=An.Error,Fr=An.Function,ts=An.Math,zr=An.Object,Bu=An.RegExp,rv=An.String,Gs=An.TypeError,Xl=Tn.prototype,iv=Fr.prototype,Zo=zr.prototype,Yl=An["__core-js_shared__"],Ql=iv.toString,Vr=Zo.hasOwnProperty,sv=0,jp=function(){var ct=/[^.]+$/.exec(Yl&&Yl.keys&&Yl.keys.IE_PROTO||"");return ct?"Symbol(src)_1."+ct:""}(),Zl=Zo.toString,av=Ql.call(zr),ov=sr._,lv=Bu("^"+Ql.call(Vr).replace(Is,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jl=Br?An.Buffer:a,$o=An.Symbol,eu=An.Uint8Array,Hp=Jl?Jl.allocUnsafe:a,tu=Up(zr.getPrototypeOf,zr),Gp=zr.create,Kp=Zo.propertyIsEnumerable,nu=Xl.splice,Xp=$o?$o.isConcatSpreadable:a,Rl=$o?$o.iterator:a,Fo=$o?$o.toStringTag:a,ru=function(){try{var ct=Bo(zr,"defineProperty");return ct({},"",{}),ct}catch{}}(),uv=An.clearTimeout!==sr.clearTimeout&&An.clearTimeout,cv=Qn&&Qn.now!==sr.Date.now&&Qn.now,hv=An.setTimeout!==sr.setTimeout&&An.setTimeout,iu=ts.ceil,su=ts.floor,zu=zr.getOwnPropertySymbols,fv=Jl?Jl.isBuffer:a,Yp=An.isFinite,dv=Xl.join,pv=Up(zr.keys,zr),ns=ts.max,fs=ts.min,mv=Qn.now,gv=An.parseInt,qp=ts.random,yv=Xl.reverse,Uu=Bo(An,"DataView"),Il=Bo(An,"Map"),Wu=Bo(An,"Promise"),Jo=Bo(An,"Set"),Ll=Bo(An,"WeakMap"),Ml=Bo(zr,"create"),au=Ll&&new Ll,yl={},vv=zo(Uu),xv=zo(Il),bv=zo(Wu),_v=zo(Jo),Sv=zo(Ll),ou=$o?$o.prototype:a,Pl=ou?ou.valueOf:a,Qp=ou?ou.toString:a;function Ht(ct){if(Xr(ct)&&!wr(ct)&&!(ct instanceof Rr)){if(ct instanceof Ks)return ct;if(Vr.call(ct,"__wrapped__"))return Zm(ct)}return new Ks(ct)}var xl=function(){function ct(){}return function(bt){if(!Kr(bt))return{};if(Gp)return Gp(bt);ct.prototype=bt;var Et=new ct;return ct.prototype=a,Et}}();function lu(){}function Ks(ct,bt){this.__wrapped__=ct,this.__actions__=[],this.__chain__=!!bt,this.__index__=0,this.__values__=a}Ht.templateSettings={escape:yr,evaluate:ls,interpolate:Jr,variable:"",imports:{_:Ht}},Ht.prototype=lu.prototype,Ht.prototype.constructor=Ht,Ks.prototype=xl(lu.prototype),Ks.prototype.constructor=Ks;function Rr(ct){this.__wrapped__=ct,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=rn,this.__views__=[]}function wv(){var ct=new Rr(this.__wrapped__);return ct.__actions__=ks(this.__actions__),ct.__dir__=this.__dir__,ct.__filtered__=this.__filtered__,ct.__iteratees__=ks(this.__iteratees__),ct.__takeCount__=this.__takeCount__,ct.__views__=ks(this.__views__),ct}function Tv(){if(this.__filtered__){var ct=new Rr(this);ct.__dir__=-1,ct.__filtered__=!0}else ct=this.clone(),ct.__dir__*=-1;return ct}function Ev(){var ct=this.__wrapped__.value(),bt=this.__dir__,Et=wr(ct),It=bt<0,Nt=Et?ct.length:0,Yt=O0(0,Nt,this.__views__),on=Yt.start,un=Yt.end,gn=un-on,Rn=It?un:on-1,In=this.__iteratees__,Fn=In.length,Xn=0,ar=fs(gn,this.__takeCount__);if(!Et||!It&&Nt==gn&&ar==gn)return _m(ct,this.__actions__);var pr=[];e:for(;gn--&&Xn<ar;){Rn+=bt;for(var Cr=-1,mr=ct[Rn];++Cr<Fn;){var Ar=In[Cr],Ir=Ar.iteratee,Vs=Ar.type,bs=Ir(mr);if(Vs==Lt)mr=bs;else if(!bs){if(Vs==Rt)continue e;break e}}pr[Xn++]=mr}return pr}Rr.prototype=xl(lu.prototype),Rr.prototype.constructor=Rr;function Do(ct){var bt=-1,Et=ct==null?0:ct.length;for(this.clear();++bt<Et;){var It=ct[bt];this.set(It[0],It[1])}}function kv(){this.__data__=Ml?Ml(null):{},this.size=0}function Cv(ct){var bt=this.has(ct)&&delete this.__data__[ct];return this.size-=bt?1:0,bt}function $v(ct){var bt=this.__data__;if(Ml){var Et=bt[ct];return Et===rt?a:Et}return Vr.call(bt,ct)?bt[ct]:a}function Av(ct){var bt=this.__data__;return Ml?bt[ct]!==a:Vr.call(bt,ct)}function Rv(ct,bt){var Et=this.__data__;return this.size+=this.has(ct)?0:1,Et[ct]=Ml&&bt===a?rt:bt,this}Do.prototype.clear=kv,Do.prototype.delete=Cv,Do.prototype.get=$v,Do.prototype.has=Av,Do.prototype.set=Rv;function go(ct){var bt=-1,Et=ct==null?0:ct.length;for(this.clear();++bt<Et;){var It=ct[bt];this.set(It[0],It[1])}}function Iv(){this.__data__=[],this.size=0}function Lv(ct){var bt=this.__data__,Et=uu(bt,ct);if(Et<0)return!1;var It=bt.length-1;return Et==It?bt.pop():nu.call(bt,Et,1),--this.size,!0}function Mv(ct){var bt=this.__data__,Et=uu(bt,ct);return Et<0?a:bt[Et][1]}function Pv(ct){return uu(this.__data__,ct)>-1}function Fv(ct,bt){var Et=this.__data__,It=uu(Et,ct);return It<0?(++this.size,Et.push([ct,bt])):Et[It][1]=bt,this}go.prototype.clear=Iv,go.prototype.delete=Lv,go.prototype.get=Mv,go.prototype.has=Pv,go.prototype.set=Fv;function yo(ct){var bt=-1,Et=ct==null?0:ct.length;for(this.clear();++bt<Et;){var It=ct[bt];this.set(It[0],It[1])}}function Dv(){this.size=0,this.__data__={hash:new Do,map:new(Il||go),string:new Do}}function Ov(ct){var bt=_u(this,ct).delete(ct);return this.size-=bt?1:0,bt}function Nv(ct){return _u(this,ct).get(ct)}function Vv(ct){return _u(this,ct).has(ct)}function Bv(ct,bt){var Et=_u(this,ct),It=Et.size;return Et.set(ct,bt),this.size+=Et.size==It?0:1,this}yo.prototype.clear=Dv,yo.prototype.delete=Ov,yo.prototype.get=Nv,yo.prototype.has=Vv,yo.prototype.set=Bv;function Oo(ct){var bt=-1,Et=ct==null?0:ct.length;for(this.__data__=new yo;++bt<Et;)this.add(ct[bt])}function zv(ct){return this.__data__.set(ct,rt),this}function Uv(ct){return this.__data__.has(ct)}Oo.prototype.add=Oo.prototype.push=zv,Oo.prototype.has=Uv;function $a(ct){var bt=this.__data__=new go(ct);this.size=bt.size}function Wv(){this.__data__=new go,this.size=0}function jv(ct){var bt=this.__data__,Et=bt.delete(ct);return this.size=bt.size,Et}function Hv(ct){return this.__data__.get(ct)}function Gv(ct){return this.__data__.has(ct)}function Kv(ct,bt){var Et=this.__data__;if(Et instanceof go){var It=Et.__data__;if(!Il||It.length<it-1)return It.push([ct,bt]),this.size=++Et.size,this;Et=this.__data__=new yo(It)}return Et.set(ct,bt),this.size=Et.size,this}$a.prototype.clear=Wv,$a.prototype.delete=jv,$a.prototype.get=Hv,$a.prototype.has=Gv,$a.prototype.set=Kv;function Zp(ct,bt){var Et=wr(ct),It=!Et&&Uo(ct),Nt=!Et&&!It&&Mo(ct),Yt=!Et&&!It&&!Nt&&El(ct),on=Et||It||Nt||Yt,un=on?Ou(ct.length,rv):[],gn=un.length;for(var Rn in ct)(bt||Vr.call(ct,Rn))&&!(on&&(Rn=="length"||Nt&&(Rn=="offset"||Rn=="parent")||Yt&&(Rn=="buffer"||Rn=="byteLength"||Rn=="byteOffset")||_o(Rn,gn)))&&un.push(Rn);return un}function Jp(ct){var bt=ct.length;return bt?ct[ep(0,bt-1)]:a}function Xv(ct,bt){return Su(ks(ct),No(bt,0,ct.length))}function Yv(ct){return Su(ks(ct))}function ju(ct,bt,Et){(Et!==a&&!eo(ct[bt],Et)||Et===a&&!(bt in ct))&&vo(ct,bt,Et)}function Fl(ct,bt,Et){var It=ct[bt];(!(Vr.call(ct,bt)&&eo(It,Et))||Et===a&&!(bt in ct))&&vo(ct,bt,Et)}function uu(ct,bt){for(var Et=ct.length;Et--;)if(eo(ct[Et][0],bt))return Et;return-1}function qv(ct,bt,Et,It){return Ao(ct,function(Nt,Yt,on){bt(It,Nt,Et(Nt),on)}),It}function em(ct,bt){return ct&&co(bt,os(bt),ct)}function Qv(ct,bt){return ct&&co(bt,$s(bt),ct)}function vo(ct,bt,Et){bt=="__proto__"&&ru?ru(ct,bt,{configurable:!0,enumerable:!0,value:Et,writable:!0}):ct[bt]=Et}function Hu(ct,bt){for(var Et=-1,It=bt.length,Nt=Tn(It),Yt=ct==null;++Et<It;)Nt[Et]=Yt?a:Ep(ct,bt[Et]);return Nt}function No(ct,bt,Et){return ct===ct&&(Et!==a&&(ct=ct<=Et?ct:Et),bt!==a&&(ct=ct>=bt?ct:bt)),ct}function Xs(ct,bt,Et,It,Nt,Yt){var on,un=bt&_,gn=bt&$,Rn=bt&et;if(Et&&(on=Nt?Et(ct,It,Nt,Yt):Et(ct)),on!==a)return on;if(!Kr(ct))return ct;var In=wr(ct);if(In){if(on=V0(ct),!un)return ks(ct,on)}else{var Fn=ds(ct),Xn=Fn==Qt||Fn==Gt;if(Mo(ct))return Tm(ct,un);if(Fn==qn||Fn==ln||Xn&&!Nt){if(on=gn||Xn?{}:Wm(ct),!un)return gn?$0(ct,Qv(on,ct)):C0(ct,em(on,ct))}else{if(!Dr[Fn])return Nt?ct:{};on=B0(ct,Fn,un)}}Yt||(Yt=new $a);var ar=Yt.get(ct);if(ar)return ar;Yt.set(ct,on),vy(ct)?ct.forEach(function(mr){on.add(Xs(mr,bt,Et,mr,ct,Yt))}):gy(ct)&&ct.forEach(function(mr,Ar){on.set(Ar,Xs(mr,bt,Et,Ar,ct,Yt))});var pr=Rn?gn?hp:cp:gn?$s:os,Cr=In?a:pr(ct);return Hs(Cr||ct,function(mr,Ar){Cr&&(Ar=mr,mr=ct[Ar]),Fl(on,Ar,Xs(mr,bt,Et,Ar,ct,Yt))}),on}function Zv(ct){var bt=os(ct);return function(Et){return tm(Et,ct,bt)}}function tm(ct,bt,Et){var It=Et.length;if(ct==null)return!It;for(ct=zr(ct);It--;){var Nt=Et[It],Yt=bt[Nt],on=ct[Nt];if(on===a&&!(Nt in ct)||!Yt(on))return!1}return!0}function nm(ct,bt,Et){if(typeof ct!="function")throw new Gs(at);return Ul(function(){ct.apply(a,Et)},bt)}function Dl(ct,bt,Et,It){var Nt=-1,Yt=Hl,on=!0,un=ct.length,gn=[],Rn=bt.length;if(!un)return gn;Et&&(bt=Hr(bt,Ds(Et))),It?(Yt=Iu,on=!1):bt.length>=it&&(Yt=Al,on=!1,bt=new Oo(bt));e:for(;++Nt<un;){var In=ct[Nt],Fn=Et==null?In:Et(In);if(In=It||In!==0?In:0,on&&Fn===Fn){for(var Xn=Rn;Xn--;)if(bt[Xn]===Fn)continue e;gn.push(In)}else Yt(bt,Fn,It)||gn.push(In)}return gn}var Ao=Am(uo),rm=Am(Ku,!0);function Jv(ct,bt){var Et=!0;return Ao(ct,function(It,Nt,Yt){return Et=!!bt(It,Nt,Yt),Et}),Et}function cu(ct,bt,Et){for(var It=-1,Nt=ct.length;++It<Nt;){var Yt=ct[It],on=bt(Yt);if(on!=null&&(un===a?on===on&&!Ns(on):Et(on,un)))var un=on,gn=Yt}return gn}function e0(ct,bt,Et,It){var Nt=ct.length;for(Et=kr(Et),Et<0&&(Et=-Et>Nt?0:Nt+Et),It=It===a||It>Nt?Nt:kr(It),It<0&&(It+=Nt),It=Et>It?0:by(It);Et<It;)ct[Et++]=bt;return ct}function im(ct,bt){var Et=[];return Ao(ct,function(It,Nt,Yt){bt(It,Nt,Yt)&&Et.push(It)}),Et}function cs(ct,bt,Et,It,Nt){var Yt=-1,on=ct.length;for(Et||(Et=U0),Nt||(Nt=[]);++Yt<on;){var un=ct[Yt];bt>0&&Et(un)?bt>1?cs(un,bt-1,Et,It,Nt):ko(Nt,un):It||(Nt[Nt.length]=un)}return Nt}var Gu=Rm(),sm=Rm(!0);function uo(ct,bt){return ct&&Gu(ct,bt,os)}function Ku(ct,bt){return ct&&sm(ct,bt,os)}function hu(ct,bt){return Eo(bt,function(Et){return So(ct[Et])})}function Vo(ct,bt){bt=Io(bt,ct);for(var Et=0,It=bt.length;ct!=null&&Et<It;)ct=ct[ho(bt[Et++])];return Et&&Et==It?ct:a}function am(ct,bt,Et){var It=bt(ct);return wr(ct)?It:ko(It,Et(ct))}function vs(ct){return ct==null?ct===a?dr:dn:Fo&&Fo in zr(ct)?D0(ct):Y0(ct)}function Xu(ct,bt){return ct>bt}function t0(ct,bt){return ct!=null&&Vr.call(ct,bt)}function n0(ct,bt){return ct!=null&&bt in zr(ct)}function r0(ct,bt,Et){return ct>=fs(bt,Et)&&ct<ns(bt,Et)}function Yu(ct,bt,Et){for(var It=Et?Iu:Hl,Nt=ct[0].length,Yt=ct.length,on=Yt,un=Tn(Yt),gn=1/0,Rn=[];on--;){var In=ct[on];on&&bt&&(In=Hr(In,Ds(bt))),gn=fs(In.length,gn),un[on]=!Et&&(bt||Nt>=120&&In.length>=120)?new Oo(on&&In):a}In=ct[0];var Fn=-1,Xn=un[0];e:for(;++Fn<Nt&&Rn.length<gn;){var ar=In[Fn],pr=bt?bt(ar):ar;if(ar=Et||ar!==0?ar:0,!(Xn?Al(Xn,pr):It(Rn,pr,Et))){for(on=Yt;--on;){var Cr=un[on];if(!(Cr?Al(Cr,pr):It(ct[on],pr,Et)))continue e}Xn&&Xn.push(pr),Rn.push(ar)}}return Rn}function i0(ct,bt,Et,It){return uo(ct,function(Nt,Yt,on){bt(It,Et(Nt),Yt,on)}),It}function Ol(ct,bt,Et){bt=Io(bt,ct),ct=Km(ct,bt);var It=ct==null?ct:ct[ho(qs(bt))];return It==null?a:as(It,ct,Et)}function om(ct){return Xr(ct)&&vs(ct)==ln}function s0(ct){return Xr(ct)&&vs(ct)==or}function a0(ct){return Xr(ct)&&vs(ct)==wn}function Nl(ct,bt,Et,It,Nt){return ct===bt?!0:ct==null||bt==null||!Xr(ct)&&!Xr(bt)?ct!==ct&&bt!==bt:o0(ct,bt,Et,It,Nl,Nt)}function o0(ct,bt,Et,It,Nt,Yt){var on=wr(ct),un=wr(bt),gn=on?nn:ds(ct),Rn=un?nn:ds(bt);gn=gn==ln?qn:gn,Rn=Rn==ln?qn:Rn;var In=gn==qn,Fn=Rn==qn,Xn=gn==Rn;if(Xn&&Mo(ct)){if(!Mo(bt))return!1;on=!0,In=!1}if(Xn&&!In)return Yt||(Yt=new $a),on||El(ct)?Bm(ct,bt,Et,It,Nt,Yt):P0(ct,bt,gn,Et,It,Nt,Yt);if(!(Et&st)){var ar=In&&Vr.call(ct,"__wrapped__"),pr=Fn&&Vr.call(bt,"__wrapped__");if(ar||pr){var Cr=ar?ct.value():ct,mr=pr?bt.value():bt;return Yt||(Yt=new $a),Nt(Cr,mr,Et,It,Yt)}}return Xn?(Yt||(Yt=new $a),F0(ct,bt,Et,It,Nt,Yt)):!1}function l0(ct){return Xr(ct)&&ds(ct)==cn}function qu(ct,bt,Et,It){var Nt=Et.length,Yt=Nt,on=!It;if(ct==null)return!Yt;for(ct=zr(ct);Nt--;){var un=Et[Nt];if(on&&un[2]?un[1]!==ct[un[0]]:!(un[0]in ct))return!1}for(;++Nt<Yt;){un=Et[Nt];var gn=un[0],Rn=ct[gn],In=un[1];if(on&&un[2]){if(Rn===a&&!(gn in ct))return!1}else{var Fn=new $a;if(It)var Xn=It(Rn,In,gn,ct,bt,Fn);if(!(Xn===a?Nl(In,Rn,st|lt,It,Fn):Xn))return!1}}return!0}function lm(ct){if(!Kr(ct)||j0(ct))return!1;var bt=So(ct)?lv:ro;return bt.test(zo(ct))}function u0(ct){return Xr(ct)&&vs(ct)==Mr}function c0(ct){return Xr(ct)&&ds(ct)==En}function h0(ct){return Xr(ct)&&$u(ct.length)&&!!Nr[vs(ct)]}function um(ct){return typeof ct=="function"?ct:ct==null?As:typeof ct=="object"?wr(ct)?fm(ct[0],ct[1]):hm(ct):Iy(ct)}function Qu(ct){if(!zl(ct))return pv(ct);var bt=[];for(var Et in zr(ct))Vr.call(ct,Et)&&Et!="constructor"&&bt.push(Et);return bt}function f0(ct){if(!Kr(ct))return X0(ct);var bt=zl(ct),Et=[];for(var It in ct)It=="constructor"&&(bt||!Vr.call(ct,It))||Et.push(It);return Et}function Zu(ct,bt){return ct<bt}function cm(ct,bt){var Et=-1,It=Cs(ct)?Tn(ct.length):[];return Ao(ct,function(Nt,Yt,on){It[++Et]=bt(Nt,Yt,on)}),It}function hm(ct){var bt=dp(ct);return bt.length==1&&bt[0][2]?Hm(bt[0][0],bt[0][1]):function(Et){return Et===ct||qu(Et,ct,bt)}}function fm(ct,bt){return mp(ct)&&jm(bt)?Hm(ho(ct),bt):function(Et){var It=Ep(Et,ct);return It===a&&It===bt?kp(Et,ct):Nl(bt,It,st|lt)}}function fu(ct,bt,Et,It,Nt){ct!==bt&&Gu(bt,function(Yt,on){if(Nt||(Nt=new $a),Kr(Yt))d0(ct,bt,on,Et,fu,It,Nt);else{var un=It?It(yp(ct,on),Yt,on+"",ct,bt,Nt):a;un===a&&(un=Yt),ju(ct,on,un)}},$s)}function d0(ct,bt,Et,It,Nt,Yt,on){var un=yp(ct,Et),gn=yp(bt,Et),Rn=on.get(gn);if(Rn){ju(ct,Et,Rn);return}var In=Yt?Yt(un,gn,Et+"",ct,bt,on):a,Fn=In===a;if(Fn){var Xn=wr(gn),ar=!Xn&&Mo(gn),pr=!Xn&&!ar&&El(gn);In=gn,Xn||ar||pr?wr(un)?In=un:Qr(un)?In=ks(un):ar?(Fn=!1,In=Tm(gn,!0)):pr?(Fn=!1,In=Em(gn,!0)):In=[]:Wl(gn)||Uo(gn)?(In=un,Uo(un)?In=_y(un):(!Kr(un)||So(un))&&(In=Wm(gn))):Fn=!1}Fn&&(on.set(gn,In),Nt(In,gn,It,Yt,on),on.delete(gn)),ju(ct,Et,In)}function dm(ct,bt){var Et=ct.length;if(!!Et)return bt+=bt<0?Et:0,_o(bt,Et)?ct[bt]:a}function pm(ct,bt,Et){bt.length?bt=Hr(bt,function(Yt){return wr(Yt)?function(on){return Vo(on,Yt.length===1?Yt[0]:Yt)}:Yt}):bt=[As];var It=-1;bt=Hr(bt,Ds(fr()));var Nt=cm(ct,function(Yt,on,un){var gn=Hr(bt,function(Rn){return Rn(Yt)});return{criteria:gn,index:++It,value:Yt}});return By(Nt,function(Yt,on){return k0(Yt,on,Et)})}function p0(ct,bt){return mm(ct,bt,function(Et,It){return kp(ct,It)})}function mm(ct,bt,Et){for(var It=-1,Nt=bt.length,Yt={};++It<Nt;){var on=bt[It],un=Vo(ct,on);Et(un,on)&&Vl(Yt,Io(on,ct),un)}return Yt}function m0(ct){return function(bt){return Vo(bt,ct)}}function Ju(ct,bt,Et,It){var Nt=It?Vy:Xo,Yt=-1,on=bt.length,un=ct;for(ct===bt&&(bt=ks(bt)),Et&&(un=Hr(ct,Ds(Et)));++Yt<on;)for(var gn=0,Rn=bt[Yt],In=Et?Et(Rn):Rn;(gn=Nt(un,In,gn,It))>-1;)un!==ct&&nu.call(un,gn,1),nu.call(ct,gn,1);return ct}function gm(ct,bt){for(var Et=ct?bt.length:0,It=Et-1;Et--;){var Nt=bt[Et];if(Et==It||Nt!==Yt){var Yt=Nt;_o(Nt)?nu.call(ct,Nt,1):rp(ct,Nt)}}return ct}function ep(ct,bt){return ct+su(qp()*(bt-ct+1))}function g0(ct,bt,Et,It){for(var Nt=-1,Yt=ns(iu((bt-ct)/(Et||1)),0),on=Tn(Yt);Yt--;)on[It?Yt:++Nt]=ct,ct+=Et;return on}function tp(ct,bt){var Et="";if(!ct||bt<1||bt>Pt)return Et;do bt%2&&(Et+=ct),bt=su(bt/2),bt&&(ct+=ct);while(bt);return Et}function $r(ct,bt){return vp(Gm(ct,bt,As),ct+"")}function y0(ct){return Jp(Cl(ct))}function v0(ct,bt){var Et=Cl(ct);return Su(Et,No(bt,0,Et.length))}function Vl(ct,bt,Et,It){if(!Kr(ct))return ct;bt=Io(bt,ct);for(var Nt=-1,Yt=bt.length,on=Yt-1,un=ct;un!=null&&++Nt<Yt;){var gn=ho(bt[Nt]),Rn=Et;if(gn==="__proto__"||gn==="constructor"||gn==="prototype")return ct;if(Nt!=on){var In=un[gn];Rn=It?It(In,gn,un):a,Rn===a&&(Rn=Kr(In)?In:_o(bt[Nt+1])?[]:{})}Fl(un,gn,Rn),un=un[gn]}return ct}var ym=au?function(ct,bt){return au.set(ct,bt),ct}:As,x0=ru?function(ct,bt){return ru(ct,"toString",{configurable:!0,enumerable:!1,value:$p(bt),writable:!0})}:As;function b0(ct){return Su(Cl(ct))}function Ys(ct,bt,Et){var It=-1,Nt=ct.length;bt<0&&(bt=-bt>Nt?0:Nt+bt),Et=Et>Nt?Nt:Et,Et<0&&(Et+=Nt),Nt=bt>Et?0:Et-bt>>>0,bt>>>=0;for(var Yt=Tn(Nt);++It<Nt;)Yt[It]=ct[It+bt];return Yt}function _0(ct,bt){var Et;return Ao(ct,function(It,Nt,Yt){return Et=bt(It,Nt,Yt),!Et}),!!Et}function du(ct,bt,Et){var It=0,Nt=ct==null?It:ct.length;if(typeof bt=="number"&&bt===bt&&Nt<=Vt){for(;It<Nt;){var Yt=It+Nt>>>1,on=ct[Yt];on!==null&&!Ns(on)&&(Et?on<=bt:on<bt)?It=Yt+1:Nt=Yt}return Nt}return np(ct,bt,As,Et)}function np(ct,bt,Et,It){var Nt=0,Yt=ct==null?0:ct.length;if(Yt===0)return 0;bt=Et(bt);for(var on=bt!==bt,un=bt===null,gn=Ns(bt),Rn=bt===a;Nt<Yt;){var In=su((Nt+Yt)/2),Fn=Et(ct[In]),Xn=Fn!==a,ar=Fn===null,pr=Fn===Fn,Cr=Ns(Fn);if(on)var mr=It||pr;else Rn?mr=pr&&(It||Xn):un?mr=pr&&Xn&&(It||!ar):gn?mr=pr&&Xn&&!ar&&(It||!Cr):ar||Cr?mr=!1:mr=It?Fn<=bt:Fn<bt;mr?Nt=In+1:Yt=In}return fs(Yt,jt)}function vm(ct,bt){for(var Et=-1,It=ct.length,Nt=0,Yt=[];++Et<It;){var on=ct[Et],un=bt?bt(on):on;if(!Et||!eo(un,gn)){var gn=un;Yt[Nt++]=on===0?0:on}}return Yt}function xm(ct){return typeof ct=="number"?ct:Ns(ct)?Xt:+ct}function Os(ct){if(typeof ct=="string")return ct;if(wr(ct))return Hr(ct,Os)+"";if(Ns(ct))return Qp?Qp.call(ct):"";var bt=ct+"";return bt=="0"&&1/ct==-Wt?"-0":bt}function Ro(ct,bt,Et){var It=-1,Nt=Hl,Yt=ct.length,on=!0,un=[],gn=un;if(Et)on=!1,Nt=Iu;else if(Yt>=it){var Rn=bt?null:L0(ct);if(Rn)return Kl(Rn);on=!1,Nt=Al,gn=new Oo}else gn=bt?[]:un;e:for(;++It<Yt;){var In=ct[It],Fn=bt?bt(In):In;if(In=Et||In!==0?In:0,on&&Fn===Fn){for(var Xn=gn.length;Xn--;)if(gn[Xn]===Fn)continue e;bt&&gn.push(Fn),un.push(In)}else Nt(gn,Fn,Et)||(gn!==un&&gn.push(Fn),un.push(In))}return un}function rp(ct,bt){return bt=Io(bt,ct),ct=Km(ct,bt),ct==null||delete ct[ho(qs(bt))]}function bm(ct,bt,Et,It){return Vl(ct,bt,Et(Vo(ct,bt)),It)}function pu(ct,bt,Et,It){for(var Nt=ct.length,Yt=It?Nt:-1;(It?Yt--:++Yt<Nt)&&bt(ct[Yt],Yt,ct););return Et?Ys(ct,It?0:Yt,It?Yt+1:Nt):Ys(ct,It?Yt+1:0,It?Nt:Yt)}function _m(ct,bt){var Et=ct;return Et instanceof Rr&&(Et=Et.value()),Lu(bt,function(It,Nt){return Nt.func.apply(Nt.thisArg,ko([It],Nt.args))},Et)}function ip(ct,bt,Et){var It=ct.length;if(It<2)return It?Ro(ct[0]):[];for(var Nt=-1,Yt=Tn(It);++Nt<It;)for(var on=ct[Nt],un=-1;++un<It;)un!=Nt&&(Yt[Nt]=Dl(Yt[Nt]||on,ct[un],bt,Et));return Ro(cs(Yt,1),bt,Et)}function Sm(ct,bt,Et){for(var It=-1,Nt=ct.length,Yt=bt.length,on={};++It<Nt;){var un=It<Yt?bt[It]:a;Et(on,ct[It],un)}return on}function sp(ct){return Qr(ct)?ct:[]}function ap(ct){return typeof ct=="function"?ct:As}function Io(ct,bt){return wr(ct)?ct:mp(ct,bt)?[ct]:Qm(Or(ct))}var S0=$r;function Lo(ct,bt,Et){var It=ct.length;return Et=Et===a?It:Et,!bt&&Et>=It?ct:Ys(ct,bt,Et)}var wm=uv||function(ct){return sr.clearTimeout(ct)};function Tm(ct,bt){if(bt)return ct.slice();var Et=ct.length,It=Hp?Hp(Et):new ct.constructor(Et);return ct.copy(It),It}function op(ct){var bt=new ct.constructor(ct.byteLength);return new eu(bt).set(new eu(ct)),bt}function w0(ct,bt){var Et=bt?op(ct.buffer):ct.buffer;return new ct.constructor(Et,ct.byteOffset,ct.byteLength)}function T0(ct){var bt=new ct.constructor(ct.source,Wr.exec(ct));return bt.lastIndex=ct.lastIndex,bt}function E0(ct){return Pl?zr(Pl.call(ct)):{}}function Em(ct,bt){var Et=bt?op(ct.buffer):ct.buffer;return new ct.constructor(Et,ct.byteOffset,ct.length)}function km(ct,bt){if(ct!==bt){var Et=ct!==a,It=ct===null,Nt=ct===ct,Yt=Ns(ct),on=bt!==a,un=bt===null,gn=bt===bt,Rn=Ns(bt);if(!un&&!Rn&&!Yt&&ct>bt||Yt&&on&&gn&&!un&&!Rn||It&&on&&gn||!Et&&gn||!Nt)return 1;if(!It&&!Yt&&!Rn&&ct<bt||Rn&&Et&&Nt&&!It&&!Yt||un&&Et&&Nt||!on&&Nt||!gn)return-1}return 0}function k0(ct,bt,Et){for(var It=-1,Nt=ct.criteria,Yt=bt.criteria,on=Nt.length,un=Et.length;++It<on;){var gn=km(Nt[It],Yt[It]);if(gn){if(It>=un)return gn;var Rn=Et[It];return gn*(Rn=="desc"?-1:1)}}return ct.index-bt.index}function Cm(ct,bt,Et,It){for(var Nt=-1,Yt=ct.length,on=Et.length,un=-1,gn=bt.length,Rn=ns(Yt-on,0),In=Tn(gn+Rn),Fn=!It;++un<gn;)In[un]=bt[un];for(;++Nt<on;)(Fn||Nt<Yt)&&(In[Et[Nt]]=ct[Nt]);for(;Rn--;)In[un++]=ct[Nt++];return In}function $m(ct,bt,Et,It){for(var Nt=-1,Yt=ct.length,on=-1,un=Et.length,gn=-1,Rn=bt.length,In=ns(Yt-un,0),Fn=Tn(In+Rn),Xn=!It;++Nt<In;)Fn[Nt]=ct[Nt];for(var ar=Nt;++gn<Rn;)Fn[ar+gn]=bt[gn];for(;++on<un;)(Xn||Nt<Yt)&&(Fn[ar+Et[on]]=ct[Nt++]);return Fn}function ks(ct,bt){var Et=-1,It=ct.length;for(bt||(bt=Tn(It));++Et<It;)bt[Et]=ct[Et];return bt}function co(ct,bt,Et,It){var Nt=!Et;Et||(Et={});for(var Yt=-1,on=bt.length;++Yt<on;){var un=bt[Yt],gn=It?It(Et[un],ct[un],un,Et,ct):a;gn===a&&(gn=ct[un]),Nt?vo(Et,un,gn):Fl(Et,un,gn)}return Et}function C0(ct,bt){return co(ct,pp(ct),bt)}function $0(ct,bt){return co(ct,zm(ct),bt)}function mu(ct,bt){return function(Et,It){var Nt=wr(Et)?My:qv,Yt=bt?bt():{};return Nt(Et,ct,fr(It,2),Yt)}}function _l(ct){return $r(function(bt,Et){var It=-1,Nt=Et.length,Yt=Nt>1?Et[Nt-1]:a,on=Nt>2?Et[2]:a;for(Yt=ct.length>3&&typeof Yt=="function"?(Nt--,Yt):a,on&&xs(Et[0],Et[1],on)&&(Yt=Nt<3?a:Yt,Nt=1),bt=zr(bt);++It<Nt;){var un=Et[It];un&&ct(bt,un,It,Yt)}return bt})}function Am(ct,bt){return function(Et,It){if(Et==null)return Et;if(!Cs(Et))return ct(Et,It);for(var Nt=Et.length,Yt=bt?Nt:-1,on=zr(Et);(bt?Yt--:++Yt<Nt)&&It(on[Yt],Yt,on)!==!1;);return Et}}function Rm(ct){return function(bt,Et,It){for(var Nt=-1,Yt=zr(bt),on=It(bt),un=on.length;un--;){var gn=on[ct?un:++Nt];if(Et(Yt[gn],gn,Yt)===!1)break}return bt}}function A0(ct,bt,Et){var It=bt&ft,Nt=Bl(ct);function Yt(){var on=this&&this!==sr&&this instanceof Yt?Nt:ct;return on.apply(It?Et:this,arguments)}return Yt}function Im(ct){return function(bt){bt=Or(bt);var Et=Yo(bt)?ba(bt):a,It=Et?Et[0]:bt.charAt(0),Nt=Et?Lo(Et,1).join(""):bt.slice(1);return It[ct]()+Nt}}function Sl(ct){return function(bt){return Lu(Ay($y(bt).replace(mo,"")),ct,"")}}function Bl(ct){return function(){var bt=arguments;switch(bt.length){case 0:return new ct;case 1:return new ct(bt[0]);case 2:return new ct(bt[0],bt[1]);case 3:return new ct(bt[0],bt[1],bt[2]);case 4:return new ct(bt[0],bt[1],bt[2],bt[3]);case 5:return new ct(bt[0],bt[1],bt[2],bt[3],bt[4]);case 6:return new ct(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]);case 7:return new ct(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6])}var Et=xl(ct.prototype),It=ct.apply(Et,bt);return Kr(It)?It:Et}}function R0(ct,bt,Et){var It=Bl(ct);function Nt(){for(var Yt=arguments.length,on=Tn(Yt),un=Yt,gn=Tl(Nt);un--;)on[un]=arguments[un];var Rn=Yt<3&&on[0]!==gn&&on[Yt-1]!==gn?[]:Co(on,gn);if(Yt-=Rn.length,Yt<Et)return Dm(ct,bt,gu,Nt.placeholder,a,on,Rn,a,a,Et-Yt);var In=this&&this!==sr&&this instanceof Nt?It:ct;return as(In,this,on)}return Nt}function Lm(ct){return function(bt,Et,It){var Nt=zr(bt);if(!Cs(bt)){var Yt=fr(Et,3);bt=os(bt),Et=function(un){return Yt(Nt[un],un,Nt)}}var on=ct(bt,Et,It);return on>-1?Nt[Yt?bt[on]:on]:a}}function Mm(ct){return bo(function(bt){var Et=bt.length,It=Et,Nt=Ks.prototype.thru;for(ct&&bt.reverse();It--;){var Yt=bt[It];if(typeof Yt!="function")throw new Gs(at);if(Nt&&!on&&bu(Yt)=="wrapper")var on=new Ks([],!0)}for(It=on?It:Et;++It<Et;){Yt=bt[It];var un=bu(Yt),gn=un=="wrapper"?fp(Yt):a;gn&&gp(gn[0])&&gn[1]==(Tt|pt|dt|yt)&&!gn[4].length&&gn[9]==1?on=on[bu(gn[0])].apply(on,gn[3]):on=Yt.length==1&&gp(Yt)?on[un]():on.thru(Yt)}return function(){var Rn=arguments,In=Rn[0];if(on&&Rn.length==1&&wr(In))return on.plant(In).value();for(var Fn=0,Xn=Et?bt[Fn].apply(this,Rn):In;++Fn<Et;)Xn=bt[Fn].call(this,Xn);return Xn}})}function gu(ct,bt,Et,It,Nt,Yt,on,un,gn,Rn){var In=bt&Tt,Fn=bt&ft,Xn=bt&gt,ar=bt&(pt|vt),pr=bt&ht,Cr=Xn?a:Bl(ct);function mr(){for(var Ar=arguments.length,Ir=Tn(Ar),Vs=Ar;Vs--;)Ir[Vs]=arguments[Vs];if(ar)var bs=Tl(mr),Bs=Uy(Ir,bs);if(It&&(Ir=Cm(Ir,It,Nt,ar)),Yt&&(Ir=$m(Ir,Yt,on,ar)),Ar-=Bs,ar&&Ar<Rn){var Zr=Co(Ir,bs);return Dm(ct,bt,gu,mr.placeholder,Et,Ir,Zr,un,gn,Rn-Ar)}var to=Fn?Et:this,To=Xn?to[ct]:ct;return Ar=Ir.length,un?Ir=q0(Ir,un):pr&&Ar>1&&Ir.reverse(),In&&gn<Ar&&(Ir.length=gn),this&&this!==sr&&this instanceof mr&&(To=Cr||Bl(To)),To.apply(to,Ir)}return mr}function Pm(ct,bt){return function(Et,It){return i0(Et,ct,bt(It),{})}}function yu(ct,bt){return function(Et,It){var Nt;if(Et===a&&It===a)return bt;if(Et!==a&&(Nt=Et),It!==a){if(Nt===a)return It;typeof Et=="string"||typeof It=="string"?(Et=Os(Et),It=Os(It)):(Et=xm(Et),It=xm(It)),Nt=ct(Et,It)}return Nt}}function lp(ct){return bo(function(bt){return bt=Hr(bt,Ds(fr())),$r(function(Et){var It=this;return ct(bt,function(Nt){return as(Nt,It,Et)})})})}function vu(ct,bt){bt=bt===a?" ":Os(bt);var Et=bt.length;if(Et<2)return Et?tp(bt,ct):bt;var It=tp(bt,iu(ct/qo(bt)));return Yo(bt)?Lo(ba(It),0,ct).join(""):It.slice(0,ct)}function I0(ct,bt,Et,It){var Nt=bt&ft,Yt=Bl(ct);function on(){for(var un=-1,gn=arguments.length,Rn=-1,In=It.length,Fn=Tn(In+gn),Xn=this&&this!==sr&&this instanceof on?Yt:ct;++Rn<In;)Fn[Rn]=It[Rn];for(;gn--;)Fn[Rn++]=arguments[++un];return as(Xn,Nt?Et:this,Fn)}return on}function Fm(ct){return function(bt,Et,It){return It&&typeof It!="number"&&xs(bt,Et,It)&&(Et=It=a),bt=wo(bt),Et===a?(Et=bt,bt=0):Et=wo(Et),It=It===a?bt<Et?1:-1:wo(It),g0(bt,Et,It,ct)}}function xu(ct){return function(bt,Et){return typeof bt=="string"&&typeof Et=="string"||(bt=Qs(bt),Et=Qs(Et)),ct(bt,Et)}}function Dm(ct,bt,Et,It,Nt,Yt,on,un,gn,Rn){var In=bt&pt,Fn=In?on:a,Xn=In?a:on,ar=In?Yt:a,pr=In?a:Yt;bt|=In?dt:mt,bt&=~(In?mt:dt),bt&ut||(bt&=~(ft|gt));var Cr=[ct,bt,Nt,ar,Fn,pr,Xn,un,gn,Rn],mr=Et.apply(a,Cr);return gp(ct)&&Xm(mr,Cr),mr.placeholder=It,Ym(mr,ct,bt)}function up(ct){var bt=ts[ct];return function(Et,It){if(Et=Qs(Et),It=It==null?0:fs(kr(It),292),It&&Yp(Et)){var Nt=(Or(Et)+"e").split("e"),Yt=bt(Nt[0]+"e"+(+Nt[1]+It));return Nt=(Or(Yt)+"e").split("e"),+(Nt[0]+"e"+(+Nt[1]-It))}return bt(Et)}}var L0=Jo&&1/Kl(new Jo([,-0]))[1]==Wt?function(ct){return new Jo(ct)}:Ip;function Om(ct){return function(bt){var Et=ds(bt);return Et==cn?Vu(bt):Et==En?Yy(bt):zy(bt,ct(bt))}}function xo(ct,bt,Et,It,Nt,Yt,on,un){var gn=bt&gt;if(!gn&&typeof ct!="function")throw new Gs(at);var Rn=It?It.length:0;if(Rn||(bt&=~(dt|mt),It=Nt=a),on=on===a?on:ns(kr(on),0),un=un===a?un:kr(un),Rn-=Nt?Nt.length:0,bt&mt){var In=It,Fn=Nt;It=Nt=a}var Xn=gn?a:fp(ct),ar=[ct,bt,Et,It,Nt,In,Fn,Yt,on,un];if(Xn&&K0(ar,Xn),ct=ar[0],bt=ar[1],Et=ar[2],It=ar[3],Nt=ar[4],un=ar[9]=ar[9]===a?gn?0:ct.length:ns(ar[9]-Rn,0),!un&&bt&(pt|vt)&&(bt&=~(pt|vt)),!bt||bt==ft)var pr=A0(ct,bt,Et);else bt==pt||bt==vt?pr=R0(ct,bt,un):(bt==dt||bt==(ft|dt))&&!Nt.length?pr=I0(ct,bt,Et,It):pr=gu.apply(a,ar);var Cr=Xn?ym:Xm;return Ym(Cr(pr,ar),ct,bt)}function Nm(ct,bt,Et,It){return ct===a||eo(ct,Zo[Et])&&!Vr.call(It,Et)?bt:ct}function Vm(ct,bt,Et,It,Nt,Yt){return Kr(ct)&&Kr(bt)&&(Yt.set(bt,ct),fu(ct,bt,a,Vm,Yt),Yt.delete(bt)),ct}function M0(ct){return Wl(ct)?a:ct}function Bm(ct,bt,Et,It,Nt,Yt){var on=Et&st,un=ct.length,gn=bt.length;if(un!=gn&&!(on&&gn>un))return!1;var Rn=Yt.get(ct),In=Yt.get(bt);if(Rn&&In)return Rn==bt&&In==ct;var Fn=-1,Xn=!0,ar=Et&lt?new Oo:a;for(Yt.set(ct,bt),Yt.set(bt,ct);++Fn<un;){var pr=ct[Fn],Cr=bt[Fn];if(It)var mr=on?It(Cr,pr,Fn,bt,ct,Yt):It(pr,Cr,Fn,ct,bt,Yt);if(mr!==a){if(mr)continue;Xn=!1;break}if(ar){if(!Mu(bt,function(Ar,Ir){if(!Al(ar,Ir)&&(pr===Ar||Nt(pr,Ar,Et,It,Yt)))return ar.push(Ir)})){Xn=!1;break}}else if(!(pr===Cr||Nt(pr,Cr,Et,It,Yt))){Xn=!1;break}}return Yt.delete(ct),Yt.delete(bt),Xn}function P0(ct,bt,Et,It,Nt,Yt,on){switch(Et){case Wn:if(ct.byteLength!=bt.byteLength||ct.byteOffset!=bt.byteOffset)return!1;ct=ct.buffer,bt=bt.buffer;case or:return!(ct.byteLength!=bt.byteLength||!Yt(new eu(ct),new eu(bt)));case fn:case wn:case kn:return eo(+ct,+bt);case qt:return ct.name==bt.name&&ct.message==bt.message;case Mr:case Kn:return ct==bt+"";case cn:var un=Vu;case En:var gn=It&st;if(un||(un=Kl),ct.size!=bt.size&&!gn)return!1;var Rn=on.get(ct);if(Rn)return Rn==bt;It|=lt,on.set(ct,bt);var In=Bm(un(ct),un(bt),It,Nt,Yt,on);return on.delete(ct),In;case Nn:if(Pl)return Pl.call(ct)==Pl.call(bt)}return!1}function F0(ct,bt,Et,It,Nt,Yt){var on=Et&st,un=cp(ct),gn=un.length,Rn=cp(bt),In=Rn.length;if(gn!=In&&!on)return!1;for(var Fn=gn;Fn--;){var Xn=un[Fn];if(!(on?Xn in bt:Vr.call(bt,Xn)))return!1}var ar=Yt.get(ct),pr=Yt.get(bt);if(ar&&pr)return ar==bt&&pr==ct;var Cr=!0;Yt.set(ct,bt),Yt.set(bt,ct);for(var mr=on;++Fn<gn;){Xn=un[Fn];var Ar=ct[Xn],Ir=bt[Xn];if(It)var Vs=on?It(Ir,Ar,Xn,bt,ct,Yt):It(Ar,Ir,Xn,ct,bt,Yt);if(!(Vs===a?Ar===Ir||Nt(Ar,Ir,Et,It,Yt):Vs)){Cr=!1;break}mr||(mr=Xn=="constructor")}if(Cr&&!mr){var bs=ct.constructor,Bs=bt.constructor;bs!=Bs&&"constructor"in ct&&"constructor"in bt&&!(typeof bs=="function"&&bs instanceof bs&&typeof Bs=="function"&&Bs instanceof Bs)&&(Cr=!1)}return Yt.delete(ct),Yt.delete(bt),Cr}function bo(ct){return vp(Gm(ct,a,ty),ct+"")}function cp(ct){return am(ct,os,pp)}function hp(ct){return am(ct,$s,zm)}var fp=au?function(ct){return au.get(ct)}:Ip;function bu(ct){for(var bt=ct.name+"",Et=yl[bt],It=Vr.call(yl,bt)?Et.length:0;It--;){var Nt=Et[It],Yt=Nt.func;if(Yt==null||Yt==ct)return Nt.name}return bt}function Tl(ct){var bt=Vr.call(Ht,"placeholder")?Ht:ct;return bt.placeholder}function fr(){var ct=Ht.iteratee||Ap;return ct=ct===Ap?um:ct,arguments.length?ct(arguments[0],arguments[1]):ct}function _u(ct,bt){var Et=ct.__data__;return W0(bt)?Et[typeof bt=="string"?"string":"hash"]:Et.map}function dp(ct){for(var bt=os(ct),Et=bt.length;Et--;){var It=bt[Et],Nt=ct[It];bt[Et]=[It,Nt,jm(Nt)]}return bt}function Bo(ct,bt){var Et=Gy(ct,bt);return lm(Et)?Et:a}function D0(ct){var bt=Vr.call(ct,Fo),Et=ct[Fo];try{ct[Fo]=a;var It=!0}catch{}var Nt=Zl.call(ct);return It&&(bt?ct[Fo]=Et:delete ct[Fo]),Nt}var pp=zu?function(ct){return ct==null?[]:(ct=zr(ct),Eo(zu(ct),function(bt){return Kp.call(ct,bt)}))}:Lp,zm=zu?function(ct){for(var bt=[];ct;)ko(bt,pp(ct)),ct=tu(ct);return bt}:Lp,ds=vs;(Uu&&ds(new Uu(new ArrayBuffer(1)))!=Wn||Il&&ds(new Il)!=cn||Wu&&ds(Wu.resolve())!=ur||Jo&&ds(new Jo)!=En||Ll&&ds(new Ll)!=Hn)&&(ds=function(ct){var bt=vs(ct),Et=bt==qn?ct.constructor:a,It=Et?zo(Et):"";if(It)switch(It){case vv:return Wn;case xv:return cn;case bv:return ur;case _v:return En;case Sv:return Hn}return bt});function O0(ct,bt,Et){for(var It=-1,Nt=Et.length;++It<Nt;){var Yt=Et[It],on=Yt.size;switch(Yt.type){case"drop":ct+=on;break;case"dropRight":bt-=on;break;case"take":bt=fs(bt,ct+on);break;case"takeRight":ct=ns(ct,bt-on);break}}return{start:ct,end:bt}}function N0(ct){var bt=ct.match(qr);return bt?bt[1].split(na):[]}function Um(ct,bt,Et){bt=Io(bt,ct);for(var It=-1,Nt=bt.length,Yt=!1;++It<Nt;){var on=ho(bt[It]);if(!(Yt=ct!=null&&Et(ct,on)))break;ct=ct[on]}return Yt||++It!=Nt?Yt:(Nt=ct==null?0:ct.length,!!Nt&&$u(Nt)&&_o(on,Nt)&&(wr(ct)||Uo(ct)))}function V0(ct){var bt=ct.length,Et=new ct.constructor(bt);return bt&&typeof ct[0]=="string"&&Vr.call(ct,"index")&&(Et.index=ct.index,Et.input=ct.input),Et}function Wm(ct){return typeof ct.constructor=="function"&&!zl(ct)?xl(tu(ct)):{}}function B0(ct,bt,Et){var It=ct.constructor;switch(bt){case or:return op(ct);case fn:case wn:return new It(+ct);case Wn:return w0(ct,Et);case xr:case Ut:case an:case hn:case On:case Gn:case Pn:case $n:case Yn:return Em(ct,Et);case cn:return new It;case kn:case Kn:return new It(ct);case Mr:return T0(ct);case En:return new It;case Nn:return E0(ct)}}function z0(ct,bt){var Et=bt.length;if(!Et)return ct;var It=Et-1;return bt[It]=(Et>1?"& ":"")+bt[It],bt=bt.join(Et>2?", ":" "),ct.replace(zs,`{
/* [wrapped with `+bt+`] */
`)}function U0(ct){return wr(ct)||Uo(ct)||!!(Xp&&ct&&ct[Xp])}function _o(ct,bt){var Et=typeof ct;return bt=bt==null?Pt:bt,!!bt&&(Et=="number"||Et!="symbol"&&Us.test(ct))&&ct>-1&&ct%1==0&&ct<bt}function xs(ct,bt,Et){if(!Kr(Et))return!1;var It=typeof bt;return(It=="number"?Cs(Et)&&_o(bt,Et.length):It=="string"&&bt in Et)?eo(Et[bt],ct):!1}function mp(ct,bt){if(wr(ct))return!1;var Et=typeof ct;return Et=="number"||Et=="symbol"||Et=="boolean"||ct==null||Ns(ct)?!0:Rs.test(ct)||!_s.test(ct)||bt!=null&&ct in zr(bt)}function W0(ct){var bt=typeof ct;return bt=="string"||bt=="number"||bt=="symbol"||bt=="boolean"?ct!=="__proto__":ct===null}function gp(ct){var bt=bu(ct),Et=Ht[bt];if(typeof Et!="function"||!(bt in Rr.prototype))return!1;if(ct===Et)return!0;var It=fp(Et);return!!It&&ct===It[0]}function j0(ct){return!!jp&&jp in ct}var H0=Yl?So:Mp;function zl(ct){var bt=ct&&ct.constructor,Et=typeof bt=="function"&&bt.prototype||Zo;return ct===Et}function jm(ct){return ct===ct&&!Kr(ct)}function Hm(ct,bt){return function(Et){return Et==null?!1:Et[ct]===bt&&(bt!==a||ct in zr(Et))}}function G0(ct){var bt=ku(ct,function(It){return Et.size===nt&&Et.clear(),It}),Et=bt.cache;return bt}function K0(ct,bt){var Et=ct[1],It=bt[1],Nt=Et|It,Yt=Nt<(ft|gt|Tt),on=It==Tt&&Et==pt||It==Tt&&Et==yt&&ct[7].length<=bt[8]||It==(Tt|yt)&&bt[7].length<=bt[8]&&Et==pt;if(!(Yt||on))return ct;It&ft&&(ct[2]=bt[2],Nt|=Et&ft?0:ut);var un=bt[3];if(un){var gn=ct[3];ct[3]=gn?Cm(gn,un,bt[4]):un,ct[4]=gn?Co(ct[3],j):bt[4]}return un=bt[5],un&&(gn=ct[5],ct[5]=gn?$m(gn,un,bt[6]):un,ct[6]=gn?Co(ct[5],j):bt[6]),un=bt[7],un&&(ct[7]=un),It&Tt&&(ct[8]=ct[8]==null?bt[8]:fs(ct[8],bt[8])),ct[9]==null&&(ct[9]=bt[9]),ct[0]=bt[0],ct[1]=Nt,ct}function X0(ct){var bt=[];if(ct!=null)for(var Et in zr(ct))bt.push(Et);return bt}function Y0(ct){return Zl.call(ct)}function Gm(ct,bt,Et){return bt=ns(bt===a?ct.length-1:bt,0),function(){for(var It=arguments,Nt=-1,Yt=ns(It.length-bt,0),on=Tn(Yt);++Nt<Yt;)on[Nt]=It[bt+Nt];Nt=-1;for(var un=Tn(bt+1);++Nt<bt;)un[Nt]=It[Nt];return un[bt]=Et(on),as(ct,this,un)}}function Km(ct,bt){return bt.length<2?ct:Vo(ct,Ys(bt,0,-1))}function q0(ct,bt){for(var Et=ct.length,It=fs(bt.length,Et),Nt=ks(ct);It--;){var Yt=bt[It];ct[It]=_o(Yt,Et)?Nt[Yt]:a}return ct}function yp(ct,bt){if(!(bt==="constructor"&&typeof ct[bt]=="function")&&bt!="__proto__")return ct[bt]}var Xm=qm(ym),Ul=hv||function(ct,bt){return sr.setTimeout(ct,bt)},vp=qm(x0);function Ym(ct,bt,Et){var It=bt+"";return vp(ct,z0(It,Q0(N0(It),Et)))}function qm(ct){var bt=0,Et=0;return function(){var It=mv(),Nt=Ct-(It-Et);if(Et=It,Nt>0){if(++bt>=kt)return arguments[0]}else bt=0;return ct.apply(a,arguments)}}function Su(ct,bt){var Et=-1,It=ct.length,Nt=It-1;for(bt=bt===a?It:bt;++Et<bt;){var Yt=ep(Et,Nt),on=ct[Yt];ct[Yt]=ct[Et],ct[Et]=on}return ct.length=bt,ct}var Qm=G0(function(ct){var bt=[];return ct.charCodeAt(0)===46&&bt.push(""),ct.replace(Yr,function(Et,It,Nt,Yt){bt.push(Nt?Yt.replace(Ms,"$1"):It||Et)}),bt});function ho(ct){if(typeof ct=="string"||Ns(ct))return ct;var bt=ct+"";return bt=="0"&&1/ct==-Wt?"-0":bt}function zo(ct){if(ct!=null){try{return Ql.call(ct)}catch{}try{return ct+""}catch{}}return""}function Q0(ct,bt){return Hs(en,function(Et){var It="_."+Et[0];bt&Et[1]&&!Hl(ct,It)&&ct.push(It)}),ct.sort()}function Zm(ct){if(ct instanceof Rr)return ct.clone();var bt=new Ks(ct.__wrapped__,ct.__chain__);return bt.__actions__=ks(ct.__actions__),bt.__index__=ct.__index__,bt.__values__=ct.__values__,bt}function Z0(ct,bt,Et){(Et?xs(ct,bt,Et):bt===a)?bt=1:bt=ns(kr(bt),0);var It=ct==null?0:ct.length;if(!It||bt<1)return[];for(var Nt=0,Yt=0,on=Tn(iu(It/bt));Nt<It;)on[Yt++]=Ys(ct,Nt,Nt+=bt);return on}function J0(ct){for(var bt=-1,Et=ct==null?0:ct.length,It=0,Nt=[];++bt<Et;){var Yt=ct[bt];Yt&&(Nt[It++]=Yt)}return Nt}function ex(){var ct=arguments.length;if(!ct)return[];for(var bt=Tn(ct-1),Et=arguments[0],It=ct;It--;)bt[It-1]=arguments[It];return ko(wr(Et)?ks(Et):[Et],cs(bt,1))}var tx=$r(function(ct,bt){return Qr(ct)?Dl(ct,cs(bt,1,Qr,!0)):[]}),nx=$r(function(ct,bt){var Et=qs(bt);return Qr(Et)&&(Et=a),Qr(ct)?Dl(ct,cs(bt,1,Qr,!0),fr(Et,2)):[]}),rx=$r(function(ct,bt){var Et=qs(bt);return Qr(Et)&&(Et=a),Qr(ct)?Dl(ct,cs(bt,1,Qr,!0),a,Et):[]});function ix(ct,bt,Et){var It=ct==null?0:ct.length;return It?(bt=Et||bt===a?1:kr(bt),Ys(ct,bt<0?0:bt,It)):[]}function sx(ct,bt,Et){var It=ct==null?0:ct.length;return It?(bt=Et||bt===a?1:kr(bt),bt=It-bt,Ys(ct,0,bt<0?0:bt)):[]}function ax(ct,bt){return ct&&ct.length?pu(ct,fr(bt,3),!0,!0):[]}function ox(ct,bt){return ct&&ct.length?pu(ct,fr(bt,3),!0):[]}function lx(ct,bt,Et,It){var Nt=ct==null?0:ct.length;return Nt?(Et&&typeof Et!="number"&&xs(ct,bt,Et)&&(Et=0,It=Nt),e0(ct,bt,Et,It)):[]}function Jm(ct,bt,Et){var It=ct==null?0:ct.length;if(!It)return-1;var Nt=Et==null?0:kr(Et);return Nt<0&&(Nt=ns(It+Nt,0)),Gl(ct,fr(bt,3),Nt)}function ey(ct,bt,Et){var It=ct==null?0:ct.length;if(!It)return-1;var Nt=It-1;return Et!==a&&(Nt=kr(Et),Nt=Et<0?ns(It+Nt,0):fs(Nt,It-1)),Gl(ct,fr(bt,3),Nt,!0)}function ty(ct){var bt=ct==null?0:ct.length;return bt?cs(ct,1):[]}function ux(ct){var bt=ct==null?0:ct.length;return bt?cs(ct,Wt):[]}function hx(ct,bt){var Et=ct==null?0:ct.length;return Et?(bt=bt===a?1:kr(bt),cs(ct,bt)):[]}function fx(ct){for(var bt=-1,Et=ct==null?0:ct.length,It={};++bt<Et;){var Nt=ct[bt];It[Nt[0]]=Nt[1]}return It}function ny(ct){return ct&&ct.length?ct[0]:a}function dx(ct,bt,Et){var It=ct==null?0:ct.length;if(!It)return-1;var Nt=Et==null?0:kr(Et);return Nt<0&&(Nt=ns(It+Nt,0)),Xo(ct,bt,Nt)}function mx(ct){var bt=ct==null?0:ct.length;return bt?Ys(ct,0,-1):[]}var gx=$r(function(ct){var bt=Hr(ct,sp);return bt.length&&bt[0]===ct[0]?Yu(bt):[]}),yx=$r(function(ct){var bt=qs(ct),Et=Hr(ct,sp);return bt===qs(Et)?bt=a:Et.pop(),Et.length&&Et[0]===ct[0]?Yu(Et,fr(bt,2)):[]}),vx=$r(function(ct){var bt=qs(ct),Et=Hr(ct,sp);return bt=typeof bt=="function"?bt:a,bt&&Et.pop(),Et.length&&Et[0]===ct[0]?Yu(Et,a,bt):[]});function xx(ct,bt){return ct==null?"":dv.call(ct,bt)}function qs(ct){var bt=ct==null?0:ct.length;return bt?ct[bt-1]:a}function bx(ct,bt,Et){var It=ct==null?0:ct.length;if(!It)return-1;var Nt=It;return Et!==a&&(Nt=kr(Et),Nt=Nt<0?ns(It+Nt,0):fs(Nt,It-1)),bt===bt?Qy(ct,bt,Nt):Gl(ct,Dp,Nt,!0)}function _x(ct,bt){return ct&&ct.length?dm(ct,kr(bt)):a}var Sx=$r(ry);function ry(ct,bt){return ct&&ct.length&&bt&&bt.length?Ju(ct,bt):ct}function wx(ct,bt,Et){return ct&&ct.length&&bt&&bt.length?Ju(ct,bt,fr(Et,2)):ct}function Tx(ct,bt,Et){return ct&&ct.length&&bt&&bt.length?Ju(ct,bt,a,Et):ct}var Ex=bo(function(ct,bt){var Et=ct==null?0:ct.length,It=Hu(ct,bt);return gm(ct,Hr(bt,function(Nt){return _o(Nt,Et)?+Nt:Nt}).sort(km)),It});function kx(ct,bt){var Et=[];if(!(ct&&ct.length))return Et;var It=-1,Nt=[],Yt=ct.length;for(bt=fr(bt,3);++It<Yt;){var on=ct[It];bt(on,It,ct)&&(Et.push(on),Nt.push(It))}return gm(ct,Nt),Et}function xp(ct){return ct==null?ct:yv.call(ct)}function Cx(ct,bt,Et){var It=ct==null?0:ct.length;return It?(Et&&typeof Et!="number"&&xs(ct,bt,Et)?(bt=0,Et=It):(bt=bt==null?0:kr(bt),Et=Et===a?It:kr(Et)),Ys(ct,bt,Et)):[]}function $x(ct,bt){return du(ct,bt)}function Ax(ct,bt,Et){return np(ct,bt,fr(Et,2))}function Rx(ct,bt){var Et=ct==null?0:ct.length;if(Et){var It=du(ct,bt);if(It<Et&&eo(ct[It],bt))return It}return-1}function Ix(ct,bt){return du(ct,bt,!0)}function Lx(ct,bt,Et){return np(ct,bt,fr(Et,2),!0)}function Mx(ct,bt){var Et=ct==null?0:ct.length;if(Et){var It=du(ct,bt,!0)-1;if(eo(ct[It],bt))return It}return-1}function Px(ct){return ct&&ct.length?vm(ct):[]}function Fx(ct,bt){return ct&&ct.length?vm(ct,fr(bt,2)):[]}function Dx(ct){var bt=ct==null?0:ct.length;return bt?Ys(ct,1,bt):[]}function Ox(ct,bt,Et){return ct&&ct.length?(bt=Et||bt===a?1:kr(bt),Ys(ct,0,bt<0?0:bt)):[]}function Nx(ct,bt,Et){var It=ct==null?0:ct.length;return It?(bt=Et||bt===a?1:kr(bt),bt=It-bt,Ys(ct,bt<0?0:bt,It)):[]}function Vx(ct,bt){return ct&&ct.length?pu(ct,fr(bt,3),!1,!0):[]}function Bx(ct,bt){return ct&&ct.length?pu(ct,fr(bt,3)):[]}var zx=$r(function(ct){return Ro(cs(ct,1,Qr,!0))}),Ux=$r(function(ct){var bt=qs(ct);return Qr(bt)&&(bt=a),Ro(cs(ct,1,Qr,!0),fr(bt,2))}),Wx=$r(function(ct){var bt=qs(ct);return bt=typeof bt=="function"?bt:a,Ro(cs(ct,1,Qr,!0),a,bt)});function jx(ct){return ct&&ct.length?Ro(ct):[]}function Hx(ct,bt){return ct&&ct.length?Ro(ct,fr(bt,2)):[]}function Gx(ct,bt){return bt=typeof bt=="function"?bt:a,ct&&ct.length?Ro(ct,a,bt):[]}function bp(ct){if(!(ct&&ct.length))return[];var bt=0;return ct=Eo(ct,function(Et){if(Qr(Et))return bt=ns(Et.length,bt),!0}),Ou(bt,function(Et){return Hr(ct,Pu(Et))})}function iy(ct,bt){if(!(ct&&ct.length))return[];var Et=bp(ct);return bt==null?Et:Hr(Et,function(It){return as(bt,a,It)})}var Kx=$r(function(ct,bt){return Qr(ct)?Dl(ct,bt):[]}),Xx=$r(function(ct){return ip(Eo(ct,Qr))}),Yx=$r(function(ct){var bt=qs(ct);return Qr(bt)&&(bt=a),ip(Eo(ct,Qr),fr(bt,2))}),qx=$r(function(ct){var bt=qs(ct);return bt=typeof bt=="function"?bt:a,ip(Eo(ct,Qr),a,bt)}),Qx=$r(bp);function Zx(ct,bt){return Sm(ct||[],bt||[],Fl)}function Jx(ct,bt){return Sm(ct||[],bt||[],Vl)}var e1=$r(function(ct){var bt=ct.length,Et=bt>1?ct[bt-1]:a;return Et=typeof Et=="function"?(ct.pop(),Et):a,iy(ct,Et)});function sy(ct){var bt=Ht(ct);return bt.__chain__=!0,bt}function t1(ct,bt){return bt(ct),ct}function wu(ct,bt){return bt(ct)}var n1=bo(function(ct){var bt=ct.length,Et=bt?ct[0]:0,It=this.__wrapped__,Nt=function(Yt){return Hu(Yt,ct)};return bt>1||this.__actions__.length||!(It instanceof Rr)||!_o(Et)?this.thru(Nt):(It=It.slice(Et,+Et+(bt?1:0)),It.__actions__.push({func:wu,args:[Nt],thisArg:a}),new Ks(It,this.__chain__).thru(function(Yt){return bt&&!Yt.length&&Yt.push(a),Yt}))});function r1(){return sy(this)}function i1(){return new Ks(this.value(),this.__chain__)}function s1(){this.__values__===a&&(this.__values__=xy(this.value()));var ct=this.__index__>=this.__values__.length,bt=ct?a:this.__values__[this.__index__++];return{done:ct,value:bt}}function a1(){return this}function o1(ct){for(var bt,Et=this;Et instanceof lu;){var It=Zm(Et);It.__index__=0,It.__values__=a,bt?Nt.__wrapped__=It:bt=It;var Nt=It;Et=Et.__wrapped__}return Nt.__wrapped__=ct,bt}function l1(){var ct=this.__wrapped__;if(ct instanceof Rr){var bt=ct;return this.__actions__.length&&(bt=new Rr(this)),bt=bt.reverse(),bt.__actions__.push({func:wu,args:[xp],thisArg:a}),new Ks(bt,this.__chain__)}return this.thru(xp)}function u1(){return _m(this.__wrapped__,this.__actions__)}var c1=mu(function(ct,bt,Et){Vr.call(ct,Et)?++ct[Et]:vo(ct,Et,1)});function h1(ct,bt,Et){var It=wr(ct)?Pp:Jv;return Et&&xs(ct,bt,Et)&&(bt=a),It(ct,fr(bt,3))}function f1(ct,bt){var Et=wr(ct)?Eo:im;return Et(ct,fr(bt,3))}var d1=Lm(Jm),p1=Lm(ey);function m1(ct,bt){return cs(Tu(ct,bt),1)}function g1(ct,bt){return cs(Tu(ct,bt),Wt)}function y1(ct,bt,Et){return Et=Et===a?1:kr(Et),cs(Tu(ct,bt),Et)}function ay(ct,bt){var Et=wr(ct)?Hs:Ao;return Et(ct,fr(bt,3))}function oy(ct,bt){var Et=wr(ct)?Py:rm;return Et(ct,fr(bt,3))}var v1=mu(function(ct,bt,Et){Vr.call(ct,Et)?ct[Et].push(bt):vo(ct,Et,[bt])});function x1(ct,bt,Et,It){ct=Cs(ct)?ct:Cl(ct),Et=Et&&!It?kr(Et):0;var Nt=ct.length;return Et<0&&(Et=ns(Nt+Et,0)),Au(ct)?Et<=Nt&&ct.indexOf(bt,Et)>-1:!!Nt&&Xo(ct,bt,Et)>-1}var b1=$r(function(ct,bt,Et){var It=-1,Nt=typeof bt=="function",Yt=Cs(ct)?Tn(ct.length):[];return Ao(ct,function(on){Yt[++It]=Nt?as(bt,on,Et):Ol(on,bt,Et)}),Yt}),_1=mu(function(ct,bt,Et){vo(ct,Et,bt)});function Tu(ct,bt){var Et=wr(ct)?Hr:cm;return Et(ct,fr(bt,3))}function S1(ct,bt,Et,It){return ct==null?[]:(wr(bt)||(bt=bt==null?[]:[bt]),Et=It?a:Et,wr(Et)||(Et=Et==null?[]:[Et]),pm(ct,bt,Et))}var w1=mu(function(ct,bt,Et){ct[Et?0:1].push(bt)},function(){return[[],[]]});function T1(ct,bt,Et){var It=wr(ct)?Lu:Np,Nt=arguments.length<3;return It(ct,fr(bt,4),Et,Nt,Ao)}function E1(ct,bt,Et){var It=wr(ct)?Fy:Np,Nt=arguments.length<3;return It(ct,fr(bt,4),Et,Nt,rm)}function k1(ct,bt){var Et=wr(ct)?Eo:im;return Et(ct,Cu(fr(bt,3)))}function C1(ct){var bt=wr(ct)?Jp:y0;return bt(ct)}function $1(ct,bt,Et){(Et?xs(ct,bt,Et):bt===a)?bt=1:bt=kr(bt);var It=wr(ct)?Xv:v0;return It(ct,bt)}function A1(ct){var bt=wr(ct)?Yv:b0;return bt(ct)}function R1(ct){if(ct==null)return 0;if(Cs(ct))return Au(ct)?qo(ct):ct.length;var bt=ds(ct);return bt==cn||bt==En?ct.size:Qu(ct).length}function I1(ct,bt,Et){var It=wr(ct)?Mu:_0;return Et&&xs(ct,bt,Et)&&(bt=a),It(ct,fr(bt,3))}var L1=$r(function(ct,bt){if(ct==null)return[];var Et=bt.length;return Et>1&&xs(ct,bt[0],bt[1])?bt=[]:Et>2&&xs(bt[0],bt[1],bt[2])&&(bt=[bt[0]]),pm(ct,cs(bt,1),[])}),Eu=cv||function(){return sr.Date.now()};function M1(ct,bt){if(typeof bt!="function")throw new Gs(at);return ct=kr(ct),function(){if(--ct<1)return bt.apply(this,arguments)}}function ly(ct,bt,Et){return bt=Et?a:bt,bt=ct&&bt==null?ct.length:bt,xo(ct,Tt,a,a,a,a,bt)}function uy(ct,bt){var Et;if(typeof bt!="function")throw new Gs(at);return ct=kr(ct),function(){return--ct>0&&(Et=bt.apply(this,arguments)),ct<=1&&(bt=a),Et}}var _p=$r(function(ct,bt,Et){var It=ft;if(Et.length){var Nt=Co(Et,Tl(_p));It|=dt}return xo(ct,It,bt,Et,Nt)}),cy=$r(function(ct,bt,Et){var It=ft|gt;if(Et.length){var Nt=Co(Et,Tl(cy));It|=dt}return xo(bt,It,ct,Et,Nt)});function hy(ct,bt,Et){bt=Et?a:bt;var It=xo(ct,pt,a,a,a,a,a,bt);return It.placeholder=hy.placeholder,It}function fy(ct,bt,Et){bt=Et?a:bt;var It=xo(ct,vt,a,a,a,a,a,bt);return It.placeholder=fy.placeholder,It}function dy(ct,bt,Et){var It,Nt,Yt,on,un,gn,Rn=0,In=!1,Fn=!1,Xn=!0;if(typeof ct!="function")throw new Gs(at);bt=Qs(bt)||0,Kr(Et)&&(In=!!Et.leading,Fn="maxWait"in Et,Yt=Fn?ns(Qs(Et.maxWait)||0,bt):Yt,Xn="trailing"in Et?!!Et.trailing:Xn);function ar(Zr){var to=It,To=Nt;return It=Nt=a,Rn=Zr,on=ct.apply(To,to),on}function pr(Zr){return Rn=Zr,un=Ul(Ar,bt),In?ar(Zr):on}function Cr(Zr){var to=Zr-gn,To=Zr-Rn,Ly=bt-to;return Fn?fs(Ly,Yt-To):Ly}function mr(Zr){var to=Zr-gn,To=Zr-Rn;return gn===a||to>=bt||to<0||Fn&&To>=Yt}function Ar(){var Zr=Eu();if(mr(Zr))return Ir(Zr);un=Ul(Ar,Cr(Zr))}function Ir(Zr){return un=a,Xn&&It?ar(Zr):(It=Nt=a,on)}function Vs(){un!==a&&wm(un),Rn=0,It=gn=Nt=un=a}function bs(){return un===a?on:Ir(Eu())}function Bs(){var Zr=Eu(),to=mr(Zr);if(It=arguments,Nt=this,gn=Zr,to){if(un===a)return pr(gn);if(Fn)return wm(un),un=Ul(Ar,bt),ar(gn)}return un===a&&(un=Ul(Ar,bt)),on}return Bs.cancel=Vs,Bs.flush=bs,Bs}var P1=$r(function(ct,bt){return nm(ct,1,bt)}),F1=$r(function(ct,bt,Et){return nm(ct,Qs(bt)||0,Et)});function D1(ct){return xo(ct,ht)}function ku(ct,bt){if(typeof ct!="function"||bt!=null&&typeof bt!="function")throw new Gs(at);var Et=function(){var It=arguments,Nt=bt?bt.apply(this,It):It[0],Yt=Et.cache;if(Yt.has(Nt))return Yt.get(Nt);var on=ct.apply(this,It);return Et.cache=Yt.set(Nt,on)||Yt,on};return Et.cache=new(ku.Cache||yo),Et}ku.Cache=yo;function Cu(ct){if(typeof ct!="function")throw new Gs(at);return function(){var bt=arguments;switch(bt.length){case 0:return!ct.call(this);case 1:return!ct.call(this,bt[0]);case 2:return!ct.call(this,bt[0],bt[1]);case 3:return!ct.call(this,bt[0],bt[1],bt[2])}return!ct.apply(this,bt)}}function O1(ct){return uy(2,ct)}var N1=S0(function(ct,bt){bt=bt.length==1&&wr(bt[0])?Hr(bt[0],Ds(fr())):Hr(cs(bt,1),Ds(fr()));var Et=bt.length;return $r(function(It){for(var Nt=-1,Yt=fs(It.length,Et);++Nt<Yt;)It[Nt]=bt[Nt].call(this,It[Nt]);return as(ct,this,It)})}),Sp=$r(function(ct,bt){var Et=Co(bt,Tl(Sp));return xo(ct,dt,a,bt,Et)}),py=$r(function(ct,bt){var Et=Co(bt,Tl(py));return xo(ct,mt,a,bt,Et)}),V1=bo(function(ct,bt){return xo(ct,yt,a,a,a,bt)});function B1(ct,bt){if(typeof ct!="function")throw new Gs(at);return bt=bt===a?bt:kr(bt),$r(ct,bt)}function z1(ct,bt){if(typeof ct!="function")throw new Gs(at);return bt=bt==null?0:ns(kr(bt),0),$r(function(Et){var It=Et[bt],Nt=Lo(Et,0,bt);return It&&ko(Nt,It),as(ct,this,Nt)})}function U1(ct,bt,Et){var It=!0,Nt=!0;if(typeof ct!="function")throw new Gs(at);return Kr(Et)&&(It="leading"in Et?!!Et.leading:It,Nt="trailing"in Et?!!Et.trailing:Nt),dy(ct,bt,{leading:It,maxWait:bt,trailing:Nt})}function W1(ct){return ly(ct,1)}function j1(ct,bt){return Sp(ap(bt),ct)}function H1(){if(!arguments.length)return[];var ct=arguments[0];return wr(ct)?ct:[ct]}function G1(ct){return Xs(ct,et)}function K1(ct,bt){return bt=typeof bt=="function"?bt:a,Xs(ct,et,bt)}function X1(ct){return Xs(ct,_|et)}function Y1(ct,bt){return bt=typeof bt=="function"?bt:a,Xs(ct,_|et,bt)}function q1(ct,bt){return bt==null||tm(ct,bt,os(bt))}function eo(ct,bt){return ct===bt||ct!==ct&&bt!==bt}var Q1=xu(Xu),Z1=xu(function(ct,bt){return ct>=bt}),Uo=om(function(){return arguments}())?om:function(ct){return Xr(ct)&&Vr.call(ct,"callee")&&!Kp.call(ct,"callee")},wr=Tn.isArray,J1=es?Ds(es):s0;function Cs(ct){return ct!=null&&$u(ct.length)&&!So(ct)}function Qr(ct){return Xr(ct)&&Cs(ct)}function e_(ct){return ct===!0||ct===!1||Xr(ct)&&vs(ct)==fn}var Mo=fv||Mp,t_=gs?Ds(gs):a0;function n_(ct){return Xr(ct)&&ct.nodeType===1&&!Wl(ct)}function r_(ct){if(ct==null)return!0;if(Cs(ct)&&(wr(ct)||typeof ct=="string"||typeof ct.splice=="function"||Mo(ct)||El(ct)||Uo(ct)))return!ct.length;var bt=ds(ct);if(bt==cn||bt==En)return!ct.size;if(zl(ct))return!Qu(ct).length;for(var Et in ct)if(Vr.call(ct,Et))return!1;return!0}function i_(ct,bt){return Nl(ct,bt)}function s_(ct,bt,Et){Et=typeof Et=="function"?Et:a;var It=Et?Et(ct,bt):a;return It===a?Nl(ct,bt,a,Et):!!It}function wp(ct){if(!Xr(ct))return!1;var bt=vs(ct);return bt==qt||bt==xn||typeof ct.message=="string"&&typeof ct.name=="string"&&!Wl(ct)}function a_(ct){return typeof ct=="number"&&Yp(ct)}function So(ct){if(!Kr(ct))return!1;var bt=vs(ct);return bt==Qt||bt==Gt||bt==_n||bt==cr}function my(ct){return typeof ct=="number"&&ct==kr(ct)}function $u(ct){return typeof ct=="number"&&ct>-1&&ct%1==0&&ct<=Pt}function Kr(ct){var bt=typeof ct;return ct!=null&&(bt=="object"||bt=="function")}function Xr(ct){return ct!=null&&typeof ct=="object"}var gy=ys?Ds(ys):l0;function o_(ct,bt){return ct===bt||qu(ct,bt,dp(bt))}function l_(ct,bt,Et){return Et=typeof Et=="function"?Et:a,qu(ct,bt,dp(bt),Et)}function u_(ct){return yy(ct)&&ct!=+ct}function c_(ct){if(H0(ct))throw new Sr(tt);return lm(ct)}function h_(ct){return ct===null}function f_(ct){return ct==null}function yy(ct){return typeof ct=="number"||Xr(ct)&&vs(ct)==kn}function Wl(ct){if(!Xr(ct)||vs(ct)!=qn)return!1;var bt=tu(ct);if(bt===null)return!0;var Et=Vr.call(bt,"constructor")&&bt.constructor;return typeof Et=="function"&&Et instanceof Et&&Ql.call(Et)==av}var Tp=lo?Ds(lo):u0;function d_(ct){return my(ct)&&ct>=-Pt&&ct<=Pt}var vy=$l?Ds($l):c0;function Au(ct){return typeof ct=="string"||!wr(ct)&&Xr(ct)&&vs(ct)==Kn}function Ns(ct){return typeof ct=="symbol"||Xr(ct)&&vs(ct)==Nn}var El=Po?Ds(Po):h0;function p_(ct){return ct===a}function m_(ct){return Xr(ct)&&ds(ct)==Hn}function g_(ct){return Xr(ct)&&vs(ct)==Tr}var y_=xu(Zu),v_=xu(function(ct,bt){return ct<=bt});function xy(ct){if(!ct)return[];if(Cs(ct))return Au(ct)?ba(ct):ks(ct);if(Rl&&ct[Rl])return Xy(ct[Rl]());var bt=ds(ct),Et=bt==cn?Vu:bt==En?Kl:Cl;return Et(ct)}function wo(ct){if(!ct)return ct===0?ct:0;if(ct=Qs(ct),ct===Wt||ct===-Wt){var bt=ct<0?-1:1;return bt*Ot}return ct===ct?ct:0}function kr(ct){var bt=wo(ct),Et=bt%1;return bt===bt?Et?bt-Et:bt:0}function by(ct){return ct?No(kr(ct),0,rn):0}function Qs(ct){if(typeof ct=="number")return ct;if(Ns(ct))return Xt;if(Kr(ct)){var bt=typeof ct.valueOf=="function"?ct.valueOf():ct;ct=Kr(bt)?bt+"":bt}if(typeof ct!="string")return ct===0?ct:+ct;ct=Vp(ct);var Et=no.test(ct);return Et||po.test(ct)?Ln(ct.slice(2),Et?2:8):fo.test(ct)?Xt:+ct}function _y(ct){return co(ct,$s(ct))}function x_(ct){return ct?No(kr(ct),-Pt,Pt):ct===0?ct:0}function Or(ct){return ct==null?"":Os(ct)}var b_=_l(function(ct,bt){if(zl(bt)||Cs(bt)){co(bt,os(bt),ct);return}for(var Et in bt)Vr.call(bt,Et)&&Fl(ct,Et,bt[Et])}),Sy=_l(function(ct,bt){co(bt,$s(bt),ct)}),Ru=_l(function(ct,bt,Et,It){co(bt,$s(bt),ct,It)}),__=_l(function(ct,bt,Et,It){co(bt,os(bt),ct,It)}),S_=bo(Hu);function w_(ct,bt){var Et=xl(ct);return bt==null?Et:em(Et,bt)}var T_=$r(function(ct,bt){ct=zr(ct);var Et=-1,It=bt.length,Nt=It>2?bt[2]:a;for(Nt&&xs(bt[0],bt[1],Nt)&&(It=1);++Et<It;)for(var Yt=bt[Et],on=$s(Yt),un=-1,gn=on.length;++un<gn;){var Rn=on[un],In=ct[Rn];(In===a||eo(In,Zo[Rn])&&!Vr.call(ct,Rn))&&(ct[Rn]=Yt[Rn])}return ct}),E_=$r(function(ct){return ct.push(a,Vm),as(wy,a,ct)});function k_(ct,bt){return Fp(ct,fr(bt,3),uo)}function C_(ct,bt){return Fp(ct,fr(bt,3),Ku)}function $_(ct,bt){return ct==null?ct:Gu(ct,fr(bt,3),$s)}function A_(ct,bt){return ct==null?ct:sm(ct,fr(bt,3),$s)}function R_(ct,bt){return ct&&uo(ct,fr(bt,3))}function I_(ct,bt){return ct&&Ku(ct,fr(bt,3))}function L_(ct){return ct==null?[]:hu(ct,os(ct))}function M_(ct){return ct==null?[]:hu(ct,$s(ct))}function Ep(ct,bt,Et){var It=ct==null?a:Vo(ct,bt);return It===a?Et:It}function P_(ct,bt){return ct!=null&&Um(ct,bt,t0)}function kp(ct,bt){return ct!=null&&Um(ct,bt,n0)}var F_=Pm(function(ct,bt,Et){bt!=null&&typeof bt.toString!="function"&&(bt=Zl.call(bt)),ct[bt]=Et},$p(As)),D_=Pm(function(ct,bt,Et){bt!=null&&typeof bt.toString!="function"&&(bt=Zl.call(bt)),Vr.call(ct,bt)?ct[bt].push(Et):ct[bt]=[Et]},fr),O_=$r(Ol);function os(ct){return Cs(ct)?Zp(ct):Qu(ct)}function $s(ct){return Cs(ct)?Zp(ct,!0):f0(ct)}function N_(ct,bt){var Et={};return bt=fr(bt,3),uo(ct,function(It,Nt,Yt){vo(Et,bt(It,Nt,Yt),It)}),Et}function V_(ct,bt){var Et={};return bt=fr(bt,3),uo(ct,function(It,Nt,Yt){vo(Et,Nt,bt(It,Nt,Yt))}),Et}var B_=_l(function(ct,bt,Et){fu(ct,bt,Et)}),wy=_l(function(ct,bt,Et,It){fu(ct,bt,Et,It)}),z_=bo(function(ct,bt){var Et={};if(ct==null)return Et;var It=!1;bt=Hr(bt,function(Yt){return Yt=Io(Yt,ct),It||(It=Yt.length>1),Yt}),co(ct,hp(ct),Et),It&&(Et=Xs(Et,_|$|et,M0));for(var Nt=bt.length;Nt--;)rp(Et,bt[Nt]);return Et});function U_(ct,bt){return Ty(ct,Cu(fr(bt)))}var W_=bo(function(ct,bt){return ct==null?{}:p0(ct,bt)});function Ty(ct,bt){if(ct==null)return{};var Et=Hr(hp(ct),function(It){return[It]});return bt=fr(bt),mm(ct,Et,function(It,Nt){return bt(It,Nt[0])})}function j_(ct,bt,Et){bt=Io(bt,ct);var It=-1,Nt=bt.length;for(Nt||(Nt=1,ct=a);++It<Nt;){var Yt=ct==null?a:ct[ho(bt[It])];Yt===a&&(It=Nt,Yt=Et),ct=So(Yt)?Yt.call(ct):Yt}return ct}function H_(ct,bt,Et){return ct==null?ct:Vl(ct,bt,Et)}function G_(ct,bt,Et,It){return It=typeof It=="function"?It:a,ct==null?ct:Vl(ct,bt,Et,It)}var Ey=Om(os),ky=Om($s);function K_(ct,bt,Et){var It=wr(ct),Nt=It||Mo(ct)||El(ct);if(bt=fr(bt,4),Et==null){var Yt=ct&&ct.constructor;Nt?Et=It?new Yt:[]:Kr(ct)?Et=So(Yt)?xl(tu(ct)):{}:Et={}}return(Nt?Hs:uo)(ct,function(on,un,gn){return bt(Et,on,un,gn)}),Et}function X_(ct,bt){return ct==null?!0:rp(ct,bt)}function Y_(ct,bt,Et){return ct==null?ct:bm(ct,bt,ap(Et))}function q_(ct,bt,Et,It){return It=typeof It=="function"?It:a,ct==null?ct:bm(ct,bt,ap(Et),It)}function Cl(ct){return ct==null?[]:Nu(ct,os(ct))}function Q_(ct){return ct==null?[]:Nu(ct,$s(ct))}function Z_(ct,bt,Et){return Et===a&&(Et=bt,bt=a),Et!==a&&(Et=Qs(Et),Et=Et===Et?Et:0),bt!==a&&(bt=Qs(bt),bt=bt===bt?bt:0),No(Qs(ct),bt,Et)}function J_(ct,bt,Et){return bt=wo(bt),Et===a?(Et=bt,bt=0):Et=wo(Et),ct=Qs(ct),r0(ct,bt,Et)}function eS(ct,bt,Et){if(Et&&typeof Et!="boolean"&&xs(ct,bt,Et)&&(bt=Et=a),Et===a&&(typeof bt=="boolean"?(Et=bt,bt=a):typeof ct=="boolean"&&(Et=ct,ct=a)),ct===a&&bt===a?(ct=0,bt=1):(ct=wo(ct),bt===a?(bt=ct,ct=0):bt=wo(bt)),ct>bt){var It=ct;ct=bt,bt=It}if(Et||ct%1||bt%1){var Nt=qp();return fs(ct+Nt*(bt-ct+vn("1e-"+((Nt+"").length-1))),bt)}return ep(ct,bt)}var tS=Sl(function(ct,bt,Et){return bt=bt.toLowerCase(),ct+(Et?Cy(bt):bt)});function Cy(ct){return Cp(Or(ct).toLowerCase())}function $y(ct){return ct=Or(ct),ct&&ct.replace(hs,Wy).replace(jo,"")}function nS(ct,bt,Et){ct=Or(ct),bt=Os(bt);var It=ct.length;Et=Et===a?It:No(kr(Et),0,It);var Nt=Et;return Et-=bt.length,Et>=0&&ct.slice(Et,Nt)==bt}function rS(ct){return ct=Or(ct),ct&&zn.test(ct)?ct.replace(er,jy):ct}function iS(ct){return ct=Or(ct),ct&&Zs.test(ct)?ct.replace(Is,"\\$&"):ct}var sS=Sl(function(ct,bt,Et){return ct+(Et?"-":"")+bt.toLowerCase()}),aS=Sl(function(ct,bt,Et){return ct+(Et?" ":"")+bt.toLowerCase()}),oS=Im("toLowerCase");function lS(ct,bt,Et){ct=Or(ct),bt=kr(bt);var It=bt?qo(ct):0;if(!bt||It>=bt)return ct;var Nt=(bt-It)/2;return vu(su(Nt),Et)+ct+vu(iu(Nt),Et)}function uS(ct,bt,Et){ct=Or(ct),bt=kr(bt);var It=bt?qo(ct):0;return bt&&It<bt?ct+vu(bt-It,Et):ct}function cS(ct,bt,Et){ct=Or(ct),bt=kr(bt);var It=bt?qo(ct):0;return bt&&It<bt?vu(bt-It,Et)+ct:ct}function hS(ct,bt,Et){return Et||bt==null?bt=0:bt&&(bt=+bt),gv(Or(ct).replace(Ls,""),bt||0)}function fS(ct,bt,Et){return(Et?xs(ct,bt,Et):bt===a)?bt=1:bt=kr(bt),tp(Or(ct),bt)}function dS(){var ct=arguments,bt=Or(ct[0]);return ct.length<3?bt:bt.replace(ct[1],ct[2])}var pS=Sl(function(ct,bt,Et){return ct+(Et?"_":"")+bt.toLowerCase()});function mS(ct,bt,Et){return Et&&typeof Et!="number"&&xs(ct,bt,Et)&&(bt=Et=a),Et=Et===a?rn:Et>>>0,Et?(ct=Or(ct),ct&&(typeof bt=="string"||bt!=null&&!Tp(bt))&&(bt=Os(bt),!bt&&Yo(ct))?Lo(ba(ct),0,Et):ct.split(bt,Et)):[]}var gS=Sl(function(ct,bt,Et){return ct+(Et?" ":"")+Cp(bt)});function yS(ct,bt,Et){return ct=Or(ct),Et=Et==null?0:No(kr(Et),0,ct.length),bt=Os(bt),ct.slice(Et,Et+bt.length)==bt}function vS(ct,bt,Et){var It=Ht.templateSettings;Et&&xs(ct,bt,Et)&&(bt=a),ct=Or(ct),bt=Ru({},bt,It,Nm);var Nt=Ru({},bt.imports,It.imports,Nm),Yt=os(Nt),on=Nu(Nt,Yt),un,gn,Rn=0,In=bt.interpolate||us,Fn="__p += '",Xn=Bu((bt.escape||us).source+"|"+In.source+"|"+(In===Jr?ga:us).source+"|"+(bt.evaluate||us).source+"|$","g"),ar="//# sourceURL="+(Vr.call(bt,"sourceURL")?(bt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ko+"]")+`
`;ct.replace(Xn,function(mr,Ar,Ir,Vs,bs,Bs){return Ir||(Ir=Vs),Fn+=ct.slice(Rn,Bs).replace(nr,Hy),Ar&&(un=!0,Fn+=`' +
__e(`+Ar+`) +
'`),bs&&(gn=!0,Fn+=`';
`+bs+`;
__p += '`),Ir&&(Fn+=`' +
((__t = (`+Ir+`)) == null ? '' : __t) +
'`),Rn=Bs+mr.length,mr}),Fn+=`';
`;var pr=Vr.call(bt,"variable")&&bt.variable;if(!pr)Fn=`with (obj) {
`+Fn+`
}
`;else if(rs.test(pr))throw new Sr(ot);Fn=(gn?Fn.replace(lr,""):Fn).replace(Mn,"$1").replace(Zn,"$1;"),Fn="function("+(pr||"obj")+`) {
`+(pr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(un?", __e = _.escape":"")+(gn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fn+`return __p
}`;var Cr=Ry(function(){return Fr(Yt,ar+"return "+Fn).apply(a,on)});if(Cr.source=Fn,wp(Cr))throw Cr;return Cr}function xS(ct){return Or(ct).toLowerCase()}function bS(ct){return Or(ct).toUpperCase()}function _S(ct,bt,Et){if(ct=Or(ct),ct&&(Et||bt===a))return Vp(ct);if(!ct||!(bt=Os(bt)))return ct;var It=ba(ct),Nt=ba(bt),Yt=Bp(It,Nt),on=zp(It,Nt)+1;return Lo(It,Yt,on).join("")}function SS(ct,bt,Et){if(ct=Or(ct),ct&&(Et||bt===a))return ct.slice(0,Wp(ct)+1);if(!ct||!(bt=Os(bt)))return ct;var It=ba(ct),Nt=zp(It,ba(bt))+1;return Lo(It,0,Nt).join("")}function wS(ct,bt,Et){if(ct=Or(ct),ct&&(Et||bt===a))return ct.replace(Ls,"");if(!ct||!(bt=Os(bt)))return ct;var It=ba(ct),Nt=Bp(It,ba(bt));return Lo(It,Nt).join("")}function TS(ct,bt){var Et=xt,It=wt;if(Kr(bt)){var Nt="separator"in bt?bt.separator:Nt;Et="length"in bt?kr(bt.length):Et,It="omission"in bt?Os(bt.omission):It}ct=Or(ct);var Yt=ct.length;if(Yo(ct)){var on=ba(ct);Yt=on.length}if(Et>=Yt)return ct;var un=Et-qo(It);if(un<1)return It;var gn=on?Lo(on,0,un).join(""):ct.slice(0,un);if(Nt===a)return gn+It;if(on&&(un+=gn.length-un),Tp(Nt)){if(ct.slice(un).search(Nt)){var Rn,In=gn;for(Nt.global||(Nt=Bu(Nt.source,Or(Wr.exec(Nt))+"g")),Nt.lastIndex=0;Rn=Nt.exec(In);)var Fn=Rn.index;gn=gn.slice(0,Fn===a?un:Fn)}}else if(ct.indexOf(Os(Nt),un)!=un){var Xn=gn.lastIndexOf(Nt);Xn>-1&&(gn=gn.slice(0,Xn))}return gn+It}function ES(ct){return ct=Or(ct),ct&&jn.test(ct)?ct.replace(Vn,Zy):ct}var kS=Sl(function(ct,bt,Et){return ct+(Et?" ":"")+bt.toUpperCase()}),Cp=Im("toUpperCase");function Ay(ct,bt,Et){return ct=Or(ct),bt=Et?a:bt,bt===a?Ky(ct)?tv(ct):Ny(ct):ct.match(bt)||[]}var Ry=$r(function(ct,bt){try{return as(ct,a,bt)}catch(Et){return wp(Et)?Et:new Sr(Et)}}),CS=bo(function(ct,bt){return Hs(bt,function(Et){Et=ho(Et),vo(ct,Et,_p(ct[Et],ct))}),ct});function $S(ct){var bt=ct==null?0:ct.length,Et=fr();return ct=bt?Hr(ct,function(It){if(typeof It[1]!="function")throw new Gs(at);return[Et(It[0]),It[1]]}):[],$r(function(It){for(var Nt=-1;++Nt<bt;){var Yt=ct[Nt];if(as(Yt[0],this,It))return as(Yt[1],this,It)}})}function AS(ct){return Zv(Xs(ct,_))}function $p(ct){return function(){return ct}}function RS(ct,bt){return ct==null||ct!==ct?bt:ct}var IS=Mm(),LS=Mm(!0);function As(ct){return ct}function Ap(ct){return um(typeof ct=="function"?ct:Xs(ct,_))}function PS(ct){return hm(Xs(ct,_))}function FS(ct,bt){return fm(ct,Xs(bt,_))}var DS=$r(function(ct,bt){return function(Et){return Ol(Et,ct,bt)}}),OS=$r(function(ct,bt){return function(Et){return Ol(ct,Et,bt)}});function Rp(ct,bt,Et){var It=os(bt),Nt=hu(bt,It);Et==null&&!(Kr(bt)&&(Nt.length||!It.length))&&(Et=bt,bt=ct,ct=this,Nt=hu(bt,os(bt)));var Yt=!(Kr(Et)&&"chain"in Et)||!!Et.chain,on=So(ct);return Hs(Nt,function(un){var gn=bt[un];ct[un]=gn,on&&(ct.prototype[un]=function(){var Rn=this.__chain__;if(Yt||Rn){var In=ct(this.__wrapped__),Fn=In.__actions__=ks(this.__actions__);return Fn.push({func:gn,args:arguments,thisArg:ct}),In.__chain__=Rn,In}return gn.apply(ct,ko([this.value()],arguments))})}),ct}function NS(){return sr._===this&&(sr._=ov),this}function Ip(){}function VS(ct){return ct=kr(ct),$r(function(bt){return dm(bt,ct)})}var BS=lp(Hr),zS=lp(Pp),US=lp(Mu);function Iy(ct){return mp(ct)?Pu(ho(ct)):m0(ct)}function WS(ct){return function(bt){return ct==null?a:Vo(ct,bt)}}var jS=Fm(),HS=Fm(!0);function Lp(){return[]}function Mp(){return!1}function GS(){return{}}function KS(){return""}function XS(){return!0}function YS(ct,bt){if(ct=kr(ct),ct<1||ct>Pt)return[];var Et=rn,It=fs(ct,rn);bt=fr(bt),ct-=rn;for(var Nt=Ou(It,bt);++Et<ct;)bt(Et);return Nt}function qS(ct){return wr(ct)?Hr(ct,ho):Ns(ct)?[ct]:ks(Qm(Or(ct)))}function QS(ct){var bt=++sv;return Or(ct)+bt}var ZS=yu(function(ct,bt){return ct+bt},0),JS=up("ceil"),ew=yu(function(ct,bt){return ct/bt},1),tw=up("floor");function nw(ct){return ct&&ct.length?cu(ct,As,Xu):a}function rw(ct,bt){return ct&&ct.length?cu(ct,fr(bt,2),Xu):a}function iw(ct){return Op(ct,As)}function sw(ct,bt){return Op(ct,fr(bt,2))}function aw(ct){return ct&&ct.length?cu(ct,As,Zu):a}function ow(ct,bt){return ct&&ct.length?cu(ct,fr(bt,2),Zu):a}var lw=yu(function(ct,bt){return ct*bt},1),uw=up("round"),cw=yu(function(ct,bt){return ct-bt},0);function hw(ct){return ct&&ct.length?Du(ct,As):0}function fw(ct,bt){return ct&&ct.length?Du(ct,fr(bt,2)):0}return Ht.after=M1,Ht.ary=ly,Ht.assign=b_,Ht.assignIn=Sy,Ht.assignInWith=Ru,Ht.assignWith=__,Ht.at=S_,Ht.before=uy,Ht.bind=_p,Ht.bindAll=CS,Ht.bindKey=cy,Ht.castArray=H1,Ht.chain=sy,Ht.chunk=Z0,Ht.compact=J0,Ht.concat=ex,Ht.cond=$S,Ht.conforms=AS,Ht.constant=$p,Ht.countBy=c1,Ht.create=w_,Ht.curry=hy,Ht.curryRight=fy,Ht.debounce=dy,Ht.defaults=T_,Ht.defaultsDeep=E_,Ht.defer=P1,Ht.delay=F1,Ht.difference=tx,Ht.differenceBy=nx,Ht.differenceWith=rx,Ht.drop=ix,Ht.dropRight=sx,Ht.dropRightWhile=ax,Ht.dropWhile=ox,Ht.fill=lx,Ht.filter=f1,Ht.flatMap=m1,Ht.flatMapDeep=g1,Ht.flatMapDepth=y1,Ht.flatten=ty,Ht.flattenDeep=ux,Ht.flattenDepth=hx,Ht.flip=D1,Ht.flow=IS,Ht.flowRight=LS,Ht.fromPairs=fx,Ht.functions=L_,Ht.functionsIn=M_,Ht.groupBy=v1,Ht.initial=mx,Ht.intersection=gx,Ht.intersectionBy=yx,Ht.intersectionWith=vx,Ht.invert=F_,Ht.invertBy=D_,Ht.invokeMap=b1,Ht.iteratee=Ap,Ht.keyBy=_1,Ht.keys=os,Ht.keysIn=$s,Ht.map=Tu,Ht.mapKeys=N_,Ht.mapValues=V_,Ht.matches=PS,Ht.matchesProperty=FS,Ht.memoize=ku,Ht.merge=B_,Ht.mergeWith=wy,Ht.method=DS,Ht.methodOf=OS,Ht.mixin=Rp,Ht.negate=Cu,Ht.nthArg=VS,Ht.omit=z_,Ht.omitBy=U_,Ht.once=O1,Ht.orderBy=S1,Ht.over=BS,Ht.overArgs=N1,Ht.overEvery=zS,Ht.overSome=US,Ht.partial=Sp,Ht.partialRight=py,Ht.partition=w1,Ht.pick=W_,Ht.pickBy=Ty,Ht.property=Iy,Ht.propertyOf=WS,Ht.pull=Sx,Ht.pullAll=ry,Ht.pullAllBy=wx,Ht.pullAllWith=Tx,Ht.pullAt=Ex,Ht.range=jS,Ht.rangeRight=HS,Ht.rearg=V1,Ht.reject=k1,Ht.remove=kx,Ht.rest=B1,Ht.reverse=xp,Ht.sampleSize=$1,Ht.set=H_,Ht.setWith=G_,Ht.shuffle=A1,Ht.slice=Cx,Ht.sortBy=L1,Ht.sortedUniq=Px,Ht.sortedUniqBy=Fx,Ht.split=mS,Ht.spread=z1,Ht.tail=Dx,Ht.take=Ox,Ht.takeRight=Nx,Ht.takeRightWhile=Vx,Ht.takeWhile=Bx,Ht.tap=t1,Ht.throttle=U1,Ht.thru=wu,Ht.toArray=xy,Ht.toPairs=Ey,Ht.toPairsIn=ky,Ht.toPath=qS,Ht.toPlainObject=_y,Ht.transform=K_,Ht.unary=W1,Ht.union=zx,Ht.unionBy=Ux,Ht.unionWith=Wx,Ht.uniq=jx,Ht.uniqBy=Hx,Ht.uniqWith=Gx,Ht.unset=X_,Ht.unzip=bp,Ht.unzipWith=iy,Ht.update=Y_,Ht.updateWith=q_,Ht.values=Cl,Ht.valuesIn=Q_,Ht.without=Kx,Ht.words=Ay,Ht.wrap=j1,Ht.xor=Xx,Ht.xorBy=Yx,Ht.xorWith=qx,Ht.zip=Qx,Ht.zipObject=Zx,Ht.zipObjectDeep=Jx,Ht.zipWith=e1,Ht.entries=Ey,Ht.entriesIn=ky,Ht.extend=Sy,Ht.extendWith=Ru,Rp(Ht,Ht),Ht.add=ZS,Ht.attempt=Ry,Ht.camelCase=tS,Ht.capitalize=Cy,Ht.ceil=JS,Ht.clamp=Z_,Ht.clone=G1,Ht.cloneDeep=X1,Ht.cloneDeepWith=Y1,Ht.cloneWith=K1,Ht.conformsTo=q1,Ht.deburr=$y,Ht.defaultTo=RS,Ht.divide=ew,Ht.endsWith=nS,Ht.eq=eo,Ht.escape=rS,Ht.escapeRegExp=iS,Ht.every=h1,Ht.find=d1,Ht.findIndex=Jm,Ht.findKey=k_,Ht.findLast=p1,Ht.findLastIndex=ey,Ht.findLastKey=C_,Ht.floor=tw,Ht.forEach=ay,Ht.forEachRight=oy,Ht.forIn=$_,Ht.forInRight=A_,Ht.forOwn=R_,Ht.forOwnRight=I_,Ht.get=Ep,Ht.gt=Q1,Ht.gte=Z1,Ht.has=P_,Ht.hasIn=kp,Ht.head=ny,Ht.identity=As,Ht.includes=x1,Ht.indexOf=dx,Ht.inRange=J_,Ht.invoke=O_,Ht.isArguments=Uo,Ht.isArray=wr,Ht.isArrayBuffer=J1,Ht.isArrayLike=Cs,Ht.isArrayLikeObject=Qr,Ht.isBoolean=e_,Ht.isBuffer=Mo,Ht.isDate=t_,Ht.isElement=n_,Ht.isEmpty=r_,Ht.isEqual=i_,Ht.isEqualWith=s_,Ht.isError=wp,Ht.isFinite=a_,Ht.isFunction=So,Ht.isInteger=my,Ht.isLength=$u,Ht.isMap=gy,Ht.isMatch=o_,Ht.isMatchWith=l_,Ht.isNaN=u_,Ht.isNative=c_,Ht.isNil=f_,Ht.isNull=h_,Ht.isNumber=yy,Ht.isObject=Kr,Ht.isObjectLike=Xr,Ht.isPlainObject=Wl,Ht.isRegExp=Tp,Ht.isSafeInteger=d_,Ht.isSet=vy,Ht.isString=Au,Ht.isSymbol=Ns,Ht.isTypedArray=El,Ht.isUndefined=p_,Ht.isWeakMap=m_,Ht.isWeakSet=g_,Ht.join=xx,Ht.kebabCase=sS,Ht.last=qs,Ht.lastIndexOf=bx,Ht.lowerCase=aS,Ht.lowerFirst=oS,Ht.lt=y_,Ht.lte=v_,Ht.max=nw,Ht.maxBy=rw,Ht.mean=iw,Ht.meanBy=sw,Ht.min=aw,Ht.minBy=ow,Ht.stubArray=Lp,Ht.stubFalse=Mp,Ht.stubObject=GS,Ht.stubString=KS,Ht.stubTrue=XS,Ht.multiply=lw,Ht.nth=_x,Ht.noConflict=NS,Ht.noop=Ip,Ht.now=Eu,Ht.pad=lS,Ht.padEnd=uS,Ht.padStart=cS,Ht.parseInt=hS,Ht.random=eS,Ht.reduce=T1,Ht.reduceRight=E1,Ht.repeat=fS,Ht.replace=dS,Ht.result=j_,Ht.round=uw,Ht.runInContext=mn,Ht.sample=C1,Ht.size=R1,Ht.snakeCase=pS,Ht.some=I1,Ht.sortedIndex=$x,Ht.sortedIndexBy=Ax,Ht.sortedIndexOf=Rx,Ht.sortedLastIndex=Ix,Ht.sortedLastIndexBy=Lx,Ht.sortedLastIndexOf=Mx,Ht.startCase=gS,Ht.startsWith=yS,Ht.subtract=cw,Ht.sum=hw,Ht.sumBy=fw,Ht.template=vS,Ht.times=YS,Ht.toFinite=wo,Ht.toInteger=kr,Ht.toLength=by,Ht.toLower=xS,Ht.toNumber=Qs,Ht.toSafeInteger=x_,Ht.toString=Or,Ht.toUpper=bS,Ht.trim=_S,Ht.trimEnd=SS,Ht.trimStart=wS,Ht.truncate=TS,Ht.unescape=ES,Ht.uniqueId=QS,Ht.upperCase=kS,Ht.upperFirst=Cp,Ht.each=ay,Ht.eachRight=oy,Ht.first=ny,Rp(Ht,function(){var ct={};return uo(Ht,function(bt,Et){Vr.call(Ht.prototype,Et)||(ct[Et]=bt)}),ct}(),{chain:!1}),Ht.VERSION=o,Hs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(ct){Ht[ct].placeholder=Ht}),Hs(["drop","take"],function(ct,bt){Rr.prototype[ct]=function(Et){Et=Et===a?1:ns(kr(Et),0);var It=this.__filtered__&&!bt?new Rr(this):this.clone();return It.__filtered__?It.__takeCount__=fs(Et,It.__takeCount__):It.__views__.push({size:fs(Et,rn),type:ct+(It.__dir__<0?"Right":"")}),It},Rr.prototype[ct+"Right"]=function(Et){return this.reverse()[ct](Et).reverse()}}),Hs(["filter","map","takeWhile"],function(ct,bt){var Et=bt+1,It=Et==Rt||Et==Mt;Rr.prototype[ct]=function(Nt){var Yt=this.clone();return Yt.__iteratees__.push({iteratee:fr(Nt,3),type:Et}),Yt.__filtered__=Yt.__filtered__||It,Yt}}),Hs(["head","last"],function(ct,bt){var Et="take"+(bt?"Right":"");Rr.prototype[ct]=function(){return this[Et](1).value()[0]}}),Hs(["initial","tail"],function(ct,bt){var Et="drop"+(bt?"":"Right");Rr.prototype[ct]=function(){return this.__filtered__?new Rr(this):this[Et](1)}}),Rr.prototype.compact=function(){return this.filter(As)},Rr.prototype.find=function(ct){return this.filter(ct).head()},Rr.prototype.findLast=function(ct){return this.reverse().find(ct)},Rr.prototype.invokeMap=$r(function(ct,bt){return typeof ct=="function"?new Rr(this):this.map(function(Et){return Ol(Et,ct,bt)})}),Rr.prototype.reject=function(ct){return this.filter(Cu(fr(ct)))},Rr.prototype.slice=function(ct,bt){ct=kr(ct);var Et=this;return Et.__filtered__&&(ct>0||bt<0)?new Rr(Et):(ct<0?Et=Et.takeRight(-ct):ct&&(Et=Et.drop(ct)),bt!==a&&(bt=kr(bt),Et=bt<0?Et.dropRight(-bt):Et.take(bt-ct)),Et)},Rr.prototype.takeRightWhile=function(ct){return this.reverse().takeWhile(ct).reverse()},Rr.prototype.toArray=function(){return this.take(rn)},uo(Rr.prototype,function(ct,bt){var Et=/^(?:filter|find|map|reject)|While$/.test(bt),It=/^(?:head|last)$/.test(bt),Nt=Ht[It?"take"+(bt=="last"?"Right":""):bt],Yt=It||/^find/.test(bt);!Nt||(Ht.prototype[bt]=function(){var on=this.__wrapped__,un=It?[1]:arguments,gn=on instanceof Rr,Rn=un[0],In=gn||wr(on),Fn=function(Ar){var Ir=Nt.apply(Ht,ko([Ar],un));return It&&Xn?Ir[0]:Ir};In&&Et&&typeof Rn=="function"&&Rn.length!=1&&(gn=In=!1);var Xn=this.__chain__,ar=!!this.__actions__.length,pr=Yt&&!Xn,Cr=gn&&!ar;if(!Yt&&In){on=Cr?on:new Rr(this);var mr=ct.apply(on,un);return mr.__actions__.push({func:wu,args:[Fn],thisArg:a}),new Ks(mr,Xn)}return pr&&Cr?ct.apply(this,un):(mr=this.thru(Fn),pr?It?mr.value()[0]:mr.value():mr)})}),Hs(["pop","push","shift","sort","splice","unshift"],function(ct){var bt=Xl[ct],Et=/^(?:push|sort|unshift)$/.test(ct)?"tap":"thru",It=/^(?:pop|shift)$/.test(ct);Ht.prototype[ct]=function(){var Nt=arguments;if(It&&!this.__chain__){var Yt=this.value();return bt.apply(wr(Yt)?Yt:[],Nt)}return this[Et](function(on){return bt.apply(wr(on)?on:[],Nt)})}}),uo(Rr.prototype,function(ct,bt){var Et=Ht[bt];if(Et){var It=Et.name+"";Vr.call(yl,It)||(yl[It]=[]),yl[It].push({name:bt,func:Et})}}),yl[gu(a,gt).name]=[{name:"wrapper",func:a}],Rr.prototype.clone=wv,Rr.prototype.reverse=Tv,Rr.prototype.value=Ev,Ht.prototype.at=n1,Ht.prototype.chain=r1,Ht.prototype.commit=i1,Ht.prototype.next=s1,Ht.prototype.plant=o1,Ht.prototype.reverse=l1,Ht.prototype.toJSON=Ht.prototype.valueOf=Ht.prototype.value=u1,Ht.prototype.first=Ht.prototype.head,Rl&&(Ht.prototype[Rl]=a1),Ht},Qo=nv();br?((br.exports=Qo)._=Qo,Jn._=Qo):sr._=Qo}).call(commonjsGlobal)})(lodash,lodash.exports);var moduleLoader={},xmlhttprequestTs_umd={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);(function(i,s){(function(a,o){o(s,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6)})(commonjsGlobal,function(a,o,it,tt,at,ot,rt,nt){/**
 * @license xmlhttprequest-ts
 * MIT license
 */var j=function(){function _(){this.UNSENT=_.UNSENT,this.OPENED=_.OPENED,this.HEADERS_RECEIVED=_.HEADERS_RECEIVED,this.LOADING=_.LOADING,this.DONE=_.DONE,this.disableHeaderCheck=!1,this.readyState=_.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return _.prototype.open=function($,et,st,lt,ft){if(st===void 0&&(st=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod($))throw new Error("SecurityError: Request method not allowed");this.settings={method:$,url:et,async:typeof st!="boolean"?!0:st,user:lt,password:ft},this.setState(this.OPENED)},_.prototype.setDisableHeaderCheck=function($){this.disableHeaderCheck=$},_.prototype.setRequestHeader=function($,et){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!this.isAllowedHttpHeader($)){console.warn('Refused to set unsafe header "'+$+'"');return}if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");$=this.headersLowerCase[$.toLowerCase()]||$,this.headersLowerCase[$.toLowerCase()]=$,this.headers[$]=this.headers[$]?this.headers[$]+", "+et:et},_.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var $="";if(this.response){for(var et in this.response.headers)if(et!=="set-cookie"&&et!=="set-cookie2"){var st=this.response.headers[et];typeof st=="string"?$+=et+": "+st+`\r
`:Array.isArray(st)?$+=et+": "+st.join(", ")+`\r
`:$+=et+`:\r
`}}return $.substr(0,$.length-2)},_.prototype.getResponseHeader=function($){if(typeof $=="string"&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[$.toLowerCase()]&&!this.errorFlag){var et=this.response.headers[$.toLowerCase()];if(typeof et=="string")return et;if(Array.isArray(et))return et.join(", ")}return null},_.prototype.getRequestHeader=function($){if(typeof $=="string"&&this.headersLowerCase[$.toLowerCase()])return this.headers[this.headersLowerCase[$.toLowerCase()]]},_.prototype.send=function($){var et=this,st=this;if(this.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var lt=!1,ft=!1,gt=at.parse(this.settings.url),ut;switch(gt.protocol){case"https:":lt=!0;case"http:":ut=gt.hostname;break;case"file:":ft=!0;break;case void 0:case null:case"":ut="localhost";break;default:throw new Error("Protocol not supported.")}if(ft){if(this.settings.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)o.readFile(unescape(gt.pathname||"/"),"utf8",function(Pt,Ot){Pt?st.handleError(Pt):(st.status=200,st.responseText=Ot,st.setState(st.DONE))});else try{this.responseText=o.readFileSync(unescape(gt.pathname||"/"),"utf8"),this.status=200,this.setState(st.DONE)}catch(Pt){this.handleError(Pt)}return}var pt=gt.port||(lt?443:80),vt=gt.pathname+(gt.search?gt.search:"");for(var dt in this.defaultHeaders)this.headersLowerCase[dt.toLowerCase()]||(this.headers[dt]=this.defaultHeaders[dt]);if(ut&&(this.headers.Host=ut),gt.host&&gt.host[0]==="["&&(this.headers.Host="["+this.headers.Host+"]"),lt&&pt===443||pt===80||(this.headers.Host+=":"+gt.port),this.settings.user){typeof this.settings.password>"u"&&(this.settings.password="");var mt=Buffer.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+mt.toString("base64")}this.settings.method==="GET"||this.settings.method==="HEAD"?$=null:$?(this.headers["Content-Length"]=""+(Buffer.isBuffer($)?$.length:Buffer.byteLength($)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):this.settings.method==="POST"&&(this.headers["Content-Length"]="0");var Tt={host:ut,port:pt,path:vt,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout(function(){et.readyState!==et.DONE&&st.handleTimeout(new Error("request timed out after "+et.timeout+"ms"))},this.timeout));var yt=lt?tt.request:it.request;this.sendFlag=!0,st.dispatchEvent("readystatechange");var ht=function(Pt){st.handleError(Pt)},xt=0,wt=function(Pt){if(st.response=Pt,st.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(st.response.headers.location&&(st.response.statusCode===301||st.response.statusCode===302||st.response.statusCode===303||st.response.statusCode===307)){if(xt++,xt>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");st.settings.url=st.response.headers.location;var Ot=at.parse(st.settings.url);ut=Ot.hostname,ut&&(st.headers.Host=ut);var Xt={hostname:Ot.hostname,port:Ot.port,path:Ot.path,method:st.response.statusCode===303?"GET":st.settings.method,headers:st.headers,withCredentials:st.withCredentials};lt=gt.protocol==="https:",yt=lt?tt.request:it.request,st.request=yt(Xt,wt).on("error",ht),st.request.end();return}st.response.setEncoding("utf8"),st.setState(st.HEADERS_RECEIVED),st.status=st.response.statusCode||0,st.response.on("data",function(rn){rn&&(st.responseText+=rn),st.sendFlag&&st.setState(st.LOADING)}),st.response.on("end",function(){st.sendFlag&&(st.setState(st.DONE),st.sendFlag=!1)}),st.response.on("error",function(rn){st.handleError(rn)})};st.request=yt(Tt,wt).on("error",ht),$&&st.request.write($),st.request.end(),st.dispatchEvent("loadstart")}else{var kt=new Date().getTime(),Ct=ot.tmpdir()+rt.sep+"ts-xmlhttprequest-content-"+process.pid,Rt=ot.tmpdir()+rt.sep+"ts-xmlhttprequest-sync-"+process.pid;o.writeFileSync(Rt,"","utf8");var Lt="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(lt?"s":"")+".request;let options = "+JSON.stringify(Tt)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+Ct+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+Rt+"');});response.on('error', function(error) {fs.writeFileSync('"+Ct+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Rt+"');});}).on('error', function(error) {fs.writeFileSync('"+Ct+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Rt+"');});"+($?"req.write('"+JSON.stringify($).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";st.dispatchEvent("loadstart"),this.setState(st.LOADING);var Mt=nt.spawn(process.argv[0],["-e",Lt]);for(Mt.on("exit",function(Pt,Ot){try{o.unlinkSync(Rt)}catch{}try{o.unlinkSync(Ct)}catch{}});o.existsSync(Rt);)if(this.timeout!==0&&new Date().getTime()>=kt+this.timeout)return Mt.stdin.end(),Mt.kill(),st.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));Mt.stdin.end(),Mt.kill();var Wt=JSON.parse(o.readFileSync(Ct,"utf8"));o.unlinkSync(Ct),Wt.err?st.handleError(Wt.err):(st.response=Wt.data,st.status=Wt.data.statusCode,st.responseText=Wt.data.text,st.setState(st.DONE))}},_.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||this.sendFlag)&&this.readyState!==this.DONE&&(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},_.prototype.addEventListener=function($,et){$ in this.listeners||(this.listeners[$]=[]),this.listeners[$].push(et)},_.prototype.removeEventListener=function($,et){$ in this.listeners&&(this.listeners[$]=this.listeners[$].filter(function(st){return st!==et}))},_.prototype.dispatchEvent=function($,et){var st="on"+$;if(typeof this[st]=="function"&&this[st](et),$ in this.listeners)for(var lt=0,ft=this.listeners[$].length;lt<ft;lt++)this.listeners[$][lt].call(this,et)},_.prototype.setState=function($){($===this.LOADING||this.readyState!==$)&&(this.readyState=$,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},_.prototype.handleTimeout=function($){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",$),this.setState(this.DONE)},_.prototype.handleError=function($){this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("error",$),this.setState(this.DONE)},_.prototype.isAllowedHttpHeader=function($){return(this.disableHeaderCheck||$&&this.forbiddenRequestHeaders.indexOf($.toLowerCase())===-1)===!0},_.prototype.isAllowedHttpMethod=function($){return($&&this.forbiddenRequestMethods.indexOf($)===-1)===!0},_.UNSENT=0,_.OPENED=1,_.HEADERS_RECEIVED=2,_.LOADING=3,_.DONE=4,_}();a.XMLHttpRequest=j,Object.defineProperty(a,"__esModule",{value:!0})})})(xmlhttprequestTs_umd,xmlhttprequestTs_umd.exports);var moduleErrors={};Object.defineProperty(moduleErrors,"__esModule",{value:!0});moduleErrors.ModuleInternalError=moduleErrors.ModuleNotFoundError=moduleErrors.ModuleConnectionError=void 0;const runtimeSourceError_1=runtimeSourceError;class ModuleConnectionError extends runtimeSourceError_1.RuntimeSourceError{constructor(s){super(s)}explain(){return ModuleConnectionError.message}elaborate(){return ModuleConnectionError.elaboration}}moduleErrors.ModuleConnectionError=ModuleConnectionError;ModuleConnectionError.message="Unable to get modules.";ModuleConnectionError.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";class ModuleNotFoundError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,a){super(a),this.moduleName=s}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return`
      You should check your import declarations, and ensure that all are valid modules.
    `}}moduleErrors.ModuleNotFoundError=ModuleNotFoundError;class ModuleInternalError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,a){super(a),this.moduleName=s}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return`
      You may need to contact with the author for this module to fix this error.
    `}}moduleErrors.ModuleInternalError=ModuleInternalError;(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadModuleDocs=exports.memoizedloadModuleDocs=exports.loadModuleTabs=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;const lodash_1=lodash.exports,xmlhttprequest_ts_1=xmlhttprequestTs_umd.exports,moduleErrors_1=moduleErrors,newHttpRequest=()=>typeof window>"u"?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules";function setModulesStaticURL(i){exports.MODULES_STATIC_URL=i}exports.setModulesStaticURL=setModulesStaticURL;function httpGet(i){const s=(0,exports.newHttpRequest)();try{typeof window>"u"&&(s.timeout=1e4),s.open("GET",i,!1),s.send(null)}catch(a){if(!(a instanceof DOMException))throw a}if(s.status!==200&&s.status!==304)throw new moduleErrors_1.ModuleConnectionError;return s.responseText}exports.httpGet=httpGet,exports.memoizedGetModuleManifest=(0,lodash_1.memoize)(getModuleManifest);function getModuleManifest(){const i=httpGet(`${exports.MODULES_STATIC_URL}/modules.json`);return JSON.parse(i)}const memoizedGetModuleFileInternal=(0,lodash_1.memoize)(getModuleFile),memoizedGetModuleFile=(i,s)=>memoizedGetModuleFileInternal({name:i,type:s});exports.memoizedGetModuleFile=memoizedGetModuleFile;function getModuleFile({name:i,type:s}){return httpGet(`${exports.MODULES_STATIC_URL}/${s}s/${i}.js${s==="json"?"on":""}`)}function loadModuleBundle(path,context,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=(0,exports.memoizedGetModuleFile)(path,"bundle");try{const moduleBundle=eval(moduleText);return moduleBundle({context})}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}}exports.loadModuleBundle=loadModuleBundle;function loadModuleTabs(path,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map(path=>{const rawTabFile=(0,exports.memoizedGetModuleFile)(path,"tab");try{return eval(rawTabFile)}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}})}exports.loadModuleTabs=loadModuleTabs,exports.memoizedloadModuleDocs=(0,lodash_1.memoize)(loadModuleDocs);function loadModuleDocs(i,s){try{const a=(0,exports.memoizedGetModuleManifest)();if(!Object.keys(a).includes(i))throw new moduleErrors_1.ModuleNotFoundError(i,s);const it=getModuleFile({name:i,type:"json"});return JSON.parse(it)}catch{return console.warn("Failed to load module documentation"),null}}exports.loadModuleDocs=loadModuleDocs})(moduleLoader);var inspector={};Object.defineProperty(inspector,"__esModule",{value:!0});inspector.areBreakpointsSet=inspector.checkEditorBreakpoints=inspector.manualToggleDebugger=inspector.setBreakpointAtLine=inspector.saveState=void 0;const saveState=(i,s,a)=>{i.debugger.state.it=s,i.debugger.state.scheduler=a};inspector.saveState=saveState;const setBreakpointAtLine=i=>{breakpoints=i};inspector.setBreakpointAtLine=setBreakpointAtLine;const manualToggleDebugger=i=>(i.runtime.break=!0,{status:"suspended",scheduler:i.debugger.state.scheduler,it:i.debugger.state.it,context:i});inspector.manualToggleDebugger=manualToggleDebugger;let breakpoints=[],moved=!0,prevStoppedLine=-1;const checkEditorBreakpoints=(i,s)=>{if(s.loc){const a=s.loc.start.line-1;!moved&&a!==prevStoppedLine&&(moved=!0),i.runtime.debuggerOn&&breakpoints[a]!==void 0&&moved&&(moved=!1,prevStoppedLine=a,i.runtime.break=!0)}};inspector.checkEditorBreakpoints=checkEditorBreakpoints;const areBreakpointsSet=()=>breakpoints.length>0;inspector.areBreakpointsSet=areBreakpointsSet;var operators={},timeoutErrors={},formatters={};Object.defineProperty(formatters,"__esModule",{value:!0});formatters.simplify=formatters.stripIndent=formatters.oneLine=void 0;function templateToString(i,s){return typeof i=="string"?i:s.reduce((a,o,it)=>a+o+i[it+1],i[0])}function oneLine(i,...s){return templateToString(i,s).replace(/(?:\n(?:\s*))+/g," ").trim()}formatters.oneLine=oneLine;function stripIndent(i,...s){const a=templateToString(i,s),o=a.match(/^[^\S\n]*(?=\S)/gm),it=o&&Math.min(...o.map(tt=>tt.length));return it?a.replace(new RegExp(`^.{${it}}`,"gm"),"").trim():a.trim()}formatters.stripIndent=stripIndent;function simplify(i,s=15,a="..."){if(i.length<s)return i;const o=Math.ceil(s-a.length/2);return i.slice(0,o)+" ... "+i.slice(o)}formatters.simplify=simplify;var hasRequiredTimeoutErrors;function requireTimeoutErrors(){if(hasRequiredTimeoutErrors)return timeoutErrors;hasRequiredTimeoutErrors=1,Object.defineProperty(timeoutErrors,"__esModule",{value:!0}),timeoutErrors.PotentialInfiniteRecursionError=timeoutErrors.PotentialInfiniteLoopError=timeoutErrors.TimeoutError=void 0;const i=constants,s=types,a=formatters,o=requireStringify(),it=runtimeSourceError;function tt(nt){const j=nt/1e3,_=j*i.JSSLANG_PROPERTIES.factorToIncreaseBy;return(0,a.stripIndent)`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${j} to ${_} seconds.
      This page may be unresponsive for up to ${_} seconds if you do so.`}class at extends it.RuntimeSourceError{}timeoutErrors.TimeoutError=at;class ot extends at{constructor(j,_){super(j),this.maxExecTime=_,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return(0,a.stripIndent)`${"Potential infinite loop detected"}.
    ${tt(this.maxExecTime)}`}elaborate(){return this.explain()}}timeoutErrors.PotentialInfiniteLoopError=ot;class rt extends at{constructor(j,_,$){super(j),this.calls=_,this.maxExecTime=$,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const j=this.calls.map(([_,$])=>`${_}(${$.map(et=>(0,o.stringify)(et)).join(", ")})`);return(0,a.stripIndent)`${"Potential infinite recursion detected"}: ${j.join(" ... ")}.
      ${tt(this.maxExecTime)}`}elaborate(){return this.explain()}}return timeoutErrors.PotentialInfiniteRecursionError=rt,timeoutErrors}var makeWrapper$1={};Object.defineProperty(makeWrapper$1,"__esModule",{value:!0});makeWrapper$1.makeWrapper=void 0;function makeWrapper(i,s){for(const a in i)i.hasOwnProperty(a)&&Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a));for(const a of["length","name"])i.hasOwnProperty(a)&&Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))}makeWrapper$1.makeWrapper=makeWrapper;var hasRequiredOperators;function requireOperators(){return hasRequiredOperators||(hasRequiredOperators=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.getProp=i.setProp=i.wrap=i.callIteratively=i.evaluateBinaryExpression=i.binaryOp=i.evaluateUnaryExpression=i.unaryOp=i.boolOrErr=i.callIfFuncAndRightArgs=i.makeLazyFunction=i.wrapLazyCallee=i.delayIt=i.forceIt=i.throwIfTimeout=void 0;const s=requireCreateContext(),a=requireErrors(),o=runtimeSourceError,it=requireTimeoutErrors(),tt=astCreator,at=astCreator,ot=makeWrapper$1,rt=rttc;function nt(yt,ht,xt,wt,kt){if(xt-ht>yt.maxExecTime)throw new it.PotentialInfiniteLoopError(at.locationDummyNode(wt,kt),yt.maxExecTime)}i.throwIfTimeout=nt;function j(yt){if(yt!=null&&yt.isMemoized!==void 0){if(yt.isMemoized)return yt.memoizedValue;const ht=j(yt.f());return yt.isMemoized=!0,yt.memoizedValue=ht,ht}else return yt}i.forceIt=j;function _(yt){return{isMemoized:!1,value:void 0,f:yt}}i.delayIt=_;function $(yt){if(yt=j(yt),typeof yt=="function"){const ht=(...xt)=>yt(...xt.map(j));return(0,ot.makeWrapper)(yt,ht),ht[Symbol.toStringTag]=()=>yt.toString(),ht.toString=()=>yt.toString(),ht}else if(yt instanceof s.LazyBuiltIn)if(yt.evaluateArgs){const ht=(...xt)=>yt.func(...xt.map(j));return(0,ot.makeWrapper)(yt.func,ht),ht[Symbol.toStringTag]=()=>yt.toString(),ht.toString=()=>yt.toString(),ht}else return yt;return yt}i.wrapLazyCallee=$;function et(yt){return new s.LazyBuiltIn(yt,!1)}i.makeLazyFunction=et;function st(yt,ht,xt,...wt){const kt=at.callExpression(at.locationDummyNode(ht,xt),wt,{start:{line:ht,column:xt},end:{line:ht,column:xt}});if(typeof yt=="function"){const Ct=yt;yt.transformedFunction!==void 0&&(yt=yt.transformedFunction);const Rt=yt.length,Lt=wt.length,Mt=yt.minArgsNeeded!==void 0;if(Mt?yt.minArgsNeeded>Lt:Rt!==Lt)throw new a.InvalidNumberOfArguments(kt,Mt?yt.minArgsNeeded:Rt,Lt,Mt);try{const Wt=wt.map(j);return Ct(...Wt)}catch(Wt){throw Wt instanceof o.RuntimeSourceError||Wt instanceof a.ExceptionError?Wt:new a.ExceptionError(Wt,kt.loc)}}else if(yt instanceof s.LazyBuiltIn)try{return yt.evaluateArgs&&(wt=wt.map(j)),yt.func(...wt)}catch(Ct){throw Ct instanceof o.RuntimeSourceError||Ct instanceof a.ExceptionError?Ct:new a.ExceptionError(Ct,kt.loc)}else throw new a.CallingNonFunctionValue(yt,kt)}i.callIfFuncAndRightArgs=st;function lt(yt,ht,xt){yt=j(yt);const wt=rt.checkIfStatement(at.locationDummyNode(ht,xt),yt);if(wt===void 0)return yt;throw wt}i.boolOrErr=lt;function ft(yt,ht,xt,wt){ht=j(ht);const kt=rt.checkUnaryExpression(at.locationDummyNode(xt,wt),yt,ht);if(kt===void 0)return gt(yt,ht);throw kt}i.unaryOp=ft;function gt(yt,ht){return yt==="!"?!ht:yt==="-"?-ht:+ht}i.evaluateUnaryExpression=gt;function ut(yt,ht,xt,wt,kt,Ct){xt=j(xt),wt=j(wt);const Rt=rt.checkBinaryExpression(at.locationDummyNode(kt,Ct),yt,ht,xt,wt);if(Rt===void 0)return pt(yt,xt,wt);throw Rt}i.binaryOp=ut;function pt(yt,ht,xt){switch(yt){case"+":return ht+xt;case"-":return ht-xt;case"*":return ht*xt;case"/":return ht/xt;case"%":return ht%xt;case"===":return ht===xt;case"!==":return ht!==xt;case"<=":return ht<=xt;case"<":return ht<xt;case">":return ht>xt;case">=":return ht>=xt;default:return}}i.evaluateBinaryExpression=pt;const vt=(yt,ht,...xt)=>{let wt=-1,kt=-1;const Ct=Date.now(),Rt=[];for(;;){const Lt=(0,tt.locationDummyNode)(wt,kt);if(yt=j(yt),typeof yt=="function"){yt.transformedFunction!==void 0&&(yt=yt.transformedFunction);const Wt=yt.length,Pt=xt.length,Ot=yt.minArgsNeeded!==void 0;if(Ot?yt.minArgsNeeded>Pt:Wt!==Pt)throw new a.InvalidNumberOfArguments((0,tt.callExpression)(Lt,xt,{start:{line:wt,column:kt},end:{line:wt,column:kt}}),Ot?yt.minArgsNeeded:Wt,Pt,Ot)}else if(yt instanceof s.LazyBuiltIn)yt.evaluateArgs&&(xt=xt.map(j)),yt=yt.func;else throw new a.CallingNonFunctionValue(yt,Lt);let Mt;try{if(Mt=yt(...xt),Date.now()-Ct>ht.maxExecTime)throw new it.PotentialInfiniteRecursionError(Lt,Rt,ht.maxExecTime)}catch(Wt){throw Wt instanceof o.RuntimeSourceError||Wt instanceof a.ExceptionError?Wt:new a.ExceptionError(Wt,Lt.loc)}if(Mt==null)return Mt;if(Mt.isTail===!0)yt=Mt.function,xt=Mt.arguments,wt=Mt.line,kt=Mt.column,Rt.push([Mt.functionName,xt]);else return Mt.isTail===!1?Mt.value:Mt}};i.callIteratively=vt;const dt=(yt,ht,xt,wt)=>{xt&&(yt.minArgsNeeded=yt.length);const kt=(...Ct)=>(0,i.callIteratively)(yt,wt,...Ct);return(0,ot.makeWrapper)(yt,kt),kt.transformedFunction=yt,kt[Symbol.toStringTag]=()=>ht,kt.toString=()=>ht,kt};i.wrap=dt;const mt=(yt,ht,xt,wt,kt)=>{const Ct=(0,tt.locationDummyNode)(wt,kt),Rt=rt.checkMemberAccess(Ct,yt,ht);if(Rt===void 0)return yt[ht]=xt;throw Rt};i.setProp=mt;const Tt=(yt,ht,xt,wt)=>{const kt=(0,tt.locationDummyNode)(xt,wt),Ct=rt.checkMemberAccess(kt,yt,ht);if(Ct===void 0){if(yt[ht]!==void 0&&!yt.hasOwnProperty(ht))throw new a.GetInheritedPropertyError(kt,yt,ht);return yt[ht]}else throw Ct};i.getProp=Tt}(operators)),operators}var hasRequiredInterpreter;function requireInterpreter(){return hasRequiredInterpreter||(hasRequiredInterpreter=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.apply=i.evaluate=i.evaluators=i.pushEnvironment=i.createBlockEnvironment=i.actualValue=void 0;const s=lodash.exports,a=constants,o=requireCreateContext(),it=requireErrors(),tt=runtimeSourceError,at=moduleLoader,ot=inspector,rt=types,nt=astCreator,j=requireOperators(),_=rttc,$=requireClosure();class et{}class st{}class lt{constructor(Qt){this.value=Qt}}class ft{constructor(Qt,Gt,cn){this.callee=Qt,this.args=Gt,this.node=cn}}class gt{constructor(Qt,Gt){this.exp=Qt,this.env=Gt,this.isMemoized=!1,this.value=null}}const ut=(qt,Qt)=>new gt(qt,Qt);function*pt(qt,Qt){if(qt instanceof gt){if(qt.isMemoized)return qt.value;(0,i.pushEnvironment)(Qt,qt.env);const Gt=yield*vt(qt.exp,Qt);return Pt(Qt),qt.value=Gt,qt.isMemoized=!0,Gt}else return qt}function*vt(qt,Qt){const Gt=yield*wn(qt,Qt);return yield*pt(Gt,Qt)}i.actualValue=vt;const dt=(qt,Qt,Gt)=>{const cn={name:qt.functionName,tail:qt.environment,head:{},id:(0,s.uniqueId)()};return Gt&&(cn.callExpression=Object.assign(Object.assign({},Gt),{arguments:Qt.map(nt.primitive)})),qt.node.params.forEach((kn,dn)=>{kn.type==="RestElement"?cn.head[kn.argument.name]=Qt.slice(dn):cn.head[kn.name]=Qt[dn]}),cn},mt=(qt,Qt="blockEnvironment",Gt={})=>({name:Qt,tail:Mt(qt),head:Gt,id:(0,s.uniqueId)()});i.createBlockEnvironment=mt;const Tt=(qt,Qt)=>{throw qt.errors.push(Qt),qt.runtime.environments=qt.runtime.environments.slice(-qt.numberOfOuterEnvironments),Qt},yt=Symbol("Used to implement hoisting");function ht(qt,Qt,Gt){const cn=Mt(qt);if(cn.head.hasOwnProperty(Qt)){const kn=Object.getOwnPropertyDescriptors(cn.head);return Tt(qt,new it.VariableRedeclaration(Gt,Qt,kn[Qt].writable))}return cn.head[Qt]=yt,cn}function xt(qt,Qt){for(const Gt of Qt.declarations)ht(qt,Gt.id.name,Qt)}function wt(qt,Qt){for(const Gt of Qt.specifiers)ht(qt,Gt.local.name,Qt)}function kt(qt,Qt){for(const Gt of Qt.body)switch(Gt.type){case"VariableDeclaration":xt(qt,Gt);break;case"FunctionDeclaration":ht(qt,Gt.id.name,Gt);break}}function Ct(qt,Qt,Gt,cn=!1){const kn=Mt(qt);return kn.head[Qt]!==yt?Tt(qt,new it.VariableRedeclaration(qt.runtime.nodes[0],Qt,!cn)):(Object.defineProperty(kn.head,Qt,{value:Gt,writable:!cn,enumerable:!0}),kn)}function*Rt(qt,Qt){(0,ot.checkEditorBreakpoints)(qt,Qt),qt.runtime.nodes.unshift(Qt),yield qt}function*Lt(qt){qt.runtime.break=!1,qt.runtime.nodes.shift(),yield qt}const Mt=qt=>qt.runtime.environments[0],Wt=(qt,Qt)=>{qt.runtime.environments[0]=Qt,qt.runtime.environmentTree.insert(Qt)},Pt=qt=>qt.runtime.environments.shift(),Ot=(qt,Qt)=>{qt.runtime.environments.unshift(Qt),qt.runtime.environmentTree.insert(Qt)};i.pushEnvironment=Ot;const Xt=(qt,Qt)=>{let Gt=Mt(qt);for(;Gt;){if(Gt.head.hasOwnProperty(Qt))return Gt.head[Qt]===yt?Tt(qt,new it.UnassignedVariable(Qt,qt.runtime.nodes[0])):Gt.head[Qt];Gt=Gt.tail}return Tt(qt,new it.UndefinedVariable(Qt,qt.runtime.nodes[0]))},rn=(qt,Qt,Gt)=>{let cn=Mt(qt);for(;cn;)if(cn.head.hasOwnProperty(Qt)){if(cn.head[Qt]===yt)break;if(Object.getOwnPropertyDescriptors(cn.head)[Qt].writable){cn.head[Qt]=Gt;return}return Tt(qt,new it.ConstAssignment(qt.runtime.nodes[0],Qt))}else cn=cn.tail;return Tt(qt,new it.UndefinedVariable(Qt,qt.runtime.nodes[0]))},jt=(qt,Qt,Gt,cn)=>{var kn;if(Qt instanceof $.default){const dn=Qt.node.params,qn=((kn=dn[dn.length-1])===null||kn===void 0?void 0:kn.type)==="RestElement";if(qn?dn.length-1>Gt.length:dn.length!==Gt.length)return Tt(qt,new it.InvalidNumberOfArguments(cn,qn?dn.length-1:dn.length,Gt.length,qn))}else{const dn=Qt.minArgsNeeded!=null;if(dn?Qt.minArgsNeeded>Gt.length:Qt.length!==Gt.length)return Tt(qt,new it.InvalidNumberOfArguments(cn,dn?Qt.minArgsNeeded:Qt.length,Gt.length,dn))}};function*Vt(qt,Qt){const Gt=[];for(const cn of Qt.arguments)qt.variant===rt.Variant.LAZY?Gt.push(ut(cn,Mt(qt))):cn.type==="SpreadElement"?Gt.push(...yield*vt(cn.argument,qt)):Gt.push(yield*vt(cn,qt));return Gt}function en(qt){return qt.operator==="&&"?(0,nt.conditionalExpression)(qt.left,qt.right,(0,nt.literal)(!1),qt.loc):(0,nt.conditionalExpression)(qt.left,(0,nt.literal)(!0),qt.right,qt.loc)}function*ln(qt,Qt){const Gt=yield*vt(qt.test,Qt),cn=_.checkIfStatement(qt,Gt,Qt.chapter);return cn?Tt(Qt,cn):Gt?qt.consequent:qt.alternate}function*nn(qt,Qt){kt(qt,Qt);let Gt;for(const cn of Qt.body)if(Gt=yield*wn(cn,qt),Gt instanceof lt||Gt instanceof ft||Gt instanceof et||Gt instanceof st)break;return Gt}i.evaluators={Literal:function*(qt,Qt){return qt.value},TemplateLiteral:function*(qt){return qt.quasis[0].value.cooked},ThisExpression:function*(qt,Qt){return Mt(Qt).thisContext},ArrayExpression:function*(qt,Qt){const Gt=[];for(const cn of qt.elements)Gt.push(yield*wn(cn,Qt));return Gt},DebuggerStatement:function*(qt,Qt){Qt.runtime.break=!0,yield},FunctionExpression:function*(qt,Qt){return new $.default(qt,Mt(Qt),Qt)},ArrowFunctionExpression:function*(qt,Qt){return $.default.makeFromArrowFunction(qt,Mt(Qt),Qt)},Identifier:function*(qt,Qt){return Xt(Qt,qt.name)},CallExpression:function*(qt,Qt){const Gt=yield*vt(qt.callee,Qt),cn=yield*Vt(Qt,qt);let kn;return qt.callee.type==="MemberExpression"&&(kn=yield*vt(qt.callee.object,Qt)),yield*xn(Qt,Gt,cn,qt,kn)},NewExpression:function*(qt,Qt){const Gt=yield*wn(qt.callee,Qt),cn=[];for(const dn of qt.arguments)cn.push(yield*wn(dn,Qt));const kn={};return Gt instanceof $.default?(kn.__proto__=Gt.fun.prototype,Gt.fun.apply(kn,cn)):(kn.__proto__=Gt.prototype,Gt.apply(kn,cn)),kn},UnaryExpression:function*(qt,Qt){const Gt=yield*vt(qt.argument,Qt),cn=_.checkUnaryExpression(qt,qt.operator,Gt,Qt.chapter);return cn?Tt(Qt,cn):(0,j.evaluateUnaryExpression)(qt.operator,Gt)},BinaryExpression:function*(qt,Qt){const Gt=yield*vt(qt.left,Qt),cn=yield*vt(qt.right,Qt),kn=_.checkBinaryExpression(qt,qt.operator,Qt.chapter,Gt,cn);return kn?Tt(Qt,kn):(0,j.evaluateBinaryExpression)(qt.operator,Gt,cn)},ConditionalExpression:function*(qt,Qt){return yield*this.IfStatement(qt,Qt)},LogicalExpression:function*(qt,Qt){return yield*this.ConditionalExpression(en(qt),Qt)},VariableDeclaration:function*(qt,Qt){const Gt=qt.declarations[0],cn=qt.kind==="const",kn=Gt.id,dn=yield*wn(Gt.init,Qt);Ct(Qt,kn.name,dn,cn)},ContinueStatement:function*(qt,Qt){return new st},BreakStatement:function*(qt,Qt){return new et},ForStatement:function*(qt,Qt){const Gt=(0,i.createBlockEnvironment)(Qt,"forLoopEnvironment");(0,i.pushEnvironment)(Qt,Gt);const cn=qt.init,kn=qt.test,dn=qt.update;cn.type==="VariableDeclaration"&&xt(Qt,cn),yield*vt(cn,Qt);let qn;for(;yield*vt(kn,Qt);){const ur=(0,i.createBlockEnvironment)(Qt,"forBlockEnvironment");(0,i.pushEnvironment)(Qt,ur);for(const cr in Gt.head)Gt.head.hasOwnProperty(cr)&&(ht(Qt,cr,qt),Ct(Qt,cr,Gt.head[cr],!0));if(qn=yield*vt(qt.body,Qt),Pt(Qt),qn instanceof st&&(qn=void 0),qn instanceof et){qn=void 0;break}if(qn instanceof lt||qn instanceof ft)break;yield*vt(dn,Qt)}return Pt(Qt),qn},MemberExpression:function*(qt,Qt){let Gt=yield*vt(qt.object,Qt);Gt instanceof $.default&&(Gt=Gt.fun);let cn;qt.computed?cn=yield*vt(qt.property,Qt):cn=qt.property.name;const kn=_.checkMemberAccess(qt,Gt,cn);if(kn)return Tt(Qt,kn);if(Gt!=null&&typeof Gt[cn]<"u"&&!Gt.hasOwnProperty(cn))return Tt(Qt,new it.GetInheritedPropertyError(qt,Gt,cn));try{return Gt[cn]}catch{return Tt(Qt,new it.GetPropertyError(qt,Gt,cn))}},AssignmentExpression:function*(qt,Qt){if(qt.left.type==="MemberExpression"){const kn=qt.left,dn=yield*vt(kn.object,Qt);let qn;kn.computed?qn=yield*vt(kn.property,Qt):qn=kn.property.name;const ur=_.checkMemberAccess(qt,dn,qn);if(ur)return Tt(Qt,ur);const cr=yield*wn(qt.right,Qt);try{dn[qn]=cr}catch{return Tt(Qt,new it.SetPropertyError(qt,dn,qn))}return cr}const Gt=qt.left,cn=yield*wn(qt.right,Qt);return rn(Qt,Gt.name,cn),cn},FunctionDeclaration:function*(qt,Qt){const Gt=qt.id,cn=new $.default(qt,Mt(Qt),Qt);Ct(Qt,Gt.name,cn,!0)},IfStatement:function*(qt,Qt){const Gt=yield*ln(qt,Qt);if(Gt!==null)return yield*wn(Gt,Qt)},ExpressionStatement:function*(qt,Qt){return yield*wn(qt.expression,Qt)},ReturnStatement:function*(qt,Qt){let Gt=qt.argument;for(;Gt.type==="LogicalExpression"||Gt.type==="ConditionalExpression";)Gt.type==="LogicalExpression"&&(Gt=en(Gt)),Gt=yield*ln(Gt,Qt);if(Gt.type==="CallExpression"&&Qt.variant!==rt.Variant.LAZY){const cn=yield*vt(Gt.callee,Qt),kn=yield*Vt(Qt,Gt);return new ft(cn,kn,Gt)}else return new lt(yield*wn(Gt,Qt))},WhileStatement:function*(qt,Qt){let Gt;for(;(yield*vt(qt.test,Qt))&&!(Gt instanceof lt)&&!(Gt instanceof et)&&!(Gt instanceof ft);)Gt=yield*vt(qt.body,Qt);if(!(Gt instanceof et))return Gt},ObjectExpression:function*(qt,Qt){const Gt={};for(const cn of qt.properties){const kn=cn;let dn;kn.key.type==="Identifier"?dn=kn.key.name:dn=yield*wn(kn.key,Qt),Gt[dn]=yield*wn(kn.value,Qt)}return Gt},BlockStatement:function*(qt,Qt){const Gt=(0,i.createBlockEnvironment)(Qt,"blockEnvironment");(0,i.pushEnvironment)(Qt,Gt);const cn=yield*nn(Qt,qt);return Pt(Qt),cn},ImportDeclaration:function*(qt,Qt){try{const Gt=qt.source.value,cn=qt.specifiers.map(dn=>{if(dn.type!=="ImportSpecifier")throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${dn.type}.`);return{imported:dn.imported.name,local:dn.local.name}});Gt in Qt.moduleContexts||(Qt.moduleContexts[Gt]={state:null,tabs:(0,at.loadModuleTabs)(Gt,qt)});const kn=(0,at.loadModuleBundle)(Gt,Qt,qt);wt(Qt,qt);for(const dn of cn)Ct(Qt,dn.local,kn[dn.imported],!0);return}catch(Gt){return Tt(Qt,Gt)}},Program:function*(qt,Qt){Qt.numberOfOuterEnvironments+=1;const Gt=(0,i.createBlockEnvironment)(Qt,"programEnvironment");return(0,i.pushEnvironment)(Qt,Gt),yield*pt(yield*nn(Qt,qt),Qt)}};function _n(qt){return(0,s.isEmpty)(qt.head)}function fn(qt){if(_n(qt)){const Qt=qt.tail;return Qt===null?qt:fn(Qt)}else return qt}function*wn(qt,Qt){yield*Rt(Qt,qt);const Gt=yield*i.evaluators[qt.type](qt,Qt);return yield*Lt(Qt),Gt instanceof $.default&&Object.defineProperty(fn(Mt(Qt)).head,(0,s.uniqueId)(),{value:Gt,writable:!1,enumerable:!0}),Gt}i.evaluate=wn;function*xn(qt,Qt,Gt,cn,kn){let dn,qn=0;for(;!(dn instanceof lt);)if(Qt instanceof $.default){jt(qt,Qt,Gt,cn);const ur=dt(Qt,Gt,cn);dn instanceof ft?Wt(qt,ur):((0,i.pushEnvironment)(qt,ur),qn++);const cr=(0,i.createBlockEnvironment)(qt,"functionBodyEnvironment");cr.thisContext=kn,(0,i.pushEnvironment)(qt,cr),dn=yield*nn(qt,Qt.node.body),Pt(qt),dn instanceof ft?(Qt=dn.callee,cn=dn.node,Gt=dn.args):dn instanceof lt||(dn=new lt(void 0))}else if(Qt instanceof o.LazyBuiltIn)try{let ur=Gt;if(Qt.evaluateArgs){ur=[];for(const cr of Gt)ur.push(yield*pt(cr,qt))}dn=Qt.func.apply(kn,ur);break}catch(ur){qt.runtime.environments=qt.runtime.environments.slice(-qt.numberOfOuterEnvironments);const cr=cn?cn.loc:a.UNKNOWN_LOCATION;if(!(ur instanceof tt.RuntimeSourceError||ur instanceof it.ExceptionError))return Tt(qt,new it.ExceptionError(ur,cr));throw dn=void 0,ur}else if(typeof Qt=="function"){jt(qt,Qt,Gt,cn);try{const ur=[];for(const cr of Gt)ur.push(yield*pt(cr,qt));dn=Qt.apply(kn,ur);break}catch(ur){qt.runtime.environments=qt.runtime.environments.slice(-qt.numberOfOuterEnvironments);const cr=cn?cn.loc:a.UNKNOWN_LOCATION;if(!(ur instanceof tt.RuntimeSourceError||ur instanceof it.ExceptionError))return Tt(qt,new it.ExceptionError(ur,cr));throw dn=void 0,ur}}else return Tt(qt,new it.CallingNonFunctionValue(Qt,cn));dn instanceof lt&&(dn=dn.value);for(let ur=1;ur<=qn;ur++)Pt(qt);return dn}i.apply=xn}(interpreter)),interpreter}var hasRequiredClosure;function requireClosure(){if(hasRequiredClosure)return closure;hasRequiredClosure=1,Object.defineProperty(closure,"__esModule",{value:!0});const i=astring,s=astCreator,a=requireInterpreter(),o=(at,ot,rt)=>{function nt(){const j=Array.prototype.slice.call(arguments),_=(0,a.apply)(ot,at,j,(0,s.callExpression)((0,s.identifier)(rt),j),this);let $=_.next();for(;!$.done;)$=_.next();return $.value}return Object.defineProperty(nt,"name",{value:rt}),Object.setPrototypeOf(nt,()=>{}),Object.defineProperty(nt,"Inherits",{value:j=>{nt.prototype=Object.create(j.prototype),nt.prototype.constructor=nt}}),nt.toString=()=>(0,i.generate)(at.originalNode),nt.call=(j,..._)=>nt.apply(j,_),nt};class it extends Function{constructor(ot){return super(),Object.setPrototypeOf(ot,new.target.prototype)}}class tt extends it{constructor(ot,rt,nt){super(function(..._){return j.apply(this,_)}),this.node=ot,this.environment=rt,this.originalNode=ot,this.node.type==="FunctionDeclaration"&&this.node.id!==null?this.functionName=this.node.id.name:this.functionName=(this.node.params.length===1?"":"(")+this.node.params.map(_=>_.name).join(", ")+(this.node.params.length===1?"":")")+" => ...";const j=o(this,nt,this.functionName);this.fun=j}static makeFromArrowFunction(ot,rt,nt){function j(et){return et.type!=="BlockStatement"}const _=j(ot.body)?[(0,s.returnStatement)(ot.body,ot.body.loc)]:ot.body,$=new tt((0,s.blockArrowFunction)(ot.params,_,ot.loc),rt,nt);return $.originalNode=ot,$}toString(){return(0,i.generate)(this.originalNode)}}return closure.default=tt,closure}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1,Object.defineProperty(stringify$1,"__esModule",{value:!0}),stringify$1.lineTreeToString=stringify$1.stringDagToSingleLine=stringify$1.stringDagToLineTree=stringify$1.valueToStringDag=stringify$1.typeToString=stringify$1.stringify=void 0;const i=constants,s=requireClosure(),a=requireOperators();function o(_){return typeof _.replPrefix=="string"&&typeof _.replSuffix=="string"&&typeof _.replArrayContents=="function"}const it=(_,$=2,et=80)=>{if(_=(0,a.forceIt)(_),typeof $=="string")throw"stringify with arbitrary indent string not supported";let st=$;return $>10&&(st=10),j(rt(ot(_),st,et))};stringify$1.stringify=it;function tt(_){return at(_)}stringify$1.typeToString=tt;function at(_,$={_next:0}){function et(st){return at(st,$)}switch(_.kind){case"primitive":return _.name;case"variable":return _.constraint&&_.constraint!=="none"?_.constraint:(_.name in $||($[_.name]="T"+$._next++),$[_.name]);case"list":return`List<${et(_.elementType)}>`;case"array":return`Array<${et(_.elementType)}>`;case"pair":const st=et(_.headType);return _.tailType.kind==="list"&&st===et(_.tailType.elementType)?`List<${st}>`:`[${et(_.headType)}, ${et(_.tailType)}]`;case"function":let lt=_.parameterTypes.map(et).join(", ");return(_.parameterTypes.length!==1||_.parameterTypes[0].kind==="function")&&(lt=`(${lt})`),`${lt} -> ${et(_.returnType)}`;default:return"Unable to infer type"}}function ot(_){const $=new Map,et=new Map;function st(pt){const vt=et.get(pt);if(vt!==void 0)return[vt,!1];$.set(pt,$.size);const dt=pt,[mt,Tt]=ut(dt[0]),[yt,ht]=ut(dt[1]),xt=Tt||ht;$.delete(pt);const wt={type:"pair",head:mt,tail:yt,length:mt.length+yt.length+4};return xt||et.set(pt,wt),[wt,xt]}function lt(pt,vt,dt,mt){const Tt=et.get(pt);if(Tt!==void 0)return[Tt,!1];$.set(pt,$.size);const yt=vt.map(ut);let ht=dt.length+mt.length+Math.max(0,yt.length-1)*2,xt=!1;for(let kt=0;kt<yt.length;kt++)yt[kt]==null&&(yt[kt]=ut(void 0)),ht+=yt[kt][0].length,xt||(xt=yt[kt][1]);$.delete(pt);const wt={type:"arraylike",elems:yt.map(kt=>kt[0]),prefix:dt,suffix:mt,length:ht};return xt||et.set(pt,wt),[wt,xt]}function ft(pt){const vt=et.get(pt);if(vt!==void 0)return[vt,!1];$.set(pt,$.size);const dt=Object.entries(pt),mt=dt.map(wt=>ut(wt[1]));let Tt=2+Math.max(0,dt.length-1)*2+dt.length*2,yt=!1;const ht=[];for(let wt=0;wt<mt.length;wt++)Tt+=dt[wt][0].length,Tt+=mt[wt].length,yt||(yt=mt[wt][1]),ht.push({type:"kvpair",key:dt[wt][0],value:mt[wt][0],length:mt[wt][0].length+dt[wt][0].length});$.delete(pt);const xt={type:"arraylike",elems:ht,prefix:"{",suffix:"}",length:Tt};return yt||et.set(pt,xt),[xt,yt]}function gt(pt){const vt=pt.split(`
`);return vt.length===1?[{type:"terminal",str:vt[0],length:vt[0].length},!1]:[{type:"multiline",lines:vt,length:1/0},!1]}function ut(pt){if(pt===null)return[{type:"terminal",str:"null",length:4},!1];if(pt===void 0)return[{type:"terminal",str:"undefined",length:9},!1];if($.has(pt))return[{type:"terminal",str:"...<circular>",length:13},!0];if(pt instanceof s.default)return gt(pt.toString());if(typeof pt=="string"){const vt=JSON.stringify(pt);return[{type:"terminal",str:vt,length:vt.length},!1]}else return typeof pt!="object"?gt(pt.toString()):$.size>i.MAX_LIST_DISPLAY_LENGTH?[{type:"terminal",str:"...<truncated>",length:14},!1]:typeof pt.toReplString=="function"?gt(pt.toReplString()):Array.isArray(pt)?pt.length===2?st(pt):lt(pt,pt,"[","]"):o(pt)?lt(pt,pt.replArrayContents(),pt.replPrefix,pt.replSuffix):Object.getPrototypeOf(pt)===Object.prototype?ft(pt):gt(pt.toString())}return ut(_)[0]}stringify$1.valueToStringDag=ot;function rt(_,$,et){const lt="["+" ".repeat(Math.max(0,$-1)),ft=new Map;function gt(ut){const pt=ft.get(ut);if(pt!==void 0)return pt;let vt;if(ut.type==="terminal")vt={type:"line",line:ut};else if(ut.type==="multiline")vt={type:"block",prefixFirst:"",prefixRest:"",block:ut.lines.map(dt=>({type:"line",line:{type:"terminal",str:dt,length:dt.length}})),suffixRest:"",suffixLast:""};else if(ut.type==="pair"){const dt=gt(ut.head),mt=gt(ut.tail);ut.length-2>et||dt.type!=="line"||mt.type!=="line"?vt={type:"block",prefixFirst:lt,prefixRest:"",block:[dt,mt],suffixRest:",",suffixLast:"]"}:vt={type:"line",line:ut}}else if(ut.type==="arraylike"){const dt=ut.elems.map(gt);ut.length-ut.prefix.length-ut.suffix.length>et||dt.some(mt=>mt.type!=="line")?vt={type:"block",prefixFirst:ut.prefix+" ".repeat(Math.max(0,$-ut.prefix.length)),prefixRest:" ".repeat(Math.max(ut.prefix.length,$)),block:dt,suffixRest:",",suffixLast:ut.suffix}:vt={type:"line",line:ut}}else if(ut.type==="kvpair"){const dt=gt(ut.value);ut.length>et||dt.type!=="line"?vt={type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(ut.key),length:0}},dt],suffixRest:":",suffixLast:""}:vt={type:"line",line:ut}}else throw"up";return ft.set(ut,vt),vt}return gt(_)}stringify$1.stringDagToLineTree=rt;function nt(_){function $(et,st){if(et.type==="multiline")throw"Tried to format multiline string as single line string";if(et.type==="terminal")st.push(et.str);else if(et.type==="pair")st.push("["),$(et.head,st),st.push(", "),$(et.tail,st),st.push("]");else if(et.type==="kvpair")st.push(JSON.stringify(et.key)),st.push(": "),$(et.value,st);else if(et.type==="arraylike"){st.push(et.prefix),et.elems.length>0&&$(et.elems[0],st);for(let lt=1;lt<et.elems.length;lt++)st.push(", "),$(et.elems[lt],st);st.push(et.suffix)}return st}return $(_,[]).join("")}stringify$1.stringDagToSingleLine=nt;function j(_){let $="";const et=new Map,st=new Map;function lt(ft,gt){const ut=st.get(ft);if(ut!==void 0){const dt=ut.get(gt.length);if(dt!==void 0){$+=$.substring(dt[0],dt[1]);return}}const pt=$.length;if(ft.type==="line")et.has(ft.line)||et.set(ft.line,nt(ft.line)),$+=et.get(ft.line);else if(ft.type==="block"){$+=ft.prefixFirst;const dt=gt+" ".repeat(ft.prefixFirst.length),mt=gt+ft.prefixRest;lt(ft.block[0],dt);for(let Tt=1;Tt<ft.block.length;Tt++)$+=ft.suffixRest,$+=mt,lt(ft.block[Tt],mt);$+=ft.suffixLast}const vt=$.length;if(ut===void 0){const dt=new Map;dt.set(gt.length,[pt,vt]),st.set(ft,dt)}else ut.set(gt.length,[pt,vt])}return lt(_,`
`),$}return stringify$1.lineTreeToString=j,stringify$1}var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.SetPropertyError=errors.GetInheritedPropertyError=errors.GetPropertyError=errors.ConstAssignment=errors.VariableRedeclaration=errors.InvalidNumberOfArguments=errors.UnassignedVariable=errors.UndefinedVariable=errors.CallingNonFunctionValue=errors.MaximumStackLimitExceeded=errors.ExceptionError=errors.InterruptedError=void 0;const i=astring,s=types,a=requireStringify(),o=runtimeSourceError;class it extends o.RuntimeSourceError{constructor(gt){super(gt)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}}errors.InterruptedError=it;class tt{constructor(gt,ut){this.error=gt,this.location=ut,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}}errors.ExceptionError=tt;class at extends o.RuntimeSourceError{constructor(gt,ut){super(gt),this.calls=ut,this.customGenerator=Object.assign(Object.assign({},i.baseGenerator),{CallExpression(pt,vt){vt.write((0,i.generate)(pt.callee)),vt.write("(");const dt=pt.arguments.map(mt=>(0,a.stringify)(mt.value));vt.write(dt.join(", ")),vt.write(")")}})}explain(){const gt=ut=>(0,i.generate)(ut,{generator:this.customGenerator});return`Maximum call stack size exceeded
  `+this.calls.map(ut=>gt(ut)+"..").join("  ")}elaborate(){return"TODO"}}errors.MaximumStackLimitExceeded=at,at.MAX_CALLS_TO_SHOW=3;class ot extends o.RuntimeSourceError{constructor(gt,ut){super(ut),this.callee=gt,this.node=ut}explain(){return`Calling non-function value ${(0,a.stringify)(this.callee)}.`}elaborate(){const gt=this.callee,ut=(0,a.stringify)(gt);let pt="";pt=this.node.arguments.map(i.generate).join(", ");const dt=`Because ${ut} is not a function, you cannot run ${ut}(${pt}).`,mt=`If you were planning to perform multiplication by ${ut}, you need to use the * operator.`;return Number.isFinite(gt)?`${dt} ${mt}`:dt}}errors.CallingNonFunctionValue=ot;class rt extends o.RuntimeSourceError{constructor(gt,ut){super(ut),this.name=gt}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}}errors.UndefinedVariable=rt;class nt extends o.RuntimeSourceError{constructor(gt,ut){super(ut),this.name=gt}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}}errors.UnassignedVariable=nt;class j extends o.RuntimeSourceError{constructor(gt,ut,pt,vt=!1){super(gt),this.expected=ut,this.got=pt,this.hasVarArgs=vt,this.calleeStr=(0,i.generate)(gt.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){const gt=this.calleeStr,ut=this.expected===1?"":"s";return`Try calling function ${gt} again, but with ${this.expected} argument${ut} instead. Remember that arguments are separated by a ',' (comma).`}}errors.InvalidNumberOfArguments=j;class _ extends o.RuntimeSourceError{constructor(gt,ut,pt){super(gt),this.node=gt,this.name=ut,this.writable=pt}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(this.writable===!0){const gt=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let ut="";return this.node.type==="FunctionDeclaration"?ut="("+this.node.params.map(i.generate).join(",")+") => {...":this.node.type==="VariableDeclaration"&&(ut=(0,i.generate)(this.node.declarations[0].init)),`${gt} As such, you can just do

	${this.name} = ${ut};
`}else return this.writable===!1?`You will need to declare another variable, as ${this.name} is read-only.`:""}}errors.VariableRedeclaration=_;class $ extends o.RuntimeSourceError{constructor(gt,ut){super(gt),this.name=ut}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}}errors.ConstAssignment=$;class et extends o.RuntimeSourceError{constructor(gt,ut,pt){super(gt),this.obj=ut,this.prop=pt}explain(){return`Cannot read property ${this.prop} of ${(0,a.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetPropertyError=et;class st extends o.RuntimeSourceError{constructor(gt,ut,pt){super(gt),this.obj=ut,this.prop=pt,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.location=gt.loc}explain(){return`Cannot read inherited property ${this.prop} of ${(0,a.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetInheritedPropertyError=st;class lt extends o.RuntimeSourceError{constructor(gt,ut,pt){super(gt),this.obj=ut,this.prop=pt}explain(){return`Cannot assign property ${this.prop} of ${(0,a.stringify)(this.obj)}.`}elaborate(){return"TODO"}}return errors.SetPropertyError=lt,errors}var hasRequiredSchedulers;function requireSchedulers(){if(hasRequiredSchedulers)return schedulers;hasRequiredSchedulers=1,Object.defineProperty(schedulers,"__esModule",{value:!0}),schedulers.PreemptiveScheduler=schedulers.NonDetScheduler=schedulers.AsyncScheduler=void 0;const i=requireErrors(),s=inspector;class a{run(ot,rt){return new Promise((nt,j)=>{rt.runtime.isRunning=!0;let _=ot.next();try{for(;!_.done;)_=ot.next(),rt.runtime.break&&((0,s.saveState)(rt,ot,this),_.done=!0)}catch{nt({status:"error"})}finally{rt.runtime.isRunning=!1}rt.runtime.break?nt({status:"suspended",it:ot,scheduler:this,context:rt}):nt({status:"finished",context:rt,value:_.value})})}}schedulers.AsyncScheduler=a;class o{run(ot,rt){return new Promise((nt,j)=>{try{const _=ot.next();_.done?nt({status:"finished",context:rt,value:_.value}):nt({status:"suspended-non-det",it:ot,scheduler:this,context:rt,value:_.value})}catch(_){tt(_,rt),nt({status:"error"})}finally{rt.runtime.isRunning=!1}})}}schedulers.NonDetScheduler=o;class it{constructor(ot){this.steps=ot}run(ot,rt){return new Promise((nt,j)=>{rt.runtime.isRunning=!0;let _=!1,$=ot.next();const et=setInterval(()=>{let st=0;try{for(;!$.done&&st<this.steps;)st++,$=ot.next(),_=rt.runtime.break&&rt.runtime.debuggerOn,_&&($.done=!0);(0,s.saveState)(rt,ot,this)}catch(lt){tt(lt,rt),rt.runtime.isRunning=!1,clearInterval(et),nt({status:"error"})}$.done&&(rt.runtime.isRunning=!1,clearInterval(et),nt(_?{status:"suspended",it:ot,scheduler:this,context:rt}:{status:"finished",context:rt,value:$.value}))})})}}schedulers.PreemptiveScheduler=it;function tt(at,ot){if(/Maximum call stack/.test(at.toString())){const rt=ot.runtime.environments,nt=[];let j=0;for(let _=0;j<i.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&_<rt.length;_++)rt[_].callExpression&&(nt.unshift(rt[_].callExpression),j++);ot.errors.push(new i.MaximumStackLimitExceeded(ot.runtime.nodes[0],nt))}}return schedulers}var lazyList_prelude={};Object.defineProperty(lazyList_prelude,"__esModule",{value:!0});lazyList_prelude.lazyListPrelude=void 0;lazyList_prelude.lazyListPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
    return is_pair(xs)
        ? (is_pair(ys) &&
           equal(head(xs), head(ys)) &&
           equal(tail(xs), tail(ys)))
        : is_null(xs)
        ? is_null(ys)
        : is_number(xs)
        ? (is_number(ys) && xs === ys)
        : is_string(xs)
        ? (is_string(ys) && xs === ys)
        :  xs === ys;
}

// returns the length of a given argument list
// assumes that the argument is a list

function length(xs) {
  return is_null(xs) ? 0 : 1 + length(tail(xs));
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function map(f, xs) {
  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));
}

// build_list takes a nonnegative integer n as first argument,
// and a function fun as second argument.
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function build_list(fun, n) {
  function build(i, fun, already_built) {
    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));
  }
  return build(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function list_to_string(xs) {
    return is_null(xs)
        ? "null"
        : is_pair(xs)
            ? "[" + list_to_string(head(xs)) + "," +
                list_to_string(tail(xs)) + "]"
            : stringify(xs);
}

// reverse reverses the argument, assumed to be a list

function reverse(xs) {
  function rev(original, reversed) {
    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));
  }
  return rev(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function append(xs, ys) {
  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function remove(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));
}

// Similar to remove, but removes all instances of v
// instead of just the first

function remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? remove_all(v, tail(xs))
    : pair(head(xs), remove_all(v, tail(xs)));
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function filter(pred, xs) {
  return is_null(xs)
    ? xs
    : pred(head(xs))
    ? pair(head(xs), filter(pred, tail(xs)))
    : filter(pred, tail(xs));
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function enum_list(start, end) {
  const newStart = start + 1;
  return start > end ? null : pair(start, enum_list(newStart, end));
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  const rest = tail(xs);
  return n === 0 ? head(xs) : list_ref(rest, n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function accumulate(f, initial, xs) {
  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));
}
`;var list$1={},hasRequiredList;function requireList(){if(hasRequiredList)return list$1;hasRequiredList=1,Object.defineProperty(list$1,"__esModule",{value:!0}),list$1.rawDisplayList=list$1.set_tail=list$1.set_head=list$1.vector_to_list=list$1.list_to_vector=list$1.is_list=list$1.list=list$1.is_null=list$1.tail=list$1.head=list$1.is_pair=list$1.pair=void 0;const i=requireStringify();function s(st){return Array.isArray===void 0?st instanceof Array:Array.isArray(st)}function a(st,lt){return[st,lt]}list$1.pair=a;function o(st){return s(st)&&st.length===2}list$1.is_pair=o;function it(st){if(o(st))return st[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.head=it;function tt(st){if(o(st))return st[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.tail=tt;function at(st){return st===null}list$1.is_null=at;function ot(...st){let lt=null;for(let ft=st.length-1;ft>=0;ft-=1)lt=a(st[ft],lt);return lt}list$1.list=ot;function rt(st){for(;o(st);)st=tt(st);return at(st)}list$1.is_list=rt;function nt(st){const lt=[];for(;!at(st);)lt.push(it(st)),st=tt(st);return lt}list$1.list_to_vector=nt;function j(st){return ot(...st)}list$1.vector_to_list=j;function _(st,lt){if(o(st)){st[0]=lt;return}else throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.set_head=_;function $(st,lt){if(o(st)){st[1]=lt;return}else throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.set_tail=$;function et(st,lt,ft){const gt=new Set,ut=new Map;class pt{constructor(yt){this.replPrefix="list(",this.replSuffix=")",this.listNode=yt}replArrayContents(){const yt=[];let ht=this.listNode;for(;ht!==null;)yt.push(it(ht)),ht=tt(ht);return yt}}function vt(Tt){return ut.get(Tt)||Tt}const dt=[];let mt=0;for(dt.push(lt);mt<dt.length;){const Tt=dt[mt];mt++,!gt.has(Tt)&&(gt.add(Tt),o(Tt)&&dt.push(it(Tt),tt(Tt)))}for(;dt.length>0;){const Tt=dt.pop();if(!o(Tt))continue;const yt=it(Tt),ht=tt(Tt),xt=vt(ht),wt=at(xt)||xt instanceof pt?new pt(a(yt,ht)):a(yt,ht);ut.set(Tt,wt)}for(const Tt of ut.values())if(o(Tt))_(Tt,vt(it(Tt))),$(Tt,vt(tt(Tt)));else if(Tt instanceof pt){_(Tt.listNode,vt(it(Tt.listNode)));let yt=vt(tt(Tt.listNode));yt instanceof pt&&(yt=yt.listNode),$(Tt.listNode,yt)}return st(vt(lt),ft),lt}return list$1.rawDisplayList=et,list$1}var list_prelude={};Object.defineProperty(list_prelude,"__esModule",{value:!0});list_prelude.listPrelude=void 0;list_prelude.listPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
  return is_pair(xs)
  ? (is_pair(ys) &&
    equal(head(xs), head(ys)) &&
    equal(tail(xs), tail(ys)))
  : is_null(xs)
  ? is_null(ys)
  : is_number(xs)
  ? (is_number(ys) && xs === ys)
  : is_boolean(xs)
  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))
  : is_string(xs)
  ? (is_string(ys) && xs === ys)
  : is_undefined(xs)
  ? is_undefined(ys)
  : is_function(xs)
    // we know now that xs is a function,
    // but we use an if check anyway to make use of the type predicate
  ? (is_function(ys) && xs === ys)
  : false;
}


// returns the length of a given argument list
// assumes that the argument is a list

function $length(xs, acc) {
    return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function $map(f, xs, acc) {
    return is_null(xs)
           ? reverse(acc)
           : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
    return $map(f, xs, null);
}

// build_list takes a a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function $build_list(i, fun, already_built) {
    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));
}

function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function $list_to_string(xs, cont) {
    return is_null(xs)
        ? cont("null")
        : is_pair(xs)
        ? $list_to_string(
              head(xs),
              x => $list_to_string(
                       tail(xs),
                       y => cont("[" + x + "," + y + "]")))
        : cont(stringify(xs));
}

function list_to_string(xs) {
    return $list_to_string(xs, x => x);
}

// reverse reverses the argument, assumed to be a list

function $reverse(original, reversed) {
    return is_null(original)
           ? reversed
           : $reverse(tail(original), pair(head(original), reversed));
}

function reverse(xs) {
    return $reverse(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function $append(xs, ys, cont) {
    return is_null(xs)
           ? cont(ys)
           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));
}

function append(xs, ys) {
    return $append(xs, ys, xs => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs)
         ? null
	 : v === head(xs)
	 ? xs
	 : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? app(rev(acc), tail(xs))
         : $remove(v, tail(xs), pair(head(xs), acc));
}

function remove(v, xs) {
    return $remove(v, xs, null);
}

// Similar to remove, but removes all instances of v
// instead of just the first

function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? $remove_all(v, tail(xs), acc)
         : $remove_all(v, tail(xs), pair(head(xs), acc));
}

function remove_all(v, xs) {
    return $remove_all(v, xs, null);
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}

function filter(pred, xs) {
    return $filter(pred, xs, null);
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end
         ? rev(acc)
         : $enum_list(start + 1, end, pair(start, acc));
}

function enum_list(start, end) {
    return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  return n === 0
         ? head(xs)
         : list_ref(tail(xs), n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function $accumulate(f, initial, xs, cont) {
    return is_null(xs)
           ? cont(initial)
           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));
}

function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, x => x);
}
`;var misc={},hasRequiredMisc;function requireMisc(){if(hasRequiredMisc)return misc;hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.get_time=misc.arity=misc.char_at=misc.parse_int=misc.array_length=misc.is_array=misc.has_own_property=misc.is_NaN=misc.is_function=misc.is_object=misc.is_boolean=misc.is_string=misc.is_undefined=misc.is_number=misc.timed=misc.error_message=misc.rawDisplay=void 0;const i=requireClosure(),s=requireStringify();function a(pt,vt,dt){return console.log((vt===void 0?"":vt+" ")+pt.toString()),pt}misc.rawDisplay=a;function o(pt,...vt){const dt=(vt[0]===void 0?"":vt[0]+" ")+(0,s.stringify)(pt);throw new Error(dt)}misc.error_message=o;function it(pt,vt,dt,mt){return(...Tt)=>{const yt=ut(),ht=vt(...Tt),xt=ut()-yt;return mt("Duration: "+Math.round(xt)+"ms","",dt),ht}}misc.timed=it;function tt(pt){return typeof pt=="number"}misc.is_number=tt;function at(pt){return typeof pt>"u"}misc.is_undefined=at;function ot(pt){return typeof pt=="string"}misc.is_string=ot;function rt(pt){return typeof pt=="boolean"}misc.is_boolean=rt;function nt(pt){return typeof pt=="object"||j(pt)}misc.is_object=nt;function j(pt){return typeof pt=="function"}misc.is_function=j;function _(pt){return tt(pt)&&isNaN(pt)}misc.is_NaN=_;function $(pt,vt){return pt.hasOwnProperty(vt)}misc.has_own_property=$;function et(pt){return pt instanceof Array}misc.is_array=et;function st(pt){return pt.length}misc.array_length=st;function lt(pt,vt){if(typeof pt=="string"&&typeof vt=="number"&&Number.isInteger(vt)&&2<=vt&&vt<=36)return parseInt(pt,vt);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")}misc.parse_int=lt;function ft(pt,vt){if(typeof pt!="string")throw new Error("char_at expects the first argument to be a string.");if(typeof vt!="number"||!Number.isInteger(vt)||vt<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return pt[vt]}misc.char_at=ft;function gt(pt){var vt;if(pt instanceof i.default){const dt=pt.node.params;return((vt=dt[dt.length-1])===null||vt===void 0?void 0:vt.type)==="RestElement"?dt.length-1:dt.length}else{if(typeof pt=="function")return pt.length;throw new Error("arity expects a function as argument")}}misc.arity=gt;function ut(){return new Date().getTime()}return misc.get_time=ut,misc}var nonDet_prelude={};Object.defineProperty(nonDet_prelude,"__esModule",{value:!0});nonDet_prelude.nonDetPrelude=void 0;nonDet_prelude.nonDetPrelude=`
    function require(predicate) {
        return predicate ? "Satisfied require" : amb();
    }

    function an_element_of(items) {
        require(!is_null(items));
        return amb(head(items), an_element_of(tail(items)));
    }

    function an_integer_between(low, high) {
        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));
    }

    /* Material Conditional */
    /* if P, then Q */
    /* P --> Q */
    function implication(P, Q) {
        return !P || Q;
    }

    /* Material Biconditional */
    /* (if P, then Q) AND (if Q, then P) */
    /* P <--> Q */
    function bi_implication(P, Q) {
        return implication(P, Q) && implication(Q, P);
    }
`;var parser$1={},parser={},acornLoose={exports:{}};(function(i,s){(function(a,o){o(s,acorn.exports)})(commonjsGlobal,function(a,o){var it="\u2716";function tt(et){return et.name===it}function at(){}var ot=function(st,lt){if(lt===void 0&&(lt={}),this.toks=this.constructor.BaseParser.tokenizer(st,lt),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:o.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=at,this.tok.validateRegExpPattern=at,this.options.locations){var ft=this.toks.curPosition();this.tok.loc=new o.SourceLocation(this.toks,ft,ft)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};ot.prototype.startNode=function(){return new o.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},ot.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},ot.prototype.startNodeAt=function(st){return this.options.locations?new o.Node(this.toks,st[0],st[1]):new o.Node(this.toks,st)},ot.prototype.finishNode=function(st,lt){return st.type=lt,st.end=this.last.end,this.options.locations&&(st.loc.end=this.last.loc.end),this.options.ranges&&(st.range[1]=this.last.end),st},ot.prototype.dummyNode=function(st){var lt=this.startNode();return lt.type=st,lt.end=lt.start,this.options.locations&&(lt.loc.end=lt.loc.start),this.options.ranges&&(lt.range[1]=lt.start),this.last={type:o.tokTypes.name,start:lt.start,end:lt.start,loc:lt.loc},lt},ot.prototype.dummyIdent=function(){var st=this.dummyNode("Identifier");return st.name=it,st},ot.prototype.dummyString=function(){var st=this.dummyNode("Literal");return st.value=st.raw=it,st},ot.prototype.eat=function(st){return this.tok.type===st?(this.next(),!0):!1},ot.prototype.isContextual=function(st){return this.tok.type===o.tokTypes.name&&this.tok.value===st},ot.prototype.eatContextual=function(st){return this.tok.value===st&&this.eat(o.tokTypes.name)},ot.prototype.canInsertSemicolon=function(){return this.tok.type===o.tokTypes.eof||this.tok.type===o.tokTypes.braceR||o.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},ot.prototype.semicolon=function(){return this.eat(o.tokTypes.semi)},ot.prototype.expect=function(st){if(this.eat(st))return!0;for(var lt=1;lt<=2;lt++)if(this.lookAhead(lt).type===st){for(var ft=0;ft<lt;ft++)this.next();return!0}},ot.prototype.pushCx=function(){this.context.push(this.curIndent)},ot.prototype.popCx=function(){this.curIndent=this.context.pop()},ot.prototype.lineEnd=function(st){for(;st<this.input.length&&!o.isNewLine(this.input.charCodeAt(st));)++st;return st},ot.prototype.indentationAfter=function(st){for(var lt=0;;++st){var ft=this.input.charCodeAt(st);if(ft===32)++lt;else if(ft===9)lt+=this.options.tabSize;else return lt}},ot.prototype.closes=function(st,lt,ft,gt){return this.tok.type===st||this.tok.type===o.tokTypes.eof?!0:ft!==this.curLineStart&&this.curIndent<lt&&this.tokenStartsLine()&&(!gt||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<lt)},ot.prototype.tokenStartsLine=function(){for(var st=this.tok.start-1;st>=this.curLineStart;--st){var lt=this.input.charCodeAt(st);if(lt!==9&&lt!==32)return!1}return!0},ot.prototype.extend=function(st,lt){this[st]=lt(this[st])},ot.prototype.parse=function(){return this.next(),this.parseTopLevel()},ot.extend=function(){for(var st=[],lt=arguments.length;lt--;)st[lt]=arguments[lt];for(var ft=this,gt=0;gt<st.length;gt++)ft=st[gt](ft);return ft},ot.parse=function(st,lt){return new this(st,lt).parse()},ot.BaseParser=o.Parser;var rt=ot.prototype;function nt(et){return et<14&&et>8||et===32||et===160||o.isNewLine(et)}rt.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},rt.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===o.tokTypes.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=o.tokTypes.ellipsis),new o.Token(this.toks)}catch(ut){if(!(ut instanceof SyntaxError))throw ut;var et=ut.message,st=ut.raisedAt,lt=!0;if(/unterminated/i.test(et))if(st=this.lineEnd(ut.pos+1),/string/.test(et))lt={start:ut.pos,end:st,type:o.tokTypes.string,value:this.input.slice(ut.pos+1,st)};else if(/regular expr/i.test(et)){var ft=this.input.slice(ut.pos,st);try{ft=new RegExp(ft)}catch{}lt={start:ut.pos,end:st,type:o.tokTypes.regexp,value:ft}}else/template/.test(et)?lt={start:ut.pos,end:st,type:o.tokTypes.template,value:this.input.slice(ut.pos,st)}:lt=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(et))for(;st<this.input.length&&!nt(this.input.charCodeAt(st));)++st;else if(/character escape|expected hexadecimal/i.test(et))for(;st<this.input.length;){var gt=this.input.charCodeAt(st++);if(gt===34||gt===39||o.isNewLine(gt))break}else if(/unexpected character/i.test(et))st++,lt=!1;else if(/regular expression/i.test(et))lt=!0;else throw ut;if(this.resetTo(st),lt===!0&&(lt={start:st,end:st,type:o.tokTypes.name,value:it}),lt)return this.options.locations&&(lt.loc=new o.SourceLocation(this.toks,o.getLineInfo(this.input,lt.start),o.getLineInfo(this.input,lt.end))),lt}},rt.resetTo=function(et){this.toks.pos=et;var st=this.input.charAt(et-1);if(this.toks.exprAllowed=!st||/[[{(,;:?/*=+\-~!|&%^<>]/.test(st)||/[enwfd]/.test(st)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(et-10,et)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=o.lineBreakG.lastIndex=0;for(var lt;(lt=o.lineBreakG.exec(this.input))&&lt.index<et;)++this.toks.curLine,this.toks.lineStart=lt.index+lt[0].length}},rt.lookAhead=function(et){for(;et>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[et-1]};var j=ot.prototype;j.parseTopLevel=function(){var et=this.startNodeAt(this.options.locations?[0,o.getLineInfo(this.input,0)]:0);for(et.body=[];this.tok.type!==o.tokTypes.eof;)et.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(et.body),this.last=this.tok,et.sourceType=this.options.sourceType,this.finishNode(et,"Program")},j.parseStatement=function(){var et=this.tok.type,st=this.startNode(),lt;switch(this.toks.isLet()&&(et=o.tokTypes._var,lt="let"),et){case o.tokTypes._break:case o.tokTypes._continue:this.next();var ft=et===o.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?st.label=null:(st.label=this.tok.type===o.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(st,ft?"BreakStatement":"ContinueStatement");case o.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(st,"DebuggerStatement");case o.tokTypes._do:return this.next(),st.body=this.parseStatement(),st.test=this.eat(o.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(st,"DoWhileStatement");case o.tokTypes._for:this.next();var gt=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(o.tokTypes.parenL),this.tok.type===o.tokTypes.semi)return this.parseFor(st,null);var ut=this.toks.isLet();if(ut||this.tok.type===o.tokTypes._var||this.tok.type===o.tokTypes._const){var pt=this.parseVar(this.startNode(),!0,ut?"let":this.tok.value);return pt.declarations.length===1&&(this.tok.type===o.tokTypes._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==o.tokTypes._in&&(st.await=gt),this.parseForIn(st,pt)):this.parseFor(st,pt)}var vt=this.parseExpression(!0);return this.tok.type===o.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==o.tokTypes._in&&(st.await=gt),this.parseForIn(st,this.toAssignable(vt))):this.parseFor(st,vt);case o.tokTypes._function:return this.next(),this.parseFunction(st,!0);case o.tokTypes._if:return this.next(),st.test=this.parseParenExpression(),st.consequent=this.parseStatement(),st.alternate=this.eat(o.tokTypes._else)?this.parseStatement():null,this.finishNode(st,"IfStatement");case o.tokTypes._return:return this.next(),this.eat(o.tokTypes.semi)||this.canInsertSemicolon()?st.argument=null:(st.argument=this.parseExpression(),this.semicolon()),this.finishNode(st,"ReturnStatement");case o.tokTypes._switch:var dt=this.curIndent,mt=this.curLineStart;this.next(),st.discriminant=this.parseParenExpression(),st.cases=[],this.pushCx(),this.expect(o.tokTypes.braceL);for(var Tt;!this.closes(o.tokTypes.braceR,dt,mt,!0);)if(this.tok.type===o.tokTypes._case||this.tok.type===o.tokTypes._default){var yt=this.tok.type===o.tokTypes._case;Tt&&this.finishNode(Tt,"SwitchCase"),st.cases.push(Tt=this.startNode()),Tt.consequent=[],this.next(),yt?Tt.test=this.parseExpression():Tt.test=null,this.expect(o.tokTypes.colon)}else Tt||(st.cases.push(Tt=this.startNode()),Tt.consequent=[],Tt.test=null),Tt.consequent.push(this.parseStatement());return Tt&&this.finishNode(Tt,"SwitchCase"),this.popCx(),this.eat(o.tokTypes.braceR),this.finishNode(st,"SwitchStatement");case o.tokTypes._throw:return this.next(),st.argument=this.parseExpression(),this.semicolon(),this.finishNode(st,"ThrowStatement");case o.tokTypes._try:if(this.next(),st.block=this.parseBlock(),st.handler=null,this.tok.type===o.tokTypes._catch){var ht=this.startNode();this.next(),this.eat(o.tokTypes.parenL)?(ht.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(o.tokTypes.parenR)):ht.param=null,ht.body=this.parseBlock(),st.handler=this.finishNode(ht,"CatchClause")}return st.finalizer=this.eat(o.tokTypes._finally)?this.parseBlock():null,!st.handler&&!st.finalizer?st.block:this.finishNode(st,"TryStatement");case o.tokTypes._var:case o.tokTypes._const:return this.parseVar(st,!1,lt||this.tok.value);case o.tokTypes._while:return this.next(),st.test=this.parseParenExpression(),st.body=this.parseStatement(),this.finishNode(st,"WhileStatement");case o.tokTypes._with:return this.next(),st.object=this.parseParenExpression(),st.body=this.parseStatement(),this.finishNode(st,"WithStatement");case o.tokTypes.braceL:return this.parseBlock();case o.tokTypes.semi:return this.next(),this.finishNode(st,"EmptyStatement");case o.tokTypes._class:return this.parseClass(!0);case o.tokTypes._import:if(this.options.ecmaVersion>10){var xt=this.lookAhead(1).type;if(xt===o.tokTypes.parenL||xt===o.tokTypes.dot)return st.expression=this.parseExpression(),this.semicolon(),this.finishNode(st,"ExpressionStatement")}return this.parseImport();case o.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(st,!0,!0);var wt=this.parseExpression();return tt(wt)?(this.next(),this.tok.type===o.tokTypes.eof?this.finishNode(st,"EmptyStatement"):this.parseStatement()):et===o.tokTypes.name&&wt.type==="Identifier"&&this.eat(o.tokTypes.colon)?(st.body=this.parseStatement(),st.label=wt,this.finishNode(st,"LabeledStatement")):(st.expression=wt,this.semicolon(),this.finishNode(st,"ExpressionStatement"))}},j.parseBlock=function(){var et=this.startNode();this.pushCx(),this.expect(o.tokTypes.braceL);var st=this.curIndent,lt=this.curLineStart;for(et.body=[];!this.closes(o.tokTypes.braceR,st,lt,!0);)et.body.push(this.parseStatement());return this.popCx(),this.eat(o.tokTypes.braceR),this.finishNode(et,"BlockStatement")},j.parseFor=function(et,st){return et.init=st,et.test=et.update=null,this.eat(o.tokTypes.semi)&&this.tok.type!==o.tokTypes.semi&&(et.test=this.parseExpression()),this.eat(o.tokTypes.semi)&&this.tok.type!==o.tokTypes.parenR&&(et.update=this.parseExpression()),this.popCx(),this.expect(o.tokTypes.parenR),et.body=this.parseStatement(),this.finishNode(et,"ForStatement")},j.parseForIn=function(et,st){var lt=this.tok.type===o.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),et.left=st,et.right=this.parseExpression(),this.popCx(),this.expect(o.tokTypes.parenR),et.body=this.parseStatement(),this.finishNode(et,lt)},j.parseVar=function(et,st,lt){et.kind=lt,this.next(),et.declarations=[];do{var ft=this.startNode();ft.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),ft.init=this.eat(o.tokTypes.eq)?this.parseMaybeAssign(st):null,et.declarations.push(this.finishNode(ft,"VariableDeclarator"))}while(this.eat(o.tokTypes.comma));if(!et.declarations.length){var gt=this.startNode();gt.id=this.dummyIdent(),et.declarations.push(this.finishNode(gt,"VariableDeclarator"))}return st||this.semicolon(),this.finishNode(et,"VariableDeclaration")},j.parseClass=function(et){var st=this.startNode();this.next(),this.tok.type===o.tokTypes.name?st.id=this.parseIdent():et===!0?st.id=this.dummyIdent():st.id=null,st.superClass=this.eat(o.tokTypes._extends)?this.parseExpression():null,st.body=this.startNode(),st.body.body=[],this.pushCx();var lt=this.curIndent+1,ft=this.curLineStart;for(this.eat(o.tokTypes.braceL),this.curIndent+1<lt&&(lt=this.curIndent,ft=this.curLineStart);!this.closes(o.tokTypes.braceR,lt,ft);){var gt=this.parseClassElement();gt&&st.body.body.push(gt)}return this.popCx(),this.eat(o.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(st.body,"ClassBody"),this.finishNode(st,et?"ClassDeclaration":"ClassExpression")},j.parseClassElement=function(){if(this.eat(o.tokTypes.semi))return null;var et=this.options,st=et.ecmaVersion,lt=et.locations,ft=this.curIndent,gt=this.curLineStart,ut=this.startNode(),pt="",vt=!1,dt=!1,mt="method",Tt=!1;if(this.eatContextual("static")){if(st>=13&&this.eat(o.tokTypes.braceL))return this.parseClassStaticBlock(ut),ut;this.isClassElementNameStart()||this.toks.type===o.tokTypes.star?Tt=!0:pt="static"}if(ut.static=Tt,!pt&&st>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===o.tokTypes.star)&&!this.canInsertSemicolon()?dt=!0:pt="async"),!pt){vt=this.eat(o.tokTypes.star);var yt=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?mt=yt:pt=yt)}if(pt)ut.computed=!1,ut.key=this.startNodeAt(lt?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),ut.key.name=pt,this.finishNode(ut.key,"Identifier");else if(this.parseClassElementName(ut),tt(ut.key))return tt(this.parseMaybeAssign())&&this.next(),this.eat(o.tokTypes.comma),null;if(st<13||this.toks.type===o.tokTypes.parenL||mt!=="method"||vt||dt){var ht=!ut.computed&&!ut.static&&!vt&&!dt&&mt==="method"&&(ut.key.type==="Identifier"&&ut.key.name==="constructor"||ut.key.type==="Literal"&&ut.key.value==="constructor");ut.kind=ht?"constructor":mt,ut.value=this.parseMethod(vt,dt),this.finishNode(ut,"MethodDefinition")}else{if(this.eat(o.tokTypes.eq))if(this.curLineStart!==gt&&this.curIndent<=ft&&this.tokenStartsLine())ut.value=null;else{var xt=this.inAsync,wt=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,ut.value=this.parseMaybeAssign(),this.inAsync=xt,this.inGenerator=wt}else ut.value=null;this.semicolon(),this.finishNode(ut,"PropertyDefinition")}return ut},j.parseClassStaticBlock=function(et){var st=this.curIndent,lt=this.curLineStart;for(et.body=[],this.pushCx();!this.closes(o.tokTypes.braceR,st,lt,!0);)et.body.push(this.parseStatement());return this.popCx(),this.eat(o.tokTypes.braceR),this.finishNode(et,"StaticBlock")},j.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},j.parseClassElementName=function(et){this.toks.type===o.tokTypes.privateId?(et.computed=!1,et.key=this.parsePrivateIdent()):this.parsePropertyName(et)},j.parseFunction=function(et,st,lt){var ft=this.inAsync,gt=this.inGenerator,ut=this.inFunction;return this.initFunction(et),this.options.ecmaVersion>=6&&(et.generator=this.eat(o.tokTypes.star)),this.options.ecmaVersion>=8&&(et.async=!!lt),this.tok.type===o.tokTypes.name?et.id=this.parseIdent():st===!0&&(et.id=this.dummyIdent()),this.inAsync=et.async,this.inGenerator=et.generator,this.inFunction=!0,et.params=this.parseFunctionParams(),et.body=this.parseBlock(),this.toks.adaptDirectivePrologue(et.body.body),this.inAsync=ft,this.inGenerator=gt,this.inFunction=ut,this.finishNode(et,st?"FunctionDeclaration":"FunctionExpression")},j.parseExport=function(){var et=this.startNode();if(this.next(),this.eat(o.tokTypes.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?et.exported=this.parseExprAtom():et.exported=null),et.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(et,"ExportAllDeclaration");if(this.eat(o.tokTypes._default)){var st;if(this.tok.type===o.tokTypes._function||(st=this.toks.isAsyncFunction())){var lt=this.startNode();this.next(),st&&this.next(),et.declaration=this.parseFunction(lt,"nullableID",st)}else this.tok.type===o.tokTypes._class?et.declaration=this.parseClass("nullableID"):(et.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(et,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(et.declaration=this.parseStatement(),et.specifiers=[],et.source=null):(et.declaration=null,et.specifiers=this.parseExportSpecifierList(),et.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(et,"ExportNamedDeclaration")},j.parseImport=function(){var et=this.startNode();if(this.next(),this.tok.type===o.tokTypes.string)et.specifiers=[],et.source=this.parseExprAtom();else{var st;this.tok.type===o.tokTypes.name&&this.tok.value!=="from"&&(st=this.startNode(),st.local=this.parseIdent(),this.finishNode(st,"ImportDefaultSpecifier"),this.eat(o.tokTypes.comma)),et.specifiers=this.parseImportSpecifiers(),et.source=this.eatContextual("from")&&this.tok.type===o.tokTypes.string?this.parseExprAtom():this.dummyString(),st&&et.specifiers.unshift(st)}return this.semicolon(),this.finishNode(et,"ImportDeclaration")},j.parseImportSpecifiers=function(){var et=[];if(this.tok.type===o.tokTypes.star){var st=this.startNode();this.next(),st.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),et.push(this.finishNode(st,"ImportNamespaceSpecifier"))}else{var lt=this.curIndent,ft=this.curLineStart,gt=this.nextLineStart;for(this.pushCx(),this.eat(o.tokTypes.braceL),this.curLineStart>gt&&(gt=this.curLineStart);!this.closes(o.tokTypes.braceR,lt+(this.curLineStart<=gt?1:0),ft);){var ut=this.startNode();if(this.eat(o.tokTypes.star))ut.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(ut,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(ut.imported=this.parseModuleExportName(),tt(ut.imported)))break;ut.local=this.eatContextual("as")?this.parseModuleExportName():ut.imported,this.finishNode(ut,"ImportSpecifier")}et.push(ut),this.eat(o.tokTypes.comma)}this.eat(o.tokTypes.braceR),this.popCx()}return et},j.parseExportSpecifierList=function(){var et=[],st=this.curIndent,lt=this.curLineStart,ft=this.nextLineStart;for(this.pushCx(),this.eat(o.tokTypes.braceL),this.curLineStart>ft&&(ft=this.curLineStart);!this.closes(o.tokTypes.braceR,st+(this.curLineStart<=ft?1:0),lt)&&!this.isContextual("from");){var gt=this.startNode();if(gt.local=this.parseModuleExportName(),tt(gt.local))break;gt.exported=this.eatContextual("as")?this.parseModuleExportName():gt.local,this.finishNode(gt,"ExportSpecifier"),et.push(gt),this.eat(o.tokTypes.comma)}return this.eat(o.tokTypes.braceR),this.popCx(),et},j.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===o.tokTypes.string?this.parseExprAtom():this.parseIdent()};var _=ot.prototype;_.checkLVal=function(et){if(!et)return et;switch(et.type){case"Identifier":case"MemberExpression":return et;case"ParenthesizedExpression":return et.expression=this.checkLVal(et.expression),et;default:return this.dummyIdent()}},_.parseExpression=function(et){var st=this.storeCurrentPos(),lt=this.parseMaybeAssign(et);if(this.tok.type===o.tokTypes.comma){var ft=this.startNodeAt(st);for(ft.expressions=[lt];this.eat(o.tokTypes.comma);)ft.expressions.push(this.parseMaybeAssign(et));return this.finishNode(ft,"SequenceExpression")}return lt},_.parseParenExpression=function(){this.pushCx(),this.expect(o.tokTypes.parenL);var et=this.parseExpression();return this.popCx(),this.expect(o.tokTypes.parenR),et},_.parseMaybeAssign=function(et){if(this.inGenerator&&this.toks.isContextual("yield")){var st=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==o.tokTypes.star&&!this.tok.type.startsExpr?(st.delegate=!1,st.argument=null):(st.delegate=this.eat(o.tokTypes.star),st.argument=this.parseMaybeAssign()),this.finishNode(st,"YieldExpression")}var lt=this.storeCurrentPos(),ft=this.parseMaybeConditional(et);if(this.tok.type.isAssign){var gt=this.startNodeAt(lt);return gt.operator=this.tok.value,gt.left=this.tok.type===o.tokTypes.eq?this.toAssignable(ft):this.checkLVal(ft),this.next(),gt.right=this.parseMaybeAssign(et),this.finishNode(gt,"AssignmentExpression")}return ft},_.parseMaybeConditional=function(et){var st=this.storeCurrentPos(),lt=this.parseExprOps(et);if(this.eat(o.tokTypes.question)){var ft=this.startNodeAt(st);return ft.test=lt,ft.consequent=this.parseMaybeAssign(),ft.alternate=this.expect(o.tokTypes.colon)?this.parseMaybeAssign(et):this.dummyIdent(),this.finishNode(ft,"ConditionalExpression")}return lt},_.parseExprOps=function(et){var st=this.storeCurrentPos(),lt=this.curIndent,ft=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),st,-1,et,lt,ft)},_.parseExprOp=function(et,st,lt,ft,gt,ut){if(this.curLineStart!==ut&&this.curIndent<gt&&this.tokenStartsLine())return et;var pt=this.tok.type.binop;if(pt!=null&&(!ft||this.tok.type!==o.tokTypes._in)&&pt>lt){var vt=this.startNodeAt(st);if(vt.left=et,vt.operator=this.tok.value,this.next(),this.curLineStart!==ut&&this.curIndent<gt&&this.tokenStartsLine())vt.right=this.dummyIdent();else{var dt=this.storeCurrentPos();vt.right=this.parseExprOp(this.parseMaybeUnary(!1),dt,pt,ft,gt,ut)}return this.finishNode(vt,/&&|\|\||\?\?/.test(vt.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(vt,st,lt,ft,gt,ut)}return et},_.parseMaybeUnary=function(et){var st=this.storeCurrentPos(),lt;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))lt=this.parseAwait(),et=!0;else if(this.tok.type.prefix){var ft=this.startNode(),gt=this.tok.type===o.tokTypes.incDec;gt||(et=!0),ft.operator=this.tok.value,ft.prefix=!0,this.next(),ft.argument=this.parseMaybeUnary(!0),gt&&(ft.argument=this.checkLVal(ft.argument)),lt=this.finishNode(ft,gt?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===o.tokTypes.ellipsis){var ut=this.startNode();this.next(),ut.argument=this.parseMaybeUnary(et),lt=this.finishNode(ut,"SpreadElement")}else if(!et&&this.tok.type===o.tokTypes.privateId)lt=this.parsePrivateIdent();else for(lt=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var pt=this.startNodeAt(st);pt.operator=this.tok.value,pt.prefix=!1,pt.argument=this.checkLVal(lt),this.next(),lt=this.finishNode(pt,"UpdateExpression")}if(!et&&this.eat(o.tokTypes.starstar)){var vt=this.startNodeAt(st);return vt.operator="**",vt.left=lt,vt.right=this.parseMaybeUnary(!1),this.finishNode(vt,"BinaryExpression")}return lt},_.parseExprSubscripts=function(){var et=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),et,!1,this.curIndent,this.curLineStart)},_.parseSubscripts=function(et,st,lt,ft,gt){for(var ut=this.options.ecmaVersion>=11,pt=!1;;){if(this.curLineStart!==gt&&this.curIndent<=ft&&this.tokenStartsLine())if(this.tok.type===o.tokTypes.dot&&this.curIndent===ft)--ft;else break;var vt=et.type==="Identifier"&&et.name==="async"&&!this.canInsertSemicolon(),dt=ut&&this.eat(o.tokTypes.questionDot);if(dt&&(pt=!0),dt&&this.tok.type!==o.tokTypes.parenL&&this.tok.type!==o.tokTypes.bracketL&&this.tok.type!==o.tokTypes.backQuote||this.eat(o.tokTypes.dot)){var mt=this.startNodeAt(st);mt.object=et,this.curLineStart!==gt&&this.curIndent<=ft&&this.tokenStartsLine()?mt.property=this.dummyIdent():mt.property=this.parsePropertyAccessor()||this.dummyIdent(),mt.computed=!1,ut&&(mt.optional=dt),et=this.finishNode(mt,"MemberExpression")}else if(this.tok.type===o.tokTypes.bracketL){this.pushCx(),this.next();var Tt=this.startNodeAt(st);Tt.object=et,Tt.property=this.parseExpression(),Tt.computed=!0,ut&&(Tt.optional=dt),this.popCx(),this.expect(o.tokTypes.bracketR),et=this.finishNode(Tt,"MemberExpression")}else if(!lt&&this.tok.type===o.tokTypes.parenL){var yt=this.parseExprList(o.tokTypes.parenR);if(vt&&this.eat(o.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(st),yt,!0);var ht=this.startNodeAt(st);ht.callee=et,ht.arguments=yt,ut&&(ht.optional=dt),et=this.finishNode(ht,"CallExpression")}else if(this.tok.type===o.tokTypes.backQuote){var xt=this.startNodeAt(st);xt.tag=et,xt.quasi=this.parseTemplate(),et=this.finishNode(xt,"TaggedTemplateExpression")}else break}if(pt){var wt=this.startNodeAt(st);wt.expression=et,et=this.finishNode(wt,"ChainExpression")}return et},_.parseExprAtom=function(){var et;switch(this.tok.type){case o.tokTypes._this:case o.tokTypes._super:var st=this.tok.type===o.tokTypes._this?"ThisExpression":"Super";return et=this.startNode(),this.next(),this.finishNode(et,st);case o.tokTypes.name:var lt=this.storeCurrentPos(),ft=this.parseIdent(),gt=!1;if(ft.name==="async"&&!this.canInsertSemicolon()){if(this.eat(o.tokTypes._function))return this.toks.overrideContext(o.tokContexts.f_expr),this.parseFunction(this.startNodeAt(lt),!1,!0);this.tok.type===o.tokTypes.name&&(ft=this.parseIdent(),gt=!0)}return this.eat(o.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(lt),[ft],gt):ft;case o.tokTypes.regexp:et=this.startNode();var ut=this.tok.value;return et.regex={pattern:ut.pattern,flags:ut.flags},et.value=ut.value,et.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(et,"Literal");case o.tokTypes.num:case o.tokTypes.string:return et=this.startNode(),et.value=this.tok.value,et.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===o.tokTypes.num&&et.raw.charCodeAt(et.raw.length-1)===110&&(et.bigint=et.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(et,"Literal");case o.tokTypes._null:case o.tokTypes._true:case o.tokTypes._false:return et=this.startNode(),et.value=this.tok.type===o.tokTypes._null?null:this.tok.type===o.tokTypes._true,et.raw=this.tok.type.keyword,this.next(),this.finishNode(et,"Literal");case o.tokTypes.parenL:var pt=this.storeCurrentPos();this.next();var vt=this.parseExpression();if(this.expect(o.tokTypes.parenR),this.eat(o.tokTypes.arrow)){var dt=vt.expressions||[vt];return dt.length&&tt(dt[dt.length-1])&&dt.pop(),this.parseArrowExpression(this.startNodeAt(pt),dt)}if(this.options.preserveParens){var mt=this.startNodeAt(pt);mt.expression=vt,vt=this.finishNode(mt,"ParenthesizedExpression")}return vt;case o.tokTypes.bracketL:return et=this.startNode(),et.elements=this.parseExprList(o.tokTypes.bracketR,!0),this.finishNode(et,"ArrayExpression");case o.tokTypes.braceL:return this.toks.overrideContext(o.tokContexts.b_expr),this.parseObj();case o.tokTypes._class:return this.parseClass(!1);case o.tokTypes._function:return et=this.startNode(),this.next(),this.parseFunction(et,!1);case o.tokTypes._new:return this.parseNew();case o.tokTypes.backQuote:return this.parseTemplate();case o.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},_.parseExprImport=function(){var et=this.startNode(),st=this.parseIdent(!0);switch(this.tok.type){case o.tokTypes.parenL:return this.parseDynamicImport(et);case o.tokTypes.dot:return et.meta=st,this.parseImportMeta(et);default:return et.name="import",this.finishNode(et,"Identifier")}},_.parseDynamicImport=function(et){return et.source=this.parseExprList(o.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(et,"ImportExpression")},_.parseImportMeta=function(et){return this.next(),et.property=this.parseIdent(!0),this.finishNode(et,"MetaProperty")},_.parseNew=function(){var et=this.startNode(),st=this.curIndent,lt=this.curLineStart,ft=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(o.tokTypes.dot))return et.meta=ft,et.property=this.parseIdent(!0),this.finishNode(et,"MetaProperty");var gt=this.storeCurrentPos();return et.callee=this.parseSubscripts(this.parseExprAtom(),gt,!0,st,lt),this.tok.type===o.tokTypes.parenL?et.arguments=this.parseExprList(o.tokTypes.parenR):et.arguments=[],this.finishNode(et,"NewExpression")},_.parseTemplateElement=function(){var et=this.startNode();return this.tok.type===o.tokTypes.invalidTemplate?et.value={raw:this.tok.value,cooked:null}:et.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),et.tail=this.tok.type===o.tokTypes.backQuote,this.finishNode(et,"TemplateElement")},_.parseTemplate=function(){var et=this.startNode();this.next(),et.expressions=[];var st=this.parseTemplateElement();for(et.quasis=[st];!st.tail;)this.next(),et.expressions.push(this.parseExpression()),this.expect(o.tokTypes.braceR)?st=this.parseTemplateElement():(st=this.startNode(),st.value={cooked:"",raw:""},st.tail=!0,this.finishNode(st,"TemplateElement")),et.quasis.push(st);return this.expect(o.tokTypes.backQuote),this.finishNode(et,"TemplateLiteral")},_.parseObj=function(){var et=this.startNode();et.properties=[],this.pushCx();var st=this.curIndent+1,lt=this.curLineStart;for(this.eat(o.tokTypes.braceL),this.curIndent+1<st&&(st=this.curIndent,lt=this.curLineStart);!this.closes(o.tokTypes.braceR,st,lt);){var ft=this.startNode(),gt=void 0,ut=void 0,pt=void 0;if(this.options.ecmaVersion>=9&&this.eat(o.tokTypes.ellipsis)){ft.argument=this.parseMaybeAssign(),et.properties.push(this.finishNode(ft,"SpreadElement")),this.eat(o.tokTypes.comma);continue}if(this.options.ecmaVersion>=6&&(pt=this.storeCurrentPos(),ft.method=!1,ft.shorthand=!1,gt=this.eat(o.tokTypes.star)),this.parsePropertyName(ft),this.toks.isAsyncProp(ft)?(ut=!0,gt=this.options.ecmaVersion>=9&&this.eat(o.tokTypes.star),this.parsePropertyName(ft)):ut=!1,tt(ft.key)){tt(this.parseMaybeAssign())&&this.next(),this.eat(o.tokTypes.comma);continue}if(this.eat(o.tokTypes.colon))ft.kind="init",ft.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===o.tokTypes.parenL||this.tok.type===o.tokTypes.braceL))ft.kind="init",ft.method=!0,ft.value=this.parseMethod(gt,ut);else if(this.options.ecmaVersion>=5&&ft.key.type==="Identifier"&&!ft.computed&&(ft.key.name==="get"||ft.key.name==="set")&&this.tok.type!==o.tokTypes.comma&&this.tok.type!==o.tokTypes.braceR&&this.tok.type!==o.tokTypes.eq)ft.kind=ft.key.name,this.parsePropertyName(ft),ft.value=this.parseMethod(!1);else{if(ft.kind="init",this.options.ecmaVersion>=6)if(this.eat(o.tokTypes.eq)){var vt=this.startNodeAt(pt);vt.operator="=",vt.left=ft.key,vt.right=this.parseMaybeAssign(),ft.value=this.finishNode(vt,"AssignmentExpression")}else ft.value=ft.key;else ft.value=this.dummyIdent();ft.shorthand=!0}et.properties.push(this.finishNode(ft,"Property")),this.eat(o.tokTypes.comma)}return this.popCx(),this.eat(o.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(et,"ObjectExpression")},_.parsePropertyName=function(et){if(this.options.ecmaVersion>=6)if(this.eat(o.tokTypes.bracketL)){et.computed=!0,et.key=this.parseExpression(),this.expect(o.tokTypes.bracketR);return}else et.computed=!1;var st=this.tok.type===o.tokTypes.num||this.tok.type===o.tokTypes.string?this.parseExprAtom():this.parseIdent();et.key=st||this.dummyIdent()},_.parsePropertyAccessor=function(){if(this.tok.type===o.tokTypes.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===o.tokTypes.privateId)return this.parsePrivateIdent()},_.parseIdent=function(){var et=this.tok.type===o.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!et)return this.dummyIdent();var st=this.startNode();return this.next(),st.name=et,this.finishNode(st,"Identifier")},_.parsePrivateIdent=function(){var et=this.startNode();return et.name=this.tok.value,this.next(),this.finishNode(et,"PrivateIdentifier")},_.initFunction=function(et){et.id=null,et.params=[],this.options.ecmaVersion>=6&&(et.generator=!1,et.expression=!1),this.options.ecmaVersion>=8&&(et.async=!1)},_.toAssignable=function(et,st){if(!(!et||et.type==="Identifier"||et.type==="MemberExpression"&&!st))if(et.type==="ParenthesizedExpression")this.toAssignable(et.expression,st);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(et.type==="ObjectExpression"){et.type="ObjectPattern";for(var lt=0,ft=et.properties;lt<ft.length;lt+=1){var gt=ft[lt];this.toAssignable(gt,st)}}else if(et.type==="ArrayExpression")et.type="ArrayPattern",this.toAssignableList(et.elements,st);else if(et.type==="Property")this.toAssignable(et.value,st);else if(et.type==="SpreadElement")et.type="RestElement",this.toAssignable(et.argument,st);else if(et.type==="AssignmentExpression")et.type="AssignmentPattern",delete et.operator;else return this.dummyIdent()}return et},_.toAssignableList=function(et,st){for(var lt=0,ft=et;lt<ft.length;lt+=1){var gt=ft[lt];this.toAssignable(gt,st)}return et},_.parseFunctionParams=function(et){return et=this.parseExprList(o.tokTypes.parenR),this.toAssignableList(et,!0)},_.parseMethod=function(et,st){var lt=this.startNode(),ft=this.inAsync,gt=this.inGenerator,ut=this.inFunction;return this.initFunction(lt),this.options.ecmaVersion>=6&&(lt.generator=!!et),this.options.ecmaVersion>=8&&(lt.async=!!st),this.inAsync=lt.async,this.inGenerator=lt.generator,this.inFunction=!0,lt.params=this.parseFunctionParams(),lt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(lt.body.body),this.inAsync=ft,this.inGenerator=gt,this.inFunction=ut,this.finishNode(lt,"FunctionExpression")},_.parseArrowExpression=function(et,st,lt){var ft=this.inAsync,gt=this.inGenerator,ut=this.inFunction;return this.initFunction(et),this.options.ecmaVersion>=8&&(et.async=!!lt),this.inAsync=et.async,this.inGenerator=!1,this.inFunction=!0,et.params=this.toAssignableList(st,!0),et.expression=this.tok.type!==o.tokTypes.braceL,et.expression?et.body=this.parseMaybeAssign():(et.body=this.parseBlock(),this.toks.adaptDirectivePrologue(et.body.body)),this.inAsync=ft,this.inGenerator=gt,this.inFunction=ut,this.finishNode(et,"ArrowFunctionExpression")},_.parseExprList=function(et,st){this.pushCx();var lt=this.curIndent,ft=this.curLineStart,gt=[];for(this.next();!this.closes(et,lt+1,ft);){if(this.eat(o.tokTypes.comma)){gt.push(st?null:this.dummyIdent());continue}var ut=this.parseMaybeAssign();if(tt(ut)){if(this.closes(et,lt,ft))break;this.next()}else gt.push(ut);this.eat(o.tokTypes.comma)}return this.popCx(),this.eat(et)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),gt},_.parseAwait=function(){var et=this.startNode();return this.next(),et.argument=this.parseMaybeUnary(),this.finishNode(et,"AwaitExpression")},o.defaultOptions.tabSize=4;function $(et,st){return ot.parse(et,st)}a.LooseParser=ot,a.isDummy=tt,a.parse=$,Object.defineProperty(a,"__esModule",{value:!0})})})(acornLoose,acornLoose.exports);var validator={},validityErrors={};Object.defineProperty(validityErrors,"__esModule",{value:!0});validityErrors.NoAssignmentToForVariable=void 0;const types_1$j=types;class NoAssignmentToForVariable{constructor(s){this.node=s,this.type=types_1$j.ErrorType.SYNTAX,this.severity=types_1$j.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}validityErrors.NoAssignmentToForVariable=NoAssignmentToForVariable;var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1,Object.defineProperty(validator,"__esModule",{value:!0}),validator.validateAndAnnotate=void 0;const i=requireErrors(),s=validityErrors,a=astCreator,o=walkers$1;class it{constructor(ot){this.isConstant=ot,this.accessedBeforeDeclaration=!1}}function tt(at,ot){const rt=new Map,nt=new Map;function j(st){const lt=new Map;for(const ft of st.body)ft.type==="VariableDeclaration"?lt.set((0,a.getVariableDecarationName)(ft),new it(ft.kind==="const")):ft.type==="FunctionDeclaration"&&lt.set(ft.id.name,new it(!0));nt.set(st,!1),rt.set(st,lt)}function _(st){rt.set(st,new Map(st.params.map(lt=>[lt.name,new it(!1)]))),nt.set(st,!1)}(0,o.ancestor)(at,{Program:j,BlockStatement:j,FunctionDeclaration:_,ArrowFunctionExpression:_,ForStatement(st,lt){const ft=st.init;ft.type==="VariableDeclaration"&&(rt.set(st,new Map([[(0,a.getVariableDecarationName)(ft),new it(ft.kind==="const")]])),nt.set(st,!1))}});function $(st,lt){const ft=st.name,gt=lt[lt.length-2];for(let ut=lt.length-1;ut>=0;ut--){const pt=lt[ut],vt=rt.get(pt);if(vt!=null&&vt.has(ft)){vt.get(ft).accessedBeforeDeclaration=!0,gt.type==="AssignmentExpression"&&gt.left===st&&(vt.get(ft).isConstant&&ot.errors.push(new i.ConstAssignment(gt,ft)),pt.type==="ForStatement"&&pt.init!==gt&&pt.update!==gt&&ot.errors.push(new s.NoAssignmentToForVariable(gt)));break}}}const et=Object.assign(Object.assign({},o.base),{VariableDeclarator(st,lt,ft){st.init&&ft(st.init,lt,"Expression")}});return(0,o.ancestor)(at,{VariableDeclaration(st,lt){const ft=lt[lt.length-2],gt=(0,a.getVariableDecarationName)(st),ut=rt.get(ft).get(gt).accessedBeforeDeclaration;st.typability=ut?"Untypable":"NotYetTyped"},Identifier:$,FunctionDeclaration(st,lt){const ft=lt[lt.length-2];st.typability=nt.get(ft)?"Untypable":"NotYetTyped"},Pattern(st,lt){st.type==="Identifier"?$(st,lt):st.type==="MemberExpression"&&st.object.type==="Identifier"&&$(st.object,lt)},CallExpression(st,lt){for(let ft=lt.length-1;ft>=0;ft--){const gt=lt[ft];if(nt.has(gt)){nt.set(gt,!0);break}}}},et),at}return validator.validateAndAnnotate=tt,validator}var rules$1={},bracesAroundFor$1={};Object.defineProperty(bracesAroundFor$1,"__esModule",{value:!0});bracesAroundFor$1.BracesAroundForError=void 0;const astring_1$7=astring,types_1$i=types;class BracesAroundForError{constructor(s){this.node=s,this.type=types_1$i.ErrorType.SYNTAX,this.severity=types_1$i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){const s=(0,astring_1$7.generate)(this.node.init),a=(0,astring_1$7.generate)(this.node.test),o=(0,astring_1$7.generate)(this.node.update);return`Remember to enclose your "for" block with braces:

 ${`	for (${s} ${a}; ${o}) {
		//code goes here
	}`}`}}bracesAroundFor$1.BracesAroundForError=BracesAroundForError;const bracesAroundFor={name:"braces-around-for",checkers:{ForStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundForError(i)]:[]}}};bracesAroundFor$1.default=bracesAroundFor;var bracesAroundIfElse$1={};Object.defineProperty(bracesAroundIfElse$1,"__esModule",{value:!0});bracesAroundIfElse$1.BracesAroundIfElseError=void 0;const astring_1$6=astring,types_1$h=types,formatters_1$5=formatters;class BracesAroundIfElseError{constructor(s,a){this.node=s,this.branch=a,this.type=types_1$h.ErrorType.SYNTAX,this.severity=types_1$h.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return this.branch==="consequent"?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let s,a,o;return this.branch==="consequent"?(s="if",a=`if (${(0,astring_1$6.generate)(this.node.test)})`,o=this.node.consequent):(s=a="else",o=this.node.alternate),(0,formatters_1$5.stripIndent)`
      ${s} block need to be enclosed with a pair of curly braces.

      ${a} {
        ${(0,astring_1$6.generate)(o)}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `}}bracesAroundIfElse$1.BracesAroundIfElseError=BracesAroundIfElseError;const bracesAroundIfElse={name:"braces-around-if-else",checkers:{IfStatement(i,s){const a=[];if(i.consequent&&i.consequent.type!=="BlockStatement"&&a.push(new BracesAroundIfElseError(i,"consequent")),i.alternate){const o=i.alternate.type!=="BlockStatement",it=i.alternate.type!=="IfStatement";o&&it&&a.push(new BracesAroundIfElseError(i,"alternate"))}return a}}};bracesAroundIfElse$1.default=bracesAroundIfElse;var bracesAroundWhile$1={};Object.defineProperty(bracesAroundWhile$1,"__esModule",{value:!0});bracesAroundWhile$1.BracesAroundWhileError=void 0;const astring_1$5=astring,types_1$g=types;class BracesAroundWhileError{constructor(s){this.node=s,this.type=types_1$g.ErrorType.SYNTAX,this.severity=types_1$g.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:

 ${`	while (${(0,astring_1$5.generate)(this.node.test)}) {
		//code goes here
	}`}`}}bracesAroundWhile$1.BracesAroundWhileError=BracesAroundWhileError;const bracesAroundWhile={name:"braces-around-while",checkers:{WhileStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundWhileError(i)]:[]}}};bracesAroundWhile$1.default=bracesAroundWhile;var forStatementMustHaveAllParts$1={};Object.defineProperty(forStatementMustHaveAllParts$1,"__esModule",{value:!0});forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=void 0;const types_1$f=types,formatters_1$4=formatters;class ForStatmentMustHaveAllParts{constructor(s,a){this.node=s,this.missingParts=a,this.type=types_1$f.ErrorType.SYNTAX,this.severity=types_1$f.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${this.missingParts.length===1?"":"s"} in for statement.`}elaborate(){return(0,formatters_1$4.stripIndent)`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `}}forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=ForStatmentMustHaveAllParts;const forStatementMustHaveAllParts={name:"for-statement-must-have-all-parts",checkers:{ForStatement(i){const s=["init","test","update"].filter(a=>i[a]===null);return s.length>0?[new ForStatmentMustHaveAllParts(i,s)]:[]}}};forStatementMustHaveAllParts$1.default=forStatementMustHaveAllParts;var noDeclareMutable$1={};Object.defineProperty(noDeclareMutable$1,"__esModule",{value:!0});noDeclareMutable$1.NoDeclareMutableError=void 0;const astring_1$4=astring,types_1$e=types,mutableDeclarators=["let","var"];class NoDeclareMutableError{constructor(s){this.node=s,this.type=types_1$e.ErrorType.SYNTAX,this.severity=types_1$e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){const s=this.node.declarations[0].id.name,a=(0,astring_1$4.generate)(this.node.declarations[0].init);return`Use keyword "const" instead, to declare a constant:

	const ${s} = ${a};`}}noDeclareMutable$1.NoDeclareMutableError=NoDeclareMutableError;const noDeclareMutable={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration(i,s){return mutableDeclarators.includes(i.kind)?[new NoDeclareMutableError(i)]:[]}}};noDeclareMutable$1.default=noDeclareMutable;var noDotAbbreviation$1={};Object.defineProperty(noDotAbbreviation$1,"__esModule",{value:!0});noDotAbbreviation$1.NoDotAbbreviationError=void 0;const types_1$d=types;class NoDotAbbreviationError{constructor(s){this.node=s,this.type=types_1$d.ErrorType.SYNTAX,this.severity=types_1$d.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}noDotAbbreviation$1.NoDotAbbreviationError=NoDotAbbreviationError;const noDotAbbreviation={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression(i,s){return i.computed?[]:[new NoDotAbbreviationError(i)]}}};noDotAbbreviation$1.default=noDotAbbreviation;var noEval$1={};Object.defineProperty(noEval$1,"__esModule",{value:!0});noEval$1.NoEval=void 0;const types_1$c=types;class NoEval{constructor(s){this.node=s,this.type=types_1$c.ErrorType.SYNTAX,this.severity=types_1$c.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}noEval$1.NoEval=NoEval;const noEval={name:"no-eval",checkers:{Identifier(i,s){return i.name==="eval"?[new NoEval(i)]:[]}}};noEval$1.default=noEval;var noHolesInArrays$1={};Object.defineProperty(noHolesInArrays$1,"__esModule",{value:!0});noHolesInArrays$1.NoHolesInArrays=void 0;const types_1$b=types,formatters_1$3=formatters;class NoHolesInArrays{constructor(s){this.node=s,this.type=types_1$b.ErrorType.SYNTAX,this.severity=types_1$b.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return(0,formatters_1$3.stripIndent)`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `}}noHolesInArrays$1.NoHolesInArrays=NoHolesInArrays;const noHolesInArrays={name:"no-holes-in-arrays",checkers:{ArrayExpression(i){return i.elements.some(s=>s===null)?[new NoHolesInArrays(i)]:[]}}};noHolesInArrays$1.default=noHolesInArrays;var noIfWithoutElse$1={};Object.defineProperty(noIfWithoutElse$1,"__esModule",{value:!0});noIfWithoutElse$1.NoIfWithoutElseError=void 0;const astring_1$3=astring,types_1$a=types,formatters_1$2=formatters;class NoIfWithoutElseError{constructor(s){this.node=s,this.type=types_1$a.ErrorType.SYNTAX,this.severity=types_1$a.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return(0,formatters_1$2.stripIndent)`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${(0,astring_1$3.generate)(this.node.test)} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `}}noIfWithoutElse$1.NoIfWithoutElseError=NoIfWithoutElseError;const noIfWithoutElse={name:"no-if-without-else",disableOn:3,checkers:{IfStatement(i,s){return i.alternate?[]:[new NoIfWithoutElseError(i)]}}};noIfWithoutElse$1.default=noIfWithoutElse;var noImplicitDeclareUndefined$1={};Object.defineProperty(noImplicitDeclareUndefined$1,"__esModule",{value:!0});noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=void 0;const types_1$9=types,formatters_1$1=formatters;class NoImplicitDeclareUndefinedError{constructor(s){this.node=s,this.type=types_1$9.ErrorType.SYNTAX,this.severity=types_1$9.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return(0,formatters_1$1.stripIndent)`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${this.node.name}, you can write:

        let ${this.node.name} = 20;

        ${this.node.name} + ${this.node.name}; // 40
    `}}noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=NoImplicitDeclareUndefinedError;const noImplicitDeclareUndefined={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(i,s){const a=[];for(const o of i.declarations)o.init||a.push(new NoImplicitDeclareUndefinedError(o.id));return a}}};noImplicitDeclareUndefined$1.default=noImplicitDeclareUndefined;var noImplicitReturnUndefined$1={};Object.defineProperty(noImplicitReturnUndefined$1,"__esModule",{value:!0});noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=void 0;const types_1$8=types,formatters_1=formatters;class NoImplicitReturnUndefinedError{constructor(s){this.node=s,this.type=types_1$8.ErrorType.SYNTAX,this.severity=types_1$8.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return(0,formatters_1.stripIndent)`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `}}noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=NoImplicitReturnUndefinedError;const noImplicitReturnUndefined={name:"no-implicit-return-undefined",checkers:{ReturnStatement(i,s){return i.argument?[]:[new NoImplicitReturnUndefinedError(i)]}}};noImplicitReturnUndefined$1.default=noImplicitReturnUndefined;var noNull$1={};Object.defineProperty(noNull$1,"__esModule",{value:!0});noNull$1.NoNullError=void 0;const types_1$7=types;class NoNullError{constructor(s){this.node=s,this.type=types_1$7.ErrorType.SYNTAX,this.severity=types_1$7.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source \xA71 specs."}}noNull$1.NoNullError=NoNullError;const noNull={name:"no-null",disableOn:2,checkers:{Literal(i,s){return i.value===null?[new NoNullError(i)]:[]}}};noNull$1.default=noNull;var noSpreadInArray$1={};Object.defineProperty(noSpreadInArray$1,"__esModule",{value:!0});noSpreadInArray$1.NoSpreadInArray=void 0;const types_1$6=types;class NoSpreadInArray{constructor(s){this.node=s,this.type=types_1$6.ErrorType.SYNTAX,this.severity=types_1$6.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}noSpreadInArray$1.NoSpreadInArray=NoSpreadInArray;const noSpreadInArray={name:"no-assignment-expression",checkers:{SpreadElement(i,s){return s[s.length-2].type==="CallExpression"?[]:[new NoSpreadInArray(i)]}}};noSpreadInArray$1.default=noSpreadInArray;var noTemplateExpression$1={};Object.defineProperty(noTemplateExpression$1,"__esModule",{value:!0});noTemplateExpression$1.NoTemplateExpressionError=void 0;const types_1$5=types;class NoTemplateExpressionError{constructor(s){this.node=s,this.type=types_1$5.ErrorType.SYNTAX,this.severity=types_1$5.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}noTemplateExpression$1.NoTemplateExpressionError=NoTemplateExpressionError;const noTemplateExpression={name:"no-template-expression",checkers:{TemplateLiteral(i,s){return i.expressions.length>0?[new NoTemplateExpressionError(i)]:[]}}};noTemplateExpression$1.default=noTemplateExpression;var noUnspecifiedLiteral$1={};Object.defineProperty(noUnspecifiedLiteral$1,"__esModule",{value:!0});noUnspecifiedLiteral$1.NoUnspecifiedLiteral=void 0;const types_1$4=types,specifiedLiterals=["boolean","string","number"];class NoUnspecifiedLiteral{constructor(s){this.node=s,this.type=types_1$4.ErrorType.SYNTAX,this.severity=types_1$4.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}noUnspecifiedLiteral$1.NoUnspecifiedLiteral=NoUnspecifiedLiteral;const noUnspecifiedLiteral={name:"no-unspecified-literal",checkers:{Literal(i,s){return i.value!==null&&!specifiedLiterals.includes(typeof i.value)?[new NoUnspecifiedLiteral(i)]:[]}}};noUnspecifiedLiteral$1.default=noUnspecifiedLiteral;var noUnspecifiedOperator$1={};Object.defineProperty(noUnspecifiedOperator$1,"__esModule",{value:!0});noUnspecifiedOperator$1.NoUnspecifiedOperatorError=void 0;const types_1$3=types;class NoUnspecifiedOperatorError{constructor(s){this.node=s,this.type=types_1$3.ErrorType.SYNTAX,this.severity=types_1$3.ErrorSeverity.ERROR,this.unspecifiedOperator=s.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}noUnspecifiedOperator$1.NoUnspecifiedOperatorError=NoUnspecifiedOperatorError;const noUnspecifiedOperator={name:"no-unspecified-operator",checkers:{BinaryExpression(i,s){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]},UnaryExpression(i){return["-","!"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]}}};noUnspecifiedOperator$1.default=noUnspecifiedOperator;var noUpdateAssignment$1={};Object.defineProperty(noUpdateAssignment$1,"__esModule",{value:!0});noUpdateAssignment$1.NoUpdateAssignment=void 0;const astring_1$2=astring,types_1$2=types;class NoUpdateAssignment{constructor(s){this.node=s,this.type=types_1$2.ErrorType.SYNTAX,this.severity=types_1$2.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const s=(0,astring_1$2.generate)(this.node.left),a=(0,astring_1$2.generate)(this.node.right),o=this.node.operator.slice(0,-1);return o==="+"||o==="-"||o==="/"||o==="*"?`
	${s} = ${s} ${o} ${a};`:""}}noUpdateAssignment$1.NoUpdateAssignment=NoUpdateAssignment;const noUpdateAssignment={name:"no-update-assignment",checkers:{AssignmentExpression(i,s){return i.operator!=="="?[new NoUpdateAssignment(i)]:[]}}};noUpdateAssignment$1.default=noUpdateAssignment;var noVar$1={};Object.defineProperty(noVar$1,"__esModule",{value:!0});noVar$1.NoVarError=void 0;const astring_1$1=astring,types_1$1=types;class NoVarError{constructor(s){this.node=s,this.type=types_1$1.ErrorType.SYNTAX,this.severity=types_1$1.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){const s=this.node.declarations[0].id.name,a=(0,astring_1$1.generate)(this.node.declarations[0].init);return`Use keyword "let" instead, to declare a variable:

	let ${s} = ${a};`}}noVar$1.NoVarError=NoVarError;const noVar={name:"no-var",checkers:{VariableDeclaration(i,s){return i.kind==="var"?[new NoVarError(i)]:[]}}};noVar$1.default=noVar;var singleVariableDeclaration$1={};Object.defineProperty(singleVariableDeclaration$1,"__esModule",{value:!0});singleVariableDeclaration$1.MultipleDeclarationsError=void 0;const astring_1=astring,types_1=types;class MultipleDeclarationsError{constructor(s){this.node=s,this.type=types_1.ErrorType.SYNTAX,this.severity=types_1.ErrorSeverity.ERROR,this.fixs=s.declarations.map(a=>({type:"VariableDeclaration",kind:"let",loc:a.loc,declarations:[a]}))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return`Split the variable declaration into multiple lines as follows

`+this.fixs.map(a=>"	"+(0,astring_1.generate)(a)).join(`
`)+`
`}}singleVariableDeclaration$1.MultipleDeclarationsError=MultipleDeclarationsError;const singleVariableDeclaration={name:"single-variable-declaration",checkers:{VariableDeclaration(i,s){return i.declarations.length>1?[new MultipleDeclarationsError(i)]:[]}}};singleVariableDeclaration$1.default=singleVariableDeclaration;Object.defineProperty(rules$1,"__esModule",{value:!0});const bracesAroundFor_1=bracesAroundFor$1,bracesAroundIfElse_1=bracesAroundIfElse$1,bracesAroundWhile_1=bracesAroundWhile$1,forStatementMustHaveAllParts_1=forStatementMustHaveAllParts$1,noDeclareMutable_1=noDeclareMutable$1,noDotAbbreviation_1=noDotAbbreviation$1,noEval_1=noEval$1,noHolesInArrays_1=noHolesInArrays$1,noIfWithoutElse_1=noIfWithoutElse$1,noImplicitDeclareUndefined_1=noImplicitDeclareUndefined$1,noImplicitReturnUndefined_1=noImplicitReturnUndefined$1,noNull_1=noNull$1,noSpreadInArray_1=noSpreadInArray$1,noTemplateExpression_1=noTemplateExpression$1,noUnspecifiedLiteral_1=noUnspecifiedLiteral$1,noUnspecifiedOperator_1=noUnspecifiedOperator$1,noUpdateAssignment_1=noUpdateAssignment$1,noVar_1=noVar$1,singleVariableDeclaration_1=singleVariableDeclaration$1,rules=[bracesAroundFor_1.default,bracesAroundIfElse_1.default,bracesAroundWhile_1.default,forStatementMustHaveAllParts_1.default,noDeclareMutable_1.default,noDotAbbreviation_1.default,noIfWithoutElse_1.default,noImplicitDeclareUndefined_1.default,noImplicitReturnUndefined_1.default,noNull_1.default,noUnspecifiedLiteral_1.default,noUnspecifiedOperator_1.default,noUpdateAssignment_1.default,noVar_1.default,singleVariableDeclaration_1.default,noEval_1.default,noHolesInArrays_1.default,noTemplateExpression_1.default,noSpreadInArray_1.default];rules$1.default=rules;var syntaxBlacklist={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.libraryParserLanguage=void 0,i.libraryParserLanguage=100;const s={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:i.libraryParserLanguage,NewExpression:i.libraryParserLanguage,TryStatement:i.libraryParserLanguage,CatchClause:i.libraryParserLanguage,ThrowStatement:i.libraryParserLanguage,ThisExpression:i.libraryParserLanguage,Super:i.libraryParserLanguage,ClassDeclaration:i.libraryParserLanguage,ClassExpression:i.libraryParserLanguage,Class:i.libraryParserLanguage,ClassBody:i.libraryParserLanguage,MethodDefinition:i.libraryParserLanguage,FunctionExpression:i.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0};i.default=s})(syntaxBlacklist);var hasRequiredParser$1;function requireParser$1(){return hasRequiredParser$1||(hasRequiredParser$1=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.typedParse=i.looseParse=i.parseWithComments=i.createAcornParserOptions=i.tokenize=i.parse=i.parseAt=i.TrailingCommaError=i.MissingSemicolonError=i.FatalSyntaxError=i.DisallowedConstructError=void 0;const s=acorn.exports,a=acornLoose.exports,o=constants,it=types,tt=formatters,at=walkers$1,ot=requireValidator(),rt=rules$1,nt=syntaxBlacklist;class j{constructor(ht){this.node=ht,this.type=it.ErrorType.SYNTAX,this.severity=it.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return(0,tt.stripIndent)`
      You are trying to use ${this.nodeType}, which is not allowed (yet).
    `}formatNodeType(ht){switch(ht){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return ht.split(/(?=[A-Z])/).map((wt,kt)=>kt===0?wt:wt.toLowerCase()).join(" ")+"s"}}}i.DisallowedConstructError=j;class _{constructor(ht,xt){this.location=ht,this.message=xt,this.type=it.ErrorType.SYNTAX,this.severity=it.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}i.FatalSyntaxError=_;class ${constructor(ht){this.location=ht,this.type=it.ErrorType.SYNTAX,this.severity=it.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}i.MissingSemicolonError=$;class et{constructor(ht){this.location=ht}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}i.TrailingCommaError=et;function st(yt,ht){let xt;try{xt=(0,s.parseExpressionAt)(yt,ht,o.ACORN_PARSE_OPTIONS)}catch{return}return xt}i.parseAt=st;function lt(yt,ht){let xt;try{xt=(0,s.parse)(yt,(0,i.createAcornParserOptions)(ht)),(0,at.ancestor)(xt,Tt,void 0,ht)}catch(kt){if(kt instanceof SyntaxError){const Ct=kt.loc,Rt={start:{line:Ct.line,column:Ct.column},end:{line:Ct.line,column:Ct.column+1}};ht.errors.push(new _(Rt,kt.toString()))}else throw kt}const wt=ht.errors.find(kt=>kt.severity===it.ErrorSeverity.ERROR);if(xt&&!wt)return xt}i.parse=lt;function ft(yt,ht){return[...(0,s.tokenizer)(yt,(0,i.createAcornParserOptions)(ht))]}i.tokenize=ft;const gt=yt=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(ht,xt){yt.errors.push(new $({end:{line:xt.line,column:xt.column+1},start:xt}))},onTrailingComma(ht,xt){yt.errors.push(new et({end:{line:xt.line,column:xt.column+1},start:xt}))}});i.createAcornParserOptions=gt;function ut(yt){let ht=[];const xt={sourceType:"module",ecmaVersion:6,locations:!0,onComment:ht};let wt;try{wt=(0,s.parse)(yt,xt)}catch{ht=[],wt=(0,a.parse)(yt,xt)}return[wt,ht]}i.parseWithComments=ut;function pt(yt,ht){return(0,a.parse)(yt,(0,i.createAcornParserOptions)(ht))}i.looseParse=pt;function vt(yt,ht){const xt=pt(yt,ht);return xt===void 0?null:(0,ot.validateAndAnnotate)(xt,ht)}i.typedParse=vt;function dt(yt,ht){const xt=new Map,wt=new Set;return Object.entries(yt).map(Ct=>{const Rt=Ct[0];xt.set(Rt,(Lt,Mt,Wt)=>{wt.has(Lt)||(wt.add(Lt),Mt.chapter<yt[Lt.type]&&Mt.errors.push(new j(Lt)))})}),ht.forEach(Ct=>{const Rt=Ct.checkers;Object.entries(Rt).forEach(Mt=>{const Wt=Mt[0],Pt=Mt[1],Ot=xt.get(Wt),Xt=(rn,jt,Vt)=>{if(typeof Ct.disableOn<"u"&&jt.chapter>=Ct.disableOn)return;Pt(rn,Vt).forEach(ln=>jt.errors.push(ln))};xt.set(Wt,(rn,jt,Vt)=>{Ot(rn,jt,Vt),Xt(rn,jt,Vt)})})}),mt(xt)}const mt=yt=>Array.from(yt).reduce((ht,[xt,wt])=>Object.assign(ht,{[xt]:wt}),{}),Tt=dt(nt.default,rt.default)}(parser)),parser}var hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1,Object.defineProperty(parser$1,"__esModule",{value:!0}),parser$1.tokenize=parser$1.parse=void 0;const i=requireParser$1(),s=syntaxBlacklist,a=formatters,o=requireList();class it extends Error{constructor(st){super(st),this.name="ParseError"}}function tt(){console.error((0,a.oneLine)`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)}function at(et){return et.length===1?j(et[0]):(0,o.vector_to_list)(["sequence",(0,o.vector_to_list)(et.map(j))])}function ot(et){return rt(et)?(0,o.vector_to_list)(["block",at(et)]):at(et)}function rt(et){return et.reduce((st,lt)=>st||lt.type==="VariableDeclaration"||lt.type==="FunctionDeclaration",!1)}const nt=new Map([["Program",et=>(et=et,at(et.body))],["BlockStatement",et=>ot(et.body)],["ExpressionStatement",et=>j(et.expression)],["IfStatement",et=>(0,o.vector_to_list)(["conditional_statement",j(et.test),j(et.consequent),et.alternate===null?at([]):j(et.alternate)])],["FunctionDeclaration",et=>(0,o.vector_to_list)(["function_declaration",j(et.id),(0,o.vector_to_list)(et.params.map(j)),ot(et.body.body)])],["VariableDeclaration",et=>{if(et.kind==="let")return(0,o.vector_to_list)(["variable_declaration",j(et.declarations[0].id),j(et.declarations[0].init)]);if(et.kind==="const")return(0,o.vector_to_list)(["constant_declaration",j(et.declarations[0].id),j(et.declarations[0].init)]);throw tt(),new it("Invalid declaration kind")}],["ReturnStatement",et=>(0,o.vector_to_list)(["return_statement",j(et.argument)])],["CallExpression",et=>(0,o.vector_to_list)(["application",j(et.callee),(0,o.vector_to_list)(et.arguments.map(j))])],["UnaryExpression",et=>(0,o.vector_to_list)(["unary_operator_combination",et.operator==="-"?"-unary":et.operator,j(et.argument)])],["BinaryExpression",et=>(0,o.vector_to_list)(["binary_operator_combination",et.operator,j(et.left),j(et.right)])],["LogicalExpression",et=>(0,o.vector_to_list)(["logical_composition",et.operator,j(et.left),j(et.right)])],["ConditionalExpression",et=>(0,o.vector_to_list)(["conditional_expression",j(et.test),j(et.consequent),j(et.alternate)])],["ArrowFunctionExpression",et=>(0,o.vector_to_list)(["lambda_expression",(0,o.vector_to_list)(et.params.map(j)),et.body.type==="BlockStatement"?ot(et.body.body):(0,o.vector_to_list)(["return_statement",j(et.body)])])],["Identifier",et=>(0,o.vector_to_list)(["name",et.name])],["Literal",et=>(0,o.vector_to_list)(["literal",et.value])],["ArrayExpression",et=>(0,o.vector_to_list)(["array_expression",(0,o.vector_to_list)(et.elements.map(j))])],["AssignmentExpression",et=>{if(et.left.type==="Identifier")return(0,o.vector_to_list)(["assignment",j(et.left),j(et.right)]);if(et.left.type==="MemberExpression")return(0,o.vector_to_list)(["object_assignment",j(et.left),j(et.right)]);throw tt(),new it("Invalid assignment")}],["ForStatement",et=>(0,o.vector_to_list)(["for_loop",j(et.init),j(et.test),j(et.update),j(et.body)])],["WhileStatement",et=>(0,o.vector_to_list)(["while_loop",j(et.test),j(et.body)])],["BreakStatement",et=>(0,o.vector_to_list)(["break_statement"])],["ContinueStatement",et=>(0,o.vector_to_list)(["continue_statement"])],["ObjectExpression",et=>(0,o.vector_to_list)(["object_expression",(0,o.vector_to_list)(et.properties.map(j))])],["MemberExpression",et=>(0,o.vector_to_list)(["object_access",j(et.object),!et.computed&&et.property.type==="Identifier"?(0,o.vector_to_list)(["property",et.property.name]):j(et.property)])],["Property",et=>(0,o.vector_to_list)(["key_value_pair",et.key.type==="Identifier"?(0,o.vector_to_list)(["property",et.key.name]):j(et.key),j(et.value)])],["ImportDeclaration",et=>(0,o.vector_to_list)(["import_declaration",(0,o.vector_to_list)(et.specifiers.map(j)),et.source.value])],["ImportSpecifier",et=>(0,o.vector_to_list)(["name",et.imported.name])],["ClassDeclaration",et=>(0,o.vector_to_list)(["class_declaration",(0,o.vector_to_list)(["name",et.id===null?null:et.id.name,et.superClass===null||et.superClass===void 0?null:j(et.superClass),et.body.body.map(j)])])],["NewExpression",et=>(0,o.vector_to_list)(["new_expression",j(et.callee),(0,o.vector_to_list)(et.arguments.map(j))])],["MethodDefinition",et=>(0,o.vector_to_list)(["method_definition",et.kind,et.static,j(et.key),j(et.value)])],["FunctionExpression",et=>(0,o.vector_to_list)(["lambda_expression",(0,o.vector_to_list)(et.params.map(j)),ot(et.body.body)])],["ThisExpression",et=>(0,o.vector_to_list)(["this_expression"])],["Super",et=>(0,o.vector_to_list)(["super_expression"])],["TryStatement",et=>(0,o.vector_to_list)(["try_statement",j(et.block),et.handler===null||et.handler===void 0?null:(0,o.vector_to_list)(["name",et.handler.param.name]),et.handler===null||et.handler===void 0?null:j(et.handler.body)])],["ThrowStatement",et=>(0,o.vector_to_list)(["throw_statement",j(et.argument)])],["SpreadElement",et=>(0,o.vector_to_list)(["spread_element",j(et.argument)])],["RestElement",et=>(0,o.vector_to_list)(["rest_element",j(et.argument)])]]);function j(et){if(nt.has(et.type)){const lt=nt.get(et.type)(et);return lt!=null&&typeof lt=="object"&&lt.tag!==void 0&&(lt.loc=et.loc),lt}else throw tt(),new it("Cannot transform unknown type: "+et.type)}function _(et,st){st.chapter=s.libraryParserLanguage;const lt=(0,i.parse)(et,st);if(st.errors.length>0)throw new it(st.errors[0].explain());if(lt!==void 0)return j(lt);throw tt(),new it("Invalid parse")}parser$1.parse=_;function $(et,st){const lt=(0,i.tokenize)(et,st).map(ft=>et.substring(ft.start,ft.end));return(0,o.vector_to_list)(lt)}return parser$1.tokenize=$,parser$1}var stream={},hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream;hasRequiredStream=1,Object.defineProperty(stream,"__esModule",{value:!0}),stream.list_to_stream=stream.stream=stream.stream_tail=void 0;const i=requireList();function s(it){let tt;if((0,i.is_pair)(it))tt=it[1];else throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+it);if(typeof tt=="function")return tt();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+tt)}stream.stream_tail=s;function a(...it){return o((0,i.list)(...it))}stream.stream=a;function o(it){return(0,i.is_null)(it)?null:(0,i.pair)((0,i.head)(it),()=>o((0,i.tail)(it)))}return stream.list_to_stream=o,stream}var stream_prelude={};Object.defineProperty(stream_prelude,"__esModule",{value:!0});stream_prelude.streamPrelude=void 0;stream_prelude.streamPrelude=`

// Supporting streams in the Scheme style, following
// "stream discipline"

// is_stream recurses down the stream and checks that it ends with the
// empty list null

function is_stream(xs) {
  return is_null(xs) ||
    (is_pair(xs) &&
    is_function(tail(xs)) &&
    arity(tail(xs)) === 0 &&
    is_stream(stream_tail(xs)));
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.

function list_to_stream(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs),
      () => list_to_stream(tail(xs)));
}

// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs)
    ? 0
    : 1 + stream_length(stream_tail(xs));
}

// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)),
      () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n
      ? null
      : pair(fun(i),
        () => build(i + 1));
  }
  return build(0);
}

// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(stream_tail(original),
        pair(head(original), () => reversed));
  }
  return rev(xs, null);
}

// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs),
      () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
      ? s
      : stream_member(x, stream_tail(s));
}

// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_tail(xs)
      : pair(head(xs),
        () => stream_remove(v, stream_tail(xs)));
}

// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_remove_all(v, stream_tail(xs))
      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}

// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
      ? pair(head(s),
        () => stream_filter(p, stream_tail(s)))
      : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end
    ? null
    : pair(start,
      () => enum_stream(start + 1, end));
}

// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n,
    () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
    function es(s, n) {
        return n === 1 
               ? list(head(s))
               : pair(head(s), 
                      es(stream_tail(s), n - 1));
    }
    return n === 0 
           ? null
           : es(s, n);
}

// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0
    ? head(s)
    : stream_ref(stream_tail(s), n - 1);
}
`;var typeChecker={},typeErrors={},hasRequiredTypeErrors;function requireTypeErrors(){if(hasRequiredTypeErrors)return typeErrors;hasRequiredTypeErrors=1,Object.defineProperty(typeErrors,"__esModule",{value:!0}),typeErrors.InconsistentPredicateTestError=typeErrors.CallingNonFunctionType=typeErrors.ConsequentAlternateMismatchError=typeErrors.UndefinedIdentifierError=typeErrors.InvalidTestConditionError=typeErrors.InvalidArgumentTypesError=typeErrors.DifferentNumberArgumentsError=typeErrors.CyclicReferenceError=typeErrors.DifferentAssignmentError=typeErrors.ReassignConstError=typeErrors.ArrayAssignmentError=typeErrors.InvalidArrayIndexType=void 0;const i=astring,s=types,a=formatters,o=requireStringify();class it{constructor(vt,dt){this.node=vt,this.receivedType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${(0,o.typeToString)(this.receivedType)} instead`}elaborate(){return this.explain()}}typeErrors.InvalidArrayIndexType=it;class tt{constructor(vt,dt,mt){this.node=vt,this.arrayType=dt,this.receivedType=mt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,a.stripIndent)`Expected array type: ${(0,o.typeToString)(this.arrayType)}
    but got: ${(0,o.typeToString)(this.receivedType)}`}elaborate(){return this.explain()}}typeErrors.ArrayAssignmentError=tt;class at{constructor(vt){this.node=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[vt]=rt(this.node);return`Reassignment of constant ${vt}`}elaborate(){return this.explain()}}typeErrors.ReassignConstError=at;class ot{constructor(vt,dt,mt){this.node=vt,this.expectedType=dt,this.receivedType=mt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[vt,dt]=rt(this.node);return(0,a.stripIndent)`
    Expected assignment of ${vt}:
      ${dt}
    to get a value of type:
      ${(0,o.typeToString)(this.expectedType)}
    but got a value of type:
      ${(0,o.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.DifferentAssignmentError=ot;function rt(pt){const vt=pt.left,dt=(0,a.simplify)((0,i.generate)(pt.right));return[vt.name,dt]}class nt{constructor(vt){this.node=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${j(this.node)} contains cyclic reference to itself`}elaborate(){return this.explain()}}typeErrors.CyclicReferenceError=nt;function j(pt){var vt;return["VariableDeclaration","FunctionDeclaration"].includes(pt.type)?pt.type==="VariableDeclaration"?pt.declarations[0].id.name:(vt=pt.id)===null||vt===void 0?void 0:vt.name:pt.type==="Identifier"?pt.name:JSON.stringify(pt)}class _{constructor(vt,dt,mt){this.node=vt,this.numExpectedArgs=dt,this.numReceived=mt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}}typeErrors.DifferentNumberArgumentsError=_;class ${constructor(vt,dt,mt,Tt){this.node=vt,this.args=dt,this.expectedTypes=mt,this.receivedTypes=Tt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const vt=this.args.map(Tt=>(0,a.simplify)((0,i.generate)(Tt)));if("operator"in this.node){const Tt=this.node.operator;return this.expectedTypes.length===2?(0,a.stripIndent)`
        A type mismatch was detected in the binary expression:
          ${vt[0]} ${Tt} ${vt[1]}
        The binary operator (${Tt}) expected two operands with types:
          ${(0,o.typeToString)(this.expectedTypes[0])} ${Tt} ${(0,o.typeToString)(this.expectedTypes[1])}
        but instead it received two operands of types:
          ${(0,o.typeToString)(this.receivedTypes[0])} ${Tt} ${(0,o.typeToString)(this.receivedTypes[1])}
        `:(0,a.stripIndent)`
        A type mismatch was detected in the unary expression:
          ${Tt} ${vt[0]}
        The unary operator (${Tt}) expected its operand to be of type:
          ${(0,o.typeToString)(this.expectedTypes[0])}
        but instead it received an operand of type:
          ${(0,o.typeToString)(this.receivedTypes[0])}
        `}const dt=(0,a.simplify)((0,i.generate)(this.node));function mt(Tt){switch(Tt.length){case 1:return`an argument of type:
      ${(0,o.typeToString)(Tt[0])}`;default:return`${Tt.length} arguments of types:
      ${Tt.map(o.typeToString).join(", ")}`}}return(0,a.stripIndent)`
    A type mismatch was detected in the function call:
      ${dt}
    The function expected ${mt(this.expectedTypes)}
    but instead received ${mt(this.receivedTypes)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidArgumentTypesError=$;function et(pt){let vt=(0,a.simplify)((0,i.generate)(pt.test)),dt;switch(pt.type){case"IfStatement":{vt=`if (${vt}) { ... } else { ... }`,dt="if statement";break}case"ConditionalExpression":{vt=`${vt} ? ... : ...`,dt="conditional expression";break}case"WhileStatement":{vt=`while (${vt}) { ... }`,dt="while statement";break}case"ForStatement":vt=`for (...; ${vt}; ...) { ... }`,dt="for statement"}return{exprString:vt,kind:dt}}class st{constructor(vt,dt){this.node=vt,this.receivedType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:vt,kind:dt}=et(this.node);return(0,a.stripIndent)`
    Expected the test part of the ${dt}:
      ${vt}
    to have type boolean, but instead it is type:
      ${(0,o.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidTestConditionError=st;class lt{constructor(vt,dt){this.node=vt,this.name=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,a.stripIndent)`
    One or more undeclared names detected (e.g. '${this.name}').
    If there aren't actually any undeclared names, then is either a Source or misconfiguration bug.
    Please report this to the administrators!
    `}elaborate(){return this.explain()}}typeErrors.UndefinedIdentifierError=lt;class ft{constructor(vt,dt,mt){this.node=vt,this.consequentType=dt,this.alternateType=mt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:vt,kind:dt}=et(this.node);return(0,a.stripIndent)`
    The two branches of the ${dt}:
      ${vt}
    produce different types!
    The true branch has type:
      ${(0,o.typeToString)(this.consequentType)}
    but the false branch has type:
      ${(0,o.typeToString)(this.alternateType)}
    `}elaborate(){return this.explain()}}typeErrors.ConsequentAlternateMismatchError=ft;class gt{constructor(vt,dt){this.node=vt,this.callerType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,a.stripIndent)`
    In
      ${(0,a.simplify)((0,i.generate)(this.node))}
    expected
      ${(0,a.simplify)((0,i.generate)(this.node.callee))}
    to be a function type, but instead it is type:
      ${(0,o.typeToString)(this.callerType)}
    `}elaborate(){return this.explain()}}typeErrors.CallingNonFunctionType=gt;class ut{constructor(vt,dt,mt,Tt){this.node=vt,this.argVarName=dt,this.preUnifyType=mt,this.predicateType=Tt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const vt=(0,i.generate)(this.node);return(0,a.stripIndent)`
    Inconsistent type constraints when trying to apply the predicate test
      ${vt}
    It is inconsistent with the predicate tests applied before it.
    The variable ${this.argVarName} has type
      ${(0,o.typeToString)(this.preUnifyType)}
    but could not unify with type
      ${(0,o.typeToString)(this.predicateType)}
    `}elaborate(){return this.explain()}}return typeErrors.InconsistentPredicateTestError=ut,typeErrors}var internalTypeErrors={},hasRequiredInternalTypeErrors;function requireInternalTypeErrors(){if(hasRequiredInternalTypeErrors)return internalTypeErrors;hasRequiredInternalTypeErrors=1,Object.defineProperty(internalTypeErrors,"__esModule",{value:!0}),internalTypeErrors.InternalCyclicReferenceError=internalTypeErrors.InternalDifferentNumberArgumentsError=internalTypeErrors.UnifyError=internalTypeErrors.InternalTypeError=internalTypeErrors.TypeError=void 0;const i=types,s=requireStringify();class a{constructor(rt,nt){this.node=rt,this.message=nt,this.type=i.ErrorType.TYPE,this.severity=i.ErrorSeverity.WARNING,rt.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}}internalTypeErrors.TypeError=a;class o extends Error{constructor(rt){super(),this.message=rt}}internalTypeErrors.InternalTypeError=o;class it extends o{constructor(rt,nt){super(`Failed to unify LHS: ${(0,s.typeToString)(rt)}, RHS: ${(0,s.typeToString)(nt)}`),this.LHS=rt,this.RHS=nt}}internalTypeErrors.UnifyError=it;class tt extends o{constructor(rt,nt){super(`Expected ${rt} args, got ${nt}`),this.numExpectedArgs=rt,this.numReceived=nt}}internalTypeErrors.InternalDifferentNumberArgumentsError=tt;class at extends o{constructor(rt){super("contains a cyclic reference to itself"),this.name=rt}}return internalTypeErrors.InternalCyclicReferenceError=at,internalTypeErrors}var hasRequiredTypeChecker;function requireTypeChecker(){if(hasRequiredTypeChecker)return typeChecker;hasRequiredTypeChecker=1,Object.defineProperty(typeChecker,"__esModule",{value:!0}),typeChecker.createTypeEnvironment=typeChecker.tForAll=typeChecker.tVar=typeChecker.typeCheck=void 0;const i=requireTypeErrors(),s=requireParser$1(),a=requireStringify(),o=requireInternalTypeErrors(),it="-_1";let tt=0;function at(Ut,an){if(Ut!==null){if(an&&Ut.typability!=="Untypable")try{Ut.inferredType=vt(Ut.inferredType,an),Ut.typability="Typed"}catch(hn){j(hn)&&!(hn instanceof o.InternalCyclicReferenceError)&&et(new o.TypeError(Ut,hn))}else Ut.inferredType=nn(tt),tt++;switch(Ut.type){case"Program":{Ut.body.forEach(hn=>{at(hn,an)});break}case"UnaryExpression":{at(Ut.argument,an);break}case"LogicalExpression":case"BinaryExpression":{at(Ut.left,an),at(Ut.right,an);break}case"ExpressionStatement":{at(Ut.expression,an);break}case"BlockStatement":{Ut.body.forEach(hn=>{at(hn,an)});break}case"WhileStatement":{at(Ut.test,an),at(Ut.body,an);break}case"ForStatement":{at(Ut.init,an),at(Ut.test,an),at(Ut.update,an),at(Ut.body,an);break}case"ConditionalExpression":case"IfStatement":{at(Ut.test,an),at(Ut.consequent,an),Ut.alternate&&at(Ut.alternate,an);break}case"CallExpression":{at(Ut.callee,an),Ut.arguments.forEach(hn=>{at(hn,an)});break}case"ReturnStatement":{const hn=Ut.argument;at(hn,an);break}case"VariableDeclaration":{const hn=Ut.declarations[0].init;at(hn,an);break}case"ArrowFunctionExpression":{Ut.params.forEach(hn=>{at(hn,an)}),at(Ut.body,an);break}case"FunctionDeclaration":{const hn=Ut;if(an)try{hn.functionInferredType=vt(hn.functionInferredType,an)}catch(On){On instanceof o.InternalCyclicReferenceError?et(new i.CyclicReferenceError(Ut)):j(On)&&et(new o.TypeError(Ut,On))}else hn.functionInferredType=nn(tt);tt++,hn.params.forEach(On=>{at(On,an)}),at(hn.body,an);break}case"AssignmentExpression":at(Ut.left,an),at(Ut.right,an);break;case"ArrayExpression":Ut.elements.forEach(hn=>at(hn,an));break;case"MemberExpression":at(Ut.object,an),at(Ut.property,an);break;default:return}}}function ot(Ut){return Ut.kind==="pair"}function rt(Ut){return Ut.kind==="list"}function nt(Ut){return rt(Ut)?Ut.elementType:null}function j(Ut){return Ut instanceof o.InternalTypeError}let _=!1,$=[];function et(Ut){Ut instanceof i.UndefinedIdentifierError&&_||(_=!0,$.push(Ut))}function st(Ut,an){function hn(On){tt=0,_=!1,$=[];const Gn=an.typeEnvironment;if(an.chapter>=3&&Gn.length===3){const $n=Gn[2].typeMap;for(const[Yn,lr]of Wn)$n.set(Yn,lr)}const Pn=[];at(On);try{Vt(On,Gn,Pn,!0)}catch($n){j($n)?et(new o.TypeError(On,`Uncaught internal type error during typechecking, report this to the adminstrators!
`+$n.message)):et(new o.TypeError(On,`Uncaught error during typechecking, report this to the adminstrators!
`+$n.message))}return at(On,Pn),[On,$]}for(const On of an.unTypecheckedCode)hn((0,s.typedParse)(On,an));return an.unTypecheckedCode=[],hn(Ut)}typeChecker.typeCheck=st;function lt(Ut){const an=tt;return tt++,Object.assign(Object.assign({},Ut),{name:`T${an}`})}function ft(Ut,an){switch(Ut.kind){case"primitive":return Ut;case"list":return{kind:"list",elementType:ft(Ut.elementType,an)};case"array":return{kind:"array",elementType:ft(Ut.elementType,an)};case"pair":return{kind:"pair",headType:ft(Ut.headType,an),tailType:ft(Ut.tailType,an)};case"variable":return an[Ut.name];case"function":return Object.assign(Object.assign({},Ut),{parameterTypes:Ut.parameterTypes.map(hn=>ft(hn,an)),returnType:ft(Ut.returnType,an)})}}function gt(Ut,an){const hn=[...Ut];return an.forEach(On=>{hn.findIndex(Gn=>Gn.name===On.name)===-1&&hn.push(On)}),hn}function ut(Ut){switch(Ut.kind){case"primitive":return[];case"list":return ut(Ut.elementType);case"array":return ut(Ut.elementType);case"pair":return gt(ut(Ut.headType),ut(Ut.tailType));case"variable":return[Ut];case"function":return gt(Ut.parameterTypes.reduce((an,hn)=>gt(an,ut(hn)),[]),ut(Ut.returnType))}}function pt(Ut){const an=Ut.polyType,hn=ut(an),On={};return hn.forEach(Gn=>{On[Gn.name]=lt(Gn)}),ft(an,On)}function vt(Ut,an){switch(Ut.kind){case"primitive":return Ut;case"pair":{const hn=vt(Ut.headType,an),On=vt(Ut.tailType,an);return On.kind==="list"&&hn===nt(On)?wn(hn):fn(hn,On)}case"list":return{kind:"list",elementType:vt(Ut.elementType,an)};case"array":return{kind:"array",elementType:vt(Ut.elementType,an)};case"variable":{for(const hn of an){const On=hn[0],Gn=hn[1];if(On.name===Ut.name){if(dt(Gn,On.name)){if(ot(Gn)&&On===Gn.tailType)return{kind:"list",elementType:Gn.headType};if(On.kind==="variable"&&On===nt(Gn))return{kind:"list",elementType:On};throw new o.InternalCyclicReferenceError(Ut.name)}return vt(hn[1],an)}}return Ut}case"function":return Object.assign(Object.assign({},Ut),{parameterTypes:Ut.parameterTypes.map(hn=>vt(hn,an)),returnType:vt(Ut.returnType,an)})}}function dt(Ut,an){switch(Ut.kind){case"primitive":return!1;case"pair":return dt(Ut.headType,an)||dt(Ut.tailType,an);case"array":case"list":return dt(Ut.elementType,an);case"variable":return Ut.name===an;case"function":return Ut.parameterTypes.some(On=>dt(On,an))||dt(Ut.returnType,an)}}function mt(Ut,an,hn){for(const On of an)if(On[0].name===Ut.name)return xt(an,[hn,On[1]]);return hn.kind==="variable"&&Ut.constraint==="addable"&&hn.constraint==="none"&&(hn.constraint=Ut.constraint),Ut!==hn&&an.push([Ut,hn]),an}function Tt(Ut,an){return Ut.constraint==="addable"&&an.kind!=="variable"&&!(an.kind==="primitive"&&(an.name==="string"||an.name==="number"))}function yt(Ut){return{kind:"function",parameterTypes:[lt(nn("T"))],returnType:Qt}}function ht(){return dn(lt(nn("T")),Qt)}function xt(Ut,[an,hn]){if(an.kind==="primitive"&&hn.kind==="primitive"&&an.name===hn.name)return Ut;if(an.kind!=="variable"&&hn.kind==="variable")return xt(Ut,[hn,an]);if(an.kind==="variable"){if(hn=vt(hn,Ut),(hn.kind==="primitive"||hn.kind==="variable")&&an.name===hn.name)return Ut;if(hn.kind==="pair"&&an===hn.tailType)xt(Ut,[an,wn(hn.headType)]);else if(hn.kind==="pair"&&hn.tailType.kind==="list"){const On=xt(Ut,[hn.headType,nt(hn.tailType)]);return xt(On,[an,wn(hn.headType)])}else if(dt(hn,an.name))throw new o.InternalCyclicReferenceError(an.name);if(Tt(an,hn))throw new o.UnifyError(an,hn);return mt(an,Ut,vt(hn,Ut))}else if(an.kind==="function"&&hn.kind==="function"){if(an.parameterTypes.length!==hn.parameterTypes.length)throw new o.InternalDifferentNumberArgumentsError(hn.parameterTypes.length,an.parameterTypes.length);let On=Ut;for(let Gn=0;Gn<an.parameterTypes.length;Gn++)On=xt(On,[an.parameterTypes[Gn],hn.parameterTypes[Gn]]);return On=xt(On,[an.returnType,hn.returnType]),On}else if(an.kind==="pair"&&hn.kind==="pair"){const On=xt(Ut,[an.headType,hn.headType]);return xt(On,[an.tailType,hn.tailType])}else{if(an.kind==="list"&&hn.kind==="list")return xt(Ut,[an.elementType,hn.elementType]);if(an.kind==="list"&&hn.kind==="pair")return xt(Ut,[hn,fn(an.elementType,an)]);if(hn.kind==="list"&&an.kind==="pair")return xt(Ut,[an,fn(hn.elementType,hn)]);if(an.kind==="array"&&hn.kind==="array")return xt(Ut,[an.elementType,hn.elementType])}throw new o.UnifyError(an,hn)}function wt(Ut,an,hn,On,Gn,Pn){jt(Gn);for(const $n of an)Xt($n.argVarName,lt(nn("PredicatedT")),Gn);for(const $n of an){const Yn=Pt($n.argVarName,Gn),lr=vt(Yn,Pn),Mn=$n.ifTrueType.kind==="forall"?pt($n.ifTrueType):$n.ifTrueType;try{Pn=xt(Pn,[Yn,Mn])}catch(Zn){Zn instanceof o.UnifyError&&et(new i.InconsistentPredicateTestError($n.node,$n.argVarName,lr,Mn))}}return Pn=Vt(hn,Gn,Pn,On),Gn.pop(),Pn}function kt(Ut,an,hn,On,Gn,Pn,$n){if($n=wt(Ut,an,hn,Gn,Pn,$n),On!==void 0)try{$n=Vt(On,Pn,$n,Gn)}catch(Yn){Yn instanceof o.UnifyError&&et(new i.ConsequentAlternateMismatchError(Ut,Yn.RHS,Yn.LHS))}return $n}function Ct(Ut){switch(Ut.type){case"IfStatement":return Ct(Ut.consequent)||Ct(Ut.alternate);case"BlockStatement":return Ut.body.some(an=>Ct(an));case"ForStatement":case"WhileStatement":return Ct(Ut.body);case"ReturnStatement":return!0;default:return!1}}function Rt(Ut){switch(Ut.type){case"ExpressionStatement":return!0;case"IfStatement":return Rt(Ut.consequent)||Rt(Ut.alternate);case"BlockStatement":return Ut.body.some(an=>Rt(an));case"ForStatement":case"WhileStatement":return Rt(Ut.body);default:return!1}}function Lt(Ut,an,hn=[]){if(Ut.type==="LogicalExpression"&&Ut.operator==="&&")return hn=Lt(Ut.left,an,hn),Lt(Ut.right,an,hn);if(Ut.type==="UnaryExpression"&&Ut.operator==="!")return Mt(Ut.argument,an,hn);if(Ut.type==="CallExpression"&&Ut.callee.type==="Identifier"&&Ut.arguments.length===1&&Ut.arguments[0].type==="Identifier"){const On=Pt(Ut.callee.name,an);if(On!==void 0&&On.kind==="predicate")return hn.push({node:Ut,ifTrueType:On.ifTrueType,argVarName:Ut.arguments[0].name}),hn}return hn}function Mt(Ut,an,hn=[]){return Ut.type==="LogicalExpression"&&Ut.operator==="||"?(hn=Mt(Ut.left,an,hn),Mt(Ut.right,an,hn)):Ut.type==="UnaryExpression"&&Ut.operator==="!"?Lt(Ut.argument,an,hn):hn}function Wt(Ut,an){const hn=Ut.body.length-1;if(an){for(let On=hn;On>=0;On--)if(Rt(Ut.body[On]))return On;return hn}else return Ut.body.findIndex((On,Gn)=>Gn===hn||Ct(On))}function Pt(Ut,an){for(let hn=an.length-1;hn>=0;hn--)if(an[hn].typeMap.has(Ut))return an[hn].typeMap.get(Ut)}function Ot(Ut,an){for(let hn=an.length-1;hn>=0;hn--)if(an[hn].declKindMap.has(Ut))return an[hn].declKindMap.get(Ut)}function Xt(Ut,an,hn){hn[hn.length-1].typeMap.set(Ut,an)}function rn(Ut,an,hn){hn[hn.length-1].declKindMap.set(Ut,an)}function jt(Ut){Ut.push({typeMap:new Map,declKindMap:new Map})}function Vt(Ut,an,hn,On=!1){try{return en(Ut,an,hn,On)}catch(Gn){if(Gn instanceof o.InternalCyclicReferenceError)return et(new i.CyclicReferenceError(Ut)),hn;throw Gn}}function en(Ut,an,hn,On=!1){const Gn=Ut.inferredType;switch(Ut.type){case"UnaryExpression":{const Pn=Ut.operator==="-"?it:Ut.operator,$n=Pt(Pn,an),Yn=Ut.argument,lr=Yn.inferredType,Mn=[];let Zn=Vt(Yn,an,hn);Mn.push(vt(Yn.inferredType,Zn));try{Zn=xt(Zn,[dn(lr,Gn),$n])}catch(Vn){if(Vn instanceof o.UnifyError){const er=$n.parameterTypes;return et(new i.InvalidArgumentTypesError(Ut,[Yn],er,Mn)),Zn}}return Zn}case"LogicalExpression":{const Pn=Ut.left,$n=Pn.inferredType,Yn=Ut.right,lr=Yn.inferredType;let Mn=hn;Mn=xt(hn,[Gn,Qt]),Mn=Vt(Pn,an,Mn);const Zn=vt(Pn.inferredType,Mn);let Vn;if(Ut.operator==="&&"){const er=Lt(Ut.left,an);er.length>0&&(Mn=wt(Ut,er,Ut.right,On,an,Mn),Vn=vt(Yn.inferredType,Mn))}else if(Ut.operator==="||"){const er=Mt(Ut.left,an);er.length>0&&(Mn=wt(Ut,er,Ut.right,On,an,Mn),Vn=vt(Yn.inferredType,Mn))}Vn===void 0&&(Mn=Vt(Yn,an,Mn),Vn=vt(Yn.inferredType,Mn));try{Mn=xt(hn,[$n,Qt]),Mn=xt(hn,[lr,Qt])}catch(er){er instanceof o.UnifyError&&et(new i.InvalidArgumentTypesError(Ut,[Pn,Yn],[Qt,Qt],[Zn,Vn]))}return Mn}case"BinaryExpression":{const Pn=Pt(Ut.operator,an),$n=Pn.kind==="forall"?pt(Pn):Pn.kind==="predicate"?yt():Pn,Yn=Ut.left,lr=Yn.inferredType,Mn=Ut.right,Zn=Mn.inferredType,Vn=[Yn,Mn];let er=hn;const jn=[];Vn.forEach(zn=>{er=Vt(zn,an,er),jn.push(vt(zn.inferredType,er))});try{er=xt(hn,[dn(lr,Zn,Gn),$n])}catch(zn){if(zn instanceof o.UnifyError){const yr=$n.parameterTypes;et(new i.InvalidArgumentTypesError(Ut,Vn,yr,jn))}}return er}case"ExpressionStatement":return Vt(Ut.expression,an,xt(hn,[Gn,kn]));case"ReturnStatement":{const Pn=Ut.argument;return Vt(Pn,an,xt(hn,[Gn,Pn.inferredType]))}case"WhileStatement":{const Pn=Ut.test,$n=Pn.inferredType,Yn=Ut.body,lr=Yn.inferredType;let Mn=xt(hn,[Gn,lr]);try{Mn=Vt(Pn,an,Mn),Mn=xt(Mn,[$n,Qt])}catch(Zn){Zn instanceof o.UnifyError&&et(new i.InvalidTestConditionError(Ut,Zn.RHS))}return Vt(Yn,an,Mn,On)}case"ForStatement":{const Pn=Ut.init,$n=Ut.test,Yn=$n.inferredType,lr=Ut.body,Mn=lr.inferredType,Zn=Ut.update;let Vn=xt(hn,[Gn,Mn]);if(jt(an),Pn.type==="VariableDeclaration"&&Pn.kind!=="var"&&Pn.declarations[0].id.type==="Identifier"){const jn=Pn.declarations[0].id.name;Xt(jn,Pn.declarations[0].init.inferredType,an),rn(jn,Pn.kind,an),Vn=Vt(Pn,an,Vn),Xt(jn,xn(vt(Pn.declarations[0].init.inferredType,Vn)),an)}else Vn=Vt(Pn,an,Vn);try{Vn=Vt($n,an,Vn),Vn=xt(Vn,[Yn,Qt])}catch(jn){jn instanceof o.UnifyError&&et(new i.InvalidTestConditionError(Ut,jn.RHS))}Vn=Vt(Zn,an,Vn);const er=Vt(lr,an,Vn,On);return an.pop(),er}case"Program":case"BlockStatement":{jt(an);for(const zn of Ut.body)if(zn.type==="ImportDeclaration")for(const yr of zn.specifiers)yr.type==="ImportSpecifier"&&yr.local.type==="Identifier"&&(Xt(yr.local.name,xn(nn("T1")),an),rn(yr.local.name,"const",an));const Pn=Ut.body.length-1,$n=Wt(Ut,On);let Yn=-1,lr=!1,Mn=Pn;const Zn=[];for(;Mn>=0;){const zn=Ut.body[Mn];(zn.type==="FunctionDeclaration"||zn.type==="VariableDeclaration")&&(lr||(lr=!0,Yn=Mn),Zn.push(zn)),Mn--}Zn.forEach(zn=>{if(zn.type==="FunctionDeclaration"&&zn.id!==null){const yr=zn.id.name;Xt(yr,zn.functionInferredType,an),rn(yr,"const",an)}else if(zn.type==="VariableDeclaration"&&zn.kind!=="var"&&zn.declarations[0].id.type==="Identifier"){const yr=zn.declarations[0].id.name;Xt(yr,zn.declarations[0].init.inferredType,an),rn(yr,zn.kind,an)}});const Vn=Ut.body[$n],er=On&&Vn.type==="ExpressionStatement"?Vn.expression.inferredType:Vn.inferredType;let jn=xt(hn,[Gn,er]);for(let zn=0;zn<=Yn;zn++)zn===$n?jn=Vt(Ut.body[zn],an,jn,On):jn=Vt(Ut.body[zn],an,jn);Zn.forEach(zn=>{zn.type==="FunctionDeclaration"&&zn.id!==null?Xt(zn.id.name,xn(vt(zn.functionInferredType,jn)),an):zn.type==="VariableDeclaration"&&zn.declarations[0].id.type==="Identifier"&&Xt(zn.declarations[0].id.name,xn(vt(zn.declarations[0].init.inferredType,jn)),an)});for(let zn=Yn+1;zn<=Pn;zn++){const yr=Ut.body[zn];zn===$n?jn=Vt(yr,an,jn,On):jn=Vt(yr,an,jn)}return Ut.type==="BlockStatement"&&an.pop(),jn}case"Literal":{const Pn=Ut.value,$n=typeof Pn;if(Pn===null)return xt(hn,[Gn,wn(nn(tt++))]);if($n==="number")return xt(hn,[Gn,Gt]);if($n==="boolean")return xt(hn,[Gn,Qt]);if($n==="string")return xt(hn,[Gn,cn]);throw Error("Unexpected literal type")}case"Identifier":{const Pn=Ut.name,$n=Pt(Pn,an);return $n!==void 0?$n.kind==="forall"?xt(hn,[Gn,pt($n)]):$n.kind==="predicate"?xt(hn,[Gn,ht()]):xt(hn,[Gn,$n]):(et(new i.UndefinedIdentifierError(Ut,Pn)),hn)}case"ConditionalExpression":case"IfStatement":{const Pn=Ut.test,$n=Pn.inferredType,Yn=Ut.consequent,lr=Yn.inferredType,Mn=Ut.alternate,Zn=Mn.inferredType;let Vn=hn;try{Vn=Vt(Pn,an,Vn),Vn=xt(Vn,[$n,Qt])}catch(zn){zn instanceof o.UnifyError&&et(new i.InvalidTestConditionError(Ut,zn.RHS))}const er=Lt(Pn,an),jn=Mt(Pn,an);if(er.length>0)Vn=kt(Ut,er,Yn,Mn,On,an,Vn);else if(jn.length>0)Vn=kt(Ut,jn,Mn,Yn,On,an,Vn);else{Vn=Vt(Yn,an,Vn,On);try{Vn=Vt(Mn,an,Vn,On)}catch(zn){zn instanceof o.UnifyError&&et(new i.ConsequentAlternateMismatchError(Ut,zn.RHS,zn.LHS))}}try{Vn=xt(Vn,[Gn,lr]),Vn=xt(Vn,[Gn,Zn])}catch(zn){zn instanceof o.UnifyError&&et(new i.ConsequentAlternateMismatchError(Ut,zn.RHS,zn.LHS))}return Vn}case"ArrowFunctionExpression":{jt(an);const Pn=Ut.params,$n=Pn.map(Zn=>Zn.inferredType),Yn=Ut.body;$n.push(Yn.inferredType);const lr=xt(hn,[Gn,dn(...$n)]);Pn.forEach(Zn=>{Xt(Zn.name,Zn.inferredType,an)});const Mn=Vt(Yn,an,lr);return an.pop(),Mn}case"VariableDeclaration":{const Pn=Ut.declarations[0].init;return Vt(Pn,an,xt(hn,[Gn,kn]))}case"FunctionDeclaration":{const Pn=Ut;let $n=xt(hn,[Gn,kn]);jt(an);const Yn=Pn.functionInferredType,lr=Ut.params,Mn=lr.map(er=>er.inferredType),Zn=Ut.body;Mn.push(Zn.inferredType),$n=xt($n,[Yn,dn(...Mn)]),lr.forEach(er=>{Xt(er.name,er.inferredType,an)});const Vn=Vt(Zn,an,$n);return an.pop(),Vn}case"CallExpression":{const Pn=Ut.callee,$n=Pn.inferredType,Yn=Ut.arguments,lr=Yn.map(er=>er.inferredType);lr.push(Gn);let Mn=hn;Mn=Vt(Pn,an,Mn);const Zn=vt(Pn.inferredType,Mn),Vn=[];Yn.forEach(er=>{Mn=Vt(er,an,Mn),Vn.push(vt(er.inferredType,Mn))});try{Mn=xt(hn,[dn(...lr),$n])}catch(er){if(er instanceof o.UnifyError)if(Zn.kind==="function"){const jn=Zn.parameterTypes;et(new i.InvalidArgumentTypesError(Ut,Yn,jn,Vn))}else et(new i.CallingNonFunctionType(Ut,Zn));else er instanceof o.InternalDifferentNumberArgumentsError&&et(new i.DifferentNumberArgumentsError(Ut,er.numExpectedArgs,er.numReceived))}return Mn}case"AssignmentExpression":{const Pn=Ut.left,$n=Ut.right,Yn=$n.inferredType,lr=Pn.inferredType;let Mn=xt(hn,[Gn,Yn]);if(Mn=Vt($n,an,Mn),Pn.type==="Identifier"&&Ot(Pn.name,an)==="const")return et(new i.ReassignConstError(Ut)),Mn;Mn=Vt(Pn,an,Mn);try{return xt(Mn,[Yn,lr])}catch(Zn){Zn instanceof o.UnifyError&&(Pn.type==="Identifier"?et(new i.DifferentAssignmentError(Ut,vt(lr,Mn),vt(Yn,Mn))):et(new i.ArrayAssignmentError(Ut,qt(vt(lr,Mn)),qt(vt(Yn,Mn)))))}return Mn}case"ArrayExpression":{let Pn=hn;const $n=Ut.elements;$n.forEach(lr=>{Pn=Vt(lr,an,Pn)});const Yn=nn(tt++);return Pn=xt(Pn,[Gn,qt(Yn)]),$n.forEach(lr=>{try{Pn=xt(Pn,[Yn,lr.inferredType])}catch(Mn){Mn instanceof o.UnifyError&&et(new i.ArrayAssignmentError(Ut,vt(Ut.inferredType,Pn),qt(vt(lr.inferredType,Pn))))}}),Pn}case"MemberExpression":{const $n=Ut.object.name,Yn=Ut.property,lr=Yn.inferredType;let Mn=Vt(Yn,an,hn);const Zn=Pt($n,an);if(Zn.kind==="predicate")throw Zn.ifTrueType.kind==="forall"?new o.InternalTypeError(`Expected ${$n} to be an array, got ${(0,a.typeToString)(pt(Zn.ifTrueType))}`):new o.InternalTypeError(`Expected ${$n} to be an array, got ${(0,a.typeToString)(Zn.ifTrueType)}`);if(Zn.kind==="forall")throw new o.InternalTypeError(`Expected ${$n} to be an array, got ${(0,a.typeToString)(pt(Zn))}`);const Vn=vt(Zn,Mn);if(Vn.kind!=="array")throw new o.InternalTypeError(`Expected ${$n} to be an array, got ${(0,a.typeToString)(Vn)}`);const er=Vn.elementType;try{Mn=xt(hn,[lr,Gt])}catch(jn){jn instanceof o.UnifyError&&et(new i.InvalidArrayIndexType(Ut,vt(lr,Mn)))}return xt(Mn,[Gn,er])}default:return xt(hn,[Gn,kn])}}function ln(Ut){return{kind:"primitive",name:Ut}}function nn(Ut){return{kind:"variable",name:`T${Ut}`,constraint:"none"}}typeChecker.tVar=nn;function _n(Ut){return{kind:"variable",name:`${Ut}`,constraint:"addable"}}function fn(Ut,an){return{kind:"pair",headType:Ut,tailType:an}}function wn(Ut){return{kind:"list",elementType:Ut}}function xn(Ut){return{kind:"forall",polyType:Ut}}typeChecker.tForAll=xn;function qt(Ut){return{kind:"array",elementType:Ut}}const Qt=ln("boolean"),Gt=ln("number"),cn=ln("string"),kn=ln("undefined");function dn(...Ut){const an=Ut.slice(0,-1),hn=Ut.slice(-1)[0];return{kind:"function",parameterTypes:an,returnType:hn}}function qn(Ut){return{kind:"predicate",ifTrueType:Ut}}const ur=[["Infinity",Gt],["NaN",Gt],["undefined",kn],["math_E",Gt],["math_LN2",Gt],["math_LN10",Gt],["math_LOG2E",Gt],["math_LOG10E",Gt],["math_PI",Gt],["math_SQRT1_2",Gt],["math_SQRT2",Gt],["is_boolean",qn(Qt)],["is_number",qn(Gt)],["is_string",qn(cn)],["is_undefined",qn(kn)],["is_function",qn(xn(dn(nn("T"),nn("U"))))],["math_abs",dn(Gt,Gt)],["math_acos",dn(Gt,Gt)],["math_acosh",dn(Gt,Gt)],["math_asin",dn(Gt,Gt)],["math_asinh",dn(Gt,Gt)],["math_atan",dn(Gt,Gt)],["math_atan2",dn(Gt,Gt,Gt)],["math_atanh",dn(Gt,Gt)],["math_cbrt",dn(Gt,Gt)],["math_ceil",dn(Gt,Gt)],["math_clz32",dn(Gt,Gt)],["math_cos",dn(Gt,Gt)],["math_cosh",dn(Gt,Gt)],["math_exp",dn(Gt,Gt)],["math_expm1",dn(Gt,Gt)],["math_floor",dn(Gt,Gt)],["math_fround",dn(Gt,Gt)],["math_hypot",xn(nn("T"))],["math_imul",dn(Gt,Gt,Gt)],["math_log",dn(Gt,Gt)],["math_log1p",dn(Gt,Gt)],["math_log2",dn(Gt,Gt)],["math_log10",dn(Gt,Gt)],["math_max",xn(nn("T"))],["math_min",xn(nn("T"))],["math_pow",dn(Gt,Gt,Gt)],["math_random",dn(Gt)],["math_round",dn(Gt,Gt)],["math_sign",dn(Gt,Gt)],["math_sin",dn(Gt,Gt)],["math_sinh",dn(Gt,Gt)],["math_sqrt",dn(Gt,Gt)],["math_tan",dn(Gt,Gt)],["math_tanh",dn(Gt,Gt)],["math_trunc",dn(Gt,Gt)],["parse_int",dn(cn,Gt,Gt)],["prompt",dn(cn,cn)],["get_time",dn(Gt)],["stringify",xn(dn(nn("T"),cn))],["display",xn(nn("T"))],["error",xn(nn("T"))]],cr=nn("headType"),Mr=nn("tailType"),En=[["pair",xn(dn(cr,Mr,fn(cr,Mr)))],["head",xn(dn(fn(cr,Mr),cr))],["tail",xn(dn(fn(cr,Mr),Mr))],["is_pair",qn(xn(fn(cr,Mr)))],["is_null",qn(xn(wn(nn("T"))))],["is_list",qn(xn(wn(nn("T"))))]],Kn=[["set_head",xn(dn(fn(cr,Mr),cr,kn))],["set_tail",xn(dn(fn(cr,Mr),Mr,kn))]],Nn=[["is_array",qn(xn(qt(nn("T"))))],["array_length",xn(dn(qt(nn("T")),Gt))]],dr=[["list",xn(nn("T1"))]],Hn=[[it,dn(Gt,Gt)],["!",dn(Qt,Qt)],["&&",xn(dn(Qt,nn("T"),nn("T")))],["||",xn(dn(Qt,nn("T"),nn("T")))],["<",xn(dn(_n("A"),_n("A"),Qt))],["<=",xn(dn(_n("A"),_n("A"),Qt))],[">",xn(dn(_n("A"),_n("A"),Qt))],[">=",xn(dn(_n("A"),_n("A"),Qt))],["+",xn(dn(_n("A"),_n("A"),_n("A")))],["%",dn(Gt,Gt,Gt)],["-",dn(Gt,Gt,Gt)],["*",dn(Gt,Gt,Gt)],["/",dn(Gt,Gt,Gt)]],Tr=[["===",xn(dn(_n("A"),_n("A"),Qt))],["!==",xn(dn(_n("A"),_n("A"),Qt))]],or=[["===",xn(dn(nn("T1"),nn("T2"),Qt))],["!==",xn(dn(nn("T1"),nn("T2"),Qt))]],Wn=[["is_stream",xn(dn(nn("T1"),Qt))],["list_to_stream",xn(dn(wn(nn("T1")),nn("T2")))],["stream_to_list",xn(dn(nn("T1"),wn(nn("T2"))))],["stream_length",xn(dn(nn("T1"),Gt))],["stream_map",xn(dn(nn("T1"),nn("T2")))],["build_stream",xn(dn(Gt,dn(Gt,nn("T1")),nn("T2")))],["stream_for_each",xn(dn(dn(nn("T1"),nn("T2")),Qt))],["stream_reverse",xn(dn(nn("T1"),nn("T1")))],["stream_append",xn(dn(nn("T1"),nn("T1"),nn("T1")))],["stream_member",xn(dn(nn("T1"),nn("T2"),nn("T2")))],["stream_remove",xn(dn(nn("T1"),nn("T2"),nn("T2")))],["stream_remove_all",xn(dn(nn("T1"),nn("T2"),nn("T2")))],["stream_filter",xn(dn(dn(nn("T1"),Qt),nn("T2"),nn("T2")))],["enum_stream",xn(dn(Gt,Gt,nn("T1")))],["integers_from",xn(dn(Gt,nn("T1")))],["eval_stream",xn(dn(nn("T1"),Gt,wn(nn("T2"))))],["stream_ref",xn(dn(nn("T1"),Gt,nn("T2")))]];function xr(Ut){const an=[...ur,...Hn];return Ut>=2&&an.push(...En,...dr),Ut>=3?an.push(...or,...Kn,...Nn):an.push(...Tr),[{typeMap:new Map(an),declKindMap:new Map(an.map(hn=>[hn[0],"const"]))}]}return typeChecker.createTypeEnvironment=xr,typeChecker}var hasRequiredCreateContext;function requireCreateContext(){return hasRequiredCreateContext||(hasRequiredCreateContext=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.importBuiltins=i.importExternalSymbols=i.defineBuiltin=i.defineSymbol=i.ensureGlobalEnvironmentExist=i.createEmptyContext=i.createGlobalEnvironment=i.EnvTreeNode=i.EnvTree=i.LazyBuiltIn=void 0;const s=constants,a=lib,o=requireSchedulers(),it=lazyList_prelude,tt=requireList(),at=requireList(),ot=list_prelude,rt=requireMisc(),nt=nonDet_prelude,j=requireParser(),_=requireStream(),$=stream_prelude,et=requireTypeChecker(),st=types,lt=makeWrapper$1,ft=requireOperators(),gt=requireStringify();class ut{constructor(Ot,Xt){this.func=Ot,this.evaluateArgs=Xt}}i.LazyBuiltIn=ut;class pt{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(Ot){const Xt=Ot.tail;if(Xt===null)this._root===null&&(this._root=new vt(Ot,null),this.map.set(Ot,this._root));else{const rn=this.map.get(Xt);if(rn){const jt=new vt(Ot,rn);rn.addChild(jt),this.map.set(Ot,jt)}}}getTreeNode(Ot){return this.map.get(Ot)}}i.EnvTree=pt;class vt{constructor(Ot,Xt){this.environment=Ot,this.parent=Xt,this._children=[]}get children(){return this._children}resetChildren(Ot){this.clearChildren(),this.addChildren(Ot),Ot.forEach(Xt=>Xt.parent=this)}clearChildren(){this._children=[]}addChildren(Ot){this._children.push(...Ot)}addChild(Ot){return this._children.push(Ot),Ot}}i.EnvTreeNode=vt;const dt=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new pt,environments:[],value:void 0,nodes:[]}),mt=()=>({observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new o.AsyncScheduler}}),Tt=()=>({tail:null,name:"global",head:{},id:"-1"});i.createGlobalEnvironment=Tt;const yt=()=>({builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(ft)),gpu:new Map(Object.entries(a)),maxExecTime:s.JSSLANG_PROPERTIES.maxExecTime,evaller:null}),ht=(Pt,Ot=st.Variant.DEFAULT,Xt,rn)=>({chapter:Pt,externalSymbols:Xt,errors:[],externalContext:rn,runtime:dt(),numberOfOuterEnvironments:1,prelude:null,debugger:mt(),nativeStorage:yt(),executionMethod:"auto",variant:Ot,moduleContexts:{},unTypecheckedCode:[],typeEnvironment:(0,et.createTypeEnvironment)(Pt),previousCode:[]});i.createEmptyContext=ht;const xt=Pt=>{if(Pt.runtime||(Pt.runtime=dt()),Pt.runtime.environments||(Pt.runtime.environments=[]),Pt.runtime.environmentTree||(Pt.runtime.environmentTree=new pt),Pt.runtime.environments.length===0){const Ot=(0,i.createGlobalEnvironment)();Pt.runtime.environments.push(Ot),Pt.runtime.environmentTree.insert(Ot)}};i.ensureGlobalEnvironmentExist=xt;const wt=(Pt,Ot,Xt)=>{const rn=Pt.runtime.environments[0];Object.defineProperty(rn.head,Ot,{value:Xt,writable:!1,enumerable:!0}),Pt.nativeStorage.builtins.set(Ot,Xt);const jt=Pt.typeEnvironment[0];jt.declKindMap.has(Ot)||(jt.typeMap.set(Ot,(0,et.tForAll)((0,et.tVar)("T1"))),jt.declKindMap.set(Ot,"const"))};i.defineSymbol=wt;function kt(Pt,Ot,Xt,rn=void 0){if(typeof Xt=="function"){const jt=Ot.split("(")[0].trim(),Vt=`function ${Ot} {
	[implementation hidden]
}`;Xt.toString=()=>Vt,Xt.minArgsNeeded=rn,(0,i.defineSymbol)(Pt,jt,Xt)}else if(Xt instanceof ut){const jt=(...ln)=>Xt.func(...ln),Vt=Ot.split("(")[0].trim(),en=`function ${Ot} {
	[implementation hidden]
}`;jt.toString=()=>en,(0,lt.makeWrapper)(Xt.func,jt),(0,i.defineSymbol)(Pt,Vt,new ut(jt,Xt.evaluateArgs))}else(0,i.defineSymbol)(Pt,Ot,Xt)}i.defineBuiltin=kt;const Ct=(Pt,Ot)=>{(0,i.ensureGlobalEnvironmentExist)(Pt),Ot.forEach(Xt=>{(0,i.defineSymbol)(Pt,Xt,s.GLOBAL[Xt])})};i.importExternalSymbols=Ct;const Rt=(Pt,Ot)=>{(0,i.ensureGlobalEnvironmentExist)(Pt);const Xt=(nn,..._n)=>Ot.rawDisplay(nn,_n[0],Pt.externalContext),rn=(nn,..._n)=>{if(_n.length===1&&_n[0]!==void 0&&typeof _n[0]!="string")throw new TypeError("display expects the second argument to be a string");return Xt((0,gt.stringify)(nn),_n[0]),nn},jt=(nn,..._n)=>{if(_n.length===1&&_n[0]!==void 0&&typeof _n[0]!="string")throw new TypeError("display_list expects the second argument to be a string");return tt.rawDisplayList(rn,nn,_n[0])},Vt=nn=>{const _n=Date.now(),fn=Ot.prompt(nn,"",Pt.externalContext);return Pt.nativeStorage.maxExecTime+=Date.now()-_n,fn},en=nn=>{const _n=Date.now();Ot.alert(nn,"",Pt.externalContext),Pt.nativeStorage.maxExecTime+=Date.now()-_n},ln=(...nn)=>(Ot.visualiseList(nn,Pt.externalContext),nn[0]);if(Pt.chapter>=1){kt(Pt,"get_time()",rt.get_time),kt(Pt,"display(val, prepend = undefined)",rn,1),kt(Pt,"raw_display(str, prepend = undefined)",Xt,1),kt(Pt,"stringify(val, indent = 2, maxLineLength = 80)",gt.stringify,1),kt(Pt,"error(str, prepend = undefined)",rt.error_message,1),kt(Pt,"prompt(str)",Vt),kt(Pt,"is_number(val)",rt.is_number),kt(Pt,"is_string(val)",rt.is_string),kt(Pt,"is_function(val)",rt.is_function),kt(Pt,"is_boolean(val)",rt.is_boolean),kt(Pt,"is_undefined(val)",rt.is_undefined),kt(Pt,"parse_int(str, radix)",rt.parse_int),kt(Pt,"char_at(str, index)",rt.char_at),kt(Pt,"arity(f)",rt.arity),kt(Pt,"undefined",void 0),kt(Pt,"NaN",NaN),kt(Pt,"Infinity",1/0);const nn=Object.getOwnPropertyNames(Math),_n=[..."abcdefghijklmnopqrstuvwxyz"];for(const fn of nn){const wn=Math[fn];if(typeof wn=="function"){let xn,qt;fn==="max"||fn==="min"?(xn="...values",qt=0):xn=_n.slice(0,wn.length).join(", "),kt(Pt,`math_${fn}(${xn})`,wn,qt)}else kt(Pt,`math_${fn}`,wn)}}Pt.chapter>=2&&(Pt.variant===st.Variant.LAZY?(kt(Pt,"pair(left, right)",new ut(tt.pair,!1)),kt(Pt,"list(...values)",new ut(tt.list,!1),0),kt(Pt,"is_pair(val)",new ut(tt.is_pair,!0)),kt(Pt,"head(xs)",new ut(tt.head,!0)),kt(Pt,"tail(xs)",new ut(tt.tail,!0)),kt(Pt,"is_null(val)",new ut(tt.is_null,!0)),kt(Pt,"draw_data(...xs)",new ut(ln,!0),1),kt(Pt,"is_list(val)",new ut(tt.is_list,!0))):(kt(Pt,"pair(left, right)",tt.pair),kt(Pt,"is_pair(val)",tt.is_pair),kt(Pt,"head(xs)",tt.head),kt(Pt,"tail(xs)",tt.tail),kt(Pt,"is_null(val)",tt.is_null),kt(Pt,"list(...values)",tt.list,0),kt(Pt,"draw_data(...xs)",ln,1),kt(Pt,"display_list(val, prepend = undefined)",jt,0),kt(Pt,"is_list(val)",tt.is_list))),Pt.chapter>=3&&(kt(Pt,"set_head(xs, val)",tt.set_head),kt(Pt,"set_tail(xs, val)",tt.set_tail),kt(Pt,"array_length(arr)",rt.array_length),kt(Pt,"is_array(val)",rt.is_array),kt(Pt,"stream_tail(stream)",_.stream_tail),kt(Pt,"stream(...values)",_.stream,0)),Pt.chapter>=4&&(kt(Pt,"parse(program_string)",nn=>j.parse(nn,Wt(Pt.chapter))),kt(Pt,"tokenize(program_string)",nn=>j.tokenize(nn,Wt(Pt.chapter))),kt(Pt,"apply_in_underlying_javascript(fun, args)",(nn,_n)=>nn.apply(nn,(0,at.list_to_vector)(_n))),Pt.variant===st.Variant.GPU&&(kt(Pt,"__clearKernelCache()",a.__clearKernelCache),kt(Pt,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",a.__createKernelSource))),Pt.chapter===st.Chapter.LIBRARY_PARSER&&(kt(Pt,"is_object(val)",rt.is_object),kt(Pt,"is_NaN(val)",rt.is_NaN),kt(Pt,"has_own_property(obj, prop)",rt.has_own_property),kt(Pt,"alert(val)",en),kt(Pt,"timed(fun)",nn=>rt.timed(Pt,nn,Pt.externalContext,Ot.rawDisplay))),Pt.variant===st.Variant.LAZY&&(kt(Pt,"wrapLazyCallee(f)",new ut(ft.wrapLazyCallee,!0)),kt(Pt,"makeLazyFunction(f)",new ut(ft.makeLazyFunction,!0)),kt(Pt,"forceIt(val)",new ut(ft.forceIt,!0)),kt(Pt,"delayIt(xs)",new ut(ft.delayIt,!0)))};i.importBuiltins=Rt;function Lt(Pt){let Ot="";Pt.chapter>=2&&(Ot+=Pt.variant===st.Variant.LAZY?it.lazyListPrelude:ot.listPrelude),Pt.chapter>=3&&(Ot+=$.streamPrelude),Pt.variant===st.Variant.NON_DET&&(Ot+=nt.nonDetPrelude),Ot!==""&&(Pt.prelude=Ot)}const Mt={rawDisplay:rt.rawDisplay,prompt:rt.rawDisplay,alert:rt.rawDisplay,visualiseList:Pt=>{throw new Error("List visualizer is not enabled")}},Wt=(Pt=st.Chapter.SOURCE_1,Ot=st.Variant.DEFAULT,Xt=[],rn,jt=Mt)=>{if(Pt===st.Chapter.FULL_JS)return Object.assign(Object.assign({},Wt(st.Chapter.SOURCE_4,Ot,Xt,rn,jt)),{chapter:st.Chapter.FULL_JS});const Vt=(0,i.createEmptyContext)(Pt,Ot,Xt,rn);return(0,i.importBuiltins)(Vt,jt),Lt(Vt),(0,i.importExternalSymbols)(Vt,Xt),Vt};i.default=Wt}(createContext)),createContext}Object.defineProperty(sicp,"__esModule",{value:!0});const createContext_1=requireCreateContext(),dict=createContext_1.default(4).nativeStorage.builtins;dict.get("get_time");dict.get("display");dict.get("raw_display");const stringify=dict.get("stringify");dict.get("error");dict.get("prompt");const is_number=dict.get("is_number"),is_string=dict.get("is_string"),is_function=dict.get("is_function"),is_boolean=dict.get("is_boolean"),is_undefined=dict.get("is_undefined");dict.get("parse_int");dict.get("char_at");const arity=dict.get("arity");dict.get("math_abs");dict.get("math_acos");dict.get("math_acosh");dict.get("math_asin");dict.get("math_asinh");dict.get("math_atan");dict.get("math_atanh");dict.get("math_atan2");dict.get("math_ceil");dict.get("math_cbrt");dict.get("math_expm1");dict.get("math_clz32");dict.get("math_cos");dict.get("math_cosh");dict.get("math_exp");dict.get("math_floor");dict.get("math_fround");dict.get("math_hypot");dict.get("math_imul");dict.get("math_log");dict.get("math_log1p");dict.get("math_log2");dict.get("math_log10");dict.get("math_max");dict.get("math_min");dict.get("math_pow");dict.get("math_random");dict.get("math_round");dict.get("math_sign");dict.get("math_sin");dict.get("math_sinh");dict.get("math_sqrt");dict.get("math_tan");dict.get("math_tanh");dict.get("math_trunc");dict.get("math_E");dict.get("math_LN10");dict.get("math_LN2");dict.get("math_LOG10E");dict.get("math_LOG2E");dict.get("math_PI");dict.get("math_SQRT1_2");dict.get("math_SQRT2");const pair=dict.get("pair"),is_pair=dict.get("is_pair"),head=dict.get("head"),tail=dict.get("tail"),is_null=dict.get("is_null"),list=dict.get("list");dict.get("draw_data");dict.get("display_list");dict.get("is_list");dict.get("set_head");dict.get("set_tail");dict.get("array_length");dict.get("is_array");const stream_tail=dict.get("stream_tail");dict.get("stream");dict.get("parse");dict.get("tokenize");dict.get("apply_in_underlying_javascript");function equal(i,s){return is_pair(i)?is_pair(s)&&equal(head(i),head(s))&&equal(tail(i),tail(s)):is_null(i)?is_null(s):is_number(i)?is_number(s)&&i===s:is_boolean(i)?is_boolean(s)&&(i&&s||!i&&!s):is_string(i)?is_string(s)&&i===s:is_undefined(i)?is_undefined(s):is_function(i)?is_function(s)&&i===s:!1}function $length(i,s){return is_null(i)?s:$length(tail(i),s+1)}function length(i){return $length(i,0)}function $map(i,s,a){return is_null(s)?reverse(a):$map(i,tail(s),pair(i(head(s)),a))}function map(i,s){return $map(i,s,null)}function $build_list(i,s,a){return i<0?a:$build_list(i-1,s,pair(s(i),a))}function build_list(i,s){return $build_list(s-1,i,null)}function for_each(i,s){return is_null(s)?!0:(i(head(s)),for_each(i,tail(s)))}function $list_to_string(i,s){return is_null(i)?s("null"):is_pair(i)?$list_to_string(head(i),a=>$list_to_string(tail(i),o=>s("["+a+","+o+"]"))):s(stringify(i))}function list_to_string(i){return $list_to_string(i,s=>s)}function $reverse(i,s){return is_null(i)?s:$reverse(tail(i),pair(head(i),s))}function reverse(i){return $reverse(i,null)}function $append(i,s,a){return is_null(i)?a(s):$append(tail(i),s,o=>a(pair(head(i),o)))}function append(i,s){return $append(i,s,a=>a)}function member(i,s){return is_null(s)?null:i===head(s)?s:member(i,tail(s))}function $remove(i,s,a){const o=append,it=reverse;return is_null(s)?o(it(a),s):i===head(s)?o(it(a),tail(s)):$remove(i,tail(s),pair(head(s),a))}function remove(i,s){return $remove(i,s,null)}function $remove_all(i,s,a){const o=append,it=reverse;return is_null(s)?o(it(a),s):i===head(s)?$remove_all(i,tail(s),a):$remove_all(i,tail(s),pair(head(s),a))}function remove_all(i,s){return $remove_all(i,s,null)}function $filter(i,s,a){return is_null(s)?reverse(a):i(head(s))?$filter(i,tail(s),pair(head(s),a)):$filter(i,tail(s),a)}function filter(i,s){return $filter(i,s,null)}function $enum_list(i,s,a){const o=reverse;return i>s?o(a):$enum_list(i+1,s,pair(i,a))}function enum_list(i,s){return $enum_list(i,s,null)}function list_ref(i,s){return s===0?head(i):list_ref(tail(i),s-1)}function $accumulate(i,s,a,o){return is_null(a)?o(s):$accumulate(i,s,tail(a),it=>o(i(head(a),it)))}function accumulate(i,s,a){return $accumulate(i,s,a,o=>o)}function is_stream(i){return is_null(i)||is_pair(i)&&is_function(tail(i))&&arity(tail(i))===0&&is_stream(stream_tail(i))}function list_to_stream(i){return is_null(i)?null:pair(head(i),()=>list_to_stream(tail(i)))}function stream_to_list(i){return is_null(i)?null:pair(head(i),stream_to_list(stream_tail(i)))}function stream_length(i){return is_null(i)?0:1+stream_length(stream_tail(i))}function stream_map(i,s){return is_null(s)?null:pair(i(head(s)),()=>stream_map(i,stream_tail(s)))}function build_stream(i,s){function a(o){return o>=s?null:pair(i(o),()=>a(o+1))}return a(0)}function stream_for_each(i,s){return is_null(s)?!0:(i(head(s)),stream_for_each(i,stream_tail(s)))}function stream_reverse(i){function s(a,o){return is_null(a)?o:s(stream_tail(a),pair(head(a),()=>o))}return s(i,null)}function stream_append(i,s){return is_null(i)?s:pair(head(i),()=>stream_append(stream_tail(i),s))}function stream_member(i,s){return is_null(s)?null:head(s)===i?s:stream_member(i,stream_tail(s))}function stream_remove(i,s){return is_null(s)?null:i===head(s)?stream_tail(s):pair(head(s),()=>stream_remove(i,stream_tail(s)))}function stream_remove_all(i,s){return is_null(s)?null:i===head(s)?stream_remove_all(i,stream_tail(s)):pair(head(s),()=>stream_remove_all(i,stream_tail(s)))}function stream_filter(i,s){return is_null(s)?null:i(head(s))?pair(head(s),()=>stream_filter(i,stream_tail(s))):stream_filter(i,stream_tail(s))}function enum_stream(i,s){return i>s?null:pair(i,()=>enum_stream(i+1,s))}function integers_from(i){return pair(i,()=>integers_from(i+1))}function eval_stream(i,s){function a(o,it){return it===1?list(head(o)):pair(head(o),a(stream_tail(o),it-1))}return s===0?null:a(i,s)}function stream_ref(i,s){return s===0?head(i):stream_ref(stream_tail(i),s-1)}sicp.equal=equal;sicp.$length=$length;sicp.length=length;sicp.$map=$map;var map_1=sicp.map=map;sicp.$build_list=$build_list;sicp.build_list=build_list;sicp.for_each=for_each;sicp.$list_to_string=$list_to_string;sicp.list_to_string=list_to_string;sicp.$reverse=$reverse;sicp.reverse=reverse;sicp.$append=$append;sicp.append=append;sicp.member=member;sicp.$remove=$remove;sicp.remove=remove;sicp.$remove_all=$remove_all;sicp.remove_all=remove_all;sicp.$filter=$filter;sicp.filter=filter;sicp.$enum_list=$enum_list;sicp.enum_list=enum_list;sicp.list_ref=list_ref;sicp.$accumulate=$accumulate;sicp.accumulate=accumulate;sicp.is_stream=is_stream;sicp.list_to_stream=list_to_stream;sicp.stream_to_list=stream_to_list;sicp.stream_length=stream_length;sicp.stream_map=stream_map;sicp.build_stream=build_stream;sicp.stream_for_each=stream_for_each;sicp.stream_reverse=stream_reverse;sicp.stream_append=stream_append;sicp.stream_member=stream_member;sicp.stream_remove=stream_remove;sicp.stream_remove_all=stream_remove_all;sicp.stream_filter=stream_filter;sicp.enum_stream=enum_stream;sicp.integers_from=integers_from;sicp.eval_stream=eval_stream;sicp.stream_ref=stream_ref;sicp.get_time=dict.get("get_time");sicp.display=dict.get("display");sicp.raw_display=dict.get("raw_display");sicp.stringify=dict.get("stringify");var error_1=sicp.error=dict.get("error");sicp.prompt=dict.get("prompt");sicp.is_number=dict.get("is_number");sicp.is_string=dict.get("is_string");sicp.is_function=dict.get("is_function");sicp.is_boolean=dict.get("is_boolean");sicp.is_undefined=dict.get("is_undefined");sicp.parse_int=dict.get("parse_int");sicp.char_at=dict.get("char_at");sicp.arity=dict.get("arity");sicp.math_abs=dict.get("math_abs");sicp.math_acos=dict.get("math_acos");sicp.math_acosh=dict.get("math_acosh");sicp.math_asin=dict.get("math_asin");sicp.math_asinh=dict.get("math_asinh");sicp.math_atan=dict.get("math_atan");sicp.math_atanh=dict.get("math_atanh");sicp.math_atan2=dict.get("math_atan2");sicp.math_ceil=dict.get("math_ceil");sicp.math_cbrt=dict.get("math_cbrt");sicp.math_expm1=dict.get("math_expm1");sicp.math_clz32=dict.get("math_clz32");sicp.math_cos=dict.get("math_cos");sicp.math_cosh=dict.get("math_cosh");sicp.math_exp=dict.get("math_exp");sicp.math_floor=dict.get("math_floor");sicp.math_fround=dict.get("math_fround");sicp.math_hypot=dict.get("math_hypot");sicp.math_imul=dict.get("math_imul");sicp.math_log=dict.get("math_log");sicp.math_log1p=dict.get("math_log1p");sicp.math_log2=dict.get("math_log2");sicp.math_log10=dict.get("math_log10");sicp.math_max=dict.get("math_max");sicp.math_min=dict.get("math_min");sicp.math_pow=dict.get("math_pow");sicp.math_random=dict.get("math_random");sicp.math_round=dict.get("math_round");sicp.math_sign=dict.get("math_sign");sicp.math_sin=dict.get("math_sin");sicp.math_sinh=dict.get("math_sinh");sicp.math_sqrt=dict.get("math_sqrt");sicp.math_tan=dict.get("math_tan");sicp.math_tanh=dict.get("math_tanh");sicp.math_trunc=dict.get("math_trunc");sicp.math_E=dict.get("math_E");sicp.math_LN10=dict.get("math_LN10");sicp.math_LN2=dict.get("math_LN2");sicp.math_LOG10E=dict.get("math_LOG10E");sicp.math_LOG2E=dict.get("math_LOG2E");sicp.math_PI=dict.get("math_PI");sicp.math_SQRT1_2=dict.get("math_SQRT1_2");sicp.math_SQRT2=dict.get("math_SQRT2");sicp.pair=dict.get("pair");sicp.is_pair=dict.get("is_pair");var head_1=sicp.head=dict.get("head"),tail_1=sicp.tail=dict.get("tail"),is_null_1=sicp.is_null=dict.get("is_null");sicp.list=dict.get("list");sicp.draw_data=dict.get("draw_data");sicp.display_list=dict.get("display_list");sicp.is_list=dict.get("is_list");sicp.set_head=dict.get("set_head");sicp.set_tail=dict.get("set_tail");sicp.array_length=dict.get("array_length");sicp.is_array=dict.get("is_array");sicp.stream_tail=dict.get("stream_tail");sicp.stream=dict.get("stream");var parse_1=sicp.parse=dict.get("parse");sicp.tokenize=dict.get("tokenize");sicp.apply_in_underlying_javascript=dict.get("apply_in_underlying_javascript");function list_to_array(i){return is_null_1(i)?[]:[head_1(i)].concat(list_to_array(tail_1(i)))}function parameters(i){return map_1(s=>head_1(s)==="rest_element"?{tag:"rest",sym:head_1(tail_1(head_1(tail_1(s))))}:head_1(tail_1(s)),i)}function objectify(i){switch(head_1(i)){case"literal":return{tag:"lit",val:head_1(tail_1(i))};case"name":return{tag:"nam",sym:head_1(tail_1(i))};case"application":return{tag:"app",fun:objectify(head_1(tail_1(i))),args:list_to_array(map_1(objectify,head_1(tail_1(tail_1(i)))))};case"logical_composition":return{tag:"log",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"binary_operator_combination":return{tag:"binop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"object_access":return{tag:"arr_acc",arr:objectify(head_1(tail_1(i))),ind:objectify(head_1(tail_1(tail_1(i))))};case"object_assignment":return{tag:"arr_assmt",arr:objectify(head_1(tail_1(head_1(tail_1(i))))),ind:objectify(head_1(tail_1(tail_1(head_1(tail_1(i)))))),expr:objectify(head_1(tail_1(tail_1(i))))};case"array_expression":return{tag:"arr_lit",elems:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"unary_operator_combination":return{tag:"unop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i))))};case"lambda_expression":return{tag:"lam",prms:list_to_array(parameters(head_1(tail_1(i)))),body:objectify(head_1(tail_1(tail_1(i))))};case"sequence":return{tag:"seq",stmts:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"block":return{tag:"blk",body:objectify(head_1(tail_1(i)))};case"variable_declaration":return{tag:"let",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"constant_declaration":return{tag:"const",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"assignment":return{tag:"assmt",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"conditional_statement":return{tag:"cond_stmt",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"while_loop":return{tag:"while",pred:objectify(head_1(tail_1(i))),body:objectify(head_1(tail_1(tail_1(i))))};case"for_loop":return{tag:"for",init:objectify(head_1(tail_1(i))),pred:objectify(head_1(tail_1(tail_1(i)))),upd:objectify(head_1(tail_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(tail_1(i))))))};case"break_statement":return{tag:"break"};case"continue_statement":return{tag:"cont"};case"conditional_expression":return{tag:"cond_expr",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"function_declaration":return{tag:"fun",sym:head_1(tail_1(head_1(tail_1(i)))),prms:list_to_array(parameters(head_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"return_statement":return{tag:"ret",expr:objectify(head_1(tail_1(i)))};case"import_declaration":return{tag:"import",syms:map_1(s=>head_1(tail_1(s)),head_1(tail_1(i))),from:head_1(tail_1(tail_1(i)))};case"this_expression":return{tag:"this"};case"spread_element":return{tag:"spread",sym:head_1(tail_1(head_1(tail_1(i))))};case"property":return{tag:"prop",sym:head_1(tail_1(i))};default:throw error_1(i,"unknown syntax:")}}function parse_into_json(i){const s=objectify(parse_1(i));return JSON.stringify(s)}function parseIntoJsonChunks(i){const s=objectify(parse_1(i));return convertToJsonChunks(s)}function convertToJsonChunks(i,s=1500){if(JSON.stringify(i).length<=s)return[JSON.stringify(i)];switch(i.tag){case"app":case"arr_acc":case"arr_assmt":case"arr_lit":case"assmt":case"binop":case"blk":case"break":case"cond_expr":case"cond_stmt":case"const":case"cont":case"for":case"fun":case"import":case"lam":case"let":case"lit":case"log":case"nam":case"prop":case"ret":return[JSON.stringify(i)];case"seq":const a=[];let o=0;for(const at of i.stmts){if(o+=JSON.stringify(at).length,o>s&&a.length>1)break;a.push(at)}const it=i.stmts.slice(a.length);a.push({tag:"pause_for_input"});const tt={tag:"seq",stmts:a};return[JSON.stringify(tt)].concat(convertToJsonChunks({tag:"seq",stmts:it}));case"spread":case"this":case"unop":case"while":case"pause_for_input":return[JSON.stringify(i)]}}const readUntilPrompt=async(i,s=0,a=()=>{})=>{const o=i.readable.getReader(),it=s&&setTimeout(()=>{throw o.releaseLock(),i.close(),new Error("Timed Out.")},s);let tt="";for(;;){const{value:at,done:ot}=await o.read(),rt=new TextDecoder().decode(at);tt+=rt;const nt=tt.split(`
`);for(const j of nt.slice(0,nt.length))a(j);if(tt=nt[nt.length-1],tt.substring(0,4)==">>> "||ot)return s&&clearTimeout(it),a(tt),o.releaseLock(),ot}},writeLines=async(i,...s)=>{const a=i.writable.getWriter();for(const o of s){const it=new TextEncoder().encode(o+`
`),tt=100;for(let at=0;at<it.length;at+=tt){const ot=it.slice(at,at+tt);await a.write(ot),await sleep(10)}}a.releaseLock()},processRawOutput=i=>{let s=i.trim();const a=[">>>",">OK",">"];for(const it of a)s.startsWith(it)&&(s=s.substring(it.length).trim());const o="raw REPL; CTRL-B to exit";if(s.startsWith(o)&&(s=s.substring(o.length).trim()),!!s)return s},runProgram=async(i,s)=>{console.log("Sending program chunk..."),await writeLines(i,RAW_MODE_ENTER,s,RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(i,0,a=>{const o=processRawOutput(a);o&&console.log(o)}),console.log("Sending chunk complete...")},sleep=i=>new Promise(s=>setTimeout(s,i)),cleanProgram=i=>i.replaceAll(/(^#|\s#) ?.*$/gm,"").replaceAll(/\n\n\n+/gm,`

`),interpreterEvaluatePrelude=`# evaluation of toplevel results
# in the value undefined if the
# stash is empty
C = [{'tag': 'push_undefined_if_needed_i'},
     {'tag': 'blk',
      'body': loads(json_prelude)}]

# machine loops until control is empty
while True:
    if not C:
        break
    cmd = C.pop()
    cse_microcode[cmd['tag']](cmd)

if len(S) > 1 or len(S) < 1:
    raise Exception('internal error: stash must be singleton but is: ', S)
print("prelude loaded")
del json_prelude

# Free up as much memory as possible by triggering
# garbage collection when >5% of remaining free heap space is occupied
gc.collect()
gc.threshold(gc.mem_free() // 20 + gc.mem_alloc())
`,interpreterPrefix=`# LEGO type:standard slot:8 autostart

# CSE-style interpreter for Source \xA73 (JavaScript sublanguage),
# written in MicroPython (sublanguage of Python 3)

# author: Martin Henz, henz@comp.nus.edu.sg

# not available in MicroPython:
# match ... case statement: use dictionary of lambdas

# comment this for testing with Python 3
# uncomment this for testing with MicroPython

import math
import random
import sys
import time

from ujson import loads

######################
# useful helpers
######################


def _reduce(f, iterable, init):
    # Reimplement reduce because functools not in Micropython
    res = init
    for x in iterable:
        res = f(res, x)
    return res


def _scheme_map(f, iterable):
    '''
    Maps like Scheme's \`map\`, not like Python's \`map\`
    '''
    def g(acc, x):
        acc.append(f(x))
        return acc
    return _reduce(g, iterable, [])

######################
# JavaScript values
######################


# We represent JS null by Python None
Null = None

# We need a special value in Python to
# represent JS undefined. (null already taken)
# We (ab)use Python's Ellipsis value for JS undefined.
Undefined = ...


def _is_closure(x):
    # more pythonic would be isinstance(v, Dict),
    # but package typing not available in Micropython
    return type(x) is dict and 'tag' in x and x['tag'] == 'closure'


def _is_builtin(x):
    return type(x) is dict and 'tag' in x and x['tag'] == 'builtin'


def is_string(x):
    return type(x) is str


def value_to_string(x):
    # Printing not speed-critical, so nested conditionals are fine
    if x is Undefined:
        return 'undefined'
    elif x is True:
        return 'true'
    elif x is False:
        return 'false'
    elif x is Null:
        return 'null'
    elif is_string(x):
        # surround characters with double quotes;
        # escape double quote characters within string
        return '"' + _reduce(lambda s, t: s + ('\\\\"' if t == '"' else t), x, '') + '"'
    elif _is_closure(x):
        return '<closure>'
    elif _is_builtin(x):
        return '<builtin>'
    elif type(x) is float:
        return str(int(x)) if x == math.floor(x) else str(x)
    else:
        return str(x)

########################
# operators and builtins
########################


_binop_microcode = {
    '+': lambda x, y: x + y if (type(x) is float and type(y) is float) or
    (type(x) is str and type(y) is str)
    else raise_exception("+ expects two numbers or two strings"),
    '*': lambda x, y: x * y,
    '-': lambda x, y: x - y,
    '/': lambda x, y: x / y,
    '%': lambda x, y: x % y,
    '<': lambda x, y: x < y,
    '<=': lambda x, y: x <= y,
    '>=': lambda x, y: x >= y,
    '>': lambda x, y: x > y,
    '===': lambda x, y: x is y,
    '!==': lambda x, y: not (x is y)
}


def apply_binop(op, v2, v1):
    # \`v2\` is popped before \`v1\`
    return _binop_microcode[op](v1, v2)


_unop_microcode = {
    '-unary': lambda x: - x,
    '!': lambda x: not x if x == bool(x)
    else raise_exception('! expects boolean')
}


def apply_unop(op, v):
    return _unop_microcode[op](v)


def _builtin_microcode_display(args):
    s = str(args[0])
    if len(args) == 2:
        if type(args[1]) is str:
            s = args[1] + ' ' + s
        else:
            raise Exception("display expects string as second argument")
    elif len(args) != 1:
        raise Exception("display expects one or two arguments")
    print(s)
    return args[0]


def _builtin_microcode_error(args):
    s = str(args[0])
    if len(args) == 2:
        if type(args[1]) is str:
            s = args[1] + ' ' + s
        else:
            raise Exception("error expects string as second argument")
    elif len(args) != 1:
        raise Exception("error expects one or two arguments")
    raise Exception(s)


def _builtin_microcode_clz32(args):
    if args[0] < 0:
        return 0
    return float(32 - int(args[0]).bit_length())


def _builtin_microcode_set_head(args):
    args[0][0] = args[1]
    return Undefined


def _builtin_microcode_set_tail(args):
    args[0][1] = args[1]
    return Undefined


def _builtin_microcode_list(args):
    result = Null
    while args:
        result = [args.pop(), result]
    return result


def _is_list(val):
    return val == Null or \\
        (type(val) is list and len(val) == 2 and
            _is_list(val[1]))


def _builtin_microcode_is_list(args):
    return _is_list(args[0])


builtin_microcode = {
    'display': lambda args: _builtin_microcode_display(args),
    'get_time': lambda _: float(int(time.time() * 1000)),
    'stringify': lambda args: str(args[0]),
    'error': _builtin_microcode_error,
    'prompt': lambda args: input(args[0]),
    'is_number': lambda args: type(args[0]) is float,
    'is_string': lambda args: type(args[0]) is str,
    'is_function': lambda args: type(args[0]) is dict and
    (args[0]['tag'] == 'builtin' or
     args[0]['tag'] == 'closure'),
    'is_boolean': lambda args: type(args[0]) is bool,
    'is_undefined': lambda args: args[0] is Undefined,
    'parse_int': lambda args: float(int(args[0], base=int(args[1]))),
    'char_at': lambda args: str(args[0][int(args[1])]),
    'arity': lambda args: float(args[0]['arity']),
    'math_abs': lambda args: float(abs(args[0])),
    'math_acos': lambda args: float(math.acos(args[0])),
    'math_acosh': lambda args: float(math.acosh(args[0])),
    'math_asin': lambda args: float(math.asin(args[0])),
    'math_asinh': lambda args: float(math.asinh(args[0])),
    'math_atan': lambda args: float(math.atan(args[0])),
    'math_atanh': lambda args: float(math.atanh(args[0])),
    'math_atan2': lambda args: float(math.atan2(args[0], args[1])),
    'math_ceil': lambda args: float(math.ceil(args[0])),
    'math_cbrt': lambda args: float(args[0]**(1/3)),
    'math_expm1': lambda args: float(math.expm1(args[0])),
    'math_clz32': lambda args: float(_builtin_microcode_clz32(args[0])),
    'math_cos': lambda args: float(math.cos(args[0])),
    'math_cosh': lambda args: float(math.cosh(args[0])),
    'math_exp': lambda args: float(math.exp(args[0])),
    'math_floor': lambda args: float(math.floor(args[0])),
    'math_fround': lambda args: float(args[0]),          # FIXME
    'math_hypot': lambda args: float(args[0]),           # FIXME
    'math_imul': lambda args: float(args[0] * args[1]),  # FIXME
    'math_log': lambda args: float(math.log(args[0])),
    'math_log1p': lambda args: float(math.log1p(args[0])),
    'math_log2': lambda args: float(math.log2(args[0])),
    'math_log10': lambda args: float(math.log10(args[0])),
    'math_max': lambda args: float(max(args)),
    'math_min': lambda args: float(min(args)),
    'math_pow': lambda args: math.pow(args[0], args[1]),
    'math_random': lambda args: float(random.random()),
    'math_round': lambda args: float(round(args[0])),
    'math_sign': lambda args: float(0 if args[0] == 0 else math.copysign(1, args[0])),
    'math_sin': lambda args: float(math.sin(args[0])),
    'math_sinh': lambda args: float(math.sinh(args[0])),
    'math_sqrt': lambda args: float(math.sqrt(args[0])),
    'math_tanh': lambda args: float(math.tanh(args[0])),
    'math_trunc': lambda args: float(math.trunc(args[0])),
    'pair': lambda args: [args[0], args[1]],
    'is_pair': lambda args: type(args[0]) == list and len(args[0] == 2),
    'head': lambda args: args[0][0],
    'tail': lambda args: args[0][1],
    'is_null': lambda args: args[0] is None,
    'set_head': _builtin_microcode_set_head,
    'set_tail': _builtin_microcode_set_tail,
    'array_length': lambda args: len(args[0]),
    'is_array': lambda args: type(args[0]) is list,
    'list': _builtin_microcode_list,
    'is_list': _builtin_microcode_is_list,
    'display_list': _builtin_microcode_display,  # FIXME
    # stream_tail: moved to prelude
    # stream: moved to prelude
}


def _apply_builtin(builtin_symbol, arity, args):
    return builtin_microcode[builtin_symbol](args)

####################
# environments
####################

# frames are dictionaries mapping symbols (strings) to values


# the global frame has all builtins

# builtin arities other than 1
builtin_arities = {
    'list': 0,
    'stream': 0,
    'get_time': 0,
    'parse_int': 2,
    'char_at': 2,
    'math_atan2': 2,
    'math_hypot': 2,  # according to JS: Math.hypot.length
    'math_min': 2,  # according to JS: Math.min.length
    'math_max': 2,  # according to JS: Math.min.length
    'math_pow': 2,
    'math_random': 0,
    'pair': 2,
    'set_head': 2,
    'set_tail': 2,
    'list': 0,  # according to Source: arity(list)
    'stream': 0,  # according to Source: arity(list)
}

global_frame = {}
for k, v in builtin_microcode.items():
    global_frame[k] = {'tag': 'builtin',
                       'sym': k,
                       'arity': builtin_arities.get(k) or 1}
global_frame['undefined'] = Undefined
global_frame['math_E'] = math.e
global_frame['math_LN10'] = math.log(10)
global_frame['math_LN2'] = math.log(2)
global_frame['math_LOG10E'] = math.log10(math.e)
global_frame['math_LOG2E'] = math.log2(math.e)
global_frame['math_PI'] = math.pi
global_frame['math_SQRT1_2'] = math.sqrt(0.5)
global_frame['math_SQRT2'] = math.sqrt(2)

'''
# include the following lines for working on robot
global_frame['PrimeHub'] = PrimeHub
global_frame['LightMatrix'] = LightMatrix
global_frame['Button'] = Button
global_frame['StatusLight'] = StatusLight
global_frame['ForceSensor'] = ForceSensor
global_frame['MotionSensor'] = MotionSensor
global_frame['Speaker'] = Speaker
global_frame['ColorSensor'] = ColorSensor
global_frame['App'] = App
global_frame['DistanceSensor'] = DistanceSensor
global_frame['Motor'] = Motor
global_frame['MotorPair'] = MotorPair
'''

# environments are None or
# pairs whose head is a frame
# and whose tail is an environment
_empty_environment = None
_global_environment = (global_frame, _empty_environment)


def _lookup(x, e):
    res = _lookup_(x, e, 0)
    return res[0]


def _lookup_(x, e, i):
    if e == None:
        raise Exception('unbound name: ' + x)
    if x in e[0]:
        return (e[0][x], i)
    else:
        return _lookup_(x, e[1], i + 1)


def _extend(xs, vs, e):
    vi = iter(vs)
    result = {}
    for x in xs:
        result[x] = next(vi)
    return (result, e)


def replace(x, v, e):
    if x in e[0]:
        e[0][x] = v
    else:
        replace(x, v, e[1])

####################
# handling sequences
####################


def _value_producing(cmd):
    tag = cmd['tag']
    # Technically speaking, \`pause_for_input\` may be
    # value-producing, however we do not know its value
    # at the time this is called, hence there will be a
    # separate call later on.
    return tag != 'pause_for_input' and \\
        tag != 'let' and \\
        tag != 'const' and \\
        tag != 'fun' and \\
        (tag != 'blk' or _value_producing(cmd['body'])) and \\
        (tag != 'seq' or any(_scheme_map(_value_producing, cmd['stmts'])))


def handle_sequence(seq):
    value_produced = False
    result = []
    for cmd in seq:
        if _value_producing(cmd):
            if value_produced:
                result.append({'tag': 'pop_i'})
            else:
                value_produced = True
        result.append(cmd)
    result.reverse()
    return result

####################
# handling blocks
####################


def _scan(t):
    '''
    Scans out the declarations from (possibly nested)
    sequences of statements, ignoring blocks
    '''
    def f(acc, x):
        acc.extend(_scan(x))
        return acc
    tag = t['tag']
    if tag == 'seq':
        return _reduce(f,
                       t['stmts'],
                       [])
    elif tag == 'let' or tag == 'const' or tag == 'fun':
        return [t['sym']]
    else:
        return []

###############################
# machine overview
###############################

# CSE machine has three registers:
# C: control
# S: stash
# E: environment

###############################
# control C
###############################

# control C is list of commands that still need
# to be executed by the machine

# list follows strict stack discipline:
# pop, extend, append at end of list

# commands are nodes of syntax tree
# or instructions

# instructions are dictionaries whose
# 'tag' ends with '_i'

# control C starts out as singleton list containing
# the given program, wrapped in a block so that
# names declared at program level get allocated
# in a program frame

###############################
# stash S
###############################

# stash S is list of values that stores
# intermediate results

# list follows strict stack discipline:
# pop, extend, append at end of list

# stash S starts out as empty stack
S = []

###############################
# environment E
###############################

# environment E starts out as
# the global environment

E = _global_environment

###############################
# the machine
###############################

# the machine dispaches for each command tag
# to the microcode that belong to the tag

# microcode is a function that takes
# command as argument and returns None


def cse_microcode_nam(cmd):
    v = _lookup(cmd['sym'], E)
    # more pythonic would be isinstance(v, Dict),
    # but package typing not available in Micropython
    if type(v) is dict and 'tag' in v and v['tag'] == 'unassigned':
        raise Exception('unbound local: ' + cmd['sym'])
    else:
        S.append(v)


def cse_microcode_app_i(cmd):
    arity = cmd['arity']
    args = []
    for _ in range(arity):
        args.append(S.pop())
    sf = S.pop()
    if sf['tag'] == 'builtin':
        S.append(_apply_builtin(sf['sym'], arity, args))
    elif sf['tag'] == 'closure':
        global E
        if not C or C[0]['tag'] == 'reset':  # tail call
            C.append(sf['body'])
        elif C[0]['tag'] == 'env_i':  # E no longer needed
            C.extend([{'tag': 'mark'},
                      sf['body']])
        else:
            C.extend([{'tag': 'env_i', 'env': E},
                      {'tag': 'mark'},
                      sf['body']])
        last_arg = args[-1]
        # Source allows last arg to be spread: ...x
        if type(last_arg) is dict and last_arg['tag'] == 'spread':
            spread_list = _lookup(last_arg['sym'], E)
            if not (type(spread_list) is list):
                raise Exception('Source only spreads arrays')
            args.pop()
            args.extend(spread_list)
        prms = sf['prms']
        last_prm = prms[-1]
        if type(last_prm) is dict and last_prm['tag'] == 'rest':
            rest_sym = prms.pop()['sym']
            number_of_regular_prms = len(prms)
            prms.append(rest_sym)
            number_of_args = len(args)
            if number_of_args < number_of_regular_prms:
                raise Exception('too few arguments')
            new_args = args[0:number_of_regular_prms]
            rest_args = args[number_of_regular_prms:number_of_args]
            new_args.append(rest_args)
            args = new_args
        if len(args) > len(prms):
            raise Exception('too many arguments')
        if len(args) < len(prms):
            raise Exception('too few arguments')
        E = _extend(sf['prms'], args, E)


def cse_microcode_blk(cmd):
    global E
    locals = _scan(cmd['body'])
    unassigneds = _scheme_map(lambda _: {'tag': 'unassigned'}, locals)
    C.extend([{'tag': 'env_i', 'env': E}, cmd['body']])
    E = _extend(locals, unassigneds, E)


def cse_microcode_pause_for_input(cmd):
    global E
    next_chunk = sys.stdin.readline()[:-1]
    # "\\x04" is the sequence to trigger compilation in raw mode
    while not next_chunk or next_chunk.strip() == "\\x04":
        next_chunk = sys.stdin.readline()[:-1]
    next_chunk = loads(next_chunk)

    # Similar to handling of \`blk\`
    locals = _scan(next_chunk)
    unassigneds = _scheme_map(lambda _: {'tag': 'unassigned'}, locals)
    C.extend([{'tag': 'env_i', 'env': E}, next_chunk])
    E = _extend(locals, unassigneds, E)


def cse_microcode_arr_lit_i(cmd):
    global S
    a = cmd['arity']
    array = S[- a - 1: len(S)]
    S = S[0: - a]
    S.append(array)


def cse_microcode_arr_acc_i(cmd):
    global S
    ind = S.pop()
    arr = S.pop()
    if type(ind) is dict and 'tag' in ind and ind['tag'] == 'prop':
        S.append(getattr(arr, ind['sym']))
    else:
        S.append(arr[int(ind)])


def cse_microcode_arr_assmt_i(cmd):
    global S
    val = S.pop()
    ind = S.pop()
    arr = S.pop()
    arr[ind] = val
    S.append(val)


def cse_microcode_env_i(cmd):
    global E
    E = cmd['env']


def rev(xs):
    xs.reverse()
    return xs


def raise_exception(s): raise Exception(s)
`,interpreterPrefix2=`cse_microcode = {
    ##########################
    # expressions of Source \xA73
    ##########################
    'lit':
    lambda cmd: S.append(float(cmd['val']) if type(
        cmd['val']) is int else cmd['val']),
    'nam':
    cse_microcode_nam,
    'unop':
    lambda cmd: C.extend([{'tag': 'unop_i', 'sym': cmd['sym']},
                          cmd['frst']]),
    'binop':
    lambda cmd: C.extend([{'tag': 'binop_i', 'sym': cmd['sym']},
                          cmd['scnd'],
                          cmd['frst']]),
    'log':
    lambda cmd: C.append({'tag': 'cond_expr',
                          'pred': cmd['frst'],
                          'cons': {'tag': 'lit', 'val': True},
                          'alt': cmd['scnd']}
                         if cmd['sym'] == '&&'
                         else
                         {'tag': 'cond_expr',
                          'pred': cmd['frst'],
                          'cons': cmd['scnd'],
                          'alt': {'tag': 'lit', 'val': False}}),
    'cond_expr':
    lambda cmd: C.extend([{'tag': 'branch_i',
                           'cons': cmd['cons'],
                           'alt': cmd['alt']},
                          cmd['pred']
                          ]),
    'app':
    lambda cmd: C.extend(
        [{'tag': 'app_i', 'arity': len(cmd['args'])}] + cmd['args'] + [cmd['fun']]),
    'assmt':
    lambda cmd: C.extend([{'tag': 'assmt_i', 'sym': cmd['sym']},
                          cmd['expr']]),
    'lam':
    lambda cmd: S.append({'tag': 'closure',
                          'prms': cmd['prms'],
                          'body': cmd['body'],
                          'env': E}),
    'spread':
    lambda cmd: S.append(cmd),
    'arr_lit':
    lambda cmd: C.extend(
        [{'tag': 'arr_lit_i', 'arity': len(cmd['elems'])}] + rev(cmd['elems'])),
    'arr_acc':
    lambda cmd: C.extend([{'tag': 'arr_acc_i'},
                          cmd['ind'],
                          cmd['arr']]),
    'arr_assmt':
    lambda cmd: C.extend([{'tag': 'arr_assmt_i'},
                          cmd['expr'],
                          cmd['ind'],
                          cmd['arr']]),
    #########################
    # statements of Source \xA73
    #########################
    'import':
    lambda _: raise_exception('import not available in MicroSource'),
    'seq':
    lambda cmd: C.extend(handle_sequence(cmd['stmts'])),
    'cond_stmt':
    # conditional statements are value-producing; thus
    # insert push_undefined_if_needed_i instruction
    # (as optimization, we could avoid this for non-top-level)
    lambda cmd: C.extend([{'tag': 'push_undefined_if_needed_i'},
                          {'tag': 'branch_i',
                           'cons': cmd['cons'],
                           'alt': cmd['alt']},
                          cmd['pred']
                          ]),
    'blk':
    cse_microcode_blk,
    # let and const are not value-producing,
    # but assmt pushes value. thus need to pop
    'let':
    lambda cmd: C.extend([{'tag': 'pop_i'},
                          {'tag': 'assmt',
                           'sym': cmd['sym'],
                           'expr': cmd['expr']}]),
    'const':
    lambda cmd: C.extend([{'tag': 'pop_i'},
                          {'tag': 'assmt',
                           'sym': cmd['sym'],
                           'expr': cmd['expr']}]),
    'ret':
    lambda cmd: C.extend([{'tag': 'reset_i'},
                          cmd['expr']]),
    'fun':
    lambda cmd: C.append({'tag': 'const',
                          'sym': cmd['sym'],
                          'expr': {'tag': 'lam',
                                   'prms': cmd['prms'],
                                   'body': cmd['body']}
                          }),
    'while':
    lambda cmd: C.extend([{'tag': 'while_i',
                           'pred': cmd['pred'],
                           'body': cmd['body']},
                          cmd['pred'],
                          {'tag': 'lit', 'val': Undefined}]),
    'for':  # follow https://docs.sourceacademy.org/source_3.pdf
    lambda cmd: C.append(
        {'tag': 'blk',
         'body':
         {'tag': 'seq',
          'stmts':
          [cmd['init'],
           {'tag': 'while',
            'pred': cmd['pred'],
            'body':
            {'tag': 'blk',
             'body':
             {'tag': 'seq',
              'stmts':
              [{'tag': 'const',
                'sym': '_copy_of_' +
                cmd['init']['sym'],
                'expr': {'tag': 'nam',
                         'sym': cmd['init']['sym']}
                },
               {'tag': 'blk',
                'body':
                {'tag': 'seq',
                 'stmts':
                 [{'tag': 'const',
                   'sym': cmd['init']['sym'],
                   'expr': {'tag': 'nam',
                            'sym': '_copy_of_' +
                            cmd['init']['sym']}},
                  cmd['body']]}},
               cmd['upd']
               ]}}}]}})
    if cmd['init']['tag'] == 'let'
    else
    C.append(
        {'tag': 'seq',
         'stmts':
            [cmd['init'],
             {'tag': 'while',
              'pred': cmd['pred'],
              'body':
                 {'tag': 'seq',
                  'stmts':
                     [cmd['body'],
                      cmd['upd']
                      ]}}]}),
    'prop':
    lambda cmd: S.append(cmd),
    #############################
    # instructions of CSE machine
    #############################
    'pause_for_input': cse_microcode_pause_for_input,
    'reset_i':
    lambda cmd: None
    if C.pop()['tag'] == 'mark'  # mark found: stop loop
    else C.append(cmd),  # otherwise continue loop
    'while_i':
    lambda cmd: C.extend([cmd,
                          cmd['pred'],
                          {'tag': 'push_undefined_if_needed_i'},
                          cmd['body'],
                          {'tag': 'pop_i'}])  # pop previous body value
    if S.pop()
    else None,
    'assmt_i':  # peek top of stash without popping:
    # assignments are value-producing
    lambda cmd: replace(cmd['sym'], S[-1], E),
    'unop_i':
    lambda cmd: S.append(apply_unop(cmd['sym'], S.pop())),
    'binop_i':
    lambda cmd: S.append(apply_binop(cmd['sym'], S.pop(), S.pop())),
    'pop_i':
    lambda _: S.pop(),
    'app_i':
    cse_microcode_app_i,
    'branch_i':
    lambda cmd: C.append(cmd['cons'] if S.pop() else cmd['alt']),
    'env_i':
    cse_microcode_env_i,
    'push_undefined_if_needed_i':
    lambda _: None if S else S.append(Undefined),
    'arr_lit_i':
    cse_microcode_arr_lit_i,
    'arr_acc_i':
    cse_microcode_arr_acc_i,
    'arr_assmt_i':
    cse_microcode_arr_assmt_i
}
`,interpreterSuffix=`# Clear stash after evaluating prelude
S = []

# evaluation of toplevel results
# in the value undefined if the
# stash is empty
C = [{'tag': 'push_undefined_if_needed_i'},
     {'tag': 'blk',
      'body': loads(json_string)}]

# machine loops until control is empty
while True:
    if not C:
        break
    cmd = C.pop()
    cse_microcode[cmd['tag']](cmd)

if len(S) > 1 or len(S) < 1:
    raise Exception('internal error: stash must be singleton but is: ', S)
print("output: " + value_to_string(S[0]))
`,spikeMicrocode=`import gc

import hub
from spike import Motor

builtin_microcode.update({
    'spike_showImage': lambda args: hub.display.show(hub.Image(args[0])),
    'spike_sleep': lambda args: time.sleep(args[0]),
    'spike_getTemperature': lambda _: hub.temperature(),
    'spike_showText': lambda args:  hub.display.show(args[0]),
    # \`hub.sound.beep\` expects int arguments, not float
    'spike_playSound': lambda args: hub.sound.beep(int(args[0]), int(args[1]), hub.sound.SOUND_SIN),

    # We expect students to only have one of each sensor (as it comes from the base kit).
    'spike_colorSensor': lambda _: getattr(hub.port, list(filter(lambda k: len(hub.status()['port'][k]) == 5, 'ABCDEF'))[0]).device,
    'spike_distanceSensor': lambda _: getattr(hub.port, list(filter(lambda k: len(hub.status()['port'][k]) == 1, 'ABCDEF'))[0]).device,
    'spike_forceSensor': lambda _: getattr(hub.port, list(filter(lambda k: len(hub.status()['port'][k]) == 3, 'ABCDEF'))[0]).device,
    # Color sensor
    'spike_getReflectedLightIntensity': lambda args: args[0].get()[0],
    'spike_getColor': lambda args: args[0].get()[1],
    # Force sensor
    'spike_getTouchStrength': lambda args: args[0].get()[0],
    'spike_getIsTouched': lambda args: args[0].get()[1] == 1,
    # Distance sensor
    'spike_getCentimetres': lambda args: args[0].get()[0] or float('inf'),

    # For motors, we unfortunately have to use a more declarative syntax, specifying the port manually
    'spike_motorA': lambda _: Motor('A'),
    'spike_motorB': lambda _: Motor('B'),
    'spike_motorC': lambda _: Motor('C'),
    'spike_motorD': lambda _: Motor('D'),
    'spike_motorE': lambda _: Motor('E'),
    'spike_motorF': lambda _: Motor('F'),
    'spike_runForDegrees': lambda args: args[0].run_for_degrees(int(args[1])),
})

# We need to update some stuff; aka run the following lines again.
# The following lines are taken from interpreter_prefix.py
for k, v in builtin_microcode.items():
    global_frame[k] = {'tag': 'builtin',
                       'sym': k,
                       'arity': builtin_arities.get(k) or 1}


# Free up as much memory as possible by triggering
# garbage collection when >5% of remaining free heap space is occupied
gc.collect()
gc.threshold(gc.mem_free() // 20 + gc.mem_alloc())
`,sourceThreePrelude01=`// Source \xA73 Prelude

// equal computes the structural equality
// over its arguments
// NOTE: We have to split this into parts because the amount of
//       function calls results in a very large JSON object that
//       would otherwise cause an out of memory error.
function equal(xs, ys) {
  return is_pair(xs)
    ? is_pair(ys) && equal(head(xs), head(ys)) && equal(tail(xs), tail(ys))
    : is_null(xs)
    ? is_null(ys)
    : is_number(xs)
    ? is_number(ys) && xs === ys
    : $equal2(xs, ys);
}
`,sourceThreePrelude02=`// Continued from the previous part
function $equal2(xs, ys) {
  return is_boolean(xs)
    ? is_boolean(ys) && ((xs && ys) || (!xs && !ys))
    : is_string(xs)
    ? is_string(ys) && xs === ys
    : is_undefined(xs)
    ? is_undefined(ys)
    : is_function(xs)
    ? // we know now that xs is a function,
      // but we use an if check anyway to make use of the type predicate
      is_function(ys) && xs === ys
    : false;
}
`,sourceThreePrelude03=`// returns the length of a given argument list
// assumes that the argument is a list
function $length(xs, acc) {
  return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))
function $map(f, xs, acc) {
  return is_null(xs) ? reverse(acc) : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
  return $map(f, xs, null);
}
`,sourceThreePrelude04=`// build_list takes a a function fun as first argument,
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.
function $build_list(i, fun, already_built) {
  return i < 0
    ? already_built
    : $build_list(i - 1, fun, pair(fun(i), already_built));
}
function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.
function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}
`,sourceThreePrelude05=`// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.
function $list_to_string(xs, cont) {
  return is_null(xs)
    ? cont("null")
    : is_pair(xs)
    ? $list_to_string(head(xs), (x) =>
        $list_to_string(tail(xs), (y) => cont("[" + x + "," + y + "]"))
      )
    : cont(stringify(xs));
}
function list_to_string(xs) {
  return $list_to_string(xs, (x) => x);
}
`,sourceThreePrelude06=`// reverse reverses the argument, assumed to be a list
function $reverse(original, reversed) {
  return is_null(original)
    ? reversed
    : $reverse(tail(original), pair(head(original), reversed));
}
function reverse(xs) {
  return $reverse(xs, null);
}
`,sourceThreePrelude07=`// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.
function $append(xs, ys, cont) {
  return is_null(xs)
    ? cont(ys)
    : $append(tail(xs), ys, (zs) => cont(pair(head(xs), zs)));
}
function append(xs, ys) {
  return $append(xs, ys, (xs) => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list
function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}
`,sourceThreePrelude08=`// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.
function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
    ? app(rev(acc), xs)
    : v === head(xs)
    ? app(rev(acc), tail(xs))
    : $remove(v, tail(xs), pair(head(xs), acc));
}
function remove(v, xs) {
  return $remove(v, xs, null);
}
`,sourceThreePrelude09=`// Similar to remove, but removes all instances of v
// instead of just the first
function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
    ? app(rev(acc), xs)
    : v === head(xs)
    ? $remove_all(v, tail(xs), acc)
    : $remove_all(v, tail(xs), pair(head(xs), acc));
}
function remove_all(v, xs) {
  return $remove_all(v, xs, null);
}
`,sourceThreePrelude10=`// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.
function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}
function filter(pred, xs) {
  return $filter(pred, xs, null);
}
`,sourceThreePrelude11=`// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number
function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end ? rev(acc) : $enum_list(start + 1, end, pair(start, acc));
}
function enum_list(start, end) {
  return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0
function list_ref(xs, n) {
  return n === 0 ? head(xs) : list_ref(tail(xs), n - 1);
}
`,sourceThreePrelude12=`// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))
function $accumulate(f, initial, xs, cont) {
  return is_null(xs)
    ? cont(initial)
    : $accumulate(f, initial, tail(xs), (x) => cont(f(head(xs), x)));
}
function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, (x) => x);
}
`,sourceThreePrelude13=`// Supporting streams in the Scheme style, following
// "stream discipline"
// is_stream recurses down the stream and checks that it ends with the
// empty list null
function is_stream(xs) {
  return (
    is_null(xs) ||
    (is_pair(xs) &&
      is_function(tail(xs)) &&
      arity(tail(xs)) === 0 &&
      is_stream(stream_tail(xs)))
  );
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.
function list_to_stream(xs) {
  return is_null(xs) ? null : pair(head(xs), () => list_to_stream(tail(xs)));
}
`,sourceThreePrelude14=`// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs) ? null : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs) ? 0 : 1 + stream_length(stream_tail(xs));
}
`,sourceThreePrelude15=`// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)), () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument,
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n ? null : pair(fun(i), () => build(i + 1));
  }
  return build(0);
}
`,sourceThreePrelude16=`// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(
          stream_tail(original),
          pair(head(original), () => reversed)
        );
  }
  return rev(xs, null);
}
`,sourceThreePrelude17=`// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs), () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
    ? s
    : stream_member(x, stream_tail(s));
}
`,sourceThreePrelude18=`// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? stream_tail(xs)
    : pair(head(xs), () => stream_remove(v, stream_tail(xs)));
}
`,sourceThreePrelude19=`// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? stream_remove_all(v, stream_tail(xs))
    : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}
`,sourceThreePrelude20=`// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
    ? pair(head(s), () => stream_filter(p, stream_tail(s)))
    : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end ? null : pair(start, () => enum_stream(start + 1, end));
}
`,sourceThreePrelude21=`// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n, () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
  function es(s, n) {
    return n === 1 ? list(head(s)) : pair(head(s), es(stream_tail(s), n - 1));
  }
  return n === 0 ? null : es(s, n);
}
`,sourceThreePrelude22=`// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0 ? head(s) : stream_ref(stream_tail(s), n - 1);
}
`;var extLanguage_tools={exports:{}};(function(i,s){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(a,o,it){var tt=a("./lib/dom"),at=a("./lib/oop"),ot=a("./lib/event_emitter").EventEmitter,rt=a("./lib/lang"),nt=a("./range").Range,j=a("./range_list").RangeList,_=a("./keyboard/hash_handler").HashHandler,$=a("./tokenizer").Tokenizer,et=a("./clipboard"),st={CURRENT_WORD:function(dt){return dt.session.getTextRange(dt.session.getWordRange())},SELECTION:function(dt,mt,Tt){var yt=dt.session.getTextRange();return Tt?yt.replace(/\n\r?([ \t]*\S)/g,`
`+Tt+"$1"):yt},CURRENT_LINE:function(dt){return dt.session.getLine(dt.getCursorPosition().row)},PREV_LINE:function(dt){return dt.session.getLine(dt.getCursorPosition().row-1)},LINE_INDEX:function(dt){return dt.getCursorPosition().row},LINE_NUMBER:function(dt){return dt.getCursorPosition().row+1},SOFT_TABS:function(dt){return dt.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(dt){return dt.session.getTabSize()},CLIPBOARD:function(dt){return et.getText&&et.getText()},FILENAME:function(dt){return/[^/\\]*$/.exec(this.FILEPATH(dt))[0]},FILENAME_BASE:function(dt){return/[^/\\]*$/.exec(this.FILEPATH(dt))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(dt){return this.FILEPATH(dt).replace(/[^/\\]*$/,"")},FILEPATH:function(dt){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(dt){var mt=dt.session.$mode||{};return mt.blockComment&&mt.blockComment.start||""},BLOCK_COMMENT_END:function(dt){var mt=dt.session.$mode||{};return mt.blockComment&&mt.blockComment.end||""},LINE_COMMENT:function(dt){var mt=dt.session.$mode||{};return mt.lineCommentStart||""},CURRENT_YEAR:lt.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:lt.bind(null,{year:"2-digit"}),CURRENT_MONTH:lt.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:lt.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:lt.bind(null,{month:"short"}),CURRENT_DATE:lt.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:lt.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:lt.bind(null,{weekday:"short"}),CURRENT_HOUR:lt.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:lt.bind(null,{minute:"2-digit"}),CURRENT_SECOND:lt.bind(null,{second:"2-digit"})};st.SELECTED_TEXT=st.SELECTION;function lt(dt){var mt=new Date().toLocaleString("en-us",dt);return mt.length==1?"0"+mt:mt}var ft=function(){this.snippetMap={},this.snippetNameMap={}};(function(){at.implement(this,ot),this.getTokenizer=function(){return ft.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function dt(yt){return yt=yt.substr(1),/^\d+$/.test(yt)?[{tabstopId:parseInt(yt,10)}]:[{text:yt}]}function mt(yt){return"(?:[^\\\\"+yt+"]|\\\\.)"}var Tt={regex:"/("+mt("/")+"+)/",onMatch:function(yt,ht,xt){var wt=xt[0];return wt.fmtString=!0,wt.guard=yt.slice(1,-1),wt.flag="",""},next:"formatString"};return ft.$tokenizer=new $({start:[{regex:/\\./,onMatch:function(yt,ht,xt){var wt=yt[1];return(wt=="}"&&xt.length||"`$\\".indexOf(wt)!=-1)&&(yt=wt),[yt]}},{regex:/}/,onMatch:function(yt,ht,xt){return[xt.length?xt.shift():yt]}},{regex:/\$(?:\d+|\w+)/,onMatch:dt},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(yt,ht,xt){var wt=dt(yt.substr(1));return xt.unshift(wt[0]),wt},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+mt("\\|")+"*\\|",onMatch:function(yt,ht,xt){var wt=yt.slice(1,-1).replace(/\\[,|\\]|,/g,function(kt){return kt.length==2?kt[1]:"\0"}).split("\0").map(function(kt){return{value:kt}});return xt[0].choices=wt,[wt[0]]},next:"start"},Tt,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(yt,ht,xt){return xt.length&&xt[0].expectElse?(xt[0].expectElse=!1,xt[0].ifEnd={elseEnd:xt[0]},[xt[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(yt,ht,xt){var wt=yt[1];return wt=="}"&&xt.length||"`$\\".indexOf(wt)!=-1?yt=wt:wt=="n"?yt=`
`:wt=="t"?yt="	":"ulULE".indexOf(wt)!=-1&&(yt={changeCase:wt,local:wt>"a"}),[yt]}},{regex:"/\\w*}",onMatch:function(yt,ht,xt){var wt=xt.shift();return wt&&(wt.flag=yt.slice(1,-1)),this.next=wt&&wt.tabstopId?"start":"",[wt||yt]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(yt,ht,xt){return[{text:yt.slice(1)}]}},{regex:/\${\w+/,onMatch:function(yt,ht,xt){var wt={text:yt.slice(2)};return xt.unshift(wt),[wt]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(yt,ht,xt){var wt=xt.shift();return this.next=wt&&wt.tabstopId?"start":"",[wt||yt]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(yt,ht,xt){var wt=xt[0];return wt.formatFunction=yt.slice(2,-1),[xt.shift()]},next:"formatString"},Tt,{regex:/:[\?\-+]?/,onMatch:function(yt,ht,xt){yt[1]=="+"&&(xt[0].ifEnd=xt[0]),yt[1]=="?"&&(xt[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),ft.$tokenizer},this.tokenizeTmSnippet=function(dt,mt){return this.getTokenizer().getLineTokens(dt,mt).tokens.map(function(Tt){return Tt.value||Tt})},this.getVariableValue=function(dt,mt,Tt){if(/^\d+$/.test(mt))return(this.variables.__||{})[mt]||"";if(/^[A-Z]\d+$/.test(mt))return(this.variables[mt[0]+"__"]||{})[mt.substr(1)]||"";if(mt=mt.replace(/^TM_/,""),!this.variables.hasOwnProperty(mt))return"";var yt=this.variables[mt];return typeof yt=="function"&&(yt=this.variables[mt](dt,mt,Tt)),yt==null?"":yt},this.variables=st,this.tmStrFormat=function(dt,mt,Tt){if(!mt.fmt)return dt;var yt=mt.flag||"",ht=mt.guard;ht=new RegExp(ht,yt.replace(/[^gim]/g,""));var xt=typeof mt.fmt=="string"?this.tokenizeTmSnippet(mt.fmt,"formatString"):mt.fmt,wt=this,kt=dt.replace(ht,function(){var Ct=wt.variables.__;wt.variables.__=[].slice.call(arguments);for(var Rt=wt.resolveVariables(xt,Tt),Lt="E",Mt=0;Mt<Rt.length;Mt++){var Wt=Rt[Mt];if(typeof Wt=="object")if(Rt[Mt]="",Wt.changeCase&&Wt.local){var Pt=Rt[Mt+1];Pt&&typeof Pt=="string"&&(Wt.changeCase=="u"?Rt[Mt]=Pt[0].toUpperCase():Rt[Mt]=Pt[0].toLowerCase(),Rt[Mt+1]=Pt.substr(1))}else Wt.changeCase&&(Lt=Wt.changeCase);else Lt=="U"?Rt[Mt]=Wt.toUpperCase():Lt=="L"&&(Rt[Mt]=Wt.toLowerCase())}return wt.variables.__=Ct,Rt.join("")});return kt},this.tmFormatFunction=function(dt,mt,Tt){return mt.formatFunction=="upcase"?dt.toUpperCase():mt.formatFunction=="downcase"?dt.toLowerCase():dt},this.resolveVariables=function(dt,mt){for(var Tt=[],yt="",ht=!0,xt=0;xt<dt.length;xt++){var wt=dt[xt];if(typeof wt=="string"){Tt.push(wt),wt==`
`?(ht=!0,yt=""):ht&&(yt=/^\t*/.exec(wt)[0],ht=/\S/.test(wt));continue}if(!!wt){if(ht=!1,wt.fmtString){var kt=dt.indexOf(wt,xt+1);kt==-1&&(kt=dt.length),wt.fmt=dt.slice(xt+1,kt),xt=kt}if(wt.text){var Ct=this.getVariableValue(mt,wt.text,yt)+"";wt.fmtString&&(Ct=this.tmStrFormat(Ct,wt,mt)),wt.formatFunction&&(Ct=this.tmFormatFunction(Ct,wt,mt)),Ct&&!wt.ifEnd?(Tt.push(Ct),Rt(wt)):!Ct&&wt.ifEnd&&Rt(wt.ifEnd)}else wt.elseEnd?Rt(wt.elseEnd):(wt.tabstopId!=null||wt.changeCase!=null)&&Tt.push(wt)}}function Rt(Lt){var Mt=dt.indexOf(Lt,xt+1);Mt!=-1&&(xt=Mt)}return Tt},this.insertSnippetForSelection=function(dt,mt){var Tt=dt.getCursorPosition(),yt=dt.session.getLine(Tt.row),ht=dt.session.getTabString(),xt=yt.match(/^\s*/)[0];Tt.column<xt.length&&(xt=xt.slice(0,Tt.column)),mt=mt.replace(/\r/g,"");var wt=this.tokenizeTmSnippet(mt);wt=this.resolveVariables(wt,dt),wt=wt.map(function(fn){return fn==`
`?fn+xt:typeof fn=="string"?fn.replace(/\t/g,ht):fn});var kt=[];wt.forEach(function(fn,wn){if(typeof fn=="object"){var xn=fn.tabstopId,qt=kt[xn];if(qt||(qt=kt[xn]=[],qt.index=xn,qt.value="",qt.parents={}),qt.indexOf(fn)===-1){fn.choices&&!qt.choices&&(qt.choices=fn.choices),qt.push(fn);var Qt=wt.indexOf(fn,wn+1);if(Qt!==-1){var Gt=wt.slice(wn+1,Qt),cn=Gt.some(function(kn){return typeof kn=="object"});cn&&!qt.value?qt.value=Gt:Gt.length&&(!qt.value||typeof qt.value!="string")&&(qt.value=Gt.join(""))}}}}),kt.forEach(function(fn){fn.length=0});var Ct={};function Rt(fn){for(var wn=[],xn=0;xn<fn.length;xn++){var qt=fn[xn];if(typeof qt=="object"){if(Ct[qt.tabstopId])continue;var Qt=fn.lastIndexOf(qt,xn-1);qt=wn[Qt]||{tabstopId:qt.tabstopId}}wn[xn]=qt}return wn}for(var Lt=0;Lt<wt.length;Lt++){var Mt=wt[Lt];if(typeof Mt=="object"){var Wt=Mt.tabstopId,Pt=kt[Wt],Ot=wt.indexOf(Mt,Lt+1);if(Ct[Wt]){Ct[Wt]===Mt&&(delete Ct[Wt],Object.keys(Ct).forEach(function(fn){Pt.parents[fn]=!0}));continue}Ct[Wt]=Mt;var Xt=Pt.value;typeof Xt!="string"?Xt=Rt(Xt):Mt.fmt&&(Xt=this.tmStrFormat(Xt,Mt,dt)),wt.splice.apply(wt,[Lt+1,Math.max(0,Ot-Lt)].concat(Xt,Mt)),Pt.indexOf(Mt)===-1&&Pt.push(Mt)}}var rn=0,jt=0,Vt="";wt.forEach(function(fn){if(typeof fn=="string"){var wn=fn.split(`
`);wn.length>1?(jt=wn[wn.length-1].length,rn+=wn.length-1):jt+=fn.length,Vt+=fn}else fn&&(fn.start?fn.end={row:rn,column:jt}:fn.start={row:rn,column:jt})});var en=dt.getSelectionRange(),ln=dt.session.replace(en,Vt),nn=new gt(dt),_n=dt.inVirtualSelectionMode&&dt.selection.index;nn.addTabstops(kt,en.start,ln,_n)},this.insertSnippet=function(dt,mt){var Tt=this;if(dt.inVirtualSelectionMode)return Tt.insertSnippetForSelection(dt,mt);dt.forEachSelection(function(){Tt.insertSnippetForSelection(dt,mt)},null,{keepOrder:!0}),dt.tabstopManager&&dt.tabstopManager.tabNext()},this.$getScope=function(dt){var mt=dt.session.$mode.$id||"";if(mt=mt.split("/").pop(),mt==="html"||mt==="php"){mt==="php"&&!dt.session.$mode.inlinePhp&&(mt="html");var Tt=dt.getCursorPosition(),yt=dt.session.getState(Tt.row);typeof yt=="object"&&(yt=yt[0]),yt.substring&&(yt.substring(0,3)=="js-"?mt="javascript":yt.substring(0,4)=="css-"?mt="css":yt.substring(0,4)=="php-"&&(mt="php"))}return mt},this.getActiveScopes=function(dt){var mt=this.$getScope(dt),Tt=[mt],yt=this.snippetMap;return yt[mt]&&yt[mt].includeScopes&&Tt.push.apply(Tt,yt[mt].includeScopes),Tt.push("_"),Tt},this.expandWithTab=function(dt,mt){var Tt=this,yt=dt.forEachSelection(function(){return Tt.expandSnippetForSelection(dt,mt)},null,{keepOrder:!0});return yt&&dt.tabstopManager&&dt.tabstopManager.tabNext(),yt},this.expandSnippetForSelection=function(dt,mt){var Tt=dt.getCursorPosition(),yt=dt.session.getLine(Tt.row),ht=yt.substring(0,Tt.column),xt=yt.substr(Tt.column),wt=this.snippetMap,kt;return this.getActiveScopes(dt).some(function(Ct){var Rt=wt[Ct];return Rt&&(kt=this.findMatchingSnippet(Rt,ht,xt)),!!kt},this),kt?(mt&&mt.dryRun||(dt.session.doc.removeInLine(Tt.row,Tt.column-kt.replaceBefore.length,Tt.column+kt.replaceAfter.length),this.variables.M__=kt.matchBefore,this.variables.T__=kt.matchAfter,this.insertSnippetForSelection(dt,kt.content),this.variables.M__=this.variables.T__=null),!0):!1},this.findMatchingSnippet=function(dt,mt,Tt){for(var yt=dt.length;yt--;){var ht=dt[yt];if(!(ht.startRe&&!ht.startRe.test(mt))&&!(ht.endRe&&!ht.endRe.test(Tt))&&!(!ht.startRe&&!ht.endRe))return ht.matchBefore=ht.startRe?ht.startRe.exec(mt):[""],ht.matchAfter=ht.endRe?ht.endRe.exec(Tt):[""],ht.replaceBefore=ht.triggerRe?ht.triggerRe.exec(mt)[0]:"",ht.replaceAfter=ht.endTriggerRe?ht.endTriggerRe.exec(Tt)[0]:"",ht}},this.snippetMap={},this.snippetNameMap={},this.register=function(dt,mt){var Tt=this.snippetMap,yt=this.snippetNameMap,ht=this;dt||(dt=[]);function xt(Ct){return Ct&&!/^\^?\(.*\)\$?$|^\\b$/.test(Ct)&&(Ct="(?:"+Ct+")"),Ct||""}function wt(Ct,Rt,Lt){return Ct=xt(Ct),Rt=xt(Rt),Lt?(Ct=Rt+Ct,Ct&&Ct[Ct.length-1]!="$"&&(Ct=Ct+"$")):(Ct=Ct+Rt,Ct&&Ct[0]!="^"&&(Ct="^"+Ct)),new RegExp(Ct)}function kt(Ct){Ct.scope||(Ct.scope=mt||"_"),mt=Ct.scope,Tt[mt]||(Tt[mt]=[],yt[mt]={});var Rt=yt[mt];if(Ct.name){var Lt=Rt[Ct.name];Lt&&ht.unregister(Lt),Rt[Ct.name]=Ct}Tt[mt].push(Ct),Ct.prefix&&(Ct.tabTrigger=Ct.prefix),!Ct.content&&Ct.body&&(Ct.content=Array.isArray(Ct.body)?Ct.body.join(`
`):Ct.body),Ct.tabTrigger&&!Ct.trigger&&(!Ct.guard&&/^\w/.test(Ct.tabTrigger)&&(Ct.guard="\\b"),Ct.trigger=rt.escapeRegExp(Ct.tabTrigger)),!(!Ct.trigger&&!Ct.guard&&!Ct.endTrigger&&!Ct.endGuard)&&(Ct.startRe=wt(Ct.trigger,Ct.guard,!0),Ct.triggerRe=new RegExp(Ct.trigger),Ct.endRe=wt(Ct.endTrigger,Ct.endGuard,!0),Ct.endTriggerRe=new RegExp(Ct.endTrigger))}Array.isArray(dt)?dt.forEach(kt):Object.keys(dt).forEach(function(Ct){kt(dt[Ct])}),this._signal("registerSnippets",{scope:mt})},this.unregister=function(dt,mt){var Tt=this.snippetMap,yt=this.snippetNameMap;function ht(xt){var wt=yt[xt.scope||mt];if(wt&&wt[xt.name]){delete wt[xt.name];var kt=Tt[xt.scope||mt],Ct=kt&&kt.indexOf(xt);Ct>=0&&kt.splice(Ct,1)}}dt.content?ht(dt):Array.isArray(dt)&&dt.forEach(ht)},this.parseSnippetFile=function(dt){dt=dt.replace(/\r/g,"");for(var mt=[],Tt={},yt=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,ht;ht=yt.exec(dt);){if(ht[1])try{Tt=JSON.parse(ht[1]),mt.push(Tt)}catch{}if(ht[4])Tt.content=ht[4].replace(/^\t/gm,""),mt.push(Tt),Tt={};else{var xt=ht[2],wt=ht[3];if(xt=="regex"){var kt=/\/((?:[^\/\\]|\\.)*)|$/g;Tt.guard=kt.exec(wt)[1],Tt.trigger=kt.exec(wt)[1],Tt.endTrigger=kt.exec(wt)[1],Tt.endGuard=kt.exec(wt)[1]}else xt=="snippet"?(Tt.tabTrigger=wt.match(/^\S*/)[0],Tt.name||(Tt.name=wt)):xt&&(Tt[xt]=wt)}}return mt},this.getSnippetByName=function(dt,mt){var Tt=this.snippetNameMap,yt;return this.getActiveScopes(mt).some(function(ht){var xt=Tt[ht];return xt&&(yt=xt[dt]),!!yt},this),yt}}).call(ft.prototype);var gt=function(dt){if(dt.tabstopManager)return dt.tabstopManager;dt.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=rt.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(dt)};(function(){this.attach=function(dt){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=dt,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(dt){for(var mt=dt.action[0]=="r",Tt=this.selectedTabstop||{},yt=Tt.parents||{},ht=(this.tabstops||[]).slice(),xt=0;xt<ht.length;xt++){var wt=ht[xt],kt=wt==Tt||yt[wt.index];if(wt.rangeList.$bias=kt?0:1,dt.action=="remove"&&wt!==Tt){var Ct=wt.parents&&wt.parents[Tt.index],Rt=wt.rangeList.pointIndex(dt.start,Ct);Rt=Rt<0?-Rt-1:Rt+1;var Lt=wt.rangeList.pointIndex(dt.end,Ct);Lt=Lt<0?-Lt-1:Lt-1;for(var Mt=wt.rangeList.ranges.slice(Rt,Lt),Wt=0;Wt<Mt.length;Wt++)this.removeRange(Mt[Wt])}wt.rangeList.$onChange(dt)}var Pt=this.editor.session;!this.$inChange&&mt&&Pt.getLength()==1&&!Pt.getValue()&&this.detach()},this.updateLinkedFields=function(){var dt=this.selectedTabstop;if(!(!dt||!dt.hasLinkedRanges||!dt.firstNonLinked)){this.$inChange=!0;for(var mt=this.editor.session,Tt=mt.getTextRange(dt.firstNonLinked),yt=0;yt<dt.length;yt++){var ht=dt[yt];if(!!ht.linked){var xt=ht.original,wt=o.snippetManager.tmStrFormat(Tt,xt,this.editor);mt.replace(ht,wt)}}this.$inChange=!1}},this.onAfterExec=function(dt){dt.command&&!dt.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(!!this.editor){for(var dt=this.editor.selection.lead,mt=this.editor.selection.anchor,Tt=this.editor.selection.isEmpty(),yt=0;yt<this.ranges.length;yt++)if(!this.ranges[yt].linked){var ht=this.ranges[yt].contains(dt.row,dt.column),xt=Tt||this.ranges[yt].contains(mt.row,mt.column);if(ht&&xt)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(dt){var mt=this.tabstops.length,Tt=this.index+(dt||1);Tt=Math.min(Math.max(Tt,1),mt),Tt==mt&&(Tt=0),this.selectTabstop(Tt),Tt===0&&this.detach()},this.selectTabstop=function(dt){this.$openTabstops=null;var mt=this.tabstops[this.index];if(mt&&this.addTabstopMarkers(mt),this.index=dt,mt=this.tabstops[this.index],!(!mt||!mt.length)){this.selectedTabstop=mt;var Tt=mt.firstNonLinked||mt;if(mt.choices&&(Tt.cursor=Tt.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(Tt);else{var yt=this.editor.multiSelect;yt.toSingleRange(Tt);for(var ht=0;ht<mt.length;ht++)mt.hasLinkedRanges&&mt[ht].linked||yt.addRange(mt[ht].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(dt,mt,Tt){var yt=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!dt[0]){var ht=nt.fromPoints(Tt,Tt);pt(ht.start,mt),pt(ht.end,mt),dt[0]=[ht],dt[0].index=0}var xt=this.index,wt=[xt+1,0],kt=this.ranges;dt.forEach(function(Ct,Rt){for(var Lt=this.$openTabstops[Rt]||Ct,Mt=0;Mt<Ct.length;Mt++){var Wt=Ct[Mt],Pt=nt.fromPoints(Wt.start,Wt.end||Wt.start);ut(Pt.start,mt),ut(Pt.end,mt),Pt.original=Wt,Pt.tabstop=Lt,kt.push(Pt),Lt!=Ct?Lt.unshift(Pt):Lt[Mt]=Pt,Wt.fmtString||Lt.firstNonLinked&&yt?(Pt.linked=!0,Lt.hasLinkedRanges=!0):Lt.firstNonLinked||(Lt.firstNonLinked=Pt)}Lt.firstNonLinked||(Lt.hasLinkedRanges=!1),Lt===Ct&&(wt.push(Lt),this.$openTabstops[Rt]=Lt),this.addTabstopMarkers(Lt),Lt.rangeList=Lt.rangeList||new j,Lt.rangeList.$bias=0,Lt.rangeList.addList(Lt)},this),wt.length>2&&(this.tabstops.length&&wt.push(wt.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,wt))},this.addTabstopMarkers=function(dt){var mt=this.editor.session;dt.forEach(function(Tt){Tt.markerId||(Tt.markerId=mt.addMarker(Tt,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(dt){var mt=this.editor.session;dt.forEach(function(Tt){mt.removeMarker(Tt.markerId),Tt.markerId=null})},this.removeRange=function(dt){var mt=dt.tabstop.indexOf(dt);mt!=-1&&dt.tabstop.splice(mt,1),mt=this.ranges.indexOf(dt),mt!=-1&&this.ranges.splice(mt,1),mt=dt.tabstop.rangeList.ranges.indexOf(dt),mt!=-1&&dt.tabstop.splice(mt,1),this.editor.session.removeMarker(dt.markerId),dt.tabstop.length||(mt=this.tabstops.indexOf(dt.tabstop),mt!=-1&&this.tabstops.splice(mt,1),this.tabstops.length||this.detach())},this.keyboardHandler=new _,this.keyboardHandler.bindKeys({Tab:function(dt){o.snippetManager&&o.snippetManager.expandWithTab(dt)||(dt.tabstopManager.tabNext(1),dt.renderer.scrollCursorIntoView())},"Shift-Tab":function(dt){dt.tabstopManager.tabNext(-1),dt.renderer.scrollCursorIntoView()},Esc:function(dt){dt.tabstopManager.detach()}})}).call(gt.prototype);var ut=function(dt,mt){dt.row==0&&(dt.column+=mt.column),dt.row+=mt.row},pt=function(dt,mt){dt.row==mt.row&&(dt.column-=mt.column),dt.row-=mt.row};tt.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),o.snippetManager=new ft;var vt=a("./editor").Editor;(function(){this.insertSnippet=function(dt,mt){return o.snippetManager.insertSnippet(this,dt,mt)},this.expandSnippet=function(dt){return o.snippetManager.expandWithTab(this,dt)}}).call(vt.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(a,o,it){var tt=a("../virtual_renderer").VirtualRenderer,at=a("../editor").Editor,ot=a("../range").Range,rt=a("../lib/event"),nt=a("../lib/lang"),j=a("../lib/dom"),_=function(et){var st=new tt(et);st.$maxLines=4;var lt=new at(st);return lt.setHighlightActiveLine(!1),lt.setShowPrintMargin(!1),lt.renderer.setShowGutter(!1),lt.renderer.setHighlightGutterLine(!1),lt.$mouseHandler.$focusTimeout=0,lt.$highlightTagPending=!0,lt},$=function(et){var st=j.createElement("div"),lt=new _(st);et&&et.appendChild(st),st.style.display="none",lt.renderer.content.style.cursor="default",lt.renderer.setStyle("ace_autocomplete"),lt.setOption("displayIndentGuides",!1),lt.setOption("dragDelay",150);var ft=function(){};lt.focus=ft,lt.$isFocused=!0,lt.renderer.$cursorLayer.restartTimer=ft,lt.renderer.$cursorLayer.element.style.opacity=0,lt.renderer.$maxLines=8,lt.renderer.$keepTextAreaAtCursor=!1,lt.setHighlightActiveLine(!1),lt.session.highlight(""),lt.session.$searchHighlight.clazz="ace_highlight-marker",lt.on("mousedown",function(Tt){var yt=Tt.getDocumentPosition();lt.selection.moveToPosition(yt),pt.start.row=pt.end.row=yt.row,Tt.stop()});var gt,ut=new ot(-1,0,-1,1/0),pt=new ot(-1,0,-1,1/0);pt.id=lt.session.addMarker(pt,"ace_active-line","fullLine"),lt.setSelectOnHover=function(Tt){Tt?ut.id&&(lt.session.removeMarker(ut.id),ut.id=null):ut.id=lt.session.addMarker(ut,"ace_line-hover","fullLine")},lt.setSelectOnHover(!1),lt.on("mousemove",function(Tt){if(!gt){gt=Tt;return}if(!(gt.x==Tt.x&&gt.y==Tt.y)){gt=Tt,gt.scrollTop=lt.renderer.scrollTop;var yt=gt.getDocumentPosition().row;ut.start.row!=yt&&(ut.id||lt.setRow(yt),dt(yt))}}),lt.renderer.on("beforeRender",function(){if(gt&&ut.start.row!=-1){gt.$pos=null;var Tt=gt.getDocumentPosition().row;ut.id||lt.setRow(Tt),dt(Tt,!0)}}),lt.renderer.on("afterRender",function(){var Tt=lt.getRow(),yt=lt.renderer.$textLayer,ht=yt.element.childNodes[Tt-yt.config.firstRow];ht!==yt.selectedNode&&yt.selectedNode&&j.removeCssClass(yt.selectedNode,"ace_selected"),yt.selectedNode=ht,ht&&j.addCssClass(ht,"ace_selected")});var vt=function(){dt(-1)},dt=function(Tt,yt){Tt!==ut.start.row&&(ut.start.row=ut.end.row=Tt,yt||lt.session._emit("changeBackMarker"),lt._emit("changeHoverMarker"))};lt.getHoveredRow=function(){return ut.start.row},rt.addListener(lt.container,"mouseout",vt),lt.on("hide",vt),lt.on("changeSelection",vt),lt.session.doc.getLength=function(){return lt.data.length},lt.session.doc.getLine=function(Tt){var yt=lt.data[Tt];return typeof yt=="string"?yt:yt&&yt.value||""};var mt=lt.session.bgTokenizer;return mt.$tokenizeRow=function(Tt){var yt=lt.data[Tt],ht=[];if(!yt)return ht;typeof yt=="string"&&(yt={value:yt});var xt=yt.caption||yt.value||yt.name;function wt(Ot,Xt){Ot&&ht.push({type:(yt.className||"")+(Xt||""),value:Ot})}for(var kt=xt.toLowerCase(),Ct=(lt.filterText||"").toLowerCase(),Rt=0,Lt=0,Mt=0;Mt<=Ct.length;Mt++)if(Mt!=Lt&&(yt.matchMask&1<<Mt||Mt==Ct.length)){var Wt=Ct.slice(Lt,Mt);Lt=Mt;var Pt=kt.indexOf(Wt,Rt);if(Pt==-1)continue;wt(xt.slice(Rt,Pt),""),Rt=Pt+Wt.length,wt(xt.slice(Pt,Rt),"completion-highlight")}return wt(xt.slice(Rt,xt.length),""),yt.meta&&ht.push({type:"completion-meta",value:yt.meta}),yt.message&&ht.push({type:"completion-message",value:yt.message}),ht},mt.$updateOnChange=ft,mt.start=ft,lt.session.$computeWidth=function(){return this.screenWidth=0},lt.isOpen=!1,lt.isTopdown=!1,lt.autoSelect=!0,lt.filterText="",lt.data=[],lt.setData=function(Tt,yt){lt.filterText=yt||"",lt.setValue(nt.stringRepeat(`
`,Tt.length),-1),lt.data=Tt||[],lt.setRow(0)},lt.getData=function(Tt){return lt.data[Tt]},lt.getRow=function(){return pt.start.row},lt.setRow=function(Tt){Tt=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,Tt)),pt.start.row!=Tt&&(lt.selection.clearSelection(),pt.start.row=pt.end.row=Tt||0,lt.session._emit("changeBackMarker"),lt.moveCursorTo(Tt||0,0),lt.isOpen&&lt._signal("select"))},lt.on("changeSelection",function(){lt.isOpen&&lt.setRow(lt.selection.lead.row),lt.renderer.scrollCursorIntoView()}),lt.hide=function(){this.container.style.display="none",this._signal("hide"),lt.isOpen=!1},lt.show=function(Tt,yt,ht){var xt=this.container,wt=window.innerHeight,kt=window.innerWidth,Ct=this.renderer,Rt=Ct.$maxLines*yt*1.4,Lt=Tt.top+this.$borderSize,Mt=Lt>wt/2&&!ht;Mt&&Lt+yt+Rt>wt?(Ct.$maxPixelHeight=Lt-2*this.$borderSize,xt.style.top="",xt.style.bottom=wt-Lt+"px",lt.isTopdown=!1):(Lt+=yt,Ct.$maxPixelHeight=wt-Lt-.2*yt,xt.style.top=Lt+"px",xt.style.bottom="",lt.isTopdown=!0),xt.style.display="";var Wt=Tt.left;Wt+xt.offsetWidth>kt&&(Wt=kt-xt.offsetWidth),xt.style.left=Wt+"px",this._signal("show"),gt=null,lt.isOpen=!0},lt.goTo=function(Tt){var yt=this.getRow(),ht=this.session.getLength()-1;switch(Tt){case"up":yt=yt<=0?ht:yt-1;break;case"down":yt=yt>=ht?-1:yt+1;break;case"start":yt=0;break;case"end":yt=ht;break}this.setRow(yt)},lt.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},lt.$imageSize=0,lt.$borderSize=1,lt};j.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin: 0.9em;
}
.ace_completion-message {
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}`,"autocompletion.css",!1),o.AcePopup=$,o.$singleLineEditor=_}),ace.define("ace/autocomplete/util",["require","exports","module"],function(a,o,it){o.parForEach=function(at,ot,rt){var nt=0,j=at.length;j===0&&rt();for(var _=0;_<j;_++)ot(at[_],function($,et){nt++,nt===j&&rt($,et)})};var tt=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;o.retrievePrecedingIdentifier=function(at,ot,rt){rt=rt||tt;for(var nt=[],j=ot-1;j>=0&&rt.test(at[j]);j--)nt.push(at[j]);return nt.reverse().join("")},o.retrieveFollowingIdentifier=function(at,ot,rt){rt=rt||tt;for(var nt=[],j=ot;j<at.length&&rt.test(at[j]);j++)nt.push(at[j]);return nt},o.getCompletionPrefix=function(at){var ot=at.getCursorPosition(),rt=at.session.getLine(ot.row),nt;return at.completers.forEach(function(j){j.identifierRegexps&&j.identifierRegexps.forEach(function(_){!nt&&_&&(nt=this.retrievePrecedingIdentifier(rt,ot.column,_))}.bind(this))}.bind(this)),nt||this.retrievePrecedingIdentifier(rt,ot.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(a,o,it){var tt=a("./keyboard/hash_handler").HashHandler,at=a("./autocomplete/popup").AcePopup,ot=a("./autocomplete/util"),rt=a("./lib/lang"),nt=a("./lib/dom"),j=a("./snippets").snippetManager,_=a("./config"),$=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new tt,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=rt.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=rt.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new at(document.body||document.documentElement),this.popup.on("click",function(st){this.insertMatch(),st.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(st,lt,ft){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),st.keyBinding.addKeyboardHandler(this.keyboardHandler);var gt=st.renderer;if(this.popup.setRow(this.autoSelect?0:-1),ft)ft&&!lt&&this.detach();else{this.popup.setTheme(st.getTheme()),this.popup.setFontSize(st.getFontSize());var ut=gt.layerConfig.lineHeight,pt=gt.$cursorLayer.getPixelPosition(this.base,!0);pt.left-=this.popup.getTextLeftOffset();var vt=st.container.getBoundingClientRect();pt.top+=vt.top-gt.layerConfig.offset,pt.left+=vt.left-st.renderer.scrollLeft,pt.left+=gt.gutterWidth,this.popup.show(pt,ut)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(st){var lt=this.editor.selection.lead;(lt.row!=this.base.row||lt.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(st){var lt=document.activeElement,ft=this.editor.textInput.getElement(),gt=st.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(st.relatedTarget),ut=this.popup&&this.popup.container;lt!=ft&&lt.parentNode!=ut&&!gt&&lt!=this.tooltipNode&&st.relatedTarget!=ft&&this.detach()},this.mousedownListener=function(st){this.detach()},this.mousewheelListener=function(st){this.detach()},this.goTo=function(st){this.popup.goTo(st)},this.insertMatch=function(st,lt){if(st||(st=this.popup.getData(this.popup.getRow())),!st)return!1;var ft=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),st.completer&&st.completer.insertMatch)st.completer.insertMatch(this.editor,st);else{if(!ft)return!1;if(ft.filterText)for(var gt=this.editor.selection.getAllRanges(),ut=0,pt;pt=gt[ut];ut++)pt.start.column-=ft.filterText.length,this.editor.session.remove(pt);st.snippet?j.insertSnippet(this.editor,st.snippet):this.editor.execCommand("insertstring",st.value||st)}this.completions==ft&&this.detach(),this.editor.endOperation()},this.commands={Up:function(st){st.completer.goTo("up")},Down:function(st){st.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(st){st.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(st){st.completer.goTo("end")},Esc:function(st){st.completer.detach()},Return:function(st){return st.completer.insertMatch()},"Shift-Return":function(st){st.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(st){var lt=st.completer.insertMatch();if(!lt&&!st.tabstopManager)st.completer.goTo("down");else return lt},PageUp:function(st){st.completer.popup.gotoPageUp()},PageDown:function(st){st.completer.popup.gotoPageDown()}},this.gatherCompletions=function(st,lt){var ft=st.getSession(),gt=st.getCursorPosition(),ut=ot.getCompletionPrefix(st);this.base=ft.doc.createAnchor(gt.row,gt.column-ut.length),this.base.$insertRight=!0;var pt=[],vt=st.completers.length;return st.completers.forEach(function(dt,mt){dt.getCompletions(st,ft,gt,ut,function(Tt,yt){!Tt&&yt&&(pt=pt.concat(yt)),lt(null,{prefix:ot.getCompletionPrefix(st),matches:pt,finished:--vt===0})})}),!0},this.showPopup=function(st,lt){this.editor&&this.detach(),this.activated=!0,this.editor=st,st.completer!=this&&(st.completer&&st.completer.detach(),st.completer=this),st.on("changeSelection",this.changeListener),st.on("blur",this.blurListener),st.on("mousedown",this.mousedownListener),st.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,lt)},this.updateCompletions=function(st,lt){if(st&&this.base&&this.completions){var ft=this.editor.getCursorPosition(),gt=this.editor.session.getTextRange({start:this.base,end:ft});if(gt==this.completions.filterText)return;if(this.completions.setFilter(gt),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==gt&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,gt,st);return}if(lt&&lt.matches){var ft=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(ft.row,ft.column),this.base.$insertRight=!0,this.completions=new et(lt.matches),this.openPopup(this.editor,"",st)}var ut=this.gatherCompletionsId,pt=function(yt){if(!!yt.finished)return this.detach()}.bind(this),vt=function(yt){var ht=yt.prefix,xt=yt.matches;this.completions=new et(xt),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(ht);var wt=this.completions.filtered;if(!wt.length||wt.length==1&&wt[0].value==ht&&!wt[0].snippet)return pt(yt);if(this.autoInsert&&wt.length==1&&yt.finished)return this.insertMatch(wt[0]);this.openPopup(this.editor,ht,st)}.bind(this),dt=!0,mt=null;if(this.gatherCompletions(this.editor,function(yt,ht){var xt=ht.prefix,wt=ht&&ht.matches;if(!wt||!wt.length)return pt(ht);if(!(xt.indexOf(ht.prefix)!==0||ut!=this.gatherCompletionsId)){if(dt){mt=ht;return}vt(ht)}}.bind(this)),dt=!1,mt){var Tt=mt;mt=null,vt(Tt)}},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var st=this.popup,lt=st.data,ft=lt&&(lt[st.getHoveredRow()]||lt[st.getRow()]),gt=null;if(!ft||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();if(this.editor.completers.some(function(ut){return ut.getDocTooltip&&(gt=ut.getDocTooltip(ft)),gt}),!gt&&typeof ft!="string"&&(gt=ft),typeof gt=="string"&&(gt={docText:gt}),!gt||!(gt.docHTML||gt.docText))return this.hideDocTooltip();this.showDocTooltip(gt)},this.showDocTooltip=function(st){this.tooltipNode||(this.tooltipNode=nt.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var lt=this.tooltipNode;st.docHTML?lt.innerHTML=st.docHTML:st.docText&&(lt.textContent=st.docText),lt.parentNode||document.body.appendChild(lt);var ft=this.popup,gt=ft.container.getBoundingClientRect();lt.style.top=ft.container.style.top,lt.style.bottom=ft.container.style.bottom,lt.style.display="block",window.innerWidth-gt.right<320?gt.left<320?ft.isTopdown?(lt.style.top=gt.bottom+"px",lt.style.left=gt.left+"px",lt.style.right="",lt.style.bottom=""):(lt.style.top=ft.container.offsetTop-lt.offsetHeight+"px",lt.style.left=gt.left+"px",lt.style.right="",lt.style.bottom=""):(lt.style.right=window.innerWidth-gt.left+"px",lt.style.left=""):(lt.style.left=gt.right+1+"px",lt.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var st=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==st&&this.editor.focus(),this.tooltipNode=null,st.parentNode&&st.parentNode.removeChild(st)}},this.onTooltipClick=function(st){for(var lt=st.target;lt&&lt!=this.tooltipNode;){if(lt.nodeName=="A"&&lt.href){lt.rel="noreferrer",lt.target="_blank";break}lt=lt.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var st=this.popup.container;st&&st.parentNode&&st.parentNode.removeChild(st)}this.editor&&this.editor.completer==this&&this.editor.completer==null,this.popup=null}}).call($.prototype),$.for=function(st){return st.completer||(_.get("sharedPopups")?($.$shared||($.$sharedInstance=new $),st.completer=$.$sharedInstance):(st.completer=new $,st.once("destroy",function(lt,ft){ft.completer.destroy()}))),st.completer},$.startCommand={name:"startAutocomplete",exec:function(st,lt){var ft=$.for(st);ft.autoInsert=!1,ft.autoSelect=!0,ft.showPopup(st,lt),ft.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var et=function(st,lt){this.all=st,this.filtered=st,this.filterText=lt||"",this.exactMatch=!1};(function(){this.setFilter=function(st){if(st.length>this.filterText&&st.lastIndexOf(this.filterText,0)===0)var lt=this.filtered;else var lt=this.all;this.filterText=st,lt=this.filterCompletions(lt,this.filterText),lt=lt.sort(function(gt,ut){return ut.exactMatch-gt.exactMatch||ut.$score-gt.$score||(gt.caption||gt.value).localeCompare(ut.caption||ut.value)});var ft=null;lt=lt.filter(function(gt){var ut=gt.snippet||gt.caption||gt.value;return ut===ft?!1:(ft=ut,!0)}),this.filtered=lt},this.filterCompletions=function(st,lt){var ft=[],gt=lt.toUpperCase(),ut=lt.toLowerCase();e:for(var pt=0,vt;vt=st[pt];pt++){var dt=vt.caption||vt.value||vt.snippet;if(!!dt){var mt=-1,Tt=0,yt=0,ht,xt;if(this.exactMatch){if(lt!==dt.substr(0,lt.length))continue e}else{var wt=dt.toLowerCase().indexOf(ut);if(wt>-1)yt=wt;else for(var kt=0;kt<lt.length;kt++){var Ct=dt.indexOf(ut[kt],mt+1),Rt=dt.indexOf(gt[kt],mt+1);if(ht=Ct>=0&&(Rt<0||Ct<Rt)?Ct:Rt,ht<0)continue e;xt=ht-mt-1,xt>0&&(mt===-1&&(yt+=10),yt+=xt,Tt=Tt|1<<kt),mt=ht}}vt.matchMask=Tt,vt.exactMatch=yt?0:1,vt.$score=(vt.score||0)-yt,ft.push(vt)}}return ft}}).call(et.prototype),o.Autocomplete=$,o.FilteredList=et}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(a,o,it){var tt=a("../range").Range,at=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function ot(nt,j){var _=nt.getTextRange(tt.fromPoints({row:0,column:0},j));return _.split(at).length-1}function rt(nt,j){var _=ot(nt,j),$=nt.getValue().split(at),et=Object.create(null),st=$[_];return $.forEach(function(lt,ft){if(!(!lt||lt===st)){var gt=Math.abs(_-ft),ut=$.length-gt;et[lt]?et[lt]=Math.max(ut,et[lt]):et[lt]=ut}}),et}o.getCompletions=function(nt,j,_,$,et){var st=rt(j,_),lt=Object.keys(st);et(null,lt.map(function(ft){return{caption:ft,value:ft,score:st[ft],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(a,o,it){var tt=a("../snippets").snippetManager,at=a("../autocomplete").Autocomplete,ot=a("../config"),rt=a("../lib/lang"),nt=a("../autocomplete/util"),j=a("../autocomplete/text_completer"),_={getCompletions:function(dt,mt,Tt,yt,ht){if(mt.$mode.completer)return mt.$mode.completer.getCompletions(dt,mt,Tt,yt,ht);var xt=dt.session.getState(Tt.row),wt=mt.$mode.getCompletions(xt,mt,Tt,yt);ht(null,wt)}},$=function(dt){var mt={};return dt.replace(/\${(\d+)(:(.*?))?}/g,function(Tt,yt,ht,xt){return mt[yt]=xt||""}).replace(/\$(\d+?)/g,function(Tt,yt){return mt[yt]})},et={getCompletions:function(dt,mt,Tt,yt,ht){var xt=[],wt=mt.getTokenAt(Tt.row,Tt.column);wt&&wt.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?xt.push("html-tag"):xt=tt.getActiveScopes(dt);var kt=tt.snippetMap,Ct=[];xt.forEach(function(Rt){for(var Lt=kt[Rt]||[],Mt=Lt.length;Mt--;){var Wt=Lt[Mt],Pt=Wt.name||Wt.tabTrigger;!Pt||Ct.push({caption:Pt,snippet:Wt.content,meta:Wt.tabTrigger&&!Wt.name?Wt.tabTrigger+"\u21E5 ":"snippet",type:"snippet"})}},this),ht(null,Ct)},getDocTooltip:function(dt){dt.type=="snippet"&&!dt.docHTML&&(dt.docHTML=["<b>",rt.escapeHTML(dt.caption),"</b>","<hr></hr>",rt.escapeHTML($(dt.snippet))].join(""))}},st=[et,j,_];o.setCompleters=function(dt){st.length=0,dt&&st.push.apply(st,dt)},o.addCompleter=function(dt){st.push(dt)},o.textCompleter=j,o.keyWordCompleter=_,o.snippetCompleter=et;var lt={name:"expandSnippet",exec:function(dt){return tt.expandWithTab(dt)},bindKey:"Tab"},ft=function(dt,mt){gt(mt.session.$mode)},gt=function(dt){typeof dt=="string"&&(dt=ot.$modes[dt]),dt&&(tt.files||(tt.files={}),ut(dt.$id,dt.snippetFileId),dt.modes&&dt.modes.forEach(gt))},ut=function(dt,mt){!mt||!dt||tt.files[dt]||(tt.files[dt]={},ot.loadModule(mt,function(Tt){!Tt||(tt.files[dt]=Tt,!Tt.snippets&&Tt.snippetText&&(Tt.snippets=tt.parseSnippetFile(Tt.snippetText)),tt.register(Tt.snippets||[],Tt.scope),Tt.includeScopes&&(tt.snippetMap[Tt.scope].includeScopes=Tt.includeScopes,Tt.includeScopes.forEach(function(yt){gt("ace/mode/"+yt)})))}))},pt=function(dt){var mt=dt.editor,Tt=mt.completer&&mt.completer.activated;if(dt.command.name==="backspace")Tt&&!nt.getCompletionPrefix(mt)&&mt.completer.detach();else if(dt.command.name==="insertstring"){var yt=nt.getCompletionPrefix(mt);if(yt&&!Tt){var ht=at.for(mt);ht.autoInsert=!1,ht.showPopup(mt)}}},vt=a("../editor").Editor;a("../config").defineOptions(vt.prototype,"editor",{enableBasicAutocompletion:{set:function(dt){dt?(this.completers||(this.completers=Array.isArray(dt)?dt:st),this.commands.addCommand(at.startCommand)):this.commands.removeCommand(at.startCommand)},value:!1},enableLiveAutocompletion:{set:function(dt){dt?(this.completers||(this.completers=Array.isArray(dt)?dt:st),this.commands.on("afterExec",pt)):this.commands.removeListener("afterExec",pt)},value:!1},enableSnippets:{set:function(dt){dt?(this.commands.addCommand(lt),this.on("changeMode",ft),ft(null,this)):(this.commands.removeCommand(lt),this.off("changeMode",ft))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(a){i&&(i.exports=a)})}()})(extLanguage_tools);var modeJavascript={exports:{}};(function(i,s){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,o,it){var tt=a("../lib/oop"),at=a("./text_highlight_rules").TextHighlightRules,ot=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},ot.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};tt.inherits(ot,at),ot.getTagRule=function(rt){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},ot.getStartRule=function(rt){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:rt}},ot.getEndRule=function(rt){return{token:"comment.doc",regex:"\\*\\/",next:rt}},o.DocCommentHighlightRules=ot}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(a,o,it){var tt=a("../lib/oop"),at=a("./doc_comment_highlight_rules").DocCommentHighlightRules,ot=a("./text_highlight_rules").TextHighlightRules,rt="[a-zA-Z\\$_\xA1-\uFFFF][a-zA-Z\\d\\$_\xA1-\uFFFF]*",nt=function($){var et=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),st="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",lt="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[at.getStartRule("doc-start"),_("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+rt+")(\\.)(prototype)(\\.)("+rt+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+rt+")(\\.)("+rt+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+rt+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+rt+")(\\.)("+rt+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+rt+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+rt+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+st+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:et,regex:rt},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+rt+")(\\.)("+rt+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:rt},{regex:"",token:"empty",next:"no_regex"}],start:[at.getStartRule("doc-start"),_("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[_("function_arguments"),{token:"variable.parameter",regex:rt},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:lt},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:lt},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!$||!$.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(ft,gt,ut){if(this.next=ft=="{"?this.nextState:"",ft=="{"&&ut.length)ut.unshift("start",gt);else if(ft=="}"&&ut.length&&(ut.shift(),this.next=ut.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return ft=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:lt},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+rt+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!$||$.jsx!=!1)&&j.call(this)),this.embedRules(at,"doc-",[at.getEndRule("no_regex")]),this.normalizeRules()};tt.inherits(nt,ot);function j(){var $=rt.replace("\\d","\\d\\-"),et={onMatch:function(lt,ft,gt){var ut=lt.charAt(1)=="/"?2:1;return ut==1?(ft!=this.nextState?gt.unshift(this.next,this.nextState,0):gt.unshift(this.next),gt[2]++):ut==2&&ft==this.nextState&&(gt[1]--,(!gt[1]||gt[1]<0)&&(gt.shift(),gt.shift())),[{type:"meta.tag.punctuation."+(ut==1?"":"end-")+"tag-open.xml",value:lt.slice(0,ut)},{type:"meta.tag.tag-name.xml",value:lt.substr(ut)}]},regex:"</?"+$,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(et);var st={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[st,et,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(lt,ft,gt){return ft==gt[0]&&gt.shift(),lt.length==2&&(gt[0]==this.nextState&&gt[1]--,(!gt[1]||gt[1]<0)&&gt.splice(0,2)),this.next=gt[0]||"start",[{type:this.token,value:lt}]},nextState:"jsx"},st,_("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:$},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},et],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function _($){return[{token:"comment",regex:/\/\*/,next:[at.getTagRule(),{token:"comment",regex:"\\*\\/",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[at.getTagRule(),{token:"comment",regex:"$|^",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}o.JavaScriptHighlightRules=nt}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(a,o,it){var tt=a("../range").Range,at=function(){};(function(){this.checkOutdent=function(ot,rt){return/^\s+$/.test(ot)?/^\s*\}/.test(rt):!1},this.autoOutdent=function(ot,rt){var nt=ot.getLine(rt),j=nt.match(/^(\s*\})/);if(!j)return 0;var _=j[1].length,$=ot.findMatchingBracket({row:rt,column:_});if(!$||$.row==rt)return 0;var et=this.$getIndent(ot.getLine($.row));ot.replace(new tt(rt,0,rt,_-1),et)},this.$getIndent=function(ot){return ot.match(/^\s*/)[0]}}).call(at.prototype),o.MatchingBraceOutdent=at}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(a,o,it){var tt=a("../../lib/oop"),at=a("../../range").Range,ot=a("./fold_mode").FoldMode,rt=o.FoldMode=function(nt){nt&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+nt.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+nt.end)))};tt.inherits(rt,ot),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(nt,j,_){var $=nt.getLine(_);if(this.singleLineBlockCommentRe.test($)&&!this.startRegionRe.test($)&&!this.tripleStarBlockCommentRe.test($))return"";var et=this._getFoldWidgetBase(nt,j,_);return!et&&this.startRegionRe.test($)?"start":et},this.getFoldWidgetRange=function(nt,j,_,$){var et=nt.getLine(_);if(this.startRegionRe.test(et))return this.getCommentRegionBlock(nt,et,_);var ft=et.match(this.foldingStartMarker);if(ft){var st=ft.index;if(ft[1])return this.openingBracketBlock(nt,ft[1],_,st);var lt=nt.getCommentFoldRange(_,st+ft[0].length,1);return lt&&!lt.isMultiLine()&&($?lt=this.getSectionRange(nt,_):j!="all"&&(lt=null)),lt}if(j!=="markbegin"){var ft=et.match(this.foldingStopMarker);if(ft){var st=ft.index+ft[0].length;return ft[1]?this.closingBracketBlock(nt,ft[1],_,st):nt.getCommentFoldRange(_,st,-1)}}},this.getSectionRange=function(nt,j){var _=nt.getLine(j),$=_.search(/\S/),et=j,st=_.length;j=j+1;for(var lt=j,ft=nt.getLength();++j<ft;){_=nt.getLine(j);var gt=_.search(/\S/);if(gt!==-1){if($>gt)break;var ut=this.getFoldWidgetRange(nt,"all",j);if(ut){if(ut.start.row<=et)break;if(ut.isMultiLine())j=ut.end.row;else if($==gt)break}lt=j}}return new at(et,st,lt,nt.getLine(lt).length)},this.getCommentRegionBlock=function(nt,j,_){for(var $=j.search(/\s*$/),et=nt.getLength(),st=_,lt=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,ft=1;++_<et;){j=nt.getLine(_);var gt=lt.exec(j);if(!!gt&&(gt[1]?ft--:ft++,!ft))break}var ut=_;if(ut>st)return new at(st,$,ut,j.length)}}.call(rt.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(a,o,it){var tt=a("../lib/oop"),at=a("./text").Mode,ot=a("./javascript_highlight_rules").JavaScriptHighlightRules,rt=a("./matching_brace_outdent").MatchingBraceOutdent,nt=a("../worker/worker_client").WorkerClient,j=a("./behaviour/cstyle").CstyleBehaviour,_=a("./folding/cstyle").FoldMode,$=function(){this.HighlightRules=ot,this.$outdent=new rt,this.$behaviour=new j,this.foldingRules=new _};tt.inherits($,at),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(et,st,lt){var ft=this.$getIndent(st),gt=this.getTokenizer().getLineTokens(st,et),ut=gt.tokens,pt=gt.state;if(ut.length&&ut[ut.length-1].type=="comment")return ft;if(et=="start"||et=="no_regex"){var vt=st.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);vt&&(ft+=lt)}else if(et=="doc-start"){if(pt=="start"||pt=="no_regex")return"";var vt=st.match(/^\s*(\/?)\*/);vt&&(vt[1]&&(ft+=" "),ft+="* ")}return ft},this.checkOutdent=function(et,st,lt){return this.$outdent.checkOutdent(st,lt)},this.autoOutdent=function(et,st,lt){this.$outdent.autoOutdent(st,lt)},this.createWorker=function(et){var st=new nt(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return st.attachToDocument(et.getDocument()),st.on("annotate",function(lt){et.setAnnotations(lt.data)}),st.on("terminate",function(){et.clearAnnotations()}),st},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call($.prototype),o.Mode=$}),function(){ace.require(["ace/mode/javascript"],function(a){i&&(i.exports=a)})}()})(modeJavascript);var modePython={exports:{}};(function(i,s){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,o,it){var tt=a("../lib/oop"),at=a("./text_highlight_rules").TextHighlightRules,ot=function(){var rt="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",nt="True|False|None|NotImplemented|Ellipsis|__debug__",j="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",_=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":j,"variable.language":"self|cls","constant.language":nt,keyword:rt},"identifier"),$="[uU]?",et="[rR]",st="[fF]",lt="(?:[rR][fF]|[fF][rR])",ft="(?:(?:[1-9]\\d*)|(?:0))",gt="(?:0[oO]?[0-7]+)",ut="(?:0[xX][\\dA-Fa-f]+)",pt="(?:0[bB][01]+)",vt="(?:"+ft+"|"+gt+"|"+ut+"|"+pt+")",dt="(?:[eE][+-]?\\d+)",mt="(?:\\.\\d+)",Tt="(?:\\d+)",yt="(?:(?:"+Tt+"?"+mt+")|(?:"+Tt+"\\.))",ht="(?:(?:"+yt+"|"+Tt+")"+dt+")",xt="(?:"+ht+"|"+yt+")",wt=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:$+'"{3}',next:"qqstring3"},{token:"string",regex:$+'"(?=.)',next:"qqstring"},{token:"string",regex:$+"'{3}",next:"qstring3"},{token:"string",regex:$+"'(?=.)",next:"qstring"},{token:"string",regex:et+'"{3}',next:"rawqqstring3"},{token:"string",regex:et+'"(?=.)',next:"rawqqstring"},{token:"string",regex:et+"'{3}",next:"rawqstring3"},{token:"string",regex:et+"'(?=.)",next:"rawqstring"},{token:"string",regex:st+'"{3}',next:"fqqstring3"},{token:"string",regex:st+'"(?=.)',next:"fqqstring"},{token:"string",regex:st+"'{3}",next:"fqstring3"},{token:"string",regex:st+"'(?=.)",next:"fqstring"},{token:"string",regex:lt+'"{3}',next:"rfqqstring3"},{token:"string",regex:lt+'"(?=.)',next:"rfqqstring"},{token:"string",regex:lt+"'{3}",next:"rfqstring3"},{token:"string",regex:lt+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:wt},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:wt},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:wt},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:wt},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:wt},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:wt},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:wt},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:wt},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+xt+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:xt},{token:"constant.numeric",regex:vt+"[lL]\\b"},{token:"constant.numeric",regex:vt+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:_,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};tt.inherits(ot,at),o.PythonHighlightRules=ot}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(a,o,it){var tt=a("../../lib/oop"),at=a("./fold_mode").FoldMode,ot=o.FoldMode=function(rt){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+rt+")(?:\\s*)(?:#.*)?$")};tt.inherits(ot,at),function(){this.getFoldWidgetRange=function(rt,nt,j){var _=rt.getLine(j),$=_.match(this.foldingStartMarker);if($)return $[1]?this.openingBracketBlock(rt,$[1],j,$.index):$[2]?this.indentationBlock(rt,j,$.index+$[2].length):this.indentationBlock(rt,j)}}.call(ot.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(a,o,it){var tt=a("../lib/oop"),at=a("./text").Mode,ot=a("./python_highlight_rules").PythonHighlightRules,rt=a("./folding/pythonic").FoldMode,nt=a("../range").Range,j=function(){this.HighlightRules=ot,this.foldingRules=new rt("\\:"),this.$behaviour=this.$defaultBehaviour};tt.inherits(j,at),function(){this.lineCommentStart="#",this.getNextLineIndent=function($,et,st){var lt=this.$getIndent(et),ft=this.getTokenizer().getLineTokens(et,$),gt=ft.tokens;if(gt.length&&gt[gt.length-1].type=="comment")return lt;if($=="start"){var ut=et.match(/^.*[\{\(\[:]\s*$/);ut&&(lt+=st)}return lt};var _={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function($,et,st){if(st!==`\r
`&&st!=="\r"&&st!==`
`)return!1;var lt=this.getTokenizer().getLineTokens(et.trim(),$).tokens;if(!lt)return!1;do var ft=lt.pop();while(ft&&(ft.type=="comment"||ft.type=="text"&&ft.value.match(/^\s+$/)));return ft?ft.type=="keyword"&&_[ft.value]:!1},this.autoOutdent=function($,et,st){st+=1;var lt=this.$getIndent(et.getLine(st)),ft=et.getTabString();lt.slice(-ft.length)==ft&&et.remove(new nt(st,lt.length-ft.length,st,lt.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}.call(j.prototype),o.Mode=j}),function(){ace.require(["ace/mode/python"],function(a){i&&(i.exports=a)})}()})(modePython);function theme$1(i,s,a){s.isDark=!0,s.cssClass="ace-source",s.cssText=".ace-source .ace_gutter {                        background: #011e3a;                        color: rgb(128,145,160)                        }                        .ace-source .ace_print-margin {                        width: 1px;                        background: #555555                        }                        .ace-source {                        background-color: #002240;                        color: #FFFFFF                        }                        .ace-source .ace_cursor {                        color: #FFFFFF                        }                        .ace-source .ace_marker-layer .ace_selection {                        background: rgba(179, 101, 57, 0.75)                        }                        .ace-source.ace_multiselect .ace_selection.ace_start {                        box-shadow: 0 0 3px 0px #002240;                        }                        .ace-source .ace_marker-layer .ace_step {                        background: rgb(127, 111, 19)                        }                        .ace-source .ace_marker-layer .ace_bracket {                        background: #090;                        }                        .ace-terminal-theme .ace_marker-layer .ace_bracket-start {                        background: #090;                        }                        .ace-terminal-theme .ace_marker-layer .ace_bracket-unmatched {                        margin: -1px 0 0 -1px;                        border: 1px solid #900                        }                        .ace-source .ace_marker-layer .ace_active-line {                        background: rgba(0, 0, 0, 0.35)                        }                        .ace-source .ace_gutter-active-line {                        background-color: rgba(0, 0, 0, 0.35)                        }                        .ace-source .ace_marker-layer .ace_selected-word {                        border: 1px solid rgba(179, 101, 57, 0.75)                        }                        .ace-source .ace_invisible {                        color: rgba(255, 255, 255, 0.15)                        }                        .ace-source .ace_keyword,                        .ace-source .ace_meta {                        color: #FF9D00                        }                        .ace-source .ace_constant,                        .ace-source .ace_constant.ace_character,                        .ace-source .ace_constant.ace_other,                        .ace-source .ace_string,                        .ace-source .ace_string.ace_regexp {                        color: #FF628C                        }                        .ace-source .ace_constant.ace_character.ace_escape {                        color: #FFFFFF                        }                        .ace-source .ace_invalid {                        color: #F8F8F8;                        background-color: #800F00                        }                        .ace-source .ace_support {                        color: #80FFBB                        }                        .ace-source .ace_support.ace_constant {                        color: #EB939A                        }                        .ace-source .ace_fold {                        background-color: #FF9D00;                        border-color: #FFFFFF                        }                        .ace-source .ace_support.ace_function {                        color: #FFFFFF                        }                        .ace-source .ace_builtinconsts {                        color: #FFFFFF                        }                        .ace-source .ace_storage {                        color: #FFEE80                        }                        .ace-source .ace_entity {                        color: #FFDD00                        }                        .ace-source .ace_comment {                        font-style: italic;                        color: #0088FF                        }                        .ace-source .ace_heading,                        .ace-source .ace_markup.ace_heading {                        color: #C8E4FD;                        background-color: #001221                        }                        .ace-source .ace_list,                        .ace-source .ace_markup.ace_list {                        background-color: #130D26                        }                        .ace-source .ace_variable {                        color: #CCCCCC                        }                        .ace-source .ace_variable.ace_language {                        color: #FF80E1                        }                        .ace-source .ace_meta.ace_tag {                        color: #9EFFFF                        }                        .ace-source .ace_indent-guide {                        background: url(data:image/png;base64,                        iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbY                        nAAAAEklEQVQImWNgYGBgYHCLSvkPAAP3AgSDTRd4AAAAAElFTkSuQmCC) right repeat-y                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete {                        background-color: #2c3e50;                        border-color: #555555;                        color: white;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_completion-highlight {                        color: #FF9D00;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_active-line {                        border-color: #555555;                        background-color: #495a6b;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_line-hover {                        border-color: #555555;                        background-color: #6b839a;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content.ace_text-layer .ace_rightAlignedText {                        color: #ced9e0;                        }                        .ace_tooltip.ace_doc-tooltip {                        width: 400px;                        max-height: 40vh;                        white-space: normal;                        overflow: auto;                        background-color: #495a6b;                        color: white;                        border-color:#555555;                        }                        .ace_tooltip.ace_doc-tooltip h4 {                        color: white;                        margin: 0 0 1em;                        }                        .ace_tooltip.ace_doc-tooltip a {                        color: #48aff0;                        }                        ",i("../lib/dom").importCssString(s.cssText,s.cssClass)}ace.define("ace/theme/source",["require","exports","module","ace/lib/dom"],theme$1);const languagePlaceholders={[Languages.PYTHON]:PROGRAM_PLACEHOLDER_PYTHON,[Languages.SOURCE_THREE]:PROGRAM_PLACEHOLDER_SOURCE_THREE},preludes=[sourceThreePrelude01,sourceThreePrelude02,sourceThreePrelude03,sourceThreePrelude04,sourceThreePrelude05,sourceThreePrelude06,sourceThreePrelude07,sourceThreePrelude08,sourceThreePrelude09,sourceThreePrelude10,sourceThreePrelude11,sourceThreePrelude12,sourceThreePrelude13,sourceThreePrelude14,sourceThreePrelude15,sourceThreePrelude16,sourceThreePrelude17,sourceThreePrelude18,sourceThreePrelude19,sourceThreePrelude20,sourceThreePrelude21,sourceThreePrelude22],EditorPage=()=>{const[i,s]=react.exports.useState(""),[a,o]=react.exports.useState(Languages.PYTHON),[it,tt]=react.exports.useState(languagePlaceholders[a]),[at,ot]=react.exports.useState(!1),rt=async()=>{if(a===Languages.SOURCE_THREE)try{parse_into_json(it),s("")}catch(_){s("[ERROR] "+_);return}const j=await navigator.serial.requestPort();switch(await j.open({baudRate:BAUD_RATE_SPIKE_PRIME}),await writeLines(j,KEYBOARD_INTERRUPT),await readUntilPrompt(j,2e3),a){case Languages.PYTHON:await runProgram(j,cleanProgram(it));break;case Languages.SOURCE_THREE:if(await runProgram(j,cleanProgram(interpreterPrefix)),await runProgram(j,cleanProgram(interpreterPrefix2)),await runProgram(j,cleanProgram(spikeMicrocode)),at)for(const et of preludes){console.log("Sending prelude chunk");const st=parse_into_json(et);await writeLines(j,RAW_MODE_ENTER,"json_prelude = '''\\",...st.match(/.{1,1000}/g).map(lt=>lt+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(j,0,lt=>{const ft=processRawOutput(lt);ft&&console.log(ft)}),console.log("Sending prelude chunk complete"),await runProgram(j,cleanProgram(interpreterEvaluatePrelude))}console.log("Sending JSON program");const _=parseIntoJsonChunks(it),$=_[0];await writeLines(j,RAW_MODE_ENTER,"json_string = '''\\",...$.match(/.{1,500}/g).map(et=>et+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(j,0,et=>{const st=processRawOutput(et);st&&console.log(st)}),console.log("Sending JSON program complete"),await writeLines(j,RAW_MODE_ENTER,cleanProgram(interpreterSuffix),RAW_MODE_COMPILE,..._.slice(1).flatMap(et=>[et,RAW_MODE_COMPILE]),RAW_MODE_EXIT),await readUntilPrompt(j,0,et=>{const st=processRawOutput(et);st&&console.log(st)});break}await writeLines(j,END_OF_TRANSMISSION),j.close()},nt=()=>{try{s(parse_into_json(it))}catch(j){s("[ERROR] "+j)}};return react.exports.useEffect(()=>{const j=queryString.parse(location.hash),_=lzString.exports.decompressFromEncodedURIComponent(j.prgrm);_&&(o(Languages.SOURCE_THREE),tt(_))},[]),react.exports.useEffect(()=>{tt(languagePlaceholders[a]),s("")},[a,tt]),jsx(Box,{className:"App",children:jsxs(SimpleGrid,{columns:{sm:1,lg:3},spacingX:{sm:0,lg:8},spacingY:8,children:[jsx(GridItem,{colSpan:2,children:jsxs(Stack,{children:[jsx(Heading,{children:"SEKER: Source\u2013SPIKE Prime Runner"}),jsx(UserGuide,{}),a===Languages.SOURCE_THREE&&jsxs(Text,{fontStyle:"italic",color:"orange.500",children:["Note: Support for ",Languages.SOURCE_THREE," Programs is in beta!"]}),i&&jsx(Card,{children:jsxs(CardBody,{children:[jsx(Text,{children:"JSON Code:"}),jsx(Box,{overflowX:"scroll",children:jsx(Code,{display:"block",whiteSpace:"pre",width:"max-content",children:i})})]})}),jsxs(HStack,{children:[jsx(Text,{fontWeight:"bold",children:"Select language mode:"}),jsx(Select,{size:"sm",variant:"filled",width:"fit-content",name:"languageMode",id:"languagemode",value:a,onChange:j=>o(j.target.value),children:supportedLanguages.map(j=>jsx("option",{value:j,children:j},j))}),a===Languages.SOURCE_THREE&&jsx(Checkbox,{isChecked:at,onChange:()=>ot(j=>!j),children:"Prelude"}),jsx(Spacer,{}),jsxs(ButtonGroup,{size:"sm",children:[jsx(Button,{onClick:rt,children:"Run on Device"}),a===Languages.SOURCE_THREE&&jsx(Button,{onClick:nt,children:"Parse into JSON"})]})]}),jsx(Box,{borderRadius:6,overflow:"clip",children:jsx(_default,{name:"editor",mode:languageToModeMap[a],theme:"source",width:"100%",onChange:tt,value:it,wrapEnabled:!0})})]})}),jsx(GridItem,{children:jsx(SampleProgramSidebar,{languageMode:a,setProgramState:tt})})]})})},App$1="";function App(){return jsx(EditorPage,{})}const index="",theme=extendTheme({fonts:{heading:"Inter, Avenir, Helvetica, Arial, sans-serif",body:"Inter, Avenir, Helvetica, Arial, sans-serif"}});client.createRoot(document.getElementById("root")).render(jsx(React$3.StrictMode,{children:jsx(ChakraProvider,{theme,children:jsx(App,{})})}));
