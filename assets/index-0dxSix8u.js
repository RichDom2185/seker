function _mergeNamespaces(i,s){for(var a=0;a<s.length;a++){const o=s[a];if(typeof o!="string"&&!Array.isArray(o)){for(const rt in o)if(rt!=="default"&&!(rt in i)){const et=Object.getOwnPropertyDescriptor(o,rt);et&&Object.defineProperty(i,rt,et.get?et:{enumerable:!0,get:()=>o[rt]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))o(rt);new MutationObserver(rt=>{for(const et of rt)if(et.type==="childList")for(const at of et.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&o(at)}).observe(document,{childList:!0,subtree:!0});function a(rt){const et={};return rt.integrity&&(et.integrity=rt.integrity),rt.referrerPolicy&&(et.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?et.credentials="include":rt.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function o(rt){if(rt.ep)return;rt.ep=!0;const et=a(rt);fetch(rt.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var a=function o(){return this instanceof o?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var rt=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(a,o,rt.get?rt:{enumerable:!0,get:function(){return i[o]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,a){this.props=i,this.context=s,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,a){this.props=i,this.context=s,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,a){var o,rt={},et=null,at=null;if(s!=null)for(o in s.ref!==void 0&&(at=s.ref),s.key!==void 0&&(et=""+s.key),s)J.call(s,o)&&!L$1.hasOwnProperty(o)&&(rt[o]=s[o]);var ot=arguments.length-2;if(ot===1)rt.children=a;else if(1<ot){for(var nt=Array(ot),it=0;it<ot;it++)nt[it]=arguments[it+2];rt.children=nt}if(i&&i.defaultProps)for(o in ot=i.defaultProps,ot)rt[o]===void 0&&(rt[o]=ot[o]);return{$$typeof:l$2,type:i,key:et,ref:at,props:rt,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$2,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$2(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(a){return s[a]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$2(""+i.key):s.toString(36)}function R$1(i,s,a,o,rt){var et=typeof i;(et==="undefined"||et==="boolean")&&(i=null);var at=!1;if(i===null)at=!0;else switch(et){case"string":case"number":at=!0;break;case"object":switch(i.$$typeof){case l$2:case n$3:at=!0}}if(at)return at=i,rt=rt(at),i=o===""?"."+Q$1(at,0):o,I$1(rt)?(a="",i!=null&&(a=i.replace(P$1,"$&/")+"/"),R$1(rt,s,a,"",function(it){return it})):rt!=null&&(O$1(rt)&&(rt=N$1(rt,a+(!rt.key||at&&at.key===rt.key?"":(""+rt.key).replace(P$1,"$&/")+"/")+i)),s.push(rt)),1;if(at=0,o=o===""?".":o+":",I$1(i))for(var ot=0;ot<i.length;ot++){et=i[ot];var nt=o+Q$1(et,ot);at+=R$1(et,s,a,nt,rt)}else if(nt=A$2(i),typeof nt=="function")for(i=nt.call(i),ot=0;!(et=i.next()).done;)et=et.value,nt=o+Q$1(et,ot++),at+=R$1(et,s,a,nt,rt);else if(et==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return at}function S$1(i,s,a){if(i==null)return i;var o=[],rt=0;return R$1(i,o,"","",function(et){return s.call(a,et,rt++)}),o}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(a){(i._status===0||i._status===-1)&&(i._status=1,i._result=a)},function(a){(i._status===0||i._status===-1)&&(i._status=2,i._result=a)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,s,a){S$1(i,function(){s.apply(this,arguments)},a)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,s,a){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$1({},i.props),rt=i.key,et=i.ref,at=i._owner;if(s!=null){if(s.ref!==void 0&&(et=s.ref,at=K$1.current),s.key!==void 0&&(rt=""+s.key),i.type&&i.type.defaultProps)var ot=i.type.defaultProps;for(nt in s)J.call(s,nt)&&!L$1.hasOwnProperty(nt)&&(o[nt]=s[nt]===void 0&&ot!==void 0?ot[nt]:s[nt])}var nt=arguments.length-2;if(nt===1)o.children=a;else if(1<nt){ot=Array(nt);for(var it=0;it<nt;it++)ot[it]=arguments[it+2];o.children=ot}return{$$typeof:l$2,type:i.type,key:rt,ref:et,props:o,_owner:at}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$3,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x$1,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,a){return U$1.current.useImperativeHandle(i,s,a)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,a){return U$1.current.useReducer(i,s,a)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,a){return U$1.current.useSyncExternalStore(i,s,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$4=getDefaultExportFromCjs(reactExports),ReactOriginal=_mergeNamespaces({__proto__:null,default:React$4},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,s,a){var o,rt={},et=null,at=null;a!==void 0&&(et=""+a),s.key!==void 0&&(et=""+s.key),s.ref!==void 0&&(at=s.ref);for(o in s)m$2.call(s,o)&&!p$3.hasOwnProperty(o)&&(rt[o]=s[o]);if(i&&i.defaultProps)for(o in s=i.defaultProps,s)rt[o]===void 0&&(rt[o]=s[o]);return{$$typeof:k$1,type:i,key:et,ref:at,props:rt,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,isDevelopment$3=!1;function sheetForTag(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function createStyleElement(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function i(a){var o=this;this._insertTag=function(rt){var et;o.tags.length===0?o.insertionPoint?et=o.insertionPoint.nextSibling:o.prepend?et=o.container.firstChild:et=o.before:et=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(rt,et),o.tags.push(rt)},this.isSpeedy=a.speedy===void 0?!isDevelopment$3:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(o){o.forEach(this._insertTag)},s.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var rt=this.tags[this.tags.length-1];if(this.isSpeedy){var et=sheetForTag(rt);try{et.insertRule(o,et.cssRules.length)}catch{}}else rt.appendChild(document.createTextNode(o));this.ctr++},s.flush=function(){this.tags.forEach(function(o){var rt;return(rt=o.parentNode)==null?void 0:rt.removeChild(o)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$1(i,s){return charat(i,0)^45?(((s<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,s){return(i=s.exec(i))?i[0]:i}function replace(i,s,a){return i.replace(s,a)}function indexof(i,s){return i.indexOf(s)}function charat(i,s){return i.charCodeAt(s)|0}function substr(i,s,a){return i.slice(s,a)}function strlen(i){return i.length}function sizeof(i){return i.length}function append$1(i,s){return s.push(i),i}function combine(i,s){return i.map(s).join("")}var line=1,column=1,length$1=0,position$1=0,character=0,characters="";function node(i,s,a,o,rt,et,at){return{value:i,root:s,parent:a,type:o,props:rt,children:et,line,column,length:at,return:""}}function copy(i,s){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},s)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$1?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position$1)}function caret(){return position$1}function slice(i,s){return substr(characters,i,s)}function token$1(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length$1=strlen(characters=i),position$1=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position$1-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek$1())&&character<33;)next();return token$1(i)>2||token$1(character)>3?"":" "}function escaping(i,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(s<6&&peek$1()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position$1;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position$1}function commenter(i,s){for(;next()&&i+character!==57;)if(i+character===84&&peek$1()===47)break;return"/*"+slice(s,position$1-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token$1(peek$1());)next();return slice(i,position$1)}function compile(i){return dealloc(parse$2("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$2(i,s,a,o,rt,et,at,ot,nt){for(var it=0,j=0,_=at,$=0,tt=0,st=0,lt=1,ht=1,ft=1,ct=0,mt="",gt=rt,yt=et,ut=o,wt=mt;ht;)switch(st=ct,ct=next()){case 40:if(st!=108&&charat(wt,_-1)==58){indexof(wt+=replace(delimit(ct),"&","&\f"),"&\f")!=-1&&(ft=-1);break}case 34:case 39:case 91:wt+=delimit(ct);break;case 9:case 10:case 13:case 32:wt+=whitespace(st);break;case 92:wt+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment(commenter(next(),caret()),s,a),nt);break;default:wt+="/"}break;case 123*lt:ot[it++]=strlen(wt)*ft;case 125*lt:case 59:case 0:switch(ct){case 0:case 125:ht=0;case 59+j:ft==-1&&(wt=replace(wt,/\f/g,"")),tt>0&&strlen(wt)-_&&append$1(tt>32?declaration(wt+";",o,a,_-1):declaration(replace(wt," ","")+";",o,a,_-2),nt);break;case 59:wt+=";";default:if(append$1(ut=ruleset(wt,s,a,it,j,rt,ot,mt,gt=[],yt=[],_),et),ct===123)if(j===0)parse$2(wt,s,ut,ut,gt,et,_,ot,yt);else switch($===99&&charat(wt,3)===110?100:$){case 100:case 108:case 109:case 115:parse$2(i,ut,ut,o&&append$1(ruleset(i,ut,ut,0,0,rt,ot,mt,rt,gt=[],_),yt),rt,yt,_,ot,o?gt:yt);break;default:parse$2(wt,ut,ut,ut,[""],yt,0,ot,yt)}}it=j=tt=0,lt=ft=1,mt=wt="",_=at;break;case 58:_=1+strlen(wt),tt=st;default:if(lt<1){if(ct==123)--lt;else if(ct==125&&lt++==0&&prev()==125)continue}switch(wt+=from(ct),ct*lt){case 38:ft=j>0?1:(wt+="\f",-1);break;case 44:ot[it++]=(strlen(wt)-1)*ft,ft=1;break;case 64:peek$1()===45&&(wt+=delimit(next())),$=peek$1(),j=_=strlen(mt=wt+=identifier(caret())),ct++;break;case 45:st===45&&strlen(wt)==2&&(lt=0)}}return et}function ruleset(i,s,a,o,rt,et,at,ot,nt,it,j){for(var _=rt-1,$=rt===0?et:[""],tt=sizeof($),st=0,lt=0,ht=0;st<o;++st)for(var ft=0,ct=substr(i,_+1,_=abs(lt=at[st])),mt=i;ft<tt;++ft)(mt=trim(lt>0?$[ft]+" "+ct:replace(ct,/&\f/g,$[ft])))&&(nt[ht++]=mt);return node(i,s,a,rt===0?RULESET:ot,nt,it,j)}function comment(i,s,a){return node(i,s,a,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,s,a,o){return node(i,s,a,DECLARATION,substr(i,0,o),substr(i,o+1,-1),o)}function serialize(i,s){for(var a="",o=sizeof(i),rt=0;rt<o;rt++)a+=s(i[rt],rt,i,s)||"";return a}function stringify$4(i,s,a,o){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,o)+"}";case RULESET:i.value=i.props.join(",")}return strlen(a=serialize(i.children,o))?i.return=i.value+"{"+a+"}":""}function middleware(i){var s=sizeof(i);return function(a,o,rt,et){for(var at="",ot=0;ot<s;ot++)at+=i[ot](a,o,rt,et)||"";return at}}function rulesheet(i){return function(s){s.root||(s=s.return)&&i(s)}}var weakMemoize=function(s){var a=new WeakMap;return function(o){if(a.has(o))return a.get(o);var rt=s(o);return a.set(o,rt),rt}};function memoize$3(i){var s=Object.create(null);return function(a){return s[a]===void 0&&(s[a]=i(a)),s[a]}}var identifierWithPointTracking=function(s,a,o){for(var rt=0,et=0;rt=et,et=peek$1(),rt===38&&et===12&&(a[o]=1),!token$1(et);)next();return slice(s,position$1)},toRules=function(s,a){var o=-1,rt=44;do switch(token$1(rt)){case 0:rt===38&&peek$1()===12&&(a[o]=1),s[o]+=identifierWithPointTracking(position$1-1,a,o);break;case 2:s[o]+=delimit(rt);break;case 4:if(rt===44){s[++o]=peek$1()===58?"&\f":"",a[o]=s[o].length;break}default:s[o]+=from(rt)}while(rt=next());return s},getRules=function(s,a){return dealloc(toRules(alloc(s),a))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var a=s.value,o=s.parent,rt=s.column===o.column&&s.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(s.props.length===1&&a.charCodeAt(0)!==58&&!fixedElements.get(o))&&!rt){fixedElements.set(s,!0);for(var et=[],at=getRules(a,et),ot=o.props,nt=0,it=0;nt<at.length;nt++)for(var j=0;j<ot.length;j++,it++)s.props[it]=et[nt]?at[nt].replace(/&\f/g,ot[j]):ot[j]+" "+at[nt]}}},removeLabel=function(s){if(s.type==="decl"){var a=s.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(i,s){switch(hash$1(i,s)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-s>6)switch(charat(i,s+1)){case 109:if(charat(i,s+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(charat(i,s+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,s+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(s,a,o,rt){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],rt);case RULESET:if(s.length)return combine(s.props,function(et){switch(match(et,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(et,/:(read-\w+)/,":"+MOZ+"$1")]})],rt);case"::placeholder":return serialize([copy(s,{props:[replace(et,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(et,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(et,/:(plac\w+)/,MS+"input-$1")]})],rt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var a=s.key;if(a==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(lt){var ht=lt.getAttribute("data-emotion");ht.indexOf(" ")!==-1&&(document.head.appendChild(lt),lt.setAttribute("data-s",""))})}var rt=s.stylisPlugins||defaultStylisPlugins,et={},at,ot=[];at=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(lt){for(var ht=lt.getAttribute("data-emotion").split(" "),ft=1;ft<ht.length;ft++)et[ht[ft]]=!0;ot.push(lt)});var nt,it=[compat,removeLabel];{var j,_=[stringify$4,rulesheet(function(lt){j.insert(lt)})],$=middleware(it.concat(rt,_)),tt=function(ht){return serialize(compile(ht),$)};nt=function(ht,ft,ct,mt){j=ct,tt(ht?ht+"{"+ft.styles+"}":ft.styles),mt&&(st.inserted[ft.name]=!0)}}var st={key:a,sheet:new StyleSheet({key:a,container:at,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:et,registered:{},insert:nt};return st.sheet.hydrate(ot),st};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var o in a)({}).hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},_extends$1.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g$1=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m$1=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p$2=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r$2=b?Symbol.for("react.memo"):60115,t$2=b?Symbol.for("react.lazy"):60116,v$2=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z$1(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case c:switch(i=i.type,i){case l:case m$1:case e:case g$1:case f:case p$2:return i;default:switch(i=i&&i.$$typeof,i){case k:case n$1:case t$2:case r$2:case h:return i;default:return s}}case d:return s}}}function A$1(i){return z$1(i)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t$2;reactIs_production_min.Memo=r$2;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(i){return A$1(i)||z$1(i)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(i){return z$1(i)===k};reactIs_production_min.isContextProvider=function(i){return z$1(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z$1(i)===n$1};reactIs_production_min.isFragment=function(i){return z$1(i)===e};reactIs_production_min.isLazy=function(i){return z$1(i)===t$2};reactIs_production_min.isMemo=function(i){return z$1(i)===r$2};reactIs_production_min.isPortal=function(i){return z$1(i)===d};reactIs_production_min.isProfiler=function(i){return z$1(i)===g$1};reactIs_production_min.isStrictMode=function(i){return z$1(i)===f};reactIs_production_min.isSuspense=function(i){return z$1(i)===p$2};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m$1||i===g$1||i===f||i===p$2||i===q$1||typeof i=="object"&&i!==null&&(i.$$typeof===t$2||i.$$typeof===r$2||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n$1||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v$2)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$2=!0;function getRegisteredStyles(i,s,a){var o="";return a.split(" ").forEach(function(rt){i[rt]!==void 0?s.push(i[rt]+";"):o+=rt+" "}),o}var registerStyles=function(s,a,o){var rt=s.key+"-"+a.name;(o===!1||isBrowser$2===!1)&&s.registered[rt]===void 0&&(s.registered[rt]=a.styles)},insertStyles=function(s,a,o){registerStyles(s,a,o);var rt=s.key+"-"+a.name;if(s.inserted[a.name]===void 0){var et=a;do s.insert(a===et?"."+rt:"",et,s.sheet,!0),et=et.next;while(et!==void 0)}};function murmur2(i){for(var s=0,a,o=0,rt=i.length;rt>=4;++o,rt-=4)a=i.charCodeAt(o)&255|(i.charCodeAt(++o)&255)<<8|(i.charCodeAt(++o)&255)<<16|(i.charCodeAt(++o)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,s=(a&65535)*1540483477+((a>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(rt){case 3:s^=(i.charCodeAt(o+2)&255)<<16;case 2:s^=(i.charCodeAt(o+1)&255)<<8;case 1:s^=i.charCodeAt(o)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys$1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$2=!1,hyphenateRegex$1=/[A-Z]|^ms/g,animationRegex$1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty$1=function(s){return s.charCodeAt(1)===45},isProcessableValue$1=function(s){return s!=null&&typeof s!="boolean"},processStyleName$1=memoize$3(function(i){return isCustomProperty$1(i)?i:i.replace(hyphenateRegex$1,"-$&").toLowerCase()}),processStyleValue$1=function(s,a){switch(s){case"animation":case"animationName":if(typeof a=="string")return a.replace(animationRegex$1,function(o,rt,et){return cursor$1={name:rt,styles:et,next:cursor$1},rt})}return unitlessKeys$1[s]!==1&&!isCustomProperty$1(s)&&typeof a=="number"&&a!==0?a+"px":a},noComponentSelectorMessage$1="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation$1(i,s,a){if(a==null)return"";var o=a;if(o.__emotion_styles!==void 0)return o;switch(typeof a){case"boolean":return"";case"object":{var rt=a;if(rt.anim===1)return cursor$1={name:rt.name,styles:rt.styles,next:cursor$1},rt.name;var et=a;if(et.styles!==void 0){var at=et.next;if(at!==void 0)for(;at!==void 0;)cursor$1={name:at.name,styles:at.styles,next:cursor$1},at=at.next;var ot=et.styles+";";return ot}return createStringFromObject$1(i,s,a)}case"function":{if(i!==void 0){var nt=cursor$1,it=a(i);return cursor$1=nt,handleInterpolation$1(i,s,it)}break}}var j=a;return j}function createStringFromObject$1(i,s,a){var o="";if(Array.isArray(a))for(var rt=0;rt<a.length;rt++)o+=handleInterpolation$1(i,s,a[rt])+";";else for(var et in a){var at=a[et];if(typeof at!="object"){var ot=at;isProcessableValue$1(ot)&&(o+=processStyleName$1(et)+":"+processStyleValue$1(et,ot)+";")}else{if(et==="NO_COMPONENT_SELECTOR"&&isDevelopment$2)throw new Error(noComponentSelectorMessage$1);if(Array.isArray(at)&&typeof at[0]=="string"&&s==null)for(var nt=0;nt<at.length;nt++)isProcessableValue$1(at[nt])&&(o+=processStyleName$1(et)+":"+processStyleValue$1(et,at[nt])+";");else{var it=handleInterpolation$1(i,s,at);switch(et){case"animation":case"animationName":{o+=processStyleName$1(et)+":"+it+";";break}default:o+=et+"{"+it+"}"}}}}return o}var labelPattern$1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor$1;function serializeStyles$1(i,s,a){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var o=!0,rt="";cursor$1=void 0;var et=i[0];if(et==null||et.raw===void 0)o=!1,rt+=handleInterpolation$1(a,s,et);else{var at=et;rt+=at[0]}for(var ot=1;ot<i.length;ot++)if(rt+=handleInterpolation$1(a,s,i[ot]),o){var nt=et;rt+=nt[ot]}labelPattern$1.lastIndex=0;for(var it="",j;(j=labelPattern$1.exec(rt))!==null;)it+="-"+j[1];var _=murmur2(rt)+it;return{name:_,styles:rt,next:cursor$1}}var syncFallback=function(s){return s()},useInsertionEffect=ReactOriginal.useInsertionEffect?ReactOriginal.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(s){return reactExports.forwardRef(function(a,o){var rt=reactExports.useContext(EmotionCacheContext);return s(a,rt,o)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(s,a){if(typeof a=="function"){var o=a(s);return o}return _extends$1({},s,a)},createCacheWithTheme=weakMemoize(function(i){return weakMemoize(function(s){return getTheme$1(i,s)})}),ThemeProvider$1=function(s){var a=reactExports.useContext(ThemeContext);return s.theme!==a&&(a=createCacheWithTheme(a)(s.theme)),reactExports.createElement(ThemeContext.Provider,{value:a},s.children)},Global=withEmotionCache(function(i,s){var a=i.styles,o=serializeStyles$1([a],void 0,reactExports.useContext(ThemeContext)),rt=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var et=s.key+"-global",at=new s.sheet.constructor({key:et,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),ot=!1,nt=document.querySelector('style[data-emotion="'+et+" "+o.name+'"]');return s.sheet.tags.length&&(at.before=s.sheet.tags[0]),nt!==null&&(ot=!0,nt.setAttribute("data-emotion",et),at.hydrate([nt])),rt.current=[at,ot],function(){at.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var et=rt.current,at=et[0],ot=et[1];if(ot){et[1]=!1;return}if(o.next!==void 0&&insertStyles(s,o.next,!0),at.tags.length){var nt=at.tags[at.tags.length-1].nextElementSibling;at.before=nt,at.flush()}s.insert("",o,at,!1)},[s,o.name]),null});function css$2(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return serializeStyles$1(s)}var keyframes$1=function(){var s=css$2.apply(void 0,arguments),a="animation-"+s.name;return{name:a,styles:"@keyframes "+a+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},css$1=String.raw,vhPolyfill=css$1`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:i=""})=>jsxRuntimeExports.jsx(Global,{styles:css$1`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${i} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${i} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${i} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${i} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${i} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${i} :where(b, strong) {
        font-weight: bold;
      }

      ${i} small {
        font-size: 80%;
      }

      ${i} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${i} sub {
        bottom: -0.25em;
      }

      ${i} sup {
        top: -0.5em;
      }

      ${i} img {
        border-style: none;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${i} :where(button, input) {
        overflow: visible;
      }

      ${i} :where(button, select) {
        text-transform: none;
      }

      ${i} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${i} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${i} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${i} progress {
        vertical-align: baseline;
      }

      ${i} textarea {
        overflow: auto;
      }

      ${i} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${i} input[type="number"]::-webkit-inner-spin-button,
      ${i} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${i} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${i} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${i} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${i} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${i} details {
        display: block;
      }

      ${i} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${i} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${i} button {
        background: transparent;
        padding: 0;
      }

      ${i} fieldset {
        margin: 0;
        padding: 0;
      }

      ${i} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${i} textarea {
        resize: vertical;
      }

      ${i} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${i} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${i} table {
        border-collapse: collapse;
      }

      ${i} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${i} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${i} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${i} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function getErrorMessage(i,s){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${s}`}function createContext$2(i={}){const{name:s,strict:a=!0,hookName:o="useContext",providerName:rt="Provider",errorMessage:et,defaultValue:at}=i,ot=reactExports.createContext(at);ot.displayName=s;function nt(){var it;const j=reactExports.useContext(ot);if(!j&&a){const _=new Error(et??getErrorMessage(o,rt));throw _.name="ContextError",(it=Error.captureStackTrace)==null||it.call(Error,_,nt),_}return j}return[ot.Provider,nt,ot]}var[PortalManagerContextProvider,usePortalManager]=createContext$2({strict:!1,name:"PortalManagerContext"});function PortalManager(i){const{children:s,zIndex:a}=i;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:a},children:s})}PortalManager.displayName="PortalManager";var useSafeLayoutEffect$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Dt,Vt){var Ut=Dt.length;Dt.push(Vt);e:for(;0<Ut;){var Qt=Ut-1>>>1,Kt=Dt[Qt];if(0<rt(Kt,Vt))Dt[Qt]=Vt,Dt[Ut]=Kt,Ut=Qt;else break e}}function a(Dt){return Dt.length===0?null:Dt[0]}function o(Dt){if(Dt.length===0)return null;var Vt=Dt[0],Ut=Dt.pop();if(Ut!==Vt){Dt[0]=Ut;e:for(var Qt=0,Kt=Dt.length,Ht=Kt>>>1;Qt<Ht;){var qt=2*(Qt+1)-1,nr=Dt[qt],tr=qt+1,mr=Dt[tr];if(0>rt(nr,Ut))tr<Kt&&0>rt(mr,nr)?(Dt[Qt]=mr,Dt[tr]=Ut,Qt=tr):(Dt[Qt]=nr,Dt[qt]=Ut,Qt=qt);else if(tr<Kt&&0>rt(mr,Ut))Dt[Qt]=mr,Dt[tr]=Ut,Qt=tr;else break e}}return Vt}function rt(Dt,Vt){var Ut=Dt.sortIndex-Vt.sortIndex;return Ut!==0?Ut:Dt.id-Vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;i.unstable_now=function(){return et.now()}}else{var at=Date,ot=at.now();i.unstable_now=function(){return at.now()-ot}}var nt=[],it=[],j=1,_=null,$=3,tt=!1,st=!1,lt=!1,ht=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(Dt){for(var Vt=a(it);Vt!==null;){if(Vt.callback===null)o(it);else if(Vt.startTime<=Dt)o(it),Vt.sortIndex=Vt.expirationTime,s(nt,Vt);else break;Vt=a(it)}}function gt(Dt){if(lt=!1,mt(Dt),!st)if(a(nt)!==null)st=!0,Lt(yt);else{var Vt=a(it);Vt!==null&&Ft(gt,Vt.startTime-Dt)}}function yt(Dt,Vt){st=!1,lt&&(lt=!1,ft(bt),bt=-1),tt=!0;var Ut=$;try{for(mt(Vt),_=a(nt);_!==null&&(!(_.expirationTime>Vt)||Dt&&!$t());){var Qt=_.callback;if(typeof Qt=="function"){_.callback=null,$=_.priorityLevel;var Kt=Qt(_.expirationTime<=Vt);Vt=i.unstable_now(),typeof Kt=="function"?_.callback=Kt:_===a(nt)&&o(nt),mt(Vt)}else o(nt);_=a(nt)}if(_!==null)var Ht=!0;else{var qt=a(it);qt!==null&&Ft(gt,qt.startTime-Vt),Ht=!1}return Ht}finally{_=null,$=Ut,tt=!1}}var ut=!1,wt=null,bt=-1,vt=5,Et=-1;function $t(){return!(i.unstable_now()-Et<vt)}function Tt(){if(wt!==null){var Dt=i.unstable_now();Et=Dt;var Vt=!0;try{Vt=wt(!0,Dt)}finally{Vt?At():(ut=!1,wt=null)}}else ut=!1}var At;if(typeof ct=="function")At=function(){ct(Tt)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,It=Ct.port2;Ct.port1.onmessage=Tt,At=function(){It.postMessage(null)}}else At=function(){ht(Tt,0)};function Lt(Dt){wt=Dt,ut||(ut=!0,At())}function Ft(Dt,Vt){bt=ht(function(){Dt(i.unstable_now())},Vt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Dt){Dt.callback=null},i.unstable_continueExecution=function(){st||tt||(st=!0,Lt(yt))},i.unstable_forceFrameRate=function(Dt){0>Dt||125<Dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vt=0<Dt?Math.floor(1e3/Dt):5},i.unstable_getCurrentPriorityLevel=function(){return $},i.unstable_getFirstCallbackNode=function(){return a(nt)},i.unstable_next=function(Dt){switch($){case 1:case 2:case 3:var Vt=3;break;default:Vt=$}var Ut=$;$=Vt;try{return Dt()}finally{$=Ut}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Dt,Vt){switch(Dt){case 1:case 2:case 3:case 4:case 5:break;default:Dt=3}var Ut=$;$=Dt;try{return Vt()}finally{$=Ut}},i.unstable_scheduleCallback=function(Dt,Vt,Ut){var Qt=i.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?Qt+Ut:Qt):Ut=Qt,Dt){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=Ut+Kt,Dt={id:j++,callback:Vt,priorityLevel:Dt,startTime:Ut,expirationTime:Kt,sortIndex:-1},Ut>Qt?(Dt.sortIndex=Ut,s(it,Dt),a(nt)===null&&Dt===a(it)&&(lt?(ft(bt),bt=-1):lt=!0,Ft(gt,Ut-Qt))):(Dt.sortIndex=Kt,s(nt,Dt),st||tt||(st=!0,Lt(yt))),Dt},i.unstable_shouldYield=$t,i.unstable_wrapCallback=function(Dt){var Vt=$;return function(){var Ut=$;$=Vt;try{return Dt.apply(this,arguments)}finally{$=Ut}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,a,o){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,a,o){if(s===null||typeof s>"u"||pa(i,s,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(i,s,a,o,rt,et,at){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=o,this.attributeNamespace=rt,this.mustUseProperty=a,this.propertyName=i,this.type=s,this.sanitizeURL=et,this.removeEmptyString=at}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v$1(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,a,o){var rt=z.hasOwnProperty(s)?z[s]:null;(rt!==null?rt.type!==0:o||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,a,rt,o)&&(a=null),o||rt===null?oa(s)&&(a===null?i.removeAttribute(s):i.setAttribute(s,""+a)):rt.mustUseProperty?i[rt.propertyName]=a===null?rt.type===3?!1:"":a:(s=rt.attributeName,o=rt.attributeNamespace,a===null?i.removeAttribute(s):(rt=rt.type,a=rt===3||rt===4&&a===!0?"":""+a,o?i.setAttributeNS(o,s,a):i.setAttribute(s,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(it){var o=it}Reflect.construct(i,[],s)}else{try{s.call()}catch(it){o=it}i.call(s.prototype)}else{try{throw Error()}catch(it){o=it}i()}}catch(it){if(it&&o&&typeof it.stack=="string"){for(var rt=it.stack.split(`
`),et=o.stack.split(`
`),at=rt.length-1,ot=et.length-1;1<=at&&0<=ot&&rt[at]!==et[ot];)ot--;for(;1<=at&&0<=ot;at--,ot--)if(rt[at]!==et[ot]){if(at!==1||ot!==1)do if(at--,ot--,0>ot||rt[at]!==et[ot]){var nt=`
`+rt[at].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=at&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),o=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var rt=a.get,et=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return rt.call(this)},set:function(at){o=""+at,et.call(this,at)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(at){o=""+at},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return i&&(o=Ta(i)?i.checked?"true":"false":i.value),i=o,i!==a?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var a=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??i._wrapperState.initialChecked})}function Za(i,s){var a=s.defaultValue==null?"":s.defaultValue,o=s.checked!=null?s.checked:s.defaultChecked;a=Sa(s.value!=null?s.value:a),i._wrapperState={initialChecked:o,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var a=Sa(s.value),o=s.type;if(a!=null)o==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+a):i.value!==""+a&&(i.value=""+a);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,a):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var o=s.type;if(!(o!=="submit"&&o!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,a||s===i.value||(i.value=s),i.defaultValue=s}a=i.name,a!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,a!==""&&(i.name=a)}function cb(i,s,a){(s!=="number"||Xa(i.ownerDocument)!==i)&&(a==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+a&&(i.defaultValue=""+a))}var eb=Array.isArray;function fb(i,s,a,o){if(i=i.options,s){s={};for(var rt=0;rt<a.length;rt++)s["$"+a[rt]]=!0;for(a=0;a<i.length;a++)rt=s.hasOwnProperty("$"+i[a].value),i[a].selected!==rt&&(i[a].selected=rt),rt&&o&&(i[a].defaultSelected=!0)}else{for(a=""+Sa(a),s=null,rt=0;rt<i.length;rt++){if(i[rt].value===a){i[rt].selected=!0,o&&(i[rt].defaultSelected=!0);return}s!==null||i[rt].disabled||(s=i[rt])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(p$1(92));if(eb(a)){if(1<a.length)throw Error(p$1(93));a=a[0]}s=a}s==null&&(s=""),a=s}i._wrapperState={initialValue:Sa(a)}}function ib(i,s){var a=Sa(s.value),o=Sa(s.defaultValue);a!=null&&(a=""+a,a!==i.value&&(i.value=a),s.defaultValue==null&&i.defaultValue!==a&&(i.defaultValue=a)),o!=null&&(i.defaultValue=""+o)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,o,rt){MSApp.execUnsafeLocalFunction(function(){return i(s,a,o,rt)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var a in s)if(s.hasOwnProperty(a)){var o=a.indexOf("--")===0,rt=rb(a,s[a],o);a==="float"&&(a="cssFloat"),o?i.setProperty(a,rt):i[a]=rt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,a){if(Ib)return i(s,a);Ib=!0;try{return Gb(i,s,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var a=i.stateNode;if(a===null)return null;var o=Db(a);if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(p$1(231,s,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,a,o,rt,et,at,ot,nt){var it=Array.prototype.slice.call(arguments,3);try{s.apply(a,it)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,a,o,rt,et,at,ot,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,a,o,rt,et,at,ot,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=it)}}function Vb(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p$1(188));return s!==i?null:i}for(var a=i,o=s;;){var rt=a.return;if(rt===null)break;var et=rt.alternate;if(et===null){if(o=rt.return,o!==null){a=o;continue}break}if(rt.child===et.child){for(et=rt.child;et;){if(et===a)return Xb(rt),i;if(et===o)return Xb(rt),s;et=et.sibling}throw Error(p$1(188))}if(a.return!==o.return)a=rt,o=et;else{for(var at=!1,ot=rt.child;ot;){if(ot===a){at=!0,a=rt,o=et;break}if(ot===o){at=!0,o=rt,a=et;break}ot=ot.sibling}if(!at){for(ot=et.child;ot;){if(ot===a){at=!0,a=et,o=rt;break}if(ot===o){at=!0,o=et,a=rt;break}ot=ot.sibling}if(!at)throw Error(p$1(189))}}if(a.alternate!==o)throw Error(p$1(190))}if(a.tag!==3)throw Error(p$1(188));return a.stateNode.current===a?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var a=i.pendingLanes;if(a===0)return 0;var o=0,rt=i.suspendedLanes,et=i.pingedLanes,at=a&268435455;if(at!==0){var ot=at&~rt;ot!==0?o=tc(ot):(et&=at,et!==0&&(o=tc(et)))}else at=a&~rt,at!==0?o=tc(at):et!==0&&(o=tc(et));if(o===0)return 0;if(s!==0&&s!==o&&!(s&rt)&&(rt=o&-o,et=s&-s,rt>=et||rt===16&&(et&4194240)!==0))return s;if(o&4&&(o|=a&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=o;0<s;)a=31-oc(s),rt=1<<a,o|=i[a],s&=~rt;return o}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var a=i.suspendedLanes,o=i.pingedLanes,rt=i.expirationTimes,et=i.pendingLanes;0<et;){var at=31-oc(et),ot=1<<at,nt=rt[at];nt===-1?(!(ot&a)||ot&o)&&(rt[at]=vc(ot,s)):nt<=s&&(i.expiredLanes|=ot),et&=~ot}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ac(i,s,a){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=a}function Bc(i,s){var a=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<a;){var rt=31-oc(a),et=1<<rt;s[rt]=0,o[rt]=-1,i[rt]=-1,a&=~et}}function Cc(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var o=31-oc(a),rt=1<<o;rt&s|i[o]&s&&(i[o]|=s),a&=~rt}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,a,o,rt,et){return i===null||i.nativeEvent!==et?(i={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:et,targetContainers:[rt]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=o,s=i.targetContainers,rt!==null&&s.indexOf(rt)===-1&&s.push(rt),i)}function Uc(i,s,a,o,rt){switch(s){case"focusin":return Lc=Tc(Lc,i,s,a,o,rt),!0;case"dragenter":return Mc=Tc(Mc,i,s,a,o,rt),!0;case"mouseover":return Nc=Tc(Nc,i,s,a,o,rt),!0;case"pointerover":var et=rt.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,i,s,a,o,rt)),!0;case"gotpointercapture":return et=rt.pointerId,Pc.set(et,Tc(Pc.get(et)||null,i,s,a,o,rt)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var a=Vb(s);if(a!==null){if(s=a.tag,s===13){if(s=Wb(a),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(a===null){a=i.nativeEvent;var o=new a.constructor(a.type,a);wb=o,a.target.dispatchEvent(o),wb=null}else return s=Cb(a),s!==null&&Fc(s),i.blockedOn=a,!1;s.shift()}return!0}function Zc(i,s,a){Xc(i)&&a.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(rt){return ad(rt,i)}if(0<Kc.length){ad(Kc[0],i);for(var a=1;a<Kc.length;a++){var o=Kc[a];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),a=0;a<Qc.length;a++)o=Qc[a],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,a,o){var rt=C,et=cd.transition;cd.transition=null;try{C=1,fd(i,s,a,o)}finally{C=rt,cd.transition=et}}function gd(i,s,a,o){var rt=C,et=cd.transition;cd.transition=null;try{C=4,fd(i,s,a,o)}finally{C=rt,cd.transition=et}}function fd(i,s,a,o){if(dd){var rt=Yc(i,s,a,o);if(rt===null)hd(i,s,o,id$2,a),Sc(i,o);else if(Uc(rt,i,s,a,o))o.stopPropagation();else if(Sc(i,o),s&4&&-1<Rc.indexOf(i)){for(;rt!==null;){var et=Cb(rt);if(et!==null&&Ec(et),et=Yc(i,s,a,o),et===null&&hd(i,s,o,id$2,a),et===rt)break;rt=et}rt!==null&&o.stopPropagation()}else hd(i,s,o,null,a)}}var id$2=null;function Yc(i,s,a,o){if(id$2=null,i=xb(o),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(a=s.tag,a===13){if(i=Wb(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id$2=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,a=s.length,o,rt="value"in kd?kd.value:kd.textContent,et=rt.length;for(i=0;i<a&&s[i]===rt[i];i++);var at=a-i;for(o=1;o<=at&&s[a-o]===rt[et-o];o++);return md=rt.slice(i,1<o?1-o:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(a,o,rt,et,at){this._reactName=a,this._targetInst=rt,this.type=o,this.nativeEvent=et,this.target=at,this.currentTarget=null;for(var ot in i)i.hasOwnProperty(ot)&&(a=i[ot],this[ot]=a?a(et):et[ot]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,a,o){Eb(o),s=oe(s,"onChange"),0<s.length&&(a=new td("onChange","change",null,a,o),i.push({event:a,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,a){i==="focusin"?(Ae(),pe=s,qe=a,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var rt=a[o];if(!ja.call(s,rt)||!He(i[rt],s[rt]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var a=Je(i);i=0;for(var o;a;){if(a.nodeType===3){if(o=i+a.textContent.length,i<=s&&o>=s)return{node:a,offset:s-i};i=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),a=i.focusedElem,o=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(o!==null&&Ne(a)){if(s=o.start,i=o.end,i===void 0&&(i=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(i,a.value.length);else if(i=(s=a.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var rt=a.textContent.length,et=Math.min(o.start,rt);o=o.end===void 0?et:Math.min(o.end,rt),!i.extend&&et>o&&(rt=o,o=et,et=rt),rt=Ke(a,et);var at=Ke(a,o);rt&&at&&(i.rangeCount!==1||i.anchorNode!==rt.node||i.anchorOffset!==rt.offset||i.focusNode!==at.node||i.focusOffset!==at.offset)&&(s=s.createRange(),s.setStart(rt.node,rt.offset),i.removeAllRanges(),et>o?(i.addRange(s),i.extend(at.node,at.offset)):(s.setEnd(at.node,at.offset),i.addRange(s)))}}for(s=[],i=a;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)i=s[a],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(s=new td("onSelect","select",null,s,a),i.push({event:s,listeners:o}),s.target=Qe)))}function Ve(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ye)return Xe[i]=s[a];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,a){var o=i.type||"unknown-event";i.currentTarget=a,Ub(o,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var o=i[a],rt=o.event;o=o.listeners;e:{var et=void 0;if(s)for(var at=o.length-1;0<=at;at--){var ot=o[at],nt=ot.instance,it=ot.currentTarget;if(ot=ot.listener,nt!==et&&rt.isPropagationStopped())break e;nf(rt,ot,it),et=nt}else for(at=0;at<o.length;at++){if(ot=o[at],nt=ot.instance,it=ot.currentTarget,ot=ot.listener,nt!==et&&rt.isPropagationStopped())break e;nf(rt,ot,it),et=nt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var a=s[of];a===void 0&&(a=s[of]=new Set);var o=i+"__bubble";a.has(o)||(pf(s,i,2,!1),a.add(o))}function qf(i,s,a){var o=0;s&&(o|=4),pf(a,i,o,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,i),qf(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,a,o){switch(jd(s)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}a=rt.bind(null,s,a,i),rt=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(rt=!0),o?rt!==void 0?i.addEventListener(s,a,{capture:!0,passive:rt}):i.addEventListener(s,a,!0):rt!==void 0?i.addEventListener(s,a,{passive:rt}):i.addEventListener(s,a,!1)}function hd(i,s,a,o,rt){var et=o;if(!(s&1)&&!(s&2)&&o!==null)e:for(;;){if(o===null)return;var at=o.tag;if(at===3||at===4){var ot=o.stateNode.containerInfo;if(ot===rt||ot.nodeType===8&&ot.parentNode===rt)break;if(at===4)for(at=o.return;at!==null;){var nt=at.tag;if((nt===3||nt===4)&&(nt=at.stateNode.containerInfo,nt===rt||nt.nodeType===8&&nt.parentNode===rt))return;at=at.return}for(;ot!==null;){if(at=Wc(ot),at===null)return;if(nt=at.tag,nt===5||nt===6){o=et=at;continue e}ot=ot.parentNode}}o=o.return}Jb(function(){var it=et,j=xb(a),_=[];e:{var $=df.get(i);if($!==void 0){var tt=td,st=i;switch(i){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":tt=Rd;break;case"focusin":st="focus",tt=Fd;break;case"focusout":st="blur",tt=Fd;break;case"beforeblur":case"afterblur":tt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vd;break;case $e:case af:case bf:tt=Hd;break;case cf:tt=Xd;break;case"scroll":tt=vd;break;case"wheel":tt=Zd;break;case"copy":case"cut":case"paste":tt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Td}var lt=(s&4)!==0,ht=!lt&&i==="scroll",ft=lt?$!==null?$+"Capture":null:$;lt=[];for(var ct=it,mt;ct!==null;){mt=ct;var gt=mt.stateNode;if(mt.tag===5&&gt!==null&&(mt=gt,ft!==null&&(gt=Kb(ct,ft),gt!=null&&lt.push(tf(ct,gt,mt)))),ht)break;ct=ct.return}0<lt.length&&($=new tt($,st,null,a,j),_.push({event:$,listeners:lt}))}}if(!(s&7)){e:{if($=i==="mouseover"||i==="pointerover",tt=i==="mouseout"||i==="pointerout",$&&a!==wb&&(st=a.relatedTarget||a.fromElement)&&(Wc(st)||st[uf]))break e;if((tt||$)&&($=j.window===j?j:($=j.ownerDocument)?$.defaultView||$.parentWindow:window,tt?(st=a.relatedTarget||a.toElement,tt=it,st=st?Wc(st):null,st!==null&&(ht=Vb(st),st!==ht||st.tag!==5&&st.tag!==6)&&(st=null)):(tt=null,st=it),tt!==st)){if(lt=Bd,gt="onMouseLeave",ft="onMouseEnter",ct="mouse",(i==="pointerout"||i==="pointerover")&&(lt=Td,gt="onPointerLeave",ft="onPointerEnter",ct="pointer"),ht=tt==null?$:ue(tt),mt=st==null?$:ue(st),$=new lt(gt,ct+"leave",tt,a,j),$.target=ht,$.relatedTarget=mt,gt=null,Wc(j)===it&&(lt=new lt(ft,ct+"enter",st,a,j),lt.target=mt,lt.relatedTarget=ht,gt=lt),ht=gt,tt&&st)t:{for(lt=tt,ft=st,ct=0,mt=lt;mt;mt=vf(mt))ct++;for(mt=0,gt=ft;gt;gt=vf(gt))mt++;for(;0<ct-mt;)lt=vf(lt),ct--;for(;0<mt-ct;)ft=vf(ft),mt--;for(;ct--;){if(lt===ft||ft!==null&&lt===ft.alternate)break t;lt=vf(lt),ft=vf(ft)}lt=null}else lt=null;tt!==null&&wf(_,$,tt,lt,!1),st!==null&&ht!==null&&wf(_,ht,st,lt,!0)}}e:{if($=it?ue(it):window,tt=$.nodeName&&$.nodeName.toLowerCase(),tt==="select"||tt==="input"&&$.type==="file")var yt=ve;else if(me($))if(we)yt=Fe;else{yt=De;var ut=Ce}else(tt=$.nodeName)&&tt.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(yt=Ee);if(yt&&(yt=yt(i,it))){ne(_,yt,a,j);break e}ut&&ut(i,$,it),i==="focusout"&&(ut=$._wrapperState)&&ut.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(ut=it?ue(it):window,i){case"focusin":(me(ut)||ut.contentEditable==="true")&&(Qe=ut,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_,a,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_,a,j)}var wt;if(ae)e:{switch(i){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else ie?ge(i,a)&&(bt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(de&&a.locale!=="ko"&&(ie||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&ie&&(wt=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ut=oe(it,bt),0<ut.length&&(bt=new Ld(bt,i,null,a,j),_.push({event:bt,listeners:ut}),wt?bt.data=wt:(wt=he(a),wt!==null&&(bt.data=wt)))),(wt=ce?je(i,a):ke(i,a))&&(it=oe(it,"onBeforeInput"),0<it.length&&(j=new Ld("onBeforeInput","beforeinput",null,a,j),_.push({event:j,listeners:it}),j.data=wt))}se(_,s)})}function tf(i,s,a){return{instance:i,listener:s,currentTarget:a}}function oe(i,s){for(var a=s+"Capture",o=[];i!==null;){var rt=i,et=rt.stateNode;rt.tag===5&&et!==null&&(rt=et,et=Kb(i,a),et!=null&&o.unshift(tf(i,et,rt)),et=Kb(i,s),et!=null&&o.push(tf(i,et,rt))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,a,o,rt){for(var et=s._reactName,at=[];a!==null&&a!==o;){var ot=a,nt=ot.alternate,it=ot.stateNode;if(nt!==null&&nt===o)break;ot.tag===5&&it!==null&&(ot=it,rt?(nt=Kb(a,et),nt!=null&&at.unshift(tf(a,nt,ot))):rt||(nt=Kb(a,et),nt!=null&&at.push(tf(a,nt,ot)))),a=a.return}at.length!==0&&i.push({event:s,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,a){if(s=zf(s),zf(i)!==s&&a)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var a=s,o=0;do{var rt=a.nextSibling;if(i.removeChild(a),rt&&rt.nodeType===8)if(a=rt.data,a==="/$"){if(o===0){i.removeChild(rt),bd(s);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=rt}while(a);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var a=i.parentNode;a;){if(s=a[uf]||a[Of]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Mf(i);i!==null;){if(a=i[Of])return a;i=Mf(i)}return s}i=a,a=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var a=i.type.contextTypes;if(!a)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===s)return o.__reactInternalMemoizedMaskedChildContext;var rt={},et;for(et in a)rt[et]=s[et];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,a){if(H.current!==Vf)throw Error(p$1(168));G(H,s),G(Wf,a)}function bg(i,s,a){var o=i.stateNode;if(s=s.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var rt in o)if(!(rt in s))throw Error(p$1(108,Ra(i)||"Unknown",rt));return A({},a,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,a){var o=i.stateNode;if(!o)throw Error(p$1(169));a?(i=bg(i,s,Xf),o.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var a=eg;for(C=1;i<a.length;i++){var o=a[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),rt}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var rt=32-oc(o)-1;o&=~(1<<rt),a+=1;var et=32-oc(s)+rt;if(30<et){var at=rt-rt%5;et=(o&(1<<at)-1).toString(32),o>>=at,rt-=at,rg=1<<32-oc(s)+rt|a<<rt|o,sg=et+i}else rg=1<<et|a<<rt|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=i,s=i.deletions,s===null?(i.deletions=[a],i.flags|=16):s.push(a)}function Cg(i,s){switch(i.tag){case 5:var a=i.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=s,a.return=i,i.child=a,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var a=s;if(!Cg(i,s)){if(Dg(i))throw Error(p$1(418));s=Lf(a.nextSibling);var o=xg;s&&Cg(i,s)?Ag(o,a):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s,a){if(i=a.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$1(309));var o=a.stateNode}if(!o)throw Error(p$1(147,i));var rt=o,et=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===et?s.ref:(s=function(at){var ot=rt.refs;at===null?delete ot[et]:ot[et]=at},s._stringRef=et,s)}if(typeof i!="string")throw Error(p$1(284));if(!a._owner)throw Error(p$1(290,i))}return i}function Mg(i,s){throw i=Object.prototype.toString.call(s),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ng(i){var s=i._init;return s(i._payload)}function Og(i){function s(ft,ct){if(i){var mt=ft.deletions;mt===null?(ft.deletions=[ct],ft.flags|=16):mt.push(ct)}}function a(ft,ct){if(!i)return null;for(;ct!==null;)s(ft,ct),ct=ct.sibling;return null}function o(ft,ct){for(ft=new Map;ct!==null;)ct.key!==null?ft.set(ct.key,ct):ft.set(ct.index,ct),ct=ct.sibling;return ft}function rt(ft,ct){return ft=Pg(ft,ct),ft.index=0,ft.sibling=null,ft}function et(ft,ct,mt){return ft.index=mt,i?(mt=ft.alternate,mt!==null?(mt=mt.index,mt<ct?(ft.flags|=2,ct):mt):(ft.flags|=2,ct)):(ft.flags|=1048576,ct)}function at(ft){return i&&ft.alternate===null&&(ft.flags|=2),ft}function ot(ft,ct,mt,gt){return ct===null||ct.tag!==6?(ct=Qg(mt,ft.mode,gt),ct.return=ft,ct):(ct=rt(ct,mt),ct.return=ft,ct)}function nt(ft,ct,mt,gt){var yt=mt.type;return yt===ya?j(ft,ct,mt.props.children,gt,mt.key):ct!==null&&(ct.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Ha&&Ng(yt)===ct.type)?(gt=rt(ct,mt.props),gt.ref=Lg(ft,ct,mt),gt.return=ft,gt):(gt=Rg(mt.type,mt.key,mt.props,null,ft.mode,gt),gt.ref=Lg(ft,ct,mt),gt.return=ft,gt)}function it(ft,ct,mt,gt){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==mt.containerInfo||ct.stateNode.implementation!==mt.implementation?(ct=Sg(mt,ft.mode,gt),ct.return=ft,ct):(ct=rt(ct,mt.children||[]),ct.return=ft,ct)}function j(ft,ct,mt,gt,yt){return ct===null||ct.tag!==7?(ct=Tg(mt,ft.mode,gt,yt),ct.return=ft,ct):(ct=rt(ct,mt),ct.return=ft,ct)}function _(ft,ct,mt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return ct=Qg(""+ct,ft.mode,mt),ct.return=ft,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return mt=Rg(ct.type,ct.key,ct.props,null,ft.mode,mt),mt.ref=Lg(ft,null,ct),mt.return=ft,mt;case wa:return ct=Sg(ct,ft.mode,mt),ct.return=ft,ct;case Ha:var gt=ct._init;return _(ft,gt(ct._payload),mt)}if(eb(ct)||Ka(ct))return ct=Tg(ct,ft.mode,mt,null),ct.return=ft,ct;Mg(ft,ct)}return null}function $(ft,ct,mt,gt){var yt=ct!==null?ct.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return yt!==null?null:ot(ft,ct,""+mt,gt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return mt.key===yt?nt(ft,ct,mt,gt):null;case wa:return mt.key===yt?it(ft,ct,mt,gt):null;case Ha:return yt=mt._init,$(ft,ct,yt(mt._payload),gt)}if(eb(mt)||Ka(mt))return yt!==null?null:j(ft,ct,mt,gt,null);Mg(ft,mt)}return null}function tt(ft,ct,mt,gt,yt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return ft=ft.get(mt)||null,ot(ct,ft,""+gt,yt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return ft=ft.get(gt.key===null?mt:gt.key)||null,nt(ct,ft,gt,yt);case wa:return ft=ft.get(gt.key===null?mt:gt.key)||null,it(ct,ft,gt,yt);case Ha:var ut=gt._init;return tt(ft,ct,mt,ut(gt._payload),yt)}if(eb(gt)||Ka(gt))return ft=ft.get(mt)||null,j(ct,ft,gt,yt,null);Mg(ct,gt)}return null}function st(ft,ct,mt,gt){for(var yt=null,ut=null,wt=ct,bt=ct=0,vt=null;wt!==null&&bt<mt.length;bt++){wt.index>bt?(vt=wt,wt=null):vt=wt.sibling;var Et=$(ft,wt,mt[bt],gt);if(Et===null){wt===null&&(wt=vt);break}i&&wt&&Et.alternate===null&&s(ft,wt),ct=et(Et,ct,bt),ut===null?yt=Et:ut.sibling=Et,ut=Et,wt=vt}if(bt===mt.length)return a(ft,wt),I&&tg(ft,bt),yt;if(wt===null){for(;bt<mt.length;bt++)wt=_(ft,mt[bt],gt),wt!==null&&(ct=et(wt,ct,bt),ut===null?yt=wt:ut.sibling=wt,ut=wt);return I&&tg(ft,bt),yt}for(wt=o(ft,wt);bt<mt.length;bt++)vt=tt(wt,ft,bt,mt[bt],gt),vt!==null&&(i&&vt.alternate!==null&&wt.delete(vt.key===null?bt:vt.key),ct=et(vt,ct,bt),ut===null?yt=vt:ut.sibling=vt,ut=vt);return i&&wt.forEach(function($t){return s(ft,$t)}),I&&tg(ft,bt),yt}function lt(ft,ct,mt,gt){var yt=Ka(mt);if(typeof yt!="function")throw Error(p$1(150));if(mt=yt.call(mt),mt==null)throw Error(p$1(151));for(var ut=yt=null,wt=ct,bt=ct=0,vt=null,Et=mt.next();wt!==null&&!Et.done;bt++,Et=mt.next()){wt.index>bt?(vt=wt,wt=null):vt=wt.sibling;var $t=$(ft,wt,Et.value,gt);if($t===null){wt===null&&(wt=vt);break}i&&wt&&$t.alternate===null&&s(ft,wt),ct=et($t,ct,bt),ut===null?yt=$t:ut.sibling=$t,ut=$t,wt=vt}if(Et.done)return a(ft,wt),I&&tg(ft,bt),yt;if(wt===null){for(;!Et.done;bt++,Et=mt.next())Et=_(ft,Et.value,gt),Et!==null&&(ct=et(Et,ct,bt),ut===null?yt=Et:ut.sibling=Et,ut=Et);return I&&tg(ft,bt),yt}for(wt=o(ft,wt);!Et.done;bt++,Et=mt.next())Et=tt(wt,ft,bt,Et.value,gt),Et!==null&&(i&&Et.alternate!==null&&wt.delete(Et.key===null?bt:Et.key),ct=et(Et,ct,bt),ut===null?yt=Et:ut.sibling=Et,ut=Et);return i&&wt.forEach(function(Tt){return s(ft,Tt)}),I&&tg(ft,bt),yt}function ht(ft,ct,mt,gt){if(typeof mt=="object"&&mt!==null&&mt.type===ya&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:e:{for(var yt=mt.key,ut=ct;ut!==null;){if(ut.key===yt){if(yt=mt.type,yt===ya){if(ut.tag===7){a(ft,ut.sibling),ct=rt(ut,mt.props.children),ct.return=ft,ft=ct;break e}}else if(ut.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Ha&&Ng(yt)===ut.type){a(ft,ut.sibling),ct=rt(ut,mt.props),ct.ref=Lg(ft,ut,mt),ct.return=ft,ft=ct;break e}a(ft,ut);break}else s(ft,ut);ut=ut.sibling}mt.type===ya?(ct=Tg(mt.props.children,ft.mode,gt,mt.key),ct.return=ft,ft=ct):(gt=Rg(mt.type,mt.key,mt.props,null,ft.mode,gt),gt.ref=Lg(ft,ct,mt),gt.return=ft,ft=gt)}return at(ft);case wa:e:{for(ut=mt.key;ct!==null;){if(ct.key===ut)if(ct.tag===4&&ct.stateNode.containerInfo===mt.containerInfo&&ct.stateNode.implementation===mt.implementation){a(ft,ct.sibling),ct=rt(ct,mt.children||[]),ct.return=ft,ft=ct;break e}else{a(ft,ct);break}else s(ft,ct);ct=ct.sibling}ct=Sg(mt,ft.mode,gt),ct.return=ft,ft=ct}return at(ft);case Ha:return ut=mt._init,ht(ft,ct,ut(mt._payload),gt)}if(eb(mt))return st(ft,ct,mt,gt);if(Ka(mt))return lt(ft,ct,mt,gt);Mg(ft,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,ct!==null&&ct.tag===6?(a(ft,ct.sibling),ct=rt(ct,mt),ct.return=ft,ft=ct):(a(ft,ct),ct=Qg(mt,ft.mode,gt),ct.return=ft,ft=ct),at(ft)):a(ft,ct)}return ht}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var s=Wg.current;E(Wg),i._currentValue=s}function bh(i,s,a){for(;i!==null;){var o=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),i===a)break;i=i.return}}function ch(i,s){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(dh=!0),i.firstContext=null)}function eh(i){var s=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return s}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,s,a,o){var rt=s.interleaved;return rt===null?(a.next=a,gh(s)):(a.next=rt.next,rt.next=a),s.interleaved=a,ih(i,o)}function ih(i,s){i.lanes|=s;var a=i.alternate;for(a!==null&&(a.lanes|=s),a=i,i=i.return;i!==null;)i.childLanes|=s,a=i.alternate,a!==null&&(a.childLanes|=s),a=i,i=i.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(i,s,a){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var rt=o.pending;return rt===null?s.next=s:(s.next=rt.next,rt.next=s),o.pending=s,ih(i,a)}return rt=o.interleaved,rt===null?(s.next=s,gh(o)):(s.next=rt.next,rt.next=s),o.interleaved=s,ih(i,a)}function oh(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var o=s.lanes;o&=i.pendingLanes,a|=o,s.lanes=a,Cc(i,a)}}function ph(i,s){var a=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var rt=null,et=null;if(a=a.firstBaseUpdate,a!==null){do{var at={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};et===null?rt=et=at:et=et.next=at,a=a.next}while(a!==null);et===null?rt=et=s:et=et.next=s}else rt=et=s;a={baseState:o.baseState,firstBaseUpdate:rt,lastBaseUpdate:et,shared:o.shared,effects:o.effects},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}function qh(i,s,a,o){var rt=i.updateQueue;jh=!1;var et=rt.firstBaseUpdate,at=rt.lastBaseUpdate,ot=rt.shared.pending;if(ot!==null){rt.shared.pending=null;var nt=ot,it=nt.next;nt.next=null,at===null?et=it:at.next=it,at=nt;var j=i.alternate;j!==null&&(j=j.updateQueue,ot=j.lastBaseUpdate,ot!==at&&(ot===null?j.firstBaseUpdate=it:ot.next=it,j.lastBaseUpdate=nt))}if(et!==null){var _=rt.baseState;at=0,j=it=nt=null,ot=et;do{var $=ot.lane,tt=ot.eventTime;if((o&$)===$){j!==null&&(j=j.next={eventTime:tt,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var st=i,lt=ot;switch($=s,tt=a,lt.tag){case 1:if(st=lt.payload,typeof st=="function"){_=st.call(tt,_,$);break e}_=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=lt.payload,$=typeof st=="function"?st.call(tt,_,$):st,$==null)break e;_=A({},_,$);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&(i.flags|=64,$=rt.effects,$===null?rt.effects=[ot]:$.push(ot))}else tt={eventTime:tt,lane:$,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},j===null?(it=j=tt,nt=_):j=j.next=tt,at|=$;if(ot=ot.next,ot===null){if(ot=rt.shared.pending,ot===null)break;$=ot,ot=$.next,$.next=null,rt.lastBaseUpdate=$,rt.shared.pending=null}}while(!0);if(j===null&&(nt=_),rt.baseState=nt,rt.firstBaseUpdate=it,rt.lastBaseUpdate=j,s=rt.shared.interleaved,s!==null){rt=s;do at|=rt.lane,rt=rt.next;while(rt!==s)}else et===null&&(rt.shared.lanes=0);rh|=at,i.lanes=at,i.memoizedState=_}}function sh(i,s,a){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var o=i[s],rt=o.callback;if(rt!==null){if(o.callback=null,o=a,typeof rt!="function")throw Error(p$1(191,rt));rt.call(o)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$1(174));return i}function yh(i,s){switch(G(wh,s),G(vh$1,i),G(uh,th),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(uh),G(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(i){xh(wh.current);var s=xh(uh.current),a=lb(s,i.type);s!==a&&(G(vh$1,i),G(uh,a))}function Bh(i){vh$1.current===i&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!He(i[a],s[a]))return!1;return!0}function Nh(i,s,a,o,rt,et){if(Hh=et,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=a(o,rt),Jh){et=0;do{if(Jh=!1,Kh=0,25<=et)throw Error(p$1(301));et+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,i=a(o,rt)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p$1(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=i;else{if(i===null)throw Error(p$1(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=Uh(),a=s.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=i;var o=N,rt=o.baseQueue,et=a.pending;if(et!==null){if(rt!==null){var at=rt.next;rt.next=et.next,et.next=at}o.baseQueue=rt=et,a.pending=null}if(rt!==null){et=rt.next,o=o.baseState;var ot=at=null,nt=null,it=et;do{var j=it.lane;if((Hh&j)===j)nt!==null&&(nt=nt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),o=it.hasEagerState?it.eagerState:i(o,it.action);else{var _={lane:j,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};nt===null?(ot=nt=_,at=o):nt=nt.next=_,M.lanes|=j,rh|=j}it=it.next}while(it!==null&&it!==et);nt===null?at=o:nt.next=ot,He(o,s.memoizedState)||(dh=!0),s.memoizedState=o,s.baseState=at,s.baseQueue=nt,a.lastRenderedState=o}if(i=a.interleaved,i!==null){rt=i;do et=rt.lane,M.lanes|=et,rh|=et,rt=rt.next;while(rt!==i)}else rt===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Xh(i){var s=Uh(),a=s.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=i;var o=a.dispatch,rt=a.pending,et=s.memoizedState;if(rt!==null){a.pending=null;var at=rt=rt.next;do et=i(et,at.action),at=at.next;while(at!==rt);He(et,s.memoizedState)||(dh=!0),s.memoizedState=et,s.baseQueue===null&&(s.baseState=et),a.lastRenderedState=et}return[et,o]}function Yh(){}function Zh(i,s){var a=M,o=Uh(),rt=s(),et=!He(o.memoizedState,rt);if(et&&(o.memoizedState=rt,dh=!0),o=o.queue,$h(ai.bind(null,a,o,i),[i]),o.getSnapshot!==s||et||O!==null&&O.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,o,rt,s),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(a,s,rt)}return rt}function di(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function ci(i,s,a,o){s.value=a,s.getSnapshot=o,ei(s)&&fi(i)}function ai(i,s,a){return a(function(){ei(s)&&fi(i)})}function ei(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!He(i,a)}catch{return!0}}function fi(i){var s=ih(i,1);s!==null&&gi(s,i,1,-1)}function hi(i){var s=Th();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},s.queue=i,i=i.dispatch=ii.bind(null,M,i),[s.memoizedState,i]}function bi(i,s,a,o){return i={tag:i,create:s,destroy:a,deps:o,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=i.next=i):(a=s.lastEffect,a===null?s.lastEffect=i.next=i:(o=a.next,a.next=i,i.next=o,s.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,s,a,o){var rt=Th();M.flags|=i,rt.memoizedState=bi(1|s,a,void 0,o===void 0?null:o)}function li(i,s,a,o){var rt=Uh();o=o===void 0?null:o;var et=void 0;if(N!==null){var at=N.memoizedState;if(et=at.destroy,o!==null&&Mh(o,at.deps)){rt.memoizedState=bi(s,a,et,o);return}}M.flags|=i,rt.memoizedState=bi(1|s,a,et,o)}function mi(i,s){return ki(8390656,8,i,s)}function $h(i,s){return li(2048,8,i,s)}function ni(i,s){return li(4,2,i,s)}function oi(i,s){return li(4,4,i,s)}function pi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qi(i,s,a){return a=a!=null?a.concat([i]):null,li(4,4,pi.bind(null,s,i),a)}function ri(){}function si(i,s){var a=Uh();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(a.memoizedState=[i,s],i)}function ti(i,s){var a=Uh();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(i=i(),a.memoizedState=[i,s],i)}function ui(i,s,a){return Hh&21?(He(a,s)||(a=yc(),M.lanes|=a,rh|=a,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=a)}function vi(i,s){var a=C;C=a!==0&&4>a?a:4,i(!0);var o=Gh.transition;Gh.transition={};try{i(!1),s()}finally{C=a,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(i,s,a){var o=yi(i);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(s,a);else if(a=hh(i,s,a,o),a!==null){var rt=R();gi(a,i,o,rt),Bi(a,s,o)}}function ii(i,s,a){var o=yi(i),rt={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(s,rt);else{var et=i.alternate;if(i.lanes===0&&(et===null||et.lanes===0)&&(et=s.lastRenderedReducer,et!==null))try{var at=s.lastRenderedState,ot=et(at,a);if(rt.hasEagerState=!0,rt.eagerState=ot,He(ot,at)){var nt=s.interleaved;nt===null?(rt.next=rt,gh(s)):(rt.next=nt.next,nt.next=rt),s.interleaved=rt;return}}catch{}finally{}a=hh(i,s,rt,o),a!==null&&(rt=R(),gi(a,i,o,rt),Bi(a,s,o))}}function zi(i){var s=i.alternate;return i===M||s!==null&&s===M}function Ai(i,s){Jh=Ih=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Bi(i,s,a){if(a&4194240){var o=s.lanes;o&=i.pendingLanes,a|=o,s.lanes=a,Cc(i,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,s){return Th().memoizedState=[i,s===void 0?null:s],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,s,a){return a=a!=null?a.concat([i]):null,ki(4194308,4,pi.bind(null,s,i),a)},useLayoutEffect:function(i,s){return ki(4194308,4,i,s)},useInsertionEffect:function(i,s){return ki(4,2,i,s)},useMemo:function(i,s){var a=Th();return s=s===void 0?null:s,i=i(),a.memoizedState=[i,s],i},useReducer:function(i,s,a){var o=Th();return s=a!==void 0?a(s):s,o.memoizedState=o.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},o.queue=i,i=i.dispatch=xi.bind(null,M,i),[o.memoizedState,i]},useRef:function(i){var s=Th();return i={current:i},s.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),s=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,a){var o=M,rt=Th();if(I){if(a===void 0)throw Error(p$1(407));a=a()}else{if(a=s(),Q===null)throw Error(p$1(349));Hh&30||di(o,s,a)}rt.memoizedState=a;var et={value:a,getSnapshot:s};return rt.queue=et,mi(ai.bind(null,o,et,i),[i]),o.flags|=2048,bi(9,ci.bind(null,o,et,a,s),void 0,null),a},useId:function(){var i=Th(),s=Q.identifierPrefix;if(I){var a=sg,o=rg;a=(o&~(1<<32-oc(o)-1)).toString(32)+a,s=":"+s+"R"+a,a=Kh++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Lh++,s=":"+s+"r"+a.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return ui(s,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return N===null?s.memoizedState=i:ui(s,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var a in i)s[a]===void 0&&(s[a]=i[a]);return s}return s}function Di(i,s,a,o){s=i.memoizedState,a=a(o,s),a=a==null?s:A({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,a){i=i._reactInternals;var o=R(),rt=yi(i),et=mh(o,rt);et.payload=s,a!=null&&(et.callback=a),s=nh(i,et,rt),s!==null&&(gi(s,i,rt,o),oh(s,i,rt))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var o=R(),rt=yi(i),et=mh(o,rt);et.tag=1,et.payload=s,a!=null&&(et.callback=a),s=nh(i,et,rt),s!==null&&(gi(s,i,rt,o),oh(s,i,rt))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=R(),o=yi(i),rt=mh(a,o);rt.tag=2,s!=null&&(rt.callback=s),s=nh(i,rt,o),s!==null&&(gi(s,i,o,a),oh(s,i,o))}};function Fi(i,s,a,o,rt,et,at){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,et,at):s.prototype&&s.prototype.isPureReactComponent?!Ie(a,o)||!Ie(rt,et):!0}function Gi(i,s,a){var o=!1,rt=Vf,et=s.contextType;return typeof et=="object"&&et!==null?et=eh(et):(rt=Zf(s)?Xf:H.current,o=s.contextTypes,et=(o=o!=null)?Yf(i,rt):Vf),s=new s(a,et),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,i.stateNode=s,s._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=rt,i.__reactInternalMemoizedMaskedChildContext=et),s}function Hi(i,s,a,o){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==i&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(i,s,a,o){var rt=i.stateNode;rt.props=a,rt.state=i.memoizedState,rt.refs={},kh(i);var et=s.contextType;typeof et=="object"&&et!==null?rt.context=eh(et):(et=Zf(s)?Xf:H.current,rt.context=Yf(i,et)),rt.state=i.memoizedState,et=s.getDerivedStateFromProps,typeof et=="function"&&(Di(i,s,et,a),rt.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(s=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),s!==rt.state&&Ei.enqueueReplaceState(rt,rt.state,null),qh(i,a,rt,o),rt.state=i.memoizedState),typeof rt.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,s){try{var a="",o=s;do a+=Pa(o),o=o.return;while(o);var rt=a}catch(et){rt=`
Error generating stack: `+et.message+`
`+et.stack}return{value:i,source:s,stack:rt,digest:null}}function Ki(i,s,a){return{value:i,source:null,stack:a??null,digest:s??null}}function Li(i,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,s,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var o=s.value;return a.callback=function(){Oi||(Oi=!0,Pi=o),Li(i,s)},a}function Qi(i,s,a){a=mh(-1,a),a.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var rt=s.value;a.payload=function(){return o(rt)},a.callback=function(){Li(i,s)}}var et=i.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(a.callback=function(){Li(i,s),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var at=s.stack;this.componentDidCatch(s.value,{componentStack:at!==null?at:""})}),a}function Si(i,s,a){var o=i.pingCache;if(o===null){o=i.pingCache=new Mi;var rt=new Set;o.set(s,rt)}else rt=o.get(s),rt===void 0&&(rt=new Set,o.set(s,rt));rt.has(a)||(rt.add(a),i=Ti.bind(null,i,s,a),s.then(i,i))}function Ui(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vi(i,s,a,o,rt){return i.mode&1?(i.flags|=65536,i.lanes=rt,i):(i===s?i.flags|=65536:(i.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=mh(-1,1),s.tag=2,nh(a,s,1))),a.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,s,a,o){s.child=i===null?Vg(s,null,a,o):Ug(s,i.child,a,o)}function Yi(i,s,a,o,rt){a=a.render;var et=s.ref;return ch(s,rt),o=Nh(i,s,a,o,et,rt),a=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~rt,Zi(i,s,rt)):(I&&a&&vg(s),s.flags|=1,Xi(i,s,o,rt),s.child)}function $i(i,s,a,o,rt){if(i===null){var et=a.type;return typeof et=="function"&&!aj(et)&&et.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=et,bj(i,s,et,o,rt)):(i=Rg(a.type,null,o,s,s.mode,rt),i.ref=s.ref,i.return=s,s.child=i)}if(et=i.child,!(i.lanes&rt)){var at=et.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(at,o)&&i.ref===s.ref)return Zi(i,s,rt)}return s.flags|=1,i=Pg(et,o),i.ref=s.ref,i.return=s,s.child=i}function bj(i,s,a,o,rt){if(i!==null){var et=i.memoizedProps;if(Ie(et,o)&&i.ref===s.ref)if(dh=!1,s.pendingProps=o=et,(i.lanes&rt)!==0)i.flags&131072&&(dh=!0);else return s.lanes=i.lanes,Zi(i,s,rt)}return cj(i,s,a,o,rt)}function dj(i,s,a){var o=s.pendingProps,rt=o.children,et=i!==null?i.memoizedState:null;if(o.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=a;else{if(!(a&1073741824))return i=et!==null?et.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=et!==null?et.baseLanes:a,G(ej,fj),fj|=o}else et!==null?(o=et.baseLanes|a,s.memoizedState=null):o=a,G(ej,fj),fj|=o;return Xi(i,s,rt,a),s.child}function gj(i,s){var a=s.ref;(i===null&&a!==null||i!==null&&i.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function cj(i,s,a,o,rt){var et=Zf(a)?Xf:H.current;return et=Yf(s,et),ch(s,rt),a=Nh(i,s,a,o,et,rt),o=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~rt,Zi(i,s,rt)):(I&&o&&vg(s),s.flags|=1,Xi(i,s,a,rt),s.child)}function hj(i,s,a,o,rt){if(Zf(a)){var et=!0;cg(s)}else et=!1;if(ch(s,rt),s.stateNode===null)ij(i,s),Gi(s,a,o),Ii(s,a,o,rt),o=!0;else if(i===null){var at=s.stateNode,ot=s.memoizedProps;at.props=ot;var nt=at.context,it=a.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf(a)?Xf:H.current,it=Yf(s,it));var j=a.getDerivedStateFromProps,_=typeof j=="function"||typeof at.getSnapshotBeforeUpdate=="function";_||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==o||nt!==it)&&Hi(s,at,o,it),jh=!1;var $=s.memoizedState;at.state=$,qh(s,o,at,rt),nt=s.memoizedState,ot!==o||$!==nt||Wf.current||jh?(typeof j=="function"&&(Di(s,a,j,o),nt=s.memoizedState),(ot=jh||Fi(s,a,ot,o,$,nt,it))?(_||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(s.flags|=4194308)):(typeof at.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=nt),at.props=o,at.state=nt,at.context=it,o=ot):(typeof at.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{at=s.stateNode,lh(i,s),ot=s.memoizedProps,it=s.type===s.elementType?ot:Ci(s.type,ot),at.props=it,_=s.pendingProps,$=at.context,nt=a.contextType,typeof nt=="object"&&nt!==null?nt=eh(nt):(nt=Zf(a)?Xf:H.current,nt=Yf(s,nt));var tt=a.getDerivedStateFromProps;(j=typeof tt=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==_||$!==nt)&&Hi(s,at,o,nt),jh=!1,$=s.memoizedState,at.state=$,qh(s,o,at,rt);var st=s.memoizedState;ot!==_||$!==st||Wf.current||jh?(typeof tt=="function"&&(Di(s,a,tt,o),st=s.memoizedState),(it=jh||Fi(s,a,it,o,$,st,nt)||!1)?(j||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(o,st,nt),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(o,st,nt)),typeof at.componentDidUpdate=="function"&&(s.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof at.componentDidUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=st),at.props=o,at.state=st,at.context=nt,o=it):(typeof at.componentDidUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),o=!1)}return jj(i,s,a,o,et,rt)}function jj(i,s,a,o,rt,et){gj(i,s);var at=(s.flags&128)!==0;if(!o&&!at)return rt&&dg(s,a,!1),Zi(i,s,et);o=s.stateNode,Wi.current=s;var ot=at&&typeof a.getDerivedStateFromError!="function"?null:o.render();return s.flags|=1,i!==null&&at?(s.child=Ug(s,i.child,null,et),s.child=Ug(s,null,ot,et)):Xi(i,s,ot,et),s.memoizedState=o.state,rt&&dg(s,a,!0),s.child}function kj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),yh(i,s.containerInfo)}function lj(i,s,a,o,rt){return Ig(),Jg(rt),s.flags|=256,Xi(i,s,a,o),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,s,a){var o=s.pendingProps,rt=L.current,et=!1,at=(s.flags&128)!==0,ot;if((ot=at)||(ot=i!==null&&i.memoizedState===null?!1:(rt&2)!==0),ot?(et=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(rt|=1),G(L,rt&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(at=o.children,i=o.fallback,et?(o=s.mode,et=s.child,at={mode:"hidden",children:at},!(o&1)&&et!==null?(et.childLanes=0,et.pendingProps=at):et=pj(at,o,0,null),i=Tg(i,o,a,null),et.return=s,i.return=s,et.sibling=i,s.child=et,s.child.memoizedState=nj(a),s.memoizedState=mj,i):qj(s,at));if(rt=i.memoizedState,rt!==null&&(ot=rt.dehydrated,ot!==null))return rj(i,s,at,o,ot,rt,a);if(et){et=o.fallback,at=s.mode,rt=i.child,ot=rt.sibling;var nt={mode:"hidden",children:o.children};return!(at&1)&&s.child!==rt?(o=s.child,o.childLanes=0,o.pendingProps=nt,s.deletions=null):(o=Pg(rt,nt),o.subtreeFlags=rt.subtreeFlags&14680064),ot!==null?et=Pg(ot,et):(et=Tg(et,at,a,null),et.flags|=2),et.return=s,o.return=s,o.sibling=et,s.child=o,o=et,et=s.child,at=i.child.memoizedState,at=at===null?nj(a):{baseLanes:at.baseLanes|a,cachePool:null,transitions:at.transitions},et.memoizedState=at,et.childLanes=i.childLanes&~a,s.memoizedState=mj,o}return et=i.child,i=et.sibling,o=Pg(et,{mode:"visible",children:o.children}),!(s.mode&1)&&(o.lanes=a),o.return=s,o.sibling=null,i!==null&&(a=s.deletions,a===null?(s.deletions=[i],s.flags|=16):a.push(i)),s.child=o,s.memoizedState=null,o}function qj(i,s){return s=pj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function sj(i,s,a,o){return o!==null&&Jg(o),Ug(s,i.child,null,a),i=qj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function rj(i,s,a,o,rt,et,at){if(a)return s.flags&256?(s.flags&=-257,o=Ki(Error(p$1(422))),sj(i,s,at,o)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(et=o.fallback,rt=s.mode,o=pj({mode:"visible",children:o.children},rt,0,null),et=Tg(et,rt,at,null),et.flags|=2,o.return=s,et.return=s,o.sibling=et,s.child=o,s.mode&1&&Ug(s,i.child,null,at),s.child.memoizedState=nj(at),s.memoizedState=mj,et);if(!(s.mode&1))return sj(i,s,at,null);if(rt.data==="$!"){if(o=rt.nextSibling&&rt.nextSibling.dataset,o)var ot=o.dgst;return o=ot,et=Error(p$1(419)),o=Ki(et,o,void 0),sj(i,s,at,o)}if(ot=(at&i.childLanes)!==0,dh||ot){if(o=Q,o!==null){switch(at&-at){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(o.suspendedLanes|at)?0:rt,rt!==0&&rt!==et.retryLane&&(et.retryLane=rt,ih(i,rt),gi(o,i,rt,-1))}return tj(),o=Ki(Error(p$1(421))),sj(i,s,at,o)}return rt.data==="$?"?(s.flags|=128,s.child=i.child,s=uj.bind(null,i),rt._reactRetry=s,null):(i=et.treeContext,yg=Lf(rt.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=qj(s,o.children),s.flags|=4096,s)}function vj(i,s,a){i.lanes|=s;var o=i.alternate;o!==null&&(o.lanes|=s),bh(i.return,s,a)}function wj(i,s,a,o,rt){var et=i.memoizedState;et===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:rt}:(et.isBackwards=s,et.rendering=null,et.renderingStartTime=0,et.last=o,et.tail=a,et.tailMode=rt)}function xj(i,s,a){var o=s.pendingProps,rt=o.revealOrder,et=o.tail;if(Xi(i,s,o.children,a),o=L.current,o&2)o=o&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,a,s);else if(i.tag===19)vj(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G(L,o),!(s.mode&1))s.memoizedState=null;else switch(rt){case"forwards":for(a=s.child,rt=null;a!==null;)i=a.alternate,i!==null&&Ch(i)===null&&(rt=a),a=a.sibling;a=rt,a===null?(rt=s.child,s.child=null):(rt=a.sibling,a.sibling=null),wj(s,!1,rt,a,et);break;case"backwards":for(a=null,rt=s.child,s.child=null;rt!==null;){if(i=rt.alternate,i!==null&&Ch(i)===null){s.child=rt;break}i=rt.sibling,rt.sibling=a,a=rt,rt=i}wj(s,!0,a,null,et);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),rh|=s.lanes,!(a&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p$1(153));if(s.child!==null){for(i=s.child,a=Pg(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Pg(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function yj(i,s,a){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var o=s.type._context,rt=s.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=rt;break;case 13:if(o=s.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):a&s.child.childLanes?oj(i,s,a):(G(L,L.current&1),i=Zi(i,s,a),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(o=(a&s.childLanes)!==0,i.flags&128){if(o)return xj(i,s,a);s.flags|=128}if(rt=s.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return s.lanes=0,dj(i,s,a)}return Zi(i,s,a)}var zj,Aj,Bj,Cj;zj=function(i,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(i,s,a,o){var rt=i.memoizedProps;if(rt!==o){i=s.stateNode,xh(uh.current);var et=null;switch(a){case"input":rt=Ya(i,rt),o=Ya(i,o),et=[];break;case"select":rt=A({},rt,{value:void 0}),o=A({},o,{value:void 0}),et=[];break;case"textarea":rt=gb(i,rt),o=gb(i,o),et=[];break;default:typeof rt.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub(a,o);var at;a=null;for(it in rt)if(!o.hasOwnProperty(it)&&rt.hasOwnProperty(it)&&rt[it]!=null)if(it==="style"){var ot=rt[it];for(at in ot)ot.hasOwnProperty(at)&&(a||(a={}),a[at]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?et||(et=[]):(et=et||[]).push(it,null));for(it in o){var nt=o[it];if(ot=rt!=null?rt[it]:void 0,o.hasOwnProperty(it)&&nt!==ot&&(nt!=null||ot!=null))if(it==="style")if(ot){for(at in ot)!ot.hasOwnProperty(at)||nt&&nt.hasOwnProperty(at)||(a||(a={}),a[at]="");for(at in nt)nt.hasOwnProperty(at)&&ot[at]!==nt[at]&&(a||(a={}),a[at]=nt[at])}else a||(et||(et=[]),et.push(it,a)),a=nt;else it==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,ot=ot?ot.__html:void 0,nt!=null&&ot!==nt&&(et=et||[]).push(it,nt)):it==="children"?typeof nt!="string"&&typeof nt!="number"||(et=et||[]).push(it,""+nt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(nt!=null&&it==="onScroll"&&D("scroll",i),et||ot===nt||(et=[])):(et=et||[]).push(it,nt))}a&&(et=et||[]).push("style",a);var it=et;(s.updateQueue=it)&&(s.flags|=4)}};Cj=function(i,s,a,o){a!==o&&(s.flags|=4)};function Dj(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,o=0;if(s)for(var rt=i.child;rt!==null;)a|=rt.lanes|rt.childLanes,o|=rt.subtreeFlags&14680064,o|=rt.flags&14680064,rt.return=i,rt=rt.sibling;else for(rt=i.child;rt!==null;)a|=rt.lanes|rt.childLanes,o|=rt.subtreeFlags,o|=rt.flags,rt.return=i,rt=rt.sibling;return i.subtreeFlags|=o,i.childLanes=a,s}function Ej(i,s,a){var o=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return o=s.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,s),S(s),null;case 5:Bh(s);var rt=xh(wh.current);if(a=s.type,i!==null&&s.stateNode!=null)Bj(i,s,a,o,rt),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!o){if(s.stateNode===null)throw Error(p$1(166));return S(s),null}if(i=xh(uh.current),Gg(s)){o=s.stateNode,a=s.type;var et=s.memoizedProps;switch(o[Of]=s,o[Pf]=et,i=(s.mode&1)!==0,a){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,et),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!et.multiple},D("invalid",o);break;case"textarea":hb(o,et),D("invalid",o)}ub(a,et),rt=null;for(var at in et)if(et.hasOwnProperty(at)){var ot=et[at];at==="children"?typeof ot=="string"?o.textContent!==ot&&(et.suppressHydrationWarning!==!0&&Af(o.textContent,ot,i),rt=["children",ot]):typeof ot=="number"&&o.textContent!==""+ot&&(et.suppressHydrationWarning!==!0&&Af(o.textContent,ot,i),rt=["children",""+ot]):ea.hasOwnProperty(at)&&ot!=null&&at==="onScroll"&&D("scroll",o)}switch(a){case"input":Va(o),db(o,et,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(o.onclick=Bf)}o=rt,s.updateQueue=o,o!==null&&(s.flags|=4)}else{at=rt.nodeType===9?rt:rt.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(a)),i==="http://www.w3.org/1999/xhtml"?a==="script"?(i=at.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=at.createElement(a,{is:o.is}):(i=at.createElement(a),a==="select"&&(at=i,o.multiple?at.multiple=!0:o.size&&(at.size=o.size))):i=at.createElementNS(i,a),i[Of]=s,i[Pf]=o,zj(i,s,!1,!1),s.stateNode=i;e:{switch(at=vb(a,o),a){case"dialog":D("cancel",i),D("close",i),rt=o;break;case"iframe":case"object":case"embed":D("load",i),rt=o;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],i);rt=o;break;case"source":D("error",i),rt=o;break;case"img":case"image":case"link":D("error",i),D("load",i),rt=o;break;case"details":D("toggle",i),rt=o;break;case"input":Za(i,o),rt=Ya(i,o),D("invalid",i);break;case"option":rt=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},rt=A({},o,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,o),rt=gb(i,o),D("invalid",i);break;default:rt=o}ub(a,rt),ot=rt;for(et in ot)if(ot.hasOwnProperty(et)){var nt=ot[et];et==="style"?sb(i,nt):et==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(i,nt)):et==="children"?typeof nt=="string"?(a!=="textarea"||nt!=="")&&ob(i,nt):typeof nt=="number"&&ob(i,""+nt):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?nt!=null&&et==="onScroll"&&D("scroll",i):nt!=null&&ta(i,et,nt,at))}switch(a){case"input":Va(i),db(i,o,!1);break;case"textarea":Va(i),jb(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa(o.value));break;case"select":i.multiple=!!o.multiple,et=o.value,et!=null?fb(i,!!o.multiple,et,!1):o.defaultValue!=null&&fb(i,!!o.multiple,o.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(i.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Cj(i,s,i.memoizedProps,o);else{if(typeof o!="string"&&s.stateNode===null)throw Error(p$1(166));if(a=xh(wh.current),xh(uh.current),Gg(s)){if(o=s.stateNode,a=s.memoizedProps,o[Of]=s,(et=o.nodeValue!==a)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,a,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,a,(i.mode&1)!==0)}et&&(s.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Of]=s,s.stateNode=o}return S(s),null;case 13:if(E(L),o=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,et=!1;else if(et=Gg(s),o!==null&&o.dehydrated!==null){if(i===null){if(!et)throw Error(p$1(318));if(et=s.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),et=!1}else zg!==null&&(Fj(zg),zg=null),et=!0;if(!et)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(s.child.flags|=8192,s.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),et=s.memoizedState,et===null)return S(s),null;if(o=(s.flags&128)!==0,at=et.rendering,at===null)if(o)Dj(et,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(at=Ch(i),at!==null){for(s.flags|=128,Dj(et,!1),o=at.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),s.subtreeFlags=0,o=a,a=s.child;a!==null;)et=a,i=o,et.flags&=14680066,at=et.alternate,at===null?(et.childLanes=0,et.lanes=i,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=at.childLanes,et.lanes=at.lanes,et.child=at.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=at.memoizedProps,et.memoizedState=at.memoizedState,et.updateQueue=at.updateQueue,et.type=at.type,i=at.dependencies,et.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a=a.sibling;return G(L,L.current&1|2),s.child}i=i.sibling}et.tail!==null&&B()>Gj&&(s.flags|=128,o=!0,Dj(et,!1),s.lanes=4194304)}else{if(!o)if(i=Ch(at),i!==null){if(s.flags|=128,o=!0,a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Dj(et,!0),et.tail===null&&et.tailMode==="hidden"&&!at.alternate&&!I)return S(s),null}else 2*B()-et.renderingStartTime>Gj&&a!==1073741824&&(s.flags|=128,o=!0,Dj(et,!1),s.lanes=4194304);et.isBackwards?(at.sibling=s.child,s.child=at):(a=et.last,a!==null?a.sibling=at:s.child=at,et.last=at)}return et.tail!==null?(s=et.tail,et.rendering=s,et.tail=s.sibling,et.renderingStartTime=B(),s.sibling=null,a=L.current,G(L,o?a&1|2:a&1),s):(S(s),null);case 22:case 23:return Hj(),o=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(s.flags|=8192),o&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Ij(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,s){var a=i.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){W(i,s,o)}else a.current=null}function Mj(i,s,a){try{a()}catch(o){W(i,s,o)}}var Nj=!1;function Oj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var rt=o.anchorOffset,et=o.focusNode;o=o.focusOffset;try{a.nodeType,et.nodeType}catch{a=null;break e}var at=0,ot=-1,nt=-1,it=0,j=0,_=i,$=null;t:for(;;){for(var tt;_!==a||rt!==0&&_.nodeType!==3||(ot=at+rt),_!==et||o!==0&&_.nodeType!==3||(nt=at+o),_.nodeType===3&&(at+=_.nodeValue.length),(tt=_.firstChild)!==null;)$=_,_=tt;for(;;){if(_===i)break t;if($===a&&++it===rt&&(ot=at),$===et&&++j===o&&(nt=at),(tt=_.nextSibling)!==null)break;_=$,$=_.parentNode}_=tt}a=ot===-1||nt===-1?null:{start:ot,end:nt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:i,selectionRange:a},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var st=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var lt=st.memoizedProps,ht=st.memoizedState,ft=s.stateNode,ct=ft.getSnapshotBeforeUpdate(s.elementType===s.type?lt:Ci(s.type,lt),ht);ft.__reactInternalSnapshotBeforeUpdate=ct}break;case 3:var mt=s.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(gt){W(s,s.return,gt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return st=Nj,Nj=!1,st}function Pj(i,s,a){var o=s.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var rt=o=o.next;do{if((rt.tag&i)===i){var et=rt.destroy;rt.destroy=void 0,et!==void 0&&Mj(s,a,et)}rt=rt.next}while(rt!==o)}}function Qj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&i)===i){var o=a.create;a.destroy=o()}a=a.next}while(a!==s)}}function Rj(i){var s=i.ref;if(s!==null){var a=i.stateNode;switch(i.tag){case 5:i=a;break;default:i=a}typeof s=="function"?s(i):s.current=i}}function Sj(i){var s=i.alternate;s!==null&&(i.alternate=null,Sj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,s,a){var o=i.tag;if(o===5||o===6)i=i.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(i,s):a.insertBefore(i,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(i,a)):(s=a,s.appendChild(i)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Vj(i,s,a),i=i.sibling;i!==null;)Vj(i,s,a),i=i.sibling}function Wj(i,s,a){var o=i.tag;if(o===5||o===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Wj(i,s,a),i=i.sibling;i!==null;)Wj(i,s,a),i=i.sibling}var X=null,Xj=!1;function Yj(i,s,a){for(a=a.child;a!==null;)Zj(i,s,a),a=a.sibling}function Zj(i,s,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Lj(a,s);case 6:var o=X,rt=Xj;X=null,Yj(i,s,a),X=o,Xj=rt,X!==null&&(Xj?(i=X,a=a.stateNode,i.nodeType===8?i.parentNode.removeChild(a):i.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Xj?(i=X,a=a.stateNode,i.nodeType===8?Kf(i.parentNode,a):i.nodeType===1&&Kf(i,a),bd(i)):Kf(X,a.stateNode));break;case 4:o=X,rt=Xj,X=a.stateNode.containerInfo,Xj=!0,Yj(i,s,a),X=o,Xj=rt;break;case 0:case 11:case 14:case 15:if(!U&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){rt=o=o.next;do{var et=rt,at=et.destroy;et=et.tag,at!==void 0&&(et&2||et&4)&&Mj(a,s,at),rt=rt.next}while(rt!==o)}Yj(i,s,a);break;case 1:if(!U&&(Lj(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(ot){W(a,s,ot)}Yj(i,s,a);break;case 21:Yj(i,s,a);break;case 22:a.mode&1?(U=(o=U)||a.memoizedState!==null,Yj(i,s,a),U=o):Yj(i,s,a);break;default:Yj(i,s,a)}}function ak(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var a=i.stateNode;a===null&&(a=i.stateNode=new Kj),s.forEach(function(o){var rt=bk.bind(null,i,o);a.has(o)||(a.add(o),o.then(rt,rt))})}}function ck(i,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var rt=a[o];try{var et=i,at=s,ot=at;e:for(;ot!==null;){switch(ot.tag){case 5:X=ot.stateNode,Xj=!1;break e;case 3:X=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X===null)throw Error(p$1(160));Zj(et,at,rt),X=null,Xj=!1;var nt=rt.alternate;nt!==null&&(nt.return=null),rt.return=null}catch(it){W(rt,s,it)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,i),s=s.sibling}function dk(i,s){var a=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(s,i),ek(i),o&4){try{Pj(3,i,i.return),Qj(3,i)}catch(lt){W(i,i.return,lt)}try{Pj(5,i,i.return)}catch(lt){W(i,i.return,lt)}}break;case 1:ck(s,i),ek(i),o&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(s,i),ek(i),o&512&&a!==null&&Lj(a,a.return),i.flags&32){var rt=i.stateNode;try{ob(rt,"")}catch(lt){W(i,i.return,lt)}}if(o&4&&(rt=i.stateNode,rt!=null)){var et=i.memoizedProps,at=a!==null?a.memoizedProps:et,ot=i.type,nt=i.updateQueue;if(i.updateQueue=null,nt!==null)try{ot==="input"&&et.type==="radio"&&et.name!=null&&ab(rt,et),vb(ot,at);var it=vb(ot,et);for(at=0;at<nt.length;at+=2){var j=nt[at],_=nt[at+1];j==="style"?sb(rt,_):j==="dangerouslySetInnerHTML"?nb(rt,_):j==="children"?ob(rt,_):ta(rt,j,_,it)}switch(ot){case"input":bb(rt,et);break;case"textarea":ib(rt,et);break;case"select":var $=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!et.multiple;var tt=et.value;tt!=null?fb(rt,!!et.multiple,tt,!1):$!==!!et.multiple&&(et.defaultValue!=null?fb(rt,!!et.multiple,et.defaultValue,!0):fb(rt,!!et.multiple,et.multiple?[]:"",!1))}rt[Pf]=et}catch(lt){W(i,i.return,lt)}}break;case 6:if(ck(s,i),ek(i),o&4){if(i.stateNode===null)throw Error(p$1(162));rt=i.stateNode,et=i.memoizedProps;try{rt.nodeValue=et}catch(lt){W(i,i.return,lt)}}break;case 3:if(ck(s,i),ek(i),o&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(lt){W(i,i.return,lt)}break;case 4:ck(s,i),ek(i);break;case 13:ck(s,i),ek(i),rt=i.child,rt.flags&8192&&(et=rt.memoizedState!==null,rt.stateNode.isHidden=et,!et||rt.alternate!==null&&rt.alternate.memoizedState!==null||(fk=B())),o&4&&ak(i);break;case 22:if(j=a!==null&&a.memoizedState!==null,i.mode&1?(U=(it=U)||j,ck(s,i),U=it):ck(s,i),ek(i),o&8192){if(it=i.memoizedState!==null,(i.stateNode.isHidden=it)&&!j&&i.mode&1)for(V=i,j=i.child;j!==null;){for(_=V=j;V!==null;){switch($=V,tt=$.child,$.tag){case 0:case 11:case 14:case 15:Pj(4,$,$.return);break;case 1:Lj($,$.return);var st=$.stateNode;if(typeof st.componentWillUnmount=="function"){o=$,a=$.return;try{s=o,st.props=s.memoizedProps,st.state=s.memoizedState,st.componentWillUnmount()}catch(lt){W(o,a,lt)}}break;case 5:Lj($,$.return);break;case 22:if($.memoizedState!==null){gk(_);continue}}tt!==null?(tt.return=$,V=tt):gk(_)}j=j.sibling}e:for(j=null,_=i;;){if(_.tag===5){if(j===null){j=_;try{rt=_.stateNode,it?(et=rt.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(ot=_.stateNode,nt=_.memoizedProps.style,at=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,ot.style.display=rb("display",at))}catch(lt){W(i,i.return,lt)}}}else if(_.tag===6){if(j===null)try{_.stateNode.nodeValue=it?"":_.memoizedProps}catch(lt){W(i,i.return,lt)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===i)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;j===_&&(j=null),_=_.return}j===_&&(j=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:ck(s,i),ek(i),o&4&&ak(i);break;case 21:break;default:ck(s,i),ek(i)}}function ek(i){var s=i.flags;if(s&2){try{e:{for(var a=i.return;a!==null;){if(Tj(a)){var o=a;break e}a=a.return}throw Error(p$1(160))}switch(o.tag){case 5:var rt=o.stateNode;o.flags&32&&(ob(rt,""),o.flags&=-33);var et=Uj(i);Wj(i,et,rt);break;case 3:case 4:var at=o.stateNode.containerInfo,ot=Uj(i);Vj(i,ot,at);break;default:throw Error(p$1(161))}}catch(nt){W(i,i.return,nt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hk(i,s,a){V=i,ik(i)}function ik(i,s,a){for(var o=(i.mode&1)!==0;V!==null;){var rt=V,et=rt.child;if(rt.tag===22&&o){var at=rt.memoizedState!==null||Jj;if(!at){var ot=rt.alternate,nt=ot!==null&&ot.memoizedState!==null||U;ot=Jj;var it=U;if(Jj=at,(U=nt)&&!it)for(V=rt;V!==null;)at=V,nt=at.child,at.tag===22&&at.memoizedState!==null?jk(rt):nt!==null?(nt.return=at,V=nt):jk(rt);for(;et!==null;)V=et,ik(et),et=et.sibling;V=rt,Jj=ot,U=it}kk(i)}else rt.subtreeFlags&8772&&et!==null?(et.return=rt,V=et):kk(i)}}function kk(i){for(;V!==null;){var s=V;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var o=s.stateNode;if(s.flags&4&&!U)if(a===null)o.componentDidMount();else{var rt=s.elementType===s.type?a.memoizedProps:Ci(s.type,a.memoizedProps);o.componentDidUpdate(rt,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var et=s.updateQueue;et!==null&&sh(s,et,o);break;case 3:var at=s.updateQueue;if(at!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}sh(s,at,a)}break;case 5:var ot=s.stateNode;if(a===null&&s.flags&4){a=ot;var nt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&a.focus();break;case"img":nt.src&&(a.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var it=s.alternate;if(it!==null){var j=it.memoizedState;if(j!==null){var _=j.dehydrated;_!==null&&bd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||s.flags&512&&Rj(s)}catch($){W(s,s.return,$)}}if(s===i){V=null;break}if(a=s.sibling,a!==null){a.return=s.return,V=a;break}V=s.return}}function gk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var a=s.sibling;if(a!==null){a.return=s.return,V=a;break}V=s.return}}function jk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Qj(4,s)}catch(nt){W(s,a,nt)}break;case 1:var o=s.stateNode;if(typeof o.componentDidMount=="function"){var rt=s.return;try{o.componentDidMount()}catch(nt){W(s,rt,nt)}}var et=s.return;try{Rj(s)}catch(nt){W(s,et,nt)}break;case 5:var at=s.return;try{Rj(s)}catch(nt){W(s,at,nt)}}}catch(nt){W(s,s.return,nt)}if(s===i){V=null;break}var ot=s.sibling;if(ot!==null){ot.return=s.return,V=ot;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,s,a,o){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(i,a,o),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=a),T===4&&Ck(i,Z)),Dk(i,o),a===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,s){var a=i.callbackNode;wc(i,s);var o=uc(i,i===Q?Z:0);if(o===0)a!==null&&bc(a),i.callbackNode=null,i.callbackPriority=0;else if(s=o&-o,i.callbackPriority!==s){if(a!=null&&bc(a),s===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(o)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,i))}i.callbackPriority=s,i.callbackNode=a}}function Gk(i,s){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var a=i.callbackNode;if(Hk()&&i.callbackNode!==a)return null;var o=uc(i,i===Q?Z:0);if(o===0)return null;if(o&30||o&i.expiredLanes||s)s=Ik(i,o);else{s=o;var rt=K;K|=2;var et=Jk();(Q!==i||Z!==s)&&(uk=null,Gj=B()+500,Kk(i,s));do try{Lk();break}catch(ot){Mk(i,ot)}while(!0);$g(),mk.current=et,K=rt,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(rt=xc(i),rt!==0&&(o=rt,s=Nk(i,rt))),s===1)throw a=pk,Kk(i,0),Ck(i,o),Dk(i,B()),a;if(s===6)Ck(i,o);else{if(rt=i.current.alternate,!(o&30)&&!Ok(rt)&&(s=Ik(i,o),s===2&&(et=xc(i),et!==0&&(o=et,s=Nk(i,et))),s===1))throw a=pk,Kk(i,0),Ck(i,o),Dk(i,B()),a;switch(i.finishedWork=rt,i.finishedLanes=o,s){case 0:case 1:throw Error(p$1(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,o),(o&130023424)===o&&(s=fk+500-B(),10<s)){if(uc(i,0)!==0)break;if(rt=i.suspendedLanes,(rt&o)!==o){R(),i.pingedLanes|=i.suspendedLanes&rt;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 4:if(Ck(i,o),(o&4194240)===o)break;for(s=i.eventTimes,rt=-1;0<o;){var at=31-oc(o);et=1<<at,at=s[at],at>rt&&(rt=at),o&=~et}if(o=rt,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),o);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(i,B()),i.callbackNode===a?Gk.bind(null,i):null}function Nk(i,s){var a=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,s).flags|=256),i=Ik(i,s),i!==2&&(s=tk,tk=a,s!==null&&Fj(s)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var s=i;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var rt=a[o],et=rt.getSnapshot;rt=rt.value;try{if(!He(et(),rt))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(i,s){for(s&=~rk,s&=~qk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var a=31-oc(s),o=1<<a;i[a]=-1,s&=~o}}function Ek(i){if(K&6)throw Error(p$1(327));Hk();var s=uc(i,0);if(!(s&1))return Dk(i,B()),null;var a=Ik(i,s);if(i.tag!==0&&a===2){var o=xc(i);o!==0&&(s=o,a=Nk(i,o))}if(a===1)throw a=pk,Kk(i,0),Ck(i,s),Dk(i,B()),a;if(a===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,s){var a=K;K|=1;try{return i(s)}finally{K=a,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var a=ok.transition,o=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=o,ok.transition=a,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,s){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;if(a!==-1&&(i.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var o=a;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(a=fh[s],o=a.interleaved,o!==null){a.interleaved=null;var rt=o.next,et=a.pending;if(et!==null){var at=et.next;et.next=rt,o.next=at}a.pending=o}fh=null}return i}function Mk(i,s){do{var a=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var rt=o.queue;rt!==null&&(rt.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T=1,pk=s,Y=null;break}e:{var et=i,at=a.return,ot=a,nt=s;if(s=Z,ot.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var it=nt,j=ot,_=j.tag;if(!(j.mode&1)&&(_===0||_===11||_===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var tt=Ui(at);if(tt!==null){tt.flags&=-257,Vi(tt,at,ot,et,s),tt.mode&1&&Si(et,it,s),s=tt,nt=it;var st=s.updateQueue;if(st===null){var lt=new Set;lt.add(nt),s.updateQueue=lt}else st.add(nt);break e}else{if(!(s&1)){Si(et,it,s),tj();break e}nt=Error(p$1(426))}}else if(I&&ot.mode&1){var ht=Ui(at);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Vi(ht,at,ot,et,s),Jg(Ji(nt,ot));break e}}et=nt=Ji(nt,ot),T!==4&&(T=2),sk===null?sk=[et]:sk.push(et),et=at;do{switch(et.tag){case 3:et.flags|=65536,s&=-s,et.lanes|=s;var ft=Ni(et,nt,s);ph(et,ft);break e;case 1:ot=nt;var ct=et.type,mt=et.stateNode;if(!(et.flags&128)&&(typeof ct.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Ri===null||!Ri.has(mt)))){et.flags|=65536,s&=-s,et.lanes|=s;var gt=Qi(et,ot,s);ph(et,gt);break e}}et=et.return}while(et!==null)}Sk(a)}catch(yt){s=yt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,s){var a=K;K|=2;var o=Jk();(Q!==i||Z!==s)&&(uk=null,Kk(i,s));do try{Tk();break}catch(rt){Mk(i,rt)}while(!0);if($g(),K=a,mk.current=o,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var s=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,s===null?Sk(i):Y=s,nk.current=null}function Sk(i){var s=i;do{var a=s.alternate;if(i=s.return,s.flags&32768){if(a=Ij(a,s),a!==null){a.flags&=32767,Y=a;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(a=Ej(a,s,fj),a!==null){Y=a;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Pk(i,s,a){var o=C,rt=ok.transition;try{ok.transition=null,C=1,Wk(i,s,a,o)}finally{ok.transition=rt,C=o}return null}function Wk(i,s,a,o){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));a=i.finishedWork;var rt=i.finishedLanes;if(a===null)return null;if(i.finishedWork=null,i.finishedLanes=0,a===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var et=a.lanes|a.childLanes;if(Bc(i,et),i===Q&&(Y=Q=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),et=(a.flags&15990)!==0,a.subtreeFlags&15990||et){et=ok.transition,ok.transition=null;var at=C;C=1;var ot=K;K|=4,nk.current=null,Oj(i,a),dk(a,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=a,hk(a),dc(),K=ot,C=at,ok.transition=et}else i.current=a;if(vk&&(vk=!1,wk=i,xk=rt),et=i.pendingLanes,et===0&&(Ri=null),mc(a.stateNode),Dk(i,B()),s!==null)for(o=i.onRecoverableError,a=0;a<s.length;a++)rt=s[a],o(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),et=i.pendingLanes,et&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),s=ok.transition,a=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var o=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var rt=K;for(K|=4,V=i.current;V!==null;){var et=V,at=et.child;if(V.flags&16){var ot=et.deletions;if(ot!==null){for(var nt=0;nt<ot.length;nt++){var it=ot[nt];for(V=it;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Pj(8,j,et)}var _=j.child;if(_!==null)_.return=j,V=_;else for(;V!==null;){j=V;var $=j.sibling,tt=j.return;if(Sj(j),j===it){V=null;break}if($!==null){$.return=tt,V=$;break}V=tt}}}var st=et.alternate;if(st!==null){var lt=st.child;if(lt!==null){st.child=null;do{var ht=lt.sibling;lt.sibling=null,lt=ht}while(lt!==null)}}V=et}}if(et.subtreeFlags&2064&&at!==null)at.return=et,V=at;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Pj(9,et,et.return)}var ft=et.sibling;if(ft!==null){ft.return=et.return,V=ft;break e}V=et.return}}var ct=i.current;for(V=ct;V!==null;){at=V;var mt=at.child;if(at.subtreeFlags&2064&&mt!==null)mt.return=at,V=mt;else e:for(at=ct;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(yt){W(ot,ot.return,yt)}if(ot===at){V=null;break e}var gt=ot.sibling;if(gt!==null){gt.return=ot.return,V=gt;break e}V=ot.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}o=!0}return o}finally{C=a,ok.transition=s}}return!1}function Xk(i,s,a){s=Ji(a,s),s=Ni(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s))}function W(i,s,a){if(i.tag===3)Xk(i,i,a);else for(;s!==null;){if(s.tag===3){Xk(s,i,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){i=Ji(a,i),i=Qi(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i));break}}s=s.return}}function Ti(i,s,a){var o=i.pingCache;o!==null&&o.delete(s),s=R(),i.pingedLanes|=i.suspendedLanes&a,Q===i&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=a),Dk(i,s)}function Yk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var a=R();i=ih(i,s),i!==null&&(Ac(i,s,a),Dk(i,a))}function uj(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Yk(i,a)}function bk(i,s){var a=0;switch(i.tag){case 13:var o=i.stateNode,rt=i.memoizedState;rt!==null&&(a=rt.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p$1(314))}o!==null&&o.delete(s),Yk(i,a)}var Vk;Vk=function(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&a)&&!(s.flags&128))return dh=!1,yj(i,s,a);dh=!!(i.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var o=s.type;ij(i,s),i=s.pendingProps;var rt=Yf(s,H.current);ch(s,a),rt=Nh(null,s,o,i,rt,a);var et=Sh();return s.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(o)?(et=!0,cg(s)):et=!1,s.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,kh(s),rt.updater=Ei,s.stateNode=rt,rt._reactInternals=s,Ii(s,o,i,a),s=jj(null,s,o,!0,et,a)):(s.tag=0,I&&et&&vg(s),Xi(null,s,rt,a),s=s.child),s;case 16:o=s.elementType;e:{switch(ij(i,s),i=s.pendingProps,rt=o._init,o=rt(o._payload),s.type=o,rt=s.tag=Zk(o),i=Ci(o,i),rt){case 0:s=cj(null,s,o,i,a);break e;case 1:s=hj(null,s,o,i,a);break e;case 11:s=Yi(null,s,o,i,a);break e;case 14:s=$i(null,s,o,Ci(o.type,i),a);break e}throw Error(p$1(306,o,""))}return s;case 0:return o=s.type,rt=s.pendingProps,rt=s.elementType===o?rt:Ci(o,rt),cj(i,s,o,rt,a);case 1:return o=s.type,rt=s.pendingProps,rt=s.elementType===o?rt:Ci(o,rt),hj(i,s,o,rt,a);case 3:e:{if(kj(s),i===null)throw Error(p$1(387));o=s.pendingProps,et=s.memoizedState,rt=et.element,lh(i,s),qh(s,o,null,a);var at=s.memoizedState;if(o=at.element,et.isDehydrated)if(et={element:o,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},s.updateQueue.baseState=et,s.memoizedState=et,s.flags&256){rt=Ji(Error(p$1(423)),s),s=lj(i,s,o,a,rt);break e}else if(o!==rt){rt=Ji(Error(p$1(424)),s),s=lj(i,s,o,a,rt);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,a=Vg(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),o===rt){s=Zi(i,s,a);break e}Xi(i,s,o,a)}s=s.child}return s;case 5:return Ah(s),i===null&&Eg(s),o=s.type,rt=s.pendingProps,et=i!==null?i.memoizedProps:null,at=rt.children,Ef(o,rt)?at=null:et!==null&&Ef(o,et)&&(s.flags|=32),gj(i,s),Xi(i,s,at,a),s.child;case 6:return i===null&&Eg(s),null;case 13:return oj(i,s,a);case 4:return yh(s,s.stateNode.containerInfo),o=s.pendingProps,i===null?s.child=Ug(s,null,o,a):Xi(i,s,o,a),s.child;case 11:return o=s.type,rt=s.pendingProps,rt=s.elementType===o?rt:Ci(o,rt),Yi(i,s,o,rt,a);case 7:return Xi(i,s,s.pendingProps,a),s.child;case 8:return Xi(i,s,s.pendingProps.children,a),s.child;case 12:return Xi(i,s,s.pendingProps.children,a),s.child;case 10:e:{if(o=s.type._context,rt=s.pendingProps,et=s.memoizedProps,at=rt.value,G(Wg,o._currentValue),o._currentValue=at,et!==null)if(He(et.value,at)){if(et.children===rt.children&&!Wf.current){s=Zi(i,s,a);break e}}else for(et=s.child,et!==null&&(et.return=s);et!==null;){var ot=et.dependencies;if(ot!==null){at=et.child;for(var nt=ot.firstContext;nt!==null;){if(nt.context===o){if(et.tag===1){nt=mh(-1,a&-a),nt.tag=2;var it=et.updateQueue;if(it!==null){it=it.shared;var j=it.pending;j===null?nt.next=nt:(nt.next=j.next,j.next=nt),it.pending=nt}}et.lanes|=a,nt=et.alternate,nt!==null&&(nt.lanes|=a),bh(et.return,a,s),ot.lanes|=a;break}nt=nt.next}}else if(et.tag===10)at=et.type===s.type?null:et.child;else if(et.tag===18){if(at=et.return,at===null)throw Error(p$1(341));at.lanes|=a,ot=at.alternate,ot!==null&&(ot.lanes|=a),bh(at,a,s),at=et.sibling}else at=et.child;if(at!==null)at.return=et;else for(at=et;at!==null;){if(at===s){at=null;break}if(et=at.sibling,et!==null){et.return=at.return,at=et;break}at=at.return}et=at}Xi(i,s,rt.children,a),s=s.child}return s;case 9:return rt=s.type,o=s.pendingProps.children,ch(s,a),rt=eh(rt),o=o(rt),s.flags|=1,Xi(i,s,o,a),s.child;case 14:return o=s.type,rt=Ci(o,s.pendingProps),rt=Ci(o.type,rt),$i(i,s,o,rt,a);case 15:return bj(i,s,s.type,s.pendingProps,a);case 17:return o=s.type,rt=s.pendingProps,rt=s.elementType===o?rt:Ci(o,rt),ij(i,s),s.tag=1,Zf(o)?(i=!0,cg(s)):i=!1,ch(s,a),Gi(s,o,rt),Ii(s,o,rt,a),jj(null,s,o,!0,i,a);case 19:return xj(i,s,a);case 22:return dj(i,s,a)}throw Error(p$1(156,s.tag))};function Fk(i,s){return ac(i,s)}function $k(i,s,a,o){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,a,o){return new $k(i,s,a,o)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,s){var a=i.alternate;return a===null?(a=Bg(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&14680064,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a}function Rg(i,s,a,o,rt,et){var at=2;if(o=i,typeof i=="function")aj(i)&&(at=1);else if(typeof i=="string")at=5;else e:switch(i){case ya:return Tg(a.children,rt,et,s);case za:at=8,rt|=8;break;case Aa:return i=Bg(12,a,s,rt|2),i.elementType=Aa,i.lanes=et,i;case Ea:return i=Bg(13,a,s,rt),i.elementType=Ea,i.lanes=et,i;case Fa:return i=Bg(19,a,s,rt),i.elementType=Fa,i.lanes=et,i;case Ia:return pj(a,rt,et,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,o=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return s=Bg(at,a,s,rt),s.elementType=i,s.type=o,s.lanes=et,s}function Tg(i,s,a,o){return i=Bg(7,i,o,s),i.lanes=a,i}function pj(i,s,a,o){return i=Bg(22,i,o,s),i.elementType=Ia,i.lanes=a,i.stateNode={isHidden:!1},i}function Qg(i,s,a){return i=Bg(6,i,null,s),i.lanes=a,i}function Sg(i,s,a){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function al(i,s,a,o,rt){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function bl(i,s,a,o,rt,et,at,ot,nt){return i=new al(i,s,a,ot,nt),s===1?(s=1,et===!0&&(s|=8)):s=0,et=Bg(3,null,null,s),i.current=et,et.stateNode=i,et.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(et),i}function cl(i,s,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:i,containerInfo:s,implementation:a}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(i.tag===1){var a=i.type;if(Zf(a))return bg(i,a,s)}return s}function el(i,s,a,o,rt,et,at,ot,nt){return i=bl(a,o,!0,i,rt,et,at,ot,nt),i.context=dl(null),a=i.current,o=R(),rt=yi(a),et=mh(o,rt),et.callback=s??null,nh(a,et,rt),i.current.lanes=rt,Ac(i,rt,o),Dk(i,o),i}function fl(i,s,a,o){var rt=s.current,et=R(),at=yi(rt);return a=dl(a),s.context===null?s.context=a:s.pendingContext=a,s=mh(et,at),s.payload={element:i},o=o===void 0?null:o,o!==null&&(s.callback=o),i=nh(rt,s,at),i!==null&&(gi(i,rt,at,et),oh(i,rt,at)),at}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function il(i,s){hl(i,s),(i=i.alternate)&&hl(i,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p$1(409));fl(i,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rk(function(){fl(null,i,null,null)}),s[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Qc.length&&s!==0&&s<Qc[a].priority;a++);Qc.splice(a,0,i),a===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,s,a,o,rt){if(rt){if(typeof o=="function"){var et=o;o=function(){var it=gl(at);et.call(it)}}var at=el(s,o,i,0,null,!1,!1,"",pl);return i._reactRootContainer=at,i[uf]=at.current,sf(i.nodeType===8?i.parentNode:i),Rk(),at}for(;rt=i.lastChild;)i.removeChild(rt);if(typeof o=="function"){var ot=o;o=function(){var it=gl(nt);ot.call(it)}}var nt=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=nt,i[uf]=nt.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(s,nt,a,o)}),nt}function rl(i,s,a,o,rt){var et=a._reactRootContainer;if(et){var at=et;if(typeof rt=="function"){var ot=rt;rt=function(){var nt=gl(at);ot.call(nt)}}fl(s,at,i,rt)}else at=ql(a,s,i,rt,o);return gl(at)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var a=tc(s.pendingLanes);a!==0&&(Cc(s,a|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(i,1);if(o!==null){var rt=R();gi(o,i,1,rt)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var s=ih(i,134217728);if(s!==null){var a=R();gi(s,i,134217728,a)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var s=yi(i),a=ih(i,s);if(a!==null){var o=R();gi(a,i,s,o)}il(i,s)}};Hc=function(){return C};Ic=function(i,s){var a=C;try{return C=i,s()}finally{C=a}};yb=function(i,s,a){switch(s){case"input":if(bb(i,a),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==i&&o.form===i.form){var rt=Db(o);if(!rt)throw Error(p$1(90));Wa(o),bb(o,rt)}}}break;case"textarea":ib(i,a);break;case"select":s=a.value,s!=null&&fb(i,!!a.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$1(200));return cl(i,s,null,a)};reactDom_production_min.createRoot=function(i,s){if(!nl(i))throw Error(p$1(299));var a=!1,o="",rt=kl;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(rt=s.onRecoverableError)),s=bl(i,1,!1,null,null,a,!1,o,rt),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ll(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,s,a){if(!ol(s))throw Error(p$1(200));return rl(null,i,s,!0,a)};reactDom_production_min.hydrateRoot=function(i,s,a){if(!nl(i))throw Error(p$1(405));var o=a!=null&&a.hydratedSources||null,rt=!1,et="",at=kl;if(a!=null&&(a.unstable_strictMode===!0&&(rt=!0),a.identifierPrefix!==void 0&&(et=a.identifierPrefix),a.onRecoverableError!==void 0&&(at=a.onRecoverableError)),s=el(s,null,i,1,a??null,rt,!1,et,at),i[uf]=s.current,sf(i),o)for(i=0;i<o.length;i++)a=o[i],rt=a._getVersion,rt=rt(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,rt]:s.mutableSourceEagerHydrationData.push(a,rt);return new ml(s)};reactDom_production_min.render=function(i,s,a){if(!ol(s))throw Error(p$1(200));return rl(null,i,s,!1,a)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$1(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,a,o){if(!ol(a))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return rl(i,s,a,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,[PortalContextProvider,usePortalContext]=createContext$2({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=i=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:i.zIndex,top:0,left:0,right:0},children:i.children}),DefaultPortal=i=>{const{appendToParentPortal:s,children:a}=i,[o,rt]=reactExports.useState(null),et=reactExports.useRef(null),[,at]=reactExports.useState({});reactExports.useEffect(()=>at({}),[]);const ot=usePortalContext(),nt=usePortalManager();useSafeLayoutEffect$1(()=>{if(!o)return;const j=o.ownerDocument,_=s?ot??j.body:j.body;if(!_)return;et.current=j.createElement("div"),et.current.className=PORTAL_CLASSNAME,_.appendChild(et.current),at({});const $=et.current;return()=>{_.contains($)&&_.removeChild($)}},[o]);const it=nt!=null&&nt.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:nt==null?void 0:nt.zIndex,children:a}):a;return et.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:et.current,children:it}),et.current):jsxRuntimeExports.jsx("span",{ref:j=>{j&&rt(j)}})},ContainerPortal=i=>{const{children:s,containerRef:a,appendToParentPortal:o}=i,rt=a.current,et=rt??(typeof window<"u"?document.body:void 0),at=reactExports.useMemo(()=>{const nt=rt==null?void 0:rt.ownerDocument.createElement("div");return nt&&(nt.className=PORTAL_CLASSNAME),nt},[rt]),[,ot]=reactExports.useState({});return useSafeLayoutEffect$1(()=>ot({}),[]),useSafeLayoutEffect$1(()=>{if(!(!at||!et))return et.appendChild(at),()=>{et.removeChild(at)}},[at,et]),et&&at?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:o?at:null,children:s}),at):null};function Portal(i){const s={appendToParentPortal:!0,...i},{containerRef:a,...o}=s;return a?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:a,...o}):jsxRuntimeExports.jsx(DefaultPortal,{...o})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";function useTheme(){const i=reactExports.useContext(ThemeContext);if(!i)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return i}var ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const i=reactExports.useContext(ColorModeContext);if(i===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return i}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(i={}){const{preventTransition:s=!0}=i,a={setDataset:o=>{const rt=s?a.preventTransition():void 0;document.documentElement.dataset.theme=o,document.documentElement.style.colorScheme=o,rt==null||rt()},setClassName(o){document.body.classList.add(o?classNames.dark:classNames.light),document.body.classList.remove(o?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(o){var rt;return((rt=a.query().matches)!=null?rt:o==="dark")?"dark":"light"},addListener(o){const rt=a.query(),et=at=>{o(at.matches?"dark":"light")};return typeof rt.addListener=="function"?rt.addListener(et):rt.addEventListener("change",et),()=>{typeof rt.removeListener=="function"?rt.removeListener(et):rt.removeEventListener("change",et)}},preventTransition(){const o=document.createElement("style");return o.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(o),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(o)})})}}};return a}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(i){return{ssr:!1,type:"localStorage",get(s){if(!(globalThis!=null&&globalThis.document))return s;let a;try{a=localStorage.getItem(i)||s}catch{}return a||s},set(s){try{localStorage.setItem(i,s)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$2=()=>{};function getTheme(i,s){return i.type==="cookie"&&i.ssr?i.get(s):s}function ColorModeProvider(i){const{value:s,children:a,options:{useSystemColorMode:o,initialColorMode:rt,disableTransitionOnChange:et}={},colorModeManager:at=localStorageManager}=i,ot=rt==="dark"?"dark":"light",[nt,it]=reactExports.useState(()=>getTheme(at,ot)),[j,_]=reactExports.useState(()=>getTheme(at)),{getSystemTheme:$,setClassName:tt,setDataset:st,addListener:lt}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:et}),[et]),ht=rt==="system"&&!nt?j:nt,ft=reactExports.useCallback(gt=>{const yt=gt==="system"?$():gt;it(yt),tt(yt==="dark"),st(yt),at.set(yt)},[at,$,tt,st]);useSafeLayoutEffect$1(()=>{rt==="system"&&_($())},[]),reactExports.useEffect(()=>{const gt=at.get();if(gt){ft(gt);return}if(rt==="system"){ft("system");return}ft(ot)},[at,ot,rt,ft]);const ct=reactExports.useCallback(()=>{ft(ht==="dark"?"light":"dark")},[ht,ft]);reactExports.useEffect(()=>{if(o)return lt(ft)},[o,lt,ft]);const mt=reactExports.useMemo(()=>({colorMode:s??ht,toggleColorMode:s?noop$2:ct,setColorMode:s?noop$2:ft,forced:s!==void 0}),[ht,ct,ft,s]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:mt,children:a})}ColorModeProvider.displayName="ColorModeProvider";var VALID_VALUES=new Set(["dark","light","system"]);function normalize$1(i){let s=i;return VALID_VALUES.has(s)||(s="light"),s}function getScriptSrc(i={}){const{initialColorMode:s="light",type:a="localStorage",storageKey:o="chakra-ui-color-mode"}=i,rt=normalize$1(s),et=a==="cookie",at=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${rt}",r="${o}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,ot=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${rt}",e="${o}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${et?at:ot}`.trim()}function ColorModeScript(i={}){const{nonce:s}=i;return jsxRuntimeExports.jsx("script",{id:"chakra-script",nonce:s,dangerouslySetInnerHTML:{__html:getScriptSrc(i)}})}function useChakra(){const i=useColorMode(),s=useTheme();return{...i,theme:s}}function getTokenValue(i,s,a){var o,rt;if(s==null)return s;const et=at=>{var ot,nt;return(nt=(ot=i.__cssMap)==null?void 0:ot[at])==null?void 0:nt.value};return(rt=(o=et(s))!=null?o:et(a))!=null?rt:a}function getToken(i,s,a){const o=Array.isArray(s)?s:[s],rt=Array.isArray(a)?a:[a];return et=>{const at=rt.filter(Boolean),ot=o.map((nt,it)=>{var j;const _=`${i}.${nt}`;return getTokenValue(et,_,(j=at[it])!=null?j:nt)});return Array.isArray(s)?ot:ot[0]}}var cx=(...i)=>i.filter(Boolean).join(" ");function isObject$2(i){const s=typeof i;return i!=null&&(s==="object"||s==="function")&&!Array.isArray(i)}function runIfFn$2(i,...s){return isFunction$4(i)?i(...s):i}var isFunction$4=i=>typeof i=="function",dataAttr=i=>i?"":void 0,ariaAttr=i=>i?!0:void 0;function callAllHandlers$1(...i){return function(a){i.some(o=>(o==null||o(a),a==null?void 0:a.defaultPrevented))}}function callAll(...i){return function(a){i.forEach(o=>{o==null||o(a)})}}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(i,s){var a=200,o="__lodash_hash_undefined__",rt=800,et=16,at=9007199254740991,ot="[object Arguments]",nt="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",tt="[object Function]",st="[object GeneratorFunction]",lt="[object Map]",ht="[object Number]",ft="[object Null]",ct="[object Object]",mt="[object Proxy]",gt="[object RegExp]",yt="[object Set]",ut="[object String]",wt="[object Undefined]",bt="[object WeakMap]",vt="[object ArrayBuffer]",Et="[object DataView]",$t="[object Float32Array]",Tt="[object Float64Array]",At="[object Int8Array]",Ct="[object Int16Array]",It="[object Int32Array]",Lt="[object Uint8Array]",Ft="[object Uint8ClampedArray]",Dt="[object Uint16Array]",Vt="[object Uint32Array]",Ut=/[\\^$.*+?()[\]{}|]/g,Qt=/^\[object .+?Constructor\]$/,Kt=/^(?:0|[1-9]\d*)$/,Ht={};Ht[$t]=Ht[Tt]=Ht[At]=Ht[Ct]=Ht[It]=Ht[Lt]=Ht[Ft]=Ht[Dt]=Ht[Vt]=!0,Ht[ot]=Ht[nt]=Ht[vt]=Ht[j]=Ht[Et]=Ht[_]=Ht[$]=Ht[tt]=Ht[lt]=Ht[ht]=Ht[ct]=Ht[gt]=Ht[yt]=Ht[ut]=Ht[bt]=!1;var qt=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,nr=typeof self=="object"&&self&&self.Object===Object&&self,tr=qt||nr||Function("return this")(),mr=s&&!s.nodeType&&s,yr=mr&&!0&&i&&!i.nodeType&&i,br=yr&&yr.exports===mr,xr=br&&qt.process,sr=function(){try{var jt=yr&&yr.require&&yr.require("util").types;return jt||xr&&xr.binding&&xr.binding("util")}catch{}}(),ar=sr&&sr.isTypedArray;function rr(jt,or,dr){switch(dr.length){case 0:return jt.call(or);case 1:return jt.call(or,dr[0]);case 2:return jt.call(or,dr[0],dr[1]);case 3:return jt.call(or,dr[0],dr[1],dr[2])}return jt.apply(or,dr)}function Cr(jt,or){for(var dr=-1,Hr=Array(jt);++dr<jt;)Hr[dr]=or(dr);return Hr}function kr(jt){return function(or){return jt(or)}}function vr(jt,or){return jt==null?void 0:jt[or]}function Gr(jt,or){return function(dr){return jt(or(dr))}}var an=Array.prototype,hn=Function.prototype,Mn=Object.prototype,Bn=tr["__core-js_shared__"],An=hn.toString,dn=Mn.hasOwnProperty,Yn=function(){var jt=/[^.]+$/.exec(Bn&&Bn.keys&&Bn.keys.IE_PROTO||"");return jt?"Symbol(src)_1."+jt:""}(),Dn=Mn.toString,Tr=An.call(Object),Br=RegExp("^"+An.call(dn).replace(Ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ar=br?tr.Buffer:void 0,fn=tr.Symbol,er=tr.Uint8Array;Ar&&Ar.allocUnsafe;var Yt=Gr(Object.getPrototypeOf,Object),fr=Object.create,Dr=Mn.propertyIsEnumerable,Ur=an.splice,$r=fn?fn.toStringTag:void 0,Ir=function(){try{var jt=kn(Object,"defineProperty");return jt({},"",{}),jt}catch{}}(),Xr=Ar?Ar.isBuffer:void 0,un=Math.max,Fr=Date.now,qr=kn(tr,"Map"),Wr=kn(Object,"create"),zr=function(){function jt(){}return function(or){if(!gr(or))return{};if(fr)return fr(or);jt.prototype=or;var dr=new jt;return jt.prototype=void 0,dr}}();function ln(jt){var or=-1,dr=jt==null?0:jt.length;for(this.clear();++or<dr;){var Hr=jt[or];this.set(Hr[0],Hr[1])}}function Er(){this.__data__=Wr?Wr(null):{},this.size=0}function mn(jt){var or=this.has(jt)&&delete this.__data__[jt];return this.size-=or?1:0,or}function Ss(jt){var or=this.__data__;if(Wr){var dr=or[jt];return dr===o?void 0:dr}return dn.call(or,jt)?or[jt]:void 0}function ws(jt){var or=this.__data__;return Wr?or[jt]!==void 0:dn.call(or,jt)}function Xn(jt,or){var dr=this.__data__;return this.size+=this.has(jt)?0:1,dr[jt]=Wr&&or===void 0?o:or,this}ln.prototype.clear=Er,ln.prototype.delete=mn,ln.prototype.get=Ss,ln.prototype.has=ws,ln.prototype.set=Xn;function qn(jt){var or=-1,dr=jt==null?0:jt.length;for(this.clear();++or<dr;){var Hr=jt[or];this.set(Hr[0],Hr[1])}}function Ns(){this.__data__=[],this.size=0}function ts(jt){var or=this.__data__,dr=Ms(or,jt);if(dr<0)return!1;var Hr=or.length-1;return dr==Hr?or.pop():Ur.call(or,dr,1),--this.size,!0}function ks(jt){var or=this.__data__,dr=Ms(or,jt);return dr<0?void 0:or[dr][1]}function Rs(jt){return Ms(this.__data__,jt)>-1}function zs(jt,or){var dr=this.__data__,Hr=Ms(dr,jt);return Hr<0?(++this.size,dr.push([jt,or])):dr[Hr][1]=or,this}qn.prototype.clear=Ns,qn.prototype.delete=ts,qn.prototype.get=ks,qn.prototype.has=Rs,qn.prototype.set=zs;function hs(jt){var or=-1,dr=jt==null?0:jt.length;for(this.clear();++or<dr;){var Hr=jt[or];this.set(Hr[0],Hr[1])}}function fs(){this.size=0,this.__data__={hash:new ln,map:new(qr||qn),string:new ln}}function Os(jt){var or=rn(this,jt).delete(jt);return this.size-=or?1:0,or}function nn(jt){return rn(this,jt).get(jt)}function ms(jt){return rn(this,jt).has(jt)}function js(jt,or){var dr=rn(this,jt),Hr=dr.size;return dr.set(jt,or),this.size+=dr.size==Hr?0:1,this}hs.prototype.clear=fs,hs.prototype.delete=Os,hs.prototype.get=nn,hs.prototype.has=ms,hs.prototype.set=js;function $s(jt){var or=this.__data__=new qn(jt);this.size=or.size}function ns(){this.__data__=new qn,this.size=0}function Qs(jt){var or=this.__data__,dr=or.delete(jt);return this.size=or.size,dr}function Us(jt){return this.__data__.get(jt)}function Zs(jt){return this.__data__.has(jt)}function Js(jt,or){var dr=this.__data__;if(dr instanceof qn){var Hr=dr.__data__;if(!qr||Hr.length<a-1)return Hr.push([jt,or]),this.size=++dr.size,this;dr=this.__data__=new hs(Hr)}return dr.set(jt,or),this.size=dr.size,this}$s.prototype.clear=ns,$s.prototype.delete=Qs,$s.prototype.get=Us,$s.prototype.has=Zs,$s.prototype.set=Js;function Ws(jt,or){var dr=pt(jt),Hr=!dr&&zt(jt),Qr=!dr&&!Hr&&Bt(jt),pn=!dr&&!Hr&&!Qr&&cn(jt),En=dr||Hr||Qr||pn,en=En?Cr(jt.length,String):[],gn=en.length;for(var Vn in jt)En&&(Vn=="length"||Qr&&(Vn=="offset"||Vn=="parent")||pn&&(Vn=="buffer"||Vn=="byteLength"||Vn=="byteOffset")||os(Vn,gn))||en.push(Vn);return en}function ps(jt,or,dr){(dr!==void 0&&!Mt(jt[or],dr)||dr===void 0&&!(or in jt))&&_s(jt,or,dr)}function As(jt,or,dr){var Hr=jt[or];(!(dn.call(jt,or)&&Mt(Hr,dr))||dr===void 0&&!(or in jt))&&_s(jt,or,dr)}function Ms(jt,or){for(var dr=jt.length;dr--;)if(Mt(jt[dr][0],or))return dr;return-1}function _s(jt,or,dr){or=="__proto__"&&Ir?Ir(jt,or,{configurable:!0,enumerable:!0,value:dr,writable:!0}):jt[or]=dr}var Hs=Kr();function ds(jt){return jt==null?jt===void 0?wt:ft:$r&&$r in Object(jt)?Hn(jt):wn(jt)}function vn(jt){return Lr(jt)&&ds(jt)==ot}function Zr(jt){if(!gr(jt)||xn(jt))return!1;var or=Xt(jt)?Br:Qt;return or.test(xt(jt))}function Yr(jt){return Lr(jt)&&ur(jt.length)&&!!Ht[ds(jt)]}function Zn(jt){if(!gr(jt))return _i(jt);var or=gs(jt),dr=[];for(var Hr in jt)Hr=="constructor"&&(or||!dn.call(jt,Hr))||dr.push(Hr);return dr}function ss(jt,or,dr,Hr,Qr){jt!==or&&Hs(or,function(pn,En){if(Qr||(Qr=new $s),gr(pn))uo(jt,or,En,dr,ss,Hr,Qr);else{var en=Hr?Hr(ys(jt,En),pn,En+"",jt,or,Qr):void 0;en===void 0&&(en=pn),ps(jt,En,en)}},Fn)}function uo(jt,or,dr,Hr,Qr,pn,En){var en=ys(jt,dr),gn=ys(or,dr),Vn=En.get(gn);if(Vn){ps(jt,dr,Vn);return}var Gn=pn?pn(en,gn,dr+"",jt,or,En):void 0,Qn=Gn===void 0;if(Qn){var Un=pt(gn),vs=!Un&&Bt(gn),Gs=!Un&&!vs&&cn(gn);Gn=gn,Un||vs||Gs?pt(en)?Gn=en:Nt(en)?Gn=cr(en):vs?(Qn=!1,Gn=Pt(gn)):Gs?(Qn=!1,Gn=Jt(gn)):Gn=[]:Vr(gn)||zt(gn)?(Gn=en,zt(en)?Gn=sn(en):(!gr(en)||Xt(en))&&(Gn=as(gn))):Qn=!1}Qn&&(En.set(gn,Gn),Qr(Gn,gn,Hr,pn,En),En.delete(gn)),ps(jt,dr,Gn)}function na(jt,or){return ho(co(jt,or,_n),jt+"")}var _t=Ir?function(jt,or){return Ir(jt,"toString",{configurable:!0,enumerable:!1,value:$n(or),writable:!0})}:_n;function Pt(jt,or){return jt.slice()}function Wt(jt){var or=new jt.constructor(jt.byteLength);return new er(or).set(new er(jt)),or}function Jt(jt,or){var dr=Wt(jt.buffer);return new jt.constructor(dr,jt.byteOffset,jt.length)}function cr(jt,or){var dr=-1,Hr=jt.length;for(or||(or=Array(Hr));++dr<Hr;)or[dr]=jt[dr];return or}function _r(jt,or,dr,Hr){var Qr=!dr;dr||(dr={});for(var pn=-1,En=or.length;++pn<En;){var en=or[pn],gn=void 0;gn===void 0&&(gn=jt[en]),Qr?_s(dr,en,gn):As(dr,en,gn)}return dr}function Mr(jt){return na(function(or,dr){var Hr=-1,Qr=dr.length,pn=Qr>1?dr[Qr-1]:void 0,En=Qr>2?dr[2]:void 0;for(pn=jt.length>3&&typeof pn=="function"?(Qr--,pn):void 0,En&&ls(dr[0],dr[1],En)&&(pn=Qr<3?void 0:pn,Qr=1),or=Object(or);++Hr<Qr;){var en=dr[Hr];en&&jt(or,en,Hr,pn)}return or})}function Kr(jt){return function(or,dr,Hr){for(var Qr=-1,pn=Object(or),En=Hr(or),en=En.length;en--;){var gn=En[++Qr];if(dr(pn[gn],gn,pn)===!1)break}return or}}function rn(jt,or){var dr=jt.__data__;return Ls(or)?dr[typeof or=="string"?"string":"hash"]:dr.map}function kn(jt,or){var dr=vr(jt,or);return Zr(dr)?dr:void 0}function Hn(jt){var or=dn.call(jt,$r),dr=jt[$r];try{jt[$r]=void 0;var Hr=!0}catch{}var Qr=Dn.call(jt);return Hr&&(or?jt[$r]=dr:delete jt[$r]),Qr}function as(jt){return typeof jt.constructor=="function"&&!gs(jt)?zr(Yt(jt)):{}}function os(jt,or){var dr=typeof jt;return or=or??at,!!or&&(dr=="number"||dr!="symbol"&&Kt.test(jt))&&jt>-1&&jt%1==0&&jt<or}function ls(jt,or,dr){if(!gr(dr))return!1;var Hr=typeof or;return(Hr=="number"?kt(dr)&&os(or,dr.length):Hr=="string"&&or in dr)?Mt(dr[or],jt):!1}function Ls(jt){var or=typeof jt;return or=="string"||or=="number"||or=="symbol"||or=="boolean"?jt!=="__proto__":jt===null}function xn(jt){return!!Yn&&Yn in jt}function gs(jt){var or=jt&&jt.constructor,dr=typeof or=="function"&&or.prototype||Mn;return jt===dr}function _i(jt){var or=[];if(jt!=null)for(var dr in Object(jt))or.push(dr);return or}function wn(jt){return Dn.call(jt)}function co(jt,or,dr){return or=un(or===void 0?jt.length-1:or,0),function(){for(var Hr=arguments,Qr=-1,pn=un(Hr.length-or,0),En=Array(pn);++Qr<pn;)En[Qr]=Hr[or+Qr];Qr=-1;for(var en=Array(or+1);++Qr<or;)en[Qr]=Hr[Qr];return en[or]=dr(En),rr(jt,this,en)}}function ys(jt,or){if(!(or==="constructor"&&typeof jt[or]=="function")&&or!="__proto__")return jt[or]}var ho=fo(_t);function fo(jt){var or=0,dr=0;return function(){var Hr=Fr(),Qr=et-(Hr-dr);if(dr=Hr,Qr>0){if(++or>=rt)return arguments[0]}else or=0;return jt.apply(void 0,arguments)}}function xt(jt){if(jt!=null){try{return An.call(jt)}catch{}try{return jt+""}catch{}}return""}function Mt(jt,or){return jt===or||jt!==jt&&or!==or}var zt=vn(function(){return arguments}())?vn:function(jt){return Lr(jt)&&dn.call(jt,"callee")&&!Dr.call(jt,"callee")},pt=Array.isArray;function kt(jt){return jt!=null&&ur(jt.length)&&!Xt(jt)}function Nt(jt){return Lr(jt)&&kt(jt)}var Bt=Xr||lr;function Xt(jt){if(!gr(jt))return!1;var or=ds(jt);return or==tt||or==st||or==it||or==mt}function ur(jt){return typeof jt=="number"&&jt>-1&&jt%1==0&&jt<=at}function gr(jt){var or=typeof jt;return jt!=null&&(or=="object"||or=="function")}function Lr(jt){return jt!=null&&typeof jt=="object"}function Vr(jt){if(!Lr(jt)||ds(jt)!=ct)return!1;var or=Yt(jt);if(or===null)return!0;var dr=dn.call(or,"constructor")&&or.constructor;return typeof dr=="function"&&dr instanceof dr&&An.call(dr)==Tr}var cn=ar?kr(ar):Yr;function sn(jt){return _r(jt,Fn(jt))}function Fn(jt){return kt(jt)?Ws(jt):Zn(jt)}var Es=Mr(function(jt,or,dr,Hr){ss(jt,or,dr,Hr)});function $n(jt){return function(){return jt}}function _n(jt){return jt}function lr(){return!1}i.exports=Es})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs(lodash_mergewithExports);var isImportant=i=>/!(important)?$/.test(i),withoutImportant=i=>typeof i=="string"?i.replace(/!(important)?$/,"").trim():i,tokenToCSSVar=(i,s)=>a=>{const o=String(s),rt=isImportant(o),et=withoutImportant(o),at=i?`${i}.${et}`:et;let ot=isObject$2(a.__cssMap)&&at in a.__cssMap?a.__cssMap[at].varRef:s;return ot=withoutImportant(ot),rt?`${ot} !important`:ot};function createTransform(i){const{scale:s,transform:a,compose:o}=i;return(et,at)=>{var ot;const nt=tokenToCSSVar(s,et)(at);let it=(ot=a==null?void 0:a(nt,at))!=null?ot:nt;return o&&(it=o(it,at)),it}}var pipe$2=(...i)=>s=>i.reduce((a,o)=>o(a),s);function toConfig(i,s){return a=>{const o={property:a,scale:i};return o.transform=createTransform({scale:i,transform:s}),o}}var getRtl=({rtl:i,ltr:s})=>a=>a.direction==="rtl"?i:s;function logical(i){const{property:s,scale:a,transform:o}=i;return{scale:a,property:getRtl(s),transform:a?createTransform({scale:a,compose:o}):o}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(i){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":i,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=i=>i.trim();function parseGradient(i,s){if(i==null||globalSet.has(i))return i;if(!(isCSSFunction(i)||globalSet.has(i)))return`url('${i}')`;const rt=/(^[a-z-A-Z]+)\((.*)\)/g.exec(i),et=rt==null?void 0:rt[1],at=rt==null?void 0:rt[2];if(!et||!at)return i;const ot=et.includes("-gradient")?et:`${et}-gradient`,[nt,...it]=at.split(",").map(trimSpace).filter(Boolean);if((it==null?void 0:it.length)===0)return i;const j=nt in directionMap?directionMap[nt]:nt;it.unshift(j);const _=it.map($=>{if(valueSet.has($))return $;const tt=$.indexOf(" "),[st,lt]=tt!==-1?[$.substr(0,tt),$.substr(tt+1)]:[$],ht=isCSSFunction(lt)?lt:lt&&lt.split(" "),ft=`colors.${st}`,ct=ft in s.__cssMap?s.__cssMap[ft].varRef:st;return ht?[ct,...Array.isArray(ht)?ht:[ht]].join(" "):ct});return`${ot}(${_.join(", ")})`}var isCSSFunction=i=>typeof i=="string"&&i.includes("(")&&i.includes(")"),gradientTransform=(i,s)=>parseGradient(i,s??{});function isCssVar(i){return/^var\(--.+\)$/.test(i)}var analyzeCSSValue=i=>{const s=parseFloat(i.toString()),a=i.toString().replace(String(s),"");return{unitless:!a,value:s,unit:a}},wrap=i=>s=>`${i}(${s})`,transformFunctions={filter(i){return i!=="auto"?i:filterTemplate},backdropFilter(i){return i!=="auto"?i:backdropFilterTemplate},ring(i){return getRingTemplate(transformFunctions.px(i))},bgClip(i){return i==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:i}},transform(i){return i==="auto"?getTransformTemplate():i==="auto-gpu"?getTransformGpuTemplate():i},vh(i){return i==="$100vh"?"var(--chakra-vh)":i},px(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue(i);return s||typeof i=="number"?`${i}px`:i},fraction(i){return typeof i!="number"||i>1?i:`${i*100}%`},float(i,s){const a={left:"right",right:"left"};return s.direction==="rtl"?a[i]:i},degree(i){if(isCssVar(i)||i==null)return i;const s=typeof i=="string"&&!i.endsWith("deg");return typeof i=="number"||s?`${i}deg`:i},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:i=>wrap("hue-rotate")(transformFunctions.degree(i)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(i){return i==null||isCSSFunction(i)||globalSet.has(i)?i:`url(${i})`},outline(i){const s=String(i)==="0"||String(i)==="none";return i!==null&&s?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:i}},flexDirection(i){var s;const{space:a,divide:o}=(s=flexDirectionTemplate[i])!=null?s:{},rt={flexDirection:i};return a&&(rt[a]=1),o&&(rt[o]=1),rt}},t$1={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(i){return{property:i,transform:transformFunctions.degree}},prop(i,s,a){return{property:i,scale:s,...s&&{transform:createTransform({scale:s,transform:a})}}},propT(i,s){return{property:i,transform:s}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$1.colors("background"),backgroundColor:t$1.colors("backgroundColor"),backgroundImage:t$1.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$1.prop("backgroundSize"),bgPosition:t$1.prop("backgroundPosition"),bg:t$1.colors("background"),bgColor:t$1.colors("backgroundColor"),bgPos:t$1.prop("backgroundPosition"),bgRepeat:t$1.prop("backgroundRepeat"),bgAttachment:t$1.prop("backgroundAttachment"),bgGradient:t$1.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t$1.borders("border"),borderWidth:t$1.borderWidths("borderWidth"),borderStyle:t$1.borderStyles("borderStyle"),borderColor:t$1.colors("borderColor"),borderRadius:t$1.radii("borderRadius"),borderTop:t$1.borders("borderTop"),borderBlockStart:t$1.borders("borderBlockStart"),borderTopLeftRadius:t$1.radii("borderTopLeftRadius"),borderStartStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$1.radii("borderTopRightRadius"),borderStartEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$1.borders("borderRight"),borderInlineEnd:t$1.borders("borderInlineEnd"),borderBottom:t$1.borders("borderBottom"),borderBlockEnd:t$1.borders("borderBlockEnd"),borderBottomLeftRadius:t$1.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$1.radii("borderBottomRightRadius"),borderLeft:t$1.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$1.borders(["borderLeft","borderRight"]),borderInline:t$1.borders("borderInline"),borderY:t$1.borders(["borderTop","borderBottom"]),borderBlock:t$1.borders("borderBlock"),borderTopWidth:t$1.borderWidths("borderTopWidth"),borderBlockStartWidth:t$1.borderWidths("borderBlockStartWidth"),borderTopColor:t$1.colors("borderTopColor"),borderBlockStartColor:t$1.colors("borderBlockStartColor"),borderTopStyle:t$1.borderStyles("borderTopStyle"),borderBlockStartStyle:t$1.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$1.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$1.borderWidths("borderBlockEndWidth"),borderBottomColor:t$1.colors("borderBottomColor"),borderBlockEndColor:t$1.colors("borderBlockEndColor"),borderBottomStyle:t$1.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$1.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$1.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$1.borderWidths("borderInlineStartWidth"),borderLeftColor:t$1.colors("borderLeftColor"),borderInlineStartColor:t$1.colors("borderInlineStartColor"),borderLeftStyle:t$1.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$1.borderStyles("borderInlineStartStyle"),borderRightWidth:t$1.borderWidths("borderRightWidth"),borderInlineEndWidth:t$1.borderWidths("borderInlineEndWidth"),borderRightColor:t$1.colors("borderRightColor"),borderInlineEndColor:t$1.colors("borderInlineEndColor"),borderRightStyle:t$1.borderStyles("borderRightStyle"),borderInlineEndStyle:t$1.borderStyles("borderInlineEndStyle"),borderTopRadius:t$1.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$1.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$1.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$1.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$1={color:t$1.colors("color"),textColor:t$1.colors("color"),fill:t$1.colors("fill"),stroke:t$1.colors("stroke")},effect={boxShadow:t$1.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$1.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$1.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});var filter$2={filter:{transform:transformFunctions.filter},blur:t$1.blur("--chakra-blur"),brightness:t$1.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$1.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$1.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$1.propT("--chakra-invert",transformFunctions.invert),saturate:t$1.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$1.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$1.blur("--chakra-backdrop-blur"),backdropBrightness:t$1.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$1.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$1.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$1.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$1.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$1.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$1.space("gap"),rowGap:t$1.space("rowGap"),columnGap:t$1.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t$1.space("gridGap"),gridColumnGap:t$1.space("gridColumnGap"),gridRowGap:t$1.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$1.colors("outlineColor")},layout$1={width:t$1.sizesT("width"),inlineSize:t$1.sizesT("inlineSize"),height:t$1.sizes("height"),blockSize:t$1.sizes("blockSize"),boxSize:t$1.sizes(["width","height"]),minWidth:t$1.sizes("minWidth"),minInlineSize:t$1.sizes("minInlineSize"),minHeight:t$1.sizes("minHeight"),minBlockSize:t$1.sizes("minBlockSize"),maxWidth:t$1.sizes("maxWidth"),maxInlineSize:t$1.sizes("maxInlineSize"),maxHeight:t$1.sizes("maxHeight"),maxBlockSize:t$1.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(i,s)=>{var a,o,rt;return{[`@media screen and (min-width: ${(rt=(o=(a=s.__breakpoints)==null?void 0:a.get(i))==null?void 0:o.minW)!=null?rt:i})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(i,s)=>{var a,o,rt;return{[`@media screen and (max-width: ${(rt=(o=(a=s.__breakpoints)==null?void 0:a.get(i))==null?void 0:o._minW)!=null?rt:i})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$1.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});var list$2={listStyleType:!0,listStylePosition:!0,listStylePos:t$1.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$1.prop("listStyleImage")};function get$3(i,s,a,o){const rt=typeof s=="string"?s.split("."):[s];for(o=0;o<rt.length&&i;o+=1)i=i[rt[o]];return i===void 0?a:i}var memoize$2=i=>{const s=new WeakMap;return(o,rt,et,at)=>{if(typeof o>"u")return i(o,rt,et);s.has(o)||s.set(o,new Map);const ot=s.get(o);if(ot.has(rt))return ot.get(rt);const nt=i(o,rt,et,at);return ot.set(rt,nt),nt}},memoizedGet$1=memoize$2(get$3),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(i,s,a)=>{const o={},rt=memoizedGet$1(i,s,{});for(const et in rt)et in a&&a[et]!=null||(o[et]=rt[et]);return o},others={srOnly:{transform(i){return i===!0?srOnly:i==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,`layerStyles.${i}`,a)},textStyle:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,`textStyles.${i}`,a)},apply:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,i,a)}},position={position:!0,pos:t$1.prop("position"),zIndex:t$1.prop("zIndex","zIndices"),inset:t$1.spaceT("inset"),insetX:t$1.spaceT(["left","right"]),insetInline:t$1.spaceT("insetInline"),insetY:t$1.spaceT(["top","bottom"]),insetBlock:t$1.spaceT("insetBlock"),top:t$1.spaceT("top"),insetBlockStart:t$1.spaceT("insetBlockStart"),bottom:t$1.spaceT("bottom"),insetBlockEnd:t$1.spaceT("insetBlockEnd"),left:t$1.spaceT("left"),insetInlineStart:t$1.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$1.spaceT("right"),insetInlineEnd:t$1.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position,{insetStart:position.insetInlineStart,insetEnd:position.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t$1.colors("--chakra-ring-color"),ringOffset:t$1.prop("--chakra-ring-offset-width"),ringOffsetColor:t$1.colors("--chakra-ring-offset-color"),ringInset:t$1.prop("--chakra-ring-inset")},space={margin:t$1.spaceT("margin"),marginTop:t$1.spaceT("marginTop"),marginBlockStart:t$1.spaceT("marginBlockStart"),marginRight:t$1.spaceT("marginRight"),marginInlineEnd:t$1.spaceT("marginInlineEnd"),marginBottom:t$1.spaceT("marginBottom"),marginBlockEnd:t$1.spaceT("marginBlockEnd"),marginLeft:t$1.spaceT("marginLeft"),marginInlineStart:t$1.spaceT("marginInlineStart"),marginX:t$1.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$1.spaceT("marginInline"),marginY:t$1.spaceT(["marginTop","marginBottom"]),marginBlock:t$1.spaceT("marginBlock"),padding:t$1.space("padding"),paddingTop:t$1.space("paddingTop"),paddingBlockStart:t$1.space("paddingBlockStart"),paddingRight:t$1.space("paddingRight"),paddingBottom:t$1.space("paddingBottom"),paddingBlockEnd:t$1.space("paddingBlockEnd"),paddingLeft:t$1.space("paddingLeft"),paddingInlineStart:t$1.space("paddingInlineStart"),paddingInlineEnd:t$1.space("paddingInlineEnd"),paddingX:t$1.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$1.space("paddingInline"),paddingY:t$1.space(["paddingTop","paddingBottom"]),paddingBlock:t$1.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t$1.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$1.shadows("textShadow")},transform={clipPath:!0,transform:t$1.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$1.spaceT("--chakra-translate-x"),translateY:t$1.spaceT("--chakra-translate-y"),skewX:t$1.degreeT("--chakra-skew-x"),skewY:t$1.degreeT("--chakra-skew-y"),scaleX:t$1.prop("--chakra-scale-x"),scaleY:t$1.prop("--chakra-scale-y"),scale:t$1.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$1.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$1.prop("transitionDuration","transition.duration"),transitionProperty:t$1.prop("transitionProperty","transition.property"),transitionTimingFunction:t$1.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t$1.prop("fontFamily","fonts"),fontSize:t$1.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$1.prop("fontWeight","fontWeights"),lineHeight:t$1.prop("lineHeight","lineHeights"),letterSpacing:t$1.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(i){if(i===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$1.spaceT("scrollMargin"),scrollMarginTop:t$1.spaceT("scrollMarginTop"),scrollMarginBottom:t$1.spaceT("scrollMarginBottom"),scrollMarginLeft:t$1.spaceT("scrollMarginLeft"),scrollMarginRight:t$1.spaceT("scrollMarginRight"),scrollMarginX:t$1.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$1.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$1.spaceT("scrollPadding"),scrollPaddingTop:t$1.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$1.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$1.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$1.spaceT("scrollPaddingRight"),scrollPaddingX:t$1.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$1.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpression=(i,...s)=>s.map(resolveReference).join(` ${i} `).replace(/calc/g,""),add$1=(...i)=>`calc(${toExpression("+",...i)})`,subtract$1=(...i)=>`calc(${toExpression("-",...i)})`,multiply$1=(...i)=>`calc(${toExpression("*",...i)})`,divide$1=(...i)=>`calc(${toExpression("/",...i)})`,negate$1=i=>{const s=resolveReference(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$1(s,-1)},calc$1=Object.assign(i=>({add:(...s)=>calc$1(add$1(i,...s)),subtract:(...s)=>calc$1(subtract$1(i,...s)),multiply:(...s)=>calc$1(multiply$1(i,...s)),divide:(...s)=>calc$1(divide$1(i,...s)),negate:()=>calc$1(negate$1(i)),toString:()=>i.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(i,s="-"){return i.replace(/\s+/g,s)}function escape$1(i){const s=replaceWhiteSpace$1(i.toString());return escapeSymbol(escapeDot(s))}function escapeDot(i){return i.includes("\\.")?i:!Number.isInteger(parseFloat(i.toString()))?i.replace(".","\\."):i}function escapeSymbol(i){return i.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(i,s=""){return[s,i].filter(Boolean).join("-")}function toVarReference(i,s){return`var(${i}${s?`, ${s}`:""})`}function toVarDefinition(i,s=""){return escape$1(`--${addPrefix$1(i,s)}`)}function cssVar$1(i,s,a){const o=toVarDefinition(i,a);return{variable:o,reference:toVarReference(o,s)}}function defineCssVars(i,s){const a={};for(const o of s){if(Array.isArray(o)){const[rt,et]=o;a[rt]=cssVar$1(`${i}-${rt}`,et);continue}a[o]=cssVar$1(`${i}-${o}`)}return a}function getLastItem(i){const s=i==null?0:i.length;return s?i[s-1]:void 0}function analyzeCSSValue2(i){const s=parseFloat(i.toString()),a=i.toString().replace(String(s),"");return{unitless:!a,value:s,unit:a}}function px$1(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue2(i);return s||typeof i=="number"?`${i}px`:i}var sortByBreakpointValue=(i,s)=>parseInt(i[1],10)>parseInt(s[1],10)?1:-1,sortBps=i=>Object.fromEntries(Object.entries(i).sort(sortByBreakpointValue));function normalize(i){const s=sortBps(i);return Object.assign(Object.values(s),s)}function keys(i){const s=Object.keys(sortBps(i));return new Set(s)}function subtract2(i){var s;if(!i)return i;i=(s=px$1(i))!=null?s:i;const a=-.02;return typeof i=="number"?`${i+a}`:i.replace(/(\d+\.?\d*)/u,o=>`${parseFloat(o)+a}`)}function toMediaQueryString(i,s){const a=["@media screen"];return i&&a.push("and",`(min-width: ${px$1(i)})`),s&&a.push("and",`(max-width: ${px$1(s)})`),a.join(" ")}function analyzeBreakpoints(i){var s;if(!i)return null;i.base=(s=i.base)!=null?s:"0px";const a=normalize(i),o=Object.entries(i).sort(sortByBreakpointValue).map(([at,ot],nt,it)=>{var j;let[,_]=(j=it[nt+1])!=null?j:[];return _=parseFloat(_)>0?subtract2(_):void 0,{_minW:subtract2(ot),breakpoint:at,minW:ot,maxW:_,maxWQuery:toMediaQueryString(null,_),minWQuery:toMediaQueryString(ot),minMaxQuery:toMediaQueryString(ot,_)}}),rt=keys(i),et=Array.from(rt.values());return{keys:rt,normalized:a,isResponsive(at){const ot=Object.keys(at);return ot.length>0&&ot.every(nt=>rt.has(nt))},asObject:sortBps(i),asArray:normalize(i),details:o,get(at){return o.find(ot=>ot.breakpoint===at)},media:[null,...a.map(at=>toMediaQueryString(at)).slice(1)],toArrayValue(at){if(!isObject$2(at))throw new Error("toArrayValue: value must be an object");const ot=et.map(nt=>{var it;return(it=at[nt])!=null?it:null});for(;getLastItem(ot)===null;)ot.pop();return ot},toObjectValue(at){if(!Array.isArray(at))throw new Error("toObjectValue: value must be an array");return at.reduce((ot,nt,it)=>{const j=et[it];return j!=null&&nt!=null&&(ot[j]=nt),ot},{})}}}var state={hover:(i,s)=>`${i}:hover ${s}, ${i}[data-hover] ${s}`,focus:(i,s)=>`${i}:focus ${s}, ${i}[data-focus] ${s}`,focusVisible:(i,s)=>`${i}:focus-visible ${s}`,focusWithin:(i,s)=>`${i}:focus-within ${s}`,active:(i,s)=>`${i}:active ${s}, ${i}[data-active] ${s}`,disabled:(i,s)=>`${i}:disabled ${s}, ${i}[data-disabled] ${s}`,invalid:(i,s)=>`${i}:invalid ${s}, ${i}[data-invalid] ${s}`,checked:(i,s)=>`${i}:checked ${s}, ${i}[data-checked] ${s}`,indeterminate:(i,s)=>`${i}:indeterminate ${s}, ${i}[aria-checked=mixed] ${s}, ${i}[data-indeterminate] ${s}`,readOnly:(i,s)=>`${i}:read-only ${s}, ${i}[readonly] ${s}, ${i}[data-read-only] ${s}`,expanded:(i,s)=>`${i}:read-only ${s}, ${i}[aria-expanded=true] ${s}, ${i}[data-expanded] ${s}`,placeholderShown:(i,s)=>`${i}:placeholder-shown ${s}`},toGroup=i=>merge(s=>i(s,"&"),"[role=group]","[data-group]",".group"),toPeer=i=>merge(s=>i(s,"~ &"),"[data-peer]",".peer"),merge=(i,...s)=>s.map(i).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(i,s){return cssVar$1(String(i).replace(/\./g,"-"),void 0,s)}function createThemeVars(i,s){let a={};const o={};for(const[rt,et]of Object.entries(i)){const{isSemantic:at,value:ot}=et,{variable:nt,reference:it}=tokenToCssVar(rt,s==null?void 0:s.cssVarPrefix);if(!at){if(rt.startsWith("space")){const $=rt.split("."),[tt,...st]=$,lt=`${tt}.-${st.join(".")}`,ht=calc$1.negate(ot),ft=calc$1.negate(it);o[lt]={value:ht,var:nt,varRef:ft}}a[nt]=ot,o[rt]={value:ot,var:nt,varRef:it};continue}const j=$=>{const st=[String(rt).split(".")[0],$].join(".");if(!i[st])return $;const{reference:ht}=tokenToCssVar(st,s==null?void 0:s.cssVarPrefix);return ht},_=isObject$2(ot)?ot:{default:ot};a=mergeWith(a,Object.entries(_).reduce(($,[tt,st])=>{var lt,ht;if(!st)return $;const ft=j(`${st}`);if(tt==="default")return $[nt]=ft,$;const ct=(ht=(lt=pseudoSelectors)==null?void 0:lt[tt])!=null?ht:tt;return $[ct]={[nt]:ft},$},{})),o[rt]={value:it,var:nt,varRef:it}}return{cssVars:a,cssMap:o}}function omit$2(i,s=[]){const a=Object.assign({},i);for(const o of s)o in a&&delete a[o];return a}function pick$1(i,s){const a={};for(const o of s)o in i&&(a[o]=i[o]);return a}function isObject5(i){return typeof i=="object"&&i!=null&&!Array.isArray(i)}function walkObject(i,s,a={}){const{stop:o,getKey:rt}=a;function et(at,ot=[]){var nt;if(isObject5(at)||Array.isArray(at)){const it={};for(const[j,_]of Object.entries(at)){const $=(nt=rt==null?void 0:rt(j))!=null?nt:j,tt=[...ot,$];if(o!=null&&o(at,tt))return s(at,ot);it[$]=et(_,tt)}return it}return s(at,ot)}return et(i)}var tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(i){return pick$1(i,tokens)}function extractSemanticTokens(i){return i.semanticTokens}function omitVars(i){const{__cssMap:s,__cssVars:a,__breakpoints:o,...rt}=i;return rt}var isSemanticCondition=i=>pseudoPropNames.includes(i)||i==="default";function flattenTokens({tokens:i,semanticTokens:s}){const a={};return walkObject(i,(o,rt)=>{o!=null&&(a[rt.join(".")]={isSemantic:!1,value:o})}),walkObject(s,(o,rt)=>{o!=null&&(a[rt.join(".")]={isSemantic:!0,value:o})},{stop:o=>Object.keys(o).every(isSemanticCondition)}),a}function toCSSVar(i){var s;const a=omitVars(i),o=extractTokens(a),rt=extractSemanticTokens(a),et=flattenTokens({tokens:o,semanticTokens:rt}),at=(s=a.config)==null?void 0:s.cssVarPrefix,{cssMap:ot,cssVars:nt}=createThemeVars(et,{cssVarPrefix:at});return Object.assign(a,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...nt},__cssMap:ot,__breakpoints:analyzeBreakpoints(a.breakpoints)}),a}var systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$2,ring,interactivity,grid,others,position,effect,space,scroll,typography$1,textDecoration,transform,list$2,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=i=>i in styleProps,expandResponsive=i=>s=>{if(!s.__breakpoints)return i;const{isResponsive:a,toArrayValue:o,media:rt}=s.__breakpoints,et={};for(const at in i){let ot=runIfFn$2(i[at],s);if(ot==null)continue;if(ot=isObject$2(ot)&&a(ot)?o(ot):ot,!Array.isArray(ot)){et[at]=ot;continue}const nt=ot.slice(0,rt.length).length;for(let it=0;it<nt;it+=1){const j=rt==null?void 0:rt[it];if(!j){et[at]=ot[it];continue}et[j]=et[j]||{},ot[it]!=null&&(et[j][at]=ot[it])}}return et};function splitByComma(i){const s=[];let a="",o=!1;for(let rt=0;rt<i.length;rt++){const et=i[rt];et==="("?(o=!0,a+=et):et===")"?(o=!1,a+=et):et===","&&!o?(s.push(a),a=""):a+=et}return a=a.trim(),a&&s.push(a),s}function isCssVar2(i){return/^var\(--.+\)$/.test(i)}var isCSSVariableTokenValue=(i,s)=>i.startsWith("--")&&typeof s=="string"&&!isCssVar2(s),resolveTokenValue=(i,s)=>{var a,o;if(s==null)return s;const rt=nt=>{var it,j;return(j=(it=i.__cssMap)==null?void 0:it[nt])==null?void 0:j.varRef},et=nt=>{var it;return(it=rt(nt))!=null?it:nt},[at,ot]=splitByComma(s);return s=(o=(a=rt(at))!=null?a:et(ot))!=null?o:et(s),s};function getCss(i){const{configs:s={},pseudos:a={},theme:o}=i,rt=(et,at=!1)=>{var ot,nt,it;const j=runIfFn$2(et,o),_=expandResponsive(j)(o);let $={};for(let tt in _){const st=_[tt];let lt=runIfFn$2(st,o);tt in a&&(tt=a[tt]),isCSSVariableTokenValue(tt,lt)&&(lt=resolveTokenValue(o,lt));let ht=s[tt];if(ht===!0&&(ht={property:tt}),isObject$2(lt)){$[tt]=(ot=$[tt])!=null?ot:{},$[tt]=mergeWith({},$[tt],rt(lt,!0));continue}let ft=(it=(nt=ht==null?void 0:ht.transform)==null?void 0:nt.call(ht,lt,o,j))!=null?it:lt;ft=ht!=null&&ht.processResult?rt(ft,!0):ft;const ct=runIfFn$2(ht==null?void 0:ht.property,o);if(!at&&(ht!=null&&ht.static)){const mt=runIfFn$2(ht.static,o);$=mergeWith({},$,mt)}if(ct&&Array.isArray(ct)){for(const mt of ct)$[mt]=ft;continue}if(ct){ct==="&"&&isObject$2(ft)?$=mergeWith({},$,ft):$[ct]=ft;continue}if(isObject$2(ft)){$=mergeWith({},$,ft);continue}$[tt]=ft}return $};return rt}var css=i=>s=>getCss({theme:s,pseudos:pseudoSelectors,configs:systemProps})(i);function defineStyle(i){return i}function defineStyleConfig(i){return i}function createMultiStyleConfigHelpers(i){return{definePartsStyle(s){return s},defineMultiStyleConfig(s){return{parts:i,...s}}}}function normalize2(i,s){if(Array.isArray(i))return i;if(isObject$2(i))return s(i);if(i!=null)return[i]}function getNextIndex(i,s){for(let a=s+1;a<i.length;a++)if(i[a]!=null)return a;return-1}function createResolver(i){const s=i.__breakpoints;return function(o,rt,et,at){var ot,nt;if(!s)return;const it={},j=normalize2(et,s.toArrayValue);if(!j)return it;const _=j.length,$=_===1,tt=!!o.parts;for(let st=0;st<_;st++){const lt=s.details[st],ht=s.details[getNextIndex(j,st)],ft=toMediaQueryString(lt.minW,ht==null?void 0:ht._minW),ct=runIfFn$2((ot=o[rt])==null?void 0:ot[j[st]],at);if(ct){if(tt){(nt=o.parts)==null||nt.forEach(mt=>{mergeWith(it,{[mt]:$?ct[mt]:{[ft]:ct[mt]}})});continue}if(!tt){$?mergeWith(it,ct):it[ft]=ct;continue}it[ft]=ct}}return it}}function resolveStyleConfig(i){return s=>{var a;const{variant:o,size:rt,theme:et}=s,at=createResolver(et);return mergeWith({},runIfFn$2((a=i.baseStyle)!=null?a:{},s),at(i,"sizes",rt,s),at(i,"variants",o,s))}}function omitThemingProps(i){return omit$2(i,["styleConfig","size","variant","colorScheme"])}var requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(i){return isObject$2(i)?requiredChakraThemeKeys.every(s=>Object.prototype.hasOwnProperty.call(i,s)):!1}var transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders$1,breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints$1,colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},sizes_default=sizes$m,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default},{defineMultiStyleConfig:defineMultiStyleConfig$p,definePartsStyle:definePartsStyle$p}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size$4=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$F=definePartsStyle$p(({colorScheme:i})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${i}.500`,_dark:{[$accentColor.variable]:`colors.${i}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size$4.reference,height:$size$4.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size$4.reference} - 8px)`,top:`calc(${$size$4.reference} + 4px)`,insetStart:`calc(${$size$4.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$F,sizes:{xs:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function anatomy(i,s={}){let a=!1;function o(){if(!a){a=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function rt(...j){o();for(const _ of j)s[_]=nt(_);return anatomy(i,s)}function et(...j){for(const _ of j)_ in s||(s[_]=nt(_));return anatomy(i,s)}function at(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.selector]))}function ot(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.className]))}function nt(j){const tt=`chakra-${(["container","root"].includes(j??"")?[i]:[i,j]).filter(Boolean).join("__")}`;return{className:tt,selector:`.${tt}`,toString:()=>j}}return{parts:rt,toPart:nt,extend:et,selectors:at,classnames:ot,get keys(){return Object.keys(s)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function guard(i,s,a){return Math.min(Math.max(i,a),s)}class ColorError extends Error{constructor(s){super(`Failed to parse color: "${s}"`)}}var ColorError$1=ColorError;function parseToRgba(i){if(typeof i!="string")throw new ColorError$1(i);if(i.trim().toLowerCase()==="transparent")return[0,0,0,0];let s=i.trim();s=namedColorRegex.test(i)?nameToHex(i):i;const a=reducedHexRegex.exec(s);if(a){const at=Array.from(a).slice(1);return[...at.slice(0,3).map(ot=>parseInt(r$1(ot,2),16)),parseInt(r$1(at[3]||"f",2),16)/255]}const o=hexRegex.exec(s);if(o){const at=Array.from(o).slice(1);return[...at.slice(0,3).map(ot=>parseInt(ot,16)),parseInt(at[3]||"ff",16)/255]}const rt=rgbaRegex.exec(s);if(rt){const at=Array.from(rt).slice(1);return[...at.slice(0,3).map(ot=>parseInt(ot,10)),parseFloat(at[3]||"1")]}const et=hslaRegex.exec(s);if(et){const[at,ot,nt,it]=Array.from(et).slice(1).map(parseFloat);if(guard(0,100,ot)!==ot)throw new ColorError$1(i);if(guard(0,100,nt)!==nt)throw new ColorError$1(i);return[...hslToRgb(at,ot,nt),Number.isNaN(it)?1:it]}throw new ColorError$1(i)}function hash(i){let s=5381,a=i.length;for(;a;)s=s*33^i.charCodeAt(--a);return(s>>>0)%2341}const colorToInt=i=>parseInt(i.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((i,s)=>{const a=colorToInt(s.substring(0,3)),o=colorToInt(s.substring(3)).toString(16);let rt="";for(let et=0;et<6-o.length;et++)rt+="0";return i[a]=`${rt}${o}`,i},{});function nameToHex(i){const s=i.toLowerCase().trim(),a=compressedColorMap[hash(s)];if(!a)throw new ColorError$1(i);return`#${a}`}const r$1=(i,s)=>Array.from(Array(s)).map(()=>i).join(""),reducedHexRegex=new RegExp(`^#${r$1("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$1("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$1(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=i=>Math.round(i*255),hslToRgb=(i,s,a)=>{let o=a/100;if(s===0)return[o,o,o].map(roundColor);const rt=(i%360+360)%360/60,et=(1-Math.abs(2*o-1))*(s/100),at=et*(1-Math.abs(rt%2-1));let ot=0,nt=0,it=0;rt>=0&&rt<1?(ot=et,nt=at):rt>=1&&rt<2?(ot=at,nt=et):rt>=2&&rt<3?(nt=et,it=at):rt>=3&&rt<4?(nt=at,it=et):rt>=4&&rt<5?(ot=at,it=et):rt>=5&&rt<6&&(ot=et,it=at);const j=o-et/2,_=ot+j,$=nt+j,tt=it+j;return[_,$,tt].map(roundColor)};function rgba$1(i,s,a,o){return`rgba(${guard(0,255,i).toFixed()}, ${guard(0,255,s).toFixed()}, ${guard(0,255,a).toFixed()}, ${parseFloat(guard(0,1,o).toFixed(3))})`}function transparentize$1(i,s){const[a,o,rt,et]=parseToRgba(i);return rgba$1(a,o,rt,et-s)}function toHex(i){const[s,a,o,rt]=parseToRgba(i);let et=at=>{const ot=guard(0,255,at).toString(16);return ot.length===1?`0${ot}`:ot};return`#${et(s)}${et(a)}${et(o)}${rt<1?et(Math.round(rt*255)):""}`}function dlv_es_default(i,s,a,o,rt){for(s=s.split?s.split("."):s,o=0;o<s.length;o++)i=i?i[s[o]]:rt;return i===rt?a:i}var isEmptyObject=i=>Object.keys(i).length===0,getColor=(i,s,a)=>{const o=dlv_es_default(i,`colors.${s}`,s);try{return toHex(o),o}catch{return a??"#000000"}},getBrightness=i=>{const[s,a,o]=parseToRgba(i);return(s*299+a*587+o*114)/1e3},tone=i=>s=>{const a=getColor(s,i);return getBrightness(a)<128?"dark":"light"},isDark=i=>s=>tone(i)(s)==="dark",transparentize=(i,s)=>a=>{const o=getColor(a,i);return transparentize$1(o,1-s)};function generateStripe(i="1rem",s="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${s} 25%,
    transparent 25%,
    transparent 50%,
    ${s} 50%,
    ${s} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${i} ${i}`}}var randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(i){const s=randomHex();return!i||isEmptyObject(i)?s:i.string&&i.colors?randomColorFromList(i.string,i.colors):i.string&&!i.colors?randomColorFromString(i.string):i.colors&&!i.string?randomFromList(i.colors):s}function randomColorFromString(i){let s=0;if(i.length===0)return s.toString();for(let o=0;o<i.length;o+=1)s=i.charCodeAt(o)+((s<<5)-s),s=s&s;let a="#";for(let o=0;o<3;o+=1){const rt=s>>o*8&255;a+=`00${rt.toString(16)}`.substr(-2)}return a}function randomColorFromList(i,s){let a=0;if(i.length===0)return s[0];for(let o=0;o<i.length;o+=1)a=i.charCodeAt(o)+((a<<5)-a),a=a&a;return a=(a%s.length+s.length)%s.length,s[a]}function randomFromList(i){return i[Math.floor(Math.random()*i.length)]}function mode(i,s){return a=>a.colorMode==="dark"?s:i}function orient(i){const{orientation:s,vertical:a,horizontal:o}=i;return s?s==="vertical"?a:o:{}}function toRef(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpr=(i,...s)=>s.map(toRef).join(` ${i} `).replace(/calc/g,""),add=(...i)=>`calc(${toExpr("+",...i)})`,subtract=(...i)=>`calc(${toExpr("-",...i)})`,multiply=(...i)=>`calc(${toExpr("*",...i)})`,divide=(...i)=>`calc(${toExpr("/",...i)})`,negate=i=>{const s=toRef(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply(s,-1)},calc=Object.assign(i=>({add:(...s)=>calc(add(i,...s)),subtract:(...s)=>calc(subtract(i,...s)),multiply:(...s)=>calc(multiply(i,...s)),divide:(...s)=>calc(divide(i,...s)),negate:()=>calc(negate(i)),toString:()=>i.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(i){return!Number.isInteger(parseFloat(i.toString()))}function replaceWhiteSpace(i,s="-"){return i.replace(/\s+/g,s)}function escape(i){const s=replaceWhiteSpace(i.toString());return s.includes("\\.")?i:isDecimal(i)?s.replace(".","\\."):i}function addPrefix(i,s=""){return[s,escape(i)].filter(Boolean).join("-")}function toVarRef(i,s){return`var(${escape(i)}${s?`, ${s}`:""})`}function toVar(i,s=""){return`--${addPrefix(i,s)}`}function cssVar(i,s){const a=toVar(i,void 0);return{variable:a,reference:toVarRef(a,getFallback(void 0))}}function getFallback(i){return typeof i=="string"?i:i==null?void 0:i.reference}var{defineMultiStyleConfig:defineMultiStyleConfig$o,definePartsStyle:definePartsStyle$o}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height$1=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height$1),$translateX=cssVar("switch-thumb-x"),$bg$f=cssVar("switch-bg"),baseStyleTrack$2=i=>{const{colorScheme:s}=i;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height$1.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$f.variable]:"colors.gray.300",_dark:{[$bg$f.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$f.variable]:`colors.${s}.500`,_dark:{[$bg$f.variable]:`colors.${s}.200`}},bg:$bg$f.reference}},baseStyleThumb$1={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height$1.reference],height:[$height$1.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$E=definePartsStyle$o(i=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack$2(i),thumb:baseStyleThumb$1})),sizes$l={sm:definePartsStyle$o({container:{[$width.variable]:"1.375rem",[$height$1.variable]:"sizes.3"}}),md:definePartsStyle$o({container:{[$width.variable]:"1.875rem",[$height$1.variable]:"sizes.4"}}),lg:definePartsStyle$o({container:{[$width.variable]:"2.875rem",[$height$1.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig$o({baseStyle:baseStyle$E,sizes:sizes$l,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$n,definePartsStyle:definePartsStyle$n}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$D=definePartsStyle$n({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i)},td:{background:mode(`${s}.100`,`${s}.700`)(i)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$e={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$k={sm:definePartsStyle$n({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$n({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$n({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$D,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$5=cssVar$1("tabs-color"),$bg$e=cssVar$1("tabs-bg"),$border$3=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot$1=i=>{const{orientation:s}=i;return{display:s==="vertical"?"flex":"block"}},baseStyleTab=i=>{const{isFitted:s}=i;return{flex:s?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=i=>{const{align:s="start",orientation:a}=i;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[s],flexDirection:a==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$C=definePartsStyle$m(i=>({root:baseStyleRoot$1(i),tab:baseStyleTab(i),tablist:baseStyleTablist(i),tabpanel:baseStyleTabpanel})),sizes$j={sm:definePartsStyle$m({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$m({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$m({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$m(i=>{const{colorScheme:s,orientation:a}=i,o=a==="vertical",rt=o?"borderStart":"borderBottom",et=o?"marginStart":"marginBottom";return{tablist:{[rt]:"2px solid",borderColor:"inherit"},tab:{[rt]:"2px solid",borderColor:"transparent",[et]:"-2px",_selected:{[$fg$5.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:`colors.${s}.300`},borderColor:"currentColor"},_active:{[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantEnclosed=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border$3.variable]:"transparent",_selected:{[$fg$5.variable]:`colors.${s}.600`,[$border$3.variable]:"colors.white",_dark:{[$fg$5.variable]:`colors.${s}.300`,[$border$3.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border$3.reference},color:$fg$5.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$e.variable]:"colors.gray.50",_dark:{[$bg$e.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$e.variable]:"colors.white",[$fg$5.variable]:`colors.${s}.600`,_dark:{[$bg$e.variable]:"colors.gray.800",[$fg$5.variable]:`colors.${s}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$5.reference,bg:$bg$e.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$m(i=>{const{colorScheme:s,theme:a}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(a,`${s}.700`),bg:getColor(a,`${s}.100`)}}}}),variantSolidRounded=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$5.variable]:"colors.gray.600",_dark:{[$fg$5.variable]:"inherit"},_selected:{[$fg$5.variable]:"colors.white",[$bg$e.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:"colors.gray.800",[$bg$e.variable]:`colors.${s}.300`}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantUnstyled$2=definePartsStyle$m({}),variants$d={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled$2},tabsTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$C,sizes:sizes$j,variants:variants$d,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$B={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$3=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.500`,.6)(a);return{[vars.bg.variable]:`colors.${s}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:o,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle$1=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.200`,.16)(a);return{[vars.bg.variable]:`colors.${s}.100`,[vars.color.variable]:`colors.${s}.800`,_dark:{[vars.bg.variable]:o,[vars.color.variable]:`colors.${s}.200`}}},variantOutline$2=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.200`,.8)(a);return{[vars.color.variable]:`colors.${s}.500`,_dark:{[vars.color.variable]:o},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$c={solid:variantSolid$3,subtle:variantSubtle$1,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$B,variants:variants$c,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$l,definePartsStyle:definePartsStyle$l}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$d=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow$3=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize$1=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer$4={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$d.variable]:vars.bg.reference,[$shadow$3.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize$1.reference,px:$paddingX.reference,_focusVisible:{[$shadow$3.variable]:"shadows.outline"}},baseStyleLabel$4={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton$3={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$A=definePartsStyle$l({container:baseStyleContainer$4,label:baseStyleLabel$4,closeButton:baseStyleCloseButton$3}),sizes$i={sm:definePartsStyle$l({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize$1.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle$l({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize$1.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle$l({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize$1.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$b={subtle:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.subtle(i)}}),solid:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.solid(i)}}),outline:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.outline(i)}})},tagTheme=defineMultiStyleConfig$l({variants:variants$b,baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height=cssVar$1("input-height"),$fontSize=cssVar$1("input-font-size"),$padding$1=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$z=definePartsStyle$k({addon:{height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize.variable]:"fontSizes.lg",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.12"},md:{[$fontSize.variable]:"fontSizes.md",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.10"},sm:{[$fontSize.variable]:"fontSizes.sm",[$padding$1.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.8"},xs:{[$fontSize.variable]:"fontSizes.xs",[$padding$1.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.6"}},sizes$h={lg:definePartsStyle$k({field:size.lg,group:size.lg}),md:definePartsStyle$k({field:size.md,group:size.md}),sm:definePartsStyle$k({field:size.sm,group:size.sm}),xs:definePartsStyle$k({field:size.xs,group:size.xs})};function getDefaults(i){const{focusBorderColor:s,errorBorderColor:a}=i;return{focusBorderColor:s||mode("blue.500","blue.300")(i),errorBorderColor:a||mode("red.500","red.300")(i)}}var variantOutline$1=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o),boxShadow:`0 0 0 1px ${getColor(s,o)}`},_focusVisible:{zIndex:1,borderColor:getColor(s,a),boxShadow:`0 0 0 1px ${getColor(s,a)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(i),bg:mode("gray.100","whiteAlpha.300")(i)}}}),variantFilled=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i),_hover:{bg:mode("gray.200","whiteAlpha.100")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o)},_focusVisible:{bg:"transparent",borderColor:getColor(s,a)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i)}}}),variantFlushed=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o),boxShadow:`0px 1px 0px 0px ${getColor(s,o)}`},_focusVisible:{borderColor:getColor(s,a),boxShadow:`0px 1px 0px 0px ${getColor(s,a)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$k({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline$1,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$k({baseStyle:baseStyle$z,sizes:sizes$h,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),_a$4,baseStyle$y={...(_a$4=inputTheme.baseStyle)==null?void 0:_a$4.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},_a2$2,_b$2,variants$9={outline:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.outline(i).field)!=null?a:{}},flushed:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.flushed(i).field)!=null?a:{}},filled:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.filled(i).field)!=null?a:{}},unstyled:(_b$2=(_a2$2=inputTheme.variants)==null?void 0:_a2$2.unstyled.field)!=null?_b$2:{}},_a3,_b2,_c$1,_d$1,_e$1,_f$1,_g$1,_h$1,sizes$g={xs:(_b2=(_a3=inputTheme.sizes)==null?void 0:_a3.xs.field)!=null?_b2:{},sm:(_d$1=(_c$1=inputTheme.sizes)==null?void 0:_c$1.sm.field)!=null?_d$1:{},md:(_f$1=(_e$1=inputTheme.sizes)==null?void 0:_e$1.md.field)!=null?_f$1:{},lg:(_h$1=(_g$1=inputTheme.sizes)==null?void 0:_g$1.lg.field)!=null?_h$1:{}},textareaTheme={baseStyle:baseStyle$y,sizes:sizes$g,variants:variants$9,defaultProps:{size:"md",variant:"outline"}},$bg$c=cssVar("tooltip-bg"),$fg$4=cssVar("tooltip-fg"),$arrowBg$1=cssVar("popper-arrow-bg"),baseStyle$x={bg:$bg$c.reference,color:$fg$4.reference,[$bg$c.variable]:"colors.gray.700",[$fg$4.variable]:"colors.whiteAlpha.900",_dark:{[$bg$c.variable]:"colors.gray.300",[$fg$4.variable]:"colors.gray.900"},[$arrowBg$1.variable]:$bg$c.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle:baseStyle$x},{defineMultiStyleConfig:defineMultiStyleConfig$j,definePartsStyle:definePartsStyle$j}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=i=>{const{colorScheme:s,theme:a,isIndeterminate:o,hasStripe:rt}=i,et=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(i),at=mode(`${s}.500`,`${s}.200`)(i),ot=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(a,at)} 50%,
    transparent 100%
  )`;return{...!o&&rt&&et,...o?{bgImage:ot}:{bgColor:at}}},baseStyleLabel$3={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$1=i=>({bg:mode("gray.100","whiteAlpha.300")(i)}),baseStyleFilledTrack$1=i=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(i)}),baseStyle$w=definePartsStyle$j(i=>({label:baseStyleLabel$3,filledTrack:baseStyleFilledTrack$1(i),track:baseStyleTrack$1(i)})),sizes$f={xs:definePartsStyle$j({track:{h:"1"}}),sm:definePartsStyle$j({track:{h:"2"}}),md:definePartsStyle$j({track:{h:"3"}}),lg:definePartsStyle$j({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$j({sizes:sizes$f,baseStyle:baseStyle$w,defaultProps:{size:"md",colorScheme:"blue"}}),isFunction$3=i=>typeof i=="function";function runIfFn$1(i,...s){return isFunction$3(i)?i(...s):i}var{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=i=>{const{colorScheme:s}=i;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i),_hover:{bg:mode(`${s}.600`,`${s}.300`)(i),borderColor:mode(`${s}.600`,`${s}.300`)(i)},_disabled:{borderColor:mode("gray.200","transparent")(i),bg:mode("gray.200","whiteAlpha.300")(i),color:mode("gray.500","whiteAlpha.500")(i)}},_indeterminate:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(i),borderColor:mode("gray.100","transparent")(i)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(i)}}},baseStyleContainer$3={_disabled:{cursor:"not-allowed"}},baseStyleLabel$2={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$6={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$v=definePartsStyle$i(i=>({icon:baseStyleIcon$6,container:baseStyleContainer$3,control:runIfFn$1(baseStyleControl$1,i),label:baseStyleLabel$2})),sizes$e={sm:definePartsStyle$i({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$i({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$i({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$v,sizes:sizes$e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$h,definePartsStyle:definePartsStyle$h}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=i=>{var s;const a=(s=runIfFn$1(checkboxTheme.baseStyle,i))==null?void 0:s.control;return{...a,borderRadius:"full",_checked:{...a==null?void 0:a._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$u=definePartsStyle$h(i=>{var s,a,o,rt;return{label:(a=(s=checkboxTheme).baseStyle)==null?void 0:a.call(s,i).label,container:(rt=(o=checkboxTheme).baseStyle)==null?void 0:rt.call(o,i).container,control:baseStyleControl(i)}}),sizes$d={md:definePartsStyle$h({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$h({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$h({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$u,sizes:sizes$d,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$g,definePartsStyle:definePartsStyle$g}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$b=cssVar$1("select-bg"),_a$3,baseStyleField$1={...(_a$3=inputTheme.baseStyle)==null?void 0:_a$3.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$b.reference,[$bg$b.variable]:"colors.white",_dark:{[$bg$b.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$b.reference}},baseStyleIcon$5={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$t=definePartsStyle$g({field:baseStyleField$1,icon:baseStyleIcon$5}),iconSpacing={paddingInlineEnd:"8"},_a2$1,_b$1,_c,_d,_e,_f,_g,_h,sizes$c={lg:{...(_a2$1=inputTheme.sizes)==null?void 0:_a2$1.lg,field:{...(_b$1=inputTheme.sizes)==null?void 0:_b$1.lg.field,...iconSpacing}},md:{...(_c=inputTheme.sizes)==null?void 0:_c.md,field:{...(_d=inputTheme.sizes)==null?void 0:_d.md.field,...iconSpacing}},sm:{...(_e=inputTheme.sizes)==null?void 0:_e.sm,field:{...(_f=inputTheme.sizes)==null?void 0:_f.sm.field,...iconSpacing}},xs:{...(_g=inputTheme.sizes)==null?void 0:_g.xs,field:{...(_h=inputTheme.sizes)==null?void 0:_h.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$t,sizes:sizes$c,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$s={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$s},$bg$a=cssVar$1("skip-link-bg"),baseStyle$r={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$a.variable]:"colors.white",_dark:{[$bg$a.variable]:"colors.gray.700"},bg:$bg$a.reference}},skipLinkTheme={baseStyle:baseStyle$r},{defineMultiStyleConfig:defineMultiStyleConfig$f,definePartsStyle:definePartsStyle$f}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$9=cssVar$1("slider-bg"),baseStyleContainer$2=i=>{const{orientation:s}=i;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:s,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack=i=>({...orient({orientation:i.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$9.variable]:"colors.gray.300",_dark:{[$bg$9.variable]:"colors.whiteAlpha.300"}},bg:$bg$9.reference}),baseStyleThumb=i=>{const{orientation:s}=i;return{...orient({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=i=>{const{colorScheme:s}=i;return{width:"inherit",height:"inherit",[$bg$9.variable]:`colors.${s}.500`,_dark:{[$bg$9.variable]:`colors.${s}.200`},bg:$bg$9.reference}},baseStyle$q=definePartsStyle$f(i=>({container:baseStyleContainer$2(i),track:baseStyleTrack(i),thumb:baseStyleThumb(i),filledTrack:baseStyleFilledTrack(i)})),sizeLg=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$b={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$f({baseStyle:baseStyle$q,sizes:sizes$b,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("spinner-size"),baseStyle$p={width:[$size$2.reference],height:[$size$2.reference]},sizes$a={xs:{[$size$2.variable]:"sizes.3"},sm:{[$size$2.variable]:"sizes.4"},md:{[$size$2.variable]:"sizes.6"},lg:{[$size$2.variable]:"sizes.8"},xl:{[$size$2.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$p,sizes:sizes$a,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon$4={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$o=definePartsStyle$e({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon$4}),sizes$9={md:definePartsStyle$e({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$o,sizes:sizes$9,defaultProps:{size:"md"}}),$bg$8=cssVar$1("kbd-bg"),baseStyle$n={[$bg$8.variable]:"colors.gray.100",_dark:{[$bg$8.variable]:"colors.whiteAlpha.100"},bg:$bg$8.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$n},baseStyle$m={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$m},{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$l=definePartsStyle$d({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$7=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$7.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$7.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:$bg$7.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$7.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal"},baseStyle$k=definePartsStyle$c({button:baseStyleButton$1,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$k}),{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$6=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1=i=>{const{isCentered:s,scrollBehavior:a}=i;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:s?"center":"flex-start",overflow:a==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog$1=i=>{const{isCentered:s,scrollBehavior:a}=i;return{borderRadius:"md",color:"inherit",my:s?"auto":"16",mx:s?"auto":void 0,zIndex:"modal",maxH:a==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$6.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$6.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$6.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2=i=>{const{scrollBehavior:s}=i;return{px:"6",py:"2",flex:"1",overflow:s==="inside"?"auto":void 0}},baseStyleFooter$2={px:"6",py:"4"},baseStyle$j=definePartsStyle$b(i=>({overlay:baseStyleOverlay$1,dialogContainer:runIfFn$1(baseStyleDialogContainer$1,i),dialog:runIfFn$1(baseStyleDialog$1,i),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$2,body:runIfFn$1(baseStyleBody$2,i),footer:baseStyleFooter$2}));function getSize$3(i){return definePartsStyle$b(i==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:i}})}var sizes$8={xs:getSize$3("xs"),sm:getSize$3("sm"),md:getSize$3("md"),lg:getSize$3("lg"),xl:getSize$3("xl"),"2xl":getSize$3("2xl"),"3xl":getSize$3("3xl"),"4xl":getSize$3("4xl"),"5xl":getSize$3("5xl"),"6xl":getSize$3("6xl"),full:getSize$3("full")},modalTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$8,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$5=cssVar("number-input-bg"),$fg$3=cssVar("number-input-color"),$border$2=cssVar("number-input-border-color"),baseStyleRoot={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField=i=>{var s,a;return(a=(s=runIfFn$1(inputTheme.baseStyle,i))==null?void 0:s.field)!=null?a:{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$2.reference,color:$fg$3.reference,bg:$bg$5.reference,[$fg$3.variable]:"colors.chakra-body-text",[$border$2.variable]:"colors.chakra-border-color",_dark:{[$fg$3.variable]:"colors.whiteAlpha.800",[$border$2.variable]:"colors.whiteAlpha.300"},_active:{[$bg$5.variable]:"colors.gray.200",_dark:{[$bg$5.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$i=definePartsStyle$a(i=>{var s;return{root:baseStyleRoot,field:(s=runIfFn$1(baseStyleField,i))!=null?s:{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}});function getSize$2(i){var s,a,o;const rt=(s=inputTheme.sizes)==null?void 0:s[i],et={lg:"md",md:"md",sm:"sm",xs:"sm"},at=(o=(a=rt.field)==null?void 0:a.fontSize)!=null?o:"md",ot=typography_default.fontSizes[at];return definePartsStyle$a({field:{...rt.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(ot).multiply(.75).toString(),_first:{borderTopEndRadius:et[i]},_last:{borderBottomEndRadius:et[i],mt:"-1px",borderTopWidth:1}}})}var sizes$7={xs:getSize$2("xs"),sm:getSize$2("sm"),md:getSize$2("md"),lg:getSize$2("lg")},numberInputTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$i,sizes:sizes$7,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),_a$2,baseStyle$h={...(_a$2=inputTheme.baseStyle)==null?void 0:_a$2.field,textAlign:"center"},sizes$6={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_a2,_b,variants$8={outline:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.outline,i))==null?void 0:a.field)!=null?o:{}},flushed:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.flushed,i))==null?void 0:a.field)!=null?o:{}},filled:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.filled,i))==null?void 0:a.field)!=null?o:{}},unstyled:(_b=(_a2=inputTheme.variants)==null?void 0:_a2.unstyled.field)!=null?_b:{}},pinInputTheme={baseStyle:baseStyle$h,sizes:sizes$6,variants:variants$8,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader$1={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody$1={px:3,py:2},baseStyleFooter$1={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$g=definePartsStyle$9({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader$1,body:baseStyleBody$1,footer:baseStyleFooter$1,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$9({baseStyle:baseStyle$g}),{definePartsStyle:definePartsStyle$8,defineMultiStyleConfig:defineMultiStyleConfig$8}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$4=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$1(i){return definePartsStyle$8(i==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:i}})}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=i=>{const{isFullHeight:s}=i;return{...s&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$4.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$4.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$4.reference,boxShadow:$bs.reference}},baseStyleHeader={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter={px:"6",py:"4"},baseStyle$f=definePartsStyle$8(i=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:runIfFn$1(baseStyleDialog,i),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter})),sizes$5={xs:getSize$1("xs"),sm:getSize$1("md"),md:getSize$1("lg"),lg:getSize$1("2xl"),xl:getSize$1("4xl"),full:getSize$1("full")},drawerTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$5,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$7,defineMultiStyleConfig:defineMultiStyleConfig$7}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$e=definePartsStyle$7({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e}),{definePartsStyle:definePartsStyle$6,defineMultiStyleConfig:defineMultiStyleConfig$6}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$2=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$2.variable]:"colors.red.500",_dark:{[$fg$2.variable]:"colors.red.300"},color:$fg$2.reference},baseStyleHelperText={mt:"2",[$fg$2.variable]:"colors.gray.600",_dark:{[$fg$2.variable]:"colors.whiteAlpha.600"},color:$fg$2.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$d=definePartsStyle$6({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$d}),{definePartsStyle:definePartsStyle$5,defineMultiStyleConfig:defineMultiStyleConfig$5}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$1=cssVar$1("form-error-color"),baseStyleText={[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$1={marginEnd:"0.5em",[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference},baseStyle$c=definePartsStyle$5({text:baseStyleText,icon:baseStyleIcon$1}),formErrorTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$c}),baseStyle$b={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$b},baseStyle$a={fontFamily:"heading",fontWeight:"bold"},sizes$4={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$a,sizes:sizes$4,defaultProps:{size:"xl"}},{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$9=definePartsStyle$4({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$4({baseStyle:baseStyle$9}),baseStyle$8={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=i=>{const{colorScheme:s,theme:a}=i;if(s==="gray")return{color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.100","whiteAlpha.200")(i)},_active:{bg:mode("gray.200","whiteAlpha.300")(i)}};const o=transparentize(`${s}.200`,.12)(a),rt=transparentize(`${s}.200`,.24)(a);return{color:mode(`${s}.600`,`${s}.200`)(i),bg:"transparent",_hover:{bg:mode(`${s}.50`,o)(i)},_active:{bg:mode(`${s}.100`,rt)(i)}}},variantOutline=i=>{const{colorScheme:s}=i,a=mode("gray.200","whiteAlpha.300")(i);return{border:"1px solid",borderColor:s==="gray"?a:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn$1(variantGhost,i)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$2=i=>{var s;const{colorScheme:a}=i;if(a==="gray"){const nt=mode("gray.100","whiteAlpha.200")(i);return{bg:nt,color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.200","whiteAlpha.300")(i),_disabled:{bg:nt}},_active:{bg:mode("gray.300","whiteAlpha.400")(i)}}}const{bg:o=`${a}.500`,color:rt="white",hoverBg:et=`${a}.600`,activeBg:at=`${a}.700`}=(s=accessibleColorMap[a])!=null?s:{},ot=mode(o,`${a}.200`)(i);return{bg:ot,color:mode(rt,"gray.800")(i),_hover:{bg:mode(et,`${a}.300`)(i),_disabled:{bg:ot}},_active:{bg:mode(at,`${a}.400`)(i)}}},variantLink=i=>{const{colorScheme:s}=i;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${s}.500`,`${s}.200`)(i),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${s}.700`,`${s}.500`)(i)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$7={ghost:variantGhost,outline:variantOutline,solid:variantSolid$2,link:variantLink,unstyled:variantUnstyled},sizes$3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle$8,variants:variants$7,sizes:sizes$3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$3,defineMultiStyleConfig:defineMultiStyleConfig$3}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$3=cssVar$1("card-bg"),$padding=cssVar$1("card-padding"),$shadow=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$1=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$7=definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-body-bg",backgroundColor:$bg$3.reference,boxShadow:$shadow.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$1.reference,borderColor:$borderColor.reference},body:{padding:$padding.reference,flex:"1 1 0%"},header:{padding:$padding.reference},footer:{padding:$padding.reference}}),sizes$2={sm:definePartsStyle$3({container:{[$radius.variable]:"radii.base",[$padding.variable]:"space.3"}}),md:definePartsStyle$3({container:{[$radius.variable]:"radii.md",[$padding.variable]:"space.5"}}),lg:definePartsStyle$3({container:{[$radius.variable]:"radii.xl",[$padding.variable]:"space.7"}})},variants$6={elevated:definePartsStyle$3({container:{[$shadow.variable]:"shadows.base",_dark:{[$bg$3.variable]:"colors.gray.700"}}}),outline:definePartsStyle$3({container:{[$border$1.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding.variable]:0},header:{[$padding.variable]:0},footer:{[$padding.variable]:0}}},cardTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$7,variants:variants$6,sizes:sizes$2,defaultProps:{variant:"elevated",size:"md"}}),$size$1=cssVar("close-button-size"),$bg$2=cssVar("close-button-bg"),baseStyle$6={w:[$size$1.reference],h:[$size$1.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$2.variable]:"colors.blackAlpha.100",_dark:{[$bg$2.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$2.variable]:"colors.blackAlpha.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$2.reference},sizes$1={lg:{[$size$1.variable]:"sizes.10",fontSize:"md"},md:{[$size$1.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$1.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$6,sizes:sizes$1,defaultProps:{size:"md"}},{variants:variants$5,defaultProps}=badgeTheme,baseStyle$5={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$5,variants:variants$5,defaultProps},baseStyle$4={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$4},baseStyle$3={opacity:.6,borderColor:"inherit"},variantSolid$1={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$4={solid:variantSolid$1,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$3,variants:variants$4,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$2,defineMultiStyleConfig:defineMultiStyleConfig$2}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$1={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon={fontSize:"1.25em"},baseStyle$2=definePartsStyle$2({container:baseStyleContainer$1,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon}),accordionTheme=defineMultiStyleConfig$2({baseStyle:baseStyle$2}),{definePartsStyle:definePartsStyle$1,defineMultiStyleConfig:defineMultiStyleConfig$1}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg=cssVar$1("alert-fg"),$bg$1=cssVar$1("alert-bg"),baseStyle$1=definePartsStyle$1({container:{bg:$bg$1.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(i){const{theme:s,colorScheme:a}=i,o=transparentize(`${a}.200`,.16)(s);return{light:`colors.${a}.100`,dark:o}}var variantSubtle=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark}}}}),variantLeftAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg.reference}}}),variantTopAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg.reference}}}),variantSolid=definePartsStyle$1(i=>{const{colorScheme:s}=i;return{container:{[$fg.variable]:"colors.white",[$bg$1.variable]:`colors.${s}.600`,_dark:{[$fg.variable]:"colors.gray.900",[$bg$1.variable]:`colors.${s}.200`},color:$fg.reference}}}),variants$3={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},alertTheme=defineMultiStyleConfig$1({baseStyle:baseStyle$1,variants:variants$3,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle,defineMultiStyleConfig}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border=cssVar$1("avatar-border-color"),$bg=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border.reference,[$border.variable]:"white",_dark:{[$border.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg.reference,fontSize:$fs.reference,width:$size.reference,height:$size.reference,lineHeight:"1",[$bg.variable]:"colors.gray.200",_dark:{[$bg.variable]:"colors.whiteAlpha.400"}},baseStyleContainer=i=>{const{name:s,theme:a}=i,o=s?randomColor({string:s}):"colors.gray.400",rt=isDark(o)(a);let et="white";return rt||(et="gray.800"),{bg:$bg.reference,fontSize:$fs.reference,color:et,borderColor:$border.reference,verticalAlign:"top",width:$size.reference,height:$size.reference,"&:not([data-loaded])":{[$bg.variable]:o},[$border.variable]:"colors.white",_dark:{[$border.variable]:"colors.gray.800"}}},baseStyleLabel={fontSize:$fs.reference,lineHeight:"1"},baseStyle=definePartsStyle(i=>({badge:runIfFn$1(baseStyleBadge,i),excessLabel:runIfFn$1(baseStyleExcessLabel,i),container:runIfFn$1(baseStyleContainer,i),label:baseStyleLabel}));function getSize(i){const s=i!=="100%"?sizes_default[i]:void 0;return definePartsStyle({container:{[$size.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`},excessLabel:{[$size.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`}})}var sizes={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},avatarTheme=defineMultiStyleConfig({baseStyle,sizes,defaultProps:{size:"md"}}),components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},direction="ltr",config$1={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config:config$1};function isFunction$2(i){return typeof i=="function"}function pipe$1(...i){return s=>i.reduce((a,o)=>o(a),s)}var createExtendTheme=i=>function(...a){let o=[...a],rt=a[a.length-1];return isChakraTheme(rt)&&o.length>1?o=o.slice(0,o.length-1):rt=i,pipe$1(...o.map(et=>at=>isFunction$2(et)?et(at):mergeThemeOverride(at,et)))(rt)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...i){return mergeWith({},...i,mergeThemeCustomizer)}function mergeThemeCustomizer(i,s,a,o){if((isFunction$2(i)||isFunction$2(s))&&Object.prototype.hasOwnProperty.call(o,a))return(...rt)=>{const et=isFunction$2(i)?i(...rt):i,at=isFunction$2(s)?s(...rt):s;return mergeWith({},et,at,mergeThemeCustomizer)}}function canUseDOM$1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var isBrowser$1=canUseDOM$1();function omit$1(i,s){const a={};return Object.keys(i).forEach(o=>{s.includes(o)||(a[o]=i[o])}),a}function get$2(i,s,a,o){const rt=typeof s=="string"?s.split("."):[s];for(o=0;o<rt.length&&i;o+=1)i=i[rt[o]];return i===void 0?a:i}var memoize$1=i=>{const s=new WeakMap;return(o,rt,et,at)=>{if(typeof o>"u")return i(o,rt,et);s.has(o)||s.set(o,new Map);const ot=s.get(o);if(ot.has(rt))return ot.get(rt);const nt=i(o,rt,et,at);return ot.set(rt,nt),nt}},memoizedGet=memoize$1(get$2);function objectFilter(i,s){const a={};return Object.keys(i).forEach(o=>{const rt=i[o];s(rt,o,i)&&(a[o]=rt)}),a}var filterUndefined=i=>objectFilter(i,s=>s!=null);function isFunction$1(i){return typeof i=="function"}function runIfFn(i,...s){return isFunction$1(i)?i(...s):i}function callAllHandlers(...i){return function(a){i.some(o=>(o==null||o(a),a==null?void 0:a.defaultPrevented))}}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal$1(i,s){if(i===s)return!0;if(i&&s&&typeof i=="object"&&typeof s=="object"){if(i.constructor!==s.constructor)return!1;var a,o,rt;if(Array.isArray(i)){if(a=i.length,a!=s.length)return!1;for(o=a;o--!==0;)if(!equal$1(i[o],s[o]))return!1;return!0}var et;if(hasMap&&i instanceof Map&&s instanceof Map){if(i.size!==s.size)return!1;for(et=i.entries();!(o=et.next()).done;)if(!s.has(o.value[0]))return!1;for(et=i.entries();!(o=et.next()).done;)if(!equal$1(o.value[1],s.get(o.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&s instanceof Set){if(i.size!==s.size)return!1;for(et=i.entries();!(o=et.next()).done;)if(!s.has(o.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(s)){if(a=i.length,a!=s.length)return!1;for(o=a;o--!==0;)if(i[o]!==s[o])return!1;return!0}if(i.constructor===RegExp)return i.source===s.source&&i.flags===s.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof s.valueOf=="function")return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof s.toString=="function")return i.toString()===s.toString();if(rt=Object.keys(i),a=rt.length,a!==Object.keys(s).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(s,rt[o]))return!1;if(hasElementType&&i instanceof Element)return!1;for(o=a;o--!==0;)if(!((rt[o]==="_owner"||rt[o]==="__v"||rt[o]==="__o")&&i.$$typeof)&&!equal$1(i[rt[o]],s[rt[o]]))return!1;return!0}return i!==i&&s!==s}var reactFastCompare=function(s,a){try{return equal$1(s,a)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}};const isEqual$2=getDefaultExportFromCjs(reactFastCompare);function useStyleConfigImpl(i,s={}){var a;const{styleConfig:o,...rt}=s,{theme:et,colorMode:at}=useChakra(),ot=i?memoizedGet(et,`components.${i}`):void 0,nt=o||ot,it=mergeWith({theme:et,colorMode:at},(a=nt==null?void 0:nt.defaultProps)!=null?a:{},filterUndefined(omit$1(rt,["children"]))),j=reactExports.useRef({});if(nt){const $=resolveStyleConfig(nt)(it);isEqual$2(j.current,$)||(j.current=$)}return j.current}function useStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}function useMultiStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(i){return validHTMLProps.has(i)||!allPropNames.has(i)}function assignAfter(i,...s){if(i==null)throw new TypeError("Cannot convert undefined or null to object");const a={...i};for(const o of s)if(o!=null)for(const rt in o)Object.prototype.hasOwnProperty.call(o,rt)&&(rt in a&&delete a[rt],a[rt]=o[rt]);return a}function compact(i){const s=Object.assign({},i);for(let a in s)s[a]===void 0&&delete s[a];return s}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$3(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$1=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$3(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,a){switch(s){case"animation":case"animationName":if(typeof a=="string")return a.replace(animationRegex,function(o,rt,et){return cursor={name:rt,styles:et,next:cursor},rt})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof a=="number"&&a!==0?a+"px":a},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,s,a){if(a==null)return"";var o=a;if(o.__emotion_styles!==void 0)return o;switch(typeof a){case"boolean":return"";case"object":{var rt=a;if(rt.anim===1)return cursor={name:rt.name,styles:rt.styles,next:cursor},rt.name;var et=a;if(et.styles!==void 0){var at=et.next;if(at!==void 0)for(;at!==void 0;)cursor={name:at.name,styles:at.styles,next:cursor},at=at.next;var ot=et.styles+";";return ot}return createStringFromObject(i,s,a)}case"function":{if(i!==void 0){var nt=cursor,it=a(i);return cursor=nt,handleInterpolation(i,s,it)}break}}var j=a;if(s==null)return j;var _=s[j];return _!==void 0?_:j}function createStringFromObject(i,s,a){var o="";if(Array.isArray(a))for(var rt=0;rt<a.length;rt++)o+=handleInterpolation(i,s,a[rt])+";";else for(var et in a){var at=a[et];if(typeof at!="object"){var ot=at;s!=null&&s[ot]!==void 0?o+=et+"{"+s[ot]+"}":isProcessableValue(ot)&&(o+=processStyleName(et)+":"+processStyleValue(et,ot)+";")}else{if(et==="NO_COMPONENT_SELECTOR"&&isDevelopment$1)throw new Error(noComponentSelectorMessage);if(Array.isArray(at)&&typeof at[0]=="string"&&(s==null||s[at[0]]===void 0))for(var nt=0;nt<at.length;nt++)isProcessableValue(at[nt])&&(o+=processStyleName(et)+":"+processStyleValue(et,at[nt])+";");else{var it=handleInterpolation(i,s,at);switch(et){case"animation":case"animationName":{o+=processStyleName(et)+":"+it+";";break}default:o+=et+"{"+it+"}"}}}}return o}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor;function serializeStyles(i,s,a){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var o=!0,rt="";cursor=void 0;var et=i[0];if(et==null||et.raw===void 0)o=!1,rt+=handleInterpolation(a,s,et);else{var at=et;rt+=at[0]}for(var ot=1;ot<i.length;ot++)if(rt+=handleInterpolation(a,s,i[ot]),o){var nt=et;rt+=nt[ot]}labelPattern.lastIndex=0;for(var it="",j;(j=labelPattern.exec(rt))!==null;)it+="-"+j[1];var _=murmur2(rt)+it;return{name:_,styles:rt,next:cursor}}var testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,a,o){var rt;if(a){var et=a.shouldForwardProp;rt=s.__emotion_forwardProp&&et?function(at){return s.__emotion_forwardProp(at)&&et(at)}:et}return typeof rt!="function"&&o&&(rt=s.__emotion_forwardProp),rt},isDevelopment=!1,Insertion=function(s){var a=s.cache,o=s.serialized,rt=s.isStringTag;return registerStyles(a,o,rt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(a,o,rt)}),null},createStyled=function i(s,a){var o=s.__emotion_real===s,rt=o&&s.__emotion_base||s,et,at;a!==void 0&&(et=a.label,at=a.target);var ot=composeShouldForwardProps(s,a,o),nt=ot||getDefaultShouldForwardProp(rt),it=!nt("as");return function(){var j=arguments,_=o&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(et!==void 0&&_.push("label:"+et+";"),j[0]==null||j[0].raw===void 0)_.push.apply(_,j);else{_.push(j[0][0]);for(var $=j.length,tt=1;tt<$;tt++)_.push(j[tt],j[0][tt])}var st=withEmotionCache(function(lt,ht,ft){var ct=it&&lt.as||rt,mt="",gt=[],yt=lt;if(lt.theme==null){yt={};for(var ut in lt)yt[ut]=lt[ut];yt.theme=reactExports.useContext(ThemeContext)}typeof lt.className=="string"?mt=getRegisteredStyles(ht.registered,gt,lt.className):lt.className!=null&&(mt=lt.className+" ");var wt=serializeStyles(_.concat(gt),ht.registered,yt);mt+=ht.key+"-"+wt.name,at!==void 0&&(mt+=" "+at);var bt=it&&ot===void 0?getDefaultShouldForwardProp(ct):nt,vt={};for(var Et in lt)it&&Et==="as"||bt(Et)&&(vt[Et]=lt[Et]);return vt.className=mt,ft&&(vt.ref=ft),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:ht,serialized:wt,isStringTag:typeof ct=="string"}),reactExports.createElement(ct,vt))});return st.displayName=et!==void 0?et:"Styled("+(typeof rt=="string"?rt:rt.displayName||rt.name||"Component")+")",st.defaultProps=s.defaultProps,st.__emotion_real=st,st.__emotion_base=rt,st.__emotion_styles=_,st.__emotion_forwardProp=ot,Object.defineProperty(st,"toString",{value:function(){return at===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+at}}),st.withComponent=function(lt,ht){return i(lt,_extends$1({},a,ht,{shouldForwardProp:composeShouldForwardProps(st,ht,!0)})).apply(void 0,_)},st}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});var _a$1,emotion_styled=(_a$1=newStyled.default)!=null?_a$1:newStyled,toCSSObject=({baseStyle:i})=>s=>{const{theme:a,css:o,__css:rt,sx:et,...at}=s,ot=objectFilter(at,(_,$)=>isStyleProp($)),nt=runIfFn(i,s),it=assignAfter({},rt,nt,filterUndefined(ot),et),j=css(it)(s.theme);return o?[j,o]:j};function styled(i,s){const{baseStyle:a,...o}=s??{};o.shouldForwardProp||(o.shouldForwardProp=shouldForwardProp);const rt=toCSSObject({baseStyle:a}),et=emotion_styled(i,o)(rt);return React$4.forwardRef(function(nt,it){const{colorMode:j,forced:_}=useColorMode();return React$4.createElement(et,{ref:it,"data-theme":_?j:void 0,...nt})})}function factory(){const i=new Map;return new Proxy(styled,{apply(s,a,o){return styled(...o)},get(s,a){return i.has(a)||i.set(a,styled(a)),i.get(a)}})}var chakra=factory();function forwardRef(i){return reactExports.forwardRef(i)}function createContext$1(i={}){const{strict:s=!0,errorMessage:a="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:o}=i,rt=reactExports.createContext(void 0);rt.displayName=o;function et(){var at;const ot=reactExports.useContext(rt);if(!ot&&s){const nt=new Error(a);throw nt.name="ContextError",(at=Error.captureStackTrace)==null||at.call(Error,nt,et),nt}return ot}return[rt.Provider,et,rt]}function ThemeProvider(i){const{cssVarsRoot:s,theme:a,children:o}=i,rt=reactExports.useMemo(()=>toCSSVar(a),[a]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:rt,children:[jsxRuntimeExports.jsx(CSSVars,{root:s}),o]})}function CSSVars({root:i=":host, :root"}){const s=[i,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:a=>({[s]:a.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(i){return createContext$1({name:`${i}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${i} />" `})}function GlobalStyle(){const{colorMode:i}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:s=>{const a=memoizedGet(s,"styles.global"),o=runIfFn(a,{theme:s,colorMode:i});return o?css(o)(s):void 0}})}var EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(i){const{children:s,environment:a,disabled:o}=i,rt=reactExports.useRef(null),et=reactExports.useMemo(()=>a||{getDocument:()=>{var ot,nt;return(nt=(ot=rt.current)==null?void 0:ot.ownerDocument)!=null?nt:document},getWindow:()=>{var ot,nt;return(nt=(ot=rt.current)==null?void 0:ot.ownerDocument.defaultView)!=null?nt:window}},[a]),at=!o||!a;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:et,children:[s,at&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:rt})]})}EnvironmentProvider.displayName="EnvironmentProvider";var ChakraProvider$1=i=>{const{children:s,colorModeManager:a,portalZIndex:o,resetScope:rt,resetCSS:et=!0,theme:at={},environment:ot,cssVarsRoot:nt,disableEnvironment:it,disableGlobalStyle:j}=i,_=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:ot,disabled:it,children:s});return jsxRuntimeExports.jsx(ThemeProvider,{theme:at,cssVarsRoot:nt,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:a,options:at.config,children:[et?jsxRuntimeExports.jsx(CSSReset,{scope:rt}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!j&&jsxRuntimeExports.jsx(GlobalStyle,{}),o?jsxRuntimeExports.jsx(PortalManager,{zIndex:o,children:_}):_]})})},findById=(i,s)=>i.find(a=>a.id===s);function findToast(i,s){const a=getToastPosition(i,s),o=a?i[a].findIndex(rt=>rt.id===s):-1;return{position:a,index:o}}function getToastPosition(i,s){for(const[a,o]of Object.entries(i))if(findById(o,s))return a}function getToastStyle(i){const s=i.includes("right"),a=i.includes("left");let o="center";return s&&(o="flex-end"),a&&(o="flex-start"),{display:"flex",flexDirection:"column",alignItems:o}}function getToastListStyle(i){const a=i==="top"||i==="bottom"?"0 auto":void 0,o=i.includes("top")?"env(safe-area-inset-top, 0px)":void 0,rt=i.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,et=i.includes("left")?void 0:"env(safe-area-inset-right, 0px)",at=i.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:a,top:o,bottom:rt,right:et,left:at}}function useCallbackRef$2(i,s=[]){const a=reactExports.useRef(i);return reactExports.useEffect(()=>{a.current=i}),reactExports.useCallback((...o)=>{var rt;return(rt=a.current)==null?void 0:rt.call(a,...o)},s)}function useTimeout(i,s){const a=useCallbackRef$2(i);reactExports.useEffect(()=>{if(s==null)return;let o=null;return o=window.setTimeout(()=>{a()},s),()=>{o&&window.clearTimeout(o)}},[s,a])}function useUpdateEffect(i,s){const a=reactExports.useRef(!1),o=reactExports.useRef(!1);reactExports.useEffect(()=>{if(a.current&&o.current)return i();o.current=!0},s),reactExports.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[])}const MotionConfigContext=reactExports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};function createRenderStep(i){let s=new Set,a=new Set,o=!1,rt=!1;const et=new WeakSet;let at={delta:0,timestamp:0,isProcessing:!1};function ot(it){et.has(it)&&(nt.schedule(it),i()),it(at)}const nt={schedule:(it,j=!1,_=!1)=>{const tt=_&&o?s:a;return j&&et.add(it),tt.has(it)||tt.add(it),it},cancel:it=>{a.delete(it),et.delete(it)},process:it=>{if(at=it,o){rt=!0;return}o=!0,[s,a]=[a,s],a.clear(),s.forEach(ot),o=!1,rt&&(rt=!1,nt.process(it))}};return nt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(i,s){let a=!1,o=!0;const rt={delta:0,timestamp:0,isProcessing:!1},et=()=>a=!0,at=stepsOrder.reduce((ft,ct)=>(ft[ct]=createRenderStep(et),ft),{}),{read:ot,resolveKeyframes:nt,update:it,preRender:j,render:_,postRender:$}=at,tt=()=>{const ft=performance.now();a=!1,rt.delta=o?1e3/60:Math.max(Math.min(ft-rt.timestamp,maxElapsed),1),rt.timestamp=ft,rt.isProcessing=!0,ot.process(rt),nt.process(rt),it.process(rt),j.process(rt),_.process(rt),$.process(rt),rt.isProcessing=!1,a&&s&&(o=!1,i(tt))},st=()=>{a=!0,o=!0,rt.isProcessing||i(tt)};return{schedule:stepsOrder.reduce((ft,ct)=>{const mt=at[ct];return ft[ct]=(gt,yt=!1,ut=!1)=>(a||st(),mt.schedule(gt,yt,ut)),ft},{}),cancel:ft=>{for(let ct=0;ct<stepsOrder.length;ct++)at[stepsOrder[ct]].cancel(ft)},state:rt,steps:at}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function isRefObject(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}const SwitchLayoutGroupContext=reactExports.createContext({});let scheduleHandoffComplete=!1;function useVisualElement(i,s,a,o,rt){var et;const{visualElement:at}=reactExports.useContext(MotionContext),ot=reactExports.useContext(LazyContext),nt=reactExports.useContext(PresenceContext),it=reactExports.useContext(MotionConfigContext).reducedMotion,j=reactExports.useRef();o=o||ot.renderer,!j.current&&o&&(j.current=o(i,{visualState:s,parent:at,props:a,presenceContext:nt,blockInitialAnimation:nt?nt.initial===!1:!1,reducedMotionConfig:it}));const _=j.current,$=reactExports.useContext(SwitchLayoutGroupContext);_&&!_.projection&&rt&&(_.type==="html"||_.type==="svg")&&createProjectionNode$1(j.current,a,rt,$),reactExports.useInsertionEffect(()=>{_&&_.update(a,nt)});const tt=a[optimizedAppearDataAttribute],st=reactExports.useRef(!!tt&&!window.MotionHandoffIsComplete&&((et=window.MotionHasOptimisedAnimation)===null||et===void 0?void 0:et.call(window,tt)));return useIsomorphicLayoutEffect$1(()=>{_&&(_.updateFeatures(),microtask.render(_.render),st.current&&_.animationState&&_.animationState.animateChanges())}),reactExports.useEffect(()=>{_&&(!st.current&&_.animationState&&_.animationState.animateChanges(),st.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff)))}),_}function completeHandoff(){window.MotionHandoffIsComplete=!0}function createProjectionNode$1(i,s,a,o){const{layoutId:rt,layout:et,drag:at,dragConstraints:ot,layoutScroll:nt,layoutRoot:it}=s;i.projection=new a(i.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(i.parent)),i.projection.setOptions({layoutId:rt,layout:et,alwaysMeasureLayout:!!at||ot&&isRefObject(ot),visualElement:i,animationType:typeof et=="string"?et:"both",initialPromotionConfig:o,layoutScroll:nt,layoutRoot:it})}function getClosestProjectingNode(i){if(i)return i.options.allowProjection!==!1?i.projection:getClosestProjectingNode(i.parent)}function useMotionRef(i,s,a){return reactExports.useCallback(o=>{o&&i.mount&&i.mount(o),s&&(o?s.mount(o):s.unmount()),a&&(typeof a=="function"?a(o):isRefObject(a)&&(a.current=o))},[s])}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}function isAnimationControls(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps.some(s=>isVariantLabel(i[s]))}function isVariantNode(i){return!!(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,s){if(isControllingVariants(i)){const{initial:a,animate:o}=i;return{initial:a===!1||isVariantLabel(a)?a:void 0,animate:isVariantLabel(o)?o:void 0}}return i.inherit!==!1?s:{}}function useCreateMotionContext(i){const{initial:s,animate:a}=getCurrentTreeVariants(i,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:a}),[variantLabelsAsDependency(s),variantLabelsAsDependency(a)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const i in featureProps)featureDefinitions[i]={isEnabled:s=>featureProps[i].some(a=>!!s[a])};function loadFeatures(i){for(const s in i)featureDefinitions[s]={...featureDefinitions[s],...i[s]}}const LayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol"),noop$1=i=>i;let invariant=noop$1;function createMotionComponent({preloadedFeatures:i,createVisualElement:s,useRender:a,useVisualState:o,Component:rt}){i&&loadFeatures(i);function et(ot,nt){let it;const j={...reactExports.useContext(MotionConfigContext),...ot,layoutId:useLayoutId(ot)},{isStatic:_}=j,$=useCreateMotionContext(ot),tt=o(ot,_);if(!_&&isBrowser){useStrictMode();const st=getProjectionFunctionality(j);it=st.MeasureLayout,$.visualElement=useVisualElement(rt,tt,j,s,st.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:$,children:[it&&$.visualElement?jsxRuntimeExports.jsx(it,{visualElement:$.visualElement,...j}):null,a(rt,ot,useMotionRef(tt,$.visualElement,nt),tt,_,$.visualElement)]})}const at=reactExports.forwardRef(et);return at[motionComponentSymbol]=rt,at}function useLayoutId({layoutId:i}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&i!==void 0?s+"-"+i:i}function useStrictMode(i,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(i){const{drag:s,layout:a}=featureDefinitions;if(!s&&!a)return{};const o={...s,...a};return{MeasureLayout:s!=null&&s.isEnabled(i)||a!=null&&a.isEnabled(i)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function createMotionProxy(i){function s(o,rt={}){return createMotionComponent(i(o,rt))}if(typeof Proxy>"u")return s;const a=new Map;return new Proxy(s,{get:(o,rt)=>(a.has(rt)||a.set(rt,s(rt)),a.get(rt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/u.test(i))}const scaleCorrectors={};function addScaleCorrector(i){Object.assign(scaleCorrectors,i)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(i,{layout:s,layoutId:a}){return transformProps.has(i)||i.startsWith("origin")||(s||a!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}const isMotionValue=i=>!!(i&&i.getVelocity),getValueAsType=(i,s)=>s&&typeof i=="number"?s.transform(i):i,clamp=(i,s,a)=>a>s?s:a<i?i:a,number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale={...number,default:1},sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString$1(i){return typeof i=="string"}function isNullish(i){return i==null}const createUnitType=i=>({test:s=>isString$1(s)&&s.endsWith(i)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(i,s,a){let o="",rt=!0;for(let et=0;et<numTransforms;et++){const at=transformPropOrder[et],ot=i[at];if(ot===void 0)continue;let nt=!0;if(typeof ot=="number"?nt=ot===(at.startsWith("scale")?1:0):nt=parseFloat(ot)===0,!nt||a){const it=getValueAsType(ot,numberValueTypes[at]);if(!nt){rt=!1;const j=translateAlias[at]||at;o+=`${j}(${it}) `}a&&(s[at]=it)}}return o=o.trim(),a?o=a(s,rt?"":o):rt&&(o="none"),o}const checkStringStartsWith=i=>s=>typeof s=="string"&&s.startsWith(i),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=i=>startsAsVariableToken(i)?singleCssVariableRegex.test(i.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function buildHTMLStyles(i,s,a){const{style:o,vars:rt,transformOrigin:et}=i;let at=!1,ot=!1;for(const nt in s){const it=s[nt];if(transformProps.has(nt)){at=!0;continue}else if(isCSSVariableName(nt)){rt[nt]=it;continue}else{const j=getValueAsType(it,numberValueTypes[nt]);nt.startsWith("origin")?(ot=!0,et[nt]=j):o[nt]=j}}if(s.transform||(at||a?o.transform=buildTransform(s,i.transform,a):o.transform&&(o.transform="none")),ot){const{originX:nt="50%",originY:it="50%",originZ:j=0}=et;o.transformOrigin=`${nt} ${it} ${j}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(i,s,a){for(const o in s)!isMotionValue(s[o])&&!isForcedMotionValue(o,a)&&(i[o]=s[o])}function useInitialMotionValues({transformTemplate:i},s){return reactExports.useMemo(()=>{const a=createHtmlRenderState();return buildHTMLStyles(a,s,i),Object.assign({},a.vars,a.style)},[s])}function useStyle(i,s){const a=i.style||{},o={};return copyRawValuesOnly(o,a,i),Object.assign(o,useInitialMotionValues(i,s)),o}function useHTMLProps(i,s){const a={},o=useStyle(i,s);return i.drag&&i.dragListener!==!1&&(a.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(a.tabIndex=0),a.style=o,a}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){i&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):i(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(i,s,a){const o={};for(const rt in i)rt==="values"&&typeof i.values=="object"||(shouldForward(rt)||a===!0&&isValidMotionProp(rt)||!s&&!isValidMotionProp(rt)||i.draggable&&rt.startsWith("onDrag"))&&(o[rt]=i[rt]);return o}function calcOrigin$1(i,s,a){return typeof i=="string"?i:px.transform(s+a*i)}function calcSVGTransformOrigin(i,s,a){const o=calcOrigin$1(s,i.x,i.width),rt=calcOrigin$1(a,i.y,i.height);return`${o} ${rt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,s,a=1,o=0,rt=!0){i.pathLength=1;const et=rt?dashKeys:camelKeys;i[et.offset]=px.transform(-o);const at=px.transform(s),ot=px.transform(a);i[et.array]=`${at} ${ot}`}function buildSVGAttrs(i,{attrX:s,attrY:a,attrScale:o,originX:rt,originY:et,pathLength:at,pathSpacing:ot=1,pathOffset:nt=0,...it},j,_){if(buildHTMLStyles(i,it,_),j){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:$,style:tt,dimensions:st}=i;$.transform&&(st&&(tt.transform=$.transform),delete $.transform),st&&(rt!==void 0||et!==void 0||tt.transform)&&(tt.transformOrigin=calcSVGTransformOrigin(st,rt!==void 0?rt:.5,et!==void 0?et:.5)),s!==void 0&&($.x=s),a!==void 0&&($.y=a),o!==void 0&&($.scale=o),at!==void 0&&buildSVGPath($,at,ot,nt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg";function useSVGProps(i,s,a,o){const rt=reactExports.useMemo(()=>{const et=createSvgRenderState();return buildSVGAttrs(et,s,isSVGTag(o),i.transformTemplate),{...et.attrs,style:{...et.style}}},[s]);if(i.style){const et={};copyRawValuesOnly(et,i.style,i),rt.style={...et,...rt.style}}return rt}function createUseRender(i=!1){return(a,o,rt,{latestValues:et},at)=>{const nt=(isSVGComponent(a)?useSVGProps:useHTMLProps)(o,et,at,a),it=filterProps(o,typeof a=="string",i),j=a!==reactExports.Fragment?{...it,...nt,ref:rt}:{},{children:_}=o,$=reactExports.useMemo(()=>isMotionValue(_)?_.get():_,[_]);return reactExports.createElement(a,{...j,children:$})}}function renderHTML(i,{style:s,vars:a},o,rt){Object.assign(i.style,s,rt&&rt.getProjectionStyles(o));for(const et in a)i.style.setProperty(et,a[et])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,s,a,o){renderHTML(i,s,void 0,o);for(const rt in s.attrs)i.setAttribute(camelCaseAttributes.has(rt)?rt:camelToDash(rt),s.attrs[rt])}function scrapeMotionValuesFromProps$1(i,s,a){var o;const{style:rt}=i,et={};for(const at in rt)(isMotionValue(rt[at])||s.style&&isMotionValue(s.style[at])||isForcedMotionValue(at,i)||((o=a==null?void 0:a.getValue(at))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(et[at]=rt[at]);return a&&rt&&typeof rt.willChange=="string"&&(a.applyWillChange=!1),et}function scrapeMotionValuesFromProps(i,s,a){const o=scrapeMotionValuesFromProps$1(i,s,a);for(const rt in i)if(isMotionValue(i[rt])||isMotionValue(s[rt])){const et=transformPropOrder.indexOf(rt)!==-1?"attr"+rt.charAt(0).toUpperCase()+rt.substring(1):rt;o[et]=i[rt]}return o}function getValueState(i){const s=[{},{}];return i==null||i.values.forEach((a,o)=>{s[0][o]=a.get(),s[1][o]=a.getVelocity()}),s}function resolveVariantFromProps(i,s,a,o){if(typeof s=="function"){const[rt,et]=getValueState(o);s=s(a!==void 0?a:i.custom,rt,et)}if(typeof s=="string"&&(s=i.variants&&i.variants[s]),typeof s=="function"){const[rt,et]=getValueState(o);s=s(a!==void 0?a:i.custom,rt,et)}return s}function useConstant(i){const s=reactExports.useRef(null);return s.current===null&&(s.current=i()),s.current}const isKeyframesTarget=i=>Array.isArray(i),isCustomValue=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),resolveFinalValueInKeyframes=i=>isKeyframesTarget(i)?i[i.length-1]||0:i;function resolveMotionValue(i){const s=isMotionValue(i)?i.get():i;return isCustomValue(s)?s.toValue():s}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function getWillChangeName(i){if(transformProps.has(i))return"transform";if(acceleratedValues.has(i))return camelToDash(i)}function addUniqueItem(i,s){i.indexOf(s)===-1&&i.push(s)}function removeItem(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function makeState({applyWillChange:i=!1,scrapeMotionValuesFromProps:s,createRenderState:a,onMount:o},rt,et,at,ot){const nt={latestValues:makeLatestValues(rt,et,at,ot?!1:i,s),renderState:a()};return o&&(nt.mount=it=>o(rt,it,nt)),nt}const makeUseVisualState=i=>(s,a)=>{const o=reactExports.useContext(MotionContext),rt=reactExports.useContext(PresenceContext),et=()=>makeState(i,s,o,rt,a);return a?et():useConstant(et)};function addWillChange(i,s){const a=getWillChangeName(s);a&&addUniqueItem(i,a)}function forEachDefinition(i,s,a){const o=Array.isArray(s)?s:[s];for(let rt=0;rt<o.length;rt++){const et=resolveVariantFromProps(i,o[rt]);if(et){const{transitionEnd:at,transition:ot,...nt}=et;a(nt,at)}}}function makeLatestValues(i,s,a,o,rt){var et;const at={},ot=[],nt=o&&((et=i.style)===null||et===void 0?void 0:et.willChange)===void 0,it=rt(i,{});for(const ht in it)at[ht]=resolveMotionValue(it[ht]);let{initial:j,animate:_}=i;const $=isControllingVariants(i),tt=isVariantNode(i);s&&tt&&!$&&i.inherit!==!1&&(j===void 0&&(j=s.initial),_===void 0&&(_=s.animate));let st=a?a.initial===!1:!1;st=st||j===!1;const lt=st?_:j;return lt&&typeof lt!="boolean"&&!isAnimationControls(lt)&&forEachDefinition(i,lt,(ht,ft)=>{for(const ct in ht){let mt=ht[ct];if(Array.isArray(mt)){const gt=st?mt.length-1:0;mt=mt[gt]}mt!==null&&(at[ct]=mt)}for(const ct in ft)at[ct]=ft[ct]}),nt&&(_&&j!==!1&&!isAnimationControls(_)&&forEachDefinition(i,_,ht=>{for(const ft in ht)addWillChange(ot,ft)}),ot.length&&(at.willChange=ot.join(","))),at}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(i,s,{renderState:a,latestValues:o})=>{frame.read(()=>{try{a.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(a,o,isSVGTag(s.tagName),i.transformTemplate),renderSVG(s,a)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({applyWillChange:!0,scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(i,{forwardMotionProps:s=!1},a,o){return{...isSVGComponent(i)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:a,useRender:createUseRender(s),createVisualElement:o,Component:i}}function addDomEvent(i,s,a,o={passive:!0}){return i.addEventListener(s,a,o),()=>i.removeEventListener(s,a)}const isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function extractEventInfo(i,s="page"){return{point:{x:i[`${s}X`],y:i[`${s}Y`]}}}const addPointerInfo=i=>s=>isPrimaryPointer(s)&&i(s,extractEventInfo(s));function addPointerEvent(i,s,a,o){return addDomEvent(i,s,addPointerInfo(a),o)}const combineFunctions=(i,s)=>a=>s(i(a)),pipe=(...i)=>i.reduce(combineFunctions);function createLock(i){let s=null;return()=>{const a=()=>{s=null};return s===null?(s=i,a):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(i){let s=!1;if(i==="y")s=globalVerticalLock();else if(i==="x")s=globalHorizontalLock();else{const a=globalHorizontalLock(),o=globalVerticalLock();a&&o?s=()=>{a(),o()}:(a&&a(),o&&o())}return s}function isDragActive(){const i=getGlobalLock(!0);return i?(i(),!1):!0}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}function addHoverEvent(i,s){const a=s?"pointerenter":"pointerleave",o=s?"onHoverStart":"onHoverEnd",rt=(et,at)=>{if(et.pointerType==="touch"||isDragActive())return;const ot=i.getProps();i.animationState&&ot.whileHover&&i.animationState.setActive("whileHover",s);const nt=ot[o];nt&&frame.postRender(()=>nt(et,at))};return addPointerEvent(i.current,a,rt,{passive:!i.getProps()[o]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(i,s)=>s?i===s?!0:isNodeOrChild(i,s.parentElement):!1;function fireSyntheticPointerEvent(i,s){if(!s)return;const a=new PointerEvent("pointer"+i);s(a,extractEventInfo(a))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$1,this.removeEndListeners=noop$1,this.removeAccessibleListeners=noop$1,this.startPointerPress=(s,a)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),et=addPointerEvent(window,"pointerup",(ot,nt)=>{if(!this.checkPressEnd())return;const{onTap:it,onTapCancel:j,globalTapTarget:_}=this.node.getProps(),$=!_&&!isNodeOrChild(this.node.current,ot.target)?j:it;$&&frame.update(()=>$(ot,nt))},{passive:!(o.onTap||o.onPointerUp)}),at=addPointerEvent(window,"pointercancel",(ot,nt)=>this.cancelPress(ot,nt),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=pipe(et,at),this.startPress(s,a)},this.startAccessiblePress=()=>{const s=et=>{if(et.key!=="Enter"||this.isPressing)return;const at=ot=>{ot.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(nt,it)=>{const{onTap:j}=this.node.getProps();j&&frame.postRender(()=>j(nt,it))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",at),fireSyntheticPointerEvent("down",(ot,nt)=>{this.startPress(ot,nt)})},a=addDomEvent(this.node.current,"keydown",s),o=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(et,at)=>this.cancelPress(et,at))},rt=addDomEvent(this.node.current,"blur",o);this.removeAccessibleListeners=pipe(a,rt)}}startPress(s,a){this.isPressing=!0;const{onTapStart:o,whileTap:rt}=this.node.getProps();rt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&frame.postRender(()=>o(s,a))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(s,a){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&frame.postRender(()=>o(s,a))}mount(){const s=this.node.getProps(),a=addPointerEvent(s.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(s.onTapStart||s.onPointerStart)}),o=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(a,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const s=observerCallbacks.get(i.target);s&&s(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...s}){const a=i||document;observers.has(a)||observers.set(a,{});const o=observers.get(a),rt=JSON.stringify(s);return o[rt]||(o[rt]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...s})),o[rt]}function observeIntersection(i,s,a){const o=initIntersectionObserver(s);return observerCallbacks.set(i,a),o.observe(i),()=>{observerCallbacks.delete(i),o.unobserve(i)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:o,amount:rt="some",once:et}=s,at={root:a?a.current:void 0,rootMargin:o,threshold:typeof rt=="number"?rt:thresholdNames[rt]},ot=nt=>{const{isIntersecting:it}=nt;if(this.isInView===it||(this.isInView=it,et&&!it&&this.hasEnteredView))return;it&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",it);const{onViewportEnter:j,onViewportLeave:_}=this.node.getProps(),$=it?j:_;$&&$(nt)};return observeIntersection(this.node.current,at,ot)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,a))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:i={}},{viewport:s={}}={}){return a=>i[a]!==s[a]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(i,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==i.length)return!1;for(let o=0;o<a;o++)if(s[o]!==i[o])return!1;return!0}function resolveVariant(i,s,a){const o=i.getProps();return resolveVariantFromProps(o,s,a!==void 0?a:o.custom,i)}const secondsToMilliseconds=i=>i*1e3,millisecondsToSeconds=i=>i/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(i,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(i)?i.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:i,delay:s,delayChildren:a,staggerChildren:o,staggerDirection:rt,repeat:et,repeatType:at,repeatDelay:ot,from:nt,elapsed:it,...j}){return!!Object.keys(j).length}function getValueTransition(i,s){return i[s]||i.default||i}const isNotNull=i=>i!==null;function getFinalKeyframe(i,{repeat:s,repeatType:a="loop"},o){const rt=i.filter(isNotNull),et=s&&a!=="loop"&&s%2===1?0:rt.length-1;return!et||o===void 0?rt[et]:o}const isZeroValueString=i=>/^0[^.\s]+$/u.test(i);function isNone(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||isZeroValueString(i):!0}const isNumericalString=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(i){const s=splitCSSVariableRegex.exec(i);if(!s)return[,];const[,a,o,rt]=s;return[`--${a??o}`,rt]}function getVariableValue(i,s,a=1){const[o,rt]=parseCSSVariable(i);if(!o)return;const et=window.getComputedStyle(s).getPropertyValue(o);if(et){const at=et.trim();return isNumericalString(at)?parseFloat(at):at}return isCSSVariableToken(rt)?getVariableValue(rt,s,a+1):rt}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=i=>i===number||i===px,getPosFromMatrix=(i,s)=>parseFloat(i.split(", ")[s]),getTranslateFromMatrix=(i,s)=>(a,{transform:o})=>{if(o==="none"||!o)return 0;const rt=o.match(/^matrix3d\((.+)\)$/u);if(rt)return getPosFromMatrix(rt[1],s);{const et=o.match(/^matrix\((.+)\)$/u);return et?getPosFromMatrix(et[1],i):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const s=[];return nonTranslationalTransformKeys.forEach(a=>{const o=i.getValue(a);o!==void 0&&(s.push([a,o.get()]),o.set(a.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:i},{paddingLeft:s="0",paddingRight:a="0"})=>i.max-i.min-parseFloat(s)-parseFloat(a),height:({y:i},{paddingTop:s="0",paddingBottom:a="0"})=>i.max-i.min-parseFloat(s)-parseFloat(a),top:(i,{top:s})=>parseFloat(s),left:(i,{left:s})=>parseFloat(s),bottom:({y:i},{top:s})=>parseFloat(s)+(i.max-i.min),right:({x:i},{left:s})=>parseFloat(s)+(i.max-i.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=i=>s=>s.test(i),auto={test:i=>i==="auto",parse:i=>i},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const i=Array.from(toResolve).filter(o=>o.needsMeasurement),s=new Set(i.map(o=>o.element)),a=new Map;s.forEach(o=>{const rt=removeNonTranslationalTransform(o);rt.length&&(a.set(o,rt),o.render())}),i.forEach(o=>o.measureInitialState()),s.forEach(o=>{o.render();const rt=a.get(o);rt&&rt.forEach(([et,at])=>{var ot;(ot=o.getValue(et))===null||ot===void 0||ot.set(at)})}),i.forEach(o=>o.measureEndState()),i.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(i=>i.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,a,o,rt,et,at=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=o,this.motionValue=rt,this.element=et,this.isAsync=at}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:o,motionValue:rt}=this;for(let et=0;et<s.length;et++)if(s[et]===null)if(et===0){const at=rt==null?void 0:rt.get(),ot=s[s.length-1];if(at!==void 0)s[0]=at;else if(o&&a){const nt=o.readValue(a,ot);nt!=null&&(s[0]=nt)}s[0]===void 0&&(s[0]=ot),rt&&at===void 0&&rt.set(s[0])}else s[et]=s[et-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(i,s)=>a=>!!(isString$1(a)&&singleColorRegex.test(a)&&a.startsWith(i)||s&&!isNullish(a)&&Object.prototype.hasOwnProperty.call(a,s)),splitColor=(i,s,a)=>o=>{if(!isString$1(o))return o;const[rt,et,at,ot]=o.match(floatRegex);return{[i]:parseFloat(rt),[s]:parseFloat(et),[a]:parseFloat(at),alpha:ot!==void 0?parseFloat(ot):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:s,blue:a,alpha:o=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(a)+", "+sanitize(alpha.transform(o))+")"};function parseHex(i){let s="",a="",o="",rt="";return i.length>5?(s=i.substring(1,3),a=i.substring(3,5),o=i.substring(5,7),rt=i.substring(7,9)):(s=i.substring(1,2),a=i.substring(2,3),o=i.substring(3,4),rt=i.substring(4,5),s+=s,a+=a,o+=o,rt+=rt),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(o,16),alpha:rt?parseInt(rt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:s,lightness:a,alpha:o=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(a))+", "+sanitize(alpha.transform(o))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>isString$1(i)?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i)};function test(i){var s,a;return isNaN(i)&&isString$1(i)&&(((s=i.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((a=i.match(colorRegex))===null||a===void 0?void 0:a.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(i){const s=i.toString(),a=[],o={color:[],number:[],var:[]},rt=[];let et=0;const ot=s.replace(complexRegex,nt=>(color.test(nt)?(o.color.push(et),rt.push(COLOR_TOKEN),a.push(color.parse(nt))):nt.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(et),rt.push(VAR_TOKEN),a.push(nt)):(o.number.push(et),rt.push(NUMBER_TOKEN),a.push(parseFloat(nt))),++et,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:a,split:ot,indexes:o,types:rt}}function parseComplexValue(i){return analyseComplexValue(i).values}function createTransformer(i){const{split:s,types:a}=analyseComplexValue(i),o=s.length;return rt=>{let et="";for(let at=0;at<o;at++)if(et+=s[at],rt[at]!==void 0){const ot=a[at];ot===NUMBER_TOKEN?et+=sanitize(rt[at]):ot===COLOR_TOKEN?et+=color.transform(rt[at]):et+=rt[at]}return et}}const convertNumbersToZero=i=>typeof i=="number"?0:i;function getAnimatableNone$1(i){const s=parseComplexValue(i);return createTransformer(i)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[s,a]=i.slice(0,-1).split("(");if(s==="drop-shadow")return i;const[o]=a.match(floatRegex)||[];if(!o)return i;const rt=a.replace(o,"");let et=maxDefaults.has(s)?1:0;return o!==a&&(et*=100),s+"("+et+rt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex,getAnimatableNone:i=>{const s=i.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):i}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,s){let a=getDefaultValueType(i);return a!==filter$1&&(a=complex),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(i,s,a){let o=0,rt;for(;o<i.length&&!rt;){const et=i[o];typeof et=="string"&&!invalidTemplates.has(et)&&analyseComplexValue(et).values.length&&(rt=i[o]),o++}if(rt&&a)for(const et of s)i[et]=getAnimatableNone(a,rt)}class DOMKeyframesResolver extends KeyframeResolver{constructor(s,a,o,rt,et){super(s,a,o,rt,et,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:o}=this;if(!a||!a.current)return;super.readKeyframes();for(let nt=0;nt<s.length;nt++){let it=s[nt];if(typeof it=="string"&&(it=it.trim(),isCSSVariableToken(it))){const j=getVariableValue(it,a.current);j!==void 0&&(s[nt]=j),nt===s.length-1&&(this.finalKeyframe=it)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||s.length!==2)return;const[rt,et]=s,at=findDimensionValueType(rt),ot=findDimensionValueType(et);if(at!==ot)if(isNumOrPxType(at)&&isNumOrPxType(ot))for(let nt=0;nt<s.length;nt++){const it=s[nt];typeof it=="string"&&(s[nt]=parseFloat(it))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,o=[];for(let rt=0;rt<s.length;rt++)isNone(s[rt])&&o.push(rt);o.length&&makeNoneKeyframesAnimatable(s,o,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:o}=this;if(!s||!s.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const rt=a[a.length-1];rt!==void 0&&s.getValue(o,rt).jump(rt,!1)}measureEndState(){var s;const{element:a,name:o,unresolvedKeyframes:rt}=this;if(!a||!a.current)return;const et=a.getValue(o);et&&et.jump(this.measuredOrigin,!1);const at=rt.length-1,ot=rt[at];rt[at]=positionalValues[o](a.measureViewportBox(),window.getComputedStyle(a.current)),ot!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ot),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([nt,it])=>{a.getValue(nt).set(it)}),this.resolveNoneKeyframes()}}function memo(i){let s;return()=>(s===void 0&&(s=i()),s)}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:i=>{now=i,queueMicrotask(clearTime)}},isAnimatable=(i,s)=>s==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(complex.test(i)||i==="0")&&!i.startsWith("url("));function hasKeyframesChanged(i){const s=i[0];if(i.length===1)return!0;for(let a=0;a<i.length;a++)if(i[a]!==s)return!0}function canAnimate(i,s,a,o){const rt=i[0];if(rt===null)return!1;if(s==="display"||s==="visibility")return!0;const et=i[i.length-1],at=isAnimatable(rt,s),ot=isAnimatable(et,s);return!at||!ot?!1:hasKeyframesChanged(i)||a==="spring"&&o}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:a=0,type:o="keyframes",repeat:rt=0,repeatDelay:et=0,repeatType:at="loop",...ot}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:a,type:o,repeat:rt,repeatDelay:et,repeatType:at,...ot},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,a){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:o,type:rt,velocity:et,delay:at,onComplete:ot,onUpdate:nt,isGenerator:it}=this.options;if(!it&&!canAnimate(s,o,rt,et))if(at)this.options.duration=0;else{nt==null||nt(getFinalKeyframe(s,this.options,a)),ot==null||ot(),this.resolveFinishedPromise();return}const j=this.initPlayback(s,a);j!==!1&&(this._resolved={keyframes:s,finalKeyframe:a,...j},this.onPostResolved())}onPostResolved(){}then(s,a){return this.currentFinishedPromise.then(s,a)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}function velocityPerSecond(i,s){return s?i*(1e3/s):0}const velocitySampleDuration=5;function calcGeneratorVelocity(i,s,a){const o=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(a-i(o),s-o)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:i=800,bounce:s=.25,velocity:a=0,mass:o=1}){let rt,et,at=1-s;at=clamp(minDamping,maxDamping,at),i=clamp(minDuration,maxDuration$1,millisecondsToSeconds(i)),at<1?(rt=it=>{const j=it*at,_=j*i,$=j-a,tt=calcAngularFreq(it,at),st=Math.exp(-_);return safeMin-$/tt*st},et=it=>{const _=it*at*i,$=_*a+a,tt=Math.pow(at,2)*Math.pow(it,2)*i,st=Math.exp(-_),lt=calcAngularFreq(Math.pow(it,2),at);return(-rt(it)+safeMin>0?-1:1)*(($-tt)*st)/lt}):(rt=it=>{const j=Math.exp(-it*i),_=(it-a)*i+1;return-safeMin+j*_},et=it=>{const j=Math.exp(-it*i),_=(a-it)*(i*i);return j*_});const ot=5/i,nt=approximateRoot(rt,et,ot);if(i=secondsToMilliseconds(i),isNaN(nt))return{stiffness:100,damping:10,duration:i};{const it=Math.pow(nt,2)*o;return{stiffness:it,damping:at*2*Math.sqrt(o*it),duration:i}}}const rootIterations=12;function approximateRoot(i,s,a){let o=a;for(let rt=1;rt<rootIterations;rt++)o=o-i(o)/s(o);return o}function calcAngularFreq(i,s){return i*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,s){return s.some(a=>i[a]!==void 0)}function getSpringOptions(i){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys)){const a=findSpring(i);s={...s,...a,mass:1},s.isResolvedFromDuration=!0}return s}function spring({keyframes:i,restDelta:s,restSpeed:a,...o}){const rt=i[0],et=i[i.length-1],at={done:!1,value:rt},{stiffness:ot,damping:nt,mass:it,duration:j,velocity:_,isResolvedFromDuration:$}=getSpringOptions({...o,velocity:-millisecondsToSeconds(o.velocity||0)}),tt=_||0,st=nt/(2*Math.sqrt(ot*it)),lt=et-rt,ht=millisecondsToSeconds(Math.sqrt(ot/it)),ft=Math.abs(lt)<5;a||(a=ft?.01:2),s||(s=ft?.005:.5);let ct;if(st<1){const mt=calcAngularFreq(ht,st);ct=gt=>{const yt=Math.exp(-st*ht*gt);return et-yt*((tt+st*ht*lt)/mt*Math.sin(mt*gt)+lt*Math.cos(mt*gt))}}else if(st===1)ct=mt=>et-Math.exp(-ht*mt)*(lt+(tt+ht*lt)*mt);else{const mt=ht*Math.sqrt(st*st-1);ct=gt=>{const yt=Math.exp(-st*ht*gt),ut=Math.min(mt*gt,300);return et-yt*((tt+st*ht*lt)*Math.sinh(ut)+mt*lt*Math.cosh(ut))/mt}}return{calculatedDuration:$&&j||null,next:mt=>{const gt=ct(mt);if($)at.done=mt>=j;else{let yt=0;st<1&&(yt=mt===0?secondsToMilliseconds(tt):calcGeneratorVelocity(ct,mt,gt));const ut=Math.abs(yt)<=a,wt=Math.abs(et-gt)<=s;at.done=ut&&wt}return at.value=at.done?et:gt,at}}}function inertia({keyframes:i,velocity:s=0,power:a=.8,timeConstant:o=325,bounceDamping:rt=10,bounceStiffness:et=500,modifyTarget:at,min:ot,max:nt,restDelta:it=.5,restSpeed:j}){const _=i[0],$={done:!1,value:_},tt=bt=>ot!==void 0&&bt<ot||nt!==void 0&&bt>nt,st=bt=>ot===void 0?nt:nt===void 0||Math.abs(ot-bt)<Math.abs(nt-bt)?ot:nt;let lt=a*s;const ht=_+lt,ft=at===void 0?ht:at(ht);ft!==ht&&(lt=ft-_);const ct=bt=>-lt*Math.exp(-bt/o),mt=bt=>ft+ct(bt),gt=bt=>{const vt=ct(bt),Et=mt(bt);$.done=Math.abs(vt)<=it,$.value=$.done?ft:Et};let yt,ut;const wt=bt=>{tt($.value)&&(yt=bt,ut=spring({keyframes:[$.value,st($.value)],velocity:calcGeneratorVelocity(mt,bt,$.value),damping:rt,stiffness:et,restDelta:it,restSpeed:j}))};return wt(0),{calculatedDuration:null,next:bt=>{let vt=!1;return!ut&&yt===void 0&&(vt=!0,gt(bt),wt(bt)),yt!==void 0&&bt>=yt?ut.next(bt-yt):(!vt&&gt(bt),$)}}}const calcBezier=(i,s,a)=>(((1-3*a+3*s)*i+(3*a-6*s))*i+3*s)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,s,a,o,rt){let et,at,ot=0;do at=s+(a-s)/2,et=calcBezier(at,o,rt)-i,et>0?a=at:s=at;while(Math.abs(et)>subdivisionPrecision&&++ot<subdivisionMaxIterations);return at}function cubicBezier(i,s,a,o){if(i===s&&a===o)return noop$1;const rt=et=>binarySubdivide(et,0,1,i,a);return et=>et===0||et===1?et:calcBezier(rt(et),s,o)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number",mirrorEasing=i=>s=>s<=.5?i(2*s)/2:(2-i(2*(1-s)))/2,reverseEasing=i=>s=>1-i(1-s),circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=i=>{if(Array.isArray(i)){invariant(i.length===4);const[s,a,o,rt]=i;return cubicBezier(s,a,o,rt)}else if(typeof i=="string")return invariant(easingLookup[i]!==void 0),easingLookup[i];return i},progress=(i,s,a)=>{const o=s-i;return o===0?1:(a-i)/o},mixNumber$1=(i,s,a)=>i+(s-i)*a;function hueToRgb(i,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?i+(s-i)*6*a:a<1/2?s:a<2/3?i+(s-i)*(2/3-a)*6:i}function hslaToRgba({hue:i,saturation:s,lightness:a,alpha:o}){i/=360,s/=100,a/=100;let rt=0,et=0,at=0;if(!s)rt=et=at=a;else{const ot=a<.5?a*(1+s):a+s-a*s,nt=2*a-ot;rt=hueToRgb(nt,ot,i+1/3),et=hueToRgb(nt,ot,i),at=hueToRgb(nt,ot,i-1/3)}return{red:Math.round(rt*255),green:Math.round(et*255),blue:Math.round(at*255),alpha:o}}function mixImmediate(i,s){return a=>a>0?s:i}const mixLinearColor=(i,s,a)=>{const o=i*i,rt=a*(s*s-o)+o;return rt<0?0:Math.sqrt(rt)},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(s=>s.test(i));function asRGBA(i){const s=getColorType(i);if(!s)return!1;let a=s.parse(i);return s===hsla&&(a=hslaToRgba(a)),a}const mixColor=(i,s)=>{const a=asRGBA(i),o=asRGBA(s);if(!a||!o)return mixImmediate(i,s);const rt={...a};return et=>(rt.red=mixLinearColor(a.red,o.red,et),rt.green=mixLinearColor(a.green,o.green,et),rt.blue=mixLinearColor(a.blue,o.blue,et),rt.alpha=mixNumber$1(a.alpha,o.alpha,et),rgba.transform(rt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(i,s){return invisibleValues.has(i)?a=>a<=0?i:s:a=>a>=1?s:i}function mixNumber(i,s){return a=>mixNumber$1(i,s,a)}function getMixer(i){return typeof i=="number"?mixNumber:typeof i=="string"?isCSSVariableToken(i)?mixImmediate:color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?color.test(i)?mixColor:mixObject:mixImmediate}function mixArray(i,s){const a=[...i],o=a.length,rt=i.map((et,at)=>getMixer(et)(et,s[at]));return et=>{for(let at=0;at<o;at++)a[at]=rt[at](et);return a}}function mixObject(i,s){const a={...i,...s},o={};for(const rt in a)i[rt]!==void 0&&s[rt]!==void 0&&(o[rt]=getMixer(i[rt])(i[rt],s[rt]));return rt=>{for(const et in o)a[et]=o[et](rt);return a}}function matchOrder(i,s){var a;const o=[],rt={color:0,var:0,number:0};for(let et=0;et<s.values.length;et++){const at=s.types[et],ot=i.indexes[at][rt[at]],nt=(a=i.values[ot])!==null&&a!==void 0?a:0;o[et]=nt,rt[at]++}return o}const mixComplex=(i,s)=>{const a=complex.createTransformer(s),o=analyseComplexValue(i),rt=analyseComplexValue(s);return o.indexes.var.length===rt.indexes.var.length&&o.indexes.color.length===rt.indexes.color.length&&o.indexes.number.length>=rt.indexes.number.length?invisibleValues.has(i)&&!rt.values.length||invisibleValues.has(s)&&!o.values.length?mixVisibility(i,s):pipe(mixArray(matchOrder(o,rt),rt.values),a):mixImmediate(i,s)};function mix(i,s,a){return typeof i=="number"&&typeof s=="number"&&typeof a=="number"?mixNumber$1(i,s,a):getMixer(i)(i,s)}function createMixers(i,s,a){const o=[],rt=a||mix,et=i.length-1;for(let at=0;at<et;at++){let ot=rt(i[at],i[at+1]);if(s){const nt=Array.isArray(s)?s[at]||noop$1:s;ot=pipe(nt,ot)}o.push(ot)}return o}function interpolate(i,s,{clamp:a=!0,ease:o,mixer:rt}={}){const et=i.length;if(invariant(et===s.length),et===1)return()=>s[0];if(et===2&&i[0]===i[1])return()=>s[1];i[0]>i[et-1]&&(i=[...i].reverse(),s=[...s].reverse());const at=createMixers(s,o,rt),ot=at.length,nt=it=>{let j=0;if(ot>1)for(;j<i.length-2&&!(it<i[j+1]);j++);const _=progress(i[j],i[j+1],it);return at[j](_)};return a?it=>nt(clamp(i[0],i[et-1],it)):nt}function fillOffset(i,s){const a=i[i.length-1];for(let o=1;o<=s;o++){const rt=progress(0,s,o);i.push(mixNumber$1(a,1,rt))}}function defaultOffset(i){const s=[0];return fillOffset(s,i.length-1),s}function convertOffsetToTimes(i,s){return i.map(a=>a*s)}function defaultEasing(i,s){return i.map(()=>s||easeInOut).splice(0,i.length-1)}function keyframes({duration:i=300,keyframes:s,times:a,ease:o="easeInOut"}){const rt=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),et={done:!1,value:s[0]},at=convertOffsetToTimes(a&&a.length===s.length?a:defaultOffset(s),i),ot=interpolate(at,s,{ease:Array.isArray(rt)?rt:defaultEasing(s,rt)});return{calculatedDuration:i,next:nt=>(et.value=ot(nt),et.done=nt>=i,et)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(i){let s=0;const a=50;let o=i.next(s);for(;!o.done&&s<maxGeneratorDuration;)s+=a,o=i.next(s);return s>=maxGeneratorDuration?1/0:s}const frameloopDriver=i=>{const s=({timestamp:a})=>i(a);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=i=>i/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:nt}=this.options;nt&&nt()};const{name:a,motionValue:o,element:rt,keyframes:et}=this.options,at=(rt==null?void 0:rt.KeyframeResolver)||KeyframeResolver,ot=(nt,it)=>this.onKeyframesResolved(nt,it);this.resolver=new at(et,ot,a,o,rt),this.resolver.scheduleResolve()}initPlayback(s){const{type:a="keyframes",repeat:o=0,repeatDelay:rt=0,repeatType:et,velocity:at=0}=this.options,ot=generators[a]||keyframes;let nt,it;ot!==keyframes&&typeof s[0]!="number"&&(nt=pipe(percentToProgress,mix(s[0],s[1])),s=[0,100]);const j=ot({...this.options,keyframes:s});et==="mirror"&&(it=ot({...this.options,keyframes:[...s].reverse(),velocity:-at})),j.calculatedDuration===null&&(j.calculatedDuration=calcGeneratorDuration(j));const{calculatedDuration:_}=j,$=_+rt,tt=$*(o+1)-rt;return{generator:j,mirroredGenerator:it,mapPercentToKeyframes:nt,calculatedDuration:_,resolvedDuration:$,totalDuration:tt}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,a=!1){const{resolved:o}=this;if(!o){const{keyframes:bt}=this.options;return{done:!0,value:bt[bt.length-1]}}const{finalKeyframe:rt,generator:et,mirroredGenerator:at,mapPercentToKeyframes:ot,keyframes:nt,calculatedDuration:it,totalDuration:j,resolvedDuration:_}=o;if(this.startTime===null)return et.next(0);const{delay:$,repeat:tt,repeatType:st,repeatDelay:lt,onUpdate:ht}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-j/this.speed,this.startTime)),a?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const ft=this.currentTime-$*(this.speed>=0?1:-1),ct=this.speed>=0?ft<0:ft>j;this.currentTime=Math.max(ft,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=j);let mt=this.currentTime,gt=et;if(tt){const bt=Math.min(this.currentTime,j)/_;let vt=Math.floor(bt),Et=bt%1;!Et&&bt>=1&&(Et=1),Et===1&&vt--,vt=Math.min(vt,tt+1),!!(vt%2)&&(st==="reverse"?(Et=1-Et,lt&&(Et-=lt/_)):st==="mirror"&&(gt=at)),mt=clamp(0,1,Et)*_}const yt=ct?{done:!1,value:nt[0]}:gt.next(mt);ot&&(yt.value=ot(yt.value));let{done:ut}=yt;!ct&&it!==null&&(ut=this.speed>=0?this.currentTime>=j:this.currentTime<=0);const wt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return wt&&rt!==void 0&&(yt.value=getFinalKeyframe(nt,this.options,rt)),ht&&ht(yt.value),wt&&this.finish(),yt}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:a,startTime:o}=this.options;this.driver||(this.driver=s(et=>this.tick(et))),a&&a();const rt=this.driver.now();this.holdTime!==null?this.startTime=rt-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=rt):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const isBezierDefinition=i=>Array.isArray(i)&&typeof i[0]=="number";function isWaapiSupportedEasing(i){return!!(!i||typeof i=="string"&&i in supportedWaapiEasing||isBezierDefinition(i)||Array.isArray(i)&&i.every(isWaapiSupportedEasing))}const cubicBezierAsString=([i,s,a,o])=>`cubic-bezier(${i}, ${s}, ${a}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(i){return mapEasingToNativeEasing(i)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(i){if(i)return isBezierDefinition(i)?cubicBezierAsString(i):Array.isArray(i)?i.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[i]}function animateStyle(i,s,a,{delay:o=0,duration:rt=300,repeat:et=0,repeatType:at="loop",ease:ot,times:nt}={}){const it={[s]:a};nt&&(it.offset=nt);const j=mapEasingToNativeEasing(ot);return Array.isArray(j)&&(it.easing=j),i.animate(it,{delay:o,duration:rt,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:et+1,direction:at==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(i){return i.type==="spring"||!isWaapiSupportedEasing(i.ease)}function pregenerateKeyframes(i,s){const a=new MainThreadAnimation({...s,keyframes:i,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:i[0]};const rt=[];let et=0;for(;!o.done&&et<maxDuration;)o=a.sample(et),rt.push(o.value),et+=sampleDelta;return{times:void 0,keyframes:rt,duration:et-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:a,motionValue:o,element:rt,keyframes:et}=this.options;this.resolver=new DOMKeyframesResolver(et,(at,ot)=>this.onKeyframesResolved(at,ot),a,o,rt),this.resolver.scheduleResolve()}initPlayback(s,a){var o;let{duration:rt=300,times:et,ease:at,type:ot,motionValue:nt,name:it,startTime:j}=this.options;if(!(!((o=nt.owner)===null||o===void 0)&&o.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:$,onUpdate:tt,motionValue:st,element:lt,...ht}=this.options,ft=pregenerateKeyframes(s,ht);s=ft.keyframes,s.length===1&&(s[1]=s[0]),rt=ft.duration,et=ft.times,at=ft.ease,ot="keyframes"}const _=animateStyle(nt.owner.current,it,s,{...this.options,duration:rt,times:et,ease:at});return _.startTime=j??this.calcStartTime(),this.pendingTimeline?(_.timeline=this.pendingTimeline,this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:$}=this.options;nt.set(getFinalKeyframe(s,this.options,a)),$&&$(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:rt,times:et,type:ot,ease:at,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:a}=s;return millisecondsToSeconds(a)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:a}=s;return millisecondsToSeconds(a.currentTime||0)}set time(s){const{resolved:a}=this;if(!a)return;const{animation:o}=a;o.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:a}=s;return a.playbackRate}set speed(s){const{resolved:a}=this;if(!a)return;const{animation:o}=a;o.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:a}=s;return a.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:a}=s;return a.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:a}=this;if(!a)return noop$1;const{animation:o}=a;o.timeline=s,o.onfinish=null}return noop$1}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:a}=s;a.playState==="finished"&&this.updateFinishedPromise(),a.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:a}=s;a.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:a,keyframes:o,duration:rt,type:et,ease:at,times:ot}=s;if(a.playState==="idle"||a.playState==="finished")return;if(this.time){const{motionValue:it,onUpdate:j,onComplete:_,element:$,...tt}=this.options,st=new MainThreadAnimation({...tt,keyframes:o,duration:rt,type:et,ease:at,times:ot,isGenerator:!0}),lt=secondsToMilliseconds(this.time);it.setWithVelocity(st.sample(lt-sampleDelta).value,st.sample(lt).value,sampleDelta)}const{onStop:nt}=this.options;nt&&nt(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:a,name:o,repeatDelay:rt,repeatType:et,damping:at,type:ot}=s;return supportsWaapi()&&o&&acceleratedValues.has(o)&&a&&a.owner&&a.owner.current instanceof HTMLElement&&!a.owner.getProps().onUpdate&&!rt&&et!=="mirror"&&at!==0&&ot!=="inertia"}}function observeTimeline(i,s){let a;const o=()=>{const{currentTime:rt}=s,at=(rt===null?0:rt.value)/100;a!==at&&i(at),a=at};return frame.update(o,!0),()=>cancelFrame(o)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}then(s,a){return Promise.all(this.animations).then(s).catch(a)}getAll(s){return this.animations[0][s]}setAll(s,a){for(let o=0;o<this.animations.length;o++)this.animations[o][s]=a}attachTimeline(s){const a=this.animations.map(o=>{if(supportsScrollTimeline()&&o.attachTimeline)o.attachTimeline(s);else return o.pause(),observeTimeline(rt=>{o.time=o.duration*rt},s)});return()=>{a.forEach((o,rt)=>{o&&o(),this.animations[rt].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let a=0;a<this.animations.length;a++)s=Math.max(s,this.animations[a].duration);return s}runAll(s){this.animations.forEach(a=>a[s]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(i,s,a,o={},rt,et,at)=>ot=>{const nt=getValueTransition(o,i)||{},it=nt.delay||o.delay||0;let{elapsed:j=0}=o;j=j-secondsToMilliseconds(it);let _={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...nt,delay:-j,onUpdate:tt=>{s.set(tt),nt.onUpdate&&nt.onUpdate(tt)},onComplete:()=>{ot(),nt.onComplete&&nt.onComplete(),at&&at()},onStop:at,name:i,motionValue:s,element:et?void 0:rt};isTransitionDefined(nt)||(_={..._,...getDefaultTransition(i,_)}),_.duration&&(_.duration=secondsToMilliseconds(_.duration)),_.repeatDelay&&(_.repeatDelay=secondsToMilliseconds(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let $=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&($=!0)),$&&!et&&s.get()!==void 0){const tt=getFinalKeyframe(_.keyframes,nt);if(tt!==void 0)return frame.update(()=>{_.onUpdate(tt),_.onComplete()}),new GroupPlaybackControls([])}return!et&&AcceleratedAnimation.supports(_)?new AcceleratedAnimation(_):new MainThreadAnimation(_)};class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,a,o){const rt=this.subscriptions.length;if(rt)if(rt===1)this.subscriptions[0](s,a,o);else for(let et=0;et<rt;et++){const at=this.subscriptions[et];at&&at(s,a,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(s,a={}){this.version="11.3.31",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,rt=!0)=>{const et=time.now();this.updatedAt!==et&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),rt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new SubscriptionManager);const o=this.events[s].add(a);return s==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s,a=!0){!a||!this.passiveEffect?this.updateAndNotify(s,a):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,a,o){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-o}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,s){return new MotionValue(i,s)}function setMotionValue(i,s,a){i.hasValue(s)?i.getValue(s).set(a):i.addValue(s,motionValue(a))}function setTarget(i,s){const a=resolveVariant(i,s);let{transitionEnd:o={},transition:rt={},...et}=a||{};et={...et,...o};for(const at in et){const ot=resolveFinalValueInKeyframes(et[at]);setMotionValue(i,at,ot)}}function getOptimisedAppearId(i){return i.props[optimizedAppearDataAttribute]}class WillChangeMotionValue extends MotionValue{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(s){const a=getWillChangeName(s);if(!a)return;const o=this.counts.get(a)||0;this.counts.set(a,o+1),o===0&&(this.output.push(a),this.update());let rt=!1;return()=>{if(rt)return;rt=!0;const et=this.counts.get(a)-1;this.counts.set(a,et),et===0&&(removeItem(this.output,a),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function isWillChangeMotionValue(i){return!!(isMotionValue(i)&&i.add)}function addValueToWillChange(i,s){var a;if(!i.applyWillChange)return;let o=i.getValue("willChange");if(!o&&!(!((a=i.props.style)===null||a===void 0)&&a.willChange)&&(o=new WillChangeMotionValue("auto"),i.addValue("willChange",o)),isWillChangeMotionValue(o))return o.add(s)}function shouldBlockAnimation({protectedKeys:i,needsAnimating:s},a){const o=i.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,o}function animateTarget(i,s,{delay:a=0,transitionOverride:o,type:rt}={}){var et;let{transition:at=i.getDefaultTransition(),transitionEnd:ot,...nt}=s;o&&(at=o);const it=[],j=rt&&i.animationState&&i.animationState.getState()[rt];for(const _ in nt){const $=i.getValue(_,(et=i.latestValues[_])!==null&&et!==void 0?et:null),tt=nt[_];if(tt===void 0||j&&shouldBlockAnimation(j,_))continue;const st={delay:a,...getValueTransition(at||{},_)};let lt=!1;if(window.MotionHandoffAnimation){const ft=getOptimisedAppearId(i);if(ft){const ct=window.MotionHandoffAnimation(ft,_,frame);ct!==null&&(st.startTime=ct,lt=!0)}}$.start(animateMotionValue(_,$,tt,i.shouldReduceMotion&&transformProps.has(_)?{type:!1}:st,i,lt,addValueToWillChange(i,_)));const ht=$.animation;ht&&it.push(ht)}return ot&&Promise.all(it).then(()=>{frame.update(()=>{ot&&setTarget(i,ot)})}),it}function animateVariant(i,s,a={}){var o;const rt=resolveVariant(i,s,a.type==="exit"?(o=i.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:et=i.getDefaultTransition()||{}}=rt||{};a.transitionOverride&&(et=a.transitionOverride);const at=rt?()=>Promise.all(animateTarget(i,rt,a)):()=>Promise.resolve(),ot=i.variantChildren&&i.variantChildren.size?(it=0)=>{const{delayChildren:j=0,staggerChildren:_,staggerDirection:$}=et;return animateChildren(i,s,j+it,_,$,a)}:()=>Promise.resolve(),{when:nt}=et;if(nt){const[it,j]=nt==="beforeChildren"?[at,ot]:[ot,at];return it().then(()=>j())}else return Promise.all([at(),ot(a.delay)])}function animateChildren(i,s,a=0,o=0,rt=1,et){const at=[],ot=(i.variantChildren.size-1)*o,nt=rt===1?(it=0)=>it*o:(it=0)=>ot-it*o;return Array.from(i.variantChildren).sort(sortByTreeOrder).forEach((it,j)=>{it.notify("AnimationStart",s),at.push(animateVariant(it,s,{...et,delay:a+nt(j)}).then(()=>it.notify("AnimationComplete",s)))}),Promise.all(at)}function sortByTreeOrder(i,s){return i.sortNodePosition(s)}function animateVisualElement(i,s,a={}){i.notify("AnimationStart",s);let o;if(Array.isArray(s)){const rt=s.map(et=>animateVariant(i,et,a));o=Promise.all(rt)}else if(typeof s=="string")o=animateVariant(i,s,a);else{const rt=typeof s=="function"?resolveVariant(i,s,a.custom):s;o=Promise.all(animateTarget(i,rt,a))}return o.then(()=>{i.notify("AnimationComplete",s)})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return s=>Promise.all(s.map(({animation:a,options:o})=>animateVisualElement(i,a,o)))}function createAnimationState(i){let s=animateList(i),a=createState(),o=!0;const rt=nt=>(it,j)=>{var _;const $=resolveVariant(i,j,nt==="exit"?(_=i.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if($){const{transition:tt,transitionEnd:st,...lt}=$;it={...it,...lt,...st}}return it};function et(nt){s=nt(i)}function at(nt){const it=i.getProps(),j=i.getVariantContext(!0)||{},_=[],$=new Set;let tt={},st=1/0;for(let ht=0;ht<numAnimationTypes;ht++){const ft=reversePriorityOrder[ht],ct=a[ft],mt=it[ft]!==void 0?it[ft]:j[ft],gt=isVariantLabel(mt),yt=ft===nt?ct.isActive:null;yt===!1&&(st=ht);let ut=mt===j[ft]&&mt!==it[ft]&&gt;if(ut&&o&&i.manuallyAnimateOnMount&&(ut=!1),ct.protectedKeys={...tt},!ct.isActive&&yt===null||!mt&&!ct.prevProp||isAnimationControls(mt)||typeof mt=="boolean")continue;let bt=checkVariantsDidChange(ct.prevProp,mt)||ft===nt&&ct.isActive&&!ut&&gt||ht>st&&gt,vt=!1;const Et=Array.isArray(mt)?mt:[mt];let $t=Et.reduce(rt(ft),{});yt===!1&&($t={});const{prevResolvedValues:Tt={}}=ct,At={...Tt,...$t},Ct=It=>{bt=!0,$.has(It)&&(vt=!0,$.delete(It)),ct.needsAnimating[It]=!0;const Lt=i.getValue(It);Lt&&(Lt.liveStyle=!1)};for(const It in At){const Lt=$t[It],Ft=Tt[It];if(tt.hasOwnProperty(It))continue;let Dt=!1;isKeyframesTarget(Lt)&&isKeyframesTarget(Ft)?Dt=!shallowCompare(Lt,Ft):Dt=Lt!==Ft,Dt?Lt!=null?Ct(It):$.add(It):Lt!==void 0&&$.has(It)?Ct(It):ct.protectedKeys[It]=!0}ct.prevProp=mt,ct.prevResolvedValues=$t,ct.isActive&&(tt={...tt,...$t}),o&&i.blockInitialAnimation&&(bt=!1),bt&&(!ut||vt)&&_.push(...Et.map(It=>({animation:It,options:{type:ft}})))}if($.size){const ht={};$.forEach(ft=>{const ct=i.getBaseTarget(ft),mt=i.getValue(ft);mt&&(mt.liveStyle=!0),ht[ft]=ct??null}),_.push({animation:ht})}let lt=!!_.length;return o&&(it.initial===!1||it.initial===it.animate)&&!i.manuallyAnimateOnMount&&(lt=!1),o=!1,lt?s(_):Promise.resolve()}function ot(nt,it){var j;if(a[nt].isActive===it)return Promise.resolve();(j=i.variantChildren)===null||j===void 0||j.forEach($=>{var tt;return(tt=$.animationState)===null||tt===void 0?void 0:tt.setActive(nt,it)}),a[nt].isActive=it;const _=at(nt);for(const $ in a)a[$].protectedKeys={};return _}return{animateChanges:at,setActive:ot,setAnimateFunction:et,getState:()=>a,reset:()=>{a=createState(),o=!0}}}function checkVariantsDidChange(i,s){return typeof s=="string"?s!==i:Array.isArray(s)?!shallowCompare(s,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===o)return;const rt=this.node.animationState.setActive("exit",!s);a&&!s&&rt.then(()=>a(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(i,s)=>Math.abs(i-s);function distance2D(i,s){const a=distance(i.x,s.x),o=distance(i.y,s.y);return Math.sqrt(a**2+o**2)}class PanSession{constructor(s,a,{transformPagePoint:o,contextWindow:rt,dragSnapToOrigin:et=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=getPanInfo(this.lastMoveEventInfo,this.history),$=this.startEvent!==null,tt=distance2D(_.offset,{x:0,y:0})>=3;if(!$&&!tt)return;const{point:st}=_,{timestamp:lt}=frameData;this.history.push({...st,timestamp:lt});const{onStart:ht,onMove:ft}=this.handlers;$||(ht&&ht(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),ft&&ft(this.lastMoveEvent,_)},this.handlePointerMove=(_,$)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=transformPoint($,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(_,$)=>{this.end();const{onEnd:tt,onSessionEnd:st,resumeAnimation:lt}=this.handlers;if(this.dragSnapToOrigin&&lt&&lt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ht=getPanInfo(_.type==="pointercancel"?this.lastMoveEventInfo:transformPoint($,this.transformPagePoint),this.history);this.startEvent&&tt&&tt(_,ht),st&&st(_,ht)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=et,this.handlers=a,this.transformPagePoint=o,this.contextWindow=rt||window;const at=extractEventInfo(s),ot=transformPoint(at,this.transformPagePoint),{point:nt}=ot,{timestamp:it}=frameData;this.history=[{...nt,timestamp:it}];const{onSessionStart:j}=a;j&&j(s,getPanInfo(ot,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(i,s){return s?{point:s(i.point)}:i}function subtractPoint(i,s){return{x:i.x-s.x,y:i.y-s.y}}function getPanInfo({point:i},s){return{point:i,delta:subtractPoint(i,lastDevicePoint(s)),offset:subtractPoint(i,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,s){if(i.length<2)return{x:0,y:0};let a=i.length-1,o=null;const rt=lastDevicePoint(i);for(;a>=0&&(o=i[a],!(rt.timestamp-o.timestamp>secondsToMilliseconds(s)));)a--;if(!o)return{x:0,y:0};const et=millisecondsToSeconds(rt.timestamp-o.timestamp);if(et===0)return{x:0,y:0};const at={x:(rt.x-o.x)/et,y:(rt.y-o.y)/et};return at.x===1/0&&(at.x=0),at.y===1/0&&(at.y=0),at}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(i){return i.max-i.min}function isNear(i,s,a){return Math.abs(i-s)<=a}function calcAxisDelta(i,s,a,o=.5){i.origin=o,i.originPoint=mixNumber$1(s.min,s.max,i.origin),i.scale=calcLength(a)/calcLength(s),i.translate=mixNumber$1(a.min,a.max,i.origin)-i.originPoint,(i.scale>=SCALE_MIN&&i.scale<=SCALE_MAX||isNaN(i.scale))&&(i.scale=1),(i.translate>=TRANSLATE_MIN&&i.translate<=TRANSLATE_MAX||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,s,a,o){calcAxisDelta(i.x,s.x,a.x,o?o.originX:void 0),calcAxisDelta(i.y,s.y,a.y,o?o.originY:void 0)}function calcRelativeAxis(i,s,a){i.min=a.min+s.min,i.max=i.min+calcLength(s)}function calcRelativeBox(i,s,a){calcRelativeAxis(i.x,s.x,a.x),calcRelativeAxis(i.y,s.y,a.y)}function calcRelativeAxisPosition(i,s,a){i.min=s.min-a.min,i.max=i.min+calcLength(s)}function calcRelativePosition(i,s,a){calcRelativeAxisPosition(i.x,s.x,a.x),calcRelativeAxisPosition(i.y,s.y,a.y)}function applyConstraints(i,{min:s,max:a},o){return s!==void 0&&i<s?i=o?mixNumber$1(s,i,o.min):Math.max(i,s):a!==void 0&&i>a&&(i=o?mixNumber$1(a,i,o.max):Math.min(i,a)),i}function calcRelativeAxisConstraints(i,s,a){return{min:s!==void 0?i.min+s:void 0,max:a!==void 0?i.max+a-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:s,left:a,bottom:o,right:rt}){return{x:calcRelativeAxisConstraints(i.x,a,rt),y:calcRelativeAxisConstraints(i.y,s,o)}}function calcViewportAxisConstraints(i,s){let a=s.min-i.min,o=s.max-i.max;return s.max-s.min<i.max-i.min&&([a,o]=[o,a]),{min:a,max:o}}function calcViewportConstraints(i,s){return{x:calcViewportAxisConstraints(i.x,s.x),y:calcViewportAxisConstraints(i.y,s.y)}}function calcOrigin(i,s){let a=.5;const o=calcLength(i),rt=calcLength(s);return rt>o?a=progress(s.min,s.max-o,i.min):o>rt&&(a=progress(i.min,i.max-rt,s.min)),clamp(0,1,a)}function rebaseAxisConstraints(i,s){const a={};return s.min!==void 0&&(a.min=s.min-i.min),s.max!==void 0&&(a.max=s.max-i.min),a}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,s,a){return{min:resolvePointElastic(i,s),max:resolvePointElastic(i,a)}}function resolvePointElastic(i,s){return typeof i=="number"?i:i[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(i){return[i("x"),i("y")]}function convertBoundingBoxToBox({top:i,left:s,right:a,bottom:o}){return{x:{min:s,max:a},y:{min:i,max:o}}}function convertBoxToBoundingBox({x:i,y:s}){return{top:s.min,right:i.max,bottom:s.max,left:i.min}}function transformBoxPoints(i,s){if(!s)return i;const a=s({x:i.left,y:i.top}),o=s({x:i.right,y:i.bottom});return{top:a.y,left:a.x,bottom:o.y,right:o.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:s,scaleY:a}){return!isIdentityScale(i)||!isIdentityScale(s)||!isIdentityScale(a)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,s,a){const o=i-a,rt=s*o;return a+rt}function applyPointDelta(i,s,a,o,rt){return rt!==void 0&&(i=scalePoint(i,rt,o)),scalePoint(i,a,o)+s}function applyAxisDelta(i,s=0,a=1,o,rt){i.min=applyPointDelta(i.min,s,a,o,rt),i.max=applyPointDelta(i.max,s,a,o,rt)}function applyBoxDelta(i,{x:s,y:a}){applyAxisDelta(i.x,s.translate,s.scale,s.originPoint),applyAxisDelta(i.y,a.translate,a.scale,a.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(i,s,a,o=!1){const rt=a.length;if(!rt)return;s.x=s.y=1;let et,at;for(let ot=0;ot<rt;ot++){et=a[ot],at=et.projectionDelta;const{visualElement:nt}=et.options;nt&&nt.props.style&&nt.props.style.display==="contents"||(o&&et.options.layoutScroll&&et.scroll&&et!==et.root&&transformBox(i,{x:-et.scroll.offset.x,y:-et.scroll.offset.y}),at&&(s.x*=at.x.scale,s.y*=at.y.scale,applyBoxDelta(i,at)),o&&hasTransform(et.latestValues)&&transformBox(i,et.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(i,s){i.min=i.min+s,i.max=i.max+s}function transformAxis(i,s,a,o,rt=.5){const et=mixNumber$1(i.min,i.max,rt);applyAxisDelta(i,s,a,et,o)}function transformBox(i,s){transformAxis(i.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(i.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(i,s){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),s))}function measurePageBox(i,s,a){const o=measureViewportBox(i,a),{scroll:rt}=s;return rt&&(translateAxis(o.x,rt.offset.x),translateAxis(o.y,rt.offset.y)),o}const getContextWindow=({current:i})=>i?i.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:a=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const rt=j=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(extractEventInfo(j,"page").point)},et=(j,_)=>{var $;const{drag:tt,dragPropagation:st,onDragStart:lt}=this.getProps();if(tt&&!st&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(tt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ft=>{let ct=this.getAxisMotionValue(ft).get()||0;if(percent.test(ct)){const{projection:mt}=this.visualElement;if(mt&&mt.layout){const gt=mt.layout.layoutBox[ft];gt&&(ct=calcLength(gt)*(parseFloat(ct)/100))}}this.originPoint[ft]=ct}),lt&&frame.postRender(()=>lt(j,_)),($=this.removeWillChange)===null||$===void 0||$.call(this),this.removeWillChange=addValueToWillChange(this.visualElement,"transform");const{animationState:ht}=this.visualElement;ht&&ht.setActive("whileDrag",!0)},at=(j,_)=>{const{dragPropagation:$,dragDirectionLock:tt,onDirectionLock:st,onDrag:lt}=this.getProps();if(!$&&!this.openGlobalLock)return;const{offset:ht}=_;if(tt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ht),this.currentDirection!==null&&st&&st(this.currentDirection);return}this.updateAxis("x",_.point,ht),this.updateAxis("y",_.point,ht),this.visualElement.render(),lt&&lt(j,_)},ot=(j,_)=>this.stop(j,_),nt=()=>eachAxis(j=>{var _;return this.getAnimationState(j)==="paused"&&((_=this.getAxisMotionValue(j).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:it}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:rt,onStart:et,onMove:at,onSessionEnd:ot,resumeAnimation:nt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:it,contextWindow:getContextWindow(this.visualElement)})}stop(s,a){var o;(o=this.removeWillChange)===null||o===void 0||o.call(this);const rt=this.isDragging;if(this.cancel(),!rt)return;const{velocity:et}=a;this.startAnimation(et);const{onDragEnd:at}=this.getProps();at&&frame.postRender(()=>at(s,a))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,o){const{drag:rt}=this.getProps();if(!o||!shouldDrag(s,rt,this.currentDirection))return;const et=this.getAxisMotionValue(s);let at=this.originPoint[s]+o[s];this.constraints&&this.constraints[s]&&(at=applyConstraints(at,this.constraints[s],this.elastic[s])),et.set(at)}resolveConstraints(){var s;const{dragConstraints:a,dragElastic:o}=this.getProps(),rt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,et=this.constraints;a&&isRefObject(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&rt?this.constraints=calcRelativeConstraints(rt.layoutBox,a):this.constraints=!1,this.elastic=resolveDragElastic(o),et!==this.constraints&&rt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(at=>{this.constraints!==!1&&this.getAxisMotionValue(at)&&(this.constraints[at]=rebaseAxisConstraints(rt.layoutBox[at],this.constraints[at]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!isRefObject(s))return!1;const o=s.current,{projection:rt}=this.visualElement;if(!rt||!rt.layout)return!1;const et=measurePageBox(o,rt.root,this.visualElement.getTransformPagePoint());let at=calcViewportConstraints(rt.layout.layoutBox,et);if(a){const ot=a(convertBoxToBoundingBox(at));this.hasMutatedConstraints=!!ot,ot&&(at=convertBoundingBoxToBox(ot))}return at}startAnimation(s){const{drag:a,dragMomentum:o,dragElastic:rt,dragTransition:et,dragSnapToOrigin:at,onDragTransitionEnd:ot}=this.getProps(),nt=this.constraints||{},it=eachAxis(j=>{if(!shouldDrag(j,a,this.currentDirection))return;let _=nt&&nt[j]||{};at&&(_={min:0,max:0});const $=rt?200:1e6,tt=rt?40:1e7,st={type:"inertia",velocity:o?s[j]:0,bounceStiffness:$,bounceDamping:tt,timeConstant:750,restDelta:1,restSpeed:10,...et,..._};return this.startAxisValueAnimation(j,st)});return Promise.all(it).then(ot)}startAxisValueAnimation(s,a){const o=this.getAxisMotionValue(s);return o.start(animateMotionValue(s,o,0,a,this.visualElement,!1,addValueToWillChange(this.visualElement,s)))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var a;return(a=this.getAxisMotionValue(s).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(s){var a;return(a=this.getAxisMotionValue(s).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,o=this.visualElement.getProps(),rt=o[a];return rt||this.visualElement.getValue(s,(o.initial?o.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(a=>{const{drag:o}=this.getProps();if(!shouldDrag(a,o,this.currentDirection))return;const{projection:rt}=this.visualElement,et=this.getAxisMotionValue(a);if(rt&&rt.layout){const{min:at,max:ot}=rt.layout.layoutBox[a];et.set(s[a]-mixNumber$1(at,ot,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(a)||!o||!this.constraints)return;this.stopAnimation();const rt={x:0,y:0};eachAxis(at=>{const ot=this.getAxisMotionValue(at);if(ot&&this.constraints!==!1){const nt=ot.get();rt[at]=calcOrigin({min:nt,max:nt},this.constraints[at])}});const{transformTemplate:et}=this.visualElement.getProps();this.visualElement.current.style.transform=et?et({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(at=>{if(!shouldDrag(at,s,null))return;const ot=this.getAxisMotionValue(at),{min:nt,max:it}=this.constraints[at];ot.set(mixNumber$1(nt,it,rt[at]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,a=addPointerEvent(s,"pointerdown",nt=>{const{drag:it,dragListener:j=!0}=this.getProps();it&&j&&this.start(nt)}),o=()=>{const{dragConstraints:nt}=this.getProps();isRefObject(nt)&&nt.current&&(this.constraints=this.resolveRefConstraints())},{projection:rt}=this.visualElement,et=rt.addEventListener("measure",o);rt&&!rt.layout&&(rt.root&&rt.root.updateScroll(),rt.updateLayout()),frame.read(o);const at=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ot=rt.addEventListener("didUpdate",({delta:nt,hasLayoutChanged:it})=>{this.isDragging&&it&&(eachAxis(j=>{const _=this.getAxisMotionValue(j);_&&(this.originPoint[j]+=nt[j].translate,_.set(_.get()+nt[j].translate))}),this.visualElement.render())});return()=>{at(),a(),et(),ot&&ot()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:o=!1,dragPropagation:rt=!1,dragConstraints:et=!1,dragElastic:at=defaultElastic,dragMomentum:ot=!0}=s;return{...s,drag:a,dragDirectionLock:o,dragPropagation:rt,dragConstraints:et,dragElastic:at,dragMomentum:ot}}}function shouldDrag(i,s,a){return(s===!0||s===i)&&(a===null||a===i)}function getCurrentDirection(i,s=10){let a=null;return Math.abs(i.y)>s?a="y":Math.abs(i.x)>s&&(a="x"),a}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=i=>(s,a)=>{i&&frame.postRender(()=>i(s,a))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:o,onPanEnd:rt}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(a),onMove:o,onEnd:(et,at)=>{delete this.session,rt&&frame.postRender(()=>rt(et,at))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const i=reactExports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:o}=i,rt=reactExports.useId();reactExports.useEffect(()=>o(rt),[]);const et=reactExports.useCallback(()=>a&&a(rt),[rt,a]);return!s&&a?[!1,et]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(i){return i===null?!0:i.isPresent}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(i,s){return s.max===s.min?0:i/(s.max-s.min)*100}const correctBorderRadius={correct:(i,s)=>{if(!s.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const a=pixelsToPercent(i,s.target.x),o=pixelsToPercent(i,s.target.y);return`${a}% ${o}%`}},correctBoxShadow={correct:(i,{treeScale:s,projectionDelta:a})=>{const o=i,rt=complex.parse(i);if(rt.length>5)return o;const et=complex.createTransformer(i),at=typeof rt[0]!="number"?1:0,ot=a.x.scale*s.x,nt=a.y.scale*s.y;rt[0+at]/=ot,rt[1+at]/=nt;const it=mixNumber$1(ot,nt,.5);return typeof rt[2+at]=="number"&&(rt[2+at]/=it),typeof rt[3+at]=="number"&&(rt[3+at]/=it),et(rt)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:o,layoutId:rt}=this.props,{projection:et}=s;addScaleCorrector(defaultScaleCorrectors),et&&(a.group&&a.group.add(et),o&&o.register&&rt&&o.register(et),et.root.didUpdate(),et.addEventListener("animationComplete",()=>{this.safeToRemove()}),et.setOptions({...et.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:o,drag:rt,isPresent:et}=this.props,at=o.projection;return at&&(at.isPresent=et,rt||s.layoutDependency!==a||a===void 0?at.willUpdate():this.safeToRemove(),s.isPresent!==et&&(et?at.promote():at.relegate()||frame.postRender(()=>{const ot=at.getStack();(!ot||!ot.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:o}=this.props,{projection:rt}=s;rt&&(rt.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(rt),o&&o.deregister&&o.deregister(rt))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(i){const[s,a]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...i,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:a})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,s,a,o,rt,et){rt?(i.opacity=mixNumber$1(0,a.opacity!==void 0?a.opacity:1,easeCrossfadeIn(o)),i.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(o))):et&&(i.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,a.opacity!==void 0?a.opacity:1,o));for(let at=0;at<numBorders;at++){const ot=`border${borders[at]}Radius`;let nt=getRadius(s,ot),it=getRadius(a,ot);if(nt===void 0&&it===void 0)continue;nt||(nt=0),it||(it=0),nt===0||it===0||isPx(nt)===isPx(it)?(i[ot]=Math.max(mixNumber$1(asNumber(nt),asNumber(it),o),0),(percent.test(it)||percent.test(nt))&&(i[ot]+="%")):i[ot]=it}(s.rotate||a.rotate)&&(i.rotate=mixNumber$1(s.rotate||0,a.rotate||0,o))}function getRadius(i,s){return i[s]!==void 0?i[s]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(i,s,a){return o=>o<i?0:o>s?1:a(progress(i,s,o))}function copyAxisInto(i,s){i.min=s.min,i.max=s.max}function copyBoxInto(i,s){copyAxisInto(i.x,s.x),copyAxisInto(i.y,s.y)}function copyAxisDeltaInto(i,s){i.translate=s.translate,i.scale=s.scale,i.originPoint=s.originPoint,i.origin=s.origin}function removePointDelta(i,s,a,o,rt){return i-=s,i=scalePoint(i,1/a,o),rt!==void 0&&(i=scalePoint(i,1/rt,o)),i}function removeAxisDelta(i,s=0,a=1,o=.5,rt,et=i,at=i){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(at.min,at.max,s/100)-at.min),typeof s!="number")return;let ot=mixNumber$1(et.min,et.max,o);i===et&&(ot-=s),i.min=removePointDelta(i.min,s,a,ot,rt),i.max=removePointDelta(i.max,s,a,ot,rt)}function removeAxisTransforms(i,s,[a,o,rt],et,at){removeAxisDelta(i,s[a],s[o],s[rt],s.scale,et,at)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,s,a,o){removeAxisTransforms(i.x,s,xKeys,a?a.x:void 0,o?o.x:void 0),removeAxisTransforms(i.y,s,yKeys,a?a.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function axisEquals(i,s){return i.min===s.min&&i.max===s.max}function boxEquals(i,s){return axisEquals(i.x,s.x)&&axisEquals(i.y,s.y)}function axisEqualsRounded(i,s){return Math.round(i.min)===Math.round(s.min)&&Math.round(i.max)===Math.round(s.max)}function boxEqualsRounded(i,s){return axisEqualsRounded(i.x,s.x)&&axisEqualsRounded(i.y,s.y)}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}function axisDeltaEquals(i,s){return i.translate===s.translate&&i.scale===s.scale&&i.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(rt=>s===rt);if(a===0)return!1;let o;for(let rt=a;rt>=0;rt--){const et=this.members[rt];if(et.isPresent!==!1){o=et;break}}return o?(this.promote(o),!0):!1}promote(s,a){const o=this.lead;if(s!==o&&(this.prevLead=o,this.lead=s,s.show(),o)){o.instance&&o.scheduleRender(),s.scheduleRender(),s.resumeFrom=o,a&&(s.resumeFrom.preserveOpacity=!0),o.snapshot&&(s.snapshot=o.snapshot,s.snapshot.latestValues=o.animationValues||o.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:rt}=s.options;rt===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:o}=s;a.onExitComplete&&a.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,s,a){let o="";const rt=i.x.translate/s.x,et=i.y.translate/s.y,at=(a==null?void 0:a.z)||0;if((rt||et||at)&&(o=`translate3d(${rt}px, ${et}px, ${at}px) `),(s.x!==1||s.y!==1)&&(o+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:it,rotate:j,rotateX:_,rotateY:$,skewX:tt,skewY:st}=a;it&&(o=`perspective(${it}px) ${o}`),j&&(o+=`rotate(${j}deg) `),_&&(o+=`rotateX(${_}deg) `),$&&(o+=`rotateY(${$}deg) `),tt&&(o+=`skewX(${tt}deg) `),st&&(o+=`skewY(${st}deg) `)}const ot=i.x.scale*s.x,nt=i.y.scale*s.y;return(ot!==1||nt!==1)&&(o+=`scale(${ot}, ${nt})`),o||"none"}const compareByDepth=(i,s)=>i.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(i,s){const a=time.now(),o=({timestamp:rt})=>{const et=rt-a;et>=s&&(cancelFrame(o),i(et-s))};return frame.read(o,!0),()=>cancelFrame(o)}function isSVGElement(i){return i instanceof SVGElement&&i.tagName!=="svg"}function animateSingleValue(i,s,a){const o=isMotionValue(i)?i:motionValue(i);return o.start(animateMotionValue("",o,s,a)),o.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(i,s,a,o){const{latestValues:rt}=s;rt[i]&&(a[i]=rt[i],s.setStaticValue(i,0),o&&(o[i]=0))}function cancelTreeOptimisedTransformAnimations(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:s}=i.options;if(!s)return;const a=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:rt,layoutId:et}=i.options;window.MotionCancelOptimisedAnimation(a,"transform",frame,!(rt||et))}const{parent:o}=i;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:i,defaultParent:s,measureScroll:a,checkIsScrollRoot:o,resetTransform:rt}){return class{constructor(at={},ot=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=at,this.root=ot?ot.root||ot:this,this.path=ot?[...ot.path,ot]:[],this.parent=ot,this.depth=ot?ot.depth+1:0;for(let nt=0;nt<this.path.length;nt++)this.path[nt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(at,ot){return this.eventHandlers.has(at)||this.eventHandlers.set(at,new SubscriptionManager),this.eventHandlers.get(at).add(ot)}notifyListeners(at,...ot){const nt=this.eventHandlers.get(at);nt&&nt.notify(...ot)}hasListeners(at){return this.eventHandlers.has(at)}mount(at,ot=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(at),this.instance=at;const{layoutId:nt,layout:it,visualElement:j}=this.options;if(j&&!j.current&&j.mount(at),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ot&&(it||nt)&&(this.isLayoutDirty=!0),i){let _;const $=()=>this.root.updateBlockedByResize=!1;i(at,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=delay($,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}nt&&this.root.registerSharedNode(nt,this),this.options.animate!==!1&&j&&(nt||it)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:$,hasRelativeTargetChanged:tt,layout:st})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const lt=this.options.transition||j.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ht,onLayoutAnimationComplete:ft}=j.getProps(),ct=!this.targetLayout||!boxEqualsRounded(this.targetLayout,st)||tt,mt=!$&&tt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||mt||$&&(ct||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,mt);const gt={...getValueTransition(lt,"layout"),onPlay:ht,onComplete:ft};(j.shouldReduceMotion||this.options.layoutRoot)&&(gt.delay=0,gt.type=!1),this.startAnimation(gt)}else $||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=st})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const at=this.getStack();at&&at.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:at}=this.options;return at&&at.getProps().transformTemplate}willUpdate(at=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let j=0;j<this.path.length;j++){const _=this.path[j];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:ot,layout:nt}=this.options;if(ot===void 0&&!nt)return;const it=this.getTransformTemplate();this.prevTransformTemplateValue=it?it(this.latestValues,""):void 0,this.updateSnapshot(),at&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const ot=time.now();frameData.delta=clamp(0,1e3/60,ot-frameData.timestamp),frameData.timestamp=ot,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let nt=0;nt<this.path.length;nt++)this.path[nt].updateScroll();const at=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ot}=this.options;ot&&ot.notify("LayoutMeasure",this.layout.layoutBox,at?at.layoutBox:void 0)}updateScroll(at="measure"){let ot=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===at&&(ot=!1),ot){const nt=o(this.instance);this.scroll={animationId:this.root.animationId,phase:at,isRoot:nt,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:nt}}}resetTransform(){if(!rt)return;const at=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ot=this.projectionDelta&&!isDeltaZero(this.projectionDelta),nt=this.getTransformTemplate(),it=nt?nt(this.latestValues,""):void 0,j=it!==this.prevTransformTemplateValue;at&&(ot||hasTransform(this.latestValues)||j)&&(rt(this.instance,it),this.shouldResetTransform=!1,this.scheduleRender())}measure(at=!0){const ot=this.measurePageBox();let nt=this.removeElementScroll(ot);return at&&(nt=this.removeTransform(nt)),roundBox(nt),{animationId:this.root.animationId,measuredBox:ot,layoutBox:nt,latestValues:{},source:this.id}}measurePageBox(){var at;const{visualElement:ot}=this.options;if(!ot)return createBox();const nt=ot.measureViewportBox();if(!(((at=this.scroll)===null||at===void 0?void 0:at.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:j}=this.root;j&&(translateAxis(nt.x,j.offset.x),translateAxis(nt.y,j.offset.y))}return nt}removeElementScroll(at){var ot;const nt=createBox();if(copyBoxInto(nt,at),!((ot=this.scroll)===null||ot===void 0)&&ot.wasRoot)return nt;for(let it=0;it<this.path.length;it++){const j=this.path[it],{scroll:_,options:$}=j;j!==this.root&&_&&$.layoutScroll&&(_.wasRoot&&copyBoxInto(nt,at),translateAxis(nt.x,_.offset.x),translateAxis(nt.y,_.offset.y))}return nt}applyTransform(at,ot=!1){const nt=createBox();copyBoxInto(nt,at);for(let it=0;it<this.path.length;it++){const j=this.path[it];!ot&&j.options.layoutScroll&&j.scroll&&j!==j.root&&transformBox(nt,{x:-j.scroll.offset.x,y:-j.scroll.offset.y}),hasTransform(j.latestValues)&&transformBox(nt,j.latestValues)}return hasTransform(this.latestValues)&&transformBox(nt,this.latestValues),nt}removeTransform(at){const ot=createBox();copyBoxInto(ot,at);for(let nt=0;nt<this.path.length;nt++){const it=this.path[nt];if(!it.instance||!hasTransform(it.latestValues))continue;hasScale(it.latestValues)&&it.updateSnapshot();const j=createBox(),_=it.measurePageBox();copyBoxInto(j,_),removeBoxTransforms(ot,it.latestValues,it.snapshot?it.snapshot.layoutBox:void 0,j)}return hasTransform(this.latestValues)&&removeBoxTransforms(ot,this.latestValues),ot}setTargetDelta(at){this.targetDelta=at,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(at){this.options={...this.options,...at,crossfade:at.crossfade!==void 0?at.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(at=!1){var ot;const nt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=nt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=nt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=nt.isSharedProjectionDirty);const it=!!this.resumingFrom||this!==nt;if(!(at||it&&this.isSharedProjectionDirty||this.isProjectionDirty||!((ot=this.parent)===null||ot===void 0)&&ot.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:$}=this.options;if(!(!this.layout||!(_||$))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const tt=this.getClosestProjectingParent();tt&&tt.layout&&this.animationProgress!==1?(this.relativeParent=tt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,tt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const tt=this.getClosestProjectingParent();tt&&!!tt.resumingFrom==!!this.resumingFrom&&!tt.options.layoutScroll&&tt.target&&this.animationProgress!==1?(this.relativeParent=tt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,tt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var at;const ot=this.getLead(),nt=!!this.resumingFrom||this!==ot;let it=!0;if((this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty)&&(it=!1),nt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(it=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(it=!1),it)return;const{layout:j,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(j||_))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const $=this.treeScale.x,tt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,nt),ot.layout&&!ot.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ot.target=ot.layout.layoutBox,ot.targetWithTransforms=createBox());const{target:st}=ot;if(!st){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,st,this.latestValues),(this.treeScale.x!==$||this.treeScale.y!==tt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",st)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(at=!0){var ot;if((ot=this.options.visualElement)===null||ot===void 0||ot.scheduleRender(),at){const nt=this.getStack();nt&&nt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(at,ot=!1){const nt=this.snapshot,it=nt?nt.latestValues:{},j={...this.latestValues},_=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ot;const $=createBox(),tt=nt?nt.source:void 0,st=this.layout?this.layout.source:void 0,lt=tt!==st,ht=this.getStack(),ft=!ht||ht.members.length<=1,ct=!!(lt&&!ft&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let mt;this.mixTargetDelta=gt=>{const yt=gt/1e3;mixAxisDelta(_.x,at.x,yt),mixAxisDelta(_.y,at.y,yt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition($,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,$,yt),mt&&boxEquals(this.relativeTarget,mt)&&(this.isProjectionDirty=!1),mt||(mt=createBox()),copyBoxInto(mt,this.relativeTarget)),lt&&(this.animationValues=j,mixValues(j,it,this.latestValues,yt,ct,ft)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=yt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(at){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...at,onUpdate:ot=>{this.mixTargetDelta(ot),at.onUpdate&&at.onUpdate(ot)},onComplete:()=>{at.onComplete&&at.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const at=this.getStack();at&&at.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const at=this.getLead();let{targetWithTransforms:ot,target:nt,layout:it,latestValues:j}=at;if(!(!ot||!nt||!it)){if(this!==at&&this.layout&&it&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,it.layoutBox)){nt=this.target||createBox();const _=calcLength(this.layout.layoutBox.x);nt.x.min=at.target.x.min,nt.x.max=nt.x.min+_;const $=calcLength(this.layout.layoutBox.y);nt.y.min=at.target.y.min,nt.y.max=nt.y.min+$}copyBoxInto(ot,nt),transformBox(ot,j),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ot,j)}}registerSharedNode(at,ot){this.sharedNodes.has(at)||this.sharedNodes.set(at,new NodeStack),this.sharedNodes.get(at).add(ot);const it=ot.options.initialPromotionConfig;ot.promote({transition:it?it.transition:void 0,preserveFollowOpacity:it&&it.shouldPreserveFollowOpacity?it.shouldPreserveFollowOpacity(ot):void 0})}isLead(){const at=this.getStack();return at?at.lead===this:!0}getLead(){var at;const{layoutId:ot}=this.options;return ot?((at=this.getStack())===null||at===void 0?void 0:at.lead)||this:this}getPrevLead(){var at;const{layoutId:ot}=this.options;return ot?(at=this.getStack())===null||at===void 0?void 0:at.prevLead:void 0}getStack(){const{layoutId:at}=this.options;if(at)return this.root.sharedNodes.get(at)}promote({needsReset:at,transition:ot,preserveFollowOpacity:nt}={}){const it=this.getStack();it&&it.promote(this,nt),at&&(this.projectionDelta=void 0,this.needsReset=!0),ot&&this.setOptions({transition:ot})}relegate(){const at=this.getStack();return at?at.relegate(this):!1}resetSkewAndRotation(){const{visualElement:at}=this.options;if(!at)return;let ot=!1;const{latestValues:nt}=at;if((nt.z||nt.rotate||nt.rotateX||nt.rotateY||nt.rotateZ||nt.skewX||nt.skewY)&&(ot=!0),!ot)return;const it={};nt.z&&resetDistortingTransform("z",at,it,this.animationValues);for(let j=0;j<transformAxes.length;j++)resetDistortingTransform(`rotate${transformAxes[j]}`,at,it,this.animationValues),resetDistortingTransform(`skew${transformAxes[j]}`,at,it,this.animationValues);at.render();for(const j in it)at.setStaticValue(j,it[j]),this.animationValues&&(this.animationValues[j]=it[j]);at.scheduleRender()}getProjectionStyles(at){var ot,nt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const it={visibility:""},j=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,it.opacity="",it.pointerEvents=resolveMotionValue(at==null?void 0:at.pointerEvents)||"",it.transform=j?j(this.latestValues,""):"none",it;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const lt={};return this.options.layoutId&&(lt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,lt.pointerEvents=resolveMotionValue(at==null?void 0:at.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(lt.transform=j?j({},""):"none",this.hasProjected=!1),lt}const $=_.animationValues||_.latestValues;this.applyTransformsToTarget(),it.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$),j&&(it.transform=j($,it.transform));const{x:tt,y:st}=this.projectionDelta;it.transformOrigin=`${tt.origin*100}% ${st.origin*100}% 0`,_.animationValues?it.opacity=_===this?(nt=(ot=$.opacity)!==null&&ot!==void 0?ot:this.latestValues.opacity)!==null&&nt!==void 0?nt:1:this.preserveOpacity?this.latestValues.opacity:$.opacityExit:it.opacity=_===this?$.opacity!==void 0?$.opacity:"":$.opacityExit!==void 0?$.opacityExit:0;for(const lt in scaleCorrectors){if($[lt]===void 0)continue;const{correct:ht,applyTo:ft}=scaleCorrectors[lt],ct=it.transform==="none"?$[lt]:ht($[lt],_);if(ft){const mt=ft.length;for(let gt=0;gt<mt;gt++)it[ft[gt]]=ct}else it[lt]=ct}return this.options.layoutId&&(it.pointerEvents=_===this?resolveMotionValue(at==null?void 0:at.pointerEvents)||"":"none"),it}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(at=>{var ot;return(ot=at.currentAnimation)===null||ot===void 0?void 0:ot.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){var s;const a=((s=i.resumeFrom)===null||s===void 0?void 0:s.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&a&&i.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:rt}=i.layout,{animationType:et}=i.options,at=a.source!==i.layout.source;et==="size"?eachAxis(_=>{const $=at?a.measuredBox[_]:a.layoutBox[_],tt=calcLength($);$.min=o[_].min,$.max=$.min+tt}):shouldAnimatePositionOnly(et,a.layoutBox,o)&&eachAxis(_=>{const $=at?a.measuredBox[_]:a.layoutBox[_],tt=calcLength(o[_]);$.max=$.min+tt,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[_].max=i.relativeTarget[_].min+tt)});const ot=createDelta();calcBoxDelta(ot,o,a.layoutBox);const nt=createDelta();at?calcBoxDelta(nt,i.applyTransform(rt,!0),a.measuredBox):calcBoxDelta(nt,o,a.layoutBox);const it=!isDeltaZero(ot);let j=!1;if(!i.resumeFrom){const _=i.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:$,layout:tt}=_;if($&&tt){const st=createBox();calcRelativePosition(st,a.layoutBox,$.layoutBox);const lt=createBox();calcRelativePosition(lt,o,tt.layoutBox),boxEqualsRounded(st,lt)||(j=!0),_.options.layoutRoot&&(i.relativeTarget=lt,i.relativeTargetOrigin=st,i.relativeParent=_)}}}i.notifyListeners("didUpdate",{layout:o,snapshot:a,delta:nt,layoutDelta:ot,hasLayoutChanged:it,hasRelativeTargetChanged:j})}else if(i.isLead()){const{onExitComplete:o}=i.options;o&&o()}i.options.transition=void 0}function propagateDirtyNodes(i){isDebug&&metrics.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function cleanDirtyNodes(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function clearIsLayoutDirty(i){i.isLayoutDirty=!1}function resetTransformStyle(i){const{visualElement:s}=i.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetSkewAndRotation(i){i.resetSkewAndRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,s,a){i.translate=mixNumber$1(s.translate,0,a),i.scale=mixNumber$1(s.scale,1,a),i.origin=s.origin,i.originPoint=s.originPoint}function mixAxis(i,s,a,o){i.min=mixNumber$1(s.min,a.min,o),i.max=mixNumber$1(s.max,a.max,o)}function mixBox(i,s,a,o){mixAxis(i.x,s.x,a.x,o),mixAxis(i.y,s.y,a.y,o)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(i){i.min=roundPoint(i.min),i.max=roundPoint(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,s,a){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(a),.2)}function checkNodeWasScrollRoot(i){var s;return i!==i.root&&((s=i.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(i,s)=>addDomEvent(i,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode({});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,s)=>{i.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=i.matches;i.addListener(s),s()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(i,s,a){for(const o in s){const rt=s[o],et=a[o];if(isMotionValue(rt))i.addValue(o,rt);else if(isMotionValue(et))i.addValue(o,motionValue(rt,{owner:i}));else if(et!==rt)if(i.hasValue(o)){const at=i.getValue(o);at.liveStyle===!0?at.jump(rt):at.hasAnimated||at.set(rt)}else{const at=i.getStaticValue(o);i.addValue(o,motionValue(at!==void 0?at:rt,{owner:i}))}}for(const o in a)s[o]===void 0&&i.removeValue(o);return s}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps(s,a,o){return{}}constructor({parent:s,props:a,presenceContext:o,reducedMotionConfig:rt,blockInitialAnimation:et,visualState:at},ot={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,frame.render(this.render,!1,!0))};const{latestValues:nt,renderState:it}=at;this.latestValues=nt,this.baseTarget={...nt},this.initialValues=a.initial?{...nt}:{},this.renderState=it,this.parent=s,this.props=a,this.presenceContext=o,this.depth=s?s.depth+1:0,this.reducedMotionConfig=rt,this.options=ot,this.blockInitialAnimation=!!et,this.isControllingVariants=isControllingVariants(a),this.isVariantNode=isVariantNode(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:j,..._}=this.scrapeMotionValuesFromProps(a,{},this);for(const $ in _){const tt=_[$];nt[$]!==void 0&&isMotionValue(tt)&&tt.set(nt[$],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,o)=>this.bindToMotionValue(o,a)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const o=transformProps.has(s),rt=a.on("change",ot=>{this.latestValues[s]=ot,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),et=a.on("renderRequest",this.scheduleRender);let at;window.MotionCheckAppearSync&&(at=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{rt(),et(),at&&at(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const a=featureDefinitions[s];if(!a)continue;const{isEnabled:o,Feature:rt}=a;if(!this.features[s]&&rt&&o(this.props)&&(this.features[s]=new rt(this)),this.features[s]){const et=this.features[s];et.isMounted?et.update():(et.mount(),et.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let o=0;o<propEventHandlers.length;o++){const rt=propEventHandlers[o];this.propEventSubscriptions[rt]&&(this.propEventSubscriptions[rt](),delete this.propEventSubscriptions[rt]);const et="on"+rt,at=s[et];at&&(this.propEventSubscriptions[rt]=this.on(rt,at))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(s=!1){if(s)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const a={};for(let o=0;o<numVariantProps;o++){const rt=variantProps[o],et=this.props[rt];(isVariantLabel(et)||et===!1)&&(a[rt]=et)}return a}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const o=this.values.get(s);a!==o&&(o&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let o=this.values.get(s);return o===void 0&&a!==void 0&&(o=motionValue(a===null?void 0:a,{owner:this}),this.addValue(s,o)),o}readValue(s,a){var o;let rt=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(o=this.getBaseTargetFromProps(this.props,s))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,s,this.options);return rt!=null&&(typeof rt=="string"&&(isNumericalString(rt)||isZeroValueString(rt))?rt=parseFloat(rt):!findValueType(rt)&&complex.test(a)&&(rt=getAnimatableNone(s,a)),this.setBaseTarget(s,isMotionValue(rt)?rt.get():rt)),isMotionValue(rt)?rt.get():rt}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){var a;const{initial:o}=this.props;let rt;if(typeof o=="string"||typeof o=="object"){const at=resolveVariantFromProps(this.props,o,(a=this.presenceContext)===null||a===void 0?void 0:a.custom);at&&(rt=at[s])}if(o&&rt!==void 0)return rt;const et=this.getBaseTargetFromProps(this.props,s);return et!==void 0&&!isMotionValue(et)?et:this.initialValues[s]!==void 0&&rt===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:o}){delete a[s],delete o[s]}}function getComputedStyle(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=renderHTML}readValueFromInstance(s,a){if(transformProps.has(a)){const o=getDefaultValueType(a);return o&&o.default||0}else{const o=getComputedStyle(s),rt=(isCSSVariableName(a)?o.getPropertyValue(a):o[a])||0;return typeof rt=="string"?rt.trim():rt}}measureInstanceViewportBox(s,{transformPagePoint:a}){return measureViewportBox(s,a)}build(s,a,o){buildHTMLStyles(s,a,o.transformTemplate)}scrapeMotionValuesFromProps(s,a,o){return scrapeMotionValuesFromProps$1(s,a,o)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(transformProps.has(a)){const o=getDefaultValueType(a);return o&&o.default||0}return a=camelCaseAttributes.has(a)?a:camelToDash(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,o){return scrapeMotionValuesFromProps(s,a,o)}build(s,a,o){buildSVGAttrs(s,a,this.isSVGTag,o.transformTemplate)}renderInstance(s,a,o,rt){renderSVG(s,a,o,rt)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(i,s)=>isSVGComponent(i)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:i!==reactExports.Fragment}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((i,s)=>createDomMotionConfig(i,s,preloadedFeatures,createDomVisualElement));class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=a.offsetHeight||0,o.width=a.offsetWidth||0,o.top=a.offsetTop,o.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:s}){const a=reactExports.useId(),o=reactExports.useRef(null),rt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:et}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:at,height:ot,top:nt,left:it}=rt.current;if(s||!o.current||!at||!ot)return;o.current.dataset.motionPopId=a;const j=document.createElement("style");return et&&(j.nonce=et),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${at}px !important;
            height: ${ot}px !important;
            top: ${nt}px !important;
            left: ${it}px !important;
          }
        `),()=>{document.head.removeChild(j)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:o,sizeRef:rt,children:reactExports.cloneElement(i,{ref:o})})}const PresenceChild=({children:i,initial:s,isPresent:a,onExitComplete:o,custom:rt,presenceAffectsLayout:et,mode:at})=>{const ot=useConstant(newChildrenMap),nt=reactExports.useId(),it=reactExports.useMemo(()=>({id:nt,initial:s,isPresent:a,custom:rt,onExitComplete:j=>{ot.set(j,!0);for(const _ of ot.values())if(!_)return;o&&o()},register:j=>(ot.set(j,!1),()=>ot.delete(j))}),et?[Math.random()]:[a]);return reactExports.useMemo(()=>{ot.forEach((j,_)=>ot.set(_,!1))},[a]),reactExports.useEffect(()=>{!a&&!ot.size&&o&&o()},[a]),at==="popLayout"&&(i=jsxRuntimeExports.jsx(PopChild,{isPresent:a,children:i})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:it,children:i})};function newChildrenMap(){return new Map}const getChildKey=i=>i.key||"";function onlyElements(i){const s=[];return reactExports.Children.forEach(i,a=>{reactExports.isValidElement(a)&&s.push(a)}),s}const AnimatePresence=({children:i,exitBeforeEnter:s,custom:a,initial:o=!0,onExitComplete:rt,presenceAffectsLayout:et=!0,mode:at="sync"})=>{const ot=reactExports.useMemo(()=>onlyElements(i),[i]),nt=ot.map(getChildKey),it=reactExports.useRef(!0),j=reactExports.useRef(ot),_=useConstant(()=>new Map),[$,tt]=reactExports.useState(ot),[st,lt]=reactExports.useState(ot);useIsomorphicLayoutEffect$1(()=>{it.current=!1,j.current=ot;for(let ct=0;ct<st.length;ct++){const mt=getChildKey(st[ct]);nt.includes(mt)?_.delete(mt):_.get(mt)!==!0&&_.set(mt,!1)}},[st,nt.length,nt.join("-")]);const ht=[];if(ot!==$){let ct=[...ot];for(let mt=0;mt<st.length;mt++){const gt=st[mt],yt=getChildKey(gt);nt.includes(yt)||(ct.splice(mt,0,gt),ht.push(gt))}at==="wait"&&ht.length&&(ct=ht),lt(onlyElements(ct)),tt(ot);return}const{forceRender:ft}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:st.map(ct=>{const mt=getChildKey(ct),gt=ot===st||nt.includes(mt),yt=()=>{if(_.has(mt))_.set(mt,!0);else return;let ut=!0;_.forEach(wt=>{wt||(ut=!1)}),ut&&(ft==null||ft(),lt(j.current),rt&&rt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:gt,initial:!it.current||o?void 0:!1,custom:gt?void 0:a,presenceAffectsLayout:et,mode:at,onExitComplete:gt?void 0:yt,children:ct},mt)})})};var toastMotionVariants={initial:i=>{const{position:s}=i,a=["top","bottom"].includes(s)?"y":"x";let o=["top-right","bottom-right"].includes(s)?1:-1;return s==="bottom"&&(o=1),{opacity:0,[a]:o*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(i=>{const{id:s,message:a,onCloseComplete:o,onRequestRemove:rt,requestClose:et=!1,position:at="bottom",duration:ot=5e3,containerStyle:nt,motionVariants:it=toastMotionVariants,toastSpacing:j="0.5rem"}=i,[_,$]=reactExports.useState(ot),tt=useIsPresent();useUpdateEffect(()=>{tt||o==null||o()},[tt]),useUpdateEffect(()=>{$(ot)},[ot]);const st=()=>$(null),lt=()=>$(ot),ht=()=>{tt&&rt()};reactExports.useEffect(()=>{tt&&et&&rt()},[tt,et,rt]),useTimeout(ht,_);const ft=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:j,...nt}),[nt,j]),ct=reactExports.useMemo(()=>getToastStyle(at),[at]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:it,initial:"initial",animate:"animate",exit:"exit",onHoverStart:st,onHoverEnd:lt,custom:{position:at},style:ct,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:ft,children:runIfFn$2(a,{id:s,onClose:ht})})})});ToastComponent.displayName="ToastComponent";var fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((i,s)=>{const{as:a,viewBox:o,color:rt="currentColor",focusable:et=!1,children:at,className:ot,__css:nt,...it}=i,j=cx("chakra-icon",ot),_=useStyleConfig("Icon",i),$={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:rt,...nt,..._},tt={ref:s,focusable:et,className:j,__css:$},st=o??fallbackIcon.viewBox;if(a&&typeof a!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:a,...tt,...it});const lt=at??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:st,...tt,...it,children:lt})});Icon.displayName="Icon";function createIcon(i){const{viewBox:s="0 0 24 24",d:a,displayName:o,defaultProps:rt={}}=i,et=reactExports.Children.toArray(i.path),at=forwardRef((ot,nt)=>jsxRuntimeExports.jsx(Icon,{ref:nt,viewBox:s,...rt,...ot,children:et.length?et:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:a})}));return at.displayName=o,at}function CheckIcon$1(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((i,s)=>{const a=useStyleConfig("Spinner",i),{label:o="Loading...",thickness:rt="2px",speed:et="0.45s",emptyColor:at="transparent",className:ot,...nt}=omitThemingProps(i),it=cx("chakra-spinner",ot),j={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:rt,borderBottomColor:at,borderLeftColor:at,animation:`${spin} ${et} linear infinite`,...a};return jsxRuntimeExports.jsx(chakra.div,{ref:s,__css:j,className:it,...nt,children:o&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:o})})});Spinner.displayName="Spinner";var[AlertProvider,useAlertContext]=createContext$2({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$2({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon$1,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(i){return STATUSES[i].colorScheme}function getStatusIcon(i){return STATUSES[i].icon}var AlertDescription=forwardRef(function(s,a){const o=useAlertStyles(),{status:rt}=useAlertContext(),et={display:"inline",...o.description};return jsxRuntimeExports.jsx(chakra.div,{ref:a,"data-status":rt,...s,className:cx("chakra-alert__desc",s.className),__css:et})});AlertDescription.displayName="AlertDescription";function AlertIcon(i){const{status:s}=useAlertContext(),a=getStatusIcon(s),o=useAlertStyles(),rt=s==="loading"?o.spinner:o.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":s,...i,className:cx("chakra-alert__icon",i.className),__css:rt,children:i.children||jsxRuntimeExports.jsx(a,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function(s,a){const o=useAlertStyles(),{status:rt}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:a,"data-status":rt,...s,className:cx("chakra-alert__title",s.className),__css:o.title})});AlertTitle.displayName="AlertTitle";var Alert=forwardRef(function(s,a){var o;const{status:rt="info",addRole:et=!0,...at}=omitThemingProps(s),ot=(o=s.colorScheme)!=null?o:getStatusColorScheme(rt),nt=useMultiStyleConfig("Alert",{...s,colorScheme:ot}),it={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...nt.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:rt},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:nt,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":rt,role:et?"alert":void 0,ref:a,...at,className:cx("chakra-alert",s.className),__css:it})})})});Alert.displayName="Alert";function CloseIcon(i){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function(s,a){const o=useStyleConfig("CloseButton",s),{children:rt,isDisabled:et,__css:at,...ot}=omitThemingProps(s),nt={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:a,disabled:et,__css:{...nt,...o,...at},...ot,children:rt||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";var initialState$1={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore$1(initialState$1);function createStore$1(i){let s=i;const a=new Set,o=rt=>{s=rt(s),a.forEach(et=>et())};return{getState:()=>s,subscribe:rt=>(a.add(rt),()=>{o(()=>i),a.delete(rt)}),removeToast:(rt,et)=>{o(at=>({...at,[et]:at[et].filter(ot=>ot.id!=rt)}))},notify:(rt,et)=>{const at=createToast(rt,et),{position:ot,id:nt}=at;return o(it=>{var j,_;const tt=ot.includes("top")?[at,...(j=it[ot])!=null?j:[]]:[...(_=it[ot])!=null?_:[],at];return{...it,[ot]:tt}}),nt},update:(rt,et)=>{rt&&o(at=>{const ot={...at},{position:nt,index:it}=findToast(ot,rt);return nt&&it!==-1&&(ot[nt][it]={...ot[nt][it],...et,message:createRenderToast(et)}),ot})},closeAll:({positions:rt}={})=>{o(et=>(rt??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((nt,it)=>(nt[it]=et[it].map(j=>({...j,requestClose:!0})),nt),{...et}))},close:rt=>{o(et=>{const at=getToastPosition(et,rt);return at?{...et,[at]:et[at].map(ot=>ot.id==rt?{...ot,requestClose:!0}:ot)}:et})},isActive:rt=>!!findToast(toastStore.getState(),rt).position}}var counter=0;function createToast(i,s={}){var a,o;counter+=1;const rt=(a=s.id)!=null?a:counter,et=(o=s.position)!=null?o:"bottom";return{id:rt,message:i,position:et,duration:s.duration,onCloseComplete:s.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(rt),et),status:s.status,requestClose:!1,containerStyle:s.containerStyle}}var Toast=i=>{const{status:s,variant:a="solid",id:o,title:rt,isClosable:et,onClose:at,description:ot,colorScheme:nt,icon:it}=i,j=o?{root:`toast-${o}`,title:`toast-${o}-title`,description:`toast-${o}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:s,variant:a,id:j==null?void 0:j.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:nt,children:[jsxRuntimeExports.jsx(AlertIcon,{children:it}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[rt&&jsxRuntimeExports.jsx(AlertTitle,{id:j==null?void 0:j.title,children:rt}),ot&&jsxRuntimeExports.jsx(AlertDescription,{id:j==null?void 0:j.description,display:"block",children:ot})]}),et&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:at,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(i={}){const{render:s,toastComponent:a=Toast}=i;return rt=>typeof s=="function"?s({...rt,...i}):jsxRuntimeExports.jsx(a,{...rt,...i})}var[ToastOptionProvider,useToastOptionContext]=createContext$2({name:"ToastOptionsContext",strict:!1}),ToastProvider=i=>{const s=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:a,component:o=ToastComponent,portalProps:rt}=i,at=Object.keys(s).map(ot=>{const nt=s[ot];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${ot}`,id:`chakra-toast-manager-${ot}`,style:getToastListStyle(ot),children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:nt.map(it=>jsxRuntimeExports.jsx(o,{motionVariants:a,...it},it.id))})},ot)});return jsxRuntimeExports.jsx(Portal,{...rt,children:at})},createChakraProvider=i=>function({children:a,theme:o=i,toastOptions:rt,...et}){return jsxRuntimeExports.jsxs(ChakraProvider$1,{theme:o,...et,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:rt==null?void 0:rt.defaultOptions,children:a}),jsxRuntimeExports.jsx(ToastProvider,{...rt})]})},ChakraProvider=createChakraProvider(theme$1);function assignRef$1(i,s){if(i!=null){if(typeof i=="function"){i(s);return}try{i.current=s}catch{throw new Error(`Cannot assign value '${s}' to ref '${i}'`)}}}function mergeRefs(...i){return s=>{i.forEach(a=>{assignRef$1(a,s)})}}function useMergeRefs$1(...i){return reactExports.useMemo(()=>mergeRefs(...i),i)}var TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.enter}),exit:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.exit})},variants$2={enter:({transition:i,transitionEnd:s,delay:a}={})=>{var o;return{opacity:1,transition:(o=i==null?void 0:i.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:s==null?void 0:s.enter}},exit:({transition:i,transitionEnd:s,delay:a}={})=>{var o;return{opacity:0,transition:(o=i==null?void 0:i.exit)!=null?o:withDelay.exit(TRANSITION_DEFAULTS.exit,a),transitionEnd:s==null?void 0:s.exit}}},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=reactExports.forwardRef(function(s,a){const{unmountOnExit:o,in:rt,className:et,transition:at,transitionEnd:ot,delay:nt,...it}=s,j=rt||o?"enter":"exit",_=o?rt&&o:!0,$={transition:at,transitionEnd:ot,delay:nt};return jsxRuntimeExports.jsx(AnimatePresence,{custom:$,children:_&&jsxRuntimeExports.jsx(motion.div,{ref:a,className:cx("chakra-fade",et),custom:$,...fadeConfig,animate:j,...it})})});Fade.displayName="Fade";var variants$1={exit:({reverse:i,initialScale:s,transition:a,transitionEnd:o,delay:rt})=>{var et;return{opacity:0,...i?{scale:s,transitionEnd:o==null?void 0:o.exit}:{transitionEnd:{scale:s,...o==null?void 0:o.exit}},transition:(et=a==null?void 0:a.exit)!=null?et:withDelay.exit(TRANSITION_DEFAULTS.exit,rt)}},enter:({transitionEnd:i,transition:s,delay:a})=>{var o;return{opacity:1,scale:1,transition:(o=s==null?void 0:s.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:i==null?void 0:i.enter}}},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$1},ScaleFade=reactExports.forwardRef(function(s,a){const{unmountOnExit:o,in:rt,reverse:et=!0,initialScale:at=.95,className:ot,transition:nt,transitionEnd:it,delay:j,..._}=s,$=o?rt&&o:!0,tt=rt||o?"enter":"exit",st={initialScale:at,reverse:et,transition:nt,transitionEnd:it,delay:j};return jsxRuntimeExports.jsx(AnimatePresence,{custom:st,children:$&&jsxRuntimeExports.jsx(motion.div,{ref:a,className:cx("chakra-offset-slide",ot),...scaleFadeConfig,animate:tt,custom:st,..._})})});ScaleFade.displayName="ScaleFade";var variants={initial:({offsetX:i,offsetY:s,transition:a,transitionEnd:o,delay:rt})=>{var et;return{opacity:0,x:i,y:s,transition:(et=a==null?void 0:a.exit)!=null?et:withDelay.exit(TRANSITION_DEFAULTS.exit,rt),transitionEnd:o==null?void 0:o.exit}},enter:({transition:i,transitionEnd:s,delay:a})=>{var o;return{opacity:1,x:0,y:0,transition:(o=i==null?void 0:i.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:s==null?void 0:s.enter}},exit:({offsetY:i,offsetX:s,transition:a,transitionEnd:o,reverse:rt,delay:et})=>{var at;const ot={x:s,y:i};return{opacity:0,transition:(at=a==null?void 0:a.exit)!=null?at:withDelay.exit(TRANSITION_DEFAULTS.exit,et),...rt?{...ot,transitionEnd:o==null?void 0:o.exit}:{transitionEnd:{...ot,...o==null?void 0:o.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants},SlideFade=reactExports.forwardRef(function(s,a){const{unmountOnExit:o,in:rt,reverse:et=!0,className:at,offsetX:ot=0,offsetY:nt=8,transition:it,transitionEnd:j,delay:_,...$}=s,tt=o?rt&&o:!0,st=rt||o?"enter":"exit",lt={offsetX:ot,offsetY:nt,reverse:et,transition:it,transitionEnd:j,delay:_};return jsxRuntimeExports.jsx(AnimatePresence,{custom:lt,children:tt&&jsxRuntimeExports.jsx(motion.div,{ref:a,className:cx("chakra-offset-slide",at),custom:lt,...slideFadeConfig,animate:st,...$})})});SlideFade.displayName="SlideFade";function getValidChildren(i){return reactExports.Children.toArray(i).filter(s=>reactExports.isValidElement(s))}var[ButtonGroupProvider,useButtonGroup]=createContext$2({strict:!1,name:"ButtonGroupContext"}),attachedStyles={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},gapStyles={horizontal:i=>({"& > *:not(style) ~ *:not(style)":{marginStart:i}}),vertical:i=>({"& > *:not(style) ~ *:not(style)":{marginTop:i}})},ButtonGroup=forwardRef(function(s,a){const{size:o,colorScheme:rt,variant:et,className:at,spacing:ot="0.5rem",isAttached:nt,isDisabled:it,orientation:j="horizontal",..._}=s,$=cx("chakra-button__group",at),tt=reactExports.useMemo(()=>({size:o,colorScheme:rt,variant:et,isDisabled:it}),[o,rt,et,it]);let st={display:"inline-flex",...nt?attachedStyles[j]:gapStyles[j](ot)};const lt=j==="vertical";return jsxRuntimeExports.jsx(ButtonGroupProvider,{value:tt,children:jsxRuntimeExports.jsx(chakra.div,{ref:a,role:"group",__css:st,className:$,"data-attached":nt?"":void 0,"data-orientation":j,flexDir:lt?"column":void 0,..._})})});ButtonGroup.displayName="ButtonGroup";function useButtonType(i){const[s,a]=reactExports.useState(!i);return{ref:reactExports.useCallback(et=>{et&&a(et.tagName==="BUTTON")},[]),type:s?"button":void 0}}function ButtonIcon(i){const{children:s,className:a,...o}=i,rt=reactExports.isValidElement(s)?reactExports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):s,et=cx("chakra-button__icon",a);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...o,className:et,children:rt})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(i){const{label:s,placement:a,spacing:o="0.5rem",children:rt=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:et,__css:at,...ot}=i,nt=cx("chakra-button__spinner",et),it=a==="start"?"marginEnd":"marginStart",j=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:s?"relative":"absolute",[it]:s?o:0,fontSize:"1em",lineHeight:"normal",...at}),[at,s,it,o]);return jsxRuntimeExports.jsx(chakra.div,{className:nt,...ot,__css:j,children:rt})}ButtonSpinner.displayName="ButtonSpinner";var Button=forwardRef((i,s)=>{const a=useButtonGroup(),o=useStyleConfig("Button",{...a,...i}),{isDisabled:rt=a==null?void 0:a.isDisabled,isLoading:et,isActive:at,children:ot,leftIcon:nt,rightIcon:it,loadingText:j,iconSpacing:_="0.5rem",type:$,spinner:tt,spinnerPlacement:st="start",className:lt,as:ht,...ft}=omitThemingProps(i),ct=reactExports.useMemo(()=>{const ut={...o==null?void 0:o._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...o,...!!a&&{_focus:ut}}},[o,a]),{ref:mt,type:gt}=useButtonType(ht),yt={rightIcon:it,leftIcon:nt,iconSpacing:_,children:ot};return jsxRuntimeExports.jsxs(chakra.button,{ref:useMergeRefs$1(s,mt),as:ht,type:$??gt,"data-active":dataAttr(at),"data-loading":dataAttr(et),__css:ct,className:cx("chakra-button",lt),...ft,disabled:rt||et,children:[et&&st==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:j,placement:"start",spacing:_,children:tt}),et?j||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...yt})}):jsxRuntimeExports.jsx(ButtonContent,{...yt}),et&&st==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:j,placement:"end",spacing:_,children:tt})]})});Button.displayName="Button";function ButtonContent(i){const{leftIcon:s,rightIcon:a,children:o,iconSpacing:rt}=i;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:rt,children:s}),o,a&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:rt,children:a})]})}var[CardStylesProvider,useCardStyles]=createStylesContext("Card"),CardBody=forwardRef(function(s,a){const{className:o,...rt}=s,et=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:a,className:cx("chakra-card__body",o),__css:et.body,...rt})}),CardHeader=forwardRef(function(s,a){const{className:o,...rt}=s,et=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:a,className:cx("chakra-card__header",o),__css:et.header,...rt})}),Card=forwardRef(function(s,a){const{className:o,children:rt,direction:et="column",justify:at,align:ot,...nt}=omitThemingProps(s),it=useMultiStyleConfig("Card",s);return jsxRuntimeExports.jsx(chakra.div,{ref:a,className:cx("chakra-card",o),__css:{display:"flex",flexDirection:et,justifyContent:at,alignItems:ot,position:"relative",minWidth:0,wordWrap:"break-word",...it.container},...nt,children:jsxRuntimeExports.jsx(CardStylesProvider,{value:it,children:rt})})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$2({name:"CheckboxGroupContext",strict:!1});function useInitialAnimationState(i){const[s,a]=reactExports.useState(i),[o,rt]=reactExports.useState(!1);return i!==s&&(rt(!0),a(i)),o}function CheckIcon(i){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...i,children:jsxRuntimeExports.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(i){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...i,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(i){const{isIndeterminate:s,isChecked:a,...o}=i,rt=s?IndeterminateIcon:CheckIcon;return a||s?jsxRuntimeExports.jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx(rt,{...o})}):null}var[FormControlStylesProvider,useFormControlStyles]=createContext$2({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$2({strict:!1,name:"FormControlContext"});function useFormControlProvider(i){const{id:s,isRequired:a,isInvalid:o,isDisabled:rt,isReadOnly:et,...at}=i,ot=reactExports.useId(),nt=s||`field-${ot}`,it=`${nt}-label`,j=`${nt}-feedback`,_=`${nt}-helptext`,[$,tt]=reactExports.useState(!1),[st,lt]=reactExports.useState(!1),[ht,ft]=reactExports.useState(!1),ct=reactExports.useCallback((wt={},bt=null)=>({id:_,...wt,ref:mergeRefs(bt,vt=>{vt&&lt(!0)})}),[_]),mt=reactExports.useCallback((wt={},bt=null)=>({...wt,ref:bt,"data-focus":dataAttr(ht),"data-disabled":dataAttr(rt),"data-invalid":dataAttr(o),"data-readonly":dataAttr(et),id:wt.id!==void 0?wt.id:it,htmlFor:wt.htmlFor!==void 0?wt.htmlFor:nt}),[nt,rt,ht,o,et,it]),gt=reactExports.useCallback((wt={},bt=null)=>({id:j,...wt,ref:mergeRefs(bt,vt=>{vt&&tt(!0)}),"aria-live":"polite"}),[j]),yt=reactExports.useCallback((wt={},bt=null)=>({...wt,...at,ref:bt,role:"group","data-focus":dataAttr(ht),"data-disabled":dataAttr(rt),"data-invalid":dataAttr(o),"data-readonly":dataAttr(et)}),[at,rt,ht,o,et]),ut=reactExports.useCallback((wt={},bt=null)=>({...wt,ref:bt,role:"presentation","aria-hidden":!0,children:wt.children||"*"}),[]);return{isRequired:!!a,isInvalid:!!o,isReadOnly:!!et,isDisabled:!!rt,isFocused:!!ht,onFocus:()=>ft(!0),onBlur:()=>ft(!1),hasFeedbackText:$,setHasFeedbackText:tt,hasHelpText:st,setHasHelpText:lt,id:nt,labelId:it,feedbackId:j,helpTextId:_,htmlProps:at,getHelpTextProps:ct,getErrorMessageProps:gt,getRootProps:yt,getLabelProps:mt,getRequiredIndicatorProps:ut}}var FormControl=forwardRef(function(s,a){const o=useMultiStyleConfig("Form",s),rt=omitThemingProps(s),{getRootProps:et,htmlProps:at,...ot}=useFormControlProvider(rt),nt=cx("chakra-form-control",s.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:ot,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:o,children:jsxRuntimeExports.jsx(chakra.div,{...et({},a),className:nt,__css:o.container})})})});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function(s,a){const o=useFormControlContext(),rt=useFormControlStyles(),et=cx("chakra-form__helper-text",s.className);return jsxRuntimeExports.jsx(chakra.div,{...o==null?void 0:o.getHelpTextProps(s,a),__css:rt.helperText,className:et})});FormHelperText.displayName="FormHelperText";function useFormControl(i){const{isDisabled:s,isInvalid:a,isReadOnly:o,isRequired:rt,...et}=useFormControlProps(i);return{...et,disabled:s,readOnly:o,required:rt,"aria-invalid":ariaAttr(a),"aria-required":ariaAttr(rt),"aria-readonly":ariaAttr(o)}}function useFormControlProps(i){var s,a,o;const rt=useFormControlContext(),{id:et,disabled:at,readOnly:ot,required:nt,isRequired:it,isInvalid:j,isReadOnly:_,isDisabled:$,onFocus:tt,onBlur:st,...lt}=i,ht=i["aria-describedby"]?[i["aria-describedby"]]:[];return rt!=null&&rt.hasFeedbackText&&(rt!=null&&rt.isInvalid)&&ht.push(rt.feedbackId),rt!=null&&rt.hasHelpText&&ht.push(rt.helpTextId),{...lt,"aria-describedby":ht.join(" ")||void 0,id:et??(rt==null?void 0:rt.id),isDisabled:(s=at??$)!=null?s:rt==null?void 0:rt.isDisabled,isReadOnly:(a=ot??_)!=null?a:rt==null?void 0:rt.isReadOnly,isRequired:(o=nt??it)!=null?o:rt==null?void 0:rt.isRequired,isInvalid:j??(rt==null?void 0:rt.isInvalid),onFocus:callAllHandlers$1(rt==null?void 0:rt.onFocus,tt),onBlur:callAllHandlers$1(rt==null?void 0:rt.onBlur,st)}}var visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(i,s){handlers.forEach(a=>a(i,s))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(i){return!(i.metaKey||!isMac&&i.altKey||i.ctrlKey||i.key==="Control"||i.key==="Shift"||i.key==="Meta")}function onKeyboardEvent(i){hasEventBeforeFocus=!0,isValidKey(i)&&(modality="keyboard",trigger("keyboard",i))}function onPointerEvent(i){if(modality="pointer",i.type==="mousedown"||i.type==="pointerdown"){hasEventBeforeFocus=!0;const s=i.composedPath?i.composedPath()[0]:i.target;let a=!1;try{a=s.matches(":focus-visible")}catch{}if(a)return;trigger("pointer",i)}}function isVirtualClick(i){return i.mozInputSource===0&&i.isTrusted?!0:i.detail===0&&!i.pointerType}function onClickEvent(i){isVirtualClick(i)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus(i){i.target===window||i.target===document||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",i)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:i}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...a){hasEventBeforeFocus=!0,i.apply(this,a)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(i){setupGlobalFocusEvents(),i(isFocusVisible());const s=()=>i(isFocusVisible());return handlers.add(s),()=>{handlers.delete(s)}}function omit(i,s=[]){const a=Object.assign({},i);for(const o of s)o in a&&delete a[o];return a}function useCheckbox(i={}){const s=useFormControlProps(i),{isDisabled:a,isReadOnly:o,isRequired:rt,isInvalid:et,id:at,onBlur:ot,onFocus:nt,"aria-describedby":it}=s,{defaultChecked:j,isChecked:_,isFocusable:$,onChange:tt,isIndeterminate:st,name:lt,value:ht,tabIndex:ft=void 0,"aria-label":ct,"aria-labelledby":mt,"aria-invalid":gt,...yt}=i,ut=omit(yt,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),wt=useCallbackRef$2(tt),bt=useCallbackRef$2(ot),vt=useCallbackRef$2(nt),[Et,$t]=reactExports.useState(!1),[Tt,At]=reactExports.useState(!1),[Ct,It]=reactExports.useState(!1),[Lt,Ft]=reactExports.useState(!1);reactExports.useEffect(()=>trackFocusVisible($t),[]);const Dt=reactExports.useRef(null),[Vt,Ut]=reactExports.useState(!0),[Qt,Kt]=reactExports.useState(!!j),Ht=_!==void 0,qt=Ht?_:Qt,nr=reactExports.useCallback(kr=>{if(o||a){kr.preventDefault();return}Ht||Kt(qt?kr.target.checked:st?!0:kr.target.checked),wt==null||wt(kr)},[o,a,qt,Ht,st,wt]);useSafeLayoutEffect$1(()=>{Dt.current&&(Dt.current.indeterminate=!!st)},[st]),useUpdateEffect(()=>{a&&At(!1)},[a,At]),useSafeLayoutEffect$1(()=>{const kr=Dt.current;if(!(kr!=null&&kr.form))return;const vr=()=>{Kt(!!j)};return kr.form.addEventListener("reset",vr),()=>{var Gr;return(Gr=kr.form)==null?void 0:Gr.removeEventListener("reset",vr)}},[]);const tr=a&&!$,mr=reactExports.useCallback(kr=>{kr.key===" "&&Ft(!0)},[Ft]),yr=reactExports.useCallback(kr=>{kr.key===" "&&Ft(!1)},[Ft]);useSafeLayoutEffect$1(()=>{if(!Dt.current)return;Dt.current.checked!==qt&&Kt(Dt.current.checked)},[Dt.current]);const br=reactExports.useCallback((kr={},vr=null)=>{const Gr=an=>{Tt&&an.preventDefault(),Ft(!0)};return{...kr,ref:vr,"data-active":dataAttr(Lt),"data-hover":dataAttr(Ct),"data-checked":dataAttr(qt),"data-focus":dataAttr(Tt),"data-focus-visible":dataAttr(Tt&&Et),"data-indeterminate":dataAttr(st),"data-disabled":dataAttr(a),"data-invalid":dataAttr(et),"data-readonly":dataAttr(o),"aria-hidden":!0,onMouseDown:callAllHandlers$1(kr.onMouseDown,Gr),onMouseUp:callAllHandlers$1(kr.onMouseUp,()=>Ft(!1)),onMouseEnter:callAllHandlers$1(kr.onMouseEnter,()=>It(!0)),onMouseLeave:callAllHandlers$1(kr.onMouseLeave,()=>It(!1))}},[Lt,qt,a,Tt,Et,Ct,st,et,o]),xr=reactExports.useCallback((kr={},vr=null)=>({...kr,ref:vr,"data-active":dataAttr(Lt),"data-hover":dataAttr(Ct),"data-checked":dataAttr(qt),"data-focus":dataAttr(Tt),"data-focus-visible":dataAttr(Tt&&Et),"data-indeterminate":dataAttr(st),"data-disabled":dataAttr(a),"data-invalid":dataAttr(et),"data-readonly":dataAttr(o)}),[Lt,qt,a,Tt,Et,Ct,st,et,o]),sr=reactExports.useCallback((kr={},vr=null)=>({...ut,...kr,ref:mergeRefs(vr,Gr=>{Gr&&Ut(Gr.tagName==="LABEL")}),onClick:callAllHandlers$1(kr.onClick,()=>{var Gr;Vt||((Gr=Dt.current)==null||Gr.click(),requestAnimationFrame(()=>{var an;(an=Dt.current)==null||an.focus({preventScroll:!0})}))}),"data-disabled":dataAttr(a),"data-checked":dataAttr(qt),"data-invalid":dataAttr(et)}),[ut,a,qt,et,Vt]),ar=reactExports.useCallback((kr={},vr=null)=>({...kr,ref:mergeRefs(Dt,vr),type:"checkbox",name:lt,value:ht,id:at,tabIndex:ft,onChange:callAllHandlers$1(kr.onChange,nr),onBlur:callAllHandlers$1(kr.onBlur,bt,()=>At(!1)),onFocus:callAllHandlers$1(kr.onFocus,vt,()=>At(!0)),onKeyDown:callAllHandlers$1(kr.onKeyDown,mr),onKeyUp:callAllHandlers$1(kr.onKeyUp,yr),required:rt,checked:qt,disabled:tr,readOnly:o,"aria-label":ct,"aria-labelledby":mt,"aria-invalid":gt?!!gt:et,"aria-describedby":it,"aria-disabled":a,style:visuallyHiddenStyle}),[lt,ht,at,nr,bt,vt,mr,yr,rt,qt,tr,o,ct,mt,gt,et,it,a,ft]),rr=reactExports.useCallback((kr={},vr=null)=>({...kr,ref:vr,onMouseDown:callAllHandlers$1(kr.onMouseDown,stopEvent),"data-disabled":dataAttr(a),"data-checked":dataAttr(qt),"data-invalid":dataAttr(et)}),[qt,a,et]);return{state:{isInvalid:et,isFocused:Tt,isChecked:qt,isActive:Lt,isHovered:Ct,isIndeterminate:st,isDisabled:a,isReadOnly:o,isRequired:rt},getRootProps:sr,getCheckboxProps:br,getIndicatorProps:xr,getInputProps:ar,getLabelProps:rr,htmlProps:ut}}function stopEvent(i){i.preventDefault(),i.stopPropagation()}var controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(s,a){const o=useCheckboxGroupContext(),rt={...o,...s},et=useMultiStyleConfig("Checkbox",rt),at=omitThemingProps(s),{spacing:ot="0.5rem",className:nt,children:it,iconColor:j,iconSize:_,icon:$=jsxRuntimeExports.jsx(CheckboxIcon,{}),isChecked:tt,isDisabled:st=o==null?void 0:o.isDisabled,onChange:lt,inputProps:ht,...ft}=at;let ct=tt;o!=null&&o.value&&at.value&&(ct=o.value.includes(at.value));let mt=lt;o!=null&&o.onChange&&at.value&&(mt=callAll(o.onChange,lt));const{state:gt,getInputProps:yt,getCheckboxProps:ut,getLabelProps:wt,getRootProps:bt}=useCheckbox({...ft,isDisabled:st,isChecked:ct,onChange:mt}),vt=useInitialAnimationState(gt.isChecked),Et=reactExports.useMemo(()=>({animation:vt?gt.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`:void 0,fontSize:_,color:j,...et.icon}),[j,_,vt,gt.isIndeterminate,et.icon]),$t=reactExports.cloneElement($,{__css:Et,isIndeterminate:gt.isIndeterminate,isChecked:gt.isChecked});return jsxRuntimeExports.jsxs(chakra.label,{__css:{...rootStyles,...et.container},className:cx("chakra-checkbox",nt),...bt(),children:[jsxRuntimeExports.jsx("input",{className:"chakra-checkbox__input",...yt(ht,a)}),jsxRuntimeExports.jsx(chakra.span,{__css:{...controlStyles,...et.control},className:"chakra-checkbox__control",...ut(),children:$t}),it&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-checkbox__label",...wt(),__css:{marginStart:ot,...et.label},children:it})]})});Checkbox.displayName="Checkbox";function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var a={};for(var o in i)if({}.hasOwnProperty.call(i,o)){if(s.includes(o))continue;a[o]=i[o]}return a}function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var o in a)({}).hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},_extends.apply(null,arguments)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(o,rt,et,at,ot,nt){if(nt!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports,FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(i,s){return typeof i=="function"?i(s):i&&(i.current=s),i}function useCallbackRef$1(i,s){var a=reactExports.useState(function(){return{value:i,callback:s,facade:{get current(){return a.value},set current(o){var rt=a.value;rt!==o&&(a.value=o,a.callback(o,rt))}}}})[0];return a.callback=s,a.facade}function useMergeRefs(i,s){return useCallbackRef$1(null,function(a){return i.forEach(function(o){return assignRef(o,a)})})}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},__assign$2=function(){return __assign$2=Object.assign||function(s){for(var a,o=1,rt=arguments.length;o<rt;o++){a=arguments[o];for(var et in a)Object.prototype.hasOwnProperty.call(a,et)&&(s[et]=a[et])}return s},__assign$2.apply(this,arguments)};function __rest(i,s){var a={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.indexOf(o)<0&&(a[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,o=Object.getOwnPropertySymbols(i);rt<o.length;rt++)s.indexOf(o[rt])<0&&Object.prototype.propertyIsEnumerable.call(i,o[rt])&&(a[o[rt]]=i[o[rt]]);return a}function __spreadArray(i,s,a){if(a||arguments.length===2)for(var o=0,rt=s.length,et;o<rt;o++)(et||!(o in s))&&(et||(et=Array.prototype.slice.call(s,0,o)),et[o]=s[o]);return i.concat(et||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;function ItoI(i){return i}function innerCreateMedium(i,s){s===void 0&&(s=ItoI);var a=[],o=!1,rt={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:i},useMedium:function(et){var at=s(et,o);return a.push(at),function(){a=a.filter(function(ot){return ot!==at})}},assignSyncMedium:function(et){for(o=!0;a.length;){var at=a;a=[],at.forEach(et)}a={push:function(ot){return et(ot)},filter:function(){return a}}},assignMedium:function(et){o=!0;var at=[];if(a.length){var ot=a;a=[],ot.forEach(et),at=a}var nt=function(){var j=at;at=[],j.forEach(et)},it=function(){return Promise.resolve().then(nt)};it(),a={push:function(j){at.push(j),it()},filter:function(j){return at=at.filter(j),a}}}};return rt}function createMedium(i,s){return s===void 0&&(s=ItoI),innerCreateMedium(i,s)}function createSidecarMedium(i){i===void 0&&(i={});var s=innerCreateMedium(null);return s.options=__assign$2({async:!0,ssr:!1},i),s}var SideCar$1=function(i){var s=i.sideCar,a=__rest(i,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=s.read();if(!o)throw new Error("Sidecar medium not found");return reactExports.createElement(o,__assign$2({},a))};SideCar$1.isSideCarExport=!0;function exportSidecar(i,s){return i.useMedium(s),SideCar$1}var mediumFocus=createMedium({},function(i){var s=i.target,a=i.currentTarget;return{target:s,currentTarget:a}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0}),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(s,a){var o,rt=reactExports.useState(),et=rt[0],at=rt[1],ot=reactExports.useRef(),nt=reactExports.useRef(!1),it=reactExports.useRef(null),j=s.children,_=s.disabled,$=s.noFocusGuards,tt=s.persistentFocus,st=s.crossFrame,lt=s.autoFocus;s.allowTextSelection;var ht=s.group,ft=s.className,ct=s.whiteList,mt=s.hasPositiveIndices,gt=s.shards,yt=gt===void 0?emptyArray:gt,ut=s.as,wt=ut===void 0?"div":ut,bt=s.lockProps,vt=bt===void 0?{}:bt,Et=s.sideCar,$t=s.returnFocus,Tt=s.focusOptions,At=s.onActivation,Ct=s.onDeactivation,It=reactExports.useState({}),Lt=It[0],Ft=reactExports.useCallback(function(){it.current=it.current||document&&document.activeElement,ot.current&&At&&At(ot.current),nt.current=!0},[At]),Dt=reactExports.useCallback(function(){nt.current=!1,Ct&&Ct(ot.current)},[Ct]);reactExports.useEffect(function(){_||(it.current=null)},[]);var Vt=reactExports.useCallback(function(mr){var yr=it.current;if(yr&&yr.focus){var br=typeof $t=="function"?$t(yr):$t;if(br){var xr=typeof br=="object"?br:void 0;it.current=null,mr?Promise.resolve().then(function(){return yr.focus(xr)}):yr.focus(xr)}}},[$t]),Ut=reactExports.useCallback(function(mr){nt.current&&mediumFocus.useMedium(mr)},[]),Qt=mediumBlur.useMedium,Kt=reactExports.useCallback(function(mr){ot.current!==mr&&(ot.current=mr,at(mr))},[]),Ht=_extends((o={},o[FOCUS_DISABLED]=_&&"disabled",o[FOCUS_GROUP]=ht,o),vt),qt=$!==!0,nr=qt&&$!=="tail",tr=useMergeRefs([a,Kt]);return reactExports.createElement(reactExports.Fragment,null,qt&&[reactExports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:_?-1:0,style:hiddenGuard}),mt?reactExports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:_?-1:1,style:hiddenGuard}):null],!_&&reactExports.createElement(Et,{id:Lt,sideCar:mediumSidecar,observed:et,disabled:_,persistentFocus:tt,crossFrame:st,autoFocus:lt,whiteList:ct,shards:yt,onActivation:Ft,onDeactivation:Dt,returnFocus:Vt,focusOptions:Tt}),reactExports.createElement(wt,_extends({ref:tr},Ht,{className:ft,onBlur:Qt,onFocus:Ut}),j),nr&&reactExports.createElement("div",{"data-focus-guard":!0,tabIndex:_?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};FocusLock$1.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(i)}function toPrimitive(i,s){if(_typeof(i)!="object"||!i)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var o=a.call(i,s||"default");if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function toPropertyKey(i){var s=toPrimitive(i,"string");return _typeof(s)=="symbol"?s:s+""}function _defineProperty(i,s,a){return(s=toPropertyKey(s))in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i}function withSideEffect(i,s){function a(o){return o.displayName||o.name||"Component"}return function(rt){var et=[],at;function ot(){at=i(et.map(function(it){return it.props})),s(at)}var nt=function(it){_inheritsLoose(j,it);function j(){return it.apply(this,arguments)||this}j.peek=function(){return at};var _=j.prototype;return _.componentDidMount=function(){et.push(this),ot()},_.componentDidUpdate=function(){ot()},_.componentWillUnmount=function(){var tt=et.indexOf(this);et.splice(tt,1),ot()},_.render=function(){return React$4.createElement(rt,this.props)},j}(reactExports.PureComponent);return _defineProperty(nt,"displayName","SideEffect("+a(rt)+")"),nt}}var toArray=function(i){for(var s=Array(i.length),a=0;a<i.length;++a)s[a]=i[a];return s},asArray=function(i){return Array.isArray(i)?i:[i]},getFirst=function(i){return Array.isArray(i)?i[0]:i},isElementHidden=function(i){if(i.nodeType!==Node.ELEMENT_NODE)return!1;var s=window.getComputedStyle(i,null);return!s||!s.getPropertyValue?!1:s.getPropertyValue("display")==="none"||s.getPropertyValue("visibility")==="hidden"},getParentNode=function(i){return i.parentNode&&i.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.parentNode.host:i.parentNode},isTopNode=function(i){return i===document||i&&i.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(i,s){return!i||isTopNode(i)||!isElementHidden(i)&&s(getParentNode(i))},isVisibleCached=function(i,s){var a=i.get(s);if(a!==void 0)return a;var o=isVisibleUncached(s,isVisibleCached.bind(void 0,i));return i.set(s,o),o},isAutoFocusAllowedUncached=function(i,s){return i&&!isTopNode(i)?isAutoFocusAllowed(i)?s(getParentNode(i)):!1:!0},isAutoFocusAllowedCached=function(i,s){var a=i.get(s);if(a!==void 0)return a;var o=isAutoFocusAllowedUncached(s,isAutoFocusAllowedCached.bind(void 0,i));return i.set(s,o),o},getDataset=function(i){return i.dataset},isHTMLButtonElement=function(i){return i.tagName==="BUTTON"},isHTMLInputElement=function(i){return i.tagName==="INPUT"},isRadioElement=function(i){return isHTMLInputElement(i)&&i.type==="radio"},notHiddenInput=function(i){return!((isHTMLInputElement(i)||isHTMLButtonElement(i))&&(i.type==="hidden"||i.disabled))},isAutoFocusAllowed=function(i){var s=i.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(s)},isGuard=function(i){var s;return!!(i&&(!((s=getDataset(i))===null||s===void 0)&&s.focusGuard))},isNotAGuard=function(i){return!isGuard(i)},isDefined=function(i){return!!i},tabSort=function(i,s){var a=i.tabIndex-s.tabIndex,o=i.index-s.index;if(a){if(!i.tabIndex)return 1;if(!s.tabIndex)return-1}return a||o},orderByTabIndex=function(i,s,a){return toArray(i).map(function(o,rt){return{node:o,index:rt,tabIndex:a&&o.tabIndex===-1?(o.dataset||{}).focusGuard?0:-1:o.tabIndex}}).filter(function(o){return!s||o.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(i,s){return toArray((i.shadowRoot||i).children).reduce(function(a,o){return a.concat(o.matches(s?queryGuardTabbables:queryTabbables)?[o]:[],getFocusablesWithShadowDom(o))},[])},getFocusablesWithIFrame=function(i,s){var a;return i instanceof HTMLIFrameElement&&(!((a=i.contentDocument)===null||a===void 0)&&a.body)?getFocusables([i.contentDocument.body],s):[i]},getFocusables=function(i,s){return i.reduce(function(a,o){var rt,et=getFocusablesWithShadowDom(o,s),at=(rt=[]).concat.apply(rt,et.map(function(ot){return getFocusablesWithIFrame(ot,s)}));return a.concat(at,o.parentNode?toArray(o.parentNode.querySelectorAll(queryTabbables)).filter(function(ot){return ot===o}):[])},[])},getParentAutofocusables=function(i){var s=i.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(s).map(function(a){return getFocusables([a])}).reduce(function(a,o){return a.concat(o)},[])},filterFocusable=function(i,s){return toArray(i).filter(function(a){return isVisibleCached(s,a)}).filter(function(a){return notHiddenInput(a)})},filterAutoFocusable=function(i,s){return s===void 0&&(s=new Map),toArray(i).filter(function(a){return isAutoFocusAllowedCached(s,a)})},getTabbableNodes=function(i,s,a){return orderByTabIndex(filterFocusable(getFocusables(i,a),s),!0,a)},getFocusableNodes=function(i,s){return orderByTabIndex(filterFocusable(getFocusables(i),s),!1)},parentAutofocusables=function(i,s){return filterFocusable(getParentAutofocusables(i),s)},contains=function(i,s){return i.shadowRoot?contains(i.shadowRoot,s):Object.getPrototypeOf(i).contains!==void 0&&Object.getPrototypeOf(i).contains.call(i,s)?!0:toArray(i.children).some(function(a){var o;if(a instanceof HTMLIFrameElement){var rt=(o=a.contentDocument)===null||o===void 0?void 0:o.body;return rt?contains(rt,s):!1}return contains(a,s)})},filterNested=function(i){for(var s=new Set,a=i.length,o=0;o<a;o+=1)for(var rt=o+1;rt<a;rt+=1){var et=i[o].compareDocumentPosition(i[rt]);(et&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&s.add(rt),(et&Node.DOCUMENT_POSITION_CONTAINS)>0&&s.add(o)}return i.filter(function(at,ot){return!s.has(ot)})},getTopParent=function(i){return i.parentNode?getTopParent(i.parentNode):i},getAllAffectedNodes=function(i){var s=asArray(i);return s.filter(Boolean).reduce(function(a,o){var rt=o.getAttribute(FOCUS_GROUP);return a.push.apply(a,rt?filterNested(toArray(getTopParent(o).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(rt,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[o]),a},[])},safeProbe=function(i){try{return i()}catch{return}},getActiveElement=function(i){if(i===void 0&&(i=document),!(!i||!i.activeElement)){var s=i.activeElement;return s.shadowRoot?getActiveElement(s.shadowRoot):s instanceof HTMLIFrameElement&&safeProbe(function(){return s.contentWindow.document})?getActiveElement(s.contentWindow.document):s}},focusInFrame=function(i,s){return i===s},focusInsideIframe=function(i,s){return!!toArray(i.querySelectorAll("iframe")).some(function(a){return focusInFrame(a,s)})},focusInside=function(i,s){return s===void 0&&(s=getActiveElement(getFirst(i).ownerDocument)),!s||s.dataset&&s.dataset.focusGuard?!1:getAllAffectedNodes(i).some(function(a){return contains(a,s)||focusInsideIframe(a,s)})},focusIsHidden=function(i){i===void 0&&(i=document);var s=getActiveElement(i);return s?toArray(i.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(a){return contains(a,s)}):!1},findSelectedRadio=function(i,s){return s.filter(isRadioElement).filter(function(a){return a.name===i.name}).filter(function(a){return a.checked})[0]||i},correctNode=function(i,s){return isRadioElement(i)&&i.name?findSelectedRadio(i,s):i},correctNodes=function(i){var s=new Set;return i.forEach(function(a){return s.add(correctNode(a,i))}),i.filter(function(a){return s.has(a)})},pickFirstFocus=function(i){return i[0]&&i.length>1?correctNode(i[0],i):i[0]},pickFocusable=function(i,s){return i.length>1?i.indexOf(correctNode(i[s],i)):s},NEW_FOCUS="NEW_FOCUS",newFocus=function(i,s,a,o){var rt=i.length,et=i[0],at=i[rt-1],ot=isGuard(a);if(!(a&&i.indexOf(a)>=0)){var nt=a!==void 0?s.indexOf(a):-1,it=o?s.indexOf(o):nt,j=o?i.indexOf(o):-1,_=nt-it,$=s.indexOf(et),tt=s.indexOf(at),st=correctNodes(s),lt=a!==void 0?st.indexOf(a):-1,ht=lt-(o?st.indexOf(o):nt),ft=pickFocusable(i,0),ct=pickFocusable(i,rt-1);if(nt===-1||j===-1)return NEW_FOCUS;if(!_&&j>=0)return j;if(nt<=$&&ot&&Math.abs(_)>1)return ct;if(nt>=tt&&ot&&Math.abs(_)>1)return ft;if(_&&Math.abs(ht)>1)return j;if(nt<=$)return ct;if(nt>tt)return ft;if(_)return Math.abs(_)>1?j:(rt+j+_)%rt}},findAutoFocused=function(i){return function(s){var a,o=(a=getDataset(s))===null||a===void 0?void 0:a.autofocus;return s.autofocus||o!==void 0&&o!=="false"||i.indexOf(s)>=0}},pickAutofocus=function(i,s,a){var o=i.map(function(et){var at=et.node;return at}),rt=filterAutoFocusable(o.filter(findAutoFocused(a)));return rt&&rt.length?pickFirstFocus(rt):pickFirstFocus(filterAutoFocusable(s))},getParents=function(i,s){return s===void 0&&(s=[]),s.push(i),i.parentNode&&getParents(i.parentNode.host||i.parentNode,s),s},getCommonParent=function(i,s){for(var a=getParents(i),o=getParents(s),rt=0;rt<a.length;rt+=1){var et=a[rt];if(o.indexOf(et)>=0)return et}return!1},getTopCommonParent=function(i,s,a){var o=asArray(i),rt=asArray(s),et=o[0],at=!1;return rt.filter(Boolean).forEach(function(ot){at=getCommonParent(at||ot,ot)||at,a.filter(Boolean).forEach(function(nt){var it=getCommonParent(et,nt);it&&(!at||contains(it,at)?at=it:at=getCommonParent(it,at))})}),at},allParentAutofocusables=function(i,s){return i.reduce(function(a,o){return a.concat(parentAutofocusables(o,s))},[])},reorderNodes=function(i,s){var a=new Map;return s.forEach(function(o){return a.set(o.node,o)}),i.map(function(o){return a.get(o)}).filter(isDefined)},focusSolver=function(i,s){var a=getActiveElement(asArray(i).length>0?document:getFirst(i).ownerDocument),o=getAllAffectedNodes(i).filter(isNotAGuard),rt=getTopCommonParent(a||i,i,o),et=new Map,at=getFocusableNodes(o,et),ot=getTabbableNodes(o,et).filter(function(tt){var st=tt.node;return isNotAGuard(st)});if(!(!ot[0]&&(ot=at,!ot[0]))){var nt=getFocusableNodes([rt],et).map(function(tt){var st=tt.node;return st}),it=reorderNodes(nt,ot),j=it.map(function(tt){var st=tt.node;return st}),_=newFocus(j,nt,a,s);if(_===NEW_FOCUS){var $=pickAutofocus(at,j,allParentAutofocusables(o,et));if($)return{node:$};console.warn("focus-lock: cannot find any node to move focus into");return}return _===void 0?_:it[_]}},expandFocusableNodes=function(i){var s=getAllAffectedNodes(i).filter(isNotAGuard),a=getTopCommonParent(i,i,s),o=new Map,rt=getTabbableNodes([a],o,!0),et=getTabbableNodes(s,o).filter(function(at){var ot=at.node;return isNotAGuard(ot)}).map(function(at){var ot=at.node;return ot});return rt.map(function(at){var ot=at.node,nt=at.index;return{node:ot,index:nt,lockItem:et.indexOf(ot)>=0,guard:isGuard(ot)}})},focusOn=function(i,s){"focus"in i&&i.focus(s),"contentWindow"in i&&i.contentWindow&&i.contentWindow.focus()},guardCount=0,lockDisabled=!1,moveFocusInside=function(i,s,a){a===void 0&&(a={});var o=focusSolver(i,s);if(!lockDisabled&&o){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(o.node,a.focusOptions),guardCount--}};function deferAction(i){setTimeout(i,1)}var focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,lastPortaledElement=null,focusWasOutsideWindow=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(s){return(lastActiveTrap.whiteList||defaultWhitelist)(s)},recordPortal=function(s,a){lastPortaledElement={observerNode:s,portaledElement:a}},focusIsPortaledPair=function(s){return lastPortaledElement&&lastPortaledElement.portaledElement===s};function autoGuard(i,s,a,o){var rt=null,et=i;do{var at=o[et];if(at.guard)at.node.dataset.focusAutoGuard&&(rt=at);else if(at.lockItem){if(et!==i)return;rt=null}else break}while((et+=a)!==s);rt&&(rt.node.tabIndex=0)}var extractRef$1=function(s){return s&&"current"in s?s.current:s},focusWasOutside=function(s){return s?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function i(s,a,o){return a&&(a.host===s&&(!a.activeElement||o.contains(a.activeElement))||a.parentNode&&i(s,a.parentNode,o))},withinHost=function(s,a){return a.some(function(o){return checkInHost(s,o,o)})},activateTrap=function(){var s=!1;if(lastActiveTrap){var a=lastActiveTrap,o=a.observed,rt=a.persistentFocus,et=a.autoFocus,at=a.shards,ot=a.crossFrame,nt=a.focusOptions,it=o||lastPortaledElement&&lastPortaledElement.portaledElement,j=document&&document.activeElement;if(it){var _=[it].concat(at.map(extractRef$1).filter(Boolean));if((!j||focusWhitelisted(j))&&(rt||focusWasOutside(ot)||!isFreeFocus()||!lastActiveFocus&&et)&&(it&&!(focusInside(_)||j&&withinHost(j,_)||focusIsPortaledPair(j))&&(document&&!lastActiveFocus&&j&&!et?(j.blur&&j.blur(),document.body.focus()):(s=moveFocusInside(_,lastActiveFocus,{focusOptions:nt}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement),document){var $=document&&document.activeElement,tt=expandFocusableNodes(_),st=tt.map(function(lt){var ht=lt.node;return ht}).indexOf($);st>-1&&(tt.filter(function(lt){var ht=lt.guard,ft=lt.node;return ht&&ft.dataset.focusAutoGuard}).forEach(function(lt){var ht=lt.node;return ht.removeAttribute("tabIndex")}),autoGuard(st,tt.length,1,tt),autoGuard(st,-1,-1,tt))}}}return s},onTrap=function(s){activateTrap()&&s&&(s.stopPropagation(),s.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(s){var a=s.target,o=s.currentTarget;o.contains(a)||recordPortal(o,a)},FocusWatcher=function(){return null},onWindowBlur=function(){focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(i){return i.filter(function(s){var a=s.disabled;return!a})}function handleStateChangeOnClient(i){var s=i.slice(-1)[0];s&&!lastActiveTrap&&attachHandler();var a=lastActiveTrap,o=a&&s&&s.id===a.id;lastActiveTrap=s,a&&!o&&(a.onDeactivation(),i.filter(function(rt){var et=rt.id;return et===a.id}).length||a.returnFocus(!s)),s?(lastActiveFocus=null,(!o||a.observed!==s.observed)&&s.onActivation(),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(i){return i({moveFocusInside,focusInside})});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(s,a){return reactExports.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:a},s))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};function isElement(i){return i!=null&&typeof i=="object"&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE}function isHTMLElement(i){var s;if(!isElement(i))return!1;const a=(s=i.ownerDocument.defaultView)!=null?s:window;return i instanceof a.HTMLElement}var hasTabIndex=i=>i.hasAttribute("tabindex");function isDisabled(i){return!!i.getAttribute("disabled")||!!i.getAttribute("aria-disabled")}function isHidden(i){return i.parentElement&&isHidden(i.parentElement)?!0:i.hidden}function isContentEditable(i){const s=i.getAttribute("contenteditable");return s!=="false"&&s!=null}function isFocusable(i){if(!isHTMLElement(i)||isHidden(i)||isDisabled(i))return!1;const{localName:s}=i;if(["input","select","textarea","button"].indexOf(s)>=0)return!0;const o={a:()=>i.hasAttribute("href"),audio:()=>i.hasAttribute("controls"),video:()=>i.hasAttribute("controls")};return s in o?o[s]():isContentEditable(i)?!0:hasTabIndex(i)}var focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=i=>i.offsetWidth>0&&i.offsetHeight>0;function getAllFocusable(i){const s=Array.from(i.querySelectorAll(focusableElSelector));return s.unshift(i),s.filter(a=>isFocusable(a)&&isVisible(a))}var _a,FocusTrap=(_a=FocusLockCombination.default)!=null?_a:FocusLockCombination,FocusLock=i=>{const{initialFocusRef:s,finalFocusRef:a,contentRef:o,restoreFocus:rt,children:et,isDisabled:at,autoFocus:ot,persistentFocus:nt,lockFocusAcrossFrames:it}=i,j=reactExports.useCallback(()=>{s!=null&&s.current?s.current.focus():o!=null&&o.current&&getAllFocusable(o.current).length===0&&requestAnimationFrame(()=>{var st;(st=o.current)==null||st.focus()})},[s,o]),_=reactExports.useCallback(()=>{var tt;(tt=a==null?void 0:a.current)==null||tt.focus()},[a]),$=rt&&!a;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:it,persistentFocus:nt,autoFocus:ot,disabled:at,onActivation:j,onDeactivation:_,returnFocus:$,children:et})};FocusLock.displayName="FocusLock";var useSafeLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect;function useCallbackRef(i,s=[]){const a=reactExports.useRef(i);return useSafeLayoutEffect(()=>{a.current=i}),reactExports.useCallback((...o)=>{var rt;return(rt=a.current)==null?void 0:rt.call(a,...o)},s)}function useId(i,s){const a=reactExports.useId();return reactExports.useMemo(()=>i||[s,a].filter(Boolean).join("-"),[i,s,a])}function useControllableProp(i,s){const a=i!==void 0;return[a,a&&typeof i<"u"?i:s]}function useDisclosure(i={}){const{onClose:s,onOpen:a,isOpen:o,id:rt}=i,et=useCallbackRef(a),at=useCallbackRef(s),[ot,nt]=reactExports.useState(i.defaultIsOpen||!1),[it,j]=useControllableProp(o,ot),_=useId(rt,"disclosure"),$=reactExports.useCallback(()=>{it||nt(!1),at==null||at()},[it,at]),tt=reactExports.useCallback(()=>{it||nt(!0),et==null||et()},[it,et]),st=reactExports.useCallback(()=>{(j?$:tt)()},[j,tt,$]);return{isOpen:!!j,onOpen:tt,onClose:$,onToggle:st,isControlled:it,getButtonProps:(lt={})=>({...lt,"aria-expanded":j,"aria-controls":_,onClick:callAllHandlers(lt.onClick,st)}),getDisclosureProps:(lt={})=>({...lt,hidden:!j,id:_})}}var[ListStylesProvider,useListStyles]=createContext$2({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(s,a){const o=useMultiStyleConfig("List",s),{children:rt,styleType:et="none",stylePosition:at,spacing:ot,...nt}=omitThemingProps(s),it=getValidChildren(rt),_=ot?{["& > *:not(style) ~ *:not(style)"]:{mt:ot}}:{};return jsxRuntimeExports.jsx(ListStylesProvider,{value:o,children:jsxRuntimeExports.jsx(chakra.ul,{ref:a,listStyleType:et,listStylePosition:at,role:"list",__css:{...o.container,..._},...nt,children:it})})});List.displayName="List";var OrderedList=forwardRef((i,s)=>{const{as:a,...o}=i;return jsxRuntimeExports.jsx(List,{ref:s,as:"ol",styleType:"decimal",marginStart:"1em",...o})});OrderedList.displayName="OrderedList";var UnorderedList=forwardRef(function(s,a){const{as:o,...rt}=s;return jsxRuntimeExports.jsx(List,{ref:a,as:"ul",styleType:"initial",marginStart:"1em",...rt})});UnorderedList.displayName="UnorderedList";var ListItem=forwardRef(function(s,a){const o=useListStyles();return jsxRuntimeExports.jsx(chakra.li,{ref:a,...s,__css:o.item})});ListItem.displayName="ListItem";var ListIcon=forwardRef(function(s,a){const o=useListStyles();return jsxRuntimeExports.jsx(Icon,{ref:a,role:"presentation",...s,__css:o.icon})});ListIcon.displayName="ListIcon";var Grid=forwardRef(function(s,a){const{templateAreas:o,gap:rt,rowGap:et,columnGap:at,column:ot,row:nt,autoFlow:it,autoRows:j,templateRows:_,autoColumns:$,templateColumns:tt,...st}=s,lt={display:"grid",gridTemplateAreas:o,gridGap:rt,gridRowGap:et,gridColumnGap:at,gridAutoColumns:$,gridColumn:ot,gridRow:nt,gridAutoFlow:it,gridAutoRows:j,gridTemplateRows:_,gridTemplateColumns:tt};return jsxRuntimeExports.jsx(chakra.div,{ref:a,__css:lt,...st})});Grid.displayName="Grid";function mapResponsive(i,s){return Array.isArray(i)?i.map(a=>a===null?null:s(a)):isObject$2(i)?Object.keys(i).reduce((a,o)=>(a[o]=s(i[o]),a),{}):i!=null?s(i):null}var SimpleGrid=forwardRef(function(s,a){const{columns:o,spacingX:rt,spacingY:et,spacing:at,minChildWidth:ot,...nt}=s,it=useTheme(),j=ot?widthToColumns(ot,it):countToColumns(o);return jsxRuntimeExports.jsx(Grid,{ref:a,gap:at,columnGap:rt,rowGap:et,templateColumns:j,...nt})});SimpleGrid.displayName="SimpleGrid";function toPx(i){return typeof i=="number"?`${i}px`:i}function widthToColumns(i,s){return mapResponsive(i,a=>{const o=getToken("sizes",a,toPx(a))(s);return a===null?null:`repeat(auto-fit, minmax(${o}, 1fr))`})}function countToColumns(i){return mapResponsive(i,s=>s===null?null:`repeat(${s}, minmax(0, 1fr))`)}var Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";var Text=forwardRef(function(s,a){const o=useStyleConfig("Text",s),{className:rt,align:et,decoration:at,casing:ot,...nt}=omitThemingProps(s),it=compact({textAlign:s.align,textDecoration:s.decoration,textTransform:s.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:a,className:cx("chakra-text",s.className),...it,...nt,__css:o})});Text.displayName="Text";var StackDivider=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__divider",...i,__css:{...i.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});StackDivider.displayName="StackDivider";var StackItem=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...i,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...i.__css}});StackItem.displayName="StackItem";function getDividerStyles(i){const{spacing:s,direction:a}=i,o={column:{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(a,rt=>o[rt])}}var Stack=forwardRef((i,s)=>{const{isInline:a,direction:o,align:rt,justify:et,spacing:at="0.5rem",wrap:ot,children:nt,divider:it,className:j,shouldWrapChildren:_,...$}=i,tt=a?"row":o??"column",st=reactExports.useMemo(()=>getDividerStyles({spacing:at,direction:tt}),[at,tt]),lt=!!it,ht=!_&&!lt,ft=reactExports.useMemo(()=>{const mt=getValidChildren(nt);return ht?mt:mt.map((gt,yt)=>{const ut=typeof gt.key<"u"?gt.key:yt,wt=yt+1===mt.length,vt=_?jsxRuntimeExports.jsx(StackItem,{children:gt},ut):gt;if(!lt)return vt;const Et=reactExports.cloneElement(it,{__css:st}),$t=wt?null:Et;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[vt,$t]},ut)})},[it,st,lt,ht,_,nt]),ct=cx("chakra-stack",j);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:rt,justifyContent:et,flexDirection:tt,flexWrap:ot,gap:lt?void 0:at,className:ct,...$,children:ft})});Stack.displayName="Stack";var HStack=forwardRef((i,s)=>jsxRuntimeExports.jsx(Stack,{align:"center",...i,direction:"row",ref:s}));HStack.displayName="HStack";function spanFn(i){return mapResponsive(i,s=>s==="auto"?"auto":`span ${s}/span ${s}`)}var GridItem=forwardRef(function(s,a){const{area:o,colSpan:rt,colStart:et,colEnd:at,rowEnd:ot,rowSpan:nt,rowStart:it,...j}=s,_=compact({gridArea:o,gridColumn:spanFn(rt),gridRow:spanFn(nt),gridColumnStart:et,gridColumnEnd:at,gridRowStart:it,gridRowEnd:ot});return jsxRuntimeExports.jsx(chakra.div,{ref:a,__css:_,...j})});GridItem.displayName="GridItem";var Heading=forwardRef(function(s,a){const o=useStyleConfig("Heading",s),{className:rt,...et}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.h2,{ref:a,className:cx("chakra-heading",s.className),...et,__css:o})});Heading.displayName="Heading";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function(s,a){const{size:o,centerContent:rt=!0,...et}=s,at=rt?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return jsxRuntimeExports.jsx(Box,{ref:a,boxSize:o,__css:{...at,flexShrink:0,flexGrow:0},...et})});Square.displayName="Square";var Circle=forwardRef(function(s,a){const{size:o,...rt}=s;return jsxRuntimeExports.jsx(Square,{size:o,ref:a,borderRadius:"9999px",...rt})});Circle.displayName="Circle";var Code=forwardRef(function(s,a){const o=useStyleConfig("Code",s),{className:rt,...et}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.code,{ref:a,className:cx("chakra-code",s.className),...et,__css:{display:"inline-block",...o}})});Code.displayName="Code";var transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=i=>transitions[i||"none"],ModalTransition=reactExports.forwardRef((i,s)=>{const{preset:a,motionProps:o=getMotionProps(a),...rt}=i;return jsxRuntimeExports.jsx(MotionSection,{ref:s,...o,...rt})});ModalTransition.displayName="ModalTransition";var __defProp=Object.defineProperty,__defNormalProp=(i,s,a)=>s in i?__defProp(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,__publicField=(i,s,a)=>(__defNormalProp(i,s+"",a),a),ModalManager=class{constructor(){__publicField(this,"modals"),this.modals=new Map}add(i){return this.modals.set(i,this.modals.size+1),this.modals.size}remove(i){this.modals.delete(i)}isTopModal(i){return i?this.modals.get(i)===this.modals.size:!1}},modalManager=new ModalManager;function useModalManager(i,s){const[a,o]=reactExports.useState(0);return reactExports.useEffect(()=>{const rt=i.current;if(rt){if(s){const et=modalManager.add(rt);o(et)}return()=>{modalManager.remove(rt),o(0)}}},[s,i]),a}var getDefaultParent=function(i){if(typeof document>"u")return null;var s=Array.isArray(i)?i[0]:i;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(i){return i&&(i.host||unwrapHost(i.parentNode))},correctTargets=function(i,s){return s.map(function(a){if(i.contains(a))return a;var o=unwrapHost(a);return o&&i.contains(o)?o:(console.error("aria-hidden",a,"in not contained inside",i,". Doing nothing"),null)}).filter(function(a){return!!a})},applyAttributeToOthers=function(i,s,a,o){var rt=correctTargets(s,Array.isArray(i)?i:[i]);markerMap[a]||(markerMap[a]=new WeakMap);var et=markerMap[a],at=[],ot=new Set,nt=new Set(rt),it=function(_){!_||ot.has(_)||(ot.add(_),it(_.parentNode))};rt.forEach(it);var j=function(_){!_||nt.has(_)||Array.prototype.forEach.call(_.children,function($){if(ot.has($))j($);else{var tt=$.getAttribute(o),st=tt!==null&&tt!=="false",lt=(counterMap.get($)||0)+1,ht=(et.get($)||0)+1;counterMap.set($,lt),et.set($,ht),at.push($),lt===1&&st&&uncontrolledNodes.set($,!0),ht===1&&$.setAttribute(a,"true"),st||$.setAttribute(o,"true")}})};return j(s),ot.clear(),lockCount++,function(){at.forEach(function(_){var $=counterMap.get(_)-1,tt=et.get(_)-1;counterMap.set(_,$),et.set(_,tt),$||(uncontrolledNodes.has(_)||_.removeAttribute(o),uncontrolledNodes.delete(_)),tt||_.removeAttribute(a)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(i,s,a){a===void 0&&(a="data-aria-hidden");var o=Array.from(Array.isArray(i)?i:[i]),rt=getDefaultParent(i);return rt?(o.push.apply(o,Array.from(rt.querySelectorAll("[aria-live]"))),applyAttributeToOthers(o,rt,a,"aria-hidden")):function(){return null}};function useModal(i){const{isOpen:s,onClose:a,id:o,closeOnOverlayClick:rt=!0,closeOnEsc:et=!0,useInert:at=!0,onOverlayClick:ot,onEsc:nt}=i,it=reactExports.useRef(null),j=reactExports.useRef(null),[_,$,tt]=useIds(o,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(it,s&&at);const st=useModalManager(it,s),lt=reactExports.useRef(null),ht=reactExports.useCallback(vt=>{lt.current=vt.target},[]),ft=reactExports.useCallback(vt=>{vt.key==="Escape"&&(vt.stopPropagation(),et&&(a==null||a()),nt==null||nt())},[et,a,nt]),[ct,mt]=reactExports.useState(!1),[gt,yt]=reactExports.useState(!1),ut=reactExports.useCallback((vt={},Et=null)=>({role:"dialog",...vt,ref:mergeRefs(Et,it),id:_,tabIndex:-1,"aria-modal":!0,"aria-labelledby":ct?$:void 0,"aria-describedby":gt?tt:void 0,onClick:callAllHandlers$1(vt.onClick,$t=>$t.stopPropagation())}),[tt,gt,_,$,ct]),wt=reactExports.useCallback(vt=>{vt.stopPropagation(),lt.current===vt.target&&modalManager.isTopModal(it.current)&&(rt&&(a==null||a()),ot==null||ot())},[a,rt,ot]),bt=reactExports.useCallback((vt={},Et=null)=>({...vt,ref:mergeRefs(Et,j),onClick:callAllHandlers$1(vt.onClick,wt),onKeyDown:callAllHandlers$1(vt.onKeyDown,ft),onMouseDown:callAllHandlers$1(vt.onMouseDown,ht)}),[ft,ht,wt]);return{isOpen:s,onClose:a,headerId:$,bodyId:tt,setBodyMounted:yt,setHeaderMounted:mt,dialogRef:it,overlayRef:j,getDialogProps:ut,getDialogContainerProps:bt,index:st}}function useAriaHidden(i,s){const a=i.current;reactExports.useEffect(()=>{if(!(!i.current||!s))return hideOthers(i.current)},[s,i,a])}function useIds(i,...s){const a=reactExports.useId(),o=i||a;return reactExports.useMemo(()=>s.map(rt=>`${rt}-${o}`),[o,s])}var[ModalStylesProvider,useModalStyles]=createContext$2({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$2({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=i=>{const s={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...i},{portalProps:a,children:o,autoFocus:rt,trapFocus:et,initialFocusRef:at,finalFocusRef:ot,returnFocusOnClose:nt,blockScrollOnMount:it,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:tt,onCloseComplete:st}=s,lt=useMultiStyleConfig("Modal",s),ft={...useModal(s),autoFocus:rt,trapFocus:et,initialFocusRef:at,finalFocusRef:ot,returnFocusOnClose:nt,blockScrollOnMount:it,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:tt};return jsxRuntimeExports.jsx(ModalContextProvider,{value:ft,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:lt,children:jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:st,children:ft.isOpen&&jsxRuntimeExports.jsx(Portal,{...a,children:o})})})})};Modal.displayName="Modal";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(i,s){var a=reactExports.useRef(null),o=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),rt=o[0],et=o[1],at=i.forwardProps,ot=i.children,nt=i.className,it=i.removeScrollBar,j=i.enabled,_=i.shards,$=i.sideCar,tt=i.noIsolation,st=i.inert,lt=i.allowPinchZoom,ht=i.as,ft=ht===void 0?"div":ht,ct=i.gapMode,mt=__rest(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),gt=$,yt=useMergeRefs([a,s]),ut=__assign$2(__assign$2({},mt),rt);return reactExports.createElement(reactExports.Fragment,null,j&&reactExports.createElement(gt,{sideCar:effectCar,removeScrollBar:it,shards:_,noIsolation:tt,inert:st,setCallbacks:et,allowPinchZoom:!!lt,lockRef:a,gapMode:ct}),at?reactExports.cloneElement(reactExports.Children.only(ot),__assign$2(__assign$2({},ut),{ref:yt})):reactExports.createElement(ft,__assign$2({},ut,{className:nt,ref:yt}),ot))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var s=getNonce();return s&&i.setAttribute("nonce",s),i}function injectStyles(i,s){i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}function insertStyleTag(i){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(i)}var stylesheetSingleton=function(){var i=0,s=null;return{add:function(a){i==0&&(s=makeStyleTag())&&(injectStyles(s,a),insertStyleTag(s)),i++},remove:function(){i--,!i&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var i=stylesheetSingleton();return function(s,a){reactExports.useEffect(function(){return i.add(s),function(){i.remove()}},[s&&a])}},styleSingleton=function(){var i=styleHookSingleton(),s=function(a){var o=a.styles,rt=a.dynamic;return i(o,rt),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(i){return parseInt(i||"",10)||0},getOffset=function(i){var s=window.getComputedStyle(document.body),a=s[i==="padding"?"paddingLeft":"marginLeft"],o=s[i==="padding"?"paddingTop":"marginTop"],rt=s[i==="padding"?"paddingRight":"marginRight"];return[parse$1(a),parse$1(o),parse$1(rt)]},getGapWidth=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zeroGap;var s=getOffset(i),a=document.documentElement.clientWidth,o=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,o-a+s[2]-s[0])}},Style=styleSingleton(),getStyles=function(i,s,a,o){var rt=i.left,et=i.top,at=i.right,ot=i.gap;return a===void 0&&(a="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(ot,"px ").concat(o,`;
  }
  body {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(o,";"),a==="margin"&&`
    padding-left: `.concat(rt,`px;
    padding-top: `).concat(et,`px;
    padding-right: `).concat(at,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ot,"px ").concat(o,`;
    `),a==="padding"&&"padding-right: ".concat(ot,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ot,"px ").concat(o,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ot,"px ").concat(o,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(ot,`px;
  }
`)},RemoveScrollBar=function(i){var s=i.noRelative,a=i.noImportant,o=i.gapMode,rt=o===void 0?"margin":o,et=reactExports.useMemo(function(){return getGapWidth(rt)},[rt]);return reactExports.createElement(Style,{styles:getStyles(et,!s,rt,a?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(i){return i.tagName==="TEXTAREA"},elementCanBeScrolled=function(i,s){var a=window.getComputedStyle(i);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!alwaysContainsScroll(i)&&a[s]==="visible")},elementCouldBeVScrolled=function(i){return elementCanBeScrolled(i,"overflowY")},elementCouldBeHScrolled=function(i){return elementCanBeScrolled(i,"overflowX")},locationCouldBeScrolled=function(i,s){var a=s.ownerDocument,o=s;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var rt=elementCouldBeScrolled(i,o);if(rt){var et=getScrollVariables(i,o),at=et[1],ot=et[2];if(at>ot)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},getVScrollVariables=function(i){var s=i.scrollTop,a=i.scrollHeight,o=i.clientHeight;return[s,a,o]},getHScrollVariables=function(i){var s=i.scrollLeft,a=i.scrollWidth,o=i.clientWidth;return[s,a,o]},elementCouldBeScrolled=function(i,s){return i==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(i,s){return i==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(i,s){return i==="h"&&s==="rtl"?-1:1},handleScroll=function(i,s,a,o,rt){var et=getDirectionFactor(i,window.getComputedStyle(s).direction),at=et*o,ot=a.target,nt=s.contains(ot),it=!1,j=at>0,_=0,$=0;do{var tt=getScrollVariables(i,ot),st=tt[0],lt=tt[1],ht=tt[2],ft=lt-ht-et*st;(st||ft)&&elementCouldBeScrolled(i,ot)&&(_+=ft,$+=st),ot instanceof ShadowRoot?ot=ot.host:ot=ot.parentNode}while(!nt&&ot!==document.body||nt&&(s.contains(ot)||s===ot));return(j&&(Math.abs(_)<1||!rt)||!j&&(Math.abs($)<1||!rt))&&(it=!0),it},getTouchXY=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(i){return[i.deltaX,i.deltaY]},extractRef=function(i){return i&&"current"in i?i.current:i},deltaCompare=function(i,s){return i[0]===s[0]&&i[1]===s[1]},generateStyle=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(i){var s=reactExports.useRef([]),a=reactExports.useRef([0,0]),o=reactExports.useRef(),rt=reactExports.useState(idCounter++)[0],et=reactExports.useState(styleSingleton)[0],at=reactExports.useRef(i);reactExports.useEffect(function(){at.current=i},[i]),reactExports.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(rt));var lt=__spreadArray([i.lockRef.current],(i.shards||[]).map(extractRef),!0).filter(Boolean);return lt.forEach(function(ht){return ht.classList.add("allow-interactivity-".concat(rt))}),function(){document.body.classList.remove("block-interactivity-".concat(rt)),lt.forEach(function(ht){return ht.classList.remove("allow-interactivity-".concat(rt))})}}},[i.inert,i.lockRef.current,i.shards]);var ot=reactExports.useCallback(function(lt,ht){if("touches"in lt&&lt.touches.length===2)return!at.current.allowPinchZoom;var ft=getTouchXY(lt),ct=a.current,mt="deltaX"in lt?lt.deltaX:ct[0]-ft[0],gt="deltaY"in lt?lt.deltaY:ct[1]-ft[1],yt,ut=lt.target,wt=Math.abs(mt)>Math.abs(gt)?"h":"v";if("touches"in lt&&wt==="h"&&ut.type==="range")return!1;var bt=locationCouldBeScrolled(wt,ut);if(!bt)return!0;if(bt?yt=wt:(yt=wt==="v"?"h":"v",bt=locationCouldBeScrolled(wt,ut)),!bt)return!1;if(!o.current&&"changedTouches"in lt&&(mt||gt)&&(o.current=yt),!yt)return!0;var vt=o.current||yt;return handleScroll(vt,ht,lt,vt==="h"?mt:gt,!0)},[]),nt=reactExports.useCallback(function(lt){var ht=lt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==et)){var ft="deltaY"in ht?getDeltaXY(ht):getTouchXY(ht),ct=s.current.filter(function(yt){return yt.name===ht.type&&(yt.target===ht.target||ht.target===yt.shadowParent)&&deltaCompare(yt.delta,ft)})[0];if(ct&&ct.should){ht.cancelable&&ht.preventDefault();return}if(!ct){var mt=(at.current.shards||[]).map(extractRef).filter(Boolean).filter(function(yt){return yt.contains(ht.target)}),gt=mt.length>0?ot(ht,mt[0]):!at.current.noIsolation;gt&&ht.cancelable&&ht.preventDefault()}}},[]),it=reactExports.useCallback(function(lt,ht,ft,ct){var mt={name:lt,delta:ht,target:ft,should:ct,shadowParent:getOutermostShadowParent(ft)};s.current.push(mt),setTimeout(function(){s.current=s.current.filter(function(gt){return gt!==mt})},1)},[]),j=reactExports.useCallback(function(lt){a.current=getTouchXY(lt),o.current=void 0},[]),_=reactExports.useCallback(function(lt){it(lt.type,getDeltaXY(lt),lt.target,ot(lt,i.lockRef.current))},[]),$=reactExports.useCallback(function(lt){it(lt.type,getTouchXY(lt),lt.target,ot(lt,i.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(et),i.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:$}),document.addEventListener("wheel",nt,nonPassive),document.addEventListener("touchmove",nt,nonPassive),document.addEventListener("touchstart",j,nonPassive),function(){lockStack=lockStack.filter(function(lt){return lt!==et}),document.removeEventListener("wheel",nt,nonPassive),document.removeEventListener("touchmove",nt,nonPassive),document.removeEventListener("touchstart",j,nonPassive)}},[]);var tt=i.removeScrollBar,st=i.inert;return reactExports.createElement(reactExports.Fragment,null,st?reactExports.createElement(et,{styles:generateStyle(rt)}):null,tt?reactExports.createElement(RemoveScrollBar,{gapMode:i.gapMode}):null)}function getOutermostShadowParent(i){for(var s=null;i!==null;)i instanceof ShadowRoot&&(s=i.host,i=i.host),i=i.parentNode;return s}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(i,s){return reactExports.createElement(RemoveScroll,__assign$2({},i,{ref:s,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;function ModalFocusScope(i){const{autoFocus:s,trapFocus:a,dialogRef:o,initialFocusRef:rt,blockScrollOnMount:et,allowPinchZoom:at,finalFocusRef:ot,returnFocusOnClose:nt,preserveScrollBarGap:it,lockFocusAcrossFrames:j,isOpen:_}=useModalContext(),[$,tt]=usePresence();reactExports.useEffect(()=>{!$&&tt&&setTimeout(tt)},[$,tt]);const st=useModalManager(o,_);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:s,isDisabled:!a,initialFocusRef:rt,finalFocusRef:ot,restoreFocus:nt,contentRef:o,lockFocusAcrossFrames:j,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!it,allowPinchZoom:at,enabled:st===1&&et,forwardProps:!0,children:i.children})})}var ModalContent=forwardRef((i,s)=>{const{className:a,children:o,containerProps:rt,motionProps:et,...at}=i,{getDialogProps:ot,getDialogContainerProps:nt}=useModalContext(),it=ot(at,s),j=nt(rt),_=cx("chakra-modal__content",a),$=useModalStyles(),tt={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...$.dialog},st={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...$.dialogContainer},{motionPreset:lt}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...j,className:"chakra-modal__content-container",tabIndex:-1,__css:st,children:jsxRuntimeExports.jsx(ModalTransition,{preset:lt,motionProps:et,className:_,...it,__css:tt,children:o})})})});ModalContent.displayName="ModalContent";var ModalFooter=forwardRef((i,s)=>{const{className:a,...o}=i,rt=cx("chakra-modal__footer",a),at={display:"flex",alignItems:"center",justifyContent:"flex-end",...useModalStyles().footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:s,...o,__css:at,className:rt})});ModalFooter.displayName="ModalFooter";var ModalHeader=forwardRef((i,s)=>{const{className:a,...o}=i,{headerId:rt,setHeaderMounted:et}=useModalContext();reactExports.useEffect(()=>(et(!0),()=>et(!1)),[et]);const at=cx("chakra-modal__header",a),nt={flex:0,...useModalStyles().header};return jsxRuntimeExports.jsx(chakra.header,{ref:s,className:at,id:rt,...o,__css:nt})});ModalHeader.displayName="ModalHeader";var MotionDiv=chakra(motion.div),ModalOverlay=forwardRef((i,s)=>{const{className:a,transition:o,motionProps:rt,...et}=i,at=cx("chakra-modal__overlay",a),nt={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:it}=useModalContext(),_=rt||(it==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv,{..._,__css:nt,ref:s,className:at,...et})});ModalOverlay.displayName="ModalOverlay";var ModalBody=forwardRef((i,s)=>{const{className:a,...o}=i,{bodyId:rt,setBodyMounted:et}=useModalContext();reactExports.useEffect(()=>(et(!0),()=>et(!1)),[et]);const at=cx("chakra-modal__body",a),ot=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:at,id:rt,...o,__css:ot.body})});ModalBody.displayName="ModalBody";var ModalCloseButton=forwardRef((i,s)=>{const{onClick:a,className:o,...rt}=i,{onClose:et}=useModalContext(),at=cx("chakra-modal__close-btn",o),ot=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:s,__css:ot.closeButton,className:at,onClick:callAllHandlers$1(a,nt=>{nt.stopPropagation(),et()}),...rt})});ModalCloseButton.displayName="ModalCloseButton";var SelectField=forwardRef(function(s,a){const{children:o,placeholder:rt,className:et,...at}=s;return jsxRuntimeExports.jsxs(chakra.select,{...at,ref:a,className:cx("chakra-select",et),children:[rt&&jsxRuntimeExports.jsx("option",{value:"",children:rt}),o]})});SelectField.displayName="SelectField";function split$1(i,s){const a={},o={};for(const[rt,et]of Object.entries(i))s.includes(rt)?a[rt]=et:o[rt]=et;return[a,o]}var Select=forwardRef((i,s)=>{var a;const o=useMultiStyleConfig("Select",i),{rootProps:rt,placeholder:et,icon:at,color:ot,height:nt,h:it,minH:j,minHeight:_,iconColor:$,iconSize:tt,...st}=omitThemingProps(i),[lt,ht]=split$1(st,layoutPropNames),ft=useFormControl(ht),ct={width:"100%",height:"fit-content",position:"relative",color:ot},mt={paddingEnd:"2rem",...o.field,_focus:{zIndex:"unset",...(a=o.field)==null?void 0:a._focus}};return jsxRuntimeExports.jsxs(chakra.div,{className:"chakra-select__wrapper",__css:ct,...lt,...rt,children:[jsxRuntimeExports.jsx(SelectField,{ref:s,height:it??nt,minH:j??_,placeholder:et,...ft,__css:mt,children:i.children}),jsxRuntimeExports.jsx(SelectIcon,{"data-disabled":dataAttr(ft.disabled),...($||ot)&&{color:$||ot},__css:o.icon,...tt&&{fontSize:tt},children:at})]})});Select.displayName="Select";var DefaultIcon=i=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=i=>{const{children:s=jsxRuntimeExports.jsx(DefaultIcon,{}),...a}=i,o=reactExports.cloneElement(s,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsxRuntimeExports.jsx(IconWrapper,{...a,className:"chakra-select__icon-wrapper",children:reactExports.isValidElement(s)?o:null})};SelectIcon.displayName="SelectIcon";var client={},m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;var withSelector={exports:{}},useSyncExternalStoreWithSelector_production_min={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=reactExports;function n(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var p=typeof Object.is=="function"?Object.is:n,q=g.useSyncExternalStore,r=g.useRef,t=g.useEffect,u=g.useMemo,v=g.useDebugValue;useSyncExternalStoreWithSelector_production_min.useSyncExternalStoreWithSelector=function(i,s,a,o,rt){var et=r(null);if(et.current===null){var at={hasValue:!1,value:null};et.current=at}else at=et.current;et=u(function(){function nt(tt){if(!it){if(it=!0,j=tt,tt=o(tt),rt!==void 0&&at.hasValue){var st=at.value;if(rt(st,tt))return _=st}return _=tt}if(st=_,p(j,tt))return st;var lt=o(tt);return rt!==void 0&&rt(st,lt)?st:(j=tt,_=lt)}var it=!1,j,_,$=a===void 0?null:a;return[function(){return nt(s())},$===null?void 0:function(){return nt($())}]},[s,a,o,rt]);var ot=q(i,et[0],et[1]);return t(function(){at.hasValue=!0,at.value=ot},[ot]),v(ot),ot};withSelector.exports=useSyncExternalStoreWithSelector_production_min;var withSelectorExports=withSelector.exports,React$3="default"in ReactOriginal?React$4:ReactOriginal,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!React$3.createContext)return{};const i=gT[ContextKey]??(gT[ContextKey]=new Map);let s=i.get(React$3.createContext);return s||(s=React$3.createContext(null),i.set(React$3.createContext,s)),s}var ReactReduxContext=getContext(),notInitialized=()=>{throw new Error("uSES not initialized!")};function createReduxContextHook(i=ReactReduxContext){return function(){return React$3.useContext(i)}}var useReduxContext=createReduxContextHook(),useSyncExternalStoreWithSelector=notInitialized,initializeUseSelector=i=>{useSyncExternalStoreWithSelector=i},refEquality=(i,s)=>i===s;function createSelectorHook(i=ReactReduxContext){const s=i===ReactReduxContext?useReduxContext:createReduxContextHook(i),a=(o,rt={})=>{const{equalityFn:et=refEquality,devModeChecks:at={}}=typeof rt=="function"?{equalityFn:rt}:rt,{store:ot,subscription:nt,getServerState:it,stabilityCheck:j,identityFunctionCheck:_}=s();React$3.useRef(!0);const $=React$3.useCallback({[o.name](st){return o(st)}}[o.name],[o,j,at.stabilityCheck]),tt=useSyncExternalStoreWithSelector(nt.addNestedSub,ot.getState,it||ot.getState,$,et);return React$3.useDebugValue(tt),tt};return Object.assign(a,{withTypes:()=>a}),a}var useSelector=createSelectorHook();function defaultNoopBatch(i){i()}function createListenerCollection(){let i=null,s=null;return{clear(){i=null,s=null},notify(){defaultNoopBatch(()=>{let a=i;for(;a;)a.callback(),a=a.next})},get(){const a=[];let o=i;for(;o;)a.push(o),o=o.next;return a},subscribe(a){let o=!0;const rt=s={callback:a,next:null,prev:s};return rt.prev?rt.prev.next=rt:i=rt,function(){!o||i===null||(o=!1,rt.next?rt.next.prev=rt.prev:s=rt.prev,rt.prev?rt.prev.next=rt.next:i=rt.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(i,s){let a,o=nullListeners,rt=0,et=!1;function at(lt){j();const ht=o.subscribe(lt);let ft=!1;return()=>{ft||(ft=!0,ht(),_())}}function ot(){o.notify()}function nt(){st.onStateChange&&st.onStateChange()}function it(){return et}function j(){rt++,a||(a=i.subscribe(nt),o=createListenerCollection())}function _(){rt--,a&&rt===0&&(a(),a=void 0,o.clear(),o=nullListeners)}function $(){et||(et=!0,j())}function tt(){et&&(et=!1,_())}const st={addNestedSub:at,notifyNestedSubs:ot,handleChangeWrapper:nt,isSubscribed:it,trySubscribe:$,tryUnsubscribe:tt,getListeners:()=>o};return st}var canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative",useIsomorphicLayoutEffect=canUseDOM||isReactNative?React$3.useLayoutEffect:React$3.useEffect;function Provider({store:i,context:s,children:a,serverState:o,stabilityCheck:rt="once",identityFunctionCheck:et="once"}){const at=React$3.useMemo(()=>{const it=createSubscription(i);return{store:i,subscription:it,getServerState:o?()=>o:void 0,stabilityCheck:rt,identityFunctionCheck:et}},[i,o,rt,et]),ot=React$3.useMemo(()=>i.getState(),[i]);useIsomorphicLayoutEffect(()=>{const{subscription:it}=at;return it.onStateChange=it.notifyNestedSubs,it.trySubscribe(),ot!==i.getState()&&it.notifyNestedSubs(),()=>{it.tryUnsubscribe(),it.onStateChange=void 0}},[at,ot]);const nt=s||ReactReduxContext;return React$3.createElement(nt.Provider,{value:at},a)}var Provider_default=Provider;function createStoreHook(i=ReactReduxContext){const s=i===ReactReduxContext?useReduxContext:createReduxContextHook(i),a=()=>{const{store:o}=s();return o};return Object.assign(a,{withTypes:()=>a}),a}var useStore=createStoreHook();function createDispatchHook(i=ReactReduxContext){const s=i===ReactReduxContext?useStore:createStoreHook(i),a=()=>s().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);const scriptRel="modulepreload",assetsURL=function(i){return"/seker/"+i},seen={},__vitePreload=function(s,a,o){let rt=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const at=document.querySelector("meta[property=csp-nonce]"),ot=(at==null?void 0:at.nonce)||(at==null?void 0:at.getAttribute("nonce"));rt=Promise.allSettled(a.map(nt=>{if(nt=assetsURL(nt),nt in seen)return;seen[nt]=!0;const it=nt.endsWith(".css"),j=it?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${nt}"]${j}`))return;const _=document.createElement("link");if(_.rel=it?"stylesheet":scriptRel,it||(_.as="script"),_.crossOrigin="",_.href=nt,ot&&_.setAttribute("nonce",ot),document.head.appendChild(_),it)return new Promise(($,tt)=>{_.addEventListener("load",$),_.addEventListener("error",()=>tt(new Error(`Unable to preload CSS for ${nt}`)))})}))}function et(at){const ot=new Event("vite:preloadError",{cancelable:!0});if(ot.payload=at,window.dispatchEvent(ot),!ot.defaultPrevented)throw at}return rt.then(at=>{for(const ot of at||[])ot.status==="rejected"&&et(ot.reason);return s().catch(et)})};var lzString={exports:{}};lzString.exports;(function(i){var s=function(){var a=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",et={};function at(nt,it){if(!et[nt]){et[nt]={};for(var j=0;j<nt.length;j++)et[nt][nt.charAt(j)]=j}return et[nt][it]}var ot={compressToBase64:function(nt){if(nt==null)return"";var it=ot._compress(nt,6,function(j){return o.charAt(j)});switch(it.length%4){default:case 0:return it;case 1:return it+"===";case 2:return it+"==";case 3:return it+"="}},decompressFromBase64:function(nt){return nt==null?"":nt==""?null:ot._decompress(nt.length,32,function(it){return at(o,nt.charAt(it))})},compressToUTF16:function(nt){return nt==null?"":ot._compress(nt,15,function(it){return a(it+32)})+" "},decompressFromUTF16:function(nt){return nt==null?"":nt==""?null:ot._decompress(nt.length,16384,function(it){return nt.charCodeAt(it)-32})},compressToUint8Array:function(nt){for(var it=ot.compress(nt),j=new Uint8Array(it.length*2),_=0,$=it.length;_<$;_++){var tt=it.charCodeAt(_);j[_*2]=tt>>>8,j[_*2+1]=tt%256}return j},decompressFromUint8Array:function(nt){if(nt==null)return ot.decompress(nt);for(var it=new Array(nt.length/2),j=0,_=it.length;j<_;j++)it[j]=nt[j*2]*256+nt[j*2+1];var $=[];return it.forEach(function(tt){$.push(a(tt))}),ot.decompress($.join(""))},compressToEncodedURIComponent:function(nt){return nt==null?"":ot._compress(nt,6,function(it){return rt.charAt(it)})},decompressFromEncodedURIComponent:function(nt){return nt==null?"":nt==""?null:(nt=nt.replace(/ /g,"+"),ot._decompress(nt.length,32,function(it){return at(rt,nt.charAt(it))}))},compress:function(nt){return ot._compress(nt,16,function(it){return a(it)})},_compress:function(nt,it,j){if(nt==null)return"";var _,$,tt={},st={},lt="",ht="",ft="",ct=2,mt=3,gt=2,yt=[],ut=0,wt=0,bt;for(bt=0;bt<nt.length;bt+=1)if(lt=nt.charAt(bt),Object.prototype.hasOwnProperty.call(tt,lt)||(tt[lt]=mt++,st[lt]=!0),ht=ft+lt,Object.prototype.hasOwnProperty.call(tt,ht))ft=ht;else{if(Object.prototype.hasOwnProperty.call(st,ft)){if(ft.charCodeAt(0)<256){for(_=0;_<gt;_++)ut=ut<<1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++;for($=ft.charCodeAt(0),_=0;_<8;_++)ut=ut<<1|$&1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=$>>1}else{for($=1,_=0;_<gt;_++)ut=ut<<1|$,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=0;for($=ft.charCodeAt(0),_=0;_<16;_++)ut=ut<<1|$&1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=$>>1}ct--,ct==0&&(ct=Math.pow(2,gt),gt++),delete st[ft]}else for($=tt[ft],_=0;_<gt;_++)ut=ut<<1|$&1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=$>>1;ct--,ct==0&&(ct=Math.pow(2,gt),gt++),tt[ht]=mt++,ft=String(lt)}if(ft!==""){if(Object.prototype.hasOwnProperty.call(st,ft)){if(ft.charCodeAt(0)<256){for(_=0;_<gt;_++)ut=ut<<1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++;for($=ft.charCodeAt(0),_=0;_<8;_++)ut=ut<<1|$&1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=$>>1}else{for($=1,_=0;_<gt;_++)ut=ut<<1|$,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=0;for($=ft.charCodeAt(0),_=0;_<16;_++)ut=ut<<1|$&1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=$>>1}ct--,ct==0&&(ct=Math.pow(2,gt),gt++),delete st[ft]}else for($=tt[ft],_=0;_<gt;_++)ut=ut<<1|$&1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=$>>1;ct--,ct==0&&(ct=Math.pow(2,gt),gt++)}for($=2,_=0;_<gt;_++)ut=ut<<1|$&1,wt==it-1?(wt=0,yt.push(j(ut)),ut=0):wt++,$=$>>1;for(;;)if(ut=ut<<1,wt==it-1){yt.push(j(ut));break}else wt++;return yt.join("")},decompress:function(nt){return nt==null?"":nt==""?null:ot._decompress(nt.length,32768,function(it){return nt.charCodeAt(it)})},_decompress:function(nt,it,j){var _=[],$=4,tt=4,st=3,lt="",ht=[],ft,ct,mt,gt,yt,ut,wt,bt={val:j(0),position:it,index:1};for(ft=0;ft<3;ft+=1)_[ft]=ft;for(mt=0,yt=Math.pow(2,2),ut=1;ut!=yt;)gt=bt.val&bt.position,bt.position>>=1,bt.position==0&&(bt.position=it,bt.val=j(bt.index++)),mt|=(gt>0?1:0)*ut,ut<<=1;switch(mt){case 0:for(mt=0,yt=Math.pow(2,8),ut=1;ut!=yt;)gt=bt.val&bt.position,bt.position>>=1,bt.position==0&&(bt.position=it,bt.val=j(bt.index++)),mt|=(gt>0?1:0)*ut,ut<<=1;wt=a(mt);break;case 1:for(mt=0,yt=Math.pow(2,16),ut=1;ut!=yt;)gt=bt.val&bt.position,bt.position>>=1,bt.position==0&&(bt.position=it,bt.val=j(bt.index++)),mt|=(gt>0?1:0)*ut,ut<<=1;wt=a(mt);break;case 2:return""}for(_[3]=wt,ct=wt,ht.push(wt);;){if(bt.index>nt)return"";for(mt=0,yt=Math.pow(2,st),ut=1;ut!=yt;)gt=bt.val&bt.position,bt.position>>=1,bt.position==0&&(bt.position=it,bt.val=j(bt.index++)),mt|=(gt>0?1:0)*ut,ut<<=1;switch(wt=mt){case 0:for(mt=0,yt=Math.pow(2,8),ut=1;ut!=yt;)gt=bt.val&bt.position,bt.position>>=1,bt.position==0&&(bt.position=it,bt.val=j(bt.index++)),mt|=(gt>0?1:0)*ut,ut<<=1;_[tt++]=a(mt),wt=tt-1,$--;break;case 1:for(mt=0,yt=Math.pow(2,16),ut=1;ut!=yt;)gt=bt.val&bt.position,bt.position>>=1,bt.position==0&&(bt.position=it,bt.val=j(bt.index++)),mt|=(gt>0?1:0)*ut,ut<<=1;_[tt++]=a(mt),wt=tt-1,$--;break;case 2:return ht.join("")}if($==0&&($=Math.pow(2,st),st++),_[wt])lt=_[wt];else if(wt===tt)lt=ct+ct.charAt(0);else return null;ht.push(lt),_[tt++]=ct+lt.charAt(0),$--,ct=lt,$==0&&($=Math.pow(2,st),st++)}}};return ot}();i!=null?i.exports=s:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return s})})(lzString);var lzStringExports=lzString.exports;const token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(i,s){try{return[decodeURIComponent(i.join(""))]}catch{}if(i.length===1)return i;s=s||1;const a=i.slice(0,s),o=i.slice(s);return Array.prototype.concat.call([],decodeComponents(a),decodeComponents(o))}function decode$1(i){try{return decodeURIComponent(i)}catch{let s=i.match(singleMatcher)||[];for(let a=1;a<s.length;a++)i=decodeComponents(s,a).join(""),s=i.match(singleMatcher)||[];return i}}function customDecodeURIComponent(i){const s={"%FE%FF":"","%FF%FE":""};let a=multiMatcher.exec(i);for(;a;){try{s[a[0]]=decodeURIComponent(a[0])}catch{const rt=decode$1(a[0]);rt!==a[0]&&(s[a[0]]=rt)}a=multiMatcher.exec(i)}s["%C2"]="";const o=Object.keys(s);for(const rt of o)i=i.replace(new RegExp(rt,"g"),s[rt]);return i}function decodeUriComponent(i){if(typeof i!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof i+"`");try{return decodeURIComponent(i)}catch{return customDecodeURIComponent(i)}}function includeKeys(i,s){const a={};if(Array.isArray(s))for(const o of s){const rt=Object.getOwnPropertyDescriptor(i,o);rt!=null&&rt.enumerable&&Object.defineProperty(a,o,rt)}else for(const o of Reflect.ownKeys(i)){const rt=Object.getOwnPropertyDescriptor(i,o);if(rt.enumerable){const et=i[o];s(o,et,i)&&Object.defineProperty(a,o,rt)}}return a}function splitOnFirst(i,s){if(!(typeof i=="string"&&typeof s=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(i===""||s==="")return[];const a=i.indexOf(s);return a===-1?[]:[i.slice(0,a),i.slice(a+s.length)]}const isNullOrUndefined=i=>i==null,strictUriEncode=i=>encodeURIComponent(i).replaceAll(/[!'()*]/g,s=>`%${s.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat(i){switch(i.arrayFormat){case"index":return s=>(a,o)=>{const rt=a.length;return o===void 0||i.skipNull&&o===null||i.skipEmptyString&&o===""?a:o===null?[...a,[encode(s,i),"[",rt,"]"].join("")]:[...a,[encode(s,i),"[",encode(rt,i),"]=",encode(o,i)].join("")]};case"bracket":return s=>(a,o)=>o===void 0||i.skipNull&&o===null||i.skipEmptyString&&o===""?a:o===null?[...a,[encode(s,i),"[]"].join("")]:[...a,[encode(s,i),"[]=",encode(o,i)].join("")];case"colon-list-separator":return s=>(a,o)=>o===void 0||i.skipNull&&o===null||i.skipEmptyString&&o===""?a:o===null?[...a,[encode(s,i),":list="].join("")]:[...a,[encode(s,i),":list=",encode(o,i)].join("")];case"comma":case"separator":case"bracket-separator":{const s=i.arrayFormat==="bracket-separator"?"[]=":"=";return a=>(o,rt)=>rt===void 0||i.skipNull&&rt===null||i.skipEmptyString&&rt===""?o:(rt=rt===null?"":rt,o.length===0?[[encode(a,i),s,encode(rt,i)].join("")]:[[o,encode(rt,i)].join(i.arrayFormatSeparator)])}default:return s=>(a,o)=>o===void 0||i.skipNull&&o===null||i.skipEmptyString&&o===""?a:o===null?[...a,encode(s,i)]:[...a,[encode(s,i),"=",encode(o,i)].join("")]}}function parserForArrayFormat(i){let s;switch(i.arrayFormat){case"index":return(a,o,rt)=>{if(s=/\[(\d*)]$/.exec(a),a=a.replace(/\[\d*]$/,""),!s){rt[a]=o;return}rt[a]===void 0&&(rt[a]={}),rt[a][s[1]]=o};case"bracket":return(a,o,rt)=>{if(s=/(\[])$/.exec(a),a=a.replace(/\[]$/,""),!s){rt[a]=o;return}if(rt[a]===void 0){rt[a]=[o];return}rt[a]=[...rt[a],o]};case"colon-list-separator":return(a,o,rt)=>{if(s=/(:list)$/.exec(a),a=a.replace(/:list$/,""),!s){rt[a]=o;return}if(rt[a]===void 0){rt[a]=[o];return}rt[a]=[...rt[a],o]};case"comma":case"separator":return(a,o,rt)=>{const et=typeof o=="string"&&o.includes(i.arrayFormatSeparator),at=typeof o=="string"&&!et&&decode(o,i).includes(i.arrayFormatSeparator);o=at?decode(o,i):o;const ot=et||at?o.split(i.arrayFormatSeparator).map(nt=>decode(nt,i)):o===null?o:decode(o,i);rt[a]=ot};case"bracket-separator":return(a,o,rt)=>{const et=/(\[])$/.test(a);if(a=a.replace(/\[]$/,""),!et){rt[a]=o&&decode(o,i);return}const at=o===null?[]:o.split(i.arrayFormatSeparator).map(ot=>decode(ot,i));if(rt[a]===void 0){rt[a]=at;return}rt[a]=[...rt[a],...at]};default:return(a,o,rt)=>{if(rt[a]===void 0){rt[a]=o;return}rt[a]=[...[rt[a]].flat(),o]}}}function validateArrayFormatSeparator(i){if(typeof i!="string"||i.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(i,s){return s.encode?s.strict?strictUriEncode(i):encodeURIComponent(i):i}function decode(i,s){return s.decode?decodeUriComponent(i):i}function keysSorter(i){return Array.isArray(i)?i.sort():typeof i=="object"?keysSorter(Object.keys(i)).sort((s,a)=>Number(s)-Number(a)).map(s=>i[s]):i}function removeHash(i){const s=i.indexOf("#");return s!==-1&&(i=i.slice(0,s)),i}function getHash(i){let s="";const a=i.indexOf("#");return a!==-1&&(s=i.slice(a)),s}function parseValue(i,s,a){return a==="string"&&typeof i=="string"?i:typeof a=="function"&&typeof i=="string"?a(i):s.parseBooleans&&i!==null&&(i.toLowerCase()==="true"||i.toLowerCase()==="false")?i.toLowerCase()==="true":a==="number"&&!Number.isNaN(Number(i))&&typeof i=="string"&&i.trim()!==""||s.parseNumbers&&!Number.isNaN(Number(i))&&typeof i=="string"&&i.trim()!==""?Number(i):i}function extract(i){i=removeHash(i);const s=i.indexOf("?");return s===-1?"":i.slice(s+1)}function parse(i,s){s={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...s},validateArrayFormatSeparator(s.arrayFormatSeparator);const a=parserForArrayFormat(s),o=Object.create(null);if(typeof i!="string"||(i=i.trim().replace(/^[?#&]/,""),!i))return o;for(const rt of i.split("&")){if(rt==="")continue;const et=s.decode?rt.replaceAll("+"," "):rt;let[at,ot]=splitOnFirst(et,"=");at===void 0&&(at=et),ot=ot===void 0?null:["comma","separator","bracket-separator"].includes(s.arrayFormat)?ot:decode(ot,s),a(decode(at,s),ot,o)}for(const[rt,et]of Object.entries(o))if(typeof et=="object"&&et!==null&&s.types[rt]!=="string")for(const[at,ot]of Object.entries(et)){const nt=s.types[rt]?s.types[rt].replace("[]",""):void 0;et[at]=parseValue(ot,s,nt)}else typeof et=="object"&&et!==null&&s.types[rt]==="string"?o[rt]=Object.values(et).join(s.arrayFormatSeparator):o[rt]=parseValue(et,s,s.types[rt]);return s.sort===!1?o:(s.sort===!0?Object.keys(o).sort():Object.keys(o).sort(s.sort)).reduce((rt,et)=>{const at=o[et];return rt[et]=at&&typeof at=="object"&&!Array.isArray(at)?keysSorter(at):at,rt},Object.create(null))}function stringify$3(i,s){if(!i)return"";s={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...s},validateArrayFormatSeparator(s.arrayFormatSeparator);const a=at=>s.skipNull&&isNullOrUndefined(i[at])||s.skipEmptyString&&i[at]==="",o=encoderForArrayFormat(s),rt={};for(const[at,ot]of Object.entries(i))a(at)||(rt[at]=ot);const et=Object.keys(rt);return s.sort!==!1&&et.sort(s.sort),et.map(at=>{const ot=i[at];return ot===void 0?"":ot===null?encode(at,s):Array.isArray(ot)?ot.length===0&&s.arrayFormat==="bracket-separator"?encode(at,s)+"[]":ot.reduce(o(at),[]).join("&"):encode(at,s)+"="+encode(ot,s)}).filter(at=>at.length>0).join("&")}function parseUrl(i,s){var rt;s={decode:!0,...s};let[a,o]=splitOnFirst(i,"#");return a===void 0&&(a=i),{url:((rt=a==null?void 0:a.split("?"))==null?void 0:rt[0])??"",query:parse(extract(i),s),...s&&s.parseFragmentIdentifier&&o?{fragmentIdentifier:decode(o,s)}:{}}}function stringifyUrl(i,s){s={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,...s};const a=removeHash(i.url).split("?")[0]||"",o=extract(i.url),rt={...parse(o,{sort:!1}),...i.query};let et=stringify$3(rt,s);et&&(et=`?${et}`);let at=getHash(i.url);if(typeof i.fragmentIdentifier=="string"){const ot=new URL(a);ot.hash=i.fragmentIdentifier,at=s[encodeFragmentIdentifier]?ot.hash:`#${i.fragmentIdentifier}`}return`${a}${et}${at}`}function pick(i,s,a){a={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...a};const{url:o,query:rt,fragmentIdentifier:et}=parseUrl(i,a);return stringifyUrl({url:o,query:includeKeys(rt,s),fragmentIdentifier:et},a)}function exclude(i,s,a){const o=Array.isArray(s)?rt=>!s.includes(rt):(rt,et)=>!s(rt,et);return pick(i,o,a)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse,parseUrl,pick,stringify:stringify$3,stringifyUrl},Symbol.toStringTag,{value:"Module"}));var lib$1={},ace$4={},ace$3={exports:{}};(function(i,s){(function(){var a="ace",o=function(){return this}();!o&&typeof window<"u"&&(o=window);var rt=function(j,_,$){if(typeof j!="string"){rt.original?rt.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&($=_),rt.modules[j]||(rt.payloads[j]=$,rt.modules[j]=null)};rt.modules={},rt.payloads={};var et=function(j,_,$){if(typeof _=="string"){var tt=nt(j,_);if(tt!=null)return $&&$(),tt}else if(Object.prototype.toString.call(_)==="[object Array]"){for(var st=[],lt=0,ht=_.length;lt<ht;++lt){var ft=nt(j,_[lt]);if(ft==null&&at.original)return;st.push(ft)}return $&&$.apply(null,st)||!0}},at=function(j,_){var $=et("",j,_);return $==null&&at.original?at.original.apply(this,arguments):$},ot=function(j,_){if(_.indexOf("!")!==-1){var $=_.split("!");return ot(j,$[0])+"!"+ot(j,$[1])}if(_.charAt(0)=="."){var tt=j.split("/").slice(0,-1).join("/");for(_=tt+"/"+_;_.indexOf(".")!==-1&&st!=_;){var st=_;_=_.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return _},nt=function(j,_){_=ot(j,_);var $=rt.modules[_];if(!$){if($=rt.payloads[_],typeof $=="function"){var tt={},st={id:_,uri:"",exports:tt,packaged:!0},lt=function(ft,ct){return et(_,ft,ct)},ht=$(lt,tt,st);tt=ht||st.exports,rt.modules[_]=tt,delete rt.payloads[_]}$=rt.modules[_]=tt||$}return $};function it(j){var _=o;o[j]||(o[j]={}),_=o[j],(!_.define||!_.define.packaged)&&(rt.original=_.define,_.define=rt,_.define.packaged=!0),(!_.require||!_.require.packaged)&&(at.original=_.require,_.require=at,_.require.packaged=!0)}it(a)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(a,o,rt){function et(at,ot,nt){Object.defineProperty(at,ot,{value:nt,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||et(String.prototype,"startsWith",function(at,ot){return ot=ot||0,this.lastIndexOf(at,ot)===ot}),String.prototype.endsWith||et(String.prototype,"endsWith",function(at,ot){var nt=this;(ot===void 0||ot>nt.length)&&(ot=nt.length),ot-=at.length;var it=nt.indexOf(at,ot);return it!==-1&&it===ot}),String.prototype.repeat||et(String.prototype,"repeat",function(at){for(var ot="",nt=this;at>0;)at&1&&(ot+=nt),(at>>=1)&&(nt+=nt);return ot}),String.prototype.includes||et(String.prototype,"includes",function(at,ot){return this.indexOf(at,ot)!=-1}),Object.assign||(Object.assign=function(at){if(at==null)throw new TypeError("Cannot convert undefined or null to object");for(var ot=Object(at),nt=1;nt<arguments.length;nt++){var it=arguments[nt];it!=null&&Object.keys(it).forEach(function(j){ot[j]=it[j]})}return ot}),Object.values||(Object.values=function(at){return Object.keys(at).map(function(ot){return at[ot]})}),Array.prototype.find||et(Array.prototype,"find",function(at){for(var ot=this.length,nt=arguments[1],it=0;it<ot;it++){var j=this[it];if(at.call(nt,j,it,this))return j}}),Array.prototype.findIndex||et(Array.prototype,"findIndex",function(at){for(var ot=this.length,nt=arguments[1],it=0;it<ot;it++){var j=this[it];if(at.call(nt,j,it,this))return it}}),Array.prototype.includes||et(Array.prototype,"includes",function(at,ot){return this.indexOf(at,ot)!=-1}),Array.prototype.fill||et(Array.prototype,"fill",function(at){for(var ot=this,nt=ot.length>>>0,it=arguments[1],j=it>>0,_=j<0?Math.max(nt+j,0):Math.min(j,nt),$=arguments[2],tt=$===void 0?nt:$>>0,st=tt<0?Math.max(nt+tt,0):Math.min(tt,nt);_<st;)ot[_]=at,_++;return ot}),Array.of||et(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(a,o,rt){a("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(a,o,rt){o.deepCopy=function et(at){if(typeof at!="object"||!at)return at;var ot;if(Array.isArray(at)){ot=[];for(var nt=0;nt<at.length;nt++)ot[nt]=et(at[nt]);return ot}if(Object.prototype.toString.call(at)!=="[object Object]")return at;ot={};for(var nt in at)ot[nt]=et(at[nt]);return ot}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(a,o,rt){o.last=function(ot){return ot[ot.length-1]},o.stringReverse=function(ot){return ot.split("").reverse().join("")},o.stringRepeat=function(ot,nt){for(var it="";nt>0;)nt&1&&(it+=ot),(nt>>=1)&&(ot+=ot);return it};var et=/^\s\s*/,at=/\s\s*$/;o.stringTrimLeft=function(ot){return ot.replace(et,"")},o.stringTrimRight=function(ot){return ot.replace(at,"")},o.copyObject=function(ot){var nt={};for(var it in ot)nt[it]=ot[it];return nt},o.copyArray=function(ot){for(var nt=[],it=0,j=ot.length;it<j;it++)ot[it]&&typeof ot[it]=="object"?nt[it]=this.copyObject(ot[it]):nt[it]=ot[it];return nt},o.deepCopy=a("./deep_copy").deepCopy,o.arrayToMap=function(ot){for(var nt={},it=0;it<ot.length;it++)nt[ot[it]]=1;return nt},o.createMap=function(ot){var nt=Object.create(null);for(var it in ot)nt[it]=ot[it];return nt},o.arrayRemove=function(ot,nt){for(var it=0;it<=ot.length;it++)nt===ot[it]&&ot.splice(it,1)},o.escapeRegExp=function(ot){return ot.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},o.escapeHTML=function(ot){return(""+ot).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},o.getMatchOffsets=function(ot,nt){var it=[];return ot.replace(nt,function(j){it.push({offset:arguments[arguments.length-2],length:j.length})}),it},o.deferredCall=function(ot){var nt=null,it=function(){nt=null,ot()},j=function(_){return j.cancel(),nt=setTimeout(it,_||0),j};return j.schedule=j,j.call=function(){return this.cancel(),ot(),j},j.cancel=function(){return clearTimeout(nt),nt=null,j},j.isPending=function(){return nt},j},o.delayedCall=function(ot,nt){var it=null,j=function(){it=null,ot()},_=function($){it==null&&(it=setTimeout(j,$||nt))};return _.delay=function($){it&&clearTimeout(it),it=setTimeout(j,$||nt)},_.schedule=_,_.call=function(){this.cancel(),ot()},_.cancel=function(){it&&clearTimeout(it),it=null},_.isPending=function(){return it},_},o.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},o.skipEmptyMatch=function(ot,nt,it){return it&&ot.codePointAt(nt)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(a,o,rt){o.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},o.getOS=function(){return o.isMac?o.OS.MAC:o.isLinux?o.OS.LINUX:o.OS.WINDOWS};var et=typeof navigator=="object"?navigator:{},at=(/mac|win|linux/i.exec(et.platform)||["other"])[0].toLowerCase(),ot=et.userAgent||"",nt=et.appName||"";o.isWin=at=="win",o.isMac=at=="mac",o.isLinux=at=="linux",o.isIE=nt=="Microsoft Internet Explorer"||nt.indexOf("MSAppHost")>=0?parseFloat((ot.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ot.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),o.isOldIE=o.isIE&&o.isIE<9,o.isGecko=o.isMozilla=ot.match(/ Gecko\/\d+/),o.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",o.isWebKit=parseFloat(ot.split("WebKit/")[1])||void 0,o.isChrome=parseFloat(ot.split(" Chrome/")[1])||void 0,o.isSafari=parseFloat(ot.split(" Safari/")[1])&&!o.isChrome||void 0,o.isEdge=parseFloat(ot.split(" Edge/")[1])||void 0,o.isAIR=ot.indexOf("AdobeAIR")>=0,o.isAndroid=ot.indexOf("Android")>=0,o.isChromeOS=ot.indexOf(" CrOS ")>=0,o.isIOS=/iPad|iPhone|iPod/.test(ot)&&!window.MSStream,o.isIOS&&(o.isMac=!0),o.isMobile=o.isIOS||o.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(a,o,rt){var et=a("./useragent"),at="http://www.w3.org/1999/xhtml";o.buildDom=function $(tt,st,lt){if(typeof tt=="string"&&tt){var ht=document.createTextNode(tt);return st&&st.appendChild(ht),ht}if(!Array.isArray(tt))return tt&&tt.appendChild&&st&&st.appendChild(tt),tt;if(typeof tt[0]!="string"||!tt[0]){for(var ft=[],ct=0;ct<tt.length;ct++){var mt=$(tt[ct],st,lt);mt&&ft.push(mt)}return ft}var gt=document.createElement(tt[0]),yt=tt[1],ut=1;yt&&typeof yt=="object"&&!Array.isArray(yt)&&(ut=2);for(var ct=ut;ct<tt.length;ct++)$(tt[ct],gt,lt);return ut==2&&Object.keys(yt).forEach(function(wt){var bt=yt[wt];wt==="class"?gt.className=Array.isArray(bt)?bt.join(" "):bt:typeof bt=="function"||wt=="value"||wt[0]=="$"?gt[wt]=bt:wt==="ref"?lt&&(lt[bt]=gt):wt==="style"?typeof bt=="string"&&(gt.style.cssText=bt):bt!=null&&gt.setAttribute(wt,bt)}),st&&st.appendChild(gt),gt},o.getDocumentHead=function($){return $||($=document),$.head||$.getElementsByTagName("head")[0]||$.documentElement},o.createElement=function($,tt){return document.createElementNS?document.createElementNS(tt||at,$):document.createElement($)},o.removeChildren=function($){$.innerHTML=""},o.createTextNode=function($,tt){var st=tt?tt.ownerDocument:document;return st.createTextNode($)},o.createFragment=function($){var tt=$?$.ownerDocument:document;return tt.createDocumentFragment()},o.hasCssClass=function($,tt){var st=($.className+"").split(/\s+/g);return st.indexOf(tt)!==-1},o.addCssClass=function($,tt){o.hasCssClass($,tt)||($.className+=" "+tt)},o.removeCssClass=function($,tt){for(var st=$.className.split(/\s+/g);;){var lt=st.indexOf(tt);if(lt==-1)break;st.splice(lt,1)}$.className=st.join(" ")},o.toggleCssClass=function($,tt){for(var st=$.className.split(/\s+/g),lt=!0;;){var ht=st.indexOf(tt);if(ht==-1)break;lt=!1,st.splice(ht,1)}return lt&&st.push(tt),$.className=st.join(" "),lt},o.setCssClass=function($,tt,st){st?o.addCssClass($,tt):o.removeCssClass($,tt)},o.hasCssString=function($,tt){var st=0,lt;if(tt=tt||document,lt=tt.querySelectorAll("style")){for(;st<lt.length;)if(lt[st++].id===$)return!0}},o.removeElementById=function($,tt){tt=tt||document,tt.getElementById($)&&tt.getElementById($).remove()};var ot,nt=[];o.useStrictCSP=function($){ot=$,$==!1?it():nt||(nt=[])};function it(){var $=nt;nt=null,$&&$.forEach(function(tt){j(tt[0],tt[1])})}function j($,tt,st){if(!(typeof document>"u")){if(nt){if(st)it();else if(st===!1)return nt.push([$,tt])}if(!ot){var lt=st;!st||!st.getRootNode?lt=document:(lt=st.getRootNode(),(!lt||lt==st)&&(lt=document));var ht=lt.ownerDocument||lt;if(tt&&o.hasCssString(tt,lt))return null;tt&&($+=`
/*# sourceURL=ace/css/`+tt+" */");var ft=o.createElement("style");ft.appendChild(ht.createTextNode($)),tt&&(ft.id=tt),lt==ht&&(lt=o.getDocumentHead(ht)),lt.insertBefore(ft,lt.firstChild)}}}if(o.importCssString=j,o.importCssStylsheet=function($,tt){o.buildDom(["link",{rel:"stylesheet",href:$}],o.getDocumentHead(tt))},o.scrollbarWidth=function($){var tt=o.createElement("ace_inner");tt.style.width="100%",tt.style.minWidth="0px",tt.style.height="200px",tt.style.display="block";var st=o.createElement("ace_outer"),lt=st.style;lt.position="absolute",lt.left="-10000px",lt.overflow="hidden",lt.width="200px",lt.minWidth="0px",lt.height="150px",lt.display="block",st.appendChild(tt);var ht=$&&$.documentElement||document&&document.documentElement;if(!ht)return 0;ht.appendChild(st);var ft=tt.offsetWidth;lt.overflow="scroll";var ct=tt.offsetWidth;return ft===ct&&(ct=st.clientWidth),ht.removeChild(st),ft-ct},o.computedStyle=function($,tt){return window.getComputedStyle($,"")||{}},o.setStyle=function($,tt,st){$[tt]!==st&&($[tt]=st)},o.HAS_CSS_ANIMATION=!1,o.HAS_CSS_TRANSFORMS=!1,o.HI_DPI=et.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,et.isChromeOS&&(o.HI_DPI=!1),typeof document<"u"){var _=document.createElement("div");o.HI_DPI&&_.style.transform!==void 0&&(o.HAS_CSS_TRANSFORMS=!0),!et.isEdge&&typeof _.style.animationName<"u"&&(o.HAS_CSS_ANIMATION=!0),_=null}o.HAS_CSS_TRANSFORMS?o.translate=function($,tt,st){$.style.transform="translate("+Math.round(tt)+"px, "+Math.round(st)+"px)"}:o.translate=function($,tt,st){$.style.top=Math.round(st)+"px",$.style.left=Math.round(tt)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(a,o,rt){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var et=a("./dom");o.get=function(at,ot){var nt=new XMLHttpRequest;nt.open("GET",at,!0),nt.onreadystatechange=function(){nt.readyState===4&&ot(nt.responseText)},nt.send(null)},o.loadScript=function(at,ot){var nt=et.getDocumentHead(),it=document.createElement("script");it.src=at,nt.appendChild(it),it.onload=it.onreadystatechange=function(j,_){(_||!it.readyState||it.readyState=="loaded"||it.readyState=="complete")&&(it=it.onload=it.onreadystatechange=null,_||ot())}},o.qualifyURL=function(at){var ot=document.createElement("a");return ot.href=at,ot.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(a,o,rt){o.inherits=function(et,at){et.super_=at,et.prototype=Object.create(at.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}})},o.mixin=function(et,at){for(var ot in at)et[ot]=at[ot];return et},o.implement=function(et,at){o.mixin(et,at)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(a,o,rt){var et={},at=function(){this.propagationStopped=!0},ot=function(){this.defaultPrevented=!0};et._emit=et._dispatchEvent=function(nt,it){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var j=this._eventRegistry[nt]||[],_=this._defaultHandlers[nt];if(!(!j.length&&!_)){(typeof it!="object"||!it)&&(it={}),it.type||(it.type=nt),it.stopPropagation||(it.stopPropagation=at),it.preventDefault||(it.preventDefault=ot),j=j.slice();for(var $=0;$<j.length&&(j[$](it,this),!it.propagationStopped);$++);if(_&&!it.defaultPrevented)return _(it,this)}},et._signal=function(nt,it){var j=(this._eventRegistry||{})[nt];if(j){j=j.slice();for(var _=0;_<j.length;_++)j[_](it,this)}},et.once=function(nt,it){var j=this;if(this.on(nt,function _(){j.off(nt,_),it.apply(null,arguments)}),!it)return new Promise(function(_){it=_})},et.setDefaultHandler=function(nt,it){var j=this._defaultHandlers;if(j||(j=this._defaultHandlers={_disabled_:{}}),j[nt]){var _=j[nt],$=j._disabled_[nt];$||(j._disabled_[nt]=$=[]),$.push(_);var tt=$.indexOf(it);tt!=-1&&$.splice(tt,1)}j[nt]=it},et.removeDefaultHandler=function(nt,it){var j=this._defaultHandlers;if(j){var _=j._disabled_[nt];if(j[nt]==it)_&&this.setDefaultHandler(nt,_.pop());else if(_){var $=_.indexOf(it);$!=-1&&_.splice($,1)}}},et.on=et.addEventListener=function(nt,it,j){this._eventRegistry=this._eventRegistry||{};var _=this._eventRegistry[nt];return _||(_=this._eventRegistry[nt]=[]),_.indexOf(it)==-1&&_[j?"unshift":"push"](it),it},et.off=et.removeListener=et.removeEventListener=function(nt,it){this._eventRegistry=this._eventRegistry||{};var j=this._eventRegistry[nt];if(j){var _=j.indexOf(it);_!==-1&&j.splice(_,1)}},et.removeAllListeners=function(nt){nt||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[nt]=void 0),this._defaultHandlers&&(this._defaultHandlers[nt]=void 0)},o.EventEmitter=et}),ace.define("ace/lib/report_error",["require","exports","module"],function(a,o,rt){o.reportError=function(at,ot){var nt=new Error(at);nt.data=ot,typeof console=="object"&&console.error&&console.error(nt),setTimeout(function(){throw nt})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(a,o,rt){var et={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};o.defaultEnglishMessages=et}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(a,o,rt){"no use strict";var et=a("./oop"),at=a("./event_emitter").EventEmitter,ot=a("./report_error").reportError,nt=a("./default_english_messages").defaultEnglishMessages,it={setOptions:function(st){Object.keys(st).forEach(function(lt){this.setOption(lt,st[lt])},this)},getOptions:function(st){var lt={};if(st)Array.isArray(st)||(lt=st,st=Object.keys(lt));else{var ht=this.$options;st=Object.keys(ht).filter(function(ft){return!ht[ft].hidden})}return st.forEach(function(ft){lt[ft]=this.getOption(ft)},this),lt},setOption:function(st,lt){if(this["$"+st]!==lt){var ht=this.$options[st];if(!ht)return j('misspelled option "'+st+'"');if(ht.forwardTo)return this[ht.forwardTo]&&this[ht.forwardTo].setOption(st,lt);ht.handlesSet||(this["$"+st]=lt),ht&&ht.set&&ht.set.call(this,lt)}},getOption:function(st){var lt=this.$options[st];return lt?lt.forwardTo?this[lt.forwardTo]&&this[lt.forwardTo].getOption(st):lt&&lt.get?lt.get.call(this):this["$"+st]:j('misspelled option "'+st+'"')}};function j(st){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var _,$,tt=function(){function st(){this.$defaultOptions={},_=nt,$="dollarSigns"}return st.prototype.defineOptions=function(lt,ht,ft){return lt.$options||(this.$defaultOptions[ht]=lt.$options={}),Object.keys(ft).forEach(function(ct){var mt=ft[ct];typeof mt=="string"&&(mt={forwardTo:mt}),mt.name||(mt.name=ct),lt.$options[mt.name]=mt,"initialValue"in mt&&(lt["$"+mt.name]=mt.initialValue)}),et.implement(lt,it),this},st.prototype.resetOptions=function(lt){Object.keys(lt.$options).forEach(function(ht){var ft=lt.$options[ht];"value"in ft&&lt.setOption(ht,ft.value)})},st.prototype.setDefaultValue=function(lt,ht,ft){if(!lt){for(lt in this.$defaultOptions)if(this.$defaultOptions[lt][ht])break;if(!this.$defaultOptions[lt][ht])return!1}var ct=this.$defaultOptions[lt]||(this.$defaultOptions[lt]={});ct[ht]&&(ct.forwardTo?this.setDefaultValue(ct.forwardTo,ht,ft):ct[ht].value=ft)},st.prototype.setDefaultValues=function(lt,ht){Object.keys(ht).forEach(function(ft){this.setDefaultValue(lt,ft,ht[ft])},this)},st.prototype.setMessages=function(lt,ht){_=lt,ht&&ht.placeholders&&($=ht.placeholders)},st.prototype.nls=function(lt,ht,ft){_[lt]||(j("No message found for the key '"+lt+"' in the provided messages, trying to find a translation for the default string '"+ht+"'."),_[ht]||j("No message found for the default string '"+ht+"' in the provided messages. Falling back to the default English message."));var ct=_[lt]||_[ht]||ht;return ft&&($==="dollarSigns"&&(ct=ct.replace(/\$(\$|[\d]+)/g,function(mt,gt){return gt=="$"?"$":ft[gt]})),$==="curlyBrackets"&&(ct=ct.replace(/\{([^\}]+)\}/g,function(mt,gt){return ft[gt]}))),ct},st}();tt.prototype.warn=j,tt.prototype.reportError=ot,et.implement(tt.prototype,at),o.AppConfig=tt}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(a,o,rt){rt.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(a,o,rt){o.isDark=!1,o.cssClass="ace-tm",o.cssText=a("./textmate-css"),o.$id="ace/theme/textmate";var et=a("../lib/dom");et.importCssString(o.cssText,o.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(a,o,rt){"no use strict";var et=a("./lib/lang"),at=a("./lib/net"),ot=a("./lib/dom"),nt=a("./lib/app_config").AppConfig;rt.exports=o=new nt;var it={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};o.get=function(tt){if(!it.hasOwnProperty(tt))throw new Error("Unknown config key: "+tt);return it[tt]},o.set=function(tt,st){if(it.hasOwnProperty(tt))it[tt]=st;else if(this.setDefaultValue("",tt,st)==!1)throw new Error("Unknown config key: "+tt);tt=="useStrictCSP"&&ot.useStrictCSP(st)},o.all=function(){return et.copyObject(it)},o.$modes={},o.moduleUrl=function(tt,st){if(it.$moduleUrls[tt])return it.$moduleUrls[tt];var lt=tt.split("/");st=st||lt[lt.length-2]||"";var ht=st=="snippets"?"/":"-",ft=lt[lt.length-1];if(st=="worker"&&ht=="-"){var ct=new RegExp("^"+st+"[\\-_]|[\\-_]"+st+"$","g");ft=ft.replace(ct,"")}(!ft||ft==st)&&lt.length>1&&(ft=lt[lt.length-2]);var mt=it[st+"Path"];return mt==null?mt=it.basePath:ht=="/"&&(st=ht=""),mt&&mt.slice(-1)!="/"&&(mt+="/"),mt+st+ht+ft+this.get("suffix")},o.setModuleUrl=function(tt,st){return it.$moduleUrls[tt]=st};var j=function(tt,st){if(tt==="ace/theme/textmate"||tt==="./theme/textmate")return st(null,a("./theme/textmate"));if(_)return _(tt,st);console.error("loader is not configured")},_;o.setLoader=function(tt){_=tt},o.dynamicModules=Object.create(null),o.$loading={},o.$loaded={},o.loadModule=function(tt,st){var lt;if(Array.isArray(tt))var ht=tt[0],ft=tt[1];else if(typeof tt=="string")var ft=tt;var ct=function(mt){if(mt&&!o.$loading[ft])return st&&st(mt);if(o.$loading[ft]||(o.$loading[ft]=[]),o.$loading[ft].push(st),!(o.$loading[ft].length>1)){var gt=function(){j(ft,function(yt,ut){ut&&(o.$loaded[ft]=ut),o._emit("load.module",{name:ft,module:ut});var wt=o.$loading[ft];o.$loading[ft]=null,wt.forEach(function(bt){bt&&bt(ut)})})};if(!o.get("packaged"))return gt();at.loadScript(o.moduleUrl(ft,ht),gt),$()}};if(o.dynamicModules[ft])o.dynamicModules[ft]().then(function(mt){mt.default?ct(mt.default):ct(mt)});else{try{lt=this.$require(ft)}catch{}ct(lt||o.$loaded[ft])}},o.$require=function(tt){if(typeof rt.require=="function"){var st="require";return rt[st](tt)}},o.setModuleLoader=function(tt,st){o.dynamicModules[tt]=st};var $=function(){!it.basePath&&!it.workerPath&&!it.modePath&&!it.themePath&&!Object.keys(it.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),$=function(){})};o.version="1.36.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(a,o,rt){a("./lib/fixoldbrowsers");var et=a("./config");et.setLoader(function(it,j){a([it],function(_){j(null,_)})});var at=function(){return this||typeof window<"u"&&window}();rt.exports=function(it){et.init=ot,et.$require=a,it.require=a},ot(!0);function ot(it){if(!(!at||!at.document)){et.set("packaged",it||a.packaged||rt.packaged||at.define&&(void 0).packaged);var j={},_="",$=document.currentScript||document._currentScript,tt=$&&$.ownerDocument||document;$&&$.src&&(_=$.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var st=tt.getElementsByTagName("script"),lt=0;lt<st.length;lt++){var ht=st[lt],ft=ht.src||ht.getAttribute("src");if(ft){for(var ct=ht.attributes,mt=0,gt=ct.length;mt<gt;mt++){var yt=ct[mt];yt.name.indexOf("data-ace-")===0&&(j[nt(yt.name.replace(/^data-ace-/,""))]=yt.value)}var ut=ft.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);ut&&(_=ut[1])}}_&&(j.base=j.base||_,j.packaged=!0),j.basePath=j.base,j.workerPath=j.workerPath||j.base,j.modePath=j.modePath||j.base,j.themePath=j.themePath||j.base,delete j.base;for(var wt in j)typeof j[wt]<"u"&&et.set(wt,j[wt])}}function nt(it){return it.replace(/-(.)/g,function(j,_){return _.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(a,o,rt){var et=function(){function at(ot,nt,it,j){this.start={row:ot,column:nt},this.end={row:it,column:j}}return at.prototype.isEqual=function(ot){return this.start.row===ot.start.row&&this.end.row===ot.end.row&&this.start.column===ot.start.column&&this.end.column===ot.end.column},at.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},at.prototype.contains=function(ot,nt){return this.compare(ot,nt)==0},at.prototype.compareRange=function(ot){var nt,it=ot.end,j=ot.start;return nt=this.compare(it.row,it.column),nt==1?(nt=this.compare(j.row,j.column),nt==1?2:nt==0?1:0):nt==-1?-2:(nt=this.compare(j.row,j.column),nt==-1?-1:nt==1?42:0)},at.prototype.comparePoint=function(ot){return this.compare(ot.row,ot.column)},at.prototype.containsRange=function(ot){return this.comparePoint(ot.start)==0&&this.comparePoint(ot.end)==0},at.prototype.intersects=function(ot){var nt=this.compareRange(ot);return nt==-1||nt==0||nt==1},at.prototype.isEnd=function(ot,nt){return this.end.row==ot&&this.end.column==nt},at.prototype.isStart=function(ot,nt){return this.start.row==ot&&this.start.column==nt},at.prototype.setStart=function(ot,nt){typeof ot=="object"?(this.start.column=ot.column,this.start.row=ot.row):(this.start.row=ot,this.start.column=nt)},at.prototype.setEnd=function(ot,nt){typeof ot=="object"?(this.end.column=ot.column,this.end.row=ot.row):(this.end.row=ot,this.end.column=nt)},at.prototype.inside=function(ot,nt){return this.compare(ot,nt)==0?!(this.isEnd(ot,nt)||this.isStart(ot,nt)):!1},at.prototype.insideStart=function(ot,nt){return this.compare(ot,nt)==0?!this.isEnd(ot,nt):!1},at.prototype.insideEnd=function(ot,nt){return this.compare(ot,nt)==0?!this.isStart(ot,nt):!1},at.prototype.compare=function(ot,nt){return!this.isMultiLine()&&ot===this.start.row?nt<this.start.column?-1:nt>this.end.column?1:0:ot<this.start.row?-1:ot>this.end.row?1:this.start.row===ot?nt>=this.start.column?0:-1:this.end.row===ot?nt<=this.end.column?0:1:0},at.prototype.compareStart=function(ot,nt){return this.start.row==ot&&this.start.column==nt?-1:this.compare(ot,nt)},at.prototype.compareEnd=function(ot,nt){return this.end.row==ot&&this.end.column==nt?1:this.compare(ot,nt)},at.prototype.compareInside=function(ot,nt){return this.end.row==ot&&this.end.column==nt?1:this.start.row==ot&&this.start.column==nt?-1:this.compare(ot,nt)},at.prototype.clipRows=function(ot,nt){if(this.end.row>nt)var it={row:nt+1,column:0};else if(this.end.row<ot)var it={row:ot,column:0};if(this.start.row>nt)var j={row:nt+1,column:0};else if(this.start.row<ot)var j={row:ot,column:0};return at.fromPoints(j||this.start,it||this.end)},at.prototype.extend=function(ot,nt){var it=this.compare(ot,nt);if(it==0)return this;if(it==-1)var j={row:ot,column:nt};else var _={row:ot,column:nt};return at.fromPoints(j||this.start,_||this.end)},at.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},at.prototype.isMultiLine=function(){return this.start.row!==this.end.row},at.prototype.clone=function(){return at.fromPoints(this.start,this.end)},at.prototype.collapseRows=function(){return this.end.column==0?new at(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new at(this.start.row,0,this.end.row,0)},at.prototype.toScreenRange=function(ot){var nt=ot.documentToScreenPosition(this.start),it=ot.documentToScreenPosition(this.end);return new at(nt.row,nt.column,it.row,it.column)},at.prototype.moveBy=function(ot,nt){this.start.row+=ot,this.start.column+=nt,this.end.row+=ot,this.end.column+=nt},at}();et.fromPoints=function(at,ot){return new et(at.row,at.column,ot.row,ot.column)},et.comparePoints=function(at,ot){return at.row-ot.row||at.column-ot.column},o.Range=et}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(a,o,rt){for(var et=a("./oop"),at={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},ot={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},nt=0;nt<10;nt++)ot["Digit"+nt]=48+nt,ot["Numpad"+nt]=96+nt,at.PRINTABLE_KEYS[48+nt]=""+nt,at.FUNCTION_KEYS[96+nt]="Numpad"+nt;for(var nt=65;nt<91;nt++){var it=String.fromCharCode(nt+32);ot["Key"+it.toUpperCase()]=nt,at.PRINTABLE_KEYS[nt]=it}for(var nt=1;nt<13;nt++)ot["F"+nt]=111+nt,at.FUNCTION_KEYS[111+nt]="F"+nt;var j={Shift:16,Control:17,Alt:18,Meta:224};for(var _ in j)ot[_]=ot[_+"Left"]=ot[_+"Right"]=j[_];o.$codeToKeyCode=ot,at.PRINTABLE_KEYS[173]="-";for(var $ in at.FUNCTION_KEYS){var tt=at.FUNCTION_KEYS[$].toLowerCase();at[tt]=parseInt($,10)}for(var $ in at.PRINTABLE_KEYS){var tt=at.PRINTABLE_KEYS[$].toLowerCase();at[tt]=parseInt($,10)}et.mixin(at,at.MODIFIER_KEYS),et.mixin(at,at.PRINTABLE_KEYS),et.mixin(at,at.FUNCTION_KEYS),at.enter=at.return,at.escape=at.esc,at.del=at.delete,function(){for(var st=["cmd","ctrl","alt","shift"],lt=Math.pow(2,st.length);lt--;)at.KEY_MODS[lt]=st.filter(function(ht){return lt&at.KEY_MODS[ht]}).join("-")+"-"}(),at.KEY_MODS[0]="",at.KEY_MODS[-1]="input-",et.mixin(o,at),o.default=o,o.keyCodeToString=function(st){var lt=at[st];return typeof lt!="string"&&(lt=String.fromCharCode(st)),lt.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(a,o,rt){var et=a("./keys"),at=a("./useragent"),ot=null,nt=0,it;function j(){it=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return it={passive:!1},!0}})}catch{}}function _(){return it==null&&j(),it}function $(mt,gt,yt){this.elem=mt,this.type=gt,this.callback=yt}$.prototype.destroy=function(){st(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var tt=o.addListener=function(mt,gt,yt,ut){mt.addEventListener(gt,yt,_()),ut&&ut.$toDestroy.push(new $(mt,gt,yt))},st=o.removeListener=function(mt,gt,yt){mt.removeEventListener(gt,yt,_())};o.stopEvent=function(mt){return o.stopPropagation(mt),o.preventDefault(mt),!1},o.stopPropagation=function(mt){mt.stopPropagation&&mt.stopPropagation()},o.preventDefault=function(mt){mt.preventDefault&&mt.preventDefault()},o.getButton=function(mt){return mt.type=="dblclick"?0:mt.type=="contextmenu"||at.isMac&&mt.ctrlKey&&!mt.altKey&&!mt.shiftKey?2:mt.button},o.capture=function(mt,gt,yt){var ut=mt&&mt.ownerDocument||document;function wt(bt){gt&&gt(bt),yt&&yt(bt),st(ut,"mousemove",gt),st(ut,"mouseup",wt),st(ut,"dragstart",wt)}return tt(ut,"mousemove",gt),tt(ut,"mouseup",wt),tt(ut,"dragstart",wt),wt},o.addMouseWheelListener=function(mt,gt,yt){tt(mt,"wheel",function(ut){var wt=.15,bt=ut.deltaX||0,vt=ut.deltaY||0;switch(ut.deltaMode){case ut.DOM_DELTA_PIXEL:ut.wheelX=bt*wt,ut.wheelY=vt*wt;break;case ut.DOM_DELTA_LINE:var Et=15;ut.wheelX=bt*Et,ut.wheelY=vt*Et;break;case ut.DOM_DELTA_PAGE:var $t=150;ut.wheelX=bt*$t,ut.wheelY=vt*$t;break}gt(ut)},yt)},o.addMultiMouseDownListener=function(mt,gt,yt,ut,wt){var bt=0,vt,Et,$t,Tt={2:"dblclick",3:"tripleclick",4:"quadclick"};function At(Ct){if(o.getButton(Ct)!==0?bt=0:Ct.detail>1?(bt++,bt>4&&(bt=1)):bt=1,at.isIE){var It=Math.abs(Ct.clientX-vt)>5||Math.abs(Ct.clientY-Et)>5;(!$t||It)&&(bt=1),$t&&clearTimeout($t),$t=setTimeout(function(){$t=null},gt[bt-1]||600),bt==1&&(vt=Ct.clientX,Et=Ct.clientY)}if(Ct._clicks=bt,yt[ut]("mousedown",Ct),bt>4)bt=0;else if(bt>1)return yt[ut](Tt[bt],Ct)}Array.isArray(mt)||(mt=[mt]),mt.forEach(function(Ct){tt(Ct,"mousedown",At,wt)})};function lt(mt){return 0|(mt.ctrlKey?1:0)|(mt.altKey?2:0)|(mt.shiftKey?4:0)|(mt.metaKey?8:0)}o.getModifierString=function(mt){return et.KEY_MODS[lt(mt)]};function ht(mt,gt,yt){var ut=lt(gt);if(!yt&&gt.code&&(yt=et.$codeToKeyCode[gt.code]||yt),!at.isMac&&ot){if(gt.getModifierState&&(gt.getModifierState("OS")||gt.getModifierState("Win"))&&(ut|=8),ot.altGr)if((3&ut)!=3)ot.altGr=0;else return;if(yt===18||yt===17){var wt=gt.location;if(yt===17&&wt===1)ot[yt]==1&&(nt=gt.timeStamp);else if(yt===18&&ut===3&&wt===2){var bt=gt.timeStamp-nt;bt<50&&(ot.altGr=!0)}}}if(yt in et.MODIFIER_KEYS&&(yt=-1),!(!ut&&yt===13&&gt.location===3&&(mt(gt,ut,-yt),gt.defaultPrevented))){if(at.isChromeOS&&ut&8){if(mt(gt,ut,yt),gt.defaultPrevented)return;ut&=-9}return!ut&&!(yt in et.FUNCTION_KEYS)&&!(yt in et.PRINTABLE_KEYS)?!1:mt(gt,ut,yt)}}o.addCommandKeyListener=function(mt,gt,yt){var ut=null;tt(mt,"keydown",function(wt){ot[wt.keyCode]=(ot[wt.keyCode]||0)+1;var bt=ht(gt,wt,wt.keyCode);return ut=wt.defaultPrevented,bt},yt),tt(mt,"keypress",function(wt){ut&&(wt.ctrlKey||wt.altKey||wt.shiftKey||wt.metaKey)&&(o.stopEvent(wt),ut=null)},yt),tt(mt,"keyup",function(wt){ot[wt.keyCode]=null},yt),ot||(ft(),tt(window,"focus",ft))};function ft(){ot=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!at.isOldIE){var ct=1;o.nextTick=function(mt,gt){gt=gt||window;var yt="zero-timeout-message-"+ct++,ut=function(wt){wt.data==yt&&(o.stopPropagation(wt),st(gt,"message",ut),mt())};tt(gt,"message",ut),gt.postMessage(yt,"*")}}o.$idleBlocked=!1,o.onIdle=function(mt,gt){return setTimeout(function yt(){o.$idleBlocked?setTimeout(yt,100):mt()},gt)},o.$idleBlockId=null,o.blockIdle=function(mt){o.$idleBlockId&&clearTimeout(o.$idleBlockId),o.$idleBlocked=!0,o.$idleBlockId=setTimeout(function(){o.$idleBlocked=!1},mt||100)},o.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),o.nextFrame?o.nextFrame=o.nextFrame.bind(window):o.nextFrame=function(mt){setTimeout(mt,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(a,o,rt){var et;rt.exports={lineMode:!1,pasteCancelled:function(){return et&&et>Date.now()-50?!0:et=!1},cancel:function(){et=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(a,o,rt){var et=a("../lib/event"),at=a("../config").nls,ot=a("../lib/useragent"),nt=a("../lib/dom"),it=a("../lib/lang"),j=a("../clipboard"),_=ot.isChrome<18,$=ot.isIE,tt=ot.isChrome>63,st=400,lt=a("../lib/keys"),ht=lt.KEY_MODS,ft=ot.isIOS,ct=ft?/\s/:/\n/,mt=ot.isMobile,gt;gt=function(yt,ut){var wt=nt.createElement("textarea");wt.className="ace_text-input",wt.setAttribute("wrap","off"),wt.setAttribute("autocorrect","off"),wt.setAttribute("autocapitalize","off"),wt.setAttribute("spellcheck","false"),wt.style.opacity="0",yt.insertBefore(wt,yt.firstChild);var bt=!1,vt=!1,Et=!1,$t=!1,Tt="";mt||(wt.style.fontSize="1px");var At=!1,Ct=!1,It="",Lt=0,Ft=0,Dt=0,Vt=Number.MAX_SAFE_INTEGER,Ut=Number.MIN_SAFE_INTEGER,Qt=0;try{var Kt=document.activeElement===wt}catch{}this.setNumberOfExtraLines=function(Tr){if(Vt=Number.MAX_SAFE_INTEGER,Ut=Number.MIN_SAFE_INTEGER,Tr<0){Qt=0;return}Qt=Tr},this.setAriaOptions=function(Tr){if(Tr.activeDescendant?(wt.setAttribute("aria-haspopup","true"),wt.setAttribute("aria-autocomplete",Tr.inline?"both":"list"),wt.setAttribute("aria-activedescendant",Tr.activeDescendant)):(wt.setAttribute("aria-haspopup","false"),wt.setAttribute("aria-autocomplete","both"),wt.removeAttribute("aria-activedescendant")),Tr.role&&wt.setAttribute("role",Tr.role),Tr.setLabel){wt.setAttribute("aria-roledescription",at("text-input.aria-roledescription","editor"));var Br="";if(ut.$textInputAriaLabel&&(Br+="".concat(ut.$textInputAriaLabel,", ")),ut.session){var Ar=ut.session.selection.cursor.row;Br+=at("text-input.aria-label","Cursor at row $0",[Ar+1])}wt.setAttribute("aria-label",Br)}},this.setAriaOptions({role:"textbox"}),et.addListener(wt,"blur",function(Tr){Ct||(ut.onBlur(Tr),Kt=!1)},ut),et.addListener(wt,"focus",function(Tr){if(!Ct){if(Kt=!0,ot.isEdge)try{if(!document.hasFocus())return}catch{}ut.onFocus(Tr),ot.isEdge?setTimeout(qt):qt()}},ut),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:ut.renderer.enableKeyboardAccessibility}),Tt||tt||this.$focusScroll=="browser")return wt.focus({preventScroll:!0});var Tr=wt.style.top;wt.style.position="fixed",wt.style.top="0px";try{var Br=wt.getBoundingClientRect().top!=0}catch{return}var Ar=[];if(Br)for(var fn=wt.parentElement;fn&&fn.nodeType==1;)Ar.push(fn),fn.setAttribute("ace_nocontext","true"),!fn.parentElement&&fn.getRootNode?fn=fn.getRootNode().host:fn=fn.parentElement;wt.focus({preventScroll:!0}),Br&&Ar.forEach(function(er){er.removeAttribute("ace_nocontext")}),setTimeout(function(){wt.style.position="",wt.style.top=="0px"&&(wt.style.top=Tr)},0)},this.blur=function(){wt.blur()},this.isFocused=function(){return Kt},ut.on("beforeEndOperation",function(){var Tr=ut.curOp,Br=Tr&&Tr.command&&Tr.command.name;if(Br!="insertstring"){var Ar=Br&&(Tr.docChanged||Tr.selectionChanged);Et&&Ar&&(It=wt.value="",an()),qt()}});var Ht=function(Tr,Br){for(var Ar=Br,fn=1;fn<=Tr-Vt&&fn<2*Qt+1;fn++)Ar+=ut.session.getLine(Tr-fn).length+1;return Ar},qt=ft?function(Tr){if(!(!Kt||bt&&!Tr||$t)){Tr||(Tr="");var Br=`
 ab`+Tr+`cde fg
`;Br!=wt.value&&(wt.value=It=Br);var Ar=4,fn=4+(Tr.length||(ut.selection.isEmpty()?0:1));(Lt!=Ar||Ft!=fn)&&wt.setSelectionRange(Ar,fn),Lt=Ar,Ft=fn}}:function(){if(!(Et||$t)&&!(!Kt&&!yr)){Et=!0;var Tr=0,Br=0,Ar="";if(ut.session){var fn=ut.selection,er=fn.getRange(),Yt=fn.cursor.row;Yt===Ut+1?(Vt=Ut+1,Ut=Vt+2*Qt):Yt===Vt-1?(Ut=Vt-1,Vt=Ut-2*Qt):(Yt<Vt-1||Yt>Ut+1)&&(Vt=Yt>Qt?Yt-Qt:0,Ut=Yt>Qt?Yt+Qt:2*Qt);for(var fr=[],Dr=Vt;Dr<=Ut;Dr++)fr.push(ut.session.getLine(Dr));if(Ar=fr.join(`
`),Tr=Ht(er.start.row,er.start.column),Br=Ht(er.end.row,er.end.column),er.start.row<Vt){var Ur=ut.session.getLine(Vt-1);Tr=er.start.row<Vt-1?0:Tr,Br+=Ur.length+1,Ar=Ur+`
`+Ar}else if(er.end.row>Ut){var $r=ut.session.getLine(Ut+1);Br=er.end.row>Ut+1?$r.length:er.end.column,Br+=Ar.length+1,Ar=Ar+`
`+$r}else mt&&Yt>0&&(Ar=`
`+Ar,Br+=1,Tr+=1);Ar.length>st&&(Tr<st&&Br<st?Ar=Ar.slice(0,st):(Ar=`
`,Tr==Br?Tr=Br=0:(Tr=0,Br=1)));var Ir=Ar+`

`;Ir!=It&&(wt.value=It=Ir,Lt=Ft=Ir.length)}if(yr&&(Lt=wt.selectionStart,Ft=wt.selectionEnd),Ft!=Br||Lt!=Tr||wt.selectionEnd!=Ft)try{wt.setSelectionRange(Tr,Br),Lt=Tr,Ft=Br}catch{}Et=!1}};this.resetSelection=qt,Kt&&ut.onFocus();var nr=function(Tr){return Tr.selectionStart===0&&Tr.selectionEnd>=It.length&&Tr.value===It&&It&&Tr.selectionEnd!==Ft},tr=function(Tr){Et||(bt?bt=!1:nr(wt)?(ut.selectAll(),qt()):mt&&wt.selectionStart!=Lt&&qt())},mr=null;this.setInputHandler=function(Tr){mr=Tr},this.getInputHandler=function(){return mr};var yr=!1,br=function(Tr,Br){if(yr&&(yr=!1),vt)return qt(),Tr&&ut.onPaste(Tr),vt=!1,"";for(var Ar=wt.selectionStart,fn=wt.selectionEnd,er=Lt,Yt=It.length-Ft,fr=Tr,Dr=Tr.length-Ar,Ur=Tr.length-fn,$r=0;er>0&&It[$r]==Tr[$r];)$r++,er--;for(fr=fr.slice($r),$r=1;Yt>0&&It.length-$r>Lt-1&&It[It.length-$r]==Tr[Tr.length-$r];)$r++,Yt--;Dr-=$r-1,Ur-=$r-1;var Ir=fr.length-$r+1;if(Ir<0&&(er=-Ir,Ir=0),fr=fr.slice(0,Ir),!Br&&!fr&&!Dr&&!er&&!Yt&&!Ur)return"";$t=!0;var Xr=!1;return ot.isAndroid&&fr==". "&&(fr="  ",Xr=!0),fr&&!er&&!Yt&&!Dr&&!Ur||At?ut.onTextInput(fr):ut.onTextInput(fr,{extendLeft:er,extendRight:Yt,restoreStart:Dr,restoreEnd:Ur}),$t=!1,It=Tr,Lt=Ar,Ft=fn,Dt=Ur,Xr?`
`:fr},xr=function(Tr){if(Et)return Gr();if(Tr&&Tr.inputType){if(Tr.inputType=="historyUndo")return ut.execCommand("undo");if(Tr.inputType=="historyRedo")return ut.execCommand("redo")}var Br=wt.value,Ar=br(Br,!0);(Br.length>st+100||ct.test(Ar)||mt&&Lt<1&&Lt==Ft)&&qt()},sr=function(Tr,Br,Ar){var fn=Tr.clipboardData||window.clipboardData;if(!(!fn||_)){var er=$||Ar?"Text":"text/plain";try{return Br?fn.setData(er,Br)!==!1:fn.getData(er)}catch(Yt){if(!Ar)return sr(Yt,Br,!0)}}},ar=function(Tr,Br){var Ar=ut.getCopyText();if(!Ar)return et.preventDefault(Tr);sr(Tr,Ar)?(ft&&(qt(Ar),bt=Ar,setTimeout(function(){bt=!1},10)),Br?ut.onCut():ut.onCopy(),et.preventDefault(Tr)):(bt=!0,wt.value=Ar,wt.select(),setTimeout(function(){bt=!1,qt(),Br?ut.onCut():ut.onCopy()}))},rr=function(Tr){ar(Tr,!0)},Cr=function(Tr){ar(Tr,!1)},kr=function(Tr){var Br=sr(Tr);j.pasteCancelled()||(typeof Br=="string"?(Br&&ut.onPaste(Br,Tr),ot.isIE&&setTimeout(qt),et.preventDefault(Tr)):(wt.value="",vt=!0))};et.addCommandKeyListener(wt,function(Tr,Br,Ar){if(!Et)return ut.onCommandKey(Tr,Br,Ar)},ut),et.addListener(wt,"select",tr,ut),et.addListener(wt,"input",xr,ut),et.addListener(wt,"cut",rr,ut),et.addListener(wt,"copy",Cr,ut),et.addListener(wt,"paste",kr,ut),(!("oncut"in wt)||!("oncopy"in wt)||!("onpaste"in wt))&&et.addListener(yt,"keydown",function(Tr){if(!(ot.isMac&&!Tr.metaKey||!Tr.ctrlKey))switch(Tr.keyCode){case 67:Cr(Tr);break;case 86:kr(Tr);break;case 88:rr(Tr);break}},ut);var vr=function(Tr){if(!(Et||!ut.onCompositionStart||ut.$readOnly)&&(Et={},!At)){Tr.data&&(Et.useTextareaForIME=!1),setTimeout(Gr,0),ut._signal("compositionStart"),ut.on("mousedown",hn);var Br=ut.getSelectionRange();Br.end.row=Br.start.row,Br.end.column=Br.start.column,Et.markerRange=Br,Et.selectionStart=Lt,ut.onCompositionStart(Et),Et.useTextareaForIME?(It=wt.value="",Lt=0,Ft=0):(wt.msGetInputContext&&(Et.context=wt.msGetInputContext()),wt.getInputContext&&(Et.context=wt.getInputContext()))}},Gr=function(){if(!(!Et||!ut.onCompositionUpdate||ut.$readOnly)){if(At)return hn();if(Et.useTextareaForIME)ut.onCompositionUpdate(wt.value);else{var Tr=wt.value;br(Tr),Et.markerRange&&(Et.context&&(Et.markerRange.start.column=Et.selectionStart=Et.context.compositionStartOffset),Et.markerRange.end.column=Et.markerRange.start.column+Ft-Et.selectionStart+Dt)}}},an=function(Tr){!ut.onCompositionEnd||ut.$readOnly||(Et=!1,ut.onCompositionEnd(),ut.off("mousedown",hn),Tr&&xr())};function hn(){Ct=!0,wt.blur(),wt.focus(),Ct=!1}var Mn=it.delayedCall(Gr,50).schedule.bind(null,null);function Bn(Tr){Tr.keyCode==27&&wt.value.length<wt.selectionStart&&(Et||(It=wt.value),Lt=Ft=-1,qt()),Mn()}et.addListener(wt,"compositionstart",vr,ut),et.addListener(wt,"compositionupdate",Gr,ut),et.addListener(wt,"keyup",Bn,ut),et.addListener(wt,"keydown",Mn,ut),et.addListener(wt,"compositionend",an,ut),this.getElement=function(){return wt},this.setCommandMode=function(Tr){At=Tr,wt.readOnly=!1},this.setReadOnly=function(Tr){At||(wt.readOnly=Tr)},this.setCopyWithEmptySelection=function(Tr){},this.onContextMenu=function(Tr){yr=!0,qt(),ut._emit("nativecontextmenu",{target:ut,domEvent:Tr}),this.moveToMouse(Tr,!0)},this.moveToMouse=function(Tr,Br){Tt||(Tt=wt.style.cssText),wt.style.cssText=(Br?"z-index:100000;":"")+(ot.isIE?"opacity:0.1;":"")+"text-indent: -"+(Lt+Ft)*ut.renderer.characterWidth*.5+"px;";var Ar=ut.container.getBoundingClientRect(),fn=nt.computedStyle(ut.container),er=Ar.top+(parseInt(fn.borderTopWidth)||0),Yt=Ar.left+(parseInt(Ar.borderLeftWidth)||0),fr=Ar.bottom-er-wt.clientHeight-2,Dr=function(Ur){nt.translate(wt,Ur.clientX-Yt-2,Math.min(Ur.clientY-er-2,fr))};Dr(Tr),Tr.type=="mousedown"&&(ut.renderer.$isMousePressed=!0,clearTimeout(An),ot.isWin&&et.capture(ut.container,Dr,dn))},this.onContextMenuClose=dn;var An;function dn(){clearTimeout(An),An=setTimeout(function(){Tt&&(wt.style.cssText=Tt,Tt=""),ut.renderer.$isMousePressed=!1,ut.renderer.$keepTextAreaAtCursor&&ut.renderer.$moveTextAreaToCursor()},0)}var Yn=function(Tr){ut.textInput.onContextMenu(Tr),dn()};et.addListener(wt,"mouseup",Yn,ut),et.addListener(wt,"mousedown",function(Tr){Tr.preventDefault(),dn()},ut),et.addListener(ut.renderer.scroller,"contextmenu",Yn,ut),et.addListener(wt,"contextmenu",Yn,ut),ft&&Dn(yt,ut,wt);function Dn(Tr,Br,Ar){var fn=null,er=!1;Ar.addEventListener("keydown",function(fr){fn&&clearTimeout(fn),er=!0},!0),Ar.addEventListener("keyup",function(fr){fn=setTimeout(function(){er=!1},100)},!0);var Yt=function(fr){if(document.activeElement===Ar&&!(er||Et||Br.$mouseHandler.isMousePressed)&&!bt){var Dr=Ar.selectionStart,Ur=Ar.selectionEnd,$r=null,Ir=0;if(Dr==0?$r=lt.up:Dr==1?$r=lt.home:Ur>Ft&&It[Ur]==`
`?$r=lt.end:Dr<Lt&&It[Dr-1]==" "?($r=lt.left,Ir=ht.option):Dr<Lt||Dr==Lt&&Ft!=Lt&&Dr==Ur?$r=lt.left:Ur>Ft&&It.slice(0,Ur).split(`
`).length>2?$r=lt.down:Ur>Ft&&It[Ur-1]==" "?($r=lt.right,Ir=ht.option):(Ur>Ft||Ur==Ft&&Ft!=Lt&&Dr==Ur)&&($r=lt.right),Dr!==Ur&&(Ir|=ht.shift),$r){var Xr=Br.onCommandKey({},Ir,$r);if(!Xr&&Br.commands){$r=lt.keyCodeToString($r);var un=Br.commands.findKeyCommand(Ir,$r);un&&Br.execCommand(un)}Lt=Dr,Ft=Ur,qt("")}}};document.addEventListener("selectionchange",Yt),Br.on("destroy",function(){document.removeEventListener("selectionchange",Yt)})}this.destroy=function(){wt.parentElement&&wt.parentElement.removeChild(wt)}},o.TextInput=gt,o.$setUserAgentForTests=function(yt,ut){mt=yt,ft=ut}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(a,o,rt){var et=a("../lib/useragent"),at=0,ot=550,nt=function(){function _($){$.$clickSelection=null;var tt=$.editor;tt.setDefaultHandler("mousedown",this.onMouseDown.bind($)),tt.setDefaultHandler("dblclick",this.onDoubleClick.bind($)),tt.setDefaultHandler("tripleclick",this.onTripleClick.bind($)),tt.setDefaultHandler("quadclick",this.onQuadClick.bind($)),tt.setDefaultHandler("mousewheel",this.onMouseWheel.bind($));var st=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];st.forEach(function(lt){$[lt]=this[lt]},this),$.selectByLines=this.extendSelectionBy.bind($,"getLineRange"),$.selectByWords=this.extendSelectionBy.bind($,"getWordRange")}return _.prototype.onMouseDown=function($){var tt=$.inSelection(),st=$.getDocumentPosition();this.mousedownEvent=$;var lt=this.editor,ht=$.getButton();if(ht!==0){var ft=lt.getSelectionRange(),ct=ft.isEmpty();(ct||ht==1)&&lt.selection.moveToPosition(st),ht==2&&(lt.textInput.onContextMenu($.domEvent),et.isMozilla||$.preventDefault());return}if(this.mousedownEvent.time=Date.now(),tt&&!lt.isFocused()&&(lt.focus(),this.$focusTimeout&&!this.$clickSelection&&!lt.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse($);return}return this.captureMouse($),this.startSelect(st,$.domEvent._clicks>1),$.preventDefault()},_.prototype.startSelect=function($,tt){$=$||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var st=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?st.selection.selectToPosition($):tt||st.selection.moveToPosition($),tt||this.select(),st.setStyle("ace_selecting"),this.setState("select"))},_.prototype.select=function(){var $,tt=this.editor,st=tt.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var lt=this.$clickSelection.comparePoint(st);if(lt==-1)$=this.$clickSelection.end;else if(lt==1)$=this.$clickSelection.start;else{var ht=j(this.$clickSelection,st);st=ht.cursor,$=ht.anchor}tt.selection.setSelectionAnchor($.row,$.column)}tt.selection.selectToPosition(st),tt.renderer.scrollCursorIntoView()},_.prototype.extendSelectionBy=function($){var tt,st=this.editor,lt=st.renderer.screenToTextCoordinates(this.x,this.y),ht=st.selection[$](lt.row,lt.column);if(this.$clickSelection){var ft=this.$clickSelection.comparePoint(ht.start),ct=this.$clickSelection.comparePoint(ht.end);if(ft==-1&&ct<=0)tt=this.$clickSelection.end,(ht.end.row!=lt.row||ht.end.column!=lt.column)&&(lt=ht.start);else if(ct==1&&ft>=0)tt=this.$clickSelection.start,(ht.start.row!=lt.row||ht.start.column!=lt.column)&&(lt=ht.end);else if(ft==-1&&ct==1)lt=ht.end,tt=ht.start;else{var mt=j(this.$clickSelection,lt);lt=mt.cursor,tt=mt.anchor}st.selection.setSelectionAnchor(tt.row,tt.column)}st.selection.selectToPosition(lt),st.renderer.scrollCursorIntoView()},_.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},_.prototype.focusWait=function(){var $=it(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),tt=Date.now();($>at||tt-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},_.prototype.onDoubleClick=function($){var tt=$.getDocumentPosition(),st=this.editor,lt=st.session,ht=lt.getBracketRange(tt);ht?(ht.isEmpty()&&(ht.start.column--,ht.end.column++),this.setState("select")):(ht=st.selection.getWordRange(tt.row,tt.column),this.setState("selectByWords")),this.$clickSelection=ht,this.select()},_.prototype.onTripleClick=function($){var tt=$.getDocumentPosition(),st=this.editor;this.setState("selectByLines");var lt=st.getSelectionRange();lt.isMultiLine()&&lt.contains(tt.row,tt.column)?(this.$clickSelection=st.selection.getLineRange(lt.start.row),this.$clickSelection.end=st.selection.getLineRange(lt.end.row).end):this.$clickSelection=st.selection.getLineRange(tt.row),this.select()},_.prototype.onQuadClick=function($){var tt=this.editor;tt.selectAll(),this.$clickSelection=tt.getSelectionRange(),this.setState("selectAll")},_.prototype.onMouseWheel=function($){if(!$.getAccelKey()){$.getShiftKey()&&$.wheelY&&!$.wheelX&&($.wheelX=$.wheelY,$.wheelY=0);var tt=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var st=this.$lastScroll,lt=$.domEvent.timeStamp,ht=lt-st.t,ft=ht?$.wheelX/ht:st.vx,ct=ht?$.wheelY/ht:st.vy;ht<ot&&(ft=(ft+st.vx)/2,ct=(ct+st.vy)/2);var mt=Math.abs(ft/ct),gt=!1;if(mt>=1&&tt.renderer.isScrollableBy($.wheelX*$.speed,0)&&(gt=!0),mt<=1&&tt.renderer.isScrollableBy(0,$.wheelY*$.speed)&&(gt=!0),gt)st.allowed=lt;else if(lt-st.allowed<ot){var yt=Math.abs(ft)<=1.5*Math.abs(st.vx)&&Math.abs(ct)<=1.5*Math.abs(st.vy);yt?(gt=!0,st.allowed=lt):st.allowed=0}if(st.t=lt,st.vx=ft,st.vy=ct,gt)return tt.renderer.scrollBy($.wheelX*$.speed,$.wheelY*$.speed),$.stop()}},_}();nt.prototype.selectEnd=nt.prototype.selectByLinesEnd,nt.prototype.selectAllEnd=nt.prototype.selectByLinesEnd,nt.prototype.selectByWordsEnd=nt.prototype.selectByLinesEnd,o.DefaultHandlers=nt;function it(_,$,tt,st){return Math.sqrt(Math.pow(tt-_,2)+Math.pow(st-$,2))}function j(_,$){if(_.start.row==_.end.row)var tt=2*$.column-_.start.column-_.end.column;else if(_.start.row==_.end.row-1&&!_.start.column&&!_.end.column)var tt=$.column-4;else var tt=2*$.row-_.start.row-_.end.row;return tt<0?{cursor:_.start,anchor:_.end}:{cursor:_.end,anchor:_.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(a,o,rt){o.preventParentScroll=function(at){at.stopPropagation();var ot=at.currentTarget,nt=ot.scrollHeight>ot.clientHeight;nt||at.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(a,o,rt){var et=this&&this.__extends||function(){var lt=function(ht,ft){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,mt){ct.__proto__=mt}||function(ct,mt){for(var gt in mt)Object.prototype.hasOwnProperty.call(mt,gt)&&(ct[gt]=mt[gt])},lt(ht,ft)};return function(ht,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Class extends value "+String(ft)+" is not a constructor or null");lt(ht,ft);function ct(){this.constructor=ht}ht.prototype=ft===null?Object.create(ft):(ct.prototype=ft.prototype,new ct)}}(),at=this&&this.__values||function(lt){var ht=typeof Symbol=="function"&&Symbol.iterator,ft=ht&&lt[ht],ct=0;if(ft)return ft.call(lt);if(lt&&typeof lt.length=="number")return{next:function(){return lt&&ct>=lt.length&&(lt=void 0),{value:lt&&lt[ct++],done:!lt}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")},ot=a("./lib/dom");a("./lib/event");var nt=a("./range").Range,it=a("./lib/scroll").preventParentScroll,j="ace_tooltip",_=function(){function lt(ht){this.isOpen=!1,this.$element=null,this.$parentNode=ht}return lt.prototype.$init=function(){return this.$element=ot.createElement("div"),this.$element.className=j,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},lt.prototype.getElement=function(){return this.$element||this.$init()},lt.prototype.setText=function(ht){this.getElement().textContent=ht},lt.prototype.setHtml=function(ht){this.getElement().innerHTML=ht},lt.prototype.setPosition=function(ht,ft){this.getElement().style.left=ht+"px",this.getElement().style.top=ft+"px"},lt.prototype.setClassName=function(ht){ot.addCssClass(this.getElement(),ht)},lt.prototype.setTheme=function(ht){this.$element.className=j+" "+(ht.isDark?"ace_dark ":"")+(ht.cssClass||"")},lt.prototype.show=function(ht,ft,ct){ht!=null&&this.setText(ht),ft!=null&&ct!=null&&this.setPosition(ft,ct),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},lt.prototype.hide=function(ht){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=j,this.isOpen=!1)},lt.prototype.getHeight=function(){return this.getElement().offsetHeight},lt.prototype.getWidth=function(){return this.getElement().offsetWidth},lt.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},lt}(),$=function(){function lt(){this.popups=[]}return lt.prototype.addPopup=function(ht){this.popups.push(ht),this.updatePopups()},lt.prototype.removePopup=function(ht){var ft=this.popups.indexOf(ht);ft!==-1&&(this.popups.splice(ft,1),this.updatePopups())},lt.prototype.updatePopups=function(){var ht,ft,ct,mt;this.popups.sort(function(Tt,At){return At.priority-Tt.priority});var gt=[];try{for(var yt=at(this.popups),ut=yt.next();!ut.done;ut=yt.next()){var wt=ut.value,bt=!0;try{for(var vt=(ct=void 0,at(gt)),Et=vt.next();!Et.done;Et=vt.next()){var $t=Et.value;if(this.doPopupsOverlap($t,wt)){bt=!1;break}}}catch(Tt){ct={error:Tt}}finally{try{Et&&!Et.done&&(mt=vt.return)&&mt.call(vt)}finally{if(ct)throw ct.error}}bt?gt.push(wt):wt.hide()}}catch(Tt){ht={error:Tt}}finally{try{ut&&!ut.done&&(ft=yt.return)&&ft.call(yt)}finally{if(ht)throw ht.error}}},lt.prototype.doPopupsOverlap=function(ht,ft){var ct=ht.getElement().getBoundingClientRect(),mt=ft.getElement().getBoundingClientRect();return ct.left<mt.right&&ct.right>mt.left&&ct.top<mt.bottom&&ct.bottom>mt.top},lt}(),tt=new $;o.popupManager=tt,o.Tooltip=_;var st=function(lt){et(ht,lt);function ht(ft){ft===void 0&&(ft=document.body);var ct=lt.call(this,ft)||this;ct.timeout=void 0,ct.lastT=0,ct.idleTime=350,ct.lastEvent=void 0,ct.onMouseOut=ct.onMouseOut.bind(ct),ct.onMouseMove=ct.onMouseMove.bind(ct),ct.waitForHover=ct.waitForHover.bind(ct),ct.hide=ct.hide.bind(ct);var mt=ct.getElement();return mt.style.whiteSpace="pre-wrap",mt.style.pointerEvents="auto",mt.addEventListener("mouseout",ct.onMouseOut),mt.tabIndex=-1,mt.addEventListener("blur",(function(){mt.contains(document.activeElement)||this.hide()}).bind(ct)),mt.addEventListener("wheel",it),ct}return ht.prototype.addToEditor=function(ft){ft.on("mousemove",this.onMouseMove),ft.on("mousedown",this.hide),ft.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},ht.prototype.removeFromEditor=function(ft){ft.off("mousemove",this.onMouseMove),ft.off("mousedown",this.hide),ft.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},ht.prototype.onMouseMove=function(ft,ct){this.lastEvent=ft,this.lastT=Date.now();var mt=ct.$mouseHandler.isMousePressed;if(this.isOpen){var gt=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(gt.row,gt.column)||mt||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||mt||(this.lastEvent=ft,this.timeout=setTimeout(this.waitForHover,this.idleTime))},ht.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var ft=Date.now()-this.lastT;if(this.idleTime-ft>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-ft);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},ht.prototype.isOutsideOfText=function(ft){var ct=ft.editor,mt=ft.getDocumentPosition(),gt=ct.session.getLine(mt.row);if(mt.column==gt.length){var yt=ct.renderer.pixelToScreenCoordinates(ft.clientX,ft.clientY),ut=ct.session.documentToScreenPosition(mt.row,mt.column);if(ut.column!=yt.column||ut.row!=yt.row)return!0}return!1},ht.prototype.setDataProvider=function(ft){this.$gatherData=ft},ht.prototype.showForRange=function(ft,ct,mt,gt){var yt=10;if(!(gt&&gt!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var ut=ft.renderer;this.isOpen||(tt.addPopup(this),this.$registerCloseEvents(),this.setTheme(ut.theme)),this.isOpen=!0,this.addMarker(ct,ft.session),this.range=nt.fromPoints(ct.start,ct.end);var wt=ut.textToScreenCoordinates(ct.start.row,ct.start.column),bt=ut.scroller.getBoundingClientRect();wt.pageX<bt.left&&(wt.pageX=bt.left);var vt=this.getElement();vt.innerHTML="",vt.appendChild(mt),vt.style.maxHeight="",vt.style.display="block";var Et=vt.clientHeight,$t=vt.clientWidth,Tt=window.innerHeight-wt.pageY-ut.lineHeight,At=!0;wt.pageY-Et<0&&wt.pageY<Tt&&(At=!1),vt.style.maxHeight=(At?wt.pageY:Tt)-yt+"px",vt.style.top=At?"":wt.pageY+ut.lineHeight+"px",vt.style.bottom=At?window.innerHeight-wt.pageY+"px":"",vt.style.left=Math.min(wt.pageX,window.innerWidth-$t-yt)+"px"}},ht.prototype.addMarker=function(ft,ct){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=ct,this.marker=ct&&ct.addMarker(ft,"ace_highlight-marker","text")},ht.prototype.hide=function(ft){!ft&&document.activeElement==this.getElement()||ft&&ft.target&&(ft.type!="keydown"||ft.ctrlKey||ft.metaKey)&&this.$element.contains(ft.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,tt.removePopup(this)))},ht.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},ht.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},ht.prototype.onMouseOut=function(ft){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!ft.relatedTarget||this.getElement().contains(ft.relatedTarget)||ft&&ft.currentTarget.contains(ft.relatedTarget)||ft.relatedTarget.classList.contains("ace_content")||this.hide())},ht}(_);o.HoverTooltip=st}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(a,o,rt){var et=this&&this.__extends||function(){var tt=function(st,lt){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,ft){ht.__proto__=ft}||function(ht,ft){for(var ct in ft)Object.prototype.hasOwnProperty.call(ft,ct)&&(ht[ct]=ft[ct])},tt(st,lt)};return function(st,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");tt(st,lt);function ht(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(ht.prototype=lt.prototype,new ht)}}(),at=this&&this.__values||function(tt){var st=typeof Symbol=="function"&&Symbol.iterator,lt=st&&tt[st],ht=0;if(lt)return lt.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&ht>=tt.length&&(tt=void 0),{value:tt&&tt[ht++],done:!tt}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")},ot=a("../lib/dom"),nt=a("../lib/event"),it=a("../tooltip").Tooltip,j=a("../config").nls;a("../lib/lang");function _(tt){var st=tt.editor,lt=st.renderer.$gutterLayer,ht=new $(st);tt.editor.setDefaultHandler("guttermousedown",function(ut){if(!(!st.isFocused()||ut.getButton()!=0)){var wt=lt.getRegion(ut);if(wt!="foldWidgets"){var bt=ut.getDocumentPosition().row,vt=st.session.selection;if(ut.getShiftKey())vt.selectTo(bt,0);else{if(ut.domEvent.detail==2)return st.selectAll(),ut.preventDefault();tt.$clickSelection=st.selection.getLineRange(bt)}return tt.setState("selectByLines"),tt.captureMouse(ut),ut.preventDefault()}}});var ft,ct;function mt(){var ut=ct.getDocumentPosition().row,wt=st.session.getLength();if(ut==wt){var bt=st.renderer.pixelToScreenCoordinates(0,ct.y).row,vt=ct.$pos;if(bt>st.session.documentToScreenRow(vt.row,vt.column))return gt()}if(ht.showTooltip(ut),!!ht.isOpen)if(st.on("mousewheel",gt),tt.$tooltipFollowsMouse)yt(ct);else{var Et=ct.getGutterRow(),$t=lt.$lines.get(Et);if($t){var Tt=$t.element.querySelector(".ace_gutter_annotation"),At=Tt.getBoundingClientRect(),Ct=ht.getElement().style;Ct.left=At.right+"px",Ct.top=At.bottom+"px"}else yt(ct)}}function gt(){ft&&(ft=clearTimeout(ft)),ht.isOpen&&(ht.hideTooltip(),st.off("mousewheel",gt))}function yt(ut){ht.setPosition(ut.x,ut.y)}tt.editor.setDefaultHandler("guttermousemove",function(ut){var wt=ut.domEvent.target||ut.domEvent.srcElement;if(ot.hasCssClass(wt,"ace_fold-widget"))return gt();ht.isOpen&&tt.$tooltipFollowsMouse&&yt(ut),ct=ut,!ft&&(ft=setTimeout(function(){ft=null,ct&&!tt.isMousePressed?mt():gt()},50))}),nt.addListener(st.renderer.$gutter,"mouseout",function(ut){ct=null,!(!ht.isOpen||ft)&&(ft=setTimeout(function(){ft=null,gt()},50))},st),st.on("changeSession",gt),st.on("input",gt)}o.GutterHandler=_;var $=function(tt){et(st,tt);function st(lt){var ht=tt.call(this,lt.container)||this;return ht.editor=lt,ht}return st.prototype.setPosition=function(lt,ht){var ft=window.innerWidth||document.documentElement.clientWidth,ct=window.innerHeight||document.documentElement.clientHeight,mt=this.getWidth(),gt=this.getHeight();lt+=15,ht+=15,lt+mt>ft&&(lt-=lt+mt-ft),ht+gt>ct&&(ht-=20+gt),it.prototype.setPosition.call(this,lt,ht)},Object.defineProperty(st,"annotationLabels",{get:function(){return{error:{singular:j("gutter-tooltip.aria-label.error.singular","error"),plural:j("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:j("gutter-tooltip.aria-label.security.singular","security finding"),plural:j("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:j("gutter-tooltip.aria-label.warning.singular","warning"),plural:j("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:j("gutter-tooltip.aria-label.info.singular","information message"),plural:j("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:j("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:j("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),st.prototype.showTooltip=function(lt){var ht,ft=this.editor.renderer.$gutterLayer,ct=ft.$annotations[lt],mt;ct?mt={displayText:Array.from(ct.displayText),type:Array.from(ct.type)}:mt={displayText:[],type:[]};var gt=ft.session.getFoldLine(lt);if(gt&&ft.$showFoldedAnnotations){for(var yt={error:[],security:[],warning:[],info:[],hint:[]},ut={error:1,security:2,warning:3,info:4,hint:5},wt,bt=lt+1;bt<=gt.end.row;bt++)if(ft.$annotations[bt])for(var vt=0;vt<ft.$annotations[bt].text.length;vt++){var Et=ft.$annotations[bt].type[vt];yt[Et].push(ft.$annotations[bt].text[vt]),(!wt||ut[Et]<ut[wt])&&(wt=Et)}if(["error","security","warning"].includes(wt)){var $t="".concat(st.annotationsToSummaryString(yt)," in folded code.");mt.displayText.push($t),mt.type.push(wt+"_fold")}}if(mt.displayText.length===0)return this.hide();for(var Tt={error:[],security:[],warning:[],info:[],hint:[]},At=ft.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",bt=0;bt<mt.displayText.length;bt++){var Ct=ot.createElement("span"),It=ot.createElement("span");(ht=It.classList).add.apply(ht,["ace_".concat(mt.type[bt]),At]),It.setAttribute("aria-label","".concat(st.annotationLabels[mt.type[bt].replace("_fold","")].singular)),It.setAttribute("role","img"),It.appendChild(ot.createTextNode(" ")),Ct.appendChild(It),Ct.appendChild(ot.createTextNode(mt.displayText[bt])),Ct.appendChild(ot.createElement("br")),Tt[mt.type[bt].replace("_fold","")].push(Ct)}var Lt=this.getElement();ot.removeChildren(Lt),Tt.error.forEach(function(Ft){return Lt.appendChild(Ft)}),Tt.security.forEach(function(Ft){return Lt.appendChild(Ft)}),Tt.warning.forEach(function(Ft){return Lt.appendChild(Ft)}),Tt.info.forEach(function(Ft){return Lt.appendChild(Ft)}),Tt.hint.forEach(function(Ft){return Lt.appendChild(Ft)}),Lt.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},st.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},st.annotationsToSummaryString=function(lt){var ht,ft,ct=[],mt=["error","security","warning","info","hint"];try{for(var gt=at(mt),yt=gt.next();!yt.done;yt=gt.next()){var ut=yt.value;if(lt[ut].length){var wt=lt[ut].length===1?st.annotationLabels[ut].singular:st.annotationLabels[ut].plural;ct.push("".concat(lt[ut].length," ").concat(wt))}}}catch(bt){ht={error:bt}}finally{try{yt&&!yt.done&&(ft=gt.return)&&ft.call(gt)}finally{if(ht)throw ht.error}}return ct.join(", ")},st}(it);o.GutterTooltip=$}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,o,rt){var et=a("../lib/event"),at=a("../lib/useragent"),ot=function(){function nt(it,j){this.speed,this.wheelX,this.wheelY,this.domEvent=it,this.editor=j,this.x=this.clientX=it.clientX,this.y=this.clientY=it.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return nt.prototype.stopPropagation=function(){et.stopPropagation(this.domEvent),this.propagationStopped=!0},nt.prototype.preventDefault=function(){et.preventDefault(this.domEvent),this.defaultPrevented=!0},nt.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},nt.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},nt.prototype.getGutterRow=function(){var it=this.getDocumentPosition().row,j=this.editor.session.documentToScreenRow(it,0),_=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return j-_},nt.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var it=this.editor,j=it.getSelectionRange();if(j.isEmpty())this.$inSelection=!1;else{var _=this.getDocumentPosition();this.$inSelection=j.contains(_.row,_.column)}return this.$inSelection},nt.prototype.getButton=function(){return et.getButton(this.domEvent)},nt.prototype.getShiftKey=function(){return this.domEvent.shiftKey},nt.prototype.getAccelKey=function(){return at.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},nt}();o.MouseEvent=ot}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(a,o,rt){var et=a("../lib/dom"),at=a("../lib/event"),ot=a("../lib/useragent"),nt=200,it=200,j=5;function _(tt){var st=tt.editor,lt=et.createElement("div");lt.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",lt.textContent="";var ht=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ht.forEach(function(Ht){tt[Ht]=this[Ht]},this),st.on("mousedown",this.onMouseDown.bind(tt));var ft=st.container,ct,mt,gt,yt,ut,wt,bt=0,vt,Et,$t,Tt,At;this.onDragStart=function(Ht){if(this.cancelDrag||!ft.draggable){var qt=this;return setTimeout(function(){qt.startSelect(),qt.captureMouse(Ht)},0),Ht.preventDefault()}ut=st.getSelectionRange();var nr=Ht.dataTransfer;nr.effectAllowed=st.getReadOnly()?"copy":"copyMove",st.container.appendChild(lt),nr.setDragImage&&nr.setDragImage(lt,0,0),setTimeout(function(){st.container.removeChild(lt)}),nr.clearData(),nr.setData("Text",st.session.getTextRange()),Et=!0,this.setState("drag")},this.onDragEnd=function(Ht){if(ft.draggable=!1,Et=!1,this.setState(null),!st.getReadOnly()){var qt=Ht.dataTransfer.dropEffect;!vt&&qt=="move"&&st.session.remove(st.getSelectionRange()),st.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Ht){if(!(st.getReadOnly()||!Qt(Ht.dataTransfer)))return mt=Ht.clientX,gt=Ht.clientY,ct||Ft(),bt++,Ht.dataTransfer.dropEffect=vt=Kt(Ht),at.preventDefault(Ht)},this.onDragOver=function(Ht){if(!(st.getReadOnly()||!Qt(Ht.dataTransfer)))return mt=Ht.clientX,gt=Ht.clientY,ct||(Ft(),bt++),Vt!==null&&(Vt=null),Ht.dataTransfer.dropEffect=vt=Kt(Ht),at.preventDefault(Ht)},this.onDragLeave=function(Ht){if(bt--,bt<=0&&ct)return Dt(),vt=null,at.preventDefault(Ht)},this.onDrop=function(Ht){if(wt){var qt=Ht.dataTransfer;if(Et)switch(vt){case"move":ut.contains(wt.row,wt.column)?ut={start:wt,end:wt}:ut=st.moveText(ut,wt);break;case"copy":ut=st.moveText(ut,wt,!0);break}else{var nr=qt.getData("Text");ut={start:wt,end:st.session.insert(wt,nr)},st.focus(),vt=null}return Dt(),at.preventDefault(Ht)}},at.addListener(ft,"dragstart",this.onDragStart.bind(tt),st),at.addListener(ft,"dragend",this.onDragEnd.bind(tt),st),at.addListener(ft,"dragenter",this.onDragEnter.bind(tt),st),at.addListener(ft,"dragover",this.onDragOver.bind(tt),st),at.addListener(ft,"dragleave",this.onDragLeave.bind(tt),st),at.addListener(ft,"drop",this.onDrop.bind(tt),st);function Ct(Ht,qt){var nr=Date.now(),tr=!qt||Ht.row!=qt.row,mr=!qt||Ht.column!=qt.column;if(!Tt||tr||mr)st.moveCursorToPosition(Ht),Tt=nr,At={x:mt,y:gt};else{var yr=$(At.x,At.y,mt,gt);yr>j?Tt=null:nr-Tt>=it&&(st.renderer.scrollCursorIntoView(),Tt=null)}}function It(Ht,qt){var nr=Date.now(),tr=st.renderer.layerConfig.lineHeight,mr=st.renderer.layerConfig.characterWidth,yr=st.renderer.scroller.getBoundingClientRect(),br={x:{left:mt-yr.left,right:yr.right-mt},y:{top:gt-yr.top,bottom:yr.bottom-gt}},xr=Math.min(br.x.left,br.x.right),sr=Math.min(br.y.top,br.y.bottom),ar={row:Ht.row,column:Ht.column};xr/mr<=2&&(ar.column+=br.x.left<br.x.right?-3:2),sr/tr<=1&&(ar.row+=br.y.top<br.y.bottom?-1:1);var rr=Ht.row!=ar.row,Cr=Ht.column!=ar.column,kr=!qt||Ht.row!=qt.row;rr||Cr&&!kr?$t?nr-$t>=nt&&st.renderer.scrollCursorIntoView(ar):$t=nr:$t=null}function Lt(){var Ht=wt;wt=st.renderer.screenToTextCoordinates(mt,gt),Ct(wt,Ht),It(wt,Ht)}function Ft(){ut=st.selection.toOrientedRange(),ct=st.session.addMarker(ut,"ace_selection",st.getSelectionStyle()),st.clearSelection(),st.isFocused()&&st.renderer.$cursorLayer.setBlinking(!1),clearInterval(yt),Lt(),yt=setInterval(Lt,20),bt=0,at.addListener(document,"mousemove",Ut)}function Dt(){clearInterval(yt),st.session.removeMarker(ct),ct=null,st.selection.fromOrientedRange(ut),st.isFocused()&&!Et&&st.$resetCursorStyle(),ut=null,wt=null,bt=0,$t=null,Tt=null,at.removeListener(document,"mousemove",Ut)}var Vt=null;function Ut(){Vt==null&&(Vt=setTimeout(function(){Vt!=null&&ct&&Dt()},20))}function Qt(Ht){var qt=Ht.types;return!qt||Array.prototype.some.call(qt,function(nr){return nr=="text/plain"||nr=="Text"})}function Kt(Ht){var qt=["copy","copymove","all","uninitialized"],nr=["move","copymove","linkmove","all","uninitialized"],tr=ot.isMac?Ht.altKey:Ht.ctrlKey,mr="uninitialized";try{mr=Ht.dataTransfer.effectAllowed.toLowerCase()}catch{}var yr="none";return tr&&qt.indexOf(mr)>=0?yr="copy":nr.indexOf(mr)>=0?yr="move":qt.indexOf(mr)>=0&&(yr="copy"),yr}}(function(){this.dragWait=function(){var tt=Date.now()-this.mousedownEvent.time;tt>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var tt=this.editor.container;tt.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(tt){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var tt=this.editor,st=tt.container;st.draggable=!0,tt.renderer.$cursorLayer.setBlinking(!1),tt.setStyle("ace_dragging");var lt=ot.isWin?"default":"move";tt.renderer.setCursorStyle(lt),this.setState("dragReady")},this.onMouseDrag=function(tt){var st=this.editor.container;if(ot.isIE&&this.state=="dragReady"){var lt=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);lt>3&&st.dragDrop()}if(this.state==="dragWait"){var lt=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);lt>0&&(st.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(tt){if(this.$dragEnabled){this.mousedownEvent=tt;var st=this.editor,lt=tt.inSelection(),ht=tt.getButton(),ft=tt.domEvent.detail||1;if(ft===1&&ht===0&&lt){if(tt.editor.inMultiSelectMode&&(tt.getAccelKey()||tt.getShiftKey()))return;this.mousedownEvent.time=Date.now();var ct=tt.domEvent.target||tt.domEvent.srcElement;if("unselectable"in ct&&(ct.unselectable="on"),st.getDragDelay()){if(ot.isWebKit){this.cancelDrag=!0;var mt=st.container;mt.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(tt,this.onMouseDrag.bind(this)),tt.defaultPrevented=!0}}}}).call(_.prototype);function $(tt,st,lt,ht){return Math.sqrt(Math.pow(lt-tt,2)+Math.pow(ht-st,2))}o.DragdropHandler=_}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(a,o,rt){var et=a("./mouse_event").MouseEvent,at=a("../lib/event"),ot=a("../lib/dom");o.addTouchListeners=function(nt,it){var j="scroll",_,$,tt,st,lt,ht,ft=0,ct,mt=0,gt=0,yt=0,ut,wt;function bt(){var Ct=window.navigator&&window.navigator.clipboard,It=!1,Lt=function(){var Vt=it.getCopyText(),Ut=it.session.getUndoManager().hasUndo();wt.replaceChild(ot.buildDom(It?["span",!Vt&&Ft("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Vt&&Ft("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Vt&&Ft("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],Ct&&Ft("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Ut&&Ft("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],Ft("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],Ft("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),wt.firstChild)},Ft=function(Vt){return it.commands.canExecute(Vt,it)},Dt=function(Vt){var Ut=Vt.target.getAttribute("action");if(Ut=="more"||!It)return It=!It,Lt();Ut=="paste"?Ct.readText().then(function(Qt){it.execCommand(Ut,Qt)}):Ut&&((Ut=="cut"||Ut=="copy")&&(Ct?Ct.writeText(it.getCopyText()):document.execCommand("copy")),it.execCommand(Ut)),wt.firstChild.style.display="none",It=!1,Ut!="openCommandPalette"&&it.focus()};wt=ot.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Vt){j="menu",Vt.stopPropagation(),Vt.preventDefault(),it.textInput.focus()},ontouchend:function(Vt){Vt.stopPropagation(),Vt.preventDefault(),Dt(Vt)},onclick:Dt},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],it.container)}function vt(){if(!it.getOption("enableMobileMenu")){wt&&Et();return}wt||bt();var Ct=it.selection.cursor,It=it.renderer.textToScreenCoordinates(Ct.row,Ct.column),Lt=it.renderer.textToScreenCoordinates(0,0).pageX,Ft=it.renderer.scrollLeft,Dt=it.container.getBoundingClientRect();wt.style.top=It.pageY-Dt.top-3+"px",It.pageX-Dt.left<Dt.width-70?(wt.style.left="",wt.style.right="10px"):(wt.style.right="",wt.style.left=Lt+Ft-Dt.left+"px"),wt.style.display="",wt.firstChild.style.display="none",it.on("input",Et)}function Et(Ct){wt&&(wt.style.display="none"),it.off("input",Et)}function $t(){lt=null,clearTimeout(lt);var Ct=it.selection.getRange(),It=Ct.contains(ct.row,ct.column);(Ct.isEmpty()||!It)&&(it.selection.moveToPosition(ct),it.selection.selectWord()),j="wait",vt()}function Tt(){lt=null,clearTimeout(lt),it.selection.moveToPosition(ct);var Ct=mt>=2?it.selection.getLineRange(ct.row):it.session.getBracketRange(ct);Ct&&!Ct.isEmpty()?it.selection.setRange(Ct):it.selection.selectWord(),j="wait"}at.addListener(nt,"contextmenu",function(Ct){if(ut){var It=it.textInput.getElement();It.focus()}},it),at.addListener(nt,"touchstart",function(Ct){var It=Ct.touches;if(lt||It.length>1){clearTimeout(lt),lt=null,tt=-1,j="zoom";return}ut=it.$mouseHandler.isMousePressed=!0;var Lt=it.renderer.layerConfig.lineHeight,Ft=it.renderer.layerConfig.lineHeight,Dt=Ct.timeStamp;st=Dt;var Vt=It[0],Ut=Vt.clientX,Qt=Vt.clientY;Math.abs(_-Ut)+Math.abs($-Qt)>Lt&&(tt=-1),_=Ct.clientX=Ut,$=Ct.clientY=Qt,gt=yt=0;var Kt=new et(Ct,it);if(ct=Kt.getDocumentPosition(),Dt-tt<500&&It.length==1&&!ft)mt++,Ct.preventDefault(),Ct.button=0,Tt();else{mt=0;var Ht=it.selection.cursor,qt=it.selection.isEmpty()?Ht:it.selection.anchor,nr=it.renderer.$cursorLayer.getPixelPosition(Ht,!0),tr=it.renderer.$cursorLayer.getPixelPosition(qt,!0),mr=it.renderer.scroller.getBoundingClientRect(),yr=it.renderer.layerConfig.offset,br=it.renderer.scrollLeft,xr=function(rr,Cr){return rr=rr/Ft,Cr=Cr/Lt-.75,rr*rr+Cr*Cr};if(Ct.clientX<mr.left){j="zoom";return}var sr=xr(Ct.clientX-mr.left-nr.left+br,Ct.clientY-mr.top-nr.top+yr),ar=xr(Ct.clientX-mr.left-tr.left+br,Ct.clientY-mr.top-tr.top+yr);sr<3.5&&ar<3.5&&(j=sr>ar?"cursor":"anchor"),ar<3.5?j="anchor":sr<3.5?j="cursor":j="scroll",lt=setTimeout($t,450)}tt=Dt},it),at.addListener(nt,"touchend",function(Ct){ut=it.$mouseHandler.isMousePressed=!1,ht&&clearInterval(ht),j=="zoom"?(j="",ft=0):lt?(it.selection.moveToPosition(ct),ft=0,vt()):j=="scroll"?(At(),Et()):vt(),clearTimeout(lt),lt=null},it),at.addListener(nt,"touchmove",function(Ct){lt&&(clearTimeout(lt),lt=null);var It=Ct.touches;if(!(It.length>1||j=="zoom")){var Lt=It[0],Ft=_-Lt.clientX,Dt=$-Lt.clientY;if(j=="wait")if(Ft*Ft+Dt*Dt>4)j="cursor";else return Ct.preventDefault();_=Lt.clientX,$=Lt.clientY,Ct.clientX=Lt.clientX,Ct.clientY=Lt.clientY;var Vt=Ct.timeStamp,Ut=Vt-st;if(st=Vt,j=="scroll"){var Qt=new et(Ct,it);Qt.speed=1,Qt.wheelX=Ft,Qt.wheelY=Dt,10*Math.abs(Ft)<Math.abs(Dt)&&(Ft=0),10*Math.abs(Dt)<Math.abs(Ft)&&(Dt=0),Ut!=0&&(gt=Ft/Ut,yt=Dt/Ut),it._emit("mousewheel",Qt),Qt.propagationStopped||(gt=yt=0)}else{var Kt=new et(Ct,it),Ht=Kt.getDocumentPosition();j=="cursor"?it.selection.moveCursorToPosition(Ht):j=="anchor"&&it.selection.setSelectionAnchor(Ht.row,Ht.column),it.renderer.scrollCursorIntoView(Ht),Ct.preventDefault()}}},it);function At(){ft+=60,ht=setInterval(function(){ft--<=0&&(clearInterval(ht),ht=null),Math.abs(gt)<.01&&(gt=0),Math.abs(yt)<.01&&(yt=0),ft<20&&(gt=.9*gt),ft<20&&(yt=.9*yt);var Ct=it.session.getScrollTop();it.renderer.scrollBy(10*gt,10*yt),Ct==it.session.getScrollTop()&&(ft=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(a,o,rt){var et=a("../lib/event"),at=a("../lib/useragent"),ot=a("./default_handlers").DefaultHandlers,nt=a("./default_gutter_handler").GutterHandler,it=a("./mouse_event").MouseEvent,j=a("./dragdrop_handler").DragdropHandler,_=a("./touch_handler").addTouchListeners,$=a("../config"),tt=function(){function st(lt){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var ht=this;this.editor=lt,new ot(this),new nt(this),new j(this);var ft=function(gt){var yt=!document.hasFocus||!document.hasFocus()||!lt.isFocused()&&document.activeElement==(lt.textInput&&lt.textInput.getElement());yt&&window.focus(),lt.focus(),setTimeout(function(){lt.isFocused()||lt.focus()})},ct=lt.renderer.getMouseEventTarget();et.addListener(ct,"click",this.onMouseEvent.bind(this,"click"),lt),et.addListener(ct,"mousemove",this.onMouseMove.bind(this,"mousemove"),lt),et.addMultiMouseDownListener([ct,lt.renderer.scrollBarV&&lt.renderer.scrollBarV.inner,lt.renderer.scrollBarH&&lt.renderer.scrollBarH.inner,lt.textInput&&lt.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",lt),et.addMouseWheelListener(lt.container,this.onMouseWheel.bind(this,"mousewheel"),lt),_(lt.container,lt);var mt=lt.renderer.$gutter;et.addListener(mt,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),lt),et.addListener(mt,"click",this.onMouseEvent.bind(this,"gutterclick"),lt),et.addListener(mt,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),lt),et.addListener(mt,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),lt),et.addListener(ct,"mousedown",ft,lt),et.addListener(mt,"mousedown",ft,lt),at.isIE&&lt.renderer.scrollBarV&&(et.addListener(lt.renderer.scrollBarV.element,"mousedown",ft,lt),et.addListener(lt.renderer.scrollBarH.element,"mousedown",ft,lt)),lt.on("mousemove",function(gt){if(!(ht.state||ht.$dragDelay||!ht.$dragEnabled)){var yt=lt.renderer.screenToTextCoordinates(gt.x,gt.y),ut=lt.session.selection.getRange(),wt=lt.renderer;!ut.isEmpty()&&ut.insideStart(yt.row,yt.column)?wt.setCursorStyle("default"):wt.setCursorStyle("")}},lt)}return st.prototype.onMouseEvent=function(lt,ht){this.editor.session&&this.editor._emit(lt,new it(ht,this.editor))},st.prototype.onMouseMove=function(lt,ht){var ft=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!ft||!ft.length||this.editor._emit(lt,new it(ht,this.editor))},st.prototype.onMouseWheel=function(lt,ht){var ft=new it(ht,this.editor);ft.speed=this.$scrollSpeed*2,ft.wheelX=ht.wheelX,ft.wheelY=ht.wheelY,this.editor._emit(lt,ft)},st.prototype.setState=function(lt){this.state=lt},st.prototype.captureMouse=function(lt,ht){this.x=lt.x,this.y=lt.y,this.isMousePressed=!0;var ft=this.editor,ct=this.editor.renderer;ct.$isMousePressed=!0;var mt=this,gt=function(vt){if(vt){if(at.isWebKit&&!vt.which&&mt.releaseMouse)return mt.releaseMouse();mt.x=vt.clientX,mt.y=vt.clientY,ht&&ht(vt),mt.mouseEvent=new it(vt,mt.editor),mt.$mouseMoved=!0}},yt=function(vt){ft.off("beforeEndOperation",wt),clearInterval(bt),ft.session&&ut(),mt[mt.state+"End"]&&mt[mt.state+"End"](vt),mt.state="",mt.isMousePressed=ct.$isMousePressed=!1,ct.$keepTextAreaAtCursor&&ct.$moveTextAreaToCursor(),mt.$onCaptureMouseMove=mt.releaseMouse=null,vt&&mt.onMouseEvent("mouseup",vt),ft.endOperation()},ut=function(){mt[mt.state]&&mt[mt.state](),mt.$mouseMoved=!1};if(at.isOldIE&&lt.domEvent.type=="dblclick")return setTimeout(function(){yt(lt)});var wt=function(vt){mt.releaseMouse&&ft.curOp.command.name&&ft.curOp.selectionChanged&&(mt[mt.state+"End"]&&mt[mt.state+"End"](),mt.state="",mt.releaseMouse())};ft.on("beforeEndOperation",wt),ft.startOperation({command:{name:"mouse"}}),mt.$onCaptureMouseMove=gt,mt.releaseMouse=et.capture(this.editor.container,gt,yt);var bt=setInterval(ut,20)},st.prototype.cancelContextMenu=function(){var lt=(function(ht){ht&&ht.domEvent&&ht.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",lt),ht&&ht.domEvent&&et.stopEvent(ht.domEvent))}).bind(this);setTimeout(lt,10),this.editor.on("nativecontextmenu",lt)},st.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},st}();tt.prototype.releaseMouse=null,$.defineOptions(tt.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:at.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),o.MouseHandler=tt}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(a,o,rt){var et=a("../lib/dom"),at=function(){function ot(nt){nt.on("click",function(it){var j=it.getDocumentPosition(),_=nt.session,$=_.getFoldAt(j.row,j.column,1);$&&(it.getAccelKey()?_.removeFold($):_.expandFold($),it.stop());var tt=it.domEvent&&it.domEvent.target;tt&&et.hasCssClass(tt,"ace_inline_button")&&et.hasCssClass(tt,"ace_toggle_wrap")&&(_.setOption("wrap",!_.getUseWrapMode()),nt.renderer.scrollCursorIntoView())}),nt.on("gutterclick",function(it){var j=nt.renderer.$gutterLayer.getRegion(it);if(j=="foldWidgets"){var _=it.getDocumentPosition().row,$=nt.session;$.foldWidgets&&$.foldWidgets[_]&&nt.session.onFoldWidgetClick(_,it),nt.isFocused()||nt.focus(),it.stop()}}),nt.on("gutterdblclick",function(it){var j=nt.renderer.$gutterLayer.getRegion(it);if(j=="foldWidgets"){var _=it.getDocumentPosition().row,$=nt.session,tt=$.getParentFoldRangeData(_,!0),st=tt.range||tt.firstRange;if(st){_=st.start.row;var lt=$.getFoldAt(_,$.getLine(_).length,1);lt?$.removeFold(lt):($.addFold("...",st),nt.renderer.scrollCursorIntoView({row:st.start.row,column:0}))}it.stop()}})}return ot}();o.FoldHandler=at}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(a,o,rt){var et=a("../lib/keys"),at=a("../lib/event"),ot=function(){function nt(it){this.$editor=it,this.$data={editor:it},this.$handlers=[],this.setDefaultHandler(it.commands)}return nt.prototype.setDefaultHandler=function(it){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=it,this.addKeyboardHandler(it,0)},nt.prototype.setKeyboardHandler=function(it){var j=this.$handlers;if(j[j.length-1]!=it){for(;j[j.length-1]&&j[j.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(j[j.length-1]);this.addKeyboardHandler(it,1)}},nt.prototype.addKeyboardHandler=function(it,j){if(it){typeof it=="function"&&!it.handleKeyboard&&(it.handleKeyboard=it);var _=this.$handlers.indexOf(it);_!=-1&&this.$handlers.splice(_,1),j==null?this.$handlers.push(it):this.$handlers.splice(j,0,it),_==-1&&it.attach&&it.attach(this.$editor)}},nt.prototype.removeKeyboardHandler=function(it){var j=this.$handlers.indexOf(it);return j==-1?!1:(this.$handlers.splice(j,1),it.detach&&it.detach(this.$editor),!0)},nt.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},nt.prototype.getStatusText=function(){var it=this.$data,j=it.editor;return this.$handlers.map(function(_){return _.getStatusText&&_.getStatusText(j,it)||""}).filter(Boolean).join(" ")},nt.prototype.$callKeyboardHandlers=function(it,j,_,$){for(var tt,st=!1,lt=this.$editor.commands,ht=this.$handlers.length;ht--&&(tt=this.$handlers[ht].handleKeyboard(this.$data,it,j,_,$),!(!(!tt||!tt.command)&&(tt.command=="null"?st=!0:st=lt.exec(tt.command,this.$editor,tt.args,$),st&&$&&it!=-1&&tt.passEvent!=!0&&tt.command.passEvent!=!0&&at.stopEvent($),st))););return!st&&it==-1&&(tt={command:"insertstring"},st=lt.exec("insertstring",this.$editor,j)),st&&this.$editor._signal&&this.$editor._signal("keyboardActivity",tt),st},nt.prototype.onCommandKey=function(it,j,_){var $=et.keyCodeToString(_);return this.$callKeyboardHandlers(j,$,_,it)},nt.prototype.onTextInput=function(it){return this.$callKeyboardHandlers(-1,it)},nt}();o.KeyBinding=ot}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(a,o,rt){var et=0,at=0,ot=!1,nt=!1,it=!1,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],$=0,tt=1,st=0,lt=1,ht=2,ft=3,ct=4,mt=5,gt=6,yt=7,ut=8,wt=9,bt=10,vt=11,Et=12,$t=13,Tt=14,At=15,Ct=16,It=17,Lt=18,Ft=[Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,gt,mt,gt,ut,mt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,mt,mt,mt,gt,ut,ct,ct,vt,vt,vt,ct,ct,ct,ct,ct,bt,wt,bt,wt,wt,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,wt,ct,ct,ct,ct,ct,ct,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,ct,ct,ct,ct,ct,ct,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,ct,ct,ct,ct,Lt,Lt,Lt,Lt,Lt,Lt,mt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,wt,ct,vt,vt,vt,vt,ct,ct,ct,ct,st,ct,ct,Lt,ct,ct,vt,vt,ht,ht,ct,st,ct,ct,ct,ht,st,ct,ct,ct,ct,ct],Dt=[ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,Lt,Lt,Lt,st,lt,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ut,mt,$t,Tt,At,Ct,It,wt,vt,vt,vt,vt,vt,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,wt,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ut];function Vt(Ht,qt,nr,tr){var mr=et?_:j,yr=null,br=null,xr=null,sr=0,ar=null,rr=null,Cr=-1,kr=null,vr=null,Gr=[];if(!tr)for(kr=0,tr=[];kr<nr;kr++)tr[kr]=Kt(Ht[kr]);for(at=et,ot=!1,nt=!1,it=!1,vr=0;vr<nr;vr++){if(yr=sr,Gr[vr]=br=Qt(Ht,tr,Gr,vr),sr=mr[yr][br],ar=sr&240,sr&=15,qt[vr]=xr=mr[sr][5],ar>0)if(ar==16){for(kr=Cr;kr<vr;kr++)qt[kr]=1;Cr=-1}else Cr=-1;if(rr=mr[sr][6],rr)Cr==-1&&(Cr=vr);else if(Cr>-1){for(kr=Cr;kr<vr;kr++)qt[kr]=xr;Cr=-1}tr[vr]==mt&&(qt[vr]=0),at|=xr}if(it){for(kr=0;kr<nr;kr++)if(tr[kr]==gt){qt[kr]=et;for(var an=kr-1;an>=0&&tr[an]==ut;an--)qt[an]=et}}}function Ut(Ht,qt,nr){if(!(at<Ht)){if(Ht==1&&et==tt&&!nt){nr.reverse();return}for(var tr=nr.length,mr=0,yr,br,xr,sr;mr<tr;){if(qt[mr]>=Ht){for(yr=mr+1;yr<tr&&qt[yr]>=Ht;)yr++;for(br=mr,xr=yr-1;br<xr;br++,xr--)sr=nr[br],nr[br]=nr[xr],nr[xr]=sr;mr=yr}mr++}}}function Qt(Ht,qt,nr,tr){var mr=qt[tr],yr,br,xr,sr;switch(mr){case st:case lt:ot=!1;case ct:case ft:return mr;case ht:return ot?ft:ht;case yt:return ot=!0,lt;case ut:return ct;case wt:return tr<1||tr+1>=qt.length||(yr=nr[tr-1])!=ht&&yr!=ft||(br=qt[tr+1])!=ht&&br!=ft?ct:(ot&&(br=ft),br==yr?br:ct);case bt:return yr=tr>0?nr[tr-1]:mt,yr==ht&&tr+1<qt.length&&qt[tr+1]==ht?ht:ct;case vt:if(tr>0&&nr[tr-1]==ht)return ht;if(ot)return ct;for(sr=tr+1,xr=qt.length;sr<xr&&qt[sr]==vt;)sr++;return sr<xr&&qt[sr]==ht?ht:ct;case Et:for(xr=qt.length,sr=tr+1;sr<xr&&qt[sr]==Et;)sr++;if(sr<xr){var ar=Ht[tr],rr=ar>=1425&&ar<=2303||ar==64286;if(yr=qt[sr],rr&&(yr==lt||yr==yt))return lt}return tr<1||(yr=qt[tr-1])==mt?ct:nr[tr-1];case mt:return ot=!1,nt=!0,et;case gt:return it=!0,ct;case $t:case Tt:case Ct:case It:case At:ot=!1;case Lt:return ct}}function Kt(Ht){var qt=Ht.charCodeAt(0),nr=qt>>8;return nr==0?qt>191?st:Ft[qt]:nr==5?/[\u0591-\u05f4]/.test(Ht)?lt:st:nr==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Ht)?Et:/[\u0660-\u0669\u066b-\u066c]/.test(Ht)?ft:qt==1642?vt:/[\u06f0-\u06f9]/.test(Ht)?ht:yt:nr==32&&qt<=8287?Dt[qt&255]:nr==254&&qt>=65136?yt:ct}o.L=st,o.R=lt,o.EN=ht,o.ON_R=3,o.AN=4,o.R_H=5,o.B=6,o.RLE=7,o.DOT="",o.doBidiReorder=function(Ht,qt,nr){if(Ht.length<2)return{};var tr=Ht.split(""),mr=new Array(tr.length),yr=new Array(tr.length),br=[];et=nr?tt:$,Vt(tr,br,tr.length,qt);for(var xr=0;xr<mr.length;mr[xr]=xr,xr++);Ut(2,br,mr),Ut(1,br,mr);for(var xr=0;xr<mr.length-1;xr++)qt[xr]===ft?br[xr]=o.AN:br[xr]===lt&&(qt[xr]>yt&&qt[xr]<$t||qt[xr]===ct||qt[xr]===Lt)?br[xr]=o.ON_R:xr>0&&tr[xr-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(tr[xr])&&(br[xr-1]=br[xr]=o.R_H,xr++);tr[tr.length-1]===o.DOT&&(br[tr.length-1]=o.B),tr[0]===""&&(br[0]=o.RLE);for(var xr=0;xr<mr.length;xr++)yr[xr]=br[mr[xr]];return{logicalFromVisual:mr,bidiLevels:yr}},o.hasBidiCharacters=function(Ht,qt){for(var nr=!1,tr=0;tr<Ht.length;tr++)qt[tr]=Kt(Ht.charAt(tr)),!nr&&(qt[tr]==lt||qt[tr]==yt||qt[tr]==ft)&&(nr=!0);return nr},o.getVisualFromLogicalIdx=function(Ht,qt){for(var nr=0;nr<qt.logicalFromVisual.length;nr++)if(qt.logicalFromVisual[nr]==Ht)return nr;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(a,o,rt){var et=a("./lib/bidiutil"),at=a("./lib/lang"),ot=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,nt=function(){function it(j){this.session=j,this.bidiMap={},this.currentRow=null,this.bidiUtil=et,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=ot.test(j.getValue())}return it.prototype.isBidiRow=function(j,_,$){return this.seenBidi?(j!==this.currentRow&&(this.currentRow=j,this.updateRowLine(_,$),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},it.prototype.onChange=function(j){this.seenBidi?this.currentRow=null:j.action=="insert"&&ot.test(j.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},it.prototype.getDocumentRow=function(){var j=0,_=this.session.$screenRowCache;if(_.length){var $=this.session.$getRowCacheIndex(_,this.currentRow);$>=0&&(j=this.session.$docRowCache[$])}return j},it.prototype.getSplitIndex=function(){var j=0,_=this.session.$screenRowCache;if(_.length)for(var $,tt=this.session.$getRowCacheIndex(_,this.currentRow);this.currentRow-j>0&&($=this.session.$getRowCacheIndex(_,this.currentRow-j-1),$===tt);)tt=$,j++;else j=this.currentRow;return j},it.prototype.updateRowLine=function(j,_){j===void 0&&(j=this.getDocumentRow());var $=j===this.session.getLength()-1,tt=$?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(j),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var st=this.session.$wrapData[j];st&&(_===void 0&&(_=this.getSplitIndex()),_>0&&st.length?(this.wrapIndent=st.indent,this.wrapOffset=this.wrapIndent*this.charWidths[et.L],this.line=_<st.length?this.line.substring(st[_-1],st[_]):this.line.substring(st[st.length-1])):this.line=this.line.substring(0,st[_]),_==st.length&&(this.line+=this.showInvisibles?tt:et.DOT))}else this.line+=this.showInvisibles?tt:et.DOT;var lt=this.session,ht=0,ft;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(ct,mt){return ct==="	"||lt.isFullWidth(ct.charCodeAt(0))?(ft=ct==="	"?lt.getScreenTabSize(mt+ht):2,ht+=ft-1,at.stringRepeat(et.DOT,ft)):ct}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==et.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},it.prototype.updateBidiMap=function(){var j=[];et.hasBidiCharacters(this.line,j)||this.isRtlDir?this.bidiMap=et.doBidiReorder(this.line,j,this.isRtlDir):this.bidiMap={}},it.prototype.markAsDirty=function(){this.currentRow=null},it.prototype.updateCharacterWidths=function(j){if(this.characterWidth!==j.$characterSize.width){this.fontMetrics=j;var _=this.characterWidth=j.$characterSize.width,$=j.$measureCharWidth("");this.charWidths[et.L]=this.charWidths[et.EN]=this.charWidths[et.ON_R]=_,this.charWidths[et.R]=this.charWidths[et.AN]=$,this.charWidths[et.R_H]=$*.45,this.charWidths[et.B]=this.charWidths[et.RLE]=0,this.currentRow=null}},it.prototype.setShowInvisibles=function(j){this.showInvisibles=j,this.currentRow=null},it.prototype.setEolChar=function(j){this.EOL=j},it.prototype.setContentWidth=function(j){this.contentWidth=j},it.prototype.isRtlLine=function(j){return this.$isRtl?!0:j!=null?this.session.getLine(j).charAt(0)==this.RLE:this.isRtlDir},it.prototype.setRtlDirection=function(j,_){for(var $=j.getCursorPosition(),tt=j.selection.getSelectionAnchor().row;tt<=$.row;tt++)!_&&j.session.getLine(tt).charAt(0)===j.session.$bidiHandler.RLE?j.session.doc.removeInLine(tt,0,1):_&&j.session.getLine(tt).charAt(0)!==j.session.$bidiHandler.RLE&&j.session.doc.insert({column:0,row:tt},j.session.$bidiHandler.RLE)},it.prototype.getPosLeft=function(j){j-=this.wrapIndent;var _=this.line.charAt(0)===this.RLE?1:0,$=j>_?this.session.getOverwrite()?j:j-1:_,tt=et.getVisualFromLogicalIdx($,this.bidiMap),st=this.bidiMap.bidiLevels,lt=0;!this.session.getOverwrite()&&j<=_&&st[tt]%2!==0&&tt++;for(var ht=0;ht<tt;ht++)lt+=this.charWidths[st[ht]];return!this.session.getOverwrite()&&j>_&&st[tt]%2===0&&(lt+=this.charWidths[st[tt]]),this.wrapIndent&&(lt+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(lt+=this.rtlLineOffset),lt},it.prototype.getSelections=function(j,_){var $=this.bidiMap,tt=$.bidiLevels,st,lt=[],ht=0,ft=Math.min(j,_)-this.wrapIndent,ct=Math.max(j,_)-this.wrapIndent,mt=!1,gt=!1,yt=0;this.wrapIndent&&(ht+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var ut,wt=0;wt<tt.length;wt++)ut=$.logicalFromVisual[wt],st=tt[wt],mt=ut>=ft&&ut<ct,mt&&!gt?yt=ht:!mt&&gt&&lt.push({left:yt,width:ht-yt}),ht+=this.charWidths[st],gt=mt;if(mt&&wt===tt.length&&lt.push({left:yt,width:ht-yt}),this.isRtlDir)for(var bt=0;bt<lt.length;bt++)lt[bt].left+=this.rtlLineOffset;return lt},it.prototype.offsetToCol=function($){this.isRtlDir&&($-=this.rtlLineOffset);var _=0,$=Math.max($,0),tt=0,st=0,lt=this.bidiMap.bidiLevels,ht=this.charWidths[lt[st]];for(this.wrapIndent&&($-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);$>tt+ht/2;){if(tt+=ht,st===lt.length-1){ht=0;break}ht=this.charWidths[lt[++st]]}return st>0&&lt[st-1]%2!==0&&lt[st]%2===0?($<tt&&st--,_=this.bidiMap.logicalFromVisual[st]):st>0&&lt[st-1]%2===0&&lt[st]%2!==0?_=1+($>tt?this.bidiMap.logicalFromVisual[st]:this.bidiMap.logicalFromVisual[st-1]):this.isRtlDir&&st===lt.length-1&&ht===0&&lt[st-1]%2===0||!this.isRtlDir&&st===0&&lt[st]%2!==0?_=1+this.bidiMap.logicalFromVisual[st]:(st>0&&lt[st-1]%2!==0&&ht!==0&&st--,_=this.bidiMap.logicalFromVisual[st]),_===0&&this.isRtlDir&&_++,_+this.wrapIndent},it}();o.BidiHandler=nt}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(a,o,rt){var et=a("./lib/oop"),at=a("./lib/lang"),ot=a("./lib/event_emitter").EventEmitter,nt=a("./range").Range,it=function(){function j(_){this.session=_,this.doc=_.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var $=this;this.cursor.on("change",function(tt){$.$cursorChanged=!0,$.$silent||$._emit("changeCursor"),!$.$isEmpty&&!$.$silent&&$._emit("changeSelection"),!$.$keepDesiredColumnOnChange&&tt.old.column!=tt.value.column&&($.$desiredColumn=null)}),this.anchor.on("change",function(){$.$anchorChanged=!0,!$.$isEmpty&&!$.$silent&&$._emit("changeSelection")})}return j.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},j.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},j.prototype.getCursor=function(){return this.lead.getPosition()},j.prototype.setAnchor=function(_,$){this.$isEmpty=!1,this.anchor.setPosition(_,$)},j.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},j.prototype.getSelectionLead=function(){return this.lead.getPosition()},j.prototype.isBackwards=function(){var _=this.anchor,$=this.lead;return _.row>$.row||_.row==$.row&&_.column>$.column},j.prototype.getRange=function(){var _=this.anchor,$=this.lead;return this.$isEmpty?nt.fromPoints($,$):this.isBackwards()?nt.fromPoints($,_):nt.fromPoints(_,$)},j.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},j.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},j.prototype.setRange=function(_,$){var tt=$?_.end:_.start,st=$?_.start:_.end;this.$setSelection(tt.row,tt.column,st.row,st.column)},j.prototype.$setSelection=function(_,$,tt,st){if(!this.$silent){var lt=this.$isEmpty,ht=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(_,$),this.cursor.setPosition(tt,st),this.$isEmpty=!nt.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||lt!=this.$isEmpty||ht)&&this._emit("changeSelection")}},j.prototype.$moveSelection=function(_){var $=this.lead;this.$isEmpty&&this.setSelectionAnchor($.row,$.column),_.call(this)},j.prototype.selectTo=function(_,$){this.$moveSelection(function(){this.moveCursorTo(_,$)})},j.prototype.selectToPosition=function(_){this.$moveSelection(function(){this.moveCursorToPosition(_)})},j.prototype.moveTo=function(_,$){this.clearSelection(),this.moveCursorTo(_,$)},j.prototype.moveToPosition=function(_){this.clearSelection(),this.moveCursorToPosition(_)},j.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},j.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},j.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},j.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},j.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},j.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},j.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},j.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},j.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},j.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},j.prototype.getWordRange=function(_,$){if(typeof $>"u"){var tt=_||this.lead;_=tt.row,$=tt.column}return this.session.getWordRange(_,$)},j.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},j.prototype.selectAWord=function(){var _=this.getCursor(),$=this.session.getAWordRange(_.row,_.column);this.setSelectionRange($)},j.prototype.getLineRange=function(_,$){var tt=typeof _=="number"?_:this.lead.row,st,lt=this.session.getFoldLine(tt);return lt?(tt=lt.start.row,st=lt.end.row):st=tt,$===!0?new nt(tt,0,st,this.session.getLine(st).length):new nt(tt,0,st+1,0)},j.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},j.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},j.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},j.prototype.wouldMoveIntoSoftTab=function(_,$,tt){var st=_.column,lt=_.column+$;return tt<0&&(st=_.column-$,lt=_.column),this.session.isTabStop(_)&&this.doc.getLine(_.row).slice(st,lt).split(" ").length-1==$},j.prototype.moveCursorLeft=function(){var _=this.lead.getPosition(),$;if($=this.session.getFoldAt(_.row,_.column,-1))this.moveCursorTo($.start.row,$.start.column);else if(_.column===0)_.row>0&&this.moveCursorTo(_.row-1,this.doc.getLine(_.row-1).length);else{var tt=this.session.getTabSize();this.wouldMoveIntoSoftTab(_,tt,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-tt):this.moveCursorBy(0,-1)}},j.prototype.moveCursorRight=function(){var _=this.lead.getPosition(),$;if($=this.session.getFoldAt(_.row,_.column,1))this.moveCursorTo($.end.row,$.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var tt=this.session.getTabSize(),_=this.lead;this.wouldMoveIntoSoftTab(_,tt,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,tt):this.moveCursorBy(0,1)}},j.prototype.moveCursorLineStart=function(){var _=this.lead.row,$=this.lead.column,tt=this.session.documentToScreenRow(_,$),st=this.session.screenToDocumentPosition(tt,0),lt=this.session.getDisplayLine(_,null,st.row,st.column),ht=lt.match(/^\s*/);ht[0].length!=$&&!this.session.$useEmacsStyleLineStart&&(st.column+=ht[0].length),this.moveCursorToPosition(st)},j.prototype.moveCursorLineEnd=function(){var _=this.lead,$=this.session.getDocumentLastRowColumnPosition(_.row,_.column);if(this.lead.column==$.column){var tt=this.session.getLine($.row);if($.column==tt.length){var st=tt.search(/\s+$/);st>0&&($.column=st)}}this.moveCursorTo($.row,$.column)},j.prototype.moveCursorFileEnd=function(){var _=this.doc.getLength()-1,$=this.doc.getLine(_).length;this.moveCursorTo(_,$)},j.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},j.prototype.moveCursorLongWordRight=function(){var _=this.lead.row,$=this.lead.column,tt=this.doc.getLine(_),st=tt.substring($);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var lt=this.session.getFoldAt(_,$,1);if(lt){this.moveCursorTo(lt.end.row,lt.end.column);return}if(this.session.nonTokenRe.exec(st)&&($+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,st=tt.substring($)),$>=tt.length){this.moveCursorTo(_,tt.length),this.moveCursorRight(),_<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(st)&&($+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(_,$)},j.prototype.moveCursorLongWordLeft=function(){var _=this.lead.row,$=this.lead.column,tt;if(tt=this.session.getFoldAt(_,$,-1)){this.moveCursorTo(tt.start.row,tt.start.column);return}var st=this.session.getFoldStringAt(_,$,-1);st==null&&(st=this.doc.getLine(_).substring(0,$));var lt=at.stringReverse(st);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(lt)&&($-=this.session.nonTokenRe.lastIndex,lt=lt.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),$<=0){this.moveCursorTo(_,0),this.moveCursorLeft(),_>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(lt)&&($-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(_,$)},j.prototype.$shortWordEndIndex=function(_){var $=0,tt,st=/\s/,lt=this.session.tokenRe;if(lt.lastIndex=0,this.session.tokenRe.exec(_))$=this.session.tokenRe.lastIndex;else{for(;(tt=_[$])&&st.test(tt);)$++;if($<1){for(lt.lastIndex=0;(tt=_[$])&&!lt.test(tt);)if(lt.lastIndex=0,$++,st.test(tt))if($>2){$--;break}else{for(;(tt=_[$])&&st.test(tt);)$++;if($>2)break}}}return lt.lastIndex=0,$},j.prototype.moveCursorShortWordRight=function(){var _=this.lead.row,$=this.lead.column,tt=this.doc.getLine(_),st=tt.substring($),lt=this.session.getFoldAt(_,$,1);if(lt)return this.moveCursorTo(lt.end.row,lt.end.column);if($==tt.length){var ht=this.doc.getLength();do _++,st=this.doc.getLine(_);while(_<ht&&/^\s*$/.test(st));/^\s+/.test(st)||(st=""),$=0}var ft=this.$shortWordEndIndex(st);this.moveCursorTo(_,$+ft)},j.prototype.moveCursorShortWordLeft=function(){var _=this.lead.row,$=this.lead.column,tt;if(tt=this.session.getFoldAt(_,$,-1))return this.moveCursorTo(tt.start.row,tt.start.column);var st=this.session.getLine(_).substring(0,$);if($===0){do _--,st=this.doc.getLine(_);while(_>0&&/^\s*$/.test(st));$=st.length,/\s+$/.test(st)||(st="")}var lt=at.stringReverse(st),ht=this.$shortWordEndIndex(lt);return this.moveCursorTo(_,$-ht)},j.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},j.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},j.prototype.moveCursorBy=function(_,$){var tt=this.session.documentToScreenPosition(this.lead.row,this.lead.column),st;if($===0&&(_!==0&&(this.session.$bidiHandler.isBidiRow(tt.row,this.lead.row)?(st=this.session.$bidiHandler.getPosLeft(tt.column),tt.column=Math.round(st/this.session.$bidiHandler.charWidths[0])):st=tt.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?tt.column=this.$desiredColumn:this.$desiredColumn=tt.column),_!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var lt=this.session.lineWidgets[this.lead.row];_<0?_-=lt.rowsAbove||0:_>0&&(_+=lt.rowCount-(lt.rowsAbove||0))}var ht=this.session.screenToDocumentPosition(tt.row+_,tt.column,st);_!==0&&$===0&&ht.row===this.lead.row&&(ht.column,this.lead.column),this.moveCursorTo(ht.row,ht.column+$,$===0)},j.prototype.moveCursorToPosition=function(_){this.moveCursorTo(_.row,_.column)},j.prototype.moveCursorTo=function(_,$,tt){var st=this.session.getFoldAt(_,$,1);st&&(_=st.start.row,$=st.start.column),this.$keepDesiredColumnOnChange=!0;var lt=this.session.getLine(_);/[\uDC00-\uDFFF]/.test(lt.charAt($))&&lt.charAt($-1)&&(this.lead.row==_&&this.lead.column==$+1?$=$-1:$=$+1),this.lead.setPosition(_,$),this.$keepDesiredColumnOnChange=!1,tt||(this.$desiredColumn=null)},j.prototype.moveCursorToScreen=function(_,$,tt){var st=this.session.screenToDocumentPosition(_,$);this.moveCursorTo(st.row,st.column,tt)},j.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},j.prototype.fromOrientedRange=function(_){this.setSelectionRange(_,_.cursor==_.start),this.$desiredColumn=_.desiredColumn||this.$desiredColumn},j.prototype.toOrientedRange=function(_){var $=this.getRange();return _?(_.start.column=$.start.column,_.start.row=$.start.row,_.end.column=$.end.column,_.end.row=$.end.row):_=$,_.cursor=this.isBackwards()?_.start:_.end,_.desiredColumn=this.$desiredColumn,_},j.prototype.getRangeOfMovements=function(_){var $=this.getCursor();try{_(this);var tt=this.getCursor();return nt.fromPoints($,tt)}catch{return nt.fromPoints($,$)}finally{this.moveCursorToPosition($)}},j.prototype.toJSON=function(){if(this.rangeCount)var _=this.ranges.map(function($){var tt=$.clone();return tt.isBackwards=$.cursor==$.start,tt});else{var _=this.getRange();_.isBackwards=this.isBackwards()}return _},j.prototype.fromJSON=function(_){if(_.start==null)if(this.rangeList&&_.length>1){this.toSingleRange(_[0]);for(var $=_.length;$--;){var tt=nt.fromPoints(_[$].start,_[$].end);_[$].isBackwards&&(tt.cursor=tt.start),this.addRange(tt,!0)}return}else _=_[0];this.rangeList&&this.toSingleRange(_),this.setSelectionRange(_,_.isBackwards)},j.prototype.isEqual=function(_){if((_.length||this.rangeCount)&&_.length!=this.rangeCount)return!1;if(!_.length||!this.ranges)return this.getRange().isEqual(_);for(var $=this.ranges.length;$--;)if(!this.ranges[$].isEqual(_[$]))return!1;return!0},j}();it.prototype.setSelectionAnchor=it.prototype.setAnchor,it.prototype.getSelectionAnchor=it.prototype.getAnchor,it.prototype.setSelectionRange=it.prototype.setRange,et.implement(it.prototype,ot),o.Selection=it}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(a,o,rt){var et=a("./lib/report_error").reportError,at=2e3,ot=function(){function nt(it){this.splitRegex,this.states=it,this.regExps={},this.matchMappings={};for(var j in this.states){for(var _=this.states[j],$=[],tt=0,st=this.matchMappings[j]={defaultToken:"text"},lt="g",ht=[],ft=0;ft<_.length;ft++){var ct=_[ft];if(ct.defaultToken&&(st.defaultToken=ct.defaultToken),ct.caseInsensitive&&lt.indexOf("i")===-1&&(lt+="i"),ct.unicode&&lt.indexOf("u")===-1&&(lt+="u"),ct.regex!=null){ct.regex instanceof RegExp&&(ct.regex=ct.regex.toString().slice(1,-1));var mt=ct.regex,gt=new RegExp("(?:("+mt+")|(.))").exec("a").length-2;Array.isArray(ct.token)?ct.token.length==1||gt==1?ct.token=ct.token[0]:gt-1!=ct.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:ct,groupCount:gt-1}),ct.token=ct.token[0]):(ct.tokenArray=ct.token,ct.token=null,ct.onMatch=this.$arrayTokens):typeof ct.token=="function"&&!ct.onMatch&&(gt>1?ct.onMatch=this.$applyToken:ct.onMatch=ct.token),gt>1&&(/\\\d/.test(ct.regex)?mt=ct.regex.replace(/\\([0-9]+)/g,function(yt,ut){return"\\"+(parseInt(ut,10)+tt+1)}):(gt=1,mt=this.removeCapturingGroups(ct.regex)),!ct.splitRegex&&typeof ct.token!="string"&&ht.push(ct)),st[tt]=ft,tt+=gt,$.push(mt),ct.onMatch||(ct.onMatch=null)}}$.length||(st[0]=0,$.push("$")),ht.forEach(function(yt){yt.splitRegex=this.createSplitterRegexp(yt.regex,lt)},this),this.regExps[j]=new RegExp("("+$.join(")|(")+")|($)",lt)}}return nt.prototype.$setMaxTokenCount=function(it){at=it|0},nt.prototype.$applyToken=function(it){var j=this.splitRegex.exec(it).slice(1),_=this.token.apply(this,j);if(typeof _=="string")return[{type:_,value:it}];for(var $=[],tt=0,st=_.length;tt<st;tt++)j[tt]&&($[$.length]={type:_[tt],value:j[tt]});return $},nt.prototype.$arrayTokens=function(it){if(!it)return[];var j=this.splitRegex.exec(it);if(!j)return"text";for(var _=[],$=this.tokenArray,tt=0,st=$.length;tt<st;tt++)j[tt+1]&&(_[_.length]={type:$[tt],value:j[tt+1]});return _},nt.prototype.removeCapturingGroups=function(it){var j=it.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(_,$){return $?"(?:":_});return j},nt.prototype.createSplitterRegexp=function(it,j){if(it.indexOf("(?=")!=-1){var _=0,$=!1,tt={};it.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(st,lt,ht,ft,ct,mt){return $?$=ct!="]":ct?$=!0:ft?(_==tt.stack&&(tt.end=mt+1,tt.stack=-1),_--):ht&&(_++,ht.length!=1&&(tt.stack=_,tt.start=mt)),st}),tt.end!=null&&/^\)*$/.test(it.substr(tt.end))&&(it=it.substring(0,tt.start)+it.substr(tt.end))}return it.charAt(0)!="^"&&(it="^"+it),it.charAt(it.length-1)!="$"&&(it+="$"),new RegExp(it,(j||"").replace("g",""))},nt.prototype.getLineTokens=function(it,j){if(j&&typeof j!="string"){var _=j.slice(0);j=_[0],j==="#tmp"&&(_.shift(),j=_.shift())}else var _=[];var $=j||"start",tt=this.states[$];tt||($="start",tt=this.states[$]);var st=this.matchMappings[$],lt=this.regExps[$];lt.lastIndex=0;for(var ht,ft=[],ct=0,mt=0,gt={type:null,value:""};ht=lt.exec(it);){var yt=st.defaultToken,ut=null,wt=ht[0],bt=lt.lastIndex;if(bt-wt.length>ct){var vt=it.substring(ct,bt-wt.length);gt.type==yt?gt.value+=vt:(gt.type&&ft.push(gt),gt={type:yt,value:vt})}for(var Et=0;Et<ht.length-2;Et++)if(ht[Et+1]!==void 0){ut=tt[st[Et]],ut.onMatch?yt=ut.onMatch(wt,$,_,it):yt=ut.token,ut.next&&(typeof ut.next=="string"?$=ut.next:$=ut.next($,_),tt=this.states[$],tt||(this.reportError("state doesn't exist",$),$="start",tt=this.states[$]),st=this.matchMappings[$],ct=bt,lt=this.regExps[$],lt.lastIndex=bt),ut.consumeLineEnd&&(ct=bt);break}if(wt){if(typeof yt=="string")(!ut||ut.merge!==!1)&&gt.type===yt?gt.value+=wt:(gt.type&&ft.push(gt),gt={type:yt,value:wt});else if(yt){gt.type&&ft.push(gt),gt={type:null,value:""};for(var Et=0;Et<yt.length;Et++)ft.push(yt[Et])}}if(ct==it.length)break;if(ct=bt,mt++>at){for(mt>2*it.length&&this.reportError("infinite loop with in ace tokenizer",{startState:j,line:it});ct<it.length;)gt.type&&ft.push(gt),gt={value:it.substring(ct,ct+=500),type:"overflow"};$="start",_=[];break}}return gt.type&&ft.push(gt),_.length>1&&_[0]!==$&&_.unshift("#tmp",$),{tokens:ft,state:_.length?_:$}},nt}();ot.prototype.reportError=et,o.Tokenizer=ot}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(a,o,rt){var et=a("../lib/deep_copy").deepCopy,at;at=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(it,j){if(!j){for(var _ in it)this.$rules[_]=it[_];return}for(var _ in it){for(var $=it[_],tt=0;tt<$.length;tt++){var st=$[tt];(st.next||st.onMatch)&&(typeof st.next=="string"&&st.next.indexOf(j)!==0&&(st.next=j+st.next),st.nextState&&st.nextState.indexOf(j)!==0&&(st.nextState=j+st.nextState))}this.$rules[j+_]=$}},this.getRules=function(){return this.$rules},this.embedRules=function(it,j,_,$,tt){var st=typeof it=="function"?new it().getRules():it;if($)for(var lt=0;lt<$.length;lt++)$[lt]=j+$[lt];else{$=[];for(var ht in st)$.push(j+ht)}if(this.addRules(st,j),_)for(var ft=Array.prototype[tt?"push":"unshift"],lt=0;lt<$.length;lt++)ft.apply(this.$rules[$[lt]],et(_));this.$embeds||(this.$embeds=[]),this.$embeds.push(j)},this.getEmbeds=function(){return this.$embeds};var ot=function(it,j){return(it!="start"||j.length)&&j.unshift(this.nextState,it),this.nextState},nt=function(it,j){return j.shift(),j.shift()||"start"};this.normalizeRules=function(){var it=0,j=this.$rules;function _($){var tt=j[$];tt.processed=!0;for(var st=0;st<tt.length;st++){var lt=tt[st],ht=null;Array.isArray(lt)&&(ht=lt,lt={}),!lt.regex&&lt.start&&(lt.regex=lt.start,lt.next||(lt.next=[]),lt.next.push({defaultToken:lt.token},{token:lt.token+".end",regex:lt.end||lt.start,next:"pop"}),lt.token=lt.token+".start",lt.push=!0);var ft=lt.next||lt.push;if(ft&&Array.isArray(ft)){var ct=lt.stateName;ct||(ct=lt.token,typeof ct!="string"&&(ct=ct[0]||""),j[ct]&&(ct+=it++)),j[ct]=ft,lt.next=ct,_(ct)}else ft=="pop"&&(lt.next=nt);if(lt.push&&(lt.nextState=lt.next||lt.push,lt.next=ot,delete lt.push),lt.rules)for(var mt in lt.rules)j[mt]?j[mt].push&&j[mt].push.apply(j[mt],lt.rules[mt]):j[mt]=lt.rules[mt];var gt=typeof lt=="string"?lt:lt.include;if(gt&&(gt==="$self"&&(gt="start"),Array.isArray(gt)?ht=gt.map(function(ut){return j[ut]}):ht=j[gt]),ht){var yt=[st,1].concat(ht);lt.noEscape&&(yt=yt.filter(function(ut){return!ut.next})),tt.splice.apply(tt,yt),st--}lt.keywordMap&&(lt.token=this.createKeywordMapper(lt.keywordMap,lt.defaultToken||"text",lt.caseInsensitive),delete lt.defaultToken)}}Object.keys(j).forEach(_,this)},this.createKeywordMapper=function(it,j,_,$){var tt=Object.create(null);return this.$keywordList=[],Object.keys(it).forEach(function(st){for(var lt=it[st],ht=lt.split($||"|"),ft=ht.length;ft--;){var ct=ht[ft];this.$keywordList.push(ct),_&&(ct=ct.toLowerCase()),tt[ct]=st}},this),it=null,_?function(st){return tt[st.toLowerCase()]||j}:function(st){return tt[st]||j}},this.getKeywords=function(){return this.$keywords}}).call(at.prototype),o.TextHighlightRules=at}),ace.define("ace/mode/behaviour",["require","exports","module"],function(a,o,rt){var et;et=function(){this.$behaviours={}},(function(){this.add=function(at,ot,nt){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[at]:this.$behaviours[at]={}}this.$behaviours[at][ot]=nt},this.addBehaviours=function(at){for(var ot in at)for(var nt in at[ot])this.add(ot,nt,at[ot][nt])},this.remove=function(at){this.$behaviours&&this.$behaviours[at]&&delete this.$behaviours[at]},this.inherit=function(at,ot){if(typeof at=="function")var nt=new at().getBehaviours(ot);else var nt=at.getBehaviours(ot);this.addBehaviours(nt)},this.getBehaviours=function(at){if(at){for(var ot={},nt=0;nt<at.length;nt++)this.$behaviours[at[nt]]&&(ot[at[nt]]=this.$behaviours[at[nt]]);return ot}else return this.$behaviours}}).call(et.prototype),o.Behaviour=et}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(a,o,rt){var et=a("./range").Range,at=function(){function ot(nt,it,j){this.$session=nt,this.$row=it,this.$rowTokens=nt.getTokens(it);var _=nt.getTokenAt(it,j);this.$tokenIndex=_?_.index:-1}return ot.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},ot.prototype.stepForward=function(){this.$tokenIndex+=1;for(var nt;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,nt||(nt=this.$session.getLength()),this.$row>=nt)return this.$row=nt-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},ot.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},ot.prototype.getCurrentTokenRow=function(){return this.$row},ot.prototype.getCurrentTokenColumn=function(){var nt=this.$rowTokens,it=this.$tokenIndex,j=nt[it].start;if(j!==void 0)return j;for(j=0;it>0;)it-=1,j+=nt[it].value.length;return j},ot.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},ot.prototype.getCurrentTokenRange=function(){var nt=this.$rowTokens[this.$tokenIndex],it=this.getCurrentTokenColumn();return new et(this.$row,it,this.$row,it+nt.value.length)},ot}();o.TokenIterator=at}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(a,o,rt){var et=a("../../lib/oop"),at=a("../behaviour").Behaviour,ot=a("../../token_iterator").TokenIterator,nt=a("../../lib/lang"),it=["text","paren.rparen","rparen","paren","punctuation.operator"],j=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],_,$={},tt={'"':'"',"'":"'"},st=function(ft){var ct=-1;if(ft.multiSelect&&(ct=ft.selection.index,$.rangeCount!=ft.multiSelect.rangeCount&&($={rangeCount:ft.multiSelect.rangeCount})),$[ct])return _=$[ct];_=$[ct]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},lt=function(ft,ct,mt,gt){var yt=ft.end.row-ft.start.row;return{text:mt+ct+gt,selection:[0,ft.start.column+1,yt,ft.end.column+(yt?0:1)]}},ht;ht=function(ft){ft=ft||{},this.add("braces","insertion",function(ct,mt,gt,yt,ut){var wt=gt.getCursorPosition(),bt=yt.doc.getLine(wt.row);if(ut=="{"){st(gt);var vt=gt.getSelectionRange(),Et=yt.doc.getTextRange(vt),$t=yt.getTokenAt(wt.row,wt.column);if(Et!==""&&Et!=="{"&&gt.getWrapBehavioursEnabled())return lt(vt,Et,"{","}");if($t&&/(?:string)\.quasi|\.xml/.test($t.type)){var Tt=[/tag\-(?:open|name)/,/attribute\-name/];return Tt.some(function(Vt){return Vt.test($t.type)})||/(string)\.quasi/.test($t.type)&&$t.value[wt.column-$t.start-1]!=="$"?void 0:(ht.recordAutoInsert(gt,yt,"}"),{text:"{}",selection:[1,1]})}else if(ht.isSaneInsertion(gt,yt))return/[\]\}\)]/.test(bt[wt.column])||gt.inMultiSelectMode||ft.braces?(ht.recordAutoInsert(gt,yt,"}"),{text:"{}",selection:[1,1]}):(ht.recordMaybeInsert(gt,yt,"{"),{text:"{",selection:[1,1]})}else if(ut=="}"){st(gt);var At=bt.substring(wt.column,wt.column+1);if(At=="}"){var Ct=yt.$findOpeningBracket("}",{column:wt.column+1,row:wt.row});if(Ct!==null&&ht.isAutoInsertedClosing(wt,bt,ut))return ht.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(ut==`
`||ut==`\r
`){st(gt);var It="";ht.isMaybeInsertedClosing(wt,bt)&&(It=nt.stringRepeat("}",_.maybeInsertedBrackets),ht.clearMaybeInsertedClosing());var At=bt.substring(wt.column,wt.column+1);if(At==="}"){var Lt=yt.findMatchingBracket({row:wt.row,column:wt.column+1},"}");if(!Lt)return null;var Ft=this.$getIndent(yt.getLine(Lt.row))}else if(It)var Ft=this.$getIndent(bt);else{ht.clearMaybeInsertedClosing();return}var Dt=Ft+yt.getTabString();return{text:`
`+Dt+`
`+Ft+It,selection:[1,Dt.length,1,Dt.length]}}else ht.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(ct,mt,gt,yt,ut){var wt=yt.doc.getTextRange(ut);if(!ut.isMultiLine()&&wt=="{"){st(gt);var bt=yt.doc.getLine(ut.start.row),vt=bt.substring(ut.end.column,ut.end.column+1);if(vt=="}")return ut.end.column++,ut;_.maybeInsertedBrackets--}}),this.add("parens","insertion",function(ct,mt,gt,yt,ut){if(ut=="("){st(gt);var wt=gt.getSelectionRange(),bt=yt.doc.getTextRange(wt);if(bt!==""&&gt.getWrapBehavioursEnabled())return lt(wt,bt,"(",")");if(ht.isSaneInsertion(gt,yt))return ht.recordAutoInsert(gt,yt,")"),{text:"()",selection:[1,1]}}else if(ut==")"){st(gt);var vt=gt.getCursorPosition(),Et=yt.doc.getLine(vt.row),$t=Et.substring(vt.column,vt.column+1);if($t==")"){var Tt=yt.$findOpeningBracket(")",{column:vt.column+1,row:vt.row});if(Tt!==null&&ht.isAutoInsertedClosing(vt,Et,ut))return ht.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(ct,mt,gt,yt,ut){var wt=yt.doc.getTextRange(ut);if(!ut.isMultiLine()&&wt=="("){st(gt);var bt=yt.doc.getLine(ut.start.row),vt=bt.substring(ut.start.column+1,ut.start.column+2);if(vt==")")return ut.end.column++,ut}}),this.add("brackets","insertion",function(ct,mt,gt,yt,ut){if(ut=="["){st(gt);var wt=gt.getSelectionRange(),bt=yt.doc.getTextRange(wt);if(bt!==""&&gt.getWrapBehavioursEnabled())return lt(wt,bt,"[","]");if(ht.isSaneInsertion(gt,yt))return ht.recordAutoInsert(gt,yt,"]"),{text:"[]",selection:[1,1]}}else if(ut=="]"){st(gt);var vt=gt.getCursorPosition(),Et=yt.doc.getLine(vt.row),$t=Et.substring(vt.column,vt.column+1);if($t=="]"){var Tt=yt.$findOpeningBracket("]",{column:vt.column+1,row:vt.row});if(Tt!==null&&ht.isAutoInsertedClosing(vt,Et,ut))return ht.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(ct,mt,gt,yt,ut){var wt=yt.doc.getTextRange(ut);if(!ut.isMultiLine()&&wt=="["){st(gt);var bt=yt.doc.getLine(ut.start.row),vt=bt.substring(ut.start.column+1,ut.start.column+2);if(vt=="]")return ut.end.column++,ut}}),this.add("string_dquotes","insertion",function(ct,mt,gt,yt,ut){var wt=yt.$mode.$quotes||tt;if(ut.length==1&&wt[ut]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(ut)!=-1)return;st(gt);var bt=ut,vt=gt.getSelectionRange(),Et=yt.doc.getTextRange(vt);if(Et!==""&&(Et.length!=1||!wt[Et])&&gt.getWrapBehavioursEnabled())return lt(vt,Et,bt,bt);if(!Et){var $t=gt.getCursorPosition(),Tt=yt.doc.getLine($t.row),At=Tt.substring($t.column-1,$t.column),Ct=Tt.substring($t.column,$t.column+1),It=yt.getTokenAt($t.row,$t.column),Lt=yt.getTokenAt($t.row,$t.column+1);if(At=="\\"&&It&&/escape/.test(It.type))return null;var Ft=It&&/string|escape/.test(It.type),Dt=!Lt||/string|escape/.test(Lt.type),Vt;if(Ct==bt)Vt=Ft!==Dt,Vt&&/string\.end/.test(Lt.type)&&(Vt=!1);else{if(Ft&&!Dt||Ft&&Dt)return null;var Ut=yt.$mode.tokenRe;Ut.lastIndex=0;var Qt=Ut.test(At);Ut.lastIndex=0;var Kt=Ut.test(Ct),Ht=yt.$mode.$pairQuotesAfter,qt=Ht&&Ht[bt]&&Ht[bt].test(At);if(!qt&&Qt||Kt||Ct&&!/[\s;,.})\]\\]/.test(Ct))return null;var nr=Tt[$t.column-2];if(At==bt&&(nr==bt||Ut.test(nr)))return null;Vt=!0}return{text:Vt?bt+bt:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(ct,mt,gt,yt,ut){var wt=yt.$mode.$quotes||tt,bt=yt.doc.getTextRange(ut);if(!ut.isMultiLine()&&wt.hasOwnProperty(bt)){st(gt);var vt=yt.doc.getLine(ut.start.row),Et=vt.substring(ut.start.column+1,ut.start.column+2);if(Et==bt)return ut.end.column++,ut}}),ft.closeDocComment!==!1&&this.add("doc comment end","insertion",function(ct,mt,gt,yt,ut){if(ct==="doc-start"&&(ut===`
`||ut===`\r
`)&&gt.selection.isEmpty()){var wt=gt.getCursorPosition();if(wt.column===0)return;for(var bt=yt.doc.getLine(wt.row),vt=yt.doc.getLine(wt.row+1),Et=yt.getTokens(wt.row),$t=0,Tt=0;Tt<Et.length;Tt++){$t+=Et[Tt].value.length;var At=Et[Tt];if($t>=wt.column){if($t===wt.column){if(!/\.doc/.test(At.type))return;if(/\*\//.test(At.value)){var Ct=Et[Tt+1];if(!Ct||!/\.doc/.test(Ct.type))return}}var It=wt.column-($t-At.value.length),Lt=At.value.indexOf("*/"),Ft=At.value.indexOf("/**",Lt>-1?Lt+2:0);if(Ft!==-1&&It>Ft&&It<Ft+3||Lt!==-1&&Ft!==-1&&It>=Lt&&It<=Ft||!/\.doc/.test(At.type))return;break}}var Dt=this.$getIndent(bt);if(/\s*\*/.test(vt))return/^\s*\*/.test(bt)?{text:ut+Dt+"* ",selection:[1,2+Dt.length,1,2+Dt.length]}:{text:ut+Dt+" * ",selection:[1,3+Dt.length,1,3+Dt.length]};if(/\/\*\*/.test(bt.substring(0,wt.column)))return{text:ut+Dt+" * "+ut+" "+Dt+"*/",selection:[1,4+Dt.length,1,4+Dt.length]}}})},ht.isSaneInsertion=function(ft,ct){var mt=ft.getCursorPosition(),gt=new ot(ct,mt.row,mt.column);if(!this.$matchTokenType(gt.getCurrentToken()||"text",it)){if(/[)}\]]/.test(ft.session.getLine(mt.row)[mt.column]))return!0;var yt=new ot(ct,mt.row,mt.column+1);if(!this.$matchTokenType(yt.getCurrentToken()||"text",it))return!1}return gt.stepForward(),gt.getCurrentTokenRow()!==mt.row||this.$matchTokenType(gt.getCurrentToken()||"text",j)},ht.$matchTokenType=function(ft,ct){return ct.indexOf(ft.type||ft)>-1},ht.recordAutoInsert=function(ft,ct,mt){var gt=ft.getCursorPosition(),yt=ct.doc.getLine(gt.row);this.isAutoInsertedClosing(gt,yt,_.autoInsertedLineEnd[0])||(_.autoInsertedBrackets=0),_.autoInsertedRow=gt.row,_.autoInsertedLineEnd=mt+yt.substr(gt.column),_.autoInsertedBrackets++},ht.recordMaybeInsert=function(ft,ct,mt){var gt=ft.getCursorPosition(),yt=ct.doc.getLine(gt.row);this.isMaybeInsertedClosing(gt,yt)||(_.maybeInsertedBrackets=0),_.maybeInsertedRow=gt.row,_.maybeInsertedLineStart=yt.substr(0,gt.column)+mt,_.maybeInsertedLineEnd=yt.substr(gt.column),_.maybeInsertedBrackets++},ht.isAutoInsertedClosing=function(ft,ct,mt){return _.autoInsertedBrackets>0&&ft.row===_.autoInsertedRow&&mt===_.autoInsertedLineEnd[0]&&ct.substr(ft.column)===_.autoInsertedLineEnd},ht.isMaybeInsertedClosing=function(ft,ct){return _.maybeInsertedBrackets>0&&ft.row===_.maybeInsertedRow&&ct.substr(ft.column)===_.maybeInsertedLineEnd&&ct.substr(0,ft.column)==_.maybeInsertedLineStart},ht.popAutoInsertedClosing=function(){_.autoInsertedLineEnd=_.autoInsertedLineEnd.substr(1),_.autoInsertedBrackets--},ht.clearMaybeInsertedClosing=function(){_&&(_.maybeInsertedBrackets=0,_.maybeInsertedRow=-1)},et.inherits(ht,at),o.CstyleBehaviour=ht}),ace.define("ace/unicode",["require","exports","module"],function(a,o,rt){for(var et=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],at=0,ot=[],nt=0;nt<et.length;nt+=2)ot.push(at+=et[nt]),et[nt+1]&&ot.push(45,at+=et[nt+1]);o.wordChars=String.fromCharCode.apply(null,ot)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(a,o,rt){var et=a("../config"),at=a("../tokenizer").Tokenizer,ot=a("./text_highlight_rules").TextHighlightRules,nt=a("./behaviour/cstyle").CstyleBehaviour,it=a("../unicode"),j=a("../lib/lang"),_=a("../token_iterator").TokenIterator,$=a("../range").Range,tt;tt=function(){this.HighlightRules=ot},(function(){this.$defaultBehaviour=new nt,this.tokenRe=new RegExp("^["+it.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+it.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new at(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(st,lt,ht,ft){var ct=lt.doc,mt=!0,gt=!0,yt=1/0,ut=lt.getTabSize(),wt=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var Et=this.lineCommentStart.map(j.escapeRegExp).join("|"),bt=this.lineCommentStart[0];else var Et=j.escapeRegExp(this.lineCommentStart),bt=this.lineCommentStart;Et=new RegExp("^(\\s*)(?:"+Et+") ?"),wt=lt.getUseSoftTabs();var At=function(Kt,Ht){var qt=Kt.match(Et);if(qt){var nr=qt[1].length,tr=qt[0].length;!Lt(Kt,nr,tr)&&qt[0][tr-1]==" "&&tr--,ct.removeInLine(Ht,nr,tr)}},It=bt+" ",Tt=function(Kt,Ht){(!mt||/\S/.test(Kt))&&(Lt(Kt,yt,yt)?ct.insertInLine({row:Ht,column:yt},It):ct.insertInLine({row:Ht,column:yt},bt))},Ct=function(Kt,Ht){return Et.test(Kt)},Lt=function(Kt,Ht,qt){for(var nr=0;Ht--&&Kt.charAt(Ht)==" ";)nr++;if(nr%ut!=0)return!1;for(var nr=0;Kt.charAt(qt++)==" ";)nr++;return ut>2?nr%ut!=ut-1:nr%ut==0}}else{if(!this.blockComment)return!1;var bt=this.blockComment.start,vt=this.blockComment.end,Et=new RegExp("^(\\s*)(?:"+j.escapeRegExp(bt)+")"),$t=new RegExp("(?:"+j.escapeRegExp(vt)+")\\s*$"),Tt=function(Vt,Ut){Ct(Vt,Ut)||(!mt||/\S/.test(Vt))&&(ct.insertInLine({row:Ut,column:Vt.length},vt),ct.insertInLine({row:Ut,column:yt},bt))},At=function(Vt,Ut){var Qt;(Qt=Vt.match($t))&&ct.removeInLine(Ut,Vt.length-Qt[0].length,Vt.length),(Qt=Vt.match(Et))&&ct.removeInLine(Ut,Qt[1].length,Qt[0].length)},Ct=function(Vt,Ut){if(Et.test(Vt))return!0;for(var Qt=lt.getTokens(Ut),Kt=0;Kt<Qt.length;Kt++)if(Qt[Kt].type==="comment")return!0}}function Ft(Vt){for(var Ut=ht;Ut<=ft;Ut++)Vt(ct.getLine(Ut),Ut)}var Dt=1/0;Ft(function(Vt,Ut){var Qt=Vt.search(/\S/);Qt!==-1?(Qt<yt&&(yt=Qt),gt&&!Ct(Vt,Ut)&&(gt=!1)):Dt>Vt.length&&(Dt=Vt.length)}),yt==1/0&&(yt=Dt,mt=!1,gt=!1),wt&&yt%ut!=0&&(yt=Math.floor(yt/ut)*ut),Ft(gt?At:Tt)},this.toggleBlockComment=function(st,lt,ht,ft){var ct=this.blockComment;if(ct){!ct.start&&ct[0]&&(ct=ct[0]);var mt=new _(lt,ft.row,ft.column),gt=mt.getCurrentToken();lt.selection;var yt=lt.selection.toOrientedRange(),ut,wt;if(gt&&/comment/.test(gt.type)){for(var bt,vt;gt&&/comment/.test(gt.type);){var Et=gt.value.indexOf(ct.start);if(Et!=-1){var $t=mt.getCurrentTokenRow(),Tt=mt.getCurrentTokenColumn()+Et;bt=new $($t,Tt,$t,Tt+ct.start.length);break}gt=mt.stepBackward()}for(var mt=new _(lt,ft.row,ft.column),gt=mt.getCurrentToken();gt&&/comment/.test(gt.type);){var Et=gt.value.indexOf(ct.end);if(Et!=-1){var $t=mt.getCurrentTokenRow(),Tt=mt.getCurrentTokenColumn()+Et;vt=new $($t,Tt,$t,Tt+ct.end.length);break}gt=mt.stepForward()}vt&&lt.remove(vt),bt&&(lt.remove(bt),ut=bt.start.row,wt=-ct.start.length)}else wt=ct.start.length,ut=ht.start.row,lt.insert(ht.end,ct.end),lt.insert(ht.start,ct.start);yt.start.row==ut&&(yt.start.column+=wt),yt.end.row==ut&&(yt.end.column+=wt),lt.selection.fromOrientedRange(yt)}},this.getNextLineIndent=function(st,lt,ht){return this.$getIndent(lt)},this.checkOutdent=function(st,lt,ht){return!1},this.autoOutdent=function(st,lt,ht){},this.$getIndent=function(st){return st.match(/^\s*/)[0]},this.createWorker=function(st){return null},this.createModeDelegates=function(st){this.$embeds=[],this.$modes={};for(var lt in st)if(st[lt]){var ht=st[lt],ft=ht.prototype.$id,ct=et.$modes[ft];ct||(et.$modes[ft]=ct=new ht),et.$modes[lt]||(et.$modes[lt]=ct),this.$embeds.push(lt),this.$modes[lt]=ct}for(var mt=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],gt=function(ut){(function(wt){var bt=mt[ut],vt=wt[bt];wt[mt[ut]]=function(){return this.$delegator(bt,arguments,vt)}})(yt)},yt=this,lt=0;lt<mt.length;lt++)gt(lt)},this.$delegator=function(st,lt,ht){var ft=lt[0]||"start";if(typeof ft!="string"){if(Array.isArray(ft[2])){var ct=ft[2][ft[2].length-1],mt=this.$modes[ct];if(mt)return mt[st].apply(mt,[ft[1]].concat([].slice.call(lt,1)))}ft=ft[0]||"start"}for(var gt=0;gt<this.$embeds.length;gt++)if(this.$modes[this.$embeds[gt]]){var yt=ft.split(this.$embeds[gt]);if(!yt[0]&&yt[1]){lt[0]=yt[1];var mt=this.$modes[this.$embeds[gt]];return mt[st].apply(mt,lt)}}var ut=ht.apply(this,lt);return ht?ut:void 0},this.transformAction=function(st,lt,ht,ft,ct){if(this.$behaviour){var mt=this.$behaviour.getBehaviours();for(var gt in mt)if(mt[gt][lt]){var yt=mt[gt][lt].apply(this,arguments);if(yt)return yt}}},this.getKeywords=function(st){if(!this.completionKeywords){var lt=this.$tokenizer.rules,ht=[];for(var ft in lt)for(var ct=lt[ft],mt=0,gt=ct.length;mt<gt;mt++)if(typeof ct[mt].token=="string")/keyword|support|storage/.test(ct[mt].token)&&ht.push(ct[mt].regex);else if(typeof ct[mt].token=="object"){for(var yt=0,ut=ct[mt].token.length;yt<ut;yt++)if(/keyword|support|storage/.test(ct[mt].token[yt])){var ft=ct[mt].regex.match(/\(.+?\)/g)[yt];ht.push(ft.substr(1,ft.length-2))}}this.completionKeywords=ht}return st?ht.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(st,lt,ht,ft){var ct=this.$keywordList||this.$createKeywordList();return ct.map(function(mt){return{name:mt,value:mt,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(tt.prototype),o.Mode=tt}),ace.define("ace/apply_delta",["require","exports","module"],function(a,o,rt){o.applyDelta=function(et,at,ot){var nt=at.start.row,it=at.start.column,j=et[nt]||"";switch(at.action){case"insert":var _=at.lines;if(_.length===1)et[nt]=j.substring(0,it)+at.lines[0]+j.substring(it);else{var $=[nt,1].concat(at.lines);et.splice.apply(et,$),et[nt]=j.substring(0,it)+et[nt],et[nt+at.lines.length-1]+=j.substring(it)}break;case"remove":var tt=at.end.column,st=at.end.row;nt===st?et[nt]=j.substring(0,it)+j.substring(tt):et.splice(nt,st-nt+1,j.substring(0,it)+et[st].substring(tt));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,o,rt){var et=a("./lib/oop"),at=a("./lib/event_emitter").EventEmitter,ot=function(){function j(_,$,tt){this.$onChange=this.onChange.bind(this),this.attach(_),typeof $!="number"?this.setPosition($.row,$.column):this.setPosition($,tt)}return j.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},j.prototype.getDocument=function(){return this.document},j.prototype.onChange=function(_){if(!(_.start.row==_.end.row&&_.start.row!=this.row)&&!(_.start.row>this.row)){var $=it(_,{row:this.row,column:this.column},this.$insertRight);this.setPosition($.row,$.column,!0)}},j.prototype.setPosition=function(_,$,tt){var st;if(tt?st={row:_,column:$}:st=this.$clipPositionToDocument(_,$),!(this.row==st.row&&this.column==st.column)){var lt={row:this.row,column:this.column};this.row=st.row,this.column=st.column,this._signal("change",{old:lt,value:st})}},j.prototype.detach=function(){this.document.off("change",this.$onChange)},j.prototype.attach=function(_){this.document=_||this.document,this.document.on("change",this.$onChange)},j.prototype.$clipPositionToDocument=function(_,$){var tt={};return _>=this.document.getLength()?(tt.row=Math.max(0,this.document.getLength()-1),tt.column=this.document.getLine(tt.row).length):_<0?(tt.row=0,tt.column=0):(tt.row=_,tt.column=Math.min(this.document.getLine(tt.row).length,Math.max(0,$))),$<0&&(tt.column=0),tt},j}();ot.prototype.$insertRight=!1,et.implement(ot.prototype,at);function nt(j,_,$){var tt=$?j.column<=_.column:j.column<_.column;return j.row<_.row||j.row==_.row&&tt}function it(j,_,$){var tt=j.action=="insert",st=(tt?1:-1)*(j.end.row-j.start.row),lt=(tt?1:-1)*(j.end.column-j.start.column),ht=j.start,ft=tt?ht:j.end;return nt(_,ht,$)?{row:_.row,column:_.column}:nt(ft,_,!$)?{row:_.row+st,column:_.column+(_.row==ft.row?lt:0)}:{row:ht.row,column:ht.column}}o.Anchor=ot}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(a,o,rt){var et=a("./lib/oop"),at=a("./apply_delta").applyDelta,ot=a("./lib/event_emitter").EventEmitter,nt=a("./range").Range,it=a("./anchor").Anchor,j=function(){function _($){this.$lines=[""],$.length===0?this.$lines=[""]:Array.isArray($)?this.insertMergedLines({row:0,column:0},$):this.insert({row:0,column:0},$)}return _.prototype.setValue=function($){var tt=this.getLength()-1;this.remove(new nt(0,0,tt,this.getLine(tt).length)),this.insert({row:0,column:0},$||"")},_.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},_.prototype.createAnchor=function($,tt){return new it(this,$,tt)},_.prototype.$detectNewLine=function($){var tt=$.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=tt?tt[1]:`
`,this._signal("changeNewLineMode")},_.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},_.prototype.setNewLineMode=function($){this.$newLineMode!==$&&(this.$newLineMode=$,this._signal("changeNewLineMode"))},_.prototype.getNewLineMode=function(){return this.$newLineMode},_.prototype.isNewLine=function($){return $==`\r
`||$=="\r"||$==`
`},_.prototype.getLine=function($){return this.$lines[$]||""},_.prototype.getLines=function($,tt){return this.$lines.slice($,tt+1)},_.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},_.prototype.getLength=function(){return this.$lines.length},_.prototype.getTextRange=function($){return this.getLinesForRange($).join(this.getNewLineCharacter())},_.prototype.getLinesForRange=function($){var tt;if($.start.row===$.end.row)tt=[this.getLine($.start.row).substring($.start.column,$.end.column)];else{tt=this.getLines($.start.row,$.end.row),tt[0]=(tt[0]||"").substring($.start.column);var st=tt.length-1;$.end.row-$.start.row==st&&(tt[st]=tt[st].substring(0,$.end.column))}return tt},_.prototype.insertLines=function($,tt){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines($,tt)},_.prototype.removeLines=function($,tt){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines($,tt)},_.prototype.insertNewLine=function($){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines($,["",""])},_.prototype.insert=function($,tt){return this.getLength()<=1&&this.$detectNewLine(tt),this.insertMergedLines($,this.$split(tt))},_.prototype.insertInLine=function($,tt){var st=this.clippedPos($.row,$.column),lt=this.pos($.row,$.column+tt.length);return this.applyDelta({start:st,end:lt,action:"insert",lines:[tt]},!0),this.clonePos(lt)},_.prototype.clippedPos=function($,tt){var st=this.getLength();$===void 0?$=st:$<0?$=0:$>=st&&($=st-1,tt=void 0);var lt=this.getLine($);return tt==null&&(tt=lt.length),tt=Math.min(Math.max(tt,0),lt.length),{row:$,column:tt}},_.prototype.clonePos=function($){return{row:$.row,column:$.column}},_.prototype.pos=function($,tt){return{row:$,column:tt}},_.prototype.$clipPosition=function($){var tt=this.getLength();return $.row>=tt?($.row=Math.max(0,tt-1),$.column=this.getLine(tt-1).length):($.row=Math.max(0,$.row),$.column=Math.min(Math.max($.column,0),this.getLine($.row).length)),$},_.prototype.insertFullLines=function($,tt){$=Math.min(Math.max($,0),this.getLength());var st=0;$<this.getLength()?(tt=tt.concat([""]),st=0):(tt=[""].concat(tt),$--,st=this.$lines[$].length),this.insertMergedLines({row:$,column:st},tt)},_.prototype.insertMergedLines=function($,tt){var st=this.clippedPos($.row,$.column),lt={row:st.row+tt.length-1,column:(tt.length==1?st.column:0)+tt[tt.length-1].length};return this.applyDelta({start:st,end:lt,action:"insert",lines:tt}),this.clonePos(lt)},_.prototype.remove=function($){var tt=this.clippedPos($.start.row,$.start.column),st=this.clippedPos($.end.row,$.end.column);return this.applyDelta({start:tt,end:st,action:"remove",lines:this.getLinesForRange({start:tt,end:st})}),this.clonePos(tt)},_.prototype.removeInLine=function($,tt,st){var lt=this.clippedPos($,tt),ht=this.clippedPos($,st);return this.applyDelta({start:lt,end:ht,action:"remove",lines:this.getLinesForRange({start:lt,end:ht})},!0),this.clonePos(lt)},_.prototype.removeFullLines=function($,tt){$=Math.min(Math.max(0,$),this.getLength()-1),tt=Math.min(Math.max(0,tt),this.getLength()-1);var st=tt==this.getLength()-1&&$>0,lt=tt<this.getLength()-1,ht=st?$-1:$,ft=st?this.getLine(ht).length:0,ct=lt?tt+1:tt,mt=lt?0:this.getLine(ct).length,gt=new nt(ht,ft,ct,mt),yt=this.$lines.slice($,tt+1);return this.applyDelta({start:gt.start,end:gt.end,action:"remove",lines:this.getLinesForRange(gt)}),yt},_.prototype.removeNewLine=function($){$<this.getLength()-1&&$>=0&&this.applyDelta({start:this.pos($,this.getLine($).length),end:this.pos($+1,0),action:"remove",lines:["",""]})},_.prototype.replace=function($,tt){if($ instanceof nt||($=nt.fromPoints($.start,$.end)),tt.length===0&&$.isEmpty())return $.start;if(tt==this.getTextRange($))return $.end;this.remove($);var st;return tt?st=this.insert($.start,tt):st=$.start,st},_.prototype.applyDeltas=function($){for(var tt=0;tt<$.length;tt++)this.applyDelta($[tt])},_.prototype.revertDeltas=function($){for(var tt=$.length-1;tt>=0;tt--)this.revertDelta($[tt])},_.prototype.applyDelta=function($,tt){var st=$.action=="insert";(st?$.lines.length<=1&&!$.lines[0]:!nt.comparePoints($.start,$.end))||(st&&$.lines.length>2e4?this.$splitAndapplyLargeDelta($,2e4):(at(this.$lines,$,tt),this._signal("change",$)))},_.prototype.$safeApplyDelta=function($){var tt=this.$lines.length;($.action=="remove"&&$.start.row<tt&&$.end.row<tt||$.action=="insert"&&$.start.row<=tt)&&this.applyDelta($)},_.prototype.$splitAndapplyLargeDelta=function($,tt){for(var st=$.lines,lt=st.length-tt+1,ht=$.start.row,ft=$.start.column,ct=0,mt=0;ct<lt;ct=mt){mt+=tt-1;var gt=st.slice(ct,mt);gt.push(""),this.applyDelta({start:this.pos(ht+ct,ft),end:this.pos(ht+mt,ft=0),action:$.action,lines:gt},!0)}$.lines=st.slice(ct),$.start.row=ht+ct,$.start.column=ft,this.applyDelta($,!0)},_.prototype.revertDelta=function($){this.$safeApplyDelta({start:this.clonePos($.start),end:this.clonePos($.end),action:$.action=="insert"?"remove":"insert",lines:$.lines.slice()})},_.prototype.indexToPosition=function($,tt){for(var st=this.$lines||this.getAllLines(),lt=this.getNewLineCharacter().length,ht=tt||0,ft=st.length;ht<ft;ht++)if($-=st[ht].length+lt,$<0)return{row:ht,column:$+st[ht].length+lt};return{row:ft-1,column:$+st[ft-1].length+lt}},_.prototype.positionToIndex=function($,tt){for(var st=this.$lines||this.getAllLines(),lt=this.getNewLineCharacter().length,ht=0,ft=Math.min($.row,st.length),ct=tt||0;ct<ft;++ct)ht+=st[ct].length+lt;return ht+$.column},_.prototype.$split=function($){return $.split(/\r\n|\r|\n/)},_}();j.prototype.$autoNewLine="",j.prototype.$newLineMode="auto",et.implement(j.prototype,ot),o.Document=j}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,o,rt){var et=a("./lib/oop"),at=a("./lib/event_emitter").EventEmitter,ot=function(){function nt(it,j){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=it;var _=this;this.$worker=function(){if(_.running){for(var $=new Date,tt=_.currentLine,st=-1,lt=_.doc,ht=tt;_.lines[tt];)tt++;var ft=lt.getLength(),ct=0;for(_.running=!1;tt<ft;){_.$tokenizeRow(tt),st=tt;do tt++;while(_.lines[tt]);if(ct++,ct%5===0&&new Date-$>20){_.running=setTimeout(_.$worker,20);break}}_.currentLine=tt,st==-1&&(st=tt),ht<=st&&_.fireUpdateEvent(ht,st)}}}return nt.prototype.setTokenizer=function(it){this.tokenizer=it,this.lines=[],this.states=[],this.start(0)},nt.prototype.setDocument=function(it){this.doc=it,this.lines=[],this.states=[],this.stop()},nt.prototype.fireUpdateEvent=function(it,j){var _={first:it,last:j};this._signal("update",{data:_})},nt.prototype.start=function(it){this.currentLine=Math.min(it||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},nt.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},nt.prototype.$updateOnChange=function(it){var j=it.start.row,_=it.end.row-j;if(_===0)this.lines[j]=null;else if(it.action=="remove")this.lines.splice(j,_+1,null),this.states.splice(j,_+1,null);else{var $=Array(_+1);$.unshift(j,1),this.lines.splice.apply(this.lines,$),this.states.splice.apply(this.states,$)}this.currentLine=Math.min(j,this.currentLine,this.doc.getLength()),this.stop()},nt.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},nt.prototype.getTokens=function(it){return this.lines[it]||this.$tokenizeRow(it)},nt.prototype.getState=function(it){return this.currentLine==it&&this.$tokenizeRow(it),this.states[it]||"start"},nt.prototype.$tokenizeRow=function(it){var j=this.doc.getLine(it),_=this.states[it-1],$=this.tokenizer.getLineTokens(j,_,it);return this.states[it]+""!=$.state+""?(this.states[it]=$.state,this.lines[it+1]=null,this.currentLine>it+1&&(this.currentLine=it+1)):this.currentLine==it&&(this.currentLine=it+1),this.lines[it]=$.tokens},nt.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},nt}();et.implement(ot.prototype,at),o.BackgroundTokenizer=ot}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(a,o,rt){var et=a("./lib/lang"),at=a("./range").Range,ot=function(){function nt(it,j,_){_===void 0&&(_="text"),this.setRegexp(it),this.clazz=j,this.type=_}return nt.prototype.setRegexp=function(it){this.regExp+""!=it+""&&(this.regExp=it,this.cache=[])},nt.prototype.update=function(it,j,_,$){if(this.regExp)for(var tt=$.firstRow,st=$.lastRow,lt={},ht=tt;ht<=st;ht++){var ft=this.cache[ht];ft==null&&(ft=et.getMatchOffsets(_.getLine(ht),this.regExp),ft.length>this.MAX_RANGES&&(ft=ft.slice(0,this.MAX_RANGES)),ft=ft.map(function(yt){return new at(ht,yt.offset,ht,yt.offset+yt.length)}),this.cache[ht]=ft.length?ft:"");for(var ct=ft.length;ct--;){var mt=ft[ct].toScreenRange(_),gt=mt.toString();lt[gt]||(lt[gt]=!0,j.drawSingleLineMarker(it,mt,this.clazz,$))}}},nt}();ot.prototype.MAX_RANGES=500,o.SearchHighlight=ot}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(a,o,rt){var et=function(){function yt(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return yt.prototype.addSession=function(ut){this.$session=ut},yt.prototype.add=function(ut,wt,bt){if(!this.$fromUndo&&ut!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),wt===!1||!this.lastDeltas){this.lastDeltas=[];var vt=this.$undoStack.length;vt>this.$undoDepth-1&&this.$undoStack.splice(0,vt-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),ut.id=this.$rev=++this.$maxRev}(ut.action=="remove"||ut.action=="insert")&&(this.$lastDelta=ut),this.lastDeltas.push(ut)}},yt.prototype.addSelection=function(ut,wt){this.selections.push({value:ut,rev:wt||this.$rev})},yt.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},yt.prototype.markIgnored=function(ut,wt){wt==null&&(wt=this.$rev+1);for(var bt=this.$undoStack,vt=bt.length;vt--;){var Et=bt[vt][0];if(Et.id<=ut)break;Et.id<wt&&(Et.ignore=!0)}this.lastDeltas=null},yt.prototype.getSelection=function(ut,wt){for(var bt=this.selections,vt=bt.length;vt--;){var Et=bt[vt];if(Et.rev<ut)return wt&&(Et=bt[vt+1]),Et}},yt.prototype.getRevision=function(){return this.$rev},yt.prototype.getDeltas=function(ut,wt){wt==null&&(wt=this.$rev+1);for(var bt=this.$undoStack,vt=null,Et=0,$t=bt.length;$t--;){var Tt=bt[$t][0];if(Tt.id<wt&&!vt&&(vt=$t+1),Tt.id<=ut){Et=$t+1;break}}return bt.slice(Et,vt)},yt.prototype.getChangedRanges=function(ut,wt){wt==null&&(wt=this.$rev+1)},yt.prototype.getChangedLines=function(ut,wt){wt==null&&(wt=this.$rev+1)},yt.prototype.undo=function(ut,wt){this.lastDeltas=null;var bt=this.$undoStack;if(at(bt,bt.length)){ut||(ut=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var vt=bt.pop(),Et=null;return vt&&(Et=ut.undoChanges(vt,wt),this.$redoStack.push(vt),this.$syncRev()),this.$fromUndo=!1,Et}},yt.prototype.redo=function(ut,wt){if(this.lastDeltas=null,ut||(ut=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var bt=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);gt(this.$redoStack,bt),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function($t){$t[0].id=++this.$maxRev},this)}var vt=this.$redoStack.pop(),Et=null;return vt&&(Et=ut.redoChanges(vt,wt),this.$undoStack.push(vt),this.$syncRev()),this.$fromUndo=!1,Et},yt.prototype.$syncRev=function(){var ut=this.$undoStack,wt=ut[ut.length-1],bt=wt&&wt[0].id||0;this.$redoStackBaseRev=bt,this.$rev=bt},yt.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},yt.prototype.canUndo=function(){return this.$undoStack.length>0},yt.prototype.canRedo=function(){return this.$redoStack.length>0},yt.prototype.bookmark=function(ut){ut==null&&(ut=this.$rev),this.mark=ut},yt.prototype.isAtBookmark=function(){return this.$rev===this.mark},yt.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},yt.prototype.fromJSON=function(ut){this.reset(),this.$undoStack=ut.$undoStack,this.$redoStack=ut.$redoStack},yt.prototype.$prettyPrint=function(ut){return ut?_(ut):_(this.$undoStack)+`
---
`+_(this.$redoStack)},yt}();et.prototype.hasUndo=et.prototype.canUndo,et.prototype.hasRedo=et.prototype.canRedo,et.prototype.isClean=et.prototype.isAtBookmark,et.prototype.markClean=et.prototype.bookmark;function at(yt,ut){for(var wt=ut;wt--;){var bt=yt[wt];if(bt&&!bt[0].ignore){for(;wt<ut-1;){var vt=st(yt[wt],yt[wt+1]);yt[wt]=vt[0],yt[wt+1]=vt[1],wt++}return!0}}}var ot=a("./range").Range,nt=ot.comparePoints;ot.comparePoints;function it(yt){return{row:yt.row,column:yt.column}}function j(yt){return{start:it(yt.start),end:it(yt.end),action:yt.action,lines:yt.lines.slice()}}function _(yt){if(yt=yt||this,Array.isArray(yt))return yt.map(_).join(`
`);var ut="";return yt.action?(ut=yt.action=="insert"?"+":"-",ut+="["+yt.lines+"]"):yt.value&&(Array.isArray(yt.value)?ut=yt.value.map($).join(`
`):ut=$(yt.value)),yt.start&&(ut+=$(yt)),(yt.id||yt.rev)&&(ut+="	("+(yt.id||yt.rev)+")"),ut}function $(yt){return yt.start.row+":"+yt.start.column+"=>"+yt.end.row+":"+yt.end.column}function tt(yt,ut){var wt=yt.action=="insert",bt=ut.action=="insert";if(wt&&bt)if(nt(ut.start,yt.end)>=0)ht(ut,yt,-1);else if(nt(ut.start,yt.start)<=0)ht(yt,ut,1);else return null;else if(wt&&!bt)if(nt(ut.start,yt.end)>=0)ht(ut,yt,-1);else if(nt(ut.end,yt.start)<=0)ht(yt,ut,-1);else return null;else if(!wt&&bt)if(nt(ut.start,yt.start)>=0)ht(ut,yt,1);else if(nt(ut.start,yt.start)<=0)ht(yt,ut,1);else return null;else if(!wt&&!bt)if(nt(ut.start,yt.start)>=0)ht(ut,yt,1);else if(nt(ut.end,yt.start)<=0)ht(yt,ut,-1);else return null;return[ut,yt]}function st(yt,ut){for(var wt=yt.length;wt--;)for(var bt=0;bt<ut.length;bt++)if(!tt(yt[wt],ut[bt])){for(;wt<yt.length;){for(;bt--;)tt(ut[bt],yt[wt]);bt=ut.length,wt++}return[yt,ut]}return yt.selectionBefore=ut.selectionBefore=yt.selectionAfter=ut.selectionAfter=null,[ut,yt]}function lt(yt,ut){var wt=yt.action=="insert",bt=ut.action=="insert";if(wt&&bt)nt(yt.start,ut.start)<0?ht(ut,yt,1):ht(yt,ut,1);else if(wt&&!bt)nt(yt.start,ut.end)>=0?ht(yt,ut,-1):(nt(yt.start,ut.start)<=0||ht(yt,ot.fromPoints(ut.start,yt.start),-1),ht(ut,yt,1));else if(!wt&&bt)nt(ut.start,yt.end)>=0?ht(ut,yt,-1):(nt(ut.start,yt.start)<=0||ht(ut,ot.fromPoints(yt.start,ut.start),-1),ht(yt,ut,1));else if(!wt&&!bt)if(nt(ut.start,yt.end)>=0)ht(ut,yt,-1);else if(nt(ut.end,yt.start)<=0)ht(yt,ut,-1);else{var vt,Et;return nt(yt.start,ut.start)<0&&(vt=yt,yt=ct(yt,ut.start)),nt(yt.end,ut.end)>0&&(Et=ct(yt,ut.end)),ft(ut.end,yt.start,yt.end,-1),Et&&!vt&&(yt.lines=Et.lines,yt.start=Et.start,yt.end=Et.end,Et=yt),[ut,vt,Et].filter(Boolean)}return[ut,yt]}function ht(yt,ut,wt){ft(yt.start,ut.start,ut.end,wt),ft(yt.end,ut.start,ut.end,wt)}function ft(yt,ut,wt,bt){yt.row==(bt==1?ut:wt).row&&(yt.column+=bt*(wt.column-ut.column)),yt.row+=bt*(wt.row-ut.row)}function ct(yt,ut){var wt=yt.lines,bt=yt.end;yt.end=it(ut);var vt=yt.end.row-yt.start.row,Et=wt.splice(vt,wt.length),$t=vt?ut.column:ut.column-yt.start.column;wt.push(Et[0].substring(0,$t)),Et[0]=Et[0].substr($t);var Tt={start:it(ut),end:bt,lines:Et,action:yt.action};return Tt}function mt(yt,ut){ut=j(ut);for(var wt=yt.length;wt--;){for(var bt=yt[wt],vt=0;vt<bt.length;vt++){var Et=bt[vt],$t=lt(Et,ut);ut=$t[0],$t.length!=2&&($t[2]?(bt.splice(vt+1,1,$t[1],$t[2]),vt++):$t[1]||(bt.splice(vt,1),vt--))}bt.length||yt.splice(wt,1)}return yt}function gt(yt,ut){for(var wt=0;wt<ut.length;wt++)for(var bt=ut[wt],vt=0;vt<bt.length;vt++)mt(yt,bt[vt])}o.UndoManager=et}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(a,o,rt){var et=a("../range").Range,at=function(){function ot(nt,it){this.foldData=nt,Array.isArray(it)?this.folds=it:it=this.folds=[it];var j=it[it.length-1];this.range=new et(it[0].start.row,it[0].start.column,j.end.row,j.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(_){_.setFoldLine(this)},this)}return ot.prototype.shiftRow=function(nt){this.start.row+=nt,this.end.row+=nt,this.folds.forEach(function(it){it.start.row+=nt,it.end.row+=nt})},ot.prototype.addFold=function(nt){if(nt.sameRow){if(nt.start.row<this.startRow||nt.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(nt),this.folds.sort(function(it,j){return-it.range.compareEnd(j.start.row,j.start.column)}),this.range.compareEnd(nt.start.row,nt.start.column)>0?(this.end.row=nt.end.row,this.end.column=nt.end.column):this.range.compareStart(nt.end.row,nt.end.column)<0&&(this.start.row=nt.start.row,this.start.column=nt.start.column)}else if(nt.start.row==this.end.row)this.folds.push(nt),this.end.row=nt.end.row,this.end.column=nt.end.column;else if(nt.end.row==this.start.row)this.folds.unshift(nt),this.start.row=nt.start.row,this.start.column=nt.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");nt.foldLine=this},ot.prototype.containsRow=function(nt){return nt>=this.start.row&&nt<=this.end.row},ot.prototype.walk=function(nt,it,j){var _=0,$=this.folds,tt,st,lt,ht=!0;it==null&&(it=this.end.row,j=this.end.column);for(var ft=0;ft<$.length;ft++){if(tt=$[ft],st=tt.range.compareStart(it,j),st==-1){nt(null,it,j,_,ht);return}if(lt=nt(null,tt.start.row,tt.start.column,_,ht),lt=!lt&&nt(tt.placeholder,tt.start.row,tt.start.column,_),lt||st===0)return;ht=!tt.sameRow,_=tt.end.column}nt(null,it,j,_,ht)},ot.prototype.getNextFoldTo=function(nt,it){for(var j,_,$=0;$<this.folds.length;$++){if(j=this.folds[$],_=j.range.compareEnd(nt,it),_==-1)return{fold:j,kind:"after"};if(_===0)return{fold:j,kind:"inside"}}return null},ot.prototype.addRemoveChars=function(nt,it,j){var _=this.getNextFoldTo(nt,it),$,tt;if(_){if($=_.fold,_.kind=="inside"&&$.start.column!=it&&$.start.row!=nt)window.console&&window.console.log(nt,it,$);else if($.start.row==nt){tt=this.folds;var st=tt.indexOf($);for(st===0&&(this.start.column+=j),st;st<tt.length;st++){if($=tt[st],$.start.column+=j,!$.sameRow)return;$.end.column+=j}this.end.column+=j}}},ot.prototype.split=function(nt,it){var j=this.getNextFoldTo(nt,it);if(!j||j.kind=="inside")return null;var _=j.fold,$=this.folds,tt=this.foldData,st=$.indexOf(_),lt=$[st-1];this.end.row=lt.end.row,this.end.column=lt.end.column,$=$.splice(st,$.length-st);var ht=new ot(tt,$);return tt.splice(tt.indexOf(this)+1,0,ht),ht},ot.prototype.merge=function(nt){for(var it=nt.folds,j=0;j<it.length;j++)this.addFold(it[j]);var _=this.foldData;_.splice(_.indexOf(nt),1)},ot.prototype.toString=function(){var nt=[this.range.toString()+": ["];return this.folds.forEach(function(it){nt.push("  "+it.toString())}),nt.push("]"),nt.join(`
`)},ot.prototype.idxToPosition=function(nt){for(var it=0,j=0;j<this.folds.length;j++){var _=this.folds[j];if(nt-=_.start.column-it,nt<0)return{row:_.start.row,column:_.start.column+nt};if(nt-=_.placeholder.length,nt<0)return _.start;it=_.end.column}return{row:this.end.row,column:this.end.column+nt}},ot}();o.FoldLine=at}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(a,o,rt){var et=a("./range").Range,at=et.comparePoints,ot=function(){function nt(){this.ranges=[],this.$bias=1}return nt.prototype.pointIndex=function(it,j,_){for(var $=this.ranges,tt=_||0;tt<$.length;tt++){var st=$[tt],lt=at(it,st.end);if(!(lt>0)){var ht=at(it,st.start);return lt===0?j&&ht!==0?-tt-2:tt:ht>0||ht===0&&!j?tt:-tt-1}}return-tt-1},nt.prototype.add=function(it){var j=!it.isEmpty(),_=this.pointIndex(it.start,j);_<0&&(_=-_-1);var $=this.pointIndex(it.end,j,_);return $<0?$=-$-1:$++,this.ranges.splice(_,$-_,it)},nt.prototype.addList=function(it){for(var j=[],_=it.length;_--;)j.push.apply(j,this.add(it[_]));return j},nt.prototype.substractPoint=function(it){var j=this.pointIndex(it);if(j>=0)return this.ranges.splice(j,1)},nt.prototype.merge=function(){var it=[],j=this.ranges;j=j.sort(function(lt,ht){return at(lt.start,ht.start)});for(var _=j[0],$,tt=1;tt<j.length;tt++){$=_,_=j[tt];var st=at($.end,_.start);st<0||st==0&&!$.isEmpty()&&!_.isEmpty()||(at($.end,_.end)<0&&($.end.row=_.end.row,$.end.column=_.end.column),j.splice(tt,1),it.push(_),_=$,tt--)}return this.ranges=j,it},nt.prototype.contains=function(it,j){return this.pointIndex({row:it,column:j})>=0},nt.prototype.containsPoint=function(it){return this.pointIndex(it)>=0},nt.prototype.rangeAtPoint=function(it){var j=this.pointIndex(it);if(j>=0)return this.ranges[j]},nt.prototype.clipRows=function(it,j){var _=this.ranges;if(_[0].start.row>j||_[_.length-1].start.row<it)return[];var $=this.pointIndex({row:it,column:0});$<0&&($=-$-1);var tt=this.pointIndex({row:j,column:0},$);tt<0&&(tt=-tt-1);for(var st=[],lt=$;lt<tt;lt++)st.push(_[lt]);return st},nt.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},nt.prototype.attach=function(it){this.session&&this.detach(),this.session=it,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},nt.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},nt.prototype.$onChange=function(it){for(var j=it.start,_=it.end,$=j.row,tt=_.row,st=this.ranges,lt=0,ht=st.length;lt<ht;lt++){var ft=st[lt];if(ft.end.row>=$)break}if(it.action=="insert")for(var ct=tt-$,mt=-j.column+_.column;lt<ht;lt++){var ft=st[lt];if(ft.start.row>$)break;if(ft.start.row==$&&ft.start.column>=j.column&&(ft.start.column==j.column&&this.$bias<=0||(ft.start.column+=mt,ft.start.row+=ct)),ft.end.row==$&&ft.end.column>=j.column){if(ft.end.column==j.column&&this.$bias<0)continue;ft.end.column==j.column&&mt>0&&lt<ht-1&&ft.end.column>ft.start.column&&ft.end.column==st[lt+1].start.column&&(ft.end.column-=mt),ft.end.column+=mt,ft.end.row+=ct}}else for(var ct=$-tt,mt=j.column-_.column;lt<ht;lt++){var ft=st[lt];if(ft.start.row>tt)break;ft.end.row<tt&&($<ft.end.row||$==ft.end.row&&j.column<ft.end.column)?(ft.end.row=$,ft.end.column=j.column):ft.end.row==tt?ft.end.column<=_.column?(ct||ft.end.column>j.column)&&(ft.end.column=j.column,ft.end.row=j.row):(ft.end.column+=mt,ft.end.row+=ct):ft.end.row>tt&&(ft.end.row+=ct),ft.start.row<tt&&($<ft.start.row||$==ft.start.row&&j.column<ft.start.column)?(ft.start.row=$,ft.start.column=j.column):ft.start.row==tt?ft.start.column<=_.column?(ct||ft.start.column>j.column)&&(ft.start.column=j.column,ft.start.row=j.row):(ft.start.column+=mt,ft.start.row+=ct):ft.start.row>tt&&(ft.start.row+=ct)}if(ct!=0&&lt<ht)for(;lt<ht;lt++){var ft=st[lt];ft.start.row+=ct,ft.end.row+=ct}},nt}();ot.prototype.comparePoints=at,o.RangeList=ot}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(a,o,rt){var et=this&&this.__extends||function(){var $=function(tt,st){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ht){lt.__proto__=ht}||function(lt,ht){for(var ft in ht)Object.prototype.hasOwnProperty.call(ht,ft)&&(lt[ft]=ht[ft])},$(tt,st)};return function(tt,st){if(typeof st!="function"&&st!==null)throw new TypeError("Class extends value "+String(st)+" is not a constructor or null");$(tt,st);function lt(){this.constructor=tt}tt.prototype=st===null?Object.create(st):(lt.prototype=st.prototype,new lt)}}(),at=a("../range_list").RangeList,ot=function($){et(tt,$);function tt(st,lt){var ht=$.call(this)||this;return ht.foldLine=null,ht.placeholder=lt,ht.range=st,ht.start=st.start,ht.end=st.end,ht.sameRow=st.start.row==st.end.row,ht.subFolds=ht.ranges=[],ht}return tt.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},tt.prototype.setFoldLine=function(st){this.foldLine=st,this.subFolds.forEach(function(lt){lt.setFoldLine(st)})},tt.prototype.clone=function(){var st=this.range.clone(),lt=new tt(st,this.placeholder);return this.subFolds.forEach(function(ht){lt.subFolds.push(ht.clone())}),lt.collapseChildren=this.collapseChildren,lt},tt.prototype.addSubFold=function(st){if(!this.range.isEqual(st)){it(st,this.start);for(var mt=st.start.row,gt=st.start.column,lt=0,ht=-1;lt<this.subFolds.length&&(ht=this.subFolds[lt].range.compare(mt,gt),ht==1);lt++);var ft=this.subFolds[lt],ct=0;if(ht==0){if(ft.range.containsRange(st))return ft.addSubFold(st);ct=1}for(var mt=st.range.end.row,gt=st.range.end.column,yt=lt,ht=-1;yt<this.subFolds.length&&(ht=this.subFolds[yt].range.compare(mt,gt),ht==1);yt++);ht==0&&yt++;for(var ut=this.subFolds.splice(lt,yt-lt,st),wt=ht==0?ut.length-1:ut.length,bt=ct;bt<wt;bt++)st.addSubFold(ut[bt]);return st.setFoldLine(this.foldLine),st}},tt.prototype.restoreRange=function(st){return _(st,this.start)},tt}(at);function nt($,tt){$.row-=tt.row,$.row==0&&($.column-=tt.column)}function it($,tt){nt($.start,tt),nt($.end,tt)}function j($,tt){$.row==0&&($.column+=tt.column),$.row+=tt.row}function _($,tt){j($.start,tt),j($.end,tt)}o.Fold=ot}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(a,o,rt){var et=a("../range").Range,at=a("./fold_line").FoldLine,ot=a("./fold").Fold,nt=a("../token_iterator").TokenIterator,it=a("../mouse/mouse_event").MouseEvent;function j(){this.getFoldAt=function(_,$,tt){var st=this.getFoldLine(_);if(!st)return null;for(var lt=st.folds,ht=0;ht<lt.length;ht++){var ft=lt[ht].range;if(ft.contains(_,$)){if(tt==1&&ft.isEnd(_,$)&&!ft.isEmpty())continue;if(tt==-1&&ft.isStart(_,$)&&!ft.isEmpty())continue;return lt[ht]}}},this.getFoldsInRange=function(_){var $=_.start,tt=_.end,st=this.$foldData,lt=[];$.column+=1,tt.column-=1;for(var ht=0;ht<st.length;ht++){var ft=st[ht].range.compareRange(_);if(ft!=2){if(ft==-2)break;for(var ct=st[ht].folds,mt=0;mt<ct.length;mt++){var gt=ct[mt];if(ft=gt.range.compareRange(_),ft==-2)break;if(ft==2)continue;if(ft==42)break;lt.push(gt)}}}return $.column-=1,tt.column+=1,lt},this.getFoldsInRangeList=function(_){if(Array.isArray(_)){var $=[];_.forEach(function(tt){$=$.concat(this.getFoldsInRange(tt))},this)}else var $=this.getFoldsInRange(_);return $},this.getAllFolds=function(){for(var _=[],$=this.$foldData,tt=0;tt<$.length;tt++)for(var st=0;st<$[tt].folds.length;st++)_.push($[tt].folds[st]);return _},this.getFoldStringAt=function(_,$,tt,st){if(st=st||this.getFoldLine(_),!st)return null;for(var lt={end:{column:0}},ht,ft,ct=0;ct<st.folds.length;ct++){ft=st.folds[ct];var mt=ft.range.compareEnd(_,$);if(mt==-1){ht=this.getLine(ft.start.row).substring(lt.end.column,ft.start.column);break}else if(mt===0)return null;lt=ft}return ht||(ht=this.getLine(ft.start.row).substring(lt.end.column)),tt==-1?ht.substring(0,$-lt.end.column):tt==1?ht.substring($-lt.end.column):ht},this.getFoldLine=function(_,$){var tt=this.$foldData,st=0;for($&&(st=tt.indexOf($)),st==-1&&(st=0),st;st<tt.length;st++){var lt=tt[st];if(lt.start.row<=_&&lt.end.row>=_)return lt;if(lt.end.row>_)return null}return null},this.getNextFoldLine=function(_,$){var tt=this.$foldData,st=0;for($&&(st=tt.indexOf($)),st==-1&&(st=0),st;st<tt.length;st++){var lt=tt[st];if(lt.end.row>=_)return lt}return null},this.getFoldedRowCount=function(_,$){for(var tt=this.$foldData,st=$-_+1,lt=0;lt<tt.length;lt++){var ht=tt[lt],ft=ht.end.row,ct=ht.start.row;if(ft>=$){ct<$&&(ct>=_?st-=$-ct:st=0);break}else ft>=_&&(ct>=_?st-=ft-ct:st-=ft-_+1)}return st},this.$addFoldLine=function(_){return this.$foldData.push(_),this.$foldData.sort(function($,tt){return $.start.row-tt.start.row}),_},this.addFold=function(_,$){var tt=this.$foldData,st=!1,lt;_ instanceof ot?lt=_:(lt=new ot($,_),lt.collapseChildren=$.collapseChildren),this.$clipRangeToDocument(lt.range);var ht=lt.start.row,ft=lt.start.column,ct=lt.end.row,mt=lt.end.column,gt=this.getFoldAt(ht,ft,1),yt=this.getFoldAt(ct,mt,-1);if(gt&&yt==gt)return gt.addSubFold(lt);gt&&!gt.range.isStart(ht,ft)&&this.removeFold(gt),yt&&!yt.range.isEnd(ct,mt)&&this.removeFold(yt);var ut=this.getFoldsInRange(lt.range);ut.length>0&&(this.removeFolds(ut),lt.collapseChildren||ut.forEach(function(Et){lt.addSubFold(Et)}));for(var wt=0;wt<tt.length;wt++){var bt=tt[wt];if(ct==bt.start.row){bt.addFold(lt),st=!0;break}else if(ht==bt.end.row){if(bt.addFold(lt),st=!0,!lt.sameRow){var vt=tt[wt+1];if(vt&&vt.start.row==ct){bt.merge(vt);break}}break}else if(ct<=bt.start.row)break}return st||(bt=this.$addFoldLine(new at(this.$foldData,lt))),this.$useWrapMode?this.$updateWrapData(bt.start.row,bt.start.row):this.$updateRowLengthCache(bt.start.row,bt.start.row),this.$modified=!0,this._signal("changeFold",{data:lt,action:"add"}),lt},this.addFolds=function(_){_.forEach(function($){this.addFold($)},this)},this.removeFold=function(_){var $=_.foldLine,tt=$.start.row,st=$.end.row,lt=this.$foldData,ht=$.folds;if(ht.length==1)lt.splice(lt.indexOf($),1);else if($.range.isEnd(_.end.row,_.end.column))ht.pop(),$.end.row=ht[ht.length-1].end.row,$.end.column=ht[ht.length-1].end.column;else if($.range.isStart(_.start.row,_.start.column))ht.shift(),$.start.row=ht[0].start.row,$.start.column=ht[0].start.column;else if(_.sameRow)ht.splice(ht.indexOf(_),1);else{var ft=$.split(_.start.row,_.start.column);ht=ft.folds,ht.shift(),ft.start.row=ht[0].start.row,ft.start.column=ht[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(tt,st):this.$updateRowLengthCache(tt,st)),this.$modified=!0,this._signal("changeFold",{data:_,action:"remove"})},this.removeFolds=function(_){for(var $=[],tt=0;tt<_.length;tt++)$.push(_[tt]);$.forEach(function(st){this.removeFold(st)},this),this.$modified=!0},this.expandFold=function(_){this.removeFold(_),_.subFolds.forEach(function($){_.restoreRange($),this.addFold($)},this),_.collapseChildren>0&&this.foldAll(_.start.row+1,_.end.row,_.collapseChildren-1),_.subFolds=[]},this.expandFolds=function(_){_.forEach(function($){this.expandFold($)},this)},this.unfold=function(_,$){var tt,st;if(_==null)tt=new et(0,0,this.getLength(),0),$==null&&($=!0);else if(typeof _=="number")tt=new et(_,0,_,this.getLine(_).length);else if("row"in _)tt=et.fromPoints(_,_);else{if(Array.isArray(_))return st=[],_.forEach(function(ht){st=st.concat(this.unfold(ht))},this),st;tt=_}st=this.getFoldsInRangeList(tt);for(var lt=st;st.length==1&&et.comparePoints(st[0].start,tt.start)<0&&et.comparePoints(st[0].end,tt.end)>0;)this.expandFolds(st),st=this.getFoldsInRangeList(tt);if($!=!1?this.removeFolds(st):this.expandFolds(st),lt.length)return lt},this.isRowFolded=function(_,$){return!!this.getFoldLine(_,$)},this.getRowFoldEnd=function(_,$){var tt=this.getFoldLine(_,$);return tt?tt.end.row:_},this.getRowFoldStart=function(_,$){var tt=this.getFoldLine(_,$);return tt?tt.start.row:_},this.getFoldDisplayLine=function(_,$,tt,st,lt){st==null&&(st=_.start.row),lt==null&&(lt=0),$==null&&($=_.end.row),tt==null&&(tt=this.getLine($).length);var ht=this.doc,ft="";return _.walk(function(ct,mt,gt,yt){if(!(mt<st)){if(mt==st){if(gt<lt)return;yt=Math.max(lt,yt)}ct!=null?ft+=ct:ft+=ht.getLine(mt).substring(yt,gt)}},$,tt),ft},this.getDisplayLine=function(_,$,tt,st){var lt=this.getFoldLine(_);if(lt)return this.getFoldDisplayLine(lt,_,$,tt,st);var ht;return ht=this.doc.getLine(_),ht.substring(st||0,$||ht.length)},this.$cloneFoldData=function(){var _=[];return _=this.$foldData.map(function($){var tt=$.folds.map(function(st){return st.clone()});return new at(_,tt)}),_},this.toggleFold=function(_){var $=this.selection,tt=$.getRange(),st,lt;if(tt.isEmpty()){var ht=tt.start;if(st=this.getFoldAt(ht.row,ht.column),st){this.expandFold(st);return}else(lt=this.findMatchingBracket(ht))?tt.comparePoint(lt)==1?tt.end=lt:(tt.start=lt,tt.start.column++,tt.end.column--):(lt=this.findMatchingBracket({row:ht.row,column:ht.column+1}))?(tt.comparePoint(lt)==1?tt.end=lt:tt.start=lt,tt.start.column++):tt=this.getCommentFoldRange(ht.row,ht.column)||tt}else{var ft=this.getFoldsInRange(tt);if(_&&ft.length){this.expandFolds(ft);return}else ft.length==1&&(st=ft[0])}if(st||(st=this.getFoldAt(tt.start.row,tt.start.column)),st&&st.range.toString()==tt.toString()){this.expandFold(st);return}var ct="...";if(!tt.isMultiLine()){if(ct=this.getTextRange(tt),ct.length<4)return;ct=ct.trim().substring(0,2)+".."}this.addFold(ct,tt)},this.getCommentFoldRange=function(_,$,tt){var st=new nt(this,_,$),lt=st.getCurrentToken(),ht=lt&&lt.type;if(lt&&/^comment|string/.test(ht)){ht=ht.match(/comment|string/)[0],ht=="comment"&&(ht+="|doc-start|\\.doc");var ft=new RegExp(ht),ct=new et;if(tt!=1){do lt=st.stepBackward();while(lt&&ft.test(lt.type));lt=st.stepForward()}ct.start.row=st.getCurrentTokenRow(),ct.start.column=st.getCurrentTokenColumn()+lt.value.length,st=new nt(this,_,$);var mt=this.getState(st.$row);if(tt!=-1){var gt=-1;do if(lt=st.stepForward(),gt==-1){var yt=this.getState(st.$row);mt.toString()!==yt.toString()&&(gt=st.$row)}else if(st.$row>gt)break;while(lt&&ft.test(lt.type));lt=st.stepBackward()}else lt=st.getCurrentToken();return ct.end.row=st.getCurrentTokenRow(),ct.end.column=st.getCurrentTokenColumn(),ct}},this.foldAll=function(_,$,tt,st){tt==null&&(tt=1e5);var lt=this.foldWidgets;if(lt){$=$||this.getLength(),_=_||0;for(var ht=_;ht<$;ht++)if(lt[ht]==null&&(lt[ht]=this.getFoldWidget(ht)),lt[ht]=="start"&&!(st&&!st(ht))){var ft=this.getFoldWidgetRange(ht);ft&&ft.isMultiLine()&&ft.end.row<=$&&ft.start.row>=_&&(ht=ft.end.row,ft.collapseChildren=tt,this.addFold("...",ft))}}},this.foldToLevel=function(_){for(this.foldAll();_-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var _=this;this.foldAll(null,null,null,function($){for(var tt=_.getTokens($),st=0;st<tt.length;st++){var lt=tt[st];if(!(lt.type=="text"&&/^\s+$/.test(lt.value)))return!!/comment/.test(lt.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(_){if(!this.$foldStyles[_])throw new Error("invalid fold style: "+_+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=_){this.$foldStyle=_,_=="manual"&&this.unfold();var $=this.$foldMode;this.$setFolding(null),this.$setFolding($)}},this.$setFolding=function(_){if(this.$foldMode!=_){if(this.$foldMode=_,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!_||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=_.getFoldWidget.bind(_,this,this.$foldStyle),this.getFoldWidgetRange=_.getFoldWidgetRange.bind(_,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(_,$){var tt=this.foldWidgets;if(!tt||$&&tt[_])return{};for(var st=_-1,lt;st>=0;){var ht=tt[st];if(ht==null&&(ht=tt[st]=this.getFoldWidget(st)),ht=="start"){var ft=this.getFoldWidgetRange(st);if(lt||(lt=ft),ft&&ft.end.row>=_)break}st--}return{range:st!==-1&&ft,firstRange:lt}},this.onFoldWidgetClick=function(_,$){$ instanceof it&&($=$.domEvent);var tt={children:$.shiftKey,all:$.ctrlKey||$.metaKey,siblings:$.altKey},st=this.$toggleFoldWidget(_,tt);if(!st){var lt=$.target||$.srcElement;lt&&/ace_fold-widget/.test(lt.className)&&(lt.className+=" ace_invalid")}},this.$toggleFoldWidget=function(_,$){if(this.getFoldWidget){var tt=this.getFoldWidget(_),st=this.getLine(_),lt=tt==="end"?-1:1,ht=this.getFoldAt(_,lt===-1?0:st.length,lt);if(ht)return $.children||$.all?this.removeFold(ht):this.expandFold(ht),ht;var ft=this.getFoldWidgetRange(_,!0);if(ft&&!ft.isMultiLine()&&(ht=this.getFoldAt(ft.start.row,ft.start.column,1),ht&&ft.isEqual(ht.range)))return this.removeFold(ht),ht;if($.siblings){var ct=this.getParentFoldRangeData(_);if(ct.range)var mt=ct.range.start.row+1,gt=ct.range.end.row;this.foldAll(mt,gt,$.all?1e4:0)}else $.children?(gt=ft?ft.end.row:this.getLength(),this.foldAll(_+1,gt,$.all?1e4:0)):ft&&($.all&&(ft.collapseChildren=1e4),this.addFold("...",ft));return ft}},this.toggleFoldWidget=function(_){var $=this.selection.getCursor().row;$=this.getRowFoldStart($);var tt=this.$toggleFoldWidget($,{});if(!tt){var st=this.getParentFoldRangeData($,!0);if(tt=st.range||st.firstRange,tt){$=tt.start.row;var lt=this.getFoldAt($,this.getLine($).length,1);lt?this.removeFold(lt):this.addFold("...",tt)}}},this.updateFoldWidgets=function(_){var $=_.start.row,tt=_.end.row-$;if(tt===0)this.foldWidgets[$]=null;else if(_.action=="remove")this.foldWidgets.splice($,tt+1,null);else{var st=Array(tt+1);st.unshift($,1),this.foldWidgets.splice.apply(this.foldWidgets,st)}},this.tokenizerUpdateFoldWidgets=function(_){var $=_.data;$.first!=$.last&&this.foldWidgets.length>$.first&&this.foldWidgets.splice($.first,this.foldWidgets.length)}}o.Folding=j}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(a,o,rt){var et=a("../token_iterator").TokenIterator,at=a("../range").Range;function ot(){this.findMatchingBracket=function(nt,it){if(nt.column==0)return null;var j=it||this.getLine(nt.row).charAt(nt.column-1);if(j=="")return null;var _=j.match(/([\(\[\{])|([\)\]\}])/);return _?_[1]?this.$findClosingBracket(_[1],nt):this.$findOpeningBracket(_[2],nt):null},this.getBracketRange=function(nt){var it=this.getLine(nt.row),j=!0,_,$=it.charAt(nt.column-1),tt=$&&$.match(/([\(\[\{])|([\)\]\}])/);if(tt||($=it.charAt(nt.column),nt={row:nt.row,column:nt.column+1},tt=$&&$.match(/([\(\[\{])|([\)\]\}])/),j=!1),!tt)return null;if(tt[1]){var st=this.$findClosingBracket(tt[1],nt);if(!st)return null;_=at.fromPoints(nt,st),j||(_.end.column++,_.start.column--),_.cursor=_.end}else{var st=this.$findOpeningBracket(tt[2],nt);if(!st)return null;_=at.fromPoints(st,nt),j||(_.start.column++,_.end.column--),_.cursor=_.start}return _},this.getMatchingBracketRanges=function(nt,it){var j=this.getLine(nt.row),_=/([\(\[\{])|([\)\]\}])/,$=!it&&j.charAt(nt.column-1),tt=$&&$.match(_);if(tt||($=(it===void 0||it)&&j.charAt(nt.column),nt={row:nt.row,column:nt.column+1},tt=$&&$.match(_)),!tt)return null;var st=new at(nt.row,nt.column-1,nt.row,nt.column),lt=tt[1]?this.$findClosingBracket(tt[1],nt):this.$findOpeningBracket(tt[2],nt);if(!lt)return[st];var ht=new at(lt.row,lt.column,lt.row,lt.column+1);return[st,ht]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(nt,it,j){var _=this.$brackets[nt],$=1,tt=new et(this,it.row,it.column),st=tt.getCurrentToken();if(st||(st=tt.stepForward()),!!st){j||(j=new RegExp("(\\.?"+st.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var lt=it.column-tt.getCurrentTokenColumn()-2,ht=st.value;;){for(;lt>=0;){var ft=ht.charAt(lt);if(ft==_){if($-=1,$==0)return{row:tt.getCurrentTokenRow(),column:lt+tt.getCurrentTokenColumn()}}else ft==nt&&($+=1);lt-=1}do st=tt.stepBackward();while(st&&!j.test(st.type));if(st==null)break;ht=st.value,lt=ht.length-1}return null}},this.$findClosingBracket=function(nt,it,j){var _=this.$brackets[nt],$=1,tt=new et(this,it.row,it.column),st=tt.getCurrentToken();if(st||(st=tt.stepForward()),!!st){j||(j=new RegExp("(\\.?"+st.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var lt=it.column-tt.getCurrentTokenColumn();;){for(var ht=st.value,ft=ht.length;lt<ft;){var ct=ht.charAt(lt);if(ct==_){if($-=1,$==0)return{row:tt.getCurrentTokenRow(),column:lt+tt.getCurrentTokenColumn()}}else ct==nt&&($+=1);lt+=1}do st=tt.stepForward();while(st&&!j.test(st.type));if(st==null)break;lt=0}return null}},this.getMatchingTags=function(nt){var it=new et(this,nt.row,nt.column),j=this.$findTagName(it);if(j){var _=it.stepBackward();return _.value==="<"?this.$findClosingTag(it,j):this.$findOpeningTag(it,j)}},this.$findTagName=function(nt){var it=nt.getCurrentToken(),j=!1,_=!1;if(it&&it.type.indexOf("tag-name")===-1)do _?it=nt.stepBackward():it=nt.stepForward(),it&&(it.value==="/>"?_=!0:it.type.indexOf("tag-name")!==-1&&(j=!0));while(it&&!j);return it},this.$findClosingTag=function(nt,it){var j,_=it.value,$=it.value,tt=0,st=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);it=nt.stepForward();var lt=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+it.value.length),ht=!1;do{if(j=it,j.type.indexOf("tag-close")!==-1&&!ht){var ft=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);ht=!0}if(it=nt.stepForward(),it){if(it.value===">"&&!ht){var ft=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);ht=!0}if(it.type.indexOf("tag-name")!==-1){if(_=it.value,$===_){if(j.value==="<")tt++;else if(j.value==="</"&&(tt--,tt<0)){nt.stepBackward();var ct=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+2);it=nt.stepForward();var mt=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+it.value.length);if(it.type.indexOf("tag-close")===-1&&(it=nt.stepForward()),it&&it.value===">")var gt=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);else return}}}else if($===_&&it.value==="/>"&&(tt--,tt<0))var ct=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+2),mt=ct,gt=mt,ft=new at(lt.end.row,lt.end.column,lt.end.row,lt.end.column+1)}}while(it&&tt>=0);if(st&&ft&&ct&&gt&&lt&&mt)return{openTag:new at(st.start.row,st.start.column,ft.end.row,ft.end.column),closeTag:new at(ct.start.row,ct.start.column,gt.end.row,gt.end.column),openTagName:lt,closeTagName:mt}},this.$findOpeningTag=function(nt,it){var j=nt.getCurrentToken(),_=it.value,$=0,tt=nt.getCurrentTokenRow(),st=nt.getCurrentTokenColumn(),lt=st+2,ht=new at(tt,st,tt,lt);nt.stepForward();var ft=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+it.value.length);if(it.type.indexOf("tag-close")===-1&&(it=nt.stepForward()),!(!it||it.value!==">")){var ct=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);nt.stepBackward(),nt.stepBackward();do if(it=j,tt=nt.getCurrentTokenRow(),st=nt.getCurrentTokenColumn(),lt=st+it.value.length,j=nt.stepBackward(),it){if(it.type.indexOf("tag-name")!==-1){if(_===it.value)if(j.value==="<"){if($++,$>0){var mt=new at(tt,st,tt,lt),gt=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);do it=nt.stepForward();while(it&&it.value!==">");var yt=new at(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1)}}else j.value==="</"&&$--}else if(it.value==="/>"){for(var ut=0,wt=j;wt;){if(wt.type.indexOf("tag-name")!==-1&&wt.value===_){$--;break}else if(wt.value==="<")break;wt=nt.stepBackward(),ut++}for(var bt=0;bt<ut;bt++)nt.stepForward()}}while(j&&$<=0);if(gt&&yt&&ht&&ct&&mt&&ft)return{openTag:new at(gt.start.row,gt.start.column,yt.end.row,yt.end.column),closeTag:new at(ht.start.row,ht.start.column,ct.end.row,ct.end.column),openTagName:mt,closeTagName:ft}}}}o.BracketMatch=ot}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(a,o,rt){var et=a("./lib/oop"),at=a("./lib/lang"),ot=a("./bidihandler").BidiHandler,nt=a("./config"),it=a("./lib/event_emitter").EventEmitter,j=a("./selection").Selection,_=a("./mode/text").Mode,$=a("./range").Range,tt=a("./document").Document,st=a("./background_tokenizer").BackgroundTokenizer,lt=a("./search_highlight").SearchHighlight,ht=a("./undomanager").UndoManager,ft=function(){function $t(Tt,At){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++$t.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new st(new _().getTokenizer(),this);var Ct=this;this.bgTokenizer.on("update",function(It){Ct._signal("tokenizerUpdate",It)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof Tt!="object"||!Tt.getLine)&&(Tt=new tt(Tt)),this.setDocument(Tt),this.selection=new j(this),this.$bidiHandler=new ot(this),nt.resetOptions(this),this.setMode(At),nt._signal("session",this),this.destroyed=!1}return $t.prototype.setDocument=function(Tt){this.doc&&this.doc.off("change",this.$onChange),this.doc=Tt,Tt.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},$t.prototype.getDocument=function(){return this.doc},$t.prototype.$resetRowCache=function(Tt){if(!Tt){this.$docRowCache=[],this.$screenRowCache=[];return}var At=this.$docRowCache.length,Ct=this.$getRowCacheIndex(this.$docRowCache,Tt)+1;At>Ct&&(this.$docRowCache.splice(Ct,At),this.$screenRowCache.splice(Ct,At))},$t.prototype.$getRowCacheIndex=function(Tt,At){for(var Ct=0,It=Tt.length-1;Ct<=It;){var Lt=Ct+It>>1,Ft=Tt[Lt];if(At>Ft)Ct=Lt+1;else if(At<Ft)It=Lt-1;else return Lt}return Ct-1},$t.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},$t.prototype.onChangeFold=function(Tt){var At=Tt.data;this.$resetRowCache(At.start.row)},$t.prototype.onChange=function(Tt){this.$modified=!0,this.$bidiHandler.onChange(Tt),this.$resetRowCache(Tt.start.row);var At=this.$updateInternalDataOnChange(Tt);!this.$fromUndo&&this.$undoManager&&(At&&At.length&&(this.$undoManager.add({action:"removeFolds",folds:At},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(Tt,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(Tt),this._signal("change",Tt)},$t.prototype.setValue=function(Tt){this.doc.setValue(Tt),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},$t.fromJSON=function(Tt){typeof Tt=="string"&&(Tt=JSON.parse(Tt));var At=new ht;At.$undoStack=Tt.history.undo,At.$redoStack=Tt.history.redo,At.mark=Tt.history.mark,At.$rev=Tt.history.rev;var Ct=new $t(Tt.value);return Tt.folds.forEach(function(It){Ct.addFold("...",$.fromPoints(It.start,It.end))}),Ct.setAnnotations(Tt.annotations),Ct.setBreakpoints(Tt.breakpoints),Ct.setMode(Tt.mode),Ct.setScrollLeft(Tt.scrollLeft),Ct.setScrollTop(Tt.scrollTop),Ct.setUndoManager(At),Ct.selection.fromJSON(Tt.selection),Ct},$t.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(Tt){return Tt.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},$t.prototype.toString=function(){return this.doc.getValue()},$t.prototype.getSelection=function(){return this.selection},$t.prototype.getState=function(Tt){return this.bgTokenizer.getState(Tt)},$t.prototype.getTokens=function(Tt){return this.bgTokenizer.getTokens(Tt)},$t.prototype.getTokenAt=function(Tt,At){var Ct=this.bgTokenizer.getTokens(Tt),It,Lt=0;if(At==null){var Ft=Ct.length-1;Lt=this.getLine(Tt).length}else for(var Ft=0;Ft<Ct.length&&(Lt+=Ct[Ft].value.length,!(Lt>=At));Ft++);return It=Ct[Ft],It?(It.index=Ft,It.start=Lt-It.value.length,It):null},$t.prototype.setUndoManager=function(Tt){if(this.$undoManager=Tt,this.$informUndoManager&&this.$informUndoManager.cancel(),Tt){var At=this;Tt.addSession(this),this.$syncInformUndoManager=function(){At.$informUndoManager.cancel(),At.mergeUndoDeltas=!1},this.$informUndoManager=at.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},$t.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},$t.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},$t.prototype.getTabString=function(){return this.getUseSoftTabs()?at.stringRepeat(" ",this.getTabSize()):"	"},$t.prototype.setUseSoftTabs=function(Tt){this.setOption("useSoftTabs",Tt)},$t.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},$t.prototype.setTabSize=function(Tt){this.setOption("tabSize",Tt)},$t.prototype.getTabSize=function(){return this.$tabSize},$t.prototype.isTabStop=function(Tt){return this.$useSoftTabs&&Tt.column%this.$tabSize===0},$t.prototype.setNavigateWithinSoftTabs=function(Tt){this.setOption("navigateWithinSoftTabs",Tt)},$t.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},$t.prototype.setOverwrite=function(Tt){this.setOption("overwrite",Tt)},$t.prototype.getOverwrite=function(){return this.$overwrite},$t.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},$t.prototype.addGutterDecoration=function(Tt,At){this.$decorations[Tt]||(this.$decorations[Tt]=""),this.$decorations[Tt]+=" "+At,this._signal("changeBreakpoint",{})},$t.prototype.removeGutterDecoration=function(Tt,At){this.$decorations[Tt]=(this.$decorations[Tt]||"").replace(" "+At,""),this._signal("changeBreakpoint",{})},$t.prototype.getBreakpoints=function(){return this.$breakpoints},$t.prototype.setBreakpoints=function(Tt){this.$breakpoints=[];for(var At=0;At<Tt.length;At++)this.$breakpoints[Tt[At]]="ace_breakpoint";this._signal("changeBreakpoint",{})},$t.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},$t.prototype.setBreakpoint=function(Tt,At){At===void 0&&(At="ace_breakpoint"),At?this.$breakpoints[Tt]=At:delete this.$breakpoints[Tt],this._signal("changeBreakpoint",{})},$t.prototype.clearBreakpoint=function(Tt){delete this.$breakpoints[Tt],this._signal("changeBreakpoint",{})},$t.prototype.addMarker=function(Tt,At,Ct,It){var Lt=this.$markerId++,Ft={range:Tt,type:Ct||"line",renderer:typeof Ct=="function"?Ct:null,clazz:At,inFront:!!It,id:Lt};return It?(this.$frontMarkers[Lt]=Ft,this._signal("changeFrontMarker")):(this.$backMarkers[Lt]=Ft,this._signal("changeBackMarker")),Lt},$t.prototype.addDynamicMarker=function(Tt,At){if(Tt.update){var Ct=this.$markerId++;return Tt.id=Ct,Tt.inFront=!!At,At?(this.$frontMarkers[Ct]=Tt,this._signal("changeFrontMarker")):(this.$backMarkers[Ct]=Tt,this._signal("changeBackMarker")),Tt}},$t.prototype.removeMarker=function(Tt){var At=this.$frontMarkers[Tt]||this.$backMarkers[Tt];if(At){var Ct=At.inFront?this.$frontMarkers:this.$backMarkers;delete Ct[Tt],this._signal(At.inFront?"changeFrontMarker":"changeBackMarker")}},$t.prototype.getMarkers=function(Tt){return Tt?this.$frontMarkers:this.$backMarkers},$t.prototype.highlight=function(Tt){if(!this.$searchHighlight){var At=new lt(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(At)}this.$searchHighlight.setRegexp(Tt)},$t.prototype.highlightLines=function(Tt,At,Ct,It){typeof At!="number"&&(Ct=At,At=Tt),Ct||(Ct="ace_step");var Lt=new $(Tt,0,At,1/0);return Lt.id=this.addMarker(Lt,Ct,"fullLine",It),Lt},$t.prototype.setAnnotations=function(Tt){this.$annotations=Tt,this._signal("changeAnnotation",{})},$t.prototype.getAnnotations=function(){return this.$annotations||[]},$t.prototype.clearAnnotations=function(){this.setAnnotations([])},$t.prototype.$detectNewLine=function(Tt){var At=Tt.match(/^.*?(\r?\n)/m);At?this.$autoNewLine=At[1]:this.$autoNewLine=`
`},$t.prototype.getWordRange=function(Tt,At){var Ct=this.getLine(Tt),It=!1;if(At>0&&(It=!!Ct.charAt(At-1).match(this.tokenRe)),It||(It=!!Ct.charAt(At).match(this.tokenRe)),It)var Lt=this.tokenRe;else if(/^\s+$/.test(Ct.slice(At-1,At+1)))var Lt=/\s/;else var Lt=this.nonTokenRe;var Ft=At;if(Ft>0){do Ft--;while(Ft>=0&&Ct.charAt(Ft).match(Lt));Ft++}for(var Dt=At;Dt<Ct.length&&Ct.charAt(Dt).match(Lt);)Dt++;return new $(Tt,Ft,Tt,Dt)},$t.prototype.getAWordRange=function(Tt,At){for(var Ct=this.getWordRange(Tt,At),It=this.getLine(Ct.end.row);It.charAt(Ct.end.column).match(/[ \t]/);)Ct.end.column+=1;return Ct},$t.prototype.setNewLineMode=function(Tt){this.doc.setNewLineMode(Tt)},$t.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},$t.prototype.setUseWorker=function(Tt){this.setOption("useWorker",Tt)},$t.prototype.getUseWorker=function(){return this.$useWorker},$t.prototype.onReloadTokenizer=function(Tt){var At=Tt.data;this.bgTokenizer.start(At.first),this._signal("tokenizerUpdate",Tt)},$t.prototype.setMode=function(Tt,At){if(Tt&&typeof Tt=="object"){if(Tt.getTokenizer)return this.$onChangeMode(Tt);var Ct=Tt,It=Ct.path}else It=Tt||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new _),this.$modes[It]&&!Ct){this.$onChangeMode(this.$modes[It]),At&&At();return}this.$modeId=It,nt.loadModule(["mode",It],(function(Lt){if(this.$modeId!==It)return At&&At();this.$modes[It]&&!Ct?this.$onChangeMode(this.$modes[It]):Lt&&Lt.Mode&&(Lt=new Lt.Mode(Ct),Ct||(this.$modes[It]=Lt,Lt.$id=It),this.$onChangeMode(Lt)),At&&At()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},$t.prototype.$onChangeMode=function(Tt,At){if(At||(this.$modeId=Tt.$id),this.$mode!==Tt){var Ct=this.$mode;this.$mode=Tt,this.$stopWorker(),this.$useWorker&&this.$startWorker();var It=Tt.getTokenizer();if(It.on!==void 0){var Lt=this.onReloadTokenizer.bind(this);It.on("update",Lt)}this.bgTokenizer.setTokenizer(It),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=Tt.tokenRe,this.nonTokenRe=Tt.nonTokenRe,At||(Tt.attachToSession&&Tt.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(Tt.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:Ct,mode:Tt}))}},$t.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},$t.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(Tt){nt.warn("Could not load worker",Tt),this.$worker=null}},$t.prototype.getMode=function(){return this.$mode},$t.prototype.setScrollTop=function(Tt){this.$scrollTop===Tt||isNaN(Tt)||(this.$scrollTop=Tt,this._signal("changeScrollTop",Tt))},$t.prototype.getScrollTop=function(){return this.$scrollTop},$t.prototype.setScrollLeft=function(Tt){this.$scrollLeft===Tt||isNaN(Tt)||(this.$scrollLeft=Tt,this._signal("changeScrollLeft",Tt))},$t.prototype.getScrollLeft=function(){return this.$scrollLeft},$t.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},$t.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var Tt=0;return this.lineWidgets.forEach(function(At){At&&At.screenWidth>Tt&&(Tt=At.screenWidth)}),this.lineWidgetWidth=Tt},$t.prototype.$computeWidth=function(Tt){if(this.$modified||Tt){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var At=this.doc.getAllLines(),Ct=this.$rowLengthCache,It=0,Lt=0,Ft=this.$foldData[Lt],Dt=Ft?Ft.start.row:1/0,Vt=At.length,Ut=0;Ut<Vt;Ut++){if(Ut>Dt){if(Ut=Ft.end.row+1,Ut>=Vt)break;Ft=this.$foldData[Lt++],Dt=Ft?Ft.start.row:1/0}Ct[Ut]==null&&(Ct[Ut]=this.$getStringScreenWidth(At[Ut])[0]),Ct[Ut]>It&&(It=Ct[Ut])}this.screenWidth=It}},$t.prototype.getLine=function(Tt){return this.doc.getLine(Tt)},$t.prototype.getLines=function(Tt,At){return this.doc.getLines(Tt,At)},$t.prototype.getLength=function(){return this.doc.getLength()},$t.prototype.getTextRange=function(Tt){return this.doc.getTextRange(Tt||this.selection.getRange())},$t.prototype.insert=function(Tt,At){return this.doc.insert(Tt,At)},$t.prototype.remove=function(Tt){return this.doc.remove(Tt)},$t.prototype.removeFullLines=function(Tt,At){return this.doc.removeFullLines(Tt,At)},$t.prototype.undoChanges=function(Tt,At){if(Tt.length){this.$fromUndo=!0;for(var Ct=Tt.length-1;Ct!=-1;Ct--){var It=Tt[Ct];It.action=="insert"||It.action=="remove"?this.doc.revertDelta(It):It.folds&&this.addFolds(It.folds)}!At&&this.$undoSelect&&(Tt.selectionBefore?this.selection.fromJSON(Tt.selectionBefore):this.selection.setRange(this.$getUndoSelection(Tt,!0))),this.$fromUndo=!1}},$t.prototype.redoChanges=function(Tt,At){if(Tt.length){this.$fromUndo=!0;for(var Ct=0;Ct<Tt.length;Ct++){var It=Tt[Ct];(It.action=="insert"||It.action=="remove")&&this.doc.$safeApplyDelta(It)}!At&&this.$undoSelect&&(Tt.selectionAfter?this.selection.fromJSON(Tt.selectionAfter):this.selection.setRange(this.$getUndoSelection(Tt,!1))),this.$fromUndo=!1}},$t.prototype.setUndoSelect=function(Tt){this.$undoSelect=Tt},$t.prototype.$getUndoSelection=function(Tt,At){function Ct(Vt){return At?Vt.action!=="insert":Vt.action==="insert"}for(var It,Lt,Ft=0;Ft<Tt.length;Ft++){var Dt=Tt[Ft];if(Dt.start){if(!It){Ct(Dt)?It=$.fromPoints(Dt.start,Dt.end):It=$.fromPoints(Dt.start,Dt.start);continue}Ct(Dt)?(Lt=Dt.start,It.compare(Lt.row,Lt.column)==-1&&It.setStart(Lt),Lt=Dt.end,It.compare(Lt.row,Lt.column)==1&&It.setEnd(Lt)):(Lt=Dt.start,It.compare(Lt.row,Lt.column)==-1&&(It=$.fromPoints(Dt.start,Dt.start)))}}return It},$t.prototype.replace=function(Tt,At){return this.doc.replace(Tt,At)},$t.prototype.moveText=function(Tt,At,Ct){var It=this.getTextRange(Tt),Lt=this.getFoldsInRange(Tt),Ft=$.fromPoints(At,At);if(!Ct){this.remove(Tt);var Dt=Tt.start.row-Tt.end.row,Vt=Dt?-Tt.end.column:Tt.start.column-Tt.end.column;Vt&&(Ft.start.row==Tt.end.row&&Ft.start.column>Tt.end.column&&(Ft.start.column+=Vt),Ft.end.row==Tt.end.row&&Ft.end.column>Tt.end.column&&(Ft.end.column+=Vt)),Dt&&Ft.start.row>=Tt.end.row&&(Ft.start.row+=Dt,Ft.end.row+=Dt)}if(Ft.end=this.insert(Ft.start,It),Lt.length){var Ut=Tt.start,Qt=Ft.start,Dt=Qt.row-Ut.row,Vt=Qt.column-Ut.column;this.addFolds(Lt.map(function(qt){return qt=qt.clone(),qt.start.row==Ut.row&&(qt.start.column+=Vt),qt.end.row==Ut.row&&(qt.end.column+=Vt),qt.start.row+=Dt,qt.end.row+=Dt,qt}))}return Ft},$t.prototype.indentRows=function(Tt,At,Ct){Ct=Ct.replace(/\t/g,this.getTabString());for(var It=Tt;It<=At;It++)this.doc.insertInLine({row:It,column:0},Ct)},$t.prototype.outdentRows=function(Tt){for(var At=Tt.collapseRows(),Ct=new $(0,0,0,0),It=this.getTabSize(),Lt=At.start.row;Lt<=At.end.row;++Lt){var Ft=this.getLine(Lt);Ct.start.row=Lt,Ct.end.row=Lt;for(var Dt=0;Dt<It&&Ft.charAt(Dt)==" ";++Dt);Dt<It&&Ft.charAt(Dt)=="	"?(Ct.start.column=Dt,Ct.end.column=Dt+1):(Ct.start.column=0,Ct.end.column=Dt),this.remove(Ct)}},$t.prototype.$moveLines=function(Tt,At,Ct){if(Tt=this.getRowFoldStart(Tt),At=this.getRowFoldEnd(At),Ct<0){var It=this.getRowFoldStart(Tt+Ct);if(It<0)return 0;var Lt=It-Tt}else if(Ct>0){var It=this.getRowFoldEnd(At+Ct);if(It>this.doc.getLength()-1)return 0;var Lt=It-At}else{Tt=this.$clipRowToDocument(Tt),At=this.$clipRowToDocument(At);var Lt=At-Tt+1}var Ft=new $(Tt,0,At,Number.MAX_VALUE),Dt=this.getFoldsInRange(Ft).map(function(Ut){return Ut=Ut.clone(),Ut.start.row+=Lt,Ut.end.row+=Lt,Ut}),Vt=Ct==0?this.doc.getLines(Tt,At):this.doc.removeFullLines(Tt,At);return this.doc.insertFullLines(Tt+Lt,Vt),Dt.length&&this.addFolds(Dt),Lt},$t.prototype.moveLinesUp=function(Tt,At){return this.$moveLines(Tt,At,-1)},$t.prototype.moveLinesDown=function(Tt,At){return this.$moveLines(Tt,At,1)},$t.prototype.duplicateLines=function(Tt,At){return this.$moveLines(Tt,At,0)},$t.prototype.$clipRowToDocument=function(Tt){return Math.max(0,Math.min(Tt,this.doc.getLength()-1))},$t.prototype.$clipColumnToRow=function(Tt,At){return At<0?0:Math.min(this.doc.getLine(Tt).length,At)},$t.prototype.$clipPositionToDocument=function(Tt,At){if(At=Math.max(0,At),Tt<0)Tt=0,At=0;else{var Ct=this.doc.getLength();Tt>=Ct?(Tt=Ct-1,At=this.doc.getLine(Ct-1).length):At=Math.min(this.doc.getLine(Tt).length,At)}return{row:Tt,column:At}},$t.prototype.$clipRangeToDocument=function(Tt){Tt.start.row<0?(Tt.start.row=0,Tt.start.column=0):Tt.start.column=this.$clipColumnToRow(Tt.start.row,Tt.start.column);var At=this.doc.getLength()-1;return Tt.end.row>At?(Tt.end.row=At,Tt.end.column=this.doc.getLine(At).length):Tt.end.column=this.$clipColumnToRow(Tt.end.row,Tt.end.column),Tt},$t.prototype.setUseWrapMode=function(Tt){if(Tt!=this.$useWrapMode){if(this.$useWrapMode=Tt,this.$modified=!0,this.$resetRowCache(0),Tt){var At=this.getLength();this.$wrapData=Array(At),this.$updateWrapData(0,At-1)}this._signal("changeWrapMode")}},$t.prototype.getUseWrapMode=function(){return this.$useWrapMode},$t.prototype.setWrapLimitRange=function(Tt,At){(this.$wrapLimitRange.min!==Tt||this.$wrapLimitRange.max!==At)&&(this.$wrapLimitRange={min:Tt,max:At},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},$t.prototype.adjustWrapLimit=function(Tt,At){var Ct=this.$wrapLimitRange;Ct.max<0&&(Ct={min:At,max:At});var It=this.$constrainWrapLimit(Tt,Ct.min,Ct.max);return It!=this.$wrapLimit&&It>1?(this.$wrapLimit=It,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},$t.prototype.$constrainWrapLimit=function(Tt,At,Ct){return At&&(Tt=Math.max(At,Tt)),Ct&&(Tt=Math.min(Ct,Tt)),Tt},$t.prototype.getWrapLimit=function(){return this.$wrapLimit},$t.prototype.setWrapLimit=function(Tt){this.setWrapLimitRange(Tt,Tt)},$t.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},$t.prototype.$updateInternalDataOnChange=function(Tt){var At=this.$useWrapMode,Ct=Tt.action,It=Tt.start,Lt=Tt.end,Ft=It.row,Dt=Lt.row,Vt=Dt-Ft,Ut=null;if(this.$updating=!0,Vt!=0)if(Ct==="remove"){this[At?"$wrapData":"$rowLengthCache"].splice(Ft,Vt);var Qt=this.$foldData;Ut=this.getFoldsInRange(Tt),this.removeFolds(Ut);var Kt=this.getFoldLine(Lt.row),Ht=0;if(Kt){Kt.addRemoveChars(Lt.row,Lt.column,It.column-Lt.column),Kt.shiftRow(-Vt);var qt=this.getFoldLine(Ft);qt&&qt!==Kt&&(qt.merge(Kt),Kt=qt),Ht=Qt.indexOf(Kt)+1}for(Ht;Ht<Qt.length;Ht++){var Kt=Qt[Ht];Kt.start.row>=Lt.row&&Kt.shiftRow(-Vt)}Dt=Ft}else{var nr=Array(Vt);nr.unshift(Ft,0);var tr=At?this.$wrapData:this.$rowLengthCache;tr.splice.apply(tr,nr);var Qt=this.$foldData,Kt=this.getFoldLine(Ft),Ht=0;if(Kt){var mr=Kt.range.compareInside(It.row,It.column);mr==0?(Kt=Kt.split(It.row,It.column),Kt&&(Kt.shiftRow(Vt),Kt.addRemoveChars(Dt,0,Lt.column-It.column))):mr==-1&&(Kt.addRemoveChars(Ft,0,Lt.column-It.column),Kt.shiftRow(Vt)),Ht=Qt.indexOf(Kt)+1}for(Ht;Ht<Qt.length;Ht++){var Kt=Qt[Ht];Kt.start.row>=Ft&&Kt.shiftRow(Vt)}}else{Vt=Math.abs(Tt.start.column-Tt.end.column),Ct==="remove"&&(Ut=this.getFoldsInRange(Tt),this.removeFolds(Ut),Vt=-Vt);var Kt=this.getFoldLine(Ft);Kt&&Kt.addRemoveChars(Ft,It.column,Vt)}return At&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,At?this.$updateWrapData(Ft,Dt):this.$updateRowLengthCache(Ft,Dt),Ut},$t.prototype.$updateRowLengthCache=function(Tt,At){this.$rowLengthCache[Tt]=null,this.$rowLengthCache[At]=null},$t.prototype.$updateWrapData=function(Tt,At){var Ct=this.doc.getAllLines(),It=this.getTabSize(),Lt=this.$wrapData,Ft=this.$wrapLimit,Dt,Vt,Ut=Tt;for(At=Math.min(At,Ct.length-1);Ut<=At;)Vt=this.getFoldLine(Ut,Vt),Vt?(Dt=[],Vt.walk((function(Qt,Kt,Ht,qt){var nr;if(Qt!=null){nr=this.$getDisplayTokens(Qt,Dt.length),nr[0]=gt;for(var tr=1;tr<nr.length;tr++)nr[tr]=yt}else nr=this.$getDisplayTokens(Ct[Kt].substring(qt,Ht),Dt.length);Dt=Dt.concat(nr)}).bind(this),Vt.end.row,Ct[Vt.end.row].length+1),Lt[Vt.start.row]=this.$computeWrapSplits(Dt,Ft,It),Ut=Vt.end.row+1):(Dt=this.$getDisplayTokens(Ct[Ut]),Lt[Ut]=this.$computeWrapSplits(Dt,Ft,It),Ut++)},$t.prototype.$computeWrapSplits=function(Tt,At,Ct){if(Tt.length==0)return[];var It=[],Lt=Tt.length,Ft=0,Dt=0,Vt=this.$wrapAsCode,Ut=this.$indentedSoftWrap,Qt=At<=Math.max(2*Ct,8)||Ut===!1?0:Math.floor(At/2);function Kt(){var mr=0;if(Qt===0)return mr;if(Ut)for(var yr=0;yr<Tt.length;yr++){var br=Tt[yr];if(br==wt)mr+=1;else if(br==bt)mr+=Ct;else{if(br==vt)continue;break}}return Vt&&Ut!==!1&&(mr+=Ct),Math.min(mr,Qt)}function Ht(mr){for(var yr=mr-Ft,br=Ft;br<mr;br++){var xr=Tt[br];(xr===12||xr===2)&&(yr-=1)}It.length||(qt=Kt(),It.indent=qt),Dt+=yr,It.push(Dt),Ft=mr}for(var qt=0;Lt-Ft>At-qt;){var nr=Ft+At-qt;if(Tt[nr-1]>=wt&&Tt[nr]>=wt){Ht(nr);continue}if(Tt[nr]==gt||Tt[nr]==yt){for(nr;nr!=Ft-1&&Tt[nr]!=gt;nr--);if(nr>Ft){Ht(nr);continue}for(nr=Ft+At,nr;nr<Tt.length&&Tt[nr]==yt;nr++);if(nr==Tt.length)break;Ht(nr);continue}for(var tr=Math.max(nr-(At-(At>>2)),Ft-1);nr>tr&&Tt[nr]<gt;)nr--;if(Vt){for(;nr>tr&&Tt[nr]<gt;)nr--;for(;nr>tr&&Tt[nr]==ut;)nr--}else for(;nr>tr&&Tt[nr]<wt;)nr--;if(nr>tr){Ht(++nr);continue}nr=Ft+At,Tt[nr]==mt&&nr--,Ht(nr-qt)}return It},$t.prototype.$getDisplayTokens=function(Tt,At){var Ct=[],It;At=At||0;for(var Lt=0;Lt<Tt.length;Lt++){var Ft=Tt.charCodeAt(Lt);if(Ft==9){It=this.getScreenTabSize(Ct.length+At),Ct.push(bt);for(var Dt=1;Dt<It;Dt++)Ct.push(vt)}else Ft==32?Ct.push(wt):Ft>39&&Ft<48||Ft>57&&Ft<64?Ct.push(ut):Ft>=4352&&Et(Ft)?Ct.push(ct,mt):Ct.push(ct)}return Ct},$t.prototype.$getStringScreenWidth=function(Tt,At,Ct){if(At==0)return[0,0];At==null&&(At=1/0),Ct=Ct||0;var It,Lt;for(Lt=0;Lt<Tt.length&&(It=Tt.charCodeAt(Lt),It==9?Ct+=this.getScreenTabSize(Ct):It>=4352&&Et(It)?Ct+=2:Ct+=1,!(Ct>At));Lt++);return[Ct,Lt]},$t.prototype.getRowLength=function(Tt){var At=1;return this.lineWidgets&&(At+=this.lineWidgets[Tt]&&this.lineWidgets[Tt].rowCount||0),!this.$useWrapMode||!this.$wrapData[Tt]?At:this.$wrapData[Tt].length+At},$t.prototype.getRowLineCount=function(Tt){return!this.$useWrapMode||!this.$wrapData[Tt]?1:this.$wrapData[Tt].length+1},$t.prototype.getRowWrapIndent=function(Tt){if(this.$useWrapMode){var At=this.screenToDocumentPosition(Tt,Number.MAX_VALUE),Ct=this.$wrapData[At.row];return Ct.length&&Ct[0]<At.column?Ct.indent:0}else return 0},$t.prototype.getScreenLastRowColumn=function(Tt){var At=this.screenToDocumentPosition(Tt,Number.MAX_VALUE);return this.documentToScreenColumn(At.row,At.column)},$t.prototype.getDocumentLastRowColumn=function(Tt,At){var Ct=this.documentToScreenRow(Tt,At);return this.getScreenLastRowColumn(Ct)},$t.prototype.getDocumentLastRowColumnPosition=function(Tt,At){var Ct=this.documentToScreenRow(Tt,At);return this.screenToDocumentPosition(Ct,Number.MAX_VALUE/10)},$t.prototype.getRowSplitData=function(Tt){if(this.$useWrapMode)return this.$wrapData[Tt]},$t.prototype.getScreenTabSize=function(Tt){return this.$tabSize-(Tt%this.$tabSize|0)},$t.prototype.screenToDocumentRow=function(Tt,At){return this.screenToDocumentPosition(Tt,At).row},$t.prototype.screenToDocumentColumn=function(Tt,At){return this.screenToDocumentPosition(Tt,At).column},$t.prototype.screenToDocumentPosition=function(Tt,At,Ct){if(Tt<0)return{row:0,column:0};var It,Lt=0,Ft=0,Dt,Vt=0,Ut=0,Qt=this.$screenRowCache,Kt=this.$getRowCacheIndex(Qt,Tt),Ht=Qt.length;if(Ht&&Kt>=0)var Vt=Qt[Kt],Lt=this.$docRowCache[Kt],qt=Tt>Qt[Ht-1];else var qt=!Ht;for(var nr=this.getLength()-1,tr=this.getNextFoldLine(Lt),mr=tr?tr.start.row:1/0;Vt<=Tt&&(Ut=this.getRowLength(Lt),!(Vt+Ut>Tt||Lt>=nr));)Vt+=Ut,Lt++,Lt>mr&&(Lt=tr.end.row+1,tr=this.getNextFoldLine(Lt,tr),mr=tr?tr.start.row:1/0),qt&&(this.$docRowCache.push(Lt),this.$screenRowCache.push(Vt));if(tr&&tr.start.row<=Lt)It=this.getFoldDisplayLine(tr),Lt=tr.start.row;else{if(Vt+Ut<=Tt||Lt>nr)return{row:nr,column:this.getLine(nr).length};It=this.getLine(Lt),tr=null}var yr=0,br=Math.floor(Tt-Vt);if(this.$useWrapMode){var xr=this.$wrapData[Lt];xr&&(Dt=xr[br],br>0&&xr.length&&(yr=xr.indent,Ft=xr[br-1]||xr[xr.length-1],It=It.substring(Ft)))}return Ct!==void 0&&this.$bidiHandler.isBidiRow(Vt+br,Lt,br)&&(At=this.$bidiHandler.offsetToCol(Ct)),Ft+=this.$getStringScreenWidth(It,At-yr)[1],this.$useWrapMode&&Ft>=Dt&&(Ft=Dt-1),tr?tr.idxToPosition(Ft):{row:Lt,column:Ft}},$t.prototype.documentToScreenPosition=function(Tt,At){if(typeof At>"u")var Ct=this.$clipPositionToDocument(Tt.row,Tt.column);else Ct=this.$clipPositionToDocument(Tt,At);Tt=Ct.row,At=Ct.column;var It=0,Lt=null,Ft=null;Ft=this.getFoldAt(Tt,At,1),Ft&&(Tt=Ft.start.row,At=Ft.start.column);var Dt,Vt=0,Ut=this.$docRowCache,Qt=this.$getRowCacheIndex(Ut,Tt),Kt=Ut.length;if(Kt&&Qt>=0)var Vt=Ut[Qt],It=this.$screenRowCache[Qt],Ht=Tt>Ut[Kt-1];else var Ht=!Kt;for(var qt=this.getNextFoldLine(Vt),nr=qt?qt.start.row:1/0;Vt<Tt;){if(Vt>=nr){if(Dt=qt.end.row+1,Dt>Tt)break;qt=this.getNextFoldLine(Dt,qt),nr=qt?qt.start.row:1/0}else Dt=Vt+1;It+=this.getRowLength(Vt),Vt=Dt,Ht&&(this.$docRowCache.push(Vt),this.$screenRowCache.push(It))}var tr="";qt&&Vt>=nr?(tr=this.getFoldDisplayLine(qt,Tt,At),Lt=qt.start.row):(tr=this.getLine(Tt).substring(0,At),Lt=Tt);var mr=0;if(this.$useWrapMode){var yr=this.$wrapData[Lt];if(yr){for(var br=0;tr.length>=yr[br];)It++,br++;tr=tr.substring(yr[br-1]||0,tr.length),mr=br>0?yr.indent:0}}return this.lineWidgets&&this.lineWidgets[Vt]&&this.lineWidgets[Vt].rowsAbove&&(It+=this.lineWidgets[Vt].rowsAbove),{row:It,column:mr+this.$getStringScreenWidth(tr)[0]}},$t.prototype.documentToScreenColumn=function(Tt,At){return this.documentToScreenPosition(Tt,At).column},$t.prototype.documentToScreenRow=function(Tt,At){return this.documentToScreenPosition(Tt,At).row},$t.prototype.getScreenLength=function(){var Tt=0,At=null;if(this.$useWrapMode)for(var Lt=this.$wrapData.length,Ft=0,It=0,At=this.$foldData[It++],Dt=At?At.start.row:1/0;Ft<Lt;){var Vt=this.$wrapData[Ft];Tt+=Vt?Vt.length+1:1,Ft++,Ft>Dt&&(Ft=At.end.row+1,At=this.$foldData[It++],Dt=At?At.start.row:1/0)}else{Tt=this.getLength();for(var Ct=this.$foldData,It=0;It<Ct.length;It++)At=Ct[It],Tt-=At.end.row-At.start.row}return this.lineWidgets&&(Tt+=this.$getWidgetScreenLength()),Tt},$t.prototype.$setFontMetrics=function(Tt){this.$enableVarChar&&(this.$getStringScreenWidth=function(At,Ct,It){if(Ct===0)return[0,0];Ct||(Ct=1/0),It=It||0;var Lt,Ft;for(Ft=0;Ft<At.length&&(Lt=At.charAt(Ft),Lt==="	"?It+=this.getScreenTabSize(It):It+=Tt.getCharacterWidth(Lt),!(It>Ct));Ft++);return[It,Ft]})},$t.prototype.getPrecedingCharacter=function(){var Tt=this.selection.getCursor();if(Tt.column===0)return Tt.row===0?"":this.doc.getNewLineCharacter();var At=this.getLine(Tt.row);return At[Tt.column-1]},$t.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},$t}();ft.$uid=0,ft.prototype.$modes=nt.$modes,ft.prototype.getValue=ft.prototype.toString,ft.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},ft.prototype.$overwrite=!1,ft.prototype.$mode=null,ft.prototype.$modeId=null,ft.prototype.$scrollTop=0,ft.prototype.$scrollLeft=0,ft.prototype.$wrapLimit=80,ft.prototype.$useWrapMode=!1,ft.prototype.$wrapLimitRange={min:null,max:null},ft.prototype.lineWidgets=null,ft.prototype.isFullWidth=Et,et.implement(ft.prototype,it);var ct=1,mt=2,gt=3,yt=4,ut=9,wt=10,bt=11,vt=12;function Et($t){return $t<4352?!1:$t>=4352&&$t<=4447||$t>=4515&&$t<=4519||$t>=4602&&$t<=4607||$t>=9001&&$t<=9002||$t>=11904&&$t<=11929||$t>=11931&&$t<=12019||$t>=12032&&$t<=12245||$t>=12272&&$t<=12283||$t>=12288&&$t<=12350||$t>=12353&&$t<=12438||$t>=12441&&$t<=12543||$t>=12549&&$t<=12589||$t>=12593&&$t<=12686||$t>=12688&&$t<=12730||$t>=12736&&$t<=12771||$t>=12784&&$t<=12830||$t>=12832&&$t<=12871||$t>=12880&&$t<=13054||$t>=13056&&$t<=19903||$t>=19968&&$t<=42124||$t>=42128&&$t<=42182||$t>=43360&&$t<=43388||$t>=44032&&$t<=55203||$t>=55216&&$t<=55238||$t>=55243&&$t<=55291||$t>=63744&&$t<=64255||$t>=65040&&$t<=65049||$t>=65072&&$t<=65106||$t>=65108&&$t<=65126||$t>=65128&&$t<=65131||$t>=65281&&$t<=65376||$t>=65504&&$t<=65510}a("./edit_session/folding").Folding.call(ft.prototype),a("./edit_session/bracket_match").BracketMatch.call(ft.prototype),nt.defineOptions(ft.prototype,"session",{wrap:{set:function($t){if(!$t||$t=="off"?$t=!1:$t=="free"?$t=!0:$t=="printMargin"?$t=-1:typeof $t=="string"&&($t=parseInt($t,10)||!1),this.$wrap!=$t)if(this.$wrap=$t,!$t)this.setUseWrapMode(!1);else{var Tt=typeof $t=="number"?$t:null;this.setWrapLimitRange(Tt,Tt),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function($t){$t=$t=="auto"?this.$mode.type!="text":$t!="text",$t!=this.$wrapAsCode&&(this.$wrapAsCode=$t,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function($t){this.$useWorker=$t,this.$stopWorker(),$t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function($t){$t=parseInt($t),$t>0&&this.$tabSize!==$t&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=$t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function($t){this.setFoldStyle($t)},handlesSet:!0},overwrite:{set:function($t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function($t){this.doc.setNewLineMode($t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function($t){this.setMode($t)},get:function(){return this.$modeId},handlesSet:!0}}),o.EditSession=ft}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,o,rt){var et=a("./lib/lang"),at=a("./lib/oop"),ot=a("./range").Range,nt=function(){function j(){this.$options={}}return j.prototype.set=function(_){return at.mixin(this.$options,_),this},j.prototype.getOptions=function(){return et.copyObject(this.$options)},j.prototype.setOptions=function(_){this.$options=_},j.prototype.find=function(_){var $=this.$options,tt=this.$matchIterator(_,$);if(!tt)return!1;var st=null;return tt.forEach(function(lt,ht,ft,ct){return st=new ot(lt,ht,ft,ct),ht==ct&&$.start&&$.start.start&&$.skipCurrent!=!1&&st.isEqual($.start)?(st=null,!1):!0}),st},j.prototype.findAll=function(_){var $=this.$options;if(!$.needle)return[];this.$assembleRegExp($);var tt=$.range,st=tt?_.getLines(tt.start.row,tt.end.row):_.doc.getAllLines(),lt=[],ht=$.re;if($.$isMultiLine){var ft=ht.length,ct=st.length-ft,mt;e:for(var gt=ht.offset||0;gt<=ct;gt++){for(var yt=0;yt<ft;yt++)if(st[gt+yt].search(ht[yt])==-1)continue e;var ut=st[gt],wt=st[gt+ft-1],bt=ut.length-ut.match(ht[0])[0].length,vt=wt.match(ht[ft-1])[0].length;mt&&mt.end.row===gt&&mt.end.column>bt||(lt.push(mt=new ot(gt,bt,gt+ft-1,vt)),ft>2&&(gt=gt+ft-2))}}else for(var Et=0;Et<st.length;Et++)for(var $t=et.getMatchOffsets(st[Et],ht),yt=0;yt<$t.length;yt++){var Tt=$t[yt];lt.push(new ot(Et,Tt.offset,Et,Tt.offset+Tt.length))}if(tt){for(var At=tt.start.column,Ct=tt.end.column,Et=0,yt=lt.length-1;Et<yt&&lt[Et].start.column<At&&lt[Et].start.row==0;)Et++;for(var It=tt.end.row-tt.start.row;Et<yt&&lt[yt].end.column>Ct&&lt[yt].end.row==It;)yt--;for(lt=lt.slice(Et,yt+1),Et=0,yt=lt.length;Et<yt;Et++)lt[Et].start.row+=tt.start.row,lt[Et].end.row+=tt.start.row}return lt},j.prototype.replace=function(_,$){var tt=this.$options,st=this.$assembleRegExp(tt);if(tt.$isMultiLine)return $;if(st){var lt=st.exec(_);if(!lt||lt[0].length!=_.length)return null;if(tt.regExp||($=$.replace(/\$/g,"$$$$")),$=_.replace(st,$),tt.preserveCase){$=$.split("");for(var ht=Math.min(_.length,_.length);ht--;){var ft=_[ht];ft&&ft.toLowerCase()!=ft?$[ht]=$[ht].toUpperCase():$[ht]=$[ht].toLowerCase()}$=$.join("")}return $}},j.prototype.$assembleRegExp=function(_,$){if(_.needle instanceof RegExp)return _.re=_.needle;var tt=_.needle;if(!_.needle)return _.re=!1;_.regExp||(tt=et.escapeRegExp(tt));var st=_.caseSensitive?"gm":"gmi";try{new RegExp(tt,"u"),_.$supportsUnicodeFlag=!0,st+="u"}catch{_.$supportsUnicodeFlag=!1}if(_.wholeWord&&(tt=it(tt,_)),_.$isMultiLine=!$&&/[\n\r]/.test(tt),_.$isMultiLine)return _.re=this.$assembleMultilineRegExp(tt,st);try{var lt=new RegExp(tt,st)}catch{lt=!1}return _.re=lt},j.prototype.$assembleMultilineRegExp=function(_,$){for(var tt=_.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),st=[],lt=0;lt<tt.length;lt++)try{st.push(new RegExp(tt[lt],$))}catch{return!1}return st},j.prototype.$matchIterator=function(_,$){var tt=this.$assembleRegExp($);if(!tt)return!1;var st=$.backwards==!0,lt=$.skipCurrent!=!1,ht=tt.unicode,ft=$.range,ct=$.start;ct||(ct=ft?ft[st?"end":"start"]:_.selection.getRange()),ct.start&&(ct=ct[lt!=st?"end":"start"]);var mt=ft?ft.start.row:0,gt=ft?ft.end.row:_.getLength()-1;if(st)var yt=function(bt){var vt=ct.row;if(!wt(vt,ct.column,bt)){for(vt--;vt>=mt;vt--)if(wt(vt,Number.MAX_VALUE,bt))return;if($.wrap!=!1){for(vt=gt,mt=ct.row;vt>=mt;vt--)if(wt(vt,Number.MAX_VALUE,bt))return}}};else var yt=function(vt){var Et=ct.row;if(!wt(Et,ct.column,vt)){for(Et=Et+1;Et<=gt;Et++)if(wt(Et,0,vt))return;if($.wrap!=!1){for(Et=mt,gt=ct.row;Et<=gt;Et++)if(wt(Et,0,vt))return}}};if($.$isMultiLine)var ut=tt.length,wt=function(bt,vt,Et){var $t=st?bt-ut+1:bt;if(!($t<0||$t+ut>_.getLength())){var Tt=_.getLine($t),At=Tt.search(tt[0]);if(!(!st&&At<vt||At===-1)){for(var Ct=1;Ct<ut;Ct++)if(Tt=_.getLine($t+Ct),Tt.search(tt[Ct])==-1)return;var It=Tt.match(tt[ut-1])[0].length;if(!(st&&It>vt)&&Et($t,At,$t+ut-1,It))return!0}}};else if(st)var wt=function(vt,Et,$t){var Tt=_.getLine(vt),At=[],Ct,It=0;for(tt.lastIndex=0;Ct=tt.exec(Tt);){var Lt=Ct[0].length;if(It=Ct.index,!Lt){if(It>=Tt.length)break;tt.lastIndex=It+=et.skipEmptyMatch(Tt,It,ht)}if(Ct.index+Lt>Et)break;At.push(Ct.index,Lt)}for(var Ft=At.length-1;Ft>=0;Ft-=2){var Dt=At[Ft-1],Lt=At[Ft];if($t(vt,Dt,vt,Dt+Lt))return!0}};else var wt=function(vt,Et,$t){var Tt=_.getLine(vt),At,Ct;for(tt.lastIndex=Et;Ct=tt.exec(Tt);){var It=Ct[0].length;if(At=Ct.index,$t(vt,At,vt,At+It))return!0;if(!It&&(tt.lastIndex=At+=et.skipEmptyMatch(Tt,At,ht),At>=Tt.length))return!1}};return{forEach:yt}},j}();function it(j,_){var $=et.supportsLookbehind();function tt(ft,ct){ct===void 0&&(ct=!0);var mt=$&&_.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return mt.test(ft)||_.regExp?$&&_.$supportsUnicodeFlag?ct?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var st=Array.from(j),lt=st[0],ht=st[st.length-1];return tt(lt)+j+tt(ht,!1)}o.Search=nt}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(a,o,rt){var et=this&&this.__extends||function(){var $=function(tt,st){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ht){lt.__proto__=ht}||function(lt,ht){for(var ft in ht)Object.prototype.hasOwnProperty.call(ht,ft)&&(lt[ft]=ht[ft])},$(tt,st)};return function(tt,st){if(typeof st!="function"&&st!==null)throw new TypeError("Class extends value "+String(st)+" is not a constructor or null");$(tt,st);function lt(){this.constructor=tt}tt.prototype=st===null?Object.create(st):(lt.prototype=st.prototype,new lt)}}(),at=a("../lib/keys"),ot=a("../lib/useragent"),nt=at.KEY_MODS,it=function(){function $(tt,st){this.$init(tt,st,!1)}return $.prototype.$init=function(tt,st,lt){this.platform=st||(ot.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(tt),this.$singleCommand=lt},$.prototype.addCommand=function(tt){this.commands[tt.name]&&this.removeCommand(tt),this.commands[tt.name]=tt,tt.bindKey&&this._buildKeyHash(tt)},$.prototype.removeCommand=function(tt,st){var lt=tt&&(typeof tt=="string"?tt:tt.name);tt=this.commands[lt],st||delete this.commands[lt];var ht=this.commandKeyBinding;for(var ft in ht){var ct=ht[ft];if(ct==tt)delete ht[ft];else if(Array.isArray(ct)){var mt=ct.indexOf(tt);mt!=-1&&(ct.splice(mt,1),ct.length==1&&(ht[ft]=ct[0]))}}},$.prototype.bindKey=function(tt,st,lt){if(typeof tt=="object"&&tt&&(lt==null&&(lt=tt.position),tt=tt[this.platform]),!!tt){if(typeof st=="function")return this.addCommand({exec:st,bindKey:tt,name:st.name||tt});tt.split("|").forEach(function(ht){var ft="";if(ht.indexOf(" ")!=-1){var ct=ht.split(/\s+/);ht=ct.pop(),ct.forEach(function(yt){var ut=this.parseKeys(yt),wt=nt[ut.hashId]+ut.key;ft+=(ft?" ":"")+wt,this._addCommandToBinding(ft,"chainKeys")},this),ft+=" "}var mt=this.parseKeys(ht),gt=nt[mt.hashId]+mt.key;this._addCommandToBinding(ft+gt,st,lt)},this)}},$.prototype._addCommandToBinding=function(tt,st,lt){var ht=this.commandKeyBinding,ft;if(!st)delete ht[tt];else if(!ht[tt]||this.$singleCommand)ht[tt]=st;else{Array.isArray(ht[tt])?(ft=ht[tt].indexOf(st))!=-1&&ht[tt].splice(ft,1):ht[tt]=[ht[tt]],typeof lt!="number"&&(lt=j(st));var ct=ht[tt];for(ft=0;ft<ct.length;ft++){var mt=ct[ft],gt=j(mt);if(gt>lt)break}ct.splice(ft,0,st)}},$.prototype.addCommands=function(tt){tt&&Object.keys(tt).forEach(function(st){var lt=tt[st];if(lt){if(typeof lt=="string")return this.bindKey(lt,st);typeof lt=="function"&&(lt={exec:lt}),typeof lt=="object"&&(lt.name||(lt.name=st),this.addCommand(lt))}},this)},$.prototype.removeCommands=function(tt){Object.keys(tt).forEach(function(st){this.removeCommand(tt[st])},this)},$.prototype.bindKeys=function(tt){Object.keys(tt).forEach(function(st){this.bindKey(st,tt[st])},this)},$.prototype._buildKeyHash=function(tt){this.bindKey(tt.bindKey,tt)},$.prototype.parseKeys=function(tt){var st=tt.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(gt){return gt}),lt=st.pop(),ht=at[lt];if(at.FUNCTION_KEYS[ht])lt=at.FUNCTION_KEYS[ht].toLowerCase();else if(st.length){if(st.length==1&&st[0]=="shift")return{key:lt.toUpperCase(),hashId:-1}}else return{key:lt,hashId:-1};for(var ft=0,ct=st.length;ct--;){var mt=at.KEY_MODS[st[ct]];if(mt==null)return typeof console<"u"&&console.error("invalid modifier "+st[ct]+" in "+tt),!1;ft|=mt}return{key:lt,hashId:ft}},$.prototype.findKeyCommand=function(tt,st){var lt=nt[tt]+st;return this.commandKeyBinding[lt]},$.prototype.handleKeyboard=function(tt,st,lt,ht){if(!(ht<0)){var ft=nt[st]+lt,ct=this.commandKeyBinding[ft];return tt.$keyChain&&(tt.$keyChain+=" "+ft,ct=this.commandKeyBinding[tt.$keyChain]||ct),ct&&(ct=="chainKeys"||ct[ct.length-1]=="chainKeys")?(tt.$keyChain=tt.$keyChain||ft,{command:"null"}):(tt.$keyChain&&((!st||st==4)&&lt.length==1?tt.$keyChain=tt.$keyChain.slice(0,-ft.length-1):(st==-1||ht>0)&&(tt.$keyChain="")),{command:ct})}},$.prototype.getStatusText=function(tt,st){return st.$keyChain||""},$}();function j($){return typeof $=="object"&&$.bindKey&&$.bindKey.position||($.isDefault?-100:0)}var _=function($){et(tt,$);function tt(st,lt){var ht=$.call(this,st,lt)||this;return ht.$singleCommand=!0,ht}return tt}(it);_.call=function($,tt,st){it.prototype.$init.call($,tt,st,!0)},it.call=function($,tt,st){it.prototype.$init.call($,tt,st,!1)},o.HashHandler=_,o.MultiHashHandler=it}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(a,o,rt){var et=this&&this.__extends||function(){var j=function(_,$){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,st){tt.__proto__=st}||function(tt,st){for(var lt in st)Object.prototype.hasOwnProperty.call(st,lt)&&(tt[lt]=st[lt])},j(_,$)};return function(_,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");j(_,$);function tt(){this.constructor=_}_.prototype=$===null?Object.create($):(tt.prototype=$.prototype,new tt)}}(),at=a("../lib/oop"),ot=a("../keyboard/hash_handler").MultiHashHandler,nt=a("../lib/event_emitter").EventEmitter,it=function(j){et(_,j);function _($,tt){var st=j.call(this,tt,$)||this;return st.byName=st.commands,st.setDefaultHandler("exec",function(lt){return lt.args?lt.command.exec(lt.editor,lt.args,lt.event,!1):lt.command.exec(lt.editor,{},lt.event,!0)}),st}return _.prototype.exec=function($,tt,st){if(Array.isArray($)){for(var lt=$.length;lt--;)if(this.exec($[lt],tt,st))return!0;return!1}if(typeof $=="string"&&($=this.commands[$]),!this.canExecute($,tt))return!1;var ht={editor:tt,command:$,args:st};return ht.returnValue=this._emit("exec",ht),this._signal("afterExec",ht),ht.returnValue!==!1},_.prototype.canExecute=function($,tt){return typeof $=="string"&&($=this.commands[$]),!(!$||tt&&tt.$readOnly&&!$.readOnly||this.$checkCommandState!=!1&&$.isAvailable&&!$.isAvailable(tt))},_.prototype.toggleRecording=function($){if(!this.$inReplay)return $&&$._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(tt){this.macro.push([tt.command,tt.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},_.prototype.replay=function($){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording($);try{this.$inReplay=!0,this.macro.forEach(function(tt){typeof tt=="string"?this.exec(tt,$):this.exec(tt[0],$,tt[1])},this)}finally{this.$inReplay=!1}}},_.prototype.trimMacro=function($){return $.map(function(tt){return typeof tt[0]!="string"&&(tt[0]=tt[0].name),tt[1]||(tt=tt[0]),tt})},_}(ot);at.implement(it.prototype,nt),o.CommandManager=it}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(a,o,rt){var et=a("../lib/lang"),at=a("../config"),ot=a("../range").Range;function nt(j,_){return{win:j,mac:_}}o.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:nt("Ctrl-,","Command-,"),exec:function(j){at.loadModule("ace/ext/settings_menu",function(_){_.init(j),j.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:nt("Alt-E","F4"),exec:function(j){at.loadModule("ace/ext/error_marker",function(_){_.showErrorMarker(j,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:nt("Alt-Shift-E","Shift-F4"),exec:function(j){at.loadModule("ace/ext/error_marker",function(_){_.showErrorMarker(j,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:nt("Ctrl-A","Command-A"),exec:function(j){j.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:nt(null,"Ctrl-L"),exec:function(j){j.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:nt("Ctrl-L","Command-L"),exec:function(j,_){typeof _=="number"&&!isNaN(_)&&j.gotoLine(_),j.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:nt("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(j){j.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:nt("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(j){j.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:nt("F2","F2"),exec:function(j){j.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:nt("Alt-F2","Alt-F2"),exec:function(j){j.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:nt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:nt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:nt("Alt-0","Command-Option-0"),exec:function(j){j.session.foldAll(),j.session.unfold(j.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:nt("Alt-Shift-0","Command-Option-Shift-0"),exec:function(j){j.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:nt("Ctrl-K","Command-G"),exec:function(j){j.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:nt("Ctrl-Shift-K","Command-Shift-G"),exec:function(j){j.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:nt("Alt-K","Ctrl-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:nt("Alt-Shift-K","Ctrl-Shift-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:nt("Ctrl-F","Command-F"),exec:function(j){at.loadModule("ace/ext/searchbox",function(_){_.Search(j)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(j){j.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:nt("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(j){j.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:nt("Ctrl-Home","Command-Home|Command-Up"),exec:function(j){j.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:nt("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(j){j.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:nt("Up","Up|Ctrl-P"),exec:function(j,_){j.navigateUp(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:nt("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(j){j.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:nt("Ctrl-End","Command-End|Command-Down"),exec:function(j){j.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:nt("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(j){j.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:nt("Down","Down|Ctrl-N"),exec:function(j,_){j.navigateDown(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:nt("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(j){j.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:nt("Ctrl-Left","Option-Left"),exec:function(j){j.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:nt("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:nt("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(j){j.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:nt("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(j){j.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:nt("Left","Left|Ctrl-B"),exec:function(j,_){j.navigateLeft(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:nt("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(j){j.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:nt("Ctrl-Right","Option-Right"),exec:function(j){j.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:nt("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:nt("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(j){j.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:nt("Shift-Right","Shift-Right"),exec:function(j){j.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:nt("Right","Right|Ctrl-F"),exec:function(j,_){j.navigateRight(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(j){j.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:nt(null,"Option-PageDown"),exec:function(j){j.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:nt("PageDown","PageDown|Ctrl-V"),exec:function(j){j.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(j){j.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:nt(null,"Option-PageUp"),exec:function(j){j.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(j){j.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:nt("Ctrl-Up",null),exec:function(j){j.renderer.scrollBy(0,-2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:nt("Ctrl-Down",null),exec:function(j){j.renderer.scrollBy(0,2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:nt("Ctrl-Alt-E","Command-Option-E"),exec:function(j){j.commands.toggleRecording(j)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:nt("Ctrl-Shift-E","Command-Shift-E"),exec:function(j){j.commands.replay(j)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:nt("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(j){j.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:nt("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(j){j.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:nt("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(j){j.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:nt(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(j){},readOnly:!0},{name:"cut",description:"Cut",exec:function(j){var _=j.$copyWithEmptySelection&&j.selection.isEmpty(),$=_?j.selection.getLineRange():j.selection.getRange();j._emit("cut",$),$.isEmpty()||j.session.remove($),j.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(j,_){j.$handlePaste(_)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:nt("Ctrl-D","Command-D"),exec:function(j){j.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:nt("Ctrl-Shift-D","Command-Shift-D"),exec:function(j){j.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:nt("Ctrl-Alt-S","Command-Alt-S"),exec:function(j){j.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:nt("Ctrl-/","Command-/"),exec:function(j){j.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:nt("Ctrl-Shift-/","Command-Shift-/"),exec:function(j){j.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:nt("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(j){j.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:nt("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(j){j.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:nt("Ctrl-H","Command-Option-F"),exec:function(j){at.loadModule("ace/ext/searchbox",function(_){_.Search(j,!0)})}},{name:"undo",description:"Undo",bindKey:nt("Ctrl-Z","Command-Z"),exec:function(j){j.undo()}},{name:"redo",description:"Redo",bindKey:nt("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(j){j.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:nt("Alt-Shift-Up","Command-Option-Up"),exec:function(j){j.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:nt("Alt-Up","Option-Up"),exec:function(j){j.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:nt("Alt-Shift-Down","Command-Option-Down"),exec:function(j){j.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:nt("Alt-Down","Option-Down"),exec:function(j){j.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:nt("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(j){j.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:nt("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(j){j.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:nt("Shift-Delete",null),exec:function(j){if(j.selection.isEmpty())j.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:nt("Alt-Backspace","Command-Backspace"),exec:function(j){j.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:nt("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(j){j.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:nt("Ctrl-Shift-Backspace",null),exec:function(j){var _=j.selection.getRange();_.start.column=0,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:nt("Ctrl-Shift-Delete",null),exec:function(j){var _=j.selection.getRange();_.end.column=Number.MAX_VALUE,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:nt("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(j){j.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:nt("Ctrl-Delete","Alt-Delete"),exec:function(j){j.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:nt("Shift-Tab","Shift-Tab"),exec:function(j){j.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:nt("Tab","Tab"),exec:function(j){j.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:nt("Ctrl-[","Ctrl-["),exec:function(j){j.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:nt("Ctrl-]","Ctrl-]"),exec:function(j){j.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(j,_){j.insert(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(j,_){j.insert(et.stringRepeat(_.text||"",_.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:nt(null,"Ctrl-O"),exec:function(j){j.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:nt("Alt-Shift-X","Ctrl-T"),exec:function(j){j.transposeLetters()},multiSelectAction:function(j){j.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:nt("Ctrl-U","Ctrl-U"),exec:function(j){j.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:nt("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(j){j.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:nt(null,null),exec:function(j){j.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:nt("Ctrl-Shift-L","Command-Shift-L"),exec:function(j){var _=j.selection.getRange();_.start.column=_.end.column=0,_.end.row++,j.selection.setRange(_,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:nt("Ctrl+F3","F3"),exec:function(j){j.openLink()}},{name:"joinlines",description:"Join lines",bindKey:nt(null,null),exec:function(j){for(var _=j.selection.isBackwards(),$=_?j.selection.getSelectionLead():j.selection.getSelectionAnchor(),tt=_?j.selection.getSelectionAnchor():j.selection.getSelectionLead(),st=j.session.doc.getLine($.row).length,lt=j.session.doc.getTextRange(j.selection.getRange()),ht=lt.replace(/\n\s*/," ").length,ft=j.session.doc.getLine($.row),ct=$.row+1;ct<=tt.row+1;ct++){var mt=et.stringTrimLeft(et.stringTrimRight(j.session.doc.getLine(ct)));mt.length!==0&&(mt=" "+mt),ft+=mt}tt.row+1<j.session.doc.getLength()-1&&(ft+=j.session.doc.getNewLineCharacter()),j.clearSelection(),j.session.doc.replace(new ot($.row,0,tt.row+2,0),ft),ht>0?(j.selection.moveCursorTo($.row,$.column),j.selection.selectTo($.row,$.column+ht)):(st=j.session.doc.getLine($.row).length>st?st+1:st,j.selection.moveCursorTo($.row,st))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:nt(null,null),exec:function(j){var _=j.session.doc.getLength()-1,$=j.session.doc.getLine(_).length,tt=j.selection.rangeList.ranges,st=[];tt.length<1&&(tt=[j.selection.getRange()]);for(var lt=0;lt<tt.length;lt++)lt==tt.length-1&&(tt[lt].end.row===_&&tt[lt].end.column===$||st.push(new ot(tt[lt].end.row,tt[lt].end.column,_,$))),lt===0?tt[lt].start.row===0&&tt[lt].start.column===0||st.push(new ot(0,0,tt[lt].start.row,tt[lt].start.column)):st.push(new ot(tt[lt-1].end.row,tt[lt-1].end.column,tt[lt].start.row,tt[lt].start.column));j.exitMultiSelectMode(),j.clearSelection();for(var lt=0;lt<st.length;lt++)j.selection.addRange(st[lt],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(j){j.selection.clearSelection(),j.navigateLineEnd(),j.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(j){j.selection.clearSelection();var _=j.getCursorPosition();j.selection.moveTo(_.row-1,Number.MAX_VALUE),j.insert(`
`),_.row===0&&j.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(j){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),j.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:nt("F1","F1"),exec:function(j){j.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:nt(null,null),exec:function(j){j.prompt({$type:"modes"})},readOnly:!0}];for(var it=1;it<9;it++)o.commands.push({name:"foldToLevel"+it,description:"Fold To Level "+it,level:it,exec:function(j){j.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(a,o,rt){var et=a("./lib/dom"),at=function(){function ot(nt){this.session=nt,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return ot.prototype.getRowLength=function(nt){var it;return this.lineWidgets?it=this.lineWidgets[nt]&&this.lineWidgets[nt].rowCount||0:it=0,!this.$useWrapMode||!this.$wrapData[nt]?1+it:this.$wrapData[nt].length+1+it},ot.prototype.$getWidgetScreenLength=function(){var nt=0;return this.lineWidgets.forEach(function(it){it&&it.rowCount&&!it.hidden&&(nt+=it.rowCount)}),nt},ot.prototype.$onChangeEditor=function(nt){this.attach(nt.editor)},ot.prototype.attach=function(nt){nt&&nt.widgetManager&&nt.widgetManager!=this&&nt.widgetManager.detach(),this.editor!=nt&&(this.detach(),this.editor=nt,nt&&(nt.widgetManager=this,nt.renderer.on("beforeRender",this.measureWidgets),nt.renderer.on("afterRender",this.renderWidgets)))},ot.prototype.detach=function(nt){var it=this.editor;if(it){this.editor=null,it.widgetManager=null,it.renderer.off("beforeRender",this.measureWidgets),it.renderer.off("afterRender",this.renderWidgets);var j=this.session.lineWidgets;j&&j.forEach(function(_){_&&_.el&&_.el.parentNode&&(_._inDocument=!1,_.el.parentNode.removeChild(_.el))})}},ot.prototype.updateOnFold=function(nt,it){var j=it.lineWidgets;if(!(!j||!nt.action)){for(var _=nt.data,$=_.start.row,tt=_.end.row,st=nt.action=="add",lt=$+1;lt<tt;lt++)j[lt]&&(j[lt].hidden=st);j[tt]&&(st?j[$]?j[tt].hidden=st:j[$]=j[tt]:(j[$]==j[tt]&&(j[$]=void 0),j[tt].hidden=st))}},ot.prototype.updateOnChange=function(nt){var it=this.session.lineWidgets;if(it){var j=nt.start.row,_=nt.end.row-j;if(_!==0)if(nt.action=="remove"){var $=it.splice(j+1,_);!it[j]&&$[$.length-1]&&(it[j]=$.pop()),$.forEach(function(st){st&&this.removeLineWidget(st)},this),this.$updateRows()}else{var tt=new Array(_);it[j]&&it[j].column!=null&&nt.start.column>it[j].column&&j++,tt.unshift(j,0),it.splice.apply(it,tt),this.$updateRows()}}},ot.prototype.$updateRows=function(){var nt=this.session.lineWidgets;if(nt){var it=!0;nt.forEach(function(j,_){if(j)for(it=!1,j.row=_;j.$oldWidget;)j.$oldWidget.row=_,j=j.$oldWidget}),it&&(this.session.lineWidgets=null)}},ot.prototype.$registerLineWidget=function(nt){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var it=this.session.lineWidgets[nt.row];return it&&(nt.$oldWidget=it,it.el&&it.el.parentNode&&(it.el.parentNode.removeChild(it.el),it._inDocument=!1)),this.session.lineWidgets[nt.row]=nt,nt},ot.prototype.addLineWidget=function(nt){if(this.$registerLineWidget(nt),nt.session=this.session,!this.editor)return nt;var it=this.editor.renderer;nt.html&&!nt.el&&(nt.el=et.createElement("div"),nt.el.innerHTML=nt.html),nt.text&&!nt.el&&(nt.el=et.createElement("div"),nt.el.textContent=nt.text),nt.el&&(et.addCssClass(nt.el,"ace_lineWidgetContainer"),nt.className&&et.addCssClass(nt.el,nt.className),nt.el.style.position="absolute",nt.el.style.zIndex="5",it.container.appendChild(nt.el),nt._inDocument=!0,nt.coverGutter||(nt.el.style.zIndex="3"),nt.pixelHeight==null&&(nt.pixelHeight=nt.el.offsetHeight)),nt.rowCount==null&&(nt.rowCount=nt.pixelHeight/it.layerConfig.lineHeight);var j=this.session.getFoldAt(nt.row,0);if(nt.$fold=j,j){var _=this.session.lineWidgets;nt.row==j.end.row&&!_[j.start.row]?_[j.start.row]=nt:nt.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:nt.row}}}),this.$updateRows(),this.renderWidgets(null,it),this.onWidgetChanged(nt),nt},ot.prototype.removeLineWidget=function(nt){if(nt._inDocument=!1,nt.session=null,nt.el&&nt.el.parentNode&&nt.el.parentNode.removeChild(nt.el),nt.editor&&nt.editor.destroy)try{nt.editor.destroy()}catch{}if(this.session.lineWidgets){var it=this.session.lineWidgets[nt.row];if(it==nt)this.session.lineWidgets[nt.row]=nt.$oldWidget,nt.$oldWidget&&this.onWidgetChanged(nt.$oldWidget);else for(;it;){if(it.$oldWidget==nt){it.$oldWidget=nt.$oldWidget;break}it=it.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:nt.row}}}),this.$updateRows()},ot.prototype.getWidgetsAtRow=function(nt){for(var it=this.session.lineWidgets,j=it&&it[nt],_=[];j;)_.push(j),j=j.$oldWidget;return _},ot.prototype.onWidgetChanged=function(nt){this.session._changedWidgets.push(nt),this.editor&&this.editor.renderer.updateFull()},ot.prototype.measureWidgets=function(nt,it){var j=this.session._changedWidgets,_=it.layerConfig;if(!(!j||!j.length)){for(var $=1/0,tt=0;tt<j.length;tt++){var st=j[tt];if(!(!st||!st.el)&&st.session==this.session){if(!st._inDocument){if(this.session.lineWidgets[st.row]!=st)continue;st._inDocument=!0,it.container.appendChild(st.el)}st.h=st.el.offsetHeight,st.fixedWidth||(st.w=st.el.offsetWidth,st.screenWidth=Math.ceil(st.w/_.characterWidth));var lt=st.h/_.lineHeight;st.coverLine&&(lt-=this.session.getRowLineCount(st.row),lt<0&&(lt=0)),st.rowCount!=lt&&(st.rowCount=lt,st.row<$&&($=st.row))}}$!=1/0&&(this.session._emit("changeFold",{data:{start:{row:$}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},ot.prototype.renderWidgets=function(nt,it){var j=it.layerConfig,_=this.session.lineWidgets;if(_){for(var $=Math.min(this.firstRow,j.firstRow),tt=Math.max(this.lastRow,j.lastRow,_.length);$>0&&!_[$];)$--;this.firstRow=j.firstRow,this.lastRow=j.lastRow,it.$cursorLayer.config=j;for(var st=$;st<=tt;st++){var lt=_[st];if(!(!lt||!lt.el)){if(lt.hidden){lt.el.style.top=-100-(lt.pixelHeight||0)+"px";continue}lt._inDocument||(lt._inDocument=!0,it.container.appendChild(lt.el));var ht=it.$cursorLayer.getPixelPosition({row:st,column:0},!0).top;lt.coverLine||(ht+=j.lineHeight*this.session.getRowLineCount(lt.row)),lt.el.style.top=ht-j.offset+"px";var ft=lt.coverGutter?0:it.gutterWidth;lt.fixedWidth||(ft-=it.scrollLeft),lt.el.style.left=ft+"px",lt.fullWidth&&lt.screenWidth&&(lt.el.style.minWidth=j.width+2*j.padding+"px"),lt.fixedWidth?lt.el.style.right=it.scrollBar.getWidth()+"px":lt.el.style.right=""}}}},ot}();o.LineWidgets=at}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(a,o,rt){var et=a("../lib/keys"),at=a("../mouse/default_gutter_handler").GutterTooltip,ot=function(){function it(j){this.editor=j,this.gutterLayer=j.renderer.$gutterLayer,this.element=j.renderer.$gutter,this.lines=j.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new at(this.editor)}return it.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},it.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},it.prototype.$onGutterKeyDown=function(j){if(this.annotationTooltip.isOpen){j.preventDefault(),j.keyCode===et.escape&&this.annotationTooltip.hideTooltip();return}if(j.target===this.element){if(j.keyCode!=et.enter)return;j.preventDefault();var _=this.editor.getCursorPosition().row;this.editor.isRowVisible(_)||this.editor.scrollToLine(_,!0,!0),setTimeout((function(){var $=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),tt=this.$findNearestFoldWidget($),st=this.$findNearestAnnotation($);if(!(tt===null&&st===null)){if(tt===null&&st!==null){this.activeRowIndex=st,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(tt!==null&&st===null){this.activeRowIndex=tt,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(st-$)<Math.abs(tt-$)){this.activeRowIndex=st,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=tt,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(j),setTimeout((function(){this.editor._signal("gutterkeydown",new nt(j,this))}).bind(this),10)},it.prototype.$handleGutterKeyboardInteraction=function(j){if(j.keyCode===et.tab){j.preventDefault();return}if(j.keyCode===et.escape){j.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(j.keyCode===et.up){switch(j.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(j.keyCode===et.down){switch(j.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(j.keyCode===et.left){j.preventDefault(),this.$switchLane("annotation");return}if(j.keyCode===et.right){j.preventDefault(),this.$switchLane("fold");return}if(j.keyCode===et.enter||j.keyCode===et.space){switch(j.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var _=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),j),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==_&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(_),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var $=this.lines.cells[this.activeRowIndex].element.childNodes[2],tt=$.getBoundingClientRect(),st=this.annotationTooltip.getElement().style;st.left=tt.right+"px",st.top=tt.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},it.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},it.prototype.$isFoldWidgetVisible=function(j){var _=this.editor.isRowFullyVisible(this.$rowIndexToRow(j)),$=this.$getFoldWidget(j).style.display!=="none";return _&&$},it.prototype.$isAnnotationVisible=function(j){var _=this.editor.isRowFullyVisible(this.$rowIndexToRow(j)),$=this.$getAnnotation(j).style.display!=="none";return _&&$},it.prototype.$getFoldWidget=function(j){var _=this.lines.get(j),$=_.element;return $.childNodes[1]},it.prototype.$getAnnotation=function(j){var _=this.lines.get(j),$=_.element;return $.childNodes[2]},it.prototype.$findNearestFoldWidget=function(j){if(this.$isFoldWidgetVisible(j))return j;for(var _=0;j-_>0||j+_<this.lines.getLength()-1;){if(_++,j-_>=0&&this.$isFoldWidgetVisible(j-_))return j-_;if(j+_<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(j+_))return j+_}return null},it.prototype.$findNearestAnnotation=function(j){if(this.$isAnnotationVisible(j))return j;for(var _=0;j-_>0||j+_<this.lines.getLength()-1;){if(_++,j-_>=0&&this.$isAnnotationVisible(j-_))return j-_;if(j+_<=this.lines.getLength()-1&&this.$isAnnotationVisible(j+_))return j+_}return null},it.prototype.$focusFoldWidget=function(j){if(j!=null){var _=this.$getFoldWidget(j);_.classList.add(this.editor.renderer.keyboardFocusClassName),_.focus()}},it.prototype.$focusAnnotation=function(j){if(j!=null){var _=this.$getAnnotation(j);_.classList.add(this.editor.renderer.keyboardFocusClassName),_.focus()}},it.prototype.$blurFoldWidget=function(j){var _=this.$getFoldWidget(j);_.classList.remove(this.editor.renderer.keyboardFocusClassName),_.blur()},it.prototype.$blurAnnotation=function(j){var _=this.$getAnnotation(j);_.classList.remove(this.editor.renderer.keyboardFocusClassName),_.blur()},it.prototype.$moveFoldWidgetUp=function(){for(var j=this.activeRowIndex;j>0;)if(j--,this.$isFoldWidgetVisible(j)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=j,this.$focusFoldWidget(this.activeRowIndex);return}},it.prototype.$moveFoldWidgetDown=function(){for(var j=this.activeRowIndex;j<this.lines.getLength()-1;)if(j++,this.$isFoldWidgetVisible(j)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=j,this.$focusFoldWidget(this.activeRowIndex);return}},it.prototype.$moveAnnotationUp=function(){for(var j=this.activeRowIndex;j>0;)if(j--,this.$isAnnotationVisible(j)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=j,this.$focusAnnotation(this.activeRowIndex);return}},it.prototype.$moveAnnotationDown=function(){for(var j=this.activeRowIndex;j<this.lines.getLength()-1;)if(j++,this.$isAnnotationVisible(j)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=j,this.$focusAnnotation(this.activeRowIndex);return}},it.prototype.$switchLane=function(j){switch(j){case"annotation":if(this.activeLane==="annotation")break;var _=this.$findNearestAnnotation(this.activeRowIndex);if(_==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=_,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var $=this.$findNearestFoldWidget(this.activeRowIndex);if($==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=$,this.$focusFoldWidget(this.activeRowIndex);break}},it.prototype.$rowIndexToRow=function(j){var _=this.lines.get(j);return _?_.row:null},it.prototype.$rowToRowIndex=function(j){for(var _=0;_<this.lines.getLength();_++){var $=this.lines.get(_);if($.row==j)return _}return null},it}();o.GutterKeyboardHandler=ot;var nt=function(){function it(j,_){this.gutterKeyboardHandler=_,this.domEvent=j}return it.prototype.getKey=function(){return et.keyCodeToString(this.domEvent.keyCode)},it.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},it.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},it.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},it}();o.GutterKeyboardEvent=nt}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(a,o,rt){var et=this&&this.__values||function(At){var Ct=typeof Symbol=="function"&&Symbol.iterator,It=Ct&&At[Ct],Lt=0;if(It)return It.call(At);if(At&&typeof At.length=="number")return{next:function(){return At&&Lt>=At.length&&(At=void 0),{value:At&&At[Lt++],done:!At}}};throw new TypeError(Ct?"Object is not iterable.":"Symbol.iterator is not defined.")},at=a("./lib/oop"),ot=a("./lib/dom"),nt=a("./lib/lang"),it=a("./lib/useragent"),j=a("./keyboard/textinput").TextInput,_=a("./mouse/mouse_handler").MouseHandler,$=a("./mouse/fold_handler").FoldHandler,tt=a("./keyboard/keybinding").KeyBinding,st=a("./edit_session").EditSession,lt=a("./search").Search,ht=a("./range").Range,ft=a("./lib/event_emitter").EventEmitter,ct=a("./commands/command_manager").CommandManager,mt=a("./commands/default_commands").commands,gt=a("./config"),yt=a("./token_iterator").TokenIterator,ut=a("./line_widgets").LineWidgets,wt=a("./keyboard/gutter_handler").GutterKeyboardHandler,bt=a("./config").nls,vt=a("./clipboard"),Et=a("./lib/keys"),$t=function(){function At(Ct,It,Lt){this.session,this.$toDestroy=[];var Ft=Ct.getContainerElement();this.container=Ft,this.renderer=Ct,this.id="editor"+ ++At.$uid,this.commands=new ct(it.isMac?"mac":"win",mt),typeof document=="object"&&(this.textInput=new j(Ct.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new _(this),new $(this)),this.keyBinding=new tt(this),this.$search=new lt().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=nt.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(Dt,Vt){Vt._$emitInputEvent.schedule(31)}),this.setSession(It||Lt&&Lt.session||new st("")),gt.resetOptions(this),Lt&&this.setOptions(Lt),gt._signal("editor",this)}return At.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=nt.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},At.prototype.startOperation=function(Ct){if(this.curOp){if(!Ct||this.curOp.command)return;this.prevOp=this.curOp}Ct||(this.previousCommand=null,Ct={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:Ct.command||{},args:Ct.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},At.prototype.endOperation=function(Ct){if(this.curOp&&this.session){if(Ct&&Ct.returnValue===!1||!this.session)return this.curOp=null;if(Ct==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var It=this.curOp.command,Lt=It&&It.scrollIntoView;if(Lt){switch(Lt){case"center-animate":Lt="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var Ft=this.selection.getRange(),Dt=this.renderer.layerConfig;(Ft.start.row>=Dt.lastRow||Ft.end.row<=Dt.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}Lt=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var Vt=this.selection.toJSON();this.curOp.selectionAfter=Vt,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(Vt),this.prevOp=this.curOp,this.curOp=null}},At.prototype.$historyTracker=function(Ct){if(this.$mergeUndoDeltas){var It=this.prevOp,Lt=this.$mergeableCommands,Ft=It.command&&Ct.command.name==It.command.name;if(Ct.command.name=="insertstring"){var Dt=Ct.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),Ft=Ft&&this.mergeNextCommand&&(!/\s/.test(Dt)||/\s/.test(It.args)),this.mergeNextCommand=!0}else Ft=Ft&&Lt.indexOf(Ct.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(Ft=!1),Ft?this.session.mergeUndoDeltas=!0:Lt.indexOf(Ct.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},At.prototype.setKeyboardHandler=function(Ct,It){if(Ct&&typeof Ct=="string"&&Ct!="ace"){this.$keybindingId=Ct;var Lt=this;gt.loadModule(["keybinding",Ct],function(Ft){Lt.$keybindingId==Ct&&Lt.keyBinding.setKeyboardHandler(Ft&&Ft.handler),It&&It()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(Ct),It&&It()},At.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},At.prototype.setSession=function(Ct){if(this.session!=Ct){this.curOp&&this.endOperation(),this.curOp={};var It=this.session;if(It){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var Lt=this.session.getSelection();Lt.off("changeCursor",this.$onCursorChange),Lt.off("changeSelection",this.$onSelectionChange)}this.session=Ct,Ct?(this.$onDocumentChange=this.onDocumentChange.bind(this),Ct.on("change",this.$onDocumentChange),this.renderer.setSession(Ct),this.$onChangeMode=this.onChangeMode.bind(this),Ct.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),Ct.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),Ct.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),Ct.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),Ct.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),Ct.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=Ct.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(Ct)),this._signal("changeSession",{session:Ct,oldSession:It}),this.curOp=null,It&&It._signal("changeEditor",{oldEditor:this}),Ct&&Ct._signal("changeEditor",{editor:this}),Ct&&!Ct.destroyed&&Ct.bgTokenizer.scheduleStart()}},At.prototype.getSession=function(){return this.session},At.prototype.setValue=function(Ct,It){return this.session.doc.setValue(Ct),It?It==1?this.navigateFileEnd():It==-1&&this.navigateFileStart():this.selectAll(),Ct},At.prototype.getValue=function(){return this.session.getValue()},At.prototype.getSelection=function(){return this.selection},At.prototype.resize=function(Ct){this.renderer.onResize(Ct)},At.prototype.setTheme=function(Ct,It){this.renderer.setTheme(Ct,It)},At.prototype.getTheme=function(){return this.renderer.getTheme()},At.prototype.setStyle=function(Ct){this.renderer.setStyle(Ct)},At.prototype.unsetStyle=function(Ct){this.renderer.unsetStyle(Ct)},At.prototype.getFontSize=function(){return this.getOption("fontSize")||ot.computedStyle(this.container).fontSize},At.prototype.setFontSize=function(Ct){this.setOption("fontSize",Ct)},At.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var Ct=this;this.$highlightPending=!0,setTimeout(function(){Ct.$highlightPending=!1;var It=Ct.session;if(!(!It||It.destroyed)){It.$bracketHighlight&&(It.$bracketHighlight.markerIds.forEach(function(qt){It.removeMarker(qt)}),It.$bracketHighlight=null);var Lt=Ct.getCursorPosition(),Ft=Ct.getKeyboardHandler(),Dt=Ft&&Ft.$getDirectionForHighlight&&Ft.$getDirectionForHighlight(Ct),Vt=It.getMatchingBracketRanges(Lt,Dt);if(!Vt){var Ut=new yt(It,Lt.row,Lt.column),Qt=Ut.getCurrentToken();if(Qt&&/\b(?:tag-open|tag-name)/.test(Qt.type)){var Kt=It.getMatchingTags(Lt);Kt&&(Vt=[Kt.openTagName.isEmpty()?Kt.openTag:Kt.openTagName,Kt.closeTagName.isEmpty()?Kt.closeTag:Kt.closeTagName])}}if(!Vt&&It.$mode.getMatching&&(Vt=It.$mode.getMatching(Ct.session)),!Vt){Ct.getHighlightIndentGuides()&&Ct.renderer.$textLayer.$highlightIndentGuide();return}var Ht="ace_bracket";Array.isArray(Vt)?Vt.length==1&&(Ht="ace_error_bracket"):Vt=[Vt],Vt.length==2&&(ht.comparePoints(Vt[0].end,Vt[1].start)==0?Vt=[ht.fromPoints(Vt[0].start,Vt[1].end)]:ht.comparePoints(Vt[0].start,Vt[1].end)==0&&(Vt=[ht.fromPoints(Vt[1].start,Vt[0].end)])),It.$bracketHighlight={ranges:Vt,markerIds:Vt.map(function(qt){return It.addMarker(qt,Ht,"text")})},Ct.getHighlightIndentGuides()&&Ct.renderer.$textLayer.$highlightIndentGuide()}},50)}},At.prototype.focus=function(){this.textInput.focus()},At.prototype.isFocused=function(){return this.textInput.isFocused()},At.prototype.blur=function(){this.textInput.blur()},At.prototype.onFocus=function(Ct){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",Ct))},At.prototype.onBlur=function(Ct){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",Ct))},At.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},At.prototype.onDocumentChange=function(Ct){var It=this.session.$useWrapMode,Lt=Ct.start.row==Ct.end.row?Ct.end.row:1/0;this.renderer.updateLines(Ct.start.row,Lt,It),this._signal("change",Ct),this.$cursorChange()},At.prototype.onTokenizerUpdate=function(Ct){var It=Ct.data;this.renderer.updateLines(It.first,It.last)},At.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},At.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},At.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},At.prototype.$updateHighlightActiveLine=function(){var Ct=this.getSession(),It;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(It=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(It=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(It=!1)),Ct.$highlightLineMarker&&!It)Ct.removeMarker(Ct.$highlightLineMarker.id),Ct.$highlightLineMarker=null;else if(!Ct.$highlightLineMarker&&It){var Lt=new ht(It.row,It.column,It.row,1/0);Lt.id=Ct.addMarker(Lt,"ace_active-line","screenLine"),Ct.$highlightLineMarker=Lt}else It&&(Ct.$highlightLineMarker.start.row=It.row,Ct.$highlightLineMarker.end.row=It.row,Ct.$highlightLineMarker.start.column=It.column,Ct._signal("changeBackMarker"))},At.prototype.onSelectionChange=function(Ct){var It=this.session;if(It.$selectionMarker&&It.removeMarker(It.$selectionMarker),It.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var Lt=this.selection.getRange(),Ft=this.getSelectionStyle();It.$selectionMarker=It.addMarker(Lt,"ace_selection",Ft)}var Dt=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(Dt),this._signal("changeSelection")},At.prototype.$getSelectionHighLightRegexp=function(){var Ct=this.session,It=this.getSelectionRange();if(!(It.isEmpty()||It.isMultiLine())){var Lt=It.start.column,Ft=It.end.column,Dt=Ct.getLine(It.start.row),Vt=Dt.substring(Lt,Ft);if(!(Vt.length>5e3||!/[\w\d]/.test(Vt))){var Ut=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:Vt}),Qt=Dt.substring(Lt-1,Ft+1);if(Ut.test(Qt))return Ut}}},At.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},At.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},At.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},At.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},At.prototype.onChangeMode=function(Ct){this.renderer.updateText(),this._emit("changeMode",Ct)},At.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},At.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},At.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},At.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},At.prototype.getCopyText=function(){var Ct=this.getSelectedText(),It=this.session.doc.getNewLineCharacter(),Lt=!1;if(!Ct&&this.$copyWithEmptySelection){Lt=!0;for(var Ft=this.selection.getAllRanges(),Dt=0;Dt<Ft.length;Dt++){var Vt=Ft[Dt];Dt&&Ft[Dt-1].start.row==Vt.start.row||(Ct+=this.session.getLine(Vt.start.row)+It)}}var Ut={text:Ct};return this._signal("copy",Ut),vt.lineMode=Lt?Ut.text:!1,Ut.text},At.prototype.onCopy=function(){this.commands.exec("copy",this)},At.prototype.onCut=function(){this.commands.exec("cut",this)},At.prototype.onPaste=function(Ct,It){var Lt={text:Ct,event:It};this.commands.exec("paste",this,Lt)},At.prototype.$handlePaste=function(Ct){typeof Ct=="string"&&(Ct={text:Ct}),this._signal("paste",Ct);var It=Ct.text,Lt=It===vt.lineMode,Ft=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)Lt?Ft.insert({row:this.selection.lead.row,column:0},It):this.insert(It);else if(Lt)this.selection.rangeList.ranges.forEach(function(Ht){Ft.insert({row:Ht.start.row,column:0},It)});else{var Dt=It.split(/\r\n|\r|\n/),Vt=this.selection.rangeList.ranges,Ut=Dt.length==2&&(!Dt[0]||!Dt[1]);if(Dt.length!=Vt.length||Ut)return this.commands.exec("insertstring",this,It);for(var Qt=Vt.length;Qt--;){var Kt=Vt[Qt];Kt.isEmpty()||Ft.remove(Kt),Ft.insert(Kt.start,Dt[Qt])}}},At.prototype.execCommand=function(Ct,It){return this.commands.exec(Ct,this,It)},At.prototype.insert=function(Ct,It){var Lt=this.session,Ft=Lt.getMode(),Dt=this.getCursorPosition();if(this.getBehavioursEnabled()&&!It){var Vt=Ft.transformAction(Lt.getState(Dt.row),"insertion",this,Lt,Ct);Vt&&(Ct!==Vt.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),Ct=Vt.text)}if(Ct=="	"&&(Ct=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&Ct.indexOf(`
`)==-1){var Ut=ht.fromPoints(Dt,Dt);Ut.end.column+=Ct.length,this.session.remove(Ut)}}else{var Ut=this.getSelectionRange();Dt=this.session.remove(Ut),this.clearSelection()}if(Ct==`
`||Ct==`\r
`){var qt=Lt.getLine(Dt.row);if(Dt.column>qt.search(/\S|$/)){var Qt=qt.substr(Dt.column).search(/\S|$/);Lt.doc.removeInLine(Dt.row,Dt.column,Dt.column+Qt)}}this.clearSelection();var Kt=Dt.column,Ht=Lt.getState(Dt.row),qt=Lt.getLine(Dt.row),nr=Ft.checkOutdent(Ht,qt,Ct);if(Lt.insert(Dt,Ct),Vt&&Vt.selection&&(Vt.selection.length==2?this.selection.setSelectionRange(new ht(Dt.row,Kt+Vt.selection[0],Dt.row,Kt+Vt.selection[1])):this.selection.setSelectionRange(new ht(Dt.row+Vt.selection[0],Vt.selection[1],Dt.row+Vt.selection[2],Vt.selection[3]))),this.$enableAutoIndent){if(Lt.getDocument().isNewLine(Ct)){var tr=Ft.getNextLineIndent(Ht,qt.slice(0,Dt.column),Lt.getTabString());Lt.insert({row:Dt.row+1,column:0},tr)}nr&&Ft.autoOutdent(Ht,Lt,Dt.row)}},At.prototype.autoIndent=function(){for(var Ct=this.session,It=Ct.getMode(),Lt=this.selection.isEmpty()?[new ht(0,0,Ct.doc.getLength()-1,0)]:this.selection.getAllRanges(),Ft="",Dt="",Vt="",Ut=Ct.getTabString(),Qt=0;Qt<Lt.length;Qt++)for(var Kt=Lt[Qt].start.row,Ht=Lt[Qt].end.row,qt=Kt;qt<=Ht;qt++){qt>0&&(Ft=Ct.getState(qt-1),Dt=Ct.getLine(qt-1),Vt=It.getNextLineIndent(Ft,Dt,Ut));var nr=Ct.getLine(qt),tr=It.$getIndent(nr);if(Vt!==tr){if(tr.length>0){var mr=new ht(qt,0,qt,tr.length);Ct.remove(mr)}Vt.length>0&&Ct.insert({row:qt,column:0},Vt)}It.autoOutdent(Ft,Ct,qt)}},At.prototype.onTextInput=function(Ct,It){if(!It)return this.keyBinding.onTextInput(Ct);this.startOperation({command:{name:"insertstring"}});var Lt=this.applyComposition.bind(this,Ct,It);this.selection.rangeCount?this.forEachSelection(Lt):Lt(),this.endOperation()},At.prototype.applyComposition=function(Ct,It){if(It.extendLeft||It.extendRight){var Lt=this.selection.getRange();Lt.start.column-=It.extendLeft,Lt.end.column+=It.extendRight,Lt.start.column<0&&(Lt.start.row--,Lt.start.column+=this.session.getLine(Lt.start.row).length+1),this.selection.setRange(Lt),!Ct&&!Lt.isEmpty()&&this.remove()}if((Ct||!this.selection.isEmpty())&&this.insert(Ct,!0),It.restoreStart||It.restoreEnd){var Lt=this.selection.getRange();Lt.start.column-=It.restoreStart,Lt.end.column-=It.restoreEnd,this.selection.setRange(Lt)}},At.prototype.onCommandKey=function(Ct,It,Lt){return this.keyBinding.onCommandKey(Ct,It,Lt)},At.prototype.setOverwrite=function(Ct){this.session.setOverwrite(Ct)},At.prototype.getOverwrite=function(){return this.session.getOverwrite()},At.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},At.prototype.setScrollSpeed=function(Ct){this.setOption("scrollSpeed",Ct)},At.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},At.prototype.setDragDelay=function(Ct){this.setOption("dragDelay",Ct)},At.prototype.getDragDelay=function(){return this.getOption("dragDelay")},At.prototype.setSelectionStyle=function(Ct){this.setOption("selectionStyle",Ct)},At.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},At.prototype.setHighlightActiveLine=function(Ct){this.setOption("highlightActiveLine",Ct)},At.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},At.prototype.setHighlightGutterLine=function(Ct){this.setOption("highlightGutterLine",Ct)},At.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},At.prototype.setHighlightSelectedWord=function(Ct){this.setOption("highlightSelectedWord",Ct)},At.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},At.prototype.setAnimatedScroll=function(Ct){this.renderer.setAnimatedScroll(Ct)},At.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},At.prototype.setShowInvisibles=function(Ct){this.renderer.setShowInvisibles(Ct)},At.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},At.prototype.setDisplayIndentGuides=function(Ct){this.renderer.setDisplayIndentGuides(Ct)},At.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},At.prototype.setHighlightIndentGuides=function(Ct){this.renderer.setHighlightIndentGuides(Ct)},At.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},At.prototype.setShowPrintMargin=function(Ct){this.renderer.setShowPrintMargin(Ct)},At.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},At.prototype.setPrintMarginColumn=function(Ct){this.renderer.setPrintMarginColumn(Ct)},At.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},At.prototype.setReadOnly=function(Ct){this.setOption("readOnly",Ct)},At.prototype.getReadOnly=function(){return this.getOption("readOnly")},At.prototype.setBehavioursEnabled=function(Ct){this.setOption("behavioursEnabled",Ct)},At.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},At.prototype.setWrapBehavioursEnabled=function(Ct){this.setOption("wrapBehavioursEnabled",Ct)},At.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},At.prototype.setShowFoldWidgets=function(Ct){this.setOption("showFoldWidgets",Ct)},At.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},At.prototype.setFadeFoldWidgets=function(Ct){this.setOption("fadeFoldWidgets",Ct)},At.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},At.prototype.remove=function(Ct){this.selection.isEmpty()&&(Ct=="left"?this.selection.selectLeft():this.selection.selectRight());var It=this.getSelectionRange();if(this.getBehavioursEnabled()){var Lt=this.session,Ft=Lt.getState(It.start.row),Dt=Lt.getMode().transformAction(Ft,"deletion",this,Lt,It);if(It.end.column===0){var Vt=Lt.getTextRange(It);if(Vt[Vt.length-1]==`
`){var Ut=Lt.getLine(It.end.row);/^\s+$/.test(Ut)&&(It.end.column=Ut.length)}}Dt&&(It=Dt)}this.session.remove(It),this.clearSelection()},At.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},At.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},At.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},At.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var Ct=this.getSelectionRange();Ct.start.column==Ct.end.column&&Ct.start.row==Ct.end.row&&(Ct.end.column=0,Ct.end.row++),this.session.remove(Ct),this.clearSelection()},At.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var Ct=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(Ct)},At.prototype.setGhostText=function(Ct,It){this.session.widgetManager||(this.session.widgetManager=new ut(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(Ct,It)},At.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},At.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var Ct=this.getCursorPosition(),It=Ct.column;if(It!==0){var Lt=this.session.getLine(Ct.row),Ft,Dt;It<Lt.length?(Ft=Lt.charAt(It)+Lt.charAt(It-1),Dt=new ht(Ct.row,It-1,Ct.row,It+1)):(Ft=Lt.charAt(It-1)+Lt.charAt(It-2),Dt=new ht(Ct.row,It-2,Ct.row,It)),this.session.replace(Dt,Ft),this.session.selection.moveToPosition(Dt.end)}}},At.prototype.toLowerCase=function(){var Ct=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var It=this.getSelectionRange(),Lt=this.session.getTextRange(It);this.session.replace(It,Lt.toLowerCase()),this.selection.setSelectionRange(Ct)},At.prototype.toUpperCase=function(){var Ct=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var It=this.getSelectionRange(),Lt=this.session.getTextRange(It);this.session.replace(It,Lt.toUpperCase()),this.selection.setSelectionRange(Ct)},At.prototype.indent=function(){var Ct=this.session,It=this.getSelectionRange();if(It.start.row<It.end.row){var Lt=this.$getSelectedRows();Ct.indentRows(Lt.first,Lt.last,"	");return}else if(It.start.column<It.end.column){var Ft=Ct.getTextRange(It);if(!/^\s+$/.test(Ft)){var Lt=this.$getSelectedRows();Ct.indentRows(Lt.first,Lt.last,"	");return}}var Dt=Ct.getLine(It.start.row),Vt=It.start,Ut=Ct.getTabSize(),Qt=Ct.documentToScreenColumn(Vt.row,Vt.column);if(this.session.getUseSoftTabs())var Kt=Ut-Qt%Ut,Ht=nt.stringRepeat(" ",Kt);else{for(var Kt=Qt%Ut;Dt[It.start.column-1]==" "&&Kt;)It.start.column--,Kt--;this.selection.setSelectionRange(It),Ht="	"}return this.insert(Ht)},At.prototype.blockIndent=function(){var Ct=this.$getSelectedRows();this.session.indentRows(Ct.first,Ct.last,"	")},At.prototype.blockOutdent=function(){var Ct=this.session.getSelection();this.session.outdentRows(Ct.getRange())},At.prototype.sortLines=function(){for(var Ct=this.$getSelectedRows(),It=this.session,Lt=[],Ft=Ct.first;Ft<=Ct.last;Ft++)Lt.push(It.getLine(Ft));Lt.sort(function(Ut,Qt){return Ut.toLowerCase()<Qt.toLowerCase()?-1:Ut.toLowerCase()>Qt.toLowerCase()?1:0});for(var Dt=new ht(0,0,0,0),Ft=Ct.first;Ft<=Ct.last;Ft++){var Vt=It.getLine(Ft);Dt.start.row=Ft,Dt.end.row=Ft,Dt.end.column=Vt.length,It.replace(Dt,Lt[Ft-Ct.first])}},At.prototype.toggleCommentLines=function(){var Ct=this.session.getState(this.getCursorPosition().row),It=this.$getSelectedRows();this.session.getMode().toggleCommentLines(Ct,this.session,It.first,It.last)},At.prototype.toggleBlockComment=function(){var Ct=this.getCursorPosition(),It=this.session.getState(Ct.row),Lt=this.getSelectionRange();this.session.getMode().toggleBlockComment(It,this.session,Lt,Ct)},At.prototype.getNumberAt=function(Ct,It){var Lt=/[\-]?[0-9]+(?:\.[0-9]+)?/g;Lt.lastIndex=0;for(var Ft=this.session.getLine(Ct);Lt.lastIndex<It;){var Dt=Lt.exec(Ft);if(Dt.index<=It&&Dt.index+Dt[0].length>=It){var Vt={value:Dt[0],start:Dt.index,end:Dt.index+Dt[0].length};return Vt}}return null},At.prototype.modifyNumber=function(Ct){var It=this.selection.getCursor().row,Lt=this.selection.getCursor().column,Ft=new ht(It,Lt-1,It,Lt),Dt=this.session.getTextRange(Ft);if(!isNaN(parseFloat(Dt))&&isFinite(Dt)){var Vt=this.getNumberAt(It,Lt);if(Vt){var Ut=Vt.value.indexOf(".")>=0?Vt.start+Vt.value.indexOf(".")+1:Vt.end,Qt=Vt.start+Vt.value.length-Ut,Kt=parseFloat(Vt.value);Kt*=Math.pow(10,Qt),Ut!==Vt.end&&Lt<Ut?Ct*=Math.pow(10,Vt.end-Lt-1):Ct*=Math.pow(10,Vt.end-Lt),Kt+=Ct,Kt/=Math.pow(10,Qt);var Ht=Kt.toFixed(Qt),qt=new ht(It,Vt.start,It,Vt.end);this.session.replace(qt,Ht),this.moveCursorTo(It,Math.max(Vt.start+1,Lt+Ht.length-Vt.value.length))}}else this.toggleWord()},At.prototype.toggleWord=function(){var Ct=this.selection.getCursor().row,It=this.selection.getCursor().column;this.selection.selectWord();var Lt=this.getSelectedText(),Ft=this.selection.getWordRange().start.column,Dt=Lt.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),Vt=It-Ft-1;Vt<0&&(Vt=0);var Ut=0,Qt=0,Kt=this;Lt.match(/[A-Za-z0-9_]+/)&&Dt.forEach(function(sr,ar){Qt=Ut+sr.length,Vt>=Ut&&Vt<=Qt&&(Lt=sr,Kt.selection.clearSelection(),Kt.moveCursorTo(Ct,Ut+Ft),Kt.selection.selectTo(Ct,Qt+Ft)),Ut=Qt});for(var Ht=this.$toggleWordPairs,qt,nr=0;nr<Ht.length;nr++)for(var tr=Ht[nr],mr=0;mr<=1;mr++){var yr=+!mr,br=Lt.match(new RegExp("^\\s?_?("+nt.escapeRegExp(tr[mr])+")\\s?$","i"));if(br){var xr=Lt.match(new RegExp("([_]|^|\\s)("+nt.escapeRegExp(br[1])+")($|\\s)","g"));xr&&(qt=Lt.replace(new RegExp(nt.escapeRegExp(tr[mr]),"i"),function(sr){var ar=tr[yr];return sr.toUpperCase()==sr?ar=ar.toUpperCase():sr.charAt(0).toUpperCase()==sr.charAt(0)&&(ar=ar.substr(0,0)+tr[yr].charAt(0).toUpperCase()+ar.substr(1)),ar}),this.insert(qt),qt="")}}},At.prototype.findLinkAt=function(Ct,It){var Lt,Ft,Dt=this.session.getLine(Ct),Vt=Dt.split(/((?:https?|ftp):\/\/[\S]+)/),Ut=It;Ut<0&&(Ut=0);var Qt=0,Kt=0,Ht;try{for(var qt=et(Vt),nr=qt.next();!nr.done;nr=qt.next()){var tr=nr.value;if(Kt=Qt+tr.length,Ut>=Qt&&Ut<=Kt&&tr.match(/((?:https?|ftp):\/\/[\S]+)/)){Ht=tr.replace(/[\s:.,'";}\]]+$/,"");break}Qt=Kt}}catch(mr){Lt={error:mr}}finally{try{nr&&!nr.done&&(Ft=qt.return)&&Ft.call(qt)}finally{if(Lt)throw Lt.error}}return Ht},At.prototype.openLink=function(){var Ct=this.selection.getCursor(),It=this.findLinkAt(Ct.row,Ct.column);return It&&window.open(It,"_blank"),It!=null},At.prototype.removeLines=function(){var Ct=this.$getSelectedRows();this.session.removeFullLines(Ct.first,Ct.last),this.clearSelection()},At.prototype.duplicateSelection=function(){var Ct=this.selection,It=this.session,Lt=Ct.getRange(),Ft=Ct.isBackwards();if(Lt.isEmpty()){var Dt=Lt.start.row;It.duplicateLines(Dt,Dt)}else{var Vt=Ft?Lt.start:Lt.end,Ut=It.insert(Vt,It.getTextRange(Lt));Lt.start=Vt,Lt.end=Ut,Ct.setSelectionRange(Lt,Ft)}},At.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},At.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},At.prototype.moveText=function(Ct,It,Lt){return this.session.moveText(Ct,It,Lt)},At.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},At.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},At.prototype.$moveLines=function(Ct,It){var Lt,Ft,Dt=this.selection;if(!Dt.inMultiSelectMode||this.inVirtualSelectionMode){var Vt=Dt.toOrientedRange();Lt=this.$getSelectedRows(Vt),Ft=this.session.$moveLines(Lt.first,Lt.last,It?0:Ct),It&&Ct==-1&&(Ft=0),Vt.moveBy(Ft,0),Dt.fromOrientedRange(Vt)}else{var Ut=Dt.rangeList.ranges;Dt.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Qt=0,Kt=0,Ht=Ut.length,qt=0;qt<Ht;qt++){var nr=qt;Ut[qt].moveBy(Qt,0),Lt=this.$getSelectedRows(Ut[qt]);for(var tr=Lt.first,mr=Lt.last;++qt<Ht;){Kt&&Ut[qt].moveBy(Kt,0);var yr=this.$getSelectedRows(Ut[qt]);if(It&&yr.first!=mr)break;if(!It&&yr.first>mr+1)break;mr=yr.last}for(qt--,Qt=this.session.$moveLines(tr,mr,It?0:Ct),It&&Ct==-1&&(nr=qt+1);nr<=qt;)Ut[nr].moveBy(Qt,0),nr++;It||(Qt=0),Kt+=Qt}Dt.fromOrientedRange(Dt.ranges[0]),Dt.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},At.prototype.$getSelectedRows=function(Ct){return Ct=(Ct||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(Ct.start.row),last:this.session.getRowFoldEnd(Ct.end.row)}},At.prototype.onCompositionStart=function(Ct){this.renderer.showComposition(Ct)},At.prototype.onCompositionUpdate=function(Ct){this.renderer.setCompositionText(Ct)},At.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},At.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},At.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},At.prototype.isRowVisible=function(Ct){return Ct>=this.getFirstVisibleRow()&&Ct<=this.getLastVisibleRow()},At.prototype.isRowFullyVisible=function(Ct){return Ct>=this.renderer.getFirstFullyVisibleRow()&&Ct<=this.renderer.getLastFullyVisibleRow()},At.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},At.prototype.$moveByPage=function(Ct,It){var Lt=this.renderer,Ft=this.renderer.layerConfig,Dt=Ct*Math.floor(Ft.height/Ft.lineHeight);It===!0?this.selection.$moveSelection(function(){this.moveCursorBy(Dt,0)}):It===!1&&(this.selection.moveCursorBy(Dt,0),this.selection.clearSelection());var Vt=Lt.scrollTop;Lt.scrollBy(0,Dt*Ft.lineHeight),It!=null&&Lt.scrollCursorIntoView(null,.5),Lt.animateScrolling(Vt)},At.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},At.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},At.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},At.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},At.prototype.scrollPageDown=function(){this.$moveByPage(1)},At.prototype.scrollPageUp=function(){this.$moveByPage(-1)},At.prototype.scrollToRow=function(Ct){this.renderer.scrollToRow(Ct)},At.prototype.scrollToLine=function(Ct,It,Lt,Ft){this.renderer.scrollToLine(Ct,It,Lt,Ft)},At.prototype.centerSelection=function(){var Ct=this.getSelectionRange(),It={row:Math.floor(Ct.start.row+(Ct.end.row-Ct.start.row)/2),column:Math.floor(Ct.start.column+(Ct.end.column-Ct.start.column)/2)};this.renderer.alignCursor(It,.5)},At.prototype.getCursorPosition=function(){return this.selection.getCursor()},At.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},At.prototype.getSelectionRange=function(){return this.selection.getRange()},At.prototype.selectAll=function(){this.selection.selectAll()},At.prototype.clearSelection=function(){this.selection.clearSelection()},At.prototype.moveCursorTo=function(Ct,It){this.selection.moveCursorTo(Ct,It)},At.prototype.moveCursorToPosition=function(Ct){this.selection.moveCursorToPosition(Ct)},At.prototype.jumpToMatching=function(Ct,It){var Lt=this.getCursorPosition(),Ft=new yt(this.session,Lt.row,Lt.column),Dt=Ft.getCurrentToken(),Vt=0;Dt&&Dt.type.indexOf("tag-name")!==-1&&(Dt=Ft.stepBackward());var Ut=Dt||Ft.stepForward();if(Ut){var Qt,Kt=!1,Ht={},qt=Lt.column-Ut.start,nr,tr={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(Ut.value.match(/[{}()\[\]]/g)){for(;qt<Ut.value.length&&!Kt;qt++)if(tr[Ut.value[qt]])switch(nr=tr[Ut.value[qt]]+"."+Ut.type.replace("rparen","lparen"),isNaN(Ht[nr])&&(Ht[nr]=0),Ut.value[qt]){case"(":case"[":case"{":Ht[nr]++;break;case")":case"]":case"}":Ht[nr]--,Ht[nr]===-1&&(Qt="bracket",Kt=!0);break}}else Ut.type.indexOf("tag-name")!==-1&&(isNaN(Ht[Ut.value])&&(Ht[Ut.value]=0),Dt.value==="<"&&Vt>1?Ht[Ut.value]++:Dt.value==="</"&&Ht[Ut.value]--,Ht[Ut.value]===-1&&(Qt="tag",Kt=!0));Kt||(Dt=Ut,Vt++,Ut=Ft.stepForward(),qt=0)}while(Ut&&!Kt);if(Qt){var mr,yr;if(Qt==="bracket")mr=this.session.getBracketRange(Lt),mr||(mr=new ht(Ft.getCurrentTokenRow(),Ft.getCurrentTokenColumn()+qt-1,Ft.getCurrentTokenRow(),Ft.getCurrentTokenColumn()+qt-1),yr=mr.start,(It||yr.row===Lt.row&&Math.abs(yr.column-Lt.column)<2)&&(mr=this.session.getBracketRange(yr)));else if(Qt==="tag"){if(!Ut||Ut.type.indexOf("tag-name")===-1)return;if(mr=new ht(Ft.getCurrentTokenRow(),Ft.getCurrentTokenColumn()-2,Ft.getCurrentTokenRow(),Ft.getCurrentTokenColumn()-2),mr.compare(Lt.row,Lt.column)===0){var br=this.session.getMatchingTags(Lt);br&&(br.openTag.contains(Lt.row,Lt.column)?(mr=br.closeTag,yr=mr.start):(mr=br.openTag,br.closeTag.start.row===Lt.row&&br.closeTag.start.column===Lt.column?yr=mr.end:yr=mr.start))}yr=yr||mr.start}yr=mr&&mr.cursor||yr,yr&&(Ct?mr&&It?this.selection.setRange(mr):mr&&mr.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(yr.row,yr.column):this.selection.moveTo(yr.row,yr.column))}}},At.prototype.gotoLine=function(Ct,It,Lt){this.selection.clearSelection(),this.session.unfold({row:Ct-1,column:It||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(Ct-1,It||0),this.isRowFullyVisible(Ct-1)||this.scrollToLine(Ct-1,!0,Lt)},At.prototype.navigateTo=function(Ct,It){this.selection.moveTo(Ct,It)},At.prototype.navigateUp=function(Ct){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var It=this.selection.anchor.getPosition();return this.moveCursorToPosition(It)}this.selection.clearSelection(),this.selection.moveCursorBy(-Ct||-1,0)},At.prototype.navigateDown=function(Ct){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var It=this.selection.anchor.getPosition();return this.moveCursorToPosition(It)}this.selection.clearSelection(),this.selection.moveCursorBy(Ct||1,0)},At.prototype.navigateLeft=function(Ct){if(this.selection.isEmpty())for(Ct=Ct||1;Ct--;)this.selection.moveCursorLeft();else{var It=this.getSelectionRange().start;this.moveCursorToPosition(It)}this.clearSelection()},At.prototype.navigateRight=function(Ct){if(this.selection.isEmpty())for(Ct=Ct||1;Ct--;)this.selection.moveCursorRight();else{var It=this.getSelectionRange().end;this.moveCursorToPosition(It)}this.clearSelection()},At.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},At.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},At.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},At.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},At.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},At.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},At.prototype.replace=function(Ct,It){It&&this.$search.set(It);var Lt=this.$search.find(this.session),Ft=0;return Lt&&(this.$tryReplace(Lt,Ct)&&(Ft=1),this.selection.setSelectionRange(Lt),this.renderer.scrollSelectionIntoView(Lt.start,Lt.end)),Ft},At.prototype.replaceAll=function(Ct,It){It&&this.$search.set(It);var Lt=this.$search.findAll(this.session),Ft=0;if(!Lt.length)return Ft;var Dt=this.getSelectionRange();this.selection.moveTo(0,0);for(var Vt=Lt.length-1;Vt>=0;--Vt)this.$tryReplace(Lt[Vt],Ct)&&Ft++;return this.selection.setSelectionRange(Dt),Ft},At.prototype.$tryReplace=function(Ct,It){var Lt=this.session.getTextRange(Ct);return It=this.$search.replace(Lt,It),It!==null?(Ct.end=this.session.replace(Ct,It),Ct):null},At.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},At.prototype.find=function(Ct,It,Lt){It||(It={}),typeof Ct=="string"||Ct instanceof RegExp?It.needle=Ct:typeof Ct=="object"&&at.mixin(It,Ct);var Ft=this.selection.getRange();It.needle==null&&(Ct=this.session.getTextRange(Ft)||this.$search.$options.needle,Ct||(Ft=this.session.getWordRange(Ft.start.row,Ft.start.column),Ct=this.session.getTextRange(Ft)),this.$search.set({needle:Ct})),this.$search.set(It),It.start||this.$search.set({start:Ft});var Dt=this.$search.find(this.session);if(It.preventScroll)return Dt;if(Dt)return this.revealRange(Dt,Lt),Dt;It.backwards?Ft.start=Ft.end:Ft.end=Ft.start,this.selection.setRange(Ft)},At.prototype.findNext=function(Ct,It){this.find({skipCurrent:!0,backwards:!1},Ct,It)},At.prototype.findPrevious=function(Ct,It){this.find(Ct,{skipCurrent:!0,backwards:!0},It)},At.prototype.revealRange=function(Ct,It){this.session.unfold(Ct),this.selection.setSelectionRange(Ct);var Lt=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(Ct.start,Ct.end,.5),It!==!1&&this.renderer.animateScrolling(Lt)},At.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},At.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},At.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(Ct){Ct.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},At.prototype.setAutoScrollEditorIntoView=function(Ct){if(Ct){var It,Lt=this,Ft=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var Dt=this.$scrollAnchor;Dt.style.cssText="position:absolute",this.container.insertBefore(Dt,this.container.firstChild);var Vt=this.on("changeSelection",function(){Ft=!0}),Ut=this.renderer.on("beforeRender",function(){Ft&&(It=Lt.renderer.container.getBoundingClientRect())}),Qt=this.renderer.on("afterRender",function(){if(Ft&&It&&(Lt.isFocused()||Lt.searchBox&&Lt.searchBox.isFocused())){var Kt=Lt.renderer,Ht=Kt.$cursorLayer.$pixelPos,qt=Kt.layerConfig,nr=Ht.top-qt.offset;Ht.top>=0&&nr+It.top<0?Ft=!0:Ht.top<qt.height&&Ht.top+It.top+qt.lineHeight>window.innerHeight?Ft=!1:Ft=null,Ft!=null&&(Dt.style.top=nr+"px",Dt.style.left=Ht.left+"px",Dt.style.height=qt.lineHeight+"px",Dt.scrollIntoView(Ft)),Ft=It=null}});this.setAutoScrollEditorIntoView=function(Kt){Kt||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",Vt),this.renderer.off("afterRender",Qt),this.renderer.off("beforeRender",Ut))}}},At.prototype.$resetCursorStyle=function(){var Ct=this.$cursorStyle||"ace",It=this.renderer.$cursorLayer;It&&(It.setSmoothBlinking(/smooth/.test(Ct)),It.isBlinking=!this.$readOnly&&Ct!="wide",ot.setCssClass(It.element,"ace_slim-cursors",/slim/.test(Ct)))},At.prototype.prompt=function(Ct,It,Lt){var Ft=this;gt.loadModule("ace/ext/prompt",function(Dt){Dt.prompt(Ft,Ct,It,Lt)})},At}();$t.$uid=0,$t.prototype.curOp=null,$t.prototype.prevOp={},$t.prototype.$mergeableCommands=["backspace","del","insertstring"],$t.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],at.implement($t.prototype,ft),gt.defineOptions($t.prototype,"editor",{selectionStyle:{set:function(At){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:At})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(At){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(At){this.textInput.setReadOnly(At),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(At){this.textInput.setCopyWithEmptySelection(At)},initialValue:!1},cursorStyle:{set:function(At){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(At){this.setAutoScrollEditorIntoView(At)}},keyboardHandler:{set:function(At){this.setKeyboardHandler(At)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(At){this.session.setValue(At)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(At){this.setSession(At)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(At){this.renderer.$gutterLayer.setShowLineNumbers(At),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),At&&this.$relativeLineNumbers?Tt.attach(this):Tt.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(At){this.$showLineNumbers&&At?Tt.attach(this):Tt.detach(this)}},placeholder:{set:function(At){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var Ct=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(Ct&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),ot.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!Ct&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),ot.addCssClass(this.container,"ace_hasPlaceholder");var It=ot.createElement("div");It.className="ace_placeholder",It.textContent=this.$placeholder||"",this.renderer.placeholderNode=It,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!Ct&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(At){var Ct={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(Ft){Ft.blur(),Ft.renderer.scroller.focus()},readOnly:!0},It=function(Ft){if(Ft.target==this.renderer.scroller&&Ft.keyCode===Et.enter){Ft.preventDefault();var Dt=this.getCursorPosition().row;this.isRowVisible(Dt)||this.scrollToLine(Dt,!0,!0),this.focus()}},Lt;At?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(it.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",bt("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",bt("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",It.bind(this)),this.commands.addCommand(Ct),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",bt("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",bt("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),Lt||(Lt=new wt(this)),Lt.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",It.bind(this)),this.commands.removeCommand(Ct),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),Lt&&Lt.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(At){this.$textInputAriaLabel=At},initialValue:""},enableMobileMenu:{set:function(At){this.$enableMobileMenu=At},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var Tt={getText:function(At,Ct){return(Math.abs(At.selection.lead.row-Ct)||Ct+1+(Ct<9?"":""))+""},getWidth:function(At,Ct,It){return Math.max(Ct.toString().length,(It.lastRow+1).toString().length,2)*It.characterWidth},update:function(At,Ct){Ct.renderer.$loop.schedule(Ct.renderer.CHANGE_GUTTER)},attach:function(At){At.renderer.$gutterLayer.$renderer=this,At.on("changeSelection",this.update),this.update(null,At)},detach:function(At){At.renderer.$gutterLayer.$renderer==this&&(At.renderer.$gutterLayer.$renderer=null),At.off("changeSelection",this.update),this.update(null,At)}};o.Editor=$t}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(a,o,rt){var et=a("../lib/dom"),at=function(){function ot(nt,it){this.element=nt,this.canvasHeight=it||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return ot.prototype.moveContainer=function(nt){et.translate(this.element,0,-(nt.firstRowScreen*nt.lineHeight%this.canvasHeight)-nt.offset*this.$offsetCoefficient)},ot.prototype.pageChanged=function(nt,it){return Math.floor(nt.firstRowScreen*nt.lineHeight/this.canvasHeight)!==Math.floor(it.firstRowScreen*it.lineHeight/this.canvasHeight)},ot.prototype.computeLineTop=function(nt,it,j){var _=it.firstRowScreen*it.lineHeight,$=Math.floor(_/this.canvasHeight),tt=j.documentToScreenRow(nt,0)*it.lineHeight;return tt-$*this.canvasHeight},ot.prototype.computeLineHeight=function(nt,it,j){return it.lineHeight*j.getRowLineCount(nt)},ot.prototype.getLength=function(){return this.cells.length},ot.prototype.get=function(nt){return this.cells[nt]},ot.prototype.shift=function(){this.$cacheCell(this.cells.shift())},ot.prototype.pop=function(){this.$cacheCell(this.cells.pop())},ot.prototype.push=function(nt){if(Array.isArray(nt)){this.cells.push.apply(this.cells,nt);for(var it=et.createFragment(this.element),j=0;j<nt.length;j++)it.appendChild(nt[j].element);this.element.appendChild(it)}else this.cells.push(nt),this.element.appendChild(nt.element)},ot.prototype.unshift=function(nt){if(Array.isArray(nt)){this.cells.unshift.apply(this.cells,nt);for(var it=et.createFragment(this.element),j=0;j<nt.length;j++)it.appendChild(nt[j].element);this.element.firstChild?this.element.insertBefore(it,this.element.firstChild):this.element.appendChild(it)}else this.cells.unshift(nt),this.element.insertAdjacentElement("afterbegin",nt.element)},ot.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},ot.prototype.$cacheCell=function(nt){nt&&(nt.element.remove(),this.cellCache.push(nt))},ot.prototype.createCell=function(nt,it,j,_){var $=this.cellCache.pop();if(!$){var tt=et.createElement("div");_&&_(tt),this.element.appendChild(tt),$={element:tt,text:"",row:nt}}return $.row=nt,$},ot}();o.Lines=at}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(a,o,rt){var et=a("../lib/dom"),at=a("../lib/oop"),ot=a("../lib/lang"),nt=a("../lib/event_emitter").EventEmitter,it=a("./lines").Lines,j=a("../config").nls,_=function(){function tt(st){this.element=et.createElement("div"),this.element.className="ace_layer ace_gutter-layer",st.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new it(this.element),this.$lines.$offsetCoefficient=1}return tt.prototype.setSession=function(st){this.session&&this.session.off("change",this.$updateAnnotations),this.session=st,st&&st.on("change",this.$updateAnnotations)},tt.prototype.addGutterDecoration=function(st,lt){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(st,lt)},tt.prototype.removeGutterDecoration=function(st,lt){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(st,lt)},tt.prototype.setAnnotations=function(st){this.$annotations=[];for(var lt=0;lt<st.length;lt++){var ht=st[lt],ft=ht.row,ct=this.$annotations[ft];ct||(ct=this.$annotations[ft]={text:[],type:[],displayText:[]});var mt=ht.text,gt=ht.text,yt=ht.type;mt=mt?ot.escapeHTML(mt):ht.html||"",gt=gt||ht.html||"",ct.text.indexOf(mt)===-1&&(ct.text.push(mt),ct.type.push(yt),ct.displayText.push(gt));var ut=ht.className;ut?ct.className=ut:yt==="error"?ct.className=" ace_error":yt==="security"&&!/\bace_error\b/.test(ct.className)?ct.className=" ace_security":yt==="warning"&&!/\bace_(error|security)\b/.test(ct.className)?ct.className=" ace_warning":yt==="info"&&!ct.className?ct.className=" ace_info":yt==="hint"&&!ct.className&&(ct.className=" ace_hint")}},tt.prototype.$updateAnnotations=function(st){if(this.$annotations.length){var lt=st.start.row,ht=st.end.row-lt;if(ht!==0)if(st.action=="remove")this.$annotations.splice(lt,ht+1,null);else{var ft=new Array(ht+1);ft.unshift(lt,1),this.$annotations.splice.apply(this.$annotations,ft)}}},tt.prototype.update=function(st){this.config=st;var lt=this.session,ht=st.firstRow,ft=Math.min(st.lastRow+st.gutterOffset,lt.getLength()-1);this.oldLastRow=ft,this.config=st,this.$lines.moveContainer(st),this.$updateCursorRow();for(var ct=lt.getNextFoldLine(ht),mt=ct?ct.start.row:1/0,gt=null,yt=-1,ut=ht;;){if(ut>mt&&(ut=ct.end.row+1,ct=lt.getNextFoldLine(ut,ct),mt=ct?ct.start.row:1/0),ut>ft){for(;this.$lines.getLength()>yt+1;)this.$lines.pop();break}gt=this.$lines.get(++yt),gt?gt.row=ut:(gt=this.$lines.createCell(ut,st,this.session,$),this.$lines.push(gt)),this.$renderCell(gt,st,ct,ut),ut++}this._signal("afterRender"),this.$updateGutterWidth(st)},tt.prototype.$updateGutterWidth=function(st){var lt=this.session,ht=lt.gutterRenderer||this.$renderer,ft=lt.$firstLineNumber,ct=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||lt.$useWrapMode)&&(ct=lt.getLength()+ft-1);var mt=ht?ht.getWidth(lt,ct,st):ct.toString().length*st.characterWidth,gt=this.$padding||this.$computePadding();mt+=gt.left+gt.right,mt!==this.gutterWidth&&!isNaN(mt)&&(this.gutterWidth=mt,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",mt))},tt.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var st=this.session.selection.getCursor();this.$cursorRow!==st.row&&(this.$cursorRow=st.row)}},tt.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var st=this.session.selection.cursor.row;if(this.$cursorRow=st,!(this.$cursorCell&&this.$cursorCell.row==st)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var lt=this.$lines.cells;this.$cursorCell=null;for(var ht=0;ht<lt.length;ht++){var ft=lt[ht];if(ft.row>=this.$cursorRow){if(ft.row>this.$cursorRow){var ct=this.session.getFoldLine(this.$cursorRow);if(ht>0&&ct&&ct.start.row==lt[ht-1].row)ft=lt[ht-1];else break}ft.element.className="ace_gutter-active-line "+ft.element.className,this.$cursorCell=ft;break}}}}},tt.prototype.scrollLines=function(st){var lt=this.config;if(this.config=st,this.$updateCursorRow(),this.$lines.pageChanged(lt,st))return this.update(st);this.$lines.moveContainer(st);var ht=Math.min(st.lastRow+st.gutterOffset,this.session.getLength()-1),ft=this.oldLastRow;if(this.oldLastRow=ht,!lt||ft<st.firstRow)return this.update(st);if(ht<lt.firstRow)return this.update(st);if(lt.firstRow<st.firstRow)for(var ct=this.session.getFoldedRowCount(lt.firstRow,st.firstRow-1);ct>0;ct--)this.$lines.shift();if(ft>ht)for(var ct=this.session.getFoldedRowCount(ht+1,ft);ct>0;ct--)this.$lines.pop();st.firstRow<lt.firstRow&&this.$lines.unshift(this.$renderLines(st,st.firstRow,lt.firstRow-1)),ht>ft&&this.$lines.push(this.$renderLines(st,ft+1,ht)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(st)},tt.prototype.$renderLines=function(st,lt,ht){for(var ft=[],ct=lt,mt=this.session.getNextFoldLine(ct),gt=mt?mt.start.row:1/0;ct>gt&&(ct=mt.end.row+1,mt=this.session.getNextFoldLine(ct,mt),gt=mt?mt.start.row:1/0),!(ct>ht);){var yt=this.$lines.createCell(ct,st,this.session,$);this.$renderCell(yt,st,mt,ct),ft.push(yt),ct++}return ft},tt.prototype.$renderCell=function(st,lt,ht,ft){var ct=st.element,mt=this.session,gt=ct.childNodes[0],yt=ct.childNodes[1],ut=ct.childNodes[2],wt=ut.firstChild,bt=mt.$firstLineNumber,vt=mt.$breakpoints,Et=mt.$decorations,$t=mt.gutterRenderer||this.$renderer,Tt=this.$showFoldWidgets&&mt.foldWidgets,At=ht?ht.start.row:Number.MAX_VALUE,Ct=lt.lineHeight+"px",It=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",Lt=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",Ft=($t?$t.getText(mt,ft):ft+bt).toString();if(this.$highlightGutterLine&&(ft==this.$cursorRow||ht&&ft<this.$cursorRow&&ft>=At&&this.$cursorRow<=ht.end.row)&&(It+="ace_gutter-active-line ",this.$cursorCell!=st&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=st)),vt[ft]&&(It+=vt[ft]),Et[ft]&&(It+=Et[ft]),this.$annotations[ft]&&ft!==At&&(It+=this.$annotations[ft].className),Tt){var Dt=Tt[ft];Dt==null&&(Dt=Tt[ft]=mt.getFoldWidget(ft))}if(Dt){var Vt="ace_fold-widget ace_"+Dt,Ut=Dt=="start"&&ft==At&&ft<ht.end.row;if(Ut){Vt+=" ace_closed";for(var Qt="",Kt=!1,Ht=ft+1;Ht<=ht.end.row;Ht++)if(this.$annotations[Ht]){if(this.$annotations[Ht].className===" ace_error"){Kt=!0,Qt=" ace_error_fold";break}this.$annotations[Ht].className===" ace_security"?(Kt=!0,Qt=" ace_security_fold"):this.$annotations[Ht].className===" ace_warning"&&Qt!==" ace_security_fold"&&(Kt=!0,Qt=" ace_warning_fold")}It+=Qt}else Vt+=" ace_open";yt.className!=Vt&&(yt.className=Vt),et.setStyle(yt.style,"height",Ct),et.setStyle(yt.style,"display","inline-block"),yt.setAttribute("role","button"),yt.setAttribute("tabindex","-1");var qt=mt.getFoldWidgetRange(ft);qt?yt.setAttribute("aria-label",j("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[qt.start.row+1,qt.end.row+1])):ht?yt.setAttribute("aria-label",j("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[ht.start.row+1,ht.end.row+1])):yt.setAttribute("aria-label",j("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[ft+1])),Ut?(yt.setAttribute("aria-expanded","false"),yt.setAttribute("title",j("gutter.code-folding.closed.title","Unfold code"))):(yt.setAttribute("aria-expanded","true"),yt.setAttribute("title",j("gutter.code-folding.open.title","Fold code")))}else yt&&(et.setStyle(yt.style,"display","none"),yt.setAttribute("tabindex","0"),yt.removeAttribute("role"),yt.removeAttribute("aria-label"));if(Kt&&this.$showFoldedAnnotations){ut.className="ace_gutter_annotation",wt.className=Lt,wt.className+=Qt,et.setStyle(wt.style,"height",Ct),et.setStyle(ut.style,"display","block"),et.setStyle(ut.style,"height",Ct);var nr;switch(Qt){case" ace_error_fold":nr=j("gutter.annotation.aria-label.error","Error, read annotations row $0",[Ft]);break;case" ace_security_fold":nr=j("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[Ft]);break;case" ace_warning_fold":nr=j("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[Ft]);break}ut.setAttribute("aria-label",nr),ut.setAttribute("tabindex","-1"),ut.setAttribute("role","button")}else if(this.$annotations[ft]){ut.className="ace_gutter_annotation",wt.className=Lt,this.$useSvgGutterIcons?wt.className+=this.$annotations[ft].className:ct.classList.add(this.$annotations[ft].className.replace(" ","")),et.setStyle(wt.style,"height",Ct),et.setStyle(ut.style,"display","block"),et.setStyle(ut.style,"height",Ct);var nr;switch(this.$annotations[ft].className){case" ace_error":nr=j("gutter.annotation.aria-label.error","Error, read annotations row $0",[Ft]);break;case" ace_security":nr=j("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[Ft]);break;case" ace_warning":nr=j("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[Ft]);break;case" ace_info":nr=j("gutter.annotation.aria-label.info","Info, read annotations row $0",[Ft]);break;case" ace_hint":nr=j("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[Ft]);break}ut.setAttribute("aria-label",nr),ut.setAttribute("tabindex","-1"),ut.setAttribute("role","button")}else et.setStyle(ut.style,"display","none"),ut.removeAttribute("aria-label"),ut.removeAttribute("role"),ut.setAttribute("tabindex","0");return Ft!==gt.data&&(gt.data=Ft),ct.className!=It&&(ct.className=It),et.setStyle(st.element.style,"height",this.$lines.computeLineHeight(ft,lt,mt)+"px"),et.setStyle(st.element.style,"top",this.$lines.computeLineTop(ft,lt,mt)+"px"),st.text=Ft,ut.style.display==="none"&&yt.style.display==="none"?st.element.setAttribute("aria-hidden",!0):st.element.setAttribute("aria-hidden",!1),st},tt.prototype.setHighlightGutterLine=function(st){this.$highlightGutterLine=st},tt.prototype.setShowLineNumbers=function(st){this.$renderer=!st&&{getWidth:function(){return 0},getText:function(){return""}}},tt.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},tt.prototype.setShowFoldWidgets=function(st){st?et.addCssClass(this.element,"ace_folding-enabled"):et.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=st,this.$padding=null},tt.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},tt.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var st=et.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(st.borderLeftWidth)||0)+(parseInt(st.paddingLeft)||0)+1,this.$padding.right=(parseInt(st.borderRightWidth)||0)+(parseInt(st.paddingRight)||0),this.$padding},tt.prototype.getRegion=function(st){var lt=this.$padding||this.$computePadding(),ht=this.element.getBoundingClientRect();if(st.x<lt.left+ht.left)return"markers";if(this.$showFoldWidgets&&st.x>ht.right-lt.right)return"foldWidgets"},tt}();_.prototype.$fixedWidth=!1,_.prototype.$highlightGutterLine=!0,_.prototype.$renderer="",_.prototype.$showLineNumbers=!0,_.prototype.$showFoldWidgets=!0,at.implement(_.prototype,nt);function $(tt){var st=document.createTextNode("");tt.appendChild(st);var lt=et.createElement("span");tt.appendChild(lt);var ht=et.createElement("span");tt.appendChild(ht);var ft=et.createElement("span");return ht.appendChild(ft),tt}o.Gutter=_}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(a,o,rt){var et=a("../range").Range,at=a("../lib/dom"),ot=function(){function it(j){this.element=at.createElement("div"),this.element.className="ace_layer ace_marker-layer",j.appendChild(this.element)}return it.prototype.setPadding=function(j){this.$padding=j},it.prototype.setSession=function(j){this.session=j},it.prototype.setMarkers=function(j){this.markers=j},it.prototype.elt=function(j,_){var $=this.i!=-1&&this.element.childNodes[this.i];$?this.i++:($=document.createElement("div"),this.element.appendChild($),this.i=-1),$.style.cssText=_,$.className=j},it.prototype.update=function(j){if(j){this.config=j,this.i=0;var _;for(var $ in this.markers){var tt=this.markers[$];if(!tt.range){tt.update(_,this,this.session,j);continue}var st=tt.range.clipRows(j.firstRow,j.lastRow);if(!st.isEmpty())if(st=st.toScreenRange(this.session),tt.renderer){var lt=this.$getTop(st.start.row,j),ht=this.$padding+st.start.column*j.characterWidth;tt.renderer(_,st,ht,lt,j)}else tt.type=="fullLine"?this.drawFullLineMarker(_,st,tt.clazz,j):tt.type=="screenLine"?this.drawScreenLineMarker(_,st,tt.clazz,j):st.isMultiLine()?tt.type=="text"?this.drawTextMarker(_,st,tt.clazz,j):this.drawMultiLineMarker(_,st,tt.clazz,j):this.drawSingleLineMarker(_,st,tt.clazz+" ace_start ace_br15",j)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},it.prototype.$getTop=function(j,_){return(j-_.firstRowScreen)*_.lineHeight},it.prototype.drawTextMarker=function(j,_,$,tt,st){for(var lt=this.session,ht=_.start.row,ft=_.end.row,ct=ht,mt=0,gt=0,yt=lt.getScreenLastRowColumn(ct),ut=new et(ct,_.start.column,ct,gt);ct<=ft;ct++)ut.start.row=ut.end.row=ct,ut.start.column=ct==ht?_.start.column:lt.getRowWrapIndent(ct),ut.end.column=yt,mt=gt,gt=yt,yt=ct+1<ft?lt.getScreenLastRowColumn(ct+1):ct==ft?0:_.end.column,this.drawSingleLineMarker(j,ut,$+(ct==ht?" ace_start":"")+" ace_br"+nt(ct==ht||ct==ht+1&&_.start.column,mt<gt,gt>yt,ct==ft),tt,ct==ft?0:1,st)},it.prototype.drawMultiLineMarker=function(j,_,$,tt,st){var lt=this.$padding,ht=tt.lineHeight,ft=this.$getTop(_.start.row,tt),ct=lt+_.start.column*tt.characterWidth;if(st=st||"",this.session.$bidiHandler.isBidiRow(_.start.row)){var mt=_.clone();mt.end.row=mt.start.row,mt.end.column=this.session.getLine(mt.start.row).length,this.drawBidiSingleLineMarker(j,mt,$+" ace_br1 ace_start",tt,null,st)}else this.elt($+" ace_br1 ace_start","height:"+ht+"px;right:0;top:"+ft+"px;left:"+ct+"px;"+(st||""));if(this.session.$bidiHandler.isBidiRow(_.end.row)){var mt=_.clone();mt.start.row=mt.end.row,mt.start.column=0,this.drawBidiSingleLineMarker(j,mt,$+" ace_br12",tt,null,st)}else{ft=this.$getTop(_.end.row,tt);var gt=_.end.column*tt.characterWidth;this.elt($+" ace_br12","height:"+ht+"px;width:"+gt+"px;top:"+ft+"px;left:"+lt+"px;"+(st||""))}if(ht=(_.end.row-_.start.row-1)*tt.lineHeight,!(ht<=0)){ft=this.$getTop(_.start.row+1,tt);var yt=(_.start.column?1:0)|(_.end.column?0:8);this.elt($+(yt?" ace_br"+yt:""),"height:"+ht+"px;right:0;top:"+ft+"px;left:"+lt+"px;"+(st||""))}},it.prototype.drawSingleLineMarker=function(j,_,$,tt,st,lt){if(this.session.$bidiHandler.isBidiRow(_.start.row))return this.drawBidiSingleLineMarker(j,_,$,tt,st,lt);var ht=tt.lineHeight,ft=(_.end.column+(st||0)-_.start.column)*tt.characterWidth,ct=this.$getTop(_.start.row,tt),mt=this.$padding+_.start.column*tt.characterWidth;this.elt($,"height:"+ht+"px;width:"+ft+"px;top:"+ct+"px;left:"+mt+"px;"+(lt||""))},it.prototype.drawBidiSingleLineMarker=function(j,_,$,tt,st,lt){var ht=tt.lineHeight,ft=this.$getTop(_.start.row,tt),ct=this.$padding,mt=this.session.$bidiHandler.getSelections(_.start.column,_.end.column);mt.forEach(function(gt){this.elt($,"height:"+ht+"px;width:"+(gt.width+(st||0))+"px;top:"+ft+"px;left:"+(ct+gt.left)+"px;"+(lt||""))},this)},it.prototype.drawFullLineMarker=function(j,_,$,tt,st){var lt=this.$getTop(_.start.row,tt),ht=tt.lineHeight;_.start.row!=_.end.row&&(ht+=this.$getTop(_.end.row,tt)-lt),this.elt($,"height:"+ht+"px;top:"+lt+"px;left:0;right:0;"+(st||""))},it.prototype.drawScreenLineMarker=function(j,_,$,tt,st){var lt=this.$getTop(_.start.row,tt),ht=tt.lineHeight;this.elt($,"height:"+ht+"px;top:"+lt+"px;left:0;right:0;"+(st||""))},it}();ot.prototype.$padding=0;function nt(it,j,_,$){return(it?1:0)|(j?2:0)|(_?4:0)|($?8:0)}o.Marker=ot}),ace.define("ace/layer/text_util",["require","exports","module"],function(a,o,rt){var et=new Set(["text","rparen","lparen"]);o.isTextToken=function(at){return et.has(at)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(a,o,rt){var et=a("../lib/oop"),at=a("../lib/dom"),ot=a("../lib/lang"),nt=a("./lines").Lines,it=a("../lib/event_emitter").EventEmitter,j=a("../config").nls,_=a("./text_util").isTextToken,$=function(){function tt(st){this.dom=at,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",st.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new nt(this.element)}return tt.prototype.$updateEolChar=function(){var st=this.session.doc,lt=st.getNewLineCharacter()==`
`&&st.getNewLineMode()!="windows",ht=lt?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=ht)return this.EOL_CHAR=ht,!0},tt.prototype.setPadding=function(st){this.$padding=st,this.element.style.margin="0 "+st+"px"},tt.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},tt.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},tt.prototype.$setFontMetrics=function(st){this.$fontMetrics=st,this.$fontMetrics.on("changeCharacterSize",(function(lt){this._signal("changeCharacterSize",lt)}).bind(this)),this.$pollSizeChanges()},tt.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},tt.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},tt.prototype.setSession=function(st){this.session=st,st&&this.$computeTabString()},tt.prototype.setShowInvisibles=function(st){return this.showInvisibles==st?!1:(this.showInvisibles=st,typeof st=="string"?(this.showSpaces=/tab/i.test(st),this.showTabs=/space/i.test(st),this.showEOL=/eol/i.test(st)):this.showSpaces=this.showTabs=this.showEOL=st,this.$computeTabString(),!0)},tt.prototype.setDisplayIndentGuides=function(st){return this.displayIndentGuides==st?!1:(this.displayIndentGuides=st,this.$computeTabString(),!0)},tt.prototype.setHighlightIndentGuides=function(st){return this.$highlightIndentGuides===st?!1:(this.$highlightIndentGuides=st,st)},tt.prototype.$computeTabString=function(){var st=this.session.getTabSize();this.tabSize=st;for(var lt=this.$tabStrings=[0],ht=1;ht<st+1;ht++)if(this.showTabs){var ft=this.dom.createElement("span");ft.className="ace_invisible ace_invisible_tab",ft.textContent=ot.stringRepeat(this.TAB_CHAR,ht),lt.push(ft)}else lt.push(this.dom.createTextNode(ot.stringRepeat(" ",ht),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var ct="ace_indent-guide",mt=this.showSpaces?" ace_invisible ace_invisible_space":"",gt=this.showSpaces?ot.stringRepeat(this.SPACE_CHAR,this.tabSize):ot.stringRepeat(" ",this.tabSize),yt=this.showTabs?" ace_invisible ace_invisible_tab":"",ut=this.showTabs?ot.stringRepeat(this.TAB_CHAR,this.tabSize):gt,ft=this.dom.createElement("span");ft.className=ct+mt,ft.textContent=gt,this.$tabStrings[" "]=ft;var ft=this.dom.createElement("span");ft.className=ct+yt,ft.textContent=ut,this.$tabStrings["	"]=ft}},tt.prototype.updateLines=function(st,lt,ht){if(this.config.lastRow!=st.lastRow||this.config.firstRow!=st.firstRow)return this.update(st);this.config=st;for(var ft=Math.max(lt,st.firstRow),ct=Math.min(ht,st.lastRow),mt=this.element.childNodes,gt=0,ut=st.firstRow;ut<ft;ut++){var wt=this.session.getFoldLine(ut);if(wt)if(wt.containsRow(ft)){ft=wt.start.row;break}else ut=wt.end.row;gt++}for(var yt=!1,ut=ft,wt=this.session.getNextFoldLine(ut),bt=wt?wt.start.row:1/0;ut>bt&&(ut=wt.end.row+1,wt=this.session.getNextFoldLine(ut,wt),bt=wt?wt.start.row:1/0),!(ut>ct);){var vt=mt[gt++];if(vt){this.dom.removeChildren(vt),this.$renderLine(vt,ut,ut==bt?wt:!1),yt&&(vt.style.top=this.$lines.computeLineTop(ut,st,this.session)+"px");var Et=st.lineHeight*this.session.getRowLength(ut)+"px";vt.style.height!=Et&&(yt=!0,vt.style.height=Et)}ut++}if(yt)for(;gt<this.$lines.cells.length;){var $t=this.$lines.cells[gt++];$t.element.style.top=this.$lines.computeLineTop($t.row,st,this.session)+"px"}},tt.prototype.scrollLines=function(st){var lt=this.config;if(this.config=st,this.$lines.pageChanged(lt,st))return this.update(st);this.$lines.moveContainer(st);var ht=st.lastRow,ft=lt?lt.lastRow:-1;if(!lt||ft<st.firstRow)return this.update(st);if(ht<lt.firstRow)return this.update(st);if(!lt||lt.lastRow<st.firstRow)return this.update(st);if(st.lastRow<lt.firstRow)return this.update(st);if(lt.firstRow<st.firstRow)for(var ct=this.session.getFoldedRowCount(lt.firstRow,st.firstRow-1);ct>0;ct--)this.$lines.shift();if(lt.lastRow>st.lastRow)for(var ct=this.session.getFoldedRowCount(st.lastRow+1,lt.lastRow);ct>0;ct--)this.$lines.pop();st.firstRow<lt.firstRow&&this.$lines.unshift(this.$renderLinesFragment(st,st.firstRow,lt.firstRow-1)),st.lastRow>lt.lastRow&&this.$lines.push(this.$renderLinesFragment(st,lt.lastRow+1,st.lastRow)),this.$highlightIndentGuide()},tt.prototype.$renderLinesFragment=function(st,lt,ht){for(var ft=[],ct=lt,mt=this.session.getNextFoldLine(ct),gt=mt?mt.start.row:1/0;ct>gt&&(ct=mt.end.row+1,mt=this.session.getNextFoldLine(ct,mt),gt=mt?mt.start.row:1/0),!(ct>ht);){var yt=this.$lines.createCell(ct,st,this.session),ut=yt.element;this.dom.removeChildren(ut),at.setStyle(ut.style,"height",this.$lines.computeLineHeight(ct,st,this.session)+"px"),at.setStyle(ut.style,"top",this.$lines.computeLineTop(ct,st,this.session)+"px"),this.$renderLine(ut,ct,ct==gt?mt:!1),this.$useLineGroups()?ut.className="ace_line_group":ut.className="ace_line",ft.push(yt),ct++}return ft},tt.prototype.update=function(st){this.$lines.moveContainer(st),this.config=st;for(var lt=st.firstRow,ht=st.lastRow,ft=this.$lines;ft.getLength();)ft.pop();ft.push(this.$renderLinesFragment(st,lt,ht))},tt.prototype.$renderToken=function(st,lt,ht,ft){for(var ct=this,mt=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,gt=this.dom.createFragment(this.element),yt,ut=0;yt=mt.exec(ft);){var wt=yt[1],bt=yt[2],vt=yt[3],Et=yt[4],$t=yt[5];if(!(!ct.showSpaces&&bt)){var Tt=ut!=yt.index?ft.slice(ut,yt.index):"";if(ut=yt.index+yt[0].length,Tt&&gt.appendChild(this.dom.createTextNode(Tt,this.element)),wt){var At=ct.session.getScreenTabSize(lt+yt.index);gt.appendChild(ct.$tabStrings[At].cloneNode(!0)),lt+=At-1}else if(bt)if(ct.showSpaces){var Ct=this.dom.createElement("span");Ct.className="ace_invisible ace_invisible_space",Ct.textContent=ot.stringRepeat(ct.SPACE_CHAR,bt.length),gt.appendChild(Ct)}else gt.appendChild(this.dom.createTextNode(bt,this.element));else if(vt){var Ct=this.dom.createElement("span");Ct.className="ace_invisible ace_invisible_space ace_invalid",Ct.textContent=ot.stringRepeat(ct.SPACE_CHAR,vt.length),gt.appendChild(Ct)}else if(Et){lt+=1;var Ct=this.dom.createElement("span");Ct.style.width=ct.config.characterWidth*2+"px",Ct.className=ct.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",Ct.textContent=ct.showSpaces?ct.SPACE_CHAR:Et,gt.appendChild(Ct)}else if($t){lt+=1;var Ct=this.dom.createElement("span");Ct.style.width=ct.config.characterWidth*2+"px",Ct.className="ace_cjk",Ct.textContent=$t,gt.appendChild(Ct)}}}if(gt.appendChild(this.dom.createTextNode(ut?ft.slice(ut):ft,this.element)),_(ht.type))st.appendChild(gt);else{var It="ace_"+ht.type.replace(/\./g," ace_"),Ct=this.dom.createElement("span");ht.type=="fold"&&(Ct.style.width=ht.value.length*this.config.characterWidth+"px",Ct.setAttribute("title",j("inline-fold.closed.title","Unfold code"))),Ct.className=It,Ct.appendChild(gt),st.appendChild(Ct)}return lt+ft.length},tt.prototype.renderIndentGuide=function(st,lt,ht){var ft=lt.search(this.$indentGuideRe);if(ft<=0||ft>=ht)return lt;if(lt[0]==" "){ft-=ft%this.tabSize;for(var ct=ft/this.tabSize,mt=0;mt<ct;mt++)st.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),lt.substr(ft)}else if(lt[0]=="	"){for(var mt=0;mt<ft;mt++)st.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),lt.substr(ft)}return this.$highlightIndentGuide(),lt},tt.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var st=this.session.doc.$lines;if(st){var lt=this.session.selection.getCursor(),ht=/^\s*/.exec(this.session.doc.getLine(lt.row))[0].length,ft=Math.floor(ht/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:ft,start:lt.row};var ct=this.session.$bracketHighlight;if(ct){for(var mt=this.session.$bracketHighlight.ranges,gt=0;gt<mt.length;gt++)if(lt.row!==mt[gt].start.row){this.$highlightIndentGuideMarker.end=mt[gt].start.row,lt.row>mt[gt].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&st[lt.row]!==""&&lt.column===st[lt.row].length){this.$highlightIndentGuideMarker.dir=1;for(var gt=lt.row+1;gt<st.length;gt++){var yt=st[gt],ut=/^\s*/.exec(yt)[0].length;if(yt!==""&&(this.$highlightIndentGuideMarker.end=gt,ut<=ht))break}}this.$renderHighlightIndentGuide()}}},tt.prototype.$clearActiveIndentGuide=function(){for(var st=this.$lines.cells,lt=0;lt<st.length;lt++){var ht=st[lt],ft=ht.element.childNodes;if(ft.length>0){for(var ct=0;ct<ft.length;ct++)if(ft[ct].classList&&ft[ct].classList.contains("ace_indent-guide-active")){ft[ct].classList.remove("ace_indent-guide-active");break}}}},tt.prototype.$setIndentGuideActive=function(st,lt){var ht=this.session.doc.getLine(st.row);if(ht!==""){var ft=st.element.childNodes;if(ft){var ct=ft[lt-1];ct&&ct.classList&&ct.classList.contains("ace_indent-guide")&&ct.classList.add("ace_indent-guide-active")}}},tt.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var st=this.$lines.cells;this.$clearActiveIndentGuide();var lt=this.$highlightIndentGuideMarker.indentLevel;if(lt!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var ht=0;ht<st.length;ht++){var ft=st[ht];if(this.$highlightIndentGuideMarker.end&&ft.row>=this.$highlightIndentGuideMarker.start+1){if(ft.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(ft,lt)}}else for(var ht=st.length-1;ht>=0;ht--){var ft=st[ht];if(this.$highlightIndentGuideMarker.end&&ft.row<this.$highlightIndentGuideMarker.start){if(ft.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(ft,lt)}}}},tt.prototype.$createLineElement=function(st){var lt=this.dom.createElement("div");return lt.className="ace_line",lt.style.height=this.config.lineHeight+"px",lt},tt.prototype.$renderWrappedLine=function(st,lt,ht){var ft=0,ct=0,mt=ht[0],gt=0,yt=this.$createLineElement();st.appendChild(yt);for(var ut=0;ut<lt.length;ut++){var wt=lt[ut],bt=wt.value;if(ut==0&&this.displayIndentGuides){if(ft=bt.length,bt=this.renderIndentGuide(yt,bt,mt),!bt)continue;ft-=bt.length}if(ft+bt.length<mt)gt=this.$renderToken(yt,gt,wt,bt),ft+=bt.length;else{for(;ft+bt.length>=mt;)gt=this.$renderToken(yt,gt,wt,bt.substring(0,mt-ft)),bt=bt.substring(mt-ft),ft=mt,yt=this.$createLineElement(),st.appendChild(yt),yt.appendChild(this.dom.createTextNode(ot.stringRepeat("",ht.indent),this.element)),ct++,gt=0,mt=ht[ct]||Number.MAX_VALUE;bt.length!=0&&(ft+=bt.length,gt=this.$renderToken(yt,gt,wt,bt))}}ht[ht.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(yt,gt,null,"",!0)},tt.prototype.$renderSimpleLine=function(st,lt){for(var ht=0,ft=0;ft<lt.length;ft++){var ct=lt[ft],mt=ct.value;if(!(ft==0&&this.displayIndentGuides&&(mt=this.renderIndentGuide(st,mt),!mt))){if(ht+mt.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(st,ht,ct,mt);ht=this.$renderToken(st,ht,ct,mt)}}},tt.prototype.$renderOverflowMessage=function(st,lt,ht,ft,ct){ht&&this.$renderToken(st,lt,ht,ft.slice(0,this.MAX_LINE_LENGTH-lt));var mt=this.dom.createElement("span");mt.className="ace_inline_button ace_keyword ace_toggle_wrap",mt.textContent=ct?"<hide>":"<click to see more...>",st.appendChild(mt)},tt.prototype.$renderLine=function(st,lt,ht){if(!ht&&ht!=!1&&(ht=this.session.getFoldLine(lt)),ht)var ft=this.$getFoldLineTokens(lt,ht);else var ft=this.session.getTokens(lt);var ct=st;if(ft.length){var mt=this.session.getRowSplitData(lt);if(mt&&mt.length){this.$renderWrappedLine(st,ft,mt);var ct=st.lastChild}else{var ct=st;this.$useLineGroups()&&(ct=this.$createLineElement(),st.appendChild(ct)),this.$renderSimpleLine(ct,ft)}}else this.$useLineGroups()&&(ct=this.$createLineElement(),st.appendChild(ct));if(this.showEOL&&ct){ht&&(lt=ht.end.row);var gt=this.dom.createElement("span");gt.className="ace_invisible ace_invisible_eol",gt.textContent=lt==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,ct.appendChild(gt)}},tt.prototype.$getFoldLineTokens=function(st,lt){var ht=this.session,ft=[];function ct(gt,yt,ut){for(var wt=0,bt=0;bt+gt[wt].value.length<yt;)if(bt+=gt[wt].value.length,wt++,wt==gt.length)return;if(bt!=yt){var vt=gt[wt].value.substring(yt-bt);vt.length>ut-yt&&(vt=vt.substring(0,ut-yt)),ft.push({type:gt[wt].type,value:vt}),bt=yt+vt.length,wt+=1}for(;bt<ut&&wt<gt.length;){var vt=gt[wt].value;vt.length+bt>ut?ft.push({type:gt[wt].type,value:vt.substring(0,ut-bt)}):ft.push(gt[wt]),bt+=vt.length,wt+=1}}var mt=ht.getTokens(st);return lt.walk(function(gt,yt,ut,wt,bt){gt!=null?ft.push({type:"fold",value:gt}):(bt&&(mt=ht.getTokens(yt)),mt.length&&ct(mt,wt,ut))},lt.end.row,this.session.getLine(lt.end.row).length),ft},tt.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},tt}();$.prototype.EOF_CHAR="",$.prototype.EOL_CHAR_LF="",$.prototype.EOL_CHAR_CRLF="",$.prototype.EOL_CHAR=$.prototype.EOL_CHAR_LF,$.prototype.TAB_CHAR="",$.prototype.SPACE_CHAR="",$.prototype.$padding=0,$.prototype.MAX_LINE_LENGTH=1e4,$.prototype.showInvisibles=!1,$.prototype.showSpaces=!1,$.prototype.showTabs=!1,$.prototype.showEOL=!1,$.prototype.displayIndentGuides=!0,$.prototype.$highlightIndentGuides=!0,$.prototype.$tabStrings=[],$.prototype.destroy={},$.prototype.onChangeTabSize=$.prototype.$computeTabString,et.implement($.prototype,it),o.Text=$}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(a,o,rt){var et=a("../lib/dom"),at=function(){function ot(nt){this.element=et.createElement("div"),this.element.className="ace_layer ace_cursor-layer",nt.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),et.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return ot.prototype.$updateOpacity=function(nt){for(var it=this.cursors,j=it.length;j--;)et.setStyle(it[j].style,"opacity",nt?"":"0")},ot.prototype.$startCssAnimation=function(){for(var nt=this.cursors,it=nt.length;it--;)nt[it].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&et.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},ot.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,et.removeCssClass(this.element,"ace_animate-blinking")},ot.prototype.setPadding=function(nt){this.$padding=nt},ot.prototype.setSession=function(nt){this.session=nt},ot.prototype.setBlinking=function(nt){nt!=this.isBlinking&&(this.isBlinking=nt,this.restartTimer())},ot.prototype.setBlinkInterval=function(nt){nt!=this.blinkInterval&&(this.blinkInterval=nt,this.restartTimer())},ot.prototype.setSmoothBlinking=function(nt){nt!=this.smoothBlinking&&(this.smoothBlinking=nt,et.setCssClass(this.element,"ace_smooth-blinking",nt),this.$updateCursors(!0),this.restartTimer())},ot.prototype.addCursor=function(){var nt=et.createElement("div");return nt.className="ace_cursor",this.element.appendChild(nt),this.cursors.push(nt),nt},ot.prototype.removeCursor=function(){if(this.cursors.length>1){var nt=this.cursors.pop();return nt.parentNode.removeChild(nt),nt}},ot.prototype.hideCursor=function(){this.isVisible=!1,et.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},ot.prototype.showCursor=function(){this.isVisible=!0,et.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},ot.prototype.restartTimer=function(){var nt=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,et.removeCssClass(this.element,"ace_smooth-blinking")),nt(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&et.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),et.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var it=(function(){this.timeoutId=setTimeout(function(){nt(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){nt(!0),it()},this.blinkInterval),it()}},ot.prototype.getPixelPosition=function(nt,it){if(!this.config||!this.session)return{left:0,top:0};nt||(nt=this.session.selection.getCursor());var j=this.session.documentToScreenPosition(nt),_=this.$padding+(this.session.$bidiHandler.isBidiRow(j.row,nt.row)?this.session.$bidiHandler.getPosLeft(j.column):j.column*this.config.characterWidth),$=(j.row-(it?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:_,top:$}},ot.prototype.isCursorInView=function(nt,it){return nt.top>=0&&nt.top<it.maxHeight},ot.prototype.update=function(nt){this.config=nt;var it=this.session.$selectionMarkers,j=0,_=0;(it===void 0||it.length===0)&&(it=[{cursor:null}]);for(var j=0,$=it.length;j<$;j++){var tt=this.getPixelPosition(it[j].cursor,!0);if(!((tt.top>nt.height+nt.offset||tt.top<0)&&j>1)){var st=this.cursors[_++]||this.addCursor(),lt=st.style;this.drawCursor?this.drawCursor(st,tt,nt,it[j],this.session):this.isCursorInView(tt,nt)?(et.setStyle(lt,"display","block"),et.translate(st,tt.left,tt.top),et.setStyle(lt,"width",Math.round(nt.characterWidth)+"px"),et.setStyle(lt,"height",nt.lineHeight+"px")):et.setStyle(lt,"display","none")}}for(;this.cursors.length>_;)this.removeCursor();var ht=this.session.getOverwrite();this.$setOverwrite(ht),this.$pixelPos=tt,this.restartTimer()},ot.prototype.$setOverwrite=function(nt){nt!=this.overwrite&&(this.overwrite=nt,nt?et.addCssClass(this.element,"ace_overwrite-cursors"):et.removeCssClass(this.element,"ace_overwrite-cursors"))},ot.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},ot}();at.prototype.$padding=0,at.prototype.drawCursor=null,o.Cursor=at}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(a,o,rt){var et=this&&this.__extends||function(){var st=function(lt,ht){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,ct){ft.__proto__=ct}||function(ft,ct){for(var mt in ct)Object.prototype.hasOwnProperty.call(ct,mt)&&(ft[mt]=ct[mt])},st(lt,ht)};return function(lt,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Class extends value "+String(ht)+" is not a constructor or null");st(lt,ht);function ft(){this.constructor=lt}lt.prototype=ht===null?Object.create(ht):(ft.prototype=ht.prototype,new ft)}}(),at=a("./lib/oop"),ot=a("./lib/dom"),nt=a("./lib/event"),it=a("./lib/event_emitter").EventEmitter,j=32768,_=function(){function st(lt,ht){this.element=ot.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+ht,this.inner=ot.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),lt.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,nt.addListener(this.element,"scroll",this.onScroll.bind(this)),nt.addListener(this.element,"mousedown",nt.preventDefault)}return st.prototype.setVisible=function(lt){this.element.style.display=lt?"":"none",this.isVisible=lt,this.coeff=1},st}();at.implement(_.prototype,it);var $=function(st){et(lt,st);function lt(ht,ft){var ct=st.call(this,ht,"-v")||this;return ct.scrollTop=0,ct.scrollHeight=0,ft.$scrollbarWidth=ct.width=ot.scrollbarWidth(ht.ownerDocument),ct.inner.style.width=ct.element.style.width=(ct.width||15)+5+"px",ct.$minWidth=0,ct}return lt.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var ht=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-ht)/(this.coeff-ht)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},lt.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},lt.prototype.setHeight=function(ht){this.element.style.height=ht+"px"},lt.prototype.setScrollHeight=function(ht){this.scrollHeight=ht,ht>j?(this.coeff=j/ht,ht=j):this.coeff!=1&&(this.coeff=1),this.inner.style.height=ht+"px"},lt.prototype.setScrollTop=function(ht){this.scrollTop!=ht&&(this.skipEvent=!0,this.scrollTop=ht,this.element.scrollTop=ht*this.coeff)},lt}(_);$.prototype.setInnerHeight=$.prototype.setScrollHeight;var tt=function(st){et(lt,st);function lt(ht,ft){var ct=st.call(this,ht,"-h")||this;return ct.scrollLeft=0,ct.height=ft.$scrollbarWidth,ct.inner.style.height=ct.element.style.height=(ct.height||15)+5+"px",ct}return lt.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},lt.prototype.getHeight=function(){return this.isVisible?this.height:0},lt.prototype.setWidth=function(ht){this.element.style.width=ht+"px"},lt.prototype.setInnerWidth=function(ht){this.inner.style.width=ht+"px"},lt.prototype.setScrollWidth=function(ht){this.inner.style.width=ht+"px"},lt.prototype.setScrollLeft=function(ht){this.scrollLeft!=ht&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=ht)},lt}(_);o.ScrollBar=$,o.ScrollBarV=$,o.ScrollBarH=tt,o.VScrollBar=$,o.HScrollBar=tt}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(a,o,rt){var et=this&&this.__extends||function(){var tt=function(st,lt){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,ft){ht.__proto__=ft}||function(ht,ft){for(var ct in ft)Object.prototype.hasOwnProperty.call(ft,ct)&&(ht[ct]=ft[ct])},tt(st,lt)};return function(st,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");tt(st,lt);function ht(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(ht.prototype=lt.prototype,new ht)}}(),at=a("./lib/oop"),ot=a("./lib/dom"),nt=a("./lib/event"),it=a("./lib/event_emitter").EventEmitter;ot.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var j=function(){function tt(st,lt){this.element=ot.createElement("div"),this.element.className="ace_sb"+lt,this.inner=ot.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,st.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,nt.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return tt.prototype.setVisible=function(st){this.element.style.display=st?"":"none",this.isVisible=st,this.coeff=1},tt}();at.implement(j.prototype,it);var _=function(tt){et(st,tt);function st(lt,ht){var ft=tt.call(this,lt,"-v")||this;return ft.scrollTop=0,ft.scrollHeight=0,ft.parent=lt,ft.width=ft.VScrollWidth,ft.renderer=ht,ft.inner.style.width=ft.element.style.width=(ft.width||15)+"px",ft.$minWidth=0,ft}return st.prototype.onMouseDown=function(lt,ht){if(lt==="mousedown"&&!(nt.getButton(ht)!==0||ht.detail===2)){if(ht.target===this.inner){var ft=this,ct=ht.clientY,mt=function(Et){ct=Et.clientY},gt=function(){clearInterval(bt)},yt=ht.clientY,ut=this.thumbTop,wt=function(){if(ct!==void 0){var Et=ft.scrollTopFromThumbTop(ut+ct-yt);Et!==ft.scrollTop&&ft._emit("scroll",{data:Et})}};nt.capture(this.inner,mt,gt);var bt=setInterval(wt,20);return nt.preventDefault(ht)}var vt=ht.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(vt)}),nt.preventDefault(ht)}},st.prototype.getHeight=function(){return this.height},st.prototype.scrollTopFromThumbTop=function(lt){var ht=lt*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return ht=ht>>0,ht<0?ht=0:ht>this.pageHeight-this.viewHeight&&(ht=this.pageHeight-this.viewHeight),ht},st.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},st.prototype.setHeight=function(lt){this.height=Math.max(0,lt),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},st.prototype.setScrollHeight=function(lt,ht){this.pageHeight===lt&&!ht||(this.pageHeight=lt,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},st.prototype.setScrollTop=function(lt){this.scrollTop=lt,lt<0&&(lt=0),this.thumbTop=lt*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},st}(j);_.prototype.setInnerHeight=_.prototype.setScrollHeight;var $=function(tt){et(st,tt);function st(lt,ht){var ft=tt.call(this,lt,"-h")||this;return ft.scrollLeft=0,ft.scrollWidth=0,ft.height=ft.HScrollHeight,ft.inner.style.height=ft.element.style.height=(ft.height||12)+"px",ft.renderer=ht,ft}return st.prototype.onMouseDown=function(lt,ht){if(lt==="mousedown"&&!(nt.getButton(ht)!==0||ht.detail===2)){if(ht.target===this.inner){var ft=this,ct=ht.clientX,mt=function(Et){ct=Et.clientX},gt=function(){clearInterval(bt)},yt=ht.clientX,ut=this.thumbLeft,wt=function(){if(ct!==void 0){var Et=ft.scrollLeftFromThumbLeft(ut+ct-yt);Et!==ft.scrollLeft&&ft._emit("scroll",{data:Et})}};nt.capture(this.inner,mt,gt);var bt=setInterval(wt,20);return nt.preventDefault(ht)}var vt=ht.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(vt)}),nt.preventDefault(ht)}},st.prototype.getHeight=function(){return this.isVisible?this.height:0},st.prototype.scrollLeftFromThumbLeft=function(lt){var ht=lt*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return ht=ht>>0,ht<0?ht=0:ht>this.pageWidth-this.viewWidth&&(ht=this.pageWidth-this.viewWidth),ht},st.prototype.setWidth=function(lt){this.width=Math.max(0,lt),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},st.prototype.setScrollWidth=function(lt,ht){this.pageWidth===lt&&!ht||(this.pageWidth=lt,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},st.prototype.setScrollLeft=function(lt){this.scrollLeft=lt,lt<0&&(lt=0),this.thumbLeft=lt*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},st}(j);$.prototype.setInnerWidth=$.prototype.setScrollWidth,o.ScrollBar=_,o.ScrollBarV=_,o.ScrollBarH=$,o.VScrollBar=_,o.HScrollBar=$}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(a,o,rt){var et=a("./lib/event"),at=function(){function ot(nt,it){this.onRender=nt,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=it||window;var j=this;this._flush=function(_){j.pending=!1;var $=j.changes;if($&&(et.blockIdle(100),j.changes=0,j.onRender($)),j.changes){if(j.$recursionLimit--<0)return;j.schedule()}else j.$recursionLimit=2}}return ot.prototype.schedule=function(nt){this.changes=this.changes|nt,this.changes&&!this.pending&&(et.nextFrame(this._flush),this.pending=!0)},ot.prototype.clear=function(nt){var it=this.changes;return this.changes=0,it},ot}();o.RenderLoop=at}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(a,o,rt){var et=a("../lib/oop"),at=a("../lib/dom"),ot=a("../lib/lang"),nt=a("../lib/event"),it=a("../lib/useragent"),j=a("../lib/event_emitter").EventEmitter,_=512,$=typeof ResizeObserver=="function",tt=200,st=function(){function lt(ht){this.el=at.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=at.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=at.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),ht.appendChild(this.el),this.$measureNode.textContent=ot.stringRepeat("X",_),this.$characterSize={width:0,height:0},$?this.$addObserver():this.checkForSizeChanges()}return lt.prototype.$setMeasureNodeStyles=function(ht,ft){ht.width=ht.height="auto",ht.left=ht.top="0px",ht.visibility="hidden",ht.position="absolute",ht.whiteSpace="pre",it.isIE<8?ht["font-family"]="inherit":ht.font="inherit",ht.overflow=ft?"hidden":"visible"},lt.prototype.checkForSizeChanges=function(ht){if(ht===void 0&&(ht=this.$measureSizes()),ht&&(this.$characterSize.width!==ht.width||this.$characterSize.height!==ht.height)){this.$measureNode.style.fontWeight="bold";var ft=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=ht,this.charSizes=Object.create(null),this.allowBoldFonts=ft&&ft.width===ht.width&&ft.height===ht.height,this._emit("changeCharacterSize",{data:ht})}},lt.prototype.$addObserver=function(){var ht=this;this.$observer=new window.ResizeObserver(function(ft){ht.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},lt.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var ht=this;return this.$pollSizeChangesTimer=nt.onIdle(function ft(){ht.checkForSizeChanges(),nt.onIdle(ft,500)},500)},lt.prototype.setPolling=function(ht){ht?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},lt.prototype.$measureSizes=function(ht){var ft={height:(ht||this.$measureNode).clientHeight,width:(ht||this.$measureNode).clientWidth/_};return ft.width===0||ft.height===0?null:ft},lt.prototype.$measureCharWidth=function(ht){this.$main.textContent=ot.stringRepeat(ht,_);var ft=this.$main.getBoundingClientRect();return ft.width/_},lt.prototype.getCharacterWidth=function(ht){var ft=this.charSizes[ht];return ft===void 0&&(ft=this.charSizes[ht]=this.$measureCharWidth(ht)/this.$characterSize.width),ft},lt.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},lt.prototype.$getZoom=function(ht){return!ht||!ht.parentElement?1:(Number(window.getComputedStyle(ht).zoom)||1)*this.$getZoom(ht.parentElement)},lt.prototype.$initTransformMeasureNodes=function(){var ht=function(ft,ct){return["div",{style:"position: absolute;top:"+ft+"px;left:"+ct+"px;"}]};this.els=at.buildDom([ht(0,0),ht(tt,0),ht(0,tt),ht(tt,tt)],this.el)},lt.prototype.transformCoordinates=function(ht,ft){if(ht){var ct=this.$getZoom(this.el);ht=ut(1/ct,ht)}function mt(Ut,Qt,Kt){var Ht=Ut[1]*Qt[0]-Ut[0]*Qt[1];return[(-Qt[1]*Kt[0]+Qt[0]*Kt[1])/Ht,(+Ut[1]*Kt[0]-Ut[0]*Kt[1])/Ht]}function gt(Ut,Qt){return[Ut[0]-Qt[0],Ut[1]-Qt[1]]}function yt(Ut,Qt){return[Ut[0]+Qt[0],Ut[1]+Qt[1]]}function ut(Ut,Qt){return[Ut*Qt[0],Ut*Qt[1]]}this.els||this.$initTransformMeasureNodes();function wt(Ut){var Qt=Ut.getBoundingClientRect();return[Qt.left,Qt.top]}var bt=wt(this.els[0]),vt=wt(this.els[1]),Et=wt(this.els[2]),$t=wt(this.els[3]),Tt=mt(gt($t,vt),gt($t,Et),gt(yt(vt,Et),yt($t,bt))),At=ut(1+Tt[0],gt(vt,bt)),Ct=ut(1+Tt[1],gt(Et,bt));if(ft){var It=ft,Lt=Tt[0]*It[0]/tt+Tt[1]*It[1]/tt+1,Ft=yt(ut(It[0],At),ut(It[1],Ct));return yt(ut(1/Lt/tt,Ft),bt)}var Dt=gt(ht,bt),Vt=mt(gt(At,ut(Tt[0],Dt)),gt(Ct,ut(Tt[1],Dt)),Dt);return ut(tt,Vt)},lt}();st.prototype.$characterSize={width:0,height:0},et.implement(st.prototype,j),o.FontMetrics=st}),ace.define("ace/css/editor-css",["require","exports","module"],function(a,o,rt){rt.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(a,o,rt){var et=a("../lib/dom"),at=a("../lib/oop"),ot=a("../lib/event_emitter").EventEmitter,nt=function(){function it(j,_){this.canvas=et.createElement("canvas"),this.renderer=_,this.pixelRatio=1,this.maxHeight=_.layerConfig.maxHeight,this.lineHeight=_.layerConfig.lineHeight,this.canvasHeight=j.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=j.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},j.element.appendChild(this.canvas)}return it.prototype.$updateDecorators=function(j){var _=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(j){this.maxHeight=j.maxHeight,this.lineHeight=j.lineHeight,this.canvasHeight=j.height;var $=(j.lastRow+1)*this.lineHeight;$<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var tt=this.canvas.getContext("2d");function st($t,Tt){return $t.priority<Tt.priority?-1:$t.priority>Tt.priority?1:0}var lt=this.renderer.session.$annotations;if(tt.clearRect(0,0,this.canvas.width,this.canvas.height),lt){var ht={info:1,warning:2,error:3};lt.forEach(function($t){$t.priority=ht[$t.type]||null}),lt=lt.sort(st);for(var ft=this.renderer.session.$foldData,ct=0;ct<lt.length;ct++){var mt=lt[ct].row,gt=this.compensateFoldRows(mt,ft),yt=Math.round((mt-gt)*this.lineHeight*this.heightRatio),ut=Math.round((mt-gt)*this.lineHeight*this.heightRatio),wt=Math.round(((mt-gt)*this.lineHeight+this.lineHeight)*this.heightRatio),bt=wt-ut;if(bt<this.minDecorationHeight){var vt=(ut+wt)/2|0;vt<this.halfMinDecorationHeight?vt=this.halfMinDecorationHeight:vt+this.halfMinDecorationHeight>this.canvasHeight&&(vt=this.canvasHeight-this.halfMinDecorationHeight),ut=Math.round(vt-this.halfMinDecorationHeight),wt=Math.round(vt+this.halfMinDecorationHeight)}tt.fillStyle=_[lt[ct].type]||null,tt.fillRect(0,yt,this.canvasWidth,wt-ut)}}var Et=this.renderer.session.selection.getCursor();if(Et){var gt=this.compensateFoldRows(Et.row,ft),yt=Math.round((Et.row-gt)*this.lineHeight*this.heightRatio);tt.fillStyle="rgba(0, 0, 0, 0.5)",tt.fillRect(0,yt,this.canvasWidth,2)}},it.prototype.compensateFoldRows=function(j,_){var $=0;if(_&&_.length>0)for(var tt=0;tt<_.length;tt++)j>_[tt].start.row&&j<_[tt].end.row?$+=j-_[tt].start.row:j>=_[tt].end.row&&($+=_[tt].end.row-_[tt].start.row);return $},it}();at.implement(nt.prototype,ot),o.Decorator=nt}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(a,o,rt){var et=a("./lib/oop"),at=a("./lib/dom"),ot=a("./lib/lang"),nt=a("./config"),it=a("./layer/gutter").Gutter,j=a("./layer/marker").Marker,_=a("./layer/text").Text,$=a("./layer/cursor").Cursor,tt=a("./scrollbar").HScrollBar,st=a("./scrollbar").VScrollBar,lt=a("./scrollbar_custom").HScrollBar,ht=a("./scrollbar_custom").VScrollBar,ft=a("./renderloop").RenderLoop,ct=a("./layer/font_metrics").FontMetrics,mt=a("./lib/event_emitter").EventEmitter,gt=a("./css/editor-css"),yt=a("./layer/decorators").Decorator,ut=a("./lib/useragent"),wt=a("./layer/text_util").isTextToken;at.importCssString(gt,"ace_editor.css",!1);var bt=function(){function vt(Et,$t){var Tt=this;this.container=Et||at.createElement("div"),at.addCssClass(this.container,"ace_editor"),at.HI_DPI&&at.addCssClass(this.container,"ace_hidpi"),this.setTheme($t),nt.get("useStrictCSP")==null&&nt.set("useStrictCSP",!1),this.$gutter=at.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=at.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=at.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new it(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new j(this.content);var At=this.$textLayer=new _(this.content);this.canvas=At.element,this.$markerFront=new j(this.content),this.$cursorLayer=new $(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new st(this.container,this),this.scrollBarH=new tt(this.container,this),this.scrollBarV.on("scroll",function(Ct){Tt.$scrollAnimation||Tt.session.setScrollTop(Ct.data-Tt.scrollMargin.top)}),this.scrollBarH.on("scroll",function(Ct){Tt.$scrollAnimation||Tt.session.setScrollLeft(Ct.data-Tt.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new ct(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(Ct){Tt.updateCharacterSize(),Tt.onResize(!0,Tt.gutterWidth,Tt.$size.width,Tt.$size.height),Tt._signal("changeCharacterSize",Ct)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!ut.isIOS,this.$loop=new ft(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),nt.resetOptions(this),nt._signal("renderer",this)}return vt.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),at.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},vt.prototype.setSession=function(Et){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=Et,Et&&this.scrollMargin.top&&Et.getScrollTop()<=0&&Et.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(Et),this.$markerBack.setSession(Et),this.$markerFront.setSession(Et),this.$gutterLayer.setSession(Et),this.$textLayer.setSession(Et),Et&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},vt.prototype.updateLines=function(Et,$t,Tt){if($t===void 0&&($t=1/0),this.$changedLines?(this.$changedLines.firstRow>Et&&(this.$changedLines.firstRow=Et),this.$changedLines.lastRow<$t&&(this.$changedLines.lastRow=$t)):this.$changedLines={firstRow:Et,lastRow:$t},this.$changedLines.lastRow<this.layerConfig.firstRow)if(Tt)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},vt.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},vt.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},vt.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},vt.prototype.updateFull=function(Et){Et?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},vt.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},vt.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},vt.prototype.onResize=function(Et,$t,Tt,At){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=Et?1:0;var Ct=this.container;At||(At=Ct.clientHeight||Ct.scrollHeight),!At&&this.$maxLines&&this.lineHeight>1&&(!Ct.style.height||Ct.style.height=="0px")&&(Ct.style.height="1px",At=Ct.clientHeight||Ct.scrollHeight),Tt||(Tt=Ct.clientWidth||Ct.scrollWidth);var It=this.$updateCachedSize(Et,$t,Tt,At);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!Tt&&!At)return this.resizing=0;Et&&(this.$gutterLayer.$padding=null),Et?this.$renderChanges(It|this.$changes,!0):this.$loop.schedule(It|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},vt.prototype.$updateCachedSize=function(Et,$t,Tt,At){At-=this.$extraHeight||0;var Ct=0,It=this.$size,Lt={width:It.width,height:It.height,scrollerHeight:It.scrollerHeight,scrollerWidth:It.scrollerWidth};if(At&&(Et||It.height!=At)&&(It.height=At,Ct|=this.CHANGE_SIZE,It.scrollerHeight=It.height,this.$horizScroll&&(It.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(It.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",Ct=Ct|this.CHANGE_SCROLL),Tt&&(Et||It.width!=Tt)){Ct|=this.CHANGE_SIZE,It.width=Tt,$t==null&&($t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=$t,at.setStyle(this.scrollBarH.element.style,"left",$t+"px"),at.setStyle(this.scroller.style,"left",$t+this.margin.left+"px"),It.scrollerWidth=Math.max(0,Tt-$t-this.scrollBarV.getWidth()-this.margin.h),at.setStyle(this.$gutter.style,"left",this.margin.left+"px");var Ft=this.scrollBarV.getWidth()+"px";at.setStyle(this.scrollBarH.element.style,"right",Ft),at.setStyle(this.scroller.style,"right",Ft),at.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(It.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||Et)&&(Ct|=this.CHANGE_FULL)}return It.$dirty=!Tt||!At,Ct&&this._signal("resize",Lt),Ct},vt.prototype.onGutterResize=function(Et){var $t=this.$showGutter?Et:0;$t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,$t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},vt.prototype.adjustWrapLimit=function(){var Et=this.$size.scrollerWidth-this.$padding*2,$t=Math.floor(Et/this.characterWidth);return this.session.adjustWrapLimit($t,this.$showPrintMargin&&this.$printMarginColumn)},vt.prototype.setAnimatedScroll=function(Et){this.setOption("animatedScroll",Et)},vt.prototype.getAnimatedScroll=function(){return this.$animatedScroll},vt.prototype.setShowInvisibles=function(Et){this.setOption("showInvisibles",Et),this.session.$bidiHandler.setShowInvisibles(Et)},vt.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},vt.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},vt.prototype.setDisplayIndentGuides=function(Et){this.setOption("displayIndentGuides",Et)},vt.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},vt.prototype.setHighlightIndentGuides=function(Et){this.setOption("highlightIndentGuides",Et)},vt.prototype.setShowPrintMargin=function(Et){this.setOption("showPrintMargin",Et)},vt.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},vt.prototype.setPrintMarginColumn=function(Et){this.setOption("printMarginColumn",Et)},vt.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},vt.prototype.getShowGutter=function(){return this.getOption("showGutter")},vt.prototype.setShowGutter=function(Et){return this.setOption("showGutter",Et)},vt.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},vt.prototype.setFadeFoldWidgets=function(Et){this.setOption("fadeFoldWidgets",Et)},vt.prototype.setHighlightGutterLine=function(Et){this.setOption("highlightGutterLine",Et)},vt.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},vt.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var Et=at.createElement("div");Et.className="ace_layer ace_print-margin-layer",this.$printMarginEl=at.createElement("div"),this.$printMarginEl.className="ace_print-margin",Et.appendChild(this.$printMarginEl),this.content.insertBefore(Et,this.content.firstChild)}var $t=this.$printMarginEl.style;$t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",$t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},vt.prototype.getContainerElement=function(){return this.container},vt.prototype.getMouseEventTarget=function(){return this.scroller},vt.prototype.getTextAreaContainer=function(){return this.container},vt.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var Et=this.textarea.style,$t=this.$composition;if(!this.$keepTextAreaAtCursor&&!$t){at.translate(this.textarea,-100,0);return}var Tt=this.$cursorLayer.$pixelPos;if(Tt){$t&&$t.markerRange&&(Tt=this.$cursorLayer.getPixelPosition($t.markerRange.start,!0));var At=this.layerConfig,Ct=Tt.top,It=Tt.left;Ct-=At.offset;var Lt=$t&&$t.useTextareaForIME||ut.isMobile?this.lineHeight:1;if(Ct<0||Ct>At.height-Lt){at.translate(this.textarea,0,0);return}var Ft=1,Dt=this.$size.height-Lt;if(!$t)Ct+=this.lineHeight;else if($t.useTextareaForIME){var Vt=this.textarea.value;Ft=this.characterWidth*this.session.$getStringScreenWidth(Vt)[0]}else Ct+=this.lineHeight+2;It-=this.scrollLeft,It>this.$size.scrollerWidth-Ft&&(It=this.$size.scrollerWidth-Ft),It+=this.gutterWidth+this.margin.left,at.setStyle(Et,"height",Lt+"px"),at.setStyle(Et,"width",Ft+"px"),at.translate(this.textarea,Math.min(It,this.$size.scrollerWidth-Ft),Math.min(Ct,Dt))}}},vt.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},vt.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},vt.prototype.getLastFullyVisibleRow=function(){var Et=this.layerConfig,$t=Et.lastRow,Tt=this.session.documentToScreenRow($t,0)*Et.lineHeight;return Tt-this.session.getScrollTop()>Et.height-Et.lineHeight?$t-1:$t},vt.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},vt.prototype.setPadding=function(Et){this.$padding=Et,this.$textLayer.setPadding(Et),this.$cursorLayer.setPadding(Et),this.$markerFront.setPadding(Et),this.$markerBack.setPadding(Et),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},vt.prototype.setScrollMargin=function(Et,$t,Tt,At){var Ct=this.scrollMargin;Ct.top=Et|0,Ct.bottom=$t|0,Ct.right=At|0,Ct.left=Tt|0,Ct.v=Ct.top+Ct.bottom,Ct.h=Ct.left+Ct.right,Ct.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-Ct.top),this.updateFull()},vt.prototype.setMargin=function(Et,$t,Tt,At){var Ct=this.margin;Ct.top=Et|0,Ct.bottom=$t|0,Ct.right=At|0,Ct.left=Tt|0,Ct.v=Ct.top+Ct.bottom,Ct.h=Ct.left+Ct.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},vt.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},vt.prototype.setHScrollBarAlwaysVisible=function(Et){this.setOption("hScrollBarAlwaysVisible",Et)},vt.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},vt.prototype.setVScrollBarAlwaysVisible=function(Et){this.setOption("vScrollBarAlwaysVisible",Et)},vt.prototype.$updateScrollBarV=function(){var Et=this.layerConfig.maxHeight,$t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(Et-=($t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>Et-$t&&(Et=this.scrollTop+$t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(Et+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},vt.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},vt.prototype.freeze=function(){this.$frozen=!0},vt.prototype.unfreeze=function(){this.$frozen=!1},vt.prototype.$renderChanges=function(Et,$t){if(this.$changes&&(Et|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!Et&&!$t){this.$changes|=Et;return}if(this.$size.$dirty)return this.$changes|=Et,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",Et),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var Tt=this.layerConfig;if(Et&this.CHANGE_FULL||Et&this.CHANGE_SIZE||Et&this.CHANGE_TEXT||Et&this.CHANGE_LINES||Et&this.CHANGE_SCROLL||Et&this.CHANGE_H_SCROLL){if(Et|=this.$computeLayerConfig()|this.$loop.clear(),Tt.firstRow!=this.layerConfig.firstRow&&Tt.firstRowScreen==this.layerConfig.firstRowScreen){var At=this.scrollTop+(Tt.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;At>0&&(this.scrollTop=At,Et=Et|this.CHANGE_SCROLL,Et|=this.$computeLayerConfig()|this.$loop.clear())}Tt=this.layerConfig,this.$updateScrollBarV(),Et&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),at.translate(this.content,-this.scrollLeft,-Tt.offset);var Ct=Tt.width+2*this.$padding+"px",It=Tt.minHeight+"px";at.setStyle(this.content.style,"width",Ct),at.setStyle(this.content.style,"height",It)}if(Et&this.CHANGE_H_SCROLL&&(at.translate(this.content,-this.scrollLeft,-Tt.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),Et&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(Tt),this.$showGutter&&this.$gutterLayer.update(Tt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Tt),this.$markerBack.update(Tt),this.$markerFront.update(Tt),this.$cursorLayer.update(Tt),this.$moveTextAreaToCursor(),this._signal("afterRender",Et);return}if(Et&this.CHANGE_SCROLL){this.$changedLines=null,Et&this.CHANGE_TEXT||Et&this.CHANGE_LINES?this.$textLayer.update(Tt):this.$textLayer.scrollLines(Tt),this.$showGutter&&(Et&this.CHANGE_GUTTER||Et&this.CHANGE_LINES?this.$gutterLayer.update(Tt):this.$gutterLayer.scrollLines(Tt)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Tt),this.$markerBack.update(Tt),this.$markerFront.update(Tt),this.$cursorLayer.update(Tt),this.$moveTextAreaToCursor(),this._signal("afterRender",Et);return}Et&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(Tt),this.$showGutter&&this.$gutterLayer.update(Tt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Tt)):Et&this.CHANGE_LINES?((this.$updateLines()||Et&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(Tt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Tt)):Et&this.CHANGE_TEXT||Et&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(Tt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Tt)):Et&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(Tt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(Tt)),Et&this.CHANGE_CURSOR&&(this.$cursorLayer.update(Tt),this.$moveTextAreaToCursor()),Et&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(Tt),Et&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(Tt),this._signal("afterRender",Et)},vt.prototype.$autosize=function(){var Et=this.session.getScreenLength()*this.lineHeight,$t=this.$maxLines*this.lineHeight,Tt=Math.min($t,Math.max((this.$minLines||1)*this.lineHeight,Et))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(Tt+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&Tt>this.$maxPixelHeight&&(Tt=this.$maxPixelHeight);var At=Tt<=2*this.lineHeight,Ct=!At&&Et>$t;if(Tt!=this.desiredHeight||this.$size.height!=this.desiredHeight||Ct!=this.$vScroll){Ct!=this.$vScroll&&(this.$vScroll=Ct,this.scrollBarV.setVisible(Ct));var It=this.container.clientWidth;this.container.style.height=Tt+"px",this.$updateCachedSize(!0,this.$gutterWidth,It,Tt),this.desiredHeight=Tt,this._signal("autosize")}},vt.prototype.$computeLayerConfig=function(){var Et=this.session,$t=this.$size,Tt=$t.height<=2*this.lineHeight,At=this.session.getScreenLength(),Ct=At*this.lineHeight,It=this.$getLongestLine(),Lt=!Tt&&(this.$hScrollBarAlwaysVisible||$t.scrollerWidth-It-2*this.$padding<0),Ft=this.$horizScroll!==Lt;Ft&&(this.$horizScroll=Lt,this.scrollBarH.setVisible(Lt));var Dt=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Vt=$t.scrollerHeight+this.lineHeight,Ut=!this.$maxLines&&this.$scrollPastEnd?($t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;Ct+=Ut;var Qt=this.scrollMargin;this.session.setScrollTop(Math.max(-Qt.top,Math.min(this.scrollTop,Ct-$t.scrollerHeight+Qt.bottom))),this.session.setScrollLeft(Math.max(-Qt.left,Math.min(this.scrollLeft,It+2*this.$padding-$t.scrollerWidth+Qt.right)));var Kt=!Tt&&(this.$vScrollBarAlwaysVisible||$t.scrollerHeight-Ct+Ut<0||this.scrollTop>Qt.top),Ht=Dt!==Kt;Ht&&(this.$vScroll=Kt,this.scrollBarV.setVisible(Kt));var qt=this.scrollTop%this.lineHeight,nr=Math.ceil(Vt/this.lineHeight)-1,tr=Math.max(0,Math.round((this.scrollTop-qt)/this.lineHeight)),mr=tr+nr,yr,br,xr=this.lineHeight;tr=Et.screenToDocumentRow(tr,0);var sr=Et.getFoldLine(tr);sr&&(tr=sr.start.row),yr=Et.documentToScreenRow(tr,0),br=Et.getRowLength(tr)*xr,mr=Math.min(Et.screenToDocumentRow(mr,0),Et.getLength()-1),Vt=$t.scrollerHeight+Et.getRowLength(mr)*xr+br,qt=this.scrollTop-yr*xr;var ar=0;return(this.layerConfig.width!=It||Ft)&&(ar=this.CHANGE_H_SCROLL),(Ft||Ht)&&(ar|=this.$updateCachedSize(!0,this.gutterWidth,$t.width,$t.height),this._signal("scrollbarVisibilityChanged"),Ht&&(It=this.$getLongestLine())),this.layerConfig={width:It,padding:this.$padding,firstRow:tr,firstRowScreen:yr,lastRow:mr,lineHeight:xr,characterWidth:this.characterWidth,minHeight:Vt,maxHeight:Ct,offset:qt,gutterOffset:xr?Math.max(0,Math.ceil((qt+$t.height-$t.scrollerHeight)/xr)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(It-this.$padding),ar},vt.prototype.$updateLines=function(){if(this.$changedLines){var Et=this.$changedLines.firstRow,$t=this.$changedLines.lastRow;this.$changedLines=null;var Tt=this.layerConfig;if(!(Et>Tt.lastRow+1)&&!($t<Tt.firstRow)){if($t===1/0){this.$showGutter&&this.$gutterLayer.update(Tt),this.$textLayer.update(Tt);return}return this.$textLayer.updateLines(Tt,Et,$t),!0}}},vt.prototype.$getLongestLine=function(){var Et=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(Et+=1),this.$textLayer&&Et>this.$textLayer.MAX_LINE_LENGTH&&(Et=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(Et*this.characterWidth))},vt.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},vt.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},vt.prototype.addGutterDecoration=function(Et,$t){this.$gutterLayer.addGutterDecoration(Et,$t)},vt.prototype.removeGutterDecoration=function(Et,$t){this.$gutterLayer.removeGutterDecoration(Et,$t)},vt.prototype.updateBreakpoints=function(Et){this._rows=Et,this.$loop.schedule(this.CHANGE_GUTTER)},vt.prototype.setAnnotations=function(Et){this.$gutterLayer.setAnnotations(Et),this.$loop.schedule(this.CHANGE_GUTTER)},vt.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},vt.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},vt.prototype.showCursor=function(){this.$cursorLayer.showCursor()},vt.prototype.scrollSelectionIntoView=function(Et,$t,Tt){this.scrollCursorIntoView(Et,Tt),this.scrollCursorIntoView($t,Tt)},vt.prototype.scrollCursorIntoView=function(Et,$t,Tt){if(this.$size.scrollerHeight!==0){var At=this.$cursorLayer.getPixelPosition(Et),Ct=At.left,It=At.top,Lt=Tt&&Tt.top||0,Ft=Tt&&Tt.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var Dt=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;Dt+Lt>It?($t&&Dt+Lt>It+this.lineHeight&&(It-=$t*this.$size.scrollerHeight),It===0&&(It=-this.scrollMargin.top),this.session.setScrollTop(It)):Dt+this.$size.scrollerHeight-Ft<It+this.lineHeight&&($t&&Dt+this.$size.scrollerHeight-Ft<It-this.lineHeight&&(It+=$t*this.$size.scrollerHeight),this.session.setScrollTop(It+this.lineHeight+Ft-this.$size.scrollerHeight));var Vt=this.scrollLeft,Ut=2*this.layerConfig.characterWidth;Ct-Ut<Vt?(Ct-=Ut,Ct<this.$padding+Ut&&(Ct=-this.scrollMargin.left),this.session.setScrollLeft(Ct)):(Ct+=Ut,Vt+this.$size.scrollerWidth<Ct+this.characterWidth?this.session.setScrollLeft(Math.round(Ct+this.characterWidth-this.$size.scrollerWidth)):Vt<=this.$padding&&Ct-Vt<this.characterWidth&&this.session.setScrollLeft(0))}},vt.prototype.getScrollTop=function(){return this.session.getScrollTop()},vt.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},vt.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},vt.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},vt.prototype.scrollToRow=function(Et){this.session.setScrollTop(Et*this.lineHeight)},vt.prototype.alignCursor=function(Et,$t){typeof Et=="number"&&(Et={row:Et,column:0});var Tt=this.$cursorLayer.getPixelPosition(Et),At=this.$size.scrollerHeight-this.lineHeight,Ct=Tt.top-At*($t||0);return this.session.setScrollTop(Ct),Ct},vt.prototype.$calcSteps=function(Et,$t){var Tt=0,At=this.STEPS,Ct=[],It=function(Lt,Ft,Dt){return Dt*(Math.pow(Lt-1,3)+1)+Ft};for(Tt=0;Tt<At;++Tt)Ct.push(It(Tt/this.STEPS,Et,$t-Et));return Ct},vt.prototype.scrollToLine=function(Et,$t,Tt,At){var Ct=this.$cursorLayer.getPixelPosition({row:Et,column:0}),It=Ct.top;$t&&(It-=this.$size.scrollerHeight/2);var Lt=this.scrollTop;this.session.setScrollTop(It),Tt!==!1&&this.animateScrolling(Lt,At)},vt.prototype.animateScrolling=function(Et,$t){var Tt=this.scrollTop;if(!this.$animatedScroll)return;var At=this;if(Et==Tt)return;if(this.$scrollAnimation){var Ct=this.$scrollAnimation.steps;if(Ct.length&&(Et=Ct[0],Et==Tt))return}var It=At.$calcSteps(Et,Tt);this.$scrollAnimation={from:Et,to:Tt,steps:It},clearInterval(this.$timer),At.session.setScrollTop(It.shift()),At.session.$scrollTop=Tt;function Lt(){At.$timer=clearInterval(At.$timer),At.$scrollAnimation=null,At.$stopAnimation=!1,$t&&$t()}this.$timer=setInterval(function(){if(At.$stopAnimation){Lt();return}if(!At.session)return clearInterval(At.$timer);It.length?(At.session.setScrollTop(It.shift()),At.session.$scrollTop=Tt):Tt!=null?(At.session.$scrollTop=-1,At.session.setScrollTop(Tt),Tt=null):Lt()},10)},vt.prototype.scrollToY=function(Et){this.scrollTop!==Et&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=Et)},vt.prototype.scrollToX=function(Et){this.scrollLeft!==Et&&(this.scrollLeft=Et),this.$loop.schedule(this.CHANGE_H_SCROLL)},vt.prototype.scrollTo=function(Et,$t){this.session.setScrollTop($t),this.session.setScrollLeft(Et)},vt.prototype.scrollBy=function(Et,$t){$t&&this.session.setScrollTop(this.session.getScrollTop()+$t),Et&&this.session.setScrollLeft(this.session.getScrollLeft()+Et)},vt.prototype.isScrollableBy=function(Et,$t){if($t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||$t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||Et<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||Et>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},vt.prototype.pixelToScreenCoordinates=function(Et,$t){var Tt;if(this.$hasCssTransforms){Tt={top:0,left:0};var At=this.$fontMetrics.transformCoordinates([Et,$t]);Et=At[1]-this.gutterWidth-this.margin.left,$t=At[0]}else Tt=this.scroller.getBoundingClientRect();var Ct=Et+this.scrollLeft-Tt.left-this.$padding,It=Ct/this.characterWidth,Lt=Math.floor(($t+this.scrollTop-Tt.top)/this.lineHeight),Ft=this.$blockCursor?Math.floor(It):Math.round(It);return{row:Lt,column:Ft,side:It-Ft>0?1:-1,offsetX:Ct}},vt.prototype.screenToTextCoordinates=function(Et,$t){var Tt;if(this.$hasCssTransforms){Tt={top:0,left:0};var At=this.$fontMetrics.transformCoordinates([Et,$t]);Et=At[1]-this.gutterWidth-this.margin.left,$t=At[0]}else Tt=this.scroller.getBoundingClientRect();var Ct=Et+this.scrollLeft-Tt.left-this.$padding,It=Ct/this.characterWidth,Lt=this.$blockCursor?Math.floor(It):Math.round(It),Ft=Math.floor(($t+this.scrollTop-Tt.top)/this.lineHeight);return this.session.screenToDocumentPosition(Ft,Math.max(Lt,0),Ct)},vt.prototype.textToScreenCoordinates=function(Et,$t){var Tt=this.scroller.getBoundingClientRect(),At=this.session.documentToScreenPosition(Et,$t),Ct=this.$padding+(this.session.$bidiHandler.isBidiRow(At.row,Et)?this.session.$bidiHandler.getPosLeft(At.column):Math.round(At.column*this.characterWidth)),It=At.row*this.lineHeight;return{pageX:Tt.left+Ct-this.scrollLeft,pageY:Tt.top+It-this.scrollTop}},vt.prototype.visualizeFocus=function(){at.addCssClass(this.container,"ace_focus")},vt.prototype.visualizeBlur=function(){at.removeCssClass(this.container,"ace_focus")},vt.prototype.showComposition=function(Et){this.$composition=Et,Et.cssText||(Et.cssText=this.textarea.style.cssText),Et.useTextareaForIME==null&&(Et.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(at.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):Et.markerId=this.session.addMarker(Et.markerRange,"ace_composition_marker","text")},vt.prototype.setCompositionText=function(Et){var $t=this.session.selection.cursor;this.addToken(Et,"composition_placeholder",$t.row,$t.column),this.$moveTextAreaToCursor()},vt.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),at.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var Et=this.session.selection.cursor;this.removeExtraToken(Et.row,Et.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},vt.prototype.setGhostText=function(Et,$t){var Tt=this.session.selection.cursor,At=$t||{row:Tt.row,column:Tt.column};this.removeGhostText();var Ct=this.$calculateWrappedTextChunks(Et,At);this.addToken(Ct[0].text,"ghost_text",At.row,At.column),this.$ghostText={text:Et,position:{row:At.row,column:At.column}};var It=at.createElement("div");if(Ct.length>1){var Lt=this.hideTokensAfterPosition(At.row,At.column),Ft;Ct.slice(1).forEach(function(Ht){var qt=at.createElement("div"),nr=at.createElement("span");nr.className="ace_ghost_text",Ht.wrapped&&(qt.className="ghost_text_line_wrapped"),Ht.text.length===0&&(Ht.text=" "),nr.appendChild(at.createTextNode(Ht.text)),qt.appendChild(nr),It.appendChild(qt),Ft=qt}),Lt.forEach(function(Ht){var qt=at.createElement("span");wt(Ht.type)||(qt.className="ace_"+Ht.type.replace(/\./g," ace_")),qt.appendChild(at.createTextNode(Ht.value)),Ft.appendChild(qt)}),this.$ghostTextWidget={el:It,row:At.row,column:At.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var Dt=this.$cursorLayer.getPixelPosition(At,!0),Vt=this.container,Ut=Vt.getBoundingClientRect().height,Qt=Ct.length*this.lineHeight,Kt=Qt<Ut-Dt.top;if(Kt)return;Qt<Ut?this.scrollBy(0,(Ct.length-1)*this.lineHeight):this.scrollToRow(At.row)}},vt.prototype.$calculateWrappedTextChunks=function(Et,$t){var Tt=this.$size.scrollerWidth-this.$padding*2,At=Math.floor(Tt/this.characterWidth)-2;At=At<=0?60:At;for(var Ct=Et.split(/\r?\n/),It=[],Lt=0;Lt<Ct.length;Lt++){var Ft=this.session.$getDisplayTokens(Ct[Lt],$t.column),Dt=this.session.$computeWrapSplits(Ft,At,this.session.$tabSize);if(Dt.length>0){var Vt=0;Dt.push(Ct[Lt].length);for(var Ut=0;Ut<Dt.length;Ut++){var Qt=Ct[Lt].slice(Vt,Dt[Ut]);It.push({text:Qt,wrapped:!0}),Vt=Dt[Ut]}}else It.push({text:Ct[Lt],wrapped:!1})}return It},vt.prototype.removeGhostText=function(){if(this.$ghostText){var Et=this.$ghostText.position;this.removeExtraToken(Et.row,Et.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},vt.prototype.addToken=function(Et,$t,Tt,At){var Ct=this.session;Ct.bgTokenizer.lines[Tt]=null;var It={type:$t,value:Et},Lt=Ct.getTokens(Tt);if(At==null||!Lt.length)Lt.push(It);else for(var Ft=0,Dt=0;Dt<Lt.length;Dt++){var Vt=Lt[Dt];if(Ft+=Vt.value.length,At<=Ft){var Ut=Vt.value.length-(Ft-At),Qt=Vt.value.slice(0,Ut),Kt=Vt.value.slice(Ut);Lt.splice(Dt,1,{type:Vt.type,value:Qt},It,{type:Vt.type,value:Kt});break}}this.updateLines(Tt,Tt)},vt.prototype.hideTokensAfterPosition=function(Et,$t){for(var Tt=this.session.getTokens(Et),At=0,Ct=!1,It=[],Lt=0;Lt<Tt.length;Lt++){var Ft=Tt[Lt];if(At+=Ft.value.length,Ft.type!=="ghost_text"){if(Ct){It.push({type:Ft.type,value:Ft.value}),Ft.type="hidden_token";continue}At===$t&&(Ct=!0)}}return this.updateLines(Et,Et),It},vt.prototype.removeExtraToken=function(Et,$t){this.session.bgTokenizer.lines[Et]=null,this.updateLines(Et,Et)},vt.prototype.setTheme=function(Et,$t){var Tt=this;if(this.$themeId=Et,Tt._dispatchEvent("themeChange",{theme:Et}),!Et||typeof Et=="string"){var At=Et||this.$options.theme.initialValue;nt.loadModule(["theme",At],Ct)}else Ct(Et);function Ct(It){if(Tt.$themeId!=Et)return $t&&$t();if(!It||!It.cssClass)throw new Error("couldn't load module "+Et+" or it didn't call define");It.$id&&(Tt.$themeId=It.$id),at.importCssString(It.cssText,It.cssClass,Tt.container),Tt.theme&&at.removeCssClass(Tt.container,Tt.theme.cssClass);var Lt="padding"in It?It.padding:"padding"in(Tt.theme||{})?4:Tt.$padding;Tt.$padding&&Lt!=Tt.$padding&&Tt.setPadding(Lt),Tt.$theme=It.cssClass,Tt.theme=It,at.addCssClass(Tt.container,It.cssClass),at.setCssClass(Tt.container,"ace_dark",It.isDark),Tt.$size&&(Tt.$size.width=0,Tt.$updateSizeAsync()),Tt._dispatchEvent("themeLoaded",{theme:It}),$t&&$t(),ut.isSafari&&Tt.scroller&&(Tt.scroller.style.background="red",Tt.scroller.style.background="")}},vt.prototype.getTheme=function(){return this.$themeId},vt.prototype.setStyle=function(Et,$t){at.setCssClass(this.container,Et,$t!==!1)},vt.prototype.unsetStyle=function(Et){at.removeCssClass(this.container,Et)},vt.prototype.setCursorStyle=function(Et){at.setStyle(this.scroller.style,"cursor",Et)},vt.prototype.setMouseCursor=function(Et){at.setStyle(this.scroller.style,"cursor",Et)},vt.prototype.attachToShadowRoot=function(){at.importCssString(gt,"ace_editor.css",this.container)},vt.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},vt.prototype.$updateCustomScrollbar=function(Et){var $t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,Et===!0?(this.scrollBarV=new ht(this.container,this),this.scrollBarH=new lt(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(Tt){$t.$scrollAnimation||$t.session.setScrollTop(Tt.data-$t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(Tt){$t.$scrollAnimation||$t.session.setScrollLeft(Tt.data-$t.scrollMargin.left)}),this.$scrollDecorator=new yt(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new st(this.container,this),this.scrollBarH=new tt(this.container,this),this.scrollBarV.addEventListener("scroll",function(Tt){$t.$scrollAnimation||$t.session.setScrollTop(Tt.data-$t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(Tt){$t.$scrollAnimation||$t.session.setScrollLeft(Tt.data-$t.scrollMargin.left)}))},vt.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var Et=this;this.$resizeTimer=ot.delayedCall(function(){Et.destroyed||Et.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function($t){var Tt=$t[0].contentRect.width,At=$t[0].contentRect.height;Math.abs(Et.$size.width-Tt)>1||Math.abs(Et.$size.height-At)>1?Et.$resizeTimer.delay():Et.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},vt}();bt.prototype.CHANGE_CURSOR=1,bt.prototype.CHANGE_MARKER=2,bt.prototype.CHANGE_GUTTER=4,bt.prototype.CHANGE_SCROLL=8,bt.prototype.CHANGE_LINES=16,bt.prototype.CHANGE_TEXT=32,bt.prototype.CHANGE_SIZE=64,bt.prototype.CHANGE_MARKER_BACK=128,bt.prototype.CHANGE_MARKER_FRONT=256,bt.prototype.CHANGE_FULL=512,bt.prototype.CHANGE_H_SCROLL=1024,bt.prototype.$changes=0,bt.prototype.$padding=null,bt.prototype.$frozen=!1,bt.prototype.STEPS=8,et.implement(bt.prototype,mt),nt.defineOptions(bt.prototype,"renderer",{useResizeObserver:{set:function(vt){!vt&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):vt&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(vt){this.$textLayer.setShowInvisibles(vt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(vt){typeof vt=="number"&&(this.$printMarginColumn=vt),this.$showPrintMargin=!!vt,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(vt){this.$gutter.style.display=vt?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(vt){this.$gutterLayer.$useSvgGutterIcons=vt},initialValue:!1},showFoldedAnnotations:{set:function(vt){this.$gutterLayer.$showFoldedAnnotations=vt},initialValue:!1},fadeFoldWidgets:{set:function(vt){at.setCssClass(this.$gutter,"ace_fade-fold-widgets",vt)},initialValue:!1},showFoldWidgets:{set:function(vt){this.$gutterLayer.setShowFoldWidgets(vt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(vt){this.$textLayer.setDisplayIndentGuides(vt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(vt){this.$textLayer.setHighlightIndentGuides(vt)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(vt){this.$gutterLayer.setHighlightGutterLine(vt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(vt){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(vt){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(vt){typeof vt=="number"&&(vt=vt+"px"),this.container.style.fontSize=vt,this.updateFontSize()},initialValue:12},fontFamily:{set:function(vt){this.container.style.fontFamily=vt,this.updateFontSize()}},maxLines:{set:function(vt){this.updateFull()}},minLines:{set:function(vt){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(vt){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(vt){vt=+vt||0,this.$scrollPastEnd!=vt&&(this.$scrollPastEnd=vt,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(vt){this.$gutterLayer.$fixedWidth=!!vt,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(vt){this.$updateCustomScrollbar(vt)},initialValue:!1},theme:{set:function(vt){this.setTheme(vt)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!ut.isMobile&&!ut.isIE}}),o.VirtualRenderer=bt}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(a,o,rt){var et=a("../lib/oop"),at=a("../lib/net"),ot=a("../lib/event_emitter").EventEmitter,nt=a("../config");function it(tt){var st="importScripts('"+at.qualifyURL(tt)+"');";try{return new Blob([st],{type:"application/javascript"})}catch{var lt=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,ht=new lt;return ht.append(st),ht.getBlob("application/javascript")}}function j(tt){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(nt.get("loadWorkerFromBlob")){var st=it(tt),lt=window.URL||window.webkitURL,ht=lt.createObjectURL(st);return new Worker(ht)}return new Worker(tt)}var _=function(tt){tt.postMessage||(tt=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=tt,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){et.implement(this,ot),this.$createWorkerFromOldConfig=function(tt,st,lt,ht,ft){if(a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),nt.get("packaged")||!a.toUrl)ht=ht||nt.moduleUrl(st,"worker");else{var ct=this.$normalizePath;ht=ht||ct(a.toUrl("ace/worker/worker.js",null,"_"));var mt={};tt.forEach(function(gt){mt[gt]=ct(a.toUrl(gt,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=j(ht),ft&&this.send("importScripts",ft),this.$worker.postMessage({init:!0,tlns:mt,module:st,classname:lt}),this.$worker},this.onMessage=function(tt){var st=tt.data;switch(st.type){case"event":this._signal(st.name,{data:st.data});break;case"call":var lt=this.callbacks[st.id];lt&&(lt(st.data),delete this.callbacks[st.id]);break;case"error":this.reportError(st.data);break;case"log":window.console&&console.log&&console.log.apply(console,st.data);break}},this.reportError=function(tt){window.console&&console.error&&console.error(tt)},this.$normalizePath=function(tt){return at.qualifyURL(tt)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(tt){tt.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(tt,st){this.$worker.postMessage({command:tt,args:st})},this.call=function(tt,st,lt){if(lt){var ht=this.callbackId++;this.callbacks[ht]=lt,st.push(ht)}this.send(tt,st)},this.emit=function(tt,st){try{st.data&&st.data.err&&(st.data.err={message:st.data.err.message,stack:st.data.err.stack,code:st.data.err.code}),this.$worker&&this.$worker.postMessage({event:tt,data:{data:st.data}})}catch(lt){console.error(lt.stack)}},this.attachToDocument=function(tt){this.$doc&&this.terminate(),this.$doc=tt,this.call("setValue",[tt.getValue()]),tt.on("change",this.changeListener,!0)},this.changeListener=function(tt){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),tt.action=="insert"?this.deltaQueue.push(tt.start,tt.lines):this.deltaQueue.push(tt.start,tt.end)},this.$sendDeltaQueue=function(){var tt=this.deltaQueue;tt&&(this.deltaQueue=null,tt.length>50&&tt.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:tt}))}}).call(_.prototype);var $=function(tt,st,lt){var ht=null,ft=!1,ct=Object.create(ot),mt=[],gt=new _({messageBuffer:mt,terminate:function(){},postMessage:function(ut){mt.push(ut),ht&&(ft?setTimeout(yt):yt())}});gt.setEmitSync=function(ut){ft=ut};var yt=function(){var ut=mt.shift();ut.command?ht[ut.command].apply(ht,ut.args):ut.event&&ct._signal(ut.event,ut.data)};return ct.postMessage=function(ut){gt.onMessage({data:ut})},ct.callback=function(ut,wt){this.postMessage({type:"call",id:wt,data:ut})},ct.emit=function(ut,wt){this.postMessage({type:"event",name:ut,data:wt})},nt.loadModule(["worker",st],function(ut){for(ht=new ut[lt](ct);mt.length;)yt()}),gt};o.UIWorkerClient=$,o.WorkerClient=_,o.createWorker=j}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(a,o,rt){var et=a("./range").Range,at=a("./lib/event_emitter").EventEmitter,ot=a("./lib/oop"),nt=function(){function it(j,_,$,tt,st,lt){var ht=this;this.length=_,this.session=j,this.doc=j.getDocument(),this.mainClass=st,this.othersClass=lt,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=tt,this.$onCursorChange=function(){setTimeout(function(){ht.onCursorChange()})},this.$pos=$;var ft=j.getUndoManager().$undoStack||j.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=ft.length,this.setup(),j.selection.on("changeCursor",this.$onCursorChange)}return it.prototype.setup=function(){var j=this,_=this.doc,$=this.session;this.selectionBefore=$.selection.toJSON(),$.selection.inMultiSelectMode&&$.selection.toSingleRange(),this.pos=_.createAnchor(this.$pos.row,this.$pos.column);var tt=this.pos;tt.$insertRight=!0,tt.detach(),tt.markerId=$.addMarker(new et(tt.row,tt.column,tt.row,tt.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(st){var lt=_.createAnchor(st.row,st.column);lt.$insertRight=!0,lt.detach(),j.others.push(lt)}),$.setUndoSelect(!1)},it.prototype.showOtherMarkers=function(){if(!this.othersActive){var j=this.session,_=this;this.othersActive=!0,this.others.forEach(function($){$.markerId=j.addMarker(new et($.row,$.column,$.row,$.column+_.length),_.othersClass,null,!1)})}},it.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var j=0;j<this.others.length;j++)this.session.removeMarker(this.others[j].markerId)}},it.prototype.onUpdate=function(j){if(this.$updating)return this.updateAnchors(j);var _=j;if(_.start.row===_.end.row&&_.start.row===this.pos.row){this.$updating=!0;var $=j.action==="insert"?_.end.column-_.start.column:_.start.column-_.end.column,tt=_.start.column>=this.pos.column&&_.start.column<=this.pos.column+this.length+1,st=_.start.column-this.pos.column;if(this.updateAnchors(j),tt&&(this.length+=$),tt&&!this.session.$fromUndo){if(j.action==="insert")for(var lt=this.others.length-1;lt>=0;lt--){var ht=this.others[lt],ft={row:ht.row,column:ht.column+st};this.doc.insertMergedLines(ft,j.lines)}else if(j.action==="remove")for(var lt=this.others.length-1;lt>=0;lt--){var ht=this.others[lt],ft={row:ht.row,column:ht.column+st};this.doc.remove(new et(ft.row,ft.column,ft.row,ft.column-$))}}this.$updating=!1,this.updateMarkers()}},it.prototype.updateAnchors=function(j){this.pos.onChange(j);for(var _=this.others.length;_--;)this.others[_].onChange(j);this.updateMarkers()},it.prototype.updateMarkers=function(){if(!this.$updating){var j=this,_=this.session,$=function(st,lt){_.removeMarker(st.markerId),st.markerId=_.addMarker(new et(st.row,st.column,st.row,st.column+j.length),lt,null,!1)};$(this.pos,this.mainClass);for(var tt=this.others.length;tt--;)$(this.others[tt],this.othersClass)}},it.prototype.onCursorChange=function(j){if(!(this.$updating||!this.session)){var _=this.session.selection.getCursor();_.row===this.pos.row&&_.column>=this.pos.column&&_.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",j)):(this.hideOtherMarkers(),this._emit("cursorLeave",j))}},it.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},it.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var j=this.session.getUndoManager(),_=(j.$undoStack||j.$undostack).length-this.$undoStackDepth,$=0;$<_;$++)j.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},it}();ot.implement(nt.prototype,at),o.PlaceHolder=nt}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,o,rt){var et=a("../lib/event"),at=a("../lib/useragent");function ot(it,j){return it.row==j.row&&it.column==j.column}function nt(it){var j=it.domEvent,_=j.altKey,$=j.shiftKey,tt=j.ctrlKey,st=it.getAccelKey(),lt=it.getButton();if(tt&&at.isMac&&(lt=j.button),it.editor.inMultiSelectMode&&lt==2){it.editor.textInput.onContextMenu(it.domEvent);return}if(!tt&&!_&&!st){lt===0&&it.editor.inMultiSelectMode&&it.editor.exitMultiSelectMode();return}if(lt===0){var ht=it.editor,ft=ht.selection,ct=ht.inMultiSelectMode,mt=it.getDocumentPosition(),gt=ft.getCursor(),yt=it.inSelection()||ft.isEmpty()&&ot(mt,gt),ut=it.x,wt=it.y,bt=function(Qt){ut=Qt.clientX,wt=Qt.clientY},vt=ht.session,Et=ht.renderer.pixelToScreenCoordinates(ut,wt),$t=Et,Tt;if(ht.$mouseHandler.$enableJumpToDef)tt&&_||st&&_?Tt=$?"block":"add":_&&ht.$blockSelectEnabled&&(Tt="block");else if(st&&!_){if(Tt="add",!ct&&$)return}else _&&ht.$blockSelectEnabled&&(Tt="block");if(Tt&&at.isMac&&j.ctrlKey&&ht.$mouseHandler.cancelContextMenu(),Tt=="add"){if(!ct&&yt)return;if(!ct){var At=ft.toOrientedRange();ht.addSelectionMarker(At)}var Ct=ft.rangeList.rangeAtPoint(mt);ht.inVirtualSelectionMode=!0,$&&(Ct=null,At=ft.ranges[0]||At,ht.removeSelectionMarker(At)),ht.once("mouseup",function(){var Qt=ft.toOrientedRange();Ct&&Qt.isEmpty()&&ot(Ct.cursor,Qt.cursor)?ft.substractPoint(Qt.cursor):($?ft.substractPoint(At.cursor):At&&(ht.removeSelectionMarker(At),ft.addRange(At)),ft.addRange(Qt)),ht.inVirtualSelectionMode=!1})}else if(Tt=="block"){it.stop(),ht.inVirtualSelectionMode=!0;var It,Lt=[],Ft=function(){var Qt=ht.renderer.pixelToScreenCoordinates(ut,wt),Kt=vt.screenToDocumentPosition(Qt.row,Qt.column,Qt.offsetX);ot($t,Qt)&&ot(Kt,ft.lead)||($t=Qt,ht.selection.moveToPosition(Kt),ht.renderer.scrollCursorIntoView(),ht.removeSelectionMarkers(Lt),Lt=ft.rectangularRangeBlock($t,Et),ht.$mouseHandler.$clickSelection&&Lt.length==1&&Lt[0].isEmpty()&&(Lt[0]=ht.$mouseHandler.$clickSelection.clone()),Lt.forEach(ht.addSelectionMarker,ht),ht.updateSelectionMarkers())};ct&&!st?ft.toSingleRange():!ct&&st&&(It=ft.toOrientedRange(),ht.addSelectionMarker(It)),$?Et=vt.documentToScreenPosition(ft.lead):ft.moveToPosition(mt),$t={row:-1,column:-1};var Dt=function(Qt){Ft(),clearInterval(Ut),ht.removeSelectionMarkers(Lt),Lt.length||(Lt=[ft.toOrientedRange()]),It&&(ht.removeSelectionMarker(It),ft.toSingleRange(It));for(var Kt=0;Kt<Lt.length;Kt++)ft.addRange(Lt[Kt]);ht.inVirtualSelectionMode=!1,ht.$mouseHandler.$clickSelection=null},Vt=Ft;et.capture(ht.container,bt,Dt);var Ut=setInterval(function(){Vt()},20);return it.preventDefault()}}}o.onMouseDown=nt}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(a,o,rt){o.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(at){at.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(at){at.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(at){at.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(at){at.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(at){at.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(at){at.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(at){at.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(at){at.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(at){at.multiSelect.rangeCount>1?at.multiSelect.joinSelections():at.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(at){at.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(at){at.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(at){at.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],o.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(at){at.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(at){return at&&at.inMultiSelectMode}}];var et=a("../keyboard/hash_handler").HashHandler;o.keyboardHandler=new et(o.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(a,o,rt){var et=a("./range_list").RangeList,at=a("./range").Range,ot=a("./selection").Selection,nt=a("./mouse/multi_select_handler").onMouseDown,it=a("./lib/event"),j=a("./lib/lang"),_=a("./commands/multi_select_commands");o.commands=_.defaultCommands.concat(_.multiSelectCommands);var $=a("./search").Search,tt=new $;function st(gt,yt,ut){return tt.$options.wrap=!0,tt.$options.needle=yt,tt.$options.backwards=ut==-1,tt.find(gt)}var lt=a("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(lt.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(gt,yt){if(gt){if(!this.inMultiSelectMode&&this.rangeCount===0){var ut=this.toOrientedRange();if(this.rangeList.add(ut),this.rangeList.add(gt),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),yt||this.fromOrientedRange(gt);this.rangeList.removeAll(),this.rangeList.add(ut),this.$onAddRange(ut)}gt.cursor||(gt.cursor=gt.end);var wt=this.rangeList.add(gt);return this.$onAddRange(gt),wt.length&&this.$onRemoveRange(wt),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),yt||this.fromOrientedRange(gt)}},this.toSingleRange=function(gt){gt=gt||this.ranges[0];var yt=this.rangeList.removeAll();yt.length&&this.$onRemoveRange(yt),gt&&this.fromOrientedRange(gt)},this.substractPoint=function(gt){var yt=this.rangeList.substractPoint(gt);if(yt)return this.$onRemoveRange(yt),yt[0]},this.mergeOverlappingRanges=function(){var gt=this.rangeList.merge();gt.length&&this.$onRemoveRange(gt)},this.$onAddRange=function(gt){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(gt),this._signal("addRange",{range:gt})},this.$onRemoveRange=function(gt){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var yt=this.rangeList.ranges.pop();gt.push(yt),this.rangeCount=0}for(var ut=gt.length;ut--;){var wt=this.ranges.indexOf(gt[ut]);this.ranges.splice(wt,1)}this._signal("removeRange",{ranges:gt}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),yt=yt||this.ranges[0],yt&&!yt.isEqual(this.getRange())&&this.fromOrientedRange(yt)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new et,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var gt=this.ranges.length?this.ranges:[this.getRange()],yt=[],ut=0;ut<gt.length;ut++){var wt=gt[ut],bt=wt.start.row,vt=wt.end.row;if(bt===vt)yt.push(wt.clone());else{for(yt.push(new at(bt,wt.start.column,bt,this.session.getLine(bt).length));++bt<vt;)yt.push(this.getLineRange(bt,!0));yt.push(new at(vt,0,vt,wt.end.column))}ut==0&&!this.isBackwards()&&(yt=yt.reverse())}this.toSingleRange();for(var ut=yt.length;ut--;)this.addRange(yt[ut])},this.joinSelections=function(){var gt=this.rangeList.ranges,yt=gt[gt.length-1],ut=at.fromPoints(gt[0].start,yt.end);this.toSingleRange(),this.setSelectionRange(ut,yt.cursor==yt.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var gt=this.rangeList.ranges,yt=gt[gt.length-1],ut=at.fromPoints(gt[0].start,yt.end);this.toSingleRange(),this.setSelectionRange(ut,yt.cursor==yt.start)}else{var wt=this.session.documentToScreenPosition(this.cursor),bt=this.session.documentToScreenPosition(this.anchor),vt=this.rectangularRangeBlock(wt,bt);vt.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(gt,yt,ut){var wt=[],bt=gt.column<yt.column;if(bt)var vt=gt.column,Et=yt.column,$t=gt.offsetX,Tt=yt.offsetX;else var vt=yt.column,Et=gt.column,$t=yt.offsetX,Tt=gt.offsetX;var At=gt.row<yt.row;if(At)var Ct=gt.row,It=yt.row;else var Ct=yt.row,It=gt.row;vt<0&&(vt=0),Ct<0&&(Ct=0),Ct==It&&(ut=!0);for(var Lt,Ft=Ct;Ft<=It;Ft++){var Dt=at.fromPoints(this.session.screenToDocumentPosition(Ft,vt,$t),this.session.screenToDocumentPosition(Ft,Et,Tt));if(Dt.isEmpty()){if(Lt&&ft(Dt.end,Lt))break;Lt=Dt.end}Dt.cursor=bt?Dt.start:Dt.end,wt.push(Dt)}if(At&&wt.reverse(),!ut){for(var Vt=wt.length-1;wt[Vt].isEmpty()&&Vt>0;)Vt--;if(Vt>0)for(var Ut=0;wt[Ut].isEmpty();)Ut++;for(var Qt=Vt;Qt>=Ut;Qt--)wt[Qt].isEmpty()&&wt.splice(Qt,1)}return wt}}).call(ot.prototype);var ht=a("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(gt){gt.cursor||(gt.cursor=gt.end);var yt=this.getSelectionStyle();return gt.marker=this.session.addMarker(gt,"ace_selection",yt),this.session.$selectionMarkers.push(gt),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,gt},this.removeSelectionMarker=function(gt){if(gt.marker){this.session.removeMarker(gt.marker);var yt=this.session.$selectionMarkers.indexOf(gt);yt!=-1&&this.session.$selectionMarkers.splice(yt,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(gt){for(var yt=this.session.$selectionMarkers,ut=gt.length;ut--;){var wt=gt[ut];if(wt.marker){this.session.removeMarker(wt.marker);var bt=yt.indexOf(wt);bt!=-1&&yt.splice(bt,1)}}this.session.selectionMarkerCount=yt.length},this.$onAddRange=function(gt){this.addSelectionMarker(gt.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(gt){this.removeSelectionMarkers(gt.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(gt){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(_.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(gt){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(_.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(gt){var yt=gt.command,ut=gt.editor;if(ut.multiSelect){if(yt.multiSelectAction)yt.multiSelectAction=="forEach"?wt=ut.forEachSelection(yt,gt.args):yt.multiSelectAction=="forEachLine"?wt=ut.forEachSelection(yt,gt.args,!0):yt.multiSelectAction=="single"?(ut.exitMultiSelectMode(),wt=yt.exec(ut,gt.args||{})):wt=yt.multiSelectAction(ut,gt.args||{});else{var wt=yt.exec(ut,gt.args||{});ut.multiSelect.addRange(ut.multiSelect.toOrientedRange()),ut.multiSelect.mergeOverlappingRanges()}return wt}},this.forEachSelection=function(gt,yt,ut){if(!this.inVirtualSelectionMode){var wt=ut&&ut.keepOrder,bt=ut==!0||ut&&ut.$byLines,vt=this.session,Et=this.selection,$t=Et.rangeList,Tt=(wt?Et:$t).ranges,At;if(!Tt.length)return gt.exec?gt.exec(this,yt||{}):gt(this,yt||{});var Ct=Et._eventRegistry;Et._eventRegistry={};var It=new ot(vt);this.inVirtualSelectionMode=!0;for(var Lt=Tt.length;Lt--;){if(bt)for(;Lt>0&&Tt[Lt].start.row==Tt[Lt-1].end.row;)Lt--;It.fromOrientedRange(Tt[Lt]),It.index=Lt,this.selection=vt.selection=It;var Ft=gt.exec?gt.exec(this,yt||{}):gt(this,yt||{});!At&&Ft!==void 0&&(At=Ft),It.toOrientedRange(Tt[Lt])}It.detach(),this.selection=vt.selection=Et,this.inVirtualSelectionMode=!1,Et._eventRegistry=Ct,Et.mergeOverlappingRanges(),Et.ranges[0]&&Et.fromOrientedRange(Et.ranges[0]);var Dt=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Dt&&Dt.from==Dt.to&&this.renderer.animateScrolling(Dt.from),At}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var gt="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var yt=this.multiSelect.rangeList.ranges,ut=[],wt=0;wt<yt.length;wt++)ut.push(this.session.getTextRange(yt[wt]));var bt=this.session.getDocument().getNewLineCharacter();gt=ut.join(bt),gt.length==(ut.length-1)*bt.length&&(gt="")}else this.selection.isEmpty()||(gt=this.session.getTextRange(this.getSelectionRange()));return gt},this.$checkMultiselectChange=function(gt,yt){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var ut=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&yt==this.multiSelect.anchor)return;var wt=yt==this.multiSelect.anchor?ut.cursor==ut.start?ut.end:ut.start:ut.cursor;wt.row!=yt.row||this.session.$clipPositionToDocument(wt.row,wt.column).column!=yt.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(gt,yt,ut){if(yt=yt||{},yt.needle=gt||yt.needle,yt.needle==null){var wt=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();yt.needle=this.session.getTextRange(wt)}this.$search.set(yt);var bt=this.$search.findAll(this.session);if(!bt.length)return 0;var vt=this.multiSelect;ut||vt.toSingleRange(bt[0]);for(var Et=bt.length;Et--;)vt.addRange(bt[Et],!0);return wt&&vt.rangeList.rangeAtPoint(wt.start)&&vt.addRange(wt,!0),bt.length},this.selectMoreLines=function(gt,yt){var ut=this.selection.toOrientedRange(),wt=ut.cursor==ut.end,bt=this.session.documentToScreenPosition(ut.cursor);this.selection.$desiredColumn&&(bt.column=this.selection.$desiredColumn);var vt=this.session.screenToDocumentPosition(bt.row+gt,bt.column);if(ut.isEmpty())var $t=vt;else var Et=this.session.documentToScreenPosition(wt?ut.end:ut.start),$t=this.session.screenToDocumentPosition(Et.row+gt,Et.column);if(wt){var Tt=at.fromPoints(vt,$t);Tt.cursor=Tt.start}else{var Tt=at.fromPoints($t,vt);Tt.cursor=Tt.end}if(Tt.desiredColumn=bt.column,!this.selection.inMultiSelectMode)this.selection.addRange(ut);else if(yt)var At=ut.cursor;this.selection.addRange(Tt),At&&this.selection.substractPoint(At)},this.transposeSelections=function(gt){for(var yt=this.session,ut=yt.multiSelect,wt=ut.ranges,bt=wt.length;bt--;){var vt=wt[bt];if(vt.isEmpty()){var Et=yt.getWordRange(vt.start.row,vt.start.column);vt.start.row=Et.start.row,vt.start.column=Et.start.column,vt.end.row=Et.end.row,vt.end.column=Et.end.column}}ut.mergeOverlappingRanges();for(var $t=[],bt=wt.length;bt--;){var vt=wt[bt];$t.unshift(yt.getTextRange(vt))}gt<0?$t.unshift($t.pop()):$t.push($t.shift());for(var bt=wt.length;bt--;){var vt=wt[bt],Tt=vt.clone();yt.replace(vt,$t[bt]),vt.start.row=Tt.start.row,vt.start.column=Tt.start.column}ut.fromOrientedRange(ut.ranges[0])},this.selectMore=function(gt,yt,ut){var wt=this.session,bt=wt.multiSelect,vt=bt.toOrientedRange();if(!(vt.isEmpty()&&(vt=wt.getWordRange(vt.start.row,vt.start.column),vt.cursor=gt==-1?vt.start:vt.end,this.multiSelect.addRange(vt),ut))){var Et=wt.getTextRange(vt),$t=st(wt,Et,gt);$t&&($t.cursor=gt==-1?$t.start:$t.end,this.session.unfold($t),this.multiSelect.addRange($t),this.renderer.scrollCursorIntoView(null,.5)),yt&&this.multiSelect.substractPoint(vt.cursor)}},this.alignCursors=function(){var gt=this.session,yt=gt.multiSelect,ut=yt.ranges,wt=-1,bt=ut.filter(function(Vt){if(Vt.cursor.row==wt)return!0;wt=Vt.cursor.row});if(!ut.length||bt.length==ut.length-1){var vt=this.selection.getRange(),Et=vt.start.row,$t=vt.end.row,Tt=Et==$t;if(Tt){var At=this.session.getLength(),Ct;do Ct=this.session.getLine($t);while(/[=:]/.test(Ct)&&++$t<At);do Ct=this.session.getLine(Et);while(/[=:]/.test(Ct)&&--Et>0);Et<0&&(Et=0),$t>=At&&($t=At-1)}var It=this.session.removeFullLines(Et,$t);It=this.$reAlignText(It,Tt),this.session.insert({row:Et,column:0},It.join(`
`)+`
`),Tt||(vt.start.column=0,vt.end.column=It[It.length-1].length),this.selection.setRange(vt)}else{bt.forEach(function(Vt){yt.substractPoint(Vt.cursor)});var Lt=0,Ft=1/0,Dt=ut.map(function(Vt){var Ut=Vt.cursor,Qt=gt.getLine(Ut.row),Kt=Qt.substr(Ut.column).search(/\S/g);return Kt==-1&&(Kt=0),Ut.column>Lt&&(Lt=Ut.column),Kt<Ft&&(Ft=Kt),Kt});ut.forEach(function(Vt,Ut){var Qt=Vt.cursor,Kt=Lt-Qt.column,Ht=Dt[Ut]-Ft;Kt>Ht?gt.insert(Qt,j.stringRepeat(" ",Kt-Ht)):gt.remove(new at(Qt.row,Qt.column,Qt.row,Qt.column-Kt+Ht)),Vt.start.column=Vt.end.column=Lt,Vt.start.row=Vt.end.row=Qt.row,Vt.cursor=Vt.end}),yt.fromOrientedRange(ut[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(gt,yt){var ut=!0,wt=!0,bt,vt,Et;return gt.map(function(It){var Lt=It.match(/(\s*)(.*?)(\s*)([=:].*)/);return Lt?bt==null?(bt=Lt[1].length,vt=Lt[2].length,Et=Lt[3].length,Lt):(bt+vt+Et!=Lt[1].length+Lt[2].length+Lt[3].length&&(wt=!1),bt!=Lt[1].length&&(ut=!1),bt>Lt[1].length&&(bt=Lt[1].length),vt<Lt[2].length&&(vt=Lt[2].length),Et>Lt[3].length&&(Et=Lt[3].length),Lt):[It]}).map(yt?Tt:ut?wt?At:Tt:Ct);function $t(It){return j.stringRepeat(" ",It)}function Tt(It){return It[2]?$t(bt)+It[2]+$t(vt-It[2].length+Et)+It[4].replace(/^([=:])\s+/,"$1 "):It[0]}function At(It){return It[2]?$t(bt+vt-It[2].length)+It[2]+$t(Et)+It[4].replace(/^([=:])\s+/,"$1 "):It[0]}function Ct(It){return It[2]?$t(bt)+It[2]+$t(Et)+It[4].replace(/^([=:])\s+/,"$1 "):It[0]}}}).call(ht.prototype);function ft(gt,yt){return gt.row==yt.row&&gt.column==yt.column}o.onSessionChange=function(gt){var yt=gt.session;yt&&!yt.multiSelect&&(yt.$selectionMarkers=[],yt.selection.$initRangeList(),yt.multiSelect=yt.selection),this.multiSelect=yt&&yt.multiSelect;var ut=gt.oldSession;ut&&(ut.multiSelect.off("addRange",this.$onAddRange),ut.multiSelect.off("removeRange",this.$onRemoveRange),ut.multiSelect.off("multiSelect",this.$onMultiSelect),ut.multiSelect.off("singleSelect",this.$onSingleSelect),ut.multiSelect.lead.off("change",this.$checkMultiselectChange),ut.multiSelect.anchor.off("change",this.$checkMultiselectChange)),yt&&(yt.multiSelect.on("addRange",this.$onAddRange),yt.multiSelect.on("removeRange",this.$onRemoveRange),yt.multiSelect.on("multiSelect",this.$onMultiSelect),yt.multiSelect.on("singleSelect",this.$onSingleSelect),yt.multiSelect.lead.on("change",this.$checkMultiselectChange),yt.multiSelect.anchor.on("change",this.$checkMultiselectChange)),yt&&this.inMultiSelectMode!=yt.selection.inMultiSelectMode&&(yt.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function ct(gt){gt.$multiselectOnSessionChange||(gt.$onAddRange=gt.$onAddRange.bind(gt),gt.$onRemoveRange=gt.$onRemoveRange.bind(gt),gt.$onMultiSelect=gt.$onMultiSelect.bind(gt),gt.$onSingleSelect=gt.$onSingleSelect.bind(gt),gt.$multiselectOnSessionChange=o.onSessionChange.bind(gt),gt.$checkMultiselectChange=gt.$checkMultiselectChange.bind(gt),gt.$multiselectOnSessionChange(gt),gt.on("changeSession",gt.$multiselectOnSessionChange),gt.on("mousedown",nt),gt.commands.addCommands(_.defaultCommands),mt(gt))}function mt(gt){if(!gt.textInput)return;var yt=gt.textInput.getElement(),ut=!1;it.addListener(yt,"keydown",function(bt){var vt=bt.keyCode==18&&!(bt.ctrlKey||bt.shiftKey||bt.metaKey);gt.$blockSelectEnabled&&vt?ut||(gt.renderer.setMouseCursor("crosshair"),ut=!0):ut&&wt()},gt),it.addListener(yt,"keyup",wt,gt),it.addListener(yt,"blur",wt,gt);function wt(bt){ut&&(gt.renderer.setMouseCursor(""),ut=!1)}}o.MultiSelect=ct,a("./config").defineOptions(ht.prototype,"editor",{enableMultiselect:{set:function(gt){ct(this),gt?this.on("mousedown",nt):this.off("mousedown",nt)},value:!0},enableBlockSelect:{set:function(gt){this.$blockSelectEnabled=gt},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(a,o,rt){var et=a("../../range").Range,at=o.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(ot,nt,it){var j=ot.getLine(it);return this.foldingStartMarker.test(j)?"start":nt=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(j)?"end":""},this.getFoldWidgetRange=function(ot,nt,it){return null},this.indentationBlock=function(ot,nt,it){var j=/\S/,_=ot.getLine(nt),$=_.search(j);if($!=-1){for(var tt=it||_.length,st=ot.getLength(),lt=nt,ht=nt;++nt<st;){var ft=ot.getLine(nt).search(j);if(ft!=-1){if(ft<=$){var ct=ot.getTokenAt(nt,0);if(!ct||ct.type!=="string")break}ht=nt}}if(ht>lt){var mt=ot.getLine(ht).length;return new et(lt,tt,ht,mt)}}},this.openingBracketBlock=function(ot,nt,it,j,_){var $={row:it,column:j+1},tt=ot.$findClosingBracket(nt,$,_);if(tt){var st=ot.foldWidgets[tt.row];return st==null&&(st=ot.getFoldWidget(tt.row)),st=="start"&&tt.row>$.row&&(tt.row--,tt.column=ot.getLine(tt.row).length),et.fromPoints($,tt)}},this.closingBracketBlock=function(ot,nt,it,j,_){var $={row:it,column:j},tt=ot.$findOpeningBracket(nt,$);if(tt)return tt.column++,$.column--,et.fromPoints(tt,$)}}).call(at.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(a,o,rt){var et=a("../line_widgets").LineWidgets,at=a("../lib/dom"),ot=a("../range").Range,nt=a("../config").nls;function it(_,$,tt){for(var st=0,lt=_.length-1;st<=lt;){var ht=st+lt>>1,ft=tt($,_[ht]);if(ft>0)st=ht+1;else if(ft<0)lt=ht-1;else return ht}return-(st+1)}function j(_,$,tt){var st=_.getAnnotations().sort(ot.comparePoints);if(st.length){var lt=it(st,{row:$,column:-1},ot.comparePoints);lt<0&&(lt=-lt-1),lt>=st.length?lt=tt>0?0:st.length-1:lt===0&&tt<0&&(lt=st.length-1);var ht=st[lt];if(!(!ht||!tt)){if(ht.row===$){do ht=st[lt+=tt];while(ht&&ht.row===$);if(!ht)return st.slice()}var ft=[];$=ht.row;do ft[tt<0?"unshift":"push"](ht),ht=st[lt+=tt];while(ht&&ht.row==$);return ft.length&&ft}}}o.showErrorMarker=function(_,$){var tt=_.session;tt.widgetManager||(tt.widgetManager=new et(tt),tt.widgetManager.attach(_));var st=_.getCursorPosition(),lt=st.row,ht=tt.widgetManager.getWidgetsAtRow(lt).filter(function(vt){return vt.type=="errorMarker"})[0];ht?ht.destroy():lt-=$;var ft=j(tt,lt,$),ct;if(ft){var mt=ft[0];st.column=(mt.pos&&typeof mt.column!="number"?mt.pos.sc:mt.column)||0,st.row=mt.row,ct=_.renderer.$gutterLayer.$annotations[st.row]}else{if(ht)return;ct={displayText:[nt("error-marker.good-state","Looks good!")],className:"ace_ok"}}_.session.unfold(st.row),_.selection.moveToPosition(st);var gt={row:st.row,fixedWidth:!0,coverGutter:!0,el:at.createElement("div"),type:"errorMarker"},yt=gt.el.appendChild(at.createElement("div")),ut=gt.el.appendChild(at.createElement("div"));ut.className="error_widget_arrow "+ct.className;var wt=_.renderer.$cursorLayer.getPixelPosition(st).left;ut.style.left=wt+_.renderer.gutterWidth-5+"px",gt.el.className="error_widget_wrapper",yt.className="error_widget "+ct.className,ct.displayText.forEach(function(vt,Et){yt.appendChild(at.createTextNode(vt)),Et<ct.displayText.length-1&&yt.appendChild(at.createElement("br"))}),yt.appendChild(at.createElement("div"));var bt=function(vt,Et,$t){if(Et===0&&($t==="esc"||$t==="return"))return gt.destroy(),{command:"null"}};gt.destroy=function(){_.$mouseHandler.isMousePressed||(_.keyBinding.removeKeyboardHandler(bt),tt.widgetManager.removeLineWidget(gt),_.off("changeSelection",gt.destroy),_.off("changeSession",gt.destroy),_.off("mouseup",gt.destroy),_.off("change",gt.destroy))},_.keyBinding.addKeyboardHandler(bt),_.on("changeSelection",gt.destroy),_.on("changeSession",gt.destroy),_.on("mouseup",gt.destroy),_.on("change",gt.destroy),_.session.widgetManager.addLineWidget(gt),gt.el.onmousedown=_.focus.bind(_),_.renderer.scrollCursorIntoView(null,.5,{bottom:gt.el.offsetHeight})},at.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(a,o,rt){a("./loader_build")(o);var et=a("./lib/dom"),at=a("./range").Range,ot=a("./editor").Editor,nt=a("./edit_session").EditSession,it=a("./undomanager").UndoManager,j=a("./virtual_renderer").VirtualRenderer;a("./worker/worker_client"),a("./keyboard/hash_handler"),a("./placeholder"),a("./multi_select"),a("./mode/folding/fold_mode"),a("./theme/textmate"),a("./ext/error_marker"),o.config=a("./config"),o.edit=function(_,$){if(typeof _=="string"){var tt=_;if(_=document.getElementById(tt),!_)throw new Error("ace.edit can't find div #"+tt)}if(_&&_.env&&_.env.editor instanceof ot)return _.env.editor;var st="";if(_&&/input|textarea/i.test(_.tagName)){var lt=_;st=lt.value,_=et.createElement("pre"),lt.parentNode.replaceChild(_,lt)}else _&&(st=_.textContent,_.innerHTML="");var ht=o.createEditSession(st),ft=new ot(new j(_),ht,$),ct={document:ht,editor:ft,onResize:ft.resize.bind(ft,null)};return lt&&(ct.textarea=lt),ft.on("destroy",function(){ct.editor.container.env=null}),ft.container.env=ft.env=ct,ft},o.createEditSession=function(_,$){var tt=new nt(_,$);return tt.setUndoManager(new it),tt},o.Range=at,o.Editor=ot,o.EditSession=nt,o.UndoManager=it,o.VirtualRenderer=j,o.version=o.config.version}),function(){ace.require(["ace/ace"],function(a){a&&(a.config.init(!0),a.define=ace.define);var o=function(){return this}();!o&&typeof window<"u"&&(o=window),!o&&typeof self<"u"&&(o=self),o.ace||(o.ace=a);for(var rt in a)a.hasOwnProperty(rt)&&(o.ace[rt]=a[rt]);o.ace.default=o.ace,i&&(i.exports=o.ace)})}()})(ace$3);var aceExports=ace$3.exports,lodash_isequal={exports:{}};lodash_isequal.exports;(function(i,s){var a=200,o="__lodash_hash_undefined__",rt=1,et=2,at=9007199254740991,ot="[object Arguments]",nt="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",tt="[object Function]",st="[object GeneratorFunction]",lt="[object Map]",ht="[object Number]",ft="[object Null]",ct="[object Object]",mt="[object Promise]",gt="[object Proxy]",yt="[object RegExp]",ut="[object Set]",wt="[object String]",bt="[object Symbol]",vt="[object Undefined]",Et="[object WeakMap]",$t="[object ArrayBuffer]",Tt="[object DataView]",At="[object Float32Array]",Ct="[object Float64Array]",It="[object Int8Array]",Lt="[object Int16Array]",Ft="[object Int32Array]",Dt="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Ut="[object Uint16Array]",Qt="[object Uint32Array]",Kt=/[\\^$.*+?()[\]{}|]/g,Ht=/^\[object .+?Constructor\]$/,qt=/^(?:0|[1-9]\d*)$/,nr={};nr[At]=nr[Ct]=nr[It]=nr[Lt]=nr[Ft]=nr[Dt]=nr[Vt]=nr[Ut]=nr[Qt]=!0,nr[ot]=nr[nt]=nr[$t]=nr[j]=nr[Tt]=nr[_]=nr[$]=nr[tt]=nr[lt]=nr[ht]=nr[ct]=nr[yt]=nr[ut]=nr[wt]=nr[Et]=!1;var tr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,mr=typeof self=="object"&&self&&self.Object===Object&&self,yr=tr||mr||Function("return this")(),br=s&&!s.nodeType&&s,xr=br&&!0&&i&&!i.nodeType&&i,sr=xr&&xr.exports===br,ar=sr&&tr.process,rr=function(){try{return ar&&ar.binding&&ar.binding("util")}catch{}}(),Cr=rr&&rr.isTypedArray;function kr(lr,jt){for(var or=-1,dr=lr==null?0:lr.length,Hr=0,Qr=[];++or<dr;){var pn=lr[or];jt(pn,or,lr)&&(Qr[Hr++]=pn)}return Qr}function vr(lr,jt){for(var or=-1,dr=jt.length,Hr=lr.length;++or<dr;)lr[Hr+or]=jt[or];return lr}function Gr(lr,jt){for(var or=-1,dr=lr==null?0:lr.length;++or<dr;)if(jt(lr[or],or,lr))return!0;return!1}function an(lr,jt){for(var or=-1,dr=Array(lr);++or<lr;)dr[or]=jt(or);return dr}function hn(lr){return function(jt){return lr(jt)}}function Mn(lr,jt){return lr.has(jt)}function Bn(lr,jt){return lr==null?void 0:lr[jt]}function An(lr){var jt=-1,or=Array(lr.size);return lr.forEach(function(dr,Hr){or[++jt]=[Hr,dr]}),or}function dn(lr,jt){return function(or){return lr(jt(or))}}function Yn(lr){var jt=-1,or=Array(lr.size);return lr.forEach(function(dr){or[++jt]=dr}),or}var Dn=Array.prototype,Tr=Function.prototype,Br=Object.prototype,Ar=yr["__core-js_shared__"],fn=Tr.toString,er=Br.hasOwnProperty,Yt=function(){var lr=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||"");return lr?"Symbol(src)_1."+lr:""}(),fr=Br.toString,Dr=RegExp("^"+fn.call(er).replace(Kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=sr?yr.Buffer:void 0,$r=yr.Symbol,Ir=yr.Uint8Array,Xr=Br.propertyIsEnumerable,un=Dn.splice,Fr=$r?$r.toStringTag:void 0,qr=Object.getOwnPropertySymbols,Wr=Ur?Ur.isBuffer:void 0,zr=dn(Object.keys,Object),ln=_i(yr,"DataView"),Er=_i(yr,"Map"),mn=_i(yr,"Promise"),Ss=_i(yr,"Set"),ws=_i(yr,"WeakMap"),Xn=_i(Object,"create"),qn=pt(ln),Ns=pt(Er),ts=pt(mn),ks=pt(Ss),Rs=pt(ws),zs=$r?$r.prototype:void 0,hs=zs?zs.valueOf:void 0;function fs(lr){var jt=-1,or=lr==null?0:lr.length;for(this.clear();++jt<or;){var dr=lr[jt];this.set(dr[0],dr[1])}}function Os(){this.__data__=Xn?Xn(null):{},this.size=0}function nn(lr){var jt=this.has(lr)&&delete this.__data__[lr];return this.size-=jt?1:0,jt}function ms(lr){var jt=this.__data__;if(Xn){var or=jt[lr];return or===o?void 0:or}return er.call(jt,lr)?jt[lr]:void 0}function js(lr){var jt=this.__data__;return Xn?jt[lr]!==void 0:er.call(jt,lr)}function $s(lr,jt){var or=this.__data__;return this.size+=this.has(lr)?0:1,or[lr]=Xn&&jt===void 0?o:jt,this}fs.prototype.clear=Os,fs.prototype.delete=nn,fs.prototype.get=ms,fs.prototype.has=js,fs.prototype.set=$s;function ns(lr){var jt=-1,or=lr==null?0:lr.length;for(this.clear();++jt<or;){var dr=lr[jt];this.set(dr[0],dr[1])}}function Qs(){this.__data__=[],this.size=0}function Us(lr){var jt=this.__data__,or=Jt(jt,lr);if(or<0)return!1;var dr=jt.length-1;return or==dr?jt.pop():un.call(jt,or,1),--this.size,!0}function Zs(lr){var jt=this.__data__,or=Jt(jt,lr);return or<0?void 0:jt[or][1]}function Js(lr){return Jt(this.__data__,lr)>-1}function Ws(lr,jt){var or=this.__data__,dr=Jt(or,lr);return dr<0?(++this.size,or.push([lr,jt])):or[dr][1]=jt,this}ns.prototype.clear=Qs,ns.prototype.delete=Us,ns.prototype.get=Zs,ns.prototype.has=Js,ns.prototype.set=Ws;function ps(lr){var jt=-1,or=lr==null?0:lr.length;for(this.clear();++jt<or;){var dr=lr[jt];this.set(dr[0],dr[1])}}function As(){this.size=0,this.__data__={hash:new fs,map:new(Er||ns),string:new fs}}function Ms(lr){var jt=gs(this,lr).delete(lr);return this.size-=jt?1:0,jt}function _s(lr){return gs(this,lr).get(lr)}function Hs(lr){return gs(this,lr).has(lr)}function ds(lr,jt){var or=gs(this,lr),dr=or.size;return or.set(lr,jt),this.size+=or.size==dr?0:1,this}ps.prototype.clear=As,ps.prototype.delete=Ms,ps.prototype.get=_s,ps.prototype.has=Hs,ps.prototype.set=ds;function vn(lr){var jt=-1,or=lr==null?0:lr.length;for(this.__data__=new ps;++jt<or;)this.add(lr[jt])}function Zr(lr){return this.__data__.set(lr,o),this}function Yr(lr){return this.__data__.has(lr)}vn.prototype.add=vn.prototype.push=Zr,vn.prototype.has=Yr;function Zn(lr){var jt=this.__data__=new ns(lr);this.size=jt.size}function ss(){this.__data__=new ns,this.size=0}function uo(lr){var jt=this.__data__,or=jt.delete(lr);return this.size=jt.size,or}function na(lr){return this.__data__.get(lr)}function _t(lr){return this.__data__.has(lr)}function Pt(lr,jt){var or=this.__data__;if(or instanceof ns){var dr=or.__data__;if(!Er||dr.length<a-1)return dr.push([lr,jt]),this.size=++or.size,this;or=this.__data__=new ps(dr)}return or.set(lr,jt),this.size=or.size,this}Zn.prototype.clear=ss,Zn.prototype.delete=uo,Zn.prototype.get=na,Zn.prototype.has=_t,Zn.prototype.set=Pt;function Wt(lr,jt){var or=Bt(lr),dr=!or&&Nt(lr),Hr=!or&&!dr&&ur(lr),Qr=!or&&!dr&&!Hr&&Fn(lr),pn=or||dr||Hr||Qr,En=pn?an(lr.length,String):[],en=En.length;for(var gn in lr)er.call(lr,gn)&&!(pn&&(gn=="length"||Hr&&(gn=="offset"||gn=="parent")||Qr&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||ho(gn,en)))&&En.push(gn);return En}function Jt(lr,jt){for(var or=lr.length;or--;)if(kt(lr[or][0],jt))return or;return-1}function cr(lr,jt,or){var dr=jt(lr);return Bt(lr)?dr:vr(dr,or(lr))}function _r(lr){return lr==null?lr===void 0?vt:ft:Fr&&Fr in Object(lr)?wn(lr):zt(lr)}function Mr(lr){return sn(lr)&&_r(lr)==ot}function Kr(lr,jt,or,dr,Hr){return lr===jt?!0:lr==null||jt==null||!sn(lr)&&!sn(jt)?lr!==lr&&jt!==jt:rn(lr,jt,or,dr,Kr,Hr)}function rn(lr,jt,or,dr,Hr,Qr){var pn=Bt(lr),En=Bt(jt),en=pn?nt:ys(lr),gn=En?nt:ys(jt);en=en==ot?ct:en,gn=gn==ot?ct:gn;var Vn=en==ct,Gn=gn==ct,Qn=en==gn;if(Qn&&ur(lr)){if(!ur(jt))return!1;pn=!0,Vn=!1}if(Qn&&!Vn)return Qr||(Qr=new Zn),pn||Fn(lr)?os(lr,jt,or,dr,Hr,Qr):ls(lr,jt,en,or,dr,Hr,Qr);if(!(or&rt)){var Un=Vn&&er.call(lr,"__wrapped__"),vs=Gn&&er.call(jt,"__wrapped__");if(Un||vs){var Gs=Un?lr.value():lr,to=vs?jt.value():jt;return Qr||(Qr=new Zn),Hr(Gs,to,or,dr,Qr)}}return Qn?(Qr||(Qr=new Zn),Ls(lr,jt,or,dr,Hr,Qr)):!1}function kn(lr){if(!cn(lr)||xt(lr))return!1;var jt=Lr(lr)?Dr:Ht;return jt.test(pt(lr))}function Hn(lr){return sn(lr)&&Vr(lr.length)&&!!nr[_r(lr)]}function as(lr){if(!Mt(lr))return zr(lr);var jt=[];for(var or in Object(lr))er.call(lr,or)&&or!="constructor"&&jt.push(or);return jt}function os(lr,jt,or,dr,Hr,Qr){var pn=or&rt,En=lr.length,en=jt.length;if(En!=en&&!(pn&&en>En))return!1;var gn=Qr.get(lr);if(gn&&Qr.get(jt))return gn==jt;var Vn=-1,Gn=!0,Qn=or&et?new vn:void 0;for(Qr.set(lr,jt),Qr.set(jt,lr);++Vn<En;){var Un=lr[Vn],vs=jt[Vn];if(dr)var Gs=pn?dr(vs,Un,Vn,jt,lr,Qr):dr(Un,vs,Vn,lr,jt,Qr);if(Gs!==void 0){if(Gs)continue;Gn=!1;break}if(Qn){if(!Gr(jt,function(to,vo){if(!Mn(Qn,vo)&&(Un===to||Hr(Un,to,or,dr,Qr)))return Qn.push(vo)})){Gn=!1;break}}else if(!(Un===vs||Hr(Un,vs,or,dr,Qr))){Gn=!1;break}}return Qr.delete(lr),Qr.delete(jt),Gn}function ls(lr,jt,or,dr,Hr,Qr,pn){switch(or){case Tt:if(lr.byteLength!=jt.byteLength||lr.byteOffset!=jt.byteOffset)return!1;lr=lr.buffer,jt=jt.buffer;case $t:return!(lr.byteLength!=jt.byteLength||!Qr(new Ir(lr),new Ir(jt)));case j:case _:case ht:return kt(+lr,+jt);case $:return lr.name==jt.name&&lr.message==jt.message;case yt:case wt:return lr==jt+"";case lt:var En=An;case ut:var en=dr&rt;if(En||(En=Yn),lr.size!=jt.size&&!en)return!1;var gn=pn.get(lr);if(gn)return gn==jt;dr|=et,pn.set(lr,jt);var Vn=os(En(lr),En(jt),dr,Hr,Qr,pn);return pn.delete(lr),Vn;case bt:if(hs)return hs.call(lr)==hs.call(jt)}return!1}function Ls(lr,jt,or,dr,Hr,Qr){var pn=or&rt,En=xn(lr),en=En.length,gn=xn(jt),Vn=gn.length;if(en!=Vn&&!pn)return!1;for(var Gn=en;Gn--;){var Qn=En[Gn];if(!(pn?Qn in jt:er.call(jt,Qn)))return!1}var Un=Qr.get(lr);if(Un&&Qr.get(jt))return Un==jt;var vs=!0;Qr.set(lr,jt),Qr.set(jt,lr);for(var Gs=pn;++Gn<en;){Qn=En[Gn];var to=lr[Qn],vo=jt[Qn];if(dr)var $l=pn?dr(vo,to,Qn,jt,lr,Qr):dr(to,vo,Qn,lr,jt,Qr);if(!($l===void 0?to===vo||Hr(to,vo,or,dr,Qr):$l)){vs=!1;break}Gs||(Gs=Qn=="constructor")}if(vs&&!Gs){var Bo=lr.constructor,Ts=jt.constructor;Bo!=Ts&&"constructor"in lr&&"constructor"in jt&&!(typeof Bo=="function"&&Bo instanceof Bo&&typeof Ts=="function"&&Ts instanceof Ts)&&(vs=!1)}return Qr.delete(lr),Qr.delete(jt),vs}function xn(lr){return cr(lr,Es,co)}function gs(lr,jt){var or=lr.__data__;return fo(jt)?or[typeof jt=="string"?"string":"hash"]:or.map}function _i(lr,jt){var or=Bn(lr,jt);return kn(or)?or:void 0}function wn(lr){var jt=er.call(lr,Fr),or=lr[Fr];try{lr[Fr]=void 0;var dr=!0}catch{}var Hr=fr.call(lr);return dr&&(jt?lr[Fr]=or:delete lr[Fr]),Hr}var co=qr?function(lr){return lr==null?[]:(lr=Object(lr),kr(qr(lr),function(jt){return Xr.call(lr,jt)}))}:$n,ys=_r;(ln&&ys(new ln(new ArrayBuffer(1)))!=Tt||Er&&ys(new Er)!=lt||mn&&ys(mn.resolve())!=mt||Ss&&ys(new Ss)!=ut||ws&&ys(new ws)!=Et)&&(ys=function(lr){var jt=_r(lr),or=jt==ct?lr.constructor:void 0,dr=or?pt(or):"";if(dr)switch(dr){case qn:return Tt;case Ns:return lt;case ts:return mt;case ks:return ut;case Rs:return Et}return jt});function ho(lr,jt){return jt=jt??at,!!jt&&(typeof lr=="number"||qt.test(lr))&&lr>-1&&lr%1==0&&lr<jt}function fo(lr){var jt=typeof lr;return jt=="string"||jt=="number"||jt=="symbol"||jt=="boolean"?lr!=="__proto__":lr===null}function xt(lr){return!!Yt&&Yt in lr}function Mt(lr){var jt=lr&&lr.constructor,or=typeof jt=="function"&&jt.prototype||Br;return lr===or}function zt(lr){return fr.call(lr)}function pt(lr){if(lr!=null){try{return fn.call(lr)}catch{}try{return lr+""}catch{}}return""}function kt(lr,jt){return lr===jt||lr!==lr&&jt!==jt}var Nt=Mr(function(){return arguments}())?Mr:function(lr){return sn(lr)&&er.call(lr,"callee")&&!Xr.call(lr,"callee")},Bt=Array.isArray;function Xt(lr){return lr!=null&&Vr(lr.length)&&!Lr(lr)}var ur=Wr||_n;function gr(lr,jt){return Kr(lr,jt)}function Lr(lr){if(!cn(lr))return!1;var jt=_r(lr);return jt==tt||jt==st||jt==it||jt==gt}function Vr(lr){return typeof lr=="number"&&lr>-1&&lr%1==0&&lr<=at}function cn(lr){var jt=typeof lr;return lr!=null&&(jt=="object"||jt=="function")}function sn(lr){return lr!=null&&typeof lr=="object"}var Fn=Cr?hn(Cr):Hn;function Es(lr){return Xt(lr)?Wt(lr):as(lr)}function $n(){return[]}function _n(){return!1}i.exports=gr})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,editorOptions$1={};Object.defineProperty(editorOptions$1,"__esModule",{value:!0});editorOptions$1.getAceInstance=editorOptions$1.debounce=editorOptions$1.editorEvents=editorOptions$1.editorOptions=void 0;var editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];editorOptions$1.editorOptions=editorOptions;var editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];editorOptions$1.editorEvents=editorEvents;var getAceInstance=function(){var i;return typeof window>"u"?(commonjsGlobal.window={},i=aceExports,delete commonjsGlobal.window):window.ace?(i=window.ace,i.acequire=window.ace.require||window.ace.acequire):i=aceExports,i};editorOptions$1.getAceInstance=getAceInstance;var debounce=function(i,s){var a=null;return function(){var o=this,rt=arguments;clearTimeout(a),a=setTimeout(function(){i.apply(o,rt)},s)}};editorOptions$1.debounce=debounce;var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,rt){o.__proto__=rt}||function(o,rt){for(var et in rt)Object.prototype.hasOwnProperty.call(rt,et)&&(o[et]=rt[et])},i(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(s,a);function o(){this.constructor=s}s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var rt in s)Object.prototype.hasOwnProperty.call(s,rt)&&(i[rt]=s[rt])}return i},__assign$1.apply(this,arguments)};Object.defineProperty(ace$4,"__esModule",{value:!0});var ace_builds_1$1=aceExports,PropTypes$2=propTypesExports,React$2=reactExports,isEqual$1=lodash_isequalExports,editorOptions_1$1=editorOptions$1,ace$2=(0,editorOptions_1$1.getAceInstance)(),ReactAce=function(i){__extends$2(s,i);function s(a){var o=i.call(this,a)||this;return editorOptions_1$1.editorEvents.forEach(function(rt){o[rt]=o[rt].bind(o)}),o.debounce=editorOptions_1$1.debounce,o}return s.prototype.isInShadow=function(a){for(var o=a&&a.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},s.prototype.componentDidMount=function(){var a=this,o=this.props,rt=o.className,et=o.onBeforeLoad,at=o.onValidate,ot=o.mode,nt=o.focus,it=o.theme,j=o.fontSize,_=o.lineHeight,$=o.value,tt=o.defaultValue,st=o.showGutter,lt=o.wrapEnabled,ht=o.showPrintMargin,ft=o.scrollMargin,ct=ft===void 0?[0,0,0,0]:ft,mt=o.keyboardHandler,gt=o.onLoad,yt=o.commands,ut=o.annotations,wt=o.markers,bt=o.placeholder;this.editor=ace$2.edit(this.refEditor),et&&et(ace$2);for(var vt=Object.keys(this.props.editorProps),Et=0;Et<vt.length;Et++)this.editor[vt[Et]]=this.props.editorProps[vt[Et]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(ct[0],ct[1],ct[2],ct[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof ot=="string"?"ace/mode/".concat(ot):ot),it&&it!==""&&this.editor.setTheme("ace/theme/".concat(it)),this.editor.setFontSize(typeof j=="number"?"".concat(j,"px"):j),_&&(this.editor.container.style.lineHeight=typeof _=="number"?"".concat(_,"px"):"".concat(_),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(tt||$||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(st),this.editor.getSession().setUseWrapMode(lt),this.editor.setShowPrintMargin(ht),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),bt&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),at&&this.editor.getSession().on("changeAnnotation",function(){var Tt=a.editor.getSession().getAnnotations();a.props.onValidate(Tt)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(ut||[]),wt&&wt.length>0&&this.handleMarkers(wt);var $t=this.editor.$options;editorOptions_1$1.editorOptions.forEach(function(Tt){$t.hasOwnProperty(Tt)?a.editor.setOption(Tt,a.props[Tt]):a.props[Tt]&&console.warn("ReactAce: editor option ".concat(Tt," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(yt)&&yt.forEach(function(Tt){typeof Tt.exec=="string"?a.editor.commands.bindKey(Tt.bindKey,Tt.exec):a.editor.commands.addCommand(Tt)}),mt&&this.editor.setKeyboardHandler("ace/keyboard/"+mt),rt&&(this.refEditor.className+=" "+rt),gt&&gt(this.editor),this.editor.resize(),nt&&this.editor.focus()},s.prototype.componentDidUpdate=function(a){for(var o=a,rt=this.props,et=0;et<editorOptions_1$1.editorOptions.length;et++){var at=editorOptions_1$1.editorOptions[et];rt[at]!==o[at]&&this.editor.setOption(at,rt[at])}if(rt.className!==o.className){var ot=this.refEditor.className,nt=ot.trim().split(" "),it=o.className.trim().split(" ");it.forEach(function($){var tt=nt.indexOf($);nt.splice(tt,1)}),this.refEditor.className=" "+rt.className+" "+nt.join(" ")}var j=this.editor&&rt.value!=null&&this.editor.getValue()!==rt.value;if(j){this.silent=!0;var _=this.editor.session.selection.toJSON();this.editor.setValue(rt.value,rt.cursorStart),this.editor.session.selection.fromJSON(_),this.silent=!1}rt.placeholder!==o.placeholder&&this.updatePlaceholder(),rt.mode!==o.mode&&this.editor.getSession().setMode(typeof rt.mode=="string"?"ace/mode/".concat(rt.mode):rt.mode),rt.theme!==o.theme&&this.editor.setTheme("ace/theme/"+rt.theme),rt.keyboardHandler!==o.keyboardHandler&&(rt.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+rt.keyboardHandler):this.editor.setKeyboardHandler(null)),rt.fontSize!==o.fontSize&&this.editor.setFontSize(typeof rt.fontSize=="number"?"".concat(rt.fontSize,"px"):rt.fontSize),rt.lineHeight!==o.lineHeight&&(this.editor.container.style.lineHeight=typeof rt.lineHeight=="number"?"".concat(rt.lineHeight,"px"):rt.lineHeight,this.editor.renderer.updateFontSize()),rt.wrapEnabled!==o.wrapEnabled&&this.editor.getSession().setUseWrapMode(rt.wrapEnabled),rt.showPrintMargin!==o.showPrintMargin&&this.editor.setShowPrintMargin(rt.showPrintMargin),rt.showGutter!==o.showGutter&&this.editor.renderer.setShowGutter(rt.showGutter),isEqual$1(rt.setOptions,o.setOptions)||this.handleOptions(rt),(j||!isEqual$1(rt.annotations,o.annotations))&&this.editor.getSession().setAnnotations(rt.annotations||[]),!isEqual$1(rt.markers,o.markers)&&Array.isArray(rt.markers)&&this.handleMarkers(rt.markers),isEqual$1(rt.scrollMargin,o.scrollMargin)||this.handleScrollMargins(rt.scrollMargin),(a.height!==this.props.height||a.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!a.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(a){a===void 0&&(a=[0,0,0,0]),this.editor.renderer.setScrollMargin(a[0],a[1],a[2],a[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(a){if(this.editor&&this.props.onChange&&!this.silent){var o=this.editor.getValue();this.props.onChange(o,a)}},s.prototype.onSelectionChange=function(a){if(this.props.onSelectionChange){var o=this.editor.getSelection();this.props.onSelectionChange(o,a)}},s.prototype.onCursorChange=function(a){if(this.props.onCursorChange){var o=this.editor.getSelection();this.props.onCursorChange(o,a)}},s.prototype.onInput=function(a){this.props.onInput&&this.props.onInput(a),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(a){this.props.onFocus&&this.props.onFocus(a,this.editor)},s.prototype.onBlur=function(a){this.props.onBlur&&this.props.onBlur(a,this.editor)},s.prototype.onCopy=function(a){var o=a.text;this.props.onCopy&&this.props.onCopy(o)},s.prototype.onPaste=function(a){var o=a.text;this.props.onPaste&&this.props.onPaste(o)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(a){for(var o=Object.keys(a.setOptions),rt=0;rt<o.length;rt++)this.editor.setOption(o[rt],a.setOptions[o[rt]])},s.prototype.handleMarkers=function(a){var o=this,rt=this.editor.getSession().getMarkers(!0);for(var et in rt)rt.hasOwnProperty(et)&&this.editor.getSession().removeMarker(rt[et].id);rt=this.editor.getSession().getMarkers(!1);for(var et in rt)rt.hasOwnProperty(et)&&rt[et].clazz!=="ace_active-line"&&rt[et].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(rt[et].id);a.forEach(function(at){var ot=at.startRow,nt=at.startCol,it=at.endRow,j=at.endCol,_=at.className,$=at.type,tt=at.inFront,st=tt===void 0?!1:tt,lt=new ace_builds_1$1.Range(ot,nt,it,j);o.editor.getSession().addMarker(lt,_,$,st)})},s.prototype.updatePlaceholder=function(){var a=this.editor,o=this.props.placeholder,rt=!a.session.getValue().length,et=a.renderer.placeholderNode;!rt&&et?(a.renderer.scroller.removeChild(a.renderer.placeholderNode),a.renderer.placeholderNode=null):rt&&!et?(et=a.renderer.placeholderNode=document.createElement("div"),et.textContent=o||"",et.className="ace_comment ace_placeholder",et.style.padding="0 9px",et.style.position="absolute",et.style.zIndex="3",a.renderer.scroller.appendChild(et)):rt&&et&&(et.textContent=o)},s.prototype.updateRef=function(a){this.refEditor=a},s.prototype.render=function(){var a=this.props,o=a.name,rt=a.width,et=a.height,at=a.style,ot=__assign$1({width:rt,height:et},at);return React$2.createElement("div",{ref:this.updateRef,id:o,style:ot})},s.propTypes={mode:PropTypes$2.oneOfType([PropTypes$2.string,PropTypes$2.object]),focus:PropTypes$2.bool,theme:PropTypes$2.string,name:PropTypes$2.string,className:PropTypes$2.string,height:PropTypes$2.string,width:PropTypes$2.string,fontSize:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),lineHeight:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),showGutter:PropTypes$2.bool,onChange:PropTypes$2.func,onCopy:PropTypes$2.func,onPaste:PropTypes$2.func,onFocus:PropTypes$2.func,onInput:PropTypes$2.func,onBlur:PropTypes$2.func,onScroll:PropTypes$2.func,value:PropTypes$2.string,defaultValue:PropTypes$2.string,onLoad:PropTypes$2.func,onSelectionChange:PropTypes$2.func,onCursorChange:PropTypes$2.func,onBeforeLoad:PropTypes$2.func,onValidate:PropTypes$2.func,minLines:PropTypes$2.number,maxLines:PropTypes$2.number,readOnly:PropTypes$2.bool,highlightActiveLine:PropTypes$2.bool,tabSize:PropTypes$2.number,showPrintMargin:PropTypes$2.bool,cursorStart:PropTypes$2.number,debounceChangePeriod:PropTypes$2.number,editorProps:PropTypes$2.object,setOptions:PropTypes$2.object,style:PropTypes$2.object,scrollMargin:PropTypes$2.array,annotations:PropTypes$2.array,markers:PropTypes$2.array,keyboardHandler:PropTypes$2.string,wrapEnabled:PropTypes$2.bool,enableSnippets:PropTypes$2.bool,enableBasicAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),enableLiveAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),navigateToFileEnd:PropTypes$2.bool,commands:PropTypes$2.array,placeholder:PropTypes$2.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s}(React$2.Component);ace$4.default=ReactAce;var diff={},split={},extSplit={exports:{}};(function(i,s){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(a,o,rt){var et=a("./lib/oop");a("./lib/lang");var at=a("./lib/event_emitter").EventEmitter,ot=a("./editor").Editor,nt=a("./virtual_renderer").VirtualRenderer,it=a("./edit_session").EditSession,j;j=function(_,$,tt){this.BELOW=1,this.BESIDE=0,this.$container=_,this.$theme=$,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(tt||1),this.$cEditor=this.$editors[0],this.on("focus",(function(st){this.$cEditor=st}).bind(this))},(function(){et.implement(this,at),this.$createEditor=function(){var _=document.createElement("div");_.className=this.$editorCSS,_.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(_);var $=new ot(new nt(_,this.$theme));return $.on("focus",(function(){this._emit("focus",$)}).bind(this)),this.$editors.push($),$.setFontSize(this.$fontSize),$},this.setSplits=function(_){var $;if(_<1)throw"The number of splits have to be > 0!";if(_!=this.$splits){if(_>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<_;)$=this.$editors[this.$splits],this.$container.appendChild($.container),$.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<_;)this.$createEditor(),this.$splits++}else for(;this.$splits>_;)$=this.$editors[this.$splits-1],this.$container.removeChild($.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(_){return this.$editors[_]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(_){this.$editors.forEach(function($){$.setTheme(_)})},this.setKeyboardHandler=function(_){this.$editors.forEach(function($){$.setKeyboardHandler(_)})},this.forEach=function(_,$){this.$editors.forEach(_,$)},this.$fontSize="",this.setFontSize=function(_){this.$fontSize=_,this.forEach(function($){$.setFontSize(_)})},this.$cloneSession=function(_){var $=new it(_.getDocument(),_.getMode()),tt=_.getUndoManager();return $.setUndoManager(tt),$.setTabSize(_.getTabSize()),$.setUseSoftTabs(_.getUseSoftTabs()),$.setOverwrite(_.getOverwrite()),$.setBreakpoints(_.getBreakpoints()),$.setUseWrapMode(_.getUseWrapMode()),$.setUseWorker(_.getUseWorker()),$.setWrapLimitRange(_.$wrapLimitRange.min,_.$wrapLimitRange.max),$.$foldData=_.$cloneFoldData(),$},this.setSession=function(_,$){var tt;$==null?tt=this.$cEditor:tt=this.$editors[$];var st=this.$editors.some(function(lt){return lt.session===_});return st&&(_=this.$cloneSession(_)),tt.setSession(_),_},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(_){this.$orientation!=_&&(this.$orientation=_,this.resize())},this.resize=function(){var _=this.$container.clientWidth,$=this.$container.clientHeight,tt;if(this.$orientation==this.BESIDE)for(var st=_/this.$splits,lt=0;lt<this.$splits;lt++)tt=this.$editors[lt],tt.container.style.width=st+"px",tt.container.style.top="0px",tt.container.style.left=lt*st+"px",tt.container.style.height=$+"px",tt.resize();else for(var ht=$/this.$splits,lt=0;lt<this.$splits;lt++)tt=this.$editors[lt],tt.container.style.width=_+"px",tt.container.style.top=lt*ht+"px",tt.container.style.left="0px",tt.container.style.height=ht+"px",tt.resize()}}).call(j.prototype),o.Split=j}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(a,o,rt){rt.exports=a("../split")}),function(){ace.require(["ace/ext/split"],function(a){i&&(i.exports=a)})}()})(extSplit);var extSplitExports=extSplit.exports,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(i,s){return i==null?void 0:i[s]}function isHostObject(i){var s=!1;if(i!=null&&typeof i.toString!="function")try{s=!!(i+"")}catch{}return s}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(i){var s=-1,a=i?i.length:0;for(this.clear();++s<a;){var o=i[s];this.set(o[0],o[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(i){return this.has(i)&&delete this.__data__[i]}function hashGet(i){var s=this.__data__;if(nativeCreate){var a=s[i];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty.call(s,i)?s[i]:void 0}function hashHas(i){var s=this.__data__;return nativeCreate?s[i]!==void 0:hasOwnProperty.call(s,i)}function hashSet(i,s){var a=this.__data__;return a[i]=nativeCreate&&s===void 0?HASH_UNDEFINED:s,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(i){var s=-1,a=i?i.length:0;for(this.clear();++s<a;){var o=i[s];this.set(o[0],o[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(i){var s=this.__data__,a=assocIndexOf(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():splice.call(s,a,1),!0}function listCacheGet(i){var s=this.__data__,a=assocIndexOf(s,i);return a<0?void 0:s[a][1]}function listCacheHas(i){return assocIndexOf(this.__data__,i)>-1}function listCacheSet(i,s){var a=this.__data__,o=assocIndexOf(a,i);return o<0?a.push([i,s]):a[o][1]=s,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(i){var s=-1,a=i?i.length:0;for(this.clear();++s<a;){var o=i[s];this.set(o[0],o[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(i){return getMapData(this,i).delete(i)}function mapCacheGet(i){return getMapData(this,i).get(i)}function mapCacheHas(i){return getMapData(this,i).has(i)}function mapCacheSet(i,s){return getMapData(this,i).set(i,s),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(i,s){for(var a=i.length;a--;)if(eq(i[a][0],s))return a;return-1}function baseGet(i,s){s=isKey(s,i)?[s]:castPath(s);for(var a=0,o=s.length;i!=null&&a<o;)i=i[toKey(s[a++])];return a&&a==o?i:void 0}function baseIsNative(i){if(!isObject$1(i)||isMasked(i))return!1;var s=isFunction(i)||isHostObject(i)?reIsNative:reIsHostCtor;return s.test(toSource(i))}function baseToString(i){if(typeof i=="string")return i;if(isSymbol(i))return symbolToString?symbolToString.call(i):"";var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function castPath(i){return isArray$1(i)?i:stringToPath(i)}function getMapData(i,s){var a=i.__data__;return isKeyable(s)?a[typeof s=="string"?"string":"hash"]:a.map}function getNative(i,s){var a=getValue(i,s);return baseIsNative(a)?a:void 0}function isKey(i,s){if(isArray$1(i))return!1;var a=typeof i;return a=="number"||a=="symbol"||a=="boolean"||i==null||isSymbol(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||s!=null&&i in Object(s)}function isKeyable(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function isMasked(i){return!!maskSrcKey&&maskSrcKey in i}var stringToPath=memoize(function(i){i=toString(i);var s=[];return reLeadingDot.test(i)&&s.push(""),i.replace(rePropName,function(a,o,rt,et){s.push(rt?et.replace(reEscapeChar,"$1"):o||a)}),s});function toKey(i){if(typeof i=="string"||isSymbol(i))return i;var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function toSource(i){if(i!=null){try{return funcToString.call(i)}catch{}try{return i+""}catch{}}return""}function memoize(i,s){if(typeof i!="function"||s&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var a=function(){var o=arguments,rt=s?s.apply(this,o):o[0],et=a.cache;if(et.has(rt))return et.get(rt);var at=i.apply(this,o);return a.cache=et.set(rt,at),at};return a.cache=new(memoize.Cache||MapCache),a}memoize.Cache=MapCache;function eq(i,s){return i===s||i!==i&&s!==s}var isArray$1=Array.isArray;function isFunction(i){var s=isObject$1(i)?objectToString.call(i):"";return s==funcTag||s==genTag}function isObject$1(i){var s=typeof i;return!!i&&(s=="object"||s=="function")}function isObjectLike(i){return!!i&&typeof i=="object"}function isSymbol(i){return typeof i=="symbol"||isObjectLike(i)&&objectToString.call(i)==symbolTag}function toString(i){return i==null?"":baseToString(i)}function get$1(i,s,a){var o=i==null?void 0:baseGet(i,s);return o===void 0?a:o}var lodash_get=get$1,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,rt){o.__proto__=rt}||function(o,rt){for(var et in rt)Object.prototype.hasOwnProperty.call(rt,et)&&(o[et]=rt[et])},i(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(s,a);function o(){this.constructor=s}s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var rt in s)Object.prototype.hasOwnProperty.call(s,rt)&&(i[rt]=s[rt])}return i},__assign.apply(this,arguments)};Object.defineProperty(split,"__esModule",{value:!0});var editorOptions_1=editorOptions$1,ace$1=(0,editorOptions_1.getAceInstance)(),ace_builds_1=aceExports,ext_split_1=extSplitExports,PropTypes$1=propTypesExports,React$1=reactExports,isEqual=lodash_isequalExports,get=lodash_get,SplitComponent=function(i){__extends$1(s,i);function s(a){var o=i.call(this,a)||this;return editorOptions_1.editorEvents.forEach(function(rt){o[rt]=o[rt].bind(o)}),o.debounce=editorOptions_1.debounce,o}return s.prototype.isInShadow=function(a){for(var o=a&&a.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},s.prototype.componentDidMount=function(){var a=this,o=this.props,rt=o.className,et=o.onBeforeLoad,at=o.mode,ot=o.focus,nt=o.theme,it=o.fontSize,j=o.value,_=o.defaultValue,$=o.cursorStart,tt=o.showGutter,st=o.wrapEnabled,lt=o.showPrintMargin,ht=o.scrollMargin,ft=ht===void 0?[0,0,0,0]:ht,ct=o.keyboardHandler,mt=o.onLoad,gt=o.commands,yt=o.annotations,ut=o.markers,wt=o.splits;this.editor=ace$1.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(nt)),et&&et(ace$1);var bt=Object.keys(this.props.editorProps),vt=new ext_split_1.Split(this.editor.container,"ace/theme/".concat(nt),wt);this.editor.env.split=vt,this.splitEditor=vt.getEditor(0),this.split=vt,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var Et=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),vt.forEach(function(Tt,At){for(var Ct=0;Ct<bt.length;Ct++)Tt[bt[Ct]]=a.props.editorProps[bt[Ct]];var It=get(_,At),Lt=get(j,At,"");Tt.session.setUndoManager(new ace$1.UndoManager),Tt.setTheme("ace/theme/".concat(nt)),Tt.renderer.setScrollMargin(ft[0],ft[1],ft[2],ft[3]),Tt.getSession().setMode("ace/mode/".concat(at)),Tt.setFontSize(it),Tt.renderer.setShowGutter(tt),Tt.getSession().setUseWrapMode(st),Tt.setShowPrintMargin(lt),Tt.on("focus",a.onFocus),Tt.on("blur",a.onBlur),Tt.on("input",a.onInput),Tt.on("copy",a.onCopy),Tt.on("paste",a.onPaste),Tt.on("change",a.onChange),Tt.getSession().selection.on("changeSelection",a.onSelectionChange),Tt.getSession().selection.on("changeCursor",a.onCursorChange),Tt.session.on("changeScrollTop",a.onScroll),Tt.setValue(It===void 0?Lt:It,$);var Ft=get(yt,At,[]),Dt=get(ut,At,[]);Tt.getSession().setAnnotations(Ft),Dt&&Dt.length>0&&a.handleMarkers(Dt,Tt);for(var Ct=0;Ct<editorOptions_1.editorOptions.length;Ct++){var Vt=editorOptions_1.editorOptions[Ct];Et.hasOwnProperty(Vt)?Tt.setOption(Vt,a.props[Vt]):a.props[Vt]&&console.warn("ReaceAce: editor option ".concat(Vt," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}a.handleOptions(a.props,Tt),Array.isArray(gt)&&gt.forEach(function(Ut){typeof Ut.exec=="string"?Tt.commands.bindKey(Ut.bindKey,Ut.exec):Tt.commands.addCommand(Ut)}),ct&&Tt.setKeyboardHandler("ace/keyboard/"+ct)}),rt&&(this.refEditor.className+=" "+rt),ot&&this.splitEditor.focus();var $t=this.editor.env.split;$t.setOrientation(this.props.orientation==="below"?$t.BELOW:$t.BESIDE),$t.resize(!0),mt&&mt($t)},s.prototype.componentDidUpdate=function(a){var o=this,rt=a,et=this.props,at=this.editor.env.split;if(et.splits!==rt.splits&&at.setSplits(et.splits),et.orientation!==rt.orientation&&at.setOrientation(et.orientation==="below"?at.BELOW:at.BESIDE),at.forEach(function(j,_){et.mode!==rt.mode&&j.getSession().setMode("ace/mode/"+et.mode),et.keyboardHandler!==rt.keyboardHandler&&(et.keyboardHandler?j.setKeyboardHandler("ace/keyboard/"+et.keyboardHandler):j.setKeyboardHandler(null)),et.fontSize!==rt.fontSize&&j.setFontSize(et.fontSize),et.wrapEnabled!==rt.wrapEnabled&&j.getSession().setUseWrapMode(et.wrapEnabled),et.showPrintMargin!==rt.showPrintMargin&&j.setShowPrintMargin(et.showPrintMargin),et.showGutter!==rt.showGutter&&j.renderer.setShowGutter(et.showGutter);for(var $=0;$<editorOptions_1.editorOptions.length;$++){var tt=editorOptions_1.editorOptions[$];et[tt]!==rt[tt]&&j.setOption(tt,et[tt])}isEqual(et.setOptions,rt.setOptions)||o.handleOptions(et,j);var st=get(et.value,_,"");if(j.getValue()!==st){o.silent=!0;var lt=j.session.selection.toJSON();j.setValue(st,et.cursorStart),j.session.selection.fromJSON(lt),o.silent=!1}var ht=get(et.annotations,_,[]),ft=get(rt.annotations,_,[]);isEqual(ht,ft)||j.getSession().setAnnotations(ht);var ct=get(et.markers,_,[]),mt=get(rt.markers,_,[]);!isEqual(ct,mt)&&Array.isArray(ct)&&o.handleMarkers(ct,j)}),et.className!==rt.className){var ot=this.refEditor.className,nt=ot.trim().split(" "),it=rt.className.trim().split(" ");it.forEach(function(j){var _=nt.indexOf(j);nt.splice(_,1)}),this.refEditor.className=" "+et.className+" "+nt.join(" ")}et.theme!==rt.theme&&at.setTheme("ace/theme/"+et.theme),et.focus&&!rt.focus&&this.splitEditor.focus(),(et.height!==this.props.height||et.width!==this.props.width)&&this.editor.resize()},s.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},s.prototype.onChange=function(a){if(this.props.onChange&&!this.silent){var o=[];this.editor.env.split.forEach(function(rt){o.push(rt.getValue())}),this.props.onChange(o,a)}},s.prototype.onSelectionChange=function(a){if(this.props.onSelectionChange){var o=[];this.editor.env.split.forEach(function(rt){o.push(rt.getSelection())}),this.props.onSelectionChange(o,a)}},s.prototype.onCursorChange=function(a){if(this.props.onCursorChange){var o=[];this.editor.env.split.forEach(function(rt){o.push(rt.getSelection())}),this.props.onCursorChange(o,a)}},s.prototype.onFocus=function(a){this.props.onFocus&&this.props.onFocus(a)},s.prototype.onInput=function(a){this.props.onInput&&this.props.onInput(a)},s.prototype.onBlur=function(a){this.props.onBlur&&this.props.onBlur(a)},s.prototype.onCopy=function(a){this.props.onCopy&&this.props.onCopy(a)},s.prototype.onPaste=function(a){this.props.onPaste&&this.props.onPaste(a)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(a,o){for(var rt=Object.keys(a.setOptions),et=0;et<rt.length;et++)o.setOption(rt[et],a.setOptions[rt[et]])},s.prototype.handleMarkers=function(a,o){var rt=o.getSession().getMarkers(!0);for(var et in rt)rt.hasOwnProperty(et)&&o.getSession().removeMarker(rt[et].id);rt=o.getSession().getMarkers(!1);for(var et in rt)rt.hasOwnProperty(et)&&o.getSession().removeMarker(rt[et].id);a.forEach(function(at){var ot=at.startRow,nt=at.startCol,it=at.endRow,j=at.endCol,_=at.className,$=at.type,tt=at.inFront,st=tt===void 0?!1:tt,lt=new ace_builds_1.Range(ot,nt,it,j);o.getSession().addMarker(lt,_,$,st)})},s.prototype.updateRef=function(a){this.refEditor=a},s.prototype.render=function(){var a=this.props,o=a.name,rt=a.width,et=a.height,at=a.style,ot=__assign({width:rt,height:et},at);return React$1.createElement("div",{ref:this.updateRef,id:o,style:ot})},s.propTypes={className:PropTypes$1.string,debounceChangePeriod:PropTypes$1.number,defaultValue:PropTypes$1.arrayOf(PropTypes$1.string),focus:PropTypes$1.bool,fontSize:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),height:PropTypes$1.string,mode:PropTypes$1.string,name:PropTypes$1.string,onBlur:PropTypes$1.func,onChange:PropTypes$1.func,onCopy:PropTypes$1.func,onFocus:PropTypes$1.func,onInput:PropTypes$1.func,onLoad:PropTypes$1.func,onPaste:PropTypes$1.func,onScroll:PropTypes$1.func,orientation:PropTypes$1.string,showGutter:PropTypes$1.bool,splits:PropTypes$1.number,theme:PropTypes$1.string,value:PropTypes$1.arrayOf(PropTypes$1.string),width:PropTypes$1.string,onSelectionChange:PropTypes$1.func,onCursorChange:PropTypes$1.func,onBeforeLoad:PropTypes$1.func,minLines:PropTypes$1.number,maxLines:PropTypes$1.number,readOnly:PropTypes$1.bool,highlightActiveLine:PropTypes$1.bool,tabSize:PropTypes$1.number,showPrintMargin:PropTypes$1.bool,cursorStart:PropTypes$1.number,editorProps:PropTypes$1.object,setOptions:PropTypes$1.object,style:PropTypes$1.object,scrollMargin:PropTypes$1.array,annotations:PropTypes$1.array,markers:PropTypes$1.array,keyboardHandler:PropTypes$1.string,wrapEnabled:PropTypes$1.bool,enableBasicAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),enableLiveAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),commands:PropTypes$1.array},s.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},s}(React$1.Component);split.default=SplitComponent;var diffMatchPatch={exports:{}};(function(i){var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},a=-1,o=1,rt=0;s.Diff=function(et,at){return[et,at]},s.prototype.diff_main=function(et,at,ot,nt){typeof nt>"u"&&(this.Diff_Timeout<=0?nt=Number.MAX_VALUE:nt=new Date().getTime()+this.Diff_Timeout*1e3);var it=nt;if(et==null||at==null)throw new Error("Null input. (diff_main)");if(et==at)return et?[new s.Diff(rt,et)]:[];typeof ot>"u"&&(ot=!0);var j=ot,_=this.diff_commonPrefix(et,at),$=et.substring(0,_);et=et.substring(_),at=at.substring(_),_=this.diff_commonSuffix(et,at);var tt=et.substring(et.length-_);et=et.substring(0,et.length-_),at=at.substring(0,at.length-_);var st=this.diff_compute_(et,at,j,it);return $&&st.unshift(new s.Diff(rt,$)),tt&&st.push(new s.Diff(rt,tt)),this.diff_cleanupMerge(st),st},s.prototype.diff_compute_=function(et,at,ot,nt){var it;if(!et)return[new s.Diff(o,at)];if(!at)return[new s.Diff(a,et)];var j=et.length>at.length?et:at,_=et.length>at.length?at:et,$=j.indexOf(_);if($!=-1)return it=[new s.Diff(o,j.substring(0,$)),new s.Diff(rt,_),new s.Diff(o,j.substring($+_.length))],et.length>at.length&&(it[0][0]=it[2][0]=a),it;if(_.length==1)return[new s.Diff(a,et),new s.Diff(o,at)];var tt=this.diff_halfMatch_(et,at);if(tt){var st=tt[0],lt=tt[1],ht=tt[2],ft=tt[3],ct=tt[4],mt=this.diff_main(st,ht,ot,nt),gt=this.diff_main(lt,ft,ot,nt);return mt.concat([new s.Diff(rt,ct)],gt)}return ot&&et.length>100&&at.length>100?this.diff_lineMode_(et,at,nt):this.diff_bisect_(et,at,nt)},s.prototype.diff_lineMode_=function(et,at,ot){var nt=this.diff_linesToChars_(et,at);et=nt.chars1,at=nt.chars2;var it=nt.lineArray,j=this.diff_main(et,at,!1,ot);this.diff_charsToLines_(j,it),this.diff_cleanupSemantic(j),j.push(new s.Diff(rt,""));for(var _=0,$=0,tt=0,st="",lt="";_<j.length;){switch(j[_][0]){case o:tt++,lt+=j[_][1];break;case a:$++,st+=j[_][1];break;case rt:if($>=1&&tt>=1){j.splice(_-$-tt,$+tt),_=_-$-tt;for(var ht=this.diff_main(st,lt,!1,ot),ft=ht.length-1;ft>=0;ft--)j.splice(_,0,ht[ft]);_=_+ht.length}tt=0,$=0,st="",lt="";break}_++}return j.pop(),j},s.prototype.diff_bisect_=function(et,at,ot){for(var nt=et.length,it=at.length,j=Math.ceil((nt+it)/2),_=j,$=2*j,tt=new Array($),st=new Array($),lt=0;lt<$;lt++)tt[lt]=-1,st[lt]=-1;tt[_+1]=0,st[_+1]=0;for(var ht=nt-it,ft=ht%2!=0,ct=0,mt=0,gt=0,yt=0,ut=0;ut<j&&!(new Date().getTime()>ot);ut++){for(var wt=-ut+ct;wt<=ut-mt;wt+=2){var bt=_+wt,vt;wt==-ut||wt!=ut&&tt[bt-1]<tt[bt+1]?vt=tt[bt+1]:vt=tt[bt-1]+1;for(var Et=vt-wt;vt<nt&&Et<it&&et.charAt(vt)==at.charAt(Et);)vt++,Et++;if(tt[bt]=vt,vt>nt)mt+=2;else if(Et>it)ct+=2;else if(ft){var $t=_+ht-wt;if($t>=0&&$t<$&&st[$t]!=-1){var Tt=nt-st[$t];if(vt>=Tt)return this.diff_bisectSplit_(et,at,vt,Et,ot)}}}for(var At=-ut+gt;At<=ut-yt;At+=2){var $t=_+At,Tt;At==-ut||At!=ut&&st[$t-1]<st[$t+1]?Tt=st[$t+1]:Tt=st[$t-1]+1;for(var Ct=Tt-At;Tt<nt&&Ct<it&&et.charAt(nt-Tt-1)==at.charAt(it-Ct-1);)Tt++,Ct++;if(st[$t]=Tt,Tt>nt)yt+=2;else if(Ct>it)gt+=2;else if(!ft){var bt=_+ht-At;if(bt>=0&&bt<$&&tt[bt]!=-1){var vt=tt[bt],Et=_+vt-bt;if(Tt=nt-Tt,vt>=Tt)return this.diff_bisectSplit_(et,at,vt,Et,ot)}}}}return[new s.Diff(a,et),new s.Diff(o,at)]},s.prototype.diff_bisectSplit_=function(et,at,ot,nt,it){var j=et.substring(0,ot),_=at.substring(0,nt),$=et.substring(ot),tt=at.substring(nt),st=this.diff_main(j,_,!1,it),lt=this.diff_main($,tt,!1,it);return st.concat(lt)},s.prototype.diff_linesToChars_=function(et,at){var ot=[],nt={};ot[0]="";function it(tt){for(var st="",lt=0,ht=-1,ft=ot.length;ht<tt.length-1;){ht=tt.indexOf(`
`,lt),ht==-1&&(ht=tt.length-1);var ct=tt.substring(lt,ht+1);(nt.hasOwnProperty?nt.hasOwnProperty(ct):nt[ct]!==void 0)?st+=String.fromCharCode(nt[ct]):(ft==j&&(ct=tt.substring(lt),ht=tt.length),st+=String.fromCharCode(ft),nt[ct]=ft,ot[ft++]=ct),lt=ht+1}return st}var j=4e4,_=it(et);j=65535;var $=it(at);return{chars1:_,chars2:$,lineArray:ot}},s.prototype.diff_charsToLines_=function(et,at){for(var ot=0;ot<et.length;ot++){for(var nt=et[ot][1],it=[],j=0;j<nt.length;j++)it[j]=at[nt.charCodeAt(j)];et[ot][1]=it.join("")}},s.prototype.diff_commonPrefix=function(et,at){if(!et||!at||et.charAt(0)!=at.charAt(0))return 0;for(var ot=0,nt=Math.min(et.length,at.length),it=nt,j=0;ot<it;)et.substring(j,it)==at.substring(j,it)?(ot=it,j=ot):nt=it,it=Math.floor((nt-ot)/2+ot);return it},s.prototype.diff_commonSuffix=function(et,at){if(!et||!at||et.charAt(et.length-1)!=at.charAt(at.length-1))return 0;for(var ot=0,nt=Math.min(et.length,at.length),it=nt,j=0;ot<it;)et.substring(et.length-it,et.length-j)==at.substring(at.length-it,at.length-j)?(ot=it,j=ot):nt=it,it=Math.floor((nt-ot)/2+ot);return it},s.prototype.diff_commonOverlap_=function(et,at){var ot=et.length,nt=at.length;if(ot==0||nt==0)return 0;ot>nt?et=et.substring(ot-nt):ot<nt&&(at=at.substring(0,ot));var it=Math.min(ot,nt);if(et==at)return it;for(var j=0,_=1;;){var $=et.substring(it-_),tt=at.indexOf($);if(tt==-1)return j;_+=tt,(tt==0||et.substring(it-_)==at.substring(0,_))&&(j=_,_++)}},s.prototype.diff_halfMatch_=function(et,at){if(this.Diff_Timeout<=0)return null;var ot=et.length>at.length?et:at,nt=et.length>at.length?at:et;if(ot.length<4||nt.length*2<ot.length)return null;var it=this;function j(mt,gt,yt){for(var ut=mt.substring(yt,yt+Math.floor(mt.length/4)),wt=-1,bt="",vt,Et,$t,Tt;(wt=gt.indexOf(ut,wt+1))!=-1;){var At=it.diff_commonPrefix(mt.substring(yt),gt.substring(wt)),Ct=it.diff_commonSuffix(mt.substring(0,yt),gt.substring(0,wt));bt.length<Ct+At&&(bt=gt.substring(wt-Ct,wt)+gt.substring(wt,wt+At),vt=mt.substring(0,yt-Ct),Et=mt.substring(yt+At),$t=gt.substring(0,wt-Ct),Tt=gt.substring(wt+At))}return bt.length*2>=mt.length?[vt,Et,$t,Tt,bt]:null}var _=j(ot,nt,Math.ceil(ot.length/4)),$=j(ot,nt,Math.ceil(ot.length/2)),tt;if(!_&&!$)return null;$?_?tt=_[4].length>$[4].length?_:$:tt=$:tt=_;var st,lt,ht,ft;et.length>at.length?(st=tt[0],lt=tt[1],ht=tt[2],ft=tt[3]):(ht=tt[0],ft=tt[1],st=tt[2],lt=tt[3]);var ct=tt[4];return[st,lt,ht,ft,ct]},s.prototype.diff_cleanupSemantic=function(et){for(var at=!1,ot=[],nt=0,it=null,j=0,_=0,$=0,tt=0,st=0;j<et.length;)et[j][0]==rt?(ot[nt++]=j,_=tt,$=st,tt=0,st=0,it=et[j][1]):(et[j][0]==o?tt+=et[j][1].length:st+=et[j][1].length,it&&it.length<=Math.max(_,$)&&it.length<=Math.max(tt,st)&&(et.splice(ot[nt-1],0,new s.Diff(a,it)),et[ot[nt-1]+1][0]=o,nt--,nt--,j=nt>0?ot[nt-1]:-1,_=0,$=0,tt=0,st=0,it=null,at=!0)),j++;for(at&&this.diff_cleanupMerge(et),this.diff_cleanupSemanticLossless(et),j=1;j<et.length;){if(et[j-1][0]==a&&et[j][0]==o){var lt=et[j-1][1],ht=et[j][1],ft=this.diff_commonOverlap_(lt,ht),ct=this.diff_commonOverlap_(ht,lt);ft>=ct?(ft>=lt.length/2||ft>=ht.length/2)&&(et.splice(j,0,new s.Diff(rt,ht.substring(0,ft))),et[j-1][1]=lt.substring(0,lt.length-ft),et[j+1][1]=ht.substring(ft),j++):(ct>=lt.length/2||ct>=ht.length/2)&&(et.splice(j,0,new s.Diff(rt,lt.substring(0,ct))),et[j-1][0]=o,et[j-1][1]=ht.substring(0,ht.length-ct),et[j+1][0]=a,et[j+1][1]=lt.substring(ct),j++),j++}j++}},s.prototype.diff_cleanupSemanticLossless=function(et){function at(ct,mt){if(!ct||!mt)return 6;var gt=ct.charAt(ct.length-1),yt=mt.charAt(0),ut=gt.match(s.nonAlphaNumericRegex_),wt=yt.match(s.nonAlphaNumericRegex_),bt=ut&&gt.match(s.whitespaceRegex_),vt=wt&&yt.match(s.whitespaceRegex_),Et=bt&&gt.match(s.linebreakRegex_),$t=vt&&yt.match(s.linebreakRegex_),Tt=Et&&ct.match(s.blanklineEndRegex_),At=$t&&mt.match(s.blanklineStartRegex_);return Tt||At?5:Et||$t?4:ut&&!bt&&vt?3:bt||vt?2:ut||wt?1:0}for(var ot=1;ot<et.length-1;){if(et[ot-1][0]==rt&&et[ot+1][0]==rt){var nt=et[ot-1][1],it=et[ot][1],j=et[ot+1][1],_=this.diff_commonSuffix(nt,it);if(_){var $=it.substring(it.length-_);nt=nt.substring(0,nt.length-_),it=$+it.substring(0,it.length-_),j=$+j}for(var tt=nt,st=it,lt=j,ht=at(nt,it)+at(it,j);it.charAt(0)===j.charAt(0);){nt+=it.charAt(0),it=it.substring(1)+j.charAt(0),j=j.substring(1);var ft=at(nt,it)+at(it,j);ft>=ht&&(ht=ft,tt=nt,st=it,lt=j)}et[ot-1][1]!=tt&&(tt?et[ot-1][1]=tt:(et.splice(ot-1,1),ot--),et[ot][1]=st,lt?et[ot+1][1]=lt:(et.splice(ot+1,1),ot--))}ot++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function(et){for(var at=!1,ot=[],nt=0,it=null,j=0,_=!1,$=!1,tt=!1,st=!1;j<et.length;)et[j][0]==rt?(et[j][1].length<this.Diff_EditCost&&(tt||st)?(ot[nt++]=j,_=tt,$=st,it=et[j][1]):(nt=0,it=null),tt=st=!1):(et[j][0]==a?st=!0:tt=!0,it&&(_&&$&&tt&&st||it.length<this.Diff_EditCost/2&&_+$+tt+st==3)&&(et.splice(ot[nt-1],0,new s.Diff(a,it)),et[ot[nt-1]+1][0]=o,nt--,it=null,_&&$?(tt=st=!0,nt=0):(nt--,j=nt>0?ot[nt-1]:-1,tt=st=!1),at=!0)),j++;at&&this.diff_cleanupMerge(et)},s.prototype.diff_cleanupMerge=function(et){et.push(new s.Diff(rt,""));for(var at=0,ot=0,nt=0,it="",j="",_;at<et.length;)switch(et[at][0]){case o:nt++,j+=et[at][1],at++;break;case a:ot++,it+=et[at][1],at++;break;case rt:ot+nt>1?(ot!==0&&nt!==0&&(_=this.diff_commonPrefix(j,it),_!==0&&(at-ot-nt>0&&et[at-ot-nt-1][0]==rt?et[at-ot-nt-1][1]+=j.substring(0,_):(et.splice(0,0,new s.Diff(rt,j.substring(0,_))),at++),j=j.substring(_),it=it.substring(_)),_=this.diff_commonSuffix(j,it),_!==0&&(et[at][1]=j.substring(j.length-_)+et[at][1],j=j.substring(0,j.length-_),it=it.substring(0,it.length-_))),at-=ot+nt,et.splice(at,ot+nt),it.length&&(et.splice(at,0,new s.Diff(a,it)),at++),j.length&&(et.splice(at,0,new s.Diff(o,j)),at++),at++):at!==0&&et[at-1][0]==rt?(et[at-1][1]+=et[at][1],et.splice(at,1)):at++,nt=0,ot=0,it="",j="";break}et[et.length-1][1]===""&&et.pop();var $=!1;for(at=1;at<et.length-1;)et[at-1][0]==rt&&et[at+1][0]==rt&&(et[at][1].substring(et[at][1].length-et[at-1][1].length)==et[at-1][1]?(et[at][1]=et[at-1][1]+et[at][1].substring(0,et[at][1].length-et[at-1][1].length),et[at+1][1]=et[at-1][1]+et[at+1][1],et.splice(at-1,1),$=!0):et[at][1].substring(0,et[at+1][1].length)==et[at+1][1]&&(et[at-1][1]+=et[at+1][1],et[at][1]=et[at][1].substring(et[at+1][1].length)+et[at+1][1],et.splice(at+1,1),$=!0)),at++;$&&this.diff_cleanupMerge(et)},s.prototype.diff_xIndex=function(et,at){var ot=0,nt=0,it=0,j=0,_;for(_=0;_<et.length&&(et[_][0]!==o&&(ot+=et[_][1].length),et[_][0]!==a&&(nt+=et[_][1].length),!(ot>at));_++)it=ot,j=nt;return et.length!=_&&et[_][0]===a?j:j+(at-it)},s.prototype.diff_prettyHtml=function(et){for(var at=[],ot=/&/g,nt=/</g,it=/>/g,j=/\n/g,_=0;_<et.length;_++){var $=et[_][0],tt=et[_][1],st=tt.replace(ot,"&amp;").replace(nt,"&lt;").replace(it,"&gt;").replace(j,"&para;<br>");switch($){case o:at[_]='<ins style="background:#e6ffe6;">'+st+"</ins>";break;case a:at[_]='<del style="background:#ffe6e6;">'+st+"</del>";break;case rt:at[_]="<span>"+st+"</span>";break}}return at.join("")},s.prototype.diff_text1=function(et){for(var at=[],ot=0;ot<et.length;ot++)et[ot][0]!==o&&(at[ot]=et[ot][1]);return at.join("")},s.prototype.diff_text2=function(et){for(var at=[],ot=0;ot<et.length;ot++)et[ot][0]!==a&&(at[ot]=et[ot][1]);return at.join("")},s.prototype.diff_levenshtein=function(et){for(var at=0,ot=0,nt=0,it=0;it<et.length;it++){var j=et[it][0],_=et[it][1];switch(j){case o:ot+=_.length;break;case a:nt+=_.length;break;case rt:at+=Math.max(ot,nt),ot=0,nt=0;break}}return at+=Math.max(ot,nt),at},s.prototype.diff_toDelta=function(et){for(var at=[],ot=0;ot<et.length;ot++)switch(et[ot][0]){case o:at[ot]="+"+encodeURI(et[ot][1]);break;case a:at[ot]="-"+et[ot][1].length;break;case rt:at[ot]="="+et[ot][1].length;break}return at.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function(et,at){for(var ot=[],nt=0,it=0,j=at.split(/\t/g),_=0;_<j.length;_++){var $=j[_].substring(1);switch(j[_].charAt(0)){case"+":try{ot[nt++]=new s.Diff(o,decodeURI($))}catch{throw new Error("Illegal escape in diff_fromDelta: "+$)}break;case"-":case"=":var tt=parseInt($,10);if(isNaN(tt)||tt<0)throw new Error("Invalid number in diff_fromDelta: "+$);var st=et.substring(it,it+=tt);j[_].charAt(0)=="="?ot[nt++]=new s.Diff(rt,st):ot[nt++]=new s.Diff(a,st);break;default:if(j[_])throw new Error("Invalid diff operation in diff_fromDelta: "+j[_])}}if(it!=et.length)throw new Error("Delta length ("+it+") does not equal source text length ("+et.length+").");return ot},s.prototype.match_main=function(et,at,ot){if(et==null||at==null||ot==null)throw new Error("Null input. (match_main)");return ot=Math.max(0,Math.min(ot,et.length)),et==at?0:et.length?et.substring(ot,ot+at.length)==at?ot:this.match_bitap_(et,at,ot):-1},s.prototype.match_bitap_=function(et,at,ot){if(at.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var nt=this.match_alphabet_(at),it=this;function j(vt,Et){var $t=vt/at.length,Tt=Math.abs(ot-Et);return it.Match_Distance?$t+Tt/it.Match_Distance:Tt?1:$t}var _=this.Match_Threshold,$=et.indexOf(at,ot);$!=-1&&(_=Math.min(j(0,$),_),$=et.lastIndexOf(at,ot+at.length),$!=-1&&(_=Math.min(j(0,$),_)));var tt=1<<at.length-1;$=-1;for(var st,lt,ht=at.length+et.length,ft,ct=0;ct<at.length;ct++){for(st=0,lt=ht;st<lt;)j(ct,ot+lt)<=_?st=lt:ht=lt,lt=Math.floor((ht-st)/2+st);ht=lt;var mt=Math.max(1,ot-lt+1),gt=Math.min(ot+lt,et.length)+at.length,yt=Array(gt+2);yt[gt+1]=(1<<ct)-1;for(var ut=gt;ut>=mt;ut--){var wt=nt[et.charAt(ut-1)];if(ct===0?yt[ut]=(yt[ut+1]<<1|1)&wt:yt[ut]=(yt[ut+1]<<1|1)&wt|((ft[ut+1]|ft[ut])<<1|1)|ft[ut+1],yt[ut]&tt){var bt=j(ct,ut-1);if(bt<=_)if(_=bt,$=ut-1,$>ot)mt=Math.max(1,2*ot-$);else break}}if(j(ct+1,ot)>_)break;ft=yt}return $},s.prototype.match_alphabet_=function(et){for(var at={},ot=0;ot<et.length;ot++)at[et.charAt(ot)]=0;for(var ot=0;ot<et.length;ot++)at[et.charAt(ot)]|=1<<et.length-ot-1;return at},s.prototype.patch_addContext_=function(et,at){if(at.length!=0){if(et.start2===null)throw Error("patch not initialized");for(var ot=at.substring(et.start2,et.start2+et.length1),nt=0;at.indexOf(ot)!=at.lastIndexOf(ot)&&ot.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)nt+=this.Patch_Margin,ot=at.substring(et.start2-nt,et.start2+et.length1+nt);nt+=this.Patch_Margin;var it=at.substring(et.start2-nt,et.start2);it&&et.diffs.unshift(new s.Diff(rt,it));var j=at.substring(et.start2+et.length1,et.start2+et.length1+nt);j&&et.diffs.push(new s.Diff(rt,j)),et.start1-=it.length,et.start2-=it.length,et.length1+=it.length+j.length,et.length2+=it.length+j.length}},s.prototype.patch_make=function(et,at,ot){var nt,it;if(typeof et=="string"&&typeof at=="string"&&typeof ot>"u")nt=et,it=this.diff_main(nt,at,!0),it.length>2&&(this.diff_cleanupSemantic(it),this.diff_cleanupEfficiency(it));else if(et&&typeof et=="object"&&typeof at>"u"&&typeof ot>"u")it=et,nt=this.diff_text1(it);else if(typeof et=="string"&&at&&typeof at=="object"&&typeof ot>"u")nt=et,it=at;else if(typeof et=="string"&&typeof at=="string"&&ot&&typeof ot=="object")nt=et,it=ot;else throw new Error("Unknown call format to patch_make.");if(it.length===0)return[];for(var j=[],_=new s.patch_obj,$=0,tt=0,st=0,lt=nt,ht=nt,ft=0;ft<it.length;ft++){var ct=it[ft][0],mt=it[ft][1];switch(!$&&ct!==rt&&(_.start1=tt,_.start2=st),ct){case o:_.diffs[$++]=it[ft],_.length2+=mt.length,ht=ht.substring(0,st)+mt+ht.substring(st);break;case a:_.length1+=mt.length,_.diffs[$++]=it[ft],ht=ht.substring(0,st)+ht.substring(st+mt.length);break;case rt:mt.length<=2*this.Patch_Margin&&$&&it.length!=ft+1?(_.diffs[$++]=it[ft],_.length1+=mt.length,_.length2+=mt.length):mt.length>=2*this.Patch_Margin&&$&&(this.patch_addContext_(_,lt),j.push(_),_=new s.patch_obj,$=0,lt=ht,tt=st);break}ct!==o&&(tt+=mt.length),ct!==a&&(st+=mt.length)}return $&&(this.patch_addContext_(_,lt),j.push(_)),j},s.prototype.patch_deepCopy=function(et){for(var at=[],ot=0;ot<et.length;ot++){var nt=et[ot],it=new s.patch_obj;it.diffs=[];for(var j=0;j<nt.diffs.length;j++)it.diffs[j]=new s.Diff(nt.diffs[j][0],nt.diffs[j][1]);it.start1=nt.start1,it.start2=nt.start2,it.length1=nt.length1,it.length2=nt.length2,at[ot]=it}return at},s.prototype.patch_apply=function(et,at){if(et.length==0)return[at,[]];et=this.patch_deepCopy(et);var ot=this.patch_addPadding(et);at=ot+at+ot,this.patch_splitMax(et);for(var nt=0,it=[],j=0;j<et.length;j++){var _=et[j].start2+nt,$=this.diff_text1(et[j].diffs),tt,st=-1;if($.length>this.Match_MaxBits?(tt=this.match_main(at,$.substring(0,this.Match_MaxBits),_),tt!=-1&&(st=this.match_main(at,$.substring($.length-this.Match_MaxBits),_+$.length-this.Match_MaxBits),(st==-1||tt>=st)&&(tt=-1))):tt=this.match_main(at,$,_),tt==-1)it[j]=!1,nt-=et[j].length2-et[j].length1;else{it[j]=!0,nt=tt-_;var lt;if(st==-1?lt=at.substring(tt,tt+$.length):lt=at.substring(tt,st+this.Match_MaxBits),$==lt)at=at.substring(0,tt)+this.diff_text2(et[j].diffs)+at.substring(tt+$.length);else{var ht=this.diff_main($,lt,!1);if($.length>this.Match_MaxBits&&this.diff_levenshtein(ht)/$.length>this.Patch_DeleteThreshold)it[j]=!1;else{this.diff_cleanupSemanticLossless(ht);for(var ft=0,ct,mt=0;mt<et[j].diffs.length;mt++){var gt=et[j].diffs[mt];gt[0]!==rt&&(ct=this.diff_xIndex(ht,ft)),gt[0]===o?at=at.substring(0,tt+ct)+gt[1]+at.substring(tt+ct):gt[0]===a&&(at=at.substring(0,tt+ct)+at.substring(tt+this.diff_xIndex(ht,ft+gt[1].length))),gt[0]!==a&&(ft+=gt[1].length)}}}}}return at=at.substring(ot.length,at.length-ot.length),[at,it]},s.prototype.patch_addPadding=function(et){for(var at=this.Patch_Margin,ot="",nt=1;nt<=at;nt++)ot+=String.fromCharCode(nt);for(var nt=0;nt<et.length;nt++)et[nt].start1+=at,et[nt].start2+=at;var it=et[0],j=it.diffs;if(j.length==0||j[0][0]!=rt)j.unshift(new s.Diff(rt,ot)),it.start1-=at,it.start2-=at,it.length1+=at,it.length2+=at;else if(at>j[0][1].length){var _=at-j[0][1].length;j[0][1]=ot.substring(j[0][1].length)+j[0][1],it.start1-=_,it.start2-=_,it.length1+=_,it.length2+=_}if(it=et[et.length-1],j=it.diffs,j.length==0||j[j.length-1][0]!=rt)j.push(new s.Diff(rt,ot)),it.length1+=at,it.length2+=at;else if(at>j[j.length-1][1].length){var _=at-j[j.length-1][1].length;j[j.length-1][1]+=ot.substring(0,_),it.length1+=_,it.length2+=_}return ot},s.prototype.patch_splitMax=function(et){for(var at=this.Match_MaxBits,ot=0;ot<et.length;ot++)if(!(et[ot].length1<=at)){var nt=et[ot];et.splice(ot--,1);for(var it=nt.start1,j=nt.start2,_="";nt.diffs.length!==0;){var $=new s.patch_obj,tt=!0;for($.start1=it-_.length,$.start2=j-_.length,_!==""&&($.length1=$.length2=_.length,$.diffs.push(new s.Diff(rt,_)));nt.diffs.length!==0&&$.length1<at-this.Patch_Margin;){var st=nt.diffs[0][0],lt=nt.diffs[0][1];st===o?($.length2+=lt.length,j+=lt.length,$.diffs.push(nt.diffs.shift()),tt=!1):st===a&&$.diffs.length==1&&$.diffs[0][0]==rt&&lt.length>2*at?($.length1+=lt.length,it+=lt.length,tt=!1,$.diffs.push(new s.Diff(st,lt)),nt.diffs.shift()):(lt=lt.substring(0,at-$.length1-this.Patch_Margin),$.length1+=lt.length,it+=lt.length,st===rt?($.length2+=lt.length,j+=lt.length):tt=!1,$.diffs.push(new s.Diff(st,lt)),lt==nt.diffs[0][1]?nt.diffs.shift():nt.diffs[0][1]=nt.diffs[0][1].substring(lt.length))}_=this.diff_text2($.diffs),_=_.substring(_.length-this.Patch_Margin);var ht=this.diff_text1(nt.diffs).substring(0,this.Patch_Margin);ht!==""&&($.length1+=ht.length,$.length2+=ht.length,$.diffs.length!==0&&$.diffs[$.diffs.length-1][0]===rt?$.diffs[$.diffs.length-1][1]+=ht:$.diffs.push(new s.Diff(rt,ht))),tt||et.splice(++ot,0,$)}}},s.prototype.patch_toText=function(et){for(var at=[],ot=0;ot<et.length;ot++)at[ot]=et[ot];return at.join("")},s.prototype.patch_fromText=function(et){var at=[];if(!et)return at;for(var ot=et.split(`
`),nt=0,it=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;nt<ot.length;){var j=ot[nt].match(it);if(!j)throw new Error("Invalid patch string: "+ot[nt]);var _=new s.patch_obj;for(at.push(_),_.start1=parseInt(j[1],10),j[2]===""?(_.start1--,_.length1=1):j[2]=="0"?_.length1=0:(_.start1--,_.length1=parseInt(j[2],10)),_.start2=parseInt(j[3],10),j[4]===""?(_.start2--,_.length2=1):j[4]=="0"?_.length2=0:(_.start2--,_.length2=parseInt(j[4],10)),nt++;nt<ot.length;){var $=ot[nt].charAt(0);try{var tt=decodeURI(ot[nt].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+tt)}if($=="-")_.diffs.push(new s.Diff(a,tt));else if($=="+")_.diffs.push(new s.Diff(o,tt));else if($==" ")_.diffs.push(new s.Diff(rt,tt));else{if($=="@")break;if($!=="")throw new Error('Invalid patch mode "'+$+'" in: '+tt)}nt++}}return at},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var et,at;this.length1===0?et=this.start1+",0":this.length1==1?et=this.start1+1:et=this.start1+1+","+this.length1,this.length2===0?at=this.start2+",0":this.length2==1?at=this.start2+1:at=this.start2+1+","+this.length2;for(var ot=["@@ -"+et+" +"+at+` @@
`],nt,it=0;it<this.diffs.length;it++){switch(this.diffs[it][0]){case o:nt="+";break;case a:nt="-";break;case rt:nt=" ";break}ot[it+1]=nt+encodeURI(this.diffs[it][1])+`
`}return ot.join("").replace(/%20/g," ")},i.exports=s,i.exports.diff_match_patch=s,i.exports.DIFF_DELETE=a,i.exports.DIFF_INSERT=o,i.exports.DIFF_EQUAL=rt})(diffMatchPatch);var diffMatchPatchExports=diffMatchPatch.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,rt){o.__proto__=rt}||function(o,rt){for(var et in rt)Object.prototype.hasOwnProperty.call(rt,et)&&(o[et]=rt[et])},i(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(s,a);function o(){this.constructor=s}s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();Object.defineProperty(diff,"__esModule",{value:!0});var PropTypes=propTypesExports,React=reactExports,split_1$1=split,DiffMatchPatch=diffMatchPatchExports,DiffComponent=function(i){__extends(s,i);function s(a){var o=i.call(this,a)||this;return o.state={value:o.props.value},o.onChange=o.onChange.bind(o),o.diff=o.diff.bind(o),o}return s.prototype.componentDidUpdate=function(){var a=this.props.value;a!==this.state.value&&this.setState({value:a})},s.prototype.onChange=function(a){this.setState({value:a}),this.props.onChange&&this.props.onChange(a)},s.prototype.diff=function(){var a=new DiffMatchPatch,o=this.state.value[0],rt=this.state.value[1];if(o.length===0&&rt.length===0)return[];var et=a.diff_main(o,rt);a.diff_cleanupSemantic(et);var at=this.generateDiffedLines(et),ot=this.setCodeMarkers(at);return ot},s.prototype.generateDiffedLines=function(a){var o={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},rt={left:[],right:[]},et={left:1,right:1};return a.forEach(function(at){var ot=at[0],nt=at[1],it=nt.split(`
`).length-1;if(nt.length!==0){var j=nt[0],_=nt[nt.length-1],$=0;switch(ot){case o.DIFF_EQUAL:et.left+=it,et.right+=it;break;case o.DIFF_DELETE:j===`
`&&(et.left++,it--),$=it,$===0&&rt.right.push({startLine:et.right,endLine:et.right}),_===`
`&&($-=1),rt.left.push({startLine:et.left,endLine:et.left+$}),et.left+=it;break;case o.DIFF_INSERT:j===`
`&&(et.right++,it--),$=it,$===0&&rt.left.push({startLine:et.left,endLine:et.left}),_===`
`&&($-=1),rt.right.push({startLine:et.right,endLine:et.right+$}),et.right+=it;break;default:throw new Error("Diff type was not defined.")}}}),rt},s.prototype.setCodeMarkers=function(a){a===void 0&&(a={left:[],right:[]});for(var o=[],rt={left:[],right:[]},et=0;et<a.left.length;et++){var at={startRow:a.left[et].startLine-1,endRow:a.left[et].endLine,type:"text",className:"codeMarker"};rt.left.push(at)}for(var et=0;et<a.right.length;et++){var at={startRow:a.right[et].startLine-1,endRow:a.right[et].endLine,type:"text",className:"codeMarker"};rt.right.push(at)}return o[0]=rt.left,o[1]=rt.right,o},s.prototype.render=function(){var a=this.diff();return React.createElement(split_1$1.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:a})},s.propTypes={cursorStart:PropTypes.number,editorProps:PropTypes.object,enableBasicAutocompletion:PropTypes.bool,enableLiveAutocompletion:PropTypes.bool,focus:PropTypes.bool,fontSize:PropTypes.number,height:PropTypes.string,highlightActiveLine:PropTypes.bool,maxLines:PropTypes.number,minLines:PropTypes.number,mode:PropTypes.string,name:PropTypes.string,className:PropTypes.string,onLoad:PropTypes.func,onPaste:PropTypes.func,onScroll:PropTypes.func,onChange:PropTypes.func,orientation:PropTypes.string,readOnly:PropTypes.bool,scrollMargin:PropTypes.array,setOptions:PropTypes.object,showGutter:PropTypes.bool,showPrintMargin:PropTypes.bool,splits:PropTypes.number,style:PropTypes.object,tabSize:PropTypes.number,theme:PropTypes.string,value:PropTypes.array,width:PropTypes.string,wrapEnabled:PropTypes.bool},s.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},s}(React.Component);diff.default=DiffComponent;Object.defineProperty(lib$1,"__esModule",{value:!0});lib$1.diff=lib$1.split=void 0;var ace_1=ace$4,diff_1=diff;lib$1.diff=diff_1.default;var split_1=split;lib$1.split=split_1.default;var _default=lib$1.default=ace_1.default;const useTypedSelector=useSelector,useTypedDispatch=useDispatch,BAUD_RATE_SPIKE_PRIME=115200,KEYBOARD_INTERRUPT="",END_OF_TRANSMISSION="",RAW_MODE_ENTER="",RAW_MODE_COMPILE="",RAW_MODE_EXIT="";var Languages=(i=>(i.SOURCE_THREE_INTERPRETER="Source 3 (Legacy)",i.PYTHON="Python",i))(Languages||{});const supportedLanguages=["Python","Source 3 (Legacy)"],languageToModeMap=Object.freeze({Python:"python","Source 3 (Legacy)":"javascript"});var extLanguage_tools={exports:{}};(function(i,s){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(a,o,rt){var et=a("./lib/dom"),at=a("./lib/oop"),ot=a("./lib/event_emitter").EventEmitter,nt=a("./lib/lang"),it=a("./range").Range,j=a("./range_list").RangeList,_=a("./keyboard/hash_handler").HashHandler,$=a("./tokenizer").Tokenizer,tt=a("./clipboard"),st={CURRENT_WORD:function(ut){return ut.session.getTextRange(ut.session.getWordRange())},SELECTION:function(ut,wt,bt){var vt=ut.session.getTextRange();return bt?vt.replace(/\n\r?([ \t]*\S)/g,`
`+bt+"$1"):vt},CURRENT_LINE:function(ut){return ut.session.getLine(ut.getCursorPosition().row)},PREV_LINE:function(ut){return ut.session.getLine(ut.getCursorPosition().row-1)},LINE_INDEX:function(ut){return ut.getCursorPosition().row},LINE_NUMBER:function(ut){return ut.getCursorPosition().row+1},SOFT_TABS:function(ut){return ut.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(ut){return ut.session.getTabSize()},CLIPBOARD:function(ut){return tt.getText&&tt.getText()},FILENAME:function(ut){return/[^/\\]*$/.exec(this.FILEPATH(ut))[0]},FILENAME_BASE:function(ut){return/[^/\\]*$/.exec(this.FILEPATH(ut))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(ut){return this.FILEPATH(ut).replace(/[^/\\]*$/,"")},FILEPATH:function(ut){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(ut){var wt=ut.session.$mode||{};return wt.blockComment&&wt.blockComment.start||""},BLOCK_COMMENT_END:function(ut){var wt=ut.session.$mode||{};return wt.blockComment&&wt.blockComment.end||""},LINE_COMMENT:function(ut){var wt=ut.session.$mode||{};return wt.lineCommentStart||""},CURRENT_YEAR:lt.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:lt.bind(null,{year:"2-digit"}),CURRENT_MONTH:lt.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:lt.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:lt.bind(null,{month:"short"}),CURRENT_DATE:lt.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:lt.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:lt.bind(null,{weekday:"short"}),CURRENT_HOUR:lt.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:lt.bind(null,{minute:"2-digit"}),CURRENT_SECOND:lt.bind(null,{second:"2-digit"})};st.SELECTED_TEXT=st.SELECTION;function lt(ut){var wt=new Date().toLocaleString("en-us",ut);return wt.length==1?"0"+wt:wt}var ht=function(){function ut(){this.snippetMap={},this.snippetNameMap={},this.variables=st}return ut.prototype.getTokenizer=function(){return ut.$tokenizer||this.createTokenizer()},ut.prototype.createTokenizer=function(){function wt(Et){return Et=Et.substr(1),/^\d+$/.test(Et)?[{tabstopId:parseInt(Et,10)}]:[{text:Et}]}function bt(Et){return"(?:[^\\\\"+Et+"]|\\\\.)"}var vt={regex:"/("+bt("/")+"+)/",onMatch:function(Et,$t,Tt){var At=Tt[0];return At.fmtString=!0,At.guard=Et.slice(1,-1),At.flag="",""},next:"formatString"};return ut.$tokenizer=new $({start:[{regex:/\\./,onMatch:function(Et,$t,Tt){var At=Et[1];return(At=="}"&&Tt.length||"`$\\".indexOf(At)!=-1)&&(Et=At),[Et]}},{regex:/}/,onMatch:function(Et,$t,Tt){return[Tt.length?Tt.shift():Et]}},{regex:/\$(?:\d+|\w+)/,onMatch:wt},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(Et,$t,Tt){var At=wt(Et.substr(1));return Tt.unshift(At[0]),At},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+bt("\\|")+"*\\|",onMatch:function(Et,$t,Tt){var At=Et.slice(1,-1).replace(/\\[,|\\]|,/g,function(Ct){return Ct.length==2?Ct[1]:"\0"}).split("\0").map(function(Ct){return{value:Ct}});return Tt[0].choices=At,[At[0]]},next:"start"},vt,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(Et,$t,Tt){return Tt.length&&Tt[0].expectElse?(Tt[0].expectElse=!1,Tt[0].ifEnd={elseEnd:Tt[0]},[Tt[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(Et,$t,Tt){var At=Et[1];return At=="}"&&Tt.length||"`$\\".indexOf(At)!=-1?Et=At:At=="n"?Et=`
`:At=="t"?Et="	":"ulULE".indexOf(At)!=-1&&(Et={changeCase:At,local:At>"a"}),[Et]}},{regex:"/\\w*}",onMatch:function(Et,$t,Tt){var At=Tt.shift();return At&&(At.flag=Et.slice(1,-1)),this.next=At&&At.tabstopId?"start":"",[At||Et]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(Et,$t,Tt){return[{text:Et.slice(1)}]}},{regex:/\${\w+/,onMatch:function(Et,$t,Tt){var At={text:Et.slice(2)};return Tt.unshift(At),[At]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(Et,$t,Tt){var At=Tt.shift();return this.next=At&&At.tabstopId?"start":"",[At||Et]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(Et,$t,Tt){var At=Tt[0];return At.formatFunction=Et.slice(2,-1),[Tt.shift()]},next:"formatString"},vt,{regex:/:[\?\-+]?/,onMatch:function(Et,$t,Tt){Et[1]=="+"&&(Tt[0].ifEnd=Tt[0]),Et[1]=="?"&&(Tt[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),ut.$tokenizer},ut.prototype.tokenizeTmSnippet=function(wt,bt){return this.getTokenizer().getLineTokens(wt,bt).tokens.map(function(vt){return vt.value||vt})},ut.prototype.getVariableValue=function(wt,bt,vt){if(/^\d+$/.test(bt))return(this.variables.__||{})[bt]||"";if(/^[A-Z]\d+$/.test(bt))return(this.variables[bt[0]+"__"]||{})[bt.substr(1)]||"";if(bt=bt.replace(/^TM_/,""),!this.variables.hasOwnProperty(bt))return"";var Et=this.variables[bt];return typeof Et=="function"&&(Et=this.variables[bt](wt,bt,vt)),Et??""},ut.prototype.tmStrFormat=function(wt,bt,vt){if(!bt.fmt)return wt;var Et=bt.flag||"",$t=bt.guard;$t=new RegExp($t,Et.replace(/[^gim]/g,""));var Tt=typeof bt.fmt=="string"?this.tokenizeTmSnippet(bt.fmt,"formatString"):bt.fmt,At=this,Ct=wt.replace($t,function(){var It=At.variables.__;At.variables.__=[].slice.call(arguments);for(var Lt=At.resolveVariables(Tt,vt),Ft="E",Dt=0;Dt<Lt.length;Dt++){var Vt=Lt[Dt];if(typeof Vt=="object")if(Lt[Dt]="",Vt.changeCase&&Vt.local){var Ut=Lt[Dt+1];Ut&&typeof Ut=="string"&&(Vt.changeCase=="u"?Lt[Dt]=Ut[0].toUpperCase():Lt[Dt]=Ut[0].toLowerCase(),Lt[Dt+1]=Ut.substr(1))}else Vt.changeCase&&(Ft=Vt.changeCase);else Ft=="U"?Lt[Dt]=Vt.toUpperCase():Ft=="L"&&(Lt[Dt]=Vt.toLowerCase())}return At.variables.__=It,Lt.join("")});return Ct},ut.prototype.tmFormatFunction=function(wt,bt,vt){return bt.formatFunction=="upcase"?wt.toUpperCase():bt.formatFunction=="downcase"?wt.toLowerCase():wt},ut.prototype.resolveVariables=function(wt,bt){for(var vt=[],Et="",$t=!0,Tt=0;Tt<wt.length;Tt++){var At=wt[Tt];if(typeof At=="string"){vt.push(At),At==`
`?($t=!0,Et=""):$t&&(Et=/^\t*/.exec(At)[0],$t=/\S/.test(At));continue}if(At){if($t=!1,At.fmtString){var Ct=wt.indexOf(At,Tt+1);Ct==-1&&(Ct=wt.length),At.fmt=wt.slice(Tt+1,Ct),Tt=Ct}if(At.text){var It=this.getVariableValue(bt,At.text,Et)+"";At.fmtString&&(It=this.tmStrFormat(It,At,bt)),At.formatFunction&&(It=this.tmFormatFunction(It,At,bt)),It&&!At.ifEnd?(vt.push(It),Lt(At)):!It&&At.ifEnd&&Lt(At.ifEnd)}else At.elseEnd?Lt(At.elseEnd):(At.tabstopId!=null||At.changeCase!=null)&&vt.push(At)}}function Lt(Ft){var Dt=wt.indexOf(Ft,Tt+1);Dt!=-1&&(Tt=Dt)}return vt},ut.prototype.getDisplayTextForSnippet=function(wt,bt){var vt=ft.call(this,wt,bt);return vt.text},ut.prototype.insertSnippetForSelection=function(wt,bt,vt){vt===void 0&&(vt={});var Et=ft.call(this,wt,bt,vt),$t=wt.getSelectionRange(),Tt=wt.session.replace($t,Et.text),At=new ct(wt),Ct=wt.inVirtualSelectionMode&&wt.selection.index;At.addTabstops(Et.tabstops,$t.start,Tt,Ct)},ut.prototype.insertSnippet=function(wt,bt,vt){vt===void 0&&(vt={});var Et=this;if(wt.inVirtualSelectionMode)return Et.insertSnippetForSelection(wt,bt,vt);wt.forEachSelection(function(){Et.insertSnippetForSelection(wt,bt,vt)},null,{keepOrder:!0}),wt.tabstopManager&&wt.tabstopManager.tabNext()},ut.prototype.$getScope=function(wt){var bt=wt.session.$mode.$id||"";if(bt=bt.split("/").pop(),bt==="html"||bt==="php"){bt==="php"&&!wt.session.$mode.inlinePhp&&(bt="html");var vt=wt.getCursorPosition(),Et=wt.session.getState(vt.row);typeof Et=="object"&&(Et=Et[0]),Et.substring&&(Et.substring(0,3)=="js-"?bt="javascript":Et.substring(0,4)=="css-"?bt="css":Et.substring(0,4)=="php-"&&(bt="php"))}return bt},ut.prototype.getActiveScopes=function(wt){var bt=this.$getScope(wt),vt=[bt],Et=this.snippetMap;return Et[bt]&&Et[bt].includeScopes&&vt.push.apply(vt,Et[bt].includeScopes),vt.push("_"),vt},ut.prototype.expandWithTab=function(wt,bt){var vt=this,Et=wt.forEachSelection(function(){return vt.expandSnippetForSelection(wt,bt)},null,{keepOrder:!0});return Et&&wt.tabstopManager&&wt.tabstopManager.tabNext(),Et},ut.prototype.expandSnippetForSelection=function(wt,bt){var vt=wt.getCursorPosition(),Et=wt.session.getLine(vt.row),$t=Et.substring(0,vt.column),Tt=Et.substr(vt.column),At=this.snippetMap,Ct;return this.getActiveScopes(wt).some(function(It){var Lt=At[It];return Lt&&(Ct=this.findMatchingSnippet(Lt,$t,Tt)),!!Ct},this),Ct?(bt&&bt.dryRun||(wt.session.doc.removeInLine(vt.row,vt.column-Ct.replaceBefore.length,vt.column+Ct.replaceAfter.length),this.variables.M__=Ct.matchBefore,this.variables.T__=Ct.matchAfter,this.insertSnippetForSelection(wt,Ct.content),this.variables.M__=this.variables.T__=null),!0):!1},ut.prototype.findMatchingSnippet=function(wt,bt,vt){for(var Et=wt.length;Et--;){var $t=wt[Et];if(!($t.startRe&&!$t.startRe.test(bt))&&!($t.endRe&&!$t.endRe.test(vt))&&!(!$t.startRe&&!$t.endRe))return $t.matchBefore=$t.startRe?$t.startRe.exec(bt):[""],$t.matchAfter=$t.endRe?$t.endRe.exec(vt):[""],$t.replaceBefore=$t.triggerRe?$t.triggerRe.exec(bt)[0]:"",$t.replaceAfter=$t.endTriggerRe?$t.endTriggerRe.exec(vt)[0]:"",$t}},ut.prototype.register=function(wt,bt){var vt=this.snippetMap,Et=this.snippetNameMap,$t=this;wt||(wt=[]);function Tt(It){return It&&!/^\^?\(.*\)\$?$|^\\b$/.test(It)&&(It="(?:"+It+")"),It||""}function At(It,Lt,Ft){return It=Tt(It),Lt=Tt(Lt),It=Lt+It,It&&It[It.length-1]!="$"&&(It=It+"$"),new RegExp(It)}function Ct(It){It.scope||(It.scope=bt||"_"),bt=It.scope,vt[bt]||(vt[bt]=[],Et[bt]={});var Lt=Et[bt];if(It.name){var Ft=Lt[It.name];Ft&&$t.unregister(Ft),Lt[It.name]=It}vt[bt].push(It),It.prefix&&(It.tabTrigger=It.prefix),!It.content&&It.body&&(It.content=Array.isArray(It.body)?It.body.join(`
`):It.body),It.tabTrigger&&!It.trigger&&(!It.guard&&/^\w/.test(It.tabTrigger)&&(It.guard="\\b"),It.trigger=nt.escapeRegExp(It.tabTrigger)),!(!It.trigger&&!It.guard&&!It.endTrigger&&!It.endGuard)&&(It.startRe=At(It.trigger,It.guard),It.triggerRe=new RegExp(It.trigger),It.endRe=At(It.endTrigger,It.endGuard),It.endTriggerRe=new RegExp(It.endTrigger))}Array.isArray(wt)?wt.forEach(Ct):Object.keys(wt).forEach(function(It){Ct(wt[It])}),this._signal("registerSnippets",{scope:bt})},ut.prototype.unregister=function(wt,bt){var vt=this.snippetMap,Et=this.snippetNameMap;function $t(Tt){var At=Et[Tt.scope||bt];if(At&&At[Tt.name]){delete At[Tt.name];var Ct=vt[Tt.scope||bt],It=Ct&&Ct.indexOf(Tt);It>=0&&Ct.splice(It,1)}}wt.content?$t(wt):Array.isArray(wt)&&wt.forEach($t)},ut.prototype.parseSnippetFile=function(wt){wt=wt.replace(/\r/g,"");for(var bt=[],vt={},Et=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,$t;$t=Et.exec(wt);){if($t[1])try{vt=JSON.parse($t[1]),bt.push(vt)}catch{}if($t[4])vt.content=$t[4].replace(/^\t/gm,""),bt.push(vt),vt={};else{var Tt=$t[2],At=$t[3];if(Tt=="regex"){var Ct=/\/((?:[^\/\\]|\\.)*)|$/g;vt.guard=Ct.exec(At)[1],vt.trigger=Ct.exec(At)[1],vt.endTrigger=Ct.exec(At)[1],vt.endGuard=Ct.exec(At)[1]}else Tt=="snippet"?(vt.tabTrigger=At.match(/^\S*/)[0],vt.name||(vt.name=At)):Tt&&(vt[Tt]=At)}}return bt},ut.prototype.getSnippetByName=function(wt,bt){var vt=this.snippetNameMap,Et;return this.getActiveScopes(bt).some(function($t){var Tt=vt[$t];return Tt&&(Et=Tt[wt]),!!Et},this),Et},ut}();at.implement(ht.prototype,ot);var ft=function(ut,wt,bt){bt===void 0&&(bt={});var vt=ut.getCursorPosition(),Et=ut.session.getLine(vt.row),$t=ut.session.getTabString(),Tt=Et.match(/^\s*/)[0];vt.column<Tt.length&&(Tt=Tt.slice(0,vt.column)),wt=wt.replace(/\r/g,"");var At=this.tokenizeTmSnippet(wt);At=this.resolveVariables(At,ut),At=At.map(function(tr){return tr==`
`&&!bt.excludeExtraIndent?tr+Tt:typeof tr=="string"?tr.replace(/\t/g,$t):tr});var Ct=[];At.forEach(function(tr,mr){if(typeof tr=="object"){var yr=tr.tabstopId,br=Ct[yr];if(br||(br=Ct[yr]=[],br.index=yr,br.value="",br.parents={}),br.indexOf(tr)===-1){tr.choices&&!br.choices&&(br.choices=tr.choices),br.push(tr);var xr=At.indexOf(tr,mr+1);if(xr!==-1){var sr=At.slice(mr+1,xr),ar=sr.some(function(rr){return typeof rr=="object"});ar&&!br.value?br.value=sr:sr.length&&(!br.value||typeof br.value!="string")&&(br.value=sr.join(""))}}}}),Ct.forEach(function(tr){tr.length=0});var It={};function Lt(tr){for(var mr=[],yr=0;yr<tr.length;yr++){var br=tr[yr];if(typeof br=="object"){if(It[br.tabstopId])continue;var xr=tr.lastIndexOf(br,yr-1);br=mr[xr]||{tabstopId:br.tabstopId}}mr[yr]=br}return mr}for(var Ft=0;Ft<At.length;Ft++){var Dt=At[Ft];if(typeof Dt=="object"){var Vt=Dt.tabstopId,Ut=Ct[Vt],Qt=At.indexOf(Dt,Ft+1);if(It[Vt]){It[Vt]===Dt&&(delete It[Vt],Object.keys(It).forEach(function(tr){Ut.parents[tr]=!0}));continue}It[Vt]=Dt;var Kt=Ut.value;typeof Kt!="string"?Kt=Lt(Kt):Dt.fmt&&(Kt=this.tmStrFormat(Kt,Dt,ut)),At.splice.apply(At,[Ft+1,Math.max(0,Qt-Ft)].concat(Kt,Dt)),Ut.indexOf(Dt)===-1&&Ut.push(Dt)}}var Ht=0,qt=0,nr="";return At.forEach(function(tr){if(typeof tr=="string"){var mr=tr.split(`
`);mr.length>1?(qt=mr[mr.length-1].length,Ht+=mr.length-1):qt+=tr.length,nr+=tr}else tr&&(tr.start?tr.end={row:Ht,column:qt}:tr.start={row:Ht,column:qt})}),{text:nr,tabstops:Ct,tokens:At}},ct=function(){function ut(wt){if(this.index=0,this.ranges=[],this.tabstops=[],wt.tabstopManager)return wt.tabstopManager;wt.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=nt.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(wt)}return ut.prototype.attach=function(wt){this.$openTabstops=null,this.selectedTabstop=null,this.editor=wt,this.session=wt.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},ut.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},ut.prototype.onChange=function(wt){for(var bt=wt.action[0]=="r",vt=this.selectedTabstop||{},Et=vt.parents||{},$t=this.tabstops.slice(),Tt=0;Tt<$t.length;Tt++){var At=$t[Tt],Ct=At==vt||Et[At.index];if(At.rangeList.$bias=Ct?0:1,wt.action=="remove"&&At!==vt){var It=At.parents&&At.parents[vt.index],Lt=At.rangeList.pointIndex(wt.start,It);Lt=Lt<0?-Lt-1:Lt+1;var Ft=At.rangeList.pointIndex(wt.end,It);Ft=Ft<0?-Ft-1:Ft-1;for(var Dt=At.rangeList.ranges.slice(Lt,Ft),Vt=0;Vt<Dt.length;Vt++)this.removeRange(Dt[Vt])}At.rangeList.$onChange(wt)}var Ut=this.session;!this.$inChange&&bt&&Ut.getLength()==1&&!Ut.getValue()&&this.detach()},ut.prototype.updateLinkedFields=function(){var wt=this.selectedTabstop;if(!(!wt||!wt.hasLinkedRanges||!wt.firstNonLinked)){this.$inChange=!0;for(var bt=this.session,vt=bt.getTextRange(wt.firstNonLinked),Et=0;Et<wt.length;Et++){var $t=wt[Et];if($t.linked){var Tt=$t.original,At=o.snippetManager.tmStrFormat(vt,Tt,this.editor);bt.replace($t,At)}}this.$inChange=!1}},ut.prototype.onAfterExec=function(wt){wt.command&&!wt.command.readOnly&&this.updateLinkedFields()},ut.prototype.onChangeSelection=function(){if(this.editor){for(var wt=this.editor.selection.lead,bt=this.editor.selection.anchor,vt=this.editor.selection.isEmpty(),Et=0;Et<this.ranges.length;Et++)if(!this.ranges[Et].linked){var $t=this.ranges[Et].contains(wt.row,wt.column),Tt=vt||this.ranges[Et].contains(bt.row,bt.column);if($t&&Tt)return}this.detach()}},ut.prototype.onChangeSession=function(){this.detach()},ut.prototype.tabNext=function(wt){var bt=this.tabstops.length,vt=this.index+(wt||1);vt=Math.min(Math.max(vt,1),bt),vt==bt&&(vt=0),this.selectTabstop(vt),this.updateTabstopMarkers(),vt===0&&this.detach()},ut.prototype.selectTabstop=function(wt){this.$openTabstops=null;var bt=this.tabstops[this.index];if(bt&&this.addTabstopMarkers(bt),this.index=wt,bt=this.tabstops[this.index],!(!bt||!bt.length)){this.selectedTabstop=bt;var vt=bt.firstNonLinked||bt;if(bt.choices&&(vt.cursor=vt.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(vt);else{var Et=this.editor.multiSelect;Et.toSingleRange(vt);for(var $t=0;$t<bt.length;$t++)bt.hasLinkedRanges&&bt[$t].linked||Et.addRange(bt[$t].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},ut.prototype.addTabstops=function(wt,bt,vt){var Et=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!wt[0]){var $t=it.fromPoints(vt,vt);gt($t.start,bt),gt($t.end,bt),wt[0]=[$t],wt[0].index=0}var Tt=this.index,At=[Tt+1,0],Ct=this.ranges,It=this.snippetId=(this.snippetId||0)+1;wt.forEach(function(Lt,Ft){var Dt=this.$openTabstops[Ft]||Lt;Dt.snippetId=It;for(var Vt=0;Vt<Lt.length;Vt++){var Ut=Lt[Vt],Qt=it.fromPoints(Ut.start,Ut.end||Ut.start);mt(Qt.start,bt),mt(Qt.end,bt),Qt.original=Ut,Qt.tabstop=Dt,Ct.push(Qt),Dt!=Lt?Dt.unshift(Qt):Dt[Vt]=Qt,Ut.fmtString||Dt.firstNonLinked&&Et?(Qt.linked=!0,Dt.hasLinkedRanges=!0):Dt.firstNonLinked||(Dt.firstNonLinked=Qt)}Dt.firstNonLinked||(Dt.hasLinkedRanges=!1),Dt===Lt&&(At.push(Dt),this.$openTabstops[Ft]=Dt),this.addTabstopMarkers(Dt),Dt.rangeList=Dt.rangeList||new j,Dt.rangeList.$bias=0,Dt.rangeList.addList(Dt)},this),At.length>2&&(this.tabstops.length&&At.push(At.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,At))},ut.prototype.addTabstopMarkers=function(wt){var bt=this.session;wt.forEach(function(vt){vt.markerId||(vt.markerId=bt.addMarker(vt,"ace_snippet-marker","text"))})},ut.prototype.removeTabstopMarkers=function(wt){var bt=this.session;wt.forEach(function(vt){bt.removeMarker(vt.markerId),vt.markerId=null})},ut.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var wt=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&wt--,this.tabstops.forEach(function(bt){bt.snippetId===wt?this.addTabstopMarkers(bt):this.removeTabstopMarkers(bt)},this)}},ut.prototype.removeRange=function(wt){var bt=wt.tabstop.indexOf(wt);bt!=-1&&wt.tabstop.splice(bt,1),bt=this.ranges.indexOf(wt),bt!=-1&&this.ranges.splice(bt,1),bt=wt.tabstop.rangeList.ranges.indexOf(wt),bt!=-1&&wt.tabstop.splice(bt,1),this.session.removeMarker(wt.markerId),wt.tabstop.length||(bt=this.tabstops.indexOf(wt.tabstop),bt!=-1&&this.tabstops.splice(bt,1),this.tabstops.length||this.detach())},ut}();ct.prototype.keyboardHandler=new _,ct.prototype.keyboardHandler.bindKeys({Tab:function(ut){o.snippetManager&&o.snippetManager.expandWithTab(ut)||(ut.tabstopManager.tabNext(1),ut.renderer.scrollCursorIntoView())},"Shift-Tab":function(ut){ut.tabstopManager.tabNext(-1),ut.renderer.scrollCursorIntoView()},Esc:function(ut){ut.tabstopManager.detach()}});var mt=function(ut,wt){ut.row==0&&(ut.column+=wt.column),ut.row+=wt.row},gt=function(ut,wt){ut.row==wt.row&&(ut.column-=wt.column),ut.row-=wt.row};et.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),o.snippetManager=new ht;var yt=a("./editor").Editor;(function(){this.insertSnippet=function(ut,wt){return o.snippetManager.insertSnippet(this,ut,wt)},this.expandSnippet=function(ut){return o.snippetManager.expandWithTab(this,ut)}}).call(yt.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(a,o,rt){var et=a("../virtual_renderer").VirtualRenderer,at=a("../editor").Editor,ot=a("../range").Range,nt=a("../lib/event"),it=a("../lib/lang"),j=a("../lib/dom"),_=a("../config").nls,$=a("./../lib/useragent"),tt=function(mt){return"suggest-aria-id:".concat(mt)},st=$.isSafari?"menu":"listbox",lt=$.isSafari?"menuitem":"option",ht=$.isSafari?"aria-current":"aria-selected",ft=function(mt){var gt=new et(mt);gt.$maxLines=4;var yt=new at(gt);return yt.setHighlightActiveLine(!1),yt.setShowPrintMargin(!1),yt.renderer.setShowGutter(!1),yt.renderer.setHighlightGutterLine(!1),yt.$mouseHandler.$focusTimeout=0,yt.$highlightTagPending=!0,yt},ct=function(){function mt(gt){var yt=j.createElement("div"),ut=ft(yt);gt&&gt.appendChild(yt),yt.style.display="none",ut.renderer.content.style.cursor="default",ut.renderer.setStyle("ace_autocomplete"),ut.renderer.$textLayer.element.setAttribute("role",st),ut.renderer.$textLayer.element.setAttribute("aria-roledescription",_("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),ut.renderer.$textLayer.element.setAttribute("aria-label",_("autocomplete.popup.aria-label","Autocomplete suggestions")),ut.renderer.textarea.setAttribute("aria-hidden","true"),ut.setOption("displayIndentGuides",!1),ut.setOption("dragDelay",150);var wt=function(){};ut.focus=wt,ut.$isFocused=!0,ut.renderer.$cursorLayer.restartTimer=wt,ut.renderer.$cursorLayer.element.style.opacity="0",ut.renderer.$maxLines=8,ut.renderer.$keepTextAreaAtCursor=!1,ut.setHighlightActiveLine(!1),ut.session.highlight(""),ut.session.$searchHighlight.clazz="ace_highlight-marker",ut.on("mousedown",function(Ct){var It=Ct.getDocumentPosition();ut.selection.moveToPosition(It),Et.start.row=Et.end.row=It.row,Ct.stop()});var bt,vt=new ot(-1,0,-1,1/0),Et=new ot(-1,0,-1,1/0);Et.id=ut.session.addMarker(Et,"ace_active-line","fullLine"),ut.setSelectOnHover=function(Ct){Ct?vt.id&&(ut.session.removeMarker(vt.id),vt.id=null):vt.id=ut.session.addMarker(vt,"ace_line-hover","fullLine")},ut.setSelectOnHover(!1),ut.on("mousemove",function(Ct){if(!bt){bt=Ct;return}if(!(bt.x==Ct.x&&bt.y==Ct.y)){bt=Ct,bt.scrollTop=ut.renderer.scrollTop,ut.isMouseOver=!0;var It=bt.getDocumentPosition().row;vt.start.row!=It&&(vt.id||ut.setRow(It),Tt(It))}}),ut.renderer.on("beforeRender",function(){if(bt&&vt.start.row!=-1){bt.$pos=null;var Ct=bt.getDocumentPosition().row;vt.id||ut.setRow(Ct),Tt(Ct,!0)}}),ut.renderer.on("afterRender",function(){var Ct=ut.getRow(),It=ut.renderer.$textLayer,Lt=It.element.childNodes[Ct-It.config.firstRow],Ft=document.activeElement;if(Lt!==ut.selectedNode&&ut.selectedNode&&(j.removeCssClass(ut.selectedNode,"ace_selected"),Ft.removeAttribute("aria-activedescendant"),ut.selectedNode.removeAttribute(ht),ut.selectedNode.removeAttribute("id")),ut.selectedNode=Lt,Lt){j.addCssClass(Lt,"ace_selected");var Dt=tt(Ct);Lt.id=Dt,It.element.setAttribute("aria-activedescendant",Dt),Ft.setAttribute("aria-activedescendant",Dt),Lt.setAttribute("role",lt),Lt.setAttribute("aria-roledescription",_("autocomplete.popup.item.aria-roledescription","item")),Lt.setAttribute("aria-label",ut.getData(Ct).caption||ut.getData(Ct).value),Lt.setAttribute("aria-setsize",ut.data.length),Lt.setAttribute("aria-posinset",Ct+1),Lt.setAttribute("aria-describedby","doc-tooltip"),Lt.setAttribute(ht,"true")}});var $t=function(){Tt(-1)},Tt=function(Ct,It){Ct!==vt.start.row&&(vt.start.row=vt.end.row=Ct,It||ut.session._emit("changeBackMarker"),ut._emit("changeHoverMarker"))};ut.getHoveredRow=function(){return vt.start.row},nt.addListener(ut.container,"mouseout",function(){ut.isMouseOver=!1,$t()}),ut.on("hide",$t),ut.on("changeSelection",$t),ut.session.doc.getLength=function(){return ut.data.length},ut.session.doc.getLine=function(Ct){var It=ut.data[Ct];return typeof It=="string"?It:It&&It.value||""};var At=ut.session.bgTokenizer;return At.$tokenizeRow=function(Ct){var It=ut.data[Ct],Lt=[];if(!It)return Lt;typeof It=="string"&&(It={value:It});var Ft=It.caption||It.value||It.name;function Dt(tr,mr){tr&&Lt.push({type:(It.className||"")+(mr||""),value:tr})}for(var Vt=Ft.toLowerCase(),Ut=(ut.filterText||"").toLowerCase(),Qt=0,Kt=0,Ht=0;Ht<=Ut.length;Ht++)if(Ht!=Kt&&(It.matchMask&1<<Ht||Ht==Ut.length)){var qt=Ut.slice(Kt,Ht);Kt=Ht;var nr=Vt.indexOf(qt,Qt);if(nr==-1)continue;Dt(Ft.slice(Qt,nr),""),Qt=nr+qt.length,Dt(Ft.slice(nr,Qt),"completion-highlight")}return Dt(Ft.slice(Qt,Ft.length),""),Lt.push({type:"completion-spacer",value:" "}),It.meta&&Lt.push({type:"completion-meta",value:It.meta}),It.message&&Lt.push({type:"completion-message",value:It.message}),Lt},At.$updateOnChange=wt,At.start=wt,ut.session.$computeWidth=function(){return this.screenWidth=0},ut.isOpen=!1,ut.isTopdown=!1,ut.autoSelect=!0,ut.filterText="",ut.isMouseOver=!1,ut.data=[],ut.setData=function(Ct,It){ut.filterText=It||"",ut.setValue(it.stringRepeat(`
`,Ct.length),-1),ut.data=Ct||[],ut.setRow(0)},ut.getData=function(Ct){return ut.data[Ct]},ut.getRow=function(){return Et.start.row},ut.setRow=function(Ct){Ct=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,Ct)),Et.start.row!=Ct&&(ut.selection.clearSelection(),Et.start.row=Et.end.row=Ct||0,ut.session._emit("changeBackMarker"),ut.moveCursorTo(Ct||0,0),ut.isOpen&&ut._signal("select"))},ut.on("changeSelection",function(){ut.isOpen&&ut.setRow(ut.selection.lead.row),ut.renderer.scrollCursorIntoView()}),ut.hide=function(){this.container.style.display="none",ut.anchorPos=null,ut.anchor=null,ut.isOpen&&(ut.isOpen=!1,this._signal("hide"))},ut.tryShow=function(Ct,It,Lt,Ft){if(!Ft&&ut.isOpen&&ut.anchorPos&&ut.anchor&&ut.anchorPos.top===Ct.top&&ut.anchorPos.left===Ct.left&&ut.anchor===Lt)return!0;var Dt=this.container,Vt=window.innerHeight,Ut=window.innerWidth,Qt=this.renderer,Kt=Qt.$maxLines*It*1.4,Ht={top:0,bottom:0,left:0},qt=Vt-Ct.top-3*this.$borderSize-It,nr=Ct.top-3*this.$borderSize;Lt||(nr<=qt||qt>=Kt?Lt="bottom":Lt="top"),Lt==="top"?(Ht.bottom=Ct.top-this.$borderSize,Ht.top=Ht.bottom-Kt):Lt==="bottom"&&(Ht.top=Ct.top+It+this.$borderSize,Ht.bottom=Ht.top+Kt);var tr=Ht.top>=0&&Ht.bottom<=Vt;if(!Ft&&!tr)return!1;tr?Qt.$maxPixelHeight=null:Lt==="top"?Qt.$maxPixelHeight=nr:Qt.$maxPixelHeight=qt,Lt==="top"?(Dt.style.top="",Dt.style.bottom=Vt-Ht.bottom+"px",ut.isTopdown=!1):(Dt.style.top=Ht.top+"px",Dt.style.bottom="",ut.isTopdown=!0),Dt.style.display="";var mr=Ct.left;return mr+Dt.offsetWidth>Ut&&(mr=Ut-Dt.offsetWidth),Dt.style.left=mr+"px",Dt.style.right="",ut.isOpen||(ut.isOpen=!0,this._signal("show"),bt=null),ut.anchorPos=Ct,ut.anchor=Lt,!0},ut.show=function(Ct,It,Lt){this.tryShow(Ct,It,Lt?"bottom":void 0,!0)},ut.goTo=function(Ct){var It=this.getRow(),Lt=this.session.getLength()-1;switch(Ct){case"up":It=It<=0?Lt:It-1;break;case"down":It=It>=Lt?-1:It+1;break;case"start":It=0;break;case"end":It=Lt;break}this.setRow(It)},ut.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},ut.$imageSize=0,ut.$borderSize=1,ut}return mt}();j.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),o.AcePopup=ct,o.$singleLineEditor=ft,o.getAriaId=tt}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(a,o,rt){var et=function(){function at(ot){this.editor=ot,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return at.prototype.setScreenReaderContent=function(ot){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var it=this.popup.getRow(),j=this.popup.renderer.$textLayer,_=j.element.childNodes[it-j.config.firstRow];if(_){for(var $="doc-tooltip ",tt=0;tt<this._lines.length;tt++)$+="ace-inline-screenreader-line-".concat(tt," ");_.setAttribute("aria-describedby",$)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=ot.split(/\r\n|\r|\n/);var nt=this.createCodeBlock();this.screenReaderDiv.appendChild(nt)},at.prototype.destroy=function(){this.screenReaderDiv.remove()},at.prototype.createCodeBlock=function(){var ot=document.createElement("pre");ot.setAttribute("id","ace-inline-screenreader");for(var nt=0;nt<this._lines.length;nt++){var it=document.createElement("code");it.setAttribute("id","ace-inline-screenreader-line-".concat(nt));var j=document.createTextNode(this._lines[nt]);it.appendChild(j),ot.appendChild(it)}return ot},at}();o.AceInlineScreenReader=et}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(a,o,rt){var et=a("../snippets").snippetManager,at=a("./inline_screenreader").AceInlineScreenReader,ot=function(){function nt(){this.editor=null}return nt.prototype.show=function(it,j,_){if(_=_||"",it&&this.editor&&this.editor!==it&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!it||!j)return!1;this.inlineScreenReader||(this.inlineScreenReader=new at(it));var $=j.snippet?et.getDisplayTextForSnippet(it,j.snippet):j.value;return j.hideInlinePreview||!$||!$.startsWith(_)?!1:(this.editor=it,this.inlineScreenReader.setScreenReaderContent($),$=$.slice(_.length),$===""?it.removeGhostText():it.setGhostText($),!0)},nt.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},nt.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},nt.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},nt}();o.AceInline=ot}),ace.define("ace/autocomplete/util",["require","exports","module"],function(a,o,rt){o.parForEach=function(at,ot,nt){var it=0,j=at.length;j===0&&nt();for(var _=0;_<j;_++)ot(at[_],function($,tt){it++,it===j&&nt($,tt)})};var et=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;o.retrievePrecedingIdentifier=function(at,ot,nt){nt=nt||et;for(var it=[],j=ot-1;j>=0&&nt.test(at[j]);j--)it.push(at[j]);return it.reverse().join("")},o.retrieveFollowingIdentifier=function(at,ot,nt){nt=nt||et;for(var it=[],j=ot;j<at.length&&nt.test(at[j]);j++)it.push(at[j]);return it},o.getCompletionPrefix=function(at){var ot=at.getCursorPosition(),nt=at.session.getLine(ot.row),it;return at.completers.forEach((function(j){j.identifierRegexps&&j.identifierRegexps.forEach((function(_){!it&&_&&(it=this.retrievePrecedingIdentifier(nt,ot.column,_))}).bind(this))}).bind(this)),it||this.retrievePrecedingIdentifier(nt,ot.column)},o.triggerAutocomplete=function(at,nt){var nt=nt??at.session.getPrecedingCharacter();return at.completers.some(function(it){if(it.triggerCharacters&&Array.isArray(it.triggerCharacters))return it.triggerCharacters.includes(nt)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(a,o,rt){var et=a("./keyboard/hash_handler").HashHandler,at=a("./autocomplete/popup").AcePopup,ot=a("./autocomplete/inline").AceInline,nt=a("./autocomplete/popup").getAriaId,it=a("./autocomplete/util"),j=a("./lib/lang"),_=a("./lib/dom"),$=a("./snippets").snippetManager,tt=a("./config"),st=a("./lib/event"),lt=a("./lib/scroll").preventParentScroll,ht=function(gt,yt){yt.completer&&yt.completer.destroy()},ft=function(){function gt(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new et,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=j.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=j.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=j.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=j.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=j.delayedCall((function(){var yt=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!yt||this.editor.completers.length===0||(this.completions=new mt(gt.completionsForLoading),this.openPopup(this.editor,yt.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(gt,"completionsForLoading",{get:function(){return[{caption:tt.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),gt.prototype.$init=function(){return this.popup=new at(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(yt){this.insertMatch(),yt.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),st.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},gt.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new ot,this.inlineRenderer},gt.prototype.getPopup=function(){return this.popup||this.$init()},gt.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},gt.prototype.$seen=function(yt){!this.hasSeen.has(yt)&&yt&&yt.completer&&yt.completer.onSeen&&typeof yt.completer.onSeen=="function"&&(yt.completer.onSeen(this.editor,yt),this.hasSeen.add(yt))},gt.prototype.$onPopupChange=function(yt){if(this.inlineRenderer&&this.inlineEnabled){var ut=yt?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(ut),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},gt.prototype.$updateGhostText=function(yt){var ut=this.base.row,wt=this.base.column,bt=this.editor.getCursorPosition().column,vt=this.editor.session.getLine(ut).slice(wt,bt);this.inlineRenderer.show(this.editor,yt,vt)?this.$seen(yt):this.inlineRenderer.hide()},gt.prototype.$onPopupRender=function(){var yt=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var ut=this.popup.getFirstVisibleRow();ut<=this.popup.getLastVisibleRow();ut++){var wt=this.popup.getData(ut);wt&&(!yt||wt.hideInlinePreview)&&this.$seen(wt)}},gt.prototype.$onPopupShow=function(yt){this.$onPopupChange(yt),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},gt.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var yt=this.editor.container.parentNode,ut=[];yt;)ut.push(yt),yt.addEventListener("scroll",this.onLayoutChange,{passive:!0}),yt=yt.parentNode;this.$elements=ut}},gt.prototype.unObserveLayoutChanges=function(){var yt=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(ut){ut.removeEventListener("scroll",yt.onLayoutChange,{passive:!0})}),this.$elements=null},gt.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},gt.prototype.$updatePopupPosition=function(){var yt=this.editor,ut=yt.renderer,wt=ut.layerConfig.lineHeight,bt=ut.$cursorLayer.getPixelPosition(this.base,!0);bt.left-=this.popup.getTextLeftOffset();var vt=yt.container.getBoundingClientRect();bt.top+=vt.top-ut.layerConfig.offset,bt.left+=vt.left-yt.renderer.scrollLeft,bt.left+=ut.gutterWidth;var Et={top:bt.top,left:bt.left};ut.$ghostText&&ut.$ghostTextWidget&&this.base.row===ut.$ghostText.position.row&&(Et.top+=ut.$ghostTextWidget.el.offsetHeight);var $t=yt.container.getBoundingClientRect().bottom-wt,Tt=$t<Et.top?{top:$t,left:Et.left}:Et;this.popup.tryShow(Tt,wt,"bottom")||this.popup.tryShow(bt,wt,"top")||this.popup.show(bt,wt)},gt.prototype.openPopup=function(yt,ut,wt){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var bt=this.popup.getRow(),vt=this.popup.data[bt];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:nt(this.popup.getRow()),inline:this.inlineEnabled}),yt.keyBinding.addKeyboardHandler(this.keyboardHandler);var Et;this.stickySelection&&(Et=this.popup.data.indexOf(vt)),(!Et||Et===-1)&&(Et=0),this.popup.setRow(this.autoSelect?Et:-1),Et===bt&&vt!==this.completions.filtered[Et]&&this.$onPopupChange();var $t=this.inlineRenderer&&this.inlineEnabled;if(Et===bt&&$t){var Tt=this.popup.getData(this.popup.getRow());this.$updateGhostText(Tt)}wt||(this.popup.setTheme(yt.getTheme()),this.popup.setFontSize(yt.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},gt.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},gt.prototype.changeListener=function(yt){var ut=this.editor.selection.lead;(ut.row!=this.base.row||ut.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},gt.prototype.blurListener=function(yt){var ut=document.activeElement,wt=this.editor.textInput.getElement(),bt=yt.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(yt.relatedTarget),vt=this.popup&&this.popup.container;ut!=wt&&ut.parentNode!=vt&&!bt&&ut!=this.tooltipNode&&yt.relatedTarget!=wt&&this.detach()},gt.prototype.mousedownListener=function(yt){this.detach()},gt.prototype.mousewheelListener=function(yt){this.popup&&!this.popup.isMouseOver&&this.detach()},gt.prototype.mouseOutListener=function(yt){this.popup.isOpen&&this.$updatePopupPosition()},gt.prototype.goTo=function(yt){this.popup.goTo(yt)},gt.prototype.insertMatch=function(yt,ut){if(yt||(yt=this.popup.getData(this.popup.getRow())),!yt)return!1;if(yt.value==="")return this.detach();var wt=this.completions,bt=this.getCompletionProvider().insertMatch(this.editor,yt,wt.filterText,ut);return this.completions==wt&&this.detach(),bt},gt.prototype.showPopup=function(yt,ut){this.editor&&this.detach(),this.activated=!0,this.editor=yt,yt.completer!=this&&(yt.completer&&yt.completer.detach(),yt.completer=this),yt.on("changeSelection",this.changeListener),yt.on("blur",this.blurListener),yt.on("mousedown",this.mousedownListener),yt.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,ut)},gt.prototype.getCompletionProvider=function(yt){return this.completionProvider||(this.completionProvider=new ct(yt)),this.completionProvider},gt.prototype.gatherCompletions=function(yt,ut){return this.getCompletionProvider().gatherCompletions(yt,ut)},gt.prototype.updateCompletions=function(yt,ut){if(yt&&this.base&&this.completions){var bt=this.editor.getCursorPosition(),vt=this.editor.session.getTextRange({start:this.base,end:bt});if(vt==this.completions.filterText)return;if(this.completions.setFilter(vt),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==vt&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,vt,yt);return}if(ut&&ut.matches){var bt=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(bt.row,bt.column),this.base.$insertRight=!0,this.completions=new mt(ut.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",yt)}var wt=this.editor.getSession(),bt=this.editor.getCursorPosition(),vt=it.getCompletionPrefix(this.editor);this.base=wt.doc.createAnchor(bt.row,bt.column-vt.length),this.base.$insertRight=!0;var Et={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:vt,pos:bt}).provideCompletions(this.editor,Et,(function($t,Tt,At){var Ct=Tt.filtered,It=it.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),At){if(!Ct.length){var Lt=!this.autoShown&&this.emptyMessage;if(typeof Lt=="function"&&(Lt=this.emptyMessage(It)),Lt){var Ft=[{caption:Lt,value:""}];this.completions=new mt(Ft),this.openPopup(this.editor,It,yt),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(Ct.length==1&&Ct[0].value==It&&!Ct[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&Ct.length==1)return this.insertMatch(Ct[0])}this.completions=!At&&this.showLoadingState?new mt(gt.completionsForLoading.concat(Ct),Tt.filterText):Tt,this.openPopup(this.editor,It,yt),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!At)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},gt.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},gt.prototype.updateDocTooltip=function(){var yt=this.popup,ut=this.completions.filtered,wt=ut&&(ut[yt.getHoveredRow()]||ut[yt.getRow()]),bt=null;if(!wt||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var vt=this.editor.completers.length,Et=0;Et<vt;Et++){var $t=this.editor.completers[Et];if($t.getDocTooltip&&wt.completerId===$t.id){bt=$t.getDocTooltip(wt);break}}if(!bt&&typeof wt!="string"&&(bt=wt),typeof bt=="string"&&(bt={docText:bt}),!bt||!(bt.docHTML||bt.docText))return this.hideDocTooltip();this.showDocTooltip(bt)},gt.prototype.showDocTooltip=function(yt){this.tooltipNode||(this.tooltipNode=_.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",lt));var ut=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(ut.isDark?"ace_dark ":"")+(ut.cssClass||"");var wt=this.tooltipNode;yt.docHTML?wt.innerHTML=yt.docHTML:yt.docText&&(wt.textContent=yt.docText),wt.parentNode||this.popup.container.appendChild(this.tooltipNode);var bt=this.popup,vt=bt.container.getBoundingClientRect();wt.style.top=bt.container.style.top,wt.style.bottom=bt.container.style.bottom,wt.style.display="block",window.innerWidth-vt.right<320?vt.left<320?bt.isTopdown?(wt.style.top=vt.bottom+"px",wt.style.left=vt.left+"px",wt.style.right="",wt.style.bottom=""):(wt.style.top=bt.container.offsetTop-wt.offsetHeight+"px",wt.style.left=vt.left+"px",wt.style.right="",wt.style.bottom=""):(wt.style.right=window.innerWidth-vt.left+"px",wt.style.left=""):(wt.style.left=vt.right+1+"px",wt.style.right="")},gt.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var yt=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==yt&&this.editor.focus(),this.tooltipNode=null,yt.parentNode&&yt.parentNode.removeChild(yt)}},gt.prototype.onTooltipClick=function(yt){for(var ut=yt.target;ut&&ut!=this.tooltipNode;){if(ut.nodeName=="A"&&ut.href){ut.rel="noreferrer",ut.target="_blank";break}ut=ut.parentNode}},gt.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var yt=this.popup.container;yt&&yt.parentNode&&yt.parentNode.removeChild(yt)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",ht),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},gt}();ft.prototype.commands={Up:function(gt){gt.completer.goTo("up")},Down:function(gt){gt.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(gt){gt.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(gt){gt.completer.goTo("end")},Esc:function(gt){gt.completer.detach()},Return:function(gt){return gt.completer.insertMatch()},"Shift-Return":function(gt){gt.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(gt){var yt=gt.completer.insertMatch();if(!yt&&!gt.tabstopManager)gt.completer.goTo("down");else return yt},Backspace:function(gt){gt.execCommand("backspace");var yt=it.getCompletionPrefix(gt);!yt&&gt.completer&&gt.completer.detach()},PageUp:function(gt){gt.completer.popup.gotoPageUp()},PageDown:function(gt){gt.completer.popup.gotoPageDown()}},ft.for=function(gt){return gt.completer instanceof ft||(gt.completer&&(gt.completer.destroy(),gt.completer=null),tt.get("sharedPopups")?(ft.$sharedInstance||(ft.$sharedInstance=new ft),gt.completer=ft.$sharedInstance):(gt.completer=new ft,gt.once("destroy",ht))),gt.completer},ft.startCommand={name:"startAutocomplete",exec:function(gt,yt){var ut=ft.for(gt);ut.autoInsert=!1,ut.autoSelect=!0,ut.autoShown=!1,ut.showPopup(gt,yt),ut.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var ct=function(){function gt(yt){this.initialPosition=yt,this.active=!0}return gt.prototype.insertByIndex=function(yt,ut,wt){return!this.completions||!this.completions.filtered?!1:this.insertMatch(yt,this.completions.filtered[ut],wt)},gt.prototype.insertMatch=function(yt,ut,wt){if(!ut)return!1;if(yt.startOperation({command:{name:"insertMatch"}}),ut.completer&&ut.completer.insertMatch)ut.completer.insertMatch(yt,ut);else{if(!this.completions)return!1;var bt=this.completions.filterText.length,vt=0;if(ut.range&&ut.range.start.row===ut.range.end.row&&(bt-=this.initialPosition.prefix.length,bt+=this.initialPosition.pos.column-ut.range.start.column,vt+=ut.range.end.column-this.initialPosition.pos.column),bt||vt){var Et;yt.selection.getAllRanges?Et=yt.selection.getAllRanges():Et=[yt.getSelectionRange()];for(var $t=0,Tt;Tt=Et[$t];$t++)Tt.start.column-=bt,Tt.end.column+=vt,yt.session.remove(Tt)}ut.snippet?$.insertSnippet(yt,ut.snippet):this.$insertString(yt,ut),ut.completer&&ut.completer.onInsert&&typeof ut.completer.onInsert=="function"&&ut.completer.onInsert(yt,ut),ut.command&&ut.command==="startAutocomplete"&&yt.execCommand(ut.command)}return yt.endOperation(),!0},gt.prototype.$insertString=function(yt,ut){var wt=ut.value||ut;yt.execCommand("insertstring",wt)},gt.prototype.gatherCompletions=function(yt,ut){var wt=yt.getSession(),bt=yt.getCursorPosition(),vt=it.getCompletionPrefix(yt),Et=[];this.completers=yt.completers;var $t=yt.completers.length;return yt.completers.forEach(function(Tt,At){Tt.getCompletions(yt,wt,bt,vt,function(Ct,It){Tt.hideInlinePreview&&(It=It.map(function(Lt){return Object.assign(Lt,{hideInlinePreview:Tt.hideInlinePreview})})),!Ct&&It&&(Et=Et.concat(It)),ut(null,{prefix:it.getCompletionPrefix(yt),matches:Et,finished:--$t===0})})}),!0},gt.prototype.provideCompletions=function(yt,ut,wt){var bt=(function(Tt){var At=Tt.prefix,Ct=Tt.matches;this.completions=new mt(Ct),ut.exactMatch&&(this.completions.exactMatch=!0),ut.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(At),(Tt.finished||this.completions.filtered.length)&&wt(null,this.completions,Tt.finished)}).bind(this),vt=!0,Et=null;if(this.gatherCompletions(yt,(function(Tt,At){if(this.active){Tt&&(wt(Tt,[],!0),this.detach());var Ct=At.prefix;if(Ct.indexOf(At.prefix)===0){if(vt){Et=At;return}bt(At)}}}).bind(this)),vt=!1,Et){var $t=Et;Et=null,bt($t)}},gt.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(yt){typeof yt.cancel=="function"&&yt.cancel()})},gt}(),mt=function(){function gt(yt,ut){this.all=yt,this.filtered=yt,this.filterText=ut||"",this.exactMatch=!1,this.ignoreCaption=!1}return gt.prototype.setFilter=function(yt){if(yt.length>this.filterText&&yt.lastIndexOf(this.filterText,0)===0)var ut=this.filtered;else var ut=this.all;this.filterText=yt,ut=this.filterCompletions(ut,this.filterText),ut=ut.sort(function(bt,vt){return vt.exactMatch-bt.exactMatch||vt.$score-bt.$score||(bt.caption||bt.value).localeCompare(vt.caption||vt.value)});var wt=null;ut=ut.filter(function(bt){var vt=bt.snippet||bt.caption||bt.value;return vt===wt?!1:(wt=vt,!0)}),this.filtered=ut},gt.prototype.filterCompletions=function(yt,ut){var wt=[],bt=ut.toUpperCase(),vt=ut.toLowerCase();e:for(var Et=0,$t;$t=yt[Et];Et++){var Tt=!this.ignoreCaption&&$t.caption||$t.value||$t.snippet;if(Tt){var At=-1,Ct=0,It=0,Lt,Ft;if(this.exactMatch){if(ut!==Tt.substr(0,ut.length))continue e}else{var Dt=Tt.toLowerCase().indexOf(vt);if(Dt>-1)It=Dt;else for(var Vt=0;Vt<ut.length;Vt++){var Ut=Tt.indexOf(vt[Vt],At+1),Qt=Tt.indexOf(bt[Vt],At+1);if(Lt=Ut>=0&&(Qt<0||Ut<Qt)?Ut:Qt,Lt<0)continue e;Ft=Lt-At-1,Ft>0&&(At===-1&&(It+=10),It+=Ft,Ct=Ct|1<<Vt),At=Lt}}$t.matchMask=Ct,$t.exactMatch=It?0:1,$t.$score=($t.score||0)-It,wt.push($t)}}return wt},gt}();o.Autocomplete=ft,o.CompletionProvider=ct,o.FilteredList=mt}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(a,o,rt){var et=a("../range").Range,at=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function ot(it,j){var _=it.getTextRange(et.fromPoints({row:0,column:0},j));return _.split(at).length-1}function nt(it,j){var _=ot(it,j),$=it.getValue().split(at),tt=Object.create(null),st=$[_];return $.forEach(function(lt,ht){if(!(!lt||lt===st)){var ft=Math.abs(_-ht),ct=$.length-ft;tt[lt]?tt[lt]=Math.max(ct,tt[lt]):tt[lt]=ct}}),tt}o.getCompletions=function(it,j,_,$,tt){var st=nt(j,_),lt=Object.keys(st);tt(null,lt.map(function(ht){return{caption:ht,value:ht,score:st[ht],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(a,o,rt){var et=a("../snippets").snippetManager,at=a("../autocomplete").Autocomplete,ot=a("../config"),nt=a("../lib/lang"),it=a("../autocomplete/util"),j=a("../autocomplete/text_completer"),_={getCompletions:function(bt,vt,Et,$t,Tt){if(vt.$mode.completer)return vt.$mode.completer.getCompletions(bt,vt,Et,$t,Tt);var At=bt.session.getState(Et.row),Ct=vt.$mode.getCompletions(At,vt,Et,$t);Ct=Ct.map(function(It){return It.completerId=_.id,It}),Tt(null,Ct)},id:"keywordCompleter"},$=function(bt){var vt={};return bt.replace(/\${(\d+)(:(.*?))?}/g,function(Et,$t,Tt,At){return vt[$t]=At||""}).replace(/\$(\d+?)/g,function(Et,$t){return vt[$t]})},tt={getCompletions:function(bt,vt,Et,$t,Tt){var At=[],Ct=vt.getTokenAt(Et.row,Et.column);Ct&&Ct.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?At.push("html-tag"):At=et.getActiveScopes(bt);var It=et.snippetMap,Lt=[];At.forEach(function(Ft){for(var Dt=It[Ft]||[],Vt=Dt.length;Vt--;){var Ut=Dt[Vt],Qt=Ut.name||Ut.tabTrigger;Qt&&Lt.push({caption:Qt,snippet:Ut.content,meta:Ut.tabTrigger&&!Ut.name?Ut.tabTrigger+" ":"snippet",completerId:tt.id})}},this),Tt(null,Lt)},getDocTooltip:function(bt){bt.snippet&&!bt.docHTML&&(bt.docHTML=["<b>",nt.escapeHTML(bt.caption),"</b>","<hr></hr>",nt.escapeHTML($(bt.snippet))].join(""))},id:"snippetCompleter"},st=[tt,j,_];o.setCompleters=function(bt){st.length=0,bt&&st.push.apply(st,bt)},o.addCompleter=function(bt){st.push(bt)},o.textCompleter=j,o.keyWordCompleter=_,o.snippetCompleter=tt;var lt={name:"expandSnippet",exec:function(bt){return et.expandWithTab(bt)},bindKey:"Tab"},ht=function(bt,vt){ft(vt.session.$mode)},ft=function(bt){typeof bt=="string"&&(bt=ot.$modes[bt]),bt&&(et.files||(et.files={}),ct(bt.$id,bt.snippetFileId),bt.modes&&bt.modes.forEach(ft))},ct=function(bt,vt){!vt||!bt||et.files[bt]||(et.files[bt]={},ot.loadModule(vt,function(Et){Et&&(et.files[bt]=Et,!Et.snippets&&Et.snippetText&&(Et.snippets=et.parseSnippetFile(Et.snippetText)),et.register(Et.snippets||[],Et.scope),Et.includeScopes&&(et.snippetMap[Et.scope].includeScopes=Et.includeScopes,Et.includeScopes.forEach(function($t){ft("ace/mode/"+$t)})))}))},mt=function(bt){var vt=bt.editor,Et=vt.completer&&vt.completer.activated;if(bt.command.name==="backspace")Et&&!it.getCompletionPrefix(vt)&&vt.completer.detach();else if(bt.command.name==="insertstring"&&!Et){gt=bt;var $t=bt.editor.$liveAutocompletionDelay;$t?yt.delay($t):ut(bt)}},gt,yt=nt.delayedCall(function(){ut(gt)},0),ut=function(bt){var vt=bt.editor,Et=it.getCompletionPrefix(vt),$t=bt.args,Tt=it.triggerAutocomplete(vt,$t);if(Et&&Et.length>=vt.$liveAutocompletionThreshold||Tt){var At=at.for(vt);At.autoShown=!0,At.showPopup(vt)}},wt=a("../editor").Editor;a("../config").defineOptions(wt.prototype,"editor",{enableBasicAutocompletion:{set:function(bt){bt?(this.completers||(this.completers=Array.isArray(bt)?bt:st),this.commands.addCommand(at.startCommand)):this.commands.removeCommand(at.startCommand)},value:!1},enableLiveAutocompletion:{set:function(bt){bt?(this.completers||(this.completers=Array.isArray(bt)?bt:st),this.commands.on("afterExec",mt)):this.commands.off("afterExec",mt)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(bt){bt?(this.commands.addCommand(lt),this.on("changeMode",ht),ht(null,this)):(this.commands.removeCommand(lt),this.off("changeMode",ht))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(a){i&&(i.exports=a)})}()})(extLanguage_tools);var modeJavascript={exports:{}};(function(i,s){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,o,rt){var et=a("../lib/oop"),at=a("./text_highlight_rules").TextHighlightRules,ot=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},ot.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};et.inherits(ot,at),ot.getTagRule=function(nt){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},ot.getStartRule=function(nt){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:nt}},ot.getEndRule=function(nt){return{token:"comment.doc",regex:"\\*\\/",next:nt}},o.JsDocCommentHighlightRules=ot}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(a,o,rt){var et=a("../lib/oop"),at=a("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,ot=a("./text_highlight_rules").TextHighlightRules,nt="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",it=function($){var tt={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},st=this.createKeywordMapper(tt,"identifier"),lt="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",ht="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",ft="(function)(\\s*)(\\*?)",ct={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(tt).join("|")+"\\b)"+nt+")(\\s*)(\\()"};this.$rules={no_regex:[at.getStartRule("doc-start"),_("no_regex"),ct,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+nt+")(\\s*)(=)(\\s*)"+ft+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+nt+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+nt+")(\\s*)(:)(\\s*)"+ft+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+ft+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+lt+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:st,regex:nt},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:ft+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:nt},{regex:"",token:"empty",next:"no_regex"}],start:[at.getStartRule("doc-start"),_("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[_("function_arguments"),{token:"variable.parameter",regex:nt},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:ht},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:ht},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!$||!$.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(mt,gt,yt){if(this.next=mt=="{"?this.nextState:"",mt=="{"&&yt.length)yt.unshift("start",gt);else if(mt=="}"&&yt.length&&(yt.shift(),this.next=yt.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return mt=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:ht},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+nt+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!$||$.jsx!=!1)&&j.call(this)),this.embedRules(at,"doc-",[at.getEndRule("no_regex")]),this.normalizeRules()};et.inherits(it,ot);function j(){var $=nt.replace("\\d","\\d\\-"),tt={onMatch:function(lt,ht,ft){var ct=lt.charAt(1)=="/"?2:1;return ct==1?(ht!=this.nextState?ft.unshift(this.next,this.nextState,0):ft.unshift(this.next),ft[2]++):ct==2&&ht==this.nextState&&(ft[1]--,(!ft[1]||ft[1]<0)&&(ft.shift(),ft.shift())),[{type:"meta.tag.punctuation."+(ct==1?"":"end-")+"tag-open.xml",value:lt.slice(0,ct)},{type:"meta.tag.tag-name.xml",value:lt.substr(ct)}]},regex:"</?(?:"+$+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(tt);var st={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[st,tt,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(lt,ht,ft){return ht==ft[0]&&ft.shift(),lt.length==2&&(ft[0]==this.nextState&&ft[1]--,(!ft[1]||ft[1]<0)&&ft.splice(0,2)),this.next=ft[0]||"start",[{type:this.token,value:lt}]},nextState:"jsx"},st,_("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:$},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},tt],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function _($){return[{token:"comment",regex:/\/\*/,next:[at.getTagRule(),{token:"comment",regex:"\\*\\/",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[at.getTagRule(),{token:"comment",regex:"$|^",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}o.JavaScriptHighlightRules=it}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(a,o,rt){var et=a("../range").Range,at=function(){};(function(){this.checkOutdent=function(ot,nt){return/^\s+$/.test(ot)?/^\s*\}/.test(nt):!1},this.autoOutdent=function(ot,nt){var it=ot.getLine(nt),j=it.match(/^(\s*\})/);if(!j)return 0;var _=j[1].length,$=ot.findMatchingBracket({row:nt,column:_});if(!$||$.row==nt)return 0;var tt=this.$getIndent(ot.getLine($.row));ot.replace(new et(nt,0,nt,_-1),tt)},this.$getIndent=function(ot){return ot.match(/^\s*/)[0]}}).call(at.prototype),o.MatchingBraceOutdent=at}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(a,o,rt){var et=a("../../lib/oop"),at=a("../behaviour").Behaviour,ot=a("../../token_iterator").TokenIterator;function nt(j,_){return j&&j.type.lastIndexOf(_+".xml")>-1}var it=function(){this.add("string_dquotes","insertion",function(j,_,$,tt,st){if(st=='"'||st=="'"){var lt=st,ht=tt.doc.getTextRange($.getSelectionRange());if(ht!==""&&ht!=="'"&&ht!='"'&&$.getWrapBehavioursEnabled())return{text:lt+ht+lt,selection:!1};var ft=$.getCursorPosition(),ct=tt.doc.getLine(ft.row),mt=ct.substring(ft.column,ft.column+1),gt=new ot(tt,ft.row,ft.column),yt=gt.getCurrentToken();if(mt==lt&&(nt(yt,"attribute-value")||nt(yt,"string")))return{text:"",selection:[1,1]};if(yt||(yt=gt.stepBackward()),!yt)return;for(;nt(yt,"tag-whitespace")||nt(yt,"whitespace");)yt=gt.stepBackward();var ut=!mt||mt.match(/\s/);if(nt(yt,"attribute-equals")&&(ut||mt==">")||nt(yt,"decl-attribute-equals")&&(ut||mt=="?"))return{text:lt+lt,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(j,_,$,tt,st){var lt=tt.doc.getTextRange(st);if(!st.isMultiLine()&&(lt=='"'||lt=="'")){var ht=tt.doc.getLine(st.start.row),ft=ht.substring(st.start.column+1,st.start.column+2);if(ft==lt)return st.end.column++,st}}),this.add("autoclosing","insertion",function(j,_,$,tt,st){if(st==">"){var lt=$.getSelectionRange().start,ht=new ot(tt,lt.row,lt.column),ft=ht.getCurrentToken()||ht.stepBackward();if(!ft||!(nt(ft,"tag-name")||nt(ft,"tag-whitespace")||nt(ft,"attribute-name")||nt(ft,"attribute-equals")||nt(ft,"attribute-value"))||nt(ft,"reference.attribute-value"))return;if(nt(ft,"attribute-value")){var ct=ht.getCurrentTokenColumn()+ft.value.length;if(lt.column<ct)return;if(lt.column==ct){var mt=ht.stepForward();if(mt&&nt(mt,"attribute-value"))return;ht.stepBackward()}}if(/^\s*>/.test(tt.getLine(lt.row).slice(lt.column)))return;for(;!nt(ft,"tag-name");)if(ft=ht.stepBackward(),ft.value=="<"){ft=ht.stepForward();break}var gt=ht.getCurrentTokenRow(),yt=ht.getCurrentTokenColumn();if(nt(ht.stepBackward(),"end-tag-open"))return;var ut=ft.value;return gt==lt.row&&(ut=ut.substring(0,lt.column-yt)),this.voidElements&&this.voidElements.hasOwnProperty(ut.toLowerCase())?void 0:{text:"></"+ut+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(j,_,$,tt,st){if(st==`
`){var lt=$.getCursorPosition(),ht=tt.getLine(lt.row),ft=new ot(tt,lt.row,lt.column),ct=ft.getCurrentToken();if(nt(ct,"")&&ct.type.indexOf("tag-close")!==-1){if(ct.value=="/>")return;for(;ct&&ct.type.indexOf("tag-name")===-1;)ct=ft.stepBackward();if(!ct)return;var mt=ct.value,gt=ft.getCurrentTokenRow();if(ct=ft.stepBackward(),!ct||ct.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[mt]||!this.voidElements){var yt=tt.getTokenAt(lt.row,lt.column+1),ht=tt.getLine(gt),ut=this.$getIndent(ht),wt=ut+tt.getTabString();return yt&&yt.value==="</"?{text:`
`+wt+`
`+ut,selection:[1,wt.length,1,wt.length]}:{text:`
`+wt}}}}})};et.inherits(it,at),o.XmlBehaviour=it}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(a,o,rt){var et=a("../../lib/oop"),at=a("../../token_iterator").TokenIterator,ot=a("../behaviour/cstyle").CstyleBehaviour,nt=a("../behaviour/xml").XmlBehaviour,it=function(){var j=new nt({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(j),this.inherit(ot),this.add("autoclosing-fragment","insertion",function(_,$,tt,st,lt){if(lt==">"){var ht=tt.getSelectionRange().start,ft=new at(st,ht.row,ht.column),ct=ft.getCurrentToken()||ft.stepBackward();if(!ct)return;if(ct.value=="<")return{text:"></>",selection:[1,1]}}})};et.inherits(it,ot),o.JavaScriptBehaviour=it}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(a,o,rt){var et=a("../../lib/oop"),at=a("../../range").Range,ot=a("./fold_mode").FoldMode,nt=o.FoldMode=function(_,$){ot.call(this),this.voidElements=_||{},this.optionalEndTags=et.mixin({},this.voidElements),$&&et.mixin(this.optionalEndTags,$)};et.inherits(nt,ot);var it=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function j(_,$){return _.type.lastIndexOf($+".xml")>-1}(function(){this.getFoldWidget=function(_,$,tt){var st=this._getFirstTagInLine(_,tt);return st?st.closing||!st.tagName&&st.selfClosing?$==="markbeginend"?"end":"":!st.tagName||st.selfClosing||this.voidElements.hasOwnProperty(st.tagName.toLowerCase())||this._findEndTagInLine(_,tt,st.tagName,st.end.column)?"":"start":this.getCommentFoldWidget(_,tt)},this.getCommentFoldWidget=function(_,$){return/comment/.test(_.getState($))&&/<!-/.test(_.getLine($))?"start":""},this._getFirstTagInLine=function(_,$){for(var tt=_.getTokens($),st=new it,lt=0;lt<tt.length;lt++){var ht=tt[lt];if(j(ht,"tag-open")){if(st.end.column=st.start.column+ht.value.length,st.closing=j(ht,"end-tag-open"),ht=tt[++lt],!ht)return null;if(st.tagName=ht.value,ht.value===""){if(ht=tt[++lt],!ht)return null;st.tagName=ht.value}for(st.end.column+=ht.value.length,lt++;lt<tt.length;lt++)if(ht=tt[lt],st.end.column+=ht.value.length,j(ht,"tag-close")){st.selfClosing=ht.value=="/>";break}return st}else if(j(ht,"tag-close"))return st.selfClosing=ht.value=="/>",st;st.start.column+=ht.value.length}return null},this._findEndTagInLine=function(_,$,tt,st){for(var lt=_.getTokens($),ht=0,ft=0;ft<lt.length;ft++){var ct=lt[ft];if(ht+=ct.value.length,!(ht<st-1)&&j(ct,"end-tag-open")&&(ct=lt[ft+1],j(ct,"tag-name")&&ct.value===""&&(ct=lt[ft+2]),ct&&ct.value==tt))return!0}return!1},this.getFoldWidgetRange=function(_,$,tt){var st=this._getFirstTagInLine(_,tt);if(!st)return this.getCommentFoldWidget(_,tt)&&_.getCommentFoldRange(tt,_.getLine(tt).length);var lt=_.getMatchingTags({row:tt,column:0});if(lt)return new at(lt.openTag.end.row,lt.openTag.end.column,lt.closeTag.start.row,lt.closeTag.start.column)}}).call(nt.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(a,o,rt){var et=a("../../lib/oop"),at=a("../../range").Range,ot=a("./fold_mode").FoldMode,nt=o.FoldMode=function(it){it&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+it.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+it.end)))};et.inherits(nt,ot),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(it,j,_){var $=it.getLine(_);if(this.singleLineBlockCommentRe.test($)&&!this.startRegionRe.test($)&&!this.tripleStarBlockCommentRe.test($))return"";var tt=this._getFoldWidgetBase(it,j,_);return!tt&&this.startRegionRe.test($)?"start":tt},this.getFoldWidgetRange=function(it,j,_,$){var tt=it.getLine(_);if(this.startRegionRe.test(tt))return this.getCommentRegionBlock(it,tt,_);var ht=tt.match(this.foldingStartMarker);if(ht){var st=ht.index;if(ht[1])return this.openingBracketBlock(it,ht[1],_,st);var lt=it.getCommentFoldRange(_,st+ht[0].length,1);return lt&&!lt.isMultiLine()&&($?lt=this.getSectionRange(it,_):j!="all"&&(lt=null)),lt}if(j!=="markbegin"){var ht=tt.match(this.foldingStopMarker);if(ht){var st=ht.index+ht[0].length;return ht[1]?this.closingBracketBlock(it,ht[1],_,st):it.getCommentFoldRange(_,st,-1)}}},this.getSectionRange=function(it,j){var _=it.getLine(j),$=_.search(/\S/),tt=j,st=_.length;j=j+1;for(var lt=j,ht=it.getLength();++j<ht;){_=it.getLine(j);var ft=_.search(/\S/);if(ft!==-1){if($>ft)break;var ct=this.getFoldWidgetRange(it,"all",j);if(ct){if(ct.start.row<=tt)break;if(ct.isMultiLine())j=ct.end.row;else if($==ft)break}lt=j}}return new at(tt,st,lt,it.getLine(lt).length)},this.getCommentRegionBlock=function(it,j,_){for(var $=j.search(/\s*$/),tt=it.getLength(),st=_,lt=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,ht=1;++_<tt;){j=it.getLine(_);var ft=lt.exec(j);if(ft&&(ft[1]?ht--:ht++,!ht))break}var ct=_;if(ct>st)return new at(st,$,ct,j.length)}}).call(nt.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(a,o,rt){var et=a("../../lib/oop"),at=a("./xml").FoldMode,ot=a("./cstyle").FoldMode,nt=o.FoldMode=function(it){it&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+it.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+it.end))),this.xmlFoldMode=new at};et.inherits(nt,ot),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(it,j,_){var $=this.getFoldWidgetBase(it,j,_);return $||this.xmlFoldMode.getFoldWidget(it,j,_)},this.getFoldWidgetRange=function(it,j,_,$){var tt=this.getFoldWidgetRangeBase(it,j,_,$);return tt||this.xmlFoldMode.getFoldWidgetRange(it,j,_)}}).call(nt.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(a,o,rt){var et=a("../lib/oop"),at=a("./text").Mode,ot=a("./javascript_highlight_rules").JavaScriptHighlightRules,nt=a("./matching_brace_outdent").MatchingBraceOutdent,it=a("../worker/worker_client").WorkerClient,j=a("./behaviour/javascript").JavaScriptBehaviour,_=a("./folding/javascript").FoldMode,$=function(){this.HighlightRules=ot,this.$outdent=new nt,this.$behaviour=new j,this.foldingRules=new _};et.inherits($,at),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(tt,st,lt){var ht=this.$getIndent(st),ft=this.getTokenizer().getLineTokens(st,tt),ct=ft.tokens,mt=ft.state;if(ct.length&&ct[ct.length-1].type=="comment")return ht;if(tt=="start"||tt=="no_regex"){var gt=st.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);gt&&(ht+=lt)}else if(tt=="doc-start"&&(mt=="start"||mt=="no_regex"))return"";return ht},this.checkOutdent=function(tt,st,lt){return this.$outdent.checkOutdent(st,lt)},this.autoOutdent=function(tt,st,lt){this.$outdent.autoOutdent(st,lt)},this.createWorker=function(tt){var st=new it(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return st.attachToDocument(tt.getDocument()),st.on("annotate",function(lt){tt.setAnnotations(lt.data)}),st.on("terminate",function(){tt.clearAnnotations()}),st},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call($.prototype),o.Mode=$}),function(){ace.require(["ace/mode/javascript"],function(a){i&&(i.exports=a)})}()})(modeJavascript);var modePython={exports:{}};(function(i,s){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,o,rt){var et=a("../lib/oop"),at=a("./text_highlight_rules").TextHighlightRules,ot=function(){var nt="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",it="True|False|None|NotImplemented|Ellipsis|__debug__",j="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",_=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":j,"variable.language":"self|cls","constant.language":it,keyword:nt},"identifier"),$="[uU]?",tt="[rR]",st="[fF]",lt="(?:[rR][fF]|[fF][rR])",ht="(?:(?:[1-9]\\d*)|(?:0))",ft="(?:0[oO]?[0-7]+)",ct="(?:0[xX][\\dA-Fa-f]+)",mt="(?:0[bB][01]+)",gt="(?:"+ht+"|"+ft+"|"+ct+"|"+mt+")",yt="(?:[eE][+-]?\\d+)",ut="(?:\\.\\d+)",wt="(?:\\d+)",bt="(?:(?:"+wt+"?"+ut+")|(?:"+wt+"\\.))",vt="(?:(?:"+bt+"|"+wt+")"+yt+")",Et="(?:"+vt+"|"+bt+")",$t=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:$+'"{3}',next:"qqstring3"},{token:"string",regex:$+'"(?=.)',next:"qqstring"},{token:"string",regex:$+"'{3}",next:"qstring3"},{token:"string",regex:$+"'(?=.)",next:"qstring"},{token:"string",regex:tt+'"{3}',next:"rawqqstring3"},{token:"string",regex:tt+'"(?=.)',next:"rawqqstring"},{token:"string",regex:tt+"'{3}",next:"rawqstring3"},{token:"string",regex:tt+"'(?=.)",next:"rawqstring"},{token:"string",regex:st+'"{3}',next:"fqqstring3"},{token:"string",regex:st+'"(?=.)',next:"fqqstring"},{token:"string",regex:st+"'{3}",next:"fqstring3"},{token:"string",regex:st+"'(?=.)",next:"fqstring"},{token:"string",regex:lt+'"{3}',next:"rfqqstring3"},{token:"string",regex:lt+'"(?=.)',next:"rfqqstring"},{token:"string",regex:lt+"'{3}",next:"rfqstring3"},{token:"string",regex:lt+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:$t},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:$t},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:$t},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:$t},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:$t},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:$t},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:$t},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:$t},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+Et+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:Et},{token:"constant.numeric",regex:gt+"[lL]\\b"},{token:"constant.numeric",regex:gt+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:_,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};et.inherits(ot,at),o.PythonHighlightRules=ot}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(a,o,rt){var et=a("../../lib/oop"),at=a("./fold_mode").FoldMode,ot=o.FoldMode=function(nt){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+nt+")(?:\\s*)(?:#.*)?$")};et.inherits(ot,at),(function(){this.getFoldWidgetRange=function(nt,it,j){var _=nt.getLine(j),$=_.match(this.foldingStartMarker);if($)return $[1]?this.openingBracketBlock(nt,$[1],j,$.index):$[2]?this.indentationBlock(nt,j,$.index+$[2].length):this.indentationBlock(nt,j)}}).call(ot.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(a,o,rt){var et=a("../lib/oop"),at=a("./text").Mode,ot=a("./python_highlight_rules").PythonHighlightRules,nt=a("./folding/pythonic").FoldMode,it=a("../range").Range,j=function(){this.HighlightRules=ot,this.foldingRules=new nt("\\:"),this.$behaviour=this.$defaultBehaviour};et.inherits(j,at),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function($,tt,st){var lt=this.$getIndent(tt),ht=this.getTokenizer().getLineTokens(tt,$),ft=ht.tokens;if(ft.length&&ft[ft.length-1].type=="comment")return lt;if($=="start"){var ct=tt.match(/^.*[\{\(\[:]\s*$/);ct&&(lt+=st)}return lt};var _={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function($,tt,st){if(st!==`\r
`&&st!=="\r"&&st!==`
`)return!1;var lt=this.getTokenizer().getLineTokens(tt.trim(),$).tokens;if(!lt)return!1;do var ht=lt.pop();while(ht&&(ht.type=="comment"||ht.type=="text"&&ht.value.match(/^\s+$/)));return ht?ht.type=="keyword"&&_[ht.value]:!1},this.autoOutdent=function($,tt,st){st+=1;var lt=this.$getIndent(tt.getLine(st)),ht=tt.getTabString();lt.slice(-ht.length)==ht&&tt.remove(new it(st,lt.length-ht.length,st,lt.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(j.prototype),o.Mode=j}),function(){ace.require(["ace/mode/python"],function(a){i&&(i.exports=a)})}()})(modePython);var themeDracula={exports:{}};(function(i,s){ace.define("ace/theme/dracula-css",["require","exports","module"],function(a,o,rt){rt.exports=`/*
 * Copyright  2017 Zeno Rocha <hi@zenorocha.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

.ace-dracula .ace_gutter {
  background: #282a36;
  color: rgb(144,145,148)
}

.ace-dracula .ace_print-margin {
  width: 1px;
  background: #44475a
}

.ace-dracula {
  background-color: #282a36;
  color: #f8f8f2
}

.ace-dracula .ace_cursor {
  color: #f8f8f0
}

.ace-dracula .ace_marker-layer .ace_selection {
  background: #44475a
}

.ace-dracula.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #282a36;
  border-radius: 2px
}

.ace-dracula .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174)
}

.ace-dracula .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #a29709
}

.ace-dracula .ace_marker-layer .ace_active-line {
  background: #44475a
}

.ace-dracula .ace_gutter-active-line {
  background-color: #44475a
}

.ace-dracula .ace_marker-layer .ace_selected-word {
  box-shadow: 0px 0px 0px 1px #a29709;
  border-radius: 3px;
}

.ace-dracula .ace_fold {
  background-color: #50fa7b;
  border-color: #f8f8f2
}

.ace-dracula .ace_keyword {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_language {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_numeric {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character.ace_escape {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_other {
  color: #bd93f9
}

.ace-dracula .ace_support.ace_function {
  color: #8be9fd
}

.ace-dracula .ace_support.ace_constant {
  color: #6be5fd
}

.ace-dracula .ace_support.ace_class {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_support.ace_type {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_storage {
  color: #ff79c6
}

.ace-dracula .ace_storage.ace_type {
  font-style: italic;
  color: #8be9fd
}

.ace-dracula .ace_invalid {
  color: #F8F8F0;
  background-color: #ff79c6
}

.ace-dracula .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #bd93f9
}

.ace-dracula .ace_string {
  color: #f1fa8c
}

.ace-dracula .ace_comment {
  color: #6272a4
}

.ace-dracula .ace_variable {
  color: #50fa7b
}

.ace-dracula .ace_variable.ace_parameter {
  font-style: italic;
  color: #ffb86c
}

.ace-dracula .ace_entity.ace_other.ace_attribute-name {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_function {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_tag {
  color: #ff79c6
}
.ace-dracula .ace_invisible {
  color: #626680;
}

.ace-dracula .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-dracula .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEUAAADCwsK76u2xAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjYGBoAAAAhACBGFbxzQAAAABJRU5ErkJggg==") right repeat-y;
}
`}),ace.define("ace/theme/dracula",["require","exports","module","ace/theme/dracula-css","ace/lib/dom"],function(a,o,rt){o.isDark=!0,o.cssClass="ace-dracula",o.cssText=a("./dracula-css"),o.$selectionColorConflict=!0;var et=a("../lib/dom");et.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/dracula"],function(a){i&&(i.exports=a)})}()})(themeDracula);var themeTomorrow_night_eighties={exports:{}};(function(i,s){ace.define("ace/theme/tomorrow_night_eighties-css",["require","exports","module"],function(a,o,rt){rt.exports=`.ace-tomorrow-night-eighties .ace_gutter {
  background: #272727;
  color: #CCC
}

.ace-tomorrow-night-eighties .ace_print-margin {
  width: 1px;
  background: #272727
}

.ace-tomorrow-night-eighties {
  background-color: #2D2D2D;
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_other,
.ace-tomorrow-night-eighties .ace_cursor {
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {
  background: #515151
}

.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #2D2D2D;
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #6A6A6A
}

.ace-tomorrow-night-bright .ace_stack {
  background: rgb(66, 90, 44)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {
  background: #393939
}

.ace-tomorrow-night-eighties .ace_gutter-active-line {
  background-color: #393939
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {
  border: 1px solid #515151
}

.ace-tomorrow-night-eighties .ace_invisible {
  color: #6A6A6A
}

.ace-tomorrow-night-eighties .ace_keyword,
.ace-tomorrow-night-eighties .ace_meta,
.ace-tomorrow-night-eighties .ace_storage,
.ace-tomorrow-night-eighties .ace_storage.ace_type,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_keyword.ace_operator {
  color: #66CCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_character,
.ace-tomorrow-night-eighties .ace_constant.ace_language,
.ace-tomorrow-night-eighties .ace_constant.ace_numeric,
.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night-eighties .ace_support.ace_constant,
.ace-tomorrow-night-eighties .ace_variable.ace_parameter {
  color: #F99157
}

.ace-tomorrow-night-eighties .ace_invalid {
  color: #CDCDCD;
  background-color: #F2777A
}

.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {
  color: #CDCDCD;
  background-color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_fold {
  background-color: #6699CC;
  border-color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,
.ace-tomorrow-night-eighties .ace_support.ace_function,
.ace-tomorrow-night-eighties .ace_variable {
  color: #6699CC
}

.ace-tomorrow-night-eighties .ace_support.ace_class,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #FFCC66
}

.ace-tomorrow-night-eighties .ace_heading,
.ace-tomorrow-night-eighties .ace_markup.ace_heading,
.ace-tomorrow-night-eighties .ace_string {
  color: #99CC99
}

.ace-tomorrow-night-eighties .ace_comment {
  color: #999999
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night-eighties .ace_meta.ace_tag,
.ace-tomorrow-night-eighties .ace_variable {
  color: #F2777A
}

.ace-tomorrow-night-eighties .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night-eighties .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night_eighties",["require","exports","module","ace/theme/tomorrow_night_eighties-css","ace/lib/dom"],function(a,o,rt){o.isDark=!0,o.cssClass="ace-tomorrow-night-eighties",o.cssText=a("./tomorrow_night_eighties-css");var et=a("../lib/dom");et.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night_eighties"],function(a){i&&(i.exports=a)})}()})(themeTomorrow_night_eighties);const Editor=i=>{const s=useTypedSelector(o=>o.workspace.currentLanguage),{colorMode:a}=useColorMode();return jsxRuntimeExports.jsx(_default,{mode:languageToModeMap[s],theme:a==="dark"?"dracula":"tomorrow_night_eighties",fontSize:15,width:"100%",...i})},JsonDisplay=({jsonProgram:i})=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardBody,{children:[jsxRuntimeExports.jsx(Text,{children:"JSON Code:"}),jsxRuntimeExports.jsx(Box,{overflowX:"scroll",children:jsxRuntimeExports.jsx(Code,{display:"block",whiteSpace:"pre",width:"max-content",children:i})})]})});function formatProdErrorMessage$1(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$1(i){if(typeof i!="object"||i===null)return!1;let s=i;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(i)===s||Object.getPrototypeOf(i)===null}function createStore(i,s,a){if(typeof i!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof s=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof s=="function"&&typeof a>"u"&&(a=s,s=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(formatProdErrorMessage$1(1));return a(createStore)(i,s)}let o=i,rt=s,et=new Map,at=et,ot=0,nt=!1;function it(){at===et&&(at=new Map,et.forEach((ht,ft)=>{at.set(ft,ht)}))}function j(){if(nt)throw new Error(formatProdErrorMessage$1(3));return rt}function _(ht){if(typeof ht!="function")throw new Error(formatProdErrorMessage$1(4));if(nt)throw new Error(formatProdErrorMessage$1(5));let ft=!0;it();const ct=ot++;return at.set(ct,ht),function(){if(ft){if(nt)throw new Error(formatProdErrorMessage$1(6));ft=!1,it(),at.delete(ct),et=null}}}function $(ht){if(!isPlainObject$1(ht))throw new Error(formatProdErrorMessage$1(7));if(typeof ht.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof ht.type!="string")throw new Error(formatProdErrorMessage$1(17));if(nt)throw new Error(formatProdErrorMessage$1(9));try{nt=!0,rt=o(rt,ht)}finally{nt=!1}return(et=at).forEach(ct=>{ct()}),ht}function tt(ht){if(typeof ht!="function")throw new Error(formatProdErrorMessage$1(10));o=ht,$({type:actionTypes_default.REPLACE})}function st(){const ht=_;return{subscribe(ft){if(typeof ft!="object"||ft===null)throw new Error(formatProdErrorMessage$1(11));function ct(){const gt=ft;gt.next&&gt.next(j())}return ct(),{unsubscribe:ht(ct)}},[symbol_observable_default](){return this}}}return $({type:actionTypes_default.INIT}),{dispatch:$,subscribe:_,getState:j,replaceReducer:tt,[symbol_observable_default]:st}}function assertReducerShape(i){Object.keys(i).forEach(s=>{const a=i[s];if(typeof a(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof a(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(i){const s=Object.keys(i),a={};for(let et=0;et<s.length;et++){const at=s[et];typeof i[at]=="function"&&(a[at]=i[at])}const o=Object.keys(a);let rt;try{assertReducerShape(a)}catch(et){rt=et}return function(at={},ot){if(rt)throw rt;let nt=!1;const it={};for(let j=0;j<o.length;j++){const _=o[j],$=a[_],tt=at[_],st=$(tt,ot);if(typeof st>"u")throw ot&&ot.type,new Error(formatProdErrorMessage$1(14));it[_]=st,nt=nt||st!==tt}return nt=nt||o.length!==Object.keys(at).length,nt?it:at}}function compose(...i){return i.length===0?s=>s:i.length===1?i[0]:i.reduce((s,a)=>(...o)=>s(a(...o)))}function applyMiddleware(...i){return s=>(a,o)=>{const rt=s(a,o);let et=()=>{throw new Error(formatProdErrorMessage$1(15))};const at={getState:rt.getState,dispatch:(nt,...it)=>et(nt,...it)},ot=i.map(nt=>nt(at));return et=compose(...ot)(rt.dispatch),{...rt,dispatch:et}}}function isAction(i){return isPlainObject$1(i)&&"type"in i&&typeof i.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(i,...s){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(i){return!!i&&!!i[DRAFT_STATE]}function isDraftable(i){var s;return i?isPlainObject(i)||Array.isArray(i)||!!i[DRAFTABLE]||!!((s=i.constructor)!=null&&s[DRAFTABLE])||isMap(i)||isSet(i):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(i){if(!i||typeof i!="object")return!1;const s=getPrototypeOf(i);if(s===null)return!0;const a=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===objectCtorString}function each(i,s){getArchtype(i)===0?Reflect.ownKeys(i).forEach(a=>{s(a,i[a],i)}):i.forEach((a,o)=>s(o,a,i))}function getArchtype(i){const s=i[DRAFT_STATE];return s?s.type_:Array.isArray(i)?1:isMap(i)?2:isSet(i)?3:0}function has(i,s){return getArchtype(i)===2?i.has(s):Object.prototype.hasOwnProperty.call(i,s)}function set(i,s,a){const o=getArchtype(i);o===2?i.set(s,a):o===3?i.add(a):i[s]=a}function is(i,s){return i===s?i!==0||1/i===1/s:i!==i&&s!==s}function isMap(i){return i instanceof Map}function isSet(i){return i instanceof Set}function latest(i){return i.copy_||i.base_}function shallowCopy(i,s){if(isMap(i))return new Map(i);if(isSet(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const a=isPlainObject(i);if(s===!0||s==="class_only"&&!a){const o=Object.getOwnPropertyDescriptors(i);delete o[DRAFT_STATE];let rt=Reflect.ownKeys(o);for(let et=0;et<rt.length;et++){const at=rt[et],ot=o[at];ot.writable===!1&&(ot.writable=!0,ot.configurable=!0),(ot.get||ot.set)&&(o[at]={configurable:!0,writable:!0,enumerable:ot.enumerable,value:i[at]})}return Object.create(getPrototypeOf(i),o)}else{const o=getPrototypeOf(i);if(o!==null&&a)return{...i};const rt=Object.create(o);return Object.assign(rt,i)}}function freeze(i,s=!1){return isFrozen(i)||isDraft(i)||!isDraftable(i)||(getArchtype(i)>1&&(i.set=i.add=i.clear=i.delete=dontMutateFrozenCollections),Object.freeze(i),s&&Object.entries(i).forEach(([a,o])=>freeze(o,!0))),i}function dontMutateFrozenCollections(){die(2)}function isFrozen(i){return Object.isFrozen(i)}var plugins={};function getPlugin(i){const s=plugins[i];return s||die(0,i),s}var currentScope;function getCurrentScope(){return currentScope}function createScope(i,s){return{drafts_:[],parent_:i,immer_:s,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(i,s){s&&(getPlugin("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=s)}function revokeScope(i){leaveScope(i),i.drafts_.forEach(revokeDraft),i.drafts_=null}function leaveScope(i){i===currentScope&&(currentScope=i.parent_)}function enterScope(i){return currentScope=createScope(currentScope,i)}function revokeDraft(i){const s=i[DRAFT_STATE];s.type_===0||s.type_===1?s.revoke_():s.revoked_=!0}function processResult(i,s){s.unfinalizedDrafts_=s.drafts_.length;const a=s.drafts_[0];return i!==void 0&&i!==a?(a[DRAFT_STATE].modified_&&(revokeScope(s),die(4)),isDraftable(i)&&(i=finalize(s,i),s.parent_||maybeFreeze(s,i)),s.patches_&&getPlugin("Patches").generateReplacementPatches_(a[DRAFT_STATE].base_,i,s.patches_,s.inversePatches_)):i=finalize(s,a,[]),revokeScope(s),s.patches_&&s.patchListener_(s.patches_,s.inversePatches_),i!==NOTHING?i:void 0}function finalize(i,s,a){if(isFrozen(s))return s;const o=s[DRAFT_STATE];if(!o)return each(s,(rt,et)=>finalizeProperty(i,o,s,rt,et,a)),s;if(o.scope_!==i)return s;if(!o.modified_)return maybeFreeze(i,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const rt=o.copy_;let et=rt,at=!1;o.type_===3&&(et=new Set(rt),rt.clear(),at=!0),each(et,(ot,nt)=>finalizeProperty(i,o,rt,ot,nt,a,at)),maybeFreeze(i,rt,!1),a&&i.patches_&&getPlugin("Patches").generatePatches_(o,a,i.patches_,i.inversePatches_)}return o.copy_}function finalizeProperty(i,s,a,o,rt,et,at){if(isDraft(rt)){const ot=et&&s&&s.type_!==3&&!has(s.assigned_,o)?et.concat(o):void 0,nt=finalize(i,rt,ot);if(set(a,o,nt),isDraft(nt))i.canAutoFreeze_=!1;else return}else at&&a.add(rt);if(isDraftable(rt)&&!isFrozen(rt)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;finalize(i,rt),(!s||!s.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,o)&&maybeFreeze(i,rt)}}function maybeFreeze(i,s,a=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&freeze(s,a)}function createProxyProxy(i,s){const a=Array.isArray(i),o={type_:a?1:0,scope_:s?s.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:s,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let rt=o,et=objectTraps;a&&(rt=[o],et=arrayTraps);const{revoke:at,proxy:ot}=Proxy.revocable(rt,et);return o.draft_=ot,o.revoke_=at,ot}var objectTraps={get(i,s){if(s===DRAFT_STATE)return i;const a=latest(i);if(!has(a,s))return readPropFromProto(i,a,s);const o=a[s];return i.finalized_||!isDraftable(o)?o:o===peek(i.base_,s)?(prepareCopy(i),i.copy_[s]=createProxy(o,i)):o},has(i,s){return s in latest(i)},ownKeys(i){return Reflect.ownKeys(latest(i))},set(i,s,a){const o=getDescriptorFromProto(latest(i),s);if(o!=null&&o.set)return o.set.call(i.draft_,a),!0;if(!i.modified_){const rt=peek(latest(i),s),et=rt==null?void 0:rt[DRAFT_STATE];if(et&&et.base_===a)return i.copy_[s]=a,i.assigned_[s]=!1,!0;if(is(a,rt)&&(a!==void 0||has(i.base_,s)))return!0;prepareCopy(i),markChanged(i)}return i.copy_[s]===a&&(a!==void 0||s in i.copy_)||Number.isNaN(a)&&Number.isNaN(i.copy_[s])||(i.copy_[s]=a,i.assigned_[s]=!0),!0},deleteProperty(i,s){return peek(i.base_,s)!==void 0||s in i.base_?(i.assigned_[s]=!1,prepareCopy(i),markChanged(i)):delete i.assigned_[s],i.copy_&&delete i.copy_[s],!0},getOwnPropertyDescriptor(i,s){const a=latest(i),o=Reflect.getOwnPropertyDescriptor(a,s);return o&&{writable:!0,configurable:i.type_!==1||s!=="length",enumerable:o.enumerable,value:a[s]}},defineProperty(){die(11)},getPrototypeOf(i){return getPrototypeOf(i.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(i,s)=>{arrayTraps[i]=function(){return arguments[0]=arguments[0][0],s.apply(this,arguments)}});arrayTraps.deleteProperty=function(i,s){return arrayTraps.set.call(this,i,s,void 0)};arrayTraps.set=function(i,s,a){return objectTraps.set.call(this,i[0],s,a,i[0])};function peek(i,s){const a=i[DRAFT_STATE];return(a?latest(a):i)[s]}function readPropFromProto(i,s,a){var rt;const o=getDescriptorFromProto(s,a);return o?"value"in o?o.value:(rt=o.get)==null?void 0:rt.call(i.draft_):void 0}function getDescriptorFromProto(i,s){if(!(s in i))return;let a=getPrototypeOf(i);for(;a;){const o=Object.getOwnPropertyDescriptor(a,s);if(o)return o;a=getPrototypeOf(a)}}function markChanged(i){i.modified_||(i.modified_=!0,i.parent_&&markChanged(i.parent_))}function prepareCopy(i){i.copy_||(i.copy_=shallowCopy(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(s,a,o)=>{if(typeof s=="function"&&typeof a!="function"){const et=a;a=s;const at=this;return function(nt=et,...it){return at.produce(nt,j=>a.call(this,j,...it))}}typeof a!="function"&&die(6),o!==void 0&&typeof o!="function"&&die(7);let rt;if(isDraftable(s)){const et=enterScope(this),at=createProxy(s,void 0);let ot=!0;try{rt=a(at),ot=!1}finally{ot?revokeScope(et):leaveScope(et)}return usePatchesInScope(et,o),processResult(rt,et)}else if(!s||typeof s!="object"){if(rt=a(s),rt===void 0&&(rt=s),rt===NOTHING&&(rt=void 0),this.autoFreeze_&&freeze(rt,!0),o){const et=[],at=[];getPlugin("Patches").generateReplacementPatches_(s,rt,et,at),o(et,at)}return rt}else die(1,s)},this.produceWithPatches=(s,a)=>{if(typeof s=="function")return(at,...ot)=>this.produceWithPatches(at,nt=>s(nt,...ot));let o,rt;return[this.produce(s,a,(at,ot)=>{o=at,rt=ot}),o,rt]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){isDraftable(i)||die(8),isDraft(i)&&(i=current(i));const s=enterScope(this),a=createProxy(i,void 0);return a[DRAFT_STATE].isManual_=!0,leaveScope(s),a}finishDraft(i,s){const a=i&&i[DRAFT_STATE];(!a||!a.isManual_)&&die(9);const{scope_:o}=a;return usePatchesInScope(o,s),processResult(void 0,o)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,s){let a;for(a=s.length-1;a>=0;a--){const rt=s[a];if(rt.path.length===0&&rt.op==="replace"){i=rt.value;break}}a>-1&&(s=s.slice(a+1));const o=getPlugin("Patches").applyPatches_;return isDraft(i)?o(i,s):this.produce(i,rt=>o(rt,s))}};function createProxy(i,s){const a=isMap(i)?getPlugin("MapSet").proxyMap_(i,s):isSet(i)?getPlugin("MapSet").proxySet_(i,s):createProxyProxy(i,s);return(s?s.scope_:getCurrentScope()).drafts_.push(a),a}function current(i){return isDraft(i)||die(10,i),currentImpl(i)}function currentImpl(i){if(!isDraftable(i)||isFrozen(i))return i;const s=i[DRAFT_STATE];let a;if(s){if(!s.modified_)return s.base_;s.finalized_=!0,a=shallowCopy(i,s.scope_.immer_.useStrictShallowCopy_)}else a=shallowCopy(i,!0);return each(a,(o,rt)=>{set(a,o,currentImpl(rt))}),s&&(s.finalized_=!1),a}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function createThunkMiddleware(i){return({dispatch:a,getState:o})=>rt=>et=>typeof et=="function"?et(a,o,i):rt(et)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function createAction(i,s){function a(...o){if(s){let rt=s(...o);if(!rt)throw new Error(formatProdErrorMessage(0));return{type:i,payload:rt.payload,..."meta"in rt&&{meta:rt.meta},..."error"in rt&&{error:rt.error}}}return{type:i,payload:o[0]}}return a.toString=()=>`${i}`,a.type=i,a.match=o=>isAction(o)&&o.type===i,a}var Tuple=class Hl extends Array{constructor(...s){super(...s),Object.setPrototypeOf(this,Hl.prototype)}static get[Symbol.species](){return Hl}concat(...s){return super.concat.apply(this,s)}prepend(...s){return s.length===1&&Array.isArray(s[0])?new Hl(...s[0].concat(this)):new Hl(...s.concat(this))}};function freezeDraftable(i){return isDraftable(i)?produce(i,()=>{}):i}function emplace(i,s,a){if(i.has(s)){let rt=i.get(s);return a.update&&(rt=a.update(rt,s,i),i.set(s,rt)),rt}if(!a.insert)throw new Error(formatProdErrorMessage(10));const o=a.insert(s,i);return i.set(s,o),o}function isBoolean(i){return typeof i=="boolean"}var buildGetDefaultMiddleware=()=>function(s){const{thunk:a=!0,immutableCheck:o=!0,serializableCheck:rt=!0,actionCreatorCheck:et=!0}=s??{};let at=new Tuple;return a&&(isBoolean(a)?at.push(thunk):at.push(withExtraArgument(a.extraArgument))),at},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=i=>s=>{setTimeout(s,i)},rAF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10),autoBatchEnhancer=(i={type:"raf"})=>s=>(...a)=>{const o=s(...a);let rt=!0,et=!1,at=!1;const ot=new Set,nt=i.type==="tick"?queueMicrotask:i.type==="raf"?rAF:i.type==="callback"?i.queueNotification:createQueueWithTimer(i.timeout),it=()=>{at=!1,et&&(et=!1,ot.forEach(j=>j()))};return Object.assign({},o,{subscribe(j){const _=()=>rt&&j(),$=o.subscribe(_);return ot.add(j),()=>{$(),ot.delete(j)}},dispatch(j){var _;try{return rt=!((_=j==null?void 0:j.meta)!=null&&_[SHOULD_AUTOBATCH]),et=!rt,et&&(at||(at=!0,nt(it))),o.dispatch(j)}finally{rt=!0}}})},buildGetDefaultEnhancers=i=>function(a){const{autoBatch:o=!0}=a??{};let rt=new Tuple(i);return o&&rt.push(autoBatchEnhancer(typeof o=="object"?o:void 0)),rt};function configureStore(i){const s=buildGetDefaultMiddleware(),{reducer:a=void 0,middleware:o,devTools:rt=!0,preloadedState:et=void 0,enhancers:at=void 0}=i||{};let ot;if(typeof a=="function")ot=a;else if(isPlainObject$1(a))ot=combineReducers(a);else throw new Error(formatProdErrorMessage(1));let nt;typeof o=="function"?nt=o(s):nt=s();let it=compose;rt&&(it=composeWithDevTools({trace:!1,...typeof rt=="object"&&rt}));const j=applyMiddleware(...nt),_=buildGetDefaultEnhancers(j);let $=typeof at=="function"?at(_):_();const tt=it(...$);return createStore(ot,et,tt)}function executeReducerBuilderCallback(i){const s={},a=[];let o;const rt={addCase(et,at){const ot=typeof et=="string"?et:et.type;if(!ot)throw new Error(formatProdErrorMessage(28));if(ot in s)throw new Error(formatProdErrorMessage(29));return s[ot]=at,rt},addMatcher(et,at){return a.push({matcher:et,reducer:at}),rt},addDefaultCase(et){return o=et,rt}};return i(rt),[s,a,o]}function isStateFunction(i){return typeof i=="function"}function createReducer(i,s){let[a,o,rt]=executeReducerBuilderCallback(s),et;if(isStateFunction(i))et=()=>freezeDraftable(i());else{const ot=freezeDraftable(i);et=()=>ot}function at(ot=et(),nt){let it=[a[nt.type],...o.filter(({matcher:j})=>j(nt)).map(({reducer:j})=>j)];return it.filter(j=>!!j).length===0&&(it=[rt]),it.reduce((j,_)=>{if(_)if(isDraft(j)){const tt=_(j,nt);return tt===void 0?j:tt}else{if(isDraftable(j))return produce(j,$=>_($,nt));{const $=_(j,nt);if($===void 0){if(j===null)return j;throw new Error(formatProdErrorMessage(9))}return $}}return j},ot)}return at.getInitialState=et,at}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(i,s){return`${i}/${s}`}function buildCreateSlice({creators:i}={}){var a;const s=(a=i==null?void 0:i.asyncThunk)==null?void 0:a[asyncThunkSymbol];return function(rt){const{name:et,reducerPath:at=et}=rt;if(!et)throw new Error(formatProdErrorMessage(11));typeof process<"u";const ot=(typeof rt.reducers=="function"?rt.reducers(buildReducerCreators()):rt.reducers)||{},nt=Object.keys(ot),it={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},j={addCase(mt,gt){const yt=typeof mt=="string"?mt:mt.type;if(!yt)throw new Error(formatProdErrorMessage(12));if(yt in it.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return it.sliceCaseReducersByType[yt]=gt,j},addMatcher(mt,gt){return it.sliceMatchers.push({matcher:mt,reducer:gt}),j},exposeAction(mt,gt){return it.actionCreators[mt]=gt,j},exposeCaseReducer(mt,gt){return it.sliceCaseReducersByName[mt]=gt,j}};nt.forEach(mt=>{const gt=ot[mt],yt={reducerName:mt,type:getType(et,mt),createNotation:typeof rt.reducers=="function"};isAsyncThunkSliceReducerDefinition(gt)?handleThunkCaseReducerDefinition(yt,gt,j,s):handleNormalReducerDefinition(yt,gt,j)});function _(){const[mt={},gt=[],yt=void 0]=typeof rt.extraReducers=="function"?executeReducerBuilderCallback(rt.extraReducers):[rt.extraReducers],ut={...mt,...it.sliceCaseReducersByType};return createReducer(rt.initialState,wt=>{for(let bt in ut)wt.addCase(bt,ut[bt]);for(let bt of it.sliceMatchers)wt.addMatcher(bt.matcher,bt.reducer);for(let bt of gt)wt.addMatcher(bt.matcher,bt.reducer);yt&&wt.addDefaultCase(yt)})}const $=mt=>mt,tt=new Map;let st;function lt(mt,gt){return st||(st=_()),st(mt,gt)}function ht(){return st||(st=_()),st.getInitialState()}function ft(mt,gt=!1){function yt(wt){let bt=wt[mt];return typeof bt>"u"&&gt&&(bt=ht()),bt}function ut(wt=$){const bt=emplace(tt,gt,{insert:()=>new WeakMap});return emplace(bt,wt,{insert:()=>{const vt={};for(const[Et,$t]of Object.entries(rt.selectors??{}))vt[Et]=wrapSelector($t,wt,ht,gt);return vt}})}return{reducerPath:mt,getSelectors:ut,get selectors(){return ut(yt)},selectSlice:yt}}const ct={name:et,reducer:lt,actions:it.actionCreators,caseReducers:it.sliceCaseReducersByName,getInitialState:ht,...ft(at),injectInto(mt,{reducerPath:gt,...yt}={}){const ut=gt??at;return mt.inject({reducerPath:ut,reducer:lt},yt),{...ct,...ft(ut,!0)}}};return ct}}function wrapSelector(i,s,a,o){function rt(et,...at){let ot=s(et);return typeof ot>"u"&&o&&(ot=a()),i(ot,...at)}return rt.unwrapped=i,rt}var createSlice=buildCreateSlice();function buildReducerCreators(){function i(s,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:s,...a}}return i.withTypes=()=>i,{reducer(s){return Object.assign({[s.name](...a){return s(...a)}}[s.name],{_reducerDefinitionType:"reducer"})},preparedReducer(s,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:s,reducer:a}},asyncThunk:i}}function handleNormalReducerDefinition({type:i,reducerName:s,createNotation:a},o,rt){let et,at;if("reducer"in o){if(a&&!isCaseReducerWithPrepareDefinition(o))throw new Error(formatProdErrorMessage(17));et=o.reducer,at=o.prepare}else et=o;rt.addCase(i,et).exposeCaseReducer(s,et).exposeAction(s,at?createAction(i,at):createAction(i))}function isAsyncThunkSliceReducerDefinition(i){return i._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(i){return i._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:i,reducerName:s},a,o,rt){if(!rt)throw new Error(formatProdErrorMessage(18));const{payloadCreator:et,fulfilled:at,pending:ot,rejected:nt,settled:it,options:j}=a,_=rt(i,et,j);o.exposeAction(s,_),at&&o.addCase(_.fulfilled,at),ot&&o.addCase(_.pending,ot),nt&&o.addCase(_.rejected,nt),it&&o.addMatcher(_.settled,it),o.exposeCaseReducer(s,{fulfilled:at||noop,pending:ot||noop,rejected:nt||noop,settled:it||noop})}function noop(){}function formatProdErrorMessage(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const loadSamplePythonPrograms=async()=>(await __vitePreload(async()=>{const{samplePythonPrograms:i}=await import("./index-CxR4alL1.js");return{samplePythonPrograms:i}},[])).samplePythonPrograms,loadSampleSourceThreePrograms=async()=>(await __vitePreload(async()=>{const{sampleSourceThreePrograms:i}=await import("./index-OcF0Dhf2.js");return{sampleSourceThreePrograms:i}},[])).sampleSourceThreePrograms;let samplePythonPrograms,sampleSourceThreePrograms;const sampleProgramLoader=async i=>{switch(i){case Languages.PYTHON:return samplePythonPrograms===void 0&&(samplePythonPrograms=await loadSamplePythonPrograms()),samplePythonPrograms;case Languages.SOURCE_THREE_INTERPRETER:return sampleSourceThreePrograms===void 0&&(sampleSourceThreePrograms=await loadSampleSourceThreePrograms()),sampleSourceThreePrograms}},defaultPrograms=Object.freeze({[Languages.PYTHON]:`# Write your Python program here!
`,[Languages.SOURCE_THREE_INTERPRETER]:`// Write your Source 3 program here!
`}),initialState={currentLanguage:Languages.PYTHON,editorValue:{...defaultPrograms}},WorkspaceSlice=createSlice({name:"workspace",initialState,reducers:{setCurrentLanguage:(i,s)=>{i.currentLanguage=s.payload},setEditorValue:(i,s)=>{i.editorValue[i.currentLanguage]=s.payload},resetEditorValues:(i,s)=>{const a=s.payload;a!==void 0?i.editorValue[a]=defaultPrograms[a]:i.editorValue={...defaultPrograms}}}}),WorkspaceActions=WorkspaceSlice.actions,workspace=WorkspaceSlice.reducer,{setCurrentLanguage:setCurrentLanguage$1}=WorkspaceActions,LanguageSelector=()=>{const i=useTypedSelector(a=>a.workspace.currentLanguage),s=useTypedDispatch();return jsxRuntimeExports.jsx(Select,{size:"sm",variant:"filled",width:"fit-content",name:"languageMode",id:"languagemode",value:i,onChange:a=>s(setCurrentLanguage$1(a.target.value)),children:supportedLanguages.map(a=>jsxRuntimeExports.jsx("option",{value:a,children:a},a))})},UserGuide=()=>{const{isOpen:i,onOpen:s,onClose:a}=useDisclosure();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"link",onClick:s,fontWeight:"normal",children:"View User Guide"}),jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:a,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:"User Guide"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{paddingBottom:0,children:jsxRuntimeExports.jsxs(OrderedList,{children:[jsxRuntimeExports.jsxs(ListItem,{children:["Connect your SPIKE Prime to your computer via USB.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," You can also connect via Bluetooth but reliability will not be guaranteed."]})]}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the appropriate language mode:"," ",Languages.SOURCE_THREE_INTERPRETER," or ",Languages.PYTHON]}),jsxRuntimeExports.jsx(ListItem,{children:'After finishing your code, click the "Run on Device" button.'}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the correct port from the pop-up that is shown.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," SEKER only supports Chromium-based browsers version 89 and onwards. If you do not see a pop-up, this means your browser is not supported."]})]}),jsxRuntimeExports.jsx(ListItem,{children:"The SPIKE Prime should start running your code."})]})}),jsxRuntimeExports.jsx(ModalFooter,{paddingTop:0})]})]})]})};var ArrowForwardIcon=createIcon({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"});const SampleProgramListItem=({label:i,onClick:s})=>jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"link",fontWeight:"normal",width:"full",iconSpacing:"auto",rightIcon:jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Text,{children:"Load"}),jsxRuntimeExports.jsx(ArrowForwardIcon,{})]}),onClick:s,children:i})}),{setEditorValue:setEditorValue$1}=WorkspaceActions,SampleProgramSidebar=()=>{const[i,s]=reactExports.useState(),a=useTypedSelector(rt=>rt.workspace.currentLanguage),o=useTypedDispatch();return reactExports.useEffect(()=>{s(void 0),sampleProgramLoader(a).then(s)},[a]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Sample ",a," Programs"]}),jsxRuntimeExports.jsx(Text,{children:"Click on a program below to load them into the editor."})]})}),jsxRuntimeExports.jsx(CardBody,{paddingTop:0,children:jsxRuntimeExports.jsx(Stack,{divider:jsxRuntimeExports.jsx(StackDivider,{}),children:i===void 0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"Loading sample programs"}):i.length==0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"No sample programs found."}):i.map((rt,et)=>jsxRuntimeExports.jsx(SampleProgramListItem,{label:`Sample Program ${et+1}`,onClick:()=>o(setEditorValue$1(rt))},et))})})]})};var sicp={},createContext={},constants={},types={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Variant=i.Chapter=i.ErrorSeverity=i.ErrorType=void 0,function(s){s.SYNTAX="Syntax",s.TYPE="Type",s.RUNTIME="Runtime"}(i.ErrorType||(i.ErrorType={})),function(s){s.WARNING="Warning",s.ERROR="Error"}(i.ErrorSeverity||(i.ErrorSeverity={})),function(s){s[s.SOURCE_1=1]="SOURCE_1",s[s.SOURCE_2=2]="SOURCE_2",s[s.SOURCE_3=3]="SOURCE_3",s[s.SOURCE_4=4]="SOURCE_4",s[s.FULL_JS=-1]="FULL_JS",s[s.HTML=-2]="HTML",s[s.LIBRARY_PARSER=100]="LIBRARY_PARSER"}(i.Chapter||(i.Chapter={})),function(s){s.DEFAULT="default",s.NATIVE="native",s.WASM="wasm",s.LAZY="lazy",s.NON_DET="non-det",s.CONCURRENT="concurrent",s.GPU="gpu"}(i.Variant||(i.Variant={}))})(types);Object.defineProperty(constants,"__esModule",{value:!0});constants.ACORN_PARSE_OPTIONS=constants.sourceLanguages=constants.JSSLANG_PROPERTIES=constants.UNKNOWN_LOCATION=constants.MAX_LIST_DISPLAY_LENGTH=constants.MODULE_CONTEXTS_ID=constants.MODULE_PARAMS_ID=constants.NATIVE_STORAGE_ID=constants.GLOBAL=constants.TRY_AGAIN=constants.CUT=void 0;const types_1$m=types;constants.CUT="cut";constants.TRY_AGAIN="retry";constants.GLOBAL=typeof window>"u"?commonjsGlobal:window;constants.NATIVE_STORAGE_ID="nativeStorage";constants.MODULE_PARAMS_ID="moduleParams";constants.MODULE_CONTEXTS_ID="moduleContexts";constants.MAX_LIST_DISPLAY_LENGTH=100;constants.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}};constants.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10};constants.sourceLanguages=[{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.WASM},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.CONCURRENT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.NON_DET},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.GPU}];constants.ACORN_PARSE_OPTIONS={ecmaVersion:2015};var lib={},acorn$1={exports:{}};(function(i,s){(function(a,o){o(s)})(commonjsGlobal,function(a){var o=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],rt=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],et="-----------------------------------------------------------------------------------------------------------------------------------------------------",at="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",ot={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},nt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",it={5:nt,"5module":nt+" export import",6:nt+" const class extends export import super"},j=/^in(stanceof)?$/,_=new RegExp("["+at+"]"),$=new RegExp("["+at+et+"]");function tt(xt,Mt){for(var zt=65536,pt=0;pt<Mt.length;pt+=2){if(zt+=Mt[pt],zt>xt)return!1;if(zt+=Mt[pt+1],zt>=xt)return!0}return!1}function st(xt,Mt){return xt<65?xt===36:xt<91?!0:xt<97?xt===95:xt<123?!0:xt<=65535?xt>=170&&_.test(String.fromCharCode(xt)):Mt===!1?!1:tt(xt,rt)}function lt(xt,Mt){return xt<48?xt===36:xt<58?!0:xt<65?!1:xt<91?!0:xt<97?xt===95:xt<123?!0:xt<=65535?xt>=170&&$.test(String.fromCharCode(xt)):Mt===!1?!1:tt(xt,rt)||tt(xt,o)}var ht=function(Mt,zt){zt===void 0&&(zt={}),this.label=Mt,this.keyword=zt.keyword,this.beforeExpr=!!zt.beforeExpr,this.startsExpr=!!zt.startsExpr,this.isLoop=!!zt.isLoop,this.isAssign=!!zt.isAssign,this.prefix=!!zt.prefix,this.postfix=!!zt.postfix,this.binop=zt.binop||null,this.updateContext=null};function ft(xt,Mt){return new ht(xt,{beforeExpr:!0,binop:Mt})}var ct={beforeExpr:!0},mt={startsExpr:!0},gt={};function yt(xt,Mt){return Mt===void 0&&(Mt={}),Mt.keyword=xt,gt[xt]=new ht(xt,Mt)}var ut={num:new ht("num",mt),regexp:new ht("regexp",mt),string:new ht("string",mt),name:new ht("name",mt),privateId:new ht("privateId",mt),eof:new ht("eof"),bracketL:new ht("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ht("]"),braceL:new ht("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ht("}"),parenL:new ht("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ht(")"),comma:new ht(",",ct),semi:new ht(";",ct),colon:new ht(":",ct),dot:new ht("."),question:new ht("?",ct),questionDot:new ht("?."),arrow:new ht("=>",ct),template:new ht("template"),invalidTemplate:new ht("invalidTemplate"),ellipsis:new ht("...",ct),backQuote:new ht("`",mt),dollarBraceL:new ht("${",{beforeExpr:!0,startsExpr:!0}),eq:new ht("=",{beforeExpr:!0,isAssign:!0}),assign:new ht("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ht("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ht("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ft("||",1),logicalAND:ft("&&",2),bitwiseOR:ft("|",3),bitwiseXOR:ft("^",4),bitwiseAND:ft("&",5),equality:ft("==/!=/===/!==",6),relational:ft("</>/<=/>=",7),bitShift:ft("<</>>/>>>",8),plusMin:new ht("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ft("%",10),star:ft("*",10),slash:ft("/",10),starstar:new ht("**",{beforeExpr:!0}),coalesce:ft("??",1),_break:yt("break"),_case:yt("case",ct),_catch:yt("catch"),_continue:yt("continue"),_debugger:yt("debugger"),_default:yt("default",ct),_do:yt("do",{isLoop:!0,beforeExpr:!0}),_else:yt("else",ct),_finally:yt("finally"),_for:yt("for",{isLoop:!0}),_function:yt("function",mt),_if:yt("if"),_return:yt("return",ct),_switch:yt("switch"),_throw:yt("throw",ct),_try:yt("try"),_var:yt("var"),_const:yt("const"),_while:yt("while",{isLoop:!0}),_with:yt("with"),_new:yt("new",{beforeExpr:!0,startsExpr:!0}),_this:yt("this",mt),_super:yt("super",mt),_class:yt("class",mt),_extends:yt("extends",ct),_export:yt("export"),_import:yt("import",mt),_null:yt("null",mt),_true:yt("true",mt),_false:yt("false",mt),_in:yt("in",{beforeExpr:!0,binop:7}),_instanceof:yt("instanceof",{beforeExpr:!0,binop:7}),_typeof:yt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},wt=/\r\n?|\n|\u2028|\u2029/,bt=new RegExp(wt.source,"g");function vt(xt){return xt===10||xt===13||xt===8232||xt===8233}function Et(xt,Mt,zt){zt===void 0&&(zt=xt.length);for(var pt=Mt;pt<zt;pt++){var kt=xt.charCodeAt(pt);if(vt(kt))return pt<zt-1&&kt===13&&xt.charCodeAt(pt+1)===10?pt+2:pt+1}return-1}var $t=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,At=Object.prototype,Ct=At.hasOwnProperty,It=At.toString,Lt=Object.hasOwn||function(xt,Mt){return Ct.call(xt,Mt)},Ft=Array.isArray||function(xt){return It.call(xt)==="[object Array]"},Dt=Object.create(null);function Vt(xt){return Dt[xt]||(Dt[xt]=new RegExp("^(?:"+xt.replace(/ /g,"|")+")$"))}function Ut(xt){return xt<=65535?String.fromCharCode(xt):(xt-=65536,String.fromCharCode((xt>>10)+55296,(xt&1023)+56320))}var Qt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Kt=function(Mt,zt){this.line=Mt,this.column=zt};Kt.prototype.offset=function(Mt){return new Kt(this.line,this.column+Mt)};var Ht=function(Mt,zt,pt){this.start=zt,this.end=pt,Mt.sourceFile!==null&&(this.source=Mt.sourceFile)};function qt(xt,Mt){for(var zt=1,pt=0;;){var kt=Et(xt,pt,Mt);if(kt<0)return new Kt(zt,Mt-pt);++zt,pt=kt}}var nr={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},tr=!1;function mr(xt){var Mt={};for(var zt in nr)Mt[zt]=xt&&Lt(xt,zt)?xt[zt]:nr[zt];if(Mt.ecmaVersion==="latest"?Mt.ecmaVersion=1e8:Mt.ecmaVersion==null?(!tr&&typeof console=="object"&&console.warn&&(tr=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),Mt.ecmaVersion=11):Mt.ecmaVersion>=2015&&(Mt.ecmaVersion-=2009),Mt.allowReserved==null&&(Mt.allowReserved=Mt.ecmaVersion<5),(!xt||xt.allowHashBang==null)&&(Mt.allowHashBang=Mt.ecmaVersion>=14),Ft(Mt.onToken)){var pt=Mt.onToken;Mt.onToken=function(kt){return pt.push(kt)}}return Ft(Mt.onComment)&&(Mt.onComment=yr(Mt,Mt.onComment)),Mt}function yr(xt,Mt){return function(zt,pt,kt,Nt,Bt,Xt){var ur={type:zt?"Block":"Line",value:pt,start:kt,end:Nt};xt.locations&&(ur.loc=new Ht(this,Bt,Xt)),xt.ranges&&(ur.range=[kt,Nt]),Mt.push(ur)}}var br=1,xr=2,sr=4,ar=8,rr=16,Cr=32,kr=64,vr=128,Gr=256,an=br|xr|Gr;function hn(xt,Mt){return xr|(xt?sr:0)|(Mt?ar:0)}var Mn=0,Bn=1,An=2,dn=3,Yn=4,Dn=5,Tr=function(Mt,zt,pt){this.options=Mt=mr(Mt),this.sourceFile=Mt.sourceFile,this.keywords=Vt(it[Mt.ecmaVersion>=6?6:Mt.sourceType==="module"?"5module":5]);var kt="";Mt.allowReserved!==!0&&(kt=ot[Mt.ecmaVersion>=6?6:Mt.ecmaVersion===5?5:3],Mt.sourceType==="module"&&(kt+=" await")),this.reservedWords=Vt(kt);var Nt=(kt?kt+" ":"")+ot.strict;this.reservedWordsStrict=Vt(Nt),this.reservedWordsStrictBind=Vt(Nt+" "+ot.strictBind),this.input=String(zt),this.containsEsc=!1,pt?(this.pos=pt,this.lineStart=this.input.lastIndexOf(`
`,pt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(wt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=ut.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Mt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Mt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(br),this.regexpState=null,this.privateNameStack=[]},Br={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Tr.prototype.parse=function(){var Mt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Mt)},Br.inFunction.get=function(){return(this.currentVarScope().flags&xr)>0},Br.inGenerator.get=function(){return(this.currentVarScope().flags&ar)>0&&!this.currentVarScope().inClassFieldInit},Br.inAsync.get=function(){return(this.currentVarScope().flags&sr)>0&&!this.currentVarScope().inClassFieldInit},Br.canAwait.get=function(){for(var xt=this.scopeStack.length-1;xt>=0;xt--){var Mt=this.scopeStack[xt];if(Mt.inClassFieldInit||Mt.flags&Gr)return!1;if(Mt.flags&xr)return(Mt.flags&sr)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Br.allowSuper.get=function(){var xt=this.currentThisScope(),Mt=xt.flags,zt=xt.inClassFieldInit;return(Mt&kr)>0||zt||this.options.allowSuperOutsideMethod},Br.allowDirectSuper.get=function(){return(this.currentThisScope().flags&vr)>0},Br.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Br.allowNewDotTarget.get=function(){var xt=this.currentThisScope(),Mt=xt.flags,zt=xt.inClassFieldInit;return(Mt&(xr|Gr))>0||zt},Br.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Gr)>0},Tr.extend=function(){for(var Mt=[],zt=arguments.length;zt--;)Mt[zt]=arguments[zt];for(var pt=this,kt=0;kt<Mt.length;kt++)pt=Mt[kt](pt);return pt},Tr.parse=function(Mt,zt){return new this(zt,Mt).parse()},Tr.parseExpressionAt=function(Mt,zt,pt){var kt=new this(pt,Mt,zt);return kt.nextToken(),kt.parseExpression()},Tr.tokenizer=function(Mt,zt){return new this(zt,Mt)},Object.defineProperties(Tr.prototype,Br);var Ar=Tr.prototype,fn=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ar.strictDirective=function(xt){if(this.options.ecmaVersion<5)return!1;for(;;){Tt.lastIndex=xt,xt+=Tt.exec(this.input)[0].length;var Mt=fn.exec(this.input.slice(xt));if(!Mt)return!1;if((Mt[1]||Mt[2])==="use strict"){Tt.lastIndex=xt+Mt[0].length;var zt=Tt.exec(this.input),pt=zt.index+zt[0].length,kt=this.input.charAt(pt);return kt===";"||kt==="}"||wt.test(zt[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(kt)||kt==="!"&&this.input.charAt(pt+1)==="=")}xt+=Mt[0].length,Tt.lastIndex=xt,xt+=Tt.exec(this.input)[0].length,this.input[xt]===";"&&xt++}},Ar.eat=function(xt){return this.type===xt?(this.next(),!0):!1},Ar.isContextual=function(xt){return this.type===ut.name&&this.value===xt&&!this.containsEsc},Ar.eatContextual=function(xt){return this.isContextual(xt)?(this.next(),!0):!1},Ar.expectContextual=function(xt){this.eatContextual(xt)||this.unexpected()},Ar.canInsertSemicolon=function(){return this.type===ut.eof||this.type===ut.braceR||wt.test(this.input.slice(this.lastTokEnd,this.start))},Ar.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Ar.semicolon=function(){!this.eat(ut.semi)&&!this.insertSemicolon()&&this.unexpected()},Ar.afterTrailingComma=function(xt,Mt){if(this.type===xt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Mt||this.next(),!0},Ar.expect=function(xt){this.eat(xt)||this.unexpected()},Ar.unexpected=function(xt){this.raise(xt??this.start,"Unexpected token")};var er=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ar.checkPatternErrors=function(xt,Mt){if(xt){xt.trailingComma>-1&&this.raiseRecoverable(xt.trailingComma,"Comma is not permitted after the rest element");var zt=Mt?xt.parenthesizedAssign:xt.parenthesizedBind;zt>-1&&this.raiseRecoverable(zt,Mt?"Assigning to rvalue":"Parenthesized pattern")}},Ar.checkExpressionErrors=function(xt,Mt){if(!xt)return!1;var zt=xt.shorthandAssign,pt=xt.doubleProto;if(!Mt)return zt>=0||pt>=0;zt>=0&&this.raise(zt,"Shorthand property assignments are valid only in destructuring patterns"),pt>=0&&this.raiseRecoverable(pt,"Redefinition of __proto__ property")},Ar.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Ar.isSimpleAssignTarget=function(xt){return xt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(xt.expression):xt.type==="Identifier"||xt.type==="MemberExpression"};var Yt=Tr.prototype;Yt.parseTopLevel=function(xt){var Mt=Object.create(null);for(xt.body||(xt.body=[]);this.type!==ut.eof;){var zt=this.parseStatement(null,!0,Mt);xt.body.push(zt)}if(this.inModule)for(var pt=0,kt=Object.keys(this.undefinedExports);pt<kt.length;pt+=1){var Nt=kt[pt];this.raiseRecoverable(this.undefinedExports[Nt].start,"Export '"+Nt+"' is not defined")}return this.adaptDirectivePrologue(xt.body),this.next(),xt.sourceType=this.options.sourceType,this.finishNode(xt,"Program")};var fr={kind:"loop"},Dr={kind:"switch"};Yt.isLet=function(xt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Tt.lastIndex=this.pos;var Mt=Tt.exec(this.input),zt=this.pos+Mt[0].length,pt=this.input.charCodeAt(zt);if(pt===91||pt===92)return!0;if(xt)return!1;if(pt===123||pt>55295&&pt<56320)return!0;if(st(pt,!0)){for(var kt=zt+1;lt(pt=this.input.charCodeAt(kt),!0);)++kt;if(pt===92||pt>55295&&pt<56320)return!0;var Nt=this.input.slice(zt,kt);if(!j.test(Nt))return!0}return!1},Yt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Tt.lastIndex=this.pos;var xt=Tt.exec(this.input),Mt=this.pos+xt[0].length,zt;return!wt.test(this.input.slice(this.pos,Mt))&&this.input.slice(Mt,Mt+8)==="function"&&(Mt+8===this.input.length||!(lt(zt=this.input.charCodeAt(Mt+8))||zt>55295&&zt<56320))},Yt.parseStatement=function(xt,Mt,zt){var pt=this.type,kt=this.startNode(),Nt;switch(this.isLet(xt)&&(pt=ut._var,Nt="let"),pt){case ut._break:case ut._continue:return this.parseBreakContinueStatement(kt,pt.keyword);case ut._debugger:return this.parseDebuggerStatement(kt);case ut._do:return this.parseDoStatement(kt);case ut._for:return this.parseForStatement(kt);case ut._function:return xt&&(this.strict||xt!=="if"&&xt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(kt,!1,!xt);case ut._class:return xt&&this.unexpected(),this.parseClass(kt,!0);case ut._if:return this.parseIfStatement(kt);case ut._return:return this.parseReturnStatement(kt);case ut._switch:return this.parseSwitchStatement(kt);case ut._throw:return this.parseThrowStatement(kt);case ut._try:return this.parseTryStatement(kt);case ut._const:case ut._var:return Nt=Nt||this.value,xt&&Nt!=="var"&&this.unexpected(),this.parseVarStatement(kt,Nt);case ut._while:return this.parseWhileStatement(kt);case ut._with:return this.parseWithStatement(kt);case ut.braceL:return this.parseBlock(!0,kt);case ut.semi:return this.parseEmptyStatement(kt);case ut._export:case ut._import:if(this.options.ecmaVersion>10&&pt===ut._import){Tt.lastIndex=this.pos;var Bt=Tt.exec(this.input),Xt=this.pos+Bt[0].length,ur=this.input.charCodeAt(Xt);if(ur===40||ur===46)return this.parseExpressionStatement(kt,this.parseExpression())}return this.options.allowImportExportEverywhere||(Mt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),pt===ut._import?this.parseImport(kt):this.parseExport(kt,zt);default:if(this.isAsyncFunction())return xt&&this.unexpected(),this.next(),this.parseFunctionStatement(kt,!0,!xt);var gr=this.value,Lr=this.parseExpression();return pt===ut.name&&Lr.type==="Identifier"&&this.eat(ut.colon)?this.parseLabeledStatement(kt,gr,Lr,xt):this.parseExpressionStatement(kt,Lr)}},Yt.parseBreakContinueStatement=function(xt,Mt){var zt=Mt==="break";this.next(),this.eat(ut.semi)||this.insertSemicolon()?xt.label=null:this.type!==ut.name?this.unexpected():(xt.label=this.parseIdent(),this.semicolon());for(var pt=0;pt<this.labels.length;++pt){var kt=this.labels[pt];if((xt.label==null||kt.name===xt.label.name)&&(kt.kind!=null&&(zt||kt.kind==="loop")||xt.label&&zt))break}return pt===this.labels.length&&this.raise(xt.start,"Unsyntactic "+Mt),this.finishNode(xt,zt?"BreakStatement":"ContinueStatement")},Yt.parseDebuggerStatement=function(xt){return this.next(),this.semicolon(),this.finishNode(xt,"DebuggerStatement")},Yt.parseDoStatement=function(xt){return this.next(),this.labels.push(fr),xt.body=this.parseStatement("do"),this.labels.pop(),this.expect(ut._while),xt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(ut.semi):this.semicolon(),this.finishNode(xt,"DoWhileStatement")},Yt.parseForStatement=function(xt){this.next();var Mt=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(fr),this.enterScope(0),this.expect(ut.parenL),this.type===ut.semi)return Mt>-1&&this.unexpected(Mt),this.parseFor(xt,null);var zt=this.isLet();if(this.type===ut._var||this.type===ut._const||zt){var pt=this.startNode(),kt=zt?"let":this.value;return this.next(),this.parseVar(pt,!0,kt),this.finishNode(pt,"VariableDeclaration"),(this.type===ut._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&pt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===ut._in?Mt>-1&&this.unexpected(Mt):xt.await=Mt>-1),this.parseForIn(xt,pt)):(Mt>-1&&this.unexpected(Mt),this.parseFor(xt,pt))}var Nt=this.isContextual("let"),Bt=!1,Xt=new er,ur=this.parseExpression(Mt>-1?"await":!0,Xt);return this.type===ut._in||(Bt=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===ut._in?Mt>-1&&this.unexpected(Mt):xt.await=Mt>-1),Nt&&Bt&&this.raise(ur.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(ur,!1,Xt),this.checkLValPattern(ur),this.parseForIn(xt,ur)):(this.checkExpressionErrors(Xt,!0),Mt>-1&&this.unexpected(Mt),this.parseFor(xt,ur))},Yt.parseFunctionStatement=function(xt,Mt,zt){return this.next(),this.parseFunction(xt,$r|(zt?0:Ir),!1,Mt)},Yt.parseIfStatement=function(xt){return this.next(),xt.test=this.parseParenExpression(),xt.consequent=this.parseStatement("if"),xt.alternate=this.eat(ut._else)?this.parseStatement("if"):null,this.finishNode(xt,"IfStatement")},Yt.parseReturnStatement=function(xt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(ut.semi)||this.insertSemicolon()?xt.argument=null:(xt.argument=this.parseExpression(),this.semicolon()),this.finishNode(xt,"ReturnStatement")},Yt.parseSwitchStatement=function(xt){this.next(),xt.discriminant=this.parseParenExpression(),xt.cases=[],this.expect(ut.braceL),this.labels.push(Dr),this.enterScope(0);for(var Mt,zt=!1;this.type!==ut.braceR;)if(this.type===ut._case||this.type===ut._default){var pt=this.type===ut._case;Mt&&this.finishNode(Mt,"SwitchCase"),xt.cases.push(Mt=this.startNode()),Mt.consequent=[],this.next(),pt?Mt.test=this.parseExpression():(zt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),zt=!0,Mt.test=null),this.expect(ut.colon)}else Mt||this.unexpected(),Mt.consequent.push(this.parseStatement(null));return this.exitScope(),Mt&&this.finishNode(Mt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(xt,"SwitchStatement")},Yt.parseThrowStatement=function(xt){return this.next(),wt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),xt.argument=this.parseExpression(),this.semicolon(),this.finishNode(xt,"ThrowStatement")};var Ur=[];Yt.parseCatchClauseParam=function(){var xt=this.parseBindingAtom(),Mt=xt.type==="Identifier";return this.enterScope(Mt?Cr:0),this.checkLValPattern(xt,Mt?Yn:An),this.expect(ut.parenR),xt},Yt.parseTryStatement=function(xt){if(this.next(),xt.block=this.parseBlock(),xt.handler=null,this.type===ut._catch){var Mt=this.startNode();this.next(),this.eat(ut.parenL)?Mt.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),Mt.param=null,this.enterScope(0)),Mt.body=this.parseBlock(!1),this.exitScope(),xt.handler=this.finishNode(Mt,"CatchClause")}return xt.finalizer=this.eat(ut._finally)?this.parseBlock():null,!xt.handler&&!xt.finalizer&&this.raise(xt.start,"Missing catch or finally clause"),this.finishNode(xt,"TryStatement")},Yt.parseVarStatement=function(xt,Mt,zt){return this.next(),this.parseVar(xt,!1,Mt,zt),this.semicolon(),this.finishNode(xt,"VariableDeclaration")},Yt.parseWhileStatement=function(xt){return this.next(),xt.test=this.parseParenExpression(),this.labels.push(fr),xt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(xt,"WhileStatement")},Yt.parseWithStatement=function(xt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),xt.object=this.parseParenExpression(),xt.body=this.parseStatement("with"),this.finishNode(xt,"WithStatement")},Yt.parseEmptyStatement=function(xt){return this.next(),this.finishNode(xt,"EmptyStatement")},Yt.parseLabeledStatement=function(xt,Mt,zt,pt){for(var kt=0,Nt=this.labels;kt<Nt.length;kt+=1){var Bt=Nt[kt];Bt.name===Mt&&this.raise(zt.start,"Label '"+Mt+"' is already declared")}for(var Xt=this.type.isLoop?"loop":this.type===ut._switch?"switch":null,ur=this.labels.length-1;ur>=0;ur--){var gr=this.labels[ur];if(gr.statementStart===xt.start)gr.statementStart=this.start,gr.kind=Xt;else break}return this.labels.push({name:Mt,kind:Xt,statementStart:this.start}),xt.body=this.parseStatement(pt?pt.indexOf("label")===-1?pt+"label":pt:"label"),this.labels.pop(),xt.label=zt,this.finishNode(xt,"LabeledStatement")},Yt.parseExpressionStatement=function(xt,Mt){return xt.expression=Mt,this.semicolon(),this.finishNode(xt,"ExpressionStatement")},Yt.parseBlock=function(xt,Mt,zt){for(xt===void 0&&(xt=!0),Mt===void 0&&(Mt=this.startNode()),Mt.body=[],this.expect(ut.braceL),xt&&this.enterScope(0);this.type!==ut.braceR;){var pt=this.parseStatement(null);Mt.body.push(pt)}return zt&&(this.strict=!1),this.next(),xt&&this.exitScope(),this.finishNode(Mt,"BlockStatement")},Yt.parseFor=function(xt,Mt){return xt.init=Mt,this.expect(ut.semi),xt.test=this.type===ut.semi?null:this.parseExpression(),this.expect(ut.semi),xt.update=this.type===ut.parenR?null:this.parseExpression(),this.expect(ut.parenR),xt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(xt,"ForStatement")},Yt.parseForIn=function(xt,Mt){var zt=this.type===ut._in;return this.next(),Mt.type==="VariableDeclaration"&&Mt.declarations[0].init!=null&&(!zt||this.options.ecmaVersion<8||this.strict||Mt.kind!=="var"||Mt.declarations[0].id.type!=="Identifier")&&this.raise(Mt.start,(zt?"for-in":"for-of")+" loop variable declaration may not have an initializer"),xt.left=Mt,xt.right=zt?this.parseExpression():this.parseMaybeAssign(),this.expect(ut.parenR),xt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(xt,zt?"ForInStatement":"ForOfStatement")},Yt.parseVar=function(xt,Mt,zt,pt){for(xt.declarations=[],xt.kind=zt;;){var kt=this.startNode();if(this.parseVarId(kt,zt),this.eat(ut.eq)?kt.init=this.parseMaybeAssign(Mt):!pt&&zt==="const"&&!(this.type===ut._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!pt&&kt.id.type!=="Identifier"&&!(Mt&&(this.type===ut._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):kt.init=null,xt.declarations.push(this.finishNode(kt,"VariableDeclarator")),!this.eat(ut.comma))break}return xt},Yt.parseVarId=function(xt,Mt){xt.id=this.parseBindingAtom(),this.checkLValPattern(xt.id,Mt==="var"?Bn:An,!1)};var $r=1,Ir=2,Xr=4;Yt.parseFunction=function(xt,Mt,zt,pt,kt){this.initFunction(xt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!pt)&&(this.type===ut.star&&Mt&Ir&&this.unexpected(),xt.generator=this.eat(ut.star)),this.options.ecmaVersion>=8&&(xt.async=!!pt),Mt&$r&&(xt.id=Mt&Xr&&this.type!==ut.name?null:this.parseIdent(),xt.id&&!(Mt&Ir)&&this.checkLValSimple(xt.id,this.strict||xt.generator||xt.async?this.treatFunctionsAsVar?Bn:An:dn));var Nt=this.yieldPos,Bt=this.awaitPos,Xt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(hn(xt.async,xt.generator)),Mt&$r||(xt.id=this.type===ut.name?this.parseIdent():null),this.parseFunctionParams(xt),this.parseFunctionBody(xt,zt,!1,kt),this.yieldPos=Nt,this.awaitPos=Bt,this.awaitIdentPos=Xt,this.finishNode(xt,Mt&$r?"FunctionDeclaration":"FunctionExpression")},Yt.parseFunctionParams=function(xt){this.expect(ut.parenL),xt.params=this.parseBindingList(ut.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Yt.parseClass=function(xt,Mt){this.next();var zt=this.strict;this.strict=!0,this.parseClassId(xt,Mt),this.parseClassSuper(xt);var pt=this.enterClassBody(),kt=this.startNode(),Nt=!1;for(kt.body=[],this.expect(ut.braceL);this.type!==ut.braceR;){var Bt=this.parseClassElement(xt.superClass!==null);Bt&&(kt.body.push(Bt),Bt.type==="MethodDefinition"&&Bt.kind==="constructor"?(Nt&&this.raiseRecoverable(Bt.start,"Duplicate constructor in the same class"),Nt=!0):Bt.key&&Bt.key.type==="PrivateIdentifier"&&un(pt,Bt)&&this.raiseRecoverable(Bt.key.start,"Identifier '#"+Bt.key.name+"' has already been declared"))}return this.strict=zt,this.next(),xt.body=this.finishNode(kt,"ClassBody"),this.exitClassBody(),this.finishNode(xt,Mt?"ClassDeclaration":"ClassExpression")},Yt.parseClassElement=function(xt){if(this.eat(ut.semi))return null;var Mt=this.options.ecmaVersion,zt=this.startNode(),pt="",kt=!1,Nt=!1,Bt="method",Xt=!1;if(this.eatContextual("static")){if(Mt>=13&&this.eat(ut.braceL))return this.parseClassStaticBlock(zt),zt;this.isClassElementNameStart()||this.type===ut.star?Xt=!0:pt="static"}if(zt.static=Xt,!pt&&Mt>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===ut.star)&&!this.canInsertSemicolon()?Nt=!0:pt="async"),!pt&&(Mt>=9||!Nt)&&this.eat(ut.star)&&(kt=!0),!pt&&!Nt&&!kt){var ur=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Bt=ur:pt=ur)}if(pt?(zt.computed=!1,zt.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),zt.key.name=pt,this.finishNode(zt.key,"Identifier")):this.parseClassElementName(zt),Mt<13||this.type===ut.parenL||Bt!=="method"||kt||Nt){var gr=!zt.static&&Fr(zt,"constructor"),Lr=gr&&xt;gr&&Bt!=="method"&&this.raise(zt.key.start,"Constructor can't have get/set modifier"),zt.kind=gr?"constructor":Bt,this.parseClassMethod(zt,kt,Nt,Lr)}else this.parseClassField(zt);return zt},Yt.isClassElementNameStart=function(){return this.type===ut.name||this.type===ut.privateId||this.type===ut.num||this.type===ut.string||this.type===ut.bracketL||this.type.keyword},Yt.parseClassElementName=function(xt){this.type===ut.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),xt.computed=!1,xt.key=this.parsePrivateIdent()):this.parsePropertyName(xt)},Yt.parseClassMethod=function(xt,Mt,zt,pt){var kt=xt.key;xt.kind==="constructor"?(Mt&&this.raise(kt.start,"Constructor can't be a generator"),zt&&this.raise(kt.start,"Constructor can't be an async method")):xt.static&&Fr(xt,"prototype")&&this.raise(kt.start,"Classes may not have a static property named prototype");var Nt=xt.value=this.parseMethod(Mt,zt,pt);return xt.kind==="get"&&Nt.params.length!==0&&this.raiseRecoverable(Nt.start,"getter should have no params"),xt.kind==="set"&&Nt.params.length!==1&&this.raiseRecoverable(Nt.start,"setter should have exactly one param"),xt.kind==="set"&&Nt.params[0].type==="RestElement"&&this.raiseRecoverable(Nt.params[0].start,"Setter cannot use rest params"),this.finishNode(xt,"MethodDefinition")},Yt.parseClassField=function(xt){if(Fr(xt,"constructor")?this.raise(xt.key.start,"Classes can't have a field named 'constructor'"):xt.static&&Fr(xt,"prototype")&&this.raise(xt.key.start,"Classes can't have a static field named 'prototype'"),this.eat(ut.eq)){var Mt=this.currentThisScope(),zt=Mt.inClassFieldInit;Mt.inClassFieldInit=!0,xt.value=this.parseMaybeAssign(),Mt.inClassFieldInit=zt}else xt.value=null;return this.semicolon(),this.finishNode(xt,"PropertyDefinition")},Yt.parseClassStaticBlock=function(xt){xt.body=[];var Mt=this.labels;for(this.labels=[],this.enterScope(Gr|kr);this.type!==ut.braceR;){var zt=this.parseStatement(null);xt.body.push(zt)}return this.next(),this.exitScope(),this.labels=Mt,this.finishNode(xt,"StaticBlock")},Yt.parseClassId=function(xt,Mt){this.type===ut.name?(xt.id=this.parseIdent(),Mt&&this.checkLValSimple(xt.id,An,!1)):(Mt===!0&&this.unexpected(),xt.id=null)},Yt.parseClassSuper=function(xt){xt.superClass=this.eat(ut._extends)?this.parseExprSubscripts(null,!1):null},Yt.enterClassBody=function(){var xt={declared:Object.create(null),used:[]};return this.privateNameStack.push(xt),xt.declared},Yt.exitClassBody=function(){var xt=this.privateNameStack.pop(),Mt=xt.declared,zt=xt.used;if(this.options.checkPrivateFields)for(var pt=this.privateNameStack.length,kt=pt===0?null:this.privateNameStack[pt-1],Nt=0;Nt<zt.length;++Nt){var Bt=zt[Nt];Lt(Mt,Bt.name)||(kt?kt.used.push(Bt):this.raiseRecoverable(Bt.start,"Private field '#"+Bt.name+"' must be declared in an enclosing class"))}};function un(xt,Mt){var zt=Mt.key.name,pt=xt[zt],kt="true";return Mt.type==="MethodDefinition"&&(Mt.kind==="get"||Mt.kind==="set")&&(kt=(Mt.static?"s":"i")+Mt.kind),pt==="iget"&&kt==="iset"||pt==="iset"&&kt==="iget"||pt==="sget"&&kt==="sset"||pt==="sset"&&kt==="sget"?(xt[zt]="true",!1):pt?!0:(xt[zt]=kt,!1)}function Fr(xt,Mt){var zt=xt.computed,pt=xt.key;return!zt&&(pt.type==="Identifier"&&pt.name===Mt||pt.type==="Literal"&&pt.value===Mt)}Yt.parseExportAllDeclaration=function(xt,Mt){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(xt.exported=this.parseModuleExportName(),this.checkExport(Mt,xt.exported,this.lastTokStart)):xt.exported=null),this.expectContextual("from"),this.type!==ut.string&&this.unexpected(),xt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(xt,"ExportAllDeclaration")},Yt.parseExport=function(xt,Mt){if(this.next(),this.eat(ut.star))return this.parseExportAllDeclaration(xt,Mt);if(this.eat(ut._default))return this.checkExport(Mt,"default",this.lastTokStart),xt.declaration=this.parseExportDefaultDeclaration(),this.finishNode(xt,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())xt.declaration=this.parseExportDeclaration(xt),xt.declaration.type==="VariableDeclaration"?this.checkVariableExport(Mt,xt.declaration.declarations):this.checkExport(Mt,xt.declaration.id,xt.declaration.id.start),xt.specifiers=[],xt.source=null;else{if(xt.declaration=null,xt.specifiers=this.parseExportSpecifiers(Mt),this.eatContextual("from"))this.type!==ut.string&&this.unexpected(),xt.source=this.parseExprAtom();else{for(var zt=0,pt=xt.specifiers;zt<pt.length;zt+=1){var kt=pt[zt];this.checkUnreserved(kt.local),this.checkLocalExport(kt.local),kt.local.type==="Literal"&&this.raise(kt.local.start,"A string literal cannot be used as an exported binding without `from`.")}xt.source=null}this.semicolon()}return this.finishNode(xt,"ExportNamedDeclaration")},Yt.parseExportDeclaration=function(xt){return this.parseStatement(null)},Yt.parseExportDefaultDeclaration=function(){var xt;if(this.type===ut._function||(xt=this.isAsyncFunction())){var Mt=this.startNode();return this.next(),xt&&this.next(),this.parseFunction(Mt,$r|Xr,!1,xt)}else if(this.type===ut._class){var zt=this.startNode();return this.parseClass(zt,"nullableID")}else{var pt=this.parseMaybeAssign();return this.semicolon(),pt}},Yt.checkExport=function(xt,Mt,zt){xt&&(typeof Mt!="string"&&(Mt=Mt.type==="Identifier"?Mt.name:Mt.value),Lt(xt,Mt)&&this.raiseRecoverable(zt,"Duplicate export '"+Mt+"'"),xt[Mt]=!0)},Yt.checkPatternExport=function(xt,Mt){var zt=Mt.type;if(zt==="Identifier")this.checkExport(xt,Mt,Mt.start);else if(zt==="ObjectPattern")for(var pt=0,kt=Mt.properties;pt<kt.length;pt+=1){var Nt=kt[pt];this.checkPatternExport(xt,Nt)}else if(zt==="ArrayPattern")for(var Bt=0,Xt=Mt.elements;Bt<Xt.length;Bt+=1){var ur=Xt[Bt];ur&&this.checkPatternExport(xt,ur)}else zt==="Property"?this.checkPatternExport(xt,Mt.value):zt==="AssignmentPattern"?this.checkPatternExport(xt,Mt.left):zt==="RestElement"&&this.checkPatternExport(xt,Mt.argument)},Yt.checkVariableExport=function(xt,Mt){if(xt)for(var zt=0,pt=Mt;zt<pt.length;zt+=1){var kt=pt[zt];this.checkPatternExport(xt,kt.id)}},Yt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Yt.parseExportSpecifier=function(xt){var Mt=this.startNode();return Mt.local=this.parseModuleExportName(),Mt.exported=this.eatContextual("as")?this.parseModuleExportName():Mt.local,this.checkExport(xt,Mt.exported,Mt.exported.start),this.finishNode(Mt,"ExportSpecifier")},Yt.parseExportSpecifiers=function(xt){var Mt=[],zt=!0;for(this.expect(ut.braceL);!this.eat(ut.braceR);){if(zt)zt=!1;else if(this.expect(ut.comma),this.afterTrailingComma(ut.braceR))break;Mt.push(this.parseExportSpecifier(xt))}return Mt},Yt.parseImport=function(xt){return this.next(),this.type===ut.string?(xt.specifiers=Ur,xt.source=this.parseExprAtom()):(xt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),xt.source=this.type===ut.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(xt,"ImportDeclaration")},Yt.parseImportSpecifier=function(){var xt=this.startNode();return xt.imported=this.parseModuleExportName(),this.eatContextual("as")?xt.local=this.parseIdent():(this.checkUnreserved(xt.imported),xt.local=xt.imported),this.checkLValSimple(xt.local,An),this.finishNode(xt,"ImportSpecifier")},Yt.parseImportDefaultSpecifier=function(){var xt=this.startNode();return xt.local=this.parseIdent(),this.checkLValSimple(xt.local,An),this.finishNode(xt,"ImportDefaultSpecifier")},Yt.parseImportNamespaceSpecifier=function(){var xt=this.startNode();return this.next(),this.expectContextual("as"),xt.local=this.parseIdent(),this.checkLValSimple(xt.local,An),this.finishNode(xt,"ImportNamespaceSpecifier")},Yt.parseImportSpecifiers=function(){var xt=[],Mt=!0;if(this.type===ut.name&&(xt.push(this.parseImportDefaultSpecifier()),!this.eat(ut.comma)))return xt;if(this.type===ut.star)return xt.push(this.parseImportNamespaceSpecifier()),xt;for(this.expect(ut.braceL);!this.eat(ut.braceR);){if(Mt)Mt=!1;else if(this.expect(ut.comma),this.afterTrailingComma(ut.braceR))break;xt.push(this.parseImportSpecifier())}return xt},Yt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===ut.string){var xt=this.parseLiteral(this.value);return Qt.test(xt.value)&&this.raise(xt.start,"An export name cannot include a lone surrogate."),xt}return this.parseIdent(!0)},Yt.adaptDirectivePrologue=function(xt){for(var Mt=0;Mt<xt.length&&this.isDirectiveCandidate(xt[Mt]);++Mt)xt[Mt].directive=xt[Mt].expression.raw.slice(1,-1)},Yt.isDirectiveCandidate=function(xt){return this.options.ecmaVersion>=5&&xt.type==="ExpressionStatement"&&xt.expression.type==="Literal"&&typeof xt.expression.value=="string"&&(this.input[xt.start]==='"'||this.input[xt.start]==="'")};var qr=Tr.prototype;qr.toAssignable=function(xt,Mt,zt){if(this.options.ecmaVersion>=6&&xt)switch(xt.type){case"Identifier":this.inAsync&&xt.name==="await"&&this.raise(xt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":xt.type="ObjectPattern",zt&&this.checkPatternErrors(zt,!0);for(var pt=0,kt=xt.properties;pt<kt.length;pt+=1){var Nt=kt[pt];this.toAssignable(Nt,Mt),Nt.type==="RestElement"&&(Nt.argument.type==="ArrayPattern"||Nt.argument.type==="ObjectPattern")&&this.raise(Nt.argument.start,"Unexpected token")}break;case"Property":xt.kind!=="init"&&this.raise(xt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(xt.value,Mt);break;case"ArrayExpression":xt.type="ArrayPattern",zt&&this.checkPatternErrors(zt,!0),this.toAssignableList(xt.elements,Mt);break;case"SpreadElement":xt.type="RestElement",this.toAssignable(xt.argument,Mt),xt.argument.type==="AssignmentPattern"&&this.raise(xt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":xt.operator!=="="&&this.raise(xt.left.end,"Only '=' operator can be used for specifying default value."),xt.type="AssignmentPattern",delete xt.operator,this.toAssignable(xt.left,Mt);break;case"ParenthesizedExpression":this.toAssignable(xt.expression,Mt,zt);break;case"ChainExpression":this.raiseRecoverable(xt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Mt)break;default:this.raise(xt.start,"Assigning to rvalue")}else zt&&this.checkPatternErrors(zt,!0);return xt},qr.toAssignableList=function(xt,Mt){for(var zt=xt.length,pt=0;pt<zt;pt++){var kt=xt[pt];kt&&this.toAssignable(kt,Mt)}if(zt){var Nt=xt[zt-1];this.options.ecmaVersion===6&&Mt&&Nt&&Nt.type==="RestElement"&&Nt.argument.type!=="Identifier"&&this.unexpected(Nt.argument.start)}return xt},qr.parseSpread=function(xt){var Mt=this.startNode();return this.next(),Mt.argument=this.parseMaybeAssign(!1,xt),this.finishNode(Mt,"SpreadElement")},qr.parseRestBinding=function(){var xt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==ut.name&&this.unexpected(),xt.argument=this.parseBindingAtom(),this.finishNode(xt,"RestElement")},qr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case ut.bracketL:var xt=this.startNode();return this.next(),xt.elements=this.parseBindingList(ut.bracketR,!0,!0),this.finishNode(xt,"ArrayPattern");case ut.braceL:return this.parseObj(!0)}return this.parseIdent()},qr.parseBindingList=function(xt,Mt,zt,pt){for(var kt=[],Nt=!0;!this.eat(xt);)if(Nt?Nt=!1:this.expect(ut.comma),Mt&&this.type===ut.comma)kt.push(null);else{if(zt&&this.afterTrailingComma(xt))break;if(this.type===ut.ellipsis){var Bt=this.parseRestBinding();this.parseBindingListItem(Bt),kt.push(Bt),this.type===ut.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(xt);break}else kt.push(this.parseAssignableListItem(pt))}return kt},qr.parseAssignableListItem=function(xt){var Mt=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Mt),Mt},qr.parseBindingListItem=function(xt){return xt},qr.parseMaybeDefault=function(xt,Mt,zt){if(zt=zt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(ut.eq))return zt;var pt=this.startNodeAt(xt,Mt);return pt.left=zt,pt.right=this.parseMaybeAssign(),this.finishNode(pt,"AssignmentPattern")},qr.checkLValSimple=function(xt,Mt,zt){Mt===void 0&&(Mt=Mn);var pt=Mt!==Mn;switch(xt.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(xt.name)&&this.raiseRecoverable(xt.start,(pt?"Binding ":"Assigning to ")+xt.name+" in strict mode"),pt&&(Mt===An&&xt.name==="let"&&this.raiseRecoverable(xt.start,"let is disallowed as a lexically bound name"),zt&&(Lt(zt,xt.name)&&this.raiseRecoverable(xt.start,"Argument name clash"),zt[xt.name]=!0),Mt!==Dn&&this.declareName(xt.name,Mt,xt.start));break;case"ChainExpression":this.raiseRecoverable(xt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":pt&&this.raiseRecoverable(xt.start,"Binding member expression");break;case"ParenthesizedExpression":return pt&&this.raiseRecoverable(xt.start,"Binding parenthesized expression"),this.checkLValSimple(xt.expression,Mt,zt);default:this.raise(xt.start,(pt?"Binding":"Assigning to")+" rvalue")}},qr.checkLValPattern=function(xt,Mt,zt){switch(Mt===void 0&&(Mt=Mn),xt.type){case"ObjectPattern":for(var pt=0,kt=xt.properties;pt<kt.length;pt+=1){var Nt=kt[pt];this.checkLValInnerPattern(Nt,Mt,zt)}break;case"ArrayPattern":for(var Bt=0,Xt=xt.elements;Bt<Xt.length;Bt+=1){var ur=Xt[Bt];ur&&this.checkLValInnerPattern(ur,Mt,zt)}break;default:this.checkLValSimple(xt,Mt,zt)}},qr.checkLValInnerPattern=function(xt,Mt,zt){switch(Mt===void 0&&(Mt=Mn),xt.type){case"Property":this.checkLValInnerPattern(xt.value,Mt,zt);break;case"AssignmentPattern":this.checkLValPattern(xt.left,Mt,zt);break;case"RestElement":this.checkLValPattern(xt.argument,Mt,zt);break;default:this.checkLValPattern(xt,Mt,zt)}};var Wr=function(Mt,zt,pt,kt,Nt){this.token=Mt,this.isExpr=!!zt,this.preserveSpace=!!pt,this.override=kt,this.generator=!!Nt},zr={b_stat:new Wr("{",!1),b_expr:new Wr("{",!0),b_tmpl:new Wr("${",!1),p_stat:new Wr("(",!1),p_expr:new Wr("(",!0),q_tmpl:new Wr("`",!0,!0,function(xt){return xt.tryReadTemplateToken()}),f_stat:new Wr("function",!1),f_expr:new Wr("function",!0),f_expr_gen:new Wr("function",!0,!1,null,!0),f_gen:new Wr("function",!1,!1,null,!0)},ln=Tr.prototype;ln.initialContext=function(){return[zr.b_stat]},ln.curContext=function(){return this.context[this.context.length-1]},ln.braceIsBlock=function(xt){var Mt=this.curContext();return Mt===zr.f_expr||Mt===zr.f_stat?!0:xt===ut.colon&&(Mt===zr.b_stat||Mt===zr.b_expr)?!Mt.isExpr:xt===ut._return||xt===ut.name&&this.exprAllowed?wt.test(this.input.slice(this.lastTokEnd,this.start)):xt===ut._else||xt===ut.semi||xt===ut.eof||xt===ut.parenR||xt===ut.arrow?!0:xt===ut.braceL?Mt===zr.b_stat:xt===ut._var||xt===ut._const||xt===ut.name?!1:!this.exprAllowed},ln.inGeneratorContext=function(){for(var xt=this.context.length-1;xt>=1;xt--){var Mt=this.context[xt];if(Mt.token==="function")return Mt.generator}return!1},ln.updateContext=function(xt){var Mt,zt=this.type;zt.keyword&&xt===ut.dot?this.exprAllowed=!1:(Mt=zt.updateContext)?Mt.call(this,xt):this.exprAllowed=zt.beforeExpr},ln.overrideContext=function(xt){this.curContext()!==xt&&(this.context[this.context.length-1]=xt)},ut.parenR.updateContext=ut.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var xt=this.context.pop();xt===zr.b_stat&&this.curContext().token==="function"&&(xt=this.context.pop()),this.exprAllowed=!xt.isExpr},ut.braceL.updateContext=function(xt){this.context.push(this.braceIsBlock(xt)?zr.b_stat:zr.b_expr),this.exprAllowed=!0},ut.dollarBraceL.updateContext=function(){this.context.push(zr.b_tmpl),this.exprAllowed=!0},ut.parenL.updateContext=function(xt){var Mt=xt===ut._if||xt===ut._for||xt===ut._with||xt===ut._while;this.context.push(Mt?zr.p_stat:zr.p_expr),this.exprAllowed=!0},ut.incDec.updateContext=function(){},ut._function.updateContext=ut._class.updateContext=function(xt){xt.beforeExpr&&xt!==ut._else&&!(xt===ut.semi&&this.curContext()!==zr.p_stat)&&!(xt===ut._return&&wt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((xt===ut.colon||xt===ut.braceL)&&this.curContext()===zr.b_stat)?this.context.push(zr.f_expr):this.context.push(zr.f_stat),this.exprAllowed=!1},ut.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},ut.backQuote.updateContext=function(){this.curContext()===zr.q_tmpl?this.context.pop():this.context.push(zr.q_tmpl),this.exprAllowed=!1},ut.star.updateContext=function(xt){if(xt===ut._function){var Mt=this.context.length-1;this.context[Mt]===zr.f_expr?this.context[Mt]=zr.f_expr_gen:this.context[Mt]=zr.f_gen}this.exprAllowed=!0},ut.name.updateContext=function(xt){var Mt=!1;this.options.ecmaVersion>=6&&xt!==ut.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Mt=!0),this.exprAllowed=Mt};var Er=Tr.prototype;Er.checkPropClash=function(xt,Mt,zt){if(!(this.options.ecmaVersion>=9&&xt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(xt.computed||xt.method||xt.shorthand))){var pt=xt.key,kt;switch(pt.type){case"Identifier":kt=pt.name;break;case"Literal":kt=String(pt.value);break;default:return}var Nt=xt.kind;if(this.options.ecmaVersion>=6){kt==="__proto__"&&Nt==="init"&&(Mt.proto&&(zt?zt.doubleProto<0&&(zt.doubleProto=pt.start):this.raiseRecoverable(pt.start,"Redefinition of __proto__ property")),Mt.proto=!0);return}kt="$"+kt;var Bt=Mt[kt];if(Bt){var Xt;Nt==="init"?Xt=this.strict&&Bt.init||Bt.get||Bt.set:Xt=Bt.init||Bt[Nt],Xt&&this.raiseRecoverable(pt.start,"Redefinition of property")}else Bt=Mt[kt]={init:!1,get:!1,set:!1};Bt[Nt]=!0}},Er.parseExpression=function(xt,Mt){var zt=this.start,pt=this.startLoc,kt=this.parseMaybeAssign(xt,Mt);if(this.type===ut.comma){var Nt=this.startNodeAt(zt,pt);for(Nt.expressions=[kt];this.eat(ut.comma);)Nt.expressions.push(this.parseMaybeAssign(xt,Mt));return this.finishNode(Nt,"SequenceExpression")}return kt},Er.parseMaybeAssign=function(xt,Mt,zt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(xt);this.exprAllowed=!1}var pt=!1,kt=-1,Nt=-1,Bt=-1;Mt?(kt=Mt.parenthesizedAssign,Nt=Mt.trailingComma,Bt=Mt.doubleProto,Mt.parenthesizedAssign=Mt.trailingComma=-1):(Mt=new er,pt=!0);var Xt=this.start,ur=this.startLoc;(this.type===ut.parenL||this.type===ut.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=xt==="await");var gr=this.parseMaybeConditional(xt,Mt);if(zt&&(gr=zt.call(this,gr,Xt,ur)),this.type.isAssign){var Lr=this.startNodeAt(Xt,ur);return Lr.operator=this.value,this.type===ut.eq&&(gr=this.toAssignable(gr,!1,Mt)),pt||(Mt.parenthesizedAssign=Mt.trailingComma=Mt.doubleProto=-1),Mt.shorthandAssign>=gr.start&&(Mt.shorthandAssign=-1),this.type===ut.eq?this.checkLValPattern(gr):this.checkLValSimple(gr),Lr.left=gr,this.next(),Lr.right=this.parseMaybeAssign(xt),Bt>-1&&(Mt.doubleProto=Bt),this.finishNode(Lr,"AssignmentExpression")}else pt&&this.checkExpressionErrors(Mt,!0);return kt>-1&&(Mt.parenthesizedAssign=kt),Nt>-1&&(Mt.trailingComma=Nt),gr},Er.parseMaybeConditional=function(xt,Mt){var zt=this.start,pt=this.startLoc,kt=this.parseExprOps(xt,Mt);if(this.checkExpressionErrors(Mt))return kt;if(this.eat(ut.question)){var Nt=this.startNodeAt(zt,pt);return Nt.test=kt,Nt.consequent=this.parseMaybeAssign(),this.expect(ut.colon),Nt.alternate=this.parseMaybeAssign(xt),this.finishNode(Nt,"ConditionalExpression")}return kt},Er.parseExprOps=function(xt,Mt){var zt=this.start,pt=this.startLoc,kt=this.parseMaybeUnary(Mt,!1,!1,xt);return this.checkExpressionErrors(Mt)||kt.start===zt&&kt.type==="ArrowFunctionExpression"?kt:this.parseExprOp(kt,zt,pt,-1,xt)},Er.parseExprOp=function(xt,Mt,zt,pt,kt){var Nt=this.type.binop;if(Nt!=null&&(!kt||this.type!==ut._in)&&Nt>pt){var Bt=this.type===ut.logicalOR||this.type===ut.logicalAND,Xt=this.type===ut.coalesce;Xt&&(Nt=ut.logicalAND.binop);var ur=this.value;this.next();var gr=this.start,Lr=this.startLoc,Vr=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,kt),gr,Lr,Nt,kt),cn=this.buildBinary(Mt,zt,xt,Vr,ur,Bt||Xt);return(Bt&&this.type===ut.coalesce||Xt&&(this.type===ut.logicalOR||this.type===ut.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(cn,Mt,zt,pt,kt)}return xt},Er.buildBinary=function(xt,Mt,zt,pt,kt,Nt){pt.type==="PrivateIdentifier"&&this.raise(pt.start,"Private identifier can only be left side of binary expression");var Bt=this.startNodeAt(xt,Mt);return Bt.left=zt,Bt.operator=kt,Bt.right=pt,this.finishNode(Bt,Nt?"LogicalExpression":"BinaryExpression")},Er.parseMaybeUnary=function(xt,Mt,zt,pt){var kt=this.start,Nt=this.startLoc,Bt;if(this.isContextual("await")&&this.canAwait)Bt=this.parseAwait(pt),Mt=!0;else if(this.type.prefix){var Xt=this.startNode(),ur=this.type===ut.incDec;Xt.operator=this.value,Xt.prefix=!0,this.next(),Xt.argument=this.parseMaybeUnary(null,!0,ur,pt),this.checkExpressionErrors(xt,!0),ur?this.checkLValSimple(Xt.argument):this.strict&&Xt.operator==="delete"&&Xt.argument.type==="Identifier"?this.raiseRecoverable(Xt.start,"Deleting local variable in strict mode"):Xt.operator==="delete"&&mn(Xt.argument)?this.raiseRecoverable(Xt.start,"Private fields can not be deleted"):Mt=!0,Bt=this.finishNode(Xt,ur?"UpdateExpression":"UnaryExpression")}else if(!Mt&&this.type===ut.privateId)(pt||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Bt=this.parsePrivateIdent(),this.type!==ut._in&&this.unexpected();else{if(Bt=this.parseExprSubscripts(xt,pt),this.checkExpressionErrors(xt))return Bt;for(;this.type.postfix&&!this.canInsertSemicolon();){var gr=this.startNodeAt(kt,Nt);gr.operator=this.value,gr.prefix=!1,gr.argument=Bt,this.checkLValSimple(Bt),this.next(),Bt=this.finishNode(gr,"UpdateExpression")}}if(!zt&&this.eat(ut.starstar))if(Mt)this.unexpected(this.lastTokStart);else return this.buildBinary(kt,Nt,Bt,this.parseMaybeUnary(null,!1,!1,pt),"**",!1);else return Bt};function mn(xt){return xt.type==="MemberExpression"&&xt.property.type==="PrivateIdentifier"||xt.type==="ChainExpression"&&mn(xt.expression)}Er.parseExprSubscripts=function(xt,Mt){var zt=this.start,pt=this.startLoc,kt=this.parseExprAtom(xt,Mt);if(kt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return kt;var Nt=this.parseSubscripts(kt,zt,pt,!1,Mt);return xt&&Nt.type==="MemberExpression"&&(xt.parenthesizedAssign>=Nt.start&&(xt.parenthesizedAssign=-1),xt.parenthesizedBind>=Nt.start&&(xt.parenthesizedBind=-1),xt.trailingComma>=Nt.start&&(xt.trailingComma=-1)),Nt},Er.parseSubscripts=function(xt,Mt,zt,pt,kt){for(var Nt=this.options.ecmaVersion>=8&&xt.type==="Identifier"&&xt.name==="async"&&this.lastTokEnd===xt.end&&!this.canInsertSemicolon()&&xt.end-xt.start===5&&this.potentialArrowAt===xt.start,Bt=!1;;){var Xt=this.parseSubscript(xt,Mt,zt,pt,Nt,Bt,kt);if(Xt.optional&&(Bt=!0),Xt===xt||Xt.type==="ArrowFunctionExpression"){if(Bt){var ur=this.startNodeAt(Mt,zt);ur.expression=Xt,Xt=this.finishNode(ur,"ChainExpression")}return Xt}xt=Xt}},Er.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(ut.arrow)},Er.parseSubscriptAsyncArrow=function(xt,Mt,zt,pt){return this.parseArrowExpression(this.startNodeAt(xt,Mt),zt,!0,pt)},Er.parseSubscript=function(xt,Mt,zt,pt,kt,Nt,Bt){var Xt=this.options.ecmaVersion>=11,ur=Xt&&this.eat(ut.questionDot);pt&&ur&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var gr=this.eat(ut.bracketL);if(gr||ur&&this.type!==ut.parenL&&this.type!==ut.backQuote||this.eat(ut.dot)){var Lr=this.startNodeAt(Mt,zt);Lr.object=xt,gr?(Lr.property=this.parseExpression(),this.expect(ut.bracketR)):this.type===ut.privateId&&xt.type!=="Super"?Lr.property=this.parsePrivateIdent():Lr.property=this.parseIdent(this.options.allowReserved!=="never"),Lr.computed=!!gr,Xt&&(Lr.optional=ur),xt=this.finishNode(Lr,"MemberExpression")}else if(!pt&&this.eat(ut.parenL)){var Vr=new er,cn=this.yieldPos,sn=this.awaitPos,Fn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Es=this.parseExprList(ut.parenR,this.options.ecmaVersion>=8,!1,Vr);if(kt&&!ur&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Vr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=cn,this.awaitPos=sn,this.awaitIdentPos=Fn,this.parseSubscriptAsyncArrow(Mt,zt,Es,Bt);this.checkExpressionErrors(Vr,!0),this.yieldPos=cn||this.yieldPos,this.awaitPos=sn||this.awaitPos,this.awaitIdentPos=Fn||this.awaitIdentPos;var $n=this.startNodeAt(Mt,zt);$n.callee=xt,$n.arguments=Es,Xt&&($n.optional=ur),xt=this.finishNode($n,"CallExpression")}else if(this.type===ut.backQuote){(ur||Nt)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var _n=this.startNodeAt(Mt,zt);_n.tag=xt,_n.quasi=this.parseTemplate({isTagged:!0}),xt=this.finishNode(_n,"TaggedTemplateExpression")}return xt},Er.parseExprAtom=function(xt,Mt,zt){this.type===ut.slash&&this.readRegexp();var pt,kt=this.potentialArrowAt===this.start;switch(this.type){case ut._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),pt=this.startNode(),this.next(),this.type===ut.parenL&&!this.allowDirectSuper&&this.raise(pt.start,"super() call outside constructor of a subclass"),this.type!==ut.dot&&this.type!==ut.bracketL&&this.type!==ut.parenL&&this.unexpected(),this.finishNode(pt,"Super");case ut._this:return pt=this.startNode(),this.next(),this.finishNode(pt,"ThisExpression");case ut.name:var Nt=this.start,Bt=this.startLoc,Xt=this.containsEsc,ur=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Xt&&ur.name==="async"&&!this.canInsertSemicolon()&&this.eat(ut._function))return this.overrideContext(zr.f_expr),this.parseFunction(this.startNodeAt(Nt,Bt),0,!1,!0,Mt);if(kt&&!this.canInsertSemicolon()){if(this.eat(ut.arrow))return this.parseArrowExpression(this.startNodeAt(Nt,Bt),[ur],!1,Mt);if(this.options.ecmaVersion>=8&&ur.name==="async"&&this.type===ut.name&&!Xt&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return ur=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(ut.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Nt,Bt),[ur],!0,Mt)}return ur;case ut.regexp:var gr=this.value;return pt=this.parseLiteral(gr.value),pt.regex={pattern:gr.pattern,flags:gr.flags},pt;case ut.num:case ut.string:return this.parseLiteral(this.value);case ut._null:case ut._true:case ut._false:return pt=this.startNode(),pt.value=this.type===ut._null?null:this.type===ut._true,pt.raw=this.type.keyword,this.next(),this.finishNode(pt,"Literal");case ut.parenL:var Lr=this.start,Vr=this.parseParenAndDistinguishExpression(kt,Mt);return xt&&(xt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Vr)&&(xt.parenthesizedAssign=Lr),xt.parenthesizedBind<0&&(xt.parenthesizedBind=Lr)),Vr;case ut.bracketL:return pt=this.startNode(),this.next(),pt.elements=this.parseExprList(ut.bracketR,!0,!0,xt),this.finishNode(pt,"ArrayExpression");case ut.braceL:return this.overrideContext(zr.b_expr),this.parseObj(!1,xt);case ut._function:return pt=this.startNode(),this.next(),this.parseFunction(pt,0);case ut._class:return this.parseClass(this.startNode(),!1);case ut._new:return this.parseNew();case ut.backQuote:return this.parseTemplate();case ut._import:return this.options.ecmaVersion>=11?this.parseExprImport(zt):this.unexpected();default:return this.parseExprAtomDefault()}},Er.parseExprAtomDefault=function(){this.unexpected()},Er.parseExprImport=function(xt){var Mt=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===ut.parenL&&!xt)return this.parseDynamicImport(Mt);if(this.type===ut.dot){var zt=this.startNodeAt(Mt.start,Mt.loc&&Mt.loc.start);return zt.name="import",Mt.meta=this.finishNode(zt,"Identifier"),this.parseImportMeta(Mt)}else this.unexpected()},Er.parseDynamicImport=function(xt){if(this.next(),xt.source=this.parseMaybeAssign(),!this.eat(ut.parenR)){var Mt=this.start;this.eat(ut.comma)&&this.eat(ut.parenR)?this.raiseRecoverable(Mt,"Trailing comma is not allowed in import()"):this.unexpected(Mt)}return this.finishNode(xt,"ImportExpression")},Er.parseImportMeta=function(xt){this.next();var Mt=this.containsEsc;return xt.property=this.parseIdent(!0),xt.property.name!=="meta"&&this.raiseRecoverable(xt.property.start,"The only valid meta property for import is 'import.meta'"),Mt&&this.raiseRecoverable(xt.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(xt.start,"Cannot use 'import.meta' outside a module"),this.finishNode(xt,"MetaProperty")},Er.parseLiteral=function(xt){var Mt=this.startNode();return Mt.value=xt,Mt.raw=this.input.slice(this.start,this.end),Mt.raw.charCodeAt(Mt.raw.length-1)===110&&(Mt.bigint=Mt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(Mt,"Literal")},Er.parseParenExpression=function(){this.expect(ut.parenL);var xt=this.parseExpression();return this.expect(ut.parenR),xt},Er.shouldParseArrow=function(xt){return!this.canInsertSemicolon()},Er.parseParenAndDistinguishExpression=function(xt,Mt){var zt=this.start,pt=this.startLoc,kt,Nt=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Bt=this.start,Xt=this.startLoc,ur=[],gr=!0,Lr=!1,Vr=new er,cn=this.yieldPos,sn=this.awaitPos,Fn;for(this.yieldPos=0,this.awaitPos=0;this.type!==ut.parenR;)if(gr?gr=!1:this.expect(ut.comma),Nt&&this.afterTrailingComma(ut.parenR,!0)){Lr=!0;break}else if(this.type===ut.ellipsis){Fn=this.start,ur.push(this.parseParenItem(this.parseRestBinding())),this.type===ut.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else ur.push(this.parseMaybeAssign(!1,Vr,this.parseParenItem));var Es=this.lastTokEnd,$n=this.lastTokEndLoc;if(this.expect(ut.parenR),xt&&this.shouldParseArrow(ur)&&this.eat(ut.arrow))return this.checkPatternErrors(Vr,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=cn,this.awaitPos=sn,this.parseParenArrowList(zt,pt,ur,Mt);(!ur.length||Lr)&&this.unexpected(this.lastTokStart),Fn&&this.unexpected(Fn),this.checkExpressionErrors(Vr,!0),this.yieldPos=cn||this.yieldPos,this.awaitPos=sn||this.awaitPos,ur.length>1?(kt=this.startNodeAt(Bt,Xt),kt.expressions=ur,this.finishNodeAt(kt,"SequenceExpression",Es,$n)):kt=ur[0]}else kt=this.parseParenExpression();if(this.options.preserveParens){var _n=this.startNodeAt(zt,pt);return _n.expression=kt,this.finishNode(_n,"ParenthesizedExpression")}else return kt},Er.parseParenItem=function(xt){return xt},Er.parseParenArrowList=function(xt,Mt,zt,pt){return this.parseArrowExpression(this.startNodeAt(xt,Mt),zt,!1,pt)};var Ss=[];Er.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var xt=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===ut.dot){var Mt=this.startNodeAt(xt.start,xt.loc&&xt.loc.start);Mt.name="new",xt.meta=this.finishNode(Mt,"Identifier"),this.next();var zt=this.containsEsc;return xt.property=this.parseIdent(!0),xt.property.name!=="target"&&this.raiseRecoverable(xt.property.start,"The only valid meta property for new is 'new.target'"),zt&&this.raiseRecoverable(xt.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(xt.start,"'new.target' can only be used in functions and class static block"),this.finishNode(xt,"MetaProperty")}var pt=this.start,kt=this.startLoc;return xt.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),pt,kt,!0,!1),this.eat(ut.parenL)?xt.arguments=this.parseExprList(ut.parenR,this.options.ecmaVersion>=8,!1):xt.arguments=Ss,this.finishNode(xt,"NewExpression")},Er.parseTemplateElement=function(xt){var Mt=xt.isTagged,zt=this.startNode();return this.type===ut.invalidTemplate?(Mt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),zt.value={raw:this.value,cooked:null}):zt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),zt.tail=this.type===ut.backQuote,this.finishNode(zt,"TemplateElement")},Er.parseTemplate=function(xt){xt===void 0&&(xt={});var Mt=xt.isTagged;Mt===void 0&&(Mt=!1);var zt=this.startNode();this.next(),zt.expressions=[];var pt=this.parseTemplateElement({isTagged:Mt});for(zt.quasis=[pt];!pt.tail;)this.type===ut.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(ut.dollarBraceL),zt.expressions.push(this.parseExpression()),this.expect(ut.braceR),zt.quasis.push(pt=this.parseTemplateElement({isTagged:Mt}));return this.next(),this.finishNode(zt,"TemplateLiteral")},Er.isAsyncProp=function(xt){return!xt.computed&&xt.key.type==="Identifier"&&xt.key.name==="async"&&(this.type===ut.name||this.type===ut.num||this.type===ut.string||this.type===ut.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===ut.star)&&!wt.test(this.input.slice(this.lastTokEnd,this.start))},Er.parseObj=function(xt,Mt){var zt=this.startNode(),pt=!0,kt={};for(zt.properties=[],this.next();!this.eat(ut.braceR);){if(pt)pt=!1;else if(this.expect(ut.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(ut.braceR))break;var Nt=this.parseProperty(xt,Mt);xt||this.checkPropClash(Nt,kt,Mt),zt.properties.push(Nt)}return this.finishNode(zt,xt?"ObjectPattern":"ObjectExpression")},Er.parseProperty=function(xt,Mt){var zt=this.startNode(),pt,kt,Nt,Bt;if(this.options.ecmaVersion>=9&&this.eat(ut.ellipsis))return xt?(zt.argument=this.parseIdent(!1),this.type===ut.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(zt,"RestElement")):(zt.argument=this.parseMaybeAssign(!1,Mt),this.type===ut.comma&&Mt&&Mt.trailingComma<0&&(Mt.trailingComma=this.start),this.finishNode(zt,"SpreadElement"));this.options.ecmaVersion>=6&&(zt.method=!1,zt.shorthand=!1,(xt||Mt)&&(Nt=this.start,Bt=this.startLoc),xt||(pt=this.eat(ut.star)));var Xt=this.containsEsc;return this.parsePropertyName(zt),!xt&&!Xt&&this.options.ecmaVersion>=8&&!pt&&this.isAsyncProp(zt)?(kt=!0,pt=this.options.ecmaVersion>=9&&this.eat(ut.star),this.parsePropertyName(zt)):kt=!1,this.parsePropertyValue(zt,xt,pt,kt,Nt,Bt,Mt,Xt),this.finishNode(zt,"Property")},Er.parseGetterSetter=function(xt){xt.kind=xt.key.name,this.parsePropertyName(xt),xt.value=this.parseMethod(!1);var Mt=xt.kind==="get"?0:1;if(xt.value.params.length!==Mt){var zt=xt.value.start;xt.kind==="get"?this.raiseRecoverable(zt,"getter should have no params"):this.raiseRecoverable(zt,"setter should have exactly one param")}else xt.kind==="set"&&xt.value.params[0].type==="RestElement"&&this.raiseRecoverable(xt.value.params[0].start,"Setter cannot use rest params")},Er.parsePropertyValue=function(xt,Mt,zt,pt,kt,Nt,Bt,Xt){(zt||pt)&&this.type===ut.colon&&this.unexpected(),this.eat(ut.colon)?(xt.value=Mt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Bt),xt.kind="init"):this.options.ecmaVersion>=6&&this.type===ut.parenL?(Mt&&this.unexpected(),xt.kind="init",xt.method=!0,xt.value=this.parseMethod(zt,pt)):!Mt&&!Xt&&this.options.ecmaVersion>=5&&!xt.computed&&xt.key.type==="Identifier"&&(xt.key.name==="get"||xt.key.name==="set")&&this.type!==ut.comma&&this.type!==ut.braceR&&this.type!==ut.eq?((zt||pt)&&this.unexpected(),this.parseGetterSetter(xt)):this.options.ecmaVersion>=6&&!xt.computed&&xt.key.type==="Identifier"?((zt||pt)&&this.unexpected(),this.checkUnreserved(xt.key),xt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=kt),xt.kind="init",Mt?xt.value=this.parseMaybeDefault(kt,Nt,this.copyNode(xt.key)):this.type===ut.eq&&Bt?(Bt.shorthandAssign<0&&(Bt.shorthandAssign=this.start),xt.value=this.parseMaybeDefault(kt,Nt,this.copyNode(xt.key))):xt.value=this.copyNode(xt.key),xt.shorthand=!0):this.unexpected()},Er.parsePropertyName=function(xt){if(this.options.ecmaVersion>=6){if(this.eat(ut.bracketL))return xt.computed=!0,xt.key=this.parseMaybeAssign(),this.expect(ut.bracketR),xt.key;xt.computed=!1}return xt.key=this.type===ut.num||this.type===ut.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Er.initFunction=function(xt){xt.id=null,this.options.ecmaVersion>=6&&(xt.generator=xt.expression=!1),this.options.ecmaVersion>=8&&(xt.async=!1)},Er.parseMethod=function(xt,Mt,zt){var pt=this.startNode(),kt=this.yieldPos,Nt=this.awaitPos,Bt=this.awaitIdentPos;return this.initFunction(pt),this.options.ecmaVersion>=6&&(pt.generator=xt),this.options.ecmaVersion>=8&&(pt.async=!!Mt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(hn(Mt,pt.generator)|kr|(zt?vr:0)),this.expect(ut.parenL),pt.params=this.parseBindingList(ut.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(pt,!1,!0,!1),this.yieldPos=kt,this.awaitPos=Nt,this.awaitIdentPos=Bt,this.finishNode(pt,"FunctionExpression")},Er.parseArrowExpression=function(xt,Mt,zt,pt){var kt=this.yieldPos,Nt=this.awaitPos,Bt=this.awaitIdentPos;return this.enterScope(hn(zt,!1)|rr),this.initFunction(xt),this.options.ecmaVersion>=8&&(xt.async=!!zt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,xt.params=this.toAssignableList(Mt,!0),this.parseFunctionBody(xt,!0,!1,pt),this.yieldPos=kt,this.awaitPos=Nt,this.awaitIdentPos=Bt,this.finishNode(xt,"ArrowFunctionExpression")},Er.parseFunctionBody=function(xt,Mt,zt,pt){var kt=Mt&&this.type!==ut.braceL,Nt=this.strict,Bt=!1;if(kt)xt.body=this.parseMaybeAssign(pt),xt.expression=!0,this.checkParams(xt,!1);else{var Xt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(xt.params);(!Nt||Xt)&&(Bt=this.strictDirective(this.end),Bt&&Xt&&this.raiseRecoverable(xt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var ur=this.labels;this.labels=[],Bt&&(this.strict=!0),this.checkParams(xt,!Nt&&!Bt&&!Mt&&!zt&&this.isSimpleParamList(xt.params)),this.strict&&xt.id&&this.checkLValSimple(xt.id,Dn),xt.body=this.parseBlock(!1,void 0,Bt&&!Nt),xt.expression=!1,this.adaptDirectivePrologue(xt.body.body),this.labels=ur}this.exitScope()},Er.isSimpleParamList=function(xt){for(var Mt=0,zt=xt;Mt<zt.length;Mt+=1){var pt=zt[Mt];if(pt.type!=="Identifier")return!1}return!0},Er.checkParams=function(xt,Mt){for(var zt=Object.create(null),pt=0,kt=xt.params;pt<kt.length;pt+=1){var Nt=kt[pt];this.checkLValInnerPattern(Nt,Bn,Mt?null:zt)}},Er.parseExprList=function(xt,Mt,zt,pt){for(var kt=[],Nt=!0;!this.eat(xt);){if(Nt)Nt=!1;else if(this.expect(ut.comma),Mt&&this.afterTrailingComma(xt))break;var Bt=void 0;zt&&this.type===ut.comma?Bt=null:this.type===ut.ellipsis?(Bt=this.parseSpread(pt),pt&&this.type===ut.comma&&pt.trailingComma<0&&(pt.trailingComma=this.start)):Bt=this.parseMaybeAssign(!1,pt),kt.push(Bt)}return kt},Er.checkUnreserved=function(xt){var Mt=xt.start,zt=xt.end,pt=xt.name;if(this.inGenerator&&pt==="yield"&&this.raiseRecoverable(Mt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&pt==="await"&&this.raiseRecoverable(Mt,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&pt==="arguments"&&this.raiseRecoverable(Mt,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(pt==="arguments"||pt==="await")&&this.raise(Mt,"Cannot use "+pt+" in class static initialization block"),this.keywords.test(pt)&&this.raise(Mt,"Unexpected keyword '"+pt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Mt,zt).indexOf("\\")!==-1)){var kt=this.strict?this.reservedWordsStrict:this.reservedWords;kt.test(pt)&&(!this.inAsync&&pt==="await"&&this.raiseRecoverable(Mt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Mt,"The keyword '"+pt+"' is reserved"))}},Er.parseIdent=function(xt){var Mt=this.parseIdentNode();return this.next(!!xt),this.finishNode(Mt,"Identifier"),xt||(this.checkUnreserved(Mt),Mt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Mt.start)),Mt},Er.parseIdentNode=function(){var xt=this.startNode();return this.type===ut.name?xt.name=this.value:this.type.keyword?(xt.name=this.type.keyword,(xt.name==="class"||xt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=ut.name):this.unexpected(),xt},Er.parsePrivateIdent=function(){var xt=this.startNode();return this.type===ut.privateId?xt.name=this.value:this.unexpected(),this.next(),this.finishNode(xt,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(xt.start,"Private field '#"+xt.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(xt)),xt},Er.parseYield=function(xt){this.yieldPos||(this.yieldPos=this.start);var Mt=this.startNode();return this.next(),this.type===ut.semi||this.canInsertSemicolon()||this.type!==ut.star&&!this.type.startsExpr?(Mt.delegate=!1,Mt.argument=null):(Mt.delegate=this.eat(ut.star),Mt.argument=this.parseMaybeAssign(xt)),this.finishNode(Mt,"YieldExpression")},Er.parseAwait=function(xt){this.awaitPos||(this.awaitPos=this.start);var Mt=this.startNode();return this.next(),Mt.argument=this.parseMaybeUnary(null,!0,!1,xt),this.finishNode(Mt,"AwaitExpression")};var ws=Tr.prototype;ws.raise=function(xt,Mt){var zt=qt(this.input,xt);Mt+=" ("+zt.line+":"+zt.column+")";var pt=new SyntaxError(Mt);throw pt.pos=xt,pt.loc=zt,pt.raisedAt=this.pos,pt},ws.raiseRecoverable=ws.raise,ws.curPosition=function(){if(this.options.locations)return new Kt(this.curLine,this.pos-this.lineStart)};var Xn=Tr.prototype,qn=function(Mt){this.flags=Mt,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Xn.enterScope=function(xt){this.scopeStack.push(new qn(xt))},Xn.exitScope=function(){this.scopeStack.pop()},Xn.treatFunctionsAsVarInScope=function(xt){return xt.flags&xr||!this.inModule&&xt.flags&br},Xn.declareName=function(xt,Mt,zt){var pt=!1;if(Mt===An){var kt=this.currentScope();pt=kt.lexical.indexOf(xt)>-1||kt.functions.indexOf(xt)>-1||kt.var.indexOf(xt)>-1,kt.lexical.push(xt),this.inModule&&kt.flags&br&&delete this.undefinedExports[xt]}else if(Mt===Yn){var Nt=this.currentScope();Nt.lexical.push(xt)}else if(Mt===dn){var Bt=this.currentScope();this.treatFunctionsAsVar?pt=Bt.lexical.indexOf(xt)>-1:pt=Bt.lexical.indexOf(xt)>-1||Bt.var.indexOf(xt)>-1,Bt.functions.push(xt)}else for(var Xt=this.scopeStack.length-1;Xt>=0;--Xt){var ur=this.scopeStack[Xt];if(ur.lexical.indexOf(xt)>-1&&!(ur.flags&Cr&&ur.lexical[0]===xt)||!this.treatFunctionsAsVarInScope(ur)&&ur.functions.indexOf(xt)>-1){pt=!0;break}if(ur.var.push(xt),this.inModule&&ur.flags&br&&delete this.undefinedExports[xt],ur.flags&an)break}pt&&this.raiseRecoverable(zt,"Identifier '"+xt+"' has already been declared")},Xn.checkLocalExport=function(xt){this.scopeStack[0].lexical.indexOf(xt.name)===-1&&this.scopeStack[0].var.indexOf(xt.name)===-1&&(this.undefinedExports[xt.name]=xt)},Xn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Xn.currentVarScope=function(){for(var xt=this.scopeStack.length-1;;xt--){var Mt=this.scopeStack[xt];if(Mt.flags&an)return Mt}},Xn.currentThisScope=function(){for(var xt=this.scopeStack.length-1;;xt--){var Mt=this.scopeStack[xt];if(Mt.flags&an&&!(Mt.flags&rr))return Mt}};var Ns=function(Mt,zt,pt){this.type="",this.start=zt,this.end=0,Mt.options.locations&&(this.loc=new Ht(Mt,pt)),Mt.options.directSourceFile&&(this.sourceFile=Mt.options.directSourceFile),Mt.options.ranges&&(this.range=[zt,0])},ts=Tr.prototype;ts.startNode=function(){return new Ns(this,this.start,this.startLoc)},ts.startNodeAt=function(xt,Mt){return new Ns(this,xt,Mt)};function ks(xt,Mt,zt,pt){return xt.type=Mt,xt.end=zt,this.options.locations&&(xt.loc.end=pt),this.options.ranges&&(xt.range[1]=zt),xt}ts.finishNode=function(xt,Mt){return ks.call(this,xt,Mt,this.lastTokEnd,this.lastTokEndLoc)},ts.finishNodeAt=function(xt,Mt,zt,pt){return ks.call(this,xt,Mt,zt,pt)},ts.copyNode=function(xt){var Mt=new Ns(this,xt.start,this.startLoc);for(var zt in xt)Mt[zt]=xt[zt];return Mt};var Rs="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",zs=Rs+" Extended_Pictographic",hs=zs,fs=hs+" EBase EComp EMod EPres ExtPict",Os=fs,nn=Os,ms={9:Rs,10:zs,11:hs,12:fs,13:Os,14:nn},js="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",$s={9:"",10:"",11:"",12:"",13:"",14:js},ns="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Qs="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Us=Qs+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Zs=Us+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Js=Zs+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Ws=Js+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ps=Ws+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",As={9:Qs,10:Us,11:Zs,12:Js,13:Ws,14:ps},Ms={};function _s(xt){var Mt=Ms[xt]={binary:Vt(ms[xt]+" "+ns),binaryOfStrings:Vt($s[xt]),nonBinary:{General_Category:Vt(ns),Script:Vt(As[xt])}};Mt.nonBinary.Script_Extensions=Mt.nonBinary.Script,Mt.nonBinary.gc=Mt.nonBinary.General_Category,Mt.nonBinary.sc=Mt.nonBinary.Script,Mt.nonBinary.scx=Mt.nonBinary.Script_Extensions}for(var Hs=0,ds=[9,10,11,12,13,14];Hs<ds.length;Hs+=1){var vn=ds[Hs];_s(vn)}var Zr=Tr.prototype,Yr=function(Mt){this.parser=Mt,this.validFlags="gim"+(Mt.options.ecmaVersion>=6?"uy":"")+(Mt.options.ecmaVersion>=9?"s":"")+(Mt.options.ecmaVersion>=13?"d":"")+(Mt.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ms[Mt.options.ecmaVersion>=14?14:Mt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Yr.prototype.reset=function(Mt,zt,pt){var kt=pt.indexOf("v")!==-1,Nt=pt.indexOf("u")!==-1;this.start=Mt|0,this.source=zt+"",this.flags=pt,kt&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=Nt&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Nt&&this.parser.options.ecmaVersion>=9)},Yr.prototype.raise=function(Mt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Mt)},Yr.prototype.at=function(Mt,zt){zt===void 0&&(zt=!1);var pt=this.source,kt=pt.length;if(Mt>=kt)return-1;var Nt=pt.charCodeAt(Mt);if(!(zt||this.switchU)||Nt<=55295||Nt>=57344||Mt+1>=kt)return Nt;var Bt=pt.charCodeAt(Mt+1);return Bt>=56320&&Bt<=57343?(Nt<<10)+Bt-56613888:Nt},Yr.prototype.nextIndex=function(Mt,zt){zt===void 0&&(zt=!1);var pt=this.source,kt=pt.length;if(Mt>=kt)return kt;var Nt=pt.charCodeAt(Mt),Bt;return!(zt||this.switchU)||Nt<=55295||Nt>=57344||Mt+1>=kt||(Bt=pt.charCodeAt(Mt+1))<56320||Bt>57343?Mt+1:Mt+2},Yr.prototype.current=function(Mt){return Mt===void 0&&(Mt=!1),this.at(this.pos,Mt)},Yr.prototype.lookahead=function(Mt){return Mt===void 0&&(Mt=!1),this.at(this.nextIndex(this.pos,Mt),Mt)},Yr.prototype.advance=function(Mt){Mt===void 0&&(Mt=!1),this.pos=this.nextIndex(this.pos,Mt)},Yr.prototype.eat=function(Mt,zt){return zt===void 0&&(zt=!1),this.current(zt)===Mt?(this.advance(zt),!0):!1},Yr.prototype.eatChars=function(Mt,zt){zt===void 0&&(zt=!1);for(var pt=this.pos,kt=0,Nt=Mt;kt<Nt.length;kt+=1){var Bt=Nt[kt],Xt=this.at(pt,zt);if(Xt===-1||Xt!==Bt)return!1;pt=this.nextIndex(pt,zt)}return this.pos=pt,!0},Zr.validateRegExpFlags=function(xt){for(var Mt=xt.validFlags,zt=xt.flags,pt=!1,kt=!1,Nt=0;Nt<zt.length;Nt++){var Bt=zt.charAt(Nt);Mt.indexOf(Bt)===-1&&this.raise(xt.start,"Invalid regular expression flag"),zt.indexOf(Bt,Nt+1)>-1&&this.raise(xt.start,"Duplicate regular expression flag"),Bt==="u"&&(pt=!0),Bt==="v"&&(kt=!0)}this.options.ecmaVersion>=15&&pt&&kt&&this.raise(xt.start,"Invalid regular expression flag")},Zr.validateRegExpPattern=function(xt){this.regexp_pattern(xt),!xt.switchN&&this.options.ecmaVersion>=9&&xt.groupNames.length>0&&(xt.switchN=!0,this.regexp_pattern(xt))},Zr.regexp_pattern=function(xt){xt.pos=0,xt.lastIntValue=0,xt.lastStringValue="",xt.lastAssertionIsQuantifiable=!1,xt.numCapturingParens=0,xt.maxBackReference=0,xt.groupNames.length=0,xt.backReferenceNames.length=0,this.regexp_disjunction(xt),xt.pos!==xt.source.length&&(xt.eat(41)&&xt.raise("Unmatched ')'"),(xt.eat(93)||xt.eat(125))&&xt.raise("Lone quantifier brackets")),xt.maxBackReference>xt.numCapturingParens&&xt.raise("Invalid escape");for(var Mt=0,zt=xt.backReferenceNames;Mt<zt.length;Mt+=1){var pt=zt[Mt];xt.groupNames.indexOf(pt)===-1&&xt.raise("Invalid named capture referenced")}},Zr.regexp_disjunction=function(xt){for(this.regexp_alternative(xt);xt.eat(124);)this.regexp_alternative(xt);this.regexp_eatQuantifier(xt,!0)&&xt.raise("Nothing to repeat"),xt.eat(123)&&xt.raise("Lone quantifier brackets")},Zr.regexp_alternative=function(xt){for(;xt.pos<xt.source.length&&this.regexp_eatTerm(xt););},Zr.regexp_eatTerm=function(xt){return this.regexp_eatAssertion(xt)?(xt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(xt)&&xt.switchU&&xt.raise("Invalid quantifier"),!0):(xt.switchU?this.regexp_eatAtom(xt):this.regexp_eatExtendedAtom(xt))?(this.regexp_eatQuantifier(xt),!0):!1},Zr.regexp_eatAssertion=function(xt){var Mt=xt.pos;if(xt.lastAssertionIsQuantifiable=!1,xt.eat(94)||xt.eat(36))return!0;if(xt.eat(92)){if(xt.eat(66)||xt.eat(98))return!0;xt.pos=Mt}if(xt.eat(40)&&xt.eat(63)){var zt=!1;if(this.options.ecmaVersion>=9&&(zt=xt.eat(60)),xt.eat(61)||xt.eat(33))return this.regexp_disjunction(xt),xt.eat(41)||xt.raise("Unterminated group"),xt.lastAssertionIsQuantifiable=!zt,!0}return xt.pos=Mt,!1},Zr.regexp_eatQuantifier=function(xt,Mt){return Mt===void 0&&(Mt=!1),this.regexp_eatQuantifierPrefix(xt,Mt)?(xt.eat(63),!0):!1},Zr.regexp_eatQuantifierPrefix=function(xt,Mt){return xt.eat(42)||xt.eat(43)||xt.eat(63)||this.regexp_eatBracedQuantifier(xt,Mt)},Zr.regexp_eatBracedQuantifier=function(xt,Mt){var zt=xt.pos;if(xt.eat(123)){var pt=0,kt=-1;if(this.regexp_eatDecimalDigits(xt)&&(pt=xt.lastIntValue,xt.eat(44)&&this.regexp_eatDecimalDigits(xt)&&(kt=xt.lastIntValue),xt.eat(125)))return kt!==-1&&kt<pt&&!Mt&&xt.raise("numbers out of order in {} quantifier"),!0;xt.switchU&&!Mt&&xt.raise("Incomplete quantifier"),xt.pos=zt}return!1},Zr.regexp_eatAtom=function(xt){return this.regexp_eatPatternCharacters(xt)||xt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(xt)||this.regexp_eatCharacterClass(xt)||this.regexp_eatUncapturingGroup(xt)||this.regexp_eatCapturingGroup(xt)},Zr.regexp_eatReverseSolidusAtomEscape=function(xt){var Mt=xt.pos;if(xt.eat(92)){if(this.regexp_eatAtomEscape(xt))return!0;xt.pos=Mt}return!1},Zr.regexp_eatUncapturingGroup=function(xt){var Mt=xt.pos;if(xt.eat(40)){if(xt.eat(63)&&xt.eat(58)){if(this.regexp_disjunction(xt),xt.eat(41))return!0;xt.raise("Unterminated group")}xt.pos=Mt}return!1},Zr.regexp_eatCapturingGroup=function(xt){if(xt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(xt):xt.current()===63&&xt.raise("Invalid group"),this.regexp_disjunction(xt),xt.eat(41))return xt.numCapturingParens+=1,!0;xt.raise("Unterminated group")}return!1},Zr.regexp_eatExtendedAtom=function(xt){return xt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(xt)||this.regexp_eatCharacterClass(xt)||this.regexp_eatUncapturingGroup(xt)||this.regexp_eatCapturingGroup(xt)||this.regexp_eatInvalidBracedQuantifier(xt)||this.regexp_eatExtendedPatternCharacter(xt)},Zr.regexp_eatInvalidBracedQuantifier=function(xt){return this.regexp_eatBracedQuantifier(xt,!0)&&xt.raise("Nothing to repeat"),!1},Zr.regexp_eatSyntaxCharacter=function(xt){var Mt=xt.current();return Zn(Mt)?(xt.lastIntValue=Mt,xt.advance(),!0):!1};function Zn(xt){return xt===36||xt>=40&&xt<=43||xt===46||xt===63||xt>=91&&xt<=94||xt>=123&&xt<=125}Zr.regexp_eatPatternCharacters=function(xt){for(var Mt=xt.pos,zt=0;(zt=xt.current())!==-1&&!Zn(zt);)xt.advance();return xt.pos!==Mt},Zr.regexp_eatExtendedPatternCharacter=function(xt){var Mt=xt.current();return Mt!==-1&&Mt!==36&&!(Mt>=40&&Mt<=43)&&Mt!==46&&Mt!==63&&Mt!==91&&Mt!==94&&Mt!==124?(xt.advance(),!0):!1},Zr.regexp_groupSpecifier=function(xt){if(xt.eat(63)){if(this.regexp_eatGroupName(xt)){xt.groupNames.indexOf(xt.lastStringValue)!==-1&&xt.raise("Duplicate capture group name"),xt.groupNames.push(xt.lastStringValue);return}xt.raise("Invalid group")}},Zr.regexp_eatGroupName=function(xt){if(xt.lastStringValue="",xt.eat(60)){if(this.regexp_eatRegExpIdentifierName(xt)&&xt.eat(62))return!0;xt.raise("Invalid capture group name")}return!1},Zr.regexp_eatRegExpIdentifierName=function(xt){if(xt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(xt)){for(xt.lastStringValue+=Ut(xt.lastIntValue);this.regexp_eatRegExpIdentifierPart(xt);)xt.lastStringValue+=Ut(xt.lastIntValue);return!0}return!1},Zr.regexp_eatRegExpIdentifierStart=function(xt){var Mt=xt.pos,zt=this.options.ecmaVersion>=11,pt=xt.current(zt);return xt.advance(zt),pt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(xt,zt)&&(pt=xt.lastIntValue),ss(pt)?(xt.lastIntValue=pt,!0):(xt.pos=Mt,!1)};function ss(xt){return st(xt,!0)||xt===36||xt===95}Zr.regexp_eatRegExpIdentifierPart=function(xt){var Mt=xt.pos,zt=this.options.ecmaVersion>=11,pt=xt.current(zt);return xt.advance(zt),pt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(xt,zt)&&(pt=xt.lastIntValue),uo(pt)?(xt.lastIntValue=pt,!0):(xt.pos=Mt,!1)};function uo(xt){return lt(xt,!0)||xt===36||xt===95||xt===8204||xt===8205}Zr.regexp_eatAtomEscape=function(xt){return this.regexp_eatBackReference(xt)||this.regexp_eatCharacterClassEscape(xt)||this.regexp_eatCharacterEscape(xt)||xt.switchN&&this.regexp_eatKGroupName(xt)?!0:(xt.switchU&&(xt.current()===99&&xt.raise("Invalid unicode escape"),xt.raise("Invalid escape")),!1)},Zr.regexp_eatBackReference=function(xt){var Mt=xt.pos;if(this.regexp_eatDecimalEscape(xt)){var zt=xt.lastIntValue;if(xt.switchU)return zt>xt.maxBackReference&&(xt.maxBackReference=zt),!0;if(zt<=xt.numCapturingParens)return!0;xt.pos=Mt}return!1},Zr.regexp_eatKGroupName=function(xt){if(xt.eat(107)){if(this.regexp_eatGroupName(xt))return xt.backReferenceNames.push(xt.lastStringValue),!0;xt.raise("Invalid named reference")}return!1},Zr.regexp_eatCharacterEscape=function(xt){return this.regexp_eatControlEscape(xt)||this.regexp_eatCControlLetter(xt)||this.regexp_eatZero(xt)||this.regexp_eatHexEscapeSequence(xt)||this.regexp_eatRegExpUnicodeEscapeSequence(xt,!1)||!xt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(xt)||this.regexp_eatIdentityEscape(xt)},Zr.regexp_eatCControlLetter=function(xt){var Mt=xt.pos;if(xt.eat(99)){if(this.regexp_eatControlLetter(xt))return!0;xt.pos=Mt}return!1},Zr.regexp_eatZero=function(xt){return xt.current()===48&&!Hn(xt.lookahead())?(xt.lastIntValue=0,xt.advance(),!0):!1},Zr.regexp_eatControlEscape=function(xt){var Mt=xt.current();return Mt===116?(xt.lastIntValue=9,xt.advance(),!0):Mt===110?(xt.lastIntValue=10,xt.advance(),!0):Mt===118?(xt.lastIntValue=11,xt.advance(),!0):Mt===102?(xt.lastIntValue=12,xt.advance(),!0):Mt===114?(xt.lastIntValue=13,xt.advance(),!0):!1},Zr.regexp_eatControlLetter=function(xt){var Mt=xt.current();return na(Mt)?(xt.lastIntValue=Mt%32,xt.advance(),!0):!1};function na(xt){return xt>=65&&xt<=90||xt>=97&&xt<=122}Zr.regexp_eatRegExpUnicodeEscapeSequence=function(xt,Mt){Mt===void 0&&(Mt=!1);var zt=xt.pos,pt=Mt||xt.switchU;if(xt.eat(117)){if(this.regexp_eatFixedHexDigits(xt,4)){var kt=xt.lastIntValue;if(pt&&kt>=55296&&kt<=56319){var Nt=xt.pos;if(xt.eat(92)&&xt.eat(117)&&this.regexp_eatFixedHexDigits(xt,4)){var Bt=xt.lastIntValue;if(Bt>=56320&&Bt<=57343)return xt.lastIntValue=(kt-55296)*1024+(Bt-56320)+65536,!0}xt.pos=Nt,xt.lastIntValue=kt}return!0}if(pt&&xt.eat(123)&&this.regexp_eatHexDigits(xt)&&xt.eat(125)&&_t(xt.lastIntValue))return!0;pt&&xt.raise("Invalid unicode escape"),xt.pos=zt}return!1};function _t(xt){return xt>=0&&xt<=1114111}Zr.regexp_eatIdentityEscape=function(xt){if(xt.switchU)return this.regexp_eatSyntaxCharacter(xt)?!0:xt.eat(47)?(xt.lastIntValue=47,!0):!1;var Mt=xt.current();return Mt!==99&&(!xt.switchN||Mt!==107)?(xt.lastIntValue=Mt,xt.advance(),!0):!1},Zr.regexp_eatDecimalEscape=function(xt){xt.lastIntValue=0;var Mt=xt.current();if(Mt>=49&&Mt<=57){do xt.lastIntValue=10*xt.lastIntValue+(Mt-48),xt.advance();while((Mt=xt.current())>=48&&Mt<=57);return!0}return!1};var Pt=0,Wt=1,Jt=2;Zr.regexp_eatCharacterClassEscape=function(xt){var Mt=xt.current();if(cr(Mt))return xt.lastIntValue=-1,xt.advance(),Wt;var zt=!1;if(xt.switchU&&this.options.ecmaVersion>=9&&((zt=Mt===80)||Mt===112)){xt.lastIntValue=-1,xt.advance();var pt;if(xt.eat(123)&&(pt=this.regexp_eatUnicodePropertyValueExpression(xt))&&xt.eat(125))return zt&&pt===Jt&&xt.raise("Invalid property name"),pt;xt.raise("Invalid property name")}return Pt};function cr(xt){return xt===100||xt===68||xt===115||xt===83||xt===119||xt===87}Zr.regexp_eatUnicodePropertyValueExpression=function(xt){var Mt=xt.pos;if(this.regexp_eatUnicodePropertyName(xt)&&xt.eat(61)){var zt=xt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(xt)){var pt=xt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(xt,zt,pt),Wt}}if(xt.pos=Mt,this.regexp_eatLoneUnicodePropertyNameOrValue(xt)){var kt=xt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(xt,kt)}return Pt},Zr.regexp_validateUnicodePropertyNameAndValue=function(xt,Mt,zt){Lt(xt.unicodeProperties.nonBinary,Mt)||xt.raise("Invalid property name"),xt.unicodeProperties.nonBinary[Mt].test(zt)||xt.raise("Invalid property value")},Zr.regexp_validateUnicodePropertyNameOrValue=function(xt,Mt){if(xt.unicodeProperties.binary.test(Mt))return Wt;if(xt.switchV&&xt.unicodeProperties.binaryOfStrings.test(Mt))return Jt;xt.raise("Invalid property name")},Zr.regexp_eatUnicodePropertyName=function(xt){var Mt=0;for(xt.lastStringValue="";_r(Mt=xt.current());)xt.lastStringValue+=Ut(Mt),xt.advance();return xt.lastStringValue!==""};function _r(xt){return na(xt)||xt===95}Zr.regexp_eatUnicodePropertyValue=function(xt){var Mt=0;for(xt.lastStringValue="";Mr(Mt=xt.current());)xt.lastStringValue+=Ut(Mt),xt.advance();return xt.lastStringValue!==""};function Mr(xt){return _r(xt)||Hn(xt)}Zr.regexp_eatLoneUnicodePropertyNameOrValue=function(xt){return this.regexp_eatUnicodePropertyValue(xt)},Zr.regexp_eatCharacterClass=function(xt){if(xt.eat(91)){var Mt=xt.eat(94),zt=this.regexp_classContents(xt);return xt.eat(93)||xt.raise("Unterminated character class"),Mt&&zt===Jt&&xt.raise("Negated character class may contain strings"),!0}return!1},Zr.regexp_classContents=function(xt){return xt.current()===93?Wt:xt.switchV?this.regexp_classSetExpression(xt):(this.regexp_nonEmptyClassRanges(xt),Wt)},Zr.regexp_nonEmptyClassRanges=function(xt){for(;this.regexp_eatClassAtom(xt);){var Mt=xt.lastIntValue;if(xt.eat(45)&&this.regexp_eatClassAtom(xt)){var zt=xt.lastIntValue;xt.switchU&&(Mt===-1||zt===-1)&&xt.raise("Invalid character class"),Mt!==-1&&zt!==-1&&Mt>zt&&xt.raise("Range out of order in character class")}}},Zr.regexp_eatClassAtom=function(xt){var Mt=xt.pos;if(xt.eat(92)){if(this.regexp_eatClassEscape(xt))return!0;if(xt.switchU){var zt=xt.current();(zt===99||ls(zt))&&xt.raise("Invalid class escape"),xt.raise("Invalid escape")}xt.pos=Mt}var pt=xt.current();return pt!==93?(xt.lastIntValue=pt,xt.advance(),!0):!1},Zr.regexp_eatClassEscape=function(xt){var Mt=xt.pos;if(xt.eat(98))return xt.lastIntValue=8,!0;if(xt.switchU&&xt.eat(45))return xt.lastIntValue=45,!0;if(!xt.switchU&&xt.eat(99)){if(this.regexp_eatClassControlLetter(xt))return!0;xt.pos=Mt}return this.regexp_eatCharacterClassEscape(xt)||this.regexp_eatCharacterEscape(xt)},Zr.regexp_classSetExpression=function(xt){var Mt=Wt,zt;if(!this.regexp_eatClassSetRange(xt))if(zt=this.regexp_eatClassSetOperand(xt)){zt===Jt&&(Mt=Jt);for(var pt=xt.pos;xt.eatChars([38,38]);){if(xt.current()!==38&&(zt=this.regexp_eatClassSetOperand(xt))){zt!==Jt&&(Mt=Wt);continue}xt.raise("Invalid character in character class")}if(pt!==xt.pos)return Mt;for(;xt.eatChars([45,45]);)this.regexp_eatClassSetOperand(xt)||xt.raise("Invalid character in character class");if(pt!==xt.pos)return Mt}else xt.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(xt)){if(zt=this.regexp_eatClassSetOperand(xt),!zt)return Mt;zt===Jt&&(Mt=Jt)}},Zr.regexp_eatClassSetRange=function(xt){var Mt=xt.pos;if(this.regexp_eatClassSetCharacter(xt)){var zt=xt.lastIntValue;if(xt.eat(45)&&this.regexp_eatClassSetCharacter(xt)){var pt=xt.lastIntValue;return zt!==-1&&pt!==-1&&zt>pt&&xt.raise("Range out of order in character class"),!0}xt.pos=Mt}return!1},Zr.regexp_eatClassSetOperand=function(xt){return this.regexp_eatClassSetCharacter(xt)?Wt:this.regexp_eatClassStringDisjunction(xt)||this.regexp_eatNestedClass(xt)},Zr.regexp_eatNestedClass=function(xt){var Mt=xt.pos;if(xt.eat(91)){var zt=xt.eat(94),pt=this.regexp_classContents(xt);if(xt.eat(93))return zt&&pt===Jt&&xt.raise("Negated character class may contain strings"),pt;xt.pos=Mt}if(xt.eat(92)){var kt=this.regexp_eatCharacterClassEscape(xt);if(kt)return kt;xt.pos=Mt}return null},Zr.regexp_eatClassStringDisjunction=function(xt){var Mt=xt.pos;if(xt.eatChars([92,113])){if(xt.eat(123)){var zt=this.regexp_classStringDisjunctionContents(xt);if(xt.eat(125))return zt}else xt.raise("Invalid escape");xt.pos=Mt}return null},Zr.regexp_classStringDisjunctionContents=function(xt){for(var Mt=this.regexp_classString(xt);xt.eat(124);)this.regexp_classString(xt)===Jt&&(Mt=Jt);return Mt},Zr.regexp_classString=function(xt){for(var Mt=0;this.regexp_eatClassSetCharacter(xt);)Mt++;return Mt===1?Wt:Jt},Zr.regexp_eatClassSetCharacter=function(xt){var Mt=xt.pos;if(xt.eat(92))return this.regexp_eatCharacterEscape(xt)||this.regexp_eatClassSetReservedPunctuator(xt)?!0:xt.eat(98)?(xt.lastIntValue=8,!0):(xt.pos=Mt,!1);var zt=xt.current();return zt<0||zt===xt.lookahead()&&Kr(zt)||rn(zt)?!1:(xt.advance(),xt.lastIntValue=zt,!0)};function Kr(xt){return xt===33||xt>=35&&xt<=38||xt>=42&&xt<=44||xt===46||xt>=58&&xt<=64||xt===94||xt===96||xt===126}function rn(xt){return xt===40||xt===41||xt===45||xt===47||xt>=91&&xt<=93||xt>=123&&xt<=125}Zr.regexp_eatClassSetReservedPunctuator=function(xt){var Mt=xt.current();return kn(Mt)?(xt.lastIntValue=Mt,xt.advance(),!0):!1};function kn(xt){return xt===33||xt===35||xt===37||xt===38||xt===44||xt===45||xt>=58&&xt<=62||xt===64||xt===96||xt===126}Zr.regexp_eatClassControlLetter=function(xt){var Mt=xt.current();return Hn(Mt)||Mt===95?(xt.lastIntValue=Mt%32,xt.advance(),!0):!1},Zr.regexp_eatHexEscapeSequence=function(xt){var Mt=xt.pos;if(xt.eat(120)){if(this.regexp_eatFixedHexDigits(xt,2))return!0;xt.switchU&&xt.raise("Invalid escape"),xt.pos=Mt}return!1},Zr.regexp_eatDecimalDigits=function(xt){var Mt=xt.pos,zt=0;for(xt.lastIntValue=0;Hn(zt=xt.current());)xt.lastIntValue=10*xt.lastIntValue+(zt-48),xt.advance();return xt.pos!==Mt};function Hn(xt){return xt>=48&&xt<=57}Zr.regexp_eatHexDigits=function(xt){var Mt=xt.pos,zt=0;for(xt.lastIntValue=0;as(zt=xt.current());)xt.lastIntValue=16*xt.lastIntValue+os(zt),xt.advance();return xt.pos!==Mt};function as(xt){return xt>=48&&xt<=57||xt>=65&&xt<=70||xt>=97&&xt<=102}function os(xt){return xt>=65&&xt<=70?10+(xt-65):xt>=97&&xt<=102?10+(xt-97):xt-48}Zr.regexp_eatLegacyOctalEscapeSequence=function(xt){if(this.regexp_eatOctalDigit(xt)){var Mt=xt.lastIntValue;if(this.regexp_eatOctalDigit(xt)){var zt=xt.lastIntValue;Mt<=3&&this.regexp_eatOctalDigit(xt)?xt.lastIntValue=Mt*64+zt*8+xt.lastIntValue:xt.lastIntValue=Mt*8+zt}else xt.lastIntValue=Mt;return!0}return!1},Zr.regexp_eatOctalDigit=function(xt){var Mt=xt.current();return ls(Mt)?(xt.lastIntValue=Mt-48,xt.advance(),!0):(xt.lastIntValue=0,!1)};function ls(xt){return xt>=48&&xt<=55}Zr.regexp_eatFixedHexDigits=function(xt,Mt){var zt=xt.pos;xt.lastIntValue=0;for(var pt=0;pt<Mt;++pt){var kt=xt.current();if(!as(kt))return xt.pos=zt,!1;xt.lastIntValue=16*xt.lastIntValue+os(kt),xt.advance()}return!0};var Ls=function(Mt){this.type=Mt.type,this.value=Mt.value,this.start=Mt.start,this.end=Mt.end,Mt.options.locations&&(this.loc=new Ht(Mt,Mt.startLoc,Mt.endLoc)),Mt.options.ranges&&(this.range=[Mt.start,Mt.end])},xn=Tr.prototype;xn.next=function(xt){!xt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ls(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},xn.getToken=function(){return this.next(),new Ls(this)},typeof Symbol<"u"&&(xn[Symbol.iterator]=function(){var xt=this;return{next:function(){var Mt=xt.getToken();return{done:Mt.type===ut.eof,value:Mt}}}}),xn.nextToken=function(){var xt=this.curContext();if((!xt||!xt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(ut.eof);if(xt.override)return xt.override(this);this.readToken(this.fullCharCodeAtPos())},xn.readToken=function(xt){return st(xt,this.options.ecmaVersion>=6)||xt===92?this.readWord():this.getTokenFromCode(xt)},xn.fullCharCodeAtPos=function(){var xt=this.input.charCodeAt(this.pos);if(xt<=55295||xt>=56320)return xt;var Mt=this.input.charCodeAt(this.pos+1);return Mt<=56319||Mt>=57344?xt:(xt<<10)+Mt-56613888},xn.skipBlockComment=function(){var xt=this.options.onComment&&this.curPosition(),Mt=this.pos,zt=this.input.indexOf("*/",this.pos+=2);if(zt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=zt+2,this.options.locations)for(var pt=void 0,kt=Mt;(pt=Et(this.input,kt,this.pos))>-1;)++this.curLine,kt=this.lineStart=pt;this.options.onComment&&this.options.onComment(!0,this.input.slice(Mt+2,zt),Mt,this.pos,xt,this.curPosition())},xn.skipLineComment=function(xt){for(var Mt=this.pos,zt=this.options.onComment&&this.curPosition(),pt=this.input.charCodeAt(this.pos+=xt);this.pos<this.input.length&&!vt(pt);)pt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Mt+xt,this.pos),Mt,this.pos,zt,this.curPosition())},xn.skipSpace=function(){e:for(;this.pos<this.input.length;){var xt=this.input.charCodeAt(this.pos);switch(xt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(xt>8&&xt<14||xt>=5760&&$t.test(String.fromCharCode(xt)))++this.pos;else break e}}},xn.finishToken=function(xt,Mt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var zt=this.type;this.type=xt,this.value=Mt,this.updateContext(zt)},xn.readToken_dot=function(){var xt=this.input.charCodeAt(this.pos+1);if(xt>=48&&xt<=57)return this.readNumber(!0);var Mt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&xt===46&&Mt===46?(this.pos+=3,this.finishToken(ut.ellipsis)):(++this.pos,this.finishToken(ut.dot))},xn.readToken_slash=function(){var xt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):xt===61?this.finishOp(ut.assign,2):this.finishOp(ut.slash,1)},xn.readToken_mult_modulo_exp=function(xt){var Mt=this.input.charCodeAt(this.pos+1),zt=1,pt=xt===42?ut.star:ut.modulo;return this.options.ecmaVersion>=7&&xt===42&&Mt===42&&(++zt,pt=ut.starstar,Mt=this.input.charCodeAt(this.pos+2)),Mt===61?this.finishOp(ut.assign,zt+1):this.finishOp(pt,zt)},xn.readToken_pipe_amp=function(xt){var Mt=this.input.charCodeAt(this.pos+1);if(Mt===xt){if(this.options.ecmaVersion>=12){var zt=this.input.charCodeAt(this.pos+2);if(zt===61)return this.finishOp(ut.assign,3)}return this.finishOp(xt===124?ut.logicalOR:ut.logicalAND,2)}return Mt===61?this.finishOp(ut.assign,2):this.finishOp(xt===124?ut.bitwiseOR:ut.bitwiseAND,1)},xn.readToken_caret=function(){var xt=this.input.charCodeAt(this.pos+1);return xt===61?this.finishOp(ut.assign,2):this.finishOp(ut.bitwiseXOR,1)},xn.readToken_plus_min=function(xt){var Mt=this.input.charCodeAt(this.pos+1);return Mt===xt?Mt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||wt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(ut.incDec,2):Mt===61?this.finishOp(ut.assign,2):this.finishOp(ut.plusMin,1)},xn.readToken_lt_gt=function(xt){var Mt=this.input.charCodeAt(this.pos+1),zt=1;return Mt===xt?(zt=xt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+zt)===61?this.finishOp(ut.assign,zt+1):this.finishOp(ut.bitShift,zt)):Mt===33&&xt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Mt===61&&(zt=2),this.finishOp(ut.relational,zt))},xn.readToken_eq_excl=function(xt){var Mt=this.input.charCodeAt(this.pos+1);return Mt===61?this.finishOp(ut.equality,this.input.charCodeAt(this.pos+2)===61?3:2):xt===61&&Mt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(ut.arrow)):this.finishOp(xt===61?ut.eq:ut.prefix,1)},xn.readToken_question=function(){var xt=this.options.ecmaVersion;if(xt>=11){var Mt=this.input.charCodeAt(this.pos+1);if(Mt===46){var zt=this.input.charCodeAt(this.pos+2);if(zt<48||zt>57)return this.finishOp(ut.questionDot,2)}if(Mt===63){if(xt>=12){var pt=this.input.charCodeAt(this.pos+2);if(pt===61)return this.finishOp(ut.assign,3)}return this.finishOp(ut.coalesce,2)}}return this.finishOp(ut.question,1)},xn.readToken_numberSign=function(){var xt=this.options.ecmaVersion,Mt=35;if(xt>=13&&(++this.pos,Mt=this.fullCharCodeAtPos(),st(Mt,!0)||Mt===92))return this.finishToken(ut.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ut(Mt)+"'")},xn.getTokenFromCode=function(xt){switch(xt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(ut.parenL);case 41:return++this.pos,this.finishToken(ut.parenR);case 59:return++this.pos,this.finishToken(ut.semi);case 44:return++this.pos,this.finishToken(ut.comma);case 91:return++this.pos,this.finishToken(ut.bracketL);case 93:return++this.pos,this.finishToken(ut.bracketR);case 123:return++this.pos,this.finishToken(ut.braceL);case 125:return++this.pos,this.finishToken(ut.braceR);case 58:return++this.pos,this.finishToken(ut.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(ut.backQuote);case 48:var Mt=this.input.charCodeAt(this.pos+1);if(Mt===120||Mt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Mt===111||Mt===79)return this.readRadixNumber(8);if(Mt===98||Mt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(xt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(xt);case 124:case 38:return this.readToken_pipe_amp(xt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(xt);case 60:case 62:return this.readToken_lt_gt(xt);case 61:case 33:return this.readToken_eq_excl(xt);case 63:return this.readToken_question();case 126:return this.finishOp(ut.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ut(xt)+"'")},xn.finishOp=function(xt,Mt){var zt=this.input.slice(this.pos,this.pos+Mt);return this.pos+=Mt,this.finishToken(xt,zt)},xn.readRegexp=function(){for(var xt,Mt,zt=this.pos;;){this.pos>=this.input.length&&this.raise(zt,"Unterminated regular expression");var pt=this.input.charAt(this.pos);if(wt.test(pt)&&this.raise(zt,"Unterminated regular expression"),xt)xt=!1;else{if(pt==="[")Mt=!0;else if(pt==="]"&&Mt)Mt=!1;else if(pt==="/"&&!Mt)break;xt=pt==="\\"}++this.pos}var kt=this.input.slice(zt,this.pos);++this.pos;var Nt=this.pos,Bt=this.readWord1();this.containsEsc&&this.unexpected(Nt);var Xt=this.regexpState||(this.regexpState=new Yr(this));Xt.reset(zt,kt,Bt),this.validateRegExpFlags(Xt),this.validateRegExpPattern(Xt);var ur=null;try{ur=new RegExp(kt,Bt)}catch{}return this.finishToken(ut.regexp,{pattern:kt,flags:Bt,value:ur})},xn.readInt=function(xt,Mt,zt){for(var pt=this.options.ecmaVersion>=12&&Mt===void 0,kt=zt&&this.input.charCodeAt(this.pos)===48,Nt=this.pos,Bt=0,Xt=0,ur=0,gr=Mt??1/0;ur<gr;++ur,++this.pos){var Lr=this.input.charCodeAt(this.pos),Vr=void 0;if(pt&&Lr===95){kt&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Xt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),ur===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Xt=Lr;continue}if(Lr>=97?Vr=Lr-97+10:Lr>=65?Vr=Lr-65+10:Lr>=48&&Lr<=57?Vr=Lr-48:Vr=1/0,Vr>=xt)break;Xt=Lr,Bt=Bt*xt+Vr}return pt&&Xt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===Nt||Mt!=null&&this.pos-Nt!==Mt?null:Bt};function gs(xt,Mt){return Mt?parseInt(xt,8):parseFloat(xt.replace(/_/g,""))}function _i(xt){return typeof BigInt!="function"?null:BigInt(xt.replace(/_/g,""))}xn.readRadixNumber=function(xt){var Mt=this.pos;this.pos+=2;var zt=this.readInt(xt);return zt==null&&this.raise(this.start+2,"Expected number in radix "+xt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(zt=_i(this.input.slice(Mt,this.pos)),++this.pos):st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ut.num,zt)},xn.readNumber=function(xt){var Mt=this.pos;!xt&&this.readInt(10,void 0,!0)===null&&this.raise(Mt,"Invalid number");var zt=this.pos-Mt>=2&&this.input.charCodeAt(Mt)===48;zt&&this.strict&&this.raise(Mt,"Invalid number");var pt=this.input.charCodeAt(this.pos);if(!zt&&!xt&&this.options.ecmaVersion>=11&&pt===110){var kt=_i(this.input.slice(Mt,this.pos));return++this.pos,st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ut.num,kt)}zt&&/[89]/.test(this.input.slice(Mt,this.pos))&&(zt=!1),pt===46&&!zt&&(++this.pos,this.readInt(10),pt=this.input.charCodeAt(this.pos)),(pt===69||pt===101)&&!zt&&(pt=this.input.charCodeAt(++this.pos),(pt===43||pt===45)&&++this.pos,this.readInt(10)===null&&this.raise(Mt,"Invalid number")),st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Nt=gs(this.input.slice(Mt,this.pos),zt);return this.finishToken(ut.num,Nt)},xn.readCodePoint=function(){var xt=this.input.charCodeAt(this.pos),Mt;if(xt===123){this.options.ecmaVersion<6&&this.unexpected();var zt=++this.pos;Mt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Mt>1114111&&this.invalidStringToken(zt,"Code point out of bounds")}else Mt=this.readHexChar(4);return Mt},xn.readString=function(xt){for(var Mt="",zt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var pt=this.input.charCodeAt(this.pos);if(pt===xt)break;pt===92?(Mt+=this.input.slice(zt,this.pos),Mt+=this.readEscapedChar(!1),zt=this.pos):pt===8232||pt===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(vt(pt)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Mt+=this.input.slice(zt,this.pos++),this.finishToken(ut.string,Mt)};var wn={};xn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(xt){if(xt===wn)this.readInvalidTemplateToken();else throw xt}this.inTemplateElement=!1},xn.invalidStringToken=function(xt,Mt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw wn;this.raise(xt,Mt)},xn.readTmplToken=function(){for(var xt="",Mt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var zt=this.input.charCodeAt(this.pos);if(zt===96||zt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===ut.template||this.type===ut.invalidTemplate)?zt===36?(this.pos+=2,this.finishToken(ut.dollarBraceL)):(++this.pos,this.finishToken(ut.backQuote)):(xt+=this.input.slice(Mt,this.pos),this.finishToken(ut.template,xt));if(zt===92)xt+=this.input.slice(Mt,this.pos),xt+=this.readEscapedChar(!0),Mt=this.pos;else if(vt(zt)){switch(xt+=this.input.slice(Mt,this.pos),++this.pos,zt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:xt+=`
`;break;default:xt+=String.fromCharCode(zt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Mt=this.pos}else++this.pos}},xn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(ut.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},xn.readEscapedChar=function(xt){var Mt=this.input.charCodeAt(++this.pos);switch(++this.pos,Mt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ut(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),xt){var zt=this.pos-1;this.invalidStringToken(zt,"Invalid escape sequence in template string")}default:if(Mt>=48&&Mt<=55){var pt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],kt=parseInt(pt,8);return kt>255&&(pt=pt.slice(0,-1),kt=parseInt(pt,8)),this.pos+=pt.length-1,Mt=this.input.charCodeAt(this.pos),(pt!=="0"||Mt===56||Mt===57)&&(this.strict||xt)&&this.invalidStringToken(this.pos-1-pt.length,xt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(kt)}return vt(Mt)?"":String.fromCharCode(Mt)}},xn.readHexChar=function(xt){var Mt=this.pos,zt=this.readInt(16,xt);return zt===null&&this.invalidStringToken(Mt,"Bad character escape sequence"),zt},xn.readWord1=function(){this.containsEsc=!1;for(var xt="",Mt=!0,zt=this.pos,pt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var kt=this.fullCharCodeAtPos();if(lt(kt,pt))this.pos+=kt<=65535?1:2;else if(kt===92){this.containsEsc=!0,xt+=this.input.slice(zt,this.pos);var Nt=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Bt=this.readCodePoint();(Mt?st:lt)(Bt,pt)||this.invalidStringToken(Nt,"Invalid Unicode escape"),xt+=Ut(Bt),zt=this.pos}else break;Mt=!1}return xt+this.input.slice(zt,this.pos)},xn.readWord=function(){var xt=this.readWord1(),Mt=ut.name;return this.keywords.test(xt)&&(Mt=gt[xt]),this.finishToken(Mt,xt)};var co="8.11.3";Tr.acorn={Parser:Tr,version:co,defaultOptions:nr,Position:Kt,SourceLocation:Ht,getLineInfo:qt,Node:Ns,TokenType:ht,tokTypes:ut,keywordTypes:gt,TokContext:Wr,tokContexts:zr,isIdentifierChar:lt,isIdentifierStart:st,Token:Ls,isNewLine:vt,lineBreak:wt,lineBreakG:bt,nonASCIIwhitespace:$t};function ys(xt,Mt){return Tr.parse(xt,Mt)}function ho(xt,Mt,zt){return Tr.parseExpressionAt(xt,Mt,zt)}function fo(xt,Mt){return Tr.tokenizer(xt,Mt)}a.Node=Ns,a.Parser=Tr,a.Position=Kt,a.SourceLocation=Ht,a.TokContext=Wr,a.Token=Ls,a.TokenType=ht,a.defaultOptions=nr,a.getLineInfo=qt,a.isIdentifierChar=lt,a.isIdentifierStart=st,a.isNewLine=vt,a.keywordTypes=gt,a.lineBreak=wt,a.lineBreakG=bt,a.nonASCIIwhitespace=$t,a.parse=ys,a.parseExpressionAt=ho,a.tokContexts=zr,a.tokTypes=ut,a.tokenizer=fo,a.version=co})})(acorn$1,acorn$1.exports);var acornExports=acorn$1.exports,astring={};Object.defineProperty(astring,"__esModule",{value:!0});astring.generate=generate;astring.baseGenerator=astring.GENERATOR=astring.EXPRESSIONS_PRECEDENCE=astring.NEEDS_PARENTHESES=void 0;function _classCallCheck(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass(i,s,a){return s&&_defineProperties(i.prototype,s),i}var stringify$2=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var OPERATOR_PRECEDENCE={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17;astring.NEEDS_PARENTHESES=NEEDS_PARENTHESES;var EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};astring.EXPRESSIONS_PRECEDENCE=EXPRESSIONS_PRECEDENCE;function formatSequence(i,s){var a=i.generator;if(i.write("("),s!=null&&s.length>0){a[s[0].type](s[0],i);for(var o=s.length,rt=1;rt<o;rt++){var et=s[rt];i.write(", "),a[et.type](et,i)}}i.write(")")}function expressionNeedsParenthesis(i,s,a,o){var rt=i.expressionsPrecedence[s.type];if(rt===NEEDS_PARENTHESES)return!0;var et=i.expressionsPrecedence[a.type];return rt!==et?!o&&rt===15&&et===14&&a.operator==="**"||rt<et:rt!==13&&rt!==14?!1:s.operator==="**"&&a.operator==="**"?!o:rt===13&&et===13&&(s.operator==="??"||a.operator==="??")?!0:o?OPERATOR_PRECEDENCE[s.operator]<=OPERATOR_PRECEDENCE[a.operator]:OPERATOR_PRECEDENCE[s.operator]<OPERATOR_PRECEDENCE[a.operator]}function formatExpression(i,s,a,o){var rt=i.generator;expressionNeedsParenthesis(i,s,a,o)?(i.write("("),rt[s.type](s,i),i.write(")")):rt[s.type](s,i)}function reindent(i,s,a,o){var rt=s.split(`
`),et=rt.length-1;if(i.write(rt[0].trim()),et>0){i.write(o);for(var at=1;at<et;at++)i.write(a+rt[at].trim()+o);i.write(a+rt[et].trim())}}function formatComments(i,s,a,o){for(var rt=s.length,et=0;et<rt;et++){var at=s[et];i.write(a),at.type[0]==="L"?i.write("// "+at.value.trim()+`
`,at):(i.write("/*"),reindent(i,at.value,a,o),i.write("*/"+o))}}function hasCallExpression(i){for(var s=i;s!=null;){var a=s,o=a.type;if(o[0]==="C"&&o[1]==="a")return!0;if(o[0]==="M"&&o[1]==="e"&&o[2]==="m")s=s.object;else return!1}}function formatVariableDeclaration(i,s){var a=i.generator,o=s.declarations;i.write(s.kind+" ");var rt=o.length;if(rt>0){a.VariableDeclarator(o[0],i);for(var et=1;et<rt;et++)i.write(", "),a.VariableDeclarator(o[et],i)}}var ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement,GENERATOR={Program:function(s,a){var o=a.indent.repeat(a.indentLevel),rt=a.lineEnd,et=a.writeComments;et&&s.comments!=null&&formatComments(a,s.comments,o,rt);for(var at=s.body,ot=at.length,nt=0;nt<ot;nt++){var it=at[nt];et&&it.comments!=null&&formatComments(a,it.comments,o,rt),a.write(o),this[it.type](it,a),a.write(rt)}et&&s.trailingComments!=null&&formatComments(a,s.trailingComments,o,rt)},BlockStatement:BlockStatement=function(s,a){var o=a.indent.repeat(a.indentLevel++),rt=a.lineEnd,et=a.writeComments,at=o+a.indent;a.write("{");var ot=s.body;if(ot!=null&&ot.length>0){a.write(rt),et&&s.comments!=null&&formatComments(a,s.comments,at,rt);for(var nt=ot.length,it=0;it<nt;it++){var j=ot[it];et&&j.comments!=null&&formatComments(a,j.comments,at,rt),a.write(at),this[j.type](j,a),a.write(rt)}a.write(o)}else et&&s.comments!=null&&(a.write(rt),formatComments(a,s.comments,at,rt),a.write(o));et&&s.trailingComments!=null&&formatComments(a,s.trailingComments,at,rt),a.write("}"),a.indentLevel--},ClassBody:BlockStatement,StaticBlock:function(s,a){a.write("static "),this.BlockStatement(s,a)},EmptyStatement:function(s,a){a.write(";")},ExpressionStatement:function(s,a){var o=a.expressionsPrecedence[s.expression.type];o===NEEDS_PARENTHESES||o===3&&s.expression.left.type[0]==="O"?(a.write("("),this[s.expression.type](s.expression,a),a.write(")")):this[s.expression.type](s.expression,a),a.write(";")},IfStatement:function(s,a){a.write("if ("),this[s.test.type](s.test,a),a.write(") "),this[s.consequent.type](s.consequent,a),s.alternate!=null&&(a.write(" else "),this[s.alternate.type](s.alternate,a))},LabeledStatement:function(s,a){this[s.label.type](s.label,a),a.write(": "),this[s.body.type](s.body,a)},BreakStatement:function(s,a){a.write("break"),s.label!=null&&(a.write(" "),this[s.label.type](s.label,a)),a.write(";")},ContinueStatement:function(s,a){a.write("continue"),s.label!=null&&(a.write(" "),this[s.label.type](s.label,a)),a.write(";")},WithStatement:function(s,a){a.write("with ("),this[s.object.type](s.object,a),a.write(") "),this[s.body.type](s.body,a)},SwitchStatement:function(s,a){var o=a.indent.repeat(a.indentLevel++),rt=a.lineEnd,et=a.writeComments;a.indentLevel++;var at=o+a.indent,ot=at+a.indent;a.write("switch ("),this[s.discriminant.type](s.discriminant,a),a.write(") {"+rt);for(var nt=s.cases,it=nt.length,j=0;j<it;j++){var _=nt[j];et&&_.comments!=null&&formatComments(a,_.comments,at,rt),_.test?(a.write(at+"case "),this[_.test.type](_.test,a),a.write(":"+rt)):a.write(at+"default:"+rt);for(var $=_.consequent,tt=$.length,st=0;st<tt;st++){var lt=$[st];et&&lt.comments!=null&&formatComments(a,lt.comments,ot,rt),a.write(ot),this[lt.type](lt,a),a.write(rt)}}a.indentLevel-=2,a.write(o+"}")},ReturnStatement:function(s,a){a.write("return"),s.argument&&(a.write(" "),this[s.argument.type](s.argument,a)),a.write(";")},ThrowStatement:function(s,a){a.write("throw "),this[s.argument.type](s.argument,a),a.write(";")},TryStatement:function(s,a){if(a.write("try "),this[s.block.type](s.block,a),s.handler){var o=s.handler;o.param==null?a.write(" catch "):(a.write(" catch ("),this[o.param.type](o.param,a),a.write(") ")),this[o.body.type](o.body,a)}s.finalizer&&(a.write(" finally "),this[s.finalizer.type](s.finalizer,a))},WhileStatement:function(s,a){a.write("while ("),this[s.test.type](s.test,a),a.write(") "),this[s.body.type](s.body,a)},DoWhileStatement:function(s,a){a.write("do "),this[s.body.type](s.body,a),a.write(" while ("),this[s.test.type](s.test,a),a.write(");")},ForStatement:function(s,a){if(a.write("for ("),s.init!=null){var o=s.init;o.type[0]==="V"?formatVariableDeclaration(a,o):this[o.type](o,a)}a.write("; "),s.test&&this[s.test.type](s.test,a),a.write("; "),s.update&&this[s.update.type](s.update,a),a.write(") "),this[s.body.type](s.body,a)},ForInStatement:ForInStatement=function(s,a){a.write("for ".concat(s.await?"await ":"","("));var o=s.left;o.type[0]==="V"?formatVariableDeclaration(a,o):this[o.type](o,a),a.write(s.type[3]==="I"?" in ":" of "),this[s.right.type](s.right,a),a.write(") "),this[s.body.type](s.body,a)},ForOfStatement:ForInStatement,DebuggerStatement:function(s,a){a.write("debugger;",s)},FunctionDeclaration:FunctionDeclaration=function(s,a){a.write((s.async?"async ":"")+(s.generator?"function* ":"function ")+(s.id?s.id.name:""),s),formatSequence(a,s.params),a.write(" "),this[s.body.type](s.body,a)},FunctionExpression:FunctionDeclaration,VariableDeclaration:function(s,a){formatVariableDeclaration(a,s),a.write(";")},VariableDeclarator:function(s,a){this[s.id.type](s.id,a),s.init!=null&&(a.write(" = "),this[s.init.type](s.init,a))},ClassDeclaration:function(s,a){if(a.write("class "+(s.id?"".concat(s.id.name," "):""),s),s.superClass){a.write("extends ");var o=s.superClass,rt=o.type,et=a.expressionsPrecedence[rt];(rt[0]!=="C"||rt[1]!=="l"||rt[5]!=="E")&&(et===NEEDS_PARENTHESES||et<a.expressionsPrecedence.ClassExpression)?(a.write("("),this[s.superClass.type](o,a),a.write(")")):this[o.type](o,a),a.write(" ")}this.ClassBody(s.body,a)},ImportDeclaration:function(s,a){a.write("import ");var o=s.specifiers,rt=s.attributes,et=o.length,at=0;if(et>0){for(;at<et;){at>0&&a.write(", ");var ot=o[at],nt=ot.type[6];if(nt==="D")a.write(ot.local.name,ot),at++;else if(nt==="N")a.write("* as "+ot.local.name,ot),at++;else break}if(at<et){for(a.write("{");;){var it=o[at],j=it.imported.name;if(a.write(j,it),j!==it.local.name&&a.write(" as "+it.local.name),++at<et)a.write(", ");else break}a.write("}")}a.write(" from ")}if(this.Literal(s.source,a),rt&&rt.length>0){a.write(" with { ");for(var _=0;_<rt.length;_++)this.ImportAttribute(rt[_],a),_<rt.length-1&&a.write(", ");a.write(" }")}a.write(";")},ImportAttribute:function(s,a){this.Identifier(s.key,a),a.write(": "),this.Literal(s.value,a)},ImportExpression:function(s,a){a.write("import("),this[s.source.type](s.source,a),a.write(")")},ExportDefaultDeclaration:function(s,a){a.write("export default "),this[s.declaration.type](s.declaration,a),a.expressionsPrecedence[s.declaration.type]!=null&&s.declaration.type[0]!=="F"&&a.write(";")},ExportNamedDeclaration:function(s,a){if(a.write("export "),s.declaration)this[s.declaration.type](s.declaration,a);else{a.write("{");var o=s.specifiers,rt=o.length;if(rt>0)for(var et=0;;){var at=o[et],ot=at.local.name;if(a.write(ot,at),ot!==at.exported.name&&a.write(" as "+at.exported.name),++et<rt)a.write(", ");else break}if(a.write("}"),s.source&&(a.write(" from "),this.Literal(s.source,a)),s.attributes&&s.attributes.length>0){a.write(" with { ");for(var nt=0;nt<s.attributes.length;nt++)this.ImportAttribute(s.attributes[nt],a),nt<s.attributes.length-1&&a.write(", ");a.write(" }")}a.write(";")}},ExportAllDeclaration:function(s,a){if(s.exported!=null?a.write("export * as "+s.exported.name+" from "):a.write("export * from "),this.Literal(s.source,a),s.attributes&&s.attributes.length>0){a.write(" with { ");for(var o=0;o<s.attributes.length;o++)this.ImportAttribute(s.attributes[o],a),o<s.attributes.length-1&&a.write(", ");a.write(" }")}a.write(";")},MethodDefinition:function(s,a){s.static&&a.write("static ");var o=s.kind[0];(o==="g"||o==="s")&&a.write(s.kind+" "),s.value.async&&a.write("async "),s.value.generator&&a.write("*"),s.computed?(a.write("["),this[s.key.type](s.key,a),a.write("]")):this[s.key.type](s.key,a),formatSequence(a,s.value.params),a.write(" "),this[s.value.body.type](s.value.body,a)},ClassExpression:function(s,a){this.ClassDeclaration(s,a)},ArrowFunctionExpression:function(s,a){a.write(s.async?"async ":"",s);var o=s.params;o!=null&&(o.length===1&&o[0].type[0]==="I"?a.write(o[0].name,o[0]):formatSequence(a,s.params)),a.write(" => "),s.body.type[0]==="O"?(a.write("("),this.ObjectExpression(s.body,a),a.write(")")):this[s.body.type](s.body,a)},ThisExpression:function(s,a){a.write("this",s)},Super:function(s,a){a.write("super",s)},RestElement:RestElement=function(s,a){a.write("..."),this[s.argument.type](s.argument,a)},SpreadElement:RestElement,YieldExpression:function(s,a){a.write(s.delegate?"yield*":"yield"),s.argument&&(a.write(" "),this[s.argument.type](s.argument,a))},AwaitExpression:function(s,a){a.write("await ",s),formatExpression(a,s.argument,s)},TemplateLiteral:function(s,a){var o=s.quasis,rt=s.expressions;a.write("`");for(var et=rt.length,at=0;at<et;at++){var ot=rt[at],nt=o[at];a.write(nt.value.raw,nt),a.write("${"),this[ot.type](ot,a),a.write("}")}var it=o[o.length-1];a.write(it.value.raw,it),a.write("`")},TemplateElement:function(s,a){a.write(s.value.raw,s)},TaggedTemplateExpression:function(s,a){formatExpression(a,s.tag,s),this[s.quasi.type](s.quasi,a)},ArrayExpression:ArrayExpression=function(s,a){if(a.write("["),s.elements.length>0)for(var o=s.elements,rt=o.length,et=0;;){var at=o[et];if(at!=null&&this[at.type](at,a),++et<rt)a.write(", ");else{at==null&&a.write(", ");break}}a.write("]")},ArrayPattern:ArrayExpression,ObjectExpression:function(s,a){var o=a.indent.repeat(a.indentLevel++),rt=a.lineEnd,et=a.writeComments,at=o+a.indent;if(a.write("{"),s.properties.length>0){a.write(rt),et&&s.comments!=null&&formatComments(a,s.comments,at,rt);for(var ot=","+rt,nt=s.properties,it=nt.length,j=0;;){var _=nt[j];if(et&&_.comments!=null&&formatComments(a,_.comments,at,rt),a.write(at),this[_.type](_,a),++j<it)a.write(ot);else break}a.write(rt),et&&s.trailingComments!=null&&formatComments(a,s.trailingComments,at,rt),a.write(o+"}")}else et?s.comments!=null?(a.write(rt),formatComments(a,s.comments,at,rt),s.trailingComments!=null&&formatComments(a,s.trailingComments,at,rt),a.write(o+"}")):s.trailingComments!=null?(a.write(rt),formatComments(a,s.trailingComments,at,rt),a.write(o+"}")):a.write("}"):a.write("}");a.indentLevel--},Property:function(s,a){s.method||s.kind[0]!=="i"?this.MethodDefinition(s,a):(s.shorthand||(s.computed?(a.write("["),this[s.key.type](s.key,a),a.write("]")):this[s.key.type](s.key,a),a.write(": ")),this[s.value.type](s.value,a))},PropertyDefinition:function(s,a){if(s.static&&a.write("static "),s.computed&&a.write("["),this[s.key.type](s.key,a),s.computed&&a.write("]"),s.value==null){s.key.type[0]!=="F"&&a.write(";");return}a.write(" = "),this[s.value.type](s.value,a),a.write(";")},ObjectPattern:function(s,a){if(a.write("{"),s.properties.length>0)for(var o=s.properties,rt=o.length,et=0;this[o[et].type](o[et],a),++et<rt;)a.write(", ");a.write("}")},SequenceExpression:function(s,a){formatSequence(a,s.expressions)},UnaryExpression:function(s,a){if(s.prefix){var o=s.operator,rt=s.argument,et=s.argument.type;a.write(o);var at=expressionNeedsParenthesis(a,rt,s);!at&&(o.length>1||et[0]==="U"&&(et[1]==="n"||et[1]==="p")&&rt.prefix&&rt.operator[0]===o&&(o==="+"||o==="-"))&&a.write(" "),at?(a.write(o.length>1?" (":"("),this[et](rt,a),a.write(")")):this[et](rt,a)}else this[s.argument.type](s.argument,a),a.write(s.operator)},UpdateExpression:function(s,a){s.prefix?(a.write(s.operator),this[s.argument.type](s.argument,a)):(this[s.argument.type](s.argument,a),a.write(s.operator))},AssignmentExpression:function(s,a){this[s.left.type](s.left,a),a.write(" "+s.operator+" "),this[s.right.type](s.right,a)},AssignmentPattern:function(s,a){this[s.left.type](s.left,a),a.write(" = "),this[s.right.type](s.right,a)},BinaryExpression:BinaryExpression=function(s,a){var o=s.operator==="in";o&&a.write("("),formatExpression(a,s.left,s,!1),a.write(" "+s.operator+" "),formatExpression(a,s.right,s,!0),o&&a.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression:function(s,a){var o=s.test,rt=a.expressionsPrecedence[o.type];rt===NEEDS_PARENTHESES||rt<=a.expressionsPrecedence.ConditionalExpression?(a.write("("),this[o.type](o,a),a.write(")")):this[o.type](o,a),a.write(" ? "),this[s.consequent.type](s.consequent,a),a.write(" : "),this[s.alternate.type](s.alternate,a)},NewExpression:function(s,a){a.write("new ");var o=a.expressionsPrecedence[s.callee.type];o===NEEDS_PARENTHESES||o<a.expressionsPrecedence.CallExpression||hasCallExpression(s.callee)?(a.write("("),this[s.callee.type](s.callee,a),a.write(")")):this[s.callee.type](s.callee,a),formatSequence(a,s.arguments)},CallExpression:function(s,a){var o=a.expressionsPrecedence[s.callee.type];o===NEEDS_PARENTHESES||o<a.expressionsPrecedence.CallExpression?(a.write("("),this[s.callee.type](s.callee,a),a.write(")")):this[s.callee.type](s.callee,a),s.optional&&a.write("?."),formatSequence(a,s.arguments)},ChainExpression:function(s,a){this[s.expression.type](s.expression,a)},MemberExpression:function(s,a){var o=a.expressionsPrecedence[s.object.type];o===NEEDS_PARENTHESES||o<a.expressionsPrecedence.MemberExpression?(a.write("("),this[s.object.type](s.object,a),a.write(")")):this[s.object.type](s.object,a),s.computed?(s.optional&&a.write("?."),a.write("["),this[s.property.type](s.property,a),a.write("]")):(s.optional?a.write("?."):a.write("."),this[s.property.type](s.property,a))},MetaProperty:function(s,a){a.write(s.meta.name+"."+s.property.name,s)},Identifier:function(s,a){a.write(s.name,s)},PrivateIdentifier:function(s,a){a.write("#".concat(s.name),s)},Literal:function(s,a){s.raw!=null?a.write(s.raw,s):s.regex!=null?this.RegExpLiteral(s,a):s.bigint!=null?a.write(s.bigint+"n",s):a.write(stringify$2(s.value),s)},RegExpLiteral:function(s,a){var o=s.regex;a.write("/".concat(o.pattern,"/").concat(o.flags),s)}};astring.GENERATOR=GENERATOR;var EMPTY_OBJECT={},baseGenerator=GENERATOR;astring.baseGenerator=baseGenerator;var State=function(){function i(s){_classCallCheck(this,i);var a=s??EMPTY_OBJECT;this.output="",a.output!=null?(this.output=a.output,this.write=this.writeToStream):this.output="",this.generator=a.generator!=null?a.generator:GENERATOR,this.expressionsPrecedence=a.expressionsPrecedence!=null?a.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=a.indent!=null?a.indent:"  ",this.lineEnd=a.lineEnd!=null?a.lineEnd:`
`,this.indentLevel=a.startingIndentLevel!=null?a.startingIndentLevel:0,this.writeComments=a.comments?a.comments:!1,a.sourceMap!=null&&(this.write=a.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=a.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:a.sourceMap.file||a.sourceMap._file})}return _createClass(i,[{key:"write",value:function(a){this.output+=a}},{key:"writeToStream",value:function(a){this.output.write(a)}},{key:"writeAndMap",value:function(a,o){this.output+=a,this.map(a,o)}},{key:"writeToStreamAndMap",value:function(a,o){this.output.write(a),this.map(a,o)}},{key:"map",value:function(a,o){if(o!=null){var rt=o.type;if(rt[0]==="L"&&rt[2]==="n"){this.column=0,this.line++;return}if(o.loc!=null){var et=this.mapping;et.original=o.loc.start,et.name=o.name,this.sourceMap.addMapping(et)}if(rt[0]==="T"&&rt[8]==="E"||rt[0]==="L"&&rt[1]==="i"&&typeof o.value=="string"){for(var at=a.length,ot=this.column,nt=this.line,it=0;it<at;it++)a[it]===`
`?(ot=0,nt++):ot++;this.column=ot,this.line=nt;return}}var j=a.length,_=this.lineEnd;j>0&&(this.lineEndSize>0&&(_.length===1?a[j-1]===_:a.endsWith(_))?(this.line+=this.lineEndSize,this.column=0):this.column+=j)}},{key:"toString",value:function(){return this.output}}]),i}();function generate(i,s){var a=new State(s);return a.generator[i.type](i,a),a.output}function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gpuBrowser={exports:{}};/**
 * gpu.js
 * http://gpu.rocks/
 *
 * GPU Accelerated JavaScript
 *
 * @version 2.16.0
 * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)
 *
 * @license MIT
 * The MIT License
 *
 * Copyright (c) 2022 gpu.js Team
 */(function(i,s){(function(a){i.exports=a()})(function(){return function(){function a(o,rt,et){function at(it,j){if(!rt[it]){if(!o[it]){var _=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&_)return _(it,!0);if(ot)return ot(it,!0);var $=new Error("Cannot find module '"+it+"'");throw $.code="MODULE_NOT_FOUND",$}var tt=rt[it]={exports:{}};o[it][0].call(tt.exports,function(st){var lt=o[it][1][st];return at(lt||st)},tt,tt.exports,a,o,rt,et)}return rt[it].exports}for(var ot=typeof commonjsRequire=="function"&&commonjsRequire,nt=0;nt<et.length;nt++)at(et[nt]);return at}return a}()({1:[function(a,o,rt){(function(et,at){typeof rt=="object"&&typeof o<"u"?at(rt):(et=et||self,at(et.acorn={}))})(this,function(et){var at={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ot="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",nt={5:ot,"5module":ot+" export import",6:ot+" const class extends export import super"},it=/^in(stanceof)?$/,j="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",_="--------------------------------------------------------------------------------------------------------------------------------------------------",$=new RegExp("["+j+"]"),tt=new RegExp("["+j+_+"]");j=_=null;var st=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],lt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function ht(_t,Pt){for(var Wt=65536,Jt=0;Jt<Pt.length;Jt+=2){if(Wt+=Pt[Jt],Wt>_t)return!1;if(Wt+=Pt[Jt+1],Wt>=_t)return!0}}function ft(_t,Pt){return _t<65?_t===36:_t<91?!0:_t<97?_t===95:_t<123?!0:_t<=65535?_t>=170&&$.test(String.fromCharCode(_t)):Pt===!1?!1:ht(_t,st)}function ct(_t,Pt){return _t<48?_t===36:_t<58?!0:_t<65?!1:_t<91?!0:_t<97?_t===95:_t<123?!0:_t<=65535?_t>=170&&tt.test(String.fromCharCode(_t)):Pt===!1?!1:ht(_t,st)||ht(_t,lt)}var mt=function(Pt,Wt){Wt===void 0&&(Wt={}),this.label=Pt,this.keyword=Wt.keyword,this.beforeExpr=!!Wt.beforeExpr,this.startsExpr=!!Wt.startsExpr,this.isLoop=!!Wt.isLoop,this.isAssign=!!Wt.isAssign,this.prefix=!!Wt.prefix,this.postfix=!!Wt.postfix,this.binop=Wt.binop||null,this.updateContext=null};function gt(_t,Pt){return new mt(_t,{beforeExpr:!0,binop:Pt})}var yt={beforeExpr:!0},ut={startsExpr:!0},wt={};function bt(_t,Pt){return Pt===void 0&&(Pt={}),Pt.keyword=_t,wt[_t]=new mt(_t,Pt)}var vt={num:new mt("num",ut),regexp:new mt("regexp",ut),string:new mt("string",ut),name:new mt("name",ut),eof:new mt("eof"),bracketL:new mt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new mt("]"),braceL:new mt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new mt("}"),parenL:new mt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new mt(")"),comma:new mt(",",yt),semi:new mt(";",yt),colon:new mt(":",yt),dot:new mt("."),question:new mt("?",yt),arrow:new mt("=>",yt),template:new mt("template"),invalidTemplate:new mt("invalidTemplate"),ellipsis:new mt("...",yt),backQuote:new mt("`",ut),dollarBraceL:new mt("${",{beforeExpr:!0,startsExpr:!0}),eq:new mt("=",{beforeExpr:!0,isAssign:!0}),assign:new mt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new mt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new mt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:gt("||",1),logicalAND:gt("&&",2),bitwiseOR:gt("|",3),bitwiseXOR:gt("^",4),bitwiseAND:gt("&",5),equality:gt("==/!=/===/!==",6),relational:gt("</>/<=/>=",7),bitShift:gt("<</>>/>>>",8),plusMin:new mt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:gt("%",10),star:gt("*",10),slash:gt("/",10),starstar:new mt("**",{beforeExpr:!0}),_break:bt("break"),_case:bt("case",yt),_catch:bt("catch"),_continue:bt("continue"),_debugger:bt("debugger"),_default:bt("default",yt),_do:bt("do",{isLoop:!0,beforeExpr:!0}),_else:bt("else",yt),_finally:bt("finally"),_for:bt("for",{isLoop:!0}),_function:bt("function",ut),_if:bt("if"),_return:bt("return",yt),_switch:bt("switch"),_throw:bt("throw",yt),_try:bt("try"),_var:bt("var"),_const:bt("const"),_while:bt("while",{isLoop:!0}),_with:bt("with"),_new:bt("new",{beforeExpr:!0,startsExpr:!0}),_this:bt("this",ut),_super:bt("super",ut),_class:bt("class",ut),_extends:bt("extends",yt),_export:bt("export"),_import:bt("import",ut),_null:bt("null",ut),_true:bt("true",ut),_false:bt("false",ut),_in:bt("in",{beforeExpr:!0,binop:7}),_instanceof:bt("instanceof",{beforeExpr:!0,binop:7}),_typeof:bt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:bt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:bt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Et=/\r\n?|\n|\u2028|\u2029/,$t=new RegExp(Et.source,"g");function Tt(_t,Pt){return _t===10||_t===13||!Pt&&(_t===8232||_t===8233)}var At=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,It=Object.prototype,Lt=It.hasOwnProperty,Ft=It.toString;function Dt(_t,Pt){return Lt.call(_t,Pt)}var Vt=Array.isArray||function(_t){return Ft.call(_t)==="[object Array]"};function Ut(_t){return new RegExp("^(?:"+_t.replace(/ /g,"|")+")$")}var Qt=function(Pt,Wt){this.line=Pt,this.column=Wt};Qt.prototype.offset=function(Pt){return new Qt(this.line,this.column+Pt)};var Kt=function(Pt,Wt,Jt){this.start=Wt,this.end=Jt,Pt.sourceFile!==null&&(this.source=Pt.sourceFile)};function Ht(_t,Pt){for(var Wt=1,Jt=0;;){$t.lastIndex=Jt;var cr=$t.exec(_t);if(cr&&cr.index<Pt)++Wt,Jt=cr.index+cr[0].length;else return new Qt(Wt,Pt-Jt)}}var qt={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function nr(_t){var Pt={};for(var Wt in qt)Pt[Wt]=_t&&Dt(_t,Wt)?_t[Wt]:qt[Wt];if(Pt.ecmaVersion>=2015&&(Pt.ecmaVersion-=2009),Pt.allowReserved==null&&(Pt.allowReserved=Pt.ecmaVersion<5),Vt(Pt.onToken)){var Jt=Pt.onToken;Pt.onToken=function(cr){return Jt.push(cr)}}return Vt(Pt.onComment)&&(Pt.onComment=tr(Pt,Pt.onComment)),Pt}function tr(_t,Pt){return function(Wt,Jt,cr,_r,Mr,Kr){var rn={type:Wt?"Block":"Line",value:Jt,start:cr,end:_r};_t.locations&&(rn.loc=new Kt(this,Mr,Kr)),_t.ranges&&(rn.range=[cr,_r]),Pt.push(rn)}}var mr=1,yr=2,br=mr|yr,xr=4,sr=8,ar=16,rr=32,Cr=64,kr=128;function vr(_t,Pt){return yr|(_t?xr:0)|(Pt?sr:0)}var Gr=0,an=1,hn=2,Mn=3,Bn=4,An=5,dn=function(Pt,Wt,Jt){this.options=Pt=nr(Pt),this.sourceFile=Pt.sourceFile,this.keywords=Ut(nt[Pt.ecmaVersion>=6?6:Pt.sourceType==="module"?"5module":5]);var cr="";if(Pt.allowReserved!==!0){for(var _r=Pt.ecmaVersion;!(cr=at[_r]);_r--);Pt.sourceType==="module"&&(cr+=" await")}this.reservedWords=Ut(cr);var Mr=(cr?cr+" ":"")+at.strict;this.reservedWordsStrict=Ut(Mr),this.reservedWordsStrictBind=Ut(Mr+" "+at.strictBind),this.input=String(Wt),this.containsEsc=!1,Jt?(this.pos=Jt,this.lineStart=this.input.lastIndexOf(`
`,Jt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Et).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=vt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Pt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&Pt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(mr),this.regexpState=null},Yn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};dn.prototype.parse=function(){var Pt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Pt)},Yn.inFunction.get=function(){return(this.currentVarScope().flags&yr)>0},Yn.inGenerator.get=function(){return(this.currentVarScope().flags&sr)>0},Yn.inAsync.get=function(){return(this.currentVarScope().flags&xr)>0},Yn.allowSuper.get=function(){return(this.currentThisScope().flags&Cr)>0},Yn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&kr)>0},Yn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},dn.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&yr)>0},dn.extend=function(){for(var Pt=[],Wt=arguments.length;Wt--;)Pt[Wt]=arguments[Wt];for(var Jt=this,cr=0;cr<Pt.length;cr++)Jt=Pt[cr](Jt);return Jt},dn.parse=function(Pt,Wt){return new this(Wt,Pt).parse()},dn.parseExpressionAt=function(Pt,Wt,Jt){var cr=new this(Jt,Pt,Wt);return cr.nextToken(),cr.parseExpression()},dn.tokenizer=function(Pt,Wt){return new this(Wt,Pt)},Object.defineProperties(dn.prototype,Yn);var Dn=dn.prototype,Tr=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;Dn.strictDirective=function(_t){for(;;){Ct.lastIndex=_t,_t+=Ct.exec(this.input)[0].length;var Pt=Tr.exec(this.input.slice(_t));if(!Pt)return!1;if((Pt[1]||Pt[2])==="use strict")return!0;_t+=Pt[0].length,Ct.lastIndex=_t,_t+=Ct.exec(this.input)[0].length,this.input[_t]===";"&&_t++}},Dn.eat=function(_t){return this.type===_t?(this.next(),!0):!1},Dn.isContextual=function(_t){return this.type===vt.name&&this.value===_t&&!this.containsEsc},Dn.eatContextual=function(_t){return this.isContextual(_t)?(this.next(),!0):!1},Dn.expectContextual=function(_t){this.eatContextual(_t)||this.unexpected()},Dn.canInsertSemicolon=function(){return this.type===vt.eof||this.type===vt.braceR||Et.test(this.input.slice(this.lastTokEnd,this.start))},Dn.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Dn.semicolon=function(){!this.eat(vt.semi)&&!this.insertSemicolon()&&this.unexpected()},Dn.afterTrailingComma=function(_t,Pt){if(this.type===_t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Pt||this.next(),!0},Dn.expect=function(_t){this.eat(_t)||this.unexpected()},Dn.unexpected=function(_t){this.raise(_t??this.start,"Unexpected token")};function Br(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}Dn.checkPatternErrors=function(_t,Pt){if(_t){_t.trailingComma>-1&&this.raiseRecoverable(_t.trailingComma,"Comma is not permitted after the rest element");var Wt=Pt?_t.parenthesizedAssign:_t.parenthesizedBind;Wt>-1&&this.raiseRecoverable(Wt,"Parenthesized pattern")}},Dn.checkExpressionErrors=function(_t,Pt){if(!_t)return!1;var Wt=_t.shorthandAssign,Jt=_t.doubleProto;if(!Pt)return Wt>=0||Jt>=0;Wt>=0&&this.raise(Wt,"Shorthand property assignments are valid only in destructuring patterns"),Jt>=0&&this.raiseRecoverable(Jt,"Redefinition of __proto__ property")},Dn.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Dn.isSimpleAssignTarget=function(_t){return _t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(_t.expression):_t.type==="Identifier"||_t.type==="MemberExpression"};var Ar=dn.prototype;Ar.parseTopLevel=function(_t){var Pt={};for(_t.body||(_t.body=[]);this.type!==vt.eof;){var Wt=this.parseStatement(null,!0,Pt);_t.body.push(Wt)}if(this.inModule)for(var Jt=0,cr=Object.keys(this.undefinedExports);Jt<cr.length;Jt+=1){var _r=cr[Jt];this.raiseRecoverable(this.undefinedExports[_r].start,"Export '"+_r+"' is not defined")}return this.adaptDirectivePrologue(_t.body),this.next(),_t.sourceType=this.options.sourceType,this.finishNode(_t,"Program")};var fn={kind:"loop"},er={kind:"switch"};Ar.isLet=function(_t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ct.lastIndex=this.pos;var Pt=Ct.exec(this.input),Wt=this.pos+Pt[0].length,Jt=this.input.charCodeAt(Wt);if(Jt===91)return!0;if(_t)return!1;if(Jt===123)return!0;if(ft(Jt,!0)){for(var cr=Wt+1;ct(this.input.charCodeAt(cr),!0);)++cr;var _r=this.input.slice(Wt,cr);if(!it.test(_r))return!0}return!1},Ar.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ct.lastIndex=this.pos;var _t=Ct.exec(this.input),Pt=this.pos+_t[0].length;return!Et.test(this.input.slice(this.pos,Pt))&&this.input.slice(Pt,Pt+8)==="function"&&(Pt+8===this.input.length||!ct(this.input.charAt(Pt+8)))},Ar.parseStatement=function(_t,Pt,Wt){var Jt=this.type,cr=this.startNode(),_r;switch(this.isLet(_t)&&(Jt=vt._var,_r="let"),Jt){case vt._break:case vt._continue:return this.parseBreakContinueStatement(cr,Jt.keyword);case vt._debugger:return this.parseDebuggerStatement(cr);case vt._do:return this.parseDoStatement(cr);case vt._for:return this.parseForStatement(cr);case vt._function:return _t&&(this.strict||_t!=="if"&&_t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(cr,!1,!_t);case vt._class:return _t&&this.unexpected(),this.parseClass(cr,!0);case vt._if:return this.parseIfStatement(cr);case vt._return:return this.parseReturnStatement(cr);case vt._switch:return this.parseSwitchStatement(cr);case vt._throw:return this.parseThrowStatement(cr);case vt._try:return this.parseTryStatement(cr);case vt._const:case vt._var:return _r=_r||this.value,_t&&_r!=="var"&&this.unexpected(),this.parseVarStatement(cr,_r);case vt._while:return this.parseWhileStatement(cr);case vt._with:return this.parseWithStatement(cr);case vt.braceL:return this.parseBlock(!0,cr);case vt.semi:return this.parseEmptyStatement(cr);case vt._export:case vt._import:if(this.options.ecmaVersion>10&&Jt===vt._import){Ct.lastIndex=this.pos;var Mr=Ct.exec(this.input),Kr=this.pos+Mr[0].length,rn=this.input.charCodeAt(Kr);if(rn===40)return this.parseExpressionStatement(cr,this.parseExpression())}return this.options.allowImportExportEverywhere||(Pt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Jt===vt._import?this.parseImport(cr):this.parseExport(cr,Wt);default:if(this.isAsyncFunction())return _t&&this.unexpected(),this.next(),this.parseFunctionStatement(cr,!0,!_t);var kn=this.value,Hn=this.parseExpression();return Jt===vt.name&&Hn.type==="Identifier"&&this.eat(vt.colon)?this.parseLabeledStatement(cr,kn,Hn,_t):this.parseExpressionStatement(cr,Hn)}},Ar.parseBreakContinueStatement=function(_t,Pt){var Wt=Pt==="break";this.next(),this.eat(vt.semi)||this.insertSemicolon()?_t.label=null:this.type!==vt.name?this.unexpected():(_t.label=this.parseIdent(),this.semicolon());for(var Jt=0;Jt<this.labels.length;++Jt){var cr=this.labels[Jt];if((_t.label==null||cr.name===_t.label.name)&&(cr.kind!=null&&(Wt||cr.kind==="loop")||_t.label&&Wt))break}return Jt===this.labels.length&&this.raise(_t.start,"Unsyntactic "+Pt),this.finishNode(_t,Wt?"BreakStatement":"ContinueStatement")},Ar.parseDebuggerStatement=function(_t){return this.next(),this.semicolon(),this.finishNode(_t,"DebuggerStatement")},Ar.parseDoStatement=function(_t){return this.next(),this.labels.push(fn),_t.body=this.parseStatement("do"),this.labels.pop(),this.expect(vt._while),_t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(vt.semi):this.semicolon(),this.finishNode(_t,"DoWhileStatement")},Ar.parseForStatement=function(_t){this.next();var Pt=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(fn),this.enterScope(0),this.expect(vt.parenL),this.type===vt.semi)return Pt>-1&&this.unexpected(Pt),this.parseFor(_t,null);var Wt=this.isLet();if(this.type===vt._var||this.type===vt._const||Wt){var Jt=this.startNode(),cr=Wt?"let":this.value;return this.next(),this.parseVar(Jt,!0,cr),this.finishNode(Jt,"VariableDeclaration"),(this.type===vt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Jt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===vt._in?Pt>-1&&this.unexpected(Pt):_t.await=Pt>-1),this.parseForIn(_t,Jt)):(Pt>-1&&this.unexpected(Pt),this.parseFor(_t,Jt))}var _r=new Br,Mr=this.parseExpression(!0,_r);return this.type===vt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===vt._in?Pt>-1&&this.unexpected(Pt):_t.await=Pt>-1),this.toAssignable(Mr,!1,_r),this.checkLVal(Mr),this.parseForIn(_t,Mr)):(this.checkExpressionErrors(_r,!0),Pt>-1&&this.unexpected(Pt),this.parseFor(_t,Mr))},Ar.parseFunctionStatement=function(_t,Pt,Wt){return this.next(),this.parseFunction(_t,fr|(Wt?0:Dr),!1,Pt)},Ar.parseIfStatement=function(_t){return this.next(),_t.test=this.parseParenExpression(),_t.consequent=this.parseStatement("if"),_t.alternate=this.eat(vt._else)?this.parseStatement("if"):null,this.finishNode(_t,"IfStatement")},Ar.parseReturnStatement=function(_t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(vt.semi)||this.insertSemicolon()?_t.argument=null:(_t.argument=this.parseExpression(),this.semicolon()),this.finishNode(_t,"ReturnStatement")},Ar.parseSwitchStatement=function(_t){this.next(),_t.discriminant=this.parseParenExpression(),_t.cases=[],this.expect(vt.braceL),this.labels.push(er),this.enterScope(0);for(var Pt,Wt=!1;this.type!==vt.braceR;)if(this.type===vt._case||this.type===vt._default){var Jt=this.type===vt._case;Pt&&this.finishNode(Pt,"SwitchCase"),_t.cases.push(Pt=this.startNode()),Pt.consequent=[],this.next(),Jt?Pt.test=this.parseExpression():(Wt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Wt=!0,Pt.test=null),this.expect(vt.colon)}else Pt||this.unexpected(),Pt.consequent.push(this.parseStatement(null));return this.exitScope(),Pt&&this.finishNode(Pt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(_t,"SwitchStatement")},Ar.parseThrowStatement=function(_t){return this.next(),Et.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),_t.argument=this.parseExpression(),this.semicolon(),this.finishNode(_t,"ThrowStatement")};var Yt=[];Ar.parseTryStatement=function(_t){if(this.next(),_t.block=this.parseBlock(),_t.handler=null,this.type===vt._catch){var Pt=this.startNode();if(this.next(),this.eat(vt.parenL)){Pt.param=this.parseBindingAtom();var Wt=Pt.param.type==="Identifier";this.enterScope(Wt?rr:0),this.checkLVal(Pt.param,Wt?Bn:hn),this.expect(vt.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),Pt.param=null,this.enterScope(0);Pt.body=this.parseBlock(!1),this.exitScope(),_t.handler=this.finishNode(Pt,"CatchClause")}return _t.finalizer=this.eat(vt._finally)?this.parseBlock():null,!_t.handler&&!_t.finalizer&&this.raise(_t.start,"Missing catch or finally clause"),this.finishNode(_t,"TryStatement")},Ar.parseVarStatement=function(_t,Pt){return this.next(),this.parseVar(_t,!1,Pt),this.semicolon(),this.finishNode(_t,"VariableDeclaration")},Ar.parseWhileStatement=function(_t){return this.next(),_t.test=this.parseParenExpression(),this.labels.push(fn),_t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(_t,"WhileStatement")},Ar.parseWithStatement=function(_t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),_t.object=this.parseParenExpression(),_t.body=this.parseStatement("with"),this.finishNode(_t,"WithStatement")},Ar.parseEmptyStatement=function(_t){return this.next(),this.finishNode(_t,"EmptyStatement")},Ar.parseLabeledStatement=function(_t,Pt,Wt,Jt){for(var cr=0,_r=this.labels;cr<_r.length;cr+=1){var Mr=_r[cr];Mr.name===Pt&&this.raise(Wt.start,"Label '"+Pt+"' is already declared")}for(var Kr=this.type.isLoop?"loop":this.type===vt._switch?"switch":null,rn=this.labels.length-1;rn>=0;rn--){var kn=this.labels[rn];if(kn.statementStart===_t.start)kn.statementStart=this.start,kn.kind=Kr;else break}return this.labels.push({name:Pt,kind:Kr,statementStart:this.start}),_t.body=this.parseStatement(Jt?Jt.indexOf("label")===-1?Jt+"label":Jt:"label"),this.labels.pop(),_t.label=Wt,this.finishNode(_t,"LabeledStatement")},Ar.parseExpressionStatement=function(_t,Pt){return _t.expression=Pt,this.semicolon(),this.finishNode(_t,"ExpressionStatement")},Ar.parseBlock=function(_t,Pt){for(_t===void 0&&(_t=!0),Pt===void 0&&(Pt=this.startNode()),Pt.body=[],this.expect(vt.braceL),_t&&this.enterScope(0);!this.eat(vt.braceR);){var Wt=this.parseStatement(null);Pt.body.push(Wt)}return _t&&this.exitScope(),this.finishNode(Pt,"BlockStatement")},Ar.parseFor=function(_t,Pt){return _t.init=Pt,this.expect(vt.semi),_t.test=this.type===vt.semi?null:this.parseExpression(),this.expect(vt.semi),_t.update=this.type===vt.parenR?null:this.parseExpression(),this.expect(vt.parenR),_t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_t,"ForStatement")},Ar.parseForIn=function(_t,Pt){var Wt=this.type===vt._in;return this.next(),Pt.type==="VariableDeclaration"&&Pt.declarations[0].init!=null&&(!Wt||this.options.ecmaVersion<8||this.strict||Pt.kind!=="var"||Pt.declarations[0].id.type!=="Identifier")?this.raise(Pt.start,(Wt?"for-in":"for-of")+" loop variable declaration may not have an initializer"):Pt.type==="AssignmentPattern"&&this.raise(Pt.start,"Invalid left-hand side in for-loop"),_t.left=Pt,_t.right=Wt?this.parseExpression():this.parseMaybeAssign(),this.expect(vt.parenR),_t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_t,Wt?"ForInStatement":"ForOfStatement")},Ar.parseVar=function(_t,Pt,Wt){for(_t.declarations=[],_t.kind=Wt;;){var Jt=this.startNode();if(this.parseVarId(Jt,Wt),this.eat(vt.eq)?Jt.init=this.parseMaybeAssign(Pt):Wt==="const"&&!(this.type===vt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Jt.id.type!=="Identifier"&&!(Pt&&(this.type===vt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Jt.init=null,_t.declarations.push(this.finishNode(Jt,"VariableDeclarator")),!this.eat(vt.comma))break}return _t},Ar.parseVarId=function(_t,Pt){_t.id=this.parseBindingAtom(),this.checkLVal(_t.id,Pt==="var"?an:hn,!1)};var fr=1,Dr=2,Ur=4;Ar.parseFunction=function(_t,Pt,Wt,Jt){this.initFunction(_t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Jt)&&(this.type===vt.star&&Pt&Dr&&this.unexpected(),_t.generator=this.eat(vt.star)),this.options.ecmaVersion>=8&&(_t.async=!!Jt),Pt&fr&&(_t.id=Pt&Ur&&this.type!==vt.name?null:this.parseIdent(),_t.id&&!(Pt&Dr)&&this.checkLVal(_t.id,this.strict||_t.generator||_t.async?this.treatFunctionsAsVar?an:hn:Mn));var cr=this.yieldPos,_r=this.awaitPos,Mr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(vr(_t.async,_t.generator)),Pt&fr||(_t.id=this.type===vt.name?this.parseIdent():null),this.parseFunctionParams(_t),this.parseFunctionBody(_t,Wt,!1),this.yieldPos=cr,this.awaitPos=_r,this.awaitIdentPos=Mr,this.finishNode(_t,Pt&fr?"FunctionDeclaration":"FunctionExpression")},Ar.parseFunctionParams=function(_t){this.expect(vt.parenL),_t.params=this.parseBindingList(vt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Ar.parseClass=function(_t,Pt){this.next();var Wt=this.strict;this.strict=!0,this.parseClassId(_t,Pt),this.parseClassSuper(_t);var Jt=this.startNode(),cr=!1;for(Jt.body=[],this.expect(vt.braceL);!this.eat(vt.braceR);){var _r=this.parseClassElement(_t.superClass!==null);_r&&(Jt.body.push(_r),_r.type==="MethodDefinition"&&_r.kind==="constructor"&&(cr&&this.raise(_r.start,"Duplicate constructor in the same class"),cr=!0))}return _t.body=this.finishNode(Jt,"ClassBody"),this.strict=Wt,this.finishNode(_t,Pt?"ClassDeclaration":"ClassExpression")},Ar.parseClassElement=function(_t){var Pt=this;if(this.eat(vt.semi))return null;var Wt=this.startNode(),Jt=function(rn,kn){kn===void 0&&(kn=!1);var Hn=Pt.start,as=Pt.startLoc;return Pt.eatContextual(rn)?Pt.type!==vt.parenL&&(!kn||!Pt.canInsertSemicolon())?!0:(Wt.key&&Pt.unexpected(),Wt.computed=!1,Wt.key=Pt.startNodeAt(Hn,as),Wt.key.name=rn,Pt.finishNode(Wt.key,"Identifier"),!1):!1};Wt.kind="method",Wt.static=Jt("static");var cr=this.eat(vt.star),_r=!1;cr||(this.options.ecmaVersion>=8&&Jt("async",!0)?(_r=!0,cr=this.options.ecmaVersion>=9&&this.eat(vt.star)):Jt("get")?Wt.kind="get":Jt("set")&&(Wt.kind="set")),Wt.key||this.parsePropertyName(Wt);var Mr=Wt.key,Kr=!1;return!Wt.computed&&!Wt.static&&(Mr.type==="Identifier"&&Mr.name==="constructor"||Mr.type==="Literal"&&Mr.value==="constructor")?(Wt.kind!=="method"&&this.raise(Mr.start,"Constructor can't have get/set modifier"),cr&&this.raise(Mr.start,"Constructor can't be a generator"),_r&&this.raise(Mr.start,"Constructor can't be an async method"),Wt.kind="constructor",Kr=_t):Wt.static&&Mr.type==="Identifier"&&Mr.name==="prototype"&&this.raise(Mr.start,"Classes may not have a static property named prototype"),this.parseClassMethod(Wt,cr,_r,Kr),Wt.kind==="get"&&Wt.value.params.length!==0&&this.raiseRecoverable(Wt.value.start,"getter should have no params"),Wt.kind==="set"&&Wt.value.params.length!==1&&this.raiseRecoverable(Wt.value.start,"setter should have exactly one param"),Wt.kind==="set"&&Wt.value.params[0].type==="RestElement"&&this.raiseRecoverable(Wt.value.params[0].start,"Setter cannot use rest params"),Wt},Ar.parseClassMethod=function(_t,Pt,Wt,Jt){return _t.value=this.parseMethod(Pt,Wt,Jt),this.finishNode(_t,"MethodDefinition")},Ar.parseClassId=function(_t,Pt){this.type===vt.name?(_t.id=this.parseIdent(),Pt&&this.checkLVal(_t.id,hn,!1)):(Pt===!0&&this.unexpected(),_t.id=null)},Ar.parseClassSuper=function(_t){_t.superClass=this.eat(vt._extends)?this.parseExprSubscripts():null},Ar.parseExport=function(_t,Pt){if(this.next(),this.eat(vt.star))return this.expectContextual("from"),this.type!==vt.string&&this.unexpected(),_t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(_t,"ExportAllDeclaration");if(this.eat(vt._default)){this.checkExport(Pt,"default",this.lastTokStart);var Wt;if(this.type===vt._function||(Wt=this.isAsyncFunction())){var Jt=this.startNode();this.next(),Wt&&this.next(),_t.declaration=this.parseFunction(Jt,fr|Ur,!1,Wt)}else if(this.type===vt._class){var cr=this.startNode();_t.declaration=this.parseClass(cr,"nullableID")}else _t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(_t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())_t.declaration=this.parseStatement(null),_t.declaration.type==="VariableDeclaration"?this.checkVariableExport(Pt,_t.declaration.declarations):this.checkExport(Pt,_t.declaration.id.name,_t.declaration.id.start),_t.specifiers=[],_t.source=null;else{if(_t.declaration=null,_t.specifiers=this.parseExportSpecifiers(Pt),this.eatContextual("from"))this.type!==vt.string&&this.unexpected(),_t.source=this.parseExprAtom();else{for(var _r=0,Mr=_t.specifiers;_r<Mr.length;_r+=1){var Kr=Mr[_r];this.checkUnreserved(Kr.local),this.checkLocalExport(Kr.local)}_t.source=null}this.semicolon()}return this.finishNode(_t,"ExportNamedDeclaration")},Ar.checkExport=function(_t,Pt,Wt){_t&&(Dt(_t,Pt)&&this.raiseRecoverable(Wt,"Duplicate export '"+Pt+"'"),_t[Pt]=!0)},Ar.checkPatternExport=function(_t,Pt){var Wt=Pt.type;if(Wt==="Identifier")this.checkExport(_t,Pt.name,Pt.start);else if(Wt==="ObjectPattern")for(var Jt=0,cr=Pt.properties;Jt<cr.length;Jt+=1){var _r=cr[Jt];this.checkPatternExport(_t,_r)}else if(Wt==="ArrayPattern")for(var Mr=0,Kr=Pt.elements;Mr<Kr.length;Mr+=1){var rn=Kr[Mr];rn&&this.checkPatternExport(_t,rn)}else Wt==="Property"?this.checkPatternExport(_t,Pt.value):Wt==="AssignmentPattern"?this.checkPatternExport(_t,Pt.left):Wt==="RestElement"?this.checkPatternExport(_t,Pt.argument):Wt==="ParenthesizedExpression"&&this.checkPatternExport(_t,Pt.expression)},Ar.checkVariableExport=function(_t,Pt){if(_t)for(var Wt=0,Jt=Pt;Wt<Jt.length;Wt+=1){var cr=Jt[Wt];this.checkPatternExport(_t,cr.id)}},Ar.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Ar.parseExportSpecifiers=function(_t){var Pt=[],Wt=!0;for(this.expect(vt.braceL);!this.eat(vt.braceR);){if(Wt)Wt=!1;else if(this.expect(vt.comma),this.afterTrailingComma(vt.braceR))break;var Jt=this.startNode();Jt.local=this.parseIdent(!0),Jt.exported=this.eatContextual("as")?this.parseIdent(!0):Jt.local,this.checkExport(_t,Jt.exported.name,Jt.exported.start),Pt.push(this.finishNode(Jt,"ExportSpecifier"))}return Pt},Ar.parseImport=function(_t){return this.next(),this.type===vt.string?(_t.specifiers=Yt,_t.source=this.parseExprAtom()):(_t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),_t.source=this.type===vt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(_t,"ImportDeclaration")},Ar.parseImportSpecifiers=function(){var _t=[],Pt=!0;if(this.type===vt.name){var Wt=this.startNode();if(Wt.local=this.parseIdent(),this.checkLVal(Wt.local,hn),_t.push(this.finishNode(Wt,"ImportDefaultSpecifier")),!this.eat(vt.comma))return _t}if(this.type===vt.star){var Jt=this.startNode();return this.next(),this.expectContextual("as"),Jt.local=this.parseIdent(),this.checkLVal(Jt.local,hn),_t.push(this.finishNode(Jt,"ImportNamespaceSpecifier")),_t}for(this.expect(vt.braceL);!this.eat(vt.braceR);){if(Pt)Pt=!1;else if(this.expect(vt.comma),this.afterTrailingComma(vt.braceR))break;var cr=this.startNode();cr.imported=this.parseIdent(!0),this.eatContextual("as")?cr.local=this.parseIdent():(this.checkUnreserved(cr.imported),cr.local=cr.imported),this.checkLVal(cr.local,hn),_t.push(this.finishNode(cr,"ImportSpecifier"))}return _t},Ar.adaptDirectivePrologue=function(_t){for(var Pt=0;Pt<_t.length&&this.isDirectiveCandidate(_t[Pt]);++Pt)_t[Pt].directive=_t[Pt].expression.raw.slice(1,-1)},Ar.isDirectiveCandidate=function(_t){return _t.type==="ExpressionStatement"&&_t.expression.type==="Literal"&&typeof _t.expression.value=="string"&&(this.input[_t.start]==='"'||this.input[_t.start]==="'")};var $r=dn.prototype;$r.toAssignable=function(_t,Pt,Wt){if(this.options.ecmaVersion>=6&&_t)switch(_t.type){case"Identifier":this.inAsync&&_t.name==="await"&&this.raise(_t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":_t.type="ObjectPattern",Wt&&this.checkPatternErrors(Wt,!0);for(var Jt=0,cr=_t.properties;Jt<cr.length;Jt+=1){var _r=cr[Jt];this.toAssignable(_r,Pt),_r.type==="RestElement"&&(_r.argument.type==="ArrayPattern"||_r.argument.type==="ObjectPattern")&&this.raise(_r.argument.start,"Unexpected token")}break;case"Property":_t.kind!=="init"&&this.raise(_t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(_t.value,Pt);break;case"ArrayExpression":_t.type="ArrayPattern",Wt&&this.checkPatternErrors(Wt,!0),this.toAssignableList(_t.elements,Pt);break;case"SpreadElement":_t.type="RestElement",this.toAssignable(_t.argument,Pt),_t.argument.type==="AssignmentPattern"&&this.raise(_t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":_t.operator!=="="&&this.raise(_t.left.end,"Only '=' operator can be used for specifying default value."),_t.type="AssignmentPattern",delete _t.operator,this.toAssignable(_t.left,Pt);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(_t.expression,Pt,Wt);break;case"MemberExpression":if(!Pt)break;default:this.raise(_t.start,"Assigning to rvalue")}else Wt&&this.checkPatternErrors(Wt,!0);return _t},$r.toAssignableList=function(_t,Pt){for(var Wt=_t.length,Jt=0;Jt<Wt;Jt++){var cr=_t[Jt];cr&&this.toAssignable(cr,Pt)}if(Wt){var _r=_t[Wt-1];this.options.ecmaVersion===6&&Pt&&_r&&_r.type==="RestElement"&&_r.argument.type!=="Identifier"&&this.unexpected(_r.argument.start)}return _t},$r.parseSpread=function(_t){var Pt=this.startNode();return this.next(),Pt.argument=this.parseMaybeAssign(!1,_t),this.finishNode(Pt,"SpreadElement")},$r.parseRestBinding=function(){var _t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==vt.name&&this.unexpected(),_t.argument=this.parseBindingAtom(),this.finishNode(_t,"RestElement")},$r.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case vt.bracketL:var _t=this.startNode();return this.next(),_t.elements=this.parseBindingList(vt.bracketR,!0,!0),this.finishNode(_t,"ArrayPattern");case vt.braceL:return this.parseObj(!0)}return this.parseIdent()},$r.parseBindingList=function(_t,Pt,Wt){for(var Jt=[],cr=!0;!this.eat(_t);)if(cr?cr=!1:this.expect(vt.comma),Pt&&this.type===vt.comma)Jt.push(null);else{if(Wt&&this.afterTrailingComma(_t))break;if(this.type===vt.ellipsis){var _r=this.parseRestBinding();this.parseBindingListItem(_r),Jt.push(_r),this.type===vt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(_t);break}else{var Mr=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(Mr),Jt.push(Mr)}}return Jt},$r.parseBindingListItem=function(_t){return _t},$r.parseMaybeDefault=function(_t,Pt,Wt){if(Wt=Wt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(vt.eq))return Wt;var Jt=this.startNodeAt(_t,Pt);return Jt.left=Wt,Jt.right=this.parseMaybeAssign(),this.finishNode(Jt,"AssignmentPattern")},$r.checkLVal=function(_t,Pt,Wt){switch(Pt===void 0&&(Pt=Gr),_t.type){case"Identifier":Pt===hn&&_t.name==="let"&&this.raiseRecoverable(_t.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(_t.name)&&this.raiseRecoverable(_t.start,(Pt?"Binding ":"Assigning to ")+_t.name+" in strict mode"),Wt&&(Dt(Wt,_t.name)&&this.raiseRecoverable(_t.start,"Argument name clash"),Wt[_t.name]=!0),Pt!==Gr&&Pt!==An&&this.declareName(_t.name,Pt,_t.start);break;case"MemberExpression":Pt&&this.raiseRecoverable(_t.start,"Binding member expression");break;case"ObjectPattern":for(var Jt=0,cr=_t.properties;Jt<cr.length;Jt+=1){var _r=cr[Jt];this.checkLVal(_r,Pt,Wt)}break;case"Property":this.checkLVal(_t.value,Pt,Wt);break;case"ArrayPattern":for(var Mr=0,Kr=_t.elements;Mr<Kr.length;Mr+=1){var rn=Kr[Mr];rn&&this.checkLVal(rn,Pt,Wt)}break;case"AssignmentPattern":this.checkLVal(_t.left,Pt,Wt);break;case"RestElement":this.checkLVal(_t.argument,Pt,Wt);break;case"ParenthesizedExpression":this.checkLVal(_t.expression,Pt,Wt);break;default:this.raise(_t.start,(Pt?"Binding":"Assigning to")+" rvalue")}};var Ir=dn.prototype;Ir.checkPropClash=function(_t,Pt,Wt){if(!(this.options.ecmaVersion>=9&&_t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(_t.computed||_t.method||_t.shorthand))){var Jt=_t.key,cr;switch(Jt.type){case"Identifier":cr=Jt.name;break;case"Literal":cr=String(Jt.value);break;default:return}var _r=_t.kind;if(this.options.ecmaVersion>=6){cr==="__proto__"&&_r==="init"&&(Pt.proto&&(Wt?Wt.doubleProto<0&&(Wt.doubleProto=Jt.start):this.raiseRecoverable(Jt.start,"Redefinition of __proto__ property")),Pt.proto=!0);return}cr="$"+cr;var Mr=Pt[cr];if(Mr){var Kr;_r==="init"?Kr=this.strict&&Mr.init||Mr.get||Mr.set:Kr=Mr.init||Mr[_r],Kr&&this.raiseRecoverable(Jt.start,"Redefinition of property")}else Mr=Pt[cr]={init:!1,get:!1,set:!1};Mr[_r]=!0}},Ir.parseExpression=function(_t,Pt){var Wt=this.start,Jt=this.startLoc,cr=this.parseMaybeAssign(_t,Pt);if(this.type===vt.comma){var _r=this.startNodeAt(Wt,Jt);for(_r.expressions=[cr];this.eat(vt.comma);)_r.expressions.push(this.parseMaybeAssign(_t,Pt));return this.finishNode(_r,"SequenceExpression")}return cr},Ir.parseMaybeAssign=function(_t,Pt,Wt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(_t);this.exprAllowed=!1}var Jt=!1,cr=-1,_r=-1;Pt?(cr=Pt.parenthesizedAssign,_r=Pt.trailingComma,Pt.parenthesizedAssign=Pt.trailingComma=-1):(Pt=new Br,Jt=!0);var Mr=this.start,Kr=this.startLoc;(this.type===vt.parenL||this.type===vt.name)&&(this.potentialArrowAt=this.start);var rn=this.parseMaybeConditional(_t,Pt);if(Wt&&(rn=Wt.call(this,rn,Mr,Kr)),this.type.isAssign){var kn=this.startNodeAt(Mr,Kr);return kn.operator=this.value,kn.left=this.type===vt.eq?this.toAssignable(rn,!1,Pt):rn,Jt||(Pt.parenthesizedAssign=Pt.trailingComma=Pt.doubleProto=-1),Pt.shorthandAssign>=kn.left.start&&(Pt.shorthandAssign=-1),this.checkLVal(rn),this.next(),kn.right=this.parseMaybeAssign(_t),this.finishNode(kn,"AssignmentExpression")}else Jt&&this.checkExpressionErrors(Pt,!0);return cr>-1&&(Pt.parenthesizedAssign=cr),_r>-1&&(Pt.trailingComma=_r),rn},Ir.parseMaybeConditional=function(_t,Pt){var Wt=this.start,Jt=this.startLoc,cr=this.parseExprOps(_t,Pt);if(this.checkExpressionErrors(Pt))return cr;if(this.eat(vt.question)){var _r=this.startNodeAt(Wt,Jt);return _r.test=cr,_r.consequent=this.parseMaybeAssign(),this.expect(vt.colon),_r.alternate=this.parseMaybeAssign(_t),this.finishNode(_r,"ConditionalExpression")}return cr},Ir.parseExprOps=function(_t,Pt){var Wt=this.start,Jt=this.startLoc,cr=this.parseMaybeUnary(Pt,!1);return this.checkExpressionErrors(Pt)||cr.start===Wt&&cr.type==="ArrowFunctionExpression"?cr:this.parseExprOp(cr,Wt,Jt,-1,_t)},Ir.parseExprOp=function(_t,Pt,Wt,Jt,cr){var _r=this.type.binop;if(_r!=null&&(!cr||this.type!==vt._in)&&_r>Jt){var Mr=this.type===vt.logicalOR||this.type===vt.logicalAND,Kr=this.value;this.next();var rn=this.start,kn=this.startLoc,Hn=this.parseExprOp(this.parseMaybeUnary(null,!1),rn,kn,_r,cr),as=this.buildBinary(Pt,Wt,_t,Hn,Kr,Mr);return this.parseExprOp(as,Pt,Wt,Jt,cr)}return _t},Ir.buildBinary=function(_t,Pt,Wt,Jt,cr,_r){var Mr=this.startNodeAt(_t,Pt);return Mr.left=Wt,Mr.operator=cr,Mr.right=Jt,this.finishNode(Mr,_r?"LogicalExpression":"BinaryExpression")},Ir.parseMaybeUnary=function(_t,Pt){var Wt=this.start,Jt=this.startLoc,cr;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))cr=this.parseAwait(),Pt=!0;else if(this.type.prefix){var _r=this.startNode(),Mr=this.type===vt.incDec;_r.operator=this.value,_r.prefix=!0,this.next(),_r.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(_t,!0),Mr?this.checkLVal(_r.argument):this.strict&&_r.operator==="delete"&&_r.argument.type==="Identifier"?this.raiseRecoverable(_r.start,"Deleting local variable in strict mode"):Pt=!0,cr=this.finishNode(_r,Mr?"UpdateExpression":"UnaryExpression")}else{if(cr=this.parseExprSubscripts(_t),this.checkExpressionErrors(_t))return cr;for(;this.type.postfix&&!this.canInsertSemicolon();){var Kr=this.startNodeAt(Wt,Jt);Kr.operator=this.value,Kr.prefix=!1,Kr.argument=cr,this.checkLVal(cr),this.next(),cr=this.finishNode(Kr,"UpdateExpression")}}return!Pt&&this.eat(vt.starstar)?this.buildBinary(Wt,Jt,cr,this.parseMaybeUnary(null,!1),"**",!1):cr},Ir.parseExprSubscripts=function(_t){var Pt=this.start,Wt=this.startLoc,Jt=this.parseExprAtom(_t);if(Jt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Jt;var cr=this.parseSubscripts(Jt,Pt,Wt);return _t&&cr.type==="MemberExpression"&&(_t.parenthesizedAssign>=cr.start&&(_t.parenthesizedAssign=-1),_t.parenthesizedBind>=cr.start&&(_t.parenthesizedBind=-1)),cr},Ir.parseSubscripts=function(_t,Pt,Wt,Jt){for(var cr=this.options.ecmaVersion>=8&&_t.type==="Identifier"&&_t.name==="async"&&this.lastTokEnd===_t.end&&!this.canInsertSemicolon()&&this.input.slice(_t.start,_t.end)==="async";;){var _r=this.parseSubscript(_t,Pt,Wt,Jt,cr);if(_r===_t||_r.type==="ArrowFunctionExpression")return _r;_t=_r}},Ir.parseSubscript=function(_t,Pt,Wt,Jt,cr){var _r=this.eat(vt.bracketL);if(_r||this.eat(vt.dot)){var Mr=this.startNodeAt(Pt,Wt);Mr.object=_t,Mr.property=_r?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),Mr.computed=!!_r,_r&&this.expect(vt.bracketR),_t=this.finishNode(Mr,"MemberExpression")}else if(!Jt&&this.eat(vt.parenL)){var Kr=new Br,rn=this.yieldPos,kn=this.awaitPos,Hn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var as=this.parseExprList(vt.parenR,this.options.ecmaVersion>=8,!1,Kr);if(cr&&!this.canInsertSemicolon()&&this.eat(vt.arrow))return this.checkPatternErrors(Kr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=rn,this.awaitPos=kn,this.awaitIdentPos=Hn,this.parseArrowExpression(this.startNodeAt(Pt,Wt),as,!0);this.checkExpressionErrors(Kr,!0),this.yieldPos=rn||this.yieldPos,this.awaitPos=kn||this.awaitPos,this.awaitIdentPos=Hn||this.awaitIdentPos;var os=this.startNodeAt(Pt,Wt);os.callee=_t,os.arguments=as,_t=this.finishNode(os,"CallExpression")}else if(this.type===vt.backQuote){var ls=this.startNodeAt(Pt,Wt);ls.tag=_t,ls.quasi=this.parseTemplate({isTagged:!0}),_t=this.finishNode(ls,"TaggedTemplateExpression")}return _t},Ir.parseExprAtom=function(_t){this.type===vt.slash&&this.readRegexp();var Pt,Wt=this.potentialArrowAt===this.start;switch(this.type){case vt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Pt=this.startNode(),this.next(),this.type===vt.parenL&&!this.allowDirectSuper&&this.raise(Pt.start,"super() call outside constructor of a subclass"),this.type!==vt.dot&&this.type!==vt.bracketL&&this.type!==vt.parenL&&this.unexpected(),this.finishNode(Pt,"Super");case vt._this:return Pt=this.startNode(),this.next(),this.finishNode(Pt,"ThisExpression");case vt.name:var Jt=this.start,cr=this.startLoc,_r=this.containsEsc,Mr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!_r&&Mr.name==="async"&&!this.canInsertSemicolon()&&this.eat(vt._function))return this.parseFunction(this.startNodeAt(Jt,cr),0,!1,!0);if(Wt&&!this.canInsertSemicolon()){if(this.eat(vt.arrow))return this.parseArrowExpression(this.startNodeAt(Jt,cr),[Mr],!1);if(this.options.ecmaVersion>=8&&Mr.name==="async"&&this.type===vt.name&&!_r)return Mr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(vt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Jt,cr),[Mr],!0)}return Mr;case vt.regexp:var Kr=this.value;return Pt=this.parseLiteral(Kr.value),Pt.regex={pattern:Kr.pattern,flags:Kr.flags},Pt;case vt.num:case vt.string:return this.parseLiteral(this.value);case vt._null:case vt._true:case vt._false:return Pt=this.startNode(),Pt.value=this.type===vt._null?null:this.type===vt._true,Pt.raw=this.type.keyword,this.next(),this.finishNode(Pt,"Literal");case vt.parenL:var rn=this.start,kn=this.parseParenAndDistinguishExpression(Wt);return _t&&(_t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(kn)&&(_t.parenthesizedAssign=rn),_t.parenthesizedBind<0&&(_t.parenthesizedBind=rn)),kn;case vt.bracketL:return Pt=this.startNode(),this.next(),Pt.elements=this.parseExprList(vt.bracketR,!0,!0,_t),this.finishNode(Pt,"ArrayExpression");case vt.braceL:return this.parseObj(!1,_t);case vt._function:return Pt=this.startNode(),this.next(),this.parseFunction(Pt,0);case vt._class:return this.parseClass(this.startNode(),!1);case vt._new:return this.parseNew();case vt.backQuote:return this.parseTemplate();case vt._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Ir.parseExprImport=function(){var _t=this.startNode();switch(this.next(),this.type){case vt.parenL:return this.parseDynamicImport(_t);default:this.unexpected()}},Ir.parseDynamicImport=function(_t){if(this.next(),_t.source=this.parseMaybeAssign(),!this.eat(vt.parenR)){var Pt=this.start;this.eat(vt.comma)&&this.eat(vt.parenR)?this.raiseRecoverable(Pt,"Trailing comma is not allowed in import()"):this.unexpected(Pt)}return this.finishNode(_t,"ImportExpression")},Ir.parseLiteral=function(_t){var Pt=this.startNode();return Pt.value=_t,Pt.raw=this.input.slice(this.start,this.end),Pt.raw.charCodeAt(Pt.raw.length-1)===110&&(Pt.bigint=Pt.raw.slice(0,-1)),this.next(),this.finishNode(Pt,"Literal")},Ir.parseParenExpression=function(){this.expect(vt.parenL);var _t=this.parseExpression();return this.expect(vt.parenR),_t},Ir.parseParenAndDistinguishExpression=function(_t){var Pt=this.start,Wt=this.startLoc,Jt,cr=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var _r=this.start,Mr=this.startLoc,Kr=[],rn=!0,kn=!1,Hn=new Br,as=this.yieldPos,os=this.awaitPos,ls;for(this.yieldPos=0,this.awaitPos=0;this.type!==vt.parenR;)if(rn?rn=!1:this.expect(vt.comma),cr&&this.afterTrailingComma(vt.parenR,!0)){kn=!0;break}else if(this.type===vt.ellipsis){ls=this.start,Kr.push(this.parseParenItem(this.parseRestBinding())),this.type===vt.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else Kr.push(this.parseMaybeAssign(!1,Hn,this.parseParenItem));var Ls=this.start,xn=this.startLoc;if(this.expect(vt.parenR),_t&&!this.canInsertSemicolon()&&this.eat(vt.arrow))return this.checkPatternErrors(Hn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=as,this.awaitPos=os,this.parseParenArrowList(Pt,Wt,Kr);(!Kr.length||kn)&&this.unexpected(this.lastTokStart),ls&&this.unexpected(ls),this.checkExpressionErrors(Hn,!0),this.yieldPos=as||this.yieldPos,this.awaitPos=os||this.awaitPos,Kr.length>1?(Jt=this.startNodeAt(_r,Mr),Jt.expressions=Kr,this.finishNodeAt(Jt,"SequenceExpression",Ls,xn)):Jt=Kr[0]}else Jt=this.parseParenExpression();if(this.options.preserveParens){var gs=this.startNodeAt(Pt,Wt);return gs.expression=Jt,this.finishNode(gs,"ParenthesizedExpression")}else return Jt},Ir.parseParenItem=function(_t){return _t},Ir.parseParenArrowList=function(_t,Pt,Wt){return this.parseArrowExpression(this.startNodeAt(_t,Pt),Wt)};var Xr=[];Ir.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var _t=this.startNode(),Pt=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(vt.dot)){_t.meta=Pt;var Wt=this.containsEsc;return _t.property=this.parseIdent(!0),(_t.property.name!=="target"||Wt)&&this.raiseRecoverable(_t.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(_t.start,"new.target can only be used in functions"),this.finishNode(_t,"MetaProperty")}var Jt=this.start,cr=this.startLoc,_r=this.type===vt._import;return _t.callee=this.parseSubscripts(this.parseExprAtom(),Jt,cr,!0),_r&&_t.callee.type==="ImportExpression"&&this.raise(Jt,"Cannot use new with import()"),this.eat(vt.parenL)?_t.arguments=this.parseExprList(vt.parenR,this.options.ecmaVersion>=8,!1):_t.arguments=Xr,this.finishNode(_t,"NewExpression")},Ir.parseTemplateElement=function(_t){var Pt=_t.isTagged,Wt=this.startNode();return this.type===vt.invalidTemplate?(Pt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Wt.value={raw:this.value,cooked:null}):Wt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Wt.tail=this.type===vt.backQuote,this.finishNode(Wt,"TemplateElement")},Ir.parseTemplate=function(_t){_t===void 0&&(_t={});var Pt=_t.isTagged;Pt===void 0&&(Pt=!1);var Wt=this.startNode();this.next(),Wt.expressions=[];var Jt=this.parseTemplateElement({isTagged:Pt});for(Wt.quasis=[Jt];!Jt.tail;)this.type===vt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(vt.dollarBraceL),Wt.expressions.push(this.parseExpression()),this.expect(vt.braceR),Wt.quasis.push(Jt=this.parseTemplateElement({isTagged:Pt}));return this.next(),this.finishNode(Wt,"TemplateLiteral")},Ir.isAsyncProp=function(_t){return!_t.computed&&_t.key.type==="Identifier"&&_t.key.name==="async"&&(this.type===vt.name||this.type===vt.num||this.type===vt.string||this.type===vt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===vt.star)&&!Et.test(this.input.slice(this.lastTokEnd,this.start))},Ir.parseObj=function(_t,Pt){var Wt=this.startNode(),Jt=!0,cr={};for(Wt.properties=[],this.next();!this.eat(vt.braceR);){if(Jt)Jt=!1;else if(this.expect(vt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(vt.braceR))break;var _r=this.parseProperty(_t,Pt);_t||this.checkPropClash(_r,cr,Pt),Wt.properties.push(_r)}return this.finishNode(Wt,_t?"ObjectPattern":"ObjectExpression")},Ir.parseProperty=function(_t,Pt){var Wt=this.startNode(),Jt,cr,_r,Mr;if(this.options.ecmaVersion>=9&&this.eat(vt.ellipsis))return _t?(Wt.argument=this.parseIdent(!1),this.type===vt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Wt,"RestElement")):(this.type===vt.parenL&&Pt&&(Pt.parenthesizedAssign<0&&(Pt.parenthesizedAssign=this.start),Pt.parenthesizedBind<0&&(Pt.parenthesizedBind=this.start)),Wt.argument=this.parseMaybeAssign(!1,Pt),this.type===vt.comma&&Pt&&Pt.trailingComma<0&&(Pt.trailingComma=this.start),this.finishNode(Wt,"SpreadElement"));this.options.ecmaVersion>=6&&(Wt.method=!1,Wt.shorthand=!1,(_t||Pt)&&(_r=this.start,Mr=this.startLoc),_t||(Jt=this.eat(vt.star)));var Kr=this.containsEsc;return this.parsePropertyName(Wt),!_t&&!Kr&&this.options.ecmaVersion>=8&&!Jt&&this.isAsyncProp(Wt)?(cr=!0,Jt=this.options.ecmaVersion>=9&&this.eat(vt.star),this.parsePropertyName(Wt,Pt)):cr=!1,this.parsePropertyValue(Wt,_t,Jt,cr,_r,Mr,Pt,Kr),this.finishNode(Wt,"Property")},Ir.parsePropertyValue=function(_t,Pt,Wt,Jt,cr,_r,Mr,Kr){if((Wt||Jt)&&this.type===vt.colon&&this.unexpected(),this.eat(vt.colon))_t.value=Pt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Mr),_t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===vt.parenL)Pt&&this.unexpected(),_t.kind="init",_t.method=!0,_t.value=this.parseMethod(Wt,Jt);else if(!Pt&&!Kr&&this.options.ecmaVersion>=5&&!_t.computed&&_t.key.type==="Identifier"&&(_t.key.name==="get"||_t.key.name==="set")&&this.type!==vt.comma&&this.type!==vt.braceR){(Wt||Jt)&&this.unexpected(),_t.kind=_t.key.name,this.parsePropertyName(_t),_t.value=this.parseMethod(!1);var rn=_t.kind==="get"?0:1;if(_t.value.params.length!==rn){var kn=_t.value.start;_t.kind==="get"?this.raiseRecoverable(kn,"getter should have no params"):this.raiseRecoverable(kn,"setter should have exactly one param")}else _t.kind==="set"&&_t.value.params[0].type==="RestElement"&&this.raiseRecoverable(_t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!_t.computed&&_t.key.type==="Identifier"?((Wt||Jt)&&this.unexpected(),this.checkUnreserved(_t.key),_t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=cr),_t.kind="init",Pt?_t.value=this.parseMaybeDefault(cr,_r,_t.key):this.type===vt.eq&&Mr?(Mr.shorthandAssign<0&&(Mr.shorthandAssign=this.start),_t.value=this.parseMaybeDefault(cr,_r,_t.key)):_t.value=_t.key,_t.shorthand=!0):this.unexpected()},Ir.parsePropertyName=function(_t){if(this.options.ecmaVersion>=6){if(this.eat(vt.bracketL))return _t.computed=!0,_t.key=this.parseMaybeAssign(),this.expect(vt.bracketR),_t.key;_t.computed=!1}return _t.key=this.type===vt.num||this.type===vt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Ir.initFunction=function(_t){_t.id=null,this.options.ecmaVersion>=6&&(_t.generator=_t.expression=!1),this.options.ecmaVersion>=8&&(_t.async=!1)},Ir.parseMethod=function(_t,Pt,Wt){var Jt=this.startNode(),cr=this.yieldPos,_r=this.awaitPos,Mr=this.awaitIdentPos;return this.initFunction(Jt),this.options.ecmaVersion>=6&&(Jt.generator=_t),this.options.ecmaVersion>=8&&(Jt.async=!!Pt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(vr(Pt,Jt.generator)|Cr|(Wt?kr:0)),this.expect(vt.parenL),Jt.params=this.parseBindingList(vt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Jt,!1,!0),this.yieldPos=cr,this.awaitPos=_r,this.awaitIdentPos=Mr,this.finishNode(Jt,"FunctionExpression")},Ir.parseArrowExpression=function(_t,Pt,Wt){var Jt=this.yieldPos,cr=this.awaitPos,_r=this.awaitIdentPos;return this.enterScope(vr(Wt,!1)|ar),this.initFunction(_t),this.options.ecmaVersion>=8&&(_t.async=!!Wt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,_t.params=this.toAssignableList(Pt,!0),this.parseFunctionBody(_t,!0,!1),this.yieldPos=Jt,this.awaitPos=cr,this.awaitIdentPos=_r,this.finishNode(_t,"ArrowFunctionExpression")},Ir.parseFunctionBody=function(_t,Pt,Wt){var Jt=Pt&&this.type!==vt.braceL,cr=this.strict,_r=!1;if(Jt)_t.body=this.parseMaybeAssign(),_t.expression=!0,this.checkParams(_t,!1);else{var Mr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(_t.params);(!cr||Mr)&&(_r=this.strictDirective(this.end),_r&&Mr&&this.raiseRecoverable(_t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Kr=this.labels;this.labels=[],_r&&(this.strict=!0),this.checkParams(_t,!cr&&!_r&&!Pt&&!Wt&&this.isSimpleParamList(_t.params)),_t.body=this.parseBlock(!1),_t.expression=!1,this.adaptDirectivePrologue(_t.body.body),this.labels=Kr}this.exitScope(),this.strict&&_t.id&&this.checkLVal(_t.id,An),this.strict=cr},Ir.isSimpleParamList=function(_t){for(var Pt=0,Wt=_t;Pt<Wt.length;Pt+=1){var Jt=Wt[Pt];if(Jt.type!=="Identifier")return!1}return!0},Ir.checkParams=function(_t,Pt){for(var Wt={},Jt=0,cr=_t.params;Jt<cr.length;Jt+=1){var _r=cr[Jt];this.checkLVal(_r,an,Pt?null:Wt)}},Ir.parseExprList=function(_t,Pt,Wt,Jt){for(var cr=[],_r=!0;!this.eat(_t);){if(_r)_r=!1;else if(this.expect(vt.comma),Pt&&this.afterTrailingComma(_t))break;var Mr=void 0;Wt&&this.type===vt.comma?Mr=null:this.type===vt.ellipsis?(Mr=this.parseSpread(Jt),Jt&&this.type===vt.comma&&Jt.trailingComma<0&&(Jt.trailingComma=this.start)):Mr=this.parseMaybeAssign(!1,Jt),cr.push(Mr)}return cr},Ir.checkUnreserved=function(_t){var Pt=_t.start,Wt=_t.end,Jt=_t.name;if(this.inGenerator&&Jt==="yield"&&this.raiseRecoverable(Pt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Jt==="await"&&this.raiseRecoverable(Pt,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Jt)&&this.raise(Pt,"Unexpected keyword '"+Jt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Pt,Wt).indexOf("\\")!==-1)){var cr=this.strict?this.reservedWordsStrict:this.reservedWords;cr.test(Jt)&&(!this.inAsync&&Jt==="await"&&this.raiseRecoverable(Pt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Pt,"The keyword '"+Jt+"' is reserved"))}},Ir.parseIdent=function(_t,Pt){var Wt=this.startNode();return this.type===vt.name?Wt.name=this.value:this.type.keyword?(Wt.name=this.type.keyword,(Wt.name==="class"||Wt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!_t),this.finishNode(Wt,"Identifier"),_t||(this.checkUnreserved(Wt),Wt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Wt.start)),Wt},Ir.parseYield=function(_t){this.yieldPos||(this.yieldPos=this.start);var Pt=this.startNode();return this.next(),this.type===vt.semi||this.canInsertSemicolon()||this.type!==vt.star&&!this.type.startsExpr?(Pt.delegate=!1,Pt.argument=null):(Pt.delegate=this.eat(vt.star),Pt.argument=this.parseMaybeAssign(_t)),this.finishNode(Pt,"YieldExpression")},Ir.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var _t=this.startNode();return this.next(),_t.argument=this.parseMaybeUnary(null,!1),this.finishNode(_t,"AwaitExpression")};var un=dn.prototype;un.raise=function(_t,Pt){var Wt=Ht(this.input,_t);Pt+=" ("+Wt.line+":"+Wt.column+")";var Jt=new SyntaxError(Pt);throw Jt.pos=_t,Jt.loc=Wt,Jt.raisedAt=this.pos,Jt},un.raiseRecoverable=un.raise,un.curPosition=function(){if(this.options.locations)return new Qt(this.curLine,this.pos-this.lineStart)};var Fr=dn.prototype,qr=function(Pt){this.flags=Pt,this.var=[],this.lexical=[],this.functions=[]};Fr.enterScope=function(_t){this.scopeStack.push(new qr(_t))},Fr.exitScope=function(){this.scopeStack.pop()},Fr.treatFunctionsAsVarInScope=function(_t){return _t.flags&yr||!this.inModule&&_t.flags&mr},Fr.declareName=function(_t,Pt,Wt){var Jt=!1;if(Pt===hn){var cr=this.currentScope();Jt=cr.lexical.indexOf(_t)>-1||cr.functions.indexOf(_t)>-1||cr.var.indexOf(_t)>-1,cr.lexical.push(_t),this.inModule&&cr.flags&mr&&delete this.undefinedExports[_t]}else if(Pt===Bn){var _r=this.currentScope();_r.lexical.push(_t)}else if(Pt===Mn){var Mr=this.currentScope();this.treatFunctionsAsVar?Jt=Mr.lexical.indexOf(_t)>-1:Jt=Mr.lexical.indexOf(_t)>-1||Mr.var.indexOf(_t)>-1,Mr.functions.push(_t)}else for(var Kr=this.scopeStack.length-1;Kr>=0;--Kr){var rn=this.scopeStack[Kr];if(rn.lexical.indexOf(_t)>-1&&!(rn.flags&rr&&rn.lexical[0]===_t)||!this.treatFunctionsAsVarInScope(rn)&&rn.functions.indexOf(_t)>-1){Jt=!0;break}if(rn.var.push(_t),this.inModule&&rn.flags&mr&&delete this.undefinedExports[_t],rn.flags&br)break}Jt&&this.raiseRecoverable(Wt,"Identifier '"+_t+"' has already been declared")},Fr.checkLocalExport=function(_t){this.scopeStack[0].lexical.indexOf(_t.name)===-1&&this.scopeStack[0].var.indexOf(_t.name)===-1&&(this.undefinedExports[_t.name]=_t)},Fr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Fr.currentVarScope=function(){for(var _t=this.scopeStack.length-1;;_t--){var Pt=this.scopeStack[_t];if(Pt.flags&br)return Pt}},Fr.currentThisScope=function(){for(var _t=this.scopeStack.length-1;;_t--){var Pt=this.scopeStack[_t];if(Pt.flags&br&&!(Pt.flags&ar))return Pt}};var Wr=function(Pt,Wt,Jt){this.type="",this.start=Wt,this.end=0,Pt.options.locations&&(this.loc=new Kt(Pt,Jt)),Pt.options.directSourceFile&&(this.sourceFile=Pt.options.directSourceFile),Pt.options.ranges&&(this.range=[Wt,0])},zr=dn.prototype;zr.startNode=function(){return new Wr(this,this.start,this.startLoc)},zr.startNodeAt=function(_t,Pt){return new Wr(this,_t,Pt)};function ln(_t,Pt,Wt,Jt){return _t.type=Pt,_t.end=Wt,this.options.locations&&(_t.loc.end=Jt),this.options.ranges&&(_t.range[1]=Wt),_t}zr.finishNode=function(_t,Pt){return ln.call(this,_t,Pt,this.lastTokEnd,this.lastTokEndLoc)},zr.finishNodeAt=function(_t,Pt,Wt,Jt){return ln.call(this,_t,Pt,Wt,Jt)};var Er=function(Pt,Wt,Jt,cr,_r){this.token=Pt,this.isExpr=!!Wt,this.preserveSpace=!!Jt,this.override=cr,this.generator=!!_r},mn={b_stat:new Er("{",!1),b_expr:new Er("{",!0),b_tmpl:new Er("${",!1),p_stat:new Er("(",!1),p_expr:new Er("(",!0),q_tmpl:new Er("`",!0,!0,function(_t){return _t.tryReadTemplateToken()}),f_stat:new Er("function",!1),f_expr:new Er("function",!0),f_expr_gen:new Er("function",!0,!1,null,!0),f_gen:new Er("function",!1,!1,null,!0)},Ss=dn.prototype;Ss.initialContext=function(){return[mn.b_stat]},Ss.braceIsBlock=function(_t){var Pt=this.curContext();return Pt===mn.f_expr||Pt===mn.f_stat?!0:_t===vt.colon&&(Pt===mn.b_stat||Pt===mn.b_expr)?!Pt.isExpr:_t===vt._return||_t===vt.name&&this.exprAllowed?Et.test(this.input.slice(this.lastTokEnd,this.start)):_t===vt._else||_t===vt.semi||_t===vt.eof||_t===vt.parenR||_t===vt.arrow?!0:_t===vt.braceL?Pt===mn.b_stat:_t===vt._var||_t===vt._const||_t===vt.name?!1:!this.exprAllowed},Ss.inGeneratorContext=function(){for(var _t=this.context.length-1;_t>=1;_t--){var Pt=this.context[_t];if(Pt.token==="function")return Pt.generator}return!1},Ss.updateContext=function(_t){var Pt,Wt=this.type;Wt.keyword&&_t===vt.dot?this.exprAllowed=!1:(Pt=Wt.updateContext)?Pt.call(this,_t):this.exprAllowed=Wt.beforeExpr},vt.parenR.updateContext=vt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var _t=this.context.pop();_t===mn.b_stat&&this.curContext().token==="function"&&(_t=this.context.pop()),this.exprAllowed=!_t.isExpr},vt.braceL.updateContext=function(_t){this.context.push(this.braceIsBlock(_t)?mn.b_stat:mn.b_expr),this.exprAllowed=!0},vt.dollarBraceL.updateContext=function(){this.context.push(mn.b_tmpl),this.exprAllowed=!0},vt.parenL.updateContext=function(_t){var Pt=_t===vt._if||_t===vt._for||_t===vt._with||_t===vt._while;this.context.push(Pt?mn.p_stat:mn.p_expr),this.exprAllowed=!0},vt.incDec.updateContext=function(){},vt._function.updateContext=vt._class.updateContext=function(_t){_t.beforeExpr&&_t!==vt.semi&&_t!==vt._else&&!(_t===vt._return&&Et.test(this.input.slice(this.lastTokEnd,this.start)))&&!((_t===vt.colon||_t===vt.braceL)&&this.curContext()===mn.b_stat)?this.context.push(mn.f_expr):this.context.push(mn.f_stat),this.exprAllowed=!1},vt.backQuote.updateContext=function(){this.curContext()===mn.q_tmpl?this.context.pop():this.context.push(mn.q_tmpl),this.exprAllowed=!1},vt.star.updateContext=function(_t){if(_t===vt._function){var Pt=this.context.length-1;this.context[Pt]===mn.f_expr?this.context[Pt]=mn.f_expr_gen:this.context[Pt]=mn.f_gen}this.exprAllowed=!0},vt.name.updateContext=function(_t){var Pt=!1;this.options.ecmaVersion>=6&&_t!==vt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Pt=!0),this.exprAllowed=Pt};var ws="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Xn=ws+" Extended_Pictographic",qn=Xn,Ns={9:ws,10:Xn,11:qn},ts="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ks="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Rs=ks+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",zs=Rs+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",hs={9:ks,10:Rs,11:zs},fs={};function Os(_t){var Pt=fs[_t]={binary:Ut(Ns[_t]+" "+ts),nonBinary:{General_Category:Ut(ts),Script:Ut(hs[_t])}};Pt.nonBinary.Script_Extensions=Pt.nonBinary.Script,Pt.nonBinary.gc=Pt.nonBinary.General_Category,Pt.nonBinary.sc=Pt.nonBinary.Script,Pt.nonBinary.scx=Pt.nonBinary.Script_Extensions}Os(9),Os(10),Os(11);var nn=dn.prototype,ms=function(Pt){this.parser=Pt,this.validFlags="gim"+(Pt.options.ecmaVersion>=6?"uy":"")+(Pt.options.ecmaVersion>=9?"s":""),this.unicodeProperties=fs[Pt.options.ecmaVersion>=11?11:Pt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};ms.prototype.reset=function(Pt,Wt,Jt){var cr=Jt.indexOf("u")!==-1;this.start=Pt|0,this.source=Wt+"",this.flags=Jt,this.switchU=cr&&this.parser.options.ecmaVersion>=6,this.switchN=cr&&this.parser.options.ecmaVersion>=9},ms.prototype.raise=function(Pt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Pt)},ms.prototype.at=function(Pt){var Wt=this.source,Jt=Wt.length;if(Pt>=Jt)return-1;var cr=Wt.charCodeAt(Pt);if(!this.switchU||cr<=55295||cr>=57344||Pt+1>=Jt)return cr;var _r=Wt.charCodeAt(Pt+1);return _r>=56320&&_r<=57343?(cr<<10)+_r-56613888:cr},ms.prototype.nextIndex=function(Pt){var Wt=this.source,Jt=Wt.length;if(Pt>=Jt)return Jt;var cr=Wt.charCodeAt(Pt),_r;return!this.switchU||cr<=55295||cr>=57344||Pt+1>=Jt||(_r=Wt.charCodeAt(Pt+1))<56320||_r>57343?Pt+1:Pt+2},ms.prototype.current=function(){return this.at(this.pos)},ms.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},ms.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},ms.prototype.eat=function(Pt){return this.current()===Pt?(this.advance(),!0):!1};function js(_t){return _t<=65535?String.fromCharCode(_t):(_t-=65536,String.fromCharCode((_t>>10)+55296,(_t&1023)+56320))}nn.validateRegExpFlags=function(_t){for(var Pt=_t.validFlags,Wt=_t.flags,Jt=0;Jt<Wt.length;Jt++){var cr=Wt.charAt(Jt);Pt.indexOf(cr)===-1&&this.raise(_t.start,"Invalid regular expression flag"),Wt.indexOf(cr,Jt+1)>-1&&this.raise(_t.start,"Duplicate regular expression flag")}},nn.validateRegExpPattern=function(_t){this.regexp_pattern(_t),!_t.switchN&&this.options.ecmaVersion>=9&&_t.groupNames.length>0&&(_t.switchN=!0,this.regexp_pattern(_t))},nn.regexp_pattern=function(_t){_t.pos=0,_t.lastIntValue=0,_t.lastStringValue="",_t.lastAssertionIsQuantifiable=!1,_t.numCapturingParens=0,_t.maxBackReference=0,_t.groupNames.length=0,_t.backReferenceNames.length=0,this.regexp_disjunction(_t),_t.pos!==_t.source.length&&(_t.eat(41)&&_t.raise("Unmatched ')'"),(_t.eat(93)||_t.eat(125))&&_t.raise("Lone quantifier brackets")),_t.maxBackReference>_t.numCapturingParens&&_t.raise("Invalid escape");for(var Pt=0,Wt=_t.backReferenceNames;Pt<Wt.length;Pt+=1){var Jt=Wt[Pt];_t.groupNames.indexOf(Jt)===-1&&_t.raise("Invalid named capture referenced")}},nn.regexp_disjunction=function(_t){for(this.regexp_alternative(_t);_t.eat(124);)this.regexp_alternative(_t);this.regexp_eatQuantifier(_t,!0)&&_t.raise("Nothing to repeat"),_t.eat(123)&&_t.raise("Lone quantifier brackets")},nn.regexp_alternative=function(_t){for(;_t.pos<_t.source.length&&this.regexp_eatTerm(_t););},nn.regexp_eatTerm=function(_t){return this.regexp_eatAssertion(_t)?(_t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(_t)&&_t.switchU&&_t.raise("Invalid quantifier"),!0):(_t.switchU?this.regexp_eatAtom(_t):this.regexp_eatExtendedAtom(_t))?(this.regexp_eatQuantifier(_t),!0):!1},nn.regexp_eatAssertion=function(_t){var Pt=_t.pos;if(_t.lastAssertionIsQuantifiable=!1,_t.eat(94)||_t.eat(36))return!0;if(_t.eat(92)){if(_t.eat(66)||_t.eat(98))return!0;_t.pos=Pt}if(_t.eat(40)&&_t.eat(63)){var Wt=!1;if(this.options.ecmaVersion>=9&&(Wt=_t.eat(60)),_t.eat(61)||_t.eat(33))return this.regexp_disjunction(_t),_t.eat(41)||_t.raise("Unterminated group"),_t.lastAssertionIsQuantifiable=!Wt,!0}return _t.pos=Pt,!1},nn.regexp_eatQuantifier=function(_t,Pt){return Pt===void 0&&(Pt=!1),this.regexp_eatQuantifierPrefix(_t,Pt)?(_t.eat(63),!0):!1},nn.regexp_eatQuantifierPrefix=function(_t,Pt){return _t.eat(42)||_t.eat(43)||_t.eat(63)||this.regexp_eatBracedQuantifier(_t,Pt)},nn.regexp_eatBracedQuantifier=function(_t,Pt){var Wt=_t.pos;if(_t.eat(123)){var Jt=0,cr=-1;if(this.regexp_eatDecimalDigits(_t)&&(Jt=_t.lastIntValue,_t.eat(44)&&this.regexp_eatDecimalDigits(_t)&&(cr=_t.lastIntValue),_t.eat(125)))return cr!==-1&&cr<Jt&&!Pt&&_t.raise("numbers out of order in {} quantifier"),!0;_t.switchU&&!Pt&&_t.raise("Incomplete quantifier"),_t.pos=Wt}return!1},nn.regexp_eatAtom=function(_t){return this.regexp_eatPatternCharacters(_t)||_t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_t)||this.regexp_eatCharacterClass(_t)||this.regexp_eatUncapturingGroup(_t)||this.regexp_eatCapturingGroup(_t)},nn.regexp_eatReverseSolidusAtomEscape=function(_t){var Pt=_t.pos;if(_t.eat(92)){if(this.regexp_eatAtomEscape(_t))return!0;_t.pos=Pt}return!1},nn.regexp_eatUncapturingGroup=function(_t){var Pt=_t.pos;if(_t.eat(40)){if(_t.eat(63)&&_t.eat(58)){if(this.regexp_disjunction(_t),_t.eat(41))return!0;_t.raise("Unterminated group")}_t.pos=Pt}return!1},nn.regexp_eatCapturingGroup=function(_t){if(_t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(_t):_t.current()===63&&_t.raise("Invalid group"),this.regexp_disjunction(_t),_t.eat(41))return _t.numCapturingParens+=1,!0;_t.raise("Unterminated group")}return!1},nn.regexp_eatExtendedAtom=function(_t){return _t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_t)||this.regexp_eatCharacterClass(_t)||this.regexp_eatUncapturingGroup(_t)||this.regexp_eatCapturingGroup(_t)||this.regexp_eatInvalidBracedQuantifier(_t)||this.regexp_eatExtendedPatternCharacter(_t)},nn.regexp_eatInvalidBracedQuantifier=function(_t){return this.regexp_eatBracedQuantifier(_t,!0)&&_t.raise("Nothing to repeat"),!1},nn.regexp_eatSyntaxCharacter=function(_t){var Pt=_t.current();return $s(Pt)?(_t.lastIntValue=Pt,_t.advance(),!0):!1};function $s(_t){return _t===36||_t>=40&&_t<=43||_t===46||_t===63||_t>=91&&_t<=94||_t>=123&&_t<=125}nn.regexp_eatPatternCharacters=function(_t){for(var Pt=_t.pos,Wt=0;(Wt=_t.current())!==-1&&!$s(Wt);)_t.advance();return _t.pos!==Pt},nn.regexp_eatExtendedPatternCharacter=function(_t){var Pt=_t.current();return Pt!==-1&&Pt!==36&&!(Pt>=40&&Pt<=43)&&Pt!==46&&Pt!==63&&Pt!==91&&Pt!==94&&Pt!==124?(_t.advance(),!0):!1},nn.regexp_groupSpecifier=function(_t){if(_t.eat(63)){if(this.regexp_eatGroupName(_t)){_t.groupNames.indexOf(_t.lastStringValue)!==-1&&_t.raise("Duplicate capture group name"),_t.groupNames.push(_t.lastStringValue);return}_t.raise("Invalid group")}},nn.regexp_eatGroupName=function(_t){if(_t.lastStringValue="",_t.eat(60)){if(this.regexp_eatRegExpIdentifierName(_t)&&_t.eat(62))return!0;_t.raise("Invalid capture group name")}return!1},nn.regexp_eatRegExpIdentifierName=function(_t){if(_t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(_t)){for(_t.lastStringValue+=js(_t.lastIntValue);this.regexp_eatRegExpIdentifierPart(_t);)_t.lastStringValue+=js(_t.lastIntValue);return!0}return!1},nn.regexp_eatRegExpIdentifierStart=function(_t){var Pt=_t.pos,Wt=_t.current();return _t.advance(),Wt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(_t)&&(Wt=_t.lastIntValue),ns(Wt)?(_t.lastIntValue=Wt,!0):(_t.pos=Pt,!1)};function ns(_t){return ft(_t,!0)||_t===36||_t===95}nn.regexp_eatRegExpIdentifierPart=function(_t){var Pt=_t.pos,Wt=_t.current();return _t.advance(),Wt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(_t)&&(Wt=_t.lastIntValue),Qs(Wt)?(_t.lastIntValue=Wt,!0):(_t.pos=Pt,!1)};function Qs(_t){return ct(_t,!0)||_t===36||_t===95||_t===8204||_t===8205}nn.regexp_eatAtomEscape=function(_t){return this.regexp_eatBackReference(_t)||this.regexp_eatCharacterClassEscape(_t)||this.regexp_eatCharacterEscape(_t)||_t.switchN&&this.regexp_eatKGroupName(_t)?!0:(_t.switchU&&(_t.current()===99&&_t.raise("Invalid unicode escape"),_t.raise("Invalid escape")),!1)},nn.regexp_eatBackReference=function(_t){var Pt=_t.pos;if(this.regexp_eatDecimalEscape(_t)){var Wt=_t.lastIntValue;if(_t.switchU)return Wt>_t.maxBackReference&&(_t.maxBackReference=Wt),!0;if(Wt<=_t.numCapturingParens)return!0;_t.pos=Pt}return!1},nn.regexp_eatKGroupName=function(_t){if(_t.eat(107)){if(this.regexp_eatGroupName(_t))return _t.backReferenceNames.push(_t.lastStringValue),!0;_t.raise("Invalid named reference")}return!1},nn.regexp_eatCharacterEscape=function(_t){return this.regexp_eatControlEscape(_t)||this.regexp_eatCControlLetter(_t)||this.regexp_eatZero(_t)||this.regexp_eatHexEscapeSequence(_t)||this.regexp_eatRegExpUnicodeEscapeSequence(_t)||!_t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(_t)||this.regexp_eatIdentityEscape(_t)},nn.regexp_eatCControlLetter=function(_t){var Pt=_t.pos;if(_t.eat(99)){if(this.regexp_eatControlLetter(_t))return!0;_t.pos=Pt}return!1},nn.regexp_eatZero=function(_t){return _t.current()===48&&!As(_t.lookahead())?(_t.lastIntValue=0,_t.advance(),!0):!1},nn.regexp_eatControlEscape=function(_t){var Pt=_t.current();return Pt===116?(_t.lastIntValue=9,_t.advance(),!0):Pt===110?(_t.lastIntValue=10,_t.advance(),!0):Pt===118?(_t.lastIntValue=11,_t.advance(),!0):Pt===102?(_t.lastIntValue=12,_t.advance(),!0):Pt===114?(_t.lastIntValue=13,_t.advance(),!0):!1},nn.regexp_eatControlLetter=function(_t){var Pt=_t.current();return Us(Pt)?(_t.lastIntValue=Pt%32,_t.advance(),!0):!1};function Us(_t){return _t>=65&&_t<=90||_t>=97&&_t<=122}nn.regexp_eatRegExpUnicodeEscapeSequence=function(_t){var Pt=_t.pos;if(_t.eat(117)){if(this.regexp_eatFixedHexDigits(_t,4)){var Wt=_t.lastIntValue;if(_t.switchU&&Wt>=55296&&Wt<=56319){var Jt=_t.pos;if(_t.eat(92)&&_t.eat(117)&&this.regexp_eatFixedHexDigits(_t,4)){var cr=_t.lastIntValue;if(cr>=56320&&cr<=57343)return _t.lastIntValue=(Wt-55296)*1024+(cr-56320)+65536,!0}_t.pos=Jt,_t.lastIntValue=Wt}return!0}if(_t.switchU&&_t.eat(123)&&this.regexp_eatHexDigits(_t)&&_t.eat(125)&&Zs(_t.lastIntValue))return!0;_t.switchU&&_t.raise("Invalid unicode escape"),_t.pos=Pt}return!1};function Zs(_t){return _t>=0&&_t<=1114111}nn.regexp_eatIdentityEscape=function(_t){if(_t.switchU)return this.regexp_eatSyntaxCharacter(_t)?!0:_t.eat(47)?(_t.lastIntValue=47,!0):!1;var Pt=_t.current();return Pt!==99&&(!_t.switchN||Pt!==107)?(_t.lastIntValue=Pt,_t.advance(),!0):!1},nn.regexp_eatDecimalEscape=function(_t){_t.lastIntValue=0;var Pt=_t.current();if(Pt>=49&&Pt<=57){do _t.lastIntValue=10*_t.lastIntValue+(Pt-48),_t.advance();while((Pt=_t.current())>=48&&Pt<=57);return!0}return!1},nn.regexp_eatCharacterClassEscape=function(_t){var Pt=_t.current();if(Js(Pt))return _t.lastIntValue=-1,_t.advance(),!0;if(_t.switchU&&this.options.ecmaVersion>=9&&(Pt===80||Pt===112)){if(_t.lastIntValue=-1,_t.advance(),_t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(_t)&&_t.eat(125))return!0;_t.raise("Invalid property name")}return!1};function Js(_t){return _t===100||_t===68||_t===115||_t===83||_t===119||_t===87}nn.regexp_eatUnicodePropertyValueExpression=function(_t){var Pt=_t.pos;if(this.regexp_eatUnicodePropertyName(_t)&&_t.eat(61)){var Wt=_t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(_t)){var Jt=_t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(_t,Wt,Jt),!0}}if(_t.pos=Pt,this.regexp_eatLoneUnicodePropertyNameOrValue(_t)){var cr=_t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(_t,cr),!0}return!1},nn.regexp_validateUnicodePropertyNameAndValue=function(_t,Pt,Wt){Dt(_t.unicodeProperties.nonBinary,Pt)||_t.raise("Invalid property name"),_t.unicodeProperties.nonBinary[Pt].test(Wt)||_t.raise("Invalid property value")},nn.regexp_validateUnicodePropertyNameOrValue=function(_t,Pt){_t.unicodeProperties.binary.test(Pt)||_t.raise("Invalid property name")},nn.regexp_eatUnicodePropertyName=function(_t){var Pt=0;for(_t.lastStringValue="";Ws(Pt=_t.current());)_t.lastStringValue+=js(Pt),_t.advance();return _t.lastStringValue!==""};function Ws(_t){return Us(_t)||_t===95}nn.regexp_eatUnicodePropertyValue=function(_t){var Pt=0;for(_t.lastStringValue="";ps(Pt=_t.current());)_t.lastStringValue+=js(Pt),_t.advance();return _t.lastStringValue!==""};function ps(_t){return Ws(_t)||As(_t)}nn.regexp_eatLoneUnicodePropertyNameOrValue=function(_t){return this.regexp_eatUnicodePropertyValue(_t)},nn.regexp_eatCharacterClass=function(_t){if(_t.eat(91)){if(_t.eat(94),this.regexp_classRanges(_t),_t.eat(93))return!0;_t.raise("Unterminated character class")}return!1},nn.regexp_classRanges=function(_t){for(;this.regexp_eatClassAtom(_t);){var Pt=_t.lastIntValue;if(_t.eat(45)&&this.regexp_eatClassAtom(_t)){var Wt=_t.lastIntValue;_t.switchU&&(Pt===-1||Wt===-1)&&_t.raise("Invalid character class"),Pt!==-1&&Wt!==-1&&Pt>Wt&&_t.raise("Range out of order in character class")}}},nn.regexp_eatClassAtom=function(_t){var Pt=_t.pos;if(_t.eat(92)){if(this.regexp_eatClassEscape(_t))return!0;if(_t.switchU){var Wt=_t.current();(Wt===99||Hs(Wt))&&_t.raise("Invalid class escape"),_t.raise("Invalid escape")}_t.pos=Pt}var Jt=_t.current();return Jt!==93?(_t.lastIntValue=Jt,_t.advance(),!0):!1},nn.regexp_eatClassEscape=function(_t){var Pt=_t.pos;if(_t.eat(98))return _t.lastIntValue=8,!0;if(_t.switchU&&_t.eat(45))return _t.lastIntValue=45,!0;if(!_t.switchU&&_t.eat(99)){if(this.regexp_eatClassControlLetter(_t))return!0;_t.pos=Pt}return this.regexp_eatCharacterClassEscape(_t)||this.regexp_eatCharacterEscape(_t)},nn.regexp_eatClassControlLetter=function(_t){var Pt=_t.current();return As(Pt)||Pt===95?(_t.lastIntValue=Pt%32,_t.advance(),!0):!1},nn.regexp_eatHexEscapeSequence=function(_t){var Pt=_t.pos;if(_t.eat(120)){if(this.regexp_eatFixedHexDigits(_t,2))return!0;_t.switchU&&_t.raise("Invalid escape"),_t.pos=Pt}return!1},nn.regexp_eatDecimalDigits=function(_t){var Pt=_t.pos,Wt=0;for(_t.lastIntValue=0;As(Wt=_t.current());)_t.lastIntValue=10*_t.lastIntValue+(Wt-48),_t.advance();return _t.pos!==Pt};function As(_t){return _t>=48&&_t<=57}nn.regexp_eatHexDigits=function(_t){var Pt=_t.pos,Wt=0;for(_t.lastIntValue=0;Ms(Wt=_t.current());)_t.lastIntValue=16*_t.lastIntValue+_s(Wt),_t.advance();return _t.pos!==Pt};function Ms(_t){return _t>=48&&_t<=57||_t>=65&&_t<=70||_t>=97&&_t<=102}function _s(_t){return _t>=65&&_t<=70?10+(_t-65):_t>=97&&_t<=102?10+(_t-97):_t-48}nn.regexp_eatLegacyOctalEscapeSequence=function(_t){if(this.regexp_eatOctalDigit(_t)){var Pt=_t.lastIntValue;if(this.regexp_eatOctalDigit(_t)){var Wt=_t.lastIntValue;Pt<=3&&this.regexp_eatOctalDigit(_t)?_t.lastIntValue=Pt*64+Wt*8+_t.lastIntValue:_t.lastIntValue=Pt*8+Wt}else _t.lastIntValue=Pt;return!0}return!1},nn.regexp_eatOctalDigit=function(_t){var Pt=_t.current();return Hs(Pt)?(_t.lastIntValue=Pt-48,_t.advance(),!0):(_t.lastIntValue=0,!1)};function Hs(_t){return _t>=48&&_t<=55}nn.regexp_eatFixedHexDigits=function(_t,Pt){var Wt=_t.pos;_t.lastIntValue=0;for(var Jt=0;Jt<Pt;++Jt){var cr=_t.current();if(!Ms(cr))return _t.pos=Wt,!1;_t.lastIntValue=16*_t.lastIntValue+_s(cr),_t.advance()}return!0};var ds=function(Pt){this.type=Pt.type,this.value=Pt.value,this.start=Pt.start,this.end=Pt.end,Pt.options.locations&&(this.loc=new Kt(Pt,Pt.startLoc,Pt.endLoc)),Pt.options.ranges&&(this.range=[Pt.start,Pt.end])},vn=dn.prototype;vn.next=function(_t){!_t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ds(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},vn.getToken=function(){return this.next(),new ds(this)},typeof Symbol<"u"&&(vn[Symbol.iterator]=function(){var _t=this;return{next:function(){var Pt=_t.getToken();return{done:Pt.type===vt.eof,value:Pt}}}}),vn.curContext=function(){return this.context[this.context.length-1]},vn.nextToken=function(){var _t=this.curContext();if((!_t||!_t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(vt.eof);if(_t.override)return _t.override(this);this.readToken(this.fullCharCodeAtPos())},vn.readToken=function(_t){return ft(_t,this.options.ecmaVersion>=6)||_t===92?this.readWord():this.getTokenFromCode(_t)},vn.fullCharCodeAtPos=function(){var _t=this.input.charCodeAt(this.pos);if(_t<=55295||_t>=57344)return _t;var Pt=this.input.charCodeAt(this.pos+1);return(_t<<10)+Pt-56613888},vn.skipBlockComment=function(){var _t=this.options.onComment&&this.curPosition(),Pt=this.pos,Wt=this.input.indexOf("*/",this.pos+=2);if(Wt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Wt+2,this.options.locations){$t.lastIndex=Pt;for(var Jt;(Jt=$t.exec(this.input))&&Jt.index<this.pos;)++this.curLine,this.lineStart=Jt.index+Jt[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(Pt+2,Wt),Pt,this.pos,_t,this.curPosition())},vn.skipLineComment=function(_t){for(var Pt=this.pos,Wt=this.options.onComment&&this.curPosition(),Jt=this.input.charCodeAt(this.pos+=_t);this.pos<this.input.length&&!Tt(Jt);)Jt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Pt+_t,this.pos),Pt,this.pos,Wt,this.curPosition())},vn.skipSpace=function(){e:for(;this.pos<this.input.length;){var _t=this.input.charCodeAt(this.pos);switch(_t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(_t>8&&_t<14||_t>=5760&&At.test(String.fromCharCode(_t)))++this.pos;else break e}}},vn.finishToken=function(_t,Pt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Wt=this.type;this.type=_t,this.value=Pt,this.updateContext(Wt)},vn.readToken_dot=function(){var _t=this.input.charCodeAt(this.pos+1);if(_t>=48&&_t<=57)return this.readNumber(!0);var Pt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&_t===46&&Pt===46?(this.pos+=3,this.finishToken(vt.ellipsis)):(++this.pos,this.finishToken(vt.dot))},vn.readToken_slash=function(){var _t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):_t===61?this.finishOp(vt.assign,2):this.finishOp(vt.slash,1)},vn.readToken_mult_modulo_exp=function(_t){var Pt=this.input.charCodeAt(this.pos+1),Wt=1,Jt=_t===42?vt.star:vt.modulo;return this.options.ecmaVersion>=7&&_t===42&&Pt===42&&(++Wt,Jt=vt.starstar,Pt=this.input.charCodeAt(this.pos+2)),Pt===61?this.finishOp(vt.assign,Wt+1):this.finishOp(Jt,Wt)},vn.readToken_pipe_amp=function(_t){var Pt=this.input.charCodeAt(this.pos+1);return Pt===_t?this.finishOp(_t===124?vt.logicalOR:vt.logicalAND,2):Pt===61?this.finishOp(vt.assign,2):this.finishOp(_t===124?vt.bitwiseOR:vt.bitwiseAND,1)},vn.readToken_caret=function(){var _t=this.input.charCodeAt(this.pos+1);return _t===61?this.finishOp(vt.assign,2):this.finishOp(vt.bitwiseXOR,1)},vn.readToken_plus_min=function(_t){var Pt=this.input.charCodeAt(this.pos+1);return Pt===_t?Pt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Et.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(vt.incDec,2):Pt===61?this.finishOp(vt.assign,2):this.finishOp(vt.plusMin,1)},vn.readToken_lt_gt=function(_t){var Pt=this.input.charCodeAt(this.pos+1),Wt=1;return Pt===_t?(Wt=_t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Wt)===61?this.finishOp(vt.assign,Wt+1):this.finishOp(vt.bitShift,Wt)):Pt===33&&_t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Pt===61&&(Wt=2),this.finishOp(vt.relational,Wt))},vn.readToken_eq_excl=function(_t){var Pt=this.input.charCodeAt(this.pos+1);return Pt===61?this.finishOp(vt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):_t===61&&Pt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(vt.arrow)):this.finishOp(_t===61?vt.eq:vt.prefix,1)},vn.getTokenFromCode=function(_t){switch(_t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(vt.parenL);case 41:return++this.pos,this.finishToken(vt.parenR);case 59:return++this.pos,this.finishToken(vt.semi);case 44:return++this.pos,this.finishToken(vt.comma);case 91:return++this.pos,this.finishToken(vt.bracketL);case 93:return++this.pos,this.finishToken(vt.bracketR);case 123:return++this.pos,this.finishToken(vt.braceL);case 125:return++this.pos,this.finishToken(vt.braceR);case 58:return++this.pos,this.finishToken(vt.colon);case 63:return++this.pos,this.finishToken(vt.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(vt.backQuote);case 48:var Pt=this.input.charCodeAt(this.pos+1);if(Pt===120||Pt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Pt===111||Pt===79)return this.readRadixNumber(8);if(Pt===98||Pt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(_t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(_t);case 124:case 38:return this.readToken_pipe_amp(_t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(_t);case 60:case 62:return this.readToken_lt_gt(_t);case 61:case 33:return this.readToken_eq_excl(_t);case 126:return this.finishOp(vt.prefix,1)}this.raise(this.pos,"Unexpected character '"+Zr(_t)+"'")},vn.finishOp=function(_t,Pt){var Wt=this.input.slice(this.pos,this.pos+Pt);return this.pos+=Pt,this.finishToken(_t,Wt)},vn.readRegexp=function(){for(var _t,Pt,Wt=this.pos;;){this.pos>=this.input.length&&this.raise(Wt,"Unterminated regular expression");var Jt=this.input.charAt(this.pos);if(Et.test(Jt)&&this.raise(Wt,"Unterminated regular expression"),_t)_t=!1;else{if(Jt==="[")Pt=!0;else if(Jt==="]"&&Pt)Pt=!1;else if(Jt==="/"&&!Pt)break;_t=Jt==="\\"}++this.pos}var cr=this.input.slice(Wt,this.pos);++this.pos;var _r=this.pos,Mr=this.readWord1();this.containsEsc&&this.unexpected(_r);var Kr=this.regexpState||(this.regexpState=new ms(this));Kr.reset(Wt,cr,Mr),this.validateRegExpFlags(Kr),this.validateRegExpPattern(Kr);var rn=null;try{rn=new RegExp(cr,Mr)}catch{}return this.finishToken(vt.regexp,{pattern:cr,flags:Mr,value:rn})},vn.readInt=function(_t,Pt){for(var Wt=this.pos,Jt=0,cr=0,_r=Pt??1/0;cr<_r;++cr){var Mr=this.input.charCodeAt(this.pos),Kr=void 0;if(Mr>=97?Kr=Mr-97+10:Mr>=65?Kr=Mr-65+10:Mr>=48&&Mr<=57?Kr=Mr-48:Kr=1/0,Kr>=_t)break;++this.pos,Jt=Jt*_t+Kr}return this.pos===Wt||Pt!=null&&this.pos-Wt!==Pt?null:Jt},vn.readRadixNumber=function(_t){var Pt=this.pos;this.pos+=2;var Wt=this.readInt(_t);return Wt==null&&this.raise(this.start+2,"Expected number in radix "+_t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Wt=typeof BigInt<"u"?BigInt(this.input.slice(Pt,this.pos)):null,++this.pos):ft(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(vt.num,Wt)},vn.readNumber=function(_t){var Pt=this.pos;!_t&&this.readInt(10)===null&&this.raise(Pt,"Invalid number");var Wt=this.pos-Pt>=2&&this.input.charCodeAt(Pt)===48;Wt&&this.strict&&this.raise(Pt,"Invalid number");var Jt=this.input.charCodeAt(this.pos);if(!Wt&&!_t&&this.options.ecmaVersion>=11&&Jt===110){var cr=this.input.slice(Pt,this.pos),_r=typeof BigInt<"u"?BigInt(cr):null;return++this.pos,ft(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(vt.num,_r)}Wt&&/[89]/.test(this.input.slice(Pt,this.pos))&&(Wt=!1),Jt===46&&!Wt&&(++this.pos,this.readInt(10),Jt=this.input.charCodeAt(this.pos)),(Jt===69||Jt===101)&&!Wt&&(Jt=this.input.charCodeAt(++this.pos),(Jt===43||Jt===45)&&++this.pos,this.readInt(10)===null&&this.raise(Pt,"Invalid number")),ft(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Mr=this.input.slice(Pt,this.pos),Kr=Wt?parseInt(Mr,8):parseFloat(Mr);return this.finishToken(vt.num,Kr)},vn.readCodePoint=function(){var _t=this.input.charCodeAt(this.pos),Pt;if(_t===123){this.options.ecmaVersion<6&&this.unexpected();var Wt=++this.pos;Pt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Pt>1114111&&this.invalidStringToken(Wt,"Code point out of bounds")}else Pt=this.readHexChar(4);return Pt};function Zr(_t){return _t<=65535?String.fromCharCode(_t):(_t-=65536,String.fromCharCode((_t>>10)+55296,(_t&1023)+56320))}vn.readString=function(_t){for(var Pt="",Wt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Jt=this.input.charCodeAt(this.pos);if(Jt===_t)break;Jt===92?(Pt+=this.input.slice(Wt,this.pos),Pt+=this.readEscapedChar(!1),Wt=this.pos):(Tt(Jt,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Pt+=this.input.slice(Wt,this.pos++),this.finishToken(vt.string,Pt)};var Yr={};vn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(_t){if(_t===Yr)this.readInvalidTemplateToken();else throw _t}this.inTemplateElement=!1},vn.invalidStringToken=function(_t,Pt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Yr;this.raise(_t,Pt)},vn.readTmplToken=function(){for(var _t="",Pt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Wt=this.input.charCodeAt(this.pos);if(Wt===96||Wt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===vt.template||this.type===vt.invalidTemplate)?Wt===36?(this.pos+=2,this.finishToken(vt.dollarBraceL)):(++this.pos,this.finishToken(vt.backQuote)):(_t+=this.input.slice(Pt,this.pos),this.finishToken(vt.template,_t));if(Wt===92)_t+=this.input.slice(Pt,this.pos),_t+=this.readEscapedChar(!0),Pt=this.pos;else if(Tt(Wt)){switch(_t+=this.input.slice(Pt,this.pos),++this.pos,Wt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:_t+=`
`;break;default:_t+=String.fromCharCode(Wt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Pt=this.pos}else++this.pos}},vn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(vt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},vn.readEscapedChar=function(_t){var Pt=this.input.charCodeAt(++this.pos);switch(++this.pos,Pt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Zr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(_t){var Wt=this.pos-1;return this.invalidStringToken(Wt,"Invalid escape sequence in template string"),null}default:if(Pt>=48&&Pt<=55){var Jt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],cr=parseInt(Jt,8);return cr>255&&(Jt=Jt.slice(0,-1),cr=parseInt(Jt,8)),this.pos+=Jt.length-1,Pt=this.input.charCodeAt(this.pos),(Jt!=="0"||Pt===56||Pt===57)&&(this.strict||_t)&&this.invalidStringToken(this.pos-1-Jt.length,_t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(cr)}return Tt(Pt)?"":String.fromCharCode(Pt)}},vn.readHexChar=function(_t){var Pt=this.pos,Wt=this.readInt(16,_t);return Wt===null&&this.invalidStringToken(Pt,"Bad character escape sequence"),Wt},vn.readWord1=function(){this.containsEsc=!1;for(var _t="",Pt=!0,Wt=this.pos,Jt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var cr=this.fullCharCodeAtPos();if(ct(cr,Jt))this.pos+=cr<=65535?1:2;else if(cr===92){this.containsEsc=!0,_t+=this.input.slice(Wt,this.pos);var _r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Mr=this.readCodePoint();(Pt?ft:ct)(Mr,Jt)||this.invalidStringToken(_r,"Invalid Unicode escape"),_t+=Zr(Mr),Wt=this.pos}else break;Pt=!1}return _t+this.input.slice(Wt,this.pos)},vn.readWord=function(){var _t=this.readWord1(),Pt=vt.name;return this.keywords.test(_t)&&(Pt=wt[_t]),this.finishToken(Pt,_t)};var Zn="7.1.0";dn.acorn={Parser:dn,version:Zn,defaultOptions:qt,Position:Qt,SourceLocation:Kt,getLineInfo:Ht,Node:Wr,TokenType:mt,tokTypes:vt,keywordTypes:wt,TokContext:Er,tokContexts:mn,isIdentifierChar:ct,isIdentifierStart:ft,Token:ds,isNewLine:Tt,lineBreak:Et,lineBreakG:$t,nonASCIIwhitespace:At};function ss(_t,Pt){return dn.parse(_t,Pt)}function uo(_t,Pt,Wt){return dn.parseExpressionAt(_t,Pt,Wt)}function na(_t,Pt){return dn.tokenizer(_t,Pt)}et.Node=Wr,et.Parser=dn,et.Position=Qt,et.SourceLocation=Kt,et.TokContext=Er,et.Token=ds,et.TokenType=mt,et.defaultOptions=qt,et.getLineInfo=Ht,et.isIdentifierChar=ct,et.isIdentifierStart=ft,et.isNewLine=Tt,et.keywordTypes=wt,et.lineBreak=Et,et.lineBreakG=$t,et.nonASCIIwhitespace=At,et.parse=ss,et.parseExpressionAt=uo,et.tokContexts=mn,et.tokTypes=vt,et.tokenizer=na,et.version=Zn,Object.defineProperty(et,"__esModule",{value:!0})})},{}],2:[function(a,o,rt){},{}],3:[function(a,o,rt){function et(j,_={}){const{contextName:$="gl",throwGetError:tt,useTrackablePrimitives:st,readPixelsFile:lt,recording:ht=[],variables:ft={},onReadPixels:ct,onUnrecognizedArgumentLookup:mt}=_,gt=new Proxy(j,{get:Et}),yt=[],ut={};let wt=0,bt="",vt;return gt;function Et(Ht,qt){switch(qt){case"addComment":return Dt;case"checkThrowError":return Vt;case"getReadPixelsVariableName":return vt;case"insertVariable":return At;case"reset":return Tt;case"setIndent":return It;case"toString":return $t;case"getContextVariableName":return Kt}return typeof j[qt]=="function"?function(){switch(qt){case"getError":return tt?ht.push(`${bt}if (${$}.getError() !== ${$}.NONE) throw new Error('error');`):ht.push(`${bt}${$}.getError();`),j.getError();case"getExtension":{const br=`${$}Variables${yt.length}`;ht.push(`${bt}const ${br} = ${$}.getExtension('${arguments[0]}');`);const xr=j.getExtension(arguments[0]);if(xr&&typeof xr=="object"){const sr=at(xr,{getEntity:Ct,useTrackablePrimitives:st,recording:ht,contextName:br,contextVariables:yt,variables:ft,indent:bt,onUnrecognizedArgumentLookup:mt});return yt.push(sr),sr}else yt.push(null);return xr}case"readPixels":const tr=yt.indexOf(arguments[6]);let mr;if(tr===-1){const br=Qt(arguments[6]);br?(mr=br,ht.push(`${bt}${br}`)):(mr=`${$}Variable${yt.length}`,yt.push(arguments[6]),ht.push(`${bt}const ${mr} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else mr=`${$}Variable${tr}`;vt=mr;const yr=[arguments[0],arguments[1],arguments[2],arguments[3],Ct(arguments[4]),Ct(arguments[5]),mr];return ht.push(`${bt}${$}.readPixels(${yr.join(", ")});`),lt&&Ft(arguments[2],arguments[3]),ct&&ct(mr,yr),j.readPixels.apply(j,arguments);case"drawBuffers":return ht.push(`${bt}${$}.drawBuffers([${ot(arguments[0],{contextName:$,contextVariables:yt,getEntity:Ct,addVariable:Lt,variables:ft,onUnrecognizedArgumentLookup:mt})}]);`),j.drawBuffers(arguments[0])}let nr=j[qt].apply(j,arguments);switch(typeof nr){case"undefined":ht.push(`${bt}${Ut(qt,arguments)};`);return;case"number":case"boolean":if(st&&yt.indexOf(it(nr))===-1){ht.push(`${bt}const ${$}Variable${yt.length} = ${Ut(qt,arguments)};`),yt.push(nr=it(nr));break}default:nr===null?ht.push(`${Ut(qt,arguments)};`):ht.push(`${bt}const ${$}Variable${yt.length} = ${Ut(qt,arguments)};`),yt.push(nr)}return nr}:(ut[j[qt]]=qt,j[qt])}function $t(){return ht.join(`
`)}function Tt(){for(;ht.length>0;)ht.pop()}function At(Ht,qt){ft[Ht]=qt}function Ct(Ht){const qt=ut[Ht];return qt?$+"."+qt:Ht}function It(Ht){bt=" ".repeat(Ht)}function Lt(Ht,qt){const nr=`${$}Variable${yt.length}`;return ht.push(`${bt}const ${nr} = ${qt};`),yt.push(Ht),nr}function Ft(Ht,qt){const nr=`${$}Variable${yt.length}`,tr=`imageDatum${wt}`;ht.push(`${bt}let ${tr} = ["P3\\n# ${lt}.ppm\\n", ${Ht}, ' ', ${qt}, "\\n255\\n"].join("");`),ht.push(`${bt}for (let i = 0; i < ${tr}.length; i += 4) {`),ht.push(`${bt}  ${tr} += ${nr}[i] + ' ' + ${nr}[i + 1] + ' ' + ${nr}[i + 2] + ' ';`),ht.push(`${bt}}`),ht.push(`${bt}if (typeof require !== "undefined") {`),ht.push(`${bt}  require('fs').writeFileSync('./${lt}.ppm', ${tr});`),ht.push(`${bt}}`),wt++}function Dt(Ht){ht.push(`${bt}// ${Ht}`)}function Vt(){ht.push(`${bt}(() => {
${bt}const error = ${$}.getError();
${bt}if (error !== ${$}.NONE) {
${bt}  const names = Object.getOwnPropertyNames(gl);
${bt}  for (let i = 0; i < names.length; i++) {
${bt}    const name = names[i];
${bt}    if (${$}[name] === error) {
${bt}      throw new Error('${$} threw ' + name);
${bt}    }
${bt}  }
${bt}}
${bt}})();`)}function Ut(Ht,qt){return`${$}.${Ht}(${ot(qt,{contextName:$,contextVariables:yt,getEntity:Ct,addVariable:Lt,variables:ft,onUnrecognizedArgumentLookup:mt})})`}function Qt(Ht){if(ft){for(const qt in ft)if(ft[qt]===Ht)return qt}return null}function Kt(Ht){const qt=yt.indexOf(Ht);return qt!==-1?`${$}Variable${qt}`:null}}function at(j,_){const $=new Proxy(j,{get:ut}),tt={},{contextName:st,contextVariables:lt,getEntity:ht,useTrackablePrimitives:ft,recording:ct,variables:mt,indent:gt,onUnrecognizedArgumentLookup:yt}=_;return $;function ut(Et,$t){return typeof Et[$t]=="function"?function(){switch($t){case"drawBuffersWEBGL":return ct.push(`${gt}${st}.drawBuffersWEBGL([${ot(arguments[0],{contextName:st,contextVariables:lt,getEntity:wt,addVariable:vt,variables:mt,onUnrecognizedArgumentLookup:yt})}]);`),j.drawBuffersWEBGL(arguments[0])}let Tt=j[$t].apply(j,arguments);switch(typeof Tt){case"undefined":ct.push(`${gt}${bt($t,arguments)};`);return;case"number":case"boolean":ft&&lt.indexOf(it(Tt))===-1?(ct.push(`${gt}const ${st}Variable${lt.length} = ${bt($t,arguments)};`),lt.push(Tt=it(Tt))):(ct.push(`${gt}const ${st}Variable${lt.length} = ${bt($t,arguments)};`),lt.push(Tt));break;default:Tt===null?ct.push(`${bt($t,arguments)};`):ct.push(`${gt}const ${st}Variable${lt.length} = ${bt($t,arguments)};`),lt.push(Tt)}return Tt}:(tt[j[$t]]=$t,j[$t])}function wt(Et){return tt.hasOwnProperty(Et)?`${st}.${tt[Et]}`:ht(Et)}function bt(Et,$t){return`${st}.${Et}(${ot($t,{contextName:st,contextVariables:lt,getEntity:wt,addVariable:vt,variables:mt,onUnrecognizedArgumentLookup:yt})})`}function vt(Et,$t){const Tt=`${st}Variable${lt.length}`;return lt.push(Et),ct.push(`${gt}const ${Tt} = ${$t};`),Tt}}function ot(j,_){const{variables:$,onUnrecognizedArgumentLookup:tt}=_;return Array.from(j).map(lt=>{const ht=st(lt);return ht||nt(lt,_)}).join(", ");function st(lt){if($){for(const ht in $)if($.hasOwnProperty(ht)&&$[ht]===lt)return ht}return tt?tt(lt):null}}function nt(j,_){const{contextName:$,contextVariables:tt,getEntity:st,addVariable:lt,onUnrecognizedArgumentLookup:ht}=_;if(typeof j>"u")return"undefined";if(j===null)return"null";const ft=tt.indexOf(j);if(ft>-1)return`${$}Variable${ft}`;switch(j.constructor.name){case"String":const ct=/\n/.test(j),mt=/'/.test(j),gt=/"/.test(j);return ct?"`"+j+"`":mt&&!gt?'"'+j+'"':"'"+j+"'";case"Number":return st(j);case"Boolean":return st(j);case"Array":return lt(j,`new ${j.constructor.name}([${Array.from(j).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return lt(j,`new ${j.constructor.name}(${JSON.stringify(Array.from(j))})`);default:if(ht){const yt=ht(j);if(yt)return yt}throw new Error(`unrecognized argument type ${j.constructor.name}`)}}function it(j){return new j.constructor(j)}typeof o<"u"&&(o.exports={glWiretap:et,glExtensionWiretap:at}),typeof window<"u"&&(et.glExtensionWiretap=at,window.glWiretap=et)},{}],4:[function(a,o,rt){function et(lt){const ht=new Array(lt.length);for(let ft=0;ft<lt.length;ft++){const ct=lt[ft];ct.toArray?ht[ft]=ct.toArray():ht[ft]=ct}return ht}function at(){const lt=et(arguments),ht=new Float32Array(this.output.x);for(let ft=0;ft<this.output.x;ft++)this.thread.x=ft,this.thread.y=0,this.thread.z=0,ht[ft]=this._fn.apply(this,lt);return ht}function ot(){const lt=et(arguments),ht=new Array(this.output.y);for(let ft=0;ft<this.output.y;ft++){const ct=new Float32Array(this.output.x);for(let mt=0;mt<this.output.x;mt++)this.thread.x=mt,this.thread.y=ft,this.thread.z=0,ct[mt]=this._fn.apply(this,lt);ht[ft]=ct}return ht}function nt(){const lt=et(arguments);for(let ht=0;ht<this.output.y;ht++)for(let ft=0;ft<this.output.x;ft++)this.thread.x=ft,this.thread.y=ht,this.thread.z=0,this._fn.apply(this,lt)}function it(){const lt=et(arguments),ht=new Array(this.output.z);for(let ft=0;ft<this.output.z;ft++){const ct=new Array(this.output.y);for(let mt=0;mt<this.output.y;mt++){const gt=new Float32Array(this.output.x);for(let yt=0;yt<this.output.x;yt++)this.thread.x=yt,this.thread.y=mt,this.thread.z=ft,gt[yt]=this._fn.apply(this,lt);ct[mt]=gt}ht[ft]=ct}return ht}function j(lt){lt.setOutput=ct=>{lt.output=$(ct),lt.graphical&&_(lt)},lt.toJSON=()=>{throw new Error("Not usable with gpuMock")},lt.setConstants=ct=>(lt.constants=ct,lt),lt.setGraphical=ct=>(lt.graphical=ct,lt),lt.setCanvas=ct=>(lt.canvas=ct,lt),lt.setContext=ct=>(lt.context=ct,lt),lt.destroy=()=>{},lt.validateSettings=()=>{},lt.graphical&&lt.output&&_(lt),lt.exec=function(){return new Promise((ct,mt)=>{try{ct(lt.apply(lt,arguments))}catch(gt){mt(gt)}})},lt.getPixels=ct=>{const{x:mt,y:gt}=lt.output;return ct?st(lt._imageData.data,mt,gt):lt._imageData.data.slice(0)},lt.color=function(ct,mt,gt,yt){typeof yt>"u"&&(yt=1),ct=Math.floor(ct*255),mt=Math.floor(mt*255),gt=Math.floor(gt*255),yt=Math.floor(yt*255);const ut=lt.output.x,wt=lt.output.y,bt=lt.thread.x,vt=wt-lt.thread.y-1,Et=bt+vt*ut;lt._colorData[Et*4+0]=ct,lt._colorData[Et*4+1]=mt,lt._colorData[Et*4+2]=gt,lt._colorData[Et*4+3]=yt};const ht=()=>lt,ft=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let ct=0;ct<ft.length;ct++)lt[ft[ct]]=ht;return lt}function _(lt){const{x:ht,y:ft}=lt.output;if(lt.context&&lt.context.createImageData){const ct=new Uint8ClampedArray(ht*ft*4);lt._imageData=lt.context.createImageData(ht,ft),lt._colorData=ct}else{const ct=new Uint8ClampedArray(ht*ft*4);lt._imageData={data:ct},lt._colorData=ct}}function $(lt){let ht=null;if(lt.length)if(lt.length===3){const[ft,ct,mt]=lt;ht={x:ft,y:ct,z:mt}}else if(lt.length===2){const[ft,ct]=lt;ht={x:ft,y:ct}}else{const[ft]=lt;ht={x:ft}}else ht=lt;return ht}function tt(lt,ht={}){const ft=ht.output?$(ht.output):null;function ct(){return ct.output.z?it.apply(ct,arguments):ct.output.y?ct.graphical?nt.apply(ct,arguments):ot.apply(ct,arguments):at.apply(ct,arguments)}return ct._fn=lt,ct.constants=ht.constants||null,ct.context=ht.context||null,ct.canvas=ht.canvas||null,ct.graphical=ht.graphical||!1,ct._imageData=null,ct._colorData=null,ct.output=ft,ct.thread={x:0,y:0,z:0},j(ct)}function st(lt,ht,ft){const ct=ft/2|0,mt=ht*4,gt=new Uint8ClampedArray(ht*4),yt=lt.slice(0);for(let ut=0;ut<ct;++ut){const wt=ut*mt,bt=(ft-ut-1)*mt;gt.set(yt.subarray(wt,wt+mt)),yt.copyWithin(wt,bt,bt+mt),yt.set(gt,bt)}return yt}o.exports={gpuMock:tt}},{}],5:[function(a,o,rt){const{utils:et}=a("./utils");function at(ot,nt){const it=nt.toString();return new Function(`return function ${ot} (${et.getArgumentNamesFromString(it).join(", ")}) {
  ${et.getFunctionBodyFromString(it)}
}`)()}o.exports={alias:at}},{"./utils":114}],6:[function(a,o,rt){const{FunctionNode:et}=a("../function-node");class at extends et{astFunction(nt,it){if(!this.isRootKernel){it.push("function"),it.push(" "),it.push(this.name),it.push("(");for(let j=0;j<this.argumentNames.length;++j){const _=this.argumentNames[j];j>0&&it.push(", "),it.push("user_"),it.push(_)}it.push(`) {
`)}for(let j=0;j<nt.body.body.length;++j)this.astGeneric(nt.body.body[j],it),it.push(`
`);return this.isRootKernel||it.push(`}
`),it}astReturnStatement(nt,it){const j=this.returnType||this.getType(nt.argument);return this.returnType||(this.returnType=j),this.isRootKernel?(it.push(this.leadingReturnStatement),this.astGeneric(nt.argument,it),it.push(`;
`),it.push(this.followingReturnStatement),it.push(`continue;
`)):this.isSubKernel?(it.push(`subKernelResult_${this.name} = `),this.astGeneric(nt.argument,it),it.push(";"),it.push(`return subKernelResult_${this.name};`)):(it.push("return "),this.astGeneric(nt.argument,it),it.push(";")),it}astLiteral(nt,it){if(isNaN(nt.value))throw this.astErrorOutput("Non-numeric literal not supported : "+nt.value,nt);return it.push(nt.value),it}astBinaryExpression(nt,it){return it.push("("),this.astGeneric(nt.left,it),it.push(nt.operator),this.astGeneric(nt.right,it),it.push(")"),it}astIdentifierExpression(nt,it){if(nt.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",nt);switch(nt.name){case"Infinity":it.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(nt.name)?it.push("constants_"+nt.name):it.push("user_"+nt.name)}return it}astForStatement(nt,it){if(nt.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",nt);const j=[],_=[],$=[],tt=[];let st=null;if(nt.init){this.pushState("in-for-loop-init"),this.astGeneric(nt.init,j);for(let lt=0;lt<j.length;lt++)j[lt].includes&&j[lt].includes(",")&&(st=!1);this.popState("in-for-loop-init")}else st=!1;if(nt.test?this.astGeneric(nt.test,_):st=!1,nt.update?this.astGeneric(nt.update,$):st=!1,nt.body&&(this.pushState("loop-body"),this.astGeneric(nt.body,tt),this.popState("loop-body")),st===null&&(st=this.isSafe(nt.init)&&this.isSafe(nt.test)),st)it.push(`for (${j.join("")};${_.join("")};${$.join("")}){
`),it.push(tt.join("")),it.push(`}
`);else{const lt=this.getInternalVariableName("safeI");j.length>0&&it.push(j.join(""),`;
`),it.push(`for (let ${lt}=0;${lt}<LOOP_MAX;${lt}++){
`),_.length>0&&it.push(`if (!${_.join("")}) break;
`),it.push(tt.join("")),it.push(`
${$.join("")};`),it.push(`}
`)}return it}astWhileStatement(nt,it){if(nt.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",nt);return it.push("for (let i = 0; i < LOOP_MAX; i++) {"),it.push("if ("),this.astGeneric(nt.test,it),it.push(`) {
`),this.astGeneric(nt.body,it),it.push(`} else {
`),it.push(`break;
`),it.push(`}
`),it.push(`}
`),it}astDoWhileStatement(nt,it){if(nt.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",nt);return it.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(nt.body,it),it.push("if (!"),this.astGeneric(nt.test,it),it.push(`) {
`),it.push(`break;
`),it.push(`}
`),it.push(`}
`),it}astAssignmentExpression(nt,it){const j=this.getDeclaration(nt.left);if(j&&!j.assignable)throw this.astErrorOutput(`Variable ${nt.left.name} is not assignable here`,nt);return this.astGeneric(nt.left,it),it.push(nt.operator),this.astGeneric(nt.right,it),it}astBlockStatement(nt,it){if(this.isState("loop-body")){this.pushState("block-body");for(let j=0;j<nt.body.length;j++)this.astGeneric(nt.body[j],it);this.popState("block-body")}else{it.push(`{
`);for(let j=0;j<nt.body.length;j++)this.astGeneric(nt.body[j],it);it.push(`}
`)}return it}astVariableDeclaration(nt,it){it.push(`${nt.kind} `);const{declarations:j}=nt;for(let _=0;_<j.length;_++){_>0&&it.push(",");const $=j[_],tt=this.getDeclaration($.id);tt.valueType||(tt.valueType=this.getType($.init)),this.astGeneric($,it)}return this.isState("in-for-loop-init")||it.push(";"),it}astIfStatement(nt,it){return it.push("if ("),this.astGeneric(nt.test,it),it.push(")"),nt.consequent.type==="BlockStatement"?this.astGeneric(nt.consequent,it):(it.push(` {
`),this.astGeneric(nt.consequent,it),it.push(`
}
`)),nt.alternate&&(it.push("else "),nt.alternate.type==="BlockStatement"||nt.alternate.type==="IfStatement"?this.astGeneric(nt.alternate,it):(it.push(` {
`),this.astGeneric(nt.alternate,it),it.push(`
}
`))),it}astSwitchStatement(nt,it){const{discriminant:j,cases:_}=nt;it.push("switch ("),this.astGeneric(j,it),it.push(`) {
`);for(let $=0;$<_.length;$++){if(_[$].test===null){it.push(`default:
`),this.astGeneric(_[$].consequent,it),_[$].consequent&&_[$].consequent.length>0&&it.push(`break;
`);continue}it.push("case "),this.astGeneric(_[$].test,it),it.push(`:
`),_[$].consequent&&_[$].consequent.length>0&&(this.astGeneric(_[$].consequent,it),it.push(`break;
`))}it.push(`
}`)}astThisExpression(nt,it){return it.push("_this"),it}astMemberExpression(nt,it){const{signature:j,type:_,property:$,xProperty:tt,yProperty:st,zProperty:lt,name:ht,origin:ft}=this.getMemberExpressionDetails(nt);switch(j){case"this.thread.value":return it.push(`_this.thread.${ht}`),it;case"this.output.value":switch(ht){case"x":it.push("outputX");break;case"y":it.push("outputY");break;case"z":it.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",nt)}return it;case"value":throw this.astErrorOutput("Unexpected expression",nt);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(ft==="Math")return it.push(Math[ht]),it;switch($){case"r":return it.push(`user_${ht}[0]`),it;case"g":return it.push(`user_${ht}[1]`),it;case"b":return it.push(`user_${ht}[2]`),it;case"a":return it.push(`user_${ht}[3]`),it}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(nt.object,it),it.push("["),this.astGeneric(nt.property,it),it.push("]"),it;case"fn()[][]":return this.astGeneric(nt.object.object,it),it.push("["),this.astGeneric(nt.object.property,it),it.push("]"),it.push("["),this.astGeneric(nt.property,it),it.push("]"),it;default:throw this.astErrorOutput("Unexpected expression",nt)}if(!nt.computed)switch(_){case"Number":case"Integer":case"Float":case"Boolean":return it.push(`${ft}_${ht}`),it}const ct=`${ft}_${ht}`;switch(_){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let mt,gt;if(ft==="constants"){const yt=this.constants[ht];gt=this.constantTypes[ht]==="Input",mt=gt?yt.size:null}else gt=this.isInput(ht),mt=gt?this.argumentSizes[this.argumentNames.indexOf(ht)]:null;it.push(`${ct}`),lt&&st?gt?(it.push("[("),this.astGeneric(lt,it),it.push(`*${this.dynamicArguments?"(outputY * outputX)":mt[1]*mt[0]})+(`),this.astGeneric(st,it),it.push(`*${this.dynamicArguments?"outputX":mt[0]})+`),this.astGeneric(tt,it),it.push("]")):(it.push("["),this.astGeneric(lt,it),it.push("]"),it.push("["),this.astGeneric(st,it),it.push("]"),it.push("["),this.astGeneric(tt,it),it.push("]")):st?gt?(it.push("[("),this.astGeneric(st,it),it.push(`*${this.dynamicArguments?"outputX":mt[0]})+`),this.astGeneric(tt,it),it.push("]")):(it.push("["),this.astGeneric(st,it),it.push("]"),it.push("["),this.astGeneric(tt,it),it.push("]")):typeof tt<"u"&&(it.push("["),this.astGeneric(tt,it),it.push("]"))}return it}astCallExpression(nt,it){if(nt.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",nt);let j=this.astMemberExpressionUnroll(nt.callee);this.calledFunctions.indexOf(j)<0&&this.calledFunctions.push(j),this.isAstMathFunction(nt),this.onFunctionCall&&this.onFunctionCall(this.name,j,nt.arguments),it.push(j),it.push("(");const _=this.lookupFunctionArgumentTypes(j)||[];for(let $=0;$<nt.arguments.length;++$){const tt=nt.arguments[$];let st=this.getType(tt);_[$]||this.triggerImplyArgumentType(j,$,st,this),$>0&&it.push(", "),this.astGeneric(tt,it)}return it.push(")"),it}astArrayExpression(nt,it){const j=this.getType(nt),_=nt.elements.length,$=[];for(let tt=0;tt<_;++tt){const st=[];this.astGeneric(nt.elements[tt],st),$.push(st.join(""))}switch(j){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":it.push(`[${$.join(", ")}]`);break;default:it.push(`new Float32Array([${$.join(", ")}])`)}return it}astDebuggerStatement(nt,it){return it.push("debugger;"),it}}o.exports={CPUFunctionNode:at}},{"../function-node":10}],7:[function(a,o,rt){const{utils:et}=a("../../utils");function at(nt,it){const j=[];for(const _ in it){if(!it.hasOwnProperty(_))continue;const $=it[_],tt=nt[_];switch($){case"Number":case"Integer":case"Float":case"Boolean":j.push(`${_}:${tt}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":j.push(`${_}:new ${tt.constructor.name}(${JSON.stringify(Array.from(tt))})`);break}}return`{ ${j.join()} }`}function ot(nt,it){const j=[],_=[],$=[],tt=!/^function/.test(nt.color.toString());if(j.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(nt.output))});`,`  const _constantTypes = ${JSON.stringify(nt.constantTypes)};`,`  const _constants = ${at(nt.constants,nt.constantTypes)};`),_.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),nt.graphical){j.push(`  const _imageData = context.createImageData(${nt.output[0]}, ${nt.output[1]});`),j.push(`  const _colorData = new Uint8ClampedArray(${nt.output[0]} * ${nt.output[1]} * 4);`);const ht=et.flattenFunctionToString((tt?"function ":"")+nt.color.toString(),{thisLookup:ct=>{switch(ct){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(nt[ct])},findDependency:(ct,mt)=>null}),ft=et.flattenFunctionToString((tt?"function ":"")+nt.getPixels.toString(),{thisLookup:ct=>{switch(ct){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(nt[ct])},findDependency:()=>null});_.push("    _imageData,","    _colorData,",`    color: ${ht},`),$.push(`  kernel.getPixels = ${ft};`)}const st=[],lt=Object.keys(nt.constantTypes);for(let ht=0;ht<lt.length;ht++)st.push(nt.constantTypes[lt]);if(nt.argumentTypes.indexOf("HTMLImageArray")!==-1||st.indexOf("HTMLImageArray")!==-1){const ht=et.flattenFunctionToString((tt?"function ":"")+nt._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(ft,ct)=>ft==="this"?(tt?"function ":"")+nt[ct].toString():null,thisLookup:ft=>{switch(ft){case"canvas":return;case"context":return"context"}}});$.push(ht),_.push("    _mediaTo2DArray,"),_.push("    _imageTo3DArray,")}else if(nt.argumentTypes.indexOf("HTMLImage")!==-1||st.indexOf("HTMLImage")!==-1){const ht=et.flattenFunctionToString((tt?"function ":"")+nt._mediaTo2DArray.toString(),{findDependency:(ft,ct)=>null,thisLookup:ft=>{switch(ft){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});$.push(ht),_.push("    _mediaTo2DArray,")}return`function(settings) {
${j.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${nt._kernelString}
  })
    .apply({ ${_.join(`
`)} });
  ${$.join(`
`)}
  return kernel;
}`}o.exports={cpuKernelString:ot}},{"../../utils":114}],8:[function(a,o,rt){const{Kernel:et}=a("../kernel"),{FunctionBuilder:at}=a("../function-builder"),{CPUFunctionNode:ot}=a("./function-node"),{utils:nt}=a("../../utils"),{cpuKernelString:it}=a("./kernel-string");class j extends et{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch($){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels($){return $}static getSignature($,tt){return"cpu"+(tt.length>0?":"+tt.join(","):"")}constructor($,tt){super($,tt),this.mergeSettings($.settings||tt),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins($){return[]}validateSettings($){if(!this.output||this.output.length===0){if($.length!==1)throw new Error("Auto output only supported for kernels with only one input");const tt=nt.getVariableType($[0],this.strictIntegers);if(tt==="Array")this.output=nt.getDimensions(tt);else if(tt==="NumberTexture"||tt==="ArrayTexture(4)")this.output=$[0].output;else throw new Error("Auto output not supported for input type: "+tt)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const tt=[];for(let st=0;st<this.subKernels.length;st++){const{name:lt}=this.subKernels[st];tt.push(this.output.length>1?`resultX_${lt}[x] = subKernelResult_${lt};
`:`result_${lt}[x] = subKernelResult_${lt};
`)}this.followingReturnStatement=tt.join("")}const $=at.fromKernel(this,ot);this.translatedSources=$.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=$.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:tt,output:st}=this;if(!tt)throw new Error("no canvas available for using graphical output");const lt=st[0],ht=st[1]||1;tt.width=lt,tt.height=ht,this._imageData=this.context.createImageData(lt,ht),this._colorData=new Uint8ClampedArray(lt*ht*4)}const $=this.getKernelString();this.kernelString=$,this.debug&&(console.log("Function output:"),console.log($));try{this.run=new Function([],$).bind(this)()}catch(tt){console.error("An error occurred compiling the javascript: ",tt)}this.buildSignature(arguments),this.built=!0}color($,tt,st,lt){typeof lt>"u"&&(lt=1),$=Math.floor($*255),tt=Math.floor(tt*255),st=Math.floor(st*255),lt=Math.floor(lt*255);const ht=this.output[0],ft=this.output[1],ct=this.thread.x,mt=ft-this.thread.y-1,gt=ct+mt*ht;this._colorData[gt*4+0]=$,this._colorData[gt*4+1]=tt,this._colorData[gt*4+2]=st,this._colorData[gt*4+3]=lt}getKernelString(){if(this._kernelString!==null)return this._kernelString;let $=null,{translatedSources:tt}=this;return tt.length>1?tt=tt.filter(st=>/^function/.test(st)?st:($=st,!1)):$=tt.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(st=>"user_"+st).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody($):this._resultKernelBody($)}
    ${tt.length>0?tt.join(`
`):""}
  };`}toString(){return it(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const $=[];for(let tt in this.constants)switch(this.constantTypes[tt]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    const constants_${tt} = this._mediaTo2DArray(this.constants.${tt});
`);break;case"HTMLImageArray":$.push(`    const constants_${tt} = this._imageTo3DArray(this.constants.${tt});
`);break;case"Input":$.push(`    const constants_${tt} = this.constants.${tt}.value;
`);break;default:$.push(`    const constants_${tt} = this.constants.${tt};
`)}return $.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const $=[];for(let st=0;st<this.argumentTypes.length;st++)this.argumentTypes[st]==="Array"&&$.push(this.argumentNames[st]);if($.length===0)return"";const tt=[];for(let st=0;st<$.length;st++){const lt=$[st],ht=this._mapSubKernels(ft=>`user_${lt} === result_${ft.name}`).join(" || ");tt.push(`user_${lt} === result${ht?` || ${ht}`:""}`)}return`if (${tt.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const $=[];for(let tt=0;tt<this.argumentTypes.length;tt++){const st=`user_${this.argumentNames[tt]}`;switch(this.argumentTypes[tt]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    ${st} = this._mediaTo2DArray(${st});
`);break;case"HTMLImageArray":$.push(`    ${st} = this._imageTo3DArray(${st});
`);break;case"Input":$.push(`    ${st} = ${st}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":$.push(`
    if (${st}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${st});
      if (textureIndex !== -1) {
        ${st} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${st});
        ${st} = ${st}.toArray();
        _this.arrayCache.push(${st});
      }
    }`);break}}return $.join("")}_mediaTo2DArray($){const tt=this.canvas,st=$.width>0?$.width:$.videoWidth,lt=$.height>0?$.height:$.videoHeight;tt.width<st&&(tt.width=st),tt.height<lt&&(tt.height=lt);const ht=this.context;let ft;$.constructor===ImageData?ft=$.data:(ht.drawImage($,0,0,st,lt),ft=ht.getImageData(0,0,st,lt).data);const ct=new Array(lt);let mt=0;for(let gt=lt-1;gt>=0;gt--){const yt=ct[gt]=new Array(st);for(let ut=0;ut<st;ut++){const wt=new Float32Array(4);wt[0]=ft[mt++]/255,wt[1]=ft[mt++]/255,wt[2]=ft[mt++]/255,wt[3]=ft[mt++]/255,yt[ut]=wt}}return ct}getPixels($){const[tt,st]=this.output;return $?nt.flipPixels(this._imageData.data,tt,st):this._imageData.data.slice(0)}_imageTo3DArray($){const tt=new Array($.length);for(let st=0;st<$.length;st++)tt[st]=this._mediaTo2DArray($[st]);return tt}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody($){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop($):this._resultImmutableKernel1DLoop($))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop($):this._resultImmutableKernel2DLoop($))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop($):this._resultImmutableKernel3DLoop($))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody($){switch(this.output.length){case 2:return this._graphicalKernel2DLoop($)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop($){const tt=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${tt}(outputX);
    ${this._mapSubKernels(st=>`const result_${st.name} = new ${tt}(outputX);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_mutableKernel1DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${$}(outputX);
    ${this._mapSubKernels(tt=>`const result_${tt.name} = new ${$}(outputX);
`).join("    ")}
    ${this._mapSubKernels(tt=>`let subKernelResult_${tt.name};
`).join("    ")}`}_resultMutableKernel1DLoop($){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_resultImmutableKernel2DLoop($){const tt=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(st=>`const result_${st.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${tt}(outputX);
      ${this._mapSubKernels(st=>`const resultX_${st.name} = result_${st.name}[y] = new ${tt}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_mutableKernel2DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(tt=>`const result_${tt.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(tt=>`let subKernelResult_${tt.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${$}(outputX);
      ${this._mapSubKernels(tt=>`const resultX_${tt.name} = result_${tt.name}[y] = new ${$}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop($){const tt=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(st=>`const resultX_${st.name} = result_${st.name}[y] = new ${tt}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_graphicalKernel2DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_resultImmutableKernel3DLoop($){const tt=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(st=>`const result_${st.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(st=>`const resultY_${st.name} = result_${st.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${tt}(outputX);
        ${this._mapSubKernels(st=>`const resultX_${st.name} = resultY_${st.name}[y] = new ${tt}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_mutableKernel3DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(tt=>`const result_${tt.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(tt=>`let subKernelResult_${tt.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(tt=>`const resultY_${tt.name} = result_${tt.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${$}(outputX);
        ${this._mapSubKernels(tt=>`const resultX_${tt.name} = resultY_${tt.name}[y] = new ${$}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map($=>`${$.property}: result_${$.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels($){return this.subKernels===null?[""]:this.subKernels.map($)}destroy($){$&&delete this.canvas}static destroyContext($){}toJSON(){const $=super.toJSON();return $.functionNodes=at.fromKernel(this,ot).toJSON(),$}setOutput($){super.setOutput($);const[tt,st]=this.output;this.graphical&&(this._imageData=this.context.createImageData(tt,st),this._colorData=new Uint8ClampedArray(tt*st*4))}prependString($){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push($)}hasPrependString($){return this._prependedString.indexOf($)>-1}}o.exports={CPUKernel:j}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(a,o,rt){class et{static fromKernel(ot,nt,it){const{kernelArguments:j,kernelConstants:_,argumentNames:$,argumentSizes:tt,argumentBitRatios:st,constants:lt,constantBitRatios:ht,debug:ft,loopMaxIterations:ct,nativeFunctions:mt,output:gt,optimizeFloatMemory:yt,precision:ut,plugins:wt,source:bt,subKernels:vt,functions:Et,leadingReturnStatement:$t,followingReturnStatement:Tt,dynamicArguments:At,dynamicOutput:Ct}=ot,It=new Array(j.length),Lt={};for(let rr=0;rr<j.length;rr++)It[rr]=j[rr].type;for(let rr=0;rr<_.length;rr++){const Cr=_[rr];Lt[Cr.name]=Cr.type}const Ft=(rr,Cr)=>ar.needsArgumentType(rr,Cr),Dt=(rr,Cr,kr)=>{ar.assignArgumentType(rr,Cr,kr)},Vt=(rr,Cr,kr)=>ar.lookupReturnType(rr,Cr,kr),Ut=rr=>ar.lookupFunctionArgumentTypes(rr),Qt=(rr,Cr)=>ar.lookupFunctionArgumentName(rr,Cr),Kt=(rr,Cr)=>ar.lookupFunctionArgumentBitRatio(rr,Cr),Ht=(rr,Cr,kr,vr)=>{ar.assignArgumentType(rr,Cr,kr,vr)},qt=(rr,Cr,kr,vr)=>{ar.assignArgumentBitRatio(rr,Cr,kr,vr)},nr=(rr,Cr,kr)=>{ar.trackFunctionCall(rr,Cr,kr)},tr=(rr,Cr)=>{const kr=[];for(let Gr=0;Gr<rr.params.length;Gr++)kr.push(rr.params[Gr].name);const vr=new nt(Cr,Object.assign({},mr,{returnType:null,ast:rr,name:rr.id.name,argumentNames:kr,lookupReturnType:Vt,lookupFunctionArgumentTypes:Ut,lookupFunctionArgumentName:Qt,lookupFunctionArgumentBitRatio:Kt,needsArgumentType:Ft,assignArgumentType:Dt,triggerImplyArgumentType:Ht,triggerImplyArgumentBitRatio:qt,onFunctionCall:nr}));vr.traceFunctionAST(rr),ar.addFunctionNode(vr)},mr=Object.assign({isRootKernel:!1,onNestedFunction:tr,lookupReturnType:Vt,lookupFunctionArgumentTypes:Ut,lookupFunctionArgumentName:Qt,lookupFunctionArgumentBitRatio:Kt,needsArgumentType:Ft,assignArgumentType:Dt,triggerImplyArgumentType:Ht,triggerImplyArgumentBitRatio:qt,onFunctionCall:nr,optimizeFloatMemory:yt,precision:ut,constants:lt,constantTypes:Lt,constantBitRatios:ht,debug:ft,loopMaxIterations:ct,output:gt,plugins:wt,dynamicArguments:At,dynamicOutput:Ct},it||{}),yr=Object.assign({},mr,{isRootKernel:!0,name:"kernel",argumentNames:$,argumentTypes:It,argumentSizes:tt,argumentBitRatios:st,leadingReturnStatement:$t,followingReturnStatement:Tt});if(typeof bt=="object"&&bt.functionNodes)return new et().fromJSON(bt.functionNodes,nt);const br=new nt(bt,yr);let xr=null;Et&&(xr=Et.map(rr=>new nt(rr.source,{returnType:rr.returnType,argumentTypes:rr.argumentTypes,output:gt,plugins:wt,constants:lt,constantTypes:Lt,constantBitRatios:ht,optimizeFloatMemory:yt,precision:ut,lookupReturnType:Vt,lookupFunctionArgumentTypes:Ut,lookupFunctionArgumentName:Qt,lookupFunctionArgumentBitRatio:Kt,needsArgumentType:Ft,assignArgumentType:Dt,triggerImplyArgumentType:Ht,triggerImplyArgumentBitRatio:qt,onFunctionCall:nr,onNestedFunction:tr})));let sr=null;vt&&(sr=vt.map(rr=>{const{name:Cr,source:kr}=rr;return new nt(kr,Object.assign({},mr,{name:Cr,isSubKernel:!0,isRootKernel:!1}))}));const ar=new et({kernel:ot,rootNode:br,functionNodes:xr,nativeFunctions:mt,subKernelNodes:sr});return ar}constructor(ot){if(ot=ot||{},this.kernel=ot.kernel,this.rootNode=ot.rootNode,this.functionNodes=ot.functionNodes||[],this.subKernelNodes=ot.subKernelNodes||[],this.nativeFunctions=ot.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let nt=0;nt<this.functionNodes.length;nt++)this.functionMap[this.functionNodes[nt].name]=this.functionNodes[nt];if(this.subKernelNodes)for(let nt=0;nt<this.subKernelNodes.length;nt++)this.functionMap[this.subKernelNodes[nt].name]=this.subKernelNodes[nt];if(this.nativeFunctions)for(let nt=0;nt<this.nativeFunctions.length;nt++){const it=this.nativeFunctions[nt];this.nativeFunctionNames.push(it.name)}}addFunctionNode(ot){if(!ot.name)throw new Error("functionNode.name needs set");this.functionMap[ot.name]=ot,ot.isRootKernel&&(this.rootNode=ot)}traceFunctionCalls(ot,nt){if(ot=ot||"kernel",nt=nt||[],this.nativeFunctionNames.indexOf(ot)>-1){const j=nt.indexOf(ot);if(j===-1)nt.push(ot);else{const _=nt.splice(j,1)[0];nt.push(_)}return nt}const it=this.functionMap[ot];if(it){const j=nt.indexOf(ot);if(j===-1){nt.push(ot),it.toString();for(let _=0;_<it.calledFunctions.length;++_)this.traceFunctionCalls(it.calledFunctions[_],nt)}else{const _=nt.splice(j,1)[0];nt.push(_)}}return nt}getPrototypeString(ot){return this.getPrototypes(ot).join(`
`)}getPrototypes(ot){return this.rootNode&&this.rootNode.toString(),ot?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(ot,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(ot){const nt=[];for(let it=0;it<ot.length;++it)this.functionMap[ot[it]]&&nt.push(this.functionMap[ot[it]].toString());return nt.join(`
`)}getPrototypesFromFunctionNames(ot){const nt=[];for(let it=0;it<ot.length;++it){const j=ot[it],_=this.nativeFunctionNames.indexOf(j);if(_>-1){nt.push(this.nativeFunctions[_].source);continue}const $=this.functionMap[j];$&&nt.push($.toString())}return nt}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(ot=>{const nt=this.nativeFunctions.indexOf(ot);if(nt>-1)return{name:ot,source:this.nativeFunctions[nt].source};if(this.functionMap[ot])return this.functionMap[ot].toJSON();throw new Error(`function ${ot} not found`)})}fromJSON(ot,nt){this.functionMap={};for(let it=0;it<ot.length;it++){const j=ot[it];this.functionMap[j.settings.name]=new nt(j.ast,j.settings)}return this}getString(ot){return ot?this.getStringFromFunctionNames(this.traceFunctionCalls(ot).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(ot,nt,it){if(nt.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${nt.type}`);if(this._isNativeFunction(ot))return this._lookupNativeFunctionReturnType(ot);if(this._isFunction(ot)){const j=this._getFunction(ot);if(j.returnType)return j.returnType;{for(let $=0;$<this.lookupChain.length;$++)if(this.lookupChain[$].ast===nt){if(j.argumentTypes.length===0&&nt.arguments.length>0){const tt=nt.arguments;for(let st=0;st<tt.length;st++)this.lookupChain.push({name:it.name,ast:tt[$],requestingNode:it}),j.argumentTypes[st]=it.getType(tt[st]),this.lookupChain.pop();return j.returnType=j.getType(j.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:it.name,ast:nt,requestingNode:it});const _=j.getType(j.getJsAST());return this.lookupChain.pop(),j.returnType=_}}return null}_getFunction(ot){return this._isFunction(ot),this.functionMap[ot]}_isFunction(ot){return!!this.functionMap[ot]}_getNativeFunction(ot){for(let nt=0;nt<this.nativeFunctions.length;nt++)if(this.nativeFunctions[nt].name===ot)return this.nativeFunctions[nt];return null}_isNativeFunction(ot){return!!this._getNativeFunction(ot)}_lookupNativeFunctionReturnType(ot){let nt=this._getNativeFunction(ot);if(nt)return nt.returnType;throw new Error(`Native function ${ot} not found`)}lookupFunctionArgumentTypes(ot){return this._isNativeFunction(ot)?this._getNativeFunction(ot).argumentTypes:this._isFunction(ot)?this._getFunction(ot).argumentTypes:null}lookupFunctionArgumentName(ot,nt){return this._getFunction(ot).argumentNames[nt]}lookupFunctionArgumentBitRatio(ot,nt){if(!this._isFunction(ot))throw new Error("function not found");if(this.rootNode.name===ot){const $=this.rootNode.argumentNames.indexOf(nt);if($!==-1)return this.rootNode.argumentBitRatios[$]}const it=this._getFunction(ot),j=it.argumentNames.indexOf(nt);if(j===-1)throw new Error("argument not found");const _=it.argumentBitRatios[j];if(typeof _!="number")throw new Error("argument bit ratio not found");return _}needsArgumentType(ot,nt){return this._isFunction(ot)?!this._getFunction(ot).argumentTypes[nt]:!1}assignArgumentType(ot,nt,it,j){if(!this._isFunction(ot))return;const _=this._getFunction(ot);_.argumentTypes[nt]||(_.argumentTypes[nt]=it)}assignArgumentBitRatio(ot,nt,it,j){const _=this._getFunction(ot);if(this._isNativeFunction(it))return null;const $=this._getFunction(it),tt=_.argumentNames.indexOf(nt);if(tt===-1)throw new Error(`Argument ${nt} not found in arguments from function ${ot}`);const st=_.argumentBitRatios[tt];if(typeof st!="number")throw new Error(`Bit ratio for argument ${nt} not found in function ${ot}`);$.argumentBitRatios||($.argumentBitRatios=new Array($.argumentNames.length));const lt=$.argumentBitRatios[tt];if(typeof lt=="number"){if(lt!==st)throw new Error(`Incompatible bit ratio found at function ${ot} at argument ${nt}`);return lt}return $.argumentBitRatios[tt]=st,st}trackFunctionCall(ot,nt,it){this.functionNodeDependencies[ot]||(this.functionNodeDependencies[ot]=new Set,this.functionCalls[ot]=[]),this.functionNodeDependencies[ot].add(nt),this.functionCalls[ot].push(it)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(ot){const nt=this.subKernelNodes[ot];let it=!1;for(let j=0;j<this.rootNode.functionCalls.length;j++)this.rootNode.functionCalls[j].ast.callee.name===nt.name&&(it=!0);if(!it)throw new Error(`SubKernel ${nt.name} never called by kernel`);return nt.returnType||nt.getType(nt.getJsAST())}getReturnTypes(){const ot={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},nt=this.traceFunctionCalls(this.rootNode.name);for(let it=0;it<nt.length;it++){const j=nt[it],_=this.functionMap[j];ot[j]=_.getType(_.ast)}return ot}}o.exports={FunctionBuilder:et}},{}],10:[function(a,o,rt){const et=a("acorn"),{utils:at}=a("../utils"),{FunctionTracer:ot}=a("./function-tracer");class nt{constructor(_,$){if(!_&&!$.ast)throw new Error("source parameter is missing");if($=$||{},this.source=_,this.ast=null,this.name=typeof _=="string"?$.isRootKernel?"kernel":$.name||at.getFunctionNameFromString(_):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?at.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,$)for(const tt in $)$.hasOwnProperty(tt)&&this.hasOwnProperty(tt)&&(this[tt]=$[tt]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!at.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(_){return this.constants?this.constants.hasOwnProperty(_):!1}isInput(_){return this.argumentTypes[this.argumentNames.indexOf(_)]==="Input"}pushState(_){this.states.push(_)}popState(_){if(this.state!==_)throw new Error(`Cannot popState ${_} when in ${this.state}`);this.states.pop()}isState(_){return this.state===_}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(_){if(_.type==="Identifier")return _.name;if(_.type==="ThisExpression")return"this";if(_.type==="MemberExpression"&&_.object&&_.property)return _.object.hasOwnProperty("name")&&_.object.name!=="Math"?this.astMemberExpressionUnroll(_.property):this.astMemberExpressionUnroll(_.object)+"."+this.astMemberExpressionUnroll(_.property);if(_.hasOwnProperty("expressions")){const $=_.expressions[0];if($.type==="Literal"&&$.value===0&&_.expressions.length===2)return this.astMemberExpressionUnroll(_.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",_)}getJsAST(_){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(_=_||et,_===null)throw new Error("Missing JS to AST parser");const $=Object.freeze(_.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),tt=$.body[0].declarations[0].init;if(this.traceFunctionAST(tt),!$)throw new Error("Failed to parse JS code");return this.ast=tt}traceFunctionAST(_){const{contexts:$,declarations:tt,functions:st,identifiers:lt,functionCalls:ht}=new ot(_);this.contexts=$,this.identifiers=lt,this.functionCalls=ht,this.functions=st;for(let ft=0;ft<tt.length;ft++){const ct=tt[ft],{ast:mt,inForLoopInit:gt,inForLoopTest:yt}=ct,{init:ut}=mt,wt=this.getDependencies(ut);let bt=null;if(gt&&yt)bt="Integer";else if(ut){const vt=this.getType(ut);switch(vt){case"Integer":case"Float":case"Number":ut.type==="MemberExpression"?bt=vt:bt="Number";break;case"LiteralInteger":bt="Number";break;default:bt=vt}}ct.valueType=bt,ct.dependencies=wt,ct.isSafe=this.isSafeDependencies(wt)}for(let ft=0;ft<st.length;ft++)this.onNestedFunction(st[ft],this.source)}getDeclaration(_){for(let $=0;$<this.identifiers.length;$++){const tt=this.identifiers[$];if(_===tt.ast)return tt.declaration}return null}getVariableType(_){if(_.type!=="Identifier")throw new Error(`ast of ${_.type} not "Identifier"`);let $=null;const tt=this.argumentNames.indexOf(_.name);if(tt===-1){const st=this.getDeclaration(_);if(st)return st.valueType}else{const st=this.argumentTypes[tt];st&&($=st)}if(!$&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return $}getLookupType(_){if(!it.hasOwnProperty(_))throw new Error(`unknown typeLookupMap ${_}`);return it[_]}getConstantType(_){if(this.constantTypes[_]){const $=this.constantTypes[_];return $==="Float"?"Number":$}throw new Error(`Type for constant "${_}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const _={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:_}}getType(_){if(Array.isArray(_))return this.getType(_[_.length-1]);switch(_.type){case"BlockStatement":return this.getType(_.body);case"ArrayExpression":switch(this.getType(_.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${_.elements.length})`}return`Array(${_.elements.length})`;case"Literal":const tt=this.astKey(_);return this.literalTypes[tt]?this.literalTypes[tt]:Number.isInteger(_.value)?"LiteralInteger":_.value===!0||_.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(_.left);case"CallExpression":if(this.isAstMathFunction(_))return"Number";if(!_.callee||!_.callee.name){if(_.callee.type==="SequenceExpression"&&_.callee.expressions[_.callee.expressions.length-1].property.name){const ct=_.callee.expressions[_.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(ct,_.arguments),this.lookupReturnType(ct,_,this)}if(this.getVariableSignature(_.callee,!0)==="this.color")return null;if(_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.property&&_.callee.property.name&&_.arguments){const ct=_.callee.property.name;return this.inferArgumentTypesIfNeeded(ct,_.arguments),this.lookupReturnType(ct,_,this)}throw this.astErrorOutput("Unknown call expression",_)}if(_.callee&&_.callee.name){const ct=_.callee.name;return this.inferArgumentTypesIfNeeded(ct,_.arguments),this.lookupReturnType(ct,_,this)}throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(_.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const st=this.getType(_.left);if(this.isState("skip-literal-correction"))return st;if(st==="LiteralInteger"){const ct=this.getType(_.right);return ct==="LiteralInteger"?_.left.value%1===0?"Integer":"Float":ct}return it[st]||st;case"UpdateExpression":return this.getType(_.argument);case"UnaryExpression":return _.operator==="~"?"Integer":this.getType(_.argument);case"VariableDeclaration":{const ct=_.declarations;let mt;for(let gt=0;gt<ct.length;gt++){const yt=ct[gt];mt=this.getType(yt)}if(!mt)throw this.astErrorOutput("Unable to find type for declaration",_);return mt}case"VariableDeclarator":const lt=this.getDeclaration(_.id);if(!lt)throw this.astErrorOutput("Unable to find declarator",_);if(!lt.valueType)throw this.astErrorOutput("Unable to find declarator valueType",_);return lt.valueType;case"Identifier":if(_.name==="Infinity")return"Number";if(this.isAstVariable(_)&&this.getVariableSignature(_)==="value")return this.getCheckVariableType(_);const ht=this.findIdentifierOrigin(_);return ht&&ht.init?this.getType(ht.init):null;case"ReturnStatement":return this.getType(_.argument);case"MemberExpression":if(this.isAstMathFunction(_)){switch(_.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(_)){switch(this.getVariableSignature(_)){case"value[]":return this.getLookupType(this.getCheckVariableType(_.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(_.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(_.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(_.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(_.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(_.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(_.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(_.object));case"value.value":if(this.isAstMathVariable(_))return"Number";switch(_.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(_.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",_)}throw this.astErrorOutput("Unhandled getType MemberExpression",_);case"ConditionalExpression":return this.getType(_.consequent);case"FunctionDeclaration":case"FunctionExpression":const ft=this.findLastReturn(_.body);return ft?this.getType(ft):null;case"IfStatement":return this.getType(_.consequent);case"SequenceExpression":return this.getType(_.expressions[_.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_)}}getCheckVariableType(_){const $=this.getVariableType(_);if(!$)throw this.astErrorOutput(`${_.type} is not defined`,_);return $}inferArgumentTypesIfNeeded(_,$){for(let tt=0;tt<$.length;tt++){if(!this.needsArgumentType(_,tt))continue;const st=this.getType($[tt]);if(!st)throw this.astErrorOutput(`Unable to infer argument ${tt}`,$[tt]);this.assignArgumentType(_,tt,st)}}isAstMathVariable(_){const $=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return _.type==="MemberExpression"&&_.object&&_.object.type==="Identifier"&&_.object.name==="Math"&&_.property&&_.property.type==="Identifier"&&$.indexOf(_.property.name)>-1}isAstMathFunction(_){const $=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return _.type==="CallExpression"&&_.callee&&_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.object.type==="Identifier"&&_.callee.object.name==="Math"&&_.callee.property&&_.callee.property.type==="Identifier"&&$.indexOf(_.callee.property.name)>-1}isAstVariable(_){return _.type==="Identifier"||_.type==="MemberExpression"}isSafe(_){return this.isSafeDependencies(this.getDependencies(_))}isSafeDependencies(_){return _&&_.every?_.every($=>$.isSafe):!0}getDependencies(_,$,tt){if($||($=[]),!_)return null;if(Array.isArray(_)){for(let st=0;st<_.length;st++)this.getDependencies(_[st],$,tt);return $}switch(_.type){case"AssignmentExpression":return this.getDependencies(_.left,$,tt),this.getDependencies(_.right,$,tt),$;case"ConditionalExpression":return this.getDependencies(_.test,$,tt),this.getDependencies(_.alternate,$,tt),this.getDependencies(_.consequent,$,tt),$;case"Literal":$.push({origin:"literal",value:_.value,isSafe:tt===!0?!1:_.value>-1/0&&_.value<1/0&&!isNaN(_.value)});break;case"VariableDeclarator":return this.getDependencies(_.init,$,tt);case"Identifier":const st=this.getDeclaration(_);if(st)$.push({name:_.name,origin:"declaration",isSafe:tt?!1:this.isSafeDependencies(st.dependencies)});else if(this.argumentNames.indexOf(_.name)>-1)$.push({name:_.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${_.name}"`);break;case"FunctionDeclaration":return this.getDependencies(_.body.body[_.body.body.length-1],$,tt);case"ReturnStatement":return this.getDependencies(_.argument,$);case"BinaryExpression":case"LogicalExpression":return tt=_.operator==="/"||_.operator==="*",this.getDependencies(_.left,$,tt),this.getDependencies(_.right,$,tt),$;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(_.argument,$,tt);case"VariableDeclaration":return this.getDependencies(_.declarations,$,tt);case"ArrayExpression":return $.push({origin:"declaration",isSafe:!0}),$;case"CallExpression":return $.push({origin:"function",isSafe:!0}),$;case"MemberExpression":const lt=this.getMemberExpressionDetails(_);switch(lt.signature){case"value[]":this.getDependencies(_.object,$,tt);break;case"value[][]":this.getDependencies(_.object.object,$,tt);break;case"value[][][]":this.getDependencies(_.object.object.object,$,tt);break;case"this.output.value":this.dynamicOutput&&$.push({name:lt.name,origin:"output",isSafe:!1});break}if(lt)return lt.property&&this.getDependencies(lt.property,$,tt),lt.xProperty&&this.getDependencies(lt.xProperty,$,tt),lt.yProperty&&this.getDependencies(lt.yProperty,$,tt),lt.zProperty&&this.getDependencies(lt.zProperty,$,tt),$;case"SequenceExpression":return this.getDependencies(_.expressions,$,tt);default:throw this.astErrorOutput(`Unhandled type ${_.type} in getDependencies`,_)}return $}getVariableSignature(_,$){if(!this.isAstVariable(_))throw new Error(`ast of type "${_.type}" is not a variable signature`);if(_.type==="Identifier")return"value";const tt=[];for(;_;)_.computed?tt.push("[]"):_.type==="ThisExpression"?tt.unshift("this"):_.property&&_.property.name?_.property.name==="x"||_.property.name==="y"||_.property.name==="z"?tt.unshift($?"."+_.property.name:".value"):_.property.name==="constants"||_.property.name==="thread"||_.property.name==="output"?tt.unshift("."+_.property.name):tt.unshift($?"."+_.property.name:".value"):_.name?tt.unshift($?_.name:"value"):_.callee&&_.callee.name?tt.unshift($?_.callee.name+"()":"fn()"):_.elements?tt.unshift("[]"):tt.unshift("unknown"),_=_.object;const st=tt.join("");return $||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(st)>-1?st:null}build(){return this.toString().length>0}astGeneric(_,$){if(_===null)throw this.astErrorOutput("NULL ast",_);if(Array.isArray(_)){for(let tt=0;tt<_.length;tt++)this.astGeneric(_[tt],$);return $}switch(_.type){case"FunctionDeclaration":return this.astFunctionDeclaration(_,$);case"FunctionExpression":return this.astFunctionExpression(_,$);case"ReturnStatement":return this.astReturnStatement(_,$);case"Literal":return this.astLiteral(_,$);case"BinaryExpression":return this.astBinaryExpression(_,$);case"Identifier":return this.astIdentifierExpression(_,$);case"AssignmentExpression":return this.astAssignmentExpression(_,$);case"ExpressionStatement":return this.astExpressionStatement(_,$);case"EmptyStatement":return this.astEmptyStatement(_,$);case"BlockStatement":return this.astBlockStatement(_,$);case"IfStatement":return this.astIfStatement(_,$);case"SwitchStatement":return this.astSwitchStatement(_,$);case"BreakStatement":return this.astBreakStatement(_,$);case"ContinueStatement":return this.astContinueStatement(_,$);case"ForStatement":return this.astForStatement(_,$);case"WhileStatement":return this.astWhileStatement(_,$);case"DoWhileStatement":return this.astDoWhileStatement(_,$);case"VariableDeclaration":return this.astVariableDeclaration(_,$);case"VariableDeclarator":return this.astVariableDeclarator(_,$);case"ThisExpression":return this.astThisExpression(_,$);case"SequenceExpression":return this.astSequenceExpression(_,$);case"UnaryExpression":return this.astUnaryExpression(_,$);case"UpdateExpression":return this.astUpdateExpression(_,$);case"LogicalExpression":return this.astLogicalExpression(_,$);case"MemberExpression":return this.astMemberExpression(_,$);case"CallExpression":return this.astCallExpression(_,$);case"ArrayExpression":return this.astArrayExpression(_,$);case"DebuggerStatement":return this.astDebuggerStatement(_,$);case"ConditionalExpression":return this.astConditionalExpression(_,$)}throw this.astErrorOutput("Unknown ast type : "+_.type,_)}astErrorOutput(_,$){if(typeof this.source!="string")return new Error(_);const tt=at.getAstString(this.source,$),lt=this.source.substr($.start).split(/\n/),ht=lt.length>0?lt[lt.length-1]:0;return new Error(`${_} on line ${lt.length}, position ${ht.length}:
 ${tt}`)}astDebuggerStatement(_,$){return $}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);return $.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$}astFunction(_,$){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}astFunctionExpression(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}isChildFunction(_){for(let $=0;$<this.functions.length;$++)if(this.functions[$]===_)return!0;return!1}astReturnStatement(_,$){return $}astLiteral(_,$){return this.literalTypes[this.astKey(_)]="Number",$}astBinaryExpression(_,$){return $}astIdentifierExpression(_,$){return $}astAssignmentExpression(_,$){return $}astExpressionStatement(_,$){return this.astGeneric(_.expression,$),$.push(";"),$}astEmptyStatement(_,$){return $}astBlockStatement(_,$){return $}astIfStatement(_,$){return $}astSwitchStatement(_,$){return $}astBreakStatement(_,$){return $.push("break;"),$}astContinueStatement(_,$){return $.push(`continue;
`),$}astForStatement(_,$){return $}astWhileStatement(_,$){return $}astDoWhileStatement(_,$){return $}astVariableDeclarator(_,$){return this.astGeneric(_.id,$),_.init!==null&&($.push("="),this.astGeneric(_.init,$)),$}astThisExpression(_,$){return $}astSequenceExpression(_,$){const{expressions:tt}=_,st=[];for(let lt=0;lt<tt.length;lt++){const ht=tt[lt],ft=[];this.astGeneric(ht,ft),st.push(ft.join(""))}return st.length>1?$.push("(",st.join(","),")"):$.push(st[0]),$}astUnaryExpression(_,$){return this.checkAndUpconvertBitwiseUnary(_,$)||(_.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator))),$}checkAndUpconvertBitwiseUnary(_,$){}astUpdateExpression(_,$){return _.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator)),$}astLogicalExpression(_,$){return $.push("("),this.astGeneric(_.left,$),$.push(_.operator),this.astGeneric(_.right,$),$.push(")"),$}astMemberExpression(_,$){return $}astCallExpression(_,$){return $}astArrayExpression(_,$){return $}getMemberExpressionDetails(_){if(_.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${_.type} not a MemberExpression`,_);let $=null,tt=null;const st=this.getVariableSignature(_);switch(st){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:st,type:"Integer",name:_.property.name};case"value[]":if(typeof _.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object),xProperty:_.property};case"value[][]":if(typeof _.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object),yProperty:_.object.property,xProperty:_.property};case"value[][][]":if(typeof _.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value[][][][]":if(typeof _.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if(this.isAstMathVariable(_))return $=_.property.name,{name:$,origin:"Math",type:"Number",signature:st};switch(_.property.name){case"r":case"g":case"b":case"a":return $=_.object.name,{name:$,property:_.property.name,origin:"user",signature:st,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",_)}case"this.constants.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.property.name,tt=this.getConstantType($),!tt)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:tt,origin:"constants",signature:st};case"this.constants.value[]":if(typeof _.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.property.name,tt=this.getConstantType($),!tt)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:tt,origin:"constants",signature:st,xProperty:_.property};case"this.constants.value[][]":{if(typeof _.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.property.name,tt=this.getConstantType($),!tt)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:tt,origin:"constants",signature:st,yProperty:_.object.property,xProperty:_.property}}case"this.constants.value[][][]":{if(typeof _.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.object.property.name,tt=this.getConstantType($),!tt)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:tt,origin:"constants",signature:st,zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:st,property:_.property};default:throw this.astErrorOutput("Unexpected expression",_)}}findIdentifierOrigin(_){const $=[this.ast];for(;$.length>0;){const tt=$[0];if(tt.type==="VariableDeclarator"&&tt.id&&tt.id.name&&tt.id.name===_.name)return tt;if($.shift(),tt.argument)$.push(tt.argument);else if(tt.body)$.push(tt.body);else if(tt.declarations)$.push(tt.declarations);else if(Array.isArray(tt))for(let st=0;st<tt.length;st++)$.push(tt[st])}return null}findLastReturn(_){const $=[_||this.ast];for(;$.length>0;){const tt=$.pop();if(tt.type==="ReturnStatement")return tt;if(tt.type!=="FunctionDeclaration")if(tt.argument)$.push(tt.argument);else if(tt.body)$.push(tt.body);else if(tt.declarations)$.push(tt.declarations);else if(Array.isArray(tt))for(let st=0;st<tt.length;st++)$.push(tt[st]);else tt.consequent?$.push(tt.consequent):tt.cases&&$.push(tt.cases)}return null}getInternalVariableName(_){return this._internalVariableNames.hasOwnProperty(_)||(this._internalVariableNames[_]=0),this._internalVariableNames[_]++,this._internalVariableNames[_]===1?_:_+this._internalVariableNames[_]}astKey(_,$=","){if(!_.start||!_.end)throw new Error("AST start and end needed");return`${_.start}${$}${_.end}`}}const it={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};o.exports={FunctionNode:nt}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(a,o,rt){const{utils:et}=a("../utils");function at(it){return it.length>0?it[it.length-1]:null}const ot={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class nt{constructor(j){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(j)}isState(j){return this.states[this.states.length-1]===j}hasState(j){return this.states.indexOf(j)>-1}pushState(j){this.states.push(j)}popState(j){if(this.isState(j))this.states.pop();else throw new Error(`Cannot pop the non-active state "${j}"`)}get currentFunctionContext(){return at(this.functionContexts)}get currentContext(){return at(this.runningContexts)}newFunctionContext(){const j={"@contextType":"function"};this.contexts.push(j),this.functionContexts.push(j)}newContext(j){const _=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(_),this.runningContexts.push(_),j();const{currentFunctionContext:$}=this;for(const tt in $)!$.hasOwnProperty(tt)||_.hasOwnProperty(tt)||(_[tt]=$[tt]);return this.runningContexts.pop(),_}useFunctionContext(j){const _=at(this.functionContexts);this.runningContexts.push(_),j(),this.runningContexts.pop()}getIdentifiers(j){const _=this.trackedIdentifiers=[];return this.pushState(ot.trackIdentifiers),j(),this.trackedIdentifiers=null,this.popState(ot.trackIdentifiers),_}getDeclaration(j){const{currentContext:_,currentFunctionContext:$,runningContexts:tt}=this,st=_[j]||$[j]||null;if(!st&&_===$&&tt.length>0){const lt=tt[tt.length-2];if(lt[j])return lt[j]}return st}scan(j){if(j){if(Array.isArray(j)){for(let _=0;_<j.length;_++)this.scan(j[_]);return}switch(j.type){case"Program":this.useFunctionContext(()=>{this.scan(j.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(j.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan(j.left),this.scan(j.right);break;case"BinaryExpression":this.scan(j.left),this.scan(j.right);break;case"UpdateExpression":if(j.operator==="++"){const _=this.getDeclaration(j.argument.name);_&&(_.suggestedType="Integer")}this.scan(j.argument);break;case"UnaryExpression":this.scan(j.argument);break;case"VariableDeclaration":j.kind==="var"?this.useFunctionContext(()=>{j.declarations=et.normalizeDeclarations(j),this.scan(j.declarations)}):(j.declarations=et.normalizeDeclarations(j),this.scan(j.declarations));break;case"VariableDeclarator":{const{currentContext:_}=this,$=this.hasState(ot.inForLoopInit),tt={ast:j,context:_,name:j.id.name,origin:"declaration",inForLoopInit:$,inForLoopTest:null,assignable:_===this.currentFunctionContext||!$&&!_.hasOwnProperty(j.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};_[j.id.name]||(_[j.id.name]=tt),this.declarations.push(tt),this.scan(j.id),this.scan(j.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan(j.body):this.functions.push(j);break;case"IfStatement":this.scan(j.test),this.scan(j.consequent),j.alternate&&this.scan(j.alternate);break;case"ForStatement":{let _;const $=this.newContext(()=>{this.pushState(ot.inForLoopInit),this.scan(j.init),this.popState(ot.inForLoopInit),_=this.getIdentifiers(()=>{this.scan(j.test)}),this.scan(j.update),this.newContext(()=>{this.scan(j.body)})});if(_)for(const tt in $)tt!=="@contextType"&&_.indexOf(tt)>-1&&($[tt].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(j.body),this.scan(j.test)});break;case"Identifier":{this.isState(ot.trackIdentifiers)&&this.trackedIdentifiers.push(j.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(j.name),ast:j});break}case"ReturnStatement":this.returnStatements.push(j),this.scan(j.argument);break;case"MemberExpression":this.pushState(ot.memberExpression),this.scan(j.object),this.scan(j.property),this.popState(ot.memberExpression);break;case"ExpressionStatement":this.scan(j.expression);break;case"SequenceExpression":this.scan(j.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:j}),this.scan(j.arguments);break;case"ArrayExpression":this.scan(j.elements);break;case"ConditionalExpression":this.scan(j.test),this.scan(j.alternate),this.scan(j.consequent);break;case"SwitchStatement":this.scan(j.discriminant),this.scan(j.cases);break;case"SwitchCase":this.scan(j.test),this.scan(j.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${j.type}"`)}}}}o.exports={FunctionTracer:nt}},{"../utils":114}],12:[function(a,o,rt){const{glWiretap:et}=a("gl-wiretap"),{utils:at}=a("../../utils");function ot(tt){return tt.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function nt(tt,st,lt,ht,ft){lt.built||lt.build.apply(lt,st),st=st?Array.from(st).map(yr=>{switch(typeof yr){case"boolean":return new Boolean(yr);case"number":return new Number(yr);default:return yr}}):null;const ct=[],mt=et(lt.context,{useTrackablePrimitives:!0,onReadPixels:yr=>{if(nr.subKernels){if(!gt)ct.push(`    const result = { result: ${it(yr,nr)} };`),gt=!0;else{const br=nr.subKernels[yt++].property;ct.push(`    result${isNaN(br)?"."+br:`[${br}]`} = ${it(yr,nr)};`)}yt===nr.subKernels.length&&ct.push("    return result;");return}yr?ct.push(`    return ${it(yr,nr)};`):ct.push("    return null;")},onUnrecognizedArgumentLookup:yr=>{const br=$(yr,nr.kernelArguments,[],mt);if(br)return br;const xr=$(yr,nr.kernelConstants,Tt?Object.keys(Tt).map(sr=>Tt[sr]):[],mt);return xr||null}});let gt=!1,yt=0;const{source:ut,canvas:wt,output:bt,pipeline:vt,graphical:Et,loopMaxIterations:$t,constants:Tt,optimizeFloatMemory:At,precision:Ct,fixIntegerDivisionAccuracy:It,functions:Lt,nativeFunctions:Ft,subKernels:Dt,immutable:Vt,argumentTypes:Ut,constantTypes:Qt,kernelArguments:Kt,kernelConstants:Ht,tactic:qt}=lt,nr=new tt(ut,{canvas:wt,context:mt,checkContext:!1,output:bt,pipeline:vt,graphical:Et,loopMaxIterations:$t,constants:Tt,optimizeFloatMemory:At,precision:Ct,fixIntegerDivisionAccuracy:It,functions:Lt,nativeFunctions:Ft,subKernels:Dt,immutable:Vt,argumentTypes:Ut,constantTypes:Qt,tactic:qt});let tr=[];if(mt.setIndent(2),nr.build.apply(nr,st),tr.push(mt.toString()),mt.reset(),nr.kernelArguments.forEach((yr,br)=>{switch(yr.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":mt.insertVariable(`uploadValue_${yr.name}`,yr.uploadValue);break;case"HTMLImageArray":for(let xr=0;xr<st[br].length;xr++){const sr=st[br];mt.insertVariable(`uploadValue_${yr.name}[${xr}]`,sr[xr])}break;case"Input":mt.insertVariable(`uploadValue_${yr.name}`,yr.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":mt.insertVariable(`uploadValue_${yr.name}`,st[br].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${yr.type}`)}}),tr.push("/** start of injected functions **/"),tr.push(`function ${ot(at.flattenTo)}`),tr.push(`function ${ot(at.flatten2dArrayTo)}`),tr.push(`function ${ot(at.flatten3dArrayTo)}`),tr.push(`function ${ot(at.flatten4dArrayTo)}`),tr.push(`function ${ot(at.isArray)}`),nr.renderOutput!==nr.renderTexture&&nr.formatValues&&tr.push(`  const renderOutput = function ${ot(nr.formatValues)};`),tr.push("/** end of injected functions **/"),tr.push(`  const innerKernel = function (${nr.kernelArguments.map(yr=>yr.varName).join(", ")}) {`),mt.setIndent(4),nr.run.apply(nr,st),nr.renderKernels?nr.renderKernels():nr.renderOutput&&nr.renderOutput(),tr.push("    /** start setup uploads for kernel values **/"),nr.kernelArguments.forEach(yr=>{tr.push("    "+yr.getStringValueHandler().split(`
`).join(`
    `))}),tr.push("    /** end setup uploads for kernel values **/"),tr.push(mt.toString()),nr.renderOutput===nr.renderTexture){mt.reset();const yr=mt.getContextVariableName(nr.framebuffer);if(nr.renderKernels){const br=nr.renderKernels(),xr=mt.getContextVariableName(nr.texture.texture);tr.push(`    return {
      result: {
        texture: ${xr},
        type: '${br.result.type}',
        toArray: ${_(br.result,xr,yr)}
      },`);const{subKernels:sr,mappedTextures:ar}=nr;for(let rr=0;rr<sr.length;rr++){const Cr=ar[rr],kr=sr[rr],vr=br[kr.property],Gr=mt.getContextVariableName(Cr.texture);tr.push(`
      ${kr.property}: {
        texture: ${Gr},
        type: '${vr.type}',
        toArray: ${_(vr,Gr,yr)}
      },`)}tr.push("    };")}else{const br=nr.renderOutput(),xr=mt.getContextVariableName(nr.texture.texture);tr.push(`    return {
        texture: ${xr},
        type: '${br.type}',
        toArray: ${_(br,xr,yr)}
      };`)}}tr.push(`    ${ft?`
`+ft+"    ":""}`),tr.push(ct.join(`
`)),tr.push("  };"),nr.graphical&&(tr.push(j(nr)),tr.push("  innerKernel.getPixels = getPixels;")),tr.push("  return innerKernel;");let mr=[];return Ht.forEach(yr=>{mr.push(`${yr.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${mr.join("")}
  ${ht||""}
${tr.join(`
`)}
}`}function it(tt,st){const lt=st.precision==="single"?tt:`new Float32Array(${tt}.buffer)`;return st.output[2]?`renderOutput(${lt}, ${st.output[0]}, ${st.output[1]}, ${st.output[2]})`:st.output[1]?`renderOutput(${lt}, ${st.output[0]}, ${st.output[1]})`:`renderOutput(${lt}, ${st.output[0]})`}function j(tt){const st=tt.getPixels.toString(),lt=!/^function/.test(st);return at.flattenFunctionToString(`${lt?"function ":""}${st}`,{findDependency:(ht,ft)=>ht==="utils"?`const ${ft} = ${at[ft].toString()};`:null,thisLookup:ht=>{if(ht==="context")return null;if(tt.hasOwnProperty(ht))return JSON.stringify(tt[ht]);throw new Error(`unhandled thisLookup ${ht}`)}})}function _(tt,st,lt){const ht=tt.toArray.toString(),ft=!/^function/.test(ht),ct=at.flattenFunctionToString(`${ft?"function ":""}${ht}`,{findDependency:(mt,gt)=>{if(mt==="utils")return`const ${gt} = ${at[gt].toString()};`;if(mt==="this")return gt==="framebuffer"?"":`${ft?"function ":""}${tt[gt].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(mt,gt)=>{if(mt==="texture")return st;if(mt==="context")return gt?null:"gl";if(tt.hasOwnProperty(mt))return JSON.stringify(tt[mt]);throw new Error(`unhandled thisLookup ${mt}`)}});return`() => {
  function framebuffer() { return ${lt}; };
  ${ct}
  return toArray();
  }`}function $(tt,st,lt,ht,ft){if(tt===null||st===null)return null;switch(typeof tt){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&tt instanceof HTMLImageElement)for(let ct=0;ct<st.length;ct++){const mt=st[ct];if(mt.type!=="HTMLImageArray"&&mt||mt.uploadValue!==tt)continue;const gt=lt[ct].indexOf(tt);if(gt===-1)continue;const yt=`uploadValue_${mt.name}[${gt}]`;return ht.insertVariable(yt,tt),yt}for(let ct=0;ct<st.length;ct++){const mt=st[ct];if(tt!==mt.uploadValue)continue;const gt=`uploadValue_${mt.name}`;return ht.insertVariable(gt,mt),gt}return null}o.exports={glKernelString:nt}},{"../../utils":114,"gl-wiretap":3}],13:[function(a,o,rt){const{Kernel:et}=a("../kernel"),{utils:at}=a("../../utils"),{GLTextureArray2Float:ot}=a("./texture/array-2-float"),{GLTextureArray2Float2D:nt}=a("./texture/array-2-float-2d"),{GLTextureArray2Float3D:it}=a("./texture/array-2-float-3d"),{GLTextureArray3Float:j}=a("./texture/array-3-float"),{GLTextureArray3Float2D:_}=a("./texture/array-3-float-2d"),{GLTextureArray3Float3D:$}=a("./texture/array-3-float-3d"),{GLTextureArray4Float:tt}=a("./texture/array-4-float"),{GLTextureArray4Float2D:st}=a("./texture/array-4-float-2d"),{GLTextureArray4Float3D:lt}=a("./texture/array-4-float-3d"),{GLTextureFloat:ht}=a("./texture/float"),{GLTextureFloat2D:ft}=a("./texture/float-2d"),{GLTextureFloat3D:ct}=a("./texture/float-3d"),{GLTextureMemoryOptimized:mt}=a("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:gt}=a("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:yt}=a("./texture/memory-optimized-3d"),{GLTextureUnsigned:ut}=a("./texture/unsigned"),{GLTextureUnsigned2D:wt}=a("./texture/unsigned-2d"),{GLTextureUnsigned3D:bt}=a("./texture/unsigned-3d"),{GLTextureGraphical:vt}=a("./texture/graphical");class Et extends et{static get mode(){return"gpu"}static getIsFloatRead(){const At=`function kernelFunction() {
      return 1;
    }`,Ct=new this(At,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});Ct.build(),Ct.run();const It=Ct.renderOutput();return Ct.destroy(!0),It[0]===1}static getIsIntegerDivisionAccurate(){function At(Ft,Dt){return Ft[this.thread.x]/Dt[this.thread.x]}const Ct=new this(At.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),It=[[6,6030401],[3,3991]];Ct.build.apply(Ct,It),Ct.run.apply(Ct,It);const Lt=Ct.renderOutput();return Ct.destroy(!0),Lt[0]===2&&Lt[1]===1511}static getIsSpeedTacticSupported(){function At(Ft){return Ft[this.thread.x]}const Ct=new this(At.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),It=[[0,1,2,3]];Ct.build.apply(Ct,It),Ct.run.apply(Ct,It);const Lt=Ct.renderOutput();return Ct.destroy(!0),Math.round(Lt[0])===0&&Math.round(Lt[1])===1&&Math.round(Lt[2])===2&&Math.round(Lt[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const At=this.testContext,Ct=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:Ct,kernelMap:Ct,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:At.getShaderPrecisionFormat(At.FRAGMENT_SHADER,At.LOW_INT),lowFloatPrecision:At.getShaderPrecisionFormat(At.FRAGMENT_SHADER,At.LOW_FLOAT),mediumIntPrecision:At.getShaderPrecisionFormat(At.FRAGMENT_SHADER,At.MEDIUM_INT),mediumFloatPrecision:At.getShaderPrecisionFormat(At.FRAGMENT_SHADER,At.MEDIUM_FLOAT),highIntPrecision:At.getShaderPrecisionFormat(At.FRAGMENT_SHADER,At.HIGH_INT),highFloatPrecision:At.getShaderPrecisionFormat(At.FRAGMENT_SHADER,At.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(At,Ct){return At.getVariablePrecisionString()+(Ct.length>0?":"+Ct.join(","):"")}setFixIntegerDivisionAccuracy(At){return this.fixIntegerDivisionAccuracy=At,this}setPrecision(At){return this.precision=At,this}setFloatTextures(At){return at.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=At,this}static nativeFunctionArguments(At){const Ct=[],It=[],Lt=[],Ft=/^[a-zA-Z_]/,Dt=/[a-zA-Z_0-9]/;let Vt=0,Ut=null,Qt=null;for(;Vt<At.length;){const Kt=At[Vt],Ht=At[Vt+1],qt=Lt.length>0?Lt[Lt.length-1]:null;if(qt==="FUNCTION_ARGUMENTS"&&Kt==="/"&&Ht==="*"){Lt.push("MULTI_LINE_COMMENT"),Vt+=2;continue}else if(qt==="MULTI_LINE_COMMENT"&&Kt==="*"&&Ht==="/"){Lt.pop(),Vt+=2;continue}else if(qt==="FUNCTION_ARGUMENTS"&&Kt==="/"&&Ht==="/"){Lt.push("COMMENT"),Vt+=2;continue}else if(qt==="COMMENT"&&Kt===`
`){Lt.pop(),Vt++;continue}else if(qt===null&&Kt==="("){Lt.push("FUNCTION_ARGUMENTS"),Vt++;continue}else if(qt==="FUNCTION_ARGUMENTS"){if(Kt===")"){Lt.pop();break}if(Kt==="f"&&Ht==="l"&&At[Vt+2]==="o"&&At[Vt+3]==="a"&&At[Vt+4]==="t"&&At[Vt+5]===" "){Lt.push("DECLARE_VARIABLE"),Qt="float",Ut="",Vt+=6;continue}else if(Kt==="i"&&Ht==="n"&&At[Vt+2]==="t"&&At[Vt+3]===" "){Lt.push("DECLARE_VARIABLE"),Qt="int",Ut="",Vt+=4;continue}else if(Kt==="v"&&Ht==="e"&&At[Vt+2]==="c"&&At[Vt+3]==="2"&&At[Vt+4]===" "){Lt.push("DECLARE_VARIABLE"),Qt="vec2",Ut="",Vt+=5;continue}else if(Kt==="v"&&Ht==="e"&&At[Vt+2]==="c"&&At[Vt+3]==="3"&&At[Vt+4]===" "){Lt.push("DECLARE_VARIABLE"),Qt="vec3",Ut="",Vt+=5;continue}else if(Kt==="v"&&Ht==="e"&&At[Vt+2]==="c"&&At[Vt+3]==="4"&&At[Vt+4]===" "){Lt.push("DECLARE_VARIABLE"),Qt="vec4",Ut="",Vt+=5;continue}}else if(qt==="DECLARE_VARIABLE"){if(Ut===""){if(Kt===" "){Vt++;continue}if(!Ft.test(Kt))throw new Error("variable name is not expected string")}Ut+=Kt,Dt.test(Ht)||(Lt.pop(),It.push(Ut),Ct.push($t[Qt]))}Vt++}if(Lt.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:It,argumentTypes:Ct}}static nativeFunctionReturnType(At){return $t[At.match(/int|float|vec[2-4]/)[0]]}static combineKernels(At,Ct){At.apply(null,arguments);const{texSize:It,context:Lt,threadDim:Ft}=Ct.texSize;let Dt;if(Ct.precision==="single"){const Vt=It[0],Ut=Math.ceil(It[1]/4);Dt=new Float32Array(Vt*Ut*4*4),Lt.readPixels(0,0,Vt,Ut*4,Lt.RGBA,Lt.FLOAT,Dt)}else{const Vt=new Uint8Array(It[0]*It[1]*4);Lt.readPixels(0,0,It[0],It[1],Lt.RGBA,Lt.UNSIGNED_BYTE,Vt),Dt=new Float32Array(Vt.buffer)}if(Dt=Dt.subarray(0,Ft[0]*Ft[1]*Ft[2]),Ct.output.length===1)return Dt;if(Ct.output.length===2)return at.splitArray(Dt,Ct.output[0]);if(Ct.output.length===3)return at.splitArray(Dt,Ct.output[0]*Ct.output[1]).map(function(Ut){return at.splitArray(Ut,Ct.output[0])})}constructor(At,Ct){super(At,Ct),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:At}=this.constructor;if(this.texSize[0]>At.maxTextureSize||this.texSize[1]>At.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${At.maxTextureSize},${At.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(At){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=Ct=>Ct,this.TextureConstructor=vt,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=bt,null):this.output[1]>0?(this.TextureConstructor=wt,null):(this.TextureConstructor=ut,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(At)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=bt,this.formatValues=at.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=wt,this.formatValues=at.erect2DPackedFloat,null):(this.TextureConstructor=ut,this.formatValues=at.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(At)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=yt,null):this.output[1]>0?(this.TextureConstructor=gt,null):(this.TextureConstructor=mt,null):this.output[2]>0?(this.TextureConstructor=ct,null):this.output[1]>0?(this.TextureConstructor=ft,null):(this.TextureConstructor=ht,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,null):this.output[1]>0?(this.TextureConstructor=nt,null):(this.TextureConstructor=ot,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,null):this.output[1]>0?(this.TextureConstructor=_,null):(this.TextureConstructor=j,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,null):this.output[1]>0?(this.TextureConstructor=st,null):(this.TextureConstructor=tt,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=yt,this.formatValues=at.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=gt,this.formatValues=at.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=mt,this.formatValues=at.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,this.formatValues=at.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=nt,this.formatValues=at.erect2DArray2,null):(this.TextureConstructor=ot,this.formatValues=at.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=at.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=at.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=at.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,this.formatValues=at.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=st,this.formatValues=at.erect2DArray4,null):(this.TextureConstructor=tt,this.formatValues=at.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=ct,this.formatValues=at.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=ft,this.formatValues=at.erect2DFloat,null):(this.TextureConstructor=ht,this.formatValues=at.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,this.formatValues=at.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=nt,this.formatValues=at.erect2DArray2,null):(this.TextureConstructor=ot,this.formatValues=at.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=at.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=at.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=at.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,this.formatValues=at.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=st,this.formatValues=at.erect2DArray4,null):(this.TextureConstructor=tt,this.formatValues=at.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return at.linesToString(this.getMainResultKernelNumberTexture())+at.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return at.linesToString(this.getMainResultKernelArray2Texture())+at.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return at.linesToString(this.getMainResultKernelArray3Texture())+at.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return at.linesToString(this.getMainResultKernelArray4Texture())+at.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:At,context:Ct}=this,It=new Uint8Array(At[0]*At[1]*4);return Ct.readPixels(0,0,At[0],At[1],Ct.RGBA,Ct.UNSIGNED_BYTE,It),It}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:At,context:Ct}=this,It=At[0],Lt=At[1],Ft=new Float32Array(It*Lt*4);return Ct.readPixels(0,0,It,Lt,Ct.RGBA,Ct.FLOAT,Ft),Ft}getPixels(At){const{context:Ct,output:It}=this,[Lt,Ft]=It,Dt=new Uint8Array(Lt*Ft*4);return Ct.readPixels(0,0,Lt,Ft,Ct.RGBA,Ct.UNSIGNED_BYTE,Dt),new Uint8ClampedArray((At?Dt:at.flipPixels(Dt,Lt,Ft)).buffer)}renderKernelsToArrays(){const At={result:this.renderOutput()};for(let Ct=0;Ct<this.subKernels.length;Ct++)At[this.subKernels[Ct].property]=this.mappedTextures[Ct].toArray();return At}renderKernelsToTextures(){const At={result:this.renderOutput()};if(this.immutable)for(let Ct=0;Ct<this.subKernels.length;Ct++)At[this.subKernels[Ct].property]=this.mappedTextures[Ct].clone();else for(let Ct=0;Ct<this.subKernels.length;Ct++)At[this.subKernels[Ct].property]=this.mappedTextures[Ct];return At}resetSwitchingKernels(){const At=this.switchingKernels;return this.switchingKernels=null,At}setOutput(At){const Ct=this.toKernelOutput(At);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const It=[Ct[0],Ct[1]||1,Ct[2]||1],Lt=at.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},It),Ft=this.texSize;if(Ft){const Vt=this.getVariablePrecisionString(Ft,this.tactic),Ut=this.getVariablePrecisionString(Lt,this.tactic);if(Vt!==Ut){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:Ut,needed:At});return}}this.output=Ct,this.threadDim=It,this.texSize=Lt;const{context:Dt}=this;if(Dt.bindFramebuffer(Dt.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],Dt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let Vt=0;Vt<this.mappedTextures.length;Vt++)this.mappedTextures[Vt].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=Ct;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(At){this.switchingKernels?this.switchingKernels.push(At):this.switchingKernels=[At]}getVariablePrecisionString(At=this.texSize,Ct=this.tactic,It=!1){if(!Ct){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const Lt=this.constructor.features[It?"lowIntPrecision":"lowFloatPrecision"],Ft=this.constructor.features[It?"mediumIntPrecision":"mediumFloatPrecision"],Dt=this.constructor.features[It?"highIntPrecision":"highFloatPrecision"],Vt=Math.log2(At[0]*At[1]);if(Vt<=Lt.rangeMax)return"lowp";if(Vt<=Ft.rangeMax)return"mediump";if(Vt<=Dt.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(Ct){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${Ct}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(At,Ct){if(this.immutable){if(this.texture.texture===Ct.texture){const{prevArg:It}=At;It&&(It.texture._refs===1&&(this.texture.delete(),this.texture=It.clone(),this._textureSwitched=!0),It.delete()),At.prevArg=Ct.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:It}=this;for(let Lt=0;Lt<It.length;Lt++){const Ft=It[Lt];if(Ft.texture===Ct.texture){const{prevArg:Dt}=At;Dt&&(Dt.texture._refs===1&&(Ft.delete(),It[Lt]=Dt.clone(),this._mappedTextureSwitched[Lt]=!0),Dt.delete()),At.prevArg=Ct.clone();return}}}}}onActivate(At){if(this._textureSwitched=!0,this.texture=At.texture,this.mappedTextures){for(let Ct=0;Ct<this.mappedTextures.length;Ct++)this._mappedTextureSwitched[Ct]=!0;this.mappedTextures=At.mappedTextures}}initCanvas(){}}const $t={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};o.exports={GLKernel:Et}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return et.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureArray2Float2D:ot}},{"../../../utils":114,"./float":25}],15:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return et.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureArray2Float3D:ot}},{"../../../utils":114,"./float":25}],16:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return et.erectArray2(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureArray2Float:ot}},{"../../../utils":114,"./float":25}],17:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return et.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureArray3Float2D:ot}},{"../../../utils":114,"./float":25}],18:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return et.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureArray3Float3D:ot}},{"../../../utils":114,"./float":25}],19:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return et.erectArray3(this.renderValues(),this.output[0])}}o.exports={GLTextureArray3Float:ot}},{"../../../utils":114,"./float":25}],20:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return et.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureArray4Float2D:ot}},{"../../../utils":114,"./float":25}],21:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return et.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureArray4Float3D:ot}},{"../../../utils":114,"./float":25}],22:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return et.erectArray4(this.renderValues(),this.output[0])}}o.exports={GLTextureArray4Float:ot}},{"../../../utils":114,"./float":25}],23:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(1)"}toArray(){return et.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureFloat2D:ot}},{"../../../utils":114,"./float":25}],24:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="ArrayTexture(1)"}toArray(){return et.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureFloat3D:ot}},{"../../../utils":114,"./float":25}],25:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTexture:at}=a("./index");class ot extends at{get textureType(){return this.context.FLOAT}constructor(it){super(it),this.type="ArrayTexture(1)"}renderRawOutput(){const it=this.context,j=this.size;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,this.texture,0);const _=new Float32Array(j[0]*j[1]*4);return it.readPixels(0,0,j[0],j[1],it.RGBA,it.FLOAT,_),_}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return et.erectFloat(this.renderValues(),this.output[0])}}o.exports={GLTextureFloat:ot}},{"../../../utils":114,"./index":27}],26:[function(a,o,rt){const{GLTextureUnsigned:et}=a("./unsigned");class at extends et{constructor(nt){super(nt),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}o.exports={GLTextureGraphical:at}},{"./unsigned":33}],27:[function(a,o,rt){const{Texture:et}=a("../../../texture");class at extends et{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:it,size:j,texture:_,kernel:$}=this;$.debug&&console.warn("cloning internal texture"),it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),ot(it,_),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,_,0);const tt=it.createTexture();ot(it,tt),it.texImage2D(it.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,0,0,j[0],j[1]),tt._refs=1,this.texture=tt}newTexture(){this.texture._refs--;const it=this.context,j=this.size;this.kernel.debug&&console.warn("new internal texture");const $=it.createTexture();ot(it,$),it.texImage2D(it.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),$._refs=1,this.texture=$}clear(){if(this.texture._refs){this.texture._refs--;const _=this.context,$=this.texture=_.createTexture();ot(_,$);const tt=this.size;$._refs=1,_.texImage2D(_.TEXTURE_2D,0,this.internalFormat,tt[0],tt[1],0,this.textureFormat,this.textureType,null)}const{context:it,texture:j}=this;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.bindTexture(it.TEXTURE_2D,j),ot(it,j),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,j,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT|it.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function ot(nt,it){nt.activeTexture(nt.TEXTURE15),nt.bindTexture(nt.TEXTURE_2D,it),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.NEAREST)}o.exports={GLTexture:at}},{"../../../texture":113}],28:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return et.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureMemoryOptimized2D:ot}},{"../../../utils":114,"./float":25}],29:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return et.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureMemoryOptimized3D:ot}},{"../../../utils":114,"./float":25}],30:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureFloat:at}=a("./float");class ot extends at{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return et.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}o.exports={GLTextureMemoryOptimized:ot}},{"../../../utils":114,"./float":25}],31:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureUnsigned:at}=a("./unsigned");class ot extends at{constructor(it){super(it),this.type="NumberTexture"}toArray(){return et.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}o.exports={GLTextureUnsigned2D:ot}},{"../../../utils":114,"./unsigned":33}],32:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTextureUnsigned:at}=a("./unsigned");class ot extends at{constructor(it){super(it),this.type="NumberTexture"}toArray(){return et.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}o.exports={GLTextureUnsigned3D:ot}},{"../../../utils":114,"./unsigned":33}],33:[function(a,o,rt){const{utils:et}=a("../../../utils"),{GLTexture:at}=a("./index");class ot extends at{get textureType(){return this.context.UNSIGNED_BYTE}constructor(it){super(it),this.type="NumberTexture"}renderRawOutput(){const{context:it}=this;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,this.texture,0);const j=new Uint8Array(this.size[0]*this.size[1]*4);return it.readPixels(0,0,this.size[0],this.size[1],it.RGBA,it.UNSIGNED_BYTE,j),j}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return et.erectPackedFloat(this.renderValues(),this.output[0])}}o.exports={GLTextureUnsigned:ot}},{"../../../utils":114,"./index":27}],34:[function(a,o,rt){const et=a("gl"),{WebGLKernel:at}=a("../web-gl/kernel"),{glKernelString:ot}=a("../gl/kernel-string");let nt=null,it=null,j=null,_=null,$=null;class tt extends at{static get isSupported(){return nt!==null||(this.setupFeatureChecks(),nt=j!==null),nt}static setupFeatureChecks(){if(it=null,_=null,typeof et=="function")try{if(j=et(2,2,{preserveDrawingBuffer:!0}),!j||!j.getExtension)return;_={STACKGL_resize_drawingbuffer:j.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:j.getExtension("STACKGL_destroy_context"),OES_texture_float:j.getExtension("OES_texture_float"),OES_texture_float_linear:j.getExtension("OES_texture_float_linear"),OES_element_index_uint:j.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:j.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:j.getExtension("WEBGL_color_buffer_float")},$=this.getFeatures()}catch(lt){console.warn(lt)}}static isContextMatch(lt){try{return lt.getParameter(lt.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return!!_.OES_texture_float}static getIsDrawBuffers(){return!!_.WEBGL_draw_buffers}static getChannelCount(){return _.WEBGL_draw_buffers?j.getParameter(_.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return j.getParameter(j.MAX_TEXTURE_SIZE)}static get testCanvas(){return it}static get testContext(){return j}static get features(){return $}initCanvas(){return{}}initContext(){return et(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(lt){const ht=lt.getExtension("STACKGL_destroy_context");ht&&ht.destroy&&ht.destroy()}toString(){return ot(this.constructor,arguments,this,`const gl = context || require('gl')(1, 1);
`,`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`)}setOutput(lt){return super.setOutput(lt),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}o.exports={HeadlessGLKernel:tt}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(a,o,rt){class et{constructor(ot,nt){const{name:it,kernel:j,context:_,checkContext:$,onRequestContextHandle:tt,onUpdateValueMismatch:st,origin:lt,strictIntegers:ht,type:ft,tactic:ct}=nt;if(!it)throw new Error("name not set");if(!ft)throw new Error("type not set");if(!lt)throw new Error("origin not set");if(lt!=="user"&&lt!=="constants")throw new Error(`origin must be "user" or "constants" value is "${lt}"`);if(!tt)throw new Error("onRequestContextHandle is not set");this.name=it,this.origin=lt,this.tactic=ct,this.varName=lt==="constants"?`constants.${it}`:it,this.kernel=j,this.strictIntegers=ht,this.type=ot.type||ft,this.size=ot.size||null,this.index=null,this.context=_,this.checkContext=$??!0,this.contextHandle=null,this.onRequestContextHandle=tt,this.onUpdateValueMismatch=st,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(ot){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}o.exports={KernelValue:et}},{}],36:[function(a,o,rt){const{utils:et}=a("../utils"),{Input:at}=a("../input");class ot{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(j){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(j){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(j,_){if(typeof j!="object"){if(typeof j!="string")throw new Error("source not a string");if(!et.isFunctionString(j))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof j=="string"?et.getArgumentNamesFromString(j):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=j,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(j){for(let _ in j)if(!(!j.hasOwnProperty(_)||!this.hasOwnProperty(_))){switch(_){case"output":if(!Array.isArray(j.output)){this.setOutput(j.output);continue}break;case"functions":this.functions=[];for(let $=0;$<j.functions.length;$++)this.addFunction(j.functions[$]);continue;case"graphical":j[_]&&!j.hasOwnProperty("precision")&&(this.precision="unsigned"),this[_]=j[_];continue;case"nativeFunctions":if(!j.nativeFunctions)continue;this.nativeFunctions=[];for(let $=0;$<j.nativeFunctions.length;$++){const tt=j.nativeFunctions[$],{name:st,source:lt}=tt;this.addNativeFunction(st,lt,tt)}continue}this[_]=j[_]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(j))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(j){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(j,_={}){if(j.name&&j.source&&j.argumentTypes&&"returnType"in j)this.functions.push(j);else if("settings"in j&&"source"in j)this.functions.push(this.functionToIGPUFunction(j.source,j.settings));else if(typeof j=="string"||typeof j=="function")this.functions.push(this.functionToIGPUFunction(j,_));else throw new Error("function not properly defined");return this}addNativeFunction(j,_,$={}){const{argumentTypes:tt,argumentNames:st}=$.argumentTypes?nt($.argumentTypes):this.constructor.nativeFunctionArguments(_)||{};return this.nativeFunctions.push({name:j,source:_,settings:$,argumentTypes:tt,argumentNames:st,returnType:$.returnType||this.constructor.nativeFunctionReturnType(_)}),this}setupArguments(j){if(this.kernelArguments=[],this.argumentTypes)for(let _=0;_<this.argumentTypes.length;_++)this.kernelArguments.push({type:this.argumentTypes[_]});else if(!this.argumentTypes){this.argumentTypes=[];for(let _=0;_<j.length;_++){const $=et.getVariableType(j[_],this.strictIntegers),tt=$==="Integer"?"Number":$;this.argumentTypes.push(tt),this.kernelArguments.push({type:tt})}}this.argumentSizes=new Array(j.length),this.argumentBitRatios=new Int32Array(j.length);for(let _=0;_<j.length;_++){const $=j[_];this.argumentSizes[_]=$.constructor===at?$.size:null,this.argumentBitRatios[_]=this.getBitRatio($)}if(this.argumentNames.length!==j.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let j=this.constantTypes===null;if(j&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let _ in this.constants){if(j){const $=et.getVariableType(this.constants[_],this.strictIntegers);this.constantTypes[_]=$,this.kernelConstants.push({name:_,type:$})}else this.kernelConstants.push({name:_,type:this.constantTypes[_]});this.constantBitRatios[_]=this.getBitRatio(this.constants[_])}}setOptimizeFloatMemory(j){return this.optimizeFloatMemory=j,this}toKernelOutput(j){return j.hasOwnProperty("x")?j.hasOwnProperty("y")?j.hasOwnProperty("z")?[j.x,j.y,j.z]:[j.x,j.y]:[j.x]:j}setOutput(j){return this.output=this.toKernelOutput(j),this}setDebug(j){return this.debug=j,this}setGraphical(j){return this.graphical=j,this.precision="unsigned",this}setLoopMaxIterations(j){return this.loopMaxIterations=j,this}setConstants(j){return this.constants=j,this}setConstantTypes(j){return this.constantTypes=j,this}setFunctions(j){for(let _=0;_<j.length;_++)this.addFunction(j[_]);return this}setNativeFunctions(j){for(let _=0;_<j.length;_++){const $=j[_],{name:tt,source:st}=$;this.addNativeFunction(tt,st,$)}return this}setInjectedNative(j){return this.injectedNative=j,this}setPipeline(j){return this.pipeline=j,this}setPrecision(j){return this.precision=j,this}setDimensions(j){return et.warnDeprecated("method","setDimensions","setOutput"),this.output=j,this}setOutputToTexture(j){return et.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=j,this}setImmutable(j){return this.immutable=j,this}setCanvas(j){return this.canvas=j,this}setStrictIntegers(j){return this.strictIntegers=j,this}setDynamicOutput(j){return this.dynamicOutput=j,this}setHardcodeConstants(j){return et.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(j),this.setDynamicArguments(j),this}setDynamicArguments(j){return this.dynamicArguments=j,this}setUseLegacyEncoder(j){return this.useLegacyEncoder=j,this}setWarnVarUsage(j){return et.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return et.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return et.warnDeprecated("method","getWebGl"),this.context}setContext(j){return this.context=j,this}setArgumentTypes(j){if(Array.isArray(j))this.argumentTypes=j;else{this.argumentTypes=[];for(const _ in j){if(!j.hasOwnProperty(_))continue;const $=this.argumentNames.indexOf(_);if($===-1)throw new Error(`unable to find argument ${_}`);this.argumentTypes[$]=j[_]}}return this}setTactic(j){return this.tactic=j,this}requestFallback(j){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(j)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(j){if(this.subKernels===null&&(this.subKernels=[]),!j.source)throw new Error('subKernel missing "source" property');if(!j.property&&isNaN(j.property))throw new Error('subKernel missing "property" property');if(!j.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(j),this}destroy(j){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(j){if(this.precision==="single")return 4;if(Array.isArray(j[0]))return this.getBitRatio(j[0]);if(j.constructor===at)return this.getBitRatio(j.value);switch(j.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(j){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!et.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let j=0;j<this.output.length;j++)if(isNaN(this.output[j])||this.output[j]<1)throw new Error(`${this.constructor.name}.output[${j}] incorrectly defined as \`${this.output[j]}\`, needs to be numeric, and greater than 0`)}prependString(j){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(j){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(j=>j.name):null,returnType:this.returnType}}}buildSignature(j){const _=this.constructor;this.signature=_.getSignature(this,_.getArgumentTypes(this,j))}static getArgumentTypes(j,_){const $=new Array(_.length);for(let tt=0;tt<_.length;tt++){const st=_[tt],lt=j.argumentTypes[tt];if(st.type)$[tt]=st.type;else switch(lt){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":$[tt]=et.getVariableType(st);break;default:$[tt]=lt}}return $}static getSignature(j,_){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(j,_={}){if(typeof j!="string"&&typeof j!="function")throw new Error("source not a string or function");const $=typeof j=="string"?j:j.toString();let tt=[];return Array.isArray(_.argumentTypes)?tt=_.argumentTypes:typeof _.argumentTypes=="object"?tt=et.getArgumentNamesFromString($).map(st=>_.argumentTypes[st])||[]:tt=_.argumentTypes||[],{name:et.getFunctionNameFromString($)||null,source:$,argumentTypes:tt,returnType:_.returnType||null}}onActivate(j){}}function nt(it){const j=Object.keys(it),_=[];for(let $=0;$<j.length;$++){const tt=j[$];_.push(it[tt])}return{argumentTypes:_,argumentNames:j}}o.exports={Kernel:ot}},{"../input":110,"../utils":114}],37:[function(a,o,rt){const et=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;o.exports={fragmentShader:et}},{}],38:[function(a,o,rt){const{utils:et}=a("../../utils"),{FunctionNode:at}=a("../function-node");class ot extends at{constructor(_,$){super(_,$),$&&$.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=$.fixIntegerDivisionAccuracy)}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);const tt=this.getType(_.consequent),st=this.getType(_.alternate);return tt===null&&st===null?($.push("if ("),this.astGeneric(_.test,$),$.push(") {"),this.astGeneric(_.consequent,$),$.push(";"),$.push("} else {"),this.astGeneric(_.alternate,$),$.push(";"),$.push("}"),$):($.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$)}astFunction(_,$){if(this.isRootKernel)$.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(_.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:tt}=this;if(!tt)$.push("void");else{const st=nt[tt];if(!st)throw new Error(`unknown type ${tt}`);$.push(st)}}if($.push(" "),$.push(this.name),$.push("("),!this.isRootKernel)for(let tt=0;tt<this.argumentNames.length;++tt){const st=this.argumentNames[tt];tt>0&&$.push(", ");let lt=this.argumentTypes[this.argumentNames.indexOf(st)];if(!lt)throw this.astErrorOutput(`Unknown argument ${st} type`,_);lt==="LiteralInteger"&&(this.argumentTypes[tt]=lt="Number");const ht=nt[lt];if(!ht)throw this.astErrorOutput("Unexpected expression",_);const ft=et.sanitizeName(st);ht==="sampler2D"||ht==="sampler2DArray"?$.push(`${ht} user_${ft},ivec2 user_${ft}Size,ivec3 user_${ft}Dim`):$.push(`${ht} user_${ft}`)}$.push(`) {
`);for(let tt=0;tt<_.body.body.length;++tt)this.astGeneric(_.body.body[tt],$),$.push(`
`);return $.push(`}
`),$}astReturnStatement(_,$){if(!_.argument)throw this.astErrorOutput("Unexpected return statement",_);this.pushState("skip-literal-correction");const tt=this.getType(_.argument);this.popState("skip-literal-correction");const st=[];switch(this.returnType||(tt==="LiteralInteger"||tt==="Integer"?this.returnType="Number":this.returnType=tt),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(tt){case"Integer":st.push("float("),this.astGeneric(_.argument,st),st.push(")");break;case"LiteralInteger":this.castLiteralToFloat(_.argument,st),this.getType(_)==="Integer"&&(st.unshift("float("),st.push(")"));break;default:this.astGeneric(_.argument,st)}break;case"Integer":switch(tt){case"Float":case"Number":this.castValueToInteger(_.argument,st);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,st);break;default:this.astGeneric(_.argument,st)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(_.argument,st);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,_)}return this.isRootKernel?($.push(`kernelResult = ${st.join("")};`),$.push("return;")):this.isSubKernel?($.push(`subKernelResult_${this.name} = ${st.join("")};`),$.push(`return subKernelResult_${this.name};`)):$.push(`return ${st.join("")};`),$}astLiteral(_,$){if(isNaN(_.value))throw this.astErrorOutput("Non-numeric literal not supported : "+_.value,_);const tt=this.astKey(_);return Number.isInteger(_.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[tt]="Integer",$.push(`${_.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[tt]="Number",$.push(`${_.value}.0`)):(this.literalTypes[tt]="Number",$.push(`${_.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[tt]="Integer",$.push(Math.round(_.value))):(this.literalTypes[tt]="Number",$.push(`${_.value}`)),$}astBinaryExpression(_,$){if(this.checkAndUpconvertOperator(_,$))return $;if(this.fixIntegerDivisionAccuracy&&_.operator==="/"){switch($.push("divWithIntCheck("),this.pushState("building-float"),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(", "),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return this.popState("building-float"),$.push(")"),$}$.push("(");const tt=this.getType(_.left)||"Number",st=this.getType(_.right)||"Number";if(!tt||!st)throw this.astErrorOutput("Unhandled binary expression",_);const lt=tt+" & "+st;switch(lt){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((_.operator===">"||_.operator==="<"&&_.right.type==="Literal")&&!Number.isInteger(_.right.value)){this.pushState("building-float"),this.castValueToFloat(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.pushState("casting-to-integer"),_.right.type==="Literal"){const ht=[];if(this.astGeneric(_.right,ht),this.getType(_.right)==="Integer")$.push(ht.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",_)}else $.push("int("),this.astGeneric(_.right,$),$.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToInteger(_.right,$),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToInteger(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.pushState("casting-to-float"),this.astGeneric(_.right,$),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${lt}`,_)}return $.push(")"),$}checkAndUpconvertOperator(_,$){const tt=this.checkAndUpconvertBitwiseOperators(_,$);if(tt)return tt;const lt={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[_.operator];if(!lt)return null;switch($.push(lt),$.push("("),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseOperators(_,$){const st={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[_.operator];if(!st)return null;switch($.push(st),$.push("("),this.getType(_.left)){case"Number":case"Float":this.castValueToInteger(_.left,$);break;case"LiteralInteger":this.castLiteralToInteger(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Number":case"Float":this.castValueToInteger(_.right,$);break;case"LiteralInteger":this.castLiteralToInteger(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseUnary(_,$){const st={"~":"bitwiseNot"}[_.operator];if(!st)return null;switch($.push(st),$.push("("),this.getType(_.argument)){case"Number":case"Float":this.castValueToInteger(_.argument,$);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,$);break;default:this.astGeneric(_.argument,$)}return $.push(")"),$}castLiteralToInteger(_,$){return this.pushState("casting-to-integer"),this.astGeneric(_,$),this.popState("casting-to-integer"),$}castLiteralToFloat(_,$){return this.pushState("casting-to-float"),this.astGeneric(_,$),this.popState("casting-to-float"),$}castValueToInteger(_,$){return this.pushState("casting-to-integer"),$.push("int("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-integer"),$}castValueToFloat(_,$){return this.pushState("casting-to-float"),$.push("float("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-float"),$}astIdentifierExpression(_,$){if(_.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",_);const tt=this.getType(_),st=et.sanitizeName(_.name);return _.name==="Infinity"?$.push("3.402823466e+38"):tt==="Boolean"?this.argumentNames.indexOf(st)>-1?$.push(`bool(user_${st})`):$.push(`user_${st}`):$.push(`user_${st}`),$}astForStatement(_,$){if(_.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",_);const tt=[],st=[],lt=[],ht=[];let ft=null;if(_.init){const{declarations:ct}=_.init;ct.length>1&&(ft=!1),this.astGeneric(_.init,tt);for(let mt=0;mt<ct.length;mt++)ct[mt].init&&ct[mt].init.type!=="Literal"&&(ft=!1)}else ft=!1;if(_.test?this.astGeneric(_.test,st):ft=!1,_.update?this.astGeneric(_.update,lt):ft=!1,_.body&&(this.pushState("loop-body"),this.astGeneric(_.body,ht),this.popState("loop-body")),ft===null&&(ft=this.isSafe(_.init)&&this.isSafe(_.test)),ft){const ct=tt.join(""),mt=ct[ct.length-1]!==";";$.push(`for (${ct}${mt?";":""}${st.join("")};${lt.join("")}){
`),$.push(ht.join("")),$.push(`}
`)}else{const ct=this.getInternalVariableName("safeI");tt.length>0&&$.push(tt.join(""),`
`),$.push(`for (int ${ct}=0;${ct}<LOOP_MAX;${ct}++){
`),st.length>0&&$.push(`if (!${st.join("")}) break;
`),$.push(ht.join("")),$.push(`
${lt.join("")};`),$.push(`}
`)}return $}astWhileStatement(_,$){if(_.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",_);const tt=this.getInternalVariableName("safeI");return $.push(`for (int ${tt}=0;${tt}<LOOP_MAX;${tt}++){
`),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),this.astGeneric(_.body,$),$.push(`}
`),$}astDoWhileStatement(_,$){if(_.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",_);const tt=this.getInternalVariableName("safeI");return $.push(`for (int ${tt}=0;${tt}<LOOP_MAX;${tt}++){
`),this.astGeneric(_.body,$),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),$.push(`}
`),$}astAssignmentExpression(_,$){if(_.operator==="%=")this.astGeneric(_.left,$),$.push("="),$.push("mod("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else if(_.operator==="**=")this.astGeneric(_.left,$),$.push("="),$.push("pow("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else{const tt=this.getType(_.left),st=this.getType(_.right);return this.astGeneric(_.left,$),$.push(_.operator),tt!=="Integer"&&st==="Integer"?($.push("float("),this.astGeneric(_.right,$),$.push(")")):this.astGeneric(_.right,$),$}}astBlockStatement(_,$){if(this.isState("loop-body")){this.pushState("block-body");for(let tt=0;tt<_.body.length;tt++)this.astGeneric(_.body[tt],$);this.popState("block-body")}else{$.push(`{
`);for(let tt=0;tt<_.body.length;tt++)this.astGeneric(_.body[tt],$);$.push(`}
`)}return $}astVariableDeclaration(_,$){const tt=_.declarations;if(!tt||!tt[0]||!tt[0].init)throw this.astErrorOutput("Unexpected expression",_);const st=[];let lt=null;const ht=[];let ft=[];for(let ct=0;ct<tt.length;ct++){const mt=tt[ct],gt=mt.init,yt=this.getDeclaration(mt.id),ut=this.getType(mt.init);let wt=ut;wt==="LiteralInteger"&&(yt.suggestedType==="Integer"?wt="Integer":wt="Number");const bt=nt[wt];if(!bt)throw this.astErrorOutput(`Markup type ${wt} not handled`,_);const vt=[];if(ut==="Integer"&&wt==="Integer"){if(yt.valueType="Number",ct===0||lt===null)vt.push("float ");else if(wt!==lt)throw new Error("Unhandled declaration");lt=wt,vt.push(`user_${et.sanitizeName(mt.id.name)}=`),vt.push("float("),this.astGeneric(gt,vt),vt.push(")")}else yt.valueType=wt,ct===0||lt===null?vt.push(`${bt} `):wt!==lt&&(ht.push(ft.join(",")),ft=[],vt.push(`${bt} `)),lt=wt,vt.push(`user_${et.sanitizeName(mt.id.name)}=`),ut==="Number"&&wt==="Integer"?gt.left&&gt.left.type==="Literal"?this.astGeneric(gt,vt):(vt.push("int("),this.astGeneric(gt,vt),vt.push(")")):ut==="LiteralInteger"&&wt==="Integer"?this.castLiteralToInteger(gt,vt):this.astGeneric(gt,vt);ft.push(vt.join(""))}return ft.length>0&&ht.push(ft.join(",")),st.push(ht.join(";")),$.push(st.join("")),$.push(";"),$}astIfStatement(_,$){return $.push("if ("),this.astGeneric(_.test,$),$.push(")"),_.consequent.type==="BlockStatement"?this.astGeneric(_.consequent,$):($.push(` {
`),this.astGeneric(_.consequent,$),$.push(`
}
`)),_.alternate&&($.push("else "),_.alternate.type==="BlockStatement"||_.alternate.type==="IfStatement"?this.astGeneric(_.alternate,$):($.push(` {
`),this.astGeneric(_.alternate,$),$.push(`
}
`))),$}astSwitchStatement(_,$){if(_.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",_);const{discriminant:tt,cases:st}=_,lt=this.getType(tt),ht=`switchDiscriminant${this.astKey(_,"_")}`;switch(lt){case"Float":case"Number":$.push(`float ${ht} = `),this.astGeneric(tt,$),$.push(`;
`);break;case"Integer":$.push(`int ${ht} = `),this.astGeneric(tt,$),$.push(`;
`);break}if(st.length===1&&!st[0].test)return this.astGeneric(st[0].consequent,$),$;let ft=!1,ct=[],mt=!1,gt=!1;for(let yt=0;yt<st.length;yt++){if(st[yt].test){if(yt===0||!gt?(gt=!0,$.push(`if (${ht} == `)):ft?($.push(`${ht} == `),ft=!1):$.push(` else if (${ht} == `),lt==="Integer")switch(this.getType(st[yt].test)){case"Number":case"Float":this.castValueToInteger(st[yt].test,$);break;case"LiteralInteger":this.castLiteralToInteger(st[yt].test,$);break}else if(lt==="Float")switch(this.getType(st[yt].test)){case"LiteralInteger":this.castLiteralToFloat(st[yt].test,$);break;case"Integer":this.castValueToFloat(st[yt].test,$);break}else throw new Error("unhanlded");if(!st[yt].consequent||st[yt].consequent.length===0){ft=!0,$.push(" || ");continue}$.push(`) {
`)}else if(st.length>yt+1){mt=!0,this.astGeneric(st[yt].consequent,ct);continue}else $.push(` else {
`);this.astGeneric(st[yt].consequent,$),$.push(`
}`)}return mt&&($.push(" else {"),$.push(ct.join("")),$.push("}")),$}astThisExpression(_,$){return $.push("this"),$}astMemberExpression(_,$){const{property:tt,name:st,signature:lt,origin:ht,type:ft,xProperty:ct,yProperty:mt,zProperty:gt}=this.getMemberExpressionDetails(_);switch(lt){case"value.thread.value":case"this.thread.value":if(st!=="x"&&st!=="y"&&st!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",_);return $.push(`threadId.${st}`),$;case"this.output.value":if(this.dynamicOutput)switch(st){case"x":this.isState("casting-to-float")?$.push("float(uOutputDim.x)"):$.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?$.push("float(uOutputDim.y)"):$.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?$.push("float(uOutputDim.z)"):$.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",_)}else switch(st){case"x":this.isState("casting-to-integer")?$.push(this.output[0]):$.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?$.push(this.output[1]):$.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?$.push(this.output[2]):$.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",_)}return $;case"value":throw this.astErrorOutput("Unexpected expression",_);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(ht==="Math")return $.push(Math[st]),$;const ut=et.sanitizeName(st);switch(tt){case"r":return $.push(`user_${ut}.r`),$;case"g":return $.push(`user_${ut}.g`),$;case"b":return $.push(`user_${ut}.b`),$;case"a":return $.push(`user_${ut}.a`),$}break;case"this.constants.value":if(typeof ct>"u")switch(ft){case"Array(2)":case"Array(3)":case"Array(4)":return $.push(`constants_${et.sanitizeName(st)}`),$}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(tt)),$.push("]"),$;case"fn()[][]":return this.astCallExpression(_.object.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.object.property)),$.push("]"),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.property)),$.push("]"),$;case"[][]":return this.astArrayExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(tt)),$.push("]"),$;default:throw this.astErrorOutput("Unexpected expression",_)}if(_.computed===!1)switch(ft){case"Number":case"Integer":case"Float":case"Boolean":return $.push(`${ht}_${et.sanitizeName(st)}`),$}const yt=`${ht}_${et.sanitizeName(st)}`;switch(ft){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(ct)),$.push("]");break;case"HTMLImageArray":$.push(`getImage3D(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"ArrayTexture(1)":$.push(`getFloatFromSampler2D(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":$.push(`getMemoryOptimizedVec2(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"ArrayTexture(2)":$.push(`getVec2FromSampler2D(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":$.push(`getMemoryOptimizedVec3(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"ArrayTexture(3)":$.push(`getVec3FromSampler2D(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":$.push(`getMemoryOptimizedVec4(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`getVec4FromSampler2D(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")$.push(`getMemoryOptimized32(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");else{const ut=ht==="user"?this.lookupFunctionArgumentBitRatio(this.name,st):this.constantBitRatios[st];switch(ut){case 1:$.push(`get8(${yt}, ${yt}Size, ${yt}Dim, `);break;case 2:$.push(`get16(${yt}, ${yt}Size, ${yt}Dim, `);break;case 4:case 0:$.push(`get32(${yt}, ${yt}Size, ${yt}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${ut}`)}this.memberExpressionXYZ(ct,mt,gt,$),$.push(")")}break;case"MemoryOptimizedNumberTexture":$.push(`getMemoryOptimized32(${yt}, ${yt}Size, ${yt}Dim, `),this.memberExpressionXYZ(ct,mt,gt,$),$.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`${yt}[${this.memberExpressionPropertyMarkup(mt)}]`),mt&&$.push(`[${this.memberExpressionPropertyMarkup(ct)}]`);break;default:throw new Error(`unhandled member expression "${ft}"`)}return $}astCallExpression(_,$){if(!_.callee)throw this.astErrorOutput("Unknown CallExpression",_);let tt=null;const st=this.isAstMathFunction(_);if(st||_.callee.object&&_.callee.object.type==="ThisExpression"?tt=_.callee.property.name:_.callee.type==="SequenceExpression"&&_.callee.expressions[0].type==="Literal"&&!isNaN(_.callee.expressions[0].raw)?tt=_.callee.expressions[1].property.name:tt=_.callee.name,!tt)throw this.astErrorOutput("Unhandled function, couldn't find name",_);switch(tt){case"pow":tt="_pow";break;case"round":tt="_round";break}if(this.calledFunctions.indexOf(tt)<0&&this.calledFunctions.push(tt),tt==="random"&&this.plugins&&this.plugins.length>0)for(let lt=0;lt<this.plugins.length;lt++){const ht=this.plugins[lt];if(ht.functionMatch==="Math.random()"&&ht.functionReplace)return $.push(ht.functionReplace),$}if(this.onFunctionCall&&this.onFunctionCall(this.name,tt,_.arguments),$.push(tt),$.push("("),st)for(let lt=0;lt<_.arguments.length;++lt){const ht=_.arguments[lt],ft=this.getType(ht);switch(lt>0&&$.push(", "),ft){case"Integer":this.castValueToFloat(ht,$);break;default:this.astGeneric(ht,$);break}}else{const lt=this.lookupFunctionArgumentTypes(tt)||[];for(let ht=0;ht<_.arguments.length;++ht){const ft=_.arguments[ht];let ct=lt[ht];ht>0&&$.push(", ");const mt=this.getType(ft);switch(ct||(this.triggerImplyArgumentType(tt,ht,mt,this),ct=mt),mt){case"Boolean":this.astGeneric(ft,$);continue;case"Number":case"Float":if(ct==="Integer"){$.push("int("),this.astGeneric(ft,$),$.push(")");continue}else if(ct==="Number"||ct==="Float"){this.astGeneric(ft,$);continue}else if(ct==="LiteralInteger"){this.castLiteralToFloat(ft,$);continue}break;case"Integer":if(ct==="Number"||ct==="Float"){$.push("float("),this.astGeneric(ft,$),$.push(")");continue}else if(ct==="Integer"){this.astGeneric(ft,$);continue}break;case"LiteralInteger":if(ct==="Integer"){this.castLiteralToInteger(ft,$);continue}else if(ct==="Number"||ct==="Float"){this.castLiteralToFloat(ft,$);continue}else if(ct==="LiteralInteger"){this.astGeneric(ft,$);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(ct===mt){if(ft.type==="Identifier")$.push(`user_${et.sanitizeName(ft.name)}`);else if(ft.type==="ArrayExpression"||ft.type==="MemberExpression"||ft.type==="CallExpression")this.astGeneric(ft,$);else throw this.astErrorOutput(`Unhandled argument type ${ft.type}`,_);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(ct===mt){if(ft.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${ft.type}`,_);this.triggerImplyArgumentBitRatio(this.name,ft.name,tt,ht);const gt=et.sanitizeName(ft.name);$.push(`user_${gt},user_${gt}Size,user_${gt}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${mt} and ${ct} for argument named "${ft.name}"`,_)}}return $.push(")"),$}astArrayExpression(_,$){const tt=this.getType(_),st=_.elements.length;switch(tt){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`mat${st}(`);break;default:$.push(`vec${st}(`)}for(let lt=0;lt<st;++lt){lt>0&&$.push(", ");const ht=_.elements[lt];this.astGeneric(ht,$)}return $.push(")"),$}memberExpressionXYZ(_,$,tt,st){return tt?st.push(this.memberExpressionPropertyMarkup(tt),", "):st.push("0, "),$?st.push(this.memberExpressionPropertyMarkup($),", "):st.push("0, "),st.push(this.memberExpressionPropertyMarkup(_)),st}memberExpressionPropertyMarkup(_){if(!_)throw new Error("Property not set");const $=this.getType(_),tt=[];switch($){case"Number":case"Float":this.castValueToInteger(_,tt);break;case"LiteralInteger":this.castLiteralToInteger(_,tt);break;default:this.astGeneric(_,tt)}return tt.join("")}}const nt={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},it={"===":"==","!==":"!="};o.exports={WebGLFunctionNode:ot}},{"../../utils":114,"../function-node":10}],39:[function(a,o,rt){const{WebGLKernelValueBoolean:et}=a("./kernel-value/boolean"),{WebGLKernelValueFloat:at}=a("./kernel-value/float"),{WebGLKernelValueInteger:ot}=a("./kernel-value/integer"),{WebGLKernelValueHTMLImage:nt}=a("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:it}=a("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:j}=a("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:_}=a("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:$}=a("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:tt}=a("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:st}=a("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:lt}=a("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:ht}=a("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ft}=a("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:ct}=a("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:mt}=a("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:gt}=a("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:yt}=a("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:ut}=a("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:wt}=a("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:bt}=a("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:vt}=a("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:Et}=a("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:$t}=a("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:Tt}=a("./kernel-value/array2"),{WebGLKernelValueArray3:At}=a("./kernel-value/array3"),{WebGLKernelValueArray4:Ct}=a("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:It}=a("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:Lt}=a("./kernel-value/dynamic-unsigned-array"),Ft={unsigned:{dynamic:{Boolean:et,Integer:ot,Float:at,Array:Lt,"Array(2)":Tt,"Array(3)":At,"Array(4)":Ct,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:lt,NumberTexture:mt,"ArrayTexture(1)":mt,"ArrayTexture(2)":mt,"ArrayTexture(3)":mt,"ArrayTexture(4)":mt,MemoryOptimizedNumberTexture:ft,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:et,Float:at,Integer:ot,Array:It,"Array(2)":Tt,"Array(3)":At,"Array(4)":Ct,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:st,NumberTexture:ct,"ArrayTexture(1)":ct,"ArrayTexture(2)":ct,"ArrayTexture(3)":ct,"ArrayTexture(4)":ct,MemoryOptimizedNumberTexture:ht,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:!1,HTMLVideo:j}},single:{dynamic:{Boolean:et,Integer:ot,Float:at,Array:yt,"Array(2)":Tt,"Array(3)":At,"Array(4)":Ct,"Array1D(2)":wt,"Array1D(3)":wt,"Array1D(4)":wt,"Array2D(2)":vt,"Array2D(3)":vt,"Array2D(4)":vt,"Array3D(2)":$t,"Array3D(3)":$t,"Array3D(4)":$t,Input:tt,NumberTexture:mt,"ArrayTexture(1)":mt,"ArrayTexture(2)":mt,"ArrayTexture(3)":mt,"ArrayTexture(4)":mt,MemoryOptimizedNumberTexture:ft,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:et,Float:at,Integer:ot,Array:gt,"Array(2)":Tt,"Array(3)":At,"Array(4)":Ct,"Array1D(2)":ut,"Array1D(3)":ut,"Array1D(4)":ut,"Array2D(2)":bt,"Array2D(3)":bt,"Array2D(4)":bt,"Array3D(2)":Et,"Array3D(3)":Et,"Array3D(4)":Et,Input:$,NumberTexture:ct,"ArrayTexture(1)":ct,"ArrayTexture(2)":ct,"ArrayTexture(3)":ct,"ArrayTexture(4)":ct,MemoryOptimizedNumberTexture:ht,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:!1,HTMLVideo:j}}};function Dt(Vt,Ut,Qt,Kt){if(!Vt)throw new Error("type missing");if(!Ut)throw new Error("dynamic missing");if(!Qt)throw new Error("precision missing");Kt.type&&(Vt=Kt.type);const Ht=Ft[Qt][Ut];if(Ht[Vt]===!1)return null;if(Ht[Vt]===void 0)throw new Error(`Could not find a KernelValue for ${Vt}`);return Ht[Vt]}o.exports={lookupKernelValueType:Dt,kernelValueMaps:Ft}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(a,o,rt){const{WebGLKernelValue:et}=a("./index"),{Input:at}=a("../../../input");class ot extends et{checkSize(it,j){if(!this.kernel.validate)return;const{maxTextureSize:_}=this.kernel.constructor.features;if(it>_||j>_)throw it>j?new Error(`Argument texture width of ${it} larger than maximum size of ${_} for your GPU`):it<j?new Error(`Argument texture height of ${j} larger than maximum size of ${_} for your GPU`):new Error(`Argument texture height and width of ${j} larger than maximum size of ${_} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:it}=this;it.activeTexture(this.contextHandle),it.bindTexture(it.TEXTURE_2D,this.texture),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_S,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_T,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MIN_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MAG_FILTER,it.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(it){if(Array.isArray(it[0]))return this.getBitRatio(it[0]);if(it.constructor===at)return this.getBitRatio(it.value);switch(it.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}o.exports={WebGLKernelArray:ot}},{"../../../input":110,"./index":59}],41:[function(a,o,rt){const{WebGLKernelValue:et}=a("./index");class at extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getSource(nt){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${nt[0]},${nt[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=nt)}}o.exports={WebGLKernelValueArray2:at}},{"./index":59}],42:[function(a,o,rt){const{WebGLKernelValue:et}=a("./index");class at extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getSource(nt){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${nt[0]},${nt[1]},${nt[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=nt)}}o.exports={WebGLKernelValueArray3:at}},{"./index":59}],43:[function(a,o,rt){const{WebGLKernelValue:et}=a("./index");class at extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getSource(nt){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${nt[0]},${nt[1]},${nt[2]},${nt[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=nt)}}o.exports={WebGLKernelValueArray4:at}},{"./index":59}],44:[function(a,o,rt){a("../../../utils");const{WebGLKernelValue:et}=a("./index");class at extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getSource(nt){return this.origin==="constants"?`const bool ${this.id} = ${nt};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=nt)}}o.exports={WebGLKernelValueBoolean:at}},{"../../../utils":114,"./index":59}],45:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueHTMLImage:at}=a("./html-image");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){const{width:j,height:_}=it;this.checkSize(j,_),this.dimensions=[j,_,1],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicHTMLImage:ot}},{"../../../utils":114,"./html-image":57}],46:[function(a,o,rt){const{WebGLKernelValueDynamicHTMLImage:et}=a("./dynamic-html-image");class at extends et{}o.exports={WebGLKernelValueDynamicHTMLVideo:at}},{"./dynamic-html-image":45}],47:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:at}=a("./memory-optimized-number-texture");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=it.dimensions,this.checkSize(it.size[0],it.size[1]),this.textureSize=it.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueNumberTexture:at}=a("./number-texture");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=it.dimensions,this.checkSize(it.size[0],it.size[1]),this.textureSize=it.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicNumberTexture:ot}},{"../../../utils":114,"./number-texture":62}],49:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleArray:at}=a("./single-array");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicSingleArray:ot}},{"../../../utils":114,"./single-array":63}],50:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleArray1DI:at}=a("./single-array1d-i");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicSingleArray1DI:ot}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleArray2DI:at}=a("./single-array2d-i");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicSingleArray2DI:ot}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleArray3DI:at}=a("./single-array3d-i");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicSingleArray3DI:ot}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleInput:at}=a("./single-input");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicSingleInput:ot}},{"../../../utils":114,"./single-input":67}],54:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueUnsignedArray:at}=a("./unsigned-array");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const j=this.getTransferArrayType(it);this.preUploadValue=new j(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicUnsignedArray:ot}},{"../../../utils":114,"./unsigned-array":68}],55:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueUnsignedInput:at}=a("./unsigned-input");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=et.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const tt=this.getTransferArrayType(it.value);this.preUploadValue=new tt(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGLKernelValueDynamicUnsignedInput:ot}},{"../../../utils":114,"./unsigned-input":69}],56:[function(a,o,rt){a("../../../utils");const{WebGLKernelValue:et}=a("./index");class at extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(nt){return this.origin==="constants"?Number.isInteger(nt)?`const float ${this.id} = ${nt}.0;
`:`const float ${this.id} = ${nt};
`:`uniform float ${this.id};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=nt)}}o.exports={WebGLKernelValueFloat:at}},{"../../../utils":114,"./index":59}],57:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(it,j){super(it,j);const{width:_,height:$}=it;this.checkSize(_,$),this.dimensions=[_,$,1],this.textureSize=[_,$],this.uploadValue=it}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=it),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueHTMLImage:ot}},{"../../../utils":114,"./array":40}],58:[function(a,o,rt){const{WebGLKernelValueHTMLImage:et}=a("./html-image");class at extends et{}o.exports={WebGLKernelValueHTMLVideo:at}},{"./html-image":57}],59:[function(a,o,rt){const{utils:et}=a("../../../utils"),{KernelValue:at}=a("../../kernel-value");class ot extends at{constructor(it,j){super(it,j),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=it.constructor,this.onRequestTexture=j.onRequestTexture,this.onRequestIndex=j.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${et.sanitizeName(this.name)}`}setup(){}getTransferArrayType(it){if(Array.isArray(it[0]))return this.getTransferArrayType(it[0]);switch(it.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return it.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),it.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}o.exports={WebGLKernelValue:ot}},{"../../../utils":114,"../../kernel-value":35}],60:[function(a,o,rt){a("../../../utils");const{WebGLKernelValue:et}=a("./index");class at extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(nt){return this.origin==="constants"?`const int ${this.id} = ${parseInt(nt)};
`:`uniform int ${this.id};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=nt)}}o.exports={WebGLKernelValueInteger:at}},{"../../../utils":114,"./index":59}],61:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array"),ot="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class nt extends at{constructor(j,_){super(j,_);const[$,tt]=j.size;this.checkSize($,tt),this.dimensions=j.dimensions,this.textureSize=j.size,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(ot);if(_.mappedTextures){const{mappedTextures:tt}=_;for(let st=0;st<tt.length;st++)if(tt[st].texture===j.texture)throw new Error(ot)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueMemoryOptimizedNumberTexture:nt,sameError:ot}},{"../../../utils":114,"./array":40}],62:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array"),{sameError:ot}=a("./memory-optimized-number-texture");class nt extends at{constructor(j,_){super(j,_);const[$,tt]=j.size;this.checkSize($,tt);const{size:st,dimensions:lt}=j;this.bitRatio=this.getBitRatio(j),this.dimensions=lt,this.textureSize=st,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(ot);if(_.mappedTextures){const{mappedTextures:tt}=_;for(let st=0;st<tt.length;st++)if(tt[st].texture===j.texture)throw new Error(ot)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueNumberTexture:nt}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(it,j){super(it,j),this.bitRatio=4,this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleArray:ot}},{"../../../utils":114,"./array":40}],64:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=et.getDimensions(it,!0);this.textureSize=et.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flatten2dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleArray1DI:ot}},{"../../../utils":114,"./array":40}],65:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=et.getDimensions(it,!0);this.textureSize=et.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flatten3dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleArray2DI:ot}},{"../../../utils":114,"./array":40}],66:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=et.getDimensions(it,!0);this.textureSize=et.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],j[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flatten4dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleArray3DI:ot}},{"../../../utils":114,"./array":40}],67:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(it,j){super(it,j),this.bitRatio=4;let[_,$,tt]=it.size;this.dimensions=new Int32Array([_||1,$||1,tt||1]),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueSingleInput:ot}},{"../../../utils":114,"./array":40}],68:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(it,j){super(it,j),this.bitRatio=this.getBitRatio(it),this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(it),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return et.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueUnsignedArray:ot}},{"../../../utils":114,"./array":40}],69:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("./array");class ot extends at{constructor(it,j){super(it,j),this.bitRatio=this.getBitRatio(it);const[_,$,tt]=it.size;this.dimensions=new Int32Array([_||1,$||1,tt||1]),this.textureSize=et.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(it.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return et.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:j}=this;et.flattenTo(it.value,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGLKernelValueUnsignedInput:ot}},{"../../../utils":114,"./array":40}],70:[function(a,o,rt){const{GLKernel:et}=a("../gl/kernel"),{FunctionBuilder:at}=a("../function-builder"),{WebGLFunctionNode:ot}=a("./function-node"),{utils:nt}=a("../../utils"),it=a("../../plugins/math-random-uniformly-distributed"),{fragmentShader:j}=a("./fragment-shader"),{vertexShader:_}=a("./vertex-shader"),{glKernelString:$}=a("../gl/kernel-string"),{lookupKernelValueType:tt}=a("./kernel-value-maps");let st=null,lt=null,ht=null,ft=null,ct=null;const mt=[it],gt=[],yt={};class ut extends et{static get isSupported(){return st!==null||(this.setupFeatureChecks(),st=this.isContextMatch(ht)),st}static setupFeatureChecks(){typeof document<"u"?lt=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(lt=new OffscreenCanvas(0,0)),lt&&(ht=lt.getContext("webgl")||lt.getContext("experimental-webgl"),!(!ht||!ht.getExtension)&&(ft={OES_texture_float:ht.getExtension("OES_texture_float"),OES_texture_float_linear:ht.getExtension("OES_texture_float_linear"),OES_element_index_uint:ht.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:ht.getExtension("WEBGL_draw_buffers")},ct=this.getFeatures()))}static isContextMatch(bt){return typeof WebGLRenderingContext<"u"?bt instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return!!ft.OES_texture_float}static getIsDrawBuffers(){return!!ft.WEBGL_draw_buffers}static getChannelCount(){return ft.WEBGL_draw_buffers?ht.getParameter(ft.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return ht.getParameter(ht.MAX_TEXTURE_SIZE)}static lookupKernelValueType(bt,vt,Et,$t){return tt(bt,vt,Et,$t)}static get testCanvas(){return lt}static get testContext(){return ht}static get features(){return ct}static get fragmentShader(){return j}static get vertexShader(){return _}constructor(bt,vt){super(bt,vt),this.program=null,this.pipeline=vt.pipeline,this.endianness=nt.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(bt.settings||vt),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const bt=document.createElement("canvas");return bt.width=2,bt.height=2,bt}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const bt={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",bt)||this.canvas.getContext("experimental-webgl",bt)}initPlugins(bt){const vt=[],{source:Et}=this;if(typeof Et=="string")for(let $t=0;$t<mt.length;$t++){const Tt=mt[$t];Et.match(Tt.functionMatch)&&vt.push(Tt)}else if(typeof Et=="object"&&bt.pluginNames)for(let $t=0;$t<mt.length;$t++){const Tt=mt[$t];bt.pluginNames.some(Ct=>Ct===Tt.name)&&vt.push(Tt)}return vt}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(bt){if(!this.validate){this.texSize=nt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:vt}=this.constructor;if(this.optimizeFloatMemory===!0&&!vt.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!vt.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&vt.isTextureFloat&&(this.precision=vt.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!vt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&vt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(bt.length!==1)throw new Error("Auto output only supported for kernels with only one input");const Et=nt.getVariableType(bt[0],this.strictIntegers);switch(Et){case"Array":this.output=nt.getDimensions(Et);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=bt[0].output;break;default:throw new Error("Auto output not supported for input type: "+Et)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=nt.clone(this.output);return}else this.precision===null&&vt.isTextureFloat&&(this.precision="single");this.texSize=nt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:bt,canvas:vt}=this;if(this.maxTexSize===null){let Et=gt.indexOf(vt);Et===-1&&(Et=gt.length,gt.push(vt),yt[Et]=[bt[0],bt[1]]),this.maxTexSize=yt[Et]}this.maxTexSize[0]<bt[0]&&(this.maxTexSize[0]=bt[0]),this.maxTexSize[1]<bt[1]&&(this.maxTexSize[1]=bt[1])}setupArguments(bt){this.kernelArguments=[],this.argumentTextureCount=0;const vt=this.argumentTypes===null;if(vt&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],bt.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(bt.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:Et}=this;let $t=0;const Tt=()=>this.createTexture(),At=()=>this.constantTextureCount+$t++,Ct=Lt=>{this.switchKernels({type:"argumentMismatch",needed:Lt})},It=()=>Et.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let Lt=0;Lt<bt.length;Lt++){const Ft=bt[Lt],Dt=this.argumentNames[Lt];let Vt;vt?(Vt=nt.getVariableType(Ft,this.strictIntegers),this.argumentTypes.push(Vt)):Vt=this.argumentTypes[Lt];const Ut=this.constructor.lookupKernelValueType(Vt,this.dynamicArguments?"dynamic":"static",this.precision,bt[Lt]);if(Ut===null)return this.requestFallback(bt);const Qt=new Ut(Ft,{name:Dt,type:Vt,tactic:this.tactic,origin:"user",context:Et,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:Tt,onRequestIndex:At,onUpdateValueMismatch:Ct,onRequestContextHandle:It});this.kernelArguments.push(Qt),Qt.setup(),this.argumentSizes.push(Qt.textureSize),this.argumentBitRatios[Lt]=Qt.bitRatio}}createTexture(){const bt=this.context.createTexture();return this.textureCache.push(bt),bt}setupConstants(bt){const{context:vt}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let Et=this.constantTypes===null;Et&&(this.constantTypes={}),this.constantBitRatios={};let $t=0;for(const Tt in this.constants){const At=this.constants[Tt];let Ct;Et?(Ct=nt.getVariableType(At,this.strictIntegers),this.constantTypes[Tt]=Ct):Ct=this.constantTypes[Tt];const It=this.constructor.lookupKernelValueType(Ct,"static",this.precision,At);if(It===null)return this.requestFallback(bt);const Lt=new It(At,{name:Tt,type:Ct,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>$t++,onRequestContextHandle:()=>vt.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[Tt]=Lt.bitRatio,this.kernelConstants.push(Lt),Lt.setup(),Lt.forceUploadEachRun&&this.forceUploadKernelConstants.push(Lt)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const bt=this.pickRenderStrategy(arguments);if(bt)return bt;const{texSize:vt,context:Et,canvas:$t}=this;Et.enable(Et.SCISSOR_TEST),this.pipeline&&this.precision==="single"?(Et.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),$t.width=this.maxTexSize[0],$t.height=this.maxTexSize[1]):(Et.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),$t.width=this.maxTexSize[0],$t.height=this.maxTexSize[1]);const Tt=this.threadDim=Array.from(this.output);for(;Tt.length<3;)Tt.push(1);const At=this.getVertexShader(arguments),Ct=Et.createShader(Et.VERTEX_SHADER);Et.shaderSource(Ct,At),Et.compileShader(Ct),this.vertShader=Ct;const It=this.getFragmentShader(arguments),Lt=Et.createShader(Et.FRAGMENT_SHADER);if(Et.shaderSource(Lt,It),Et.compileShader(Lt),this.fragShader=Lt,this.debug&&(console.log("GLSL Shader Output:"),console.log(It)),!Et.getShaderParameter(Ct,Et.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+Et.getShaderInfoLog(Ct));if(!Et.getShaderParameter(Lt,Et.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+Et.getShaderInfoLog(Lt));const Ft=this.program=Et.createProgram();Et.attachShader(Ft,Ct),Et.attachShader(Ft,Lt),Et.linkProgram(Ft),this.framebuffer=Et.createFramebuffer(),this.framebuffer.width=vt[0],this.framebuffer.height=vt[1],this.rawValueFramebuffers={};const Dt=new Float32Array([-1,-1,1,-1,-1,1,1,1]),Vt=new Float32Array([0,0,1,0,0,1,1,1]),Ut=Dt.byteLength;let Qt=this.buffer;Qt?Et.bindBuffer(Et.ARRAY_BUFFER,Qt):(Qt=this.buffer=Et.createBuffer(),Et.bindBuffer(Et.ARRAY_BUFFER,Qt),Et.bufferData(Et.ARRAY_BUFFER,Dt.byteLength+Vt.byteLength,Et.STATIC_DRAW)),Et.bufferSubData(Et.ARRAY_BUFFER,0,Dt),Et.bufferSubData(Et.ARRAY_BUFFER,Ut,Vt);const Kt=Et.getAttribLocation(this.program,"aPos");Et.enableVertexAttribArray(Kt),Et.vertexAttribPointer(Kt,2,Et.FLOAT,!1,0,0);const Ht=Et.getAttribLocation(this.program,"aTexCoord");Et.enableVertexAttribArray(Ht),Et.vertexAttribPointer(Ht,2,Et.FLOAT,!1,0,Ut),Et.bindFramebuffer(Et.FRAMEBUFFER,this.framebuffer);let qt=0;Et.useProgram(this.program);for(let nr in this.constants)this.kernelConstants[qt++].updateValue(this.constants[nr]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const bt=at.fromKernel(this,ot,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=bt.getPrototypeString("kernel"),this.setupReturnTypes(bt)}setupReturnTypes(bt){if(!this.graphical&&!this.returnType&&(this.returnType=bt.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let vt=0;vt<this.subKernels.length;vt++){const Et=this.subKernels[vt];Et.returnType||(Et.returnType=bt.getSubKernelResultType(vt))}}run(){const{kernelArguments:bt,texSize:vt,forceUploadKernelConstants:Et,context:$t}=this;$t.useProgram(this.program),$t.scissor(0,0,vt[0],vt[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",vt)),this.setUniform2f("ratio",vt[0]/this.maxTexSize[0],vt[1]/this.maxTexSize[1]);for(let Tt=0;Tt<Et.length;Tt++){const At=Et[Tt];if(At.updateValue(this.constants[At.name]),this.switchingKernels)return}for(let Tt=0;Tt<bt.length;Tt++)if(bt[Tt].updateValue(arguments[Tt]),this.switchingKernels)return;if(this.plugins)for(let Tt=0;Tt<this.plugins.length;Tt++){const At=this.plugins[Tt];At.onBeforeRun&&At.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return $t.bindRenderbuffer($t.RENDERBUFFER,null),$t.bindFramebuffer($t.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),$t.drawArrays($t.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;$t.bindRenderbuffer($t.RENDERBUFFER,null),$t.bindFramebuffer($t.FRAMEBUFFER,null),$t.drawArrays($t.TRIANGLE_STRIP,0,4);return}$t.bindFramebuffer($t.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),$t.drawArrays($t.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:bt}=this;switch(this.getInternalFormat()){case bt.RGBA:return bt.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const bt=this.context;bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const bt=this.context,vt=this.texSize;if(this.texture){bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,this.texture.texture,0);return}const Et=this.createTexture();bt.activeTexture(bt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),bt.bindTexture(bt.TEXTURE_2D,Et),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_WRAP_S,bt.CLAMP_TO_EDGE),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_WRAP_T,bt.CLAMP_TO_EDGE),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_MIN_FILTER,bt.NEAREST),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_MAG_FILTER,bt.NEAREST);const $t=this.getInternalFormat();this.precision==="single"?bt.texImage2D(bt.TEXTURE_2D,0,$t,vt[0],vt[1],0,bt.RGBA,bt.FLOAT,null):bt.texImage2D(bt.TEXTURE_2D,0,$t,vt[0],vt[1],0,$t,bt.UNSIGNED_BYTE,null),bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,Et,0),this.texture=new this.TextureConstructor({texture:Et,size:vt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const bt=this.context;for(let vt=0;vt<this.mappedTextures.length;vt++){const Et=this.mappedTextures[vt];(Et.beforeMutate()||this._mappedTextureSwitched[vt])&&(bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0+vt+1,bt.TEXTURE_2D,Et.texture,0),this._mappedTextureSwitched[vt]=!1)}}_setupSubOutputTextures(){const bt=this.context;if(this.mappedTextures){for(let Et=0;Et<this.subKernels.length;Et++)bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0+Et+1,bt.TEXTURE_2D,this.mappedTextures[Et].texture,0);return}const vt=this.texSize;this.drawBuffersMap=[bt.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let Et=0;Et<this.subKernels.length;Et++){const $t=this.createTexture();this.drawBuffersMap.push(bt.COLOR_ATTACHMENT0+Et+1),bt.activeTexture(bt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+Et),bt.bindTexture(bt.TEXTURE_2D,$t),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_WRAP_S,bt.CLAMP_TO_EDGE),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_WRAP_T,bt.CLAMP_TO_EDGE),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_MIN_FILTER,bt.NEAREST),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_MAG_FILTER,bt.NEAREST),this.precision==="single"?bt.texImage2D(bt.TEXTURE_2D,0,bt.RGBA,vt[0],vt[1],0,bt.RGBA,bt.FLOAT,null):bt.texImage2D(bt.TEXTURE_2D,0,bt.RGBA,vt[0],vt[1],0,bt.RGBA,bt.UNSIGNED_BYTE,null),bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0+Et+1,bt.TEXTURE_2D,$t,0),this.mappedTextures.push(new this.TextureConstructor({texture:$t,size:vt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(bt,vt){if(this.uniform1fCache.hasOwnProperty(bt)){const $t=this.uniform1fCache[bt];if(vt===$t)return}this.uniform1fCache[bt]=vt;const Et=this.getUniformLocation(bt);this.context.uniform1f(Et,vt)}setUniform1i(bt,vt){if(this.uniform1iCache.hasOwnProperty(bt)){const $t=this.uniform1iCache[bt];if(vt===$t)return}this.uniform1iCache[bt]=vt;const Et=this.getUniformLocation(bt);this.context.uniform1i(Et,vt)}setUniform2f(bt,vt,Et){if(this.uniform2fCache.hasOwnProperty(bt)){const Tt=this.uniform2fCache[bt];if(vt===Tt[0]&&Et===Tt[1])return}this.uniform2fCache[bt]=[vt,Et];const $t=this.getUniformLocation(bt);this.context.uniform2f($t,vt,Et)}setUniform2fv(bt,vt){if(this.uniform2fvCache.hasOwnProperty(bt)){const $t=this.uniform2fvCache[bt];if(vt[0]===$t[0]&&vt[1]===$t[1])return}this.uniform2fvCache[bt]=vt;const Et=this.getUniformLocation(bt);this.context.uniform2fv(Et,vt)}setUniform2iv(bt,vt){if(this.uniform2ivCache.hasOwnProperty(bt)){const $t=this.uniform2ivCache[bt];if(vt[0]===$t[0]&&vt[1]===$t[1])return}this.uniform2ivCache[bt]=vt;const Et=this.getUniformLocation(bt);this.context.uniform2iv(Et,vt)}setUniform3fv(bt,vt){if(this.uniform3fvCache.hasOwnProperty(bt)){const $t=this.uniform3fvCache[bt];if(vt[0]===$t[0]&&vt[1]===$t[1]&&vt[2]===$t[2])return}this.uniform3fvCache[bt]=vt;const Et=this.getUniformLocation(bt);this.context.uniform3fv(Et,vt)}setUniform3iv(bt,vt){if(this.uniform3ivCache.hasOwnProperty(bt)){const $t=this.uniform3ivCache[bt];if(vt[0]===$t[0]&&vt[1]===$t[1]&&vt[2]===$t[2])return}this.uniform3ivCache[bt]=vt;const Et=this.getUniformLocation(bt);this.context.uniform3iv(Et,vt)}setUniform4fv(bt,vt){if(this.uniform4fvCache.hasOwnProperty(bt)){const $t=this.uniform4fvCache[bt];if(vt[0]===$t[0]&&vt[1]===$t[1]&&vt[2]===$t[2]&&vt[3]===$t[3])return}this.uniform4fvCache[bt]=vt;const Et=this.getUniformLocation(bt);this.context.uniform4fv(Et,vt)}setUniform4iv(bt,vt){if(this.uniform4ivCache.hasOwnProperty(bt)){const $t=this.uniform4ivCache[bt];if(vt[0]===$t[0]&&vt[1]===$t[1]&&vt[2]===$t[2]&&vt[3]===$t[3])return}this.uniform4ivCache[bt]=vt;const Et=this.getUniformLocation(bt);this.context.uniform4iv(Et,vt)}getUniformLocation(bt){return this.programUniformLocationCache.hasOwnProperty(bt)?this.programUniformLocationCache[bt]:this.programUniformLocationCache[bt]=this.context.getUniformLocation(this.program,bt)}_getFragShaderArtifactMap(bt){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(bt),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(bt){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(bt=>bt.source&&this.source.match(bt.functionMatch)?bt.source:"").join(`
`):`
`}_getConstantsString(){const bt=[],{threadDim:vt,texSize:Et}=this;return this.dynamicOutput?bt.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):bt.push(`ivec3 uOutputDim = ivec3(${vt[0]}, ${vt[1]}, ${vt[2]})`,`ivec2 uTexSize = ivec2(${Et[0]}, ${Et[1]})`),nt.linesToString(bt)}_getTextureCoordinate(){const bt=this.subKernels;return bt===null||bt.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(bt){const vt=[],{argumentNames:Et}=this;for(let $t=0;$t<Et.length;$t++)vt.push(this.kernelArguments[$t].getSource(bt[$t]));return vt.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const bt=[],{constants:vt}=this;if(vt){let Et=0;for(const $t in vt)this.constants.hasOwnProperty($t)&&bt.push(this.kernelConstants[Et++].getSource(this.constants[$t]))}return bt.join("")}getRawValueFramebuffer(bt,vt){if(this.rawValueFramebuffers[bt]||(this.rawValueFramebuffers[bt]={}),!this.rawValueFramebuffers[bt][vt]){const Et=this.context.createFramebuffer();Et.width=bt,Et.height=vt,this.rawValueFramebuffers[bt][vt]=Et}return this.rawValueFramebuffers[bt][vt]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const bt=[this.getKernelResultDeclaration()],{subKernels:vt}=this;if(vt!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let Et=0;Et<vt.length;Et++){const $t=vt[Et];bt.push($t.returnType==="Integer"?`int subKernelResult_${$t.name} = 0`:`float subKernelResult_${$t.name} = 0.0`)}break;case"Array(2)":for(let Et=0;Et<vt.length;Et++)bt.push(`vec2 subKernelResult_${vt[Et].name}`);break;case"Array(3)":for(let Et=0;Et<vt.length;Et++)bt.push(`vec3 subKernelResult_${vt[Et].name}`);break;case"Array(4)":for(let Et=0;Et<vt.length;Et++)bt.push(`vec4 subKernelResult_${vt[Et].name}`);break}return nt.linesToString(bt)+this.translatedSource}getMainResultGraphical(){return nt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return nt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const bt=[];if(!this.subKernels)return"";for(let vt=0;vt<this.subKernels.length;vt++)this.subKernels[vt].returnType==="Integer"?bt.push(`  gl_FragData[${vt+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[vt].name}))`):bt.push(`  gl_FragData[${vt+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[vt].name})`);return nt.linesToString(bt)}getMainResultMemoryOptimizedFloats(){const bt=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const vt=["r","g","b","a"];for(let Et=0;Et<vt.length;Et++){const $t=vt[Et];this.getMainResultKernelMemoryOptimizedFloats(bt,$t),this.getMainResultSubKernelMemoryOptimizedFloats(bt,$t),Et+1<vt.length&&bt.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return nt.linesToString(bt)}getMainResultKernelMemoryOptimizedFloats(bt,vt){bt.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${vt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(bt,vt){if(!this.subKernels)return bt;for(let Et=0;Et<this.subKernels.length;Et++)this.subKernels[Et].returnType==="Integer"?bt.push(`  gl_FragData[${Et+1}].${vt} = float(subKernelResult_${this.subKernels[Et].name})`):bt.push(`  gl_FragData[${Et+1}].${vt} = subKernelResult_${this.subKernels[Et].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const bt=[];if(!this.subKernels)return bt;for(let vt=0;vt<this.subKernels.length;++vt){const Et=this.subKernels[vt];Et.returnType==="Integer"?bt.push(`  gl_FragData[${vt+1}][0] = float(subKernelResult_${Et.name})`):bt.push(`  gl_FragData[${vt+1}][0] = subKernelResult_${Et.name}`)}return bt}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const bt=[];if(!this.subKernels)return bt;for(let vt=0;vt<this.subKernels.length;++vt)bt.push(`  gl_FragData[${vt+1}][0] = subKernelResult_${this.subKernels[vt].name}[0]`,`  gl_FragData[${vt+1}][1] = subKernelResult_${this.subKernels[vt].name}[1]`);return bt}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const bt=[];if(!this.subKernels)return bt;for(let vt=0;vt<this.subKernels.length;++vt)bt.push(`  gl_FragData[${vt+1}][0] = subKernelResult_${this.subKernels[vt].name}[0]`,`  gl_FragData[${vt+1}][1] = subKernelResult_${this.subKernels[vt].name}[1]`,`  gl_FragData[${vt+1}][2] = subKernelResult_${this.subKernels[vt].name}[2]`);return bt}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const bt=[];if(!this.subKernels)return bt;switch(this.returnType){case"Number":case"Float":case"Integer":for(let vt=0;vt<this.subKernels.length;++vt)this.subKernels[vt].returnType==="Integer"?bt.push(`  gl_FragData[${vt+1}] = float(subKernelResult_${this.subKernels[vt].name})`):bt.push(`  gl_FragData[${vt+1}] = subKernelResult_${this.subKernels[vt].name}`);break;case"Array(2)":for(let vt=0;vt<this.subKernels.length;++vt)bt.push(`  gl_FragData[${vt+1}][0] = subKernelResult_${this.subKernels[vt].name}[0]`,`  gl_FragData[${vt+1}][1] = subKernelResult_${this.subKernels[vt].name}[1]`);break;case"Array(3)":for(let vt=0;vt<this.subKernels.length;++vt)bt.push(`  gl_FragData[${vt+1}][0] = subKernelResult_${this.subKernels[vt].name}[0]`,`  gl_FragData[${vt+1}][1] = subKernelResult_${this.subKernels[vt].name}[1]`,`  gl_FragData[${vt+1}][2] = subKernelResult_${this.subKernels[vt].name}[2]`);break;case"Array(4)":for(let vt=0;vt<this.subKernels.length;++vt)bt.push(`  gl_FragData[${vt+1}][0] = subKernelResult_${this.subKernels[vt].name}[0]`,`  gl_FragData[${vt+1}][1] = subKernelResult_${this.subKernels[vt].name}[1]`,`  gl_FragData[${vt+1}][2] = subKernelResult_${this.subKernels[vt].name}[2]`,`  gl_FragData[${vt+1}][3] = subKernelResult_${this.subKernels[vt].name}[3]`);break}return bt}replaceArtifacts(bt,vt){return bt.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(Et,$t)=>{if(vt.hasOwnProperty($t))return vt[$t];throw`unhandled artifact ${$t}`})}getFragmentShader(bt){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(bt))}getVertexShader(bt){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(bt))}toString(){const bt=nt.linesToString(["const gl = context"]);return $(this.constructor,arguments,this,bt)}destroy(bt){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const Et in this.rawValueFramebuffers){for(const $t in this.rawValueFramebuffers[Et])this.context.deleteFramebuffer(this.rawValueFramebuffers[Et][$t]),delete this.rawValueFramebuffers[Et][$t];delete this.rawValueFramebuffers[Et]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const Et=this.textureCache.indexOf(this.texture.texture);Et>-1&&this.textureCache.splice(Et,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let Et=0;Et<this.mappedTextures.length;Et++){const $t=this.mappedTextures[Et];$t.delete();const Tt=this.textureCache.indexOf($t.texture);Tt>-1&&this.textureCache.splice(Tt,1)}this.mappedTextures=null}if(this.kernelArguments)for(let Et=0;Et<this.kernelArguments.length;Et++)this.kernelArguments[Et].destroy();if(this.kernelConstants)for(let Et=0;Et<this.kernelConstants.length;Et++)this.kernelConstants[Et].destroy();for(;this.textureCache.length>0;){const Et=this.textureCache.pop();this.context.deleteTexture(Et)}if(bt){const Et=gt.indexOf(this.canvas);Et>=0&&(gt[Et]=null,yt[Et]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const vt=this.gpu.kernels.indexOf(this);vt!==-1&&this.gpu.kernels.splice(vt,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(bt){const vt=bt.getExtension("WEBGL_lose_context");vt&&vt.loseContext()}toJSON(){const bt=super.toJSON();return bt.functionNodes=at.fromKernel(this,ot).toJSON(),bt.settings.threadDim=this.threadDim,bt}}o.exports={WebGLKernel:ut}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(a,o,rt){const et=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;o.exports={vertexShader:et}},{}],72:[function(a,o,rt){const et=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;o.exports={fragmentShader:et}},{}],73:[function(a,o,rt){const{utils:et}=a("../../utils"),{WebGLFunctionNode:at}=a("../web-gl/function-node");class ot extends at{astIdentifierExpression(it,j){if(it.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",it);const _=this.getType(it),$=et.sanitizeName(it.name);return it.name==="Infinity"?j.push("intBitsToFloat(2139095039)"):_==="Boolean"?this.argumentNames.indexOf($)>-1?j.push(`bool(user_${$})`):j.push(`user_${$}`):j.push(`user_${$}`),j}}o.exports={WebGL2FunctionNode:ot}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(a,o,rt){const{WebGL2KernelValueBoolean:et}=a("./kernel-value/boolean"),{WebGL2KernelValueFloat:at}=a("./kernel-value/float"),{WebGL2KernelValueInteger:ot}=a("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:nt}=a("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:it}=a("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:j}=a("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:_}=a("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:$}=a("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:tt}=a("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:st}=a("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:lt}=a("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:ht}=a("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:ft}=a("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:ct}=a("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:mt}=a("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:gt}=a("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:yt}=a("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:ut}=a("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:wt}=a("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:bt}=a("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:vt}=a("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:Et}=a("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:$t}=a("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:Tt}=a("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:At}=a("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:Ct}=a("./kernel-value/array2"),{WebGL2KernelValueArray3:It}=a("./kernel-value/array3"),{WebGL2KernelValueArray4:Lt}=a("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:Ft}=a("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:Dt}=a("./kernel-value/dynamic-unsigned-array"),Vt={unsigned:{dynamic:{Boolean:et,Integer:ot,Float:at,Array:Dt,"Array(2)":Ct,"Array(3)":It,"Array(4)":Lt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ft,NumberTexture:yt,"ArrayTexture(1)":yt,"ArrayTexture(2)":yt,"ArrayTexture(3)":yt,"ArrayTexture(4)":yt,MemoryOptimizedNumberTexture:mt,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:_,HTMLVideo:tt},static:{Boolean:et,Float:at,Integer:ot,Array:Ft,"Array(2)":Ct,"Array(3)":It,"Array(4)":Lt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ht,NumberTexture:gt,"ArrayTexture(1)":gt,"ArrayTexture(2)":gt,"ArrayTexture(3)":gt,"ArrayTexture(4)":gt,MemoryOptimizedNumberTexture:mt,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:j,HTMLVideo:$}},single:{dynamic:{Boolean:et,Integer:ot,Float:at,Array:wt,"Array(2)":Ct,"Array(3)":It,"Array(4)":Lt,"Array1D(2)":vt,"Array1D(3)":vt,"Array1D(4)":vt,"Array2D(2)":$t,"Array2D(3)":$t,"Array2D(4)":$t,"Array3D(2)":At,"Array3D(3)":At,"Array3D(4)":At,Input:lt,NumberTexture:yt,"ArrayTexture(1)":yt,"ArrayTexture(2)":yt,"ArrayTexture(3)":yt,"ArrayTexture(4)":yt,MemoryOptimizedNumberTexture:mt,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:_,HTMLVideo:tt},static:{Boolean:et,Float:at,Integer:ot,Array:ut,"Array(2)":Ct,"Array(3)":It,"Array(4)":Lt,"Array1D(2)":bt,"Array1D(3)":bt,"Array1D(4)":bt,"Array2D(2)":Et,"Array2D(3)":Et,"Array2D(4)":Et,"Array3D(2)":Tt,"Array3D(3)":Tt,"Array3D(4)":Tt,Input:st,NumberTexture:gt,"ArrayTexture(1)":gt,"ArrayTexture(2)":gt,"ArrayTexture(3)":gt,"ArrayTexture(4)":gt,MemoryOptimizedNumberTexture:ct,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:j,HTMLVideo:$}}};function Ut(Qt,Kt,Ht,qt){if(!Qt)throw new Error("type missing");if(!Kt)throw new Error("dynamic missing");if(!Ht)throw new Error("precision missing");qt.type&&(Qt=qt.type);const nr=Vt[Ht][Kt];if(nr[Qt]===!1)return null;if(nr[Qt]===void 0)throw new Error(`Could not find a KernelValue for ${Qt}`);return nr[Qt]}o.exports={kernelValueMaps:Vt,lookupKernelValueType:Ut}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(a,o,rt){const{WebGLKernelValueArray2:et}=a("../../web-gl/kernel-value/array2");class at extends et{}o.exports={WebGL2KernelValueArray2:at}},{"../../web-gl/kernel-value/array2":41}],76:[function(a,o,rt){const{WebGLKernelValueArray3:et}=a("../../web-gl/kernel-value/array3");class at extends et{}o.exports={WebGL2KernelValueArray3:at}},{"../../web-gl/kernel-value/array3":42}],77:[function(a,o,rt){const{WebGLKernelValueArray4:et}=a("../../web-gl/kernel-value/array4");class at extends et{}o.exports={WebGL2KernelValueArray4:at}},{"../../web-gl/kernel-value/array4":43}],78:[function(a,o,rt){const{WebGLKernelValueBoolean:et}=a("../../web-gl/kernel-value/boolean");class at extends et{}o.exports={WebGL2KernelValueBoolean:at}},{"../../web-gl/kernel-value/boolean":44}],79:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGL2KernelValueHTMLImageArray:at}=a("./html-image-array");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2DArray ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){const{width:j,height:_}=it[0];this.checkSize(j,_),this.dimensions=[j,_,it.length],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGL2KernelValueDynamicHTMLImageArray:ot}},{"../../../utils":114,"./html-image-array":92}],80:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueDynamicHTMLImage:at}=a("../../web-gl/kernel-value/dynamic-html-image");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicHTMLImage:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(a,o,rt){a("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:et}=a("./dynamic-html-image");class at extends et{}o.exports={WebGL2KernelValueDynamicHTMLVideo:at}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:at}=a("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class ot extends at{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueDynamicNumberTexture:at}=a("../../web-gl/kernel-value/dynamic-number-texture");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGL2KernelValueSingleArray:at}=a("../../web-gl2/kernel-value/single-array");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGL2KernelValueDynamicSingleArray:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGL2KernelValueSingleArray1DI:at}=a("../../web-gl2/kernel-value/single-array1d-i");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGL2KernelValueDynamicSingleArray1DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGL2KernelValueSingleArray2DI:at}=a("../../web-gl2/kernel-value/single-array2d-i");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGL2KernelValueDynamicSingleArray2DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGL2KernelValueSingleArray3DI:at}=a("../../web-gl2/kernel-value/single-array3d-i");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGL2KernelValueDynamicSingleArray3DI:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGL2KernelValueSingleInput:at}=a("../../web-gl2/kernel-value/single-input");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}o.exports={WebGL2KernelValueDynamicSingleInput:ot}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:at}=a("../../web-gl/kernel-value/dynamic-unsigned-array");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicUnsignedArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:at}=a("../../web-gl/kernel-value/dynamic-unsigned-input");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}o.exports={WebGL2KernelValueDynamicUnsignedInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(a,o,rt){a("../../../utils");const{WebGLKernelValueFloat:et}=a("../../web-gl/kernel-value/float");class at extends et{}o.exports={WebGL2KernelValueFloat:at}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelArray:at}=a("../../web-gl/kernel-value/array");class ot extends at{constructor(it,j){super(it,j),this.checkSize(it[0].width,it[0].height),this.dimensions=[it[0].width,it[0].height,it.length],this.textureSize=[it[0].width,it[0].height]}defineTexture(){const{context:it}=this;it.activeTexture(this.contextHandle),it.bindTexture(it.TEXTURE_2D_ARRAY,this.texture),it.texParameteri(it.TEXTURE_2D_ARRAY,it.TEXTURE_MAG_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D_ARRAY,it.TEXTURE_MIN_FILTER,it.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2DArray ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D_ARRAY,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage3D(j.TEXTURE_2D_ARRAY,0,j.RGBA,it[0].width,it[0].height,it.length,0,j.RGBA,j.UNSIGNED_BYTE,null);for(let _=0;_<it.length;_++)j.texSubImage3D(j.TEXTURE_2D_ARRAY,0,0,0,_,it[_].width,it[_].height,1,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=it[_]);this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueHTMLImageArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueHTMLImage:at}=a("../../web-gl/kernel-value/html-image");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}o.exports={WebGL2KernelValueHTMLImage:ot}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(a,o,rt){a("../../../utils");const{WebGL2KernelValueHTMLImage:et}=a("./html-image");class at extends et{}o.exports={WebGL2KernelValueHTMLVideo:at}},{"../../../utils":114,"./html-image":93}],95:[function(a,o,rt){const{WebGLKernelValueInteger:et}=a("../../web-gl/kernel-value/integer");class at extends et{getSource(nt){const it=this.getVariablePrecisionString();return this.origin==="constants"?`const ${it} int ${this.id} = ${parseInt(nt)};
`:`uniform ${it} int ${this.id};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=nt)}}o.exports={WebGL2KernelValueInteger:at}},{"../../web-gl/kernel-value/integer":60}],96:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:at}=a("../../web-gl/kernel-value/memory-optimized-number-texture");class ot extends at{getSource(){const{id:it,sizeId:j,textureSize:_,dimensionsId:$,dimensions:tt}=this,st=this.getVariablePrecisionString();return et.linesToString([`uniform sampler2D ${it}`,`${st} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${st} ivec3 ${$} = ivec3(${tt[0]}, ${tt[1]}, ${tt[2]})`])}}o.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueNumberTexture:at}=a("../../web-gl/kernel-value/number-texture");class ot extends at{getSource(){const{id:it,sizeId:j,textureSize:_,dimensionsId:$,dimensions:tt}=this,st=this.getVariablePrecisionString();return et.linesToString([`uniform ${st} sampler2D ${it}`,`${st} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${st} ivec3 ${$} = ivec3(${tt[0]}, ${tt[1]}, ${tt[2]})`])}}o.exports={WebGL2KernelValueNumberTexture:ot}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleArray:at}=a("../../web-gl/kernel-value/single-array");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleArray1DI:at}=a("../../web-gl/kernel-value/single-array1d-i");class ot extends at{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleArray1DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleArray2DI:at}=a("../../web-gl/kernel-value/single-array2d-i");class ot extends at{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleArray2DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleArray3DI:at}=a("../../web-gl/kernel-value/single-array3d-i");class ot extends at{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleArray3DI:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueSingleInput:at}=a("../../web-gl/kernel-value/single-input");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){const{context:j}=this;et.flattenTo(it.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}o.exports={WebGL2KernelValueSingleInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueUnsignedArray:at}=a("../../web-gl/kernel-value/unsigned-array");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}o.exports={WebGL2KernelValueUnsignedArray:ot}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(a,o,rt){const{utils:et}=a("../../../utils"),{WebGLKernelValueUnsignedInput:at}=a("../../web-gl/kernel-value/unsigned-input");class ot extends at{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}o.exports={WebGL2KernelValueUnsignedInput:ot}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(a,o,rt){const{WebGLKernel:et}=a("../web-gl/kernel"),{WebGL2FunctionNode:at}=a("./function-node"),{FunctionBuilder:ot}=a("../function-builder"),{utils:nt}=a("../../utils"),{fragmentShader:it}=a("./fragment-shader"),{vertexShader:j}=a("./vertex-shader"),{lookupKernelValueType:_}=a("./kernel-value-maps");let $=null,tt=null,st=null,lt=null;class ht extends et{static get isSupported(){return $!==null||(this.setupFeatureChecks(),$=this.isContextMatch(st)),$}static setupFeatureChecks(){typeof document<"u"?tt=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(tt=new OffscreenCanvas(0,0)),tt&&(st=tt.getContext("webgl2"),!(!st||!st.getExtension)&&(st.getExtension("EXT_color_buffer_float"),st.getExtension("OES_texture_float_linear"),lt=this.getFeatures()))}static isContextMatch(ct){return typeof WebGL2RenderingContext<"u"?ct instanceof WebGL2RenderingContext:!1}static getFeatures(){const ct=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:ct.getShaderPrecisionFormat(ct.FRAGMENT_SHADER,ct.LOW_INT),lowFloatPrecision:ct.getShaderPrecisionFormat(ct.FRAGMENT_SHADER,ct.LOW_FLOAT),mediumIntPrecision:ct.getShaderPrecisionFormat(ct.FRAGMENT_SHADER,ct.MEDIUM_INT),mediumFloatPrecision:ct.getShaderPrecisionFormat(ct.FRAGMENT_SHADER,ct.MEDIUM_FLOAT),highIntPrecision:ct.getShaderPrecisionFormat(ct.FRAGMENT_SHADER,ct.HIGH_INT),highFloatPrecision:ct.getShaderPrecisionFormat(ct.FRAGMENT_SHADER,ct.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return st.getParameter(st.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return st.getParameter(st.MAX_TEXTURE_SIZE)}static lookupKernelValueType(ct,mt,gt,yt){return _(ct,mt,gt,yt)}static get testCanvas(){return tt}static get testContext(){return st}static get features(){return lt}static get fragmentShader(){return it}static get vertexShader(){return j}initContext(){const ct={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",ct)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(ct){if(!this.validate){this.texSize=nt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:mt}=this.constructor;if(this.precision==="single"&&!mt.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=mt.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!mt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&mt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(ct.length!==1)throw new Error("Auto output only supported for kernels with only one input");const gt=nt.getVariableType(ct[0],this.strictIntegers);switch(gt){case"Array":this.output=nt.getDimensions(gt);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=ct[0].output;break;default:throw new Error("Auto output not supported for input type: "+gt)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=nt.clone(this.output);return}else!this.graphical&&this.precision===null&&mt.isTextureFloat&&(this.precision="single");this.texSize=nt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const ct=ot.fromKernel(this,at,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=ct.getPrototypeString("kernel"),this.setupReturnTypes(ct)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:ct}=this;switch(this.getInternalFormat()){case ct.R32F:return ct.RED;case ct.RG32F:return ct.RG;case ct.RGBA32F:return ct.RGBA;case ct.RGBA:return ct.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:ct}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?ct.RGBA32F:ct.R32F;case"Array(2)":return ct.RG32F;case"Array(3)":case"Array(4)":return ct.RGBA32F;default:throw new Error("Unhandled return type")}return ct.RGBA32F}return ct.RGBA}_setupOutputTexture(){const ct=this.context;if(this.texture){ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_2D,this.texture.texture,0);return}ct.bindFramebuffer(ct.FRAMEBUFFER,this.framebuffer);const mt=ct.createTexture(),gt=this.texSize;ct.activeTexture(ct.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),ct.bindTexture(ct.TEXTURE_2D,mt),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_S,ct.REPEAT),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_T,ct.REPEAT),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MIN_FILTER,ct.NEAREST),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MAG_FILTER,ct.NEAREST);const yt=this.getInternalFormat();this.precision==="single"?ct.texStorage2D(ct.TEXTURE_2D,1,yt,gt[0],gt[1]):ct.texImage2D(ct.TEXTURE_2D,0,yt,gt[0],gt[1],0,yt,ct.UNSIGNED_BYTE,null),ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_2D,mt,0),this.texture=new this.TextureConstructor({texture:mt,size:gt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const ct=this.context;if(this.mappedTextures){for(let gt=0;gt<this.subKernels.length;gt++)ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0+gt+1,ct.TEXTURE_2D,this.mappedTextures[gt].texture,0);return}const mt=this.texSize;this.drawBuffersMap=[ct.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let gt=0;gt<this.subKernels.length;gt++){const yt=this.createTexture();this.drawBuffersMap.push(ct.COLOR_ATTACHMENT0+gt+1),ct.activeTexture(ct.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+gt),ct.bindTexture(ct.TEXTURE_2D,yt),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_S,ct.CLAMP_TO_EDGE),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_T,ct.CLAMP_TO_EDGE),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MIN_FILTER,ct.NEAREST),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MAG_FILTER,ct.NEAREST);const ut=this.getInternalFormat();this.precision==="single"?ct.texStorage2D(ct.TEXTURE_2D,1,ut,mt[0],mt[1]):ct.texImage2D(ct.TEXTURE_2D,0,ct.RGBA,mt[0],mt[1],0,ct.RGBA,ct.UNSIGNED_BYTE,null),ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0+gt+1,ct.TEXTURE_2D,yt,0),this.mappedTextures.push(new this.TextureConstructor({texture:yt,size:mt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const ct=this.subKernels,mt=this.getVariablePrecisionString(this.texSize,this.tactic);return ct===null||ct.length<1?`in ${mt} vec2 vTexCoord;
`:`out ${mt} vec2 vTexCoord;
`}_getMainArgumentsString(ct){const mt=[],gt=this.argumentNames;for(let yt=0;yt<gt.length;yt++)mt.push(this.kernelArguments[yt].getSource(ct[yt]));return mt.join("")}getKernelString(){const ct=[this.getKernelResultDeclaration()],mt=this.subKernels;if(mt!==null)switch(ct.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let gt=0;gt<mt.length;gt++){const yt=mt[gt];ct.push(yt.returnType==="Integer"?`int subKernelResult_${yt.name} = 0`:`float subKernelResult_${yt.name} = 0.0`,`layout(location = ${gt+1}) out vec4 data${gt+1}`)}break;case"Array(2)":for(let gt=0;gt<mt.length;gt++)ct.push(`vec2 subKernelResult_${mt[gt].name}`,`layout(location = ${gt+1}) out vec4 data${gt+1}`);break;case"Array(3)":for(let gt=0;gt<mt.length;gt++)ct.push(`vec3 subKernelResult_${mt[gt].name}`,`layout(location = ${gt+1}) out vec4 data${gt+1}`);break;case"Array(4)":for(let gt=0;gt<mt.length;gt++)ct.push(`vec4 subKernelResult_${mt[gt].name}`,`layout(location = ${gt+1}) out vec4 data${gt+1}`);break}else ct.push("out vec4 data0");return nt.linesToString(ct)+this.translatedSource}getMainResultGraphical(){return nt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return nt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const ct=[];if(!this.subKernels)return"";for(let mt=0;mt<this.subKernels.length;mt++)this.subKernels[mt].returnType==="Integer"?ct.push(`  data${mt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[mt].name}))`):ct.push(`  data${mt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[mt].name})`);return nt.linesToString(ct)}getMainResultKernelMemoryOptimizedFloats(ct,mt){ct.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${mt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(ct,mt){if(!this.subKernels)return ct;for(let gt=0;gt<this.subKernels.length;gt++){const yt=this.subKernels[gt];yt.returnType==="Integer"?ct.push(`  data${gt+1}.${mt} = float(subKernelResult_${yt.name})`):ct.push(`  data${gt+1}.${mt} = subKernelResult_${yt.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const ct=[];if(!this.subKernels)return ct;for(let mt=0;mt<this.subKernels.length;++mt){const gt=this.subKernels[mt];gt.returnType==="Integer"?ct.push(`  data${mt+1}[0] = float(subKernelResult_${gt.name})`):ct.push(`  data${mt+1}[0] = subKernelResult_${gt.name}`)}return ct}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const ct=[];if(!this.subKernels)return ct;for(let mt=0;mt<this.subKernels.length;++mt){const gt=this.subKernels[mt];ct.push(`  data${mt+1}[0] = subKernelResult_${gt.name}[0]`,`  data${mt+1}[1] = subKernelResult_${gt.name}[1]`)}return ct}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const ct=[];if(!this.subKernels)return ct;for(let mt=0;mt<this.subKernels.length;++mt){const gt=this.subKernels[mt];ct.push(`  data${mt+1}[0] = subKernelResult_${gt.name}[0]`,`  data${mt+1}[1] = subKernelResult_${gt.name}[1]`,`  data${mt+1}[2] = subKernelResult_${gt.name}[2]`)}return ct}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const ct=[];if(!this.subKernels)return ct;for(let mt=0;mt<this.subKernels.length;++mt)ct.push(`  data${mt+1} = subKernelResult_${this.subKernels[mt].name}`);return ct}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const ct=super.toJSON();return ct.functionNodes=ot.fromKernel(this,at).toJSON(),ct.settings.threadDim=this.threadDim,ct}}o.exports={WebGL2Kernel:ht}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(a,o,rt){const et=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;o.exports={vertexShader:et}},{}],107:[function(a,o,rt){const et=a("./index"),at=et.GPU;for(const nt in et)et.hasOwnProperty(nt)&&nt!=="GPU"&&(at[nt]=et[nt]);typeof window<"u"&&ot(window),typeof self<"u"&&ot(self);function ot(nt){nt.GPU||Object.defineProperty(nt,"GPU",{get(){return at}})}o.exports=et},{"./index":109}],108:[function(a,o,rt){const{gpuMock:et}=a("gpu-mock.js"),{utils:at}=a("./utils");a("./backend/kernel");const{CPUKernel:ot}=a("./backend/cpu/kernel"),{HeadlessGLKernel:nt}=a("./backend/headless-gl/kernel"),{WebGL2Kernel:it}=a("./backend/web-gl2/kernel"),{WebGLKernel:j}=a("./backend/web-gl/kernel"),{kernelRunShortcut:_}=a("./kernel-run-shortcut"),$=[nt,it,j],tt=["gpu","cpu"],st={headlessgl:nt,webgl2:it,webgl:j};let lt=!0;class ht{static disableValidation(){lt=!1}static enableValidation(){lt=!0}static get isGPUSupported(){return $.some(mt=>mt.isSupported)}static get isKernelMapSupported(){return $.some(mt=>mt.isSupported&&mt.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return j.isSupported}static get isWebGL2Supported(){return it.isSupported}static get isHeadlessGLSupported(){return nt.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return it.isSupported}static get isSinglePrecisionSupported(){return $.some(mt=>mt.isSupported&&mt.features.isFloatRead&&mt.features.isTextureFloat)}constructor(mt){if(mt=mt||{},this.canvas=mt.canvas||null,this.context=mt.context||null,this.mode=mt.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),mt.functions)for(let gt=0;gt<mt.functions.length;gt++)this.addFunction(mt.functions[gt]);if(mt.nativeFunctions)for(const gt in mt.nativeFunctions){if(!mt.nativeFunctions.hasOwnProperty(gt))continue;const yt=mt.nativeFunctions[gt],{name:ut,source:wt}=yt;this.addNativeFunction(ut,wt,yt)}}}chooseKernel(){if(this.Kernel)return;let mt=null;if(this.context){for(let gt=0;gt<$.length;gt++){const yt=$[gt];if(yt.isContextMatch(this.context)){if(!yt.isSupported)throw new Error(`Kernel type ${yt.name} not supported`);mt=yt;break}}if(mt===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in st)(!lt||st[this.mode].isSupported)&&(mt=st[this.mode]);else if(this.mode==="gpu"){for(let gt=0;gt<$.length;gt++)if($[gt].isSupported){mt=$[gt];break}}else this.mode==="cpu"&&(mt=ot);if(!mt)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let gt=0;gt<$.length;gt++)if($[gt].isSupported){mt=$[gt];break}mt||(mt=ot)}this.mode||(this.mode=mt.mode),this.Kernel=mt}createKernel(mt,gt){if(typeof mt>"u")throw new Error("Missing source parameter");if(typeof mt!="object"&&!at.isFunction(mt)&&typeof mt!="string")throw new Error("source parameter not a function");const yt=this.kernels;if(this.mode==="dev"){const At=et(mt,ft(gt));return yt.push(At),At}mt=typeof mt=="function"?mt.toString():mt;const ut={},wt=ft(gt)||{};gt&&typeof gt.argumentTypes=="object"&&(wt.argumentTypes=Object.keys(gt.argumentTypes).map(At=>gt.argumentTypes[At]));function bt(At){console.warn("Falling back to CPU");const Ct=new ot(mt,{argumentTypes:Tt.argumentTypes,constantTypes:Tt.constantTypes,graphical:Tt.graphical,loopMaxIterations:Tt.loopMaxIterations,constants:Tt.constants,dynamicOutput:Tt.dynamicOutput,dynamicArgument:Tt.dynamicArguments,output:Tt.output,precision:Tt.precision,pipeline:Tt.pipeline,immutable:Tt.immutable,optimizeFloatMemory:Tt.optimizeFloatMemory,fixIntegerDivisionAccuracy:Tt.fixIntegerDivisionAccuracy,functions:Tt.functions,nativeFunctions:Tt.nativeFunctions,injectedNative:Tt.injectedNative,subKernels:Tt.subKernels,strictIntegers:Tt.strictIntegers,debug:Tt.debug});Ct.build.apply(Ct,At);const It=Ct.run.apply(Ct,At);return Tt.replaceKernel(Ct),It}function vt(At,Ct,It){It.debug&&console.warn("Switching kernels");let Lt=null;if(It.signature&&!ut[It.signature]&&(ut[It.signature]=It),It.dynamicOutput)for(let Kt=At.length-1;Kt>=0;Kt--){const Ht=At[Kt];Ht.type==="outputPrecisionMismatch"&&(Lt=Ht.needed)}const Ft=It.constructor,Dt=Ft.getArgumentTypes(It,Ct),Vt=Ft.getSignature(It,Dt),Ut=ut[Vt];if(Ut)return Ut.onActivate(It),Ut;const Qt=ut[Vt]=new Ft(mt,{argumentTypes:Dt,constantTypes:It.constantTypes,graphical:It.graphical,loopMaxIterations:It.loopMaxIterations,constants:It.constants,dynamicOutput:It.dynamicOutput,dynamicArgument:It.dynamicArguments,context:It.context,canvas:It.canvas,output:Lt||It.output,precision:It.precision,pipeline:It.pipeline,immutable:It.immutable,optimizeFloatMemory:It.optimizeFloatMemory,fixIntegerDivisionAccuracy:It.fixIntegerDivisionAccuracy,functions:It.functions,nativeFunctions:It.nativeFunctions,injectedNative:It.injectedNative,subKernels:It.subKernels,strictIntegers:It.strictIntegers,debug:It.debug,gpu:It.gpu,validate:lt,returnType:It.returnType,tactic:It.tactic,onRequestFallback:bt,onRequestSwitchKernel:vt,texture:It.texture,mappedTextures:It.mappedTextures,drawBuffersMap:It.drawBuffersMap});return Qt.build.apply(Qt,Ct),Tt.replaceKernel(Qt),yt.push(Qt),Qt}const Et=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:lt,onRequestFallback:bt,onRequestSwitchKernel:vt},wt),$t=new this.Kernel(mt,Et),Tt=_($t);return this.canvas||(this.canvas=$t.canvas),this.context||(this.context=$t.context),yt.push($t),Tt}createKernelMap(){let mt,gt;const yt=typeof arguments[arguments.length-2];if(yt==="function"||yt==="string"?(mt=arguments[arguments.length-2],gt=arguments[arguments.length-1]):mt=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&tt.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const ut=ft(gt);if(gt&&typeof gt.argumentTypes=="object"&&(ut.argumentTypes=Object.keys(gt.argumentTypes).map(wt=>gt.argumentTypes[wt])),Array.isArray(arguments[0])){ut.subKernels=[];const wt=arguments[0];for(let bt=0;bt<wt.length;bt++){const vt=wt[bt].toString(),Et=at.getFunctionNameFromString(vt);ut.subKernels.push({name:Et,source:vt,property:bt})}}else{ut.subKernels=[];const wt=arguments[0];for(let bt in wt){if(!wt.hasOwnProperty(bt))continue;const vt=wt[bt].toString(),Et=at.getFunctionNameFromString(vt);ut.subKernels.push({name:Et||bt,source:vt,property:bt})}}return this.createKernel(mt,ut)}combineKernels(){const mt=arguments[0],gt=arguments[arguments.length-1];if(mt.kernel.constructor.mode==="cpu")return gt;const yt=arguments[0].canvas,ut=arguments[0].context,wt=arguments.length-1;for(let bt=0;bt<wt;bt++)arguments[bt].setCanvas(yt).setContext(ut).setPipeline(!0);return function(){const bt=gt.apply(this,arguments);return bt.toArray?bt.toArray():bt}}setFunctions(mt){return this.functions=mt,this}setNativeFunctions(mt){return this.nativeFunctions=mt,this}addFunction(mt,gt){return this.functions.push({source:mt,settings:gt}),this}addNativeFunction(mt,gt,yt){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:mt,source:gt},yt)),this}injectNative(mt){return this.injectedNative=mt,this}destroy(){return new Promise((mt,gt)=>{this.kernels||mt(),setTimeout(()=>{try{for(let ut=0;ut<this.kernels.length;ut++)this.kernels[ut].destroy(!0);let yt=this.kernels[0];yt&&(yt.kernel&&(yt=yt.kernel),yt.constructor.destroyContext&&yt.constructor.destroyContext(this.context))}catch(yt){gt(yt)}mt()},0)})}}function ft(ct){if(!ct)return{};const mt=Object.assign({},ct);return ct.hasOwnProperty("floatOutput")&&(at.warnDeprecated("setting","floatOutput","precision"),mt.precision=ct.floatOutput?"single":"unsigned"),ct.hasOwnProperty("outputToTexture")&&(at.warnDeprecated("setting","outputToTexture","pipeline"),mt.pipeline=!!ct.outputToTexture),ct.hasOwnProperty("outputImmutable")&&(at.warnDeprecated("setting","outputImmutable","immutable"),mt.immutable=!!ct.outputImmutable),ct.hasOwnProperty("floatTextures")&&(at.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),mt.optimizeFloatMemory=!!ct.floatTextures),mt}o.exports={GPU:ht,kernelOrder:$,kernelTypes:tt}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(a,o,rt){const{GPU:et}=a("./gpu"),{alias:at}=a("./alias"),{utils:ot}=a("./utils"),{Input:nt,input:it}=a("./input"),{Texture:j}=a("./texture"),{FunctionBuilder:_}=a("./backend/function-builder"),{FunctionNode:$}=a("./backend/function-node"),{CPUFunctionNode:tt}=a("./backend/cpu/function-node"),{CPUKernel:st}=a("./backend/cpu/kernel"),{HeadlessGLKernel:lt}=a("./backend/headless-gl/kernel"),{WebGLFunctionNode:ht}=a("./backend/web-gl/function-node"),{WebGLKernel:ft}=a("./backend/web-gl/kernel"),{kernelValueMaps:ct}=a("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:mt}=a("./backend/web-gl2/function-node"),{WebGL2Kernel:gt}=a("./backend/web-gl2/kernel"),{kernelValueMaps:yt}=a("./backend/web-gl2/kernel-value-maps"),{GLKernel:ut}=a("./backend/gl/kernel"),{Kernel:wt}=a("./backend/kernel"),{FunctionTracer:bt}=a("./backend/function-tracer"),vt=a("./plugins/math-random-uniformly-distributed");o.exports={alias:at,CPUFunctionNode:tt,CPUKernel:st,GPU:et,FunctionBuilder:_,FunctionNode:$,HeadlessGLKernel:lt,Input:nt,input:it,Texture:j,utils:ot,WebGL2FunctionNode:mt,WebGL2Kernel:gt,webGL2KernelValueMaps:yt,WebGLFunctionNode:ht,WebGLKernel:ft,webGLKernelValueMaps:ct,GLKernel:ut,Kernel:wt,FunctionTracer:bt,plugins:{mathRandom:vt}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(a,o,rt){class et{constructor(nt,it){this.value=nt,Array.isArray(it)?this.size=it:(this.size=new Int32Array(3),it.z?this.size=new Int32Array([it.x,it.y,it.z]):it.y?this.size=new Int32Array([it.x,it.y]):this.size=new Int32Array([it.x]));const[j,_,$]=this.size;if($){if(this.value.length!==j*_*$)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} * ${$} = ${_*j*$}`)}else if(_){if(this.value.length!==j*_)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} = ${_*j}`)}else if(this.value.length!==j)throw new Error(`Input size ${this.value.length} does not match ${j}`)}toArray(){const{utils:nt}=a("./utils"),[it,j,_]=this.size;return _?nt.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),it,j,_):j?nt.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),it,j):this.value}}function at(ot,nt){return new et(ot,nt)}o.exports={Input:et,input:at}},{"./utils":114}],111:[function(a,o,rt){const{utils:et}=a("./utils");function at(nt){let it=function(){return nt.build.apply(nt,arguments),it=function(){let _=nt.run.apply(nt,arguments);if(nt.switchingKernels){const $=nt.resetSwitchingKernels(),tt=nt.onRequestSwitchKernel($,arguments,nt);j.kernel=nt=tt,_=tt.run.apply(tt,arguments)}return nt.renderKernels?nt.renderKernels():nt.renderOutput?nt.renderOutput():_},it.apply(nt,arguments)};const j=function(){return it.apply(nt,arguments)};return j.exec=function(){return new Promise((_,$)=>{try{_(it.apply(this,arguments))}catch(tt){$(tt)}})},j.replaceKernel=function(_){nt=_,ot(nt,j)},ot(nt,j),j}function ot(nt,it){if(it.kernel){it.kernel=nt;return}const j=et.allPropertiesOf(nt);for(let _=0;_<j.length;_++){const $=j[_];$[0]==="_"&&$[1]==="_"||(typeof nt[$]=="function"?$.substring(0,3)==="add"||$.substring(0,3)==="set"?it[$]=function(){return it.kernel[$].apply(it.kernel,arguments),it}:it[$]=function(){return it.kernel[$].apply(it.kernel,arguments)}:(it.__defineGetter__($,()=>it.kernel[$]),it.__defineSetter__($,tt=>{it.kernel[$]=tt})))}it.kernel=nt}o.exports={kernelRunShortcut:at}},{"./utils":114}],112:[function(a,o,rt){const _={name:"math-random-uniformly-distributed",onBeforeRun:$=>{$.setUniform1f("randomSeed1",Math.random()),$.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};o.exports=_},{}],113:[function(a,o,rt){class et{constructor(ot){const{texture:nt,size:it,dimensions:j,output:_,context:$,type:tt="NumberTexture",kernel:st,internalFormat:lt,textureFormat:ht}=ot;if(!_)throw new Error('settings property "output" required.');if(!$)throw new Error('settings property "context" required.');if(!nt)throw new Error('settings property "texture" required.');if(!st)throw new Error('settings property "kernel" required.');this.texture=nt,nt._refs?nt._refs++:nt._refs=1,this.size=it,this.dimensions=j,this.output=_,this.context=$,this.kernel=st,this.type=tt,this._deleted=!1,this.internalFormat=lt,this.textureFormat=ht}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}o.exports={Texture:et}},{}],114:[function(a,o,rt){const et=a("acorn"),{Input:at}=a("./input"),{Texture:ot}=a("./texture"),nt=/function ([^(]*)/,it=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,j=/([^\s,]+)/g,_={systemEndianness(){return lt},getSystemEndianness(){const ht=new ArrayBuffer(4),ft=new Uint32Array(ht),ct=new Uint8Array(ht);if(ft[0]=3735928559,ct[0]===239)return"LE";if(ct[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(ht){return typeof ht=="function"},isFunctionString(ht){return typeof ht=="string"?ht.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(ht){const ft=nt.exec(ht);return!ft||ft.length===0?null:ft[1].trim()},getFunctionBodyFromString(ht){return ht.substring(ht.indexOf("{")+1,ht.lastIndexOf("}"))},getArgumentNamesFromString(ht){const ft=ht.replace(it,"");let ct=ft.slice(ft.indexOf("(")+1,ft.indexOf(")")).match(j);return ct===null&&(ct=[]),ct},clone(ht){if(ht===null||typeof ht!="object"||ht.hasOwnProperty("isActiveClone"))return ht;const ft=ht.constructor();for(let ct in ht)Object.prototype.hasOwnProperty.call(ht,ct)&&(ht.isActiveClone=null,ft[ct]=_.clone(ht[ct]),delete ht.isActiveClone);return ft},isArray(ht){return!isNaN(ht.length)},getVariableType(ht,ft){if(_.isArray(ht))return ht.length>0&&ht[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(ht.constructor){case Boolean:return"Boolean";case Number:return ft&&Number.isInteger(ht)?"Integer":"Float";case ot:return ht.type;case at:return"Input"}if("nodeName"in ht)switch(ht.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(ht.hasOwnProperty("type"))return ht.type;if(typeof OffscreenCanvas<"u"&&ht instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&ht instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&ht instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(ht,ft){let[ct,mt,gt]=ft,yt=(ct||1)*(mt||1)*(gt||1);return ht.optimizeFloatMemory&&ht.precision==="single"&&(ct=yt=Math.ceil(yt/4)),mt>1&&ct*mt===yt?new Int32Array([ct,mt]):_.closestSquareDimensions(yt)},closestSquareDimensions(ht){const ft=Math.sqrt(ht);let ct=Math.ceil(ft),mt=Math.floor(ft);for(;ct*mt<ht;)ct--,mt=Math.ceil(ht/ct);return new Int32Array([mt,Math.ceil(ht/mt)])},getMemoryOptimizedFloatTextureSize(ht,ft){const mt=_.roundTo((ht[0]||1)*(ht[1]||1)*(ht[2]||1)*(ht[3]||1),4)/ft;return _.closestSquareDimensions(mt)},getMemoryOptimizedPackedTextureSize(ht,ft){const[ct,mt,gt]=ht,ut=_.roundTo((ct||1)*(mt||1)*(gt||1),4)/(4/ft);return _.closestSquareDimensions(ut)},roundTo(ht,ft){return Math.floor((ht+ft-1)/ft)*ft},getDimensions(ht,ft){let ct;if(_.isArray(ht)){const mt=[];let gt=ht;for(;_.isArray(gt);)mt.push(gt.length),gt=gt[0];ct=mt.reverse()}else if(ht instanceof ot)ct=ht.output;else if(ht instanceof at)ct=ht.size;else throw new Error(`Unknown dimensions of ${ht}`);if(ft)for(ct=Array.from(ct);ct.length<3;)ct.push(1);return new Int32Array(ct)},flatten2dArrayTo(ht,ft){let ct=0;for(let mt=0;mt<ht.length;mt++)ft.set(ht[mt],ct),ct+=ht[mt].length},flatten3dArrayTo(ht,ft){let ct=0;for(let mt=0;mt<ht.length;mt++)for(let gt=0;gt<ht[mt].length;gt++)ft.set(ht[mt][gt],ct),ct+=ht[mt][gt].length},flatten4dArrayTo(ht,ft){let ct=0;for(let mt=0;mt<ht.length;mt++)for(let gt=0;gt<ht[mt].length;gt++)for(let yt=0;yt<ht[mt][gt].length;yt++)ft.set(ht[mt][gt][yt],ct),ct+=ht[mt][gt][yt].length},flattenTo(ht,ft){_.isArray(ht[0])?_.isArray(ht[0][0])?_.isArray(ht[0][0][0])?_.flatten4dArrayTo(ht,ft):_.flatten3dArrayTo(ht,ft):_.flatten2dArrayTo(ht,ft):ft.set(ht)},splitArray(ht,ft){const ct=[];for(let mt=0;mt<ht.length;mt+=ft)ct.push(new ht.constructor(ht.buffer,mt*4+ht.byteOffset,ft));return ct},getAstString(ht,ft){const ct=Array.isArray(ht)?ht:ht.split(/\r?\n/g),mt=ft.loc.start,gt=ft.loc.end,yt=[];if(mt.line===gt.line)yt.push(ct[mt.line-1].substring(mt.column,gt.column));else{yt.push(ct[mt.line-1].slice(mt.column));for(let ut=mt.line;ut<gt.line;ut++)yt.push(ct[ut]);yt.push(ct[gt.line-1].slice(0,gt.column))}return yt.join(`
`)},allPropertiesOf(ht){const ft=[];do ft.push.apply(ft,Object.getOwnPropertyNames(ht));while(ht=Object.getPrototypeOf(ht));return ft},linesToString(ht){return ht.length>0?ht.join(`;
`)+`;
`:`
`},warnDeprecated(ht,ft,ct){console.warn(ct?`You are using a deprecated ${ht} "${ft}". It has been replaced with "${ct}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${ht} "${ft}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(ht,ft,ct)=>{const mt=ct/2|0,gt=ft*4,yt=new Uint8ClampedArray(ft*4),ut=ht.slice(0);for(let wt=0;wt<mt;++wt){const bt=wt*gt,vt=(ct-wt-1)*gt;yt.set(ut.subarray(bt,bt+gt)),ut.copyWithin(bt,vt,vt+gt),ut.set(yt,vt)}return ut},erectPackedFloat:(ht,ft)=>ht.subarray(0,ft),erect2DPackedFloat:(ht,ft,ct)=>{const mt=new Array(ct);for(let gt=0;gt<ct;gt++){const yt=gt*ft,ut=yt+ft;mt[gt]=ht.subarray(yt,ut)}return mt},erect3DPackedFloat:(ht,ft,ct,mt)=>{const gt=new Array(mt);for(let yt=0;yt<mt;yt++){const ut=new Array(ct);for(let wt=0;wt<ct;wt++){const bt=yt*ct*ft+wt*ft,vt=bt+ft;ut[wt]=ht.subarray(bt,vt)}gt[yt]=ut}return gt},erectMemoryOptimizedFloat:(ht,ft)=>ht.subarray(0,ft),erectMemoryOptimized2DFloat:(ht,ft,ct)=>{const mt=new Array(ct);for(let gt=0;gt<ct;gt++){const yt=gt*ft;mt[gt]=ht.subarray(yt,yt+ft)}return mt},erectMemoryOptimized3DFloat:(ht,ft,ct,mt)=>{const gt=new Array(mt);for(let yt=0;yt<mt;yt++){const ut=new Array(ct);for(let wt=0;wt<ct;wt++){const bt=yt*ct*ft+wt*ft;ut[wt]=ht.subarray(bt,bt+ft)}gt[yt]=ut}return gt},erectFloat:(ht,ft)=>{const ct=new Float32Array(ft);let mt=0;for(let gt=0;gt<ft;gt++)ct[gt]=ht[mt],mt+=4;return ct},erect2DFloat:(ht,ft,ct)=>{const mt=new Array(ct);let gt=0;for(let yt=0;yt<ct;yt++){const ut=new Float32Array(ft);for(let wt=0;wt<ft;wt++)ut[wt]=ht[gt],gt+=4;mt[yt]=ut}return mt},erect3DFloat:(ht,ft,ct,mt)=>{const gt=new Array(mt);let yt=0;for(let ut=0;ut<mt;ut++){const wt=new Array(ct);for(let bt=0;bt<ct;bt++){const vt=new Float32Array(ft);for(let Et=0;Et<ft;Et++)vt[Et]=ht[yt],yt+=4;wt[bt]=vt}gt[ut]=wt}return gt},erectArray2:(ht,ft)=>{const ct=new Array(ft),mt=ft*4;let gt=0;for(let yt=0;yt<mt;yt+=4)ct[gt++]=ht.subarray(yt,yt+2);return ct},erect2DArray2:(ht,ft,ct)=>{const mt=new Array(ct),gt=ft*4;for(let yt=0;yt<ct;yt++){const ut=new Array(ft),wt=yt*gt;let bt=0;for(let vt=0;vt<gt;vt+=4)ut[bt++]=ht.subarray(vt+wt,vt+wt+2);mt[yt]=ut}return mt},erect3DArray2:(ht,ft,ct,mt)=>{const gt=ft*4,yt=new Array(mt);for(let ut=0;ut<mt;ut++){const wt=new Array(ct);for(let bt=0;bt<ct;bt++){const vt=new Array(ft),Et=ut*gt*ct+bt*gt;let $t=0;for(let Tt=0;Tt<gt;Tt+=4)vt[$t++]=ht.subarray(Tt+Et,Tt+Et+2);wt[bt]=vt}yt[ut]=wt}return yt},erectArray3:(ht,ft)=>{const ct=new Array(ft),mt=ft*4;let gt=0;for(let yt=0;yt<mt;yt+=4)ct[gt++]=ht.subarray(yt,yt+3);return ct},erect2DArray3:(ht,ft,ct)=>{const mt=ft*4,gt=new Array(ct);for(let yt=0;yt<ct;yt++){const ut=new Array(ft),wt=yt*mt;let bt=0;for(let vt=0;vt<mt;vt+=4)ut[bt++]=ht.subarray(vt+wt,vt+wt+3);gt[yt]=ut}return gt},erect3DArray3:(ht,ft,ct,mt)=>{const gt=ft*4,yt=new Array(mt);for(let ut=0;ut<mt;ut++){const wt=new Array(ct);for(let bt=0;bt<ct;bt++){const vt=new Array(ft),Et=ut*gt*ct+bt*gt;let $t=0;for(let Tt=0;Tt<gt;Tt+=4)vt[$t++]=ht.subarray(Tt+Et,Tt+Et+3);wt[bt]=vt}yt[ut]=wt}return yt},erectArray4:(ht,ft)=>{const ct=new Array(ht),mt=ft*4;let gt=0;for(let yt=0;yt<mt;yt+=4)ct[gt++]=ht.subarray(yt,yt+4);return ct},erect2DArray4:(ht,ft,ct)=>{const mt=ft*4,gt=new Array(ct);for(let yt=0;yt<ct;yt++){const ut=new Array(ft),wt=yt*mt;let bt=0;for(let vt=0;vt<mt;vt+=4)ut[bt++]=ht.subarray(vt+wt,vt+wt+4);gt[yt]=ut}return gt},erect3DArray4:(ht,ft,ct,mt)=>{const gt=ft*4,yt=new Array(mt);for(let ut=0;ut<mt;ut++){const wt=new Array(ct);for(let bt=0;bt<ct;bt++){const vt=new Array(ft),Et=ut*gt*ct+bt*gt;let $t=0;for(let Tt=0;Tt<gt;Tt+=4)vt[$t++]=ht.subarray(Tt+Et,Tt+Et+4);wt[bt]=vt}yt[ut]=wt}return yt},flattenFunctionToString:(ht,ft)=>{const{findDependency:ct,thisLookup:mt,doNotDefine:gt}=ft;let yt=ft.flattened;yt||(yt=ft.flattened={});const ut=et.parse(ht),wt=[];let bt=0;function vt($t){if(Array.isArray($t)){const Tt=[];for(let At=0;At<$t.length;At++)Tt.push(vt($t[At]));return Tt.join("")}switch($t.type){case"Program":return vt($t.body)+($t.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${$t.id.name}(${$t.params.map(vt).join(", ")}) ${vt($t.body)}`;case"BlockStatement":{const At=[];bt+=2;for(let Ct=0;Ct<$t.body.length;Ct++){const It=vt($t.body[Ct]);It&&At.push(" ".repeat(bt)+It,`;
`)}return bt-=2,`{
${At.join("")}}`}case"VariableDeclaration":const Tt=_.normalizeDeclarations($t).map(vt).filter(At=>At!==null);return Tt.length<1?"":`${$t.kind} ${Tt.join(",")}`;case"VariableDeclarator":return $t.init.object&&$t.init.object.type==="ThisExpression"?mt($t.init.property.name,!0)?`${$t.id.name} = ${vt($t.init)}`:null:`${$t.id.name} = ${vt($t.init)}`;case"CallExpression":{if($t.callee.property.name==="subarray")return`${vt($t.callee.object)}.${vt($t.callee.property)}(${$t.arguments.map(At=>vt(At)).join(", ")})`;if($t.callee.object.name==="gl"||$t.callee.object.name==="context")return`${vt($t.callee.object)}.${vt($t.callee.property)}(${$t.arguments.map(At=>vt(At)).join(", ")})`;if($t.callee.object.type==="ThisExpression")return wt.push(ct("this",$t.callee.property.name)),`${$t.callee.property.name}(${$t.arguments.map(At=>vt(At)).join(", ")})`;if($t.callee.object.name){const At=ct($t.callee.object.name,$t.callee.property.name);return At===null?`${$t.callee.object.name}.${$t.callee.property.name}(${$t.arguments.map(Ct=>vt(Ct)).join(", ")})`:(wt.push(At),`${$t.callee.property.name}(${$t.arguments.map(Ct=>vt(Ct)).join(", ")})`)}else{if($t.callee.object.type==="MemberExpression")return`${vt($t.callee.object)}.${$t.callee.property.name}(${$t.arguments.map(At=>vt(At)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${vt($t.argument)}`;case"BinaryExpression":return`(${vt($t.left)}${$t.operator}${vt($t.right)})`;case"UnaryExpression":return $t.prefix?`${$t.operator} ${vt($t.argument)}`:`${vt($t.argument)} ${$t.operator}`;case"ExpressionStatement":return`${vt($t.expression)}`;case"SequenceExpression":return`(${vt($t.expressions)})`;case"ArrowFunctionExpression":return`(${$t.params.map(vt).join(", ")}) => ${vt($t.body)}`;case"Literal":return $t.raw;case"Identifier":return $t.name;case"MemberExpression":return $t.object.type==="ThisExpression"?mt($t.property.name):$t.computed?`${vt($t.object)}[${vt($t.property)}]`:vt($t.object)+"."+vt($t.property);case"ThisExpression":return"this";case"NewExpression":return`new ${vt($t.callee)}(${$t.arguments.map(At=>vt(At)).join(", ")})`;case"ForStatement":return`for (${vt($t.init)};${vt($t.test)};${vt($t.update)}) ${vt($t.body)}`;case"AssignmentExpression":return`${vt($t.left)}${$t.operator}${vt($t.right)}`;case"UpdateExpression":return`${vt($t.argument)}${$t.operator}`;case"IfStatement":return`if (${vt($t.test)}) ${vt($t.consequent)}`;case"ThrowStatement":return`throw ${vt($t.argument)}`;case"ObjectPattern":return $t.properties.map(vt).join(", ");case"ArrayPattern":return $t.elements.map(vt).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${vt($t.test)}?${vt($t.consequent)}:${vt($t.alternate)}`;case"Property":if($t.kind==="init")return vt($t.key)}throw new Error(`unhandled ast.type of ${$t.type}`)}const Et=vt(ut);if(wt.length>0){const $t=[];for(let Tt=0;Tt<wt.length;Tt++){const At=wt[Tt];yt[At]||(yt[At]=!0),At&&$t.push(_.flattenFunctionToString(At,ft)+`
`)}return $t.join("")+Et}return Et},normalizeDeclarations:ht=>{if(ht.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const ft=[];for(let ct=0;ct<ht.declarations.length;ct++){const mt=ht.declarations[ct];if(mt.id&&mt.id.type==="ObjectPattern"&&mt.id.properties){const{properties:gt}=mt.id;for(let yt=0;yt<gt.length;yt++){const ut=gt[yt];if(ut.value.type==="ObjectPattern"&&ut.value.properties)for(let wt=0;wt<ut.value.properties.length;wt++){const bt=ut.value.properties[wt];if(bt.type==="Property")ft.push({type:"VariableDeclarator",id:{type:"Identifier",name:bt.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:mt.init,property:{type:"Identifier",name:ut.key.name},computed:!1},property:{type:"Identifier",name:bt.key.name},computed:!1}});else throw new Error("unexpected state")}else if(ut.value.type==="Identifier")ft.push({type:"VariableDeclarator",id:{type:"Identifier",name:ut.value&&ut.value.name?ut.value.name:ut.key.name},init:{type:"MemberExpression",object:mt.init,property:{type:"Identifier",name:ut.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(mt.id&&mt.id.type==="ArrayPattern"&&mt.id.elements){const{elements:gt}=mt.id;for(let yt=0;yt<gt.length;yt++){const ut=gt[yt];if(ut.type==="Identifier")ft.push({type:"VariableDeclarator",id:{type:"Identifier",name:ut.name},init:{type:"MemberExpression",object:mt.init,property:{type:"Literal",value:yt,raw:yt.toString(),start:ut.start,end:ut.end},computed:!0}});else throw new Error("unexpected state")}}else ft.push(mt)}return ft},splitHTMLImageToRGB:(ht,ft)=>{const ct=ht.createKernel(function(wt){return wt[this.thread.y][this.thread.x].r*255},{output:[ft.width,ft.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),mt=ht.createKernel(function(wt){return wt[this.thread.y][this.thread.x].g*255},{output:[ft.width,ft.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),gt=ht.createKernel(function(wt){return wt[this.thread.y][this.thread.x].b*255},{output:[ft.width,ft.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),yt=ht.createKernel(function(wt){return wt[this.thread.y][this.thread.x].a*255},{output:[ft.width,ft.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),ut=[ct(ft),mt(ft),gt(ft),yt(ft)];return ut.rKernel=ct,ut.gKernel=mt,ut.bKernel=gt,ut.aKernel=yt,ut.gpu=ht,ut},splitRGBAToCanvases:(ht,ft,ct,mt)=>{const gt=ht.createKernel(function(bt){const vt=bt[this.thread.y][this.thread.x];this.color(vt.r/255,0,0,255)},{output:[ct,mt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});gt(ft);const yt=ht.createKernel(function(bt){const vt=bt[this.thread.y][this.thread.x];this.color(0,vt.g/255,0,255)},{output:[ct,mt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});yt(ft);const ut=ht.createKernel(function(bt){const vt=bt[this.thread.y][this.thread.x];this.color(0,0,vt.b/255,255)},{output:[ct,mt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});ut(ft);const wt=ht.createKernel(function(bt){const vt=bt[this.thread.y][this.thread.x];this.color(255,255,255,vt.a/255)},{output:[ct,mt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return wt(ft),[gt.canvas,yt.canvas,ut.canvas,wt.canvas]},getMinifySafeName:ht=>{try{const ft=et.parse(`const value = ${ht.toString()}`),{init:ct}=ft.body[0].declarations[0];return ct.body.name||ct.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(ht){return $.test(ht)&&(ht=ht.replace($,"S_S")),tt.test(ht)?ht=ht.replace(tt,"U_U"):st.test(ht)&&(ht=ht.replace(st,"u_u")),ht}},$=/\$/,tt=/__/,st=/_/,lt=_.getSystemEndianness();o.exports={utils:_}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})})(gpuBrowser);var gpuBrowserExports=gpuBrowser.exports,rttc={},runtimeSourceError={};Object.defineProperty(runtimeSourceError,"__esModule",{value:!0});runtimeSourceError.RuntimeSourceError=void 0;const constants_1$1=constants,types_1$l=types;class RuntimeSourceError{constructor(s){this.type=types_1$l.ErrorType.RUNTIME,this.severity=types_1$l.ErrorSeverity.ERROR,this.location=s?s.loc:constants_1$1.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}runtimeSourceError.RuntimeSourceError=RuntimeSourceError;Object.defineProperty(rttc,"__esModule",{value:!0});rttc.isIdentifier=rttc.checkMemberAccess=rttc.checkIfStatement=rttc.checkBinaryExpression=rttc.checkUnaryExpression=rttc.TypeError=void 0;const runtimeSourceError_1$1=runtimeSourceError,types_1$k=types,LHS=" on left hand side of operation",RHS=" on right hand side of operation";let TypeError$1=class extends runtimeSourceError_1$1.RuntimeSourceError{constructor(s,a,o,rt,et=types_1$k.Chapter.SOURCE_4){super(s),this.side=a,this.expected=o,this.got=rt,this.chapter=et,this.type=types_1$k.ErrorType.RUNTIME,this.severity=types_1$k.ErrorSeverity.ERROR}explain(){const s=this.got==="array"?this.chapter<=2?"pair":"compound data":this.got;return`Expected ${this.expected}${this.side}, got ${s}.`}elaborate(){return this.explain()}};rttc.TypeError=TypeError$1;const typeOf=i=>i===null?"null":Array.isArray(i)?"array":typeof i,isNumber=i=>typeOf(i)==="number",isArrayIndex=i=>isNumber(i)&&i>>>0===i&&i<2**32-1,isString=i=>typeOf(i)==="string",isBool=i=>typeOf(i)==="boolean",isObject=i=>typeOf(i)==="object",isArray=i=>typeOf(i)==="array",checkUnaryExpression=(i,s,a,o=types_1$k.Chapter.SOURCE_4)=>(s==="+"||s==="-")&&!isNumber(a)?new TypeError$1(i,"","number",typeOf(a),o):s==="!"&&!isBool(a)?new TypeError$1(i,"","boolean",typeOf(a),o):void 0;rttc.checkUnaryExpression=checkUnaryExpression;const checkBinaryExpression=(i,s,a,o,rt)=>{switch(s){case"-":case"*":case"/":case"%":return isNumber(o)?isNumber(rt)?void 0:new TypeError$1(i,RHS,"number",typeOf(rt),a):new TypeError$1(i,LHS,"number",typeOf(o),a);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":return a>2&&(s==="==="||s==="!==")?void 0:isNumber(o)?isNumber(rt)?void 0:new TypeError$1(i,RHS,"number",typeOf(rt),a):isString(o)?isString(rt)?void 0:new TypeError$1(i,RHS,"string",typeOf(rt),a):new TypeError$1(i,LHS,"string or number",typeOf(o),a);default:return}};rttc.checkBinaryExpression=checkBinaryExpression;const checkIfStatement=(i,s,a=types_1$k.Chapter.SOURCE_4)=>isBool(s)?void 0:new TypeError$1(i," as condition","boolean",typeOf(s),a);rttc.checkIfStatement=checkIfStatement;const checkMemberAccess=(i,s,a)=>isObject(s)?isString(a)?void 0:new TypeError$1(i," as prop","string",typeOf(a)):isArray(s)?isArrayIndex(a)?void 0:isNumber(a)?new TypeError$1(i," as prop","array index","other number"):new TypeError$1(i," as prop","array index",typeOf(a)):new TypeError$1(i,"","object or array",typeOf(s));rttc.checkMemberAccess=checkMemberAccess;const isIdentifier=i=>i.name!==void 0;rttc.isIdentifier=isIdentifier;var transfomer={},astCreator={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.whileStatement=i.ifStatement=i.variableDeclarator=i.variableDeclaration=i.arrowFunctionExpression=i.blockExpression=i.functionDeclaration=i.functionDeclarationExpression=i.primitive=i.unaryExpression=i.binaryExpression=i.assignmentExpression=i.arrayExpression=i.conditionalExpression=i.mutateToConditionalExpression=i.logicalExpression=i.mutateToMemberExpression=i.mutateToReturnStatement=i.mutateToExpressionStatement=i.mutateToAssignmentExpression=i.mutateToCallExpression=i.objectExpression=i.property=i.returnStatement=i.program=i.blockStatement=i.functionExpression=i.blockArrowFunction=i.expressionStatement=i.callExpression=i.constantDeclaration=i.declaration=i.memberExpression=i.literal=i.identifier=i.locationDummyNode=i.getVariableDecarationName=void 0;const s=Kt=>Kt.declarations[0].id.name;i.getVariableDecarationName=s;const a=(Kt,Ht)=>(0,i.literal)("Dummy",{start:{line:Kt,column:Ht},end:{line:Kt,column:Ht}});i.locationDummyNode=a;const o=(Kt,Ht)=>({type:"Identifier",name:Kt,loc:Ht});i.identifier=o;const rt=(Kt,Ht)=>({type:"Literal",value:Kt,loc:Ht});i.literal=rt;const et=(Kt,Ht)=>({type:"MemberExpression",object:Kt,computed:typeof Ht=="number",optional:!1,property:typeof Ht=="number"?(0,i.literal)(Ht):(0,i.identifier)(Ht)});i.memberExpression=et;const at=(Kt,Ht,qt,nr)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:(0,i.identifier)(Kt),init:qt}],kind:Ht,loc:nr});i.declaration=at;const ot=(Kt,Ht,qt)=>(0,i.declaration)(Kt,"const",Ht,qt);i.constantDeclaration=ot;const nt=(Kt,Ht,qt)=>({type:"CallExpression",callee:Kt,arguments:Ht,optional:!1,loc:qt});i.callExpression=nt;const it=Kt=>({type:"ExpressionStatement",expression:Kt});i.expressionStatement=it;const j=(Kt,Ht,qt)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:Kt,body:Array.isArray(Ht)?(0,i.blockStatement)(Ht):Ht,loc:qt});i.blockArrowFunction=j;const _=(Kt,Ht,qt)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:Kt,body:Array.isArray(Ht)?(0,i.blockStatement)(Ht):Ht,loc:qt});i.functionExpression=_;const $=Kt=>({type:"BlockStatement",body:Kt});i.blockStatement=$;const tt=Kt=>({type:"Program",sourceType:"module",body:Kt});i.program=tt;const st=(Kt,Ht)=>({type:"ReturnStatement",argument:Kt,loc:Ht});i.returnStatement=st;const lt=(Kt,Ht)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,i.identifier)(Kt),value:Ht,kind:"init"});i.property=lt;const ht=Kt=>({type:"ObjectExpression",properties:Kt});i.objectExpression=ht;const ft=(Kt,Ht,qt)=>{Kt.type="CallExpression",Kt=Kt,Kt.callee=Ht,Kt.arguments=qt};i.mutateToCallExpression=ft;const ct=(Kt,Ht,qt)=>{Kt.type="AssignmentExpression",Kt=Kt,Kt.operator="=",Kt.left=Ht,Kt.right=qt};i.mutateToAssignmentExpression=ct;const mt=(Kt,Ht)=>{Kt.type="ExpressionStatement",Kt=Kt,Kt.expression=Ht};i.mutateToExpressionStatement=mt;const gt=(Kt,Ht)=>{Kt.type="ReturnStatement",Kt=Kt,Kt.argument=Ht};i.mutateToReturnStatement=gt;const yt=(Kt,Ht,qt)=>{Kt.type="MemberExpression",Kt=Kt,Kt.object=Ht,Kt.property=qt,Kt.computed=!1};i.mutateToMemberExpression=yt;const ut=(Kt,Ht,qt,nr)=>({type:"LogicalExpression",operator:Kt,left:Ht,right:qt,loc:nr});i.logicalExpression=ut;const wt=(Kt,Ht,qt,nr)=>{Kt.type="ConditionalExpression",Kt=Kt,Kt.test=Ht,Kt.consequent=qt,Kt.alternate=nr};i.mutateToConditionalExpression=wt;const bt=(Kt,Ht,qt,nr)=>({type:"ConditionalExpression",test:Kt,consequent:Ht,alternate:qt,loc:nr});i.conditionalExpression=bt;const vt=Kt=>({type:"ArrayExpression",elements:Kt});i.arrayExpression=vt;const Et=(Kt,Ht)=>({type:"AssignmentExpression",operator:"=",left:Kt,right:Ht});i.assignmentExpression=Et;const $t=(Kt,Ht,qt,nr)=>({type:"BinaryExpression",operator:Kt,left:Ht,right:qt,loc:nr});i.binaryExpression=$t;const Tt=(Kt,Ht,qt)=>({type:"UnaryExpression",operator:Kt,prefix:!0,argument:Ht,loc:qt});i.unaryExpression=Tt;const At=Kt=>Kt===void 0?(0,i.identifier)("undefined"):(0,i.literal)(Kt);i.primitive=At;const Ct=(Kt,Ht,qt,nr)=>({type:"FunctionExpression",id:Kt,params:Ht,body:qt,loc:nr});i.functionDeclarationExpression=Ct;const It=(Kt,Ht,qt,nr)=>({type:"FunctionDeclaration",id:Kt,params:Ht,body:qt,loc:nr});i.functionDeclaration=It;const Lt=(Kt,Ht)=>({type:"BlockExpression",body:Kt,loc:Ht});i.blockExpression=Lt;const Ft=(Kt,Ht,qt)=>({type:"ArrowFunctionExpression",expression:Ht.type!=="BlockStatement",generator:!1,params:Kt,body:Ht,loc:qt});i.arrowFunctionExpression=Ft;const Dt=(Kt,Ht)=>({type:"VariableDeclaration",kind:"const",declarations:Kt,loc:Ht});i.variableDeclaration=Dt;const Vt=(Kt,Ht,qt)=>({type:"VariableDeclarator",id:Kt,init:Ht,loc:qt});i.variableDeclarator=Vt;const Ut=(Kt,Ht,qt,nr)=>({type:"IfStatement",test:Kt,consequent:Ht,alternate:qt,loc:nr});i.ifStatement=Ut;const Qt=(Kt,Ht,qt)=>({type:"WhileStatement",test:Ht,body:Kt,loc:qt});i.whileStatement=Qt})(astCreator);var walkers$1={},walk={exports:{}};(function(i,s){(function(a,o){o(s)})(commonjsGlobal,function(a){function o(ct,mt,gt,yt,ut){gt||(gt=ft),function wt(bt,vt,Et){var $t=Et||bt.type;gt[$t](bt,vt,wt),mt[$t]&&mt[$t](bt,vt)}(ct,yt,ut)}function rt(ct,mt,gt,yt,ut){var wt=[];gt||(gt=ft),function bt(vt,Et,$t){var Tt=$t||vt.type,At=vt!==wt[wt.length-1];At&&wt.push(vt),gt[Tt](vt,Et,bt),mt[Tt]&&mt[Tt](vt,Et||wt,wt),At&&wt.pop()}(ct,yt,ut)}function et(ct,mt,gt,yt,ut){var wt=gt?st(gt,yt||void 0):yt;(function bt(vt,Et,$t){wt[$t||vt.type](vt,Et,bt)})(ct,mt,ut)}function at(ct){return typeof ct=="string"?function(mt){return mt===ct}:ct||function(){return!0}}var ot=function(mt,gt){this.node=mt,this.state=gt};function nt(ct,mt,gt,yt,ut){gt||(gt=ft);var wt;(function bt(vt,Et,$t){var Tt=$t||vt.type;gt[Tt](vt,Et,bt),wt!==vt&&(mt(vt,Et,Tt),wt=vt)})(ct,yt,ut)}function it(ct,mt,gt,yt){gt||(gt=ft);var ut=[],wt;(function bt(vt,Et,$t){var Tt=$t||vt.type,At=vt!==ut[ut.length-1];At&&ut.push(vt),gt[Tt](vt,Et,bt),wt!==vt&&(mt(vt,Et||ut,ut,Tt),wt=vt),At&&ut.pop()})(ct,yt)}function j(ct,mt,gt,yt,ut,wt){ut||(ut=ft),yt=at(yt);try{(function bt(vt,Et,$t){var Tt=$t||vt.type;if((mt==null||vt.start<=mt)&&(gt==null||vt.end>=gt)&&ut[Tt](vt,Et,bt),(mt==null||vt.start===mt)&&(gt==null||vt.end===gt)&&yt(Tt,vt))throw new ot(vt,Et)})(ct,wt)}catch(bt){if(bt instanceof ot)return bt;throw bt}}function _(ct,mt,gt,yt,ut){gt=at(gt),yt||(yt=ft);try{(function wt(bt,vt,Et){var $t=Et||bt.type;if(!(bt.start>mt||bt.end<mt)&&(yt[$t](bt,vt,wt),gt($t,bt)))throw new ot(bt,vt)})(ct,ut)}catch(wt){if(wt instanceof ot)return wt;throw wt}}function $(ct,mt,gt,yt,ut){gt=at(gt),yt||(yt=ft);try{(function wt(bt,vt,Et){if(!(bt.end<mt)){var $t=Et||bt.type;if(bt.start>=mt&&gt($t,bt))throw new ot(bt,vt);yt[$t](bt,vt,wt)}})(ct,ut)}catch(wt){if(wt instanceof ot)return wt;throw wt}}function tt(ct,mt,gt,yt,ut){gt=at(gt),yt||(yt=ft);var wt;return function bt(vt,Et,$t){if(!(vt.start>mt)){var Tt=$t||vt.type;vt.end<=mt&&(!wt||wt.node.end<vt.end)&&gt(Tt,vt)&&(wt=new ot(vt,Et)),yt[Tt](vt,Et,bt)}}(ct,ut),wt}function st(ct,mt){var gt=Object.create(mt||ft);for(var yt in ct)gt[yt]=ct[yt];return gt}function lt(ct,mt,gt){gt(ct,mt)}function ht(ct,mt,gt){}var ft={};ft.Program=ft.BlockStatement=ft.StaticBlock=function(ct,mt,gt){for(var yt=0,ut=ct.body;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt,"Statement")}},ft.Statement=lt,ft.EmptyStatement=ht,ft.ExpressionStatement=ft.ParenthesizedExpression=ft.ChainExpression=function(ct,mt,gt){return gt(ct.expression,mt,"Expression")},ft.IfStatement=function(ct,mt,gt){gt(ct.test,mt,"Expression"),gt(ct.consequent,mt,"Statement"),ct.alternate&&gt(ct.alternate,mt,"Statement")},ft.LabeledStatement=function(ct,mt,gt){return gt(ct.body,mt,"Statement")},ft.BreakStatement=ft.ContinueStatement=ht,ft.WithStatement=function(ct,mt,gt){gt(ct.object,mt,"Expression"),gt(ct.body,mt,"Statement")},ft.SwitchStatement=function(ct,mt,gt){gt(ct.discriminant,mt,"Expression");for(var yt=0,ut=ct.cases;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt)}},ft.SwitchCase=function(ct,mt,gt){ct.test&&gt(ct.test,mt,"Expression");for(var yt=0,ut=ct.consequent;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt,"Statement")}},ft.ReturnStatement=ft.YieldExpression=ft.AwaitExpression=function(ct,mt,gt){ct.argument&&gt(ct.argument,mt,"Expression")},ft.ThrowStatement=ft.SpreadElement=function(ct,mt,gt){return gt(ct.argument,mt,"Expression")},ft.TryStatement=function(ct,mt,gt){gt(ct.block,mt,"Statement"),ct.handler&&gt(ct.handler,mt),ct.finalizer&&gt(ct.finalizer,mt,"Statement")},ft.CatchClause=function(ct,mt,gt){ct.param&&gt(ct.param,mt,"Pattern"),gt(ct.body,mt,"Statement")},ft.WhileStatement=ft.DoWhileStatement=function(ct,mt,gt){gt(ct.test,mt,"Expression"),gt(ct.body,mt,"Statement")},ft.ForStatement=function(ct,mt,gt){ct.init&&gt(ct.init,mt,"ForInit"),ct.test&&gt(ct.test,mt,"Expression"),ct.update&&gt(ct.update,mt,"Expression"),gt(ct.body,mt,"Statement")},ft.ForInStatement=ft.ForOfStatement=function(ct,mt,gt){gt(ct.left,mt,"ForInit"),gt(ct.right,mt,"Expression"),gt(ct.body,mt,"Statement")},ft.ForInit=function(ct,mt,gt){ct.type==="VariableDeclaration"?gt(ct,mt):gt(ct,mt,"Expression")},ft.DebuggerStatement=ht,ft.FunctionDeclaration=function(ct,mt,gt){return gt(ct,mt,"Function")},ft.VariableDeclaration=function(ct,mt,gt){for(var yt=0,ut=ct.declarations;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt)}},ft.VariableDeclarator=function(ct,mt,gt){gt(ct.id,mt,"Pattern"),ct.init&&gt(ct.init,mt,"Expression")},ft.Function=function(ct,mt,gt){ct.id&&gt(ct.id,mt,"Pattern");for(var yt=0,ut=ct.params;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt,"Pattern")}gt(ct.body,mt,ct.expression?"Expression":"Statement")},ft.Pattern=function(ct,mt,gt){ct.type==="Identifier"?gt(ct,mt,"VariablePattern"):ct.type==="MemberExpression"?gt(ct,mt,"MemberPattern"):gt(ct,mt)},ft.VariablePattern=ht,ft.MemberPattern=lt,ft.RestElement=function(ct,mt,gt){return gt(ct.argument,mt,"Pattern")},ft.ArrayPattern=function(ct,mt,gt){for(var yt=0,ut=ct.elements;yt<ut.length;yt+=1){var wt=ut[yt];wt&&gt(wt,mt,"Pattern")}},ft.ObjectPattern=function(ct,mt,gt){for(var yt=0,ut=ct.properties;yt<ut.length;yt+=1){var wt=ut[yt];wt.type==="Property"?(wt.computed&&gt(wt.key,mt,"Expression"),gt(wt.value,mt,"Pattern")):wt.type==="RestElement"&&gt(wt.argument,mt,"Pattern")}},ft.Expression=lt,ft.ThisExpression=ft.Super=ft.MetaProperty=ht,ft.ArrayExpression=function(ct,mt,gt){for(var yt=0,ut=ct.elements;yt<ut.length;yt+=1){var wt=ut[yt];wt&&gt(wt,mt,"Expression")}},ft.ObjectExpression=function(ct,mt,gt){for(var yt=0,ut=ct.properties;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt)}},ft.FunctionExpression=ft.ArrowFunctionExpression=ft.FunctionDeclaration,ft.SequenceExpression=function(ct,mt,gt){for(var yt=0,ut=ct.expressions;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt,"Expression")}},ft.TemplateLiteral=function(ct,mt,gt){for(var yt=0,ut=ct.quasis;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt)}for(var bt=0,vt=ct.expressions;bt<vt.length;bt+=1){var Et=vt[bt];gt(Et,mt,"Expression")}},ft.TemplateElement=ht,ft.UnaryExpression=ft.UpdateExpression=function(ct,mt,gt){gt(ct.argument,mt,"Expression")},ft.BinaryExpression=ft.LogicalExpression=function(ct,mt,gt){gt(ct.left,mt,"Expression"),gt(ct.right,mt,"Expression")},ft.AssignmentExpression=ft.AssignmentPattern=function(ct,mt,gt){gt(ct.left,mt,"Pattern"),gt(ct.right,mt,"Expression")},ft.ConditionalExpression=function(ct,mt,gt){gt(ct.test,mt,"Expression"),gt(ct.consequent,mt,"Expression"),gt(ct.alternate,mt,"Expression")},ft.NewExpression=ft.CallExpression=function(ct,mt,gt){if(gt(ct.callee,mt,"Expression"),ct.arguments)for(var yt=0,ut=ct.arguments;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt,"Expression")}},ft.MemberExpression=function(ct,mt,gt){gt(ct.object,mt,"Expression"),ct.computed&&gt(ct.property,mt,"Expression")},ft.ExportNamedDeclaration=ft.ExportDefaultDeclaration=function(ct,mt,gt){ct.declaration&&gt(ct.declaration,mt,ct.type==="ExportNamedDeclaration"||ct.declaration.id?"Statement":"Expression"),ct.source&&gt(ct.source,mt,"Expression")},ft.ExportAllDeclaration=function(ct,mt,gt){ct.exported&&gt(ct.exported,mt),gt(ct.source,mt,"Expression")},ft.ImportDeclaration=function(ct,mt,gt){for(var yt=0,ut=ct.specifiers;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt)}gt(ct.source,mt,"Expression")},ft.ImportExpression=function(ct,mt,gt){gt(ct.source,mt,"Expression")},ft.ImportSpecifier=ft.ImportDefaultSpecifier=ft.ImportNamespaceSpecifier=ft.Identifier=ft.PrivateIdentifier=ft.Literal=ht,ft.TaggedTemplateExpression=function(ct,mt,gt){gt(ct.tag,mt,"Expression"),gt(ct.quasi,mt,"Expression")},ft.ClassDeclaration=ft.ClassExpression=function(ct,mt,gt){return gt(ct,mt,"Class")},ft.Class=function(ct,mt,gt){ct.id&&gt(ct.id,mt,"Pattern"),ct.superClass&&gt(ct.superClass,mt,"Expression"),gt(ct.body,mt)},ft.ClassBody=function(ct,mt,gt){for(var yt=0,ut=ct.body;yt<ut.length;yt+=1){var wt=ut[yt];gt(wt,mt)}},ft.MethodDefinition=ft.PropertyDefinition=ft.Property=function(ct,mt,gt){ct.computed&&gt(ct.key,mt,"Expression"),ct.value&&gt(ct.value,mt,"Expression")},a.ancestor=rt,a.base=ft,a.findNodeAfter=$,a.findNodeAround=_,a.findNodeAt=j,a.findNodeBefore=tt,a.full=nt,a.fullAncestor=it,a.make=st,a.recursive=et,a.simple=o})})(walk,walk.exports);var walkExports=walk.exports;Object.defineProperty(walkers$1,"__esModule",{value:!0});walkers$1.base=walkers$1.findNodeAfter=walkers$1.findNodeAround=walkers$1.findNodeAt=walkers$1.make=walkers$1.fullAncestor=walkers$1.full=walkers$1.recursive=walkers$1.ancestor=walkers$1.simple=void 0;const walkers=walkExports;walkers$1.simple=walkers.simple;walkers$1.ancestor=walkers.ancestor;walkers$1.recursive=walkers.recursive;walkers$1.full=walkers.full;walkers$1.fullAncestor=walkers.fullAncestor;walkers$1.make=walkers.make;walkers$1.findNodeAt=walkers.findNodeAt;walkers$1.findNodeAround=walkers.findNodeAround;walkers$1.findNodeAfter=walkers.findNodeAfter;walkers$1.base=walkers.base;var bodyVerifier={};Object.defineProperty(bodyVerifier,"__esModule",{value:!0});const walkers_1$1=walkers$1;class GPUBodyVerifier{constructor(s,a,o){this.checkBody=rt=>{let et=!0;if((0,walkers_1$1.simple)(rt,{FunctionDeclaration(){et=!1},ArrowFunctionExpression(){et=!1},ReturnStatement(){et=!1},BreakStatement(){et=!1},ContinueStatement(){et=!1}}),!et)return;const at=new RegExp(/^math_[a-z]+$/);if((0,walkers_1$1.simple)(rt,{CallExpression(tt){if(tt.callee.type!=="Identifier"){et=!1;return}const st=tt.callee.name;if(!at.test(st)){et=!1;return}}}),!et)return;const ot=new Set;(0,walkers_1$1.simple)(rt,{VariableDeclaration(tt){tt.declarations[0].id.type==="Identifier"&&ot.add(tt.declarations[0].id.name)}}),this.localVar=ot;const nt=[],it=this.getArrayName;if((0,walkers_1$1.simple)(rt,{AssignmentExpression(tt){if(!(tt.left.type==="Identifier"&&ot.has(tt.left.name))){if(tt.left.type==="MemberExpression"){const st=it(tt.left);if(ot.has(st.name))return}nt.push(tt)}}}),nt.length!==1||nt[0].left.type!=="MemberExpression")return;const j=this.getPropertyAccess(nt[0].left);if(j.length===0||j.length>this.counters.length)return;const _=this.getPropertyAccess,$=this.outputArray;if((0,walkers_1$1.simple)(rt,{MemberExpression(tt){if(it(tt).name!==$.name)return;const lt=_(tt);JSON.stringify(lt)!==JSON.stringify(j)&&(et=!1)}},(0,walkers_1$1.make)({MemberExpression:()=>{}})),!!et){for(let tt=0;tt<this.counters.length&&j[tt]===this.counters[tt];tt++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=rt=>{let et=rt;for(;et.type==="MemberExpression";)et=et.object;return et},this.getPropertyAccess=rt=>{const et=[];let at=!0,ot=rt;for(;ot.type==="MemberExpression";){if(ot.property.type!=="Identifier"){at=!1;break}et.push(ot.property.name),ot=ot.object}return at?(this.outputArray=ot,et.reverse()):[]},this.program=s,this.node=a,this.counters=o,this.state=0,this.checkBody(a)}}bodyVerifier.default=GPUBodyVerifier;var loopVerifier={};Object.defineProperty(loopVerifier,"__esModule",{value:!0});class GPULoopVerifier{constructor(s){this.forLoopTransform=a=>{!a.init||!a.update||!a.test||(this.ok=this.hasCounter(a.init)&&this.hasCondition(a.test)&&this.hasUpdate(a.update))},this.hasCounter=a=>{if(!a||a.type!=="VariableDeclaration"||a.kind!=="let")return!1;const o=a.declarations;if(o.length>1)return!1;const rt=o[0];if(rt.id.type!=="Identifier"||!rt.init)return!1;this.counter=rt.id.name;const et=rt.init;return!(!et||et.type!=="Literal"||et.value!==0)},this.hasCondition=a=>{if(a.type!=="BinaryExpression"||!(a.operator==="<"||a.operator==="<="))return!1;const o=a.left;if(o.type!=="Identifier"||o.name!==this.counter)return!1;const rt=a.right;return rt.type==="Identifier"||rt.type==="Literal"?(this.end=rt,!0):!1},this.hasUpdate=a=>{if(a.type!=="AssignmentExpression"||a.operator!=="="||a.left.type!=="Identifier"||a.left.name!==this.counter||a.right.type!=="BinaryExpression")return!1;const o=a.right;if(o.operator!=="+")return!1;const rt=o.left.type==="Identifier"&&o.left.name===this.counter,et=o.right.type==="Identifier"&&o.right.name===this.counter,at=o.left.type==="Literal"&&o.left.value===1,ot=o.right.type==="Literal"&&o.right.value===1;return rt&&ot||et&&at},this.node=s,this.forLoopTransform(this.node)}}loopVerifier.default=GPULoopVerifier;Object.defineProperty(transfomer,"__esModule",{value:!0});transfomer.gpuRuntimeTranspile=void 0;const create=astCreator,walkers_1=walkers$1,bodyVerifier_1=bodyVerifier,loopVerifier_1=loopVerifier;let currentKernelId=0;class GPUTransformer{constructor(s,a){this.transform=()=>{const o=this.gpuTranspile,rt=[];return(0,walkers_1.simple)(this.program,{ForStatement(et){const at=o(et);at>0&&et.loc&&rt.push([et.loc.start.line,at])}},(0,walkers_1.make)({ForStatement:()=>{}})),rt},this.gpuTranspile=o=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(o),this.counters.length===0||new Set(this.counters).size!==this.counters.length)return 0;const rt=new bodyVerifier_1.default(this.program,this.innerBody,this.counters);if(rt.state===0)return 0;this.state=rt.state,this.outputArray=rt.outputArray,this.localVar=rt.localVar,this.getOuterVariables(),this.getTargetBody(o);const et=[];for(const _ in this.outerVariables)if(this.outerVariables.hasOwnProperty(_)){const $=this.outerVariables[_];et.push([create.literal(_),JSON.parse(JSON.stringify($))])}const at=rt.getArrayName,ot=this.localVar;(0,walkers_1.ancestor)(this.targetBody,{AssignmentExpression(_,$){if(_.left.type==="Identifier"||_.left.type!=="MemberExpression")return;const tt=at(_.left);if(ot.has(tt.name))return;const st=$.length;create.mutateToReturnStatement($[st-2],_.right)}});const nt=[];for(let _=0;_<this.state;_++)nt.push(create.identifier(this.counters[_]));const it=create.blockArrowFunction(this.counters.map(_=>create.identifier(_)),this.targetBody),j=create.callExpression(this.globalIds.__createKernelSource,[create.arrayExpression(this.end),create.arrayExpression(et.map(create.arrayExpression)),create.arrayExpression(Array.from(ot.values()).map(_=>create.literal(_))),this.outputArray,it,create.literal(currentKernelId++)],o.loc);return create.mutateToExpressionStatement(o,j),this.state},this.checkOuterLoops=o=>{let rt=o;for(;rt.type==="ForStatement";){const et=new loopVerifier_1.default(rt);if(!et.ok||(this.innerBody=rt.body,this.counters.push(et.counter),this.end.push(et.end),this.innerBody.type!=="BlockStatement")||this.innerBody.body.length>1||this.innerBody.body.length===0)break;rt=this.innerBody.body[0]}},this.program=s,this.globalIds={__createKernelSource:a}}getTargetBody(s){let a=this.state;for(this.targetBody=s;a>1;)this.targetBody=this.targetBody.body.body[0],a--;this.targetBody=this.targetBody.body}getOuterVariables(){const s=this.innerBody,a=this.localVar,o=this.counters,rt=this.outputArray.name,et={};(0,walkers_1.simple)(s,{Identifier(at){a.has(at.name)||o.includes(at.name)||at.name===rt||at.name.startsWith("math_")||(et[at.name]=at)}}),this.outerVariables=et}}function gpuRuntimeTranspile(i,s){const a=i.params.map(ot=>ot.name),o=i.body;(0,walkers_1.simple)(o,{CallExpression(ot){if(ot.callee.type!=="Identifier")return;const it=ot.callee.name.split("_")[1],j=ot.arguments;create.mutateToCallExpression(ot,create.memberExpression(create.identifier("Math"),it),j)}});const rt=new Set([...a,"Math"]);(0,walkers_1.simple)(o,{Identifier(ot){rt.has(ot.name)||s.has(ot.name)||create.mutateToMemberExpression(ot,create.memberExpression(create.identifier("this"),"constants"),create.identifier(ot.name))}});let et=["x"];a.length===2&&(et=["y","x"]),a.length===3&&(et=["z","y","x"]);const at=a.slice();return(0,walkers_1.simple)(o,{Identifier(ot){let nt=-1;for(let j=0;j<at.length;j=j+1)if(ot.name===at[j]){nt=j;break}if(nt===-1)return;const it=et[nt];create.mutateToMemberExpression(ot,create.memberExpression(create.identifier("this"),"thread"),create.identifier(it))}}),o}transfomer.gpuRuntimeTranspile=gpuRuntimeTranspile;transfomer.default=GPUTransformer;Object.defineProperty(lib,"__esModule",{value:!0});lib.__createKernelSource=lib.__clearKernelCache=lib.__createKernel=void 0;const acorn_1=acornExports,astring_1$8=astring,gpu_js_1=gpuBrowserExports,constants_1=constants,rttc_1=rttc,transfomer_1=transfomer,MAX_SIZE=200;function buildArray(i,s,a){for(let o=0;o<s[0];o++)a[o]=prettyOutput(i[o])}function build2DArray(i,s,a){for(let o=0;o<s[0];o++)for(let rt=0;rt<s[1];rt++)a[o][rt]=prettyOutput(i[o][rt])}function build3DArray(i,s,a){for(let o=0;o<s[0];o++)for(let rt=0;rt<s[1];rt++)for(let et=0;et<s[2];et++)a[o][rt][et]=prettyOutput(i[o][rt][et])}function prettyOutput(i){if(!(i instanceof Float32Array))return i;const s=i.map(a=>prettyOutput(a));return Array.from(s)}function checkArray(i){return Array.isArray(i)}function checkArray2D(i,s){for(let a=0;a<s[0];a=a+1)if(!Array.isArray(i[a]))return!1;return!0}function checkArray3D(i,s){for(let a=0;a<s[0];a=a+1){if(!Array.isArray(i[a]))return!1;for(let o=0;o<s[1];o=o+1)if(!Array.isArray(i[a][o]))return!1}return!0}function checkValidGPU(i,s){let a;if(s.length===1&&(a=i(0)),s.length===2&&(a=i(0,0)),s.length===3&&(a=i(0,0,0)),typeof a!="number")return!1;let o=1;for(const rt of s)o=o*rt;return o>MAX_SIZE}function manualRun(i,s,a){function o(){for(let at=0;at<s[0];at++)a[at]=i(at)}function rt(){for(let at=0;at<s[0];at=at+1)for(let ot=0;ot<s[1];ot=ot+1)a[at][ot]=i(at,ot)}function et(){for(let at=0;at<s[0];at=at+1)for(let ot=0;ot<s[1];ot=ot+1)for(let nt=0;nt<s[2];nt=nt+1)a[at][ot][nt]=i(at,ot,nt)}return s.length===1?o():s.length===2?rt():et()}function __createKernel(i,s,a,o,rt){const et=new gpu_js_1.GPU;let at=checkArray(o),ot="";if(at||(ot=typeof o),i.length>1&&(at=at&&checkArray2D(o,i),at||(ot="undefined")),i.length>2&&(at=at&&checkArray3D(o,i),at||(ot="undefined")),!at)throw new rttc_1.TypeError(o,"","object or array",ot);if(at=checkValidGPU(rt,i),!at){manualRun(rt,i,o);return}const nt=[];for(let $=i.length-1;$>=0;$--)nt.push(i[$]);const it={constants:{}};it.constants=s;const _=et.createKernel(a,it).setOutput(nt)();i.length===1&&buildArray(_,i,o),i.length===2&&build2DArray(_,i,o),i.length===3&&build3DArray(_,i,o)}lib.__createKernel=__createKernel;function entriesToObject(i){const s={};return i.forEach(([a,o])=>s[a]=o),s}const kernels=new Map;function __clearKernelCache(){kernels.clear()}lib.__clearKernelCache=__clearKernelCache;function __createKernelSource(i,s,a,o,rt,et){const at=entriesToObject(s),ot=kernels.get(et);if(ot!==void 0)return __createKernel(i,at,ot,o,rt);const nt=rt.toString(),j=(0,acorn_1.parse)(nt,constants_1.ACORN_PARSE_OPTIONS).body[0].expression,_=(0,transfomer_1.gpuRuntimeTranspile)(j,new Set(a)),$=new Function((0,astring_1$8.generate)(_));return kernels.set(et,$),__createKernel(i,at,$,o,rt)}lib.__createKernelSource=__createKernelSource;var schedulers={},errors={},stringify$1={},closure={},interpreter={},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,s){(function(){var a,o="4.17.21",rt=200,et="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",at="Expected a function",ot="Invalid `variable` option passed into `_.template`",nt="__lodash_hash_undefined__",it=500,j="__lodash_placeholder__",_=1,$=2,tt=4,st=1,lt=2,ht=1,ft=2,ct=4,mt=8,gt=16,yt=32,ut=64,wt=128,bt=256,vt=512,Et=30,$t="...",Tt=800,At=16,Ct=1,It=2,Lt=3,Ft=1/0,Dt=9007199254740991,Vt=17976931348623157e292,Ut=NaN,Qt=4294967295,Kt=Qt-1,Ht=Qt>>>1,qt=[["ary",wt],["bind",ht],["bindKey",ft],["curry",mt],["curryRight",gt],["flip",vt],["partial",yt],["partialRight",ut],["rearg",bt]],nr="[object Arguments]",tr="[object Array]",mr="[object AsyncFunction]",yr="[object Boolean]",br="[object Date]",xr="[object DOMException]",sr="[object Error]",ar="[object Function]",rr="[object GeneratorFunction]",Cr="[object Map]",kr="[object Number]",vr="[object Null]",Gr="[object Object]",an="[object Promise]",hn="[object Proxy]",Mn="[object RegExp]",Bn="[object Set]",An="[object String]",dn="[object Symbol]",Yn="[object Undefined]",Dn="[object WeakMap]",Tr="[object WeakSet]",Br="[object ArrayBuffer]",Ar="[object DataView]",fn="[object Float32Array]",er="[object Float64Array]",Yt="[object Int8Array]",fr="[object Int16Array]",Dr="[object Int32Array]",Ur="[object Uint8Array]",$r="[object Uint8ClampedArray]",Ir="[object Uint16Array]",Xr="[object Uint32Array]",un=/\b__p \+= '';/g,Fr=/\b(__p \+=) '' \+/g,qr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wr=/&(?:amp|lt|gt|quot|#39);/g,zr=/[&<>"']/g,ln=RegExp(Wr.source),Er=RegExp(zr.source),mn=/<%-([\s\S]+?)%>/g,Ss=/<%([\s\S]+?)%>/g,ws=/<%=([\s\S]+?)%>/g,Xn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qn=/^\w*$/,Ns=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ts=/[\\^$.*+?()[\]{}|]/g,ks=RegExp(ts.source),Rs=/^\s+/,zs=/\s/,hs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fs=/\{\n\/\* \[wrapped with (.+)\] \*/,Os=/,? & /,nn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ms=/[()=,{}\[\]\/\s]/,js=/\\(\\)?/g,$s=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ns=/\w*$/,Qs=/^[-+]0x[0-9a-f]+$/i,Us=/^0b[01]+$/i,Zs=/^\[object .+?Constructor\]$/,Js=/^0o[0-7]+$/i,Ws=/^(?:0|[1-9]\d*)$/,ps=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,As=/($^)/,Ms=/['\n\r\u2028\u2029\\]/g,_s="\\ud800-\\udfff",Hs="\\u0300-\\u036f",ds="\\ufe20-\\ufe2f",vn="\\u20d0-\\u20ff",Zr=Hs+ds+vn,Yr="\\u2700-\\u27bf",Zn="a-z\\xdf-\\xf6\\xf8-\\xff",ss="\\xac\\xb1\\xd7\\xf7",uo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",na="\\u2000-\\u206f",_t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",Wt="\\ufe0e\\ufe0f",Jt=ss+uo+na+_t,cr="[']",_r="["+_s+"]",Mr="["+Jt+"]",Kr="["+Zr+"]",rn="\\d+",kn="["+Yr+"]",Hn="["+Zn+"]",as="[^"+_s+Jt+rn+Yr+Zn+Pt+"]",os="\\ud83c[\\udffb-\\udfff]",ls="(?:"+Kr+"|"+os+")",Ls="[^"+_s+"]",xn="(?:\\ud83c[\\udde6-\\uddff]){2}",gs="[\\ud800-\\udbff][\\udc00-\\udfff]",_i="["+Pt+"]",wn="\\u200d",co="(?:"+Hn+"|"+as+")",ys="(?:"+_i+"|"+as+")",ho="(?:"+cr+"(?:d|ll|m|re|s|t|ve))?",fo="(?:"+cr+"(?:D|LL|M|RE|S|T|VE))?",xt=ls+"?",Mt="["+Wt+"]?",zt="(?:"+wn+"(?:"+[Ls,xn,gs].join("|")+")"+Mt+xt+")*",pt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nt=Mt+xt+zt,Bt="(?:"+[kn,xn,gs].join("|")+")"+Nt,Xt="(?:"+[Ls+Kr+"?",Kr,xn,gs,_r].join("|")+")",ur=RegExp(cr,"g"),gr=RegExp(Kr,"g"),Lr=RegExp(os+"(?="+os+")|"+Xt+Nt,"g"),Vr=RegExp([_i+"?"+Hn+"+"+ho+"(?="+[Mr,_i,"$"].join("|")+")",ys+"+"+fo+"(?="+[Mr,_i+co,"$"].join("|")+")",_i+"?"+co+"+"+ho,_i+"+"+fo,kt,pt,rn,Bt].join("|"),"g"),cn=RegExp("["+wn+_s+Zr+Wt+"]"),sn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Es=-1,$n={};$n[fn]=$n[er]=$n[Yt]=$n[fr]=$n[Dr]=$n[Ur]=$n[$r]=$n[Ir]=$n[Xr]=!0,$n[nr]=$n[tr]=$n[Br]=$n[yr]=$n[Ar]=$n[br]=$n[sr]=$n[ar]=$n[Cr]=$n[kr]=$n[Gr]=$n[Mn]=$n[Bn]=$n[An]=$n[Dn]=!1;var _n={};_n[nr]=_n[tr]=_n[Br]=_n[Ar]=_n[yr]=_n[br]=_n[fn]=_n[er]=_n[Yt]=_n[fr]=_n[Dr]=_n[Cr]=_n[kr]=_n[Gr]=_n[Mn]=_n[Bn]=_n[An]=_n[dn]=_n[Ur]=_n[$r]=_n[Ir]=_n[Xr]=!0,_n[sr]=_n[ar]=_n[Dn]=!1;var lr={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},or={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hr=parseFloat,Qr=parseInt,pn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,En=typeof self=="object"&&self&&self.Object===Object&&self,en=pn||En||Function("return this")(),gn=s&&!s.nodeType&&s,Vn=gn&&!0&&i&&!i.nodeType&&i,Gn=Vn&&Vn.exports===gn,Qn=Gn&&pn.process,Un=function(){try{var Sr=Vn&&Vn.require&&Vn.require("util").types;return Sr||Qn&&Qn.binding&&Qn.binding("util")}catch{}}(),vs=Un&&Un.isArrayBuffer,Gs=Un&&Un.isDate,to=Un&&Un.isMap,vo=Un&&Un.isRegExp,$l=Un&&Un.isSet,Bo=Un&&Un.isTypedArray;function Ts(Sr,Pr,Rr){switch(Rr.length){case 0:return Sr.call(Pr);case 1:return Sr.call(Pr,Rr[0]);case 2:return Sr.call(Pr,Rr[0],Rr[1]);case 3:return Sr.call(Pr,Rr[0],Rr[1],Rr[2])}return Sr.apply(Pr,Rr)}function Py(Sr,Pr,Rr,tn){for(var Tn=-1,zn=Sr==null?0:Sr.length;++Tn<zn;){var xs=Sr[Tn];Pr(tn,xs,Rr(xs),Sr)}return tn}function ro(Sr,Pr){for(var Rr=-1,tn=Sr==null?0:Sr.length;++Rr<tn&&Pr(Sr[Rr],Rr,Sr)!==!1;);return Sr}function Dy(Sr,Pr){for(var Rr=Sr==null?0:Sr.length;Rr--&&Pr(Sr[Rr],Rr,Sr)!==!1;);return Sr}function Dp(Sr,Pr){for(var Rr=-1,tn=Sr==null?0:Sr.length;++Rr<tn;)if(!Pr(Sr[Rr],Rr,Sr))return!1;return!0}function Ro(Sr,Pr){for(var Rr=-1,tn=Sr==null?0:Sr.length,Tn=0,zn=[];++Rr<tn;){var xs=Sr[Rr];Pr(xs,Rr,Sr)&&(zn[Tn++]=xs)}return zn}function Gl(Sr,Pr){var Rr=Sr==null?0:Sr.length;return!!Rr&&Xo(Sr,Pr,0)>-1}function Mu(Sr,Pr,Rr){for(var tn=-1,Tn=Sr==null?0:Sr.length;++tn<Tn;)if(Rr(Pr,Sr[tn]))return!0;return!1}function Jn(Sr,Pr){for(var Rr=-1,tn=Sr==null?0:Sr.length,Tn=Array(tn);++Rr<tn;)Tn[Rr]=Pr(Sr[Rr],Rr,Sr);return Tn}function Mo(Sr,Pr){for(var Rr=-1,tn=Pr.length,Tn=Sr.length;++Rr<tn;)Sr[Tn+Rr]=Pr[Rr];return Sr}function Lu(Sr,Pr,Rr,tn){var Tn=-1,zn=Sr==null?0:Sr.length;for(tn&&zn&&(Rr=Sr[++Tn]);++Tn<zn;)Rr=Pr(Rr,Sr[Tn],Tn,Sr);return Rr}function Ny(Sr,Pr,Rr,tn){var Tn=Sr==null?0:Sr.length;for(tn&&Tn&&(Rr=Sr[--Tn]);Tn--;)Rr=Pr(Rr,Sr[Tn],Tn,Sr);return Rr}function Pu(Sr,Pr){for(var Rr=-1,tn=Sr==null?0:Sr.length;++Rr<tn;)if(Pr(Sr[Rr],Rr,Sr))return!0;return!1}var Oy=Du("length");function Fy(Sr){return Sr.split("")}function Vy(Sr){return Sr.match(nn)||[]}function Np(Sr,Pr,Rr){var tn;return Rr(Sr,function(Tn,zn,xs){if(Pr(Tn,zn,xs))return tn=zn,!1}),tn}function Kl(Sr,Pr,Rr,tn){for(var Tn=Sr.length,zn=Rr+(tn?1:-1);tn?zn--:++zn<Tn;)if(Pr(Sr[zn],zn,Sr))return zn;return-1}function Xo(Sr,Pr,Rr){return Pr===Pr?Qy(Sr,Pr,Rr):Kl(Sr,Op,Rr)}function By(Sr,Pr,Rr,tn){for(var Tn=Rr-1,zn=Sr.length;++Tn<zn;)if(tn(Sr[Tn],Pr))return Tn;return-1}function Op(Sr){return Sr!==Sr}function Fp(Sr,Pr){var Rr=Sr==null?0:Sr.length;return Rr?Ou(Sr,Pr)/Rr:Ut}function Du(Sr){return function(Pr){return Pr==null?a:Pr[Sr]}}function Nu(Sr){return function(Pr){return Sr==null?a:Sr[Pr]}}function Vp(Sr,Pr,Rr,tn,Tn){return Tn(Sr,function(zn,xs,Kn){Rr=tn?(tn=!1,zn):Pr(Rr,zn,xs,Kn)}),Rr}function zy(Sr,Pr){var Rr=Sr.length;for(Sr.sort(Pr);Rr--;)Sr[Rr]=Sr[Rr].value;return Sr}function Ou(Sr,Pr){for(var Rr,tn=-1,Tn=Sr.length;++tn<Tn;){var zn=Pr(Sr[tn]);zn!==a&&(Rr=Rr===a?zn:Rr+zn)}return Rr}function Fu(Sr,Pr){for(var Rr=-1,tn=Array(Sr);++Rr<Sr;)tn[Rr]=Pr(Rr);return tn}function jy(Sr,Pr){return Jn(Pr,function(Rr){return[Rr,Sr[Rr]]})}function Bp(Sr){return Sr&&Sr.slice(0,Wp(Sr)+1).replace(Rs,"")}function ga(Sr){return function(Pr){return Sr(Pr)}}function Vu(Sr,Pr){return Jn(Pr,function(Rr){return Sr[Rr]})}function Al(Sr,Pr){return Sr.has(Pr)}function zp(Sr,Pr){for(var Rr=-1,tn=Sr.length;++Rr<tn&&Xo(Pr,Sr[Rr],0)>-1;);return Rr}function jp(Sr,Pr){for(var Rr=Sr.length;Rr--&&Xo(Pr,Sr[Rr],0)>-1;);return Rr}function Uy(Sr,Pr){for(var Rr=Sr.length,tn=0;Rr--;)Sr[Rr]===Pr&&++tn;return tn}var Wy=Nu(lr),Hy=Nu(jt);function Gy(Sr){return"\\"+dr[Sr]}function Ky(Sr,Pr){return Sr==null?a:Sr[Pr]}function qo(Sr){return cn.test(Sr)}function Yy(Sr){return sn.test(Sr)}function Xy(Sr){for(var Pr,Rr=[];!(Pr=Sr.next()).done;)Rr.push(Pr.value);return Rr}function Bu(Sr){var Pr=-1,Rr=Array(Sr.size);return Sr.forEach(function(tn,Tn){Rr[++Pr]=[Tn,tn]}),Rr}function Up(Sr,Pr){return function(Rr){return Sr(Pr(Rr))}}function Lo(Sr,Pr){for(var Rr=-1,tn=Sr.length,Tn=0,zn=[];++Rr<tn;){var xs=Sr[Rr];(xs===Pr||xs===j)&&(Sr[Rr]=j,zn[Tn++]=Rr)}return zn}function Yl(Sr){var Pr=-1,Rr=Array(Sr.size);return Sr.forEach(function(tn){Rr[++Pr]=tn}),Rr}function qy(Sr){var Pr=-1,Rr=Array(Sr.size);return Sr.forEach(function(tn){Rr[++Pr]=[tn,tn]}),Rr}function Qy(Sr,Pr,Rr){for(var tn=Rr-1,Tn=Sr.length;++tn<Tn;)if(Sr[tn]===Pr)return tn;return-1}function Zy(Sr,Pr,Rr){for(var tn=Rr+1;tn--;)if(Sr[tn]===Pr)return tn;return tn}function Qo(Sr){return qo(Sr)?ev(Sr):Oy(Sr)}function po(Sr){return qo(Sr)?tv(Sr):Fy(Sr)}function Wp(Sr){for(var Pr=Sr.length;Pr--&&zs.test(Sr.charAt(Pr)););return Pr}var Jy=Nu(or);function ev(Sr){for(var Pr=Lr.lastIndex=0;Lr.test(Sr);)++Pr;return Pr}function tv(Sr){return Sr.match(Lr)||[]}function rv(Sr){return Sr.match(Vr)||[]}var nv=function Sr(Pr){Pr=Pr==null?en:Zo.defaults(en.Object(),Pr,Zo.pick(en,Fn));var Rr=Pr.Array,tn=Pr.Date,Tn=Pr.Error,zn=Pr.Function,xs=Pr.Math,Kn=Pr.Object,zu=Pr.RegExp,iv=Pr.String,no=Pr.TypeError,Xl=Rr.prototype,sv=zn.prototype,Jo=Kn.prototype,Ql=Pr["__core-js_shared__"],Zl=sv.toString,Wn=Jo.hasOwnProperty,av=0,Hp=function(){var dt=/[^.]+$/.exec(Ql&&Ql.keys&&Ql.keys.IE_PROTO||"");return dt?"Symbol(src)_1."+dt:""}(),Jl=Jo.toString,ov=Zl.call(Kn),lv=en._,uv=zu("^"+Zl.call(Wn).replace(ts,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eu=Gn?Pr.Buffer:a,Po=Pr.Symbol,tu=Pr.Uint8Array,Gp=eu?eu.allocUnsafe:a,ru=Up(Kn.getPrototypeOf,Kn),Kp=Kn.create,Yp=Jo.propertyIsEnumerable,nu=Xl.splice,Xp=Po?Po.isConcatSpreadable:a,Il=Po?Po.iterator:a,zo=Po?Po.toStringTag:a,iu=function(){try{var dt=Go(Kn,"defineProperty");return dt({},"",{}),dt}catch{}}(),cv=Pr.clearTimeout!==en.clearTimeout&&Pr.clearTimeout,hv=tn&&tn.now!==en.Date.now&&tn.now,fv=Pr.setTimeout!==en.setTimeout&&Pr.setTimeout,su=xs.ceil,au=xs.floor,ju=Kn.getOwnPropertySymbols,pv=eu?eu.isBuffer:a,qp=Pr.isFinite,dv=Xl.join,mv=Up(Kn.keys,Kn),bs=xs.max,Ps=xs.min,gv=tn.now,yv=Pr.parseInt,Qp=xs.random,vv=Xl.reverse,Uu=Go(Pr,"DataView"),Rl=Go(Pr,"Map"),Wu=Go(Pr,"Promise"),yl=Go(Pr,"Set"),Ml=Go(Pr,"WeakMap"),Ll=Go(Kn,"create"),ou=Ml&&new Ml,xl={},xv=Ko(Uu),bv=Ko(Rl),Sv=Ko(Wu),wv=Ko(yl),_v=Ko(Ml),lu=Po?Po.prototype:a,Pl=lu?lu.valueOf:a,Zp=lu?lu.toString:a;function Zt(dt){if(rs(dt)&&!Cn(dt)&&!(dt instanceof Nn)){if(dt instanceof io)return dt;if(Wn.call(dt,"__wrapped__"))return Jm(dt)}return new io(dt)}var Sl=function(){function dt(){}return function(St){if(!es(St))return{};if(Kp)return Kp(St);dt.prototype=St;var Rt=new dt;return dt.prototype=a,Rt}}();function uu(){}function io(dt,St){this.__wrapped__=dt,this.__actions__=[],this.__chain__=!!St,this.__index__=0,this.__values__=a}Zt.templateSettings={escape:mn,evaluate:Ss,interpolate:ws,variable:"",imports:{_:Zt}},Zt.prototype=uu.prototype,Zt.prototype.constructor=Zt,io.prototype=Sl(uu.prototype),io.prototype.constructor=io;function Nn(dt){this.__wrapped__=dt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qt,this.__views__=[]}function Ev(){var dt=new Nn(this.__wrapped__);return dt.__actions__=Ks(this.__actions__),dt.__dir__=this.__dir__,dt.__filtered__=this.__filtered__,dt.__iteratees__=Ks(this.__iteratees__),dt.__takeCount__=this.__takeCount__,dt.__views__=Ks(this.__views__),dt}function Tv(){if(this.__filtered__){var dt=new Nn(this);dt.__dir__=-1,dt.__filtered__=!0}else dt=this.clone(),dt.__dir__*=-1;return dt}function Cv(){var dt=this.__wrapped__.value(),St=this.__dir__,Rt=Cn(dt),Ot=St<0,Gt=Rt?dt.length:0,ir=F0(0,Gt,this.__views__),hr=ir.start,pr=ir.end,wr=pr-hr,Nr=Ot?pr:hr-1,Or=this.__iteratees__,jr=Or.length,Jr=0,on=Ps(wr,this.__takeCount__);if(!Rt||!Ot&&Gt==wr&&on==wr)return wm(dt,this.__actions__);var bn=[];e:for(;wr--&&Jr<on;){Nr+=St;for(var Rn=-1,Sn=dt[Nr];++Rn<jr;){var Pn=Or[Rn],On=Pn.iteratee,$a=Pn.type,Bs=On(Sn);if($a==It)Sn=Bs;else if(!Bs){if($a==Ct)continue e;break e}}bn[Jr++]=Sn}return bn}Nn.prototype=Sl(uu.prototype),Nn.prototype.constructor=Nn;function jo(dt){var St=-1,Rt=dt==null?0:dt.length;for(this.clear();++St<Rt;){var Ot=dt[St];this.set(Ot[0],Ot[1])}}function kv(){this.__data__=Ll?Ll(null):{},this.size=0}function $v(dt){var St=this.has(dt)&&delete this.__data__[dt];return this.size-=St?1:0,St}function Av(dt){var St=this.__data__;if(Ll){var Rt=St[dt];return Rt===nt?a:Rt}return Wn.call(St,dt)?St[dt]:a}function Iv(dt){var St=this.__data__;return Ll?St[dt]!==a:Wn.call(St,dt)}function Rv(dt,St){var Rt=this.__data__;return this.size+=this.has(dt)?0:1,Rt[dt]=Ll&&St===a?nt:St,this}jo.prototype.clear=kv,jo.prototype.delete=$v,jo.prototype.get=Av,jo.prototype.has=Iv,jo.prototype.set=Rv;function wo(dt){var St=-1,Rt=dt==null?0:dt.length;for(this.clear();++St<Rt;){var Ot=dt[St];this.set(Ot[0],Ot[1])}}function Mv(){this.__data__=[],this.size=0}function Lv(dt){var St=this.__data__,Rt=cu(St,dt);if(Rt<0)return!1;var Ot=St.length-1;return Rt==Ot?St.pop():nu.call(St,Rt,1),--this.size,!0}function Pv(dt){var St=this.__data__,Rt=cu(St,dt);return Rt<0?a:St[Rt][1]}function Dv(dt){return cu(this.__data__,dt)>-1}function Nv(dt,St){var Rt=this.__data__,Ot=cu(Rt,dt);return Ot<0?(++this.size,Rt.push([dt,St])):Rt[Ot][1]=St,this}wo.prototype.clear=Mv,wo.prototype.delete=Lv,wo.prototype.get=Pv,wo.prototype.has=Dv,wo.prototype.set=Nv;function _o(dt){var St=-1,Rt=dt==null?0:dt.length;for(this.clear();++St<Rt;){var Ot=dt[St];this.set(Ot[0],Ot[1])}}function Ov(){this.size=0,this.__data__={hash:new jo,map:new(Rl||wo),string:new jo}}function Fv(dt){var St=wu(this,dt).delete(dt);return this.size-=St?1:0,St}function Vv(dt){return wu(this,dt).get(dt)}function Bv(dt){return wu(this,dt).has(dt)}function zv(dt,St){var Rt=wu(this,dt),Ot=Rt.size;return Rt.set(dt,St),this.size+=Rt.size==Ot?0:1,this}_o.prototype.clear=Ov,_o.prototype.delete=Fv,_o.prototype.get=Vv,_o.prototype.has=Bv,_o.prototype.set=zv;function Uo(dt){var St=-1,Rt=dt==null?0:dt.length;for(this.__data__=new _o;++St<Rt;)this.add(dt[St])}function jv(dt){return this.__data__.set(dt,nt),this}function Uv(dt){return this.__data__.has(dt)}Uo.prototype.add=Uo.prototype.push=jv,Uo.prototype.has=Uv;function mo(dt){var St=this.__data__=new wo(dt);this.size=St.size}function Wv(){this.__data__=new wo,this.size=0}function Hv(dt){var St=this.__data__,Rt=St.delete(dt);return this.size=St.size,Rt}function Gv(dt){return this.__data__.get(dt)}function Kv(dt){return this.__data__.has(dt)}function Yv(dt,St){var Rt=this.__data__;if(Rt instanceof wo){var Ot=Rt.__data__;if(!Rl||Ot.length<rt-1)return Ot.push([dt,St]),this.size=++Rt.size,this;Rt=this.__data__=new _o(Ot)}return Rt.set(dt,St),this.size=Rt.size,this}mo.prototype.clear=Wv,mo.prototype.delete=Hv,mo.prototype.get=Gv,mo.prototype.has=Kv,mo.prototype.set=Yv;function Jp(dt,St){var Rt=Cn(dt),Ot=!Rt&&Yo(dt),Gt=!Rt&&!Ot&&Vo(dt),ir=!Rt&&!Ot&&!Gt&&Tl(dt),hr=Rt||Ot||Gt||ir,pr=hr?Fu(dt.length,iv):[],wr=pr.length;for(var Nr in dt)(St||Wn.call(dt,Nr))&&!(hr&&(Nr=="length"||Gt&&(Nr=="offset"||Nr=="parent")||ir&&(Nr=="buffer"||Nr=="byteLength"||Nr=="byteOffset")||ko(Nr,wr)))&&pr.push(Nr);return pr}function em(dt){var St=dt.length;return St?dt[tp(0,St-1)]:a}function Xv(dt,St){return _u(Ks(dt),Wo(St,0,dt.length))}function qv(dt){return _u(Ks(dt))}function Hu(dt,St,Rt){(Rt!==a&&!go(dt[St],Rt)||Rt===a&&!(St in dt))&&Eo(dt,St,Rt)}function Dl(dt,St,Rt){var Ot=dt[St];(!(Wn.call(dt,St)&&go(Ot,Rt))||Rt===a&&!(St in dt))&&Eo(dt,St,Rt)}function cu(dt,St){for(var Rt=dt.length;Rt--;)if(go(dt[Rt][0],St))return Rt;return-1}function Qv(dt,St,Rt,Ot){return Do(dt,function(Gt,ir,hr){St(Ot,Gt,Rt(Gt),hr)}),Ot}function tm(dt,St){return dt&&bo(St,Cs(St),dt)}function Zv(dt,St){return dt&&bo(St,Xs(St),dt)}function Eo(dt,St,Rt){St=="__proto__"&&iu?iu(dt,St,{configurable:!0,enumerable:!0,value:Rt,writable:!0}):dt[St]=Rt}function Gu(dt,St){for(var Rt=-1,Ot=St.length,Gt=Rr(Ot),ir=dt==null;++Rt<Ot;)Gt[Rt]=ir?a:Cp(dt,St[Rt]);return Gt}function Wo(dt,St,Rt){return dt===dt&&(Rt!==a&&(dt=dt<=Rt?dt:Rt),St!==a&&(dt=dt>=St?dt:St)),dt}function so(dt,St,Rt,Ot,Gt,ir){var hr,pr=St&_,wr=St&$,Nr=St&tt;if(Rt&&(hr=Gt?Rt(dt,Ot,Gt,ir):Rt(dt)),hr!==a)return hr;if(!es(dt))return dt;var Or=Cn(dt);if(Or){if(hr=B0(dt),!pr)return Ks(dt,hr)}else{var jr=Ds(dt),Jr=jr==ar||jr==rr;if(Vo(dt))return Tm(dt,pr);if(jr==Gr||jr==nr||Jr&&!Gt){if(hr=wr||Jr?{}:Wm(dt),!pr)return wr?A0(dt,Zv(hr,dt)):$0(dt,tm(hr,dt))}else{if(!_n[jr])return Gt?dt:{};hr=z0(dt,jr,pr)}}ir||(ir=new mo);var on=ir.get(dt);if(on)return on;ir.set(dt,hr),xy(dt)?dt.forEach(function(Sn){hr.add(so(Sn,St,Rt,Sn,dt,ir))}):yy(dt)&&dt.forEach(function(Sn,Pn){hr.set(Pn,so(Sn,St,Rt,Pn,dt,ir))});var bn=Nr?wr?fp:hp:wr?Xs:Cs,Rn=Or?a:bn(dt);return ro(Rn||dt,function(Sn,Pn){Rn&&(Pn=Sn,Sn=dt[Pn]),Dl(hr,Pn,so(Sn,St,Rt,Pn,dt,ir))}),hr}function Jv(dt){var St=Cs(dt);return function(Rt){return rm(Rt,dt,St)}}function rm(dt,St,Rt){var Ot=Rt.length;if(dt==null)return!Ot;for(dt=Kn(dt);Ot--;){var Gt=Rt[Ot],ir=St[Gt],hr=dt[Gt];if(hr===a&&!(Gt in dt)||!ir(hr))return!1}return!0}function nm(dt,St,Rt){if(typeof dt!="function")throw new no(at);return Ul(function(){dt.apply(a,Rt)},St)}function Nl(dt,St,Rt,Ot){var Gt=-1,ir=Gl,hr=!0,pr=dt.length,wr=[],Nr=St.length;if(!pr)return wr;Rt&&(St=Jn(St,ga(Rt))),Ot?(ir=Mu,hr=!1):St.length>=rt&&(ir=Al,hr=!1,St=new Uo(St));e:for(;++Gt<pr;){var Or=dt[Gt],jr=Rt==null?Or:Rt(Or);if(Or=Ot||Or!==0?Or:0,hr&&jr===jr){for(var Jr=Nr;Jr--;)if(St[Jr]===jr)continue e;wr.push(Or)}else ir(St,jr,Ot)||wr.push(Or)}return wr}var Do=Im(xo),im=Im(Yu,!0);function e0(dt,St){var Rt=!0;return Do(dt,function(Ot,Gt,ir){return Rt=!!St(Ot,Gt,ir),Rt}),Rt}function hu(dt,St,Rt){for(var Ot=-1,Gt=dt.length;++Ot<Gt;){var ir=dt[Ot],hr=St(ir);if(hr!=null&&(pr===a?hr===hr&&!ba(hr):Rt(hr,pr)))var pr=hr,wr=ir}return wr}function t0(dt,St,Rt,Ot){var Gt=dt.length;for(Rt=In(Rt),Rt<0&&(Rt=-Rt>Gt?0:Gt+Rt),Ot=Ot===a||Ot>Gt?Gt:In(Ot),Ot<0&&(Ot+=Gt),Ot=Rt>Ot?0:Sy(Ot);Rt<Ot;)dt[Rt++]=St;return dt}function sm(dt,St){var Rt=[];return Do(dt,function(Ot,Gt,ir){St(Ot,Gt,ir)&&Rt.push(Ot)}),Rt}function Is(dt,St,Rt,Ot,Gt){var ir=-1,hr=dt.length;for(Rt||(Rt=U0),Gt||(Gt=[]);++ir<hr;){var pr=dt[ir];St>0&&Rt(pr)?St>1?Is(pr,St-1,Rt,Ot,Gt):Mo(Gt,pr):Ot||(Gt[Gt.length]=pr)}return Gt}var Ku=Rm(),am=Rm(!0);function xo(dt,St){return dt&&Ku(dt,St,Cs)}function Yu(dt,St){return dt&&am(dt,St,Cs)}function fu(dt,St){return Ro(St,function(Rt){return $o(dt[Rt])})}function Ho(dt,St){St=Oo(St,dt);for(var Rt=0,Ot=St.length;dt!=null&&Rt<Ot;)dt=dt[So(St[Rt++])];return Rt&&Rt==Ot?dt:a}function om(dt,St,Rt){var Ot=St(dt);return Cn(dt)?Ot:Mo(Ot,Rt(dt))}function Fs(dt){return dt==null?dt===a?Yn:vr:zo&&zo in Kn(dt)?O0(dt):q0(dt)}function Xu(dt,St){return dt>St}function r0(dt,St){return dt!=null&&Wn.call(dt,St)}function n0(dt,St){return dt!=null&&St in Kn(dt)}function i0(dt,St,Rt){return dt>=Ps(St,Rt)&&dt<bs(St,Rt)}function qu(dt,St,Rt){for(var Ot=Rt?Mu:Gl,Gt=dt[0].length,ir=dt.length,hr=ir,pr=Rr(ir),wr=1/0,Nr=[];hr--;){var Or=dt[hr];hr&&St&&(Or=Jn(Or,ga(St))),wr=Ps(Or.length,wr),pr[hr]=!Rt&&(St||Gt>=120&&Or.length>=120)?new Uo(hr&&Or):a}Or=dt[0];var jr=-1,Jr=pr[0];e:for(;++jr<Gt&&Nr.length<wr;){var on=Or[jr],bn=St?St(on):on;if(on=Rt||on!==0?on:0,!(Jr?Al(Jr,bn):Ot(Nr,bn,Rt))){for(hr=ir;--hr;){var Rn=pr[hr];if(!(Rn?Al(Rn,bn):Ot(dt[hr],bn,Rt)))continue e}Jr&&Jr.push(bn),Nr.push(on)}}return Nr}function s0(dt,St,Rt,Ot){return xo(dt,function(Gt,ir,hr){St(Ot,Rt(Gt),ir,hr)}),Ot}function Ol(dt,St,Rt){St=Oo(St,dt),dt=Ym(dt,St);var Ot=dt==null?dt:dt[So(oo(St))];return Ot==null?a:Ts(Ot,dt,Rt)}function lm(dt){return rs(dt)&&Fs(dt)==nr}function a0(dt){return rs(dt)&&Fs(dt)==Br}function o0(dt){return rs(dt)&&Fs(dt)==br}function Fl(dt,St,Rt,Ot,Gt){return dt===St?!0:dt==null||St==null||!rs(dt)&&!rs(St)?dt!==dt&&St!==St:l0(dt,St,Rt,Ot,Fl,Gt)}function l0(dt,St,Rt,Ot,Gt,ir){var hr=Cn(dt),pr=Cn(St),wr=hr?tr:Ds(dt),Nr=pr?tr:Ds(St);wr=wr==nr?Gr:wr,Nr=Nr==nr?Gr:Nr;var Or=wr==Gr,jr=Nr==Gr,Jr=wr==Nr;if(Jr&&Vo(dt)){if(!Vo(St))return!1;hr=!0,Or=!1}if(Jr&&!Or)return ir||(ir=new mo),hr||Tl(dt)?zm(dt,St,Rt,Ot,Gt,ir):D0(dt,St,wr,Rt,Ot,Gt,ir);if(!(Rt&st)){var on=Or&&Wn.call(dt,"__wrapped__"),bn=jr&&Wn.call(St,"__wrapped__");if(on||bn){var Rn=on?dt.value():dt,Sn=bn?St.value():St;return ir||(ir=new mo),Gt(Rn,Sn,Rt,Ot,ir)}}return Jr?(ir||(ir=new mo),N0(dt,St,Rt,Ot,Gt,ir)):!1}function u0(dt){return rs(dt)&&Ds(dt)==Cr}function Qu(dt,St,Rt,Ot){var Gt=Rt.length,ir=Gt,hr=!Ot;if(dt==null)return!ir;for(dt=Kn(dt);Gt--;){var pr=Rt[Gt];if(hr&&pr[2]?pr[1]!==dt[pr[0]]:!(pr[0]in dt))return!1}for(;++Gt<ir;){pr=Rt[Gt];var wr=pr[0],Nr=dt[wr],Or=pr[1];if(hr&&pr[2]){if(Nr===a&&!(wr in dt))return!1}else{var jr=new mo;if(Ot)var Jr=Ot(Nr,Or,wr,dt,St,jr);if(!(Jr===a?Fl(Or,Nr,st|lt,Ot,jr):Jr))return!1}}return!0}function um(dt){if(!es(dt)||H0(dt))return!1;var St=$o(dt)?uv:Zs;return St.test(Ko(dt))}function c0(dt){return rs(dt)&&Fs(dt)==Mn}function h0(dt){return rs(dt)&&Ds(dt)==Bn}function f0(dt){return rs(dt)&&Au(dt.length)&&!!$n[Fs(dt)]}function cm(dt){return typeof dt=="function"?dt:dt==null?qs:typeof dt=="object"?Cn(dt)?pm(dt[0],dt[1]):fm(dt):My(dt)}function Zu(dt){if(!zl(dt))return mv(dt);var St=[];for(var Rt in Kn(dt))Wn.call(dt,Rt)&&Rt!="constructor"&&St.push(Rt);return St}function p0(dt){if(!es(dt))return X0(dt);var St=zl(dt),Rt=[];for(var Ot in dt)Ot=="constructor"&&(St||!Wn.call(dt,Ot))||Rt.push(Ot);return Rt}function Ju(dt,St){return dt<St}function hm(dt,St){var Rt=-1,Ot=Ys(dt)?Rr(dt.length):[];return Do(dt,function(Gt,ir,hr){Ot[++Rt]=St(Gt,ir,hr)}),Ot}function fm(dt){var St=dp(dt);return St.length==1&&St[0][2]?Gm(St[0][0],St[0][1]):function(Rt){return Rt===dt||Qu(Rt,dt,St)}}function pm(dt,St){return gp(dt)&&Hm(St)?Gm(So(dt),St):function(Rt){var Ot=Cp(Rt,dt);return Ot===a&&Ot===St?kp(Rt,dt):Fl(St,Ot,st|lt)}}function pu(dt,St,Rt,Ot,Gt){dt!==St&&Ku(St,function(ir,hr){if(Gt||(Gt=new mo),es(ir))d0(dt,St,hr,Rt,pu,Ot,Gt);else{var pr=Ot?Ot(vp(dt,hr),ir,hr+"",dt,St,Gt):a;pr===a&&(pr=ir),Hu(dt,hr,pr)}},Xs)}function d0(dt,St,Rt,Ot,Gt,ir,hr){var pr=vp(dt,Rt),wr=vp(St,Rt),Nr=hr.get(wr);if(Nr){Hu(dt,Rt,Nr);return}var Or=ir?ir(pr,wr,Rt+"",dt,St,hr):a,jr=Or===a;if(jr){var Jr=Cn(wr),on=!Jr&&Vo(wr),bn=!Jr&&!on&&Tl(wr);Or=wr,Jr||on||bn?Cn(pr)?Or=pr:us(pr)?Or=Ks(pr):on?(jr=!1,Or=Tm(wr,!0)):bn?(jr=!1,Or=Cm(wr,!0)):Or=[]:Wl(wr)||Yo(wr)?(Or=pr,Yo(pr)?Or=wy(pr):(!es(pr)||$o(pr))&&(Or=Wm(wr))):jr=!1}jr&&(hr.set(wr,Or),Gt(Or,wr,Ot,ir,hr),hr.delete(wr)),Hu(dt,Rt,Or)}function dm(dt,St){var Rt=dt.length;if(Rt)return St+=St<0?Rt:0,ko(St,Rt)?dt[St]:a}function mm(dt,St,Rt){St.length?St=Jn(St,function(ir){return Cn(ir)?function(hr){return Ho(hr,ir.length===1?ir[0]:ir)}:ir}):St=[qs];var Ot=-1;St=Jn(St,ga(yn()));var Gt=hm(dt,function(ir,hr,pr){var wr=Jn(St,function(Nr){return Nr(ir)});return{criteria:wr,index:++Ot,value:ir}});return zy(Gt,function(ir,hr){return k0(ir,hr,Rt)})}function m0(dt,St){return gm(dt,St,function(Rt,Ot){return kp(dt,Ot)})}function gm(dt,St,Rt){for(var Ot=-1,Gt=St.length,ir={};++Ot<Gt;){var hr=St[Ot],pr=Ho(dt,hr);Rt(pr,hr)&&Vl(ir,Oo(hr,dt),pr)}return ir}function g0(dt){return function(St){return Ho(St,dt)}}function ep(dt,St,Rt,Ot){var Gt=Ot?By:Xo,ir=-1,hr=St.length,pr=dt;for(dt===St&&(St=Ks(St)),Rt&&(pr=Jn(dt,ga(Rt)));++ir<hr;)for(var wr=0,Nr=St[ir],Or=Rt?Rt(Nr):Nr;(wr=Gt(pr,Or,wr,Ot))>-1;)pr!==dt&&nu.call(pr,wr,1),nu.call(dt,wr,1);return dt}function ym(dt,St){for(var Rt=dt?St.length:0,Ot=Rt-1;Rt--;){var Gt=St[Rt];if(Rt==Ot||Gt!==ir){var ir=Gt;ko(Gt)?nu.call(dt,Gt,1):ip(dt,Gt)}}return dt}function tp(dt,St){return dt+au(Qp()*(St-dt+1))}function y0(dt,St,Rt,Ot){for(var Gt=-1,ir=bs(su((St-dt)/(Rt||1)),0),hr=Rr(ir);ir--;)hr[Ot?ir:++Gt]=dt,dt+=Rt;return hr}function rp(dt,St){var Rt="";if(!dt||St<1||St>Dt)return Rt;do St%2&&(Rt+=dt),St=au(St/2),St&&(dt+=dt);while(St);return Rt}function Ln(dt,St){return xp(Km(dt,St,qs),dt+"")}function v0(dt){return em(Cl(dt))}function x0(dt,St){var Rt=Cl(dt);return _u(Rt,Wo(St,0,Rt.length))}function Vl(dt,St,Rt,Ot){if(!es(dt))return dt;St=Oo(St,dt);for(var Gt=-1,ir=St.length,hr=ir-1,pr=dt;pr!=null&&++Gt<ir;){var wr=So(St[Gt]),Nr=Rt;if(wr==="__proto__"||wr==="constructor"||wr==="prototype")return dt;if(Gt!=hr){var Or=pr[wr];Nr=Ot?Ot(Or,wr,pr):a,Nr===a&&(Nr=es(Or)?Or:ko(St[Gt+1])?[]:{})}Dl(pr,wr,Nr),pr=pr[wr]}return dt}var vm=ou?function(dt,St){return ou.set(dt,St),dt}:qs,b0=iu?function(dt,St){return iu(dt,"toString",{configurable:!0,enumerable:!1,value:Ap(St),writable:!0})}:qs;function S0(dt){return _u(Cl(dt))}function ao(dt,St,Rt){var Ot=-1,Gt=dt.length;St<0&&(St=-St>Gt?0:Gt+St),Rt=Rt>Gt?Gt:Rt,Rt<0&&(Rt+=Gt),Gt=St>Rt?0:Rt-St>>>0,St>>>=0;for(var ir=Rr(Gt);++Ot<Gt;)ir[Ot]=dt[Ot+St];return ir}function w0(dt,St){var Rt;return Do(dt,function(Ot,Gt,ir){return Rt=St(Ot,Gt,ir),!Rt}),!!Rt}function du(dt,St,Rt){var Ot=0,Gt=dt==null?Ot:dt.length;if(typeof St=="number"&&St===St&&Gt<=Ht){for(;Ot<Gt;){var ir=Ot+Gt>>>1,hr=dt[ir];hr!==null&&!ba(hr)&&(Rt?hr<=St:hr<St)?Ot=ir+1:Gt=ir}return Gt}return np(dt,St,qs,Rt)}function np(dt,St,Rt,Ot){var Gt=0,ir=dt==null?0:dt.length;if(ir===0)return 0;St=Rt(St);for(var hr=St!==St,pr=St===null,wr=ba(St),Nr=St===a;Gt<ir;){var Or=au((Gt+ir)/2),jr=Rt(dt[Or]),Jr=jr!==a,on=jr===null,bn=jr===jr,Rn=ba(jr);if(hr)var Sn=Ot||bn;else Nr?Sn=bn&&(Ot||Jr):pr?Sn=bn&&Jr&&(Ot||!on):wr?Sn=bn&&Jr&&!on&&(Ot||!Rn):on||Rn?Sn=!1:Sn=Ot?jr<=St:jr<St;Sn?Gt=Or+1:ir=Or}return Ps(ir,Kt)}function xm(dt,St){for(var Rt=-1,Ot=dt.length,Gt=0,ir=[];++Rt<Ot;){var hr=dt[Rt],pr=St?St(hr):hr;if(!Rt||!go(pr,wr)){var wr=pr;ir[Gt++]=hr===0?0:hr}}return ir}function bm(dt){return typeof dt=="number"?dt:ba(dt)?Ut:+dt}function xa(dt){if(typeof dt=="string")return dt;if(Cn(dt))return Jn(dt,xa)+"";if(ba(dt))return Zp?Zp.call(dt):"";var St=dt+"";return St=="0"&&1/dt==-Ft?"-0":St}function No(dt,St,Rt){var Ot=-1,Gt=Gl,ir=dt.length,hr=!0,pr=[],wr=pr;if(Rt)hr=!1,Gt=Mu;else if(ir>=rt){var Nr=St?null:L0(dt);if(Nr)return Yl(Nr);hr=!1,Gt=Al,wr=new Uo}else wr=St?[]:pr;e:for(;++Ot<ir;){var Or=dt[Ot],jr=St?St(Or):Or;if(Or=Rt||Or!==0?Or:0,hr&&jr===jr){for(var Jr=wr.length;Jr--;)if(wr[Jr]===jr)continue e;St&&wr.push(jr),pr.push(Or)}else Gt(wr,jr,Rt)||(wr!==pr&&wr.push(jr),pr.push(Or))}return pr}function ip(dt,St){return St=Oo(St,dt),dt=Ym(dt,St),dt==null||delete dt[So(oo(St))]}function Sm(dt,St,Rt,Ot){return Vl(dt,St,Rt(Ho(dt,St)),Ot)}function mu(dt,St,Rt,Ot){for(var Gt=dt.length,ir=Ot?Gt:-1;(Ot?ir--:++ir<Gt)&&St(dt[ir],ir,dt););return Rt?ao(dt,Ot?0:ir,Ot?ir+1:Gt):ao(dt,Ot?ir+1:0,Ot?Gt:ir)}function wm(dt,St){var Rt=dt;return Rt instanceof Nn&&(Rt=Rt.value()),Lu(St,function(Ot,Gt){return Gt.func.apply(Gt.thisArg,Mo([Ot],Gt.args))},Rt)}function sp(dt,St,Rt){var Ot=dt.length;if(Ot<2)return Ot?No(dt[0]):[];for(var Gt=-1,ir=Rr(Ot);++Gt<Ot;)for(var hr=dt[Gt],pr=-1;++pr<Ot;)pr!=Gt&&(ir[Gt]=Nl(ir[Gt]||hr,dt[pr],St,Rt));return No(Is(ir,1),St,Rt)}function _m(dt,St,Rt){for(var Ot=-1,Gt=dt.length,ir=St.length,hr={};++Ot<Gt;){var pr=Ot<ir?St[Ot]:a;Rt(hr,dt[Ot],pr)}return hr}function ap(dt){return us(dt)?dt:[]}function op(dt){return typeof dt=="function"?dt:qs}function Oo(dt,St){return Cn(dt)?dt:gp(dt,St)?[dt]:Zm(jn(dt))}var _0=Ln;function Fo(dt,St,Rt){var Ot=dt.length;return Rt=Rt===a?Ot:Rt,!St&&Rt>=Ot?dt:ao(dt,St,Rt)}var Em=cv||function(dt){return en.clearTimeout(dt)};function Tm(dt,St){if(St)return dt.slice();var Rt=dt.length,Ot=Gp?Gp(Rt):new dt.constructor(Rt);return dt.copy(Ot),Ot}function lp(dt){var St=new dt.constructor(dt.byteLength);return new tu(St).set(new tu(dt)),St}function E0(dt,St){var Rt=St?lp(dt.buffer):dt.buffer;return new dt.constructor(Rt,dt.byteOffset,dt.byteLength)}function T0(dt){var St=new dt.constructor(dt.source,ns.exec(dt));return St.lastIndex=dt.lastIndex,St}function C0(dt){return Pl?Kn(Pl.call(dt)):{}}function Cm(dt,St){var Rt=St?lp(dt.buffer):dt.buffer;return new dt.constructor(Rt,dt.byteOffset,dt.length)}function km(dt,St){if(dt!==St){var Rt=dt!==a,Ot=dt===null,Gt=dt===dt,ir=ba(dt),hr=St!==a,pr=St===null,wr=St===St,Nr=ba(St);if(!pr&&!Nr&&!ir&&dt>St||ir&&hr&&wr&&!pr&&!Nr||Ot&&hr&&wr||!Rt&&wr||!Gt)return 1;if(!Ot&&!ir&&!Nr&&dt<St||Nr&&Rt&&Gt&&!Ot&&!ir||pr&&Rt&&Gt||!hr&&Gt||!wr)return-1}return 0}function k0(dt,St,Rt){for(var Ot=-1,Gt=dt.criteria,ir=St.criteria,hr=Gt.length,pr=Rt.length;++Ot<hr;){var wr=km(Gt[Ot],ir[Ot]);if(wr){if(Ot>=pr)return wr;var Nr=Rt[Ot];return wr*(Nr=="desc"?-1:1)}}return dt.index-St.index}function $m(dt,St,Rt,Ot){for(var Gt=-1,ir=dt.length,hr=Rt.length,pr=-1,wr=St.length,Nr=bs(ir-hr,0),Or=Rr(wr+Nr),jr=!Ot;++pr<wr;)Or[pr]=St[pr];for(;++Gt<hr;)(jr||Gt<ir)&&(Or[Rt[Gt]]=dt[Gt]);for(;Nr--;)Or[pr++]=dt[Gt++];return Or}function Am(dt,St,Rt,Ot){for(var Gt=-1,ir=dt.length,hr=-1,pr=Rt.length,wr=-1,Nr=St.length,Or=bs(ir-pr,0),jr=Rr(Or+Nr),Jr=!Ot;++Gt<Or;)jr[Gt]=dt[Gt];for(var on=Gt;++wr<Nr;)jr[on+wr]=St[wr];for(;++hr<pr;)(Jr||Gt<ir)&&(jr[on+Rt[hr]]=dt[Gt++]);return jr}function Ks(dt,St){var Rt=-1,Ot=dt.length;for(St||(St=Rr(Ot));++Rt<Ot;)St[Rt]=dt[Rt];return St}function bo(dt,St,Rt,Ot){var Gt=!Rt;Rt||(Rt={});for(var ir=-1,hr=St.length;++ir<hr;){var pr=St[ir],wr=Ot?Ot(Rt[pr],dt[pr],pr,Rt,dt):a;wr===a&&(wr=dt[pr]),Gt?Eo(Rt,pr,wr):Dl(Rt,pr,wr)}return Rt}function $0(dt,St){return bo(dt,mp(dt),St)}function A0(dt,St){return bo(dt,jm(dt),St)}function gu(dt,St){return function(Rt,Ot){var Gt=Cn(Rt)?Py:Qv,ir=St?St():{};return Gt(Rt,dt,yn(Ot,2),ir)}}function wl(dt){return Ln(function(St,Rt){var Ot=-1,Gt=Rt.length,ir=Gt>1?Rt[Gt-1]:a,hr=Gt>2?Rt[2]:a;for(ir=dt.length>3&&typeof ir=="function"?(Gt--,ir):a,hr&&Vs(Rt[0],Rt[1],hr)&&(ir=Gt<3?a:ir,Gt=1),St=Kn(St);++Ot<Gt;){var pr=Rt[Ot];pr&&dt(St,pr,Ot,ir)}return St})}function Im(dt,St){return function(Rt,Ot){if(Rt==null)return Rt;if(!Ys(Rt))return dt(Rt,Ot);for(var Gt=Rt.length,ir=St?Gt:-1,hr=Kn(Rt);(St?ir--:++ir<Gt)&&Ot(hr[ir],ir,hr)!==!1;);return Rt}}function Rm(dt){return function(St,Rt,Ot){for(var Gt=-1,ir=Kn(St),hr=Ot(St),pr=hr.length;pr--;){var wr=hr[dt?pr:++Gt];if(Rt(ir[wr],wr,ir)===!1)break}return St}}function I0(dt,St,Rt){var Ot=St&ht,Gt=Bl(dt);function ir(){var hr=this&&this!==en&&this instanceof ir?Gt:dt;return hr.apply(Ot?Rt:this,arguments)}return ir}function Mm(dt){return function(St){St=jn(St);var Rt=qo(St)?po(St):a,Ot=Rt?Rt[0]:St.charAt(0),Gt=Rt?Fo(Rt,1).join(""):St.slice(1);return Ot[dt]()+Gt}}function _l(dt){return function(St){return Lu(Iy(Ay(St).replace(ur,"")),dt,"")}}function Bl(dt){return function(){var St=arguments;switch(St.length){case 0:return new dt;case 1:return new dt(St[0]);case 2:return new dt(St[0],St[1]);case 3:return new dt(St[0],St[1],St[2]);case 4:return new dt(St[0],St[1],St[2],St[3]);case 5:return new dt(St[0],St[1],St[2],St[3],St[4]);case 6:return new dt(St[0],St[1],St[2],St[3],St[4],St[5]);case 7:return new dt(St[0],St[1],St[2],St[3],St[4],St[5],St[6])}var Rt=Sl(dt.prototype),Ot=dt.apply(Rt,St);return es(Ot)?Ot:Rt}}function R0(dt,St,Rt){var Ot=Bl(dt);function Gt(){for(var ir=arguments.length,hr=Rr(ir),pr=ir,wr=El(Gt);pr--;)hr[pr]=arguments[pr];var Nr=ir<3&&hr[0]!==wr&&hr[ir-1]!==wr?[]:Lo(hr,wr);if(ir-=Nr.length,ir<Rt)return Om(dt,St,yu,Gt.placeholder,a,hr,Nr,a,a,Rt-ir);var Or=this&&this!==en&&this instanceof Gt?Ot:dt;return Ts(Or,this,hr)}return Gt}function Lm(dt){return function(St,Rt,Ot){var Gt=Kn(St);if(!Ys(St)){var ir=yn(Rt,3);St=Cs(St),Rt=function(pr){return ir(Gt[pr],pr,Gt)}}var hr=dt(St,Rt,Ot);return hr>-1?Gt[ir?St[hr]:hr]:a}}function Pm(dt){return Co(function(St){var Rt=St.length,Ot=Rt,Gt=io.prototype.thru;for(dt&&St.reverse();Ot--;){var ir=St[Ot];if(typeof ir!="function")throw new no(at);if(Gt&&!hr&&Su(ir)=="wrapper")var hr=new io([],!0)}for(Ot=hr?Ot:Rt;++Ot<Rt;){ir=St[Ot];var pr=Su(ir),wr=pr=="wrapper"?pp(ir):a;wr&&yp(wr[0])&&wr[1]==(wt|mt|yt|bt)&&!wr[4].length&&wr[9]==1?hr=hr[Su(wr[0])].apply(hr,wr[3]):hr=ir.length==1&&yp(ir)?hr[pr]():hr.thru(ir)}return function(){var Nr=arguments,Or=Nr[0];if(hr&&Nr.length==1&&Cn(Or))return hr.plant(Or).value();for(var jr=0,Jr=Rt?St[jr].apply(this,Nr):Or;++jr<Rt;)Jr=St[jr].call(this,Jr);return Jr}})}function yu(dt,St,Rt,Ot,Gt,ir,hr,pr,wr,Nr){var Or=St&wt,jr=St&ht,Jr=St&ft,on=St&(mt|gt),bn=St&vt,Rn=Jr?a:Bl(dt);function Sn(){for(var Pn=arguments.length,On=Rr(Pn),$a=Pn;$a--;)On[$a]=arguments[$a];if(on)var Bs=El(Sn),eo=Uy(On,Bs);if(Ot&&(On=$m(On,Ot,Gt,on)),ir&&(On=Am(On,ir,hr,on)),Pn-=eo,on&&Pn<Nr){var cs=Lo(On,Bs);return Om(dt,St,yu,Sn.placeholder,Rt,On,cs,pr,wr,Nr-Pn)}var yo=jr?Rt:this,Io=Jr?yo[dt]:dt;return Pn=On.length,pr?On=Q0(On,pr):bn&&Pn>1&&On.reverse(),Or&&wr<Pn&&(On.length=wr),this&&this!==en&&this instanceof Sn&&(Io=Rn||Bl(Io)),Io.apply(yo,On)}return Sn}function Dm(dt,St){return function(Rt,Ot){return s0(Rt,dt,St(Ot),{})}}function vu(dt,St){return function(Rt,Ot){var Gt;if(Rt===a&&Ot===a)return St;if(Rt!==a&&(Gt=Rt),Ot!==a){if(Gt===a)return Ot;typeof Rt=="string"||typeof Ot=="string"?(Rt=xa(Rt),Ot=xa(Ot)):(Rt=bm(Rt),Ot=bm(Ot)),Gt=dt(Rt,Ot)}return Gt}}function up(dt){return Co(function(St){return St=Jn(St,ga(yn())),Ln(function(Rt){var Ot=this;return dt(St,function(Gt){return Ts(Gt,Ot,Rt)})})})}function xu(dt,St){St=St===a?" ":xa(St);var Rt=St.length;if(Rt<2)return Rt?rp(St,dt):St;var Ot=rp(St,su(dt/Qo(St)));return qo(St)?Fo(po(Ot),0,dt).join(""):Ot.slice(0,dt)}function M0(dt,St,Rt,Ot){var Gt=St&ht,ir=Bl(dt);function hr(){for(var pr=-1,wr=arguments.length,Nr=-1,Or=Ot.length,jr=Rr(Or+wr),Jr=this&&this!==en&&this instanceof hr?ir:dt;++Nr<Or;)jr[Nr]=Ot[Nr];for(;wr--;)jr[Nr++]=arguments[++pr];return Ts(Jr,Gt?Rt:this,jr)}return hr}function Nm(dt){return function(St,Rt,Ot){return Ot&&typeof Ot!="number"&&Vs(St,Rt,Ot)&&(Rt=Ot=a),St=Ao(St),Rt===a?(Rt=St,St=0):Rt=Ao(Rt),Ot=Ot===a?St<Rt?1:-1:Ao(Ot),y0(St,Rt,Ot,dt)}}function bu(dt){return function(St,Rt){return typeof St=="string"&&typeof Rt=="string"||(St=lo(St),Rt=lo(Rt)),dt(St,Rt)}}function Om(dt,St,Rt,Ot,Gt,ir,hr,pr,wr,Nr){var Or=St&mt,jr=Or?hr:a,Jr=Or?a:hr,on=Or?ir:a,bn=Or?a:ir;St|=Or?yt:ut,St&=~(Or?ut:yt),St&ct||(St&=~(ht|ft));var Rn=[dt,St,Gt,on,jr,bn,Jr,pr,wr,Nr],Sn=Rt.apply(a,Rn);return yp(dt)&&Xm(Sn,Rn),Sn.placeholder=Ot,qm(Sn,dt,St)}function cp(dt){var St=xs[dt];return function(Rt,Ot){if(Rt=lo(Rt),Ot=Ot==null?0:Ps(In(Ot),292),Ot&&qp(Rt)){var Gt=(jn(Rt)+"e").split("e"),ir=St(Gt[0]+"e"+(+Gt[1]+Ot));return Gt=(jn(ir)+"e").split("e"),+(Gt[0]+"e"+(+Gt[1]-Ot))}return St(Rt)}}var L0=yl&&1/Yl(new yl([,-0]))[1]==Ft?function(dt){return new yl(dt)}:Mp;function Fm(dt){return function(St){var Rt=Ds(St);return Rt==Cr?Bu(St):Rt==Bn?qy(St):jy(St,dt(St))}}function To(dt,St,Rt,Ot,Gt,ir,hr,pr){var wr=St&ft;if(!wr&&typeof dt!="function")throw new no(at);var Nr=Ot?Ot.length:0;if(Nr||(St&=~(yt|ut),Ot=Gt=a),hr=hr===a?hr:bs(In(hr),0),pr=pr===a?pr:In(pr),Nr-=Gt?Gt.length:0,St&ut){var Or=Ot,jr=Gt;Ot=Gt=a}var Jr=wr?a:pp(dt),on=[dt,St,Rt,Ot,Gt,Or,jr,ir,hr,pr];if(Jr&&Y0(on,Jr),dt=on[0],St=on[1],Rt=on[2],Ot=on[3],Gt=on[4],pr=on[9]=on[9]===a?wr?0:dt.length:bs(on[9]-Nr,0),!pr&&St&(mt|gt)&&(St&=~(mt|gt)),!St||St==ht)var bn=I0(dt,St,Rt);else St==mt||St==gt?bn=R0(dt,St,pr):(St==yt||St==(ht|yt))&&!Gt.length?bn=M0(dt,St,Rt,Ot):bn=yu.apply(a,on);var Rn=Jr?vm:Xm;return qm(Rn(bn,on),dt,St)}function Vm(dt,St,Rt,Ot){return dt===a||go(dt,Jo[Rt])&&!Wn.call(Ot,Rt)?St:dt}function Bm(dt,St,Rt,Ot,Gt,ir){return es(dt)&&es(St)&&(ir.set(St,dt),pu(dt,St,a,Bm,ir),ir.delete(St)),dt}function P0(dt){return Wl(dt)?a:dt}function zm(dt,St,Rt,Ot,Gt,ir){var hr=Rt&st,pr=dt.length,wr=St.length;if(pr!=wr&&!(hr&&wr>pr))return!1;var Nr=ir.get(dt),Or=ir.get(St);if(Nr&&Or)return Nr==St&&Or==dt;var jr=-1,Jr=!0,on=Rt&lt?new Uo:a;for(ir.set(dt,St),ir.set(St,dt);++jr<pr;){var bn=dt[jr],Rn=St[jr];if(Ot)var Sn=hr?Ot(Rn,bn,jr,St,dt,ir):Ot(bn,Rn,jr,dt,St,ir);if(Sn!==a){if(Sn)continue;Jr=!1;break}if(on){if(!Pu(St,function(Pn,On){if(!Al(on,On)&&(bn===Pn||Gt(bn,Pn,Rt,Ot,ir)))return on.push(On)})){Jr=!1;break}}else if(!(bn===Rn||Gt(bn,Rn,Rt,Ot,ir))){Jr=!1;break}}return ir.delete(dt),ir.delete(St),Jr}function D0(dt,St,Rt,Ot,Gt,ir,hr){switch(Rt){case Ar:if(dt.byteLength!=St.byteLength||dt.byteOffset!=St.byteOffset)return!1;dt=dt.buffer,St=St.buffer;case Br:return!(dt.byteLength!=St.byteLength||!ir(new tu(dt),new tu(St)));case yr:case br:case kr:return go(+dt,+St);case sr:return dt.name==St.name&&dt.message==St.message;case Mn:case An:return dt==St+"";case Cr:var pr=Bu;case Bn:var wr=Ot&st;if(pr||(pr=Yl),dt.size!=St.size&&!wr)return!1;var Nr=hr.get(dt);if(Nr)return Nr==St;Ot|=lt,hr.set(dt,St);var Or=zm(pr(dt),pr(St),Ot,Gt,ir,hr);return hr.delete(dt),Or;case dn:if(Pl)return Pl.call(dt)==Pl.call(St)}return!1}function N0(dt,St,Rt,Ot,Gt,ir){var hr=Rt&st,pr=hp(dt),wr=pr.length,Nr=hp(St),Or=Nr.length;if(wr!=Or&&!hr)return!1;for(var jr=wr;jr--;){var Jr=pr[jr];if(!(hr?Jr in St:Wn.call(St,Jr)))return!1}var on=ir.get(dt),bn=ir.get(St);if(on&&bn)return on==St&&bn==dt;var Rn=!0;ir.set(dt,St),ir.set(St,dt);for(var Sn=hr;++jr<wr;){Jr=pr[jr];var Pn=dt[Jr],On=St[Jr];if(Ot)var $a=hr?Ot(On,Pn,Jr,St,dt,ir):Ot(Pn,On,Jr,dt,St,ir);if(!($a===a?Pn===On||Gt(Pn,On,Rt,Ot,ir):$a)){Rn=!1;break}Sn||(Sn=Jr=="constructor")}if(Rn&&!Sn){var Bs=dt.constructor,eo=St.constructor;Bs!=eo&&"constructor"in dt&&"constructor"in St&&!(typeof Bs=="function"&&Bs instanceof Bs&&typeof eo=="function"&&eo instanceof eo)&&(Rn=!1)}return ir.delete(dt),ir.delete(St),Rn}function Co(dt){return xp(Km(dt,a,ry),dt+"")}function hp(dt){return om(dt,Cs,mp)}function fp(dt){return om(dt,Xs,jm)}var pp=ou?function(dt){return ou.get(dt)}:Mp;function Su(dt){for(var St=dt.name+"",Rt=xl[St],Ot=Wn.call(xl,St)?Rt.length:0;Ot--;){var Gt=Rt[Ot],ir=Gt.func;if(ir==null||ir==dt)return Gt.name}return St}function El(dt){var St=Wn.call(Zt,"placeholder")?Zt:dt;return St.placeholder}function yn(){var dt=Zt.iteratee||Ip;return dt=dt===Ip?cm:dt,arguments.length?dt(arguments[0],arguments[1]):dt}function wu(dt,St){var Rt=dt.__data__;return W0(St)?Rt[typeof St=="string"?"string":"hash"]:Rt.map}function dp(dt){for(var St=Cs(dt),Rt=St.length;Rt--;){var Ot=St[Rt],Gt=dt[Ot];St[Rt]=[Ot,Gt,Hm(Gt)]}return St}function Go(dt,St){var Rt=Ky(dt,St);return um(Rt)?Rt:a}function O0(dt){var St=Wn.call(dt,zo),Rt=dt[zo];try{dt[zo]=a;var Ot=!0}catch{}var Gt=Jl.call(dt);return Ot&&(St?dt[zo]=Rt:delete dt[zo]),Gt}var mp=ju?function(dt){return dt==null?[]:(dt=Kn(dt),Ro(ju(dt),function(St){return Yp.call(dt,St)}))}:Lp,jm=ju?function(dt){for(var St=[];dt;)Mo(St,mp(dt)),dt=ru(dt);return St}:Lp,Ds=Fs;(Uu&&Ds(new Uu(new ArrayBuffer(1)))!=Ar||Rl&&Ds(new Rl)!=Cr||Wu&&Ds(Wu.resolve())!=an||yl&&Ds(new yl)!=Bn||Ml&&Ds(new Ml)!=Dn)&&(Ds=function(dt){var St=Fs(dt),Rt=St==Gr?dt.constructor:a,Ot=Rt?Ko(Rt):"";if(Ot)switch(Ot){case xv:return Ar;case bv:return Cr;case Sv:return an;case wv:return Bn;case _v:return Dn}return St});function F0(dt,St,Rt){for(var Ot=-1,Gt=Rt.length;++Ot<Gt;){var ir=Rt[Ot],hr=ir.size;switch(ir.type){case"drop":dt+=hr;break;case"dropRight":St-=hr;break;case"take":St=Ps(St,dt+hr);break;case"takeRight":dt=bs(dt,St-hr);break}}return{start:dt,end:St}}function V0(dt){var St=dt.match(fs);return St?St[1].split(Os):[]}function Um(dt,St,Rt){St=Oo(St,dt);for(var Ot=-1,Gt=St.length,ir=!1;++Ot<Gt;){var hr=So(St[Ot]);if(!(ir=dt!=null&&Rt(dt,hr)))break;dt=dt[hr]}return ir||++Ot!=Gt?ir:(Gt=dt==null?0:dt.length,!!Gt&&Au(Gt)&&ko(hr,Gt)&&(Cn(dt)||Yo(dt)))}function B0(dt){var St=dt.length,Rt=new dt.constructor(St);return St&&typeof dt[0]=="string"&&Wn.call(dt,"index")&&(Rt.index=dt.index,Rt.input=dt.input),Rt}function Wm(dt){return typeof dt.constructor=="function"&&!zl(dt)?Sl(ru(dt)):{}}function z0(dt,St,Rt){var Ot=dt.constructor;switch(St){case Br:return lp(dt);case yr:case br:return new Ot(+dt);case Ar:return E0(dt,Rt);case fn:case er:case Yt:case fr:case Dr:case Ur:case $r:case Ir:case Xr:return Cm(dt,Rt);case Cr:return new Ot;case kr:case An:return new Ot(dt);case Mn:return T0(dt);case Bn:return new Ot;case dn:return C0(dt)}}function j0(dt,St){var Rt=St.length;if(!Rt)return dt;var Ot=Rt-1;return St[Ot]=(Rt>1?"& ":"")+St[Ot],St=St.join(Rt>2?", ":" "),dt.replace(hs,`{
/* [wrapped with `+St+`] */
`)}function U0(dt){return Cn(dt)||Yo(dt)||!!(Xp&&dt&&dt[Xp])}function ko(dt,St){var Rt=typeof dt;return St=St??Dt,!!St&&(Rt=="number"||Rt!="symbol"&&Ws.test(dt))&&dt>-1&&dt%1==0&&dt<St}function Vs(dt,St,Rt){if(!es(Rt))return!1;var Ot=typeof St;return(Ot=="number"?Ys(Rt)&&ko(St,Rt.length):Ot=="string"&&St in Rt)?go(Rt[St],dt):!1}function gp(dt,St){if(Cn(dt))return!1;var Rt=typeof dt;return Rt=="number"||Rt=="symbol"||Rt=="boolean"||dt==null||ba(dt)?!0:qn.test(dt)||!Xn.test(dt)||St!=null&&dt in Kn(St)}function W0(dt){var St=typeof dt;return St=="string"||St=="number"||St=="symbol"||St=="boolean"?dt!=="__proto__":dt===null}function yp(dt){var St=Su(dt),Rt=Zt[St];if(typeof Rt!="function"||!(St in Nn.prototype))return!1;if(dt===Rt)return!0;var Ot=pp(Rt);return!!Ot&&dt===Ot[0]}function H0(dt){return!!Hp&&Hp in dt}var G0=Ql?$o:Pp;function zl(dt){var St=dt&&dt.constructor,Rt=typeof St=="function"&&St.prototype||Jo;return dt===Rt}function Hm(dt){return dt===dt&&!es(dt)}function Gm(dt,St){return function(Rt){return Rt==null?!1:Rt[dt]===St&&(St!==a||dt in Kn(Rt))}}function K0(dt){var St=ku(dt,function(Ot){return Rt.size===it&&Rt.clear(),Ot}),Rt=St.cache;return St}function Y0(dt,St){var Rt=dt[1],Ot=St[1],Gt=Rt|Ot,ir=Gt<(ht|ft|wt),hr=Ot==wt&&Rt==mt||Ot==wt&&Rt==bt&&dt[7].length<=St[8]||Ot==(wt|bt)&&St[7].length<=St[8]&&Rt==mt;if(!(ir||hr))return dt;Ot&ht&&(dt[2]=St[2],Gt|=Rt&ht?0:ct);var pr=St[3];if(pr){var wr=dt[3];dt[3]=wr?$m(wr,pr,St[4]):pr,dt[4]=wr?Lo(dt[3],j):St[4]}return pr=St[5],pr&&(wr=dt[5],dt[5]=wr?Am(wr,pr,St[6]):pr,dt[6]=wr?Lo(dt[5],j):St[6]),pr=St[7],pr&&(dt[7]=pr),Ot&wt&&(dt[8]=dt[8]==null?St[8]:Ps(dt[8],St[8])),dt[9]==null&&(dt[9]=St[9]),dt[0]=St[0],dt[1]=Gt,dt}function X0(dt){var St=[];if(dt!=null)for(var Rt in Kn(dt))St.push(Rt);return St}function q0(dt){return Jl.call(dt)}function Km(dt,St,Rt){return St=bs(St===a?dt.length-1:St,0),function(){for(var Ot=arguments,Gt=-1,ir=bs(Ot.length-St,0),hr=Rr(ir);++Gt<ir;)hr[Gt]=Ot[St+Gt];Gt=-1;for(var pr=Rr(St+1);++Gt<St;)pr[Gt]=Ot[Gt];return pr[St]=Rt(hr),Ts(dt,this,pr)}}function Ym(dt,St){return St.length<2?dt:Ho(dt,ao(St,0,-1))}function Q0(dt,St){for(var Rt=dt.length,Ot=Ps(St.length,Rt),Gt=Ks(dt);Ot--;){var ir=St[Ot];dt[Ot]=ko(ir,Rt)?Gt[ir]:a}return dt}function vp(dt,St){if(!(St==="constructor"&&typeof dt[St]=="function")&&St!="__proto__")return dt[St]}var Xm=Qm(vm),Ul=fv||function(dt,St){return en.setTimeout(dt,St)},xp=Qm(b0);function qm(dt,St,Rt){var Ot=St+"";return xp(dt,j0(Ot,Z0(V0(Ot),Rt)))}function Qm(dt){var St=0,Rt=0;return function(){var Ot=gv(),Gt=At-(Ot-Rt);if(Rt=Ot,Gt>0){if(++St>=Tt)return arguments[0]}else St=0;return dt.apply(a,arguments)}}function _u(dt,St){var Rt=-1,Ot=dt.length,Gt=Ot-1;for(St=St===a?Ot:St;++Rt<St;){var ir=tp(Rt,Gt),hr=dt[ir];dt[ir]=dt[Rt],dt[Rt]=hr}return dt.length=St,dt}var Zm=K0(function(dt){var St=[];return dt.charCodeAt(0)===46&&St.push(""),dt.replace(Ns,function(Rt,Ot,Gt,ir){St.push(Gt?ir.replace(js,"$1"):Ot||Rt)}),St});function So(dt){if(typeof dt=="string"||ba(dt))return dt;var St=dt+"";return St=="0"&&1/dt==-Ft?"-0":St}function Ko(dt){if(dt!=null){try{return Zl.call(dt)}catch{}try{return dt+""}catch{}}return""}function Z0(dt,St){return ro(qt,function(Rt){var Ot="_."+Rt[0];St&Rt[1]&&!Gl(dt,Ot)&&dt.push(Ot)}),dt.sort()}function Jm(dt){if(dt instanceof Nn)return dt.clone();var St=new io(dt.__wrapped__,dt.__chain__);return St.__actions__=Ks(dt.__actions__),St.__index__=dt.__index__,St.__values__=dt.__values__,St}function J0(dt,St,Rt){(Rt?Vs(dt,St,Rt):St===a)?St=1:St=bs(In(St),0);var Ot=dt==null?0:dt.length;if(!Ot||St<1)return[];for(var Gt=0,ir=0,hr=Rr(su(Ot/St));Gt<Ot;)hr[ir++]=ao(dt,Gt,Gt+=St);return hr}function ex(dt){for(var St=-1,Rt=dt==null?0:dt.length,Ot=0,Gt=[];++St<Rt;){var ir=dt[St];ir&&(Gt[Ot++]=ir)}return Gt}function tx(){var dt=arguments.length;if(!dt)return[];for(var St=Rr(dt-1),Rt=arguments[0],Ot=dt;Ot--;)St[Ot-1]=arguments[Ot];return Mo(Cn(Rt)?Ks(Rt):[Rt],Is(St,1))}var rx=Ln(function(dt,St){return us(dt)?Nl(dt,Is(St,1,us,!0)):[]}),nx=Ln(function(dt,St){var Rt=oo(St);return us(Rt)&&(Rt=a),us(dt)?Nl(dt,Is(St,1,us,!0),yn(Rt,2)):[]}),ix=Ln(function(dt,St){var Rt=oo(St);return us(Rt)&&(Rt=a),us(dt)?Nl(dt,Is(St,1,us,!0),a,Rt):[]});function sx(dt,St,Rt){var Ot=dt==null?0:dt.length;return Ot?(St=Rt||St===a?1:In(St),ao(dt,St<0?0:St,Ot)):[]}function ax(dt,St,Rt){var Ot=dt==null?0:dt.length;return Ot?(St=Rt||St===a?1:In(St),St=Ot-St,ao(dt,0,St<0?0:St)):[]}function ox(dt,St){return dt&&dt.length?mu(dt,yn(St,3),!0,!0):[]}function lx(dt,St){return dt&&dt.length?mu(dt,yn(St,3),!0):[]}function ux(dt,St,Rt,Ot){var Gt=dt==null?0:dt.length;return Gt?(Rt&&typeof Rt!="number"&&Vs(dt,St,Rt)&&(Rt=0,Ot=Gt),t0(dt,St,Rt,Ot)):[]}function ey(dt,St,Rt){var Ot=dt==null?0:dt.length;if(!Ot)return-1;var Gt=Rt==null?0:In(Rt);return Gt<0&&(Gt=bs(Ot+Gt,0)),Kl(dt,yn(St,3),Gt)}function ty(dt,St,Rt){var Ot=dt==null?0:dt.length;if(!Ot)return-1;var Gt=Ot-1;return Rt!==a&&(Gt=In(Rt),Gt=Rt<0?bs(Ot+Gt,0):Ps(Gt,Ot-1)),Kl(dt,yn(St,3),Gt,!0)}function ry(dt){var St=dt==null?0:dt.length;return St?Is(dt,1):[]}function hx(dt){var St=dt==null?0:dt.length;return St?Is(dt,Ft):[]}function fx(dt,St){var Rt=dt==null?0:dt.length;return Rt?(St=St===a?1:In(St),Is(dt,St)):[]}function dx(dt){for(var St=-1,Rt=dt==null?0:dt.length,Ot={};++St<Rt;){var Gt=dt[St];Ot[Gt[0]]=Gt[1]}return Ot}function ny(dt){return dt&&dt.length?dt[0]:a}function mx(dt,St,Rt){var Ot=dt==null?0:dt.length;if(!Ot)return-1;var Gt=Rt==null?0:In(Rt);return Gt<0&&(Gt=bs(Ot+Gt,0)),Xo(dt,St,Gt)}function gx(dt){var St=dt==null?0:dt.length;return St?ao(dt,0,-1):[]}var yx=Ln(function(dt){var St=Jn(dt,ap);return St.length&&St[0]===dt[0]?qu(St):[]}),vx=Ln(function(dt){var St=oo(dt),Rt=Jn(dt,ap);return St===oo(Rt)?St=a:Rt.pop(),Rt.length&&Rt[0]===dt[0]?qu(Rt,yn(St,2)):[]}),xx=Ln(function(dt){var St=oo(dt),Rt=Jn(dt,ap);return St=typeof St=="function"?St:a,St&&Rt.pop(),Rt.length&&Rt[0]===dt[0]?qu(Rt,a,St):[]});function bx(dt,St){return dt==null?"":dv.call(dt,St)}function oo(dt){var St=dt==null?0:dt.length;return St?dt[St-1]:a}function Sx(dt,St,Rt){var Ot=dt==null?0:dt.length;if(!Ot)return-1;var Gt=Ot;return Rt!==a&&(Gt=In(Rt),Gt=Gt<0?bs(Ot+Gt,0):Ps(Gt,Ot-1)),St===St?Zy(dt,St,Gt):Kl(dt,Op,Gt,!0)}function wx(dt,St){return dt&&dt.length?dm(dt,In(St)):a}var _x=Ln(iy);function iy(dt,St){return dt&&dt.length&&St&&St.length?ep(dt,St):dt}function Ex(dt,St,Rt){return dt&&dt.length&&St&&St.length?ep(dt,St,yn(Rt,2)):dt}function Tx(dt,St,Rt){return dt&&dt.length&&St&&St.length?ep(dt,St,a,Rt):dt}var Cx=Co(function(dt,St){var Rt=dt==null?0:dt.length,Ot=Gu(dt,St);return ym(dt,Jn(St,function(Gt){return ko(Gt,Rt)?+Gt:Gt}).sort(km)),Ot});function kx(dt,St){var Rt=[];if(!(dt&&dt.length))return Rt;var Ot=-1,Gt=[],ir=dt.length;for(St=yn(St,3);++Ot<ir;){var hr=dt[Ot];St(hr,Ot,dt)&&(Rt.push(hr),Gt.push(Ot))}return ym(dt,Gt),Rt}function bp(dt){return dt==null?dt:vv.call(dt)}function $x(dt,St,Rt){var Ot=dt==null?0:dt.length;return Ot?(Rt&&typeof Rt!="number"&&Vs(dt,St,Rt)?(St=0,Rt=Ot):(St=St==null?0:In(St),Rt=Rt===a?Ot:In(Rt)),ao(dt,St,Rt)):[]}function Ax(dt,St){return du(dt,St)}function Ix(dt,St,Rt){return np(dt,St,yn(Rt,2))}function Rx(dt,St){var Rt=dt==null?0:dt.length;if(Rt){var Ot=du(dt,St);if(Ot<Rt&&go(dt[Ot],St))return Ot}return-1}function Mx(dt,St){return du(dt,St,!0)}function Lx(dt,St,Rt){return np(dt,St,yn(Rt,2),!0)}function Px(dt,St){var Rt=dt==null?0:dt.length;if(Rt){var Ot=du(dt,St,!0)-1;if(go(dt[Ot],St))return Ot}return-1}function Dx(dt){return dt&&dt.length?xm(dt):[]}function Nx(dt,St){return dt&&dt.length?xm(dt,yn(St,2)):[]}function Ox(dt){var St=dt==null?0:dt.length;return St?ao(dt,1,St):[]}function Fx(dt,St,Rt){return dt&&dt.length?(St=Rt||St===a?1:In(St),ao(dt,0,St<0?0:St)):[]}function Vx(dt,St,Rt){var Ot=dt==null?0:dt.length;return Ot?(St=Rt||St===a?1:In(St),St=Ot-St,ao(dt,St<0?0:St,Ot)):[]}function Bx(dt,St){return dt&&dt.length?mu(dt,yn(St,3),!1,!0):[]}function zx(dt,St){return dt&&dt.length?mu(dt,yn(St,3)):[]}var jx=Ln(function(dt){return No(Is(dt,1,us,!0))}),Ux=Ln(function(dt){var St=oo(dt);return us(St)&&(St=a),No(Is(dt,1,us,!0),yn(St,2))}),Wx=Ln(function(dt){var St=oo(dt);return St=typeof St=="function"?St:a,No(Is(dt,1,us,!0),a,St)});function Hx(dt){return dt&&dt.length?No(dt):[]}function Gx(dt,St){return dt&&dt.length?No(dt,yn(St,2)):[]}function Kx(dt,St){return St=typeof St=="function"?St:a,dt&&dt.length?No(dt,a,St):[]}function Sp(dt){if(!(dt&&dt.length))return[];var St=0;return dt=Ro(dt,function(Rt){if(us(Rt))return St=bs(Rt.length,St),!0}),Fu(St,function(Rt){return Jn(dt,Du(Rt))})}function sy(dt,St){if(!(dt&&dt.length))return[];var Rt=Sp(dt);return St==null?Rt:Jn(Rt,function(Ot){return Ts(St,a,Ot)})}var Yx=Ln(function(dt,St){return us(dt)?Nl(dt,St):[]}),Xx=Ln(function(dt){return sp(Ro(dt,us))}),qx=Ln(function(dt){var St=oo(dt);return us(St)&&(St=a),sp(Ro(dt,us),yn(St,2))}),Qx=Ln(function(dt){var St=oo(dt);return St=typeof St=="function"?St:a,sp(Ro(dt,us),a,St)}),Zx=Ln(Sp);function Jx(dt,St){return _m(dt||[],St||[],Dl)}function e1(dt,St){return _m(dt||[],St||[],Vl)}var t1=Ln(function(dt){var St=dt.length,Rt=St>1?dt[St-1]:a;return Rt=typeof Rt=="function"?(dt.pop(),Rt):a,sy(dt,Rt)});function ay(dt){var St=Zt(dt);return St.__chain__=!0,St}function r1(dt,St){return St(dt),dt}function Eu(dt,St){return St(dt)}var n1=Co(function(dt){var St=dt.length,Rt=St?dt[0]:0,Ot=this.__wrapped__,Gt=function(ir){return Gu(ir,dt)};return St>1||this.__actions__.length||!(Ot instanceof Nn)||!ko(Rt)?this.thru(Gt):(Ot=Ot.slice(Rt,+Rt+(St?1:0)),Ot.__actions__.push({func:Eu,args:[Gt],thisArg:a}),new io(Ot,this.__chain__).thru(function(ir){return St&&!ir.length&&ir.push(a),ir}))});function i1(){return ay(this)}function s1(){return new io(this.value(),this.__chain__)}function a1(){this.__values__===a&&(this.__values__=by(this.value()));var dt=this.__index__>=this.__values__.length,St=dt?a:this.__values__[this.__index__++];return{done:dt,value:St}}function o1(){return this}function l1(dt){for(var St,Rt=this;Rt instanceof uu;){var Ot=Jm(Rt);Ot.__index__=0,Ot.__values__=a,St?Gt.__wrapped__=Ot:St=Ot;var Gt=Ot;Rt=Rt.__wrapped__}return Gt.__wrapped__=dt,St}function u1(){var dt=this.__wrapped__;if(dt instanceof Nn){var St=dt;return this.__actions__.length&&(St=new Nn(this)),St=St.reverse(),St.__actions__.push({func:Eu,args:[bp],thisArg:a}),new io(St,this.__chain__)}return this.thru(bp)}function c1(){return wm(this.__wrapped__,this.__actions__)}var h1=gu(function(dt,St,Rt){Wn.call(dt,Rt)?++dt[Rt]:Eo(dt,Rt,1)});function f1(dt,St,Rt){var Ot=Cn(dt)?Dp:e0;return Rt&&Vs(dt,St,Rt)&&(St=a),Ot(dt,yn(St,3))}function p1(dt,St){var Rt=Cn(dt)?Ro:sm;return Rt(dt,yn(St,3))}var d1=Lm(ey),m1=Lm(ty);function g1(dt,St){return Is(Tu(dt,St),1)}function y1(dt,St){return Is(Tu(dt,St),Ft)}function v1(dt,St,Rt){return Rt=Rt===a?1:In(Rt),Is(Tu(dt,St),Rt)}function oy(dt,St){var Rt=Cn(dt)?ro:Do;return Rt(dt,yn(St,3))}function ly(dt,St){var Rt=Cn(dt)?Dy:im;return Rt(dt,yn(St,3))}var x1=gu(function(dt,St,Rt){Wn.call(dt,Rt)?dt[Rt].push(St):Eo(dt,Rt,[St])});function b1(dt,St,Rt,Ot){dt=Ys(dt)?dt:Cl(dt),Rt=Rt&&!Ot?In(Rt):0;var Gt=dt.length;return Rt<0&&(Rt=bs(Gt+Rt,0)),Iu(dt)?Rt<=Gt&&dt.indexOf(St,Rt)>-1:!!Gt&&Xo(dt,St,Rt)>-1}var S1=Ln(function(dt,St,Rt){var Ot=-1,Gt=typeof St=="function",ir=Ys(dt)?Rr(dt.length):[];return Do(dt,function(hr){ir[++Ot]=Gt?Ts(St,hr,Rt):Ol(hr,St,Rt)}),ir}),w1=gu(function(dt,St,Rt){Eo(dt,Rt,St)});function Tu(dt,St){var Rt=Cn(dt)?Jn:hm;return Rt(dt,yn(St,3))}function _1(dt,St,Rt,Ot){return dt==null?[]:(Cn(St)||(St=St==null?[]:[St]),Rt=Ot?a:Rt,Cn(Rt)||(Rt=Rt==null?[]:[Rt]),mm(dt,St,Rt))}var E1=gu(function(dt,St,Rt){dt[Rt?0:1].push(St)},function(){return[[],[]]});function T1(dt,St,Rt){var Ot=Cn(dt)?Lu:Vp,Gt=arguments.length<3;return Ot(dt,yn(St,4),Rt,Gt,Do)}function C1(dt,St,Rt){var Ot=Cn(dt)?Ny:Vp,Gt=arguments.length<3;return Ot(dt,yn(St,4),Rt,Gt,im)}function k1(dt,St){var Rt=Cn(dt)?Ro:sm;return Rt(dt,$u(yn(St,3)))}function $1(dt){var St=Cn(dt)?em:v0;return St(dt)}function A1(dt,St,Rt){(Rt?Vs(dt,St,Rt):St===a)?St=1:St=In(St);var Ot=Cn(dt)?Xv:x0;return Ot(dt,St)}function I1(dt){var St=Cn(dt)?qv:S0;return St(dt)}function R1(dt){if(dt==null)return 0;if(Ys(dt))return Iu(dt)?Qo(dt):dt.length;var St=Ds(dt);return St==Cr||St==Bn?dt.size:Zu(dt).length}function M1(dt,St,Rt){var Ot=Cn(dt)?Pu:w0;return Rt&&Vs(dt,St,Rt)&&(St=a),Ot(dt,yn(St,3))}var L1=Ln(function(dt,St){if(dt==null)return[];var Rt=St.length;return Rt>1&&Vs(dt,St[0],St[1])?St=[]:Rt>2&&Vs(St[0],St[1],St[2])&&(St=[St[0]]),mm(dt,Is(St,1),[])}),Cu=hv||function(){return en.Date.now()};function P1(dt,St){if(typeof St!="function")throw new no(at);return dt=In(dt),function(){if(--dt<1)return St.apply(this,arguments)}}function uy(dt,St,Rt){return St=Rt?a:St,St=dt&&St==null?dt.length:St,To(dt,wt,a,a,a,a,St)}function cy(dt,St){var Rt;if(typeof St!="function")throw new no(at);return dt=In(dt),function(){return--dt>0&&(Rt=St.apply(this,arguments)),dt<=1&&(St=a),Rt}}var wp=Ln(function(dt,St,Rt){var Ot=ht;if(Rt.length){var Gt=Lo(Rt,El(wp));Ot|=yt}return To(dt,Ot,St,Rt,Gt)}),hy=Ln(function(dt,St,Rt){var Ot=ht|ft;if(Rt.length){var Gt=Lo(Rt,El(hy));Ot|=yt}return To(St,Ot,dt,Rt,Gt)});function fy(dt,St,Rt){St=Rt?a:St;var Ot=To(dt,mt,a,a,a,a,a,St);return Ot.placeholder=fy.placeholder,Ot}function py(dt,St,Rt){St=Rt?a:St;var Ot=To(dt,gt,a,a,a,a,a,St);return Ot.placeholder=py.placeholder,Ot}function dy(dt,St,Rt){var Ot,Gt,ir,hr,pr,wr,Nr=0,Or=!1,jr=!1,Jr=!0;if(typeof dt!="function")throw new no(at);St=lo(St)||0,es(Rt)&&(Or=!!Rt.leading,jr="maxWait"in Rt,ir=jr?bs(lo(Rt.maxWait)||0,St):ir,Jr="trailing"in Rt?!!Rt.trailing:Jr);function on(cs){var yo=Ot,Io=Gt;return Ot=Gt=a,Nr=cs,hr=dt.apply(Io,yo),hr}function bn(cs){return Nr=cs,pr=Ul(Pn,St),Or?on(cs):hr}function Rn(cs){var yo=cs-wr,Io=cs-Nr,Ly=St-yo;return jr?Ps(Ly,ir-Io):Ly}function Sn(cs){var yo=cs-wr,Io=cs-Nr;return wr===a||yo>=St||yo<0||jr&&Io>=ir}function Pn(){var cs=Cu();if(Sn(cs))return On(cs);pr=Ul(Pn,Rn(cs))}function On(cs){return pr=a,Jr&&Ot?on(cs):(Ot=Gt=a,hr)}function $a(){pr!==a&&Em(pr),Nr=0,Ot=wr=Gt=pr=a}function Bs(){return pr===a?hr:On(Cu())}function eo(){var cs=Cu(),yo=Sn(cs);if(Ot=arguments,Gt=this,wr=cs,yo){if(pr===a)return bn(wr);if(jr)return Em(pr),pr=Ul(Pn,St),on(wr)}return pr===a&&(pr=Ul(Pn,St)),hr}return eo.cancel=$a,eo.flush=Bs,eo}var D1=Ln(function(dt,St){return nm(dt,1,St)}),N1=Ln(function(dt,St,Rt){return nm(dt,lo(St)||0,Rt)});function O1(dt){return To(dt,vt)}function ku(dt,St){if(typeof dt!="function"||St!=null&&typeof St!="function")throw new no(at);var Rt=function(){var Ot=arguments,Gt=St?St.apply(this,Ot):Ot[0],ir=Rt.cache;if(ir.has(Gt))return ir.get(Gt);var hr=dt.apply(this,Ot);return Rt.cache=ir.set(Gt,hr)||ir,hr};return Rt.cache=new(ku.Cache||_o),Rt}ku.Cache=_o;function $u(dt){if(typeof dt!="function")throw new no(at);return function(){var St=arguments;switch(St.length){case 0:return!dt.call(this);case 1:return!dt.call(this,St[0]);case 2:return!dt.call(this,St[0],St[1]);case 3:return!dt.call(this,St[0],St[1],St[2])}return!dt.apply(this,St)}}function F1(dt){return cy(2,dt)}var V1=_0(function(dt,St){St=St.length==1&&Cn(St[0])?Jn(St[0],ga(yn())):Jn(Is(St,1),ga(yn()));var Rt=St.length;return Ln(function(Ot){for(var Gt=-1,ir=Ps(Ot.length,Rt);++Gt<ir;)Ot[Gt]=St[Gt].call(this,Ot[Gt]);return Ts(dt,this,Ot)})}),_p=Ln(function(dt,St){var Rt=Lo(St,El(_p));return To(dt,yt,a,St,Rt)}),my=Ln(function(dt,St){var Rt=Lo(St,El(my));return To(dt,ut,a,St,Rt)}),B1=Co(function(dt,St){return To(dt,bt,a,a,a,St)});function z1(dt,St){if(typeof dt!="function")throw new no(at);return St=St===a?St:In(St),Ln(dt,St)}function j1(dt,St){if(typeof dt!="function")throw new no(at);return St=St==null?0:bs(In(St),0),Ln(function(Rt){var Ot=Rt[St],Gt=Fo(Rt,0,St);return Ot&&Mo(Gt,Ot),Ts(dt,this,Gt)})}function U1(dt,St,Rt){var Ot=!0,Gt=!0;if(typeof dt!="function")throw new no(at);return es(Rt)&&(Ot="leading"in Rt?!!Rt.leading:Ot,Gt="trailing"in Rt?!!Rt.trailing:Gt),dy(dt,St,{leading:Ot,maxWait:St,trailing:Gt})}function W1(dt){return uy(dt,1)}function H1(dt,St){return _p(op(St),dt)}function G1(){if(!arguments.length)return[];var dt=arguments[0];return Cn(dt)?dt:[dt]}function K1(dt){return so(dt,tt)}function Y1(dt,St){return St=typeof St=="function"?St:a,so(dt,tt,St)}function X1(dt){return so(dt,_|tt)}function q1(dt,St){return St=typeof St=="function"?St:a,so(dt,_|tt,St)}function Q1(dt,St){return St==null||rm(dt,St,Cs(St))}function go(dt,St){return dt===St||dt!==dt&&St!==St}var Z1=bu(Xu),J1=bu(function(dt,St){return dt>=St}),Yo=lm(function(){return arguments}())?lm:function(dt){return rs(dt)&&Wn.call(dt,"callee")&&!Yp.call(dt,"callee")},Cn=Rr.isArray,eS=vs?ga(vs):a0;function Ys(dt){return dt!=null&&Au(dt.length)&&!$o(dt)}function us(dt){return rs(dt)&&Ys(dt)}function tS(dt){return dt===!0||dt===!1||rs(dt)&&Fs(dt)==yr}var Vo=pv||Pp,rS=Gs?ga(Gs):o0;function nS(dt){return rs(dt)&&dt.nodeType===1&&!Wl(dt)}function iS(dt){if(dt==null)return!0;if(Ys(dt)&&(Cn(dt)||typeof dt=="string"||typeof dt.splice=="function"||Vo(dt)||Tl(dt)||Yo(dt)))return!dt.length;var St=Ds(dt);if(St==Cr||St==Bn)return!dt.size;if(zl(dt))return!Zu(dt).length;for(var Rt in dt)if(Wn.call(dt,Rt))return!1;return!0}function sS(dt,St){return Fl(dt,St)}function aS(dt,St,Rt){Rt=typeof Rt=="function"?Rt:a;var Ot=Rt?Rt(dt,St):a;return Ot===a?Fl(dt,St,a,Rt):!!Ot}function Ep(dt){if(!rs(dt))return!1;var St=Fs(dt);return St==sr||St==xr||typeof dt.message=="string"&&typeof dt.name=="string"&&!Wl(dt)}function oS(dt){return typeof dt=="number"&&qp(dt)}function $o(dt){if(!es(dt))return!1;var St=Fs(dt);return St==ar||St==rr||St==mr||St==hn}function gy(dt){return typeof dt=="number"&&dt==In(dt)}function Au(dt){return typeof dt=="number"&&dt>-1&&dt%1==0&&dt<=Dt}function es(dt){var St=typeof dt;return dt!=null&&(St=="object"||St=="function")}function rs(dt){return dt!=null&&typeof dt=="object"}var yy=to?ga(to):u0;function lS(dt,St){return dt===St||Qu(dt,St,dp(St))}function uS(dt,St,Rt){return Rt=typeof Rt=="function"?Rt:a,Qu(dt,St,dp(St),Rt)}function cS(dt){return vy(dt)&&dt!=+dt}function hS(dt){if(G0(dt))throw new Tn(et);return um(dt)}function fS(dt){return dt===null}function pS(dt){return dt==null}function vy(dt){return typeof dt=="number"||rs(dt)&&Fs(dt)==kr}function Wl(dt){if(!rs(dt)||Fs(dt)!=Gr)return!1;var St=ru(dt);if(St===null)return!0;var Rt=Wn.call(St,"constructor")&&St.constructor;return typeof Rt=="function"&&Rt instanceof Rt&&Zl.call(Rt)==ov}var Tp=vo?ga(vo):c0;function dS(dt){return gy(dt)&&dt>=-Dt&&dt<=Dt}var xy=$l?ga($l):h0;function Iu(dt){return typeof dt=="string"||!Cn(dt)&&rs(dt)&&Fs(dt)==An}function ba(dt){return typeof dt=="symbol"||rs(dt)&&Fs(dt)==dn}var Tl=Bo?ga(Bo):f0;function mS(dt){return dt===a}function gS(dt){return rs(dt)&&Ds(dt)==Dn}function yS(dt){return rs(dt)&&Fs(dt)==Tr}var vS=bu(Ju),xS=bu(function(dt,St){return dt<=St});function by(dt){if(!dt)return[];if(Ys(dt))return Iu(dt)?po(dt):Ks(dt);if(Il&&dt[Il])return Xy(dt[Il]());var St=Ds(dt),Rt=St==Cr?Bu:St==Bn?Yl:Cl;return Rt(dt)}function Ao(dt){if(!dt)return dt===0?dt:0;if(dt=lo(dt),dt===Ft||dt===-Ft){var St=dt<0?-1:1;return St*Vt}return dt===dt?dt:0}function In(dt){var St=Ao(dt),Rt=St%1;return St===St?Rt?St-Rt:St:0}function Sy(dt){return dt?Wo(In(dt),0,Qt):0}function lo(dt){if(typeof dt=="number")return dt;if(ba(dt))return Ut;if(es(dt)){var St=typeof dt.valueOf=="function"?dt.valueOf():dt;dt=es(St)?St+"":St}if(typeof dt!="string")return dt===0?dt:+dt;dt=Bp(dt);var Rt=Us.test(dt);return Rt||Js.test(dt)?Qr(dt.slice(2),Rt?2:8):Qs.test(dt)?Ut:+dt}function wy(dt){return bo(dt,Xs(dt))}function bS(dt){return dt?Wo(In(dt),-Dt,Dt):dt===0?dt:0}function jn(dt){return dt==null?"":xa(dt)}var SS=wl(function(dt,St){if(zl(St)||Ys(St)){bo(St,Cs(St),dt);return}for(var Rt in St)Wn.call(St,Rt)&&Dl(dt,Rt,St[Rt])}),_y=wl(function(dt,St){bo(St,Xs(St),dt)}),Ru=wl(function(dt,St,Rt,Ot){bo(St,Xs(St),dt,Ot)}),wS=wl(function(dt,St,Rt,Ot){bo(St,Cs(St),dt,Ot)}),_S=Co(Gu);function ES(dt,St){var Rt=Sl(dt);return St==null?Rt:tm(Rt,St)}var TS=Ln(function(dt,St){dt=Kn(dt);var Rt=-1,Ot=St.length,Gt=Ot>2?St[2]:a;for(Gt&&Vs(St[0],St[1],Gt)&&(Ot=1);++Rt<Ot;)for(var ir=St[Rt],hr=Xs(ir),pr=-1,wr=hr.length;++pr<wr;){var Nr=hr[pr],Or=dt[Nr];(Or===a||go(Or,Jo[Nr])&&!Wn.call(dt,Nr))&&(dt[Nr]=ir[Nr])}return dt}),CS=Ln(function(dt){return dt.push(a,Bm),Ts(Ey,a,dt)});function kS(dt,St){return Np(dt,yn(St,3),xo)}function $S(dt,St){return Np(dt,yn(St,3),Yu)}function AS(dt,St){return dt==null?dt:Ku(dt,yn(St,3),Xs)}function IS(dt,St){return dt==null?dt:am(dt,yn(St,3),Xs)}function RS(dt,St){return dt&&xo(dt,yn(St,3))}function LS(dt,St){return dt&&Yu(dt,yn(St,3))}function PS(dt){return dt==null?[]:fu(dt,Cs(dt))}function DS(dt){return dt==null?[]:fu(dt,Xs(dt))}function Cp(dt,St,Rt){var Ot=dt==null?a:Ho(dt,St);return Ot===a?Rt:Ot}function NS(dt,St){return dt!=null&&Um(dt,St,r0)}function kp(dt,St){return dt!=null&&Um(dt,St,n0)}var OS=Dm(function(dt,St,Rt){St!=null&&typeof St.toString!="function"&&(St=Jl.call(St)),dt[St]=Rt},Ap(qs)),FS=Dm(function(dt,St,Rt){St!=null&&typeof St.toString!="function"&&(St=Jl.call(St)),Wn.call(dt,St)?dt[St].push(Rt):dt[St]=[Rt]},yn),VS=Ln(Ol);function Cs(dt){return Ys(dt)?Jp(dt):Zu(dt)}function Xs(dt){return Ys(dt)?Jp(dt,!0):p0(dt)}function BS(dt,St){var Rt={};return St=yn(St,3),xo(dt,function(Ot,Gt,ir){Eo(Rt,St(Ot,Gt,ir),Ot)}),Rt}function zS(dt,St){var Rt={};return St=yn(St,3),xo(dt,function(Ot,Gt,ir){Eo(Rt,Gt,St(Ot,Gt,ir))}),Rt}var jS=wl(function(dt,St,Rt){pu(dt,St,Rt)}),Ey=wl(function(dt,St,Rt,Ot){pu(dt,St,Rt,Ot)}),US=Co(function(dt,St){var Rt={};if(dt==null)return Rt;var Ot=!1;St=Jn(St,function(ir){return ir=Oo(ir,dt),Ot||(Ot=ir.length>1),ir}),bo(dt,fp(dt),Rt),Ot&&(Rt=so(Rt,_|$|tt,P0));for(var Gt=St.length;Gt--;)ip(Rt,St[Gt]);return Rt});function WS(dt,St){return Ty(dt,$u(yn(St)))}var HS=Co(function(dt,St){return dt==null?{}:m0(dt,St)});function Ty(dt,St){if(dt==null)return{};var Rt=Jn(fp(dt),function(Ot){return[Ot]});return St=yn(St),gm(dt,Rt,function(Ot,Gt){return St(Ot,Gt[0])})}function GS(dt,St,Rt){St=Oo(St,dt);var Ot=-1,Gt=St.length;for(Gt||(Gt=1,dt=a);++Ot<Gt;){var ir=dt==null?a:dt[So(St[Ot])];ir===a&&(Ot=Gt,ir=Rt),dt=$o(ir)?ir.call(dt):ir}return dt}function KS(dt,St,Rt){return dt==null?dt:Vl(dt,St,Rt)}function YS(dt,St,Rt,Ot){return Ot=typeof Ot=="function"?Ot:a,dt==null?dt:Vl(dt,St,Rt,Ot)}var Cy=Fm(Cs),ky=Fm(Xs);function XS(dt,St,Rt){var Ot=Cn(dt),Gt=Ot||Vo(dt)||Tl(dt);if(St=yn(St,4),Rt==null){var ir=dt&&dt.constructor;Gt?Rt=Ot?new ir:[]:es(dt)?Rt=$o(ir)?Sl(ru(dt)):{}:Rt={}}return(Gt?ro:xo)(dt,function(hr,pr,wr){return St(Rt,hr,pr,wr)}),Rt}function qS(dt,St){return dt==null?!0:ip(dt,St)}function QS(dt,St,Rt){return dt==null?dt:Sm(dt,St,op(Rt))}function ZS(dt,St,Rt,Ot){return Ot=typeof Ot=="function"?Ot:a,dt==null?dt:Sm(dt,St,op(Rt),Ot)}function Cl(dt){return dt==null?[]:Vu(dt,Cs(dt))}function JS(dt){return dt==null?[]:Vu(dt,Xs(dt))}function ew(dt,St,Rt){return Rt===a&&(Rt=St,St=a),Rt!==a&&(Rt=lo(Rt),Rt=Rt===Rt?Rt:0),St!==a&&(St=lo(St),St=St===St?St:0),Wo(lo(dt),St,Rt)}function tw(dt,St,Rt){return St=Ao(St),Rt===a?(Rt=St,St=0):Rt=Ao(Rt),dt=lo(dt),i0(dt,St,Rt)}function rw(dt,St,Rt){if(Rt&&typeof Rt!="boolean"&&Vs(dt,St,Rt)&&(St=Rt=a),Rt===a&&(typeof St=="boolean"?(Rt=St,St=a):typeof dt=="boolean"&&(Rt=dt,dt=a)),dt===a&&St===a?(dt=0,St=1):(dt=Ao(dt),St===a?(St=dt,dt=0):St=Ao(St)),dt>St){var Ot=dt;dt=St,St=Ot}if(Rt||dt%1||St%1){var Gt=Qp();return Ps(dt+Gt*(St-dt+Hr("1e-"+((Gt+"").length-1))),St)}return tp(dt,St)}var nw=_l(function(dt,St,Rt){return St=St.toLowerCase(),dt+(Rt?$y(St):St)});function $y(dt){return $p(jn(dt).toLowerCase())}function Ay(dt){return dt=jn(dt),dt&&dt.replace(ps,Wy).replace(gr,"")}function iw(dt,St,Rt){dt=jn(dt),St=xa(St);var Ot=dt.length;Rt=Rt===a?Ot:Wo(In(Rt),0,Ot);var Gt=Rt;return Rt-=St.length,Rt>=0&&dt.slice(Rt,Gt)==St}function sw(dt){return dt=jn(dt),dt&&Er.test(dt)?dt.replace(zr,Hy):dt}function aw(dt){return dt=jn(dt),dt&&ks.test(dt)?dt.replace(ts,"\\$&"):dt}var ow=_l(function(dt,St,Rt){return dt+(Rt?"-":"")+St.toLowerCase()}),lw=_l(function(dt,St,Rt){return dt+(Rt?" ":"")+St.toLowerCase()}),uw=Mm("toLowerCase");function cw(dt,St,Rt){dt=jn(dt),St=In(St);var Ot=St?Qo(dt):0;if(!St||Ot>=St)return dt;var Gt=(St-Ot)/2;return xu(au(Gt),Rt)+dt+xu(su(Gt),Rt)}function hw(dt,St,Rt){dt=jn(dt),St=In(St);var Ot=St?Qo(dt):0;return St&&Ot<St?dt+xu(St-Ot,Rt):dt}function fw(dt,St,Rt){dt=jn(dt),St=In(St);var Ot=St?Qo(dt):0;return St&&Ot<St?xu(St-Ot,Rt)+dt:dt}function pw(dt,St,Rt){return Rt||St==null?St=0:St&&(St=+St),yv(jn(dt).replace(Rs,""),St||0)}function dw(dt,St,Rt){return(Rt?Vs(dt,St,Rt):St===a)?St=1:St=In(St),rp(jn(dt),St)}function mw(){var dt=arguments,St=jn(dt[0]);return dt.length<3?St:St.replace(dt[1],dt[2])}var gw=_l(function(dt,St,Rt){return dt+(Rt?"_":"")+St.toLowerCase()});function yw(dt,St,Rt){return Rt&&typeof Rt!="number"&&Vs(dt,St,Rt)&&(St=Rt=a),Rt=Rt===a?Qt:Rt>>>0,Rt?(dt=jn(dt),dt&&(typeof St=="string"||St!=null&&!Tp(St))&&(St=xa(St),!St&&qo(dt))?Fo(po(dt),0,Rt):dt.split(St,Rt)):[]}var xw=_l(function(dt,St,Rt){return dt+(Rt?" ":"")+$p(St)});function bw(dt,St,Rt){return dt=jn(dt),Rt=Rt==null?0:Wo(In(Rt),0,dt.length),St=xa(St),dt.slice(Rt,Rt+St.length)==St}function Sw(dt,St,Rt){var Ot=Zt.templateSettings;Rt&&Vs(dt,St,Rt)&&(St=a),dt=jn(dt),St=Ru({},St,Ot,Vm);var Gt=Ru({},St.imports,Ot.imports,Vm),ir=Cs(Gt),hr=Vu(Gt,ir),pr,wr,Nr=0,Or=St.interpolate||As,jr="__p += '",Jr=zu((St.escape||As).source+"|"+Or.source+"|"+(Or===ws?$s:As).source+"|"+(St.evaluate||As).source+"|$","g"),on="//# sourceURL="+(Wn.call(St,"sourceURL")?(St.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Es+"]")+`
`;dt.replace(Jr,function(Sn,Pn,On,$a,Bs,eo){return On||(On=$a),jr+=dt.slice(Nr,eo).replace(Ms,Gy),Pn&&(pr=!0,jr+=`' +
__e(`+Pn+`) +
'`),Bs&&(wr=!0,jr+=`';
`+Bs+`;
__p += '`),On&&(jr+=`' +
((__t = (`+On+`)) == null ? '' : __t) +
'`),Nr=eo+Sn.length,Sn}),jr+=`';
`;var bn=Wn.call(St,"variable")&&St.variable;if(!bn)jr=`with (obj) {
`+jr+`
}
`;else if(ms.test(bn))throw new Tn(ot);jr=(wr?jr.replace(un,""):jr).replace(Fr,"$1").replace(qr,"$1;"),jr="function("+(bn||"obj")+`) {
`+(bn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pr?", __e = _.escape":"")+(wr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+jr+`return __p
}`;var Rn=Ry(function(){return zn(ir,on+"return "+jr).apply(a,hr)});if(Rn.source=jr,Ep(Rn))throw Rn;return Rn}function ww(dt){return jn(dt).toLowerCase()}function _w(dt){return jn(dt).toUpperCase()}function Ew(dt,St,Rt){if(dt=jn(dt),dt&&(Rt||St===a))return Bp(dt);if(!dt||!(St=xa(St)))return dt;var Ot=po(dt),Gt=po(St),ir=zp(Ot,Gt),hr=jp(Ot,Gt)+1;return Fo(Ot,ir,hr).join("")}function Tw(dt,St,Rt){if(dt=jn(dt),dt&&(Rt||St===a))return dt.slice(0,Wp(dt)+1);if(!dt||!(St=xa(St)))return dt;var Ot=po(dt),Gt=jp(Ot,po(St))+1;return Fo(Ot,0,Gt).join("")}function Cw(dt,St,Rt){if(dt=jn(dt),dt&&(Rt||St===a))return dt.replace(Rs,"");if(!dt||!(St=xa(St)))return dt;var Ot=po(dt),Gt=zp(Ot,po(St));return Fo(Ot,Gt).join("")}function kw(dt,St){var Rt=Et,Ot=$t;if(es(St)){var Gt="separator"in St?St.separator:Gt;Rt="length"in St?In(St.length):Rt,Ot="omission"in St?xa(St.omission):Ot}dt=jn(dt);var ir=dt.length;if(qo(dt)){var hr=po(dt);ir=hr.length}if(Rt>=ir)return dt;var pr=Rt-Qo(Ot);if(pr<1)return Ot;var wr=hr?Fo(hr,0,pr).join(""):dt.slice(0,pr);if(Gt===a)return wr+Ot;if(hr&&(pr+=wr.length-pr),Tp(Gt)){if(dt.slice(pr).search(Gt)){var Nr,Or=wr;for(Gt.global||(Gt=zu(Gt.source,jn(ns.exec(Gt))+"g")),Gt.lastIndex=0;Nr=Gt.exec(Or);)var jr=Nr.index;wr=wr.slice(0,jr===a?pr:jr)}}else if(dt.indexOf(xa(Gt),pr)!=pr){var Jr=wr.lastIndexOf(Gt);Jr>-1&&(wr=wr.slice(0,Jr))}return wr+Ot}function $w(dt){return dt=jn(dt),dt&&ln.test(dt)?dt.replace(Wr,Jy):dt}var Aw=_l(function(dt,St,Rt){return dt+(Rt?" ":"")+St.toUpperCase()}),$p=Mm("toUpperCase");function Iy(dt,St,Rt){return dt=jn(dt),St=Rt?a:St,St===a?Yy(dt)?rv(dt):Vy(dt):dt.match(St)||[]}var Ry=Ln(function(dt,St){try{return Ts(dt,a,St)}catch(Rt){return Ep(Rt)?Rt:new Tn(Rt)}}),Iw=Co(function(dt,St){return ro(St,function(Rt){Rt=So(Rt),Eo(dt,Rt,wp(dt[Rt],dt))}),dt});function Rw(dt){var St=dt==null?0:dt.length,Rt=yn();return dt=St?Jn(dt,function(Ot){if(typeof Ot[1]!="function")throw new no(at);return[Rt(Ot[0]),Ot[1]]}):[],Ln(function(Ot){for(var Gt=-1;++Gt<St;){var ir=dt[Gt];if(Ts(ir[0],this,Ot))return Ts(ir[1],this,Ot)}})}function Mw(dt){return Jv(so(dt,_))}function Ap(dt){return function(){return dt}}function Lw(dt,St){return dt==null||dt!==dt?St:dt}var Pw=Pm(),Dw=Pm(!0);function qs(dt){return dt}function Ip(dt){return cm(typeof dt=="function"?dt:so(dt,_))}function Nw(dt){return fm(so(dt,_))}function Ow(dt,St){return pm(dt,so(St,_))}var Fw=Ln(function(dt,St){return function(Rt){return Ol(Rt,dt,St)}}),Vw=Ln(function(dt,St){return function(Rt){return Ol(dt,Rt,St)}});function Rp(dt,St,Rt){var Ot=Cs(St),Gt=fu(St,Ot);Rt==null&&!(es(St)&&(Gt.length||!Ot.length))&&(Rt=St,St=dt,dt=this,Gt=fu(St,Cs(St)));var ir=!(es(Rt)&&"chain"in Rt)||!!Rt.chain,hr=$o(dt);return ro(Gt,function(pr){var wr=St[pr];dt[pr]=wr,hr&&(dt.prototype[pr]=function(){var Nr=this.__chain__;if(ir||Nr){var Or=dt(this.__wrapped__),jr=Or.__actions__=Ks(this.__actions__);return jr.push({func:wr,args:arguments,thisArg:dt}),Or.__chain__=Nr,Or}return wr.apply(dt,Mo([this.value()],arguments))})}),dt}function Bw(){return en._===this&&(en._=lv),this}function Mp(){}function zw(dt){return dt=In(dt),Ln(function(St){return dm(St,dt)})}var jw=up(Jn),Uw=up(Dp),Ww=up(Pu);function My(dt){return gp(dt)?Du(So(dt)):g0(dt)}function Hw(dt){return function(St){return dt==null?a:Ho(dt,St)}}var Gw=Nm(),Kw=Nm(!0);function Lp(){return[]}function Pp(){return!1}function Yw(){return{}}function Xw(){return""}function qw(){return!0}function Qw(dt,St){if(dt=In(dt),dt<1||dt>Dt)return[];var Rt=Qt,Ot=Ps(dt,Qt);St=yn(St),dt-=Qt;for(var Gt=Fu(Ot,St);++Rt<dt;)St(Rt);return Gt}function Zw(dt){return Cn(dt)?Jn(dt,So):ba(dt)?[dt]:Ks(Zm(jn(dt)))}function Jw(dt){var St=++av;return jn(dt)+St}var e_=vu(function(dt,St){return dt+St},0),t_=cp("ceil"),r_=vu(function(dt,St){return dt/St},1),n_=cp("floor");function i_(dt){return dt&&dt.length?hu(dt,qs,Xu):a}function s_(dt,St){return dt&&dt.length?hu(dt,yn(St,2),Xu):a}function a_(dt){return Fp(dt,qs)}function o_(dt,St){return Fp(dt,yn(St,2))}function l_(dt){return dt&&dt.length?hu(dt,qs,Ju):a}function u_(dt,St){return dt&&dt.length?hu(dt,yn(St,2),Ju):a}var c_=vu(function(dt,St){return dt*St},1),h_=cp("round"),f_=vu(function(dt,St){return dt-St},0);function p_(dt){return dt&&dt.length?Ou(dt,qs):0}function d_(dt,St){return dt&&dt.length?Ou(dt,yn(St,2)):0}return Zt.after=P1,Zt.ary=uy,Zt.assign=SS,Zt.assignIn=_y,Zt.assignInWith=Ru,Zt.assignWith=wS,Zt.at=_S,Zt.before=cy,Zt.bind=wp,Zt.bindAll=Iw,Zt.bindKey=hy,Zt.castArray=G1,Zt.chain=ay,Zt.chunk=J0,Zt.compact=ex,Zt.concat=tx,Zt.cond=Rw,Zt.conforms=Mw,Zt.constant=Ap,Zt.countBy=h1,Zt.create=ES,Zt.curry=fy,Zt.curryRight=py,Zt.debounce=dy,Zt.defaults=TS,Zt.defaultsDeep=CS,Zt.defer=D1,Zt.delay=N1,Zt.difference=rx,Zt.differenceBy=nx,Zt.differenceWith=ix,Zt.drop=sx,Zt.dropRight=ax,Zt.dropRightWhile=ox,Zt.dropWhile=lx,Zt.fill=ux,Zt.filter=p1,Zt.flatMap=g1,Zt.flatMapDeep=y1,Zt.flatMapDepth=v1,Zt.flatten=ry,Zt.flattenDeep=hx,Zt.flattenDepth=fx,Zt.flip=O1,Zt.flow=Pw,Zt.flowRight=Dw,Zt.fromPairs=dx,Zt.functions=PS,Zt.functionsIn=DS,Zt.groupBy=x1,Zt.initial=gx,Zt.intersection=yx,Zt.intersectionBy=vx,Zt.intersectionWith=xx,Zt.invert=OS,Zt.invertBy=FS,Zt.invokeMap=S1,Zt.iteratee=Ip,Zt.keyBy=w1,Zt.keys=Cs,Zt.keysIn=Xs,Zt.map=Tu,Zt.mapKeys=BS,Zt.mapValues=zS,Zt.matches=Nw,Zt.matchesProperty=Ow,Zt.memoize=ku,Zt.merge=jS,Zt.mergeWith=Ey,Zt.method=Fw,Zt.methodOf=Vw,Zt.mixin=Rp,Zt.negate=$u,Zt.nthArg=zw,Zt.omit=US,Zt.omitBy=WS,Zt.once=F1,Zt.orderBy=_1,Zt.over=jw,Zt.overArgs=V1,Zt.overEvery=Uw,Zt.overSome=Ww,Zt.partial=_p,Zt.partialRight=my,Zt.partition=E1,Zt.pick=HS,Zt.pickBy=Ty,Zt.property=My,Zt.propertyOf=Hw,Zt.pull=_x,Zt.pullAll=iy,Zt.pullAllBy=Ex,Zt.pullAllWith=Tx,Zt.pullAt=Cx,Zt.range=Gw,Zt.rangeRight=Kw,Zt.rearg=B1,Zt.reject=k1,Zt.remove=kx,Zt.rest=z1,Zt.reverse=bp,Zt.sampleSize=A1,Zt.set=KS,Zt.setWith=YS,Zt.shuffle=I1,Zt.slice=$x,Zt.sortBy=L1,Zt.sortedUniq=Dx,Zt.sortedUniqBy=Nx,Zt.split=yw,Zt.spread=j1,Zt.tail=Ox,Zt.take=Fx,Zt.takeRight=Vx,Zt.takeRightWhile=Bx,Zt.takeWhile=zx,Zt.tap=r1,Zt.throttle=U1,Zt.thru=Eu,Zt.toArray=by,Zt.toPairs=Cy,Zt.toPairsIn=ky,Zt.toPath=Zw,Zt.toPlainObject=wy,Zt.transform=XS,Zt.unary=W1,Zt.union=jx,Zt.unionBy=Ux,Zt.unionWith=Wx,Zt.uniq=Hx,Zt.uniqBy=Gx,Zt.uniqWith=Kx,Zt.unset=qS,Zt.unzip=Sp,Zt.unzipWith=sy,Zt.update=QS,Zt.updateWith=ZS,Zt.values=Cl,Zt.valuesIn=JS,Zt.without=Yx,Zt.words=Iy,Zt.wrap=H1,Zt.xor=Xx,Zt.xorBy=qx,Zt.xorWith=Qx,Zt.zip=Zx,Zt.zipObject=Jx,Zt.zipObjectDeep=e1,Zt.zipWith=t1,Zt.entries=Cy,Zt.entriesIn=ky,Zt.extend=_y,Zt.extendWith=Ru,Rp(Zt,Zt),Zt.add=e_,Zt.attempt=Ry,Zt.camelCase=nw,Zt.capitalize=$y,Zt.ceil=t_,Zt.clamp=ew,Zt.clone=K1,Zt.cloneDeep=X1,Zt.cloneDeepWith=q1,Zt.cloneWith=Y1,Zt.conformsTo=Q1,Zt.deburr=Ay,Zt.defaultTo=Lw,Zt.divide=r_,Zt.endsWith=iw,Zt.eq=go,Zt.escape=sw,Zt.escapeRegExp=aw,Zt.every=f1,Zt.find=d1,Zt.findIndex=ey,Zt.findKey=kS,Zt.findLast=m1,Zt.findLastIndex=ty,Zt.findLastKey=$S,Zt.floor=n_,Zt.forEach=oy,Zt.forEachRight=ly,Zt.forIn=AS,Zt.forInRight=IS,Zt.forOwn=RS,Zt.forOwnRight=LS,Zt.get=Cp,Zt.gt=Z1,Zt.gte=J1,Zt.has=NS,Zt.hasIn=kp,Zt.head=ny,Zt.identity=qs,Zt.includes=b1,Zt.indexOf=mx,Zt.inRange=tw,Zt.invoke=VS,Zt.isArguments=Yo,Zt.isArray=Cn,Zt.isArrayBuffer=eS,Zt.isArrayLike=Ys,Zt.isArrayLikeObject=us,Zt.isBoolean=tS,Zt.isBuffer=Vo,Zt.isDate=rS,Zt.isElement=nS,Zt.isEmpty=iS,Zt.isEqual=sS,Zt.isEqualWith=aS,Zt.isError=Ep,Zt.isFinite=oS,Zt.isFunction=$o,Zt.isInteger=gy,Zt.isLength=Au,Zt.isMap=yy,Zt.isMatch=lS,Zt.isMatchWith=uS,Zt.isNaN=cS,Zt.isNative=hS,Zt.isNil=pS,Zt.isNull=fS,Zt.isNumber=vy,Zt.isObject=es,Zt.isObjectLike=rs,Zt.isPlainObject=Wl,Zt.isRegExp=Tp,Zt.isSafeInteger=dS,Zt.isSet=xy,Zt.isString=Iu,Zt.isSymbol=ba,Zt.isTypedArray=Tl,Zt.isUndefined=mS,Zt.isWeakMap=gS,Zt.isWeakSet=yS,Zt.join=bx,Zt.kebabCase=ow,Zt.last=oo,Zt.lastIndexOf=Sx,Zt.lowerCase=lw,Zt.lowerFirst=uw,Zt.lt=vS,Zt.lte=xS,Zt.max=i_,Zt.maxBy=s_,Zt.mean=a_,Zt.meanBy=o_,Zt.min=l_,Zt.minBy=u_,Zt.stubArray=Lp,Zt.stubFalse=Pp,Zt.stubObject=Yw,Zt.stubString=Xw,Zt.stubTrue=qw,Zt.multiply=c_,Zt.nth=wx,Zt.noConflict=Bw,Zt.noop=Mp,Zt.now=Cu,Zt.pad=cw,Zt.padEnd=hw,Zt.padStart=fw,Zt.parseInt=pw,Zt.random=rw,Zt.reduce=T1,Zt.reduceRight=C1,Zt.repeat=dw,Zt.replace=mw,Zt.result=GS,Zt.round=h_,Zt.runInContext=Sr,Zt.sample=$1,Zt.size=R1,Zt.snakeCase=gw,Zt.some=M1,Zt.sortedIndex=Ax,Zt.sortedIndexBy=Ix,Zt.sortedIndexOf=Rx,Zt.sortedLastIndex=Mx,Zt.sortedLastIndexBy=Lx,Zt.sortedLastIndexOf=Px,Zt.startCase=xw,Zt.startsWith=bw,Zt.subtract=f_,Zt.sum=p_,Zt.sumBy=d_,Zt.template=Sw,Zt.times=Qw,Zt.toFinite=Ao,Zt.toInteger=In,Zt.toLength=Sy,Zt.toLower=ww,Zt.toNumber=lo,Zt.toSafeInteger=bS,Zt.toString=jn,Zt.toUpper=_w,Zt.trim=Ew,Zt.trimEnd=Tw,Zt.trimStart=Cw,Zt.truncate=kw,Zt.unescape=$w,Zt.uniqueId=Jw,Zt.upperCase=Aw,Zt.upperFirst=$p,Zt.each=oy,Zt.eachRight=ly,Zt.first=ny,Rp(Zt,function(){var dt={};return xo(Zt,function(St,Rt){Wn.call(Zt.prototype,Rt)||(dt[Rt]=St)}),dt}(),{chain:!1}),Zt.VERSION=o,ro(["bind","bindKey","curry","curryRight","partial","partialRight"],function(dt){Zt[dt].placeholder=Zt}),ro(["drop","take"],function(dt,St){Nn.prototype[dt]=function(Rt){Rt=Rt===a?1:bs(In(Rt),0);var Ot=this.__filtered__&&!St?new Nn(this):this.clone();return Ot.__filtered__?Ot.__takeCount__=Ps(Rt,Ot.__takeCount__):Ot.__views__.push({size:Ps(Rt,Qt),type:dt+(Ot.__dir__<0?"Right":"")}),Ot},Nn.prototype[dt+"Right"]=function(Rt){return this.reverse()[dt](Rt).reverse()}}),ro(["filter","map","takeWhile"],function(dt,St){var Rt=St+1,Ot=Rt==Ct||Rt==Lt;Nn.prototype[dt]=function(Gt){var ir=this.clone();return ir.__iteratees__.push({iteratee:yn(Gt,3),type:Rt}),ir.__filtered__=ir.__filtered__||Ot,ir}}),ro(["head","last"],function(dt,St){var Rt="take"+(St?"Right":"");Nn.prototype[dt]=function(){return this[Rt](1).value()[0]}}),ro(["initial","tail"],function(dt,St){var Rt="drop"+(St?"":"Right");Nn.prototype[dt]=function(){return this.__filtered__?new Nn(this):this[Rt](1)}}),Nn.prototype.compact=function(){return this.filter(qs)},Nn.prototype.find=function(dt){return this.filter(dt).head()},Nn.prototype.findLast=function(dt){return this.reverse().find(dt)},Nn.prototype.invokeMap=Ln(function(dt,St){return typeof dt=="function"?new Nn(this):this.map(function(Rt){return Ol(Rt,dt,St)})}),Nn.prototype.reject=function(dt){return this.filter($u(yn(dt)))},Nn.prototype.slice=function(dt,St){dt=In(dt);var Rt=this;return Rt.__filtered__&&(dt>0||St<0)?new Nn(Rt):(dt<0?Rt=Rt.takeRight(-dt):dt&&(Rt=Rt.drop(dt)),St!==a&&(St=In(St),Rt=St<0?Rt.dropRight(-St):Rt.take(St-dt)),Rt)},Nn.prototype.takeRightWhile=function(dt){return this.reverse().takeWhile(dt).reverse()},Nn.prototype.toArray=function(){return this.take(Qt)},xo(Nn.prototype,function(dt,St){var Rt=/^(?:filter|find|map|reject)|While$/.test(St),Ot=/^(?:head|last)$/.test(St),Gt=Zt[Ot?"take"+(St=="last"?"Right":""):St],ir=Ot||/^find/.test(St);Gt&&(Zt.prototype[St]=function(){var hr=this.__wrapped__,pr=Ot?[1]:arguments,wr=hr instanceof Nn,Nr=pr[0],Or=wr||Cn(hr),jr=function(Pn){var On=Gt.apply(Zt,Mo([Pn],pr));return Ot&&Jr?On[0]:On};Or&&Rt&&typeof Nr=="function"&&Nr.length!=1&&(wr=Or=!1);var Jr=this.__chain__,on=!!this.__actions__.length,bn=ir&&!Jr,Rn=wr&&!on;if(!ir&&Or){hr=Rn?hr:new Nn(this);var Sn=dt.apply(hr,pr);return Sn.__actions__.push({func:Eu,args:[jr],thisArg:a}),new io(Sn,Jr)}return bn&&Rn?dt.apply(this,pr):(Sn=this.thru(jr),bn?Ot?Sn.value()[0]:Sn.value():Sn)})}),ro(["pop","push","shift","sort","splice","unshift"],function(dt){var St=Xl[dt],Rt=/^(?:push|sort|unshift)$/.test(dt)?"tap":"thru",Ot=/^(?:pop|shift)$/.test(dt);Zt.prototype[dt]=function(){var Gt=arguments;if(Ot&&!this.__chain__){var ir=this.value();return St.apply(Cn(ir)?ir:[],Gt)}return this[Rt](function(hr){return St.apply(Cn(hr)?hr:[],Gt)})}}),xo(Nn.prototype,function(dt,St){var Rt=Zt[St];if(Rt){var Ot=Rt.name+"";Wn.call(xl,Ot)||(xl[Ot]=[]),xl[Ot].push({name:St,func:Rt})}}),xl[yu(a,ft).name]=[{name:"wrapper",func:a}],Nn.prototype.clone=Ev,Nn.prototype.reverse=Tv,Nn.prototype.value=Cv,Zt.prototype.at=n1,Zt.prototype.chain=i1,Zt.prototype.commit=s1,Zt.prototype.next=a1,Zt.prototype.plant=l1,Zt.prototype.reverse=u1,Zt.prototype.toJSON=Zt.prototype.valueOf=Zt.prototype.value=c1,Zt.prototype.first=Zt.prototype.head,Il&&(Zt.prototype[Il]=o1),Zt},Zo=nv();Vn?((Vn.exports=Zo)._=Zo,gn._=Zo):en._=Zo}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports,moduleLoader={},xmlhttprequestTs_umd={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);(function(i,s){(function(a,o){o(s,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6)})(commonjsGlobal,function(a,o,rt,et,at,ot,nt,it){/**
 * @license xmlhttprequest-ts
 * MIT license
 */var j=function(){function _(){this.UNSENT=_.UNSENT,this.OPENED=_.OPENED,this.HEADERS_RECEIVED=_.HEADERS_RECEIVED,this.LOADING=_.LOADING,this.DONE=_.DONE,this.disableHeaderCheck=!1,this.readyState=_.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return _.prototype.open=function($,tt,st,lt,ht){if(st===void 0&&(st=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod($))throw new Error("SecurityError: Request method not allowed");this.settings={method:$,url:tt,async:typeof st!="boolean"?!0:st,user:lt,password:ht},this.setState(this.OPENED)},_.prototype.setDisableHeaderCheck=function($){this.disableHeaderCheck=$},_.prototype.setRequestHeader=function($,tt){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!this.isAllowedHttpHeader($)){console.warn('Refused to set unsafe header "'+$+'"');return}if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");$=this.headersLowerCase[$.toLowerCase()]||$,this.headersLowerCase[$.toLowerCase()]=$,this.headers[$]=this.headers[$]?this.headers[$]+", "+tt:tt},_.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var $="";if(this.response){for(var tt in this.response.headers)if(tt!=="set-cookie"&&tt!=="set-cookie2"){var st=this.response.headers[tt];typeof st=="string"?$+=tt+": "+st+`\r
`:Array.isArray(st)?$+=tt+": "+st.join(", ")+`\r
`:$+=tt+`:\r
`}}return $.substr(0,$.length-2)},_.prototype.getResponseHeader=function($){if(typeof $=="string"&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[$.toLowerCase()]&&!this.errorFlag){var tt=this.response.headers[$.toLowerCase()];if(typeof tt=="string")return tt;if(Array.isArray(tt))return tt.join(", ")}return null},_.prototype.getRequestHeader=function($){if(typeof $=="string"&&this.headersLowerCase[$.toLowerCase()])return this.headers[this.headersLowerCase[$.toLowerCase()]]},_.prototype.send=function($){var tt=this,st=this;if(this.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var lt=!1,ht=!1,ft=at.parse(this.settings.url),ct;switch(ft.protocol){case"https:":lt=!0;case"http:":ct=ft.hostname;break;case"file:":ht=!0;break;case void 0:case null:case"":ct="localhost";break;default:throw new Error("Protocol not supported.")}if(ht){if(this.settings.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)o.readFile(unescape(ft.pathname||"/"),"utf8",function(Dt,Vt){Dt?st.handleError(Dt):(st.status=200,st.responseText=Vt,st.setState(st.DONE))});else try{this.responseText=o.readFileSync(unescape(ft.pathname||"/"),"utf8"),this.status=200,this.setState(st.DONE)}catch(Dt){this.handleError(Dt)}return}var mt=ft.port||(lt?443:80),gt=ft.pathname+(ft.search?ft.search:"");for(var yt in this.defaultHeaders)this.headersLowerCase[yt.toLowerCase()]||(this.headers[yt]=this.defaultHeaders[yt]);if(ct&&(this.headers.Host=ct),ft.host&&ft.host[0]==="["&&(this.headers.Host="["+this.headers.Host+"]"),lt&&mt===443||mt===80||(this.headers.Host+=":"+ft.port),this.settings.user){typeof this.settings.password>"u"&&(this.settings.password="");var ut=Buffer.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+ut.toString("base64")}this.settings.method==="GET"||this.settings.method==="HEAD"?$=null:$?(this.headers["Content-Length"]=""+(Buffer.isBuffer($)?$.length:Buffer.byteLength($)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):this.settings.method==="POST"&&(this.headers["Content-Length"]="0");var wt={host:ct,port:mt,path:gt,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout(function(){tt.readyState!==tt.DONE&&st.handleTimeout(new Error("request timed out after "+tt.timeout+"ms"))},this.timeout));var bt=lt?et.request:rt.request;this.sendFlag=!0,st.dispatchEvent("readystatechange");var vt=function(Dt){st.handleError(Dt)},Et=0,$t=function(Dt){if(st.response=Dt,st.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(st.response.headers.location&&(st.response.statusCode===301||st.response.statusCode===302||st.response.statusCode===303||st.response.statusCode===307)){if(Et++,Et>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");st.settings.url=st.response.headers.location;var Vt=at.parse(st.settings.url);ct=Vt.hostname,ct&&(st.headers.Host=ct);var Ut={hostname:Vt.hostname,port:Vt.port,path:Vt.path,method:st.response.statusCode===303?"GET":st.settings.method,headers:st.headers,withCredentials:st.withCredentials};lt=ft.protocol==="https:",bt=lt?et.request:rt.request,st.request=bt(Ut,$t).on("error",vt),st.request.end();return}st.response.setEncoding("utf8"),st.setState(st.HEADERS_RECEIVED),st.status=st.response.statusCode||0,st.response.on("data",function(Qt){Qt&&(st.responseText+=Qt),st.sendFlag&&st.setState(st.LOADING)}),st.response.on("end",function(){st.sendFlag&&(st.setState(st.DONE),st.sendFlag=!1)}),st.response.on("error",function(Qt){st.handleError(Qt)})};st.request=bt(wt,$t).on("error",vt),$&&st.request.write($),st.request.end(),st.dispatchEvent("loadstart")}else{var Tt=new Date().getTime(),At=ot.tmpdir()+nt.sep+"ts-xmlhttprequest-content-"+process.pid,Ct=ot.tmpdir()+nt.sep+"ts-xmlhttprequest-sync-"+process.pid;o.writeFileSync(Ct,"","utf8");var It="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(lt?"s":"")+".request;let options = "+JSON.stringify(wt)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+At+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+Ct+"');});response.on('error', function(error) {fs.writeFileSync('"+At+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Ct+"');});}).on('error', function(error) {fs.writeFileSync('"+At+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Ct+"');});"+($?"req.write('"+JSON.stringify($).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";st.dispatchEvent("loadstart"),this.setState(st.LOADING);var Lt=it.spawn(process.argv[0],["-e",It]);for(Lt.on("exit",function(Dt,Vt){try{o.unlinkSync(Ct)}catch{}try{o.unlinkSync(At)}catch{}});o.existsSync(Ct);)if(this.timeout!==0&&new Date().getTime()>=Tt+this.timeout)return Lt.stdin.end(),Lt.kill(),st.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));Lt.stdin.end(),Lt.kill();var Ft=JSON.parse(o.readFileSync(At,"utf8"));o.unlinkSync(At),Ft.err?st.handleError(Ft.err):(st.response=Ft.data,st.status=Ft.data.statusCode,st.responseText=Ft.data.text,st.setState(st.DONE))}},_.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||this.sendFlag)&&this.readyState!==this.DONE&&(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},_.prototype.addEventListener=function($,tt){$ in this.listeners||(this.listeners[$]=[]),this.listeners[$].push(tt)},_.prototype.removeEventListener=function($,tt){$ in this.listeners&&(this.listeners[$]=this.listeners[$].filter(function(st){return st!==tt}))},_.prototype.dispatchEvent=function($,tt){var st="on"+$;if(typeof this[st]=="function"&&this[st](tt),$ in this.listeners)for(var lt=0,ht=this.listeners[$].length;lt<ht;lt++)this.listeners[$][lt].call(this,tt)},_.prototype.setState=function($){($===this.LOADING||this.readyState!==$)&&(this.readyState=$,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},_.prototype.handleTimeout=function($){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",$),this.setState(this.DONE)},_.prototype.handleError=function($){this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("error",$),this.setState(this.DONE)},_.prototype.isAllowedHttpHeader=function($){return(this.disableHeaderCheck||$&&this.forbiddenRequestHeaders.indexOf($.toLowerCase())===-1)===!0},_.prototype.isAllowedHttpMethod=function($){return($&&this.forbiddenRequestMethods.indexOf($)===-1)===!0},_.UNSENT=0,_.OPENED=1,_.HEADERS_RECEIVED=2,_.LOADING=3,_.DONE=4,_}();a.XMLHttpRequest=j,Object.defineProperty(a,"__esModule",{value:!0})})})(xmlhttprequestTs_umd,xmlhttprequestTs_umd.exports);var xmlhttprequestTs_umdExports=xmlhttprequestTs_umd.exports,moduleErrors={};Object.defineProperty(moduleErrors,"__esModule",{value:!0});moduleErrors.ModuleInternalError=moduleErrors.ModuleNotFoundError=moduleErrors.ModuleConnectionError=void 0;const runtimeSourceError_1=runtimeSourceError;class ModuleConnectionError extends runtimeSourceError_1.RuntimeSourceError{constructor(s){super(s)}explain(){return ModuleConnectionError.message}elaborate(){return ModuleConnectionError.elaboration}}moduleErrors.ModuleConnectionError=ModuleConnectionError;ModuleConnectionError.message="Unable to get modules.";ModuleConnectionError.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";class ModuleNotFoundError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,a){super(a),this.moduleName=s}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return`
      You should check your import declarations, and ensure that all are valid modules.
    `}}moduleErrors.ModuleNotFoundError=ModuleNotFoundError;class ModuleInternalError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,a){super(a),this.moduleName=s}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return`
      You may need to contact with the author for this module to fix this error.
    `}}moduleErrors.ModuleInternalError=ModuleInternalError;(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadModuleDocs=exports.memoizedloadModuleDocs=exports.loadModuleTabs=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;const lodash_1=lodashExports,xmlhttprequest_ts_1=xmlhttprequestTs_umdExports,moduleErrors_1=moduleErrors,newHttpRequest=()=>typeof window>"u"?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules";function setModulesStaticURL(i){exports.MODULES_STATIC_URL=i}exports.setModulesStaticURL=setModulesStaticURL;function httpGet(i){const s=(0,exports.newHttpRequest)();try{typeof window>"u"&&(s.timeout=1e4),s.open("GET",i,!1),s.send(null)}catch(a){if(!(a instanceof DOMException))throw a}if(s.status!==200&&s.status!==304)throw new moduleErrors_1.ModuleConnectionError;return s.responseText}exports.httpGet=httpGet,exports.memoizedGetModuleManifest=(0,lodash_1.memoize)(getModuleManifest);function getModuleManifest(){const i=httpGet(`${exports.MODULES_STATIC_URL}/modules.json`);return JSON.parse(i)}const memoizedGetModuleFileInternal=(0,lodash_1.memoize)(getModuleFile),memoizedGetModuleFile=(i,s)=>memoizedGetModuleFileInternal({name:i,type:s});exports.memoizedGetModuleFile=memoizedGetModuleFile;function getModuleFile({name:i,type:s}){return httpGet(`${exports.MODULES_STATIC_URL}/${s}s/${i}.js${s==="json"?"on":""}`)}function loadModuleBundle(path,context,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=(0,exports.memoizedGetModuleFile)(path,"bundle");try{const moduleBundle=eval(moduleText);return moduleBundle({context})}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}}exports.loadModuleBundle=loadModuleBundle;function loadModuleTabs(path,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map(path=>{const rawTabFile=(0,exports.memoizedGetModuleFile)(path,"tab");try{return eval(rawTabFile)}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}})}exports.loadModuleTabs=loadModuleTabs,exports.memoizedloadModuleDocs=(0,lodash_1.memoize)(loadModuleDocs);function loadModuleDocs(i,s){try{const a=(0,exports.memoizedGetModuleManifest)();if(!Object.keys(a).includes(i))throw new moduleErrors_1.ModuleNotFoundError(i,s);const rt=getModuleFile({name:i,type:"json"});return JSON.parse(rt)}catch{return console.warn("Failed to load module documentation"),null}}exports.loadModuleDocs=loadModuleDocs})(moduleLoader);var inspector={};Object.defineProperty(inspector,"__esModule",{value:!0});inspector.areBreakpointsSet=inspector.checkEditorBreakpoints=inspector.manualToggleDebugger=inspector.setBreakpointAtLine=inspector.saveState=void 0;const saveState=(i,s,a)=>{i.debugger.state.it=s,i.debugger.state.scheduler=a};inspector.saveState=saveState;const setBreakpointAtLine=i=>{breakpoints=i};inspector.setBreakpointAtLine=setBreakpointAtLine;const manualToggleDebugger=i=>(i.runtime.break=!0,{status:"suspended",scheduler:i.debugger.state.scheduler,it:i.debugger.state.it,context:i});inspector.manualToggleDebugger=manualToggleDebugger;let breakpoints=[],moved=!0,prevStoppedLine=-1;const checkEditorBreakpoints=(i,s)=>{if(s.loc){const a=s.loc.start.line-1;!moved&&a!==prevStoppedLine&&(moved=!0),i.runtime.debuggerOn&&breakpoints[a]!==void 0&&moved&&(moved=!1,prevStoppedLine=a,i.runtime.break=!0)}};inspector.checkEditorBreakpoints=checkEditorBreakpoints;const areBreakpointsSet=()=>breakpoints.length>0;inspector.areBreakpointsSet=areBreakpointsSet;var operators={},timeoutErrors={},formatters={};Object.defineProperty(formatters,"__esModule",{value:!0});formatters.simplify=formatters.stripIndent=formatters.oneLine=void 0;function templateToString(i,s){return typeof i=="string"?i:s.reduce((a,o,rt)=>a+o+i[rt+1],i[0])}function oneLine(i,...s){return templateToString(i,s).replace(/(?:\n(?:\s*))+/g," ").trim()}formatters.oneLine=oneLine;function stripIndent(i,...s){const a=templateToString(i,s),o=a.match(/^[^\S\n]*(?=\S)/gm),rt=o&&Math.min(...o.map(et=>et.length));return rt?a.replace(new RegExp(`^.{${rt}}`,"gm"),"").trim():a.trim()}formatters.stripIndent=stripIndent;function simplify(i,s=15,a="..."){if(i.length<s)return i;const o=Math.ceil(s-a.length/2);return i.slice(0,o)+" ... "+i.slice(o)}formatters.simplify=simplify;var hasRequiredTimeoutErrors;function requireTimeoutErrors(){if(hasRequiredTimeoutErrors)return timeoutErrors;hasRequiredTimeoutErrors=1,Object.defineProperty(timeoutErrors,"__esModule",{value:!0}),timeoutErrors.PotentialInfiniteRecursionError=timeoutErrors.PotentialInfiniteLoopError=timeoutErrors.TimeoutError=void 0;const i=constants,s=types,a=formatters,o=requireStringify(),rt=runtimeSourceError;function et(it){const j=it/1e3,_=j*i.JSSLANG_PROPERTIES.factorToIncreaseBy;return(0,a.stripIndent)`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${j} to ${_} seconds.
      This page may be unresponsive for up to ${_} seconds if you do so.`}class at extends rt.RuntimeSourceError{}timeoutErrors.TimeoutError=at;class ot extends at{constructor(j,_){super(j),this.maxExecTime=_,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return(0,a.stripIndent)`${"Potential infinite loop detected"}.
    ${et(this.maxExecTime)}`}elaborate(){return this.explain()}}timeoutErrors.PotentialInfiniteLoopError=ot;class nt extends at{constructor(j,_,$){super(j),this.calls=_,this.maxExecTime=$,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const j=this.calls.map(([_,$])=>`${_}(${$.map(tt=>(0,o.stringify)(tt)).join(", ")})`);return(0,a.stripIndent)`${"Potential infinite recursion detected"}: ${j.join(" ... ")}.
      ${et(this.maxExecTime)}`}elaborate(){return this.explain()}}return timeoutErrors.PotentialInfiniteRecursionError=nt,timeoutErrors}var makeWrapper$1={};Object.defineProperty(makeWrapper$1,"__esModule",{value:!0});makeWrapper$1.makeWrapper=void 0;function makeWrapper(i,s){for(const a in i)i.hasOwnProperty(a)&&Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a));for(const a of["length","name"])i.hasOwnProperty(a)&&Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))}makeWrapper$1.makeWrapper=makeWrapper;var hasRequiredOperators;function requireOperators(){return hasRequiredOperators||(hasRequiredOperators=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.getProp=i.setProp=i.wrap=i.callIteratively=i.evaluateBinaryExpression=i.binaryOp=i.evaluateUnaryExpression=i.unaryOp=i.boolOrErr=i.callIfFuncAndRightArgs=i.makeLazyFunction=i.wrapLazyCallee=i.delayIt=i.forceIt=i.throwIfTimeout=void 0;const s=requireCreateContext(),a=requireErrors(),o=runtimeSourceError,rt=requireTimeoutErrors(),et=astCreator,at=astCreator,ot=makeWrapper$1,nt=rttc;function it(bt,vt,Et,$t,Tt){if(Et-vt>bt.maxExecTime)throw new rt.PotentialInfiniteLoopError(at.locationDummyNode($t,Tt),bt.maxExecTime)}i.throwIfTimeout=it;function j(bt){if(bt!=null&&bt.isMemoized!==void 0){if(bt.isMemoized)return bt.memoizedValue;const vt=j(bt.f());return bt.isMemoized=!0,bt.memoizedValue=vt,vt}else return bt}i.forceIt=j;function _(bt){return{isMemoized:!1,value:void 0,f:bt}}i.delayIt=_;function $(bt){if(bt=j(bt),typeof bt=="function"){const vt=(...Et)=>bt(...Et.map(j));return(0,ot.makeWrapper)(bt,vt),vt[Symbol.toStringTag]=()=>bt.toString(),vt.toString=()=>bt.toString(),vt}else if(bt instanceof s.LazyBuiltIn)if(bt.evaluateArgs){const vt=(...Et)=>bt.func(...Et.map(j));return(0,ot.makeWrapper)(bt.func,vt),vt[Symbol.toStringTag]=()=>bt.toString(),vt.toString=()=>bt.toString(),vt}else return bt;return bt}i.wrapLazyCallee=$;function tt(bt){return new s.LazyBuiltIn(bt,!1)}i.makeLazyFunction=tt;function st(bt,vt,Et,...$t){const Tt=at.callExpression(at.locationDummyNode(vt,Et),$t,{start:{line:vt,column:Et},end:{line:vt,column:Et}});if(typeof bt=="function"){const At=bt;bt.transformedFunction!==void 0&&(bt=bt.transformedFunction);const Ct=bt.length,It=$t.length,Lt=bt.minArgsNeeded!==void 0;if(Lt?bt.minArgsNeeded>It:Ct!==It)throw new a.InvalidNumberOfArguments(Tt,Lt?bt.minArgsNeeded:Ct,It,Lt);try{const Ft=$t.map(j);return At(...Ft)}catch(Ft){throw Ft instanceof o.RuntimeSourceError||Ft instanceof a.ExceptionError?Ft:new a.ExceptionError(Ft,Tt.loc)}}else if(bt instanceof s.LazyBuiltIn)try{return bt.evaluateArgs&&($t=$t.map(j)),bt.func(...$t)}catch(At){throw At instanceof o.RuntimeSourceError||At instanceof a.ExceptionError?At:new a.ExceptionError(At,Tt.loc)}else throw new a.CallingNonFunctionValue(bt,Tt)}i.callIfFuncAndRightArgs=st;function lt(bt,vt,Et){bt=j(bt);const $t=nt.checkIfStatement(at.locationDummyNode(vt,Et),bt);if($t===void 0)return bt;throw $t}i.boolOrErr=lt;function ht(bt,vt,Et,$t){vt=j(vt);const Tt=nt.checkUnaryExpression(at.locationDummyNode(Et,$t),bt,vt);if(Tt===void 0)return ft(bt,vt);throw Tt}i.unaryOp=ht;function ft(bt,vt){return bt==="!"?!vt:bt==="-"?-vt:+vt}i.evaluateUnaryExpression=ft;function ct(bt,vt,Et,$t,Tt,At){Et=j(Et),$t=j($t);const Ct=nt.checkBinaryExpression(at.locationDummyNode(Tt,At),bt,vt,Et,$t);if(Ct===void 0)return mt(bt,Et,$t);throw Ct}i.binaryOp=ct;function mt(bt,vt,Et){switch(bt){case"+":return vt+Et;case"-":return vt-Et;case"*":return vt*Et;case"/":return vt/Et;case"%":return vt%Et;case"===":return vt===Et;case"!==":return vt!==Et;case"<=":return vt<=Et;case"<":return vt<Et;case">":return vt>Et;case">=":return vt>=Et;default:return}}i.evaluateBinaryExpression=mt;const gt=(bt,vt,...Et)=>{let $t=-1,Tt=-1;const At=Date.now(),Ct=[];for(;;){const It=(0,et.locationDummyNode)($t,Tt);if(bt=j(bt),typeof bt=="function"){bt.transformedFunction!==void 0&&(bt=bt.transformedFunction);const Ft=bt.length,Dt=Et.length,Vt=bt.minArgsNeeded!==void 0;if(Vt?bt.minArgsNeeded>Dt:Ft!==Dt)throw new a.InvalidNumberOfArguments((0,et.callExpression)(It,Et,{start:{line:$t,column:Tt},end:{line:$t,column:Tt}}),Vt?bt.minArgsNeeded:Ft,Dt,Vt)}else if(bt instanceof s.LazyBuiltIn)bt.evaluateArgs&&(Et=Et.map(j)),bt=bt.func;else throw new a.CallingNonFunctionValue(bt,It);let Lt;try{if(Lt=bt(...Et),Date.now()-At>vt.maxExecTime)throw new rt.PotentialInfiniteRecursionError(It,Ct,vt.maxExecTime)}catch(Ft){throw Ft instanceof o.RuntimeSourceError||Ft instanceof a.ExceptionError?Ft:new a.ExceptionError(Ft,It.loc)}if(Lt==null)return Lt;if(Lt.isTail===!0)bt=Lt.function,Et=Lt.arguments,$t=Lt.line,Tt=Lt.column,Ct.push([Lt.functionName,Et]);else return Lt.isTail===!1?Lt.value:Lt}};i.callIteratively=gt;const yt=(bt,vt,Et,$t)=>{Et&&(bt.minArgsNeeded=bt.length);const Tt=(...At)=>(0,i.callIteratively)(bt,$t,...At);return(0,ot.makeWrapper)(bt,Tt),Tt.transformedFunction=bt,Tt[Symbol.toStringTag]=()=>vt,Tt.toString=()=>vt,Tt};i.wrap=yt;const ut=(bt,vt,Et,$t,Tt)=>{const At=(0,et.locationDummyNode)($t,Tt),Ct=nt.checkMemberAccess(At,bt,vt);if(Ct===void 0)return bt[vt]=Et;throw Ct};i.setProp=ut;const wt=(bt,vt,Et,$t)=>{const Tt=(0,et.locationDummyNode)(Et,$t),At=nt.checkMemberAccess(Tt,bt,vt);if(At===void 0){if(bt[vt]!==void 0&&!bt.hasOwnProperty(vt))throw new a.GetInheritedPropertyError(Tt,bt,vt);return bt[vt]}else throw At};i.getProp=wt}(operators)),operators}var hasRequiredInterpreter;function requireInterpreter(){return hasRequiredInterpreter||(hasRequiredInterpreter=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.apply=i.evaluate=i.evaluators=i.pushEnvironment=i.createBlockEnvironment=i.actualValue=void 0;const s=lodashExports,a=constants,o=requireCreateContext(),rt=requireErrors(),et=runtimeSourceError,at=moduleLoader,ot=inspector,nt=types,it=astCreator,j=requireOperators(),_=rttc,$=requireClosure();class tt{}class st{}class lt{constructor(ar){this.value=ar}}class ht{constructor(ar,rr,Cr){this.callee=ar,this.args=rr,this.node=Cr}}class ft{constructor(ar,rr){this.exp=ar,this.env=rr,this.isMemoized=!1,this.value=null}}const ct=(sr,ar)=>new ft(sr,ar);function*mt(sr,ar){if(sr instanceof ft){if(sr.isMemoized)return sr.value;(0,i.pushEnvironment)(ar,sr.env);const rr=yield*gt(sr.exp,ar);return Dt(ar),sr.value=rr,sr.isMemoized=!0,rr}else return sr}function*gt(sr,ar){const rr=yield*br(sr,ar);return yield*mt(rr,ar)}i.actualValue=gt;const yt=(sr,ar,rr)=>{const Cr={name:sr.functionName,tail:sr.environment,head:{},id:(0,s.uniqueId)()};return rr&&(Cr.callExpression=Object.assign(Object.assign({},rr),{arguments:ar.map(it.primitive)})),sr.node.params.forEach((kr,vr)=>{kr.type==="RestElement"?Cr.head[kr.argument.name]=ar.slice(vr):Cr.head[kr.name]=ar[vr]}),Cr},ut=(sr,ar="blockEnvironment",rr={})=>({name:ar,tail:Lt(sr),head:rr,id:(0,s.uniqueId)()});i.createBlockEnvironment=ut;const wt=(sr,ar)=>{throw sr.errors.push(ar),sr.runtime.environments=sr.runtime.environments.slice(-sr.numberOfOuterEnvironments),ar},bt=Symbol("Used to implement hoisting");function vt(sr,ar,rr){const Cr=Lt(sr);if(Cr.head.hasOwnProperty(ar)){const kr=Object.getOwnPropertyDescriptors(Cr.head);return wt(sr,new rt.VariableRedeclaration(rr,ar,kr[ar].writable))}return Cr.head[ar]=bt,Cr}function Et(sr,ar){for(const rr of ar.declarations)vt(sr,rr.id.name,ar)}function $t(sr,ar){for(const rr of ar.specifiers)vt(sr,rr.local.name,ar)}function Tt(sr,ar){for(const rr of ar.body)switch(rr.type){case"VariableDeclaration":Et(sr,rr);break;case"FunctionDeclaration":vt(sr,rr.id.name,rr);break}}function At(sr,ar,rr,Cr=!1){const kr=Lt(sr);return kr.head[ar]!==bt?wt(sr,new rt.VariableRedeclaration(sr.runtime.nodes[0],ar,!Cr)):(Object.defineProperty(kr.head,ar,{value:rr,writable:!Cr,enumerable:!0}),kr)}function*Ct(sr,ar){(0,ot.checkEditorBreakpoints)(sr,ar),sr.runtime.nodes.unshift(ar),yield sr}function*It(sr){sr.runtime.break=!1,sr.runtime.nodes.shift(),yield sr}const Lt=sr=>sr.runtime.environments[0],Ft=(sr,ar)=>{sr.runtime.environments[0]=ar,sr.runtime.environmentTree.insert(ar)},Dt=sr=>sr.runtime.environments.shift(),Vt=(sr,ar)=>{sr.runtime.environments.unshift(ar),sr.runtime.environmentTree.insert(ar)};i.pushEnvironment=Vt;const Ut=(sr,ar)=>{let rr=Lt(sr);for(;rr;){if(rr.head.hasOwnProperty(ar))return rr.head[ar]===bt?wt(sr,new rt.UnassignedVariable(ar,sr.runtime.nodes[0])):rr.head[ar];rr=rr.tail}return wt(sr,new rt.UndefinedVariable(ar,sr.runtime.nodes[0]))},Qt=(sr,ar,rr)=>{let Cr=Lt(sr);for(;Cr;)if(Cr.head.hasOwnProperty(ar)){if(Cr.head[ar]===bt)break;if(Object.getOwnPropertyDescriptors(Cr.head)[ar].writable){Cr.head[ar]=rr;return}return wt(sr,new rt.ConstAssignment(sr.runtime.nodes[0],ar))}else Cr=Cr.tail;return wt(sr,new rt.UndefinedVariable(ar,sr.runtime.nodes[0]))},Kt=(sr,ar,rr,Cr)=>{var kr;if(ar instanceof $.default){const vr=ar.node.params,Gr=((kr=vr[vr.length-1])===null||kr===void 0?void 0:kr.type)==="RestElement";if(Gr?vr.length-1>rr.length:vr.length!==rr.length)return wt(sr,new rt.InvalidNumberOfArguments(Cr,Gr?vr.length-1:vr.length,rr.length,Gr))}else{const vr=ar.minArgsNeeded!=null;if(vr?ar.minArgsNeeded>rr.length:ar.length!==rr.length)return wt(sr,new rt.InvalidNumberOfArguments(Cr,vr?ar.minArgsNeeded:ar.length,rr.length,vr))}};function*Ht(sr,ar){const rr=[];for(const Cr of ar.arguments)sr.variant===nt.Variant.LAZY?rr.push(ct(Cr,Lt(sr))):Cr.type==="SpreadElement"?rr.push(...yield*gt(Cr.argument,sr)):rr.push(yield*gt(Cr,sr));return rr}function qt(sr){return sr.operator==="&&"?(0,it.conditionalExpression)(sr.left,sr.right,(0,it.literal)(!1),sr.loc):(0,it.conditionalExpression)(sr.left,(0,it.literal)(!0),sr.right,sr.loc)}function*nr(sr,ar){const rr=yield*gt(sr.test,ar),Cr=_.checkIfStatement(sr,rr,ar.chapter);return Cr?wt(ar,Cr):rr?sr.consequent:sr.alternate}function*tr(sr,ar){Tt(sr,ar);let rr;for(const Cr of ar.body)if(rr=yield*br(Cr,sr),rr instanceof lt||rr instanceof ht||rr instanceof tt||rr instanceof st)break;return rr}i.evaluators={Literal:function*(sr,ar){return sr.value},TemplateLiteral:function*(sr){return sr.quasis[0].value.cooked},ThisExpression:function*(sr,ar){return Lt(ar).thisContext},ArrayExpression:function*(sr,ar){const rr=[];for(const Cr of sr.elements)rr.push(yield*br(Cr,ar));return rr},DebuggerStatement:function*(sr,ar){ar.runtime.break=!0,yield},FunctionExpression:function*(sr,ar){return new $.default(sr,Lt(ar),ar)},ArrowFunctionExpression:function*(sr,ar){return $.default.makeFromArrowFunction(sr,Lt(ar),ar)},Identifier:function*(sr,ar){return Ut(ar,sr.name)},CallExpression:function*(sr,ar){const rr=yield*gt(sr.callee,ar),Cr=yield*Ht(ar,sr);let kr;return sr.callee.type==="MemberExpression"&&(kr=yield*gt(sr.callee.object,ar)),yield*xr(ar,rr,Cr,sr,kr)},NewExpression:function*(sr,ar){const rr=yield*br(sr.callee,ar),Cr=[];for(const vr of sr.arguments)Cr.push(yield*br(vr,ar));const kr={};return rr instanceof $.default?(kr.__proto__=rr.fun.prototype,rr.fun.apply(kr,Cr)):(kr.__proto__=rr.prototype,rr.apply(kr,Cr)),kr},UnaryExpression:function*(sr,ar){const rr=yield*gt(sr.argument,ar),Cr=_.checkUnaryExpression(sr,sr.operator,rr,ar.chapter);return Cr?wt(ar,Cr):(0,j.evaluateUnaryExpression)(sr.operator,rr)},BinaryExpression:function*(sr,ar){const rr=yield*gt(sr.left,ar),Cr=yield*gt(sr.right,ar),kr=_.checkBinaryExpression(sr,sr.operator,ar.chapter,rr,Cr);return kr?wt(ar,kr):(0,j.evaluateBinaryExpression)(sr.operator,rr,Cr)},ConditionalExpression:function*(sr,ar){return yield*this.IfStatement(sr,ar)},LogicalExpression:function*(sr,ar){return yield*this.ConditionalExpression(qt(sr),ar)},VariableDeclaration:function*(sr,ar){const rr=sr.declarations[0],Cr=sr.kind==="const",kr=rr.id,vr=yield*br(rr.init,ar);At(ar,kr.name,vr,Cr)},ContinueStatement:function*(sr,ar){return new st},BreakStatement:function*(sr,ar){return new tt},ForStatement:function*(sr,ar){const rr=(0,i.createBlockEnvironment)(ar,"forLoopEnvironment");(0,i.pushEnvironment)(ar,rr);const Cr=sr.init,kr=sr.test,vr=sr.update;Cr.type==="VariableDeclaration"&&Et(ar,Cr),yield*gt(Cr,ar);let Gr;for(;yield*gt(kr,ar);){const an=(0,i.createBlockEnvironment)(ar,"forBlockEnvironment");(0,i.pushEnvironment)(ar,an);for(const hn in rr.head)rr.head.hasOwnProperty(hn)&&(vt(ar,hn,sr),At(ar,hn,rr.head[hn],!0));if(Gr=yield*gt(sr.body,ar),Dt(ar),Gr instanceof st&&(Gr=void 0),Gr instanceof tt){Gr=void 0;break}if(Gr instanceof lt||Gr instanceof ht)break;yield*gt(vr,ar)}return Dt(ar),Gr},MemberExpression:function*(sr,ar){let rr=yield*gt(sr.object,ar);rr instanceof $.default&&(rr=rr.fun);let Cr;sr.computed?Cr=yield*gt(sr.property,ar):Cr=sr.property.name;const kr=_.checkMemberAccess(sr,rr,Cr);if(kr)return wt(ar,kr);if(rr!=null&&typeof rr[Cr]<"u"&&!rr.hasOwnProperty(Cr))return wt(ar,new rt.GetInheritedPropertyError(sr,rr,Cr));try{return rr[Cr]}catch{return wt(ar,new rt.GetPropertyError(sr,rr,Cr))}},AssignmentExpression:function*(sr,ar){if(sr.left.type==="MemberExpression"){const kr=sr.left,vr=yield*gt(kr.object,ar);let Gr;kr.computed?Gr=yield*gt(kr.property,ar):Gr=kr.property.name;const an=_.checkMemberAccess(sr,vr,Gr);if(an)return wt(ar,an);const hn=yield*br(sr.right,ar);try{vr[Gr]=hn}catch{return wt(ar,new rt.SetPropertyError(sr,vr,Gr))}return hn}const rr=sr.left,Cr=yield*br(sr.right,ar);return Qt(ar,rr.name,Cr),Cr},FunctionDeclaration:function*(sr,ar){const rr=sr.id,Cr=new $.default(sr,Lt(ar),ar);At(ar,rr.name,Cr,!0)},IfStatement:function*(sr,ar){const rr=yield*nr(sr,ar);if(rr!==null)return yield*br(rr,ar)},ExpressionStatement:function*(sr,ar){return yield*br(sr.expression,ar)},ReturnStatement:function*(sr,ar){let rr=sr.argument;for(;rr.type==="LogicalExpression"||rr.type==="ConditionalExpression";)rr.type==="LogicalExpression"&&(rr=qt(rr)),rr=yield*nr(rr,ar);if(rr.type==="CallExpression"&&ar.variant!==nt.Variant.LAZY){const Cr=yield*gt(rr.callee,ar),kr=yield*Ht(ar,rr);return new ht(Cr,kr,rr)}else return new lt(yield*br(rr,ar))},WhileStatement:function*(sr,ar){let rr;for(;(yield*gt(sr.test,ar))&&!(rr instanceof lt)&&!(rr instanceof tt)&&!(rr instanceof ht);)rr=yield*gt(sr.body,ar);if(!(rr instanceof tt))return rr},ObjectExpression:function*(sr,ar){const rr={};for(const Cr of sr.properties){const kr=Cr;let vr;kr.key.type==="Identifier"?vr=kr.key.name:vr=yield*br(kr.key,ar),rr[vr]=yield*br(kr.value,ar)}return rr},BlockStatement:function*(sr,ar){const rr=(0,i.createBlockEnvironment)(ar,"blockEnvironment");(0,i.pushEnvironment)(ar,rr);const Cr=yield*tr(ar,sr);return Dt(ar),Cr},ImportDeclaration:function*(sr,ar){try{const rr=sr.source.value,Cr=sr.specifiers.map(vr=>{if(vr.type!=="ImportSpecifier")throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${vr.type}.`);return{imported:vr.imported.name,local:vr.local.name}});rr in ar.moduleContexts||(ar.moduleContexts[rr]={state:null,tabs:(0,at.loadModuleTabs)(rr,sr)});const kr=(0,at.loadModuleBundle)(rr,ar,sr);$t(ar,sr);for(const vr of Cr)At(ar,vr.local,kr[vr.imported],!0);return}catch(rr){return wt(ar,rr)}},Program:function*(sr,ar){ar.numberOfOuterEnvironments+=1;const rr=(0,i.createBlockEnvironment)(ar,"programEnvironment");return(0,i.pushEnvironment)(ar,rr),yield*mt(yield*tr(ar,sr),ar)}};function mr(sr){return(0,s.isEmpty)(sr.head)}function yr(sr){if(mr(sr)){const ar=sr.tail;return ar===null?sr:yr(ar)}else return sr}function*br(sr,ar){yield*Ct(ar,sr);const rr=yield*i.evaluators[sr.type](sr,ar);return yield*It(ar),rr instanceof $.default&&Object.defineProperty(yr(Lt(ar)).head,(0,s.uniqueId)(),{value:rr,writable:!1,enumerable:!0}),rr}i.evaluate=br;function*xr(sr,ar,rr,Cr,kr){let vr,Gr=0;for(;!(vr instanceof lt);)if(ar instanceof $.default){Kt(sr,ar,rr,Cr);const an=yt(ar,rr,Cr);vr instanceof ht?Ft(sr,an):((0,i.pushEnvironment)(sr,an),Gr++);const hn=(0,i.createBlockEnvironment)(sr,"functionBodyEnvironment");hn.thisContext=kr,(0,i.pushEnvironment)(sr,hn),vr=yield*tr(sr,ar.node.body),Dt(sr),vr instanceof ht?(ar=vr.callee,Cr=vr.node,rr=vr.args):vr instanceof lt||(vr=new lt(void 0))}else if(ar instanceof o.LazyBuiltIn)try{let an=rr;if(ar.evaluateArgs){an=[];for(const hn of rr)an.push(yield*mt(hn,sr))}vr=ar.func.apply(kr,an);break}catch(an){sr.runtime.environments=sr.runtime.environments.slice(-sr.numberOfOuterEnvironments);const hn=Cr?Cr.loc:a.UNKNOWN_LOCATION;if(!(an instanceof et.RuntimeSourceError||an instanceof rt.ExceptionError))return wt(sr,new rt.ExceptionError(an,hn));throw vr=void 0,an}else if(typeof ar=="function"){Kt(sr,ar,rr,Cr);try{const an=[];for(const hn of rr)an.push(yield*mt(hn,sr));vr=ar.apply(kr,an);break}catch(an){sr.runtime.environments=sr.runtime.environments.slice(-sr.numberOfOuterEnvironments);const hn=Cr?Cr.loc:a.UNKNOWN_LOCATION;if(!(an instanceof et.RuntimeSourceError||an instanceof rt.ExceptionError))return wt(sr,new rt.ExceptionError(an,hn));throw vr=void 0,an}}else return wt(sr,new rt.CallingNonFunctionValue(ar,Cr));vr instanceof lt&&(vr=vr.value);for(let an=1;an<=Gr;an++)Dt(sr);return vr}i.apply=xr}(interpreter)),interpreter}var hasRequiredClosure;function requireClosure(){if(hasRequiredClosure)return closure;hasRequiredClosure=1,Object.defineProperty(closure,"__esModule",{value:!0});const i=astring,s=astCreator,a=requireInterpreter(),o=(at,ot,nt)=>{function it(){const j=Array.prototype.slice.call(arguments),_=(0,a.apply)(ot,at,j,(0,s.callExpression)((0,s.identifier)(nt),j),this);let $=_.next();for(;!$.done;)$=_.next();return $.value}return Object.defineProperty(it,"name",{value:nt}),Object.setPrototypeOf(it,()=>{}),Object.defineProperty(it,"Inherits",{value:j=>{it.prototype=Object.create(j.prototype),it.prototype.constructor=it}}),it.toString=()=>(0,i.generate)(at.originalNode),it.call=(j,..._)=>it.apply(j,_),it};class rt extends Function{constructor(ot){return super(),Object.setPrototypeOf(ot,new.target.prototype)}}class et extends rt{constructor(ot,nt,it){super(function(..._){return j.apply(this,_)}),this.node=ot,this.environment=nt,this.originalNode=ot,this.node.type==="FunctionDeclaration"&&this.node.id!==null?this.functionName=this.node.id.name:this.functionName=(this.node.params.length===1?"":"(")+this.node.params.map(_=>_.name).join(", ")+(this.node.params.length===1?"":")")+" => ...";const j=o(this,it,this.functionName);this.fun=j}static makeFromArrowFunction(ot,nt,it){function j(tt){return tt.type!=="BlockStatement"}const _=j(ot.body)?[(0,s.returnStatement)(ot.body,ot.body.loc)]:ot.body,$=new et((0,s.blockArrowFunction)(ot.params,_,ot.loc),nt,it);return $.originalNode=ot,$}toString(){return(0,i.generate)(this.originalNode)}}return closure.default=et,closure}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1,Object.defineProperty(stringify$1,"__esModule",{value:!0}),stringify$1.lineTreeToString=stringify$1.stringDagToSingleLine=stringify$1.stringDagToLineTree=stringify$1.valueToStringDag=stringify$1.typeToString=stringify$1.stringify=void 0;const i=constants,s=requireClosure(),a=requireOperators();function o(_){return typeof _.replPrefix=="string"&&typeof _.replSuffix=="string"&&typeof _.replArrayContents=="function"}const rt=(_,$=2,tt=80)=>{if(_=(0,a.forceIt)(_),typeof $=="string")throw"stringify with arbitrary indent string not supported";let st=$;return $>10&&(st=10),j(nt(ot(_),st,tt))};stringify$1.stringify=rt;function et(_){return at(_)}stringify$1.typeToString=et;function at(_,$={_next:0}){function tt(st){return at(st,$)}switch(_.kind){case"primitive":return _.name;case"variable":return _.constraint&&_.constraint!=="none"?_.constraint:(_.name in $||($[_.name]="T"+$._next++),$[_.name]);case"list":return`List<${tt(_.elementType)}>`;case"array":return`Array<${tt(_.elementType)}>`;case"pair":const st=tt(_.headType);return _.tailType.kind==="list"&&st===tt(_.tailType.elementType)?`List<${st}>`:`[${tt(_.headType)}, ${tt(_.tailType)}]`;case"function":let lt=_.parameterTypes.map(tt).join(", ");return(_.parameterTypes.length!==1||_.parameterTypes[0].kind==="function")&&(lt=`(${lt})`),`${lt} -> ${tt(_.returnType)}`;default:return"Unable to infer type"}}function ot(_){const $=new Map,tt=new Map;function st(mt){const gt=tt.get(mt);if(gt!==void 0)return[gt,!1];$.set(mt,$.size);const yt=mt,[ut,wt]=ct(yt[0]),[bt,vt]=ct(yt[1]),Et=wt||vt;$.delete(mt);const $t={type:"pair",head:ut,tail:bt,length:ut.length+bt.length+4};return Et||tt.set(mt,$t),[$t,Et]}function lt(mt,gt,yt,ut){const wt=tt.get(mt);if(wt!==void 0)return[wt,!1];$.set(mt,$.size);const bt=gt.map(ct);let vt=yt.length+ut.length+Math.max(0,bt.length-1)*2,Et=!1;for(let Tt=0;Tt<bt.length;Tt++)bt[Tt]==null&&(bt[Tt]=ct(void 0)),vt+=bt[Tt][0].length,Et||(Et=bt[Tt][1]);$.delete(mt);const $t={type:"arraylike",elems:bt.map(Tt=>Tt[0]),prefix:yt,suffix:ut,length:vt};return Et||tt.set(mt,$t),[$t,Et]}function ht(mt){const gt=tt.get(mt);if(gt!==void 0)return[gt,!1];$.set(mt,$.size);const yt=Object.entries(mt),ut=yt.map($t=>ct($t[1]));let wt=2+Math.max(0,yt.length-1)*2+yt.length*2,bt=!1;const vt=[];for(let $t=0;$t<ut.length;$t++)wt+=yt[$t][0].length,wt+=ut[$t].length,bt||(bt=ut[$t][1]),vt.push({type:"kvpair",key:yt[$t][0],value:ut[$t][0],length:ut[$t][0].length+yt[$t][0].length});$.delete(mt);const Et={type:"arraylike",elems:vt,prefix:"{",suffix:"}",length:wt};return bt||tt.set(mt,Et),[Et,bt]}function ft(mt){const gt=mt.split(`
`);return gt.length===1?[{type:"terminal",str:gt[0],length:gt[0].length},!1]:[{type:"multiline",lines:gt,length:1/0},!1]}function ct(mt){if(mt===null)return[{type:"terminal",str:"null",length:4},!1];if(mt===void 0)return[{type:"terminal",str:"undefined",length:9},!1];if($.has(mt))return[{type:"terminal",str:"...<circular>",length:13},!0];if(mt instanceof s.default)return ft(mt.toString());if(typeof mt=="string"){const gt=JSON.stringify(mt);return[{type:"terminal",str:gt,length:gt.length},!1]}else return typeof mt!="object"?ft(mt.toString()):$.size>i.MAX_LIST_DISPLAY_LENGTH?[{type:"terminal",str:"...<truncated>",length:14},!1]:typeof mt.toReplString=="function"?ft(mt.toReplString()):Array.isArray(mt)?mt.length===2?st(mt):lt(mt,mt,"[","]"):o(mt)?lt(mt,mt.replArrayContents(),mt.replPrefix,mt.replSuffix):Object.getPrototypeOf(mt)===Object.prototype?ht(mt):ft(mt.toString())}return ct(_)[0]}stringify$1.valueToStringDag=ot;function nt(_,$,tt){const lt="["+" ".repeat(Math.max(0,$-1)),ht=new Map;function ft(ct){const mt=ht.get(ct);if(mt!==void 0)return mt;let gt;if(ct.type==="terminal")gt={type:"line",line:ct};else if(ct.type==="multiline")gt={type:"block",prefixFirst:"",prefixRest:"",block:ct.lines.map(yt=>({type:"line",line:{type:"terminal",str:yt,length:yt.length}})),suffixRest:"",suffixLast:""};else if(ct.type==="pair"){const yt=ft(ct.head),ut=ft(ct.tail);ct.length-2>tt||yt.type!=="line"||ut.type!=="line"?gt={type:"block",prefixFirst:lt,prefixRest:"",block:[yt,ut],suffixRest:",",suffixLast:"]"}:gt={type:"line",line:ct}}else if(ct.type==="arraylike"){const yt=ct.elems.map(ft);ct.length-ct.prefix.length-ct.suffix.length>tt||yt.some(ut=>ut.type!=="line")?gt={type:"block",prefixFirst:ct.prefix+" ".repeat(Math.max(0,$-ct.prefix.length)),prefixRest:" ".repeat(Math.max(ct.prefix.length,$)),block:yt,suffixRest:",",suffixLast:ct.suffix}:gt={type:"line",line:ct}}else if(ct.type==="kvpair"){const yt=ft(ct.value);ct.length>tt||yt.type!=="line"?gt={type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(ct.key),length:0}},yt],suffixRest:":",suffixLast:""}:gt={type:"line",line:ct}}else throw"up";return ht.set(ct,gt),gt}return ft(_)}stringify$1.stringDagToLineTree=nt;function it(_){function $(tt,st){if(tt.type==="multiline")throw"Tried to format multiline string as single line string";if(tt.type==="terminal")st.push(tt.str);else if(tt.type==="pair")st.push("["),$(tt.head,st),st.push(", "),$(tt.tail,st),st.push("]");else if(tt.type==="kvpair")st.push(JSON.stringify(tt.key)),st.push(": "),$(tt.value,st);else if(tt.type==="arraylike"){st.push(tt.prefix),tt.elems.length>0&&$(tt.elems[0],st);for(let lt=1;lt<tt.elems.length;lt++)st.push(", "),$(tt.elems[lt],st);st.push(tt.suffix)}return st}return $(_,[]).join("")}stringify$1.stringDagToSingleLine=it;function j(_){let $="";const tt=new Map,st=new Map;function lt(ht,ft){const ct=st.get(ht);if(ct!==void 0){const yt=ct.get(ft.length);if(yt!==void 0){$+=$.substring(yt[0],yt[1]);return}}const mt=$.length;if(ht.type==="line")tt.has(ht.line)||tt.set(ht.line,it(ht.line)),$+=tt.get(ht.line);else if(ht.type==="block"){$+=ht.prefixFirst;const yt=ft+" ".repeat(ht.prefixFirst.length),ut=ft+ht.prefixRest;lt(ht.block[0],yt);for(let wt=1;wt<ht.block.length;wt++)$+=ht.suffixRest,$+=ut,lt(ht.block[wt],ut);$+=ht.suffixLast}const gt=$.length;if(ct===void 0){const yt=new Map;yt.set(ft.length,[mt,gt]),st.set(ht,yt)}else ct.set(ft.length,[mt,gt])}return lt(_,`
`),$}return stringify$1.lineTreeToString=j,stringify$1}var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.SetPropertyError=errors.GetInheritedPropertyError=errors.GetPropertyError=errors.ConstAssignment=errors.VariableRedeclaration=errors.InvalidNumberOfArguments=errors.UnassignedVariable=errors.UndefinedVariable=errors.CallingNonFunctionValue=errors.MaximumStackLimitExceeded=errors.ExceptionError=errors.InterruptedError=void 0;const i=astring,s=types,a=requireStringify(),o=runtimeSourceError;class rt extends o.RuntimeSourceError{constructor(ft){super(ft)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}}errors.InterruptedError=rt;class et{constructor(ft,ct){this.error=ft,this.location=ct,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}}errors.ExceptionError=et;class at extends o.RuntimeSourceError{constructor(ft,ct){super(ft),this.calls=ct,this.customGenerator=Object.assign(Object.assign({},i.baseGenerator),{CallExpression(mt,gt){gt.write((0,i.generate)(mt.callee)),gt.write("(");const yt=mt.arguments.map(ut=>(0,a.stringify)(ut.value));gt.write(yt.join(", ")),gt.write(")")}})}explain(){const ft=ct=>(0,i.generate)(ct,{generator:this.customGenerator});return`Maximum call stack size exceeded
  `+this.calls.map(ct=>ft(ct)+"..").join("  ")}elaborate(){return"TODO"}}errors.MaximumStackLimitExceeded=at,at.MAX_CALLS_TO_SHOW=3;class ot extends o.RuntimeSourceError{constructor(ft,ct){super(ct),this.callee=ft,this.node=ct}explain(){return`Calling non-function value ${(0,a.stringify)(this.callee)}.`}elaborate(){const ft=this.callee,ct=(0,a.stringify)(ft);let mt="";mt=this.node.arguments.map(i.generate).join(", ");const yt=`Because ${ct} is not a function, you cannot run ${ct}(${mt}).`,ut=`If you were planning to perform multiplication by ${ct}, you need to use the * operator.`;return Number.isFinite(ft)?`${yt} ${ut}`:yt}}errors.CallingNonFunctionValue=ot;class nt extends o.RuntimeSourceError{constructor(ft,ct){super(ct),this.name=ft}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}}errors.UndefinedVariable=nt;class it extends o.RuntimeSourceError{constructor(ft,ct){super(ct),this.name=ft}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}}errors.UnassignedVariable=it;class j extends o.RuntimeSourceError{constructor(ft,ct,mt,gt=!1){super(ft),this.expected=ct,this.got=mt,this.hasVarArgs=gt,this.calleeStr=(0,i.generate)(ft.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){const ft=this.calleeStr,ct=this.expected===1?"":"s";return`Try calling function ${ft} again, but with ${this.expected} argument${ct} instead. Remember that arguments are separated by a ',' (comma).`}}errors.InvalidNumberOfArguments=j;class _ extends o.RuntimeSourceError{constructor(ft,ct,mt){super(ft),this.node=ft,this.name=ct,this.writable=mt}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(this.writable===!0){const ft=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let ct="";return this.node.type==="FunctionDeclaration"?ct="("+this.node.params.map(i.generate).join(",")+") => {...":this.node.type==="VariableDeclaration"&&(ct=(0,i.generate)(this.node.declarations[0].init)),`${ft} As such, you can just do

	${this.name} = ${ct};
`}else return this.writable===!1?`You will need to declare another variable, as ${this.name} is read-only.`:""}}errors.VariableRedeclaration=_;class $ extends o.RuntimeSourceError{constructor(ft,ct){super(ft),this.name=ct}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}}errors.ConstAssignment=$;class tt extends o.RuntimeSourceError{constructor(ft,ct,mt){super(ft),this.obj=ct,this.prop=mt}explain(){return`Cannot read property ${this.prop} of ${(0,a.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetPropertyError=tt;class st extends o.RuntimeSourceError{constructor(ft,ct,mt){super(ft),this.obj=ct,this.prop=mt,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.location=ft.loc}explain(){return`Cannot read inherited property ${this.prop} of ${(0,a.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetInheritedPropertyError=st;class lt extends o.RuntimeSourceError{constructor(ft,ct,mt){super(ft),this.obj=ct,this.prop=mt}explain(){return`Cannot assign property ${this.prop} of ${(0,a.stringify)(this.obj)}.`}elaborate(){return"TODO"}}return errors.SetPropertyError=lt,errors}var hasRequiredSchedulers;function requireSchedulers(){if(hasRequiredSchedulers)return schedulers;hasRequiredSchedulers=1,Object.defineProperty(schedulers,"__esModule",{value:!0}),schedulers.PreemptiveScheduler=schedulers.NonDetScheduler=schedulers.AsyncScheduler=void 0;const i=requireErrors(),s=inspector;class a{run(ot,nt){return new Promise((it,j)=>{nt.runtime.isRunning=!0;let _=ot.next();try{for(;!_.done;)_=ot.next(),nt.runtime.break&&((0,s.saveState)(nt,ot,this),_.done=!0)}catch{it({status:"error"})}finally{nt.runtime.isRunning=!1}nt.runtime.break?it({status:"suspended",it:ot,scheduler:this,context:nt}):it({status:"finished",context:nt,value:_.value})})}}schedulers.AsyncScheduler=a;class o{run(ot,nt){return new Promise((it,j)=>{try{const _=ot.next();_.done?it({status:"finished",context:nt,value:_.value}):it({status:"suspended-non-det",it:ot,scheduler:this,context:nt,value:_.value})}catch(_){et(_,nt),it({status:"error"})}finally{nt.runtime.isRunning=!1}})}}schedulers.NonDetScheduler=o;class rt{constructor(ot){this.steps=ot}run(ot,nt){return new Promise((it,j)=>{nt.runtime.isRunning=!0;let _=!1,$=ot.next();const tt=setInterval(()=>{let st=0;try{for(;!$.done&&st<this.steps;)st++,$=ot.next(),_=nt.runtime.break&&nt.runtime.debuggerOn,_&&($.done=!0);(0,s.saveState)(nt,ot,this)}catch(lt){et(lt,nt),nt.runtime.isRunning=!1,clearInterval(tt),it({status:"error"})}$.done&&(nt.runtime.isRunning=!1,clearInterval(tt),it(_?{status:"suspended",it:ot,scheduler:this,context:nt}:{status:"finished",context:nt,value:$.value}))})})}}schedulers.PreemptiveScheduler=rt;function et(at,ot){if(/Maximum call stack/.test(at.toString())){const nt=ot.runtime.environments,it=[];let j=0;for(let _=0;j<i.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&_<nt.length;_++)nt[_].callExpression&&(it.unshift(nt[_].callExpression),j++);ot.errors.push(new i.MaximumStackLimitExceeded(ot.runtime.nodes[0],it))}}return schedulers}var lazyList_prelude={};Object.defineProperty(lazyList_prelude,"__esModule",{value:!0});lazyList_prelude.lazyListPrelude=void 0;lazyList_prelude.lazyListPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
    return is_pair(xs)
        ? (is_pair(ys) &&
           equal(head(xs), head(ys)) &&
           equal(tail(xs), tail(ys)))
        : is_null(xs)
        ? is_null(ys)
        : is_number(xs)
        ? (is_number(ys) && xs === ys)
        : is_string(xs)
        ? (is_string(ys) && xs === ys)
        :  xs === ys;
}

// returns the length of a given argument list
// assumes that the argument is a list

function length(xs) {
  return is_null(xs) ? 0 : 1 + length(tail(xs));
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function map(f, xs) {
  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));
}

// build_list takes a nonnegative integer n as first argument,
// and a function fun as second argument.
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function build_list(fun, n) {
  function build(i, fun, already_built) {
    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));
  }
  return build(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function list_to_string(xs) {
    return is_null(xs)
        ? "null"
        : is_pair(xs)
            ? "[" + list_to_string(head(xs)) + "," +
                list_to_string(tail(xs)) + "]"
            : stringify(xs);
}

// reverse reverses the argument, assumed to be a list

function reverse(xs) {
  function rev(original, reversed) {
    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));
  }
  return rev(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function append(xs, ys) {
  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function remove(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));
}

// Similar to remove, but removes all instances of v
// instead of just the first

function remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? remove_all(v, tail(xs))
    : pair(head(xs), remove_all(v, tail(xs)));
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function filter(pred, xs) {
  return is_null(xs)
    ? xs
    : pred(head(xs))
    ? pair(head(xs), filter(pred, tail(xs)))
    : filter(pred, tail(xs));
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function enum_list(start, end) {
  const newStart = start + 1;
  return start > end ? null : pair(start, enum_list(newStart, end));
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  const rest = tail(xs);
  return n === 0 ? head(xs) : list_ref(rest, n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function accumulate(f, initial, xs) {
  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));
}
`;var list$1={},hasRequiredList;function requireList(){if(hasRequiredList)return list$1;hasRequiredList=1,Object.defineProperty(list$1,"__esModule",{value:!0}),list$1.rawDisplayList=list$1.set_tail=list$1.set_head=list$1.vector_to_list=list$1.list_to_vector=list$1.is_list=list$1.list=list$1.is_null=list$1.tail=list$1.head=list$1.is_pair=list$1.pair=void 0;const i=requireStringify();function s(st){return Array.isArray===void 0?st instanceof Array:Array.isArray(st)}function a(st,lt){return[st,lt]}list$1.pair=a;function o(st){return s(st)&&st.length===2}list$1.is_pair=o;function rt(st){if(o(st))return st[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.head=rt;function et(st){if(o(st))return st[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.tail=et;function at(st){return st===null}list$1.is_null=at;function ot(...st){let lt=null;for(let ht=st.length-1;ht>=0;ht-=1)lt=a(st[ht],lt);return lt}list$1.list=ot;function nt(st){for(;o(st);)st=et(st);return at(st)}list$1.is_list=nt;function it(st){const lt=[];for(;!at(st);)lt.push(rt(st)),st=et(st);return lt}list$1.list_to_vector=it;function j(st){return ot(...st)}list$1.vector_to_list=j;function _(st,lt){if(o(st)){st[0]=lt;return}else throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.set_head=_;function $(st,lt){if(o(st)){st[1]=lt;return}else throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.set_tail=$;function tt(st,lt,ht){const ft=new Set,ct=new Map;class mt{constructor(bt){this.replPrefix="list(",this.replSuffix=")",this.listNode=bt}replArrayContents(){const bt=[];let vt=this.listNode;for(;vt!==null;)bt.push(rt(vt)),vt=et(vt);return bt}}function gt(wt){return ct.get(wt)||wt}const yt=[];let ut=0;for(yt.push(lt);ut<yt.length;){const wt=yt[ut];ut++,!ft.has(wt)&&(ft.add(wt),o(wt)&&yt.push(rt(wt),et(wt)))}for(;yt.length>0;){const wt=yt.pop();if(!o(wt))continue;const bt=rt(wt),vt=et(wt),Et=gt(vt),$t=at(Et)||Et instanceof mt?new mt(a(bt,vt)):a(bt,vt);ct.set(wt,$t)}for(const wt of ct.values())if(o(wt))_(wt,gt(rt(wt))),$(wt,gt(et(wt)));else if(wt instanceof mt){_(wt.listNode,gt(rt(wt.listNode)));let bt=gt(et(wt.listNode));bt instanceof mt&&(bt=bt.listNode),$(wt.listNode,bt)}return st(gt(lt),ht),lt}return list$1.rawDisplayList=tt,list$1}var list_prelude={};Object.defineProperty(list_prelude,"__esModule",{value:!0});list_prelude.listPrelude=void 0;list_prelude.listPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
  return is_pair(xs)
  ? (is_pair(ys) &&
    equal(head(xs), head(ys)) &&
    equal(tail(xs), tail(ys)))
  : is_null(xs)
  ? is_null(ys)
  : is_number(xs)
  ? (is_number(ys) && xs === ys)
  : is_boolean(xs)
  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))
  : is_string(xs)
  ? (is_string(ys) && xs === ys)
  : is_undefined(xs)
  ? is_undefined(ys)
  : is_function(xs)
    // we know now that xs is a function,
    // but we use an if check anyway to make use of the type predicate
  ? (is_function(ys) && xs === ys)
  : false;
}


// returns the length of a given argument list
// assumes that the argument is a list

function $length(xs, acc) {
    return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function $map(f, xs, acc) {
    return is_null(xs)
           ? reverse(acc)
           : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
    return $map(f, xs, null);
}

// build_list takes a a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function $build_list(i, fun, already_built) {
    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));
}

function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function $list_to_string(xs, cont) {
    return is_null(xs)
        ? cont("null")
        : is_pair(xs)
        ? $list_to_string(
              head(xs),
              x => $list_to_string(
                       tail(xs),
                       y => cont("[" + x + "," + y + "]")))
        : cont(stringify(xs));
}

function list_to_string(xs) {
    return $list_to_string(xs, x => x);
}

// reverse reverses the argument, assumed to be a list

function $reverse(original, reversed) {
    return is_null(original)
           ? reversed
           : $reverse(tail(original), pair(head(original), reversed));
}

function reverse(xs) {
    return $reverse(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function $append(xs, ys, cont) {
    return is_null(xs)
           ? cont(ys)
           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));
}

function append(xs, ys) {
    return $append(xs, ys, xs => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs)
         ? null
	 : v === head(xs)
	 ? xs
	 : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? app(rev(acc), tail(xs))
         : $remove(v, tail(xs), pair(head(xs), acc));
}

function remove(v, xs) {
    return $remove(v, xs, null);
}

// Similar to remove, but removes all instances of v
// instead of just the first

function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? $remove_all(v, tail(xs), acc)
         : $remove_all(v, tail(xs), pair(head(xs), acc));
}

function remove_all(v, xs) {
    return $remove_all(v, xs, null);
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}

function filter(pred, xs) {
    return $filter(pred, xs, null);
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end
         ? rev(acc)
         : $enum_list(start + 1, end, pair(start, acc));
}

function enum_list(start, end) {
    return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  return n === 0
         ? head(xs)
         : list_ref(tail(xs), n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function $accumulate(f, initial, xs, cont) {
    return is_null(xs)
           ? cont(initial)
           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));
}

function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, x => x);
}
`;var misc={},hasRequiredMisc;function requireMisc(){if(hasRequiredMisc)return misc;hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.get_time=misc.arity=misc.char_at=misc.parse_int=misc.array_length=misc.is_array=misc.has_own_property=misc.is_NaN=misc.is_function=misc.is_object=misc.is_boolean=misc.is_string=misc.is_undefined=misc.is_number=misc.timed=misc.error_message=misc.rawDisplay=void 0;const i=requireClosure(),s=requireStringify();function a(mt,gt,yt){return console.log((gt===void 0?"":gt+" ")+mt.toString()),mt}misc.rawDisplay=a;function o(mt,...gt){const yt=(gt[0]===void 0?"":gt[0]+" ")+(0,s.stringify)(mt);throw new Error(yt)}misc.error_message=o;function rt(mt,gt,yt,ut){return(...wt)=>{const bt=ct(),vt=gt(...wt),Et=ct()-bt;return ut("Duration: "+Math.round(Et)+"ms","",yt),vt}}misc.timed=rt;function et(mt){return typeof mt=="number"}misc.is_number=et;function at(mt){return typeof mt>"u"}misc.is_undefined=at;function ot(mt){return typeof mt=="string"}misc.is_string=ot;function nt(mt){return typeof mt=="boolean"}misc.is_boolean=nt;function it(mt){return typeof mt=="object"||j(mt)}misc.is_object=it;function j(mt){return typeof mt=="function"}misc.is_function=j;function _(mt){return et(mt)&&isNaN(mt)}misc.is_NaN=_;function $(mt,gt){return mt.hasOwnProperty(gt)}misc.has_own_property=$;function tt(mt){return mt instanceof Array}misc.is_array=tt;function st(mt){return mt.length}misc.array_length=st;function lt(mt,gt){if(typeof mt=="string"&&typeof gt=="number"&&Number.isInteger(gt)&&2<=gt&&gt<=36)return parseInt(mt,gt);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")}misc.parse_int=lt;function ht(mt,gt){if(typeof mt!="string")throw new Error("char_at expects the first argument to be a string.");if(typeof gt!="number"||!Number.isInteger(gt)||gt<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return mt[gt]}misc.char_at=ht;function ft(mt){var gt;if(mt instanceof i.default){const yt=mt.node.params;return((gt=yt[yt.length-1])===null||gt===void 0?void 0:gt.type)==="RestElement"?yt.length-1:yt.length}else{if(typeof mt=="function")return mt.length;throw new Error("arity expects a function as argument")}}misc.arity=ft;function ct(){return new Date().getTime()}return misc.get_time=ct,misc}var nonDet_prelude={};Object.defineProperty(nonDet_prelude,"__esModule",{value:!0});nonDet_prelude.nonDetPrelude=void 0;nonDet_prelude.nonDetPrelude=`
    function require(predicate) {
        return predicate ? "Satisfied require" : amb();
    }

    function an_element_of(items) {
        require(!is_null(items));
        return amb(head(items), an_element_of(tail(items)));
    }

    function an_integer_between(low, high) {
        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));
    }

    /* Material Conditional */
    /* if P, then Q */
    /* P --> Q */
    function implication(P, Q) {
        return !P || Q;
    }

    /* Material Biconditional */
    /* (if P, then Q) AND (if Q, then P) */
    /* P <--> Q */
    function bi_implication(P, Q) {
        return implication(P, Q) && implication(Q, P);
    }
`;var parser$1={},parser={},acornLoose={exports:{}},acorn={exports:{}},hasRequiredAcorn;function requireAcorn(){return hasRequiredAcorn||(hasRequiredAcorn=1,function(i,s){(function(a,o){o(s)})(commonjsGlobal,function(a){var o=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],rt=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],et="-----------------------------------------------------------------------------------------------------------------------------------------------------",at="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",ot={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},nt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",it={5:nt,"5module":nt+" export import",6:nt+" const class extends export import super"},j=/^in(stanceof)?$/,_=new RegExp("["+at+"]"),$=new RegExp("["+at+et+"]");function tt(pt,kt){for(var Nt=65536,Bt=0;Bt<kt.length;Bt+=2){if(Nt+=kt[Bt],Nt>pt)return!1;if(Nt+=kt[Bt+1],Nt>=pt)return!0}return!1}function st(pt,kt){return pt<65?pt===36:pt<91?!0:pt<97?pt===95:pt<123?!0:pt<=65535?pt>=170&&_.test(String.fromCharCode(pt)):kt===!1?!1:tt(pt,rt)}function lt(pt,kt){return pt<48?pt===36:pt<58?!0:pt<65?!1:pt<91?!0:pt<97?pt===95:pt<123?!0:pt<=65535?pt>=170&&$.test(String.fromCharCode(pt)):kt===!1?!1:tt(pt,rt)||tt(pt,o)}var ht=function(kt,Nt){Nt===void 0&&(Nt={}),this.label=kt,this.keyword=Nt.keyword,this.beforeExpr=!!Nt.beforeExpr,this.startsExpr=!!Nt.startsExpr,this.isLoop=!!Nt.isLoop,this.isAssign=!!Nt.isAssign,this.prefix=!!Nt.prefix,this.postfix=!!Nt.postfix,this.binop=Nt.binop||null,this.updateContext=null};function ft(pt,kt){return new ht(pt,{beforeExpr:!0,binop:kt})}var ct={beforeExpr:!0},mt={startsExpr:!0},gt={};function yt(pt,kt){return kt===void 0&&(kt={}),kt.keyword=pt,gt[pt]=new ht(pt,kt)}var ut={num:new ht("num",mt),regexp:new ht("regexp",mt),string:new ht("string",mt),name:new ht("name",mt),privateId:new ht("privateId",mt),eof:new ht("eof"),bracketL:new ht("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ht("]"),braceL:new ht("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ht("}"),parenL:new ht("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ht(")"),comma:new ht(",",ct),semi:new ht(";",ct),colon:new ht(":",ct),dot:new ht("."),question:new ht("?",ct),questionDot:new ht("?."),arrow:new ht("=>",ct),template:new ht("template"),invalidTemplate:new ht("invalidTemplate"),ellipsis:new ht("...",ct),backQuote:new ht("`",mt),dollarBraceL:new ht("${",{beforeExpr:!0,startsExpr:!0}),eq:new ht("=",{beforeExpr:!0,isAssign:!0}),assign:new ht("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ht("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ht("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ft("||",1),logicalAND:ft("&&",2),bitwiseOR:ft("|",3),bitwiseXOR:ft("^",4),bitwiseAND:ft("&",5),equality:ft("==/!=/===/!==",6),relational:ft("</>/<=/>=",7),bitShift:ft("<</>>/>>>",8),plusMin:new ht("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ft("%",10),star:ft("*",10),slash:ft("/",10),starstar:new ht("**",{beforeExpr:!0}),coalesce:ft("??",1),_break:yt("break"),_case:yt("case",ct),_catch:yt("catch"),_continue:yt("continue"),_debugger:yt("debugger"),_default:yt("default",ct),_do:yt("do",{isLoop:!0,beforeExpr:!0}),_else:yt("else",ct),_finally:yt("finally"),_for:yt("for",{isLoop:!0}),_function:yt("function",mt),_if:yt("if"),_return:yt("return",ct),_switch:yt("switch"),_throw:yt("throw",ct),_try:yt("try"),_var:yt("var"),_const:yt("const"),_while:yt("while",{isLoop:!0}),_with:yt("with"),_new:yt("new",{beforeExpr:!0,startsExpr:!0}),_this:yt("this",mt),_super:yt("super",mt),_class:yt("class",mt),_extends:yt("extends",ct),_export:yt("export"),_import:yt("import",mt),_null:yt("null",mt),_true:yt("true",mt),_false:yt("false",mt),_in:yt("in",{beforeExpr:!0,binop:7}),_instanceof:yt("instanceof",{beforeExpr:!0,binop:7}),_typeof:yt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},wt=/\r\n?|\n|\u2028|\u2029/,bt=new RegExp(wt.source,"g");function vt(pt){return pt===10||pt===13||pt===8232||pt===8233}function Et(pt,kt,Nt){Nt===void 0&&(Nt=pt.length);for(var Bt=kt;Bt<Nt;Bt++){var Xt=pt.charCodeAt(Bt);if(vt(Xt))return Bt<Nt-1&&Xt===13&&pt.charCodeAt(Bt+1)===10?Bt+2:Bt+1}return-1}var $t=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,At=Object.prototype,Ct=At.hasOwnProperty,It=At.toString,Lt=Object.hasOwn||function(pt,kt){return Ct.call(pt,kt)},Ft=Array.isArray||function(pt){return It.call(pt)==="[object Array]"},Dt=Object.create(null);function Vt(pt){return Dt[pt]||(Dt[pt]=new RegExp("^(?:"+pt.replace(/ /g,"|")+")$"))}function Ut(pt){return pt<=65535?String.fromCharCode(pt):(pt-=65536,String.fromCharCode((pt>>10)+55296,(pt&1023)+56320))}var Qt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Kt=function(kt,Nt){this.line=kt,this.column=Nt};Kt.prototype.offset=function(kt){return new Kt(this.line,this.column+kt)};var Ht=function(kt,Nt,Bt){this.start=Nt,this.end=Bt,kt.sourceFile!==null&&(this.source=kt.sourceFile)};function qt(pt,kt){for(var Nt=1,Bt=0;;){var Xt=Et(pt,Bt,kt);if(Xt<0)return new Kt(Nt,kt-Bt);++Nt,Bt=Xt}}var nr={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},tr=!1;function mr(pt){var kt={};for(var Nt in nr)kt[Nt]=pt&&Lt(pt,Nt)?pt[Nt]:nr[Nt];if(kt.ecmaVersion==="latest"?kt.ecmaVersion=1e8:kt.ecmaVersion==null?(!tr&&typeof console=="object"&&console.warn&&(tr=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),kt.ecmaVersion=11):kt.ecmaVersion>=2015&&(kt.ecmaVersion-=2009),kt.allowReserved==null&&(kt.allowReserved=kt.ecmaVersion<5),(!pt||pt.allowHashBang==null)&&(kt.allowHashBang=kt.ecmaVersion>=14),Ft(kt.onToken)){var Bt=kt.onToken;kt.onToken=function(Xt){return Bt.push(Xt)}}return Ft(kt.onComment)&&(kt.onComment=yr(kt,kt.onComment)),kt}function yr(pt,kt){return function(Nt,Bt,Xt,ur,gr,Lr){var Vr={type:Nt?"Block":"Line",value:Bt,start:Xt,end:ur};pt.locations&&(Vr.loc=new Ht(this,gr,Lr)),pt.ranges&&(Vr.range=[Xt,ur]),kt.push(Vr)}}var br=1,xr=2,sr=4,ar=8,rr=16,Cr=32,kr=64,vr=128,Gr=256,an=br|xr|Gr;function hn(pt,kt){return xr|(pt?sr:0)|(kt?ar:0)}var Mn=0,Bn=1,An=2,dn=3,Yn=4,Dn=5,Tr=function(kt,Nt,Bt){this.options=kt=mr(kt),this.sourceFile=kt.sourceFile,this.keywords=Vt(it[kt.ecmaVersion>=6?6:kt.sourceType==="module"?"5module":5]);var Xt="";kt.allowReserved!==!0&&(Xt=ot[kt.ecmaVersion>=6?6:kt.ecmaVersion===5?5:3],kt.sourceType==="module"&&(Xt+=" await")),this.reservedWords=Vt(Xt);var ur=(Xt?Xt+" ":"")+ot.strict;this.reservedWordsStrict=Vt(ur),this.reservedWordsStrictBind=Vt(ur+" "+ot.strictBind),this.input=String(Nt),this.containsEsc=!1,Bt?(this.pos=Bt,this.lineStart=this.input.lastIndexOf(`
`,Bt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(wt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=ut.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=kt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&kt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(br),this.regexpState=null,this.privateNameStack=[]},Br={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Tr.prototype.parse=function(){var kt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(kt)},Br.inFunction.get=function(){return(this.currentVarScope().flags&xr)>0},Br.inGenerator.get=function(){return(this.currentVarScope().flags&ar)>0&&!this.currentVarScope().inClassFieldInit},Br.inAsync.get=function(){return(this.currentVarScope().flags&sr)>0&&!this.currentVarScope().inClassFieldInit},Br.canAwait.get=function(){for(var pt=this.scopeStack.length-1;pt>=0;pt--){var kt=this.scopeStack[pt];if(kt.inClassFieldInit||kt.flags&Gr)return!1;if(kt.flags&xr)return(kt.flags&sr)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Br.allowSuper.get=function(){var pt=this.currentThisScope(),kt=pt.flags,Nt=pt.inClassFieldInit;return(kt&kr)>0||Nt||this.options.allowSuperOutsideMethod},Br.allowDirectSuper.get=function(){return(this.currentThisScope().flags&vr)>0},Br.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Br.allowNewDotTarget.get=function(){var pt=this.currentThisScope(),kt=pt.flags,Nt=pt.inClassFieldInit;return(kt&(xr|Gr))>0||Nt},Br.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Gr)>0},Tr.extend=function(){for(var kt=[],Nt=arguments.length;Nt--;)kt[Nt]=arguments[Nt];for(var Bt=this,Xt=0;Xt<kt.length;Xt++)Bt=kt[Xt](Bt);return Bt},Tr.parse=function(kt,Nt){return new this(Nt,kt).parse()},Tr.parseExpressionAt=function(kt,Nt,Bt){var Xt=new this(Bt,kt,Nt);return Xt.nextToken(),Xt.parseExpression()},Tr.tokenizer=function(kt,Nt){return new this(Nt,kt)},Object.defineProperties(Tr.prototype,Br);var Ar=Tr.prototype,fn=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Ar.strictDirective=function(pt){if(this.options.ecmaVersion<5)return!1;for(;;){Tt.lastIndex=pt,pt+=Tt.exec(this.input)[0].length;var kt=fn.exec(this.input.slice(pt));if(!kt)return!1;if((kt[1]||kt[2])==="use strict"){Tt.lastIndex=pt+kt[0].length;var Nt=Tt.exec(this.input),Bt=Nt.index+Nt[0].length,Xt=this.input.charAt(Bt);return Xt===";"||Xt==="}"||wt.test(Nt[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Xt)||Xt==="!"&&this.input.charAt(Bt+1)==="=")}pt+=kt[0].length,Tt.lastIndex=pt,pt+=Tt.exec(this.input)[0].length,this.input[pt]===";"&&pt++}},Ar.eat=function(pt){return this.type===pt?(this.next(),!0):!1},Ar.isContextual=function(pt){return this.type===ut.name&&this.value===pt&&!this.containsEsc},Ar.eatContextual=function(pt){return this.isContextual(pt)?(this.next(),!0):!1},Ar.expectContextual=function(pt){this.eatContextual(pt)||this.unexpected()},Ar.canInsertSemicolon=function(){return this.type===ut.eof||this.type===ut.braceR||wt.test(this.input.slice(this.lastTokEnd,this.start))},Ar.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Ar.semicolon=function(){!this.eat(ut.semi)&&!this.insertSemicolon()&&this.unexpected()},Ar.afterTrailingComma=function(pt,kt){if(this.type===pt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),kt||this.next(),!0},Ar.expect=function(pt){this.eat(pt)||this.unexpected()},Ar.unexpected=function(pt){this.raise(pt??this.start,"Unexpected token")};var er=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ar.checkPatternErrors=function(pt,kt){if(pt){pt.trailingComma>-1&&this.raiseRecoverable(pt.trailingComma,"Comma is not permitted after the rest element");var Nt=kt?pt.parenthesizedAssign:pt.parenthesizedBind;Nt>-1&&this.raiseRecoverable(Nt,kt?"Assigning to rvalue":"Parenthesized pattern")}},Ar.checkExpressionErrors=function(pt,kt){if(!pt)return!1;var Nt=pt.shorthandAssign,Bt=pt.doubleProto;if(!kt)return Nt>=0||Bt>=0;Nt>=0&&this.raise(Nt,"Shorthand property assignments are valid only in destructuring patterns"),Bt>=0&&this.raiseRecoverable(Bt,"Redefinition of __proto__ property")},Ar.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Ar.isSimpleAssignTarget=function(pt){return pt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(pt.expression):pt.type==="Identifier"||pt.type==="MemberExpression"};var Yt=Tr.prototype;Yt.parseTopLevel=function(pt){var kt=Object.create(null);for(pt.body||(pt.body=[]);this.type!==ut.eof;){var Nt=this.parseStatement(null,!0,kt);pt.body.push(Nt)}if(this.inModule)for(var Bt=0,Xt=Object.keys(this.undefinedExports);Bt<Xt.length;Bt+=1){var ur=Xt[Bt];this.raiseRecoverable(this.undefinedExports[ur].start,"Export '"+ur+"' is not defined")}return this.adaptDirectivePrologue(pt.body),this.next(),pt.sourceType=this.options.sourceType,this.finishNode(pt,"Program")};var fr={kind:"loop"},Dr={kind:"switch"};Yt.isLet=function(pt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Tt.lastIndex=this.pos;var kt=Tt.exec(this.input),Nt=this.pos+kt[0].length,Bt=this.input.charCodeAt(Nt);if(Bt===91||Bt===92)return!0;if(pt)return!1;if(Bt===123||Bt>55295&&Bt<56320)return!0;if(st(Bt,!0)){for(var Xt=Nt+1;lt(Bt=this.input.charCodeAt(Xt),!0);)++Xt;if(Bt===92||Bt>55295&&Bt<56320)return!0;var ur=this.input.slice(Nt,Xt);if(!j.test(ur))return!0}return!1},Yt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Tt.lastIndex=this.pos;var pt=Tt.exec(this.input),kt=this.pos+pt[0].length,Nt;return!wt.test(this.input.slice(this.pos,kt))&&this.input.slice(kt,kt+8)==="function"&&(kt+8===this.input.length||!(lt(Nt=this.input.charCodeAt(kt+8))||Nt>55295&&Nt<56320))},Yt.parseStatement=function(pt,kt,Nt){var Bt=this.type,Xt=this.startNode(),ur;switch(this.isLet(pt)&&(Bt=ut._var,ur="let"),Bt){case ut._break:case ut._continue:return this.parseBreakContinueStatement(Xt,Bt.keyword);case ut._debugger:return this.parseDebuggerStatement(Xt);case ut._do:return this.parseDoStatement(Xt);case ut._for:return this.parseForStatement(Xt);case ut._function:return pt&&(this.strict||pt!=="if"&&pt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Xt,!1,!pt);case ut._class:return pt&&this.unexpected(),this.parseClass(Xt,!0);case ut._if:return this.parseIfStatement(Xt);case ut._return:return this.parseReturnStatement(Xt);case ut._switch:return this.parseSwitchStatement(Xt);case ut._throw:return this.parseThrowStatement(Xt);case ut._try:return this.parseTryStatement(Xt);case ut._const:case ut._var:return ur=ur||this.value,pt&&ur!=="var"&&this.unexpected(),this.parseVarStatement(Xt,ur);case ut._while:return this.parseWhileStatement(Xt);case ut._with:return this.parseWithStatement(Xt);case ut.braceL:return this.parseBlock(!0,Xt);case ut.semi:return this.parseEmptyStatement(Xt);case ut._export:case ut._import:if(this.options.ecmaVersion>10&&Bt===ut._import){Tt.lastIndex=this.pos;var gr=Tt.exec(this.input),Lr=this.pos+gr[0].length,Vr=this.input.charCodeAt(Lr);if(Vr===40||Vr===46)return this.parseExpressionStatement(Xt,this.parseExpression())}return this.options.allowImportExportEverywhere||(kt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Bt===ut._import?this.parseImport(Xt):this.parseExport(Xt,Nt);default:if(this.isAsyncFunction())return pt&&this.unexpected(),this.next(),this.parseFunctionStatement(Xt,!0,!pt);var cn=this.value,sn=this.parseExpression();return Bt===ut.name&&sn.type==="Identifier"&&this.eat(ut.colon)?this.parseLabeledStatement(Xt,cn,sn,pt):this.parseExpressionStatement(Xt,sn)}},Yt.parseBreakContinueStatement=function(pt,kt){var Nt=kt==="break";this.next(),this.eat(ut.semi)||this.insertSemicolon()?pt.label=null:this.type!==ut.name?this.unexpected():(pt.label=this.parseIdent(),this.semicolon());for(var Bt=0;Bt<this.labels.length;++Bt){var Xt=this.labels[Bt];if((pt.label==null||Xt.name===pt.label.name)&&(Xt.kind!=null&&(Nt||Xt.kind==="loop")||pt.label&&Nt))break}return Bt===this.labels.length&&this.raise(pt.start,"Unsyntactic "+kt),this.finishNode(pt,Nt?"BreakStatement":"ContinueStatement")},Yt.parseDebuggerStatement=function(pt){return this.next(),this.semicolon(),this.finishNode(pt,"DebuggerStatement")},Yt.parseDoStatement=function(pt){return this.next(),this.labels.push(fr),pt.body=this.parseStatement("do"),this.labels.pop(),this.expect(ut._while),pt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(ut.semi):this.semicolon(),this.finishNode(pt,"DoWhileStatement")},Yt.parseForStatement=function(pt){this.next();var kt=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(fr),this.enterScope(0),this.expect(ut.parenL),this.type===ut.semi)return kt>-1&&this.unexpected(kt),this.parseFor(pt,null);var Nt=this.isLet();if(this.type===ut._var||this.type===ut._const||Nt){var Bt=this.startNode(),Xt=Nt?"let":this.value;return this.next(),this.parseVar(Bt,!0,Xt),this.finishNode(Bt,"VariableDeclaration"),(this.type===ut._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Bt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===ut._in?kt>-1&&this.unexpected(kt):pt.await=kt>-1),this.parseForIn(pt,Bt)):(kt>-1&&this.unexpected(kt),this.parseFor(pt,Bt))}var ur=this.isContextual("let"),gr=!1,Lr=this.containsEsc,Vr=new er,cn=this.start,sn=kt>-1?this.parseExprSubscripts(Vr,"await"):this.parseExpression(!0,Vr);return this.type===ut._in||(gr=this.options.ecmaVersion>=6&&this.isContextual("of"))?(kt>-1?(this.type===ut._in&&this.unexpected(kt),pt.await=!0):gr&&this.options.ecmaVersion>=8&&(sn.start===cn&&!Lr&&sn.type==="Identifier"&&sn.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(pt.await=!1)),ur&&gr&&this.raise(sn.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(sn,!1,Vr),this.checkLValPattern(sn),this.parseForIn(pt,sn)):(this.checkExpressionErrors(Vr,!0),kt>-1&&this.unexpected(kt),this.parseFor(pt,sn))},Yt.parseFunctionStatement=function(pt,kt,Nt){return this.next(),this.parseFunction(pt,$r|(Nt?0:Ir),!1,kt)},Yt.parseIfStatement=function(pt){return this.next(),pt.test=this.parseParenExpression(),pt.consequent=this.parseStatement("if"),pt.alternate=this.eat(ut._else)?this.parseStatement("if"):null,this.finishNode(pt,"IfStatement")},Yt.parseReturnStatement=function(pt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(ut.semi)||this.insertSemicolon()?pt.argument=null:(pt.argument=this.parseExpression(),this.semicolon()),this.finishNode(pt,"ReturnStatement")},Yt.parseSwitchStatement=function(pt){this.next(),pt.discriminant=this.parseParenExpression(),pt.cases=[],this.expect(ut.braceL),this.labels.push(Dr),this.enterScope(0);for(var kt,Nt=!1;this.type!==ut.braceR;)if(this.type===ut._case||this.type===ut._default){var Bt=this.type===ut._case;kt&&this.finishNode(kt,"SwitchCase"),pt.cases.push(kt=this.startNode()),kt.consequent=[],this.next(),Bt?kt.test=this.parseExpression():(Nt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Nt=!0,kt.test=null),this.expect(ut.colon)}else kt||this.unexpected(),kt.consequent.push(this.parseStatement(null));return this.exitScope(),kt&&this.finishNode(kt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(pt,"SwitchStatement")},Yt.parseThrowStatement=function(pt){return this.next(),wt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),pt.argument=this.parseExpression(),this.semicolon(),this.finishNode(pt,"ThrowStatement")};var Ur=[];Yt.parseCatchClauseParam=function(){var pt=this.parseBindingAtom(),kt=pt.type==="Identifier";return this.enterScope(kt?Cr:0),this.checkLValPattern(pt,kt?Yn:An),this.expect(ut.parenR),pt},Yt.parseTryStatement=function(pt){if(this.next(),pt.block=this.parseBlock(),pt.handler=null,this.type===ut._catch){var kt=this.startNode();this.next(),this.eat(ut.parenL)?kt.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),kt.param=null,this.enterScope(0)),kt.body=this.parseBlock(!1),this.exitScope(),pt.handler=this.finishNode(kt,"CatchClause")}return pt.finalizer=this.eat(ut._finally)?this.parseBlock():null,!pt.handler&&!pt.finalizer&&this.raise(pt.start,"Missing catch or finally clause"),this.finishNode(pt,"TryStatement")},Yt.parseVarStatement=function(pt,kt,Nt){return this.next(),this.parseVar(pt,!1,kt,Nt),this.semicolon(),this.finishNode(pt,"VariableDeclaration")},Yt.parseWhileStatement=function(pt){return this.next(),pt.test=this.parseParenExpression(),this.labels.push(fr),pt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(pt,"WhileStatement")},Yt.parseWithStatement=function(pt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),pt.object=this.parseParenExpression(),pt.body=this.parseStatement("with"),this.finishNode(pt,"WithStatement")},Yt.parseEmptyStatement=function(pt){return this.next(),this.finishNode(pt,"EmptyStatement")},Yt.parseLabeledStatement=function(pt,kt,Nt,Bt){for(var Xt=0,ur=this.labels;Xt<ur.length;Xt+=1){var gr=ur[Xt];gr.name===kt&&this.raise(Nt.start,"Label '"+kt+"' is already declared")}for(var Lr=this.type.isLoop?"loop":this.type===ut._switch?"switch":null,Vr=this.labels.length-1;Vr>=0;Vr--){var cn=this.labels[Vr];if(cn.statementStart===pt.start)cn.statementStart=this.start,cn.kind=Lr;else break}return this.labels.push({name:kt,kind:Lr,statementStart:this.start}),pt.body=this.parseStatement(Bt?Bt.indexOf("label")===-1?Bt+"label":Bt:"label"),this.labels.pop(),pt.label=Nt,this.finishNode(pt,"LabeledStatement")},Yt.parseExpressionStatement=function(pt,kt){return pt.expression=kt,this.semicolon(),this.finishNode(pt,"ExpressionStatement")},Yt.parseBlock=function(pt,kt,Nt){for(pt===void 0&&(pt=!0),kt===void 0&&(kt=this.startNode()),kt.body=[],this.expect(ut.braceL),pt&&this.enterScope(0);this.type!==ut.braceR;){var Bt=this.parseStatement(null);kt.body.push(Bt)}return Nt&&(this.strict=!1),this.next(),pt&&this.exitScope(),this.finishNode(kt,"BlockStatement")},Yt.parseFor=function(pt,kt){return pt.init=kt,this.expect(ut.semi),pt.test=this.type===ut.semi?null:this.parseExpression(),this.expect(ut.semi),pt.update=this.type===ut.parenR?null:this.parseExpression(),this.expect(ut.parenR),pt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(pt,"ForStatement")},Yt.parseForIn=function(pt,kt){var Nt=this.type===ut._in;return this.next(),kt.type==="VariableDeclaration"&&kt.declarations[0].init!=null&&(!Nt||this.options.ecmaVersion<8||this.strict||kt.kind!=="var"||kt.declarations[0].id.type!=="Identifier")&&this.raise(kt.start,(Nt?"for-in":"for-of")+" loop variable declaration may not have an initializer"),pt.left=kt,pt.right=Nt?this.parseExpression():this.parseMaybeAssign(),this.expect(ut.parenR),pt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(pt,Nt?"ForInStatement":"ForOfStatement")},Yt.parseVar=function(pt,kt,Nt,Bt){for(pt.declarations=[],pt.kind=Nt;;){var Xt=this.startNode();if(this.parseVarId(Xt,Nt),this.eat(ut.eq)?Xt.init=this.parseMaybeAssign(kt):!Bt&&Nt==="const"&&!(this.type===ut._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!Bt&&Xt.id.type!=="Identifier"&&!(kt&&(this.type===ut._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Xt.init=null,pt.declarations.push(this.finishNode(Xt,"VariableDeclarator")),!this.eat(ut.comma))break}return pt},Yt.parseVarId=function(pt,kt){pt.id=this.parseBindingAtom(),this.checkLValPattern(pt.id,kt==="var"?Bn:An,!1)};var $r=1,Ir=2,Xr=4;Yt.parseFunction=function(pt,kt,Nt,Bt,Xt){this.initFunction(pt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Bt)&&(this.type===ut.star&&kt&Ir&&this.unexpected(),pt.generator=this.eat(ut.star)),this.options.ecmaVersion>=8&&(pt.async=!!Bt),kt&$r&&(pt.id=kt&Xr&&this.type!==ut.name?null:this.parseIdent(),pt.id&&!(kt&Ir)&&this.checkLValSimple(pt.id,this.strict||pt.generator||pt.async?this.treatFunctionsAsVar?Bn:An:dn));var ur=this.yieldPos,gr=this.awaitPos,Lr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(hn(pt.async,pt.generator)),kt&$r||(pt.id=this.type===ut.name?this.parseIdent():null),this.parseFunctionParams(pt),this.parseFunctionBody(pt,Nt,!1,Xt),this.yieldPos=ur,this.awaitPos=gr,this.awaitIdentPos=Lr,this.finishNode(pt,kt&$r?"FunctionDeclaration":"FunctionExpression")},Yt.parseFunctionParams=function(pt){this.expect(ut.parenL),pt.params=this.parseBindingList(ut.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Yt.parseClass=function(pt,kt){this.next();var Nt=this.strict;this.strict=!0,this.parseClassId(pt,kt),this.parseClassSuper(pt);var Bt=this.enterClassBody(),Xt=this.startNode(),ur=!1;for(Xt.body=[],this.expect(ut.braceL);this.type!==ut.braceR;){var gr=this.parseClassElement(pt.superClass!==null);gr&&(Xt.body.push(gr),gr.type==="MethodDefinition"&&gr.kind==="constructor"?(ur&&this.raiseRecoverable(gr.start,"Duplicate constructor in the same class"),ur=!0):gr.key&&gr.key.type==="PrivateIdentifier"&&un(Bt,gr)&&this.raiseRecoverable(gr.key.start,"Identifier '#"+gr.key.name+"' has already been declared"))}return this.strict=Nt,this.next(),pt.body=this.finishNode(Xt,"ClassBody"),this.exitClassBody(),this.finishNode(pt,kt?"ClassDeclaration":"ClassExpression")},Yt.parseClassElement=function(pt){if(this.eat(ut.semi))return null;var kt=this.options.ecmaVersion,Nt=this.startNode(),Bt="",Xt=!1,ur=!1,gr="method",Lr=!1;if(this.eatContextual("static")){if(kt>=13&&this.eat(ut.braceL))return this.parseClassStaticBlock(Nt),Nt;this.isClassElementNameStart()||this.type===ut.star?Lr=!0:Bt="static"}if(Nt.static=Lr,!Bt&&kt>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===ut.star)&&!this.canInsertSemicolon()?ur=!0:Bt="async"),!Bt&&(kt>=9||!ur)&&this.eat(ut.star)&&(Xt=!0),!Bt&&!ur&&!Xt){var Vr=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?gr=Vr:Bt=Vr)}if(Bt?(Nt.computed=!1,Nt.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Nt.key.name=Bt,this.finishNode(Nt.key,"Identifier")):this.parseClassElementName(Nt),kt<13||this.type===ut.parenL||gr!=="method"||Xt||ur){var cn=!Nt.static&&Fr(Nt,"constructor"),sn=cn&&pt;cn&&gr!=="method"&&this.raise(Nt.key.start,"Constructor can't have get/set modifier"),Nt.kind=cn?"constructor":gr,this.parseClassMethod(Nt,Xt,ur,sn)}else this.parseClassField(Nt);return Nt},Yt.isClassElementNameStart=function(){return this.type===ut.name||this.type===ut.privateId||this.type===ut.num||this.type===ut.string||this.type===ut.bracketL||this.type.keyword},Yt.parseClassElementName=function(pt){this.type===ut.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),pt.computed=!1,pt.key=this.parsePrivateIdent()):this.parsePropertyName(pt)},Yt.parseClassMethod=function(pt,kt,Nt,Bt){var Xt=pt.key;pt.kind==="constructor"?(kt&&this.raise(Xt.start,"Constructor can't be a generator"),Nt&&this.raise(Xt.start,"Constructor can't be an async method")):pt.static&&Fr(pt,"prototype")&&this.raise(Xt.start,"Classes may not have a static property named prototype");var ur=pt.value=this.parseMethod(kt,Nt,Bt);return pt.kind==="get"&&ur.params.length!==0&&this.raiseRecoverable(ur.start,"getter should have no params"),pt.kind==="set"&&ur.params.length!==1&&this.raiseRecoverable(ur.start,"setter should have exactly one param"),pt.kind==="set"&&ur.params[0].type==="RestElement"&&this.raiseRecoverable(ur.params[0].start,"Setter cannot use rest params"),this.finishNode(pt,"MethodDefinition")},Yt.parseClassField=function(pt){if(Fr(pt,"constructor")?this.raise(pt.key.start,"Classes can't have a field named 'constructor'"):pt.static&&Fr(pt,"prototype")&&this.raise(pt.key.start,"Classes can't have a static field named 'prototype'"),this.eat(ut.eq)){var kt=this.currentThisScope(),Nt=kt.inClassFieldInit;kt.inClassFieldInit=!0,pt.value=this.parseMaybeAssign(),kt.inClassFieldInit=Nt}else pt.value=null;return this.semicolon(),this.finishNode(pt,"PropertyDefinition")},Yt.parseClassStaticBlock=function(pt){pt.body=[];var kt=this.labels;for(this.labels=[],this.enterScope(Gr|kr);this.type!==ut.braceR;){var Nt=this.parseStatement(null);pt.body.push(Nt)}return this.next(),this.exitScope(),this.labels=kt,this.finishNode(pt,"StaticBlock")},Yt.parseClassId=function(pt,kt){this.type===ut.name?(pt.id=this.parseIdent(),kt&&this.checkLValSimple(pt.id,An,!1)):(kt===!0&&this.unexpected(),pt.id=null)},Yt.parseClassSuper=function(pt){pt.superClass=this.eat(ut._extends)?this.parseExprSubscripts(null,!1):null},Yt.enterClassBody=function(){var pt={declared:Object.create(null),used:[]};return this.privateNameStack.push(pt),pt.declared},Yt.exitClassBody=function(){var pt=this.privateNameStack.pop(),kt=pt.declared,Nt=pt.used;if(this.options.checkPrivateFields)for(var Bt=this.privateNameStack.length,Xt=Bt===0?null:this.privateNameStack[Bt-1],ur=0;ur<Nt.length;++ur){var gr=Nt[ur];Lt(kt,gr.name)||(Xt?Xt.used.push(gr):this.raiseRecoverable(gr.start,"Private field '#"+gr.name+"' must be declared in an enclosing class"))}};function un(pt,kt){var Nt=kt.key.name,Bt=pt[Nt],Xt="true";return kt.type==="MethodDefinition"&&(kt.kind==="get"||kt.kind==="set")&&(Xt=(kt.static?"s":"i")+kt.kind),Bt==="iget"&&Xt==="iset"||Bt==="iset"&&Xt==="iget"||Bt==="sget"&&Xt==="sset"||Bt==="sset"&&Xt==="sget"?(pt[Nt]="true",!1):Bt?!0:(pt[Nt]=Xt,!1)}function Fr(pt,kt){var Nt=pt.computed,Bt=pt.key;return!Nt&&(Bt.type==="Identifier"&&Bt.name===kt||Bt.type==="Literal"&&Bt.value===kt)}Yt.parseExportAllDeclaration=function(pt,kt){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(pt.exported=this.parseModuleExportName(),this.checkExport(kt,pt.exported,this.lastTokStart)):pt.exported=null),this.expectContextual("from"),this.type!==ut.string&&this.unexpected(),pt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(pt,"ExportAllDeclaration")},Yt.parseExport=function(pt,kt){if(this.next(),this.eat(ut.star))return this.parseExportAllDeclaration(pt,kt);if(this.eat(ut._default))return this.checkExport(kt,"default",this.lastTokStart),pt.declaration=this.parseExportDefaultDeclaration(),this.finishNode(pt,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())pt.declaration=this.parseExportDeclaration(pt),pt.declaration.type==="VariableDeclaration"?this.checkVariableExport(kt,pt.declaration.declarations):this.checkExport(kt,pt.declaration.id,pt.declaration.id.start),pt.specifiers=[],pt.source=null;else{if(pt.declaration=null,pt.specifiers=this.parseExportSpecifiers(kt),this.eatContextual("from"))this.type!==ut.string&&this.unexpected(),pt.source=this.parseExprAtom();else{for(var Nt=0,Bt=pt.specifiers;Nt<Bt.length;Nt+=1){var Xt=Bt[Nt];this.checkUnreserved(Xt.local),this.checkLocalExport(Xt.local),Xt.local.type==="Literal"&&this.raise(Xt.local.start,"A string literal cannot be used as an exported binding without `from`.")}pt.source=null}this.semicolon()}return this.finishNode(pt,"ExportNamedDeclaration")},Yt.parseExportDeclaration=function(pt){return this.parseStatement(null)},Yt.parseExportDefaultDeclaration=function(){var pt;if(this.type===ut._function||(pt=this.isAsyncFunction())){var kt=this.startNode();return this.next(),pt&&this.next(),this.parseFunction(kt,$r|Xr,!1,pt)}else if(this.type===ut._class){var Nt=this.startNode();return this.parseClass(Nt,"nullableID")}else{var Bt=this.parseMaybeAssign();return this.semicolon(),Bt}},Yt.checkExport=function(pt,kt,Nt){pt&&(typeof kt!="string"&&(kt=kt.type==="Identifier"?kt.name:kt.value),Lt(pt,kt)&&this.raiseRecoverable(Nt,"Duplicate export '"+kt+"'"),pt[kt]=!0)},Yt.checkPatternExport=function(pt,kt){var Nt=kt.type;if(Nt==="Identifier")this.checkExport(pt,kt,kt.start);else if(Nt==="ObjectPattern")for(var Bt=0,Xt=kt.properties;Bt<Xt.length;Bt+=1){var ur=Xt[Bt];this.checkPatternExport(pt,ur)}else if(Nt==="ArrayPattern")for(var gr=0,Lr=kt.elements;gr<Lr.length;gr+=1){var Vr=Lr[gr];Vr&&this.checkPatternExport(pt,Vr)}else Nt==="Property"?this.checkPatternExport(pt,kt.value):Nt==="AssignmentPattern"?this.checkPatternExport(pt,kt.left):Nt==="RestElement"&&this.checkPatternExport(pt,kt.argument)},Yt.checkVariableExport=function(pt,kt){if(pt)for(var Nt=0,Bt=kt;Nt<Bt.length;Nt+=1){var Xt=Bt[Nt];this.checkPatternExport(pt,Xt.id)}},Yt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Yt.parseExportSpecifier=function(pt){var kt=this.startNode();return kt.local=this.parseModuleExportName(),kt.exported=this.eatContextual("as")?this.parseModuleExportName():kt.local,this.checkExport(pt,kt.exported,kt.exported.start),this.finishNode(kt,"ExportSpecifier")},Yt.parseExportSpecifiers=function(pt){var kt=[],Nt=!0;for(this.expect(ut.braceL);!this.eat(ut.braceR);){if(Nt)Nt=!1;else if(this.expect(ut.comma),this.afterTrailingComma(ut.braceR))break;kt.push(this.parseExportSpecifier(pt))}return kt},Yt.parseImport=function(pt){return this.next(),this.type===ut.string?(pt.specifiers=Ur,pt.source=this.parseExprAtom()):(pt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),pt.source=this.type===ut.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(pt,"ImportDeclaration")},Yt.parseImportSpecifier=function(){var pt=this.startNode();return pt.imported=this.parseModuleExportName(),this.eatContextual("as")?pt.local=this.parseIdent():(this.checkUnreserved(pt.imported),pt.local=pt.imported),this.checkLValSimple(pt.local,An),this.finishNode(pt,"ImportSpecifier")},Yt.parseImportDefaultSpecifier=function(){var pt=this.startNode();return pt.local=this.parseIdent(),this.checkLValSimple(pt.local,An),this.finishNode(pt,"ImportDefaultSpecifier")},Yt.parseImportNamespaceSpecifier=function(){var pt=this.startNode();return this.next(),this.expectContextual("as"),pt.local=this.parseIdent(),this.checkLValSimple(pt.local,An),this.finishNode(pt,"ImportNamespaceSpecifier")},Yt.parseImportSpecifiers=function(){var pt=[],kt=!0;if(this.type===ut.name&&(pt.push(this.parseImportDefaultSpecifier()),!this.eat(ut.comma)))return pt;if(this.type===ut.star)return pt.push(this.parseImportNamespaceSpecifier()),pt;for(this.expect(ut.braceL);!this.eat(ut.braceR);){if(kt)kt=!1;else if(this.expect(ut.comma),this.afterTrailingComma(ut.braceR))break;pt.push(this.parseImportSpecifier())}return pt},Yt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===ut.string){var pt=this.parseLiteral(this.value);return Qt.test(pt.value)&&this.raise(pt.start,"An export name cannot include a lone surrogate."),pt}return this.parseIdent(!0)},Yt.adaptDirectivePrologue=function(pt){for(var kt=0;kt<pt.length&&this.isDirectiveCandidate(pt[kt]);++kt)pt[kt].directive=pt[kt].expression.raw.slice(1,-1)},Yt.isDirectiveCandidate=function(pt){return this.options.ecmaVersion>=5&&pt.type==="ExpressionStatement"&&pt.expression.type==="Literal"&&typeof pt.expression.value=="string"&&(this.input[pt.start]==='"'||this.input[pt.start]==="'")};var qr=Tr.prototype;qr.toAssignable=function(pt,kt,Nt){if(this.options.ecmaVersion>=6&&pt)switch(pt.type){case"Identifier":this.inAsync&&pt.name==="await"&&this.raise(pt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":pt.type="ObjectPattern",Nt&&this.checkPatternErrors(Nt,!0);for(var Bt=0,Xt=pt.properties;Bt<Xt.length;Bt+=1){var ur=Xt[Bt];this.toAssignable(ur,kt),ur.type==="RestElement"&&(ur.argument.type==="ArrayPattern"||ur.argument.type==="ObjectPattern")&&this.raise(ur.argument.start,"Unexpected token")}break;case"Property":pt.kind!=="init"&&this.raise(pt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(pt.value,kt);break;case"ArrayExpression":pt.type="ArrayPattern",Nt&&this.checkPatternErrors(Nt,!0),this.toAssignableList(pt.elements,kt);break;case"SpreadElement":pt.type="RestElement",this.toAssignable(pt.argument,kt),pt.argument.type==="AssignmentPattern"&&this.raise(pt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":pt.operator!=="="&&this.raise(pt.left.end,"Only '=' operator can be used for specifying default value."),pt.type="AssignmentPattern",delete pt.operator,this.toAssignable(pt.left,kt);break;case"ParenthesizedExpression":this.toAssignable(pt.expression,kt,Nt);break;case"ChainExpression":this.raiseRecoverable(pt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!kt)break;default:this.raise(pt.start,"Assigning to rvalue")}else Nt&&this.checkPatternErrors(Nt,!0);return pt},qr.toAssignableList=function(pt,kt){for(var Nt=pt.length,Bt=0;Bt<Nt;Bt++){var Xt=pt[Bt];Xt&&this.toAssignable(Xt,kt)}if(Nt){var ur=pt[Nt-1];this.options.ecmaVersion===6&&kt&&ur&&ur.type==="RestElement"&&ur.argument.type!=="Identifier"&&this.unexpected(ur.argument.start)}return pt},qr.parseSpread=function(pt){var kt=this.startNode();return this.next(),kt.argument=this.parseMaybeAssign(!1,pt),this.finishNode(kt,"SpreadElement")},qr.parseRestBinding=function(){var pt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==ut.name&&this.unexpected(),pt.argument=this.parseBindingAtom(),this.finishNode(pt,"RestElement")},qr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case ut.bracketL:var pt=this.startNode();return this.next(),pt.elements=this.parseBindingList(ut.bracketR,!0,!0),this.finishNode(pt,"ArrayPattern");case ut.braceL:return this.parseObj(!0)}return this.parseIdent()},qr.parseBindingList=function(pt,kt,Nt,Bt){for(var Xt=[],ur=!0;!this.eat(pt);)if(ur?ur=!1:this.expect(ut.comma),kt&&this.type===ut.comma)Xt.push(null);else{if(Nt&&this.afterTrailingComma(pt))break;if(this.type===ut.ellipsis){var gr=this.parseRestBinding();this.parseBindingListItem(gr),Xt.push(gr),this.type===ut.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(pt);break}else Xt.push(this.parseAssignableListItem(Bt))}return Xt},qr.parseAssignableListItem=function(pt){var kt=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(kt),kt},qr.parseBindingListItem=function(pt){return pt},qr.parseMaybeDefault=function(pt,kt,Nt){if(Nt=Nt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(ut.eq))return Nt;var Bt=this.startNodeAt(pt,kt);return Bt.left=Nt,Bt.right=this.parseMaybeAssign(),this.finishNode(Bt,"AssignmentPattern")},qr.checkLValSimple=function(pt,kt,Nt){kt===void 0&&(kt=Mn);var Bt=kt!==Mn;switch(pt.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(pt.name)&&this.raiseRecoverable(pt.start,(Bt?"Binding ":"Assigning to ")+pt.name+" in strict mode"),Bt&&(kt===An&&pt.name==="let"&&this.raiseRecoverable(pt.start,"let is disallowed as a lexically bound name"),Nt&&(Lt(Nt,pt.name)&&this.raiseRecoverable(pt.start,"Argument name clash"),Nt[pt.name]=!0),kt!==Dn&&this.declareName(pt.name,kt,pt.start));break;case"ChainExpression":this.raiseRecoverable(pt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":Bt&&this.raiseRecoverable(pt.start,"Binding member expression");break;case"ParenthesizedExpression":return Bt&&this.raiseRecoverable(pt.start,"Binding parenthesized expression"),this.checkLValSimple(pt.expression,kt,Nt);default:this.raise(pt.start,(Bt?"Binding":"Assigning to")+" rvalue")}},qr.checkLValPattern=function(pt,kt,Nt){switch(kt===void 0&&(kt=Mn),pt.type){case"ObjectPattern":for(var Bt=0,Xt=pt.properties;Bt<Xt.length;Bt+=1){var ur=Xt[Bt];this.checkLValInnerPattern(ur,kt,Nt)}break;case"ArrayPattern":for(var gr=0,Lr=pt.elements;gr<Lr.length;gr+=1){var Vr=Lr[gr];Vr&&this.checkLValInnerPattern(Vr,kt,Nt)}break;default:this.checkLValSimple(pt,kt,Nt)}},qr.checkLValInnerPattern=function(pt,kt,Nt){switch(kt===void 0&&(kt=Mn),pt.type){case"Property":this.checkLValInnerPattern(pt.value,kt,Nt);break;case"AssignmentPattern":this.checkLValPattern(pt.left,kt,Nt);break;case"RestElement":this.checkLValPattern(pt.argument,kt,Nt);break;default:this.checkLValPattern(pt,kt,Nt)}};var Wr=function(kt,Nt,Bt,Xt,ur){this.token=kt,this.isExpr=!!Nt,this.preserveSpace=!!Bt,this.override=Xt,this.generator=!!ur},zr={b_stat:new Wr("{",!1),b_expr:new Wr("{",!0),b_tmpl:new Wr("${",!1),p_stat:new Wr("(",!1),p_expr:new Wr("(",!0),q_tmpl:new Wr("`",!0,!0,function(pt){return pt.tryReadTemplateToken()}),f_stat:new Wr("function",!1),f_expr:new Wr("function",!0),f_expr_gen:new Wr("function",!0,!1,null,!0),f_gen:new Wr("function",!1,!1,null,!0)},ln=Tr.prototype;ln.initialContext=function(){return[zr.b_stat]},ln.curContext=function(){return this.context[this.context.length-1]},ln.braceIsBlock=function(pt){var kt=this.curContext();return kt===zr.f_expr||kt===zr.f_stat?!0:pt===ut.colon&&(kt===zr.b_stat||kt===zr.b_expr)?!kt.isExpr:pt===ut._return||pt===ut.name&&this.exprAllowed?wt.test(this.input.slice(this.lastTokEnd,this.start)):pt===ut._else||pt===ut.semi||pt===ut.eof||pt===ut.parenR||pt===ut.arrow?!0:pt===ut.braceL?kt===zr.b_stat:pt===ut._var||pt===ut._const||pt===ut.name?!1:!this.exprAllowed},ln.inGeneratorContext=function(){for(var pt=this.context.length-1;pt>=1;pt--){var kt=this.context[pt];if(kt.token==="function")return kt.generator}return!1},ln.updateContext=function(pt){var kt,Nt=this.type;Nt.keyword&&pt===ut.dot?this.exprAllowed=!1:(kt=Nt.updateContext)?kt.call(this,pt):this.exprAllowed=Nt.beforeExpr},ln.overrideContext=function(pt){this.curContext()!==pt&&(this.context[this.context.length-1]=pt)},ut.parenR.updateContext=ut.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var pt=this.context.pop();pt===zr.b_stat&&this.curContext().token==="function"&&(pt=this.context.pop()),this.exprAllowed=!pt.isExpr},ut.braceL.updateContext=function(pt){this.context.push(this.braceIsBlock(pt)?zr.b_stat:zr.b_expr),this.exprAllowed=!0},ut.dollarBraceL.updateContext=function(){this.context.push(zr.b_tmpl),this.exprAllowed=!0},ut.parenL.updateContext=function(pt){var kt=pt===ut._if||pt===ut._for||pt===ut._with||pt===ut._while;this.context.push(kt?zr.p_stat:zr.p_expr),this.exprAllowed=!0},ut.incDec.updateContext=function(){},ut._function.updateContext=ut._class.updateContext=function(pt){pt.beforeExpr&&pt!==ut._else&&!(pt===ut.semi&&this.curContext()!==zr.p_stat)&&!(pt===ut._return&&wt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((pt===ut.colon||pt===ut.braceL)&&this.curContext()===zr.b_stat)?this.context.push(zr.f_expr):this.context.push(zr.f_stat),this.exprAllowed=!1},ut.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},ut.backQuote.updateContext=function(){this.curContext()===zr.q_tmpl?this.context.pop():this.context.push(zr.q_tmpl),this.exprAllowed=!1},ut.star.updateContext=function(pt){if(pt===ut._function){var kt=this.context.length-1;this.context[kt]===zr.f_expr?this.context[kt]=zr.f_expr_gen:this.context[kt]=zr.f_gen}this.exprAllowed=!0},ut.name.updateContext=function(pt){var kt=!1;this.options.ecmaVersion>=6&&pt!==ut.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(kt=!0),this.exprAllowed=kt};var Er=Tr.prototype;Er.checkPropClash=function(pt,kt,Nt){if(!(this.options.ecmaVersion>=9&&pt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(pt.computed||pt.method||pt.shorthand))){var Bt=pt.key,Xt;switch(Bt.type){case"Identifier":Xt=Bt.name;break;case"Literal":Xt=String(Bt.value);break;default:return}var ur=pt.kind;if(this.options.ecmaVersion>=6){Xt==="__proto__"&&ur==="init"&&(kt.proto&&(Nt?Nt.doubleProto<0&&(Nt.doubleProto=Bt.start):this.raiseRecoverable(Bt.start,"Redefinition of __proto__ property")),kt.proto=!0);return}Xt="$"+Xt;var gr=kt[Xt];if(gr){var Lr;ur==="init"?Lr=this.strict&&gr.init||gr.get||gr.set:Lr=gr.init||gr[ur],Lr&&this.raiseRecoverable(Bt.start,"Redefinition of property")}else gr=kt[Xt]={init:!1,get:!1,set:!1};gr[ur]=!0}},Er.parseExpression=function(pt,kt){var Nt=this.start,Bt=this.startLoc,Xt=this.parseMaybeAssign(pt,kt);if(this.type===ut.comma){var ur=this.startNodeAt(Nt,Bt);for(ur.expressions=[Xt];this.eat(ut.comma);)ur.expressions.push(this.parseMaybeAssign(pt,kt));return this.finishNode(ur,"SequenceExpression")}return Xt},Er.parseMaybeAssign=function(pt,kt,Nt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(pt);this.exprAllowed=!1}var Bt=!1,Xt=-1,ur=-1,gr=-1;kt?(Xt=kt.parenthesizedAssign,ur=kt.trailingComma,gr=kt.doubleProto,kt.parenthesizedAssign=kt.trailingComma=-1):(kt=new er,Bt=!0);var Lr=this.start,Vr=this.startLoc;(this.type===ut.parenL||this.type===ut.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=pt==="await");var cn=this.parseMaybeConditional(pt,kt);if(Nt&&(cn=Nt.call(this,cn,Lr,Vr)),this.type.isAssign){var sn=this.startNodeAt(Lr,Vr);return sn.operator=this.value,this.type===ut.eq&&(cn=this.toAssignable(cn,!1,kt)),Bt||(kt.parenthesizedAssign=kt.trailingComma=kt.doubleProto=-1),kt.shorthandAssign>=cn.start&&(kt.shorthandAssign=-1),this.type===ut.eq?this.checkLValPattern(cn):this.checkLValSimple(cn),sn.left=cn,this.next(),sn.right=this.parseMaybeAssign(pt),gr>-1&&(kt.doubleProto=gr),this.finishNode(sn,"AssignmentExpression")}else Bt&&this.checkExpressionErrors(kt,!0);return Xt>-1&&(kt.parenthesizedAssign=Xt),ur>-1&&(kt.trailingComma=ur),cn},Er.parseMaybeConditional=function(pt,kt){var Nt=this.start,Bt=this.startLoc,Xt=this.parseExprOps(pt,kt);if(this.checkExpressionErrors(kt))return Xt;if(this.eat(ut.question)){var ur=this.startNodeAt(Nt,Bt);return ur.test=Xt,ur.consequent=this.parseMaybeAssign(),this.expect(ut.colon),ur.alternate=this.parseMaybeAssign(pt),this.finishNode(ur,"ConditionalExpression")}return Xt},Er.parseExprOps=function(pt,kt){var Nt=this.start,Bt=this.startLoc,Xt=this.parseMaybeUnary(kt,!1,!1,pt);return this.checkExpressionErrors(kt)||Xt.start===Nt&&Xt.type==="ArrowFunctionExpression"?Xt:this.parseExprOp(Xt,Nt,Bt,-1,pt)},Er.parseExprOp=function(pt,kt,Nt,Bt,Xt){var ur=this.type.binop;if(ur!=null&&(!Xt||this.type!==ut._in)&&ur>Bt){var gr=this.type===ut.logicalOR||this.type===ut.logicalAND,Lr=this.type===ut.coalesce;Lr&&(ur=ut.logicalAND.binop);var Vr=this.value;this.next();var cn=this.start,sn=this.startLoc,Fn=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Xt),cn,sn,ur,Xt),Es=this.buildBinary(kt,Nt,pt,Fn,Vr,gr||Lr);return(gr&&this.type===ut.coalesce||Lr&&(this.type===ut.logicalOR||this.type===ut.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Es,kt,Nt,Bt,Xt)}return pt},Er.buildBinary=function(pt,kt,Nt,Bt,Xt,ur){Bt.type==="PrivateIdentifier"&&this.raise(Bt.start,"Private identifier can only be left side of binary expression");var gr=this.startNodeAt(pt,kt);return gr.left=Nt,gr.operator=Xt,gr.right=Bt,this.finishNode(gr,ur?"LogicalExpression":"BinaryExpression")},Er.parseMaybeUnary=function(pt,kt,Nt,Bt){var Xt=this.start,ur=this.startLoc,gr;if(this.isContextual("await")&&this.canAwait)gr=this.parseAwait(Bt),kt=!0;else if(this.type.prefix){var Lr=this.startNode(),Vr=this.type===ut.incDec;Lr.operator=this.value,Lr.prefix=!0,this.next(),Lr.argument=this.parseMaybeUnary(null,!0,Vr,Bt),this.checkExpressionErrors(pt,!0),Vr?this.checkLValSimple(Lr.argument):this.strict&&Lr.operator==="delete"&&mn(Lr.argument)?this.raiseRecoverable(Lr.start,"Deleting local variable in strict mode"):Lr.operator==="delete"&&Ss(Lr.argument)?this.raiseRecoverable(Lr.start,"Private fields can not be deleted"):kt=!0,gr=this.finishNode(Lr,Vr?"UpdateExpression":"UnaryExpression")}else if(!kt&&this.type===ut.privateId)(Bt||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),gr=this.parsePrivateIdent(),this.type!==ut._in&&this.unexpected();else{if(gr=this.parseExprSubscripts(pt,Bt),this.checkExpressionErrors(pt))return gr;for(;this.type.postfix&&!this.canInsertSemicolon();){var cn=this.startNodeAt(Xt,ur);cn.operator=this.value,cn.prefix=!1,cn.argument=gr,this.checkLValSimple(gr),this.next(),gr=this.finishNode(cn,"UpdateExpression")}}if(!Nt&&this.eat(ut.starstar))if(kt)this.unexpected(this.lastTokStart);else return this.buildBinary(Xt,ur,gr,this.parseMaybeUnary(null,!1,!1,Bt),"**",!1);else return gr};function mn(pt){return pt.type==="Identifier"||pt.type==="ParenthesizedExpression"&&mn(pt.expression)}function Ss(pt){return pt.type==="MemberExpression"&&pt.property.type==="PrivateIdentifier"||pt.type==="ChainExpression"&&Ss(pt.expression)||pt.type==="ParenthesizedExpression"&&Ss(pt.expression)}Er.parseExprSubscripts=function(pt,kt){var Nt=this.start,Bt=this.startLoc,Xt=this.parseExprAtom(pt,kt);if(Xt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Xt;var ur=this.parseSubscripts(Xt,Nt,Bt,!1,kt);return pt&&ur.type==="MemberExpression"&&(pt.parenthesizedAssign>=ur.start&&(pt.parenthesizedAssign=-1),pt.parenthesizedBind>=ur.start&&(pt.parenthesizedBind=-1),pt.trailingComma>=ur.start&&(pt.trailingComma=-1)),ur},Er.parseSubscripts=function(pt,kt,Nt,Bt,Xt){for(var ur=this.options.ecmaVersion>=8&&pt.type==="Identifier"&&pt.name==="async"&&this.lastTokEnd===pt.end&&!this.canInsertSemicolon()&&pt.end-pt.start===5&&this.potentialArrowAt===pt.start,gr=!1;;){var Lr=this.parseSubscript(pt,kt,Nt,Bt,ur,gr,Xt);if(Lr.optional&&(gr=!0),Lr===pt||Lr.type==="ArrowFunctionExpression"){if(gr){var Vr=this.startNodeAt(kt,Nt);Vr.expression=Lr,Lr=this.finishNode(Vr,"ChainExpression")}return Lr}pt=Lr}},Er.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(ut.arrow)},Er.parseSubscriptAsyncArrow=function(pt,kt,Nt,Bt){return this.parseArrowExpression(this.startNodeAt(pt,kt),Nt,!0,Bt)},Er.parseSubscript=function(pt,kt,Nt,Bt,Xt,ur,gr){var Lr=this.options.ecmaVersion>=11,Vr=Lr&&this.eat(ut.questionDot);Bt&&Vr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var cn=this.eat(ut.bracketL);if(cn||Vr&&this.type!==ut.parenL&&this.type!==ut.backQuote||this.eat(ut.dot)){var sn=this.startNodeAt(kt,Nt);sn.object=pt,cn?(sn.property=this.parseExpression(),this.expect(ut.bracketR)):this.type===ut.privateId&&pt.type!=="Super"?sn.property=this.parsePrivateIdent():sn.property=this.parseIdent(this.options.allowReserved!=="never"),sn.computed=!!cn,Lr&&(sn.optional=Vr),pt=this.finishNode(sn,"MemberExpression")}else if(!Bt&&this.eat(ut.parenL)){var Fn=new er,Es=this.yieldPos,$n=this.awaitPos,_n=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var lr=this.parseExprList(ut.parenR,this.options.ecmaVersion>=8,!1,Fn);if(Xt&&!Vr&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Fn,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Es,this.awaitPos=$n,this.awaitIdentPos=_n,this.parseSubscriptAsyncArrow(kt,Nt,lr,gr);this.checkExpressionErrors(Fn,!0),this.yieldPos=Es||this.yieldPos,this.awaitPos=$n||this.awaitPos,this.awaitIdentPos=_n||this.awaitIdentPos;var jt=this.startNodeAt(kt,Nt);jt.callee=pt,jt.arguments=lr,Lr&&(jt.optional=Vr),pt=this.finishNode(jt,"CallExpression")}else if(this.type===ut.backQuote){(Vr||ur)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var or=this.startNodeAt(kt,Nt);or.tag=pt,or.quasi=this.parseTemplate({isTagged:!0}),pt=this.finishNode(or,"TaggedTemplateExpression")}return pt},Er.parseExprAtom=function(pt,kt,Nt){this.type===ut.slash&&this.readRegexp();var Bt,Xt=this.potentialArrowAt===this.start;switch(this.type){case ut._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Bt=this.startNode(),this.next(),this.type===ut.parenL&&!this.allowDirectSuper&&this.raise(Bt.start,"super() call outside constructor of a subclass"),this.type!==ut.dot&&this.type!==ut.bracketL&&this.type!==ut.parenL&&this.unexpected(),this.finishNode(Bt,"Super");case ut._this:return Bt=this.startNode(),this.next(),this.finishNode(Bt,"ThisExpression");case ut.name:var ur=this.start,gr=this.startLoc,Lr=this.containsEsc,Vr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Lr&&Vr.name==="async"&&!this.canInsertSemicolon()&&this.eat(ut._function))return this.overrideContext(zr.f_expr),this.parseFunction(this.startNodeAt(ur,gr),0,!1,!0,kt);if(Xt&&!this.canInsertSemicolon()){if(this.eat(ut.arrow))return this.parseArrowExpression(this.startNodeAt(ur,gr),[Vr],!1,kt);if(this.options.ecmaVersion>=8&&Vr.name==="async"&&this.type===ut.name&&!Lr&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Vr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(ut.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(ur,gr),[Vr],!0,kt)}return Vr;case ut.regexp:var cn=this.value;return Bt=this.parseLiteral(cn.value),Bt.regex={pattern:cn.pattern,flags:cn.flags},Bt;case ut.num:case ut.string:return this.parseLiteral(this.value);case ut._null:case ut._true:case ut._false:return Bt=this.startNode(),Bt.value=this.type===ut._null?null:this.type===ut._true,Bt.raw=this.type.keyword,this.next(),this.finishNode(Bt,"Literal");case ut.parenL:var sn=this.start,Fn=this.parseParenAndDistinguishExpression(Xt,kt);return pt&&(pt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Fn)&&(pt.parenthesizedAssign=sn),pt.parenthesizedBind<0&&(pt.parenthesizedBind=sn)),Fn;case ut.bracketL:return Bt=this.startNode(),this.next(),Bt.elements=this.parseExprList(ut.bracketR,!0,!0,pt),this.finishNode(Bt,"ArrayExpression");case ut.braceL:return this.overrideContext(zr.b_expr),this.parseObj(!1,pt);case ut._function:return Bt=this.startNode(),this.next(),this.parseFunction(Bt,0);case ut._class:return this.parseClass(this.startNode(),!1);case ut._new:return this.parseNew();case ut.backQuote:return this.parseTemplate();case ut._import:return this.options.ecmaVersion>=11?this.parseExprImport(Nt):this.unexpected();default:return this.parseExprAtomDefault()}},Er.parseExprAtomDefault=function(){this.unexpected()},Er.parseExprImport=function(pt){var kt=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===ut.parenL&&!pt)return this.parseDynamicImport(kt);if(this.type===ut.dot){var Nt=this.startNodeAt(kt.start,kt.loc&&kt.loc.start);return Nt.name="import",kt.meta=this.finishNode(Nt,"Identifier"),this.parseImportMeta(kt)}else this.unexpected()},Er.parseDynamicImport=function(pt){if(this.next(),pt.source=this.parseMaybeAssign(),!this.eat(ut.parenR)){var kt=this.start;this.eat(ut.comma)&&this.eat(ut.parenR)?this.raiseRecoverable(kt,"Trailing comma is not allowed in import()"):this.unexpected(kt)}return this.finishNode(pt,"ImportExpression")},Er.parseImportMeta=function(pt){this.next();var kt=this.containsEsc;return pt.property=this.parseIdent(!0),pt.property.name!=="meta"&&this.raiseRecoverable(pt.property.start,"The only valid meta property for import is 'import.meta'"),kt&&this.raiseRecoverable(pt.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(pt.start,"Cannot use 'import.meta' outside a module"),this.finishNode(pt,"MetaProperty")},Er.parseLiteral=function(pt){var kt=this.startNode();return kt.value=pt,kt.raw=this.input.slice(this.start,this.end),kt.raw.charCodeAt(kt.raw.length-1)===110&&(kt.bigint=kt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(kt,"Literal")},Er.parseParenExpression=function(){this.expect(ut.parenL);var pt=this.parseExpression();return this.expect(ut.parenR),pt},Er.shouldParseArrow=function(pt){return!this.canInsertSemicolon()},Er.parseParenAndDistinguishExpression=function(pt,kt){var Nt=this.start,Bt=this.startLoc,Xt,ur=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var gr=this.start,Lr=this.startLoc,Vr=[],cn=!0,sn=!1,Fn=new er,Es=this.yieldPos,$n=this.awaitPos,_n;for(this.yieldPos=0,this.awaitPos=0;this.type!==ut.parenR;)if(cn?cn=!1:this.expect(ut.comma),ur&&this.afterTrailingComma(ut.parenR,!0)){sn=!0;break}else if(this.type===ut.ellipsis){_n=this.start,Vr.push(this.parseParenItem(this.parseRestBinding())),this.type===ut.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Vr.push(this.parseMaybeAssign(!1,Fn,this.parseParenItem));var lr=this.lastTokEnd,jt=this.lastTokEndLoc;if(this.expect(ut.parenR),pt&&this.shouldParseArrow(Vr)&&this.eat(ut.arrow))return this.checkPatternErrors(Fn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Es,this.awaitPos=$n,this.parseParenArrowList(Nt,Bt,Vr,kt);(!Vr.length||sn)&&this.unexpected(this.lastTokStart),_n&&this.unexpected(_n),this.checkExpressionErrors(Fn,!0),this.yieldPos=Es||this.yieldPos,this.awaitPos=$n||this.awaitPos,Vr.length>1?(Xt=this.startNodeAt(gr,Lr),Xt.expressions=Vr,this.finishNodeAt(Xt,"SequenceExpression",lr,jt)):Xt=Vr[0]}else Xt=this.parseParenExpression();if(this.options.preserveParens){var or=this.startNodeAt(Nt,Bt);return or.expression=Xt,this.finishNode(or,"ParenthesizedExpression")}else return Xt},Er.parseParenItem=function(pt){return pt},Er.parseParenArrowList=function(pt,kt,Nt,Bt){return this.parseArrowExpression(this.startNodeAt(pt,kt),Nt,!1,Bt)};var ws=[];Er.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var pt=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===ut.dot){var kt=this.startNodeAt(pt.start,pt.loc&&pt.loc.start);kt.name="new",pt.meta=this.finishNode(kt,"Identifier"),this.next();var Nt=this.containsEsc;return pt.property=this.parseIdent(!0),pt.property.name!=="target"&&this.raiseRecoverable(pt.property.start,"The only valid meta property for new is 'new.target'"),Nt&&this.raiseRecoverable(pt.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(pt.start,"'new.target' can only be used in functions and class static block"),this.finishNode(pt,"MetaProperty")}var Bt=this.start,Xt=this.startLoc;return pt.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),Bt,Xt,!0,!1),this.eat(ut.parenL)?pt.arguments=this.parseExprList(ut.parenR,this.options.ecmaVersion>=8,!1):pt.arguments=ws,this.finishNode(pt,"NewExpression")},Er.parseTemplateElement=function(pt){var kt=pt.isTagged,Nt=this.startNode();return this.type===ut.invalidTemplate?(kt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Nt.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):Nt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Nt.tail=this.type===ut.backQuote,this.finishNode(Nt,"TemplateElement")},Er.parseTemplate=function(pt){pt===void 0&&(pt={});var kt=pt.isTagged;kt===void 0&&(kt=!1);var Nt=this.startNode();this.next(),Nt.expressions=[];var Bt=this.parseTemplateElement({isTagged:kt});for(Nt.quasis=[Bt];!Bt.tail;)this.type===ut.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(ut.dollarBraceL),Nt.expressions.push(this.parseExpression()),this.expect(ut.braceR),Nt.quasis.push(Bt=this.parseTemplateElement({isTagged:kt}));return this.next(),this.finishNode(Nt,"TemplateLiteral")},Er.isAsyncProp=function(pt){return!pt.computed&&pt.key.type==="Identifier"&&pt.key.name==="async"&&(this.type===ut.name||this.type===ut.num||this.type===ut.string||this.type===ut.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===ut.star)&&!wt.test(this.input.slice(this.lastTokEnd,this.start))},Er.parseObj=function(pt,kt){var Nt=this.startNode(),Bt=!0,Xt={};for(Nt.properties=[],this.next();!this.eat(ut.braceR);){if(Bt)Bt=!1;else if(this.expect(ut.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(ut.braceR))break;var ur=this.parseProperty(pt,kt);pt||this.checkPropClash(ur,Xt,kt),Nt.properties.push(ur)}return this.finishNode(Nt,pt?"ObjectPattern":"ObjectExpression")},Er.parseProperty=function(pt,kt){var Nt=this.startNode(),Bt,Xt,ur,gr;if(this.options.ecmaVersion>=9&&this.eat(ut.ellipsis))return pt?(Nt.argument=this.parseIdent(!1),this.type===ut.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(Nt,"RestElement")):(Nt.argument=this.parseMaybeAssign(!1,kt),this.type===ut.comma&&kt&&kt.trailingComma<0&&(kt.trailingComma=this.start),this.finishNode(Nt,"SpreadElement"));this.options.ecmaVersion>=6&&(Nt.method=!1,Nt.shorthand=!1,(pt||kt)&&(ur=this.start,gr=this.startLoc),pt||(Bt=this.eat(ut.star)));var Lr=this.containsEsc;return this.parsePropertyName(Nt),!pt&&!Lr&&this.options.ecmaVersion>=8&&!Bt&&this.isAsyncProp(Nt)?(Xt=!0,Bt=this.options.ecmaVersion>=9&&this.eat(ut.star),this.parsePropertyName(Nt)):Xt=!1,this.parsePropertyValue(Nt,pt,Bt,Xt,ur,gr,kt,Lr),this.finishNode(Nt,"Property")},Er.parseGetterSetter=function(pt){pt.kind=pt.key.name,this.parsePropertyName(pt),pt.value=this.parseMethod(!1);var kt=pt.kind==="get"?0:1;if(pt.value.params.length!==kt){var Nt=pt.value.start;pt.kind==="get"?this.raiseRecoverable(Nt,"getter should have no params"):this.raiseRecoverable(Nt,"setter should have exactly one param")}else pt.kind==="set"&&pt.value.params[0].type==="RestElement"&&this.raiseRecoverable(pt.value.params[0].start,"Setter cannot use rest params")},Er.parsePropertyValue=function(pt,kt,Nt,Bt,Xt,ur,gr,Lr){(Nt||Bt)&&this.type===ut.colon&&this.unexpected(),this.eat(ut.colon)?(pt.value=kt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,gr),pt.kind="init"):this.options.ecmaVersion>=6&&this.type===ut.parenL?(kt&&this.unexpected(),pt.kind="init",pt.method=!0,pt.value=this.parseMethod(Nt,Bt)):!kt&&!Lr&&this.options.ecmaVersion>=5&&!pt.computed&&pt.key.type==="Identifier"&&(pt.key.name==="get"||pt.key.name==="set")&&this.type!==ut.comma&&this.type!==ut.braceR&&this.type!==ut.eq?((Nt||Bt)&&this.unexpected(),this.parseGetterSetter(pt)):this.options.ecmaVersion>=6&&!pt.computed&&pt.key.type==="Identifier"?((Nt||Bt)&&this.unexpected(),this.checkUnreserved(pt.key),pt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Xt),pt.kind="init",kt?pt.value=this.parseMaybeDefault(Xt,ur,this.copyNode(pt.key)):this.type===ut.eq&&gr?(gr.shorthandAssign<0&&(gr.shorthandAssign=this.start),pt.value=this.parseMaybeDefault(Xt,ur,this.copyNode(pt.key))):pt.value=this.copyNode(pt.key),pt.shorthand=!0):this.unexpected()},Er.parsePropertyName=function(pt){if(this.options.ecmaVersion>=6){if(this.eat(ut.bracketL))return pt.computed=!0,pt.key=this.parseMaybeAssign(),this.expect(ut.bracketR),pt.key;pt.computed=!1}return pt.key=this.type===ut.num||this.type===ut.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Er.initFunction=function(pt){pt.id=null,this.options.ecmaVersion>=6&&(pt.generator=pt.expression=!1),this.options.ecmaVersion>=8&&(pt.async=!1)},Er.parseMethod=function(pt,kt,Nt){var Bt=this.startNode(),Xt=this.yieldPos,ur=this.awaitPos,gr=this.awaitIdentPos;return this.initFunction(Bt),this.options.ecmaVersion>=6&&(Bt.generator=pt),this.options.ecmaVersion>=8&&(Bt.async=!!kt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(hn(kt,Bt.generator)|kr|(Nt?vr:0)),this.expect(ut.parenL),Bt.params=this.parseBindingList(ut.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Bt,!1,!0,!1),this.yieldPos=Xt,this.awaitPos=ur,this.awaitIdentPos=gr,this.finishNode(Bt,"FunctionExpression")},Er.parseArrowExpression=function(pt,kt,Nt,Bt){var Xt=this.yieldPos,ur=this.awaitPos,gr=this.awaitIdentPos;return this.enterScope(hn(Nt,!1)|rr),this.initFunction(pt),this.options.ecmaVersion>=8&&(pt.async=!!Nt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,pt.params=this.toAssignableList(kt,!0),this.parseFunctionBody(pt,!0,!1,Bt),this.yieldPos=Xt,this.awaitPos=ur,this.awaitIdentPos=gr,this.finishNode(pt,"ArrowFunctionExpression")},Er.parseFunctionBody=function(pt,kt,Nt,Bt){var Xt=kt&&this.type!==ut.braceL,ur=this.strict,gr=!1;if(Xt)pt.body=this.parseMaybeAssign(Bt),pt.expression=!0,this.checkParams(pt,!1);else{var Lr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(pt.params);(!ur||Lr)&&(gr=this.strictDirective(this.end),gr&&Lr&&this.raiseRecoverable(pt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Vr=this.labels;this.labels=[],gr&&(this.strict=!0),this.checkParams(pt,!ur&&!gr&&!kt&&!Nt&&this.isSimpleParamList(pt.params)),this.strict&&pt.id&&this.checkLValSimple(pt.id,Dn),pt.body=this.parseBlock(!1,void 0,gr&&!ur),pt.expression=!1,this.adaptDirectivePrologue(pt.body.body),this.labels=Vr}this.exitScope()},Er.isSimpleParamList=function(pt){for(var kt=0,Nt=pt;kt<Nt.length;kt+=1){var Bt=Nt[kt];if(Bt.type!=="Identifier")return!1}return!0},Er.checkParams=function(pt,kt){for(var Nt=Object.create(null),Bt=0,Xt=pt.params;Bt<Xt.length;Bt+=1){var ur=Xt[Bt];this.checkLValInnerPattern(ur,Bn,kt?null:Nt)}},Er.parseExprList=function(pt,kt,Nt,Bt){for(var Xt=[],ur=!0;!this.eat(pt);){if(ur)ur=!1;else if(this.expect(ut.comma),kt&&this.afterTrailingComma(pt))break;var gr=void 0;Nt&&this.type===ut.comma?gr=null:this.type===ut.ellipsis?(gr=this.parseSpread(Bt),Bt&&this.type===ut.comma&&Bt.trailingComma<0&&(Bt.trailingComma=this.start)):gr=this.parseMaybeAssign(!1,Bt),Xt.push(gr)}return Xt},Er.checkUnreserved=function(pt){var kt=pt.start,Nt=pt.end,Bt=pt.name;if(this.inGenerator&&Bt==="yield"&&this.raiseRecoverable(kt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Bt==="await"&&this.raiseRecoverable(kt,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&Bt==="arguments"&&this.raiseRecoverable(kt,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(Bt==="arguments"||Bt==="await")&&this.raise(kt,"Cannot use "+Bt+" in class static initialization block"),this.keywords.test(Bt)&&this.raise(kt,"Unexpected keyword '"+Bt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(kt,Nt).indexOf("\\")!==-1)){var Xt=this.strict?this.reservedWordsStrict:this.reservedWords;Xt.test(Bt)&&(!this.inAsync&&Bt==="await"&&this.raiseRecoverable(kt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(kt,"The keyword '"+Bt+"' is reserved"))}},Er.parseIdent=function(pt){var kt=this.parseIdentNode();return this.next(!!pt),this.finishNode(kt,"Identifier"),pt||(this.checkUnreserved(kt),kt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=kt.start)),kt},Er.parseIdentNode=function(){var pt=this.startNode();return this.type===ut.name?pt.name=this.value:this.type.keyword?(pt.name=this.type.keyword,(pt.name==="class"||pt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=ut.name):this.unexpected(),pt},Er.parsePrivateIdent=function(){var pt=this.startNode();return this.type===ut.privateId?pt.name=this.value:this.unexpected(),this.next(),this.finishNode(pt,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(pt.start,"Private field '#"+pt.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(pt)),pt},Er.parseYield=function(pt){this.yieldPos||(this.yieldPos=this.start);var kt=this.startNode();return this.next(),this.type===ut.semi||this.canInsertSemicolon()||this.type!==ut.star&&!this.type.startsExpr?(kt.delegate=!1,kt.argument=null):(kt.delegate=this.eat(ut.star),kt.argument=this.parseMaybeAssign(pt)),this.finishNode(kt,"YieldExpression")},Er.parseAwait=function(pt){this.awaitPos||(this.awaitPos=this.start);var kt=this.startNode();return this.next(),kt.argument=this.parseMaybeUnary(null,!0,!1,pt),this.finishNode(kt,"AwaitExpression")};var Xn=Tr.prototype;Xn.raise=function(pt,kt){var Nt=qt(this.input,pt);kt+=" ("+Nt.line+":"+Nt.column+")";var Bt=new SyntaxError(kt);throw Bt.pos=pt,Bt.loc=Nt,Bt.raisedAt=this.pos,Bt},Xn.raiseRecoverable=Xn.raise,Xn.curPosition=function(){if(this.options.locations)return new Kt(this.curLine,this.pos-this.lineStart)};var qn=Tr.prototype,Ns=function(kt){this.flags=kt,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};qn.enterScope=function(pt){this.scopeStack.push(new Ns(pt))},qn.exitScope=function(){this.scopeStack.pop()},qn.treatFunctionsAsVarInScope=function(pt){return pt.flags&xr||!this.inModule&&pt.flags&br},qn.declareName=function(pt,kt,Nt){var Bt=!1;if(kt===An){var Xt=this.currentScope();Bt=Xt.lexical.indexOf(pt)>-1||Xt.functions.indexOf(pt)>-1||Xt.var.indexOf(pt)>-1,Xt.lexical.push(pt),this.inModule&&Xt.flags&br&&delete this.undefinedExports[pt]}else if(kt===Yn){var ur=this.currentScope();ur.lexical.push(pt)}else if(kt===dn){var gr=this.currentScope();this.treatFunctionsAsVar?Bt=gr.lexical.indexOf(pt)>-1:Bt=gr.lexical.indexOf(pt)>-1||gr.var.indexOf(pt)>-1,gr.functions.push(pt)}else for(var Lr=this.scopeStack.length-1;Lr>=0;--Lr){var Vr=this.scopeStack[Lr];if(Vr.lexical.indexOf(pt)>-1&&!(Vr.flags&Cr&&Vr.lexical[0]===pt)||!this.treatFunctionsAsVarInScope(Vr)&&Vr.functions.indexOf(pt)>-1){Bt=!0;break}if(Vr.var.push(pt),this.inModule&&Vr.flags&br&&delete this.undefinedExports[pt],Vr.flags&an)break}Bt&&this.raiseRecoverable(Nt,"Identifier '"+pt+"' has already been declared")},qn.checkLocalExport=function(pt){this.scopeStack[0].lexical.indexOf(pt.name)===-1&&this.scopeStack[0].var.indexOf(pt.name)===-1&&(this.undefinedExports[pt.name]=pt)},qn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},qn.currentVarScope=function(){for(var pt=this.scopeStack.length-1;;pt--){var kt=this.scopeStack[pt];if(kt.flags&an)return kt}},qn.currentThisScope=function(){for(var pt=this.scopeStack.length-1;;pt--){var kt=this.scopeStack[pt];if(kt.flags&an&&!(kt.flags&rr))return kt}};var ts=function(kt,Nt,Bt){this.type="",this.start=Nt,this.end=0,kt.options.locations&&(this.loc=new Ht(kt,Bt)),kt.options.directSourceFile&&(this.sourceFile=kt.options.directSourceFile),kt.options.ranges&&(this.range=[Nt,0])},ks=Tr.prototype;ks.startNode=function(){return new ts(this,this.start,this.startLoc)},ks.startNodeAt=function(pt,kt){return new ts(this,pt,kt)};function Rs(pt,kt,Nt,Bt){return pt.type=kt,pt.end=Nt,this.options.locations&&(pt.loc.end=Bt),this.options.ranges&&(pt.range[1]=Nt),pt}ks.finishNode=function(pt,kt){return Rs.call(this,pt,kt,this.lastTokEnd,this.lastTokEndLoc)},ks.finishNodeAt=function(pt,kt,Nt,Bt){return Rs.call(this,pt,kt,Nt,Bt)},ks.copyNode=function(pt){var kt=new ts(this,pt.start,this.startLoc);for(var Nt in pt)kt[Nt]=pt[Nt];return kt};var zs="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",hs=zs+" Extended_Pictographic",fs=hs,Os=fs+" EBase EComp EMod EPres ExtPict",nn=Os,ms=nn,js={9:zs,10:hs,11:fs,12:Os,13:nn,14:ms},$s="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",ns={9:"",10:"",11:"",12:"",13:"",14:$s},Qs="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Us="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Zs=Us+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Js=Zs+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ws=Js+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ps=Ws+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",As=ps+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Ms={9:Us,10:Zs,11:Js,12:Ws,13:ps,14:As},_s={};function Hs(pt){var kt=_s[pt]={binary:Vt(js[pt]+" "+Qs),binaryOfStrings:Vt(ns[pt]),nonBinary:{General_Category:Vt(Qs),Script:Vt(Ms[pt])}};kt.nonBinary.Script_Extensions=kt.nonBinary.Script,kt.nonBinary.gc=kt.nonBinary.General_Category,kt.nonBinary.sc=kt.nonBinary.Script,kt.nonBinary.scx=kt.nonBinary.Script_Extensions}for(var ds=0,vn=[9,10,11,12,13,14];ds<vn.length;ds+=1){var Zr=vn[ds];Hs(Zr)}var Yr=Tr.prototype,Zn=function(kt,Nt){this.parent=kt,this.base=Nt||this};Zn.prototype.separatedFrom=function(kt){for(var Nt=this;Nt;Nt=Nt.parent)for(var Bt=kt;Bt;Bt=Bt.parent)if(Nt.base===Bt.base&&Nt!==Bt)return!0;return!1},Zn.prototype.sibling=function(){return new Zn(this.parent,this.base)};var ss=function(kt){this.parser=kt,this.validFlags="gim"+(kt.options.ecmaVersion>=6?"uy":"")+(kt.options.ecmaVersion>=9?"s":"")+(kt.options.ecmaVersion>=13?"d":"")+(kt.options.ecmaVersion>=15?"v":""),this.unicodeProperties=_s[kt.options.ecmaVersion>=14?14:kt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};ss.prototype.reset=function(kt,Nt,Bt){var Xt=Bt.indexOf("v")!==-1,ur=Bt.indexOf("u")!==-1;this.start=kt|0,this.source=Nt+"",this.flags=Bt,Xt&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=ur&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=ur&&this.parser.options.ecmaVersion>=9)},ss.prototype.raise=function(kt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+kt)},ss.prototype.at=function(kt,Nt){Nt===void 0&&(Nt=!1);var Bt=this.source,Xt=Bt.length;if(kt>=Xt)return-1;var ur=Bt.charCodeAt(kt);if(!(Nt||this.switchU)||ur<=55295||ur>=57344||kt+1>=Xt)return ur;var gr=Bt.charCodeAt(kt+1);return gr>=56320&&gr<=57343?(ur<<10)+gr-56613888:ur},ss.prototype.nextIndex=function(kt,Nt){Nt===void 0&&(Nt=!1);var Bt=this.source,Xt=Bt.length;if(kt>=Xt)return Xt;var ur=Bt.charCodeAt(kt),gr;return!(Nt||this.switchU)||ur<=55295||ur>=57344||kt+1>=Xt||(gr=Bt.charCodeAt(kt+1))<56320||gr>57343?kt+1:kt+2},ss.prototype.current=function(kt){return kt===void 0&&(kt=!1),this.at(this.pos,kt)},ss.prototype.lookahead=function(kt){return kt===void 0&&(kt=!1),this.at(this.nextIndex(this.pos,kt),kt)},ss.prototype.advance=function(kt){kt===void 0&&(kt=!1),this.pos=this.nextIndex(this.pos,kt)},ss.prototype.eat=function(kt,Nt){return Nt===void 0&&(Nt=!1),this.current(Nt)===kt?(this.advance(Nt),!0):!1},ss.prototype.eatChars=function(kt,Nt){Nt===void 0&&(Nt=!1);for(var Bt=this.pos,Xt=0,ur=kt;Xt<ur.length;Xt+=1){var gr=ur[Xt],Lr=this.at(Bt,Nt);if(Lr===-1||Lr!==gr)return!1;Bt=this.nextIndex(Bt,Nt)}return this.pos=Bt,!0},Yr.validateRegExpFlags=function(pt){for(var kt=pt.validFlags,Nt=pt.flags,Bt=!1,Xt=!1,ur=0;ur<Nt.length;ur++){var gr=Nt.charAt(ur);kt.indexOf(gr)===-1&&this.raise(pt.start,"Invalid regular expression flag"),Nt.indexOf(gr,ur+1)>-1&&this.raise(pt.start,"Duplicate regular expression flag"),gr==="u"&&(Bt=!0),gr==="v"&&(Xt=!0)}this.options.ecmaVersion>=15&&Bt&&Xt&&this.raise(pt.start,"Invalid regular expression flag")};function uo(pt){for(var kt in pt)return!0;return!1}Yr.validateRegExpPattern=function(pt){this.regexp_pattern(pt),!pt.switchN&&this.options.ecmaVersion>=9&&uo(pt.groupNames)&&(pt.switchN=!0,this.regexp_pattern(pt))},Yr.regexp_pattern=function(pt){pt.pos=0,pt.lastIntValue=0,pt.lastStringValue="",pt.lastAssertionIsQuantifiable=!1,pt.numCapturingParens=0,pt.maxBackReference=0,pt.groupNames=Object.create(null),pt.backReferenceNames.length=0,pt.branchID=null,this.regexp_disjunction(pt),pt.pos!==pt.source.length&&(pt.eat(41)&&pt.raise("Unmatched ')'"),(pt.eat(93)||pt.eat(125))&&pt.raise("Lone quantifier brackets")),pt.maxBackReference>pt.numCapturingParens&&pt.raise("Invalid escape");for(var kt=0,Nt=pt.backReferenceNames;kt<Nt.length;kt+=1){var Bt=Nt[kt];pt.groupNames[Bt]||pt.raise("Invalid named capture referenced")}},Yr.regexp_disjunction=function(pt){var kt=this.options.ecmaVersion>=16;for(kt&&(pt.branchID=new Zn(pt.branchID,null)),this.regexp_alternative(pt);pt.eat(124);)kt&&(pt.branchID=pt.branchID.sibling()),this.regexp_alternative(pt);kt&&(pt.branchID=pt.branchID.parent),this.regexp_eatQuantifier(pt,!0)&&pt.raise("Nothing to repeat"),pt.eat(123)&&pt.raise("Lone quantifier brackets")},Yr.regexp_alternative=function(pt){for(;pt.pos<pt.source.length&&this.regexp_eatTerm(pt););},Yr.regexp_eatTerm=function(pt){return this.regexp_eatAssertion(pt)?(pt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(pt)&&pt.switchU&&pt.raise("Invalid quantifier"),!0):(pt.switchU?this.regexp_eatAtom(pt):this.regexp_eatExtendedAtom(pt))?(this.regexp_eatQuantifier(pt),!0):!1},Yr.regexp_eatAssertion=function(pt){var kt=pt.pos;if(pt.lastAssertionIsQuantifiable=!1,pt.eat(94)||pt.eat(36))return!0;if(pt.eat(92)){if(pt.eat(66)||pt.eat(98))return!0;pt.pos=kt}if(pt.eat(40)&&pt.eat(63)){var Nt=!1;if(this.options.ecmaVersion>=9&&(Nt=pt.eat(60)),pt.eat(61)||pt.eat(33))return this.regexp_disjunction(pt),pt.eat(41)||pt.raise("Unterminated group"),pt.lastAssertionIsQuantifiable=!Nt,!0}return pt.pos=kt,!1},Yr.regexp_eatQuantifier=function(pt,kt){return kt===void 0&&(kt=!1),this.regexp_eatQuantifierPrefix(pt,kt)?(pt.eat(63),!0):!1},Yr.regexp_eatQuantifierPrefix=function(pt,kt){return pt.eat(42)||pt.eat(43)||pt.eat(63)||this.regexp_eatBracedQuantifier(pt,kt)},Yr.regexp_eatBracedQuantifier=function(pt,kt){var Nt=pt.pos;if(pt.eat(123)){var Bt=0,Xt=-1;if(this.regexp_eatDecimalDigits(pt)&&(Bt=pt.lastIntValue,pt.eat(44)&&this.regexp_eatDecimalDigits(pt)&&(Xt=pt.lastIntValue),pt.eat(125)))return Xt!==-1&&Xt<Bt&&!kt&&pt.raise("numbers out of order in {} quantifier"),!0;pt.switchU&&!kt&&pt.raise("Incomplete quantifier"),pt.pos=Nt}return!1},Yr.regexp_eatAtom=function(pt){return this.regexp_eatPatternCharacters(pt)||pt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(pt)||this.regexp_eatCharacterClass(pt)||this.regexp_eatUncapturingGroup(pt)||this.regexp_eatCapturingGroup(pt)},Yr.regexp_eatReverseSolidusAtomEscape=function(pt){var kt=pt.pos;if(pt.eat(92)){if(this.regexp_eatAtomEscape(pt))return!0;pt.pos=kt}return!1},Yr.regexp_eatUncapturingGroup=function(pt){var kt=pt.pos;if(pt.eat(40)){if(pt.eat(63)&&pt.eat(58)){if(this.regexp_disjunction(pt),pt.eat(41))return!0;pt.raise("Unterminated group")}pt.pos=kt}return!1},Yr.regexp_eatCapturingGroup=function(pt){if(pt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(pt):pt.current()===63&&pt.raise("Invalid group"),this.regexp_disjunction(pt),pt.eat(41))return pt.numCapturingParens+=1,!0;pt.raise("Unterminated group")}return!1},Yr.regexp_eatExtendedAtom=function(pt){return pt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(pt)||this.regexp_eatCharacterClass(pt)||this.regexp_eatUncapturingGroup(pt)||this.regexp_eatCapturingGroup(pt)||this.regexp_eatInvalidBracedQuantifier(pt)||this.regexp_eatExtendedPatternCharacter(pt)},Yr.regexp_eatInvalidBracedQuantifier=function(pt){return this.regexp_eatBracedQuantifier(pt,!0)&&pt.raise("Nothing to repeat"),!1},Yr.regexp_eatSyntaxCharacter=function(pt){var kt=pt.current();return na(kt)?(pt.lastIntValue=kt,pt.advance(),!0):!1};function na(pt){return pt===36||pt>=40&&pt<=43||pt===46||pt===63||pt>=91&&pt<=94||pt>=123&&pt<=125}Yr.regexp_eatPatternCharacters=function(pt){for(var kt=pt.pos,Nt=0;(Nt=pt.current())!==-1&&!na(Nt);)pt.advance();return pt.pos!==kt},Yr.regexp_eatExtendedPatternCharacter=function(pt){var kt=pt.current();return kt!==-1&&kt!==36&&!(kt>=40&&kt<=43)&&kt!==46&&kt!==63&&kt!==91&&kt!==94&&kt!==124?(pt.advance(),!0):!1},Yr.regexp_groupSpecifier=function(pt){if(pt.eat(63)){this.regexp_eatGroupName(pt)||pt.raise("Invalid group");var kt=this.options.ecmaVersion>=16,Nt=pt.groupNames[pt.lastStringValue];if(Nt)if(kt)for(var Bt=0,Xt=Nt;Bt<Xt.length;Bt+=1){var ur=Xt[Bt];ur.separatedFrom(pt.branchID)||pt.raise("Duplicate capture group name")}else pt.raise("Duplicate capture group name");kt?(Nt||(pt.groupNames[pt.lastStringValue]=[])).push(pt.branchID):pt.groupNames[pt.lastStringValue]=!0}},Yr.regexp_eatGroupName=function(pt){if(pt.lastStringValue="",pt.eat(60)){if(this.regexp_eatRegExpIdentifierName(pt)&&pt.eat(62))return!0;pt.raise("Invalid capture group name")}return!1},Yr.regexp_eatRegExpIdentifierName=function(pt){if(pt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(pt)){for(pt.lastStringValue+=Ut(pt.lastIntValue);this.regexp_eatRegExpIdentifierPart(pt);)pt.lastStringValue+=Ut(pt.lastIntValue);return!0}return!1},Yr.regexp_eatRegExpIdentifierStart=function(pt){var kt=pt.pos,Nt=this.options.ecmaVersion>=11,Bt=pt.current(Nt);return pt.advance(Nt),Bt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(pt,Nt)&&(Bt=pt.lastIntValue),_t(Bt)?(pt.lastIntValue=Bt,!0):(pt.pos=kt,!1)};function _t(pt){return st(pt,!0)||pt===36||pt===95}Yr.regexp_eatRegExpIdentifierPart=function(pt){var kt=pt.pos,Nt=this.options.ecmaVersion>=11,Bt=pt.current(Nt);return pt.advance(Nt),Bt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(pt,Nt)&&(Bt=pt.lastIntValue),Pt(Bt)?(pt.lastIntValue=Bt,!0):(pt.pos=kt,!1)};function Pt(pt){return lt(pt,!0)||pt===36||pt===95||pt===8204||pt===8205}Yr.regexp_eatAtomEscape=function(pt){return this.regexp_eatBackReference(pt)||this.regexp_eatCharacterClassEscape(pt)||this.regexp_eatCharacterEscape(pt)||pt.switchN&&this.regexp_eatKGroupName(pt)?!0:(pt.switchU&&(pt.current()===99&&pt.raise("Invalid unicode escape"),pt.raise("Invalid escape")),!1)},Yr.regexp_eatBackReference=function(pt){var kt=pt.pos;if(this.regexp_eatDecimalEscape(pt)){var Nt=pt.lastIntValue;if(pt.switchU)return Nt>pt.maxBackReference&&(pt.maxBackReference=Nt),!0;if(Nt<=pt.numCapturingParens)return!0;pt.pos=kt}return!1},Yr.regexp_eatKGroupName=function(pt){if(pt.eat(107)){if(this.regexp_eatGroupName(pt))return pt.backReferenceNames.push(pt.lastStringValue),!0;pt.raise("Invalid named reference")}return!1},Yr.regexp_eatCharacterEscape=function(pt){return this.regexp_eatControlEscape(pt)||this.regexp_eatCControlLetter(pt)||this.regexp_eatZero(pt)||this.regexp_eatHexEscapeSequence(pt)||this.regexp_eatRegExpUnicodeEscapeSequence(pt,!1)||!pt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(pt)||this.regexp_eatIdentityEscape(pt)},Yr.regexp_eatCControlLetter=function(pt){var kt=pt.pos;if(pt.eat(99)){if(this.regexp_eatControlLetter(pt))return!0;pt.pos=kt}return!1},Yr.regexp_eatZero=function(pt){return pt.current()===48&&!ls(pt.lookahead())?(pt.lastIntValue=0,pt.advance(),!0):!1},Yr.regexp_eatControlEscape=function(pt){var kt=pt.current();return kt===116?(pt.lastIntValue=9,pt.advance(),!0):kt===110?(pt.lastIntValue=10,pt.advance(),!0):kt===118?(pt.lastIntValue=11,pt.advance(),!0):kt===102?(pt.lastIntValue=12,pt.advance(),!0):kt===114?(pt.lastIntValue=13,pt.advance(),!0):!1},Yr.regexp_eatControlLetter=function(pt){var kt=pt.current();return Wt(kt)?(pt.lastIntValue=kt%32,pt.advance(),!0):!1};function Wt(pt){return pt>=65&&pt<=90||pt>=97&&pt<=122}Yr.regexp_eatRegExpUnicodeEscapeSequence=function(pt,kt){kt===void 0&&(kt=!1);var Nt=pt.pos,Bt=kt||pt.switchU;if(pt.eat(117)){if(this.regexp_eatFixedHexDigits(pt,4)){var Xt=pt.lastIntValue;if(Bt&&Xt>=55296&&Xt<=56319){var ur=pt.pos;if(pt.eat(92)&&pt.eat(117)&&this.regexp_eatFixedHexDigits(pt,4)){var gr=pt.lastIntValue;if(gr>=56320&&gr<=57343)return pt.lastIntValue=(Xt-55296)*1024+(gr-56320)+65536,!0}pt.pos=ur,pt.lastIntValue=Xt}return!0}if(Bt&&pt.eat(123)&&this.regexp_eatHexDigits(pt)&&pt.eat(125)&&Jt(pt.lastIntValue))return!0;Bt&&pt.raise("Invalid unicode escape"),pt.pos=Nt}return!1};function Jt(pt){return pt>=0&&pt<=1114111}Yr.regexp_eatIdentityEscape=function(pt){if(pt.switchU)return this.regexp_eatSyntaxCharacter(pt)?!0:pt.eat(47)?(pt.lastIntValue=47,!0):!1;var kt=pt.current();return kt!==99&&(!pt.switchN||kt!==107)?(pt.lastIntValue=kt,pt.advance(),!0):!1},Yr.regexp_eatDecimalEscape=function(pt){pt.lastIntValue=0;var kt=pt.current();if(kt>=49&&kt<=57){do pt.lastIntValue=10*pt.lastIntValue+(kt-48),pt.advance();while((kt=pt.current())>=48&&kt<=57);return!0}return!1};var cr=0,_r=1,Mr=2;Yr.regexp_eatCharacterClassEscape=function(pt){var kt=pt.current();if(Kr(kt))return pt.lastIntValue=-1,pt.advance(),_r;var Nt=!1;if(pt.switchU&&this.options.ecmaVersion>=9&&((Nt=kt===80)||kt===112)){pt.lastIntValue=-1,pt.advance();var Bt;if(pt.eat(123)&&(Bt=this.regexp_eatUnicodePropertyValueExpression(pt))&&pt.eat(125))return Nt&&Bt===Mr&&pt.raise("Invalid property name"),Bt;pt.raise("Invalid property name")}return cr};function Kr(pt){return pt===100||pt===68||pt===115||pt===83||pt===119||pt===87}Yr.regexp_eatUnicodePropertyValueExpression=function(pt){var kt=pt.pos;if(this.regexp_eatUnicodePropertyName(pt)&&pt.eat(61)){var Nt=pt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(pt)){var Bt=pt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(pt,Nt,Bt),_r}}if(pt.pos=kt,this.regexp_eatLoneUnicodePropertyNameOrValue(pt)){var Xt=pt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(pt,Xt)}return cr},Yr.regexp_validateUnicodePropertyNameAndValue=function(pt,kt,Nt){Lt(pt.unicodeProperties.nonBinary,kt)||pt.raise("Invalid property name"),pt.unicodeProperties.nonBinary[kt].test(Nt)||pt.raise("Invalid property value")},Yr.regexp_validateUnicodePropertyNameOrValue=function(pt,kt){if(pt.unicodeProperties.binary.test(kt))return _r;if(pt.switchV&&pt.unicodeProperties.binaryOfStrings.test(kt))return Mr;pt.raise("Invalid property name")},Yr.regexp_eatUnicodePropertyName=function(pt){var kt=0;for(pt.lastStringValue="";rn(kt=pt.current());)pt.lastStringValue+=Ut(kt),pt.advance();return pt.lastStringValue!==""};function rn(pt){return Wt(pt)||pt===95}Yr.regexp_eatUnicodePropertyValue=function(pt){var kt=0;for(pt.lastStringValue="";kn(kt=pt.current());)pt.lastStringValue+=Ut(kt),pt.advance();return pt.lastStringValue!==""};function kn(pt){return rn(pt)||ls(pt)}Yr.regexp_eatLoneUnicodePropertyNameOrValue=function(pt){return this.regexp_eatUnicodePropertyValue(pt)},Yr.regexp_eatCharacterClass=function(pt){if(pt.eat(91)){var kt=pt.eat(94),Nt=this.regexp_classContents(pt);return pt.eat(93)||pt.raise("Unterminated character class"),kt&&Nt===Mr&&pt.raise("Negated character class may contain strings"),!0}return!1},Yr.regexp_classContents=function(pt){return pt.current()===93?_r:pt.switchV?this.regexp_classSetExpression(pt):(this.regexp_nonEmptyClassRanges(pt),_r)},Yr.regexp_nonEmptyClassRanges=function(pt){for(;this.regexp_eatClassAtom(pt);){var kt=pt.lastIntValue;if(pt.eat(45)&&this.regexp_eatClassAtom(pt)){var Nt=pt.lastIntValue;pt.switchU&&(kt===-1||Nt===-1)&&pt.raise("Invalid character class"),kt!==-1&&Nt!==-1&&kt>Nt&&pt.raise("Range out of order in character class")}}},Yr.regexp_eatClassAtom=function(pt){var kt=pt.pos;if(pt.eat(92)){if(this.regexp_eatClassEscape(pt))return!0;if(pt.switchU){var Nt=pt.current();(Nt===99||gs(Nt))&&pt.raise("Invalid class escape"),pt.raise("Invalid escape")}pt.pos=kt}var Bt=pt.current();return Bt!==93?(pt.lastIntValue=Bt,pt.advance(),!0):!1},Yr.regexp_eatClassEscape=function(pt){var kt=pt.pos;if(pt.eat(98))return pt.lastIntValue=8,!0;if(pt.switchU&&pt.eat(45))return pt.lastIntValue=45,!0;if(!pt.switchU&&pt.eat(99)){if(this.regexp_eatClassControlLetter(pt))return!0;pt.pos=kt}return this.regexp_eatCharacterClassEscape(pt)||this.regexp_eatCharacterEscape(pt)},Yr.regexp_classSetExpression=function(pt){var kt=_r,Nt;if(!this.regexp_eatClassSetRange(pt))if(Nt=this.regexp_eatClassSetOperand(pt)){Nt===Mr&&(kt=Mr);for(var Bt=pt.pos;pt.eatChars([38,38]);){if(pt.current()!==38&&(Nt=this.regexp_eatClassSetOperand(pt))){Nt!==Mr&&(kt=_r);continue}pt.raise("Invalid character in character class")}if(Bt!==pt.pos)return kt;for(;pt.eatChars([45,45]);)this.regexp_eatClassSetOperand(pt)||pt.raise("Invalid character in character class");if(Bt!==pt.pos)return kt}else pt.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(pt)){if(Nt=this.regexp_eatClassSetOperand(pt),!Nt)return kt;Nt===Mr&&(kt=Mr)}},Yr.regexp_eatClassSetRange=function(pt){var kt=pt.pos;if(this.regexp_eatClassSetCharacter(pt)){var Nt=pt.lastIntValue;if(pt.eat(45)&&this.regexp_eatClassSetCharacter(pt)){var Bt=pt.lastIntValue;return Nt!==-1&&Bt!==-1&&Nt>Bt&&pt.raise("Range out of order in character class"),!0}pt.pos=kt}return!1},Yr.regexp_eatClassSetOperand=function(pt){return this.regexp_eatClassSetCharacter(pt)?_r:this.regexp_eatClassStringDisjunction(pt)||this.regexp_eatNestedClass(pt)},Yr.regexp_eatNestedClass=function(pt){var kt=pt.pos;if(pt.eat(91)){var Nt=pt.eat(94),Bt=this.regexp_classContents(pt);if(pt.eat(93))return Nt&&Bt===Mr&&pt.raise("Negated character class may contain strings"),Bt;pt.pos=kt}if(pt.eat(92)){var Xt=this.regexp_eatCharacterClassEscape(pt);if(Xt)return Xt;pt.pos=kt}return null},Yr.regexp_eatClassStringDisjunction=function(pt){var kt=pt.pos;if(pt.eatChars([92,113])){if(pt.eat(123)){var Nt=this.regexp_classStringDisjunctionContents(pt);if(pt.eat(125))return Nt}else pt.raise("Invalid escape");pt.pos=kt}return null},Yr.regexp_classStringDisjunctionContents=function(pt){for(var kt=this.regexp_classString(pt);pt.eat(124);)this.regexp_classString(pt)===Mr&&(kt=Mr);return kt},Yr.regexp_classString=function(pt){for(var kt=0;this.regexp_eatClassSetCharacter(pt);)kt++;return kt===1?_r:Mr},Yr.regexp_eatClassSetCharacter=function(pt){var kt=pt.pos;if(pt.eat(92))return this.regexp_eatCharacterEscape(pt)||this.regexp_eatClassSetReservedPunctuator(pt)?!0:pt.eat(98)?(pt.lastIntValue=8,!0):(pt.pos=kt,!1);var Nt=pt.current();return Nt<0||Nt===pt.lookahead()&&Hn(Nt)||as(Nt)?!1:(pt.advance(),pt.lastIntValue=Nt,!0)};function Hn(pt){return pt===33||pt>=35&&pt<=38||pt>=42&&pt<=44||pt===46||pt>=58&&pt<=64||pt===94||pt===96||pt===126}function as(pt){return pt===40||pt===41||pt===45||pt===47||pt>=91&&pt<=93||pt>=123&&pt<=125}Yr.regexp_eatClassSetReservedPunctuator=function(pt){var kt=pt.current();return os(kt)?(pt.lastIntValue=kt,pt.advance(),!0):!1};function os(pt){return pt===33||pt===35||pt===37||pt===38||pt===44||pt===45||pt>=58&&pt<=62||pt===64||pt===96||pt===126}Yr.regexp_eatClassControlLetter=function(pt){var kt=pt.current();return ls(kt)||kt===95?(pt.lastIntValue=kt%32,pt.advance(),!0):!1},Yr.regexp_eatHexEscapeSequence=function(pt){var kt=pt.pos;if(pt.eat(120)){if(this.regexp_eatFixedHexDigits(pt,2))return!0;pt.switchU&&pt.raise("Invalid escape"),pt.pos=kt}return!1},Yr.regexp_eatDecimalDigits=function(pt){var kt=pt.pos,Nt=0;for(pt.lastIntValue=0;ls(Nt=pt.current());)pt.lastIntValue=10*pt.lastIntValue+(Nt-48),pt.advance();return pt.pos!==kt};function ls(pt){return pt>=48&&pt<=57}Yr.regexp_eatHexDigits=function(pt){var kt=pt.pos,Nt=0;for(pt.lastIntValue=0;Ls(Nt=pt.current());)pt.lastIntValue=16*pt.lastIntValue+xn(Nt),pt.advance();return pt.pos!==kt};function Ls(pt){return pt>=48&&pt<=57||pt>=65&&pt<=70||pt>=97&&pt<=102}function xn(pt){return pt>=65&&pt<=70?10+(pt-65):pt>=97&&pt<=102?10+(pt-97):pt-48}Yr.regexp_eatLegacyOctalEscapeSequence=function(pt){if(this.regexp_eatOctalDigit(pt)){var kt=pt.lastIntValue;if(this.regexp_eatOctalDigit(pt)){var Nt=pt.lastIntValue;kt<=3&&this.regexp_eatOctalDigit(pt)?pt.lastIntValue=kt*64+Nt*8+pt.lastIntValue:pt.lastIntValue=kt*8+Nt}else pt.lastIntValue=kt;return!0}return!1},Yr.regexp_eatOctalDigit=function(pt){var kt=pt.current();return gs(kt)?(pt.lastIntValue=kt-48,pt.advance(),!0):(pt.lastIntValue=0,!1)};function gs(pt){return pt>=48&&pt<=55}Yr.regexp_eatFixedHexDigits=function(pt,kt){var Nt=pt.pos;pt.lastIntValue=0;for(var Bt=0;Bt<kt;++Bt){var Xt=pt.current();if(!Ls(Xt))return pt.pos=Nt,!1;pt.lastIntValue=16*pt.lastIntValue+xn(Xt),pt.advance()}return!0};var _i=function(kt){this.type=kt.type,this.value=kt.value,this.start=kt.start,this.end=kt.end,kt.options.locations&&(this.loc=new Ht(kt,kt.startLoc,kt.endLoc)),kt.options.ranges&&(this.range=[kt.start,kt.end])},wn=Tr.prototype;wn.next=function(pt){!pt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new _i(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},wn.getToken=function(){return this.next(),new _i(this)},typeof Symbol<"u"&&(wn[Symbol.iterator]=function(){var pt=this;return{next:function(){var kt=pt.getToken();return{done:kt.type===ut.eof,value:kt}}}}),wn.nextToken=function(){var pt=this.curContext();if((!pt||!pt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(ut.eof);if(pt.override)return pt.override(this);this.readToken(this.fullCharCodeAtPos())},wn.readToken=function(pt){return st(pt,this.options.ecmaVersion>=6)||pt===92?this.readWord():this.getTokenFromCode(pt)},wn.fullCharCodeAtPos=function(){var pt=this.input.charCodeAt(this.pos);if(pt<=55295||pt>=56320)return pt;var kt=this.input.charCodeAt(this.pos+1);return kt<=56319||kt>=57344?pt:(pt<<10)+kt-56613888},wn.skipBlockComment=function(){var pt=this.options.onComment&&this.curPosition(),kt=this.pos,Nt=this.input.indexOf("*/",this.pos+=2);if(Nt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Nt+2,this.options.locations)for(var Bt=void 0,Xt=kt;(Bt=Et(this.input,Xt,this.pos))>-1;)++this.curLine,Xt=this.lineStart=Bt;this.options.onComment&&this.options.onComment(!0,this.input.slice(kt+2,Nt),kt,this.pos,pt,this.curPosition())},wn.skipLineComment=function(pt){for(var kt=this.pos,Nt=this.options.onComment&&this.curPosition(),Bt=this.input.charCodeAt(this.pos+=pt);this.pos<this.input.length&&!vt(Bt);)Bt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(kt+pt,this.pos),kt,this.pos,Nt,this.curPosition())},wn.skipSpace=function(){e:for(;this.pos<this.input.length;){var pt=this.input.charCodeAt(this.pos);switch(pt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(pt>8&&pt<14||pt>=5760&&$t.test(String.fromCharCode(pt)))++this.pos;else break e}}},wn.finishToken=function(pt,kt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Nt=this.type;this.type=pt,this.value=kt,this.updateContext(Nt)},wn.readToken_dot=function(){var pt=this.input.charCodeAt(this.pos+1);if(pt>=48&&pt<=57)return this.readNumber(!0);var kt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&pt===46&&kt===46?(this.pos+=3,this.finishToken(ut.ellipsis)):(++this.pos,this.finishToken(ut.dot))},wn.readToken_slash=function(){var pt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):pt===61?this.finishOp(ut.assign,2):this.finishOp(ut.slash,1)},wn.readToken_mult_modulo_exp=function(pt){var kt=this.input.charCodeAt(this.pos+1),Nt=1,Bt=pt===42?ut.star:ut.modulo;return this.options.ecmaVersion>=7&&pt===42&&kt===42&&(++Nt,Bt=ut.starstar,kt=this.input.charCodeAt(this.pos+2)),kt===61?this.finishOp(ut.assign,Nt+1):this.finishOp(Bt,Nt)},wn.readToken_pipe_amp=function(pt){var kt=this.input.charCodeAt(this.pos+1);if(kt===pt){if(this.options.ecmaVersion>=12){var Nt=this.input.charCodeAt(this.pos+2);if(Nt===61)return this.finishOp(ut.assign,3)}return this.finishOp(pt===124?ut.logicalOR:ut.logicalAND,2)}return kt===61?this.finishOp(ut.assign,2):this.finishOp(pt===124?ut.bitwiseOR:ut.bitwiseAND,1)},wn.readToken_caret=function(){var pt=this.input.charCodeAt(this.pos+1);return pt===61?this.finishOp(ut.assign,2):this.finishOp(ut.bitwiseXOR,1)},wn.readToken_plus_min=function(pt){var kt=this.input.charCodeAt(this.pos+1);return kt===pt?kt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||wt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(ut.incDec,2):kt===61?this.finishOp(ut.assign,2):this.finishOp(ut.plusMin,1)},wn.readToken_lt_gt=function(pt){var kt=this.input.charCodeAt(this.pos+1),Nt=1;return kt===pt?(Nt=pt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Nt)===61?this.finishOp(ut.assign,Nt+1):this.finishOp(ut.bitShift,Nt)):kt===33&&pt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(kt===61&&(Nt=2),this.finishOp(ut.relational,Nt))},wn.readToken_eq_excl=function(pt){var kt=this.input.charCodeAt(this.pos+1);return kt===61?this.finishOp(ut.equality,this.input.charCodeAt(this.pos+2)===61?3:2):pt===61&&kt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(ut.arrow)):this.finishOp(pt===61?ut.eq:ut.prefix,1)},wn.readToken_question=function(){var pt=this.options.ecmaVersion;if(pt>=11){var kt=this.input.charCodeAt(this.pos+1);if(kt===46){var Nt=this.input.charCodeAt(this.pos+2);if(Nt<48||Nt>57)return this.finishOp(ut.questionDot,2)}if(kt===63){if(pt>=12){var Bt=this.input.charCodeAt(this.pos+2);if(Bt===61)return this.finishOp(ut.assign,3)}return this.finishOp(ut.coalesce,2)}}return this.finishOp(ut.question,1)},wn.readToken_numberSign=function(){var pt=this.options.ecmaVersion,kt=35;if(pt>=13&&(++this.pos,kt=this.fullCharCodeAtPos(),st(kt,!0)||kt===92))return this.finishToken(ut.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ut(kt)+"'")},wn.getTokenFromCode=function(pt){switch(pt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(ut.parenL);case 41:return++this.pos,this.finishToken(ut.parenR);case 59:return++this.pos,this.finishToken(ut.semi);case 44:return++this.pos,this.finishToken(ut.comma);case 91:return++this.pos,this.finishToken(ut.bracketL);case 93:return++this.pos,this.finishToken(ut.bracketR);case 123:return++this.pos,this.finishToken(ut.braceL);case 125:return++this.pos,this.finishToken(ut.braceR);case 58:return++this.pos,this.finishToken(ut.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(ut.backQuote);case 48:var kt=this.input.charCodeAt(this.pos+1);if(kt===120||kt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(kt===111||kt===79)return this.readRadixNumber(8);if(kt===98||kt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(pt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(pt);case 124:case 38:return this.readToken_pipe_amp(pt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(pt);case 60:case 62:return this.readToken_lt_gt(pt);case 61:case 33:return this.readToken_eq_excl(pt);case 63:return this.readToken_question();case 126:return this.finishOp(ut.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ut(pt)+"'")},wn.finishOp=function(pt,kt){var Nt=this.input.slice(this.pos,this.pos+kt);return this.pos+=kt,this.finishToken(pt,Nt)},wn.readRegexp=function(){for(var pt,kt,Nt=this.pos;;){this.pos>=this.input.length&&this.raise(Nt,"Unterminated regular expression");var Bt=this.input.charAt(this.pos);if(wt.test(Bt)&&this.raise(Nt,"Unterminated regular expression"),pt)pt=!1;else{if(Bt==="[")kt=!0;else if(Bt==="]"&&kt)kt=!1;else if(Bt==="/"&&!kt)break;pt=Bt==="\\"}++this.pos}var Xt=this.input.slice(Nt,this.pos);++this.pos;var ur=this.pos,gr=this.readWord1();this.containsEsc&&this.unexpected(ur);var Lr=this.regexpState||(this.regexpState=new ss(this));Lr.reset(Nt,Xt,gr),this.validateRegExpFlags(Lr),this.validateRegExpPattern(Lr);var Vr=null;try{Vr=new RegExp(Xt,gr)}catch{}return this.finishToken(ut.regexp,{pattern:Xt,flags:gr,value:Vr})},wn.readInt=function(pt,kt,Nt){for(var Bt=this.options.ecmaVersion>=12&&kt===void 0,Xt=Nt&&this.input.charCodeAt(this.pos)===48,ur=this.pos,gr=0,Lr=0,Vr=0,cn=kt??1/0;Vr<cn;++Vr,++this.pos){var sn=this.input.charCodeAt(this.pos),Fn=void 0;if(Bt&&sn===95){Xt&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Lr===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Vr===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Lr=sn;continue}if(sn>=97?Fn=sn-97+10:sn>=65?Fn=sn-65+10:sn>=48&&sn<=57?Fn=sn-48:Fn=1/0,Fn>=pt)break;Lr=sn,gr=gr*pt+Fn}return Bt&&Lr===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===ur||kt!=null&&this.pos-ur!==kt?null:gr};function co(pt,kt){return kt?parseInt(pt,8):parseFloat(pt.replace(/_/g,""))}function ys(pt){return typeof BigInt!="function"?null:BigInt(pt.replace(/_/g,""))}wn.readRadixNumber=function(pt){var kt=this.pos;this.pos+=2;var Nt=this.readInt(pt);return Nt==null&&this.raise(this.start+2,"Expected number in radix "+pt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Nt=ys(this.input.slice(kt,this.pos)),++this.pos):st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ut.num,Nt)},wn.readNumber=function(pt){var kt=this.pos;!pt&&this.readInt(10,void 0,!0)===null&&this.raise(kt,"Invalid number");var Nt=this.pos-kt>=2&&this.input.charCodeAt(kt)===48;Nt&&this.strict&&this.raise(kt,"Invalid number");var Bt=this.input.charCodeAt(this.pos);if(!Nt&&!pt&&this.options.ecmaVersion>=11&&Bt===110){var Xt=ys(this.input.slice(kt,this.pos));return++this.pos,st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ut.num,Xt)}Nt&&/[89]/.test(this.input.slice(kt,this.pos))&&(Nt=!1),Bt===46&&!Nt&&(++this.pos,this.readInt(10),Bt=this.input.charCodeAt(this.pos)),(Bt===69||Bt===101)&&!Nt&&(Bt=this.input.charCodeAt(++this.pos),(Bt===43||Bt===45)&&++this.pos,this.readInt(10)===null&&this.raise(kt,"Invalid number")),st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var ur=co(this.input.slice(kt,this.pos),Nt);return this.finishToken(ut.num,ur)},wn.readCodePoint=function(){var pt=this.input.charCodeAt(this.pos),kt;if(pt===123){this.options.ecmaVersion<6&&this.unexpected();var Nt=++this.pos;kt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,kt>1114111&&this.invalidStringToken(Nt,"Code point out of bounds")}else kt=this.readHexChar(4);return kt},wn.readString=function(pt){for(var kt="",Nt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Bt=this.input.charCodeAt(this.pos);if(Bt===pt)break;Bt===92?(kt+=this.input.slice(Nt,this.pos),kt+=this.readEscapedChar(!1),Nt=this.pos):Bt===8232||Bt===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(vt(Bt)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return kt+=this.input.slice(Nt,this.pos++),this.finishToken(ut.string,kt)};var ho={};wn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(pt){if(pt===ho)this.readInvalidTemplateToken();else throw pt}this.inTemplateElement=!1},wn.invalidStringToken=function(pt,kt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ho;this.raise(pt,kt)},wn.readTmplToken=function(){for(var pt="",kt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Nt=this.input.charCodeAt(this.pos);if(Nt===96||Nt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===ut.template||this.type===ut.invalidTemplate)?Nt===36?(this.pos+=2,this.finishToken(ut.dollarBraceL)):(++this.pos,this.finishToken(ut.backQuote)):(pt+=this.input.slice(kt,this.pos),this.finishToken(ut.template,pt));if(Nt===92)pt+=this.input.slice(kt,this.pos),pt+=this.readEscapedChar(!0),kt=this.pos;else if(vt(Nt)){switch(pt+=this.input.slice(kt,this.pos),++this.pos,Nt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:pt+=`
`;break;default:pt+=String.fromCharCode(Nt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),kt=this.pos}else++this.pos}},wn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(ut.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},wn.readEscapedChar=function(pt){var kt=this.input.charCodeAt(++this.pos);switch(++this.pos,kt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ut(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),pt){var Nt=this.pos-1;this.invalidStringToken(Nt,"Invalid escape sequence in template string")}default:if(kt>=48&&kt<=55){var Bt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Xt=parseInt(Bt,8);return Xt>255&&(Bt=Bt.slice(0,-1),Xt=parseInt(Bt,8)),this.pos+=Bt.length-1,kt=this.input.charCodeAt(this.pos),(Bt!=="0"||kt===56||kt===57)&&(this.strict||pt)&&this.invalidStringToken(this.pos-1-Bt.length,pt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Xt)}return vt(kt)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(kt)}},wn.readHexChar=function(pt){var kt=this.pos,Nt=this.readInt(16,pt);return Nt===null&&this.invalidStringToken(kt,"Bad character escape sequence"),Nt},wn.readWord1=function(){this.containsEsc=!1;for(var pt="",kt=!0,Nt=this.pos,Bt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Xt=this.fullCharCodeAtPos();if(lt(Xt,Bt))this.pos+=Xt<=65535?1:2;else if(Xt===92){this.containsEsc=!0,pt+=this.input.slice(Nt,this.pos);var ur=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var gr=this.readCodePoint();(kt?st:lt)(gr,Bt)||this.invalidStringToken(ur,"Invalid Unicode escape"),pt+=Ut(gr),Nt=this.pos}else break;kt=!1}return pt+this.input.slice(Nt,this.pos)},wn.readWord=function(){var pt=this.readWord1(),kt=ut.name;return this.keywords.test(pt)&&(kt=gt[pt]),this.finishToken(kt,pt)};var fo="8.12.1";Tr.acorn={Parser:Tr,version:fo,defaultOptions:nr,Position:Kt,SourceLocation:Ht,getLineInfo:qt,Node:ts,TokenType:ht,tokTypes:ut,keywordTypes:gt,TokContext:Wr,tokContexts:zr,isIdentifierChar:lt,isIdentifierStart:st,Token:_i,isNewLine:vt,lineBreak:wt,lineBreakG:bt,nonASCIIwhitespace:$t};function xt(pt,kt){return Tr.parse(pt,kt)}function Mt(pt,kt,Nt){return Tr.parseExpressionAt(pt,kt,Nt)}function zt(pt,kt){return Tr.tokenizer(pt,kt)}a.Node=ts,a.Parser=Tr,a.Position=Kt,a.SourceLocation=Ht,a.TokContext=Wr,a.Token=_i,a.TokenType=ht,a.defaultOptions=nr,a.getLineInfo=qt,a.isIdentifierChar=lt,a.isIdentifierStart=st,a.isNewLine=vt,a.keywordTypes=gt,a.lineBreak=wt,a.lineBreakG=bt,a.nonASCIIwhitespace=$t,a.parse=xt,a.parseExpressionAt=Mt,a.tokContexts=zr,a.tokTypes=ut,a.tokenizer=zt,a.version=fo})}(acorn,acorn.exports)),acorn.exports}(function(i,s){(function(a,o){o(s,requireAcorn())})(commonjsGlobal,function(a,o){var rt="";function et(tt){return tt.name===rt}function at(){}var ot=function(st,lt){if(lt===void 0&&(lt={}),this.toks=this.constructor.BaseParser.tokenizer(st,lt),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:o.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=at,this.tok.validateRegExpPattern=at,this.options.locations){var ht=this.toks.curPosition();this.tok.loc=new o.SourceLocation(this.toks,ht,ht)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};ot.prototype.startNode=function(){return new o.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},ot.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},ot.prototype.startNodeAt=function(st){return this.options.locations?new o.Node(this.toks,st[0],st[1]):new o.Node(this.toks,st)},ot.prototype.finishNode=function(st,lt){return st.type=lt,st.end=this.last.end,this.options.locations&&(st.loc.end=this.last.loc.end),this.options.ranges&&(st.range[1]=this.last.end),st},ot.prototype.dummyNode=function(st){var lt=this.startNode();return lt.type=st,lt.end=lt.start,this.options.locations&&(lt.loc.end=lt.loc.start),this.options.ranges&&(lt.range[1]=lt.start),this.last={type:o.tokTypes.name,start:lt.start,end:lt.start,loc:lt.loc},lt},ot.prototype.dummyIdent=function(){var st=this.dummyNode("Identifier");return st.name=rt,st},ot.prototype.dummyString=function(){var st=this.dummyNode("Literal");return st.value=st.raw=rt,st},ot.prototype.eat=function(st){return this.tok.type===st?(this.next(),!0):!1},ot.prototype.isContextual=function(st){return this.tok.type===o.tokTypes.name&&this.tok.value===st},ot.prototype.eatContextual=function(st){return this.tok.value===st&&this.eat(o.tokTypes.name)},ot.prototype.canInsertSemicolon=function(){return this.tok.type===o.tokTypes.eof||this.tok.type===o.tokTypes.braceR||o.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},ot.prototype.semicolon=function(){return this.eat(o.tokTypes.semi)},ot.prototype.expect=function(st){if(this.eat(st))return!0;for(var lt=1;lt<=2;lt++)if(this.lookAhead(lt).type===st){for(var ht=0;ht<lt;ht++)this.next();return!0}},ot.prototype.pushCx=function(){this.context.push(this.curIndent)},ot.prototype.popCx=function(){this.curIndent=this.context.pop()},ot.prototype.lineEnd=function(st){for(;st<this.input.length&&!o.isNewLine(this.input.charCodeAt(st));)++st;return st},ot.prototype.indentationAfter=function(st){for(var lt=0;;++st){var ht=this.input.charCodeAt(st);if(ht===32)++lt;else if(ht===9)lt+=this.options.tabSize;else return lt}},ot.prototype.closes=function(st,lt,ht,ft){return this.tok.type===st||this.tok.type===o.tokTypes.eof?!0:ht!==this.curLineStart&&this.curIndent<lt&&this.tokenStartsLine()&&(!ft||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<lt)},ot.prototype.tokenStartsLine=function(){for(var st=this.tok.start-1;st>=this.curLineStart;--st){var lt=this.input.charCodeAt(st);if(lt!==9&&lt!==32)return!1}return!0},ot.prototype.extend=function(st,lt){this[st]=lt(this[st])},ot.prototype.parse=function(){return this.next(),this.parseTopLevel()},ot.extend=function(){for(var st=[],lt=arguments.length;lt--;)st[lt]=arguments[lt];for(var ht=this,ft=0;ft<st.length;ft++)ht=st[ft](ht);return ht},ot.parse=function(st,lt){return new this(st,lt).parse()},ot.BaseParser=o.Parser;var nt=ot.prototype;function it(tt){return tt<14&&tt>8||tt===32||tt===160||o.isNewLine(tt)}nt.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},nt.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===o.tokTypes.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=o.tokTypes.ellipsis),new o.Token(this.toks)}catch(ct){if(!(ct instanceof SyntaxError))throw ct;var tt=ct.message,st=ct.raisedAt,lt=!0;if(/unterminated/i.test(tt))if(st=this.lineEnd(ct.pos+1),/string/.test(tt))lt={start:ct.pos,end:st,type:o.tokTypes.string,value:this.input.slice(ct.pos+1,st)};else if(/regular expr/i.test(tt)){var ht=this.input.slice(ct.pos,st);try{ht=new RegExp(ht)}catch{}lt={start:ct.pos,end:st,type:o.tokTypes.regexp,value:ht}}else/template/.test(tt)?lt={start:ct.pos,end:st,type:o.tokTypes.template,value:this.input.slice(ct.pos,st)}:lt=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(tt))for(;st<this.input.length&&!it(this.input.charCodeAt(st));)++st;else if(/character escape|expected hexadecimal/i.test(tt))for(;st<this.input.length;){var ft=this.input.charCodeAt(st++);if(ft===34||ft===39||o.isNewLine(ft))break}else if(/unexpected character/i.test(tt))st++,lt=!1;else if(/regular expression/i.test(tt))lt=!0;else throw ct;if(this.resetTo(st),lt===!0&&(lt={start:st,end:st,type:o.tokTypes.name,value:rt}),lt)return this.options.locations&&(lt.loc=new o.SourceLocation(this.toks,o.getLineInfo(this.input,lt.start),o.getLineInfo(this.input,lt.end))),lt}},nt.resetTo=function(tt){this.toks.pos=tt,this.toks.containsEsc=!1;var st=this.input.charAt(tt-1);if(this.toks.exprAllowed=!st||/[[{(,;:?/*=+\-~!|&%^<>]/.test(st)||/[enwfd]/.test(st)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(tt-10,tt)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=o.lineBreakG.lastIndex=0;for(var lt;(lt=o.lineBreakG.exec(this.input))&&lt.index<tt;)++this.toks.curLine,this.toks.lineStart=lt.index+lt[0].length}},nt.lookAhead=function(tt){for(;tt>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[tt-1]};var j=ot.prototype;j.parseTopLevel=function(){var tt=this.startNodeAt(this.options.locations?[0,o.getLineInfo(this.input,0)]:0);for(tt.body=[];this.tok.type!==o.tokTypes.eof;)tt.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(tt.body),this.last=this.tok,tt.sourceType=this.options.sourceType,this.finishNode(tt,"Program")},j.parseStatement=function(){var tt=this.tok.type,st=this.startNode(),lt;switch(this.toks.isLet()&&(tt=o.tokTypes._var,lt="let"),tt){case o.tokTypes._break:case o.tokTypes._continue:this.next();var ht=tt===o.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?st.label=null:(st.label=this.tok.type===o.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(st,ht?"BreakStatement":"ContinueStatement");case o.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(st,"DebuggerStatement");case o.tokTypes._do:return this.next(),st.body=this.parseStatement(),st.test=this.eat(o.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(st,"DoWhileStatement");case o.tokTypes._for:this.next();var ft=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(o.tokTypes.parenL),this.tok.type===o.tokTypes.semi)return this.parseFor(st,null);var ct=this.toks.isLet();if(ct||this.tok.type===o.tokTypes._var||this.tok.type===o.tokTypes._const){var mt=this.parseVar(this.startNode(),!0,ct?"let":this.tok.value);return mt.declarations.length===1&&(this.tok.type===o.tokTypes._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==o.tokTypes._in&&(st.await=ft),this.parseForIn(st,mt)):this.parseFor(st,mt)}var gt=this.parseExpression(!0);return this.tok.type===o.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==o.tokTypes._in&&(st.await=ft),this.parseForIn(st,this.toAssignable(gt))):this.parseFor(st,gt);case o.tokTypes._function:return this.next(),this.parseFunction(st,!0);case o.tokTypes._if:return this.next(),st.test=this.parseParenExpression(),st.consequent=this.parseStatement(),st.alternate=this.eat(o.tokTypes._else)?this.parseStatement():null,this.finishNode(st,"IfStatement");case o.tokTypes._return:return this.next(),this.eat(o.tokTypes.semi)||this.canInsertSemicolon()?st.argument=null:(st.argument=this.parseExpression(),this.semicolon()),this.finishNode(st,"ReturnStatement");case o.tokTypes._switch:var yt=this.curIndent,ut=this.curLineStart;this.next(),st.discriminant=this.parseParenExpression(),st.cases=[],this.pushCx(),this.expect(o.tokTypes.braceL);for(var wt;!this.closes(o.tokTypes.braceR,yt,ut,!0);)if(this.tok.type===o.tokTypes._case||this.tok.type===o.tokTypes._default){var bt=this.tok.type===o.tokTypes._case;wt&&this.finishNode(wt,"SwitchCase"),st.cases.push(wt=this.startNode()),wt.consequent=[],this.next(),bt?wt.test=this.parseExpression():wt.test=null,this.expect(o.tokTypes.colon)}else wt||(st.cases.push(wt=this.startNode()),wt.consequent=[],wt.test=null),wt.consequent.push(this.parseStatement());return wt&&this.finishNode(wt,"SwitchCase"),this.popCx(),this.eat(o.tokTypes.braceR),this.finishNode(st,"SwitchStatement");case o.tokTypes._throw:return this.next(),st.argument=this.parseExpression(),this.semicolon(),this.finishNode(st,"ThrowStatement");case o.tokTypes._try:if(this.next(),st.block=this.parseBlock(),st.handler=null,this.tok.type===o.tokTypes._catch){var vt=this.startNode();this.next(),this.eat(o.tokTypes.parenL)?(vt.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(o.tokTypes.parenR)):vt.param=null,vt.body=this.parseBlock(),st.handler=this.finishNode(vt,"CatchClause")}return st.finalizer=this.eat(o.tokTypes._finally)?this.parseBlock():null,!st.handler&&!st.finalizer?st.block:this.finishNode(st,"TryStatement");case o.tokTypes._var:case o.tokTypes._const:return this.parseVar(st,!1,lt||this.tok.value);case o.tokTypes._while:return this.next(),st.test=this.parseParenExpression(),st.body=this.parseStatement(),this.finishNode(st,"WhileStatement");case o.tokTypes._with:return this.next(),st.object=this.parseParenExpression(),st.body=this.parseStatement(),this.finishNode(st,"WithStatement");case o.tokTypes.braceL:return this.parseBlock();case o.tokTypes.semi:return this.next(),this.finishNode(st,"EmptyStatement");case o.tokTypes._class:return this.parseClass(!0);case o.tokTypes._import:if(this.options.ecmaVersion>10){var Et=this.lookAhead(1).type;if(Et===o.tokTypes.parenL||Et===o.tokTypes.dot)return st.expression=this.parseExpression(),this.semicolon(),this.finishNode(st,"ExpressionStatement")}return this.parseImport();case o.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(st,!0,!0);var $t=this.parseExpression();return et($t)?(this.next(),this.tok.type===o.tokTypes.eof?this.finishNode(st,"EmptyStatement"):this.parseStatement()):tt===o.tokTypes.name&&$t.type==="Identifier"&&this.eat(o.tokTypes.colon)?(st.body=this.parseStatement(),st.label=$t,this.finishNode(st,"LabeledStatement")):(st.expression=$t,this.semicolon(),this.finishNode(st,"ExpressionStatement"))}},j.parseBlock=function(){var tt=this.startNode();this.pushCx(),this.expect(o.tokTypes.braceL);var st=this.curIndent,lt=this.curLineStart;for(tt.body=[];!this.closes(o.tokTypes.braceR,st,lt,!0);)tt.body.push(this.parseStatement());return this.popCx(),this.eat(o.tokTypes.braceR),this.finishNode(tt,"BlockStatement")},j.parseFor=function(tt,st){return tt.init=st,tt.test=tt.update=null,this.eat(o.tokTypes.semi)&&this.tok.type!==o.tokTypes.semi&&(tt.test=this.parseExpression()),this.eat(o.tokTypes.semi)&&this.tok.type!==o.tokTypes.parenR&&(tt.update=this.parseExpression()),this.popCx(),this.expect(o.tokTypes.parenR),tt.body=this.parseStatement(),this.finishNode(tt,"ForStatement")},j.parseForIn=function(tt,st){var lt=this.tok.type===o.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),tt.left=st,tt.right=this.parseExpression(),this.popCx(),this.expect(o.tokTypes.parenR),tt.body=this.parseStatement(),this.finishNode(tt,lt)},j.parseVar=function(tt,st,lt){tt.kind=lt,this.next(),tt.declarations=[];do{var ht=this.startNode();ht.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),ht.init=this.eat(o.tokTypes.eq)?this.parseMaybeAssign(st):null,tt.declarations.push(this.finishNode(ht,"VariableDeclarator"))}while(this.eat(o.tokTypes.comma));if(!tt.declarations.length){var ft=this.startNode();ft.id=this.dummyIdent(),tt.declarations.push(this.finishNode(ft,"VariableDeclarator"))}return st||this.semicolon(),this.finishNode(tt,"VariableDeclaration")},j.parseClass=function(tt){var st=this.startNode();this.next(),this.tok.type===o.tokTypes.name?st.id=this.parseIdent():tt===!0?st.id=this.dummyIdent():st.id=null,st.superClass=this.eat(o.tokTypes._extends)?this.parseExpression():null,st.body=this.startNode(),st.body.body=[],this.pushCx();var lt=this.curIndent+1,ht=this.curLineStart;for(this.eat(o.tokTypes.braceL),this.curIndent+1<lt&&(lt=this.curIndent,ht=this.curLineStart);!this.closes(o.tokTypes.braceR,lt,ht);){var ft=this.parseClassElement();ft&&st.body.body.push(ft)}return this.popCx(),this.eat(o.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(st.body,"ClassBody"),this.finishNode(st,tt?"ClassDeclaration":"ClassExpression")},j.parseClassElement=function(){if(this.eat(o.tokTypes.semi))return null;var tt=this.options,st=tt.ecmaVersion,lt=tt.locations,ht=this.curIndent,ft=this.curLineStart,ct=this.startNode(),mt="",gt=!1,yt=!1,ut="method",wt=!1;if(this.eatContextual("static")){if(st>=13&&this.eat(o.tokTypes.braceL))return this.parseClassStaticBlock(ct),ct;this.isClassElementNameStart()||this.toks.type===o.tokTypes.star?wt=!0:mt="static"}if(ct.static=wt,!mt&&st>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===o.tokTypes.star)&&!this.canInsertSemicolon()?yt=!0:mt="async"),!mt){gt=this.eat(o.tokTypes.star);var bt=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?ut=bt:mt=bt)}if(mt)ct.computed=!1,ct.key=this.startNodeAt(lt?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),ct.key.name=mt,this.finishNode(ct.key,"Identifier");else if(this.parseClassElementName(ct),et(ct.key))return et(this.parseMaybeAssign())&&this.next(),this.eat(o.tokTypes.comma),null;if(st<13||this.toks.type===o.tokTypes.parenL||ut!=="method"||gt||yt){var vt=!ct.computed&&!ct.static&&!gt&&!yt&&ut==="method"&&(ct.key.type==="Identifier"&&ct.key.name==="constructor"||ct.key.type==="Literal"&&ct.key.value==="constructor");ct.kind=vt?"constructor":ut,ct.value=this.parseMethod(gt,yt),this.finishNode(ct,"MethodDefinition")}else{if(this.eat(o.tokTypes.eq))if(this.curLineStart!==ft&&this.curIndent<=ht&&this.tokenStartsLine())ct.value=null;else{var Et=this.inAsync,$t=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,ct.value=this.parseMaybeAssign(),this.inAsync=Et,this.inGenerator=$t}else ct.value=null;this.semicolon(),this.finishNode(ct,"PropertyDefinition")}return ct},j.parseClassStaticBlock=function(tt){var st=this.curIndent,lt=this.curLineStart;for(tt.body=[],this.pushCx();!this.closes(o.tokTypes.braceR,st,lt,!0);)tt.body.push(this.parseStatement());return this.popCx(),this.eat(o.tokTypes.braceR),this.finishNode(tt,"StaticBlock")},j.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},j.parseClassElementName=function(tt){this.toks.type===o.tokTypes.privateId?(tt.computed=!1,tt.key=this.parsePrivateIdent()):this.parsePropertyName(tt)},j.parseFunction=function(tt,st,lt){var ht=this.inAsync,ft=this.inGenerator,ct=this.inFunction;return this.initFunction(tt),this.options.ecmaVersion>=6&&(tt.generator=this.eat(o.tokTypes.star)),this.options.ecmaVersion>=8&&(tt.async=!!lt),this.tok.type===o.tokTypes.name?tt.id=this.parseIdent():st===!0&&(tt.id=this.dummyIdent()),this.inAsync=tt.async,this.inGenerator=tt.generator,this.inFunction=!0,tt.params=this.parseFunctionParams(),tt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(tt.body.body),this.inAsync=ht,this.inGenerator=ft,this.inFunction=ct,this.finishNode(tt,st?"FunctionDeclaration":"FunctionExpression")},j.parseExport=function(){var tt=this.startNode();if(this.next(),this.eat(o.tokTypes.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?tt.exported=this.parseExprAtom():tt.exported=null),tt.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(tt,"ExportAllDeclaration");if(this.eat(o.tokTypes._default)){var st;if(this.tok.type===o.tokTypes._function||(st=this.toks.isAsyncFunction())){var lt=this.startNode();this.next(),st&&this.next(),tt.declaration=this.parseFunction(lt,"nullableID",st)}else this.tok.type===o.tokTypes._class?tt.declaration=this.parseClass("nullableID"):(tt.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(tt,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(tt.declaration=this.parseStatement(),tt.specifiers=[],tt.source=null):(tt.declaration=null,tt.specifiers=this.parseExportSpecifierList(),tt.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(tt,"ExportNamedDeclaration")},j.parseImport=function(){var tt=this.startNode();if(this.next(),this.tok.type===o.tokTypes.string)tt.specifiers=[],tt.source=this.parseExprAtom();else{var st;this.tok.type===o.tokTypes.name&&this.tok.value!=="from"&&(st=this.startNode(),st.local=this.parseIdent(),this.finishNode(st,"ImportDefaultSpecifier"),this.eat(o.tokTypes.comma)),tt.specifiers=this.parseImportSpecifiers(),tt.source=this.eatContextual("from")&&this.tok.type===o.tokTypes.string?this.parseExprAtom():this.dummyString(),st&&tt.specifiers.unshift(st)}return this.semicolon(),this.finishNode(tt,"ImportDeclaration")},j.parseImportSpecifiers=function(){var tt=[];if(this.tok.type===o.tokTypes.star){var st=this.startNode();this.next(),st.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),tt.push(this.finishNode(st,"ImportNamespaceSpecifier"))}else{var lt=this.curIndent,ht=this.curLineStart,ft=this.nextLineStart;for(this.pushCx(),this.eat(o.tokTypes.braceL),this.curLineStart>ft&&(ft=this.curLineStart);!this.closes(o.tokTypes.braceR,lt+(this.curLineStart<=ft?1:0),ht);){var ct=this.startNode();if(this.eat(o.tokTypes.star))ct.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(ct,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(ct.imported=this.parseModuleExportName(),et(ct.imported)))break;ct.local=this.eatContextual("as")?this.parseModuleExportName():ct.imported,this.finishNode(ct,"ImportSpecifier")}tt.push(ct),this.eat(o.tokTypes.comma)}this.eat(o.tokTypes.braceR),this.popCx()}return tt},j.parseExportSpecifierList=function(){var tt=[],st=this.curIndent,lt=this.curLineStart,ht=this.nextLineStart;for(this.pushCx(),this.eat(o.tokTypes.braceL),this.curLineStart>ht&&(ht=this.curLineStart);!this.closes(o.tokTypes.braceR,st+(this.curLineStart<=ht?1:0),lt)&&!this.isContextual("from");){var ft=this.startNode();if(ft.local=this.parseModuleExportName(),et(ft.local))break;ft.exported=this.eatContextual("as")?this.parseModuleExportName():ft.local,this.finishNode(ft,"ExportSpecifier"),tt.push(ft),this.eat(o.tokTypes.comma)}return this.eat(o.tokTypes.braceR),this.popCx(),tt},j.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===o.tokTypes.string?this.parseExprAtom():this.parseIdent()};var _=ot.prototype;_.checkLVal=function(tt){if(!tt)return tt;switch(tt.type){case"Identifier":case"MemberExpression":return tt;case"ParenthesizedExpression":return tt.expression=this.checkLVal(tt.expression),tt;default:return this.dummyIdent()}},_.parseExpression=function(tt){var st=this.storeCurrentPos(),lt=this.parseMaybeAssign(tt);if(this.tok.type===o.tokTypes.comma){var ht=this.startNodeAt(st);for(ht.expressions=[lt];this.eat(o.tokTypes.comma);)ht.expressions.push(this.parseMaybeAssign(tt));return this.finishNode(ht,"SequenceExpression")}return lt},_.parseParenExpression=function(){this.pushCx(),this.expect(o.tokTypes.parenL);var tt=this.parseExpression();return this.popCx(),this.expect(o.tokTypes.parenR),tt},_.parseMaybeAssign=function(tt){if(this.inGenerator&&this.toks.isContextual("yield")){var st=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==o.tokTypes.star&&!this.tok.type.startsExpr?(st.delegate=!1,st.argument=null):(st.delegate=this.eat(o.tokTypes.star),st.argument=this.parseMaybeAssign()),this.finishNode(st,"YieldExpression")}var lt=this.storeCurrentPos(),ht=this.parseMaybeConditional(tt);if(this.tok.type.isAssign){var ft=this.startNodeAt(lt);return ft.operator=this.tok.value,ft.left=this.tok.type===o.tokTypes.eq?this.toAssignable(ht):this.checkLVal(ht),this.next(),ft.right=this.parseMaybeAssign(tt),this.finishNode(ft,"AssignmentExpression")}return ht},_.parseMaybeConditional=function(tt){var st=this.storeCurrentPos(),lt=this.parseExprOps(tt);if(this.eat(o.tokTypes.question)){var ht=this.startNodeAt(st);return ht.test=lt,ht.consequent=this.parseMaybeAssign(),ht.alternate=this.expect(o.tokTypes.colon)?this.parseMaybeAssign(tt):this.dummyIdent(),this.finishNode(ht,"ConditionalExpression")}return lt},_.parseExprOps=function(tt){var st=this.storeCurrentPos(),lt=this.curIndent,ht=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),st,-1,tt,lt,ht)},_.parseExprOp=function(tt,st,lt,ht,ft,ct){if(this.curLineStart!==ct&&this.curIndent<ft&&this.tokenStartsLine())return tt;var mt=this.tok.type.binop;if(mt!=null&&(!ht||this.tok.type!==o.tokTypes._in)&&mt>lt){var gt=this.startNodeAt(st);if(gt.left=tt,gt.operator=this.tok.value,this.next(),this.curLineStart!==ct&&this.curIndent<ft&&this.tokenStartsLine())gt.right=this.dummyIdent();else{var yt=this.storeCurrentPos();gt.right=this.parseExprOp(this.parseMaybeUnary(!1),yt,mt,ht,ft,ct)}return this.finishNode(gt,/&&|\|\||\?\?/.test(gt.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(gt,st,lt,ht,ft,ct)}return tt},_.parseMaybeUnary=function(tt){var st=this.storeCurrentPos(),lt;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))lt=this.parseAwait(),tt=!0;else if(this.tok.type.prefix){var ht=this.startNode(),ft=this.tok.type===o.tokTypes.incDec;ft||(tt=!0),ht.operator=this.tok.value,ht.prefix=!0,this.next(),ht.argument=this.parseMaybeUnary(!0),ft&&(ht.argument=this.checkLVal(ht.argument)),lt=this.finishNode(ht,ft?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===o.tokTypes.ellipsis){var ct=this.startNode();this.next(),ct.argument=this.parseMaybeUnary(tt),lt=this.finishNode(ct,"SpreadElement")}else if(!tt&&this.tok.type===o.tokTypes.privateId)lt=this.parsePrivateIdent();else for(lt=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var mt=this.startNodeAt(st);mt.operator=this.tok.value,mt.prefix=!1,mt.argument=this.checkLVal(lt),this.next(),lt=this.finishNode(mt,"UpdateExpression")}if(!tt&&this.eat(o.tokTypes.starstar)){var gt=this.startNodeAt(st);return gt.operator="**",gt.left=lt,gt.right=this.parseMaybeUnary(!1),this.finishNode(gt,"BinaryExpression")}return lt},_.parseExprSubscripts=function(){var tt=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),tt,!1,this.curIndent,this.curLineStart)},_.parseSubscripts=function(tt,st,lt,ht,ft){for(var ct=this.options.ecmaVersion>=11,mt=!1;;){if(this.curLineStart!==ft&&this.curIndent<=ht&&this.tokenStartsLine())if(this.tok.type===o.tokTypes.dot&&this.curIndent===ht)--ht;else break;var gt=tt.type==="Identifier"&&tt.name==="async"&&!this.canInsertSemicolon(),yt=ct&&this.eat(o.tokTypes.questionDot);if(yt&&(mt=!0),yt&&this.tok.type!==o.tokTypes.parenL&&this.tok.type!==o.tokTypes.bracketL&&this.tok.type!==o.tokTypes.backQuote||this.eat(o.tokTypes.dot)){var ut=this.startNodeAt(st);ut.object=tt,this.curLineStart!==ft&&this.curIndent<=ht&&this.tokenStartsLine()?ut.property=this.dummyIdent():ut.property=this.parsePropertyAccessor()||this.dummyIdent(),ut.computed=!1,ct&&(ut.optional=yt),tt=this.finishNode(ut,"MemberExpression")}else if(this.tok.type===o.tokTypes.bracketL){this.pushCx(),this.next();var wt=this.startNodeAt(st);wt.object=tt,wt.property=this.parseExpression(),wt.computed=!0,ct&&(wt.optional=yt),this.popCx(),this.expect(o.tokTypes.bracketR),tt=this.finishNode(wt,"MemberExpression")}else if(!lt&&this.tok.type===o.tokTypes.parenL){var bt=this.parseExprList(o.tokTypes.parenR);if(gt&&this.eat(o.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(st),bt,!0);var vt=this.startNodeAt(st);vt.callee=tt,vt.arguments=bt,ct&&(vt.optional=yt),tt=this.finishNode(vt,"CallExpression")}else if(this.tok.type===o.tokTypes.backQuote){var Et=this.startNodeAt(st);Et.tag=tt,Et.quasi=this.parseTemplate(),tt=this.finishNode(Et,"TaggedTemplateExpression")}else break}if(mt){var $t=this.startNodeAt(st);$t.expression=tt,tt=this.finishNode($t,"ChainExpression")}return tt},_.parseExprAtom=function(){var tt;switch(this.tok.type){case o.tokTypes._this:case o.tokTypes._super:var st=this.tok.type===o.tokTypes._this?"ThisExpression":"Super";return tt=this.startNode(),this.next(),this.finishNode(tt,st);case o.tokTypes.name:var lt=this.storeCurrentPos(),ht=this.parseIdent(),ft=!1;if(ht.name==="async"&&!this.canInsertSemicolon()){if(this.eat(o.tokTypes._function))return this.toks.overrideContext(o.tokContexts.f_expr),this.parseFunction(this.startNodeAt(lt),!1,!0);this.tok.type===o.tokTypes.name&&(ht=this.parseIdent(),ft=!0)}return this.eat(o.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(lt),[ht],ft):ht;case o.tokTypes.regexp:tt=this.startNode();var ct=this.tok.value;return tt.regex={pattern:ct.pattern,flags:ct.flags},tt.value=ct.value,tt.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(tt,"Literal");case o.tokTypes.num:case o.tokTypes.string:return tt=this.startNode(),tt.value=this.tok.value,tt.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===o.tokTypes.num&&tt.raw.charCodeAt(tt.raw.length-1)===110&&(tt.bigint=tt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(tt,"Literal");case o.tokTypes._null:case o.tokTypes._true:case o.tokTypes._false:return tt=this.startNode(),tt.value=this.tok.type===o.tokTypes._null?null:this.tok.type===o.tokTypes._true,tt.raw=this.tok.type.keyword,this.next(),this.finishNode(tt,"Literal");case o.tokTypes.parenL:var mt=this.storeCurrentPos();this.next();var gt=this.parseExpression();if(this.expect(o.tokTypes.parenR),this.eat(o.tokTypes.arrow)){var yt=gt.expressions||[gt];return yt.length&&et(yt[yt.length-1])&&yt.pop(),this.parseArrowExpression(this.startNodeAt(mt),yt)}if(this.options.preserveParens){var ut=this.startNodeAt(mt);ut.expression=gt,gt=this.finishNode(ut,"ParenthesizedExpression")}return gt;case o.tokTypes.bracketL:return tt=this.startNode(),tt.elements=this.parseExprList(o.tokTypes.bracketR,!0),this.finishNode(tt,"ArrayExpression");case o.tokTypes.braceL:return this.toks.overrideContext(o.tokContexts.b_expr),this.parseObj();case o.tokTypes._class:return this.parseClass(!1);case o.tokTypes._function:return tt=this.startNode(),this.next(),this.parseFunction(tt,!1);case o.tokTypes._new:return this.parseNew();case o.tokTypes.backQuote:return this.parseTemplate();case o.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},_.parseExprImport=function(){var tt=this.startNode(),st=this.parseIdent(!0);switch(this.tok.type){case o.tokTypes.parenL:return this.parseDynamicImport(tt);case o.tokTypes.dot:return tt.meta=st,this.parseImportMeta(tt);default:return tt.name="import",this.finishNode(tt,"Identifier")}},_.parseDynamicImport=function(tt){return tt.source=this.parseExprList(o.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(tt,"ImportExpression")},_.parseImportMeta=function(tt){return this.next(),tt.property=this.parseIdent(!0),this.finishNode(tt,"MetaProperty")},_.parseNew=function(){var tt=this.startNode(),st=this.curIndent,lt=this.curLineStart,ht=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(o.tokTypes.dot))return tt.meta=ht,tt.property=this.parseIdent(!0),this.finishNode(tt,"MetaProperty");var ft=this.storeCurrentPos();return tt.callee=this.parseSubscripts(this.parseExprAtom(),ft,!0,st,lt),this.tok.type===o.tokTypes.parenL?tt.arguments=this.parseExprList(o.tokTypes.parenR):tt.arguments=[],this.finishNode(tt,"NewExpression")},_.parseTemplateElement=function(){var tt=this.startNode();return this.tok.type===o.tokTypes.invalidTemplate?tt.value={raw:this.tok.value,cooked:null}:tt.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),tt.tail=this.tok.type===o.tokTypes.backQuote,this.finishNode(tt,"TemplateElement")},_.parseTemplate=function(){var tt=this.startNode();this.next(),tt.expressions=[];var st=this.parseTemplateElement();for(tt.quasis=[st];!st.tail;)this.next(),tt.expressions.push(this.parseExpression()),this.expect(o.tokTypes.braceR)?st=this.parseTemplateElement():(st=this.startNode(),st.value={cooked:"",raw:""},st.tail=!0,this.finishNode(st,"TemplateElement")),tt.quasis.push(st);return this.expect(o.tokTypes.backQuote),this.finishNode(tt,"TemplateLiteral")},_.parseObj=function(){var tt=this.startNode();tt.properties=[],this.pushCx();var st=this.curIndent+1,lt=this.curLineStart;for(this.eat(o.tokTypes.braceL),this.curIndent+1<st&&(st=this.curIndent,lt=this.curLineStart);!this.closes(o.tokTypes.braceR,st,lt);){var ht=this.startNode(),ft=void 0,ct=void 0,mt=void 0;if(this.options.ecmaVersion>=9&&this.eat(o.tokTypes.ellipsis)){ht.argument=this.parseMaybeAssign(),tt.properties.push(this.finishNode(ht,"SpreadElement")),this.eat(o.tokTypes.comma);continue}if(this.options.ecmaVersion>=6&&(mt=this.storeCurrentPos(),ht.method=!1,ht.shorthand=!1,ft=this.eat(o.tokTypes.star)),this.parsePropertyName(ht),this.toks.isAsyncProp(ht)?(ct=!0,ft=this.options.ecmaVersion>=9&&this.eat(o.tokTypes.star),this.parsePropertyName(ht)):ct=!1,et(ht.key)){et(this.parseMaybeAssign())&&this.next(),this.eat(o.tokTypes.comma);continue}if(this.eat(o.tokTypes.colon))ht.kind="init",ht.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===o.tokTypes.parenL||this.tok.type===o.tokTypes.braceL))ht.kind="init",ht.method=!0,ht.value=this.parseMethod(ft,ct);else if(this.options.ecmaVersion>=5&&ht.key.type==="Identifier"&&!ht.computed&&(ht.key.name==="get"||ht.key.name==="set")&&this.tok.type!==o.tokTypes.comma&&this.tok.type!==o.tokTypes.braceR&&this.tok.type!==o.tokTypes.eq)ht.kind=ht.key.name,this.parsePropertyName(ht),ht.value=this.parseMethod(!1);else{if(ht.kind="init",this.options.ecmaVersion>=6)if(this.eat(o.tokTypes.eq)){var gt=this.startNodeAt(mt);gt.operator="=",gt.left=ht.key,gt.right=this.parseMaybeAssign(),ht.value=this.finishNode(gt,"AssignmentExpression")}else ht.value=ht.key;else ht.value=this.dummyIdent();ht.shorthand=!0}tt.properties.push(this.finishNode(ht,"Property")),this.eat(o.tokTypes.comma)}return this.popCx(),this.eat(o.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(tt,"ObjectExpression")},_.parsePropertyName=function(tt){if(this.options.ecmaVersion>=6)if(this.eat(o.tokTypes.bracketL)){tt.computed=!0,tt.key=this.parseExpression(),this.expect(o.tokTypes.bracketR);return}else tt.computed=!1;var st=this.tok.type===o.tokTypes.num||this.tok.type===o.tokTypes.string?this.parseExprAtom():this.parseIdent();tt.key=st||this.dummyIdent()},_.parsePropertyAccessor=function(){if(this.tok.type===o.tokTypes.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===o.tokTypes.privateId)return this.parsePrivateIdent()},_.parseIdent=function(){var tt=this.tok.type===o.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!tt)return this.dummyIdent();this.tok.type.keyword&&(this.toks.type=o.tokTypes.name);var st=this.startNode();return this.next(),st.name=tt,this.finishNode(st,"Identifier")},_.parsePrivateIdent=function(){var tt=this.startNode();return tt.name=this.tok.value,this.next(),this.finishNode(tt,"PrivateIdentifier")},_.initFunction=function(tt){tt.id=null,tt.params=[],this.options.ecmaVersion>=6&&(tt.generator=!1,tt.expression=!1),this.options.ecmaVersion>=8&&(tt.async=!1)},_.toAssignable=function(tt,st){if(!(!tt||tt.type==="Identifier"||tt.type==="MemberExpression"&&!st))if(tt.type==="ParenthesizedExpression")this.toAssignable(tt.expression,st);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(tt.type==="ObjectExpression"){tt.type="ObjectPattern";for(var lt=0,ht=tt.properties;lt<ht.length;lt+=1){var ft=ht[lt];this.toAssignable(ft,st)}}else if(tt.type==="ArrayExpression")tt.type="ArrayPattern",this.toAssignableList(tt.elements,st);else if(tt.type==="Property")this.toAssignable(tt.value,st);else if(tt.type==="SpreadElement")tt.type="RestElement",this.toAssignable(tt.argument,st);else if(tt.type==="AssignmentExpression")tt.type="AssignmentPattern",delete tt.operator;else return this.dummyIdent()}return tt},_.toAssignableList=function(tt,st){for(var lt=0,ht=tt;lt<ht.length;lt+=1){var ft=ht[lt];this.toAssignable(ft,st)}return tt},_.parseFunctionParams=function(tt){return tt=this.parseExprList(o.tokTypes.parenR),this.toAssignableList(tt,!0)},_.parseMethod=function(tt,st){var lt=this.startNode(),ht=this.inAsync,ft=this.inGenerator,ct=this.inFunction;return this.initFunction(lt),this.options.ecmaVersion>=6&&(lt.generator=!!tt),this.options.ecmaVersion>=8&&(lt.async=!!st),this.inAsync=lt.async,this.inGenerator=lt.generator,this.inFunction=!0,lt.params=this.parseFunctionParams(),lt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(lt.body.body),this.inAsync=ht,this.inGenerator=ft,this.inFunction=ct,this.finishNode(lt,"FunctionExpression")},_.parseArrowExpression=function(tt,st,lt){var ht=this.inAsync,ft=this.inGenerator,ct=this.inFunction;return this.initFunction(tt),this.options.ecmaVersion>=8&&(tt.async=!!lt),this.inAsync=tt.async,this.inGenerator=!1,this.inFunction=!0,tt.params=this.toAssignableList(st,!0),tt.expression=this.tok.type!==o.tokTypes.braceL,tt.expression?tt.body=this.parseMaybeAssign():(tt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(tt.body.body)),this.inAsync=ht,this.inGenerator=ft,this.inFunction=ct,this.finishNode(tt,"ArrowFunctionExpression")},_.parseExprList=function(tt,st){this.pushCx();var lt=this.curIndent,ht=this.curLineStart,ft=[];for(this.next();!this.closes(tt,lt+1,ht);){if(this.eat(o.tokTypes.comma)){ft.push(st?null:this.dummyIdent());continue}var ct=this.parseMaybeAssign();if(et(ct)){if(this.closes(tt,lt,ht))break;this.next()}else ft.push(ct);this.eat(o.tokTypes.comma)}return this.popCx(),this.eat(tt)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),ft},_.parseAwait=function(){var tt=this.startNode();return this.next(),tt.argument=this.parseMaybeUnary(),this.finishNode(tt,"AwaitExpression")},o.defaultOptions.tabSize=4;function $(tt,st){return ot.parse(tt,st)}a.LooseParser=ot,a.isDummy=et,a.parse=$})})(acornLoose,acornLoose.exports);var acornLooseExports=acornLoose.exports,validator={},validityErrors={};Object.defineProperty(validityErrors,"__esModule",{value:!0});validityErrors.NoAssignmentToForVariable=void 0;const types_1$j=types;class NoAssignmentToForVariable{constructor(s){this.node=s,this.type=types_1$j.ErrorType.SYNTAX,this.severity=types_1$j.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}validityErrors.NoAssignmentToForVariable=NoAssignmentToForVariable;var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1,Object.defineProperty(validator,"__esModule",{value:!0}),validator.validateAndAnnotate=void 0;const i=requireErrors(),s=validityErrors,a=astCreator,o=walkers$1;class rt{constructor(ot){this.isConstant=ot,this.accessedBeforeDeclaration=!1}}function et(at,ot){const nt=new Map,it=new Map;function j(st){const lt=new Map;for(const ht of st.body)ht.type==="VariableDeclaration"?lt.set((0,a.getVariableDecarationName)(ht),new rt(ht.kind==="const")):ht.type==="FunctionDeclaration"&&lt.set(ht.id.name,new rt(!0));it.set(st,!1),nt.set(st,lt)}function _(st){nt.set(st,new Map(st.params.map(lt=>[lt.name,new rt(!1)]))),it.set(st,!1)}(0,o.ancestor)(at,{Program:j,BlockStatement:j,FunctionDeclaration:_,ArrowFunctionExpression:_,ForStatement(st,lt){const ht=st.init;ht.type==="VariableDeclaration"&&(nt.set(st,new Map([[(0,a.getVariableDecarationName)(ht),new rt(ht.kind==="const")]])),it.set(st,!1))}});function $(st,lt){const ht=st.name,ft=lt[lt.length-2];for(let ct=lt.length-1;ct>=0;ct--){const mt=lt[ct],gt=nt.get(mt);if(gt!=null&&gt.has(ht)){gt.get(ht).accessedBeforeDeclaration=!0,ft.type==="AssignmentExpression"&&ft.left===st&&(gt.get(ht).isConstant&&ot.errors.push(new i.ConstAssignment(ft,ht)),mt.type==="ForStatement"&&mt.init!==ft&&mt.update!==ft&&ot.errors.push(new s.NoAssignmentToForVariable(ft)));break}}}const tt=Object.assign(Object.assign({},o.base),{VariableDeclarator(st,lt,ht){st.init&&ht(st.init,lt,"Expression")}});return(0,o.ancestor)(at,{VariableDeclaration(st,lt){const ht=lt[lt.length-2],ft=(0,a.getVariableDecarationName)(st),ct=nt.get(ht).get(ft).accessedBeforeDeclaration;st.typability=ct?"Untypable":"NotYetTyped"},Identifier:$,FunctionDeclaration(st,lt){const ht=lt[lt.length-2];st.typability=it.get(ht)?"Untypable":"NotYetTyped"},Pattern(st,lt){st.type==="Identifier"?$(st,lt):st.type==="MemberExpression"&&st.object.type==="Identifier"&&$(st.object,lt)},CallExpression(st,lt){for(let ht=lt.length-1;ht>=0;ht--){const ft=lt[ht];if(it.has(ft)){it.set(ft,!0);break}}}},tt),at}return validator.validateAndAnnotate=et,validator}var rules$1={},bracesAroundFor$1={};Object.defineProperty(bracesAroundFor$1,"__esModule",{value:!0});bracesAroundFor$1.BracesAroundForError=void 0;const astring_1$7=astring,types_1$i=types;class BracesAroundForError{constructor(s){this.node=s,this.type=types_1$i.ErrorType.SYNTAX,this.severity=types_1$i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){const s=(0,astring_1$7.generate)(this.node.init),a=(0,astring_1$7.generate)(this.node.test),o=(0,astring_1$7.generate)(this.node.update);return`Remember to enclose your "for" block with braces:

 ${`	for (${s} ${a}; ${o}) {
		//code goes here
	}`}`}}bracesAroundFor$1.BracesAroundForError=BracesAroundForError;const bracesAroundFor={name:"braces-around-for",checkers:{ForStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundForError(i)]:[]}}};bracesAroundFor$1.default=bracesAroundFor;var bracesAroundIfElse$1={};Object.defineProperty(bracesAroundIfElse$1,"__esModule",{value:!0});bracesAroundIfElse$1.BracesAroundIfElseError=void 0;const astring_1$6=astring,types_1$h=types,formatters_1$5=formatters;class BracesAroundIfElseError{constructor(s,a){this.node=s,this.branch=a,this.type=types_1$h.ErrorType.SYNTAX,this.severity=types_1$h.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return this.branch==="consequent"?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let s,a,o;return this.branch==="consequent"?(s="if",a=`if (${(0,astring_1$6.generate)(this.node.test)})`,o=this.node.consequent):(s=a="else",o=this.node.alternate),(0,formatters_1$5.stripIndent)`
      ${s} block need to be enclosed with a pair of curly braces.

      ${a} {
        ${(0,astring_1$6.generate)(o)}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `}}bracesAroundIfElse$1.BracesAroundIfElseError=BracesAroundIfElseError;const bracesAroundIfElse={name:"braces-around-if-else",checkers:{IfStatement(i,s){const a=[];if(i.consequent&&i.consequent.type!=="BlockStatement"&&a.push(new BracesAroundIfElseError(i,"consequent")),i.alternate){const o=i.alternate.type!=="BlockStatement",rt=i.alternate.type!=="IfStatement";o&&rt&&a.push(new BracesAroundIfElseError(i,"alternate"))}return a}}};bracesAroundIfElse$1.default=bracesAroundIfElse;var bracesAroundWhile$1={};Object.defineProperty(bracesAroundWhile$1,"__esModule",{value:!0});bracesAroundWhile$1.BracesAroundWhileError=void 0;const astring_1$5=astring,types_1$g=types;class BracesAroundWhileError{constructor(s){this.node=s,this.type=types_1$g.ErrorType.SYNTAX,this.severity=types_1$g.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:

 ${`	while (${(0,astring_1$5.generate)(this.node.test)}) {
		//code goes here
	}`}`}}bracesAroundWhile$1.BracesAroundWhileError=BracesAroundWhileError;const bracesAroundWhile={name:"braces-around-while",checkers:{WhileStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundWhileError(i)]:[]}}};bracesAroundWhile$1.default=bracesAroundWhile;var forStatementMustHaveAllParts$1={};Object.defineProperty(forStatementMustHaveAllParts$1,"__esModule",{value:!0});forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=void 0;const types_1$f=types,formatters_1$4=formatters;class ForStatmentMustHaveAllParts{constructor(s,a){this.node=s,this.missingParts=a,this.type=types_1$f.ErrorType.SYNTAX,this.severity=types_1$f.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${this.missingParts.length===1?"":"s"} in for statement.`}elaborate(){return(0,formatters_1$4.stripIndent)`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `}}forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=ForStatmentMustHaveAllParts;const forStatementMustHaveAllParts={name:"for-statement-must-have-all-parts",checkers:{ForStatement(i){const s=["init","test","update"].filter(a=>i[a]===null);return s.length>0?[new ForStatmentMustHaveAllParts(i,s)]:[]}}};forStatementMustHaveAllParts$1.default=forStatementMustHaveAllParts;var noDeclareMutable$1={};Object.defineProperty(noDeclareMutable$1,"__esModule",{value:!0});noDeclareMutable$1.NoDeclareMutableError=void 0;const astring_1$4=astring,types_1$e=types,mutableDeclarators=["let","var"];class NoDeclareMutableError{constructor(s){this.node=s,this.type=types_1$e.ErrorType.SYNTAX,this.severity=types_1$e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){const s=this.node.declarations[0].id.name,a=(0,astring_1$4.generate)(this.node.declarations[0].init);return`Use keyword "const" instead, to declare a constant:

	const ${s} = ${a};`}}noDeclareMutable$1.NoDeclareMutableError=NoDeclareMutableError;const noDeclareMutable={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration(i,s){return mutableDeclarators.includes(i.kind)?[new NoDeclareMutableError(i)]:[]}}};noDeclareMutable$1.default=noDeclareMutable;var noDotAbbreviation$1={};Object.defineProperty(noDotAbbreviation$1,"__esModule",{value:!0});noDotAbbreviation$1.NoDotAbbreviationError=void 0;const types_1$d=types;class NoDotAbbreviationError{constructor(s){this.node=s,this.type=types_1$d.ErrorType.SYNTAX,this.severity=types_1$d.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}noDotAbbreviation$1.NoDotAbbreviationError=NoDotAbbreviationError;const noDotAbbreviation={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression(i,s){return i.computed?[]:[new NoDotAbbreviationError(i)]}}};noDotAbbreviation$1.default=noDotAbbreviation;var noEval$1={};Object.defineProperty(noEval$1,"__esModule",{value:!0});noEval$1.NoEval=void 0;const types_1$c=types;class NoEval{constructor(s){this.node=s,this.type=types_1$c.ErrorType.SYNTAX,this.severity=types_1$c.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}noEval$1.NoEval=NoEval;const noEval={name:"no-eval",checkers:{Identifier(i,s){return i.name==="eval"?[new NoEval(i)]:[]}}};noEval$1.default=noEval;var noHolesInArrays$1={};Object.defineProperty(noHolesInArrays$1,"__esModule",{value:!0});noHolesInArrays$1.NoHolesInArrays=void 0;const types_1$b=types,formatters_1$3=formatters;class NoHolesInArrays{constructor(s){this.node=s,this.type=types_1$b.ErrorType.SYNTAX,this.severity=types_1$b.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return(0,formatters_1$3.stripIndent)`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `}}noHolesInArrays$1.NoHolesInArrays=NoHolesInArrays;const noHolesInArrays={name:"no-holes-in-arrays",checkers:{ArrayExpression(i){return i.elements.some(s=>s===null)?[new NoHolesInArrays(i)]:[]}}};noHolesInArrays$1.default=noHolesInArrays;var noIfWithoutElse$1={};Object.defineProperty(noIfWithoutElse$1,"__esModule",{value:!0});noIfWithoutElse$1.NoIfWithoutElseError=void 0;const astring_1$3=astring,types_1$a=types,formatters_1$2=formatters;class NoIfWithoutElseError{constructor(s){this.node=s,this.type=types_1$a.ErrorType.SYNTAX,this.severity=types_1$a.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return(0,formatters_1$2.stripIndent)`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${(0,astring_1$3.generate)(this.node.test)} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `}}noIfWithoutElse$1.NoIfWithoutElseError=NoIfWithoutElseError;const noIfWithoutElse={name:"no-if-without-else",disableOn:3,checkers:{IfStatement(i,s){return i.alternate?[]:[new NoIfWithoutElseError(i)]}}};noIfWithoutElse$1.default=noIfWithoutElse;var noImplicitDeclareUndefined$1={};Object.defineProperty(noImplicitDeclareUndefined$1,"__esModule",{value:!0});noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=void 0;const types_1$9=types,formatters_1$1=formatters;class NoImplicitDeclareUndefinedError{constructor(s){this.node=s,this.type=types_1$9.ErrorType.SYNTAX,this.severity=types_1$9.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return(0,formatters_1$1.stripIndent)`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${this.node.name}, you can write:

        let ${this.node.name} = 20;

        ${this.node.name} + ${this.node.name}; // 40
    `}}noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=NoImplicitDeclareUndefinedError;const noImplicitDeclareUndefined={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(i,s){const a=[];for(const o of i.declarations)o.init||a.push(new NoImplicitDeclareUndefinedError(o.id));return a}}};noImplicitDeclareUndefined$1.default=noImplicitDeclareUndefined;var noImplicitReturnUndefined$1={};Object.defineProperty(noImplicitReturnUndefined$1,"__esModule",{value:!0});noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=void 0;const types_1$8=types,formatters_1=formatters;class NoImplicitReturnUndefinedError{constructor(s){this.node=s,this.type=types_1$8.ErrorType.SYNTAX,this.severity=types_1$8.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return(0,formatters_1.stripIndent)`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `}}noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=NoImplicitReturnUndefinedError;const noImplicitReturnUndefined={name:"no-implicit-return-undefined",checkers:{ReturnStatement(i,s){return i.argument?[]:[new NoImplicitReturnUndefinedError(i)]}}};noImplicitReturnUndefined$1.default=noImplicitReturnUndefined;var noNull$1={};Object.defineProperty(noNull$1,"__esModule",{value:!0});noNull$1.NoNullError=void 0;const types_1$7=types;class NoNullError{constructor(s){this.node=s,this.type=types_1$7.ErrorType.SYNTAX,this.severity=types_1$7.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source 1 specs."}}noNull$1.NoNullError=NoNullError;const noNull={name:"no-null",disableOn:2,checkers:{Literal(i,s){return i.value===null?[new NoNullError(i)]:[]}}};noNull$1.default=noNull;var noSpreadInArray$1={};Object.defineProperty(noSpreadInArray$1,"__esModule",{value:!0});noSpreadInArray$1.NoSpreadInArray=void 0;const types_1$6=types;class NoSpreadInArray{constructor(s){this.node=s,this.type=types_1$6.ErrorType.SYNTAX,this.severity=types_1$6.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}noSpreadInArray$1.NoSpreadInArray=NoSpreadInArray;const noSpreadInArray={name:"no-assignment-expression",checkers:{SpreadElement(i,s){return s[s.length-2].type==="CallExpression"?[]:[new NoSpreadInArray(i)]}}};noSpreadInArray$1.default=noSpreadInArray;var noTemplateExpression$1={};Object.defineProperty(noTemplateExpression$1,"__esModule",{value:!0});noTemplateExpression$1.NoTemplateExpressionError=void 0;const types_1$5=types;class NoTemplateExpressionError{constructor(s){this.node=s,this.type=types_1$5.ErrorType.SYNTAX,this.severity=types_1$5.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}noTemplateExpression$1.NoTemplateExpressionError=NoTemplateExpressionError;const noTemplateExpression={name:"no-template-expression",checkers:{TemplateLiteral(i,s){return i.expressions.length>0?[new NoTemplateExpressionError(i)]:[]}}};noTemplateExpression$1.default=noTemplateExpression;var noUnspecifiedLiteral$1={};Object.defineProperty(noUnspecifiedLiteral$1,"__esModule",{value:!0});noUnspecifiedLiteral$1.NoUnspecifiedLiteral=void 0;const types_1$4=types,specifiedLiterals=["boolean","string","number"];class NoUnspecifiedLiteral{constructor(s){this.node=s,this.type=types_1$4.ErrorType.SYNTAX,this.severity=types_1$4.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}noUnspecifiedLiteral$1.NoUnspecifiedLiteral=NoUnspecifiedLiteral;const noUnspecifiedLiteral={name:"no-unspecified-literal",checkers:{Literal(i,s){return i.value!==null&&!specifiedLiterals.includes(typeof i.value)?[new NoUnspecifiedLiteral(i)]:[]}}};noUnspecifiedLiteral$1.default=noUnspecifiedLiteral;var noUnspecifiedOperator$1={};Object.defineProperty(noUnspecifiedOperator$1,"__esModule",{value:!0});noUnspecifiedOperator$1.NoUnspecifiedOperatorError=void 0;const types_1$3=types;class NoUnspecifiedOperatorError{constructor(s){this.node=s,this.type=types_1$3.ErrorType.SYNTAX,this.severity=types_1$3.ErrorSeverity.ERROR,this.unspecifiedOperator=s.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}noUnspecifiedOperator$1.NoUnspecifiedOperatorError=NoUnspecifiedOperatorError;const noUnspecifiedOperator={name:"no-unspecified-operator",checkers:{BinaryExpression(i,s){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]},UnaryExpression(i){return["-","!"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]}}};noUnspecifiedOperator$1.default=noUnspecifiedOperator;var noUpdateAssignment$1={};Object.defineProperty(noUpdateAssignment$1,"__esModule",{value:!0});noUpdateAssignment$1.NoUpdateAssignment=void 0;const astring_1$2=astring,types_1$2=types;class NoUpdateAssignment{constructor(s){this.node=s,this.type=types_1$2.ErrorType.SYNTAX,this.severity=types_1$2.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const s=(0,astring_1$2.generate)(this.node.left),a=(0,astring_1$2.generate)(this.node.right),o=this.node.operator.slice(0,-1);return o==="+"||o==="-"||o==="/"||o==="*"?`
	${s} = ${s} ${o} ${a};`:""}}noUpdateAssignment$1.NoUpdateAssignment=NoUpdateAssignment;const noUpdateAssignment={name:"no-update-assignment",checkers:{AssignmentExpression(i,s){return i.operator!=="="?[new NoUpdateAssignment(i)]:[]}}};noUpdateAssignment$1.default=noUpdateAssignment;var noVar$1={};Object.defineProperty(noVar$1,"__esModule",{value:!0});noVar$1.NoVarError=void 0;const astring_1$1=astring,types_1$1=types;class NoVarError{constructor(s){this.node=s,this.type=types_1$1.ErrorType.SYNTAX,this.severity=types_1$1.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){const s=this.node.declarations[0].id.name,a=(0,astring_1$1.generate)(this.node.declarations[0].init);return`Use keyword "let" instead, to declare a variable:

	let ${s} = ${a};`}}noVar$1.NoVarError=NoVarError;const noVar={name:"no-var",checkers:{VariableDeclaration(i,s){return i.kind==="var"?[new NoVarError(i)]:[]}}};noVar$1.default=noVar;var singleVariableDeclaration$1={};Object.defineProperty(singleVariableDeclaration$1,"__esModule",{value:!0});singleVariableDeclaration$1.MultipleDeclarationsError=void 0;const astring_1=astring,types_1=types;class MultipleDeclarationsError{constructor(s){this.node=s,this.type=types_1.ErrorType.SYNTAX,this.severity=types_1.ErrorSeverity.ERROR,this.fixs=s.declarations.map(a=>({type:"VariableDeclaration",kind:"let",loc:a.loc,declarations:[a]}))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return`Split the variable declaration into multiple lines as follows

`+this.fixs.map(a=>"	"+(0,astring_1.generate)(a)).join(`
`)+`
`}}singleVariableDeclaration$1.MultipleDeclarationsError=MultipleDeclarationsError;const singleVariableDeclaration={name:"single-variable-declaration",checkers:{VariableDeclaration(i,s){return i.declarations.length>1?[new MultipleDeclarationsError(i)]:[]}}};singleVariableDeclaration$1.default=singleVariableDeclaration;Object.defineProperty(rules$1,"__esModule",{value:!0});const bracesAroundFor_1=bracesAroundFor$1,bracesAroundIfElse_1=bracesAroundIfElse$1,bracesAroundWhile_1=bracesAroundWhile$1,forStatementMustHaveAllParts_1=forStatementMustHaveAllParts$1,noDeclareMutable_1=noDeclareMutable$1,noDotAbbreviation_1=noDotAbbreviation$1,noEval_1=noEval$1,noHolesInArrays_1=noHolesInArrays$1,noIfWithoutElse_1=noIfWithoutElse$1,noImplicitDeclareUndefined_1=noImplicitDeclareUndefined$1,noImplicitReturnUndefined_1=noImplicitReturnUndefined$1,noNull_1=noNull$1,noSpreadInArray_1=noSpreadInArray$1,noTemplateExpression_1=noTemplateExpression$1,noUnspecifiedLiteral_1=noUnspecifiedLiteral$1,noUnspecifiedOperator_1=noUnspecifiedOperator$1,noUpdateAssignment_1=noUpdateAssignment$1,noVar_1=noVar$1,singleVariableDeclaration_1=singleVariableDeclaration$1,rules=[bracesAroundFor_1.default,bracesAroundIfElse_1.default,bracesAroundWhile_1.default,forStatementMustHaveAllParts_1.default,noDeclareMutable_1.default,noDotAbbreviation_1.default,noIfWithoutElse_1.default,noImplicitDeclareUndefined_1.default,noImplicitReturnUndefined_1.default,noNull_1.default,noUnspecifiedLiteral_1.default,noUnspecifiedOperator_1.default,noUpdateAssignment_1.default,noVar_1.default,singleVariableDeclaration_1.default,noEval_1.default,noHolesInArrays_1.default,noTemplateExpression_1.default,noSpreadInArray_1.default];rules$1.default=rules;var syntaxBlacklist={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.libraryParserLanguage=void 0,i.libraryParserLanguage=100;const s={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:i.libraryParserLanguage,NewExpression:i.libraryParserLanguage,TryStatement:i.libraryParserLanguage,CatchClause:i.libraryParserLanguage,ThrowStatement:i.libraryParserLanguage,ThisExpression:i.libraryParserLanguage,Super:i.libraryParserLanguage,ClassDeclaration:i.libraryParserLanguage,ClassExpression:i.libraryParserLanguage,Class:i.libraryParserLanguage,ClassBody:i.libraryParserLanguage,MethodDefinition:i.libraryParserLanguage,FunctionExpression:i.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0};i.default=s})(syntaxBlacklist);var hasRequiredParser$1;function requireParser$1(){return hasRequiredParser$1||(hasRequiredParser$1=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.typedParse=i.looseParse=i.parseWithComments=i.createAcornParserOptions=i.tokenize=i.parse=i.parseAt=i.TrailingCommaError=i.MissingSemicolonError=i.FatalSyntaxError=i.DisallowedConstructError=void 0;const s=acornExports,a=acornLooseExports,o=constants,rt=types,et=formatters,at=walkers$1,ot=requireValidator(),nt=rules$1,it=syntaxBlacklist;class j{constructor(vt){this.node=vt,this.type=rt.ErrorType.SYNTAX,this.severity=rt.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return(0,et.stripIndent)`
      You are trying to use ${this.nodeType}, which is not allowed (yet).
    `}formatNodeType(vt){switch(vt){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return vt.split(/(?=[A-Z])/).map(($t,Tt)=>Tt===0?$t:$t.toLowerCase()).join(" ")+"s"}}}i.DisallowedConstructError=j;class _{constructor(vt,Et){this.location=vt,this.message=Et,this.type=rt.ErrorType.SYNTAX,this.severity=rt.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}i.FatalSyntaxError=_;class ${constructor(vt){this.location=vt,this.type=rt.ErrorType.SYNTAX,this.severity=rt.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}i.MissingSemicolonError=$;class tt{constructor(vt){this.location=vt}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}i.TrailingCommaError=tt;function st(bt,vt){let Et;try{Et=(0,s.parseExpressionAt)(bt,vt,o.ACORN_PARSE_OPTIONS)}catch{return}return Et}i.parseAt=st;function lt(bt,vt){let Et;try{Et=(0,s.parse)(bt,(0,i.createAcornParserOptions)(vt)),(0,at.ancestor)(Et,wt,void 0,vt)}catch(Tt){if(Tt instanceof SyntaxError){const At=Tt.loc,Ct={start:{line:At.line,column:At.column},end:{line:At.line,column:At.column+1}};vt.errors.push(new _(Ct,Tt.toString()))}else throw Tt}const $t=vt.errors.find(Tt=>Tt.severity===rt.ErrorSeverity.ERROR);if(Et&&!$t)return Et}i.parse=lt;function ht(bt,vt){return[...(0,s.tokenizer)(bt,(0,i.createAcornParserOptions)(vt))]}i.tokenize=ht;const ft=bt=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(vt,Et){bt.errors.push(new $({end:{line:Et.line,column:Et.column+1},start:Et}))},onTrailingComma(vt,Et){bt.errors.push(new tt({end:{line:Et.line,column:Et.column+1},start:Et}))}});i.createAcornParserOptions=ft;function ct(bt){let vt=[];const Et={sourceType:"module",ecmaVersion:6,locations:!0,onComment:vt};let $t;try{$t=(0,s.parse)(bt,Et)}catch{vt=[],$t=(0,a.parse)(bt,Et)}return[$t,vt]}i.parseWithComments=ct;function mt(bt,vt){return(0,a.parse)(bt,(0,i.createAcornParserOptions)(vt))}i.looseParse=mt;function gt(bt,vt){const Et=mt(bt,vt);return Et===void 0?null:(0,ot.validateAndAnnotate)(Et,vt)}i.typedParse=gt;function yt(bt,vt){const Et=new Map,$t=new Set;return Object.entries(bt).map(At=>{const Ct=At[0];Et.set(Ct,(It,Lt,Ft)=>{$t.has(It)||($t.add(It),Lt.chapter<bt[It.type]&&Lt.errors.push(new j(It)))})}),vt.forEach(At=>{const Ct=At.checkers;Object.entries(Ct).forEach(Lt=>{const Ft=Lt[0],Dt=Lt[1],Vt=Et.get(Ft),Ut=(Qt,Kt,Ht)=>{if(typeof At.disableOn<"u"&&Kt.chapter>=At.disableOn)return;Dt(Qt,Ht).forEach(nr=>Kt.errors.push(nr))};Et.set(Ft,(Qt,Kt,Ht)=>{Vt(Qt,Kt,Ht),Ut(Qt,Kt,Ht)})})}),ut(Et)}const ut=bt=>Array.from(bt).reduce((vt,[Et,$t])=>Object.assign(vt,{[Et]:$t}),{}),wt=yt(it.default,nt.default)}(parser)),parser}var hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1,Object.defineProperty(parser$1,"__esModule",{value:!0}),parser$1.tokenize=parser$1.parse=void 0;const i=requireParser$1(),s=syntaxBlacklist,a=formatters,o=requireList();class rt extends Error{constructor(st){super(st),this.name="ParseError"}}function et(){console.error((0,a.oneLine)`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)}function at(tt){return tt.length===1?j(tt[0]):(0,o.vector_to_list)(["sequence",(0,o.vector_to_list)(tt.map(j))])}function ot(tt){return nt(tt)?(0,o.vector_to_list)(["block",at(tt)]):at(tt)}function nt(tt){return tt.reduce((st,lt)=>st||lt.type==="VariableDeclaration"||lt.type==="FunctionDeclaration",!1)}const it=new Map([["Program",tt=>(tt=tt,at(tt.body))],["BlockStatement",tt=>ot(tt.body)],["ExpressionStatement",tt=>j(tt.expression)],["IfStatement",tt=>(0,o.vector_to_list)(["conditional_statement",j(tt.test),j(tt.consequent),tt.alternate===null?at([]):j(tt.alternate)])],["FunctionDeclaration",tt=>(0,o.vector_to_list)(["function_declaration",j(tt.id),(0,o.vector_to_list)(tt.params.map(j)),ot(tt.body.body)])],["VariableDeclaration",tt=>{if(tt.kind==="let")return(0,o.vector_to_list)(["variable_declaration",j(tt.declarations[0].id),j(tt.declarations[0].init)]);if(tt.kind==="const")return(0,o.vector_to_list)(["constant_declaration",j(tt.declarations[0].id),j(tt.declarations[0].init)]);throw et(),new rt("Invalid declaration kind")}],["ReturnStatement",tt=>(0,o.vector_to_list)(["return_statement",j(tt.argument)])],["CallExpression",tt=>(0,o.vector_to_list)(["application",j(tt.callee),(0,o.vector_to_list)(tt.arguments.map(j))])],["UnaryExpression",tt=>(0,o.vector_to_list)(["unary_operator_combination",tt.operator==="-"?"-unary":tt.operator,j(tt.argument)])],["BinaryExpression",tt=>(0,o.vector_to_list)(["binary_operator_combination",tt.operator,j(tt.left),j(tt.right)])],["LogicalExpression",tt=>(0,o.vector_to_list)(["logical_composition",tt.operator,j(tt.left),j(tt.right)])],["ConditionalExpression",tt=>(0,o.vector_to_list)(["conditional_expression",j(tt.test),j(tt.consequent),j(tt.alternate)])],["ArrowFunctionExpression",tt=>(0,o.vector_to_list)(["lambda_expression",(0,o.vector_to_list)(tt.params.map(j)),tt.body.type==="BlockStatement"?ot(tt.body.body):(0,o.vector_to_list)(["return_statement",j(tt.body)])])],["Identifier",tt=>(0,o.vector_to_list)(["name",tt.name])],["Literal",tt=>(0,o.vector_to_list)(["literal",tt.value])],["ArrayExpression",tt=>(0,o.vector_to_list)(["array_expression",(0,o.vector_to_list)(tt.elements.map(j))])],["AssignmentExpression",tt=>{if(tt.left.type==="Identifier")return(0,o.vector_to_list)(["assignment",j(tt.left),j(tt.right)]);if(tt.left.type==="MemberExpression")return(0,o.vector_to_list)(["object_assignment",j(tt.left),j(tt.right)]);throw et(),new rt("Invalid assignment")}],["ForStatement",tt=>(0,o.vector_to_list)(["for_loop",j(tt.init),j(tt.test),j(tt.update),j(tt.body)])],["WhileStatement",tt=>(0,o.vector_to_list)(["while_loop",j(tt.test),j(tt.body)])],["BreakStatement",tt=>(0,o.vector_to_list)(["break_statement"])],["ContinueStatement",tt=>(0,o.vector_to_list)(["continue_statement"])],["ObjectExpression",tt=>(0,o.vector_to_list)(["object_expression",(0,o.vector_to_list)(tt.properties.map(j))])],["MemberExpression",tt=>(0,o.vector_to_list)(["object_access",j(tt.object),!tt.computed&&tt.property.type==="Identifier"?(0,o.vector_to_list)(["property",tt.property.name]):j(tt.property)])],["Property",tt=>(0,o.vector_to_list)(["key_value_pair",tt.key.type==="Identifier"?(0,o.vector_to_list)(["property",tt.key.name]):j(tt.key),j(tt.value)])],["ImportDeclaration",tt=>(0,o.vector_to_list)(["import_declaration",(0,o.vector_to_list)(tt.specifiers.map(j)),tt.source.value])],["ImportSpecifier",tt=>(0,o.vector_to_list)(["name",tt.imported.name])],["ClassDeclaration",tt=>(0,o.vector_to_list)(["class_declaration",(0,o.vector_to_list)(["name",tt.id===null?null:tt.id.name,tt.superClass===null||tt.superClass===void 0?null:j(tt.superClass),tt.body.body.map(j)])])],["NewExpression",tt=>(0,o.vector_to_list)(["new_expression",j(tt.callee),(0,o.vector_to_list)(tt.arguments.map(j))])],["MethodDefinition",tt=>(0,o.vector_to_list)(["method_definition",tt.kind,tt.static,j(tt.key),j(tt.value)])],["FunctionExpression",tt=>(0,o.vector_to_list)(["lambda_expression",(0,o.vector_to_list)(tt.params.map(j)),ot(tt.body.body)])],["ThisExpression",tt=>(0,o.vector_to_list)(["this_expression"])],["Super",tt=>(0,o.vector_to_list)(["super_expression"])],["TryStatement",tt=>(0,o.vector_to_list)(["try_statement",j(tt.block),tt.handler===null||tt.handler===void 0?null:(0,o.vector_to_list)(["name",tt.handler.param.name]),tt.handler===null||tt.handler===void 0?null:j(tt.handler.body)])],["ThrowStatement",tt=>(0,o.vector_to_list)(["throw_statement",j(tt.argument)])],["SpreadElement",tt=>(0,o.vector_to_list)(["spread_element",j(tt.argument)])],["RestElement",tt=>(0,o.vector_to_list)(["rest_element",j(tt.argument)])]]);function j(tt){if(it.has(tt.type)){const lt=it.get(tt.type)(tt);return lt!=null&&typeof lt=="object"&&lt.tag!==void 0&&(lt.loc=tt.loc),lt}else throw et(),new rt("Cannot transform unknown type: "+tt.type)}function _(tt,st){st.chapter=s.libraryParserLanguage;const lt=(0,i.parse)(tt,st);if(st.errors.length>0)throw new rt(st.errors[0].explain());if(lt!==void 0)return j(lt);throw et(),new rt("Invalid parse")}parser$1.parse=_;function $(tt,st){const lt=(0,i.tokenize)(tt,st).map(ht=>tt.substring(ht.start,ht.end));return(0,o.vector_to_list)(lt)}return parser$1.tokenize=$,parser$1}var stream={},hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream;hasRequiredStream=1,Object.defineProperty(stream,"__esModule",{value:!0}),stream.list_to_stream=stream.stream=stream.stream_tail=void 0;const i=requireList();function s(rt){let et;if((0,i.is_pair)(rt))et=rt[1];else throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+rt);if(typeof et=="function")return et();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+et)}stream.stream_tail=s;function a(...rt){return o((0,i.list)(...rt))}stream.stream=a;function o(rt){return(0,i.is_null)(rt)?null:(0,i.pair)((0,i.head)(rt),()=>o((0,i.tail)(rt)))}return stream.list_to_stream=o,stream}var stream_prelude={};Object.defineProperty(stream_prelude,"__esModule",{value:!0});stream_prelude.streamPrelude=void 0;stream_prelude.streamPrelude=`

// Supporting streams in the Scheme style, following
// "stream discipline"

// is_stream recurses down the stream and checks that it ends with the
// empty list null

function is_stream(xs) {
  return is_null(xs) ||
    (is_pair(xs) &&
    is_function(tail(xs)) &&
    arity(tail(xs)) === 0 &&
    is_stream(stream_tail(xs)));
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.

function list_to_stream(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs),
      () => list_to_stream(tail(xs)));
}

// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs)
    ? 0
    : 1 + stream_length(stream_tail(xs));
}

// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)),
      () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n
      ? null
      : pair(fun(i),
        () => build(i + 1));
  }
  return build(0);
}

// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(stream_tail(original),
        pair(head(original), () => reversed));
  }
  return rev(xs, null);
}

// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs),
      () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
      ? s
      : stream_member(x, stream_tail(s));
}

// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_tail(xs)
      : pair(head(xs),
        () => stream_remove(v, stream_tail(xs)));
}

// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_remove_all(v, stream_tail(xs))
      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}

// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
      ? pair(head(s),
        () => stream_filter(p, stream_tail(s)))
      : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end
    ? null
    : pair(start,
      () => enum_stream(start + 1, end));
}

// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n,
    () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
    function es(s, n) {
        return n === 1 
               ? list(head(s))
               : pair(head(s), 
                      es(stream_tail(s), n - 1));
    }
    return n === 0 
           ? null
           : es(s, n);
}

// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0
    ? head(s)
    : stream_ref(stream_tail(s), n - 1);
}
`;var typeChecker={},typeErrors={},hasRequiredTypeErrors;function requireTypeErrors(){if(hasRequiredTypeErrors)return typeErrors;hasRequiredTypeErrors=1,Object.defineProperty(typeErrors,"__esModule",{value:!0}),typeErrors.InconsistentPredicateTestError=typeErrors.CallingNonFunctionType=typeErrors.ConsequentAlternateMismatchError=typeErrors.UndefinedIdentifierError=typeErrors.InvalidTestConditionError=typeErrors.InvalidArgumentTypesError=typeErrors.DifferentNumberArgumentsError=typeErrors.CyclicReferenceError=typeErrors.DifferentAssignmentError=typeErrors.ReassignConstError=typeErrors.ArrayAssignmentError=typeErrors.InvalidArrayIndexType=void 0;const i=astring,s=types,a=formatters,o=requireStringify();class rt{constructor(gt,yt){this.node=gt,this.receivedType=yt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${(0,o.typeToString)(this.receivedType)} instead`}elaborate(){return this.explain()}}typeErrors.InvalidArrayIndexType=rt;class et{constructor(gt,yt,ut){this.node=gt,this.arrayType=yt,this.receivedType=ut,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,a.stripIndent)`Expected array type: ${(0,o.typeToString)(this.arrayType)}
    but got: ${(0,o.typeToString)(this.receivedType)}`}elaborate(){return this.explain()}}typeErrors.ArrayAssignmentError=et;class at{constructor(gt){this.node=gt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[gt]=nt(this.node);return`Reassignment of constant ${gt}`}elaborate(){return this.explain()}}typeErrors.ReassignConstError=at;class ot{constructor(gt,yt,ut){this.node=gt,this.expectedType=yt,this.receivedType=ut,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[gt,yt]=nt(this.node);return(0,a.stripIndent)`
    Expected assignment of ${gt}:
      ${yt}
    to get a value of type:
      ${(0,o.typeToString)(this.expectedType)}
    but got a value of type:
      ${(0,o.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.DifferentAssignmentError=ot;function nt(mt){const gt=mt.left,yt=(0,a.simplify)((0,i.generate)(mt.right));return[gt.name,yt]}class it{constructor(gt){this.node=gt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${j(this.node)} contains cyclic reference to itself`}elaborate(){return this.explain()}}typeErrors.CyclicReferenceError=it;function j(mt){var gt;return["VariableDeclaration","FunctionDeclaration"].includes(mt.type)?mt.type==="VariableDeclaration"?mt.declarations[0].id.name:(gt=mt.id)===null||gt===void 0?void 0:gt.name:mt.type==="Identifier"?mt.name:JSON.stringify(mt)}class _{constructor(gt,yt,ut){this.node=gt,this.numExpectedArgs=yt,this.numReceived=ut,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}}typeErrors.DifferentNumberArgumentsError=_;class ${constructor(gt,yt,ut,wt){this.node=gt,this.args=yt,this.expectedTypes=ut,this.receivedTypes=wt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const gt=this.args.map(wt=>(0,a.simplify)((0,i.generate)(wt)));if("operator"in this.node){const wt=this.node.operator;return this.expectedTypes.length===2?(0,a.stripIndent)`
        A type mismatch was detected in the binary expression:
          ${gt[0]} ${wt} ${gt[1]}
        The binary operator (${wt}) expected two operands with types:
          ${(0,o.typeToString)(this.expectedTypes[0])} ${wt} ${(0,o.typeToString)(this.expectedTypes[1])}
        but instead it received two operands of types:
          ${(0,o.typeToString)(this.receivedTypes[0])} ${wt} ${(0,o.typeToString)(this.receivedTypes[1])}
        `:(0,a.stripIndent)`
        A type mismatch was detected in the unary expression:
          ${wt} ${gt[0]}
        The unary operator (${wt}) expected its operand to be of type:
          ${(0,o.typeToString)(this.expectedTypes[0])}
        but instead it received an operand of type:
          ${(0,o.typeToString)(this.receivedTypes[0])}
        `}const yt=(0,a.simplify)((0,i.generate)(this.node));function ut(wt){switch(wt.length){case 1:return`an argument of type:
      ${(0,o.typeToString)(wt[0])}`;default:return`${wt.length} arguments of types:
      ${wt.map(o.typeToString).join(", ")}`}}return(0,a.stripIndent)`
    A type mismatch was detected in the function call:
      ${yt}
    The function expected ${ut(this.expectedTypes)}
    but instead received ${ut(this.receivedTypes)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidArgumentTypesError=$;function tt(mt){let gt=(0,a.simplify)((0,i.generate)(mt.test)),yt;switch(mt.type){case"IfStatement":{gt=`if (${gt}) { ... } else { ... }`,yt="if statement";break}case"ConditionalExpression":{gt=`${gt} ? ... : ...`,yt="conditional expression";break}case"WhileStatement":{gt=`while (${gt}) { ... }`,yt="while statement";break}case"ForStatement":gt=`for (...; ${gt}; ...) { ... }`,yt="for statement"}return{exprString:gt,kind:yt}}class st{constructor(gt,yt){this.node=gt,this.receivedType=yt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:gt,kind:yt}=tt(this.node);return(0,a.stripIndent)`
    Expected the test part of the ${yt}:
      ${gt}
    to have type boolean, but instead it is type:
      ${(0,o.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidTestConditionError=st;class lt{constructor(gt,yt){this.node=gt,this.name=yt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,a.stripIndent)`
    One or more undeclared names detected (e.g. '${this.name}').
    If there aren't actually any undeclared names, then is either a Source or misconfiguration bug.
    Please report this to the administrators!
    `}elaborate(){return this.explain()}}typeErrors.UndefinedIdentifierError=lt;class ht{constructor(gt,yt,ut){this.node=gt,this.consequentType=yt,this.alternateType=ut,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:gt,kind:yt}=tt(this.node);return(0,a.stripIndent)`
    The two branches of the ${yt}:
      ${gt}
    produce different types!
    The true branch has type:
      ${(0,o.typeToString)(this.consequentType)}
    but the false branch has type:
      ${(0,o.typeToString)(this.alternateType)}
    `}elaborate(){return this.explain()}}typeErrors.ConsequentAlternateMismatchError=ht;class ft{constructor(gt,yt){this.node=gt,this.callerType=yt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,a.stripIndent)`
    In
      ${(0,a.simplify)((0,i.generate)(this.node))}
    expected
      ${(0,a.simplify)((0,i.generate)(this.node.callee))}
    to be a function type, but instead it is type:
      ${(0,o.typeToString)(this.callerType)}
    `}elaborate(){return this.explain()}}typeErrors.CallingNonFunctionType=ft;class ct{constructor(gt,yt,ut,wt){this.node=gt,this.argVarName=yt,this.preUnifyType=ut,this.predicateType=wt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const gt=(0,i.generate)(this.node);return(0,a.stripIndent)`
    Inconsistent type constraints when trying to apply the predicate test
      ${gt}
    It is inconsistent with the predicate tests applied before it.
    The variable ${this.argVarName} has type
      ${(0,o.typeToString)(this.preUnifyType)}
    but could not unify with type
      ${(0,o.typeToString)(this.predicateType)}
    `}elaborate(){return this.explain()}}return typeErrors.InconsistentPredicateTestError=ct,typeErrors}var internalTypeErrors={},hasRequiredInternalTypeErrors;function requireInternalTypeErrors(){if(hasRequiredInternalTypeErrors)return internalTypeErrors;hasRequiredInternalTypeErrors=1,Object.defineProperty(internalTypeErrors,"__esModule",{value:!0}),internalTypeErrors.InternalCyclicReferenceError=internalTypeErrors.InternalDifferentNumberArgumentsError=internalTypeErrors.UnifyError=internalTypeErrors.InternalTypeError=internalTypeErrors.TypeError=void 0;const i=types,s=requireStringify();class a{constructor(nt,it){this.node=nt,this.message=it,this.type=i.ErrorType.TYPE,this.severity=i.ErrorSeverity.WARNING,nt.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}}internalTypeErrors.TypeError=a;class o extends Error{constructor(nt){super(),this.message=nt}}internalTypeErrors.InternalTypeError=o;class rt extends o{constructor(nt,it){super(`Failed to unify LHS: ${(0,s.typeToString)(nt)}, RHS: ${(0,s.typeToString)(it)}`),this.LHS=nt,this.RHS=it}}internalTypeErrors.UnifyError=rt;class et extends o{constructor(nt,it){super(`Expected ${nt} args, got ${it}`),this.numExpectedArgs=nt,this.numReceived=it}}internalTypeErrors.InternalDifferentNumberArgumentsError=et;class at extends o{constructor(nt){super("contains a cyclic reference to itself"),this.name=nt}}return internalTypeErrors.InternalCyclicReferenceError=at,internalTypeErrors}var hasRequiredTypeChecker;function requireTypeChecker(){if(hasRequiredTypeChecker)return typeChecker;hasRequiredTypeChecker=1,Object.defineProperty(typeChecker,"__esModule",{value:!0}),typeChecker.createTypeEnvironment=typeChecker.tForAll=typeChecker.tVar=typeChecker.typeCheck=void 0;const i=requireTypeErrors(),s=requireParser$1(),a=requireStringify(),o=requireInternalTypeErrors(),rt="-_1";let et=0;function at(er,Yt){if(er!==null){if(Yt&&er.typability!=="Untypable")try{er.inferredType=gt(er.inferredType,Yt),er.typability="Typed"}catch(fr){j(fr)&&!(fr instanceof o.InternalCyclicReferenceError)&&tt(new o.TypeError(er,fr))}else er.inferredType=tr(et),et++;switch(er.type){case"Program":{er.body.forEach(fr=>{at(fr,Yt)});break}case"UnaryExpression":{at(er.argument,Yt);break}case"LogicalExpression":case"BinaryExpression":{at(er.left,Yt),at(er.right,Yt);break}case"ExpressionStatement":{at(er.expression,Yt);break}case"BlockStatement":{er.body.forEach(fr=>{at(fr,Yt)});break}case"WhileStatement":{at(er.test,Yt),at(er.body,Yt);break}case"ForStatement":{at(er.init,Yt),at(er.test,Yt),at(er.update,Yt),at(er.body,Yt);break}case"ConditionalExpression":case"IfStatement":{at(er.test,Yt),at(er.consequent,Yt),er.alternate&&at(er.alternate,Yt);break}case"CallExpression":{at(er.callee,Yt),er.arguments.forEach(fr=>{at(fr,Yt)});break}case"ReturnStatement":{const fr=er.argument;at(fr,Yt);break}case"VariableDeclaration":{const fr=er.declarations[0].init;at(fr,Yt);break}case"ArrowFunctionExpression":{er.params.forEach(fr=>{at(fr,Yt)}),at(er.body,Yt);break}case"FunctionDeclaration":{const fr=er;if(Yt)try{fr.functionInferredType=gt(fr.functionInferredType,Yt)}catch(Dr){Dr instanceof o.InternalCyclicReferenceError?tt(new i.CyclicReferenceError(er)):j(Dr)&&tt(new o.TypeError(er,Dr))}else fr.functionInferredType=tr(et);et++,fr.params.forEach(Dr=>{at(Dr,Yt)}),at(fr.body,Yt);break}case"AssignmentExpression":at(er.left,Yt),at(er.right,Yt);break;case"ArrayExpression":er.elements.forEach(fr=>at(fr,Yt));break;case"MemberExpression":at(er.object,Yt),at(er.property,Yt);break;default:return}}}function ot(er){return er.kind==="pair"}function nt(er){return er.kind==="list"}function it(er){return nt(er)?er.elementType:null}function j(er){return er instanceof o.InternalTypeError}let _=!1,$=[];function tt(er){er instanceof i.UndefinedIdentifierError&&_||(_=!0,$.push(er))}function st(er,Yt){function fr(Dr){et=0,_=!1,$=[];const Ur=Yt.typeEnvironment;if(Yt.chapter>=3&&Ur.length===3){const Ir=Ur[2].typeMap;for(const[Xr,un]of Ar)Ir.set(Xr,un)}const $r=[];at(Dr);try{Ht(Dr,Ur,$r,!0)}catch(Ir){j(Ir)?tt(new o.TypeError(Dr,`Uncaught internal type error during typechecking, report this to the adminstrators!
`+Ir.message)):tt(new o.TypeError(Dr,`Uncaught error during typechecking, report this to the adminstrators!
`+Ir.message))}return at(Dr,$r),[Dr,$]}for(const Dr of Yt.unTypecheckedCode)fr((0,s.typedParse)(Dr,Yt));return Yt.unTypecheckedCode=[],fr(er)}typeChecker.typeCheck=st;function lt(er){const Yt=et;return et++,Object.assign(Object.assign({},er),{name:`T${Yt}`})}function ht(er,Yt){switch(er.kind){case"primitive":return er;case"list":return{kind:"list",elementType:ht(er.elementType,Yt)};case"array":return{kind:"array",elementType:ht(er.elementType,Yt)};case"pair":return{kind:"pair",headType:ht(er.headType,Yt),tailType:ht(er.tailType,Yt)};case"variable":return Yt[er.name];case"function":return Object.assign(Object.assign({},er),{parameterTypes:er.parameterTypes.map(fr=>ht(fr,Yt)),returnType:ht(er.returnType,Yt)})}}function ft(er,Yt){const fr=[...er];return Yt.forEach(Dr=>{fr.findIndex(Ur=>Ur.name===Dr.name)===-1&&fr.push(Dr)}),fr}function ct(er){switch(er.kind){case"primitive":return[];case"list":return ct(er.elementType);case"array":return ct(er.elementType);case"pair":return ft(ct(er.headType),ct(er.tailType));case"variable":return[er];case"function":return ft(er.parameterTypes.reduce((Yt,fr)=>ft(Yt,ct(fr)),[]),ct(er.returnType))}}function mt(er){const Yt=er.polyType,fr=ct(Yt),Dr={};return fr.forEach(Ur=>{Dr[Ur.name]=lt(Ur)}),ht(Yt,Dr)}function gt(er,Yt){switch(er.kind){case"primitive":return er;case"pair":{const fr=gt(er.headType,Yt),Dr=gt(er.tailType,Yt);return Dr.kind==="list"&&fr===it(Dr)?br(fr):yr(fr,Dr)}case"list":return{kind:"list",elementType:gt(er.elementType,Yt)};case"array":return{kind:"array",elementType:gt(er.elementType,Yt)};case"variable":{for(const fr of Yt){const Dr=fr[0],Ur=fr[1];if(Dr.name===er.name){if(yt(Ur,Dr.name)){if(ot(Ur)&&Dr===Ur.tailType)return{kind:"list",elementType:Ur.headType};if(Dr.kind==="variable"&&Dr===it(Ur))return{kind:"list",elementType:Dr};throw new o.InternalCyclicReferenceError(er.name)}return gt(fr[1],Yt)}}return er}case"function":return Object.assign(Object.assign({},er),{parameterTypes:er.parameterTypes.map(fr=>gt(fr,Yt)),returnType:gt(er.returnType,Yt)})}}function yt(er,Yt){switch(er.kind){case"primitive":return!1;case"pair":return yt(er.headType,Yt)||yt(er.tailType,Yt);case"array":case"list":return yt(er.elementType,Yt);case"variable":return er.name===Yt;case"function":return er.parameterTypes.some(Dr=>yt(Dr,Yt))||yt(er.returnType,Yt)}}function ut(er,Yt,fr){for(const Dr of Yt)if(Dr[0].name===er.name)return Et(Yt,[fr,Dr[1]]);return fr.kind==="variable"&&er.constraint==="addable"&&fr.constraint==="none"&&(fr.constraint=er.constraint),er!==fr&&Yt.push([er,fr]),Yt}function wt(er,Yt){return er.constraint==="addable"&&Yt.kind!=="variable"&&!(Yt.kind==="primitive"&&(Yt.name==="string"||Yt.name==="number"))}function bt(er){return{kind:"function",parameterTypes:[lt(tr("T"))],returnType:ar}}function vt(){return vr(lt(tr("T")),ar)}function Et(er,[Yt,fr]){if(Yt.kind==="primitive"&&fr.kind==="primitive"&&Yt.name===fr.name)return er;if(Yt.kind!=="variable"&&fr.kind==="variable")return Et(er,[fr,Yt]);if(Yt.kind==="variable"){if(fr=gt(fr,er),(fr.kind==="primitive"||fr.kind==="variable")&&Yt.name===fr.name)return er;if(fr.kind==="pair"&&Yt===fr.tailType)Et(er,[Yt,br(fr.headType)]);else if(fr.kind==="pair"&&fr.tailType.kind==="list"){const Dr=Et(er,[fr.headType,it(fr.tailType)]);return Et(Dr,[Yt,br(fr.headType)])}else if(yt(fr,Yt.name))throw new o.InternalCyclicReferenceError(Yt.name);if(wt(Yt,fr))throw new o.UnifyError(Yt,fr);return ut(Yt,er,gt(fr,er))}else if(Yt.kind==="function"&&fr.kind==="function"){if(Yt.parameterTypes.length!==fr.parameterTypes.length)throw new o.InternalDifferentNumberArgumentsError(fr.parameterTypes.length,Yt.parameterTypes.length);let Dr=er;for(let Ur=0;Ur<Yt.parameterTypes.length;Ur++)Dr=Et(Dr,[Yt.parameterTypes[Ur],fr.parameterTypes[Ur]]);return Dr=Et(Dr,[Yt.returnType,fr.returnType]),Dr}else if(Yt.kind==="pair"&&fr.kind==="pair"){const Dr=Et(er,[Yt.headType,fr.headType]);return Et(Dr,[Yt.tailType,fr.tailType])}else{if(Yt.kind==="list"&&fr.kind==="list")return Et(er,[Yt.elementType,fr.elementType]);if(Yt.kind==="list"&&fr.kind==="pair")return Et(er,[fr,yr(Yt.elementType,Yt)]);if(fr.kind==="list"&&Yt.kind==="pair")return Et(er,[Yt,yr(fr.elementType,fr)]);if(Yt.kind==="array"&&fr.kind==="array")return Et(er,[Yt.elementType,fr.elementType])}throw new o.UnifyError(Yt,fr)}function $t(er,Yt,fr,Dr,Ur,$r){Kt(Ur);for(const Ir of Yt)Ut(Ir.argVarName,lt(tr("PredicatedT")),Ur);for(const Ir of Yt){const Xr=Dt(Ir.argVarName,Ur),un=gt(Xr,$r),Fr=Ir.ifTrueType.kind==="forall"?mt(Ir.ifTrueType):Ir.ifTrueType;try{$r=Et($r,[Xr,Fr])}catch(qr){qr instanceof o.UnifyError&&tt(new i.InconsistentPredicateTestError(Ir.node,Ir.argVarName,un,Fr))}}return $r=Ht(fr,Ur,$r,Dr),Ur.pop(),$r}function Tt(er,Yt,fr,Dr,Ur,$r,Ir){if(Ir=$t(er,Yt,fr,Ur,$r,Ir),Dr!==void 0)try{Ir=Ht(Dr,$r,Ir,Ur)}catch(Xr){Xr instanceof o.UnifyError&&tt(new i.ConsequentAlternateMismatchError(er,Xr.RHS,Xr.LHS))}return Ir}function At(er){switch(er.type){case"IfStatement":return At(er.consequent)||At(er.alternate);case"BlockStatement":return er.body.some(Yt=>At(Yt));case"ForStatement":case"WhileStatement":return At(er.body);case"ReturnStatement":return!0;default:return!1}}function Ct(er){switch(er.type){case"ExpressionStatement":return!0;case"IfStatement":return Ct(er.consequent)||Ct(er.alternate);case"BlockStatement":return er.body.some(Yt=>Ct(Yt));case"ForStatement":case"WhileStatement":return Ct(er.body);default:return!1}}function It(er,Yt,fr=[]){if(er.type==="LogicalExpression"&&er.operator==="&&")return fr=It(er.left,Yt,fr),It(er.right,Yt,fr);if(er.type==="UnaryExpression"&&er.operator==="!")return Lt(er.argument,Yt,fr);if(er.type==="CallExpression"&&er.callee.type==="Identifier"&&er.arguments.length===1&&er.arguments[0].type==="Identifier"){const Dr=Dt(er.callee.name,Yt);if(Dr!==void 0&&Dr.kind==="predicate")return fr.push({node:er,ifTrueType:Dr.ifTrueType,argVarName:er.arguments[0].name}),fr}return fr}function Lt(er,Yt,fr=[]){return er.type==="LogicalExpression"&&er.operator==="||"?(fr=Lt(er.left,Yt,fr),Lt(er.right,Yt,fr)):er.type==="UnaryExpression"&&er.operator==="!"?It(er.argument,Yt,fr):fr}function Ft(er,Yt){const fr=er.body.length-1;if(Yt){for(let Dr=fr;Dr>=0;Dr--)if(Ct(er.body[Dr]))return Dr;return fr}else return er.body.findIndex((Dr,Ur)=>Ur===fr||At(Dr))}function Dt(er,Yt){for(let fr=Yt.length-1;fr>=0;fr--)if(Yt[fr].typeMap.has(er))return Yt[fr].typeMap.get(er)}function Vt(er,Yt){for(let fr=Yt.length-1;fr>=0;fr--)if(Yt[fr].declKindMap.has(er))return Yt[fr].declKindMap.get(er)}function Ut(er,Yt,fr){fr[fr.length-1].typeMap.set(er,Yt)}function Qt(er,Yt,fr){fr[fr.length-1].declKindMap.set(er,Yt)}function Kt(er){er.push({typeMap:new Map,declKindMap:new Map})}function Ht(er,Yt,fr,Dr=!1){try{return qt(er,Yt,fr,Dr)}catch(Ur){if(Ur instanceof o.InternalCyclicReferenceError)return tt(new i.CyclicReferenceError(er)),fr;throw Ur}}function qt(er,Yt,fr,Dr=!1){const Ur=er.inferredType;switch(er.type){case"UnaryExpression":{const $r=er.operator==="-"?rt:er.operator,Ir=Dt($r,Yt),Xr=er.argument,un=Xr.inferredType,Fr=[];let qr=Ht(Xr,Yt,fr);Fr.push(gt(Xr.inferredType,qr));try{qr=Et(qr,[vr(un,Ur),Ir])}catch(Wr){if(Wr instanceof o.UnifyError){const zr=Ir.parameterTypes;return tt(new i.InvalidArgumentTypesError(er,[Xr],zr,Fr)),qr}}return qr}case"LogicalExpression":{const $r=er.left,Ir=$r.inferredType,Xr=er.right,un=Xr.inferredType;let Fr=fr;Fr=Et(fr,[Ur,ar]),Fr=Ht($r,Yt,Fr);const qr=gt($r.inferredType,Fr);let Wr;if(er.operator==="&&"){const zr=It(er.left,Yt);zr.length>0&&(Fr=$t(er,zr,er.right,Dr,Yt,Fr),Wr=gt(Xr.inferredType,Fr))}else if(er.operator==="||"){const zr=Lt(er.left,Yt);zr.length>0&&(Fr=$t(er,zr,er.right,Dr,Yt,Fr),Wr=gt(Xr.inferredType,Fr))}Wr===void 0&&(Fr=Ht(Xr,Yt,Fr),Wr=gt(Xr.inferredType,Fr));try{Fr=Et(fr,[Ir,ar]),Fr=Et(fr,[un,ar])}catch(zr){zr instanceof o.UnifyError&&tt(new i.InvalidArgumentTypesError(er,[$r,Xr],[ar,ar],[qr,Wr]))}return Fr}case"BinaryExpression":{const $r=Dt(er.operator,Yt),Ir=$r.kind==="forall"?mt($r):$r.kind==="predicate"?bt():$r,Xr=er.left,un=Xr.inferredType,Fr=er.right,qr=Fr.inferredType,Wr=[Xr,Fr];let zr=fr;const ln=[];Wr.forEach(Er=>{zr=Ht(Er,Yt,zr),ln.push(gt(Er.inferredType,zr))});try{zr=Et(fr,[vr(un,qr,Ur),Ir])}catch(Er){if(Er instanceof o.UnifyError){const mn=Ir.parameterTypes;tt(new i.InvalidArgumentTypesError(er,Wr,mn,ln))}}return zr}case"ExpressionStatement":return Ht(er.expression,Yt,Et(fr,[Ur,kr]));case"ReturnStatement":{const $r=er.argument;return Ht($r,Yt,Et(fr,[Ur,$r.inferredType]))}case"WhileStatement":{const $r=er.test,Ir=$r.inferredType,Xr=er.body,un=Xr.inferredType;let Fr=Et(fr,[Ur,un]);try{Fr=Ht($r,Yt,Fr),Fr=Et(Fr,[Ir,ar])}catch(qr){qr instanceof o.UnifyError&&tt(new i.InvalidTestConditionError(er,qr.RHS))}return Ht(Xr,Yt,Fr,Dr)}case"ForStatement":{const $r=er.init,Ir=er.test,Xr=Ir.inferredType,un=er.body,Fr=un.inferredType,qr=er.update;let Wr=Et(fr,[Ur,Fr]);if(Kt(Yt),$r.type==="VariableDeclaration"&&$r.kind!=="var"&&$r.declarations[0].id.type==="Identifier"){const ln=$r.declarations[0].id.name;Ut(ln,$r.declarations[0].init.inferredType,Yt),Qt(ln,$r.kind,Yt),Wr=Ht($r,Yt,Wr),Ut(ln,xr(gt($r.declarations[0].init.inferredType,Wr)),Yt)}else Wr=Ht($r,Yt,Wr);try{Wr=Ht(Ir,Yt,Wr),Wr=Et(Wr,[Xr,ar])}catch(ln){ln instanceof o.UnifyError&&tt(new i.InvalidTestConditionError(er,ln.RHS))}Wr=Ht(qr,Yt,Wr);const zr=Ht(un,Yt,Wr,Dr);return Yt.pop(),zr}case"Program":case"BlockStatement":{Kt(Yt);for(const Er of er.body)if(Er.type==="ImportDeclaration")for(const mn of Er.specifiers)mn.type==="ImportSpecifier"&&mn.local.type==="Identifier"&&(Ut(mn.local.name,xr(tr("T1")),Yt),Qt(mn.local.name,"const",Yt));const $r=er.body.length-1,Ir=Ft(er,Dr);let Xr=-1,un=!1,Fr=$r;const qr=[];for(;Fr>=0;){const Er=er.body[Fr];(Er.type==="FunctionDeclaration"||Er.type==="VariableDeclaration")&&(un||(un=!0,Xr=Fr),qr.push(Er)),Fr--}qr.forEach(Er=>{if(Er.type==="FunctionDeclaration"&&Er.id!==null){const mn=Er.id.name;Ut(mn,Er.functionInferredType,Yt),Qt(mn,"const",Yt)}else if(Er.type==="VariableDeclaration"&&Er.kind!=="var"&&Er.declarations[0].id.type==="Identifier"){const mn=Er.declarations[0].id.name;Ut(mn,Er.declarations[0].init.inferredType,Yt),Qt(mn,Er.kind,Yt)}});const Wr=er.body[Ir],zr=Dr&&Wr.type==="ExpressionStatement"?Wr.expression.inferredType:Wr.inferredType;let ln=Et(fr,[Ur,zr]);for(let Er=0;Er<=Xr;Er++)Er===Ir?ln=Ht(er.body[Er],Yt,ln,Dr):ln=Ht(er.body[Er],Yt,ln);qr.forEach(Er=>{Er.type==="FunctionDeclaration"&&Er.id!==null?Ut(Er.id.name,xr(gt(Er.functionInferredType,ln)),Yt):Er.type==="VariableDeclaration"&&Er.declarations[0].id.type==="Identifier"&&Ut(Er.declarations[0].id.name,xr(gt(Er.declarations[0].init.inferredType,ln)),Yt)});for(let Er=Xr+1;Er<=$r;Er++){const mn=er.body[Er];Er===Ir?ln=Ht(mn,Yt,ln,Dr):ln=Ht(mn,Yt,ln)}return er.type==="BlockStatement"&&Yt.pop(),ln}case"Literal":{const $r=er.value,Ir=typeof $r;if($r===null)return Et(fr,[Ur,br(tr(et++))]);if(Ir==="number")return Et(fr,[Ur,rr]);if(Ir==="boolean")return Et(fr,[Ur,ar]);if(Ir==="string")return Et(fr,[Ur,Cr]);throw Error("Unexpected literal type")}case"Identifier":{const $r=er.name,Ir=Dt($r,Yt);return Ir!==void 0?Ir.kind==="forall"?Et(fr,[Ur,mt(Ir)]):Ir.kind==="predicate"?Et(fr,[Ur,vt()]):Et(fr,[Ur,Ir]):(tt(new i.UndefinedIdentifierError(er,$r)),fr)}case"ConditionalExpression":case"IfStatement":{const $r=er.test,Ir=$r.inferredType,Xr=er.consequent,un=Xr.inferredType,Fr=er.alternate,qr=Fr.inferredType;let Wr=fr;try{Wr=Ht($r,Yt,Wr),Wr=Et(Wr,[Ir,ar])}catch(Er){Er instanceof o.UnifyError&&tt(new i.InvalidTestConditionError(er,Er.RHS))}const zr=It($r,Yt),ln=Lt($r,Yt);if(zr.length>0)Wr=Tt(er,zr,Xr,Fr,Dr,Yt,Wr);else if(ln.length>0)Wr=Tt(er,ln,Fr,Xr,Dr,Yt,Wr);else{Wr=Ht(Xr,Yt,Wr,Dr);try{Wr=Ht(Fr,Yt,Wr,Dr)}catch(Er){Er instanceof o.UnifyError&&tt(new i.ConsequentAlternateMismatchError(er,Er.RHS,Er.LHS))}}try{Wr=Et(Wr,[Ur,un]),Wr=Et(Wr,[Ur,qr])}catch(Er){Er instanceof o.UnifyError&&tt(new i.ConsequentAlternateMismatchError(er,Er.RHS,Er.LHS))}return Wr}case"ArrowFunctionExpression":{Kt(Yt);const $r=er.params,Ir=$r.map(qr=>qr.inferredType),Xr=er.body;Ir.push(Xr.inferredType);const un=Et(fr,[Ur,vr(...Ir)]);$r.forEach(qr=>{Ut(qr.name,qr.inferredType,Yt)});const Fr=Ht(Xr,Yt,un);return Yt.pop(),Fr}case"VariableDeclaration":{const $r=er.declarations[0].init;return Ht($r,Yt,Et(fr,[Ur,kr]))}case"FunctionDeclaration":{const $r=er;let Ir=Et(fr,[Ur,kr]);Kt(Yt);const Xr=$r.functionInferredType,un=er.params,Fr=un.map(zr=>zr.inferredType),qr=er.body;Fr.push(qr.inferredType),Ir=Et(Ir,[Xr,vr(...Fr)]),un.forEach(zr=>{Ut(zr.name,zr.inferredType,Yt)});const Wr=Ht(qr,Yt,Ir);return Yt.pop(),Wr}case"CallExpression":{const $r=er.callee,Ir=$r.inferredType,Xr=er.arguments,un=Xr.map(zr=>zr.inferredType);un.push(Ur);let Fr=fr;Fr=Ht($r,Yt,Fr);const qr=gt($r.inferredType,Fr),Wr=[];Xr.forEach(zr=>{Fr=Ht(zr,Yt,Fr),Wr.push(gt(zr.inferredType,Fr))});try{Fr=Et(fr,[vr(...un),Ir])}catch(zr){if(zr instanceof o.UnifyError)if(qr.kind==="function"){const ln=qr.parameterTypes;tt(new i.InvalidArgumentTypesError(er,Xr,ln,Wr))}else tt(new i.CallingNonFunctionType(er,qr));else zr instanceof o.InternalDifferentNumberArgumentsError&&tt(new i.DifferentNumberArgumentsError(er,zr.numExpectedArgs,zr.numReceived))}return Fr}case"AssignmentExpression":{const $r=er.left,Ir=er.right,Xr=Ir.inferredType,un=$r.inferredType;let Fr=Et(fr,[Ur,Xr]);if(Fr=Ht(Ir,Yt,Fr),$r.type==="Identifier"&&Vt($r.name,Yt)==="const")return tt(new i.ReassignConstError(er)),Fr;Fr=Ht($r,Yt,Fr);try{return Et(Fr,[Xr,un])}catch(qr){qr instanceof o.UnifyError&&($r.type==="Identifier"?tt(new i.DifferentAssignmentError(er,gt(un,Fr),gt(Xr,Fr))):tt(new i.ArrayAssignmentError(er,sr(gt(un,Fr)),sr(gt(Xr,Fr)))))}return Fr}case"ArrayExpression":{let $r=fr;const Ir=er.elements;Ir.forEach(un=>{$r=Ht(un,Yt,$r)});const Xr=tr(et++);return $r=Et($r,[Ur,sr(Xr)]),Ir.forEach(un=>{try{$r=Et($r,[Xr,un.inferredType])}catch(Fr){Fr instanceof o.UnifyError&&tt(new i.ArrayAssignmentError(er,gt(er.inferredType,$r),sr(gt(un.inferredType,$r))))}}),$r}case"MemberExpression":{const Ir=er.object.name,Xr=er.property,un=Xr.inferredType;let Fr=Ht(Xr,Yt,fr);const qr=Dt(Ir,Yt);if(qr.kind==="predicate")throw qr.ifTrueType.kind==="forall"?new o.InternalTypeError(`Expected ${Ir} to be an array, got ${(0,a.typeToString)(mt(qr.ifTrueType))}`):new o.InternalTypeError(`Expected ${Ir} to be an array, got ${(0,a.typeToString)(qr.ifTrueType)}`);if(qr.kind==="forall")throw new o.InternalTypeError(`Expected ${Ir} to be an array, got ${(0,a.typeToString)(mt(qr))}`);const Wr=gt(qr,Fr);if(Wr.kind!=="array")throw new o.InternalTypeError(`Expected ${Ir} to be an array, got ${(0,a.typeToString)(Wr)}`);const zr=Wr.elementType;try{Fr=Et(fr,[un,rr])}catch(ln){ln instanceof o.UnifyError&&tt(new i.InvalidArrayIndexType(er,gt(un,Fr)))}return Et(Fr,[Ur,zr])}default:return Et(fr,[Ur,kr])}}function nr(er){return{kind:"primitive",name:er}}function tr(er){return{kind:"variable",name:`T${er}`,constraint:"none"}}typeChecker.tVar=tr;function mr(er){return{kind:"variable",name:`${er}`,constraint:"addable"}}function yr(er,Yt){return{kind:"pair",headType:er,tailType:Yt}}function br(er){return{kind:"list",elementType:er}}function xr(er){return{kind:"forall",polyType:er}}typeChecker.tForAll=xr;function sr(er){return{kind:"array",elementType:er}}const ar=nr("boolean"),rr=nr("number"),Cr=nr("string"),kr=nr("undefined");function vr(...er){const Yt=er.slice(0,-1),fr=er.slice(-1)[0];return{kind:"function",parameterTypes:Yt,returnType:fr}}function Gr(er){return{kind:"predicate",ifTrueType:er}}const an=[["Infinity",rr],["NaN",rr],["undefined",kr],["math_E",rr],["math_LN2",rr],["math_LN10",rr],["math_LOG2E",rr],["math_LOG10E",rr],["math_PI",rr],["math_SQRT1_2",rr],["math_SQRT2",rr],["is_boolean",Gr(ar)],["is_number",Gr(rr)],["is_string",Gr(Cr)],["is_undefined",Gr(kr)],["is_function",Gr(xr(vr(tr("T"),tr("U"))))],["math_abs",vr(rr,rr)],["math_acos",vr(rr,rr)],["math_acosh",vr(rr,rr)],["math_asin",vr(rr,rr)],["math_asinh",vr(rr,rr)],["math_atan",vr(rr,rr)],["math_atan2",vr(rr,rr,rr)],["math_atanh",vr(rr,rr)],["math_cbrt",vr(rr,rr)],["math_ceil",vr(rr,rr)],["math_clz32",vr(rr,rr)],["math_cos",vr(rr,rr)],["math_cosh",vr(rr,rr)],["math_exp",vr(rr,rr)],["math_expm1",vr(rr,rr)],["math_floor",vr(rr,rr)],["math_fround",vr(rr,rr)],["math_hypot",xr(tr("T"))],["math_imul",vr(rr,rr,rr)],["math_log",vr(rr,rr)],["math_log1p",vr(rr,rr)],["math_log2",vr(rr,rr)],["math_log10",vr(rr,rr)],["math_max",xr(tr("T"))],["math_min",xr(tr("T"))],["math_pow",vr(rr,rr,rr)],["math_random",vr(rr)],["math_round",vr(rr,rr)],["math_sign",vr(rr,rr)],["math_sin",vr(rr,rr)],["math_sinh",vr(rr,rr)],["math_sqrt",vr(rr,rr)],["math_tan",vr(rr,rr)],["math_tanh",vr(rr,rr)],["math_trunc",vr(rr,rr)],["parse_int",vr(Cr,rr,rr)],["prompt",vr(Cr,Cr)],["get_time",vr(rr)],["stringify",xr(vr(tr("T"),Cr))],["display",xr(tr("T"))],["error",xr(tr("T"))]],hn=tr("headType"),Mn=tr("tailType"),Bn=[["pair",xr(vr(hn,Mn,yr(hn,Mn)))],["head",xr(vr(yr(hn,Mn),hn))],["tail",xr(vr(yr(hn,Mn),Mn))],["is_pair",Gr(xr(yr(hn,Mn)))],["is_null",Gr(xr(br(tr("T"))))],["is_list",Gr(xr(br(tr("T"))))]],An=[["set_head",xr(vr(yr(hn,Mn),hn,kr))],["set_tail",xr(vr(yr(hn,Mn),Mn,kr))]],dn=[["is_array",Gr(xr(sr(tr("T"))))],["array_length",xr(vr(sr(tr("T")),rr))]],Yn=[["list",xr(tr("T1"))]],Dn=[[rt,vr(rr,rr)],["!",vr(ar,ar)],["&&",xr(vr(ar,tr("T"),tr("T")))],["||",xr(vr(ar,tr("T"),tr("T")))],["<",xr(vr(mr("A"),mr("A"),ar))],["<=",xr(vr(mr("A"),mr("A"),ar))],[">",xr(vr(mr("A"),mr("A"),ar))],[">=",xr(vr(mr("A"),mr("A"),ar))],["+",xr(vr(mr("A"),mr("A"),mr("A")))],["%",vr(rr,rr,rr)],["-",vr(rr,rr,rr)],["*",vr(rr,rr,rr)],["/",vr(rr,rr,rr)]],Tr=[["===",xr(vr(mr("A"),mr("A"),ar))],["!==",xr(vr(mr("A"),mr("A"),ar))]],Br=[["===",xr(vr(tr("T1"),tr("T2"),ar))],["!==",xr(vr(tr("T1"),tr("T2"),ar))]],Ar=[["is_stream",xr(vr(tr("T1"),ar))],["list_to_stream",xr(vr(br(tr("T1")),tr("T2")))],["stream_to_list",xr(vr(tr("T1"),br(tr("T2"))))],["stream_length",xr(vr(tr("T1"),rr))],["stream_map",xr(vr(tr("T1"),tr("T2")))],["build_stream",xr(vr(rr,vr(rr,tr("T1")),tr("T2")))],["stream_for_each",xr(vr(vr(tr("T1"),tr("T2")),ar))],["stream_reverse",xr(vr(tr("T1"),tr("T1")))],["stream_append",xr(vr(tr("T1"),tr("T1"),tr("T1")))],["stream_member",xr(vr(tr("T1"),tr("T2"),tr("T2")))],["stream_remove",xr(vr(tr("T1"),tr("T2"),tr("T2")))],["stream_remove_all",xr(vr(tr("T1"),tr("T2"),tr("T2")))],["stream_filter",xr(vr(vr(tr("T1"),ar),tr("T2"),tr("T2")))],["enum_stream",xr(vr(rr,rr,tr("T1")))],["integers_from",xr(vr(rr,tr("T1")))],["eval_stream",xr(vr(tr("T1"),rr,br(tr("T2"))))],["stream_ref",xr(vr(tr("T1"),rr,tr("T2")))]];function fn(er){const Yt=[...an,...Dn];return er>=2&&Yt.push(...Bn,...Yn),er>=3?Yt.push(...Br,...An,...dn):Yt.push(...Tr),[{typeMap:new Map(Yt),declKindMap:new Map(Yt.map(fr=>[fr[0],"const"]))}]}return typeChecker.createTypeEnvironment=fn,typeChecker}var hasRequiredCreateContext;function requireCreateContext(){return hasRequiredCreateContext||(hasRequiredCreateContext=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.importBuiltins=i.importExternalSymbols=i.defineBuiltin=i.defineSymbol=i.ensureGlobalEnvironmentExist=i.createEmptyContext=i.createGlobalEnvironment=i.EnvTreeNode=i.EnvTree=i.LazyBuiltIn=void 0;const s=constants,a=lib,o=requireSchedulers(),rt=lazyList_prelude,et=requireList(),at=requireList(),ot=list_prelude,nt=requireMisc(),it=nonDet_prelude,j=requireParser(),_=requireStream(),$=stream_prelude,tt=requireTypeChecker(),st=types,lt=makeWrapper$1,ht=requireOperators(),ft=requireStringify();class ct{constructor(Vt,Ut){this.func=Vt,this.evaluateArgs=Ut}}i.LazyBuiltIn=ct;class mt{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(Vt){const Ut=Vt.tail;if(Ut===null)this._root===null&&(this._root=new gt(Vt,null),this.map.set(Vt,this._root));else{const Qt=this.map.get(Ut);if(Qt){const Kt=new gt(Vt,Qt);Qt.addChild(Kt),this.map.set(Vt,Kt)}}}getTreeNode(Vt){return this.map.get(Vt)}}i.EnvTree=mt;class gt{constructor(Vt,Ut){this.environment=Vt,this.parent=Ut,this._children=[]}get children(){return this._children}resetChildren(Vt){this.clearChildren(),this.addChildren(Vt),Vt.forEach(Ut=>Ut.parent=this)}clearChildren(){this._children=[]}addChildren(Vt){this._children.push(...Vt)}addChild(Vt){return this._children.push(Vt),Vt}}i.EnvTreeNode=gt;const yt=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new mt,environments:[],value:void 0,nodes:[]}),ut=()=>({observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new o.AsyncScheduler}}),wt=()=>({tail:null,name:"global",head:{},id:"-1"});i.createGlobalEnvironment=wt;const bt=()=>({builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(ht)),gpu:new Map(Object.entries(a)),maxExecTime:s.JSSLANG_PROPERTIES.maxExecTime,evaller:null}),vt=(Dt,Vt=st.Variant.DEFAULT,Ut,Qt)=>({chapter:Dt,externalSymbols:Ut,errors:[],externalContext:Qt,runtime:yt(),numberOfOuterEnvironments:1,prelude:null,debugger:ut(),nativeStorage:bt(),executionMethod:"auto",variant:Vt,moduleContexts:{},unTypecheckedCode:[],typeEnvironment:(0,tt.createTypeEnvironment)(Dt),previousCode:[]});i.createEmptyContext=vt;const Et=Dt=>{if(Dt.runtime||(Dt.runtime=yt()),Dt.runtime.environments||(Dt.runtime.environments=[]),Dt.runtime.environmentTree||(Dt.runtime.environmentTree=new mt),Dt.runtime.environments.length===0){const Vt=(0,i.createGlobalEnvironment)();Dt.runtime.environments.push(Vt),Dt.runtime.environmentTree.insert(Vt)}};i.ensureGlobalEnvironmentExist=Et;const $t=(Dt,Vt,Ut)=>{const Qt=Dt.runtime.environments[0];Object.defineProperty(Qt.head,Vt,{value:Ut,writable:!1,enumerable:!0}),Dt.nativeStorage.builtins.set(Vt,Ut);const Kt=Dt.typeEnvironment[0];Kt.declKindMap.has(Vt)||(Kt.typeMap.set(Vt,(0,tt.tForAll)((0,tt.tVar)("T1"))),Kt.declKindMap.set(Vt,"const"))};i.defineSymbol=$t;function Tt(Dt,Vt,Ut,Qt=void 0){if(typeof Ut=="function"){const Kt=Vt.split("(")[0].trim(),Ht=`function ${Vt} {
	[implementation hidden]
}`;Ut.toString=()=>Ht,Ut.minArgsNeeded=Qt,(0,i.defineSymbol)(Dt,Kt,Ut)}else if(Ut instanceof ct){const Kt=(...nr)=>Ut.func(...nr),Ht=Vt.split("(")[0].trim(),qt=`function ${Vt} {
	[implementation hidden]
}`;Kt.toString=()=>qt,(0,lt.makeWrapper)(Ut.func,Kt),(0,i.defineSymbol)(Dt,Ht,new ct(Kt,Ut.evaluateArgs))}else(0,i.defineSymbol)(Dt,Vt,Ut)}i.defineBuiltin=Tt;const At=(Dt,Vt)=>{(0,i.ensureGlobalEnvironmentExist)(Dt),Vt.forEach(Ut=>{(0,i.defineSymbol)(Dt,Ut,s.GLOBAL[Ut])})};i.importExternalSymbols=At;const Ct=(Dt,Vt)=>{(0,i.ensureGlobalEnvironmentExist)(Dt);const Ut=(tr,...mr)=>Vt.rawDisplay(tr,mr[0],Dt.externalContext),Qt=(tr,...mr)=>{if(mr.length===1&&mr[0]!==void 0&&typeof mr[0]!="string")throw new TypeError("display expects the second argument to be a string");return Ut((0,ft.stringify)(tr),mr[0]),tr},Kt=(tr,...mr)=>{if(mr.length===1&&mr[0]!==void 0&&typeof mr[0]!="string")throw new TypeError("display_list expects the second argument to be a string");return et.rawDisplayList(Qt,tr,mr[0])},Ht=tr=>{const mr=Date.now(),yr=Vt.prompt(tr,"",Dt.externalContext);return Dt.nativeStorage.maxExecTime+=Date.now()-mr,yr},qt=tr=>{const mr=Date.now();Vt.alert(tr,"",Dt.externalContext),Dt.nativeStorage.maxExecTime+=Date.now()-mr},nr=(...tr)=>(Vt.visualiseList(tr,Dt.externalContext),tr[0]);if(Dt.chapter>=1){Tt(Dt,"get_time()",nt.get_time),Tt(Dt,"display(val, prepend = undefined)",Qt,1),Tt(Dt,"raw_display(str, prepend = undefined)",Ut,1),Tt(Dt,"stringify(val, indent = 2, maxLineLength = 80)",ft.stringify,1),Tt(Dt,"error(str, prepend = undefined)",nt.error_message,1),Tt(Dt,"prompt(str)",Ht),Tt(Dt,"is_number(val)",nt.is_number),Tt(Dt,"is_string(val)",nt.is_string),Tt(Dt,"is_function(val)",nt.is_function),Tt(Dt,"is_boolean(val)",nt.is_boolean),Tt(Dt,"is_undefined(val)",nt.is_undefined),Tt(Dt,"parse_int(str, radix)",nt.parse_int),Tt(Dt,"char_at(str, index)",nt.char_at),Tt(Dt,"arity(f)",nt.arity),Tt(Dt,"undefined",void 0),Tt(Dt,"NaN",NaN),Tt(Dt,"Infinity",1/0);const tr=Object.getOwnPropertyNames(Math),mr=[..."abcdefghijklmnopqrstuvwxyz"];for(const yr of tr){const br=Math[yr];if(typeof br=="function"){let xr,sr;yr==="max"||yr==="min"?(xr="...values",sr=0):xr=mr.slice(0,br.length).join(", "),Tt(Dt,`math_${yr}(${xr})`,br,sr)}else Tt(Dt,`math_${yr}`,br)}}Dt.chapter>=2&&(Dt.variant===st.Variant.LAZY?(Tt(Dt,"pair(left, right)",new ct(et.pair,!1)),Tt(Dt,"list(...values)",new ct(et.list,!1),0),Tt(Dt,"is_pair(val)",new ct(et.is_pair,!0)),Tt(Dt,"head(xs)",new ct(et.head,!0)),Tt(Dt,"tail(xs)",new ct(et.tail,!0)),Tt(Dt,"is_null(val)",new ct(et.is_null,!0)),Tt(Dt,"draw_data(...xs)",new ct(nr,!0),1),Tt(Dt,"is_list(val)",new ct(et.is_list,!0))):(Tt(Dt,"pair(left, right)",et.pair),Tt(Dt,"is_pair(val)",et.is_pair),Tt(Dt,"head(xs)",et.head),Tt(Dt,"tail(xs)",et.tail),Tt(Dt,"is_null(val)",et.is_null),Tt(Dt,"list(...values)",et.list,0),Tt(Dt,"draw_data(...xs)",nr,1),Tt(Dt,"display_list(val, prepend = undefined)",Kt,0),Tt(Dt,"is_list(val)",et.is_list))),Dt.chapter>=3&&(Tt(Dt,"set_head(xs, val)",et.set_head),Tt(Dt,"set_tail(xs, val)",et.set_tail),Tt(Dt,"array_length(arr)",nt.array_length),Tt(Dt,"is_array(val)",nt.is_array),Tt(Dt,"stream_tail(stream)",_.stream_tail),Tt(Dt,"stream(...values)",_.stream,0)),Dt.chapter>=4&&(Tt(Dt,"parse(program_string)",tr=>j.parse(tr,Ft(Dt.chapter))),Tt(Dt,"tokenize(program_string)",tr=>j.tokenize(tr,Ft(Dt.chapter))),Tt(Dt,"apply_in_underlying_javascript(fun, args)",(tr,mr)=>tr.apply(tr,(0,at.list_to_vector)(mr))),Dt.variant===st.Variant.GPU&&(Tt(Dt,"__clearKernelCache()",a.__clearKernelCache),Tt(Dt,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",a.__createKernelSource))),Dt.chapter===st.Chapter.LIBRARY_PARSER&&(Tt(Dt,"is_object(val)",nt.is_object),Tt(Dt,"is_NaN(val)",nt.is_NaN),Tt(Dt,"has_own_property(obj, prop)",nt.has_own_property),Tt(Dt,"alert(val)",qt),Tt(Dt,"timed(fun)",tr=>nt.timed(Dt,tr,Dt.externalContext,Vt.rawDisplay))),Dt.variant===st.Variant.LAZY&&(Tt(Dt,"wrapLazyCallee(f)",new ct(ht.wrapLazyCallee,!0)),Tt(Dt,"makeLazyFunction(f)",new ct(ht.makeLazyFunction,!0)),Tt(Dt,"forceIt(val)",new ct(ht.forceIt,!0)),Tt(Dt,"delayIt(xs)",new ct(ht.delayIt,!0)))};i.importBuiltins=Ct;function It(Dt){let Vt="";Dt.chapter>=2&&(Vt+=Dt.variant===st.Variant.LAZY?rt.lazyListPrelude:ot.listPrelude),Dt.chapter>=3&&(Vt+=$.streamPrelude),Dt.variant===st.Variant.NON_DET&&(Vt+=it.nonDetPrelude),Vt!==""&&(Dt.prelude=Vt)}const Lt={rawDisplay:nt.rawDisplay,prompt:nt.rawDisplay,alert:nt.rawDisplay,visualiseList:Dt=>{throw new Error("List visualizer is not enabled")}},Ft=(Dt=st.Chapter.SOURCE_1,Vt=st.Variant.DEFAULT,Ut=[],Qt,Kt=Lt)=>{if(Dt===st.Chapter.FULL_JS)return Object.assign(Object.assign({},Ft(st.Chapter.SOURCE_4,Vt,Ut,Qt,Kt)),{chapter:st.Chapter.FULL_JS});const Ht=(0,i.createEmptyContext)(Dt,Vt,Ut,Qt);return(0,i.importBuiltins)(Ht,Kt),It(Ht),(0,i.importExternalSymbols)(Ht,Ut),Ht};i.default=Ft}(createContext)),createContext}Object.defineProperty(sicp,"__esModule",{value:!0});const createContext_1=requireCreateContext(),dict=createContext_1.default(4).nativeStorage.builtins;dict.get("get_time");dict.get("display");dict.get("raw_display");const stringify=dict.get("stringify");dict.get("error");dict.get("prompt");const is_number=dict.get("is_number"),is_string=dict.get("is_string"),is_function=dict.get("is_function"),is_boolean=dict.get("is_boolean"),is_undefined=dict.get("is_undefined");dict.get("parse_int");dict.get("char_at");const arity=dict.get("arity");dict.get("math_abs");dict.get("math_acos");dict.get("math_acosh");dict.get("math_asin");dict.get("math_asinh");dict.get("math_atan");dict.get("math_atanh");dict.get("math_atan2");dict.get("math_ceil");dict.get("math_cbrt");dict.get("math_expm1");dict.get("math_clz32");dict.get("math_cos");dict.get("math_cosh");dict.get("math_exp");dict.get("math_floor");dict.get("math_fround");dict.get("math_hypot");dict.get("math_imul");dict.get("math_log");dict.get("math_log1p");dict.get("math_log2");dict.get("math_log10");dict.get("math_max");dict.get("math_min");dict.get("math_pow");dict.get("math_random");dict.get("math_round");dict.get("math_sign");dict.get("math_sin");dict.get("math_sinh");dict.get("math_sqrt");dict.get("math_tan");dict.get("math_tanh");dict.get("math_trunc");dict.get("math_E");dict.get("math_LN10");dict.get("math_LN2");dict.get("math_LOG10E");dict.get("math_LOG2E");dict.get("math_PI");dict.get("math_SQRT1_2");dict.get("math_SQRT2");const pair=dict.get("pair"),is_pair=dict.get("is_pair"),head=dict.get("head"),tail=dict.get("tail"),is_null=dict.get("is_null"),list=dict.get("list");dict.get("draw_data");dict.get("display_list");dict.get("is_list");dict.get("set_head");dict.get("set_tail");dict.get("array_length");dict.get("is_array");const stream_tail=dict.get("stream_tail");dict.get("stream");dict.get("parse");dict.get("tokenize");dict.get("apply_in_underlying_javascript");function equal(i,s){return is_pair(i)?is_pair(s)&&equal(head(i),head(s))&&equal(tail(i),tail(s)):is_null(i)?is_null(s):is_number(i)?is_number(s)&&i===s:is_boolean(i)?is_boolean(s)&&(i&&s||!i&&!s):is_string(i)?is_string(s)&&i===s:is_undefined(i)?is_undefined(s):is_function(i)?is_function(s)&&i===s:!1}function $length(i,s){return is_null(i)?s:$length(tail(i),s+1)}function length(i){return $length(i,0)}function $map(i,s,a){return is_null(s)?reverse(a):$map(i,tail(s),pair(i(head(s)),a))}function map(i,s){return $map(i,s,null)}function $build_list(i,s,a){return i<0?a:$build_list(i-1,s,pair(s(i),a))}function build_list(i,s){return $build_list(s-1,i,null)}function for_each(i,s){return is_null(s)?!0:(i(head(s)),for_each(i,tail(s)))}function $list_to_string(i,s){return is_null(i)?s("null"):is_pair(i)?$list_to_string(head(i),a=>$list_to_string(tail(i),o=>s("["+a+","+o+"]"))):s(stringify(i))}function list_to_string(i){return $list_to_string(i,s=>s)}function $reverse(i,s){return is_null(i)?s:$reverse(tail(i),pair(head(i),s))}function reverse(i){return $reverse(i,null)}function $append(i,s,a){return is_null(i)?a(s):$append(tail(i),s,o=>a(pair(head(i),o)))}function append(i,s){return $append(i,s,a=>a)}function member(i,s){return is_null(s)?null:i===head(s)?s:member(i,tail(s))}function $remove(i,s,a){const o=append,rt=reverse;return is_null(s)?o(rt(a),s):i===head(s)?o(rt(a),tail(s)):$remove(i,tail(s),pair(head(s),a))}function remove(i,s){return $remove(i,s,null)}function $remove_all(i,s,a){const o=append,rt=reverse;return is_null(s)?o(rt(a),s):i===head(s)?$remove_all(i,tail(s),a):$remove_all(i,tail(s),pair(head(s),a))}function remove_all(i,s){return $remove_all(i,s,null)}function $filter(i,s,a){return is_null(s)?reverse(a):i(head(s))?$filter(i,tail(s),pair(head(s),a)):$filter(i,tail(s),a)}function filter(i,s){return $filter(i,s,null)}function $enum_list(i,s,a){const o=reverse;return i>s?o(a):$enum_list(i+1,s,pair(i,a))}function enum_list(i,s){return $enum_list(i,s,null)}function list_ref(i,s){return s===0?head(i):list_ref(tail(i),s-1)}function $accumulate(i,s,a,o){return is_null(a)?o(s):$accumulate(i,s,tail(a),rt=>o(i(head(a),rt)))}function accumulate(i,s,a){return $accumulate(i,s,a,o=>o)}function is_stream(i){return is_null(i)||is_pair(i)&&is_function(tail(i))&&arity(tail(i))===0&&is_stream(stream_tail(i))}function list_to_stream(i){return is_null(i)?null:pair(head(i),()=>list_to_stream(tail(i)))}function stream_to_list(i){return is_null(i)?null:pair(head(i),stream_to_list(stream_tail(i)))}function stream_length(i){return is_null(i)?0:1+stream_length(stream_tail(i))}function stream_map(i,s){return is_null(s)?null:pair(i(head(s)),()=>stream_map(i,stream_tail(s)))}function build_stream(i,s){function a(o){return o>=s?null:pair(i(o),()=>a(o+1))}return a(0)}function stream_for_each(i,s){return is_null(s)?!0:(i(head(s)),stream_for_each(i,stream_tail(s)))}function stream_reverse(i){function s(a,o){return is_null(a)?o:s(stream_tail(a),pair(head(a),()=>o))}return s(i,null)}function stream_append(i,s){return is_null(i)?s:pair(head(i),()=>stream_append(stream_tail(i),s))}function stream_member(i,s){return is_null(s)?null:head(s)===i?s:stream_member(i,stream_tail(s))}function stream_remove(i,s){return is_null(s)?null:i===head(s)?stream_tail(s):pair(head(s),()=>stream_remove(i,stream_tail(s)))}function stream_remove_all(i,s){return is_null(s)?null:i===head(s)?stream_remove_all(i,stream_tail(s)):pair(head(s),()=>stream_remove_all(i,stream_tail(s)))}function stream_filter(i,s){return is_null(s)?null:i(head(s))?pair(head(s),()=>stream_filter(i,stream_tail(s))):stream_filter(i,stream_tail(s))}function enum_stream(i,s){return i>s?null:pair(i,()=>enum_stream(i+1,s))}function integers_from(i){return pair(i,()=>integers_from(i+1))}function eval_stream(i,s){function a(o,rt){return rt===1?list(head(o)):pair(head(o),a(stream_tail(o),rt-1))}return s===0?null:a(i,s)}function stream_ref(i,s){return s===0?head(i):stream_ref(stream_tail(i),s-1)}sicp.equal=equal;sicp.$length=$length;sicp.length=length;sicp.$map=$map;var map_1=sicp.map=map;sicp.$build_list=$build_list;sicp.build_list=build_list;sicp.for_each=for_each;sicp.$list_to_string=$list_to_string;sicp.list_to_string=list_to_string;sicp.$reverse=$reverse;sicp.reverse=reverse;sicp.$append=$append;sicp.append=append;sicp.member=member;sicp.$remove=$remove;sicp.remove=remove;sicp.$remove_all=$remove_all;sicp.remove_all=remove_all;sicp.$filter=$filter;sicp.filter=filter;sicp.$enum_list=$enum_list;sicp.enum_list=enum_list;sicp.list_ref=list_ref;sicp.$accumulate=$accumulate;sicp.accumulate=accumulate;sicp.is_stream=is_stream;sicp.list_to_stream=list_to_stream;sicp.stream_to_list=stream_to_list;sicp.stream_length=stream_length;sicp.stream_map=stream_map;sicp.build_stream=build_stream;sicp.stream_for_each=stream_for_each;sicp.stream_reverse=stream_reverse;sicp.stream_append=stream_append;sicp.stream_member=stream_member;sicp.stream_remove=stream_remove;sicp.stream_remove_all=stream_remove_all;sicp.stream_filter=stream_filter;sicp.enum_stream=enum_stream;sicp.integers_from=integers_from;sicp.eval_stream=eval_stream;sicp.stream_ref=stream_ref;sicp.get_time=dict.get("get_time");sicp.display=dict.get("display");sicp.raw_display=dict.get("raw_display");sicp.stringify=dict.get("stringify");var error_1=sicp.error=dict.get("error");sicp.prompt=dict.get("prompt");sicp.is_number=dict.get("is_number");sicp.is_string=dict.get("is_string");sicp.is_function=dict.get("is_function");sicp.is_boolean=dict.get("is_boolean");sicp.is_undefined=dict.get("is_undefined");sicp.parse_int=dict.get("parse_int");sicp.char_at=dict.get("char_at");sicp.arity=dict.get("arity");sicp.math_abs=dict.get("math_abs");sicp.math_acos=dict.get("math_acos");sicp.math_acosh=dict.get("math_acosh");sicp.math_asin=dict.get("math_asin");sicp.math_asinh=dict.get("math_asinh");sicp.math_atan=dict.get("math_atan");sicp.math_atanh=dict.get("math_atanh");sicp.math_atan2=dict.get("math_atan2");sicp.math_ceil=dict.get("math_ceil");sicp.math_cbrt=dict.get("math_cbrt");sicp.math_expm1=dict.get("math_expm1");sicp.math_clz32=dict.get("math_clz32");sicp.math_cos=dict.get("math_cos");sicp.math_cosh=dict.get("math_cosh");sicp.math_exp=dict.get("math_exp");sicp.math_floor=dict.get("math_floor");sicp.math_fround=dict.get("math_fround");sicp.math_hypot=dict.get("math_hypot");sicp.math_imul=dict.get("math_imul");sicp.math_log=dict.get("math_log");sicp.math_log1p=dict.get("math_log1p");sicp.math_log2=dict.get("math_log2");sicp.math_log10=dict.get("math_log10");sicp.math_max=dict.get("math_max");sicp.math_min=dict.get("math_min");sicp.math_pow=dict.get("math_pow");sicp.math_random=dict.get("math_random");sicp.math_round=dict.get("math_round");sicp.math_sign=dict.get("math_sign");sicp.math_sin=dict.get("math_sin");sicp.math_sinh=dict.get("math_sinh");sicp.math_sqrt=dict.get("math_sqrt");sicp.math_tan=dict.get("math_tan");sicp.math_tanh=dict.get("math_tanh");sicp.math_trunc=dict.get("math_trunc");sicp.math_E=dict.get("math_E");sicp.math_LN10=dict.get("math_LN10");sicp.math_LN2=dict.get("math_LN2");sicp.math_LOG10E=dict.get("math_LOG10E");sicp.math_LOG2E=dict.get("math_LOG2E");sicp.math_PI=dict.get("math_PI");sicp.math_SQRT1_2=dict.get("math_SQRT1_2");sicp.math_SQRT2=dict.get("math_SQRT2");sicp.pair=dict.get("pair");sicp.is_pair=dict.get("is_pair");var head_1=sicp.head=dict.get("head"),tail_1=sicp.tail=dict.get("tail"),is_null_1=sicp.is_null=dict.get("is_null");sicp.list=dict.get("list");sicp.draw_data=dict.get("draw_data");sicp.display_list=dict.get("display_list");sicp.is_list=dict.get("is_list");sicp.set_head=dict.get("set_head");sicp.set_tail=dict.get("set_tail");sicp.array_length=dict.get("array_length");sicp.is_array=dict.get("is_array");sicp.stream_tail=dict.get("stream_tail");sicp.stream=dict.get("stream");var parse_1=sicp.parse=dict.get("parse");sicp.tokenize=dict.get("tokenize");sicp.apply_in_underlying_javascript=dict.get("apply_in_underlying_javascript");function list_to_array(i){return is_null_1(i)?[]:[head_1(i)].concat(list_to_array(tail_1(i)))}function parameters(i){return map_1(s=>head_1(s)==="rest_element"?{tag:"rest",sym:head_1(tail_1(head_1(tail_1(s))))}:head_1(tail_1(s)),i)}function objectify(i){switch(head_1(i)){case"literal":return{tag:"lit",val:head_1(tail_1(i))};case"name":return{tag:"nam",sym:head_1(tail_1(i))};case"application":return{tag:"app",fun:objectify(head_1(tail_1(i))),args:list_to_array(map_1(objectify,head_1(tail_1(tail_1(i)))))};case"logical_composition":return{tag:"log",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"binary_operator_combination":return{tag:"binop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"object_access":return{tag:"arr_acc",arr:objectify(head_1(tail_1(i))),ind:objectify(head_1(tail_1(tail_1(i))))};case"object_assignment":return{tag:"arr_assmt",arr:objectify(head_1(tail_1(head_1(tail_1(i))))),ind:objectify(head_1(tail_1(tail_1(head_1(tail_1(i)))))),expr:objectify(head_1(tail_1(tail_1(i))))};case"array_expression":return{tag:"arr_lit",elems:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"unary_operator_combination":return{tag:"unop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i))))};case"lambda_expression":return{tag:"lam",prms:list_to_array(parameters(head_1(tail_1(i)))),body:objectify(head_1(tail_1(tail_1(i))))};case"sequence":return{tag:"seq",stmts:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"block":return{tag:"blk",body:objectify(head_1(tail_1(i)))};case"variable_declaration":return{tag:"let",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"constant_declaration":return{tag:"const",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"assignment":return{tag:"assmt",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"conditional_statement":return{tag:"cond_stmt",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"while_loop":return{tag:"while",pred:objectify(head_1(tail_1(i))),body:objectify(head_1(tail_1(tail_1(i))))};case"for_loop":return{tag:"for",init:objectify(head_1(tail_1(i))),pred:objectify(head_1(tail_1(tail_1(i)))),upd:objectify(head_1(tail_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(tail_1(i))))))};case"break_statement":return{tag:"break"};case"continue_statement":return{tag:"cont"};case"conditional_expression":return{tag:"cond_expr",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"function_declaration":return{tag:"fun",sym:head_1(tail_1(head_1(tail_1(i)))),prms:list_to_array(parameters(head_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"return_statement":return{tag:"ret",expr:objectify(head_1(tail_1(i)))};case"import_declaration":return{tag:"import",syms:map_1(s=>head_1(tail_1(s)),head_1(tail_1(i))),from:head_1(tail_1(tail_1(i)))};case"this_expression":return{tag:"this"};case"spread_element":return{tag:"spread",sym:head_1(tail_1(head_1(tail_1(i))))};case"property":return{tag:"prop",sym:head_1(tail_1(i))};default:throw error_1(i,"unknown syntax:")}}function parse_into_json(i){const s=objectify(parse_1(i));return JSON.stringify(s)}function parseIntoJsonChunks(i){const s=objectify(parse_1(i));return convertToJsonChunks(s)}function convertToJsonChunks(i,s=1500){if(JSON.stringify(i).length<=s)return[JSON.stringify(i)];switch(i.tag){case"app":case"arr_acc":case"arr_assmt":case"arr_lit":case"assmt":case"binop":case"blk":case"break":case"cond_expr":case"cond_stmt":case"const":case"cont":case"for":case"fun":case"import":case"lam":case"let":case"lit":case"log":case"nam":case"prop":case"ret":return[JSON.stringify(i)];case"seq":const a=[];let o=0;for(const at of i.stmts){if(o+=JSON.stringify(at).length,o>s&&a.length>1)break;a.push(at)}const rt=i.stmts.slice(a.length);return a.push({tag:"pause_for_input"}),[JSON.stringify({tag:"seq",stmts:a})].concat(convertToJsonChunks({tag:"seq",stmts:rt}));case"spread":case"this":case"unop":case"while":case"pause_for_input":return[JSON.stringify(i)]}}const readUntilPrompt=async(i,s=0,a=()=>{})=>{const o=i.readable.getReader(),rt=s&&setTimeout(()=>{throw o.releaseLock(),i.close(),new Error("Timed Out.")},s);let et="";for(;;){const{value:at,done:ot}=await o.read(),nt=new TextDecoder().decode(at);et+=nt;const it=et.split(`
`);for(const j of it.slice(0,it.length))a(j);if(et=it[it.length-1],et.substring(0,4)==">>> "||ot)return s&&clearTimeout(rt),a(et),o.releaseLock(),ot}},writeLines=async(i,...s)=>{const a=i.writable.getWriter();for(const o of s){const rt=new TextEncoder().encode(o+`
`),et=100;for(let at=0;at<rt.length;at+=et){const ot=rt.slice(at,at+et);await a.write(ot),await sleep(10)}}a.releaseLock()},processRawOutput=i=>{let s=i.trim();const a=[">>>",">OK",">"];for(const rt of a)s.startsWith(rt)&&(s=s.substring(rt.length).trim());const o="raw REPL; CTRL-B to exit";if(s.startsWith(o)&&(s=s.substring(o.length).trim()),!!s)return s},runProgram=async(i,s)=>{console.log("Sending program chunk..."),await writeLines(i,RAW_MODE_ENTER,s,RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(i,0,a=>{const o=processRawOutput(a);o&&console.log(o)}),console.log("Sending chunk complete...")},sleep=i=>new Promise(s=>setTimeout(s,i)),cleanProgram=i=>i.replaceAll(/(^#|\s#) ?.*$/gm,"").replaceAll(/\n\n\n+/gm,`

`),getInterpreterLib=async()=>(await __vitePreload(async()=>{const{default:i}=await import("./index-Bg2lWxxV.js");return{default:i}},[])).default,getSourceThreePrelude=async()=>(await __vitePreload(async()=>{const{sourceThreePrelude:i}=await import("./index-C9Zpxbc1.js");return{sourceThreePrelude:i}},[])).sourceThreePrelude,{setCurrentLanguage,setEditorValue,resetEditorValues}=WorkspaceActions,EditorPage=()=>{const[i,s]=reactExports.useState(""),a=useTypedDispatch(),o=useTypedSelector(lt=>lt.workspace.currentLanguage),rt=reactExports.useCallback(lt=>a(setCurrentLanguage(lt)),[a]),et=useTypedSelector(lt=>lt.workspace.editorValue[o]),at=reactExports.useCallback(lt=>a(setEditorValue(lt)),[a]),[ot,nt]=reactExports.useState(!1),[it,j]=reactExports.useState(),[_,$]=reactExports.useState();reactExports.useEffect(()=>{it||ot&&getSourceThreePrelude().then(j)},[ot]),reactExports.useEffect(()=>{_||o===Languages.SOURCE_THREE_INTERPRETER&&getInterpreterLib().then($)},[o]);const tt=async()=>{if(o===Languages.SOURCE_THREE_INTERPRETER)try{parse_into_json(et),s("")}catch(ht){s("[ERROR] "+ht);return}const lt=await navigator.serial.requestPort();switch(await lt.open({baudRate:BAUD_RATE_SPIKE_PRIME}),await writeLines(lt,KEYBOARD_INTERRUPT),await readUntilPrompt(lt,2e3),o){case Languages.PYTHON:await runProgram(lt,cleanProgram(et));break;case Languages.SOURCE_THREE_INTERPRETER:if(!_)throw new Error("Interpreter not loaded");if(await runProgram(lt,cleanProgram(_.prefix)),await runProgram(lt,cleanProgram(_.prefix2)),await runProgram(lt,cleanProgram(_.spikeMicrocode)),ot){if(!it)throw new Error("Preludes not loaded");for(const ct of it){console.log("Sending prelude chunk");const mt=parse_into_json(ct);await writeLines(lt,RAW_MODE_ENTER,"json_prelude = '''\\",...mt.match(/.{1,1000}/g).map(gt=>gt+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(lt,0,gt=>{const yt=processRawOutput(gt);yt&&console.log(yt)}),console.log("Sending prelude chunk complete"),await runProgram(lt,cleanProgram(_.evaluatePrelude))}}console.log("Sending JSON program");const ht=parseIntoJsonChunks(et),ft=ht[0];await writeLines(lt,RAW_MODE_ENTER,"json_string = '''\\",...ft.match(/.{1,500}/g).map(ct=>ct+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(lt,0,ct=>{const mt=processRawOutput(ct);mt&&console.log(mt)}),console.log("Sending JSON program complete"),await writeLines(lt,RAW_MODE_ENTER,cleanProgram(_.suffix),RAW_MODE_COMPILE,...ht.slice(1).flatMap(ct=>[ct,RAW_MODE_COMPILE]),RAW_MODE_EXIT),await readUntilPrompt(lt,0,ct=>{const mt=processRawOutput(ct);mt&&console.log(mt)});break}await writeLines(lt,END_OF_TRANSMISSION),lt.close()},st=()=>{try{s(parse_into_json(et))}catch(lt){s("[ERROR] "+lt)}};return reactExports.useEffect(()=>{const lt=queryString.parse(location.hash),ht=lzStringExports.decompressFromEncodedURIComponent(lt.prgrm);ht&&(rt(Languages.SOURCE_THREE_INTERPRETER),at(ht))},[]),reactExports.useEffect(()=>{resetEditorValues(o),s("")},[o,at]),jsxRuntimeExports.jsx(Box,{className:"App",children:jsxRuntimeExports.jsxs(SimpleGrid,{columns:{sm:1,lg:3},spacingX:{sm:0,lg:8},spacingY:8,children:[jsxRuntimeExports.jsx(GridItem,{colSpan:2,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Heading,{children:"SEKER: SourceSPIKE Prime Runner"}),jsxRuntimeExports.jsx(UserGuide,{}),o===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsxs(Text,{fontStyle:"italic",color:"orange.500",children:["Note: Support for ",Languages.SOURCE_THREE_INTERPRETER," Programs is in beta!"]}),i&&jsxRuntimeExports.jsx(JsonDisplay,{jsonProgram:i}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",children:"Select language mode:"}),jsxRuntimeExports.jsx(LanguageSelector,{}),o===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Checkbox,{isChecked:ot,onChange:()=>nt(lt=>!lt),children:"Prelude"}),jsxRuntimeExports.jsx(Spacer,{}),jsxRuntimeExports.jsxs(ButtonGroup,{size:"sm",children:[jsxRuntimeExports.jsx(Button,{onClick:tt,children:"Run on Device"}),o===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Button,{onClick:st,children:"Parse into JSON"})]})]}),jsxRuntimeExports.jsx(Box,{borderRadius:6,overflow:"clip",children:jsxRuntimeExports.jsx(Editor,{name:"editor",onChange:at,value:et,wrapEnabled:!0})})]})}),jsxRuntimeExports.jsx(GridItem,{children:jsxRuntimeExports.jsx(SampleProgramSidebar,{})})]})})},rootReducer=combineReducers({workspace}),store=configureStore({reducer:rootReducer}),App=()=>jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(EditorPage,{})}),config={initialColorMode:"system",useSystemColorMode:!0},theme=extendTheme({config,fonts:{heading:"Inter, Avenir, Helvetica, Arial, sans-serif",body:"Inter, Avenir, Helvetica, Arial, sans-serif"}});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsxs(React$4.StrictMode,{children:[jsxRuntimeExports.jsx(ColorModeScript,{initialColorMode:theme.config.initialColorMode}),jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(App,{})})]}));
